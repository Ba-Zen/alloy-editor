{"version":3,"sources":["webpack://AlloyEditor/webpack/bootstrap","webpack://AlloyEditor/./node_modules/react/index.js","webpack://AlloyEditor/./src/components/buttons/button-icon.jsx","webpack://AlloyEditor/./src/components/base/button-state-classes.js","webpack://AlloyEditor/./src/components/base/button-command.js","webpack://AlloyEditor/./src/oop/lang.js","webpack://AlloyEditor/./src/components/base/button-style.js","webpack://AlloyEditor/./node_modules/react-dom/index.js","webpack://AlloyEditor/./node_modules/prop-types/index.js","webpack://AlloyEditor/./src/components/base/widget-focus-manager.js","webpack://AlloyEditor/./src/components/base/button-command-active.js","webpack://AlloyEditor/./src/components/base/button-props.js","webpack://AlloyEditor/./src/components/buttons/button-dropdown.jsx","webpack://AlloyEditor/./src/components/base/button-keystroke.js","webpack://AlloyEditor/./src/components/buttons/button-commands-list.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles-list.jsx","webpack://AlloyEditor/./src/components/base/button-action-style.js","webpack://AlloyEditor/./src/selections/selection-test.js","webpack://AlloyEditor/./src/oop/oop.js","webpack://AlloyEditor/./src/components/base/widget-exclusive.js","webpack://AlloyEditor/./src/components/buttons/button-link-edit.jsx","webpack://AlloyEditor/./src/components/base/widget-dropdown.js","webpack://AlloyEditor/./src/plugins/index.js","webpack://AlloyEditor/./node_modules/object-assign/index.js","webpack://AlloyEditor/./src/oop/attribute.js","webpack://AlloyEditor/./src/selections/selections.js","webpack://AlloyEditor/./src/selections/selection-arrowbox.js","webpack://AlloyEditor/./src/selections/selection-position.js","webpack://AlloyEditor/./src/components/buttons/button-styles-list-item.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles-list-item-remove.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles-list-header.jsx","webpack://AlloyEditor/./src/components/buttons/button-camera-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-command-list-item.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed-edit.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed-video-edit.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-autocomplete-list.jsx","webpack://AlloyEditor/./src/components/buttons/button-link.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-target-edit.jsx","webpack://AlloyEditor/./src/components/buttons/button-target-list.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-edit-browse.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-edit.jsx","webpack://AlloyEditor/./src/components/base/toolbar-buttons.js","webpack://AlloyEditor/./src/components/base/widget-arrow-box.js","webpack://AlloyEditor/./src/components/base/widget-position.js","webpack://AlloyEditor/./src/adapter/main.js","webpack://AlloyEditor/./src/adapter/core.js","webpack://AlloyEditor/./src/core/index.js","webpack://AlloyEditor/./src/core/debounce.js","webpack://AlloyEditor/./src/core/link.js","webpack://AlloyEditor/./src/core/plugins.js","webpack://AlloyEditor/./src/core/selection-region.js","webpack://AlloyEditor/./src/core/table.js","webpack://AlloyEditor/./src/core/tools.js","webpack://AlloyEditor/./src/core/uicore.js","webpack://AlloyEditor/./src/plugins/addimages.js","webpack://AlloyEditor/./src/plugins/autolink.js","webpack://AlloyEditor/./src/plugins/autolist.js","webpack://AlloyEditor/./src/plugins/dragresize.js","webpack://AlloyEditor/./src/plugins/dragresize_ie.js","webpack://AlloyEditor/./src/plugins/dragresize_ie11.js","webpack://AlloyEditor/./src/plugins/embed.js","webpack://AlloyEditor/./src/plugins/embedurl.js","webpack://AlloyEditor/./src/plugins/Resizer.es.js","webpack://AlloyEditor/./src/plugins/DragEvent.es.js","webpack://AlloyEditor/./src/plugins/imagealignment.js","webpack://AlloyEditor/./src/plugins/pasteimages.js","webpack://AlloyEditor/./src/plugins/placeholder.js","webpack://AlloyEditor/./src/plugins/selectionkeystrokes.js","webpack://AlloyEditor/./src/plugins/tableresize.js","webpack://AlloyEditor/./src/plugins/tabletools.js","webpack://AlloyEditor/./src/components/uibridge/index.js","webpack://AlloyEditor/./src/components/uibridge/button.jsx","webpack://AlloyEditor/./node_modules/react/cjs/react.production.min.js","webpack://AlloyEditor/./src/components/uibridge/menu-button.jsx","webpack://AlloyEditor/./node_modules/react-dom/cjs/react-dom.production.min.js","webpack://AlloyEditor/./node_modules/scheduler/index.js","webpack://AlloyEditor/./node_modules/scheduler/cjs/scheduler.production.min.js","webpack://AlloyEditor/(webpack)/buildin/global.js","webpack://AlloyEditor/./src/components/uibridge/menu.jsx","webpack://AlloyEditor/./src/components/uibridge/panel-menu-button.jsx","webpack://AlloyEditor/./src/components/uibridge/richcombo.jsx","webpack://AlloyEditor/./src/components/uibridge/uibridge.js","webpack://AlloyEditor/./src/oop/base.js","webpack://AlloyEditor/./src/components/main.jsx","webpack://AlloyEditor/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://AlloyEditor/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://AlloyEditor/./src/components/buttons/index.js","webpack://AlloyEditor/./src/components/buttons/button-accessibility-image-alt.jsx","webpack://AlloyEditor/./src/components/buttons/button-background-color.jsx","webpack://AlloyEditor/./src/components/buttons/button-bold.jsx","webpack://AlloyEditor/./src/components/buttons/button-camera.jsx","webpack://AlloyEditor/./src/components/buttons/button-code.jsx","webpack://AlloyEditor/./src/components/buttons/button-color.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed.jsx","webpack://AlloyEditor/./src/components/buttons/button-embed-video.jsx","webpack://AlloyEditor/./src/components/buttons/button-h1.jsx","webpack://AlloyEditor/./src/components/buttons/button-h2.jsx","webpack://AlloyEditor/./src/components/buttons/button-hline.jsx","webpack://AlloyEditor/./src/components/buttons/button-image-align-center.jsx","webpack://AlloyEditor/./src/components/buttons/button-image-align-left.jsx","webpack://AlloyEditor/./src/components/buttons/button-image-align-right.jsx","webpack://AlloyEditor/./src/components/buttons/button-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-indent-block.jsx","webpack://AlloyEditor/./src/components/buttons/button-italic.jsx","webpack://AlloyEditor/./src/components/buttons/button-item-selector-audio.jsx","webpack://AlloyEditor/./src/components/buttons/button-item-selector-image.jsx","webpack://AlloyEditor/./src/components/buttons/button-item-selector-video.jsx","webpack://AlloyEditor/./src/components/buttons/button-link-browse.jsx","webpack://AlloyEditor/./src/components/buttons/button-ol.jsx","webpack://AlloyEditor/./src/components/buttons/button-outdent-block.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-align.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-align-left.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-align-right.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-center.jsx","webpack://AlloyEditor/./src/components/buttons/button-paragraph-justify.jsx","webpack://AlloyEditor/./src/components/buttons/button-quote.jsx","webpack://AlloyEditor/./src/components/buttons/button-remove-format.jsx","webpack://AlloyEditor/./src/components/buttons/button-separator.jsx","webpack://AlloyEditor/./src/components/buttons/button-spacing.jsx","webpack://AlloyEditor/./src/components/buttons/button-strike.jsx","webpack://AlloyEditor/./src/components/buttons/button-styles.jsx","webpack://AlloyEditor/./src/components/buttons/button-subscript.jsx","webpack://AlloyEditor/./src/components/buttons/button-superscript.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-cell.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-column.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-heading.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-remove.jsx","webpack://AlloyEditor/./src/components/buttons/button-table-row.jsx","webpack://AlloyEditor/./src/components/buttons/button-table.jsx","webpack://AlloyEditor/./src/components/buttons/button-twitter.jsx","webpack://AlloyEditor/./src/components/buttons/button-ul.jsx","webpack://AlloyEditor/./src/components/buttons/button-underline.jsx","webpack://AlloyEditor/./src/components/toolbars/index.js","webpack://AlloyEditor/./src/components/toolbars/toolbar-add.jsx","webpack://AlloyEditor/./src/components/toolbars/toolbar-styles.jsx"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ButtonIcon","_react","_ref","editor","symbol","_ref$className","className","undefined","nativeEditor","spritemap","config","path","classNamePrefix","combinedClassName","_react2","default","createElement","width","height","href","_lang","WrappedComponent","_WrappedComponent","_class","_classCallCheck","this","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","arguments","_inherits","_createClass","stateClasses","Lang","isFunction","isActive","isDisabled","_class2","_temp","_this","_ret","_len","length","args","Array","_key","concat","execCommand","data","props","command","modifiesSelection","selectionChange","fire","isArray","toString","isBoolean","isNull","isNumber","isFinite","isObject","valueType","_typeof","isString","mix","receiver","supplier","toInt","parseInt","_get","style","parts","split","currentMember","shift","_style","CKEDITOR","result","elementPath","getStyle","checkActive","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","err","console","error","_reactDom","DIRECTION_NONE","DIRECTION_NEXT","DIRECTION_PREV","ACTION_NONE","ACTION_MOVE_FOCUS","ACTION_DISMISS_FOCUS","focus","event","_isValidTarget","target","_descendants","activeDescendantEl","_activeDescendant","document","activeElement","focusFirstChild","indexOf","stopPropagation","preventDefault","handleKey","action","_getFocusAction","type","_moveFocus","direction","onDismiss","_refresh","keys","_getFocusMoveDirection","dismissAction","_getFocusDismissAction","dismiss","focusMoveDirection","_isValidKey","keyCode","dismissNext","dismissPrev","circular","next","prev","shifKey","element","tagName","toLowerCase","numDescendants","descendant","setAttribute","Math","max","min","domNode","ReactDOM","findDOMNode","descendants","querySelectorAll","priorityDescendants","slice","forEach","item","dataTabIndex","getAttribute","push","sort","a","b","some","index","getCommand","state","TRISTATE_ON","buttonCfg","tools","merge","_widgetFocusManager","ButtonDropdown","onFocus","onKeyDown","tabIndex","role","children","React","Component","defaultProps","_widgetFocusManager2","keystroke","commandName","random","exec","keystrokeFn","fn","addCommand","_defaultKeystrokeCommand","keystrokeHandler","keystrokes","setKeystroke","_buttonCommandListItem","ButtonCommandsList","createRef","current","ref","id","listId","_renderActions","commands","items","map","_buttonCommandListItem2","description","label","icon","_buttonDropdown","_buttonStylesListItem","_buttonStylesListItemRemove","_buttonStylesListHeader","ButtonStylesList","blockStyles","inlineStyles","objectStyles","styles","STYLE_BLOCK","STYLE_INLINE","STYLE_OBJECT","_blockStyles","_inlineStyles","_objectStyles","removeStylesItem","showRemoveStylesItem","_buttonStylesListItemRemove2","toggleDropdown","_buttonDropdown2","_buttonStylesListHeader2","AlloyEditor","Strings","_renderStylesItems","_this2","_buttonStylesListItem2","activeStyle","applyStyle","getSelection","lock","removeStyle","unlock","_isRangeAtElementEnd","range","getText","endOffset","equals","startContainer","endContainer","startOffset","embedSelectionTest","payload","selectionData","embedUrlSelectionTest","headingTextSelectionTest","headings","selectionEmpty","isSelectionEmpty","region","getCommonAncestor","isReadOnly","contains","linkSelectionTest","getRanges","Link","getFromSelection","elementIsNotImage","getName","imageSelectionTest","textSelectionTest","tableSelectionTest","table","Table","isEditable","SelectionTest","embed","embedUrl","header","image","link","text","extend","protoProps","staticProps","Error","supplierProto","receiverProto","constructor","superclass","requestExclusive","itemExclusive","setState","nextProps","filter","obj","itemKey","cancelExclusive","renderExclusive","_buttonProps","_buttonIcon","_buttonLinkAutocompleteList","_buttonLinkTargetEdit","_widgetDropdown","ButtonLinkEdit","_clearLink","linkHref","_focusLinkInput","_handleKeyDown","_updateLink","autocompleteSelected","advanceSelection","_handleLinkHrefChange","_handleLinkTargetChange","itemDropdown","linkTarget","_removeLink","linkUtils","selection","bookmarks","createBookmarks","remove","advance","selectBookmarks","appendProtocol","linkAttrs","modifySelection","update","linkInput","_getInitialState","manualSelection","targetSelector","allowedTargets","handleLinkTargetChange","selectedTarget","linkTargetDefault","mergeDropdownProps","ButtonLinkTargetEdit","autocompleteDropdown","dataFn","autocompleteDropdownProps","handleLinkAutocompleteClick","_handleLinkAutocompleteClick","setAutocompleteState","_setAutocompleteState","term","ButtonLinkAutocompleteList","_buttonLinkAutocompleteList2","buttonClearLink","aria-label","clearInput","onClick","title","clear","_buttonIcon2","placeholderProp","env","ie","placeholder","editLink","removeLink","disabled","showTargetSelector","_buttonLinkTargetEdit2","_extends","onChange","confirm","_isValidState","_props","defaultLinkTarget","initialLink","instance","focusLinkEl","window","requestAnimationFrame","setTimeout","validState","selected","autocompleteUrl","customIndexStart","_buttonProps2","_widgetDropdown2","expanded","dropdownTrigger","toggleDirection","moveFocus","_addimages","_autolink","_autolist","_dragresize","_dragresize_ie","_dragresize_ie3","_embed","_embedurl","_imagealignment","_pasteimages","_placeholder","_selectionkeystrokes","_tableresize","_tabletools","addimages","autolink","autolist","dragresize","dragresizeie","embedurl","imagealignment","pasteimages","selectionkeystrokes","tableresize","tabletools","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","val","TypeError","shouldUseNative","assign","test1","String","getOwnPropertyNames","test2","fromCharCode","order2","join","test3","letter","source","from","symbols","to","Attribute","__config__","__ATTRS__","attr","currentAttr","ATTRS","_isInitialized","_init","curValue","_callStringOrFunction","set","readOnly","writeOnce","validator","setter","stringOrFunction","_toConsumableArray","hasDefaultValue","hasPassedValueViaConfig","valueFn","_selectionArrowbox","_selectionPosition","_selectionTest","Selections","buttons","test","setPosition","SelectionSetPosition","full","simple","getArrowBoxClasses","SelectionGetArrowBoxClasses","tableSelectionGetArrowBoxClasses","DEFAULT_GUTTER","left","top","centerToolbar","toolbar","rect","toolbarNode","uiNode","body","uiNodeStyle","getComputedStyle","uiNodeMarginLeft","getPropertyValue","uiNodeMarginRight","totalWidth","clientWidth","halfNodeWidth","offsetWidth","scrollPosition","dom","getScrollPosition","gutter","widgetXY","getWidgetXYPoint","x","y","SELECTION_BOTTOM_TO_TOP","endPosition","offsetHeight","moveToPoint","imageSelectionSetPosition","editorEvent","getClientRect","tableSelectionSetPosition","scrollTop","_buttonActionStyle","_buttonStyle","ButtonStylesListItem","_onClick","styleCfg","margin","_preview","buildPreview","dangerouslySetInnerHTML","__html","_buttonActionStyle2","_buttonStyle2","ButtonStylesListItemRemove","_removeStyles","removeBlocks","blockItem","blockStyle","normal","ButtonsStylesListHeader","ButtonCameraImage","takePhoto","videoEl","_videoContainerRef","canvasEl","_canvasContainerRef","context","getContext","_videoHeight","videoWidth","drawImage","imgURL","toDataURL","el","createFromHtml","insertElement","_handleStreamError","alert","_handleStreamSuccess","stream","addEventListener","videoHeight","isNaN","_stream","navigator","mozGetUserMedia","mozSrcObject","srcObject","play","_buttonTakePhotoRef","stop","getVideoTracks","track","getUserMedia","webkitGetUserMedia","msGetUserMedia","video","audio","_buttonCommand","ButtonCommandListItem","_getClassName","_buttonCommand2","KEY_ENTER","KEY_ESC","ButtonEmbedEdit","_embedLink","url","_removeEmbed","embedWrapper","getAscendant","hasClass","getInitialState","selectedElement","getSelectedElement","findOne","clearLinkStyle","opacity","deleteEmbed","data-type","_propTypes","ButtonEmbedVideoEdit","_embedVideoURL","videoURL","_focusVideoUrlInput","refs","_handleVideoURLChange","replaceState","initialEmbed","inputPlaceholder","pasteVideoLink","clearVideoURLStyle","propTypes","PropTypes","isRequired","clearTimeout","_timeout","_updateItems","delay","_renderAutocompleteItems","nextState","data-value","_this3","promise","Promise","resolve","then","_buttonKeystroke","_buttonLinkEdit","_buttonStateClasses","ButtonLink","_requestExclusive","cssClass","getStateClasses","mergeButtonCfgProps","_buttonLinkEdit2","CTRL","_buttonKeystroke2","_buttonStateClasses2","_buttonTargetList","allowedLinkTargets","aria-expanded","_buttonTargetList2","ButtonTargetList","listTargets","_renderListTargets","linkTargetSelf","linkTargetBlank","linkTargetParent","linkTargetTop","targets","_getAllowedTargetItems","ButtonLinkEditBrowse","_browseClick","documentBrowseLinkUrl","browseLinkCallback","documentBrowseLinkCallback","linkEditButtonRef","changeLinkCallback","selectedItem","linkTitle","plugins","creole","location","origin","ButtonTableEdit","_createTable","tableUtils","attrs","tableAttributes","cols","rows","_handleChange","inputName","rowsRef","colsRef","time","Date","now","rowsId","colsId","htmlFor","columns","border","cellPadding","cellSpacing","additionalProps","reduce","list","button","getToolbarButtons","buttonProps","toolbarButtons","filterExclusive","Buttons","cfg","mergeExclusiveProps","tabKey","trigger","arrowBoxClasses","getInteractionPoint","SELECTION_TOP_TO_BOTTOM","cancelAnimationFrame","_animationFrameId","viewPaneSize","getViewPaneSize","eventPayload","nativeEvent","pos","pageX","endRect","startRect","_getXPoint","_getYPoint","eventX","right","leftDist","abs","rightDist","elementTarget","$","offsetTop","bottom","SELECTION_LEFT_TO_RIGHT","SELECTION_RIGHT_TO_LEFT","domElement","startPoint","endPoint","setStyles","removeClass","_animate","addClass","isVisible","interactionPoint","finalX","finalY","initialX","initialY","parseFloat","constrainToViewport","res","getConstrainedPosition","xy","callback","_core","_buttons","_toolbars","_selections","_attribute","_oop","BRIDGE_BUTTONS","editable","node","srcNode","implementEventTarget","Core","getBasePath","ALLOYEDITOR_BASEPATH","scripts","getElementsByTagName","match","src","regexBasePath","loadLanguageResources","once","_langResourceRequested","languages","userLanguage","language","lang","locale","scriptLoader","load","getUrl","loaded","resource","basePath","timestamp","charAt","on","implementOn","getButtons","acc","registerBridgeButton","buttonName","pluginName","OOP","Toolbars","_base","_main","EMBED_VIDEO_WIDTH","EMBED_VIDEO_HEIGHT","_oop2","Base","initializer","inline","allowedContent","toolbars","removePlugins","extraPlugins","embedProviders","placeholderClass","pasteFromWordRemoveStyles","pasteFromWordRemoveFontStyles","selectionKeystrokes","edge","plugin","version","replace","_addReadOnlyLinkClickListener","_editor","_renderUI","destructor","_destroyed","_editorUIElement","unmountComponentAtNode","parentNode","removeChild","_clearSelections","destroy","isMSSelection","empty","getWindow","removeAllRanges","_defaultReadOnlyClickFn","mouseEvent","hasCtrlKey","ctrlKey","metaKey","shouldOpen","listenerData","ckElement","getTarget","lastElement","attributes","_redirectLink","_getNativeEditor","open","editorUIElement","appendChild","_mainUI","render","_main2","eventsDelay","_toElement","getElementById","_validateAllowedContent","_validateToolbars","tpl","urlSchemes","enableContentEditable","SHIFT","add","selections","_debounce","_link","_plugins","_selectionRegion","_table","_tools","_uicore","debounce","selectionRegion","uicore","timeout","debounceHandle","callFn","callArgs","callContext","detach","REGEX_BOOKMARK_SCHEME","REGEX_EMAIL_SCHEME","REGEX_URI_SCHEME","moveToElementEditEnd","nextNode","getNextEditableNode","whitespace","offset","setStart","setEnd","selectRanges","URI","collapsed","insertNode","selectNodeContents","_getCompleteURI","data-cke-saved-href","applyToRange","select","is","getChildren","count","getItem","shrink","SHRINK_TEXT","alwaysRemoveElement","selectElement","getStartElement","uri","setAttributes","removeAttrs","setAttrs","removeAttributes","wrapPluginLifecycle","methods","methodName","override","originalPluginMethod","phase","__processingPlugin__","filterUnwantedDependencies","requires","require","pluginsLoad","names","scope","SelectionRegion","createSelectionFromPoint","createSelectionFromRange","startX","startY","endX","endY","end","start","caretPositionFromPoint","offsetNode","createRange","caretRangeFromPoint","createTextRange","endRange","duplicate","setEndPoint","getCaretRegion","bookmarkNodeEl","startNode","display","scrollPos","getSelectionData","getNative","getSelectedText","getSelectionRegion","getClientRectsRegion","getSelectionDirection","ranges","getType","SELECTION_NONE","nativeSelection","defaultRect","clientRects","Infinity","getClientRects","rangeCount","getRangeAt","anchorNode","compareDocumentPosition","position","focusNode","anchorOffset","focusOffset","Node","DOCUMENT_POSITION_PRECEDING","init","IE_NON_DIRECTLY_EDITABLE_ELEMENT","col","colgroup","tbody","td","tfoot","th","thead","tr","HEADING_BOTH","HEADING_COL","HEADING_NONE","HEADING_ROW","_createElement","append","row","j","cell","appendBogus","setHeading","heading","firstCell","cells","moveToPosition","POSITION_AFTER_START","webkit","NODE_ELEMENT","hasAttribute","getParent","getHeading","rowHeadingSettings","tHead","colHeadingSettings","nodeName","headingSettings","parent","getChildCount","POSITION_BEFORE_START","newCell","tableHead","tableBody","getElementsByTag","tableHeading","hadColHeading","needColHeading","needRowHeading","tableFirstRow","tableFirstRowChildCount","getChild","renameNode","createTHead","previousFirstRow","getFirst","newFirstRow","newFirstRowChildCount","removeAttribute","insertBefore","hasColHeading","headingCommands","jsonp","urlTemplate","urlParams","errorCallback","callbackKey","getNextNumber","_","jsonpCallbacks","response","cleanUp","scriptElement","output","getBody","cancel","simulate","eventInstance","createEvent","initEvent","dispatchEvent","ariaState","ariaElement","_createAriaElement","uiTasksTimeout","handleUI","allowEsc","handleAria","_event","innerHTML","handleMouseLeave","aeUINodes","found","relatedTarget","message","focusHandler","attachListener","removeListener","statusElement","isIE","_onDragEnter","_onDragOver","_onDragDrop","_onPaste","_handleFiles","files","file","imageFiles","_processFile","transferFiles","dataTransfer","clientX","clientY","_preventEvent","clipboardData","pastedData","imageFile","getAsFile","reader","FileReader","bin","imageData","readAsDataURL","userAgent","KEY_BACK","KEY_COMMA","KEY_SEMICOLON","KEY_SPACE","DELIMITERS","REGEX_LAST_WORD","REGEX_URL","REGEX_EMAIL","_onKeyUp","method","dataValue","RegExp","_isValidURL","_isValidEmail","_getLastWord","previousText","_currentKeyCode","previousNode","getPrevious","lastChild","getLast","_startContainer","_offset","substring","lastWord","pop","email","_onKeyDown","_ckLink","_replaceContentByLink","content","ckLink","linkNode","_subscribeToKeyEvent","nextEditableNode","getNextNode","caretOffset","getNext","newRange","setEndAfter","DEFAULT_CONFIG","regex","_checkForBackspaceAndUndo","insertHtml","bullet","_getListConfig","configRegex","textContainer","regexLen","autolistCfg","regexItem","_createList","listConfig","setText","IMAGE_HANDLES","both","scale","POSITION_ELEMENT_FN","bl","handle","box","positionElement","bm","round","br","lm","tl","_box","tm","rm","IMAGE_SNAP_TO_SIZE","isFirefox","documentElement","isWebKit","enablePlugin","addCss","onLoad","_evt","Resizer","container","preview","handles","imageScaleResize","handleName","createHandle","classList","isHandle","show","snapToSize","otherImages","toArray","splice","getBoundingBox","showHandles","hide","elements","getElementsByClassName","hideHandles","initDrag","e","resizer","drag","DragEvent","onStart","showPreview","isDragging","onDrag","calculateSize","updatePreview","previewBox","updateHandles","onRelease","hidePreview","onComplete","resizeComplete","backgroundImage","delta","ratio","others","other","resizeElement","startPos","events","mousemove","keydown","mouseup","currentPos","shiftKey","ctrl","alt","altKey","which","release","removeEventListener","mouseDownListener","html","self","resizeTimeout","len","arr","ctx","getBoundingClientRect","pageXOffset","pageYOffset","alignmentsObj","center","cursor","regexPercent","template","hidpi","icons","widgetDef","widgets","image2","checkHasNaturalRatio","natural","getNatural","clientHeight","dimensions","naturalWidth","naturalHeigh","img","Image","heigh","initOn","alignClasses","image2_alignClasses","captionedClass","image2_captionedClass","helpers","hasCaption","caption","ready","wrapper","align","alignElement","setData","image2_disableResizer","setupResizer","getStyleableElement","getWidgetAllowedContent","contentTransformations","features","checkFeature","contenteditable","data-cke-saved-src","oldData","classes","dimension","setDimensions","downcast","downcastWidgetElement","draggable","editables","selector","getWidgetFeatures","getClasses","classRegex","repository","parseElementClasses","getLabel","pathName","requiredContent","styleableElements","upcast","upcastWidgetElement","isCenterWrapper","centerWrapperChecker","figure","replaceWith","isLinkedOrStandaloneImage","attrsHolder","resizeWrapper","parseCssText","wrapWith","htmlParser","class","isEmpty","writeCssText","validChildren","div","child","enterMode","ENTER_P","widget","doc","imageOrLink","oldResizeWrapper","evt","factor","screenX","screenY","startWidth","startHeight","listeners","cursorClass","nativeEvt","newWidth","newHeight","updateData","moveDiffX","moveDiffY","attachToDocuments","collection","globalDoc","onMouseMove","onMouseUp","widgetElement","rules","figcaption","templateBlock","afterInit","block","integrate","alignCommandIntegrator","ae_dragresize_ie11","stateShifter","ae_dragresize_ie11_alignClasses","ae_dragresize_ie11_captionedClass","shiftables","stateActions","oldValue","newValue","changed","newData","deflate","wrapInCentering","unwrapFromCentering","setStyle","captionPlaceholder","replaceSafely","needsDeflate","newEl","wrapInLink","getLinkAttributesGetter","removed","unwrapFromLink","attribsAndStyles","text-align","activeEnterMode","move","linkData","replacing","replaced","insertElementIntoRange","inflate","naturalHeight","getLinkAttributes","getLinkAttributesParser","parseLinkAttributes","removeWidgetAlignment","imageAlignment","deflated","focused","setWrapperAlign","shiftState","advanced","advCSSClasses","trim","ae_dragresize_ie11_disableResizer","TRISTATE_OFF","unlink","querySelector","resizerNE","resizerNW","resizerSE","resizerSW","factorX","factorY","adjustToX","adjustToY","execCallbacks","enabled","refresh","getFocusedWidget","allowed","registered","TRISTATE_DISABLED","REGEX_HTTP","REGEX_DEFAULT_LINK","DEFAULT_AE_EMBED_URL_TPL","DEFAULT_AE_EMBED_WIDGET_TPL","DEFAULT_AE_EMBED_DEFAULT_LINK_TPL","AE_EMBED_URL_TPL","embedUrlTemplate","AE_EMBED_WIDGET_TPL","embedWidgetTpl","AE_EMBED_DEFAULT_LINK_TPL","embedLinkDefaultTpl","defaultEmbedWidgetUpcastFn","mask","encodeURIComponent","createATag","setHtml","_msg","aTagHtml","embedWidgetUpcastFn","addElementCallback","FILTER_SKIP_TREE","_Resizer","DEFAULT_LFR_EMBED_WIDGET_TPL","EMBED_ALIGNMENT","CENTER","LEFT","RIGHT","ALIGN_VALUES","CENTERED_EMBED_STYLE","getEmbedAlignment","embedAlignment","centeredEmbed","every","styleCheck","vendorPrefixes","vendorPrefix","removeEmbedAlignment","setEmbedAlignment","alignment","wrapperElement","parentElement","pwidth","floor","JSON","parse","stringify","iframeElement","selectWidget","root","find","elementList","imageElement","currentAlignment","currentElement","LFR_EMBED_WIDGET_TPL","providers","provider","scheme","generateEmbedContent","helpMessage","videoPlaybackDisabled","helpMessageIcon","Liferay","Util","getLexiconIconTpl","upcastWidget","iframe","embedContent","getOuterHtml","widgetFragment","fragment","fromHtml","showError","errorMsg","validProvider","embedId","_selectEmbedWidget","platformNotSupported","enterValidUrl","stylesJSON","bounds","alignValue","selectedEmbed","sender","_DragEvent","editorBounds","IMAGE_ALIGNMENT","CENTERED_IMAGE_STYLE","getImageAlignment","centeredImage","imageContainer","textAlign","removeImageAlignment","setImageAlignment","refreshCommands","onload","brFiller","needsBrFiller","enterModeEmptyValue","1","2","3","_checkEmptyData","_removePlaceholderClass","editableNode","innerHtml","editorNode","selectionKeystroke","pxUnit","cssLength","isInline","getPageOffset","isResizing","pillars","getCustomData","setCustomData","buildTableColumnPillars","clearPillarsCache","pillar","getPillarAtPosition","ColumnResizer","getWidth","getBorderWidth","side","computed","borderMap","thin","medium","thick","getMasterPillarRow","$rows","maxCells","cellsCount","$elected","$tr","pillarIndex","rtl","tBodies","tbodyPosition","getDocumentPosition","nextTd","colSpan","pillarLeft","pillarRight","pillarWidth","positionX","resizing","currentShift","leftSideCells","rightSideCells","leftShiftBoundary","rightShiftBoundary","onMouseDown","resizeStart","columnIndex","buildTableMap","leftColumnCells","rightColumnCells","leftMinSize","Number","MAX_VALUE","rightMinSize","leftCell","rightCell","setOpacity","resizeEnd","resizeColumn","removeCustomData","_loop","leftOldWidth","rightOldWidth","tableWidth","sizeShift","getDocumentElement","posX","resizerNewPosition","dest","toElement","cellNodeRegex","createDef","def","contextSensitive","addCmd","cmd","addFeature","placeCursorInCell","deleteRows","insertRow","deleteColumns","insertColumn","deleteCells","mergeCells","verticalSplitCell","horizontalSplitCell","insertCell","getSelectedCells","retval","database","moveOutOfCellGuard","setMarker","nearestCell","walker","guard","dtd","clearAllMarkers","getFocusElementAfterDelCells","cellsToDelete","last","focusedCell","getDocument","startRow","startRowIndex","rowIndex","lastCell","endRowIndex","rowSpan","endRow","cloneRow","nextRow","newRow","clone","insertAfter","selectionOrRow","rowsToDelete","mapRow","cellRowIndex","nextMapRow","cursorPosition","getCellColIndex","isStart","rowCells","colIndex","mapCell","getColumnsIndices","startCol","lastCol","cloneCol","nextCol","nextCell","selectionOrCell","startColIndex","endColIndex","firstRowCells","startElement","cellToFocus","trimCell","bogus","getBogus","placeAtEnd","docInner","docOuter","collapse","cellInRow","tableMap","oRow","cellInCol","oCol","mergeDirection","isDetect","commonAncestor","mapHeight","mapWidth","startColumn","targetCell","rowspan","colspan","er","lastRowIndex","totalRowSpan","totalColSpan","frag","documentFragment","cellFirstChild","isBlockBoundary","whitespaces","moveChildren","trs","nodeList","tailTr","newRowSpan","newCellRowSpan","newRowIndex","ceil","newCellTr","newCellRow","candidateCell","cellsInSameRow","newColSpan","newCellColSpan","cellsInSameCol","aRows","aMap","oCell","iColSpan","iRowSpan","rs","cs","_button","_menuButton","_menu","_panelMenuButton","_richcombo","_uibridge","menuButton","menu","panelMenuButton","richcombo","uibridge","BUTTON_DEFS","UI_BUTTON","beforeInit","ui","addButton","buttonDefinition","addHandler","generateButtonBridge","ButtonBridge","_temp2","_handleClick","buttonCommand","buttonOnClick","_React$Component","buttonClassName","buttonDisplayName","buttonLabel","buttonType","iconClassName","iconStyle","cssStyle","skin","getIconStyle","cssStyleParts","backgroundPosition","backgroundSize","displayName","k","for","q","u","v","w","z","A","B","C","iterator","aa","g","h","f","framesToPop","D","E","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","F","G","updater","H","I","isReactComponent","forceUpdate","J","isPureReactComponent","K","currentDispatcher","L","M","__self","__source","N","$$typeof","_owner","ba","O","escape","=",":","P","Q","R","keyPrefix","func","S","T","U","done","V","ca","da","W","X","Children","only","PureComponent","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_context","forwardRef","lazy","_ctor","_status","_result","memo","compare","Fragment","StrictMode","Suspense","cloneElement","createFactory","isValidElement","unstable_ConcurrentMode","unstable_Profiler","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","Y","Z","MENUBUTTON_DEFS","UI_MENU_BUTTON","addMenuButton","menuButtonName","menuButtonDefinition","UI_MENUBUTTON","generateMenuButtonBridge","MenuButtonBridge","panelMenuButtonDisplayName","_getMenuItems","onMenu","menuItems","menuItem","getMenuItem","menuItemDefinition","definition","menuItemState","onError","ea","fa","ha","ia","ja","ka","la","ma","na","oa","pa","extractEvents","eventTypes","qa","phasedRegistrationNames","ra","registrationName","sa","ta","dependencies","ua","va","wa","xa","currentTarget","ya","za","Aa","Ba","_dispatchListeners","_dispatchInstances","isPropagationStopped","isPersistent","Ca","injectEventPluginOrder","injectEventPluginsByName","Da","stateNode","Ea","Fa","Ga","Ha","Ia","tag","Ja","Ka","La","Ma","return","Na","dispatchConfig","Oa","_targetInst","Pa","Qa","Ra","Sa","Ta","Ua","animationend","animationiteration","animationstart","transitionend","Va","Wa","Xa","animation","transition","Ya","Za","$a","ab","bb","cb","eb","fb","gb","textContent","hb","ib","Interface","isDefaultPrevented","defaultPrevented","returnValue","kb","eventPool","lb","jb","getPooled","cancelBubble","persist","eventPhase","bubbles","cancelable","timeStamp","isTrusted","mb","nb","ob","pb","qb","documentMode","rb","sb","tb","ub","beforeInput","bubbled","captured","compositionEnd","compositionStart","compositionUpdate","vb","wb","xb","detail","yb","zb","Ab","char","Bb","Cb","Db","Eb","Hb","Ib","Jb","Kb","Lb","Mb","Nb","Ob","Pb","color","date","datetime","datetime-local","month","number","password","search","tel","week","Qb","Rb","srcElement","correspondingUseElement","nodeType","Sb","Tb","Ub","getOwnPropertyDescriptor","configurable","getValue","setValue","stopTracking","_valueTracker","Vb","Wb","checked","Xb","Yb","Zb","$b","ac","bc","cc","dc","ec","fc","gc","hc","ic","jc","kc","lc","mc","nc","_debugOwner","_debugSource","fileName","lineNumber","oc","pc","qc","rc","sc","tc","acceptsBooleans","uc","attributeName","attributeNamespace","mustUseProperty","propertyName","vc","wc","toUpperCase","xc","setAttributeNS","yc","zc","defaultChecked","defaultValue","_wrapperState","initialChecked","Ac","initialValue","controlled","Bc","Cc","Dc","Ec","ownerDocument","Fc","change","Gc","Jc","Kc","Lc","Mc","Nc","Oc","Pc","detachEvent","Qc","Rc","attachEvent","Sc","Tc","Uc","Vc","_isInputEventSupported","Wc","view","Xc","Alt","Control","Meta","Shift","Yc","getModifierState","Zc","$c","ad","bd","cd","dd","pageY","fromElement","movementX","movementY","ed","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","fd","mouseEnter","mouseLeave","pointerEnter","pointerLeave","gd","defaultView","parentWindow","alternate","hd","jd","kd","effectTag","ld","md","sibling","nd","od","animationName","elapsedTime","pseudoElement","pd","qd","rd","charCode","sd","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","ud","repeat","vd","wd","touches","targetTouches","changedTouches","xd","yd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","zd","Ad","Bd","Cd","isInteractive","Dd","isInteractiveTopLevelEventType","Ed","Fd","Gd","targetInst","ancestors","containerInfo","topLevelType","Hd","Id","Jd","Kd","Ld","Md","Nd","Od","Pd","Qd","firstChild","Rd","nextSibling","Sd","Td","HTMLIFrameElement","contentDocument","Ud","contentEditable","Vd","Wd","Xd","Yd","Zd","$d","ae","selectionStart","selectionEnd","be","onSelect","de","ee","fe","options","defaultSelected","ge","he","je","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","ke","mathml","svg","le","me","ne","oe","MSApp","execUnsafeLocalFunction","namespaceURI","pe","nodeValue","qe","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","order","orphans","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","re","se","te","setProperty","ue","menuitem","area","base","hr","input","keygen","meta","param","wbr","ve","we","xe","blur","ye","ze","Ae","Be","autoFocus","Ce","De","Ee","Fe","wasMultiple","multiple","Ge","He","Set","Ie","Je","Ke","Le","Me","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","childContextTypes","Ne","Oe","Pe","Qe","getChildContext","Re","__reactInternalMemoizedMergedChildContext","Se","Te","Ue","Ve","We","supportsFiber","inject","onCommitFiberRoot","onCommitFiberUnmount","Xe","elementType","pendingProps","firstContextDependency","memoizedState","updateQueue","memoizedProps","lastEffect","firstEffect","nextEffect","childExpirationTime","expirationTime","Ye","Ze","$e","af","bf","cf","df","ef","pendingChildren","implementation","ff","didError","earliestPendingTime","latestPendingTime","gf","hf","latestPingedTime","earliestSuspendedTime","latestSuspendedTime","jf","nextExpirationTimeToWorkOn","kf","lf","baseState","firstUpdate","lastUpdate","firstCapturedUpdate","lastCapturedUpdate","firstCapturedEffect","lastCapturedEffect","mf","nf","of","pf","qf","rf","sf","tf","uf","vf","wf","stack","xf","yf","zf","Af","Bf","Cf","Df","Ef","observedBits","Ff","Gf","Hf","If","Jf","Kf","Lf","Mf","Nf","Of","Pf","Qf","Vf","_reactInternalFiber","Rf","Sf","Tf","Uf","Wf","shouldComponentUpdate","Xf","contextType","readContext","Zf","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","$f","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","ag","bg","_stringRef","cg","dg","Map","delete","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","sg","tg","ug","vg","wg","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","xg","getDerivedStateFromError","yg","pendingContext","zg","timedOutAt","fallback","Ag","hydrate","hidden","unstable_observedBits","Bg","Cg","Gg","Hg","Ig","onclick","Jg","WeakSet","Kg","Lg","Mg","Ng","Og","componentWillUnmount","Pg","Qg","Rg","_reactRootContainer","Sg","Tg","has","Ug","WeakMap","Vg","Wg","Xg","componentDidCatch","Yg","componentStack","Zg","$g","ah","bh","ch","dh","eh","fh","gh","hh","ih","jh","unstable_cancelCallback","kh","createElementNS","createTextNode","lh","mh","pendingCommitExpirationTime","nh","maxDuration","pingCache","oh","finishedWork","ph","qh","rh","sh","uh","vh","wh","xh","yh","zh","Ah","Bh","Ch","Dh","Eh","Fh","unstable_now","Gh","Hh","Ih","Jh","Kh","unstable_scheduleCallback","Lh","timeoutHandle","Mh","Nh","Oh","nextScheduledRoot","Ph","Qh","Rh","unstable_shouldYield","_onComplete","Sh","firstBatch","_expirationTime","_defer","db","focusedElem","selectionRange","Yf","Vh","__reactInternalSnapshotBeforeUpdate","addRange","scrollLeft","Fb","Gb","Hc","ii","Dg","Eg","ji","Ic","Fg","ce","Th","Uh","Wh","Xh","Yh","Zh","$h","ai","_root","_callbacks","_next","_hasChildren","_didComplete","_children","bi","_didCommit","_onCommit","ci","_internalRoot","di","ei","fi","legacy_renderSubtreeIntoContainer","gi","form","commit","unmount","createBatch","ki","createPortal","unstable_renderSubtreeIntoContainer","unstable_createPortal","unstable_batchedUpdates","unstable_interactiveUpdates","flushSync","unstable_createRoot","hi","unstable_flushControlled","Events","findFiberByHostInstance","overrideProps","findHostInstanceByFiber","bundleType","rendererPackageName","li","mi","global","previous","priorityLevel","performance","_schedMock","MessageChannel","port2","port1","onmessage","postMessage","unstable_ImmediatePriority","unstable_UserBlockingPriority","unstable_NormalPriority","unstable_IdlePriority","unstable_LowPriority","unstable_runWithPriority","unstable_wrapCallback","unstable_getCurrentPriorityLevel","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","Function","groups","groupsOrder","menuGroups","addMenuGroup","addMenuItem","group","addMenuItems","definitions","itemName","removeMenuItem","PANEL_MENU_DEFS","generatePanelMenuButtonBridge","panelMenuButtonName","panelMenuButtonDefinition","PanelMenuButtonBridge","panel","_getPanel","panelMenuButtonOnBlock","onBlock","blockElement","getHtml","UI_PANELBUTTON","addPanelMenuButton","RICH_COMBO_DEFS","generateRichComboBridge","richComboName","richComboDefinition","RichComboBridge","currentValue","editorCombo","_items","_setValue","onRender","_cacheValue","richComboLabel","_getItems","richCombo","UI_RICHCOMBO","addRichCombo","originalUIAddFn","typeHandler","handlers","_callChain","wat","ctor","reverse","_widgetExclusive","UI","_onDismissToolbarFocus","_onEditorInteraction","_onActionPerformed","_onEditorKey","_mousedownListener","_setUIHidden","_keyDownListener","prevProps","prevState","_getAvailableToolbarsMessage","ariaUpdate","_ariaUpdateTemplates","_getAriaUpdates","ariaUpdates","noToolbar","ariaUpdateNoToolbar","oneToolbar","ariaUpdateOneToolbar","manyToolbars","ariaUpdateManyToolbars","toolbarsNodeList","toolbarNames","_getAriaUpdateTemplate","domEvent","targetNode","_widgetExclusive2","ReactPropTypesSecret","emptyFunction","shim","propName","componentName","propFullName","secret","getShim","ReactPropTypes","array","bool","string","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","_buttonAccessibilityImageAlt","_buttonBackgroundColor","_buttonBold","_buttonCameraImage","_buttonCamera","_buttonCode","_buttonColor","_buttonCommandsList","_buttonEmbedEdit","_buttonEmbed","_buttonEmbedVideoEdit","_buttonEmbedVideo","_buttonH","_buttonH3","_buttonHline","_buttonImageAlignCenter","_buttonImageAlignLeft","_buttonImageAlignRight","_buttonImage","_buttonIndentBlock","_buttonItalic","_buttonItemSelectorAudio","_buttonItemSelectorImage","_buttonItemSelectorVideo","_buttonLinkBrowse","_buttonLinkEditBrowse","_buttonLink","_buttonOl","_buttonOutdentBlock","_buttonParagraphAlign","_buttonParagraphAlignLeft","_buttonParagraphAlignRight","_buttonParagraphCenter","_buttonParagraphJustify","_buttonQuote","_buttonRemoveFormat","_buttonSeparator","_buttonSpacing","_buttonStrike","_buttonStylesList","_buttonStyles","_buttonSubscript","_buttonSuperscript","_buttonTableCell","_buttonTableColumn","_buttonTableEdit","_buttonTableHeading","_buttonTableRemove","_buttonTableRow","_buttonTable","_buttonTwitter","_buttonUl","_buttonUnderline","ButtonAccessibilityImageAlt","ButtonBackgroundColor","ButtonBold","ButtonCamera","ButtonCode","ButtonColor","ButtonEmbed","ButtonEmbedVideo","ButtonH1","ButtonH2","ButtonHline","ButtonImageAlignCenter","ButtonImageAlignLeft","ButtonImageAlignRight","ButtonImage","ButtonIndentBlock","ButtonItalic","ButtonItemSelectorAudio","ButtonItemSelectorImage","ButtonItemSelectorVideo","ButtonLinkBrowse","ButtonOl","ButtonOutdentBlock","ButtonParagraphAlign","ButtonParagraphAlignLeft","ButtonParagraphAlignRight","ButtonParagraphCenter","ButtonParagraphJustify","ButtonQuote","ButtonRemoveFormat","ButtonSeparator","ButtonSpacing","ButtonStrike","ButtonStylesListHeader","ButtonStyles","ButtonSubscript","ButtonSuperscript","ButtonTableCell","ButtonTableColumn","ButtonTableHeading","ButtonTableRemove","ButtonTableRow","ButtonTable","ButtonTwitter","ButtonUl","ButtonUnderline","prop","_initialiseProps","imageAlt","_handleAltChange","_updateImageAlt","focusAltEl","refAltInput","_focusAltInput","activeColor","activeColorClass","colors","_getColors","itemStyle","styleClass","_checkActive","buttonStylesProps","_buttonStylesList2","styleConfig","styleFn","_applyStyle","primary","success","danger","warning","info","bold","aria-pressed","_buttonCameraImage2","protocol","cameraDisabled","camera","code","_buttonEmbedEdit2","_buttonEmbedVideoEdit2","h1","h2","horizontalrule","_buttonCommandActive","alignCenter","_buttonCommandActive2","alignLeft","alignRight","handleClick","fileInput","click","inputSyle","accept","_onInputChange","inputEl","indent","italic","_buttonLinkEditBrowse2","_buttonLink2","ButtonOrderedList","numberedlist","outdent","buttonCommandsList","buttonCommandsListId","_buttonCommandsList2","_getCommands","inlineIcons","activeCommand","aria-owns","alignJustify","quote","removeformat","activeSpacing","spacings","_getSpacings","active","strike","_getStyles","buttonStylesList","formatted","cite","subscript","superscript","cellInsertBefore","cellInsertAfter","cellDelete","cellMerge","cellMergeDown","cellMergeRight","cellSplitHorizontal","cellSplitVertical","column","columnInsertBefore","columnInsertAfter","columnDelete","activeHeading","activeHeadingIntro","headers","activeHeadingLabel","headersNone","headersRow","headersColumn","headersBoth","_removeTable","deleteTable","rowInsertBefore","rowInsertAfter","rowDelete","_buttonTableEdit2","MAX_TWEET_LENGTH","_getHref","twitter","selectedText","via","twitterHref","ButtonUnorderedlist","bulletedlist","underline","_toolbarAdd","_toolbarStyles","ToolbarAdd","ToolbarStyles","_toolbarButtons","_widgetArrowBox","_widgetPosition","POSITION_LEFT","POSITION_RIGHT","_updatePosition","_prevProps","_prevState","isContentEditable","_getButtons","_getToolbarClassName","data-tabindex","updatePosition","clientRect","offsetLeft","gutterExclusive","cancelAnimation","_widgetArrowBox2","_widgetPosition2","_toolbarButtons2","currentSelection","_getCurrentSelection","getArrowBoxClassesFn","_getSelectionFunction","cssClasses","buttonsGroup","getToolbarButtonGroups","selectionType","hasGroups","selectionFn","selectionFunction","testFn","setPositionFn"],"mappings":"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","file":"alloy-editor-no-ckeditor-min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 43);\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","import React from 'react';\n\nexport default function ButtonIcon({editor, symbol, className = ''}) {\n\tconst nativeEditor = editor.get('nativeEditor');\n\tconst spritemap = nativeEditor.config.spritemap || '';\n\tconst path = `${spritemap}#${symbol}`;\n\tconst classNamePrefix = className ? ` ${className}` : '';\n\tconst combinedClassName = `ae-svg-icon${classNamePrefix}`;\n\n\treturn (\n\t\t<svg className={combinedClassName} width=\"18\" height=\"18\">\n\t\t\t<use href={path} />\n\t\t</svg>\n\t);\n}\n","import Lang from '../../oop/lang';\n\n/**\n * ButtonStateClasses is a mixin that decorates the domElement of a component\n * with different CSS classes based on the current state of the element.\n *\n * To check for state, the component can expose the following methods:\n * - `Function` **isActive** to check the active state\n * - `Function` **isDisabled** to check the disabled state\n *\n * @class ButtonStateClasses\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Returns the list of state classes associated to the current element's state, according\n\t\t * to the results of the isActive and isDisabled methods.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStateClasses\n\t\t * @method getStateClasses\n\t\t * @return {String} A string with the state CSS classes.\n\t\t */\n\t\tgetStateClasses() {\n\t\t\tlet stateClasses = '';\n\n\t\t\t// Check for active state\n\t\t\tif (Lang.isFunction(this.isActive) && this.isActive()) {\n\t\t\t\tstateClasses += 'ae-button-pressed';\n\t\t\t}\n\n\t\t\t// Check for disabled state\n\t\t\tif (Lang.isFunction(this.isDisabled) && this.isDisabled()) {\n\t\t\t\tstateClasses += ' ae-button-disabled';\n\t\t\t}\n\n\t\t\treturn stateClasses;\n\t\t}\n\t};\n","/**\n * ButtonCommand is a mixin that executes a command via CKEDITOR's API.\n *\n * @class ButtonCommand\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Executes a CKEditor command and fires `actionPerformed` event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommand\n\t\t * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.\n\t\t * @method execCommand\n\t\t */\n\t\texecCommand = data => {\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\teditor.execCommand(this.props.command, data);\n\n\t\t\tif (this.props.modifiesSelection) {\n\t\t\t\teditor.selectionChange(true);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t};\n\t};\n","/**\n * Provides core language utilities.\n *\n * @class Lang\n */\nconst Lang = {\n\t/**\n\t * Check if the passed value is an array.\n\t *\n\t * @memberof Lang\n\t * @method isArray\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an array, false otherwise.\n\t * @static\n\t */\n\tisArray: function(value) {\n\t\treturn Object.prototype.toString.call(value) === '[object Array]';\n\t},\n\n\t/**\n\t * Check if the passed value is boolean.\n\t *\n\t * @memberof Lang\n\t * @method isBoolean\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is boolean, false otherwise.\n\t * @static\n\t */\n\tisBoolean: function(value) {\n\t\treturn typeof value === 'boolean';\n\t},\n\n\t/**\n\t * Check if the passed value is a function.\n\t *\n\t * @memberof Lang\n\t * @method isFunction\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a function, false otherwise.\n\t * @static\n\t */\n\tisFunction: function(value) {\n\t\treturn typeof value === 'function';\n\t},\n\n\t/**\n\t * Check if the passed value is NULL.\n\t *\n\t * @memberof Lang\n\t * @method isNull\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is NULL, false otherwise.\n\t * @static\n\t */\n\tisNull: function(value) {\n\t\treturn value === null;\n\t},\n\n\t/**\n\t * Check if the passed value is number.\n\t *\n\t * @memberof Lang\n\t * @method isNumber\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is number, false otherwise.\n\t * @static\n\t */\n\tisNumber: function(value) {\n\t\treturn typeof value === 'number' && isFinite(value);\n\t},\n\n\t/**\n\t * Check if the passed value is an object\n\t *\n\t * @memberof Lang\n\t * @method isObject\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is an object, false otherwise.\n\t * @static\n\t */\n\tisObject: function(value) {\n\t\tlet valueType = typeof value;\n\n\t\treturn value && (valueType === 'object' || Lang.isFunction(value));\n\t},\n\n\t/**\n\t * Check if the passed value is a string.\n\t *\n\t * @memberof Lang\n\t * @method isString\n\t * @param {Any} value The value which have to be checked.\n\t * @return {Boolean} True if the passed value is a string, false otherwise.\n\t * @static\n\t */\n\tisString: function(value) {\n\t\treturn typeof value === 'string';\n\t},\n\n\t/**\n\t * Adds all properties from the supplier to the receiver.\n\t * The function will add all properties, not only these owned by the supplier.\n\t *\n\t * @memberof Lang\n\t * @method mix\n\t * @param {Object} receiver The object which will receive properties.\n\t * @param {Object} supplier The object which provides properties.\n\t * @return {Object} The modified receiver.\n\t * @static\n\t */\n\tmix: function(receiver, supplier) {\n\t\tlet hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\tfor (let key in supplier) {\n\t\t\tif (hasOwnProperty.call(supplier, key)) {\n\t\t\t\treceiver[key] = supplier[key];\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Converts value to Integer.\n\t *\n\t * @memberof Lang\n\t * @method toInt\n\t * @param {Any} value The value which have to be converted to Integer.\n\t * @return {Integer} The converted value.\n\t * @static\n\t */\n\ttoInt: function(value) {\n\t\treturn parseInt(value, 10);\n\t},\n};\n\nexport default Lang;\n","import Lang from '../../oop/lang.js';\n\n/**\n * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonStyle\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tlet style = this.props.style;\n\n\t\t\tif (Lang.isString(style)) {\n\t\t\t\tlet parts = style.split('.');\n\t\t\t\tlet currentMember = this.props.editor.get('nativeEditor')\n\t\t\t\t\t.config;\n\t\t\t\tlet property = parts.shift();\n\n\t\t\t\twhile (\n\t\t\t\t\tproperty &&\n\t\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t\t) {\n\t\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\t\tproperty = parts.shift();\n\t\t\t\t}\n\n\t\t\t\tif (Lang.isObject(currentMember)) {\n\t\t\t\t\tstyle = currentMember;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._style = new CKEDITOR.style(style);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis._style = null;\n\t\t}\n\n\t\t/**\n\t\t * Returns instance of CKEDITOR.style which represents the current button style.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method getStyle\n\t\t * @return {CKEDITOR.style} The current style representation.\n\t\t */\n\t\tgetStyle() {\n\t\t\treturn this._style;\n\t\t}\n\n\t\t/**\n\t\t * Checks if style is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonStyle\n\t\t * @method isActive\n\t\t * @return {Boolean} True if style is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tlet result;\n\n\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\tlet elementPath = editor.elementPath();\n\n\t\t\tresult = this.getStyle().checkActive(elementPath, editor);\n\n\t\t\treturn result;\n\t\t}\n\t};\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","import Lang from '../../oop/lang.js';\nimport ReactDOM from 'react-dom';\n\nlet DIRECTION_NONE = 0;\nlet DIRECTION_NEXT = 1;\nlet DIRECTION_PREV = -1;\n\nlet ACTION_NONE = 0;\nlet ACTION_MOVE_FOCUS = 1;\nlet ACTION_DISMISS_FOCUS = 2;\n\n/**\n * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,\n * it exposes the following props and methods:\n *\n * @class WidgetFocusManager\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidMount\n\t\t */\n\t\tcomponentDidMount() {\n\t\t\tif (Lang.isFunction(super.componentDidMount)) {\n\t\t\t\tsuper.componentDidMount();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t\t * Refreshes the descendants list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method componentDidUpdate\n\t\t */\n\t\tcomponentDidUpdate() {\n\t\t\tif (Lang.isFunction(super.componentDidUpdate)) {\n\t\t\t\tsuper.componentDidUpdate();\n\t\t\t}\n\n\t\t\tthis._refresh();\n\t\t}\n\n\t\t/**\n\t\t * Focuses the current active descendant.\n\t\t *\n\t\t * Several Widgets can be nested in a component hierarchy by attaching this focus method to\n\t\t * the widget DOM node, transferring the DOM focus control to the inner FocusManager.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method focus\n\t\t */\n\t\tfocus = event => {\n\t\t\tif (!event || this._isValidTarget(event.target)) {\n\t\t\t\tif (this._descendants && this._descendants.length) {\n\t\t\t\t\tlet activeDescendantEl = this._descendants[\n\t\t\t\t\t\tthis._activeDescendant\n\t\t\t\t\t];\n\t\t\t\t\t// When user clicks with the mouse, the activeElement is already set and there\n\t\t\t\t\t// is no need to focus it. Focusing of the active descendant (usually some button) is required\n\t\t\t\t\t// in case of keyboard navigation, because the focused element might be not the first button,\n\t\t\t\t\t// but the div element, which contains the button.\n\t\t\t\t\tif (\n\t\t\t\t\t\tdocument.activeElement !== activeDescendantEl &&\n\t\t\t\t\t\t!this.props.focusFirstChild\n\t\t\t\t\t) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis._descendants.indexOf(\n\t\t\t\t\t\t\t\tdocument.activeElement\n\t\t\t\t\t\t\t) === -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tactiveDescendantEl.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (event) {\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Handles the key events on a DOM node to execute the appropriate navigation when needed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @param {Object} event The Keyboard event that was detected on the widget DOM node.\n\t\t * @method handleKey\n\t\t */\n\t\thandleKey = event => {\n\t\t\tif (this._isValidTarget(event.target) && this._descendants) {\n\t\t\t\tlet action = this._getFocusAction(event);\n\n\t\t\t\tif (action.type) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tif (action.type === ACTION_MOVE_FOCUS) {\n\t\t\t\t\t\tthis._moveFocus(action.direction);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (action.type === ACTION_DISMISS_FOCUS) {\n\t\t\t\t\t\tthis.props.onDismiss(action.direction);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t */\n\t\tmoveFocus(direction) {\n\t\t\tdirection = Lang.isNumber(direction) ? direction : 0;\n\n\t\t\tthis._moveFocus(direction);\n\t\t}\n\n\t\t/**\n\t\t * Returns the action, if any, that a keyboard event in the current focus manager state\n\t\t * should produce.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusAction\n\t\t * @param {object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} An action object with type and direction properties.\n\t\t */\n\t\t_getFocusAction(event) {\n\t\t\tlet action = {\n\t\t\t\ttype: ACTION_NONE,\n\t\t\t};\n\n\t\t\tif (this.props.keys) {\n\t\t\t\tlet direction = this._getFocusMoveDirection(event);\n\n\t\t\t\tif (direction) {\n\t\t\t\t\taction.direction = direction;\n\t\t\t\t\taction.type = ACTION_MOVE_FOCUS;\n\t\t\t\t}\n\n\t\t\t\tlet dismissAction = this._getFocusDismissAction(\n\t\t\t\t\tevent,\n\t\t\t\t\tdirection\n\t\t\t\t);\n\n\t\t\t\tif (dismissAction.dismiss) {\n\t\t\t\t\taction.direction = dismissAction.direction;\n\t\t\t\t\taction.type = ACTION_DISMISS_FOCUS;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn action;\n\t\t}\n\n\t\t/**\n\t\t * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This\n\t\t * will happen in any of these scenarios if a dismiss callback has been specified:\n\t\t * - A dismiss key has been pressed\n\t\t * - In a non-circular focus manager, when:\n\t\t *     - The active descendant is the first one and a prev key has been pressed.\n\t\t *     - The active descendant is the last one and a next key has been pressed.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusDismissAction\n\t\t * @param {Number} focusMoveDirection The focus movement direction (if any).\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Object} A dismiss action with dismiss and direction properties.\n\t\t */\n\t\t_getFocusDismissAction(event, focusMoveDirection) {\n\t\t\tlet dismissAction = {\n\t\t\t\tdirection: focusMoveDirection,\n\t\t\t\tdismiss: false,\n\t\t\t};\n\n\t\t\tif (this.props.onDismiss) {\n\t\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissNext)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_NEXT;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis._isValidKey(event.keyCode, this.props.keys.dismissPrev)\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss = true;\n\t\t\t\t\tdismissAction.direction = DIRECTION_PREV;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!dismissAction.dismiss &&\n\t\t\t\t\t!this.props.circular &&\n\t\t\t\t\tfocusMoveDirection\n\t\t\t\t) {\n\t\t\t\t\tdismissAction.dismiss =\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_PREV &&\n\t\t\t\t\t\t\tthis._activeDescendant === 0) ||\n\t\t\t\t\t\t(focusMoveDirection === DIRECTION_NEXT &&\n\t\t\t\t\t\t\tthis._activeDescendant ===\n\t\t\t\t\t\t\t\tthis._descendants.length - 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn dismissAction;\n\t\t}\n\n\t\t/**\n\t\t * Returns the direction, if any, in which the focus should be moved. In presence of the\n\t\t * shift key modifier, the direction of the movement is inverted.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _getFocusMoveDirection\n\t\t * @param {Object} event The Keyboard event.\n\t\t * @protected\n\t\t * @return {Number} The computed direction of the expected focus movement.\n\t\t */\n\t\t_getFocusMoveDirection(event) {\n\t\t\tlet direction = DIRECTION_NONE;\n\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.next)) {\n\t\t\t\tdirection = DIRECTION_NEXT;\n\t\t\t}\n\t\t\tif (this._isValidKey(event.keyCode, this.props.keys.prev)) {\n\t\t\t\tdirection = DIRECTION_PREV;\n\t\t\t}\n\n\t\t\tif (event.shifKey) {\n\t\t\t\tdirection *= -1;\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given keyCode is valid for the given set of keys.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.\n\t\t * @param {Number} keyCode An event keyCode.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the key is valid.\n\t\t */\n\t\t_isValidKey(keyCode, keys) {\n\t\t\treturn Lang.isArray(keys)\n\t\t\t\t? keys.indexOf(keyCode) !== -1\n\t\t\t\t: keyCode === keys;\n\t\t}\n\n\t\t/**\n\t\t * Indicates if a given element is valid for focus management. User input elements such as\n\t\t * input, select or textarea are excluded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _isValidKey\n\t\t * @param {DOMNode} element A DOM element.\n\t\t * @protected\n\t\t * @return {Boolean} A boolean value indicating if the element is valid.\n\t\t */\n\t\t_isValidTarget(element) {\n\t\t\tlet tagName = element.tagName.toLowerCase();\n\n\t\t\treturn (\n\t\t\t\ttagName !== 'input' &&\n\t\t\t\ttagName !== 'select' &&\n\t\t\t\ttagName !== 'textarea'\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Moves the focus among descendants in the especified direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _moveFocus\n\t\t * @param {number} direction The direction (1 or -1) of the focus movement among descendants.\n\t\t * @protected\n\t\t */\n\t\t_moveFocus(direction) {\n\t\t\tlet numDescendants = this._descendants.length;\n\n\t\t\tlet descendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', -1);\n\n\t\t\tthis._activeDescendant += direction;\n\n\t\t\tif (this.props.circular) {\n\t\t\t\t// Calculate proper modulo result since remainder operator doesn't behave in the\n\t\t\t\t// same way for negative numbers\n\t\t\t\tthis._activeDescendant =\n\t\t\t\t\t((this._activeDescendant % numDescendants) +\n\t\t\t\t\t\tnumDescendants) %\n\t\t\t\t\tnumDescendants;\n\t\t\t} else {\n\t\t\t\tthis._activeDescendant = Math.max(\n\t\t\t\t\tMath.min(this._activeDescendant, numDescendants - 1),\n\t\t\t\t\t0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tdescendant = this._descendants[this._activeDescendant];\n\n\t\t\tdescendant.setAttribute('tabIndex', 0);\n\t\t\tdescendant.focus();\n\t\t}\n\n\t\t/**\n\t\t * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetFocusManager\n\t\t * @method _refresh\n\t\t * @protected\n\t\t */\n\t\t_refresh() {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tlet descendants = domNode.querySelectorAll(\n\t\t\t\t\tthis.props.descendants\n\t\t\t\t);\n\n\t\t\t\tlet priorityDescendants = [];\n\n\t\t\t\tthis._descendants = [];\n\n\t\t\t\tArray.prototype.slice.call(descendants).forEach(\n\t\t\t\t\tfunction(item) {\n\t\t\t\t\t\tlet dataTabIndex = item.getAttribute('data-tabindex');\n\n\t\t\t\t\t\tif (dataTabIndex) {\n\t\t\t\t\t\t\tpriorityDescendants.push(item);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis._descendants.push(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this)\n\t\t\t\t);\n\n\t\t\t\tpriorityDescendants = priorityDescendants.sort(function(a, b) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\tLang.toInt(a.getAttribute('data-tabindex')) >\n\t\t\t\t\t\tLang.toInt(b.getAttribute('data-tabindex'))\n\t\t\t\t\t);\n\t\t\t\t});\n\n\t\t\t\tthis._descendants = priorityDescendants.concat(\n\t\t\t\t\tthis._descendants\n\t\t\t\t);\n\n\t\t\t\tthis._activeDescendant = 0;\n\n\t\t\t\tthis._descendants.some(\n\t\t\t\t\tfunction(item, index) {\n\t\t\t\t\t\tif (item.getAttribute('tabindex') === '0') {\n\t\t\t\t\t\t\tthis._activeDescendant = index;\n\t\t\t\t\t\t\tthis.focus();\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t};\n","/**\n * ButtonCommandActive is a mixin that provides an `isActive` method to determine if\n * a context-aware command is currently in an active state.\n *\n * @class ButtonCommandActive\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Checks if the command is active in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCommandActive\n\t\t * @method isActive\n\t\t * @return {Boolean} True if the command is active, false otherwise.\n\t\t */\n\t\tisActive() {\n\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\tlet command = editor.getCommand(this.props.command);\n\n\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t}\n\t};\n","/**\n * ButtonCfgProps is a mixin that provides a style prop and some methods to apply the resulting\n * style and checking if it is present in a given path or selection.\n *\n * @class ButtonCfgProps\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Merges the properties, passed to the current component with user's configuration\n\t\t * via `buttonCfg` property.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonCfgProps\n\t\t * @method mergeButtonCfgProps\n\t\t * @param {Object} props The properties to be merged with the provided configuration for this\n\t\t * button. If not passed, the user configuration will be merged with `this.props`\n\t\t * @return {Object} The merged properties\n\t\t */\n\t\tmergeButtonCfgProps(props) {\n\t\t\tprops = props || this.props;\n\n\t\t\tlet nativeEditor = this.props.editor.get('nativeEditor');\n\t\t\tlet buttonCfg = nativeEditor.config.buttonCfg || {};\n\t\t\tlet result = CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);\n\n\t\t\treturn result;\n\t\t}\n\t};\n","import WidgetFocusManager from '../base/widget-focus-manager.js';\nimport React from 'react';\n\n/**\n * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown\n * opened from a button.\n *\n * @class ButtonDropdown\n */\nclass ButtonDropdown extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the dropdown in the configuration.\n\t *\n\t * @default dropdown\n\t * @memberof ButtonDropdown\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'dropdown';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonDropdown\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-dropdown ae-arrow-box ae-arrow-box-top-left\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul className=\"ae-listbox\" role=\"listbox\">\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default WidgetFocusManager(ButtonDropdown);\n","import Lang from '../../oop/lang.js';\n\n/**\n * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring\n * a function of the instance to be invoked upon the keystroke activation.\n *\n * @class ButtonKeystroke\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillMount\n\t\t */\n\t\tcomponentWillMount() {\n\t\t\tif (Lang.isFunction(super.componentWillMount)) {\n\t\t\t\tsuper.componentWillMount();\n\t\t\t}\n\n\t\t\tlet nativeEditor = this.props.editor.get('nativeEditor');\n\t\t\tlet keystroke = this.props.keystroke;\n\n\t\t\tlet commandName =\n\t\t\t\tkeystroke.name || ((Math.random() * 1e9) >>> 0).toString();\n\n\t\t\tlet command = nativeEditor.getCommand(commandName);\n\n\t\t\tif (!command) {\n\t\t\t\tcommand = new CKEDITOR.command(nativeEditor, {\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet keystrokeFn = keystroke.fn;\n\n\t\t\t\t\t\tif (Lang.isString(keystrokeFn)) {\n\t\t\t\t\t\t\tthis[keystrokeFn].call(this, editor);\n\t\t\t\t\t\t} else if (Lang.isFunction(keystrokeFn)) {\n\t\t\t\t\t\t\tkeystrokeFn.call(this, editor);\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this),\n\t\t\t\t});\n\n\t\t\t\tnativeEditor.addCommand(commandName, command);\n\t\t\t}\n\n\t\t\tthis._defaultKeystrokeCommand =\n\t\t\t\tnativeEditor.keystrokeHandler.keystrokes[keystroke.keys];\n\n\t\t\tnativeEditor.setKeystroke(keystroke.keys, commandName);\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonKeystroke\n\t\t * @method componentWillUnmount\n\t\t */\n\t\tcomponentWillUnmount() {\n\t\t\tif (Lang.isFunction(super.componentWillUnmount)) {\n\t\t\t\tsuper.componentWillUnmount();\n\t\t\t}\n\n\t\t\tthis.props.editor\n\t\t\t\t.get('nativeEditor')\n\t\t\t\t.setKeystroke(\n\t\t\t\t\tthis.props.keystroke.keys,\n\t\t\t\t\tthis._defaultKeystrokeCommand\n\t\t\t\t);\n\t\t}\n\t};\n","import ButtonCommandListItem from './button-command-list-item.jsx';\nimport React from 'react';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\n\n/**\n * The ButtonCommandsList class provides functionality for showing a list of commands that can be\n * executed to the current selection..\n *\n * @class ButtonCommandsList\n * @uses WidgetFocusManager\n */\nclass ButtonCommandsList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandsList\n\t * @memberof ButtonCommandsList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandsList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._ref = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._ref.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-dropdown ae-arrow-box ae-arrow-box-top-left\"\n\t\t\t\tonFocus={this.focus}\n\t\t\t\tonKeyDown={this.handleKey}\n\t\t\t\tref={this._ref}\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"ae-listbox\"\n\t\t\t\t\tid={this.props.listId}\n\t\t\t\t\trole=\"listbox\">\n\t\t\t\t\t{this._renderActions(this.props.commands)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandsList\n\t * @method _renderActions\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonCommandListItem class\n\t */\n\t_renderActions(commands) {\n\t\tconst editor = this.props.editor;\n\t\tlet items;\n\n\t\tif (commands && commands.length) {\n\t\t\titems = commands.map(function(item) {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.command} role=\"option\">\n\t\t\t\t\t\t<ButtonCommandListItem\n\t\t\t\t\t\t\tcommand={item.command}\n\t\t\t\t\t\t\tdescription={\n\t\t\t\t\t\t\t\ttypeof item.label === 'string'\n\t\t\t\t\t\t\t\t\t? item.label\n\t\t\t\t\t\t\t\t\t: item.label()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ticon={item.icon}\n\t\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonCommandsList);\n","import ButtonDropdown from './button-dropdown.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonsStylesListHeader from './button-styles-list-header.jsx';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\n\n/**\n * The ButtonStylesList class provides functionality for showing a list of styles that can be\n * applied to the current selection..\n *\n * @class ButtonStylesList\n * @uses WidgetFocusManager\n */\nclass ButtonStylesList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowRemoveStylesItem: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @memberof ButtonStylesList\n\t * @static\n\t * @property {String} key\n\t * @default buttonStylesList\n\t */\n\tstatic key = 'buttonStylesList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the list node to allow keyboard interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\tconst blockStyles = [];\n\t\tconst inlineStyles = [];\n\t\tconst objectStyles = [];\n\n\t\tthis.props.styles.forEach(function(item) {\n\t\t\tconst style = new CKEDITOR.style(item.style);\n\n\t\t\tif (style.type === CKEDITOR.STYLE_BLOCK) {\n\t\t\t\tblockStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_INLINE) {\n\t\t\t\tinlineStyles.push(item);\n\t\t\t} else if (style.type === CKEDITOR.STYLE_OBJECT) {\n\t\t\t\tobjectStyles.push(item);\n\t\t\t}\n\t\t});\n\n\t\tthis._blockStyles = blockStyles;\n\t\tthis._inlineStyles = inlineStyles;\n\t\tthis._objectStyles = objectStyles;\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet removeStylesItem;\n\n\t\tif (this.props.showRemoveStylesItem) {\n\t\t\tremoveStylesItem = (\n\t\t\t\t<ButtonStylesListItemRemove\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown {...this.props}>\n\t\t\t\t{removeStylesItem}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.blockStyles}\n\t\t\t\t\tstyles={this._blockStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._blockStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.inlineStyles}\n\t\t\t\t\tstyles={this._inlineStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._inlineStyles)}\n\n\t\t\t\t<ButtonsStylesListHeader\n\t\t\t\t\tname={AlloyEditor.Strings.objectStyles}\n\t\t\t\t\tstyles={this._objectStyles}\n\t\t\t\t/>\n\t\t\t\t{this._renderStylesItems(this._objectStyles)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesList\n\t * @method _renderStylesItems\n\t * @param {Array} styles List of styles for which preview should be rendered.\n\t * @protected\n\t * @return {Array} Rendered instances of ButtonStylesListItem class\n\t */\n\t_renderStylesItems(styles) {\n\t\tconst editor = this.props.editor;\n\t\tlet items;\n\n\t\tif (styles && styles.length) {\n\t\t\titems = styles.map(item => {\n\t\t\t\treturn (\n\t\t\t\t\t<li key={item.name} role=\"option\">\n\t\t\t\t\t\t<ButtonStylesListItem\n\t\t\t\t\t\t\tactiveStyle={this.props.activeStyle}\n\t\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\t\tstyle={item.style}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonStylesList);\n","import Lang from '../../oop/lang.js';\n\n/**\n * ButtonActionStyle is a mixin that provides applying style implementation for a\n * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.\n *\n * To execute properly, the component has to expose the following methods which can be obtained\n * out of the box using the {{#crossLink \"ButtonStyle\"}}{{/crossLink}} mixin:\n * - `Function` {{#crossLink \"ButtonStyle/isActive\"}}{{/crossLink}} to check the active state\n * - `Function` {{#crossLink \"ButtonStyle/getStyle\"}}{{/crossLink}} to return the style that should be applied\n *\n * @class ButtonActionStyle\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Removes or applies the component style to the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonActionStyle\n\t\t * @method applyStyle\n\t\t */\n\t\tapplyStyle = () => {\n\t\t\tif (\n\t\t\t\tLang.isFunction(this.isActive) &&\n\t\t\t\tLang.isFunction(this.getStyle)\n\t\t\t) {\n\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\teditor.getSelection().lock();\n\n\t\t\t\tif (this.isActive()) {\n\t\t\t\t\teditor.removeStyle(this.getStyle());\n\t\t\t\t} else {\n\t\t\t\t\teditor.applyStyle(this.getStyle());\n\t\t\t\t}\n\n\t\t\t\teditor.getSelection().unlock();\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t}\n\t\t};\n\t};\n","let _isRangeAtElementEnd = function(range, element) {\n\t// Finding if a range is at the end of an element is somewhat tricky due to how CKEditor handles\n\t// ranges. It might depend on wether a source node inside the element is selected or not. For now,\n\t// we need to cover the following cases:\n\t//\n\t// - The text length of the element is the same as the endOffset of the range\n\t// - Both start and end containers match the element and the start and end offsets are 1\n\n\treturn (\n\t\telement.getText().length === range.endOffset ||\n\t\t(element.equals(range.startContainer) &&\n\t\t\telement.equals(range.endContainer) &&\n\t\t\trange.startOffset === range.endOffset &&\n\t\t\trange.endOffset === 1)\n\t);\n};\n\nlet embedSelectionTest = function(payload) {\n\tlet selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'ae_embed'\n\t);\n};\n\nconst embedUrlSelectionTest = function(payload) {\n\tconst selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getAttribute('data-widget') === 'embedurl'\n\t);\n};\n\nconst headingTextSelectionTest = function(payload) {\n\tconst headings = ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\tconst nativeEditor = payload.editor.get('nativeEditor');\n\tconst selectionData = payload.data.selectionData;\n\tconst selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly() &&\n\t\tnativeEditor.elementPath().contains(headings)\n\t);\n};\n\nlet linkSelectionTest = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\tlet range = nativeEditor.getSelection().getRanges()[0];\n\tlet selectionData = payload.data.selectionData;\n\n\tlet element = new CKEDITOR.Link(nativeEditor).getFromSelection();\n\tlet isSelectionEmpty = nativeEditor.isSelectionEmpty();\n\tlet elementIsNotImage = selectionData.element\n\t\t? selectionData.element.getName() !== 'img'\n\t\t: true;\n\n\treturn !!(\n\t\tisSelectionEmpty &&\n\t\telementIsNotImage &&\n\t\telement &&\n\t\telement.getText().length !== range.endOffset &&\n\t\telement &&\n\t\t!element.isReadOnly() &&\n\t\t!_isRangeAtElementEnd(range, element)\n\t);\n};\n\nlet imageSelectionTest = function(payload) {\n\tlet selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\tselectionData.element &&\n\t\tselectionData.element.getName() === 'img' &&\n\t\t!selectionData.element.isReadOnly()\n\t);\n};\n\nlet textSelectionTest = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\n\tlet selectionEmpty = nativeEditor.isSelectionEmpty();\n\n\tlet selectionData = payload.data.selectionData;\n\n\treturn !!(\n\t\t!selectionData.element &&\n\t\tselectionData.region &&\n\t\t!selectionEmpty &&\n\t\t!nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getCommonAncestor()\n\t\t\t.isReadOnly()\n\t);\n};\n\nlet tableSelectionTest = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\n\tlet table = new CKEDITOR.Table(nativeEditor);\n\tlet element = table.getFromSelection();\n\n\treturn !!(element && table.isEditable(element));\n};\n\nconst SelectionTest = {\n\tembed: embedSelectionTest,\n\tembedUrl: embedUrlSelectionTest,\n\theader: headingTextSelectionTest,\n\timage: imageSelectionTest,\n\tlink: linkSelectionTest,\n\ttable: tableSelectionTest,\n\ttext: textSelectionTest,\n};\n\nexport default SelectionTest;\n","import Lang from './lang';\n\n/**\n * Sets the prototype, constructor and superclass properties to support an inheritance strategy\n * that can chain constructors and methods. Static members will not be inherited.\n *\n * @memberof OOP\n * @method extend\n * @param {Function} receiver The class which will extend another class.\n * @param {Function} supplier The class which will provide the properties the child class.\n * @param {Object} protoProps Prototype properties to add/override.\n * @param {Object} staticProps Static properties to add/overwrite.\n * @return {Function} The extended class.\n * @static\n */\nconst extend = function(receiver, supplier, protoProps, staticProps) {\n\tif (!supplier || !receiver) {\n\t\tthrow new Error('extend failed, verify dependencies');\n\t}\n\n\tlet supplierProto = supplier.prototype;\n\n\tlet receiverProto = Object.create(supplierProto);\n\treceiver.prototype = receiverProto;\n\n\treceiverProto.constructor = receiver;\n\treceiver.superclass = supplierProto;\n\n\t// assign constructor property\n\tif (\n\t\tsupplier !== Object &&\n\t\tsupplierProto.constructor === Object.prototype.constructor\n\t) {\n\t\tsupplierProto.constructor = supplier;\n\t}\n\n\t// add prototype overrides\n\tif (protoProps) {\n\t\tLang.mix(receiverProto, protoProps);\n\t}\n\n\t// add object overrides\n\tif (staticProps) {\n\t\tLang.mix(receiver, staticProps);\n\t}\n\n\treturn receiver;\n};\n\nexport default extend;\n","import Lang from '../../oop/lang.js';\n\n/**\n * Provides functionality for managing exclusive state of an widget.\n * The exclusive state means that a button may request to be the only rendered\n * widget in its parent container. WidgetExclusive will manage this state by\n * filtering and suppressing the other sibling widgets from displaying.\n *\n * @class WidgetExclusive\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Cancels the exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method cancelExclusive\n\t\t * @param {Object} itemExclusive The widget which exclusive state should be canceled.\n\t\t */\n\t\tcancelExclusive(itemExclusive) {\n\t\t\tif (this.state.itemExclusive === itemExclusive) {\n\t\t\t\tthis.setState({\n\t\t\t\t\titemExclusive: null,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t * Calling this.setState() within this function will not trigger an additional render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method componentWillReceiveProps\n\t\t * @param {Object} nextProps Object containing the current set of properties.\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\t// Receiving properties means that the component is being re-rendered.\n\t\t\t// Re-rendering is triggered by editorInteraction, so we have to\n\t\t\t// reset the exclusive state and render the UI according to the new selection.\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Filters the items and returns only those with exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method filterExclusive\n\t\t * @param {Array} items The widgets to be filtered.\n\t\t * @return {Array|Object} The item with executive state.\n\t\t */\n\t\tfilterExclusive(items) {\n\t\t\treturn items.filter(\n\t\t\t\tfunction(item) {\n\t\t\t\t\tif (this.state.itemExclusive) {\n\t\t\t\t\t\tif (this.state.itemExclusive === item.key) {\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t}\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with three more properties:\n\t\t * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.\n\t\t * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method mergeExclusiveProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to exclusive state.\n\t\t * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeExclusiveProps(obj, itemKey) {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\tcancelExclusive: this.cancelExclusive.bind(this, itemKey),\n\t\t\t\trenderExclusive: this.state.itemExclusive === itemKey,\n\t\t\t\trequestExclusive: this.requestExclusive.bind(this, itemKey),\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Requests and sets exclusive state of an widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetExclusive\n\t\t * @method requestExclusive\n\t\t * @param {Object} itemExclusive The widget which requests exclusive state.\n\t\t */\n\t\trequestExclusive = itemExclusive => {\n\t\t\tthis.setState({\n\t\t\t\titemExclusive: itemExclusive,\n\t\t\t});\n\t\t};\n\t};\n","import ButtonCfgProps from '../base/button-props.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\nimport Lang from '../../oop/lang.js';\nimport React from 'react';\nimport WidgetDropdown from '../base/widget-dropdown.js';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\n\n/**\n * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEdit\n * @uses ButtonCfgProps\n * @uses WidgetDropdown\n * @uses WidgetFocusManager\n */\nclass ButtonLinkEdit extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tappendProtocol: true,\n\t\tautocompleteUrl: '',\n\t\tcircular: true,\n\t\tcustomIndexStart: true,\n\t\tdefaultLinkTarget: '',\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t\tshowTargetSelector: true,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkEdit\n\t * @memberof ButtonLinkEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this._getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tthis._focusLinkInput();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this._getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet targetSelector = {\n\t\t\tallowedTargets: this.props.allowedTargets,\n\t\t\teditor: this.props.editor,\n\t\t\thandleLinkTargetChange: this._handleLinkTargetChange,\n\t\t\tselectedTarget:\n\t\t\t\tthis.state.linkTarget || AlloyEditor.Strings.linkTargetDefault,\n\t\t};\n\n\t\ttargetSelector = this.mergeDropdownProps(\n\t\t\ttargetSelector,\n\t\t\tButtonLinkTargetEdit.key\n\t\t);\n\n\t\tlet autocompleteDropdown;\n\n\t\tif (this.props.data) {\n\t\t\tlet dataFn = this.props.data;\n\n\t\t\tif (!Lang.isFunction(dataFn)) {\n\t\t\t\tconst items = this.props.data;\n\n\t\t\t\tdataFn = () => items;\n\t\t\t}\n\n\t\t\tlet autocompleteDropdownProps = {\n\t\t\t\tautocompleteSelected: this.state.autocompleteSelected,\n\t\t\t\tdata: dataFn,\n\t\t\t\teditor: this.props.editor,\n\t\t\t\thandleLinkAutocompleteClick: this._handleLinkAutocompleteClick,\n\t\t\t\tonDismiss: this.props.toggleDropdown,\n\t\t\t\tsetAutocompleteState: this._setAutocompleteState,\n\t\t\t\tterm: this.state.linkHref,\n\t\t\t};\n\n\t\t\tautocompleteDropdownProps = this.mergeDropdownProps(\n\t\t\t\tautocompleteDropdownProps,\n\t\t\t\tButtonLinkAutocompleteList.key\n\t\t\t);\n\n\t\t\tautocompleteDropdown = (\n\t\t\t\t<ButtonLinkAutocompleteList {...autocompleteDropdownProps} />\n\t\t\t);\n\t\t}\n\n\t\tlet buttonClearLink;\n\n\t\tif (this.state.linkHref) {\n\t\t\tbuttonClearLink = (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\tsymbol=\"times-circle\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\n\t\tconst placeholderProp = {};\n\n\t\tif (!CKEDITOR.env.ie && AlloyEditor.Strings) {\n\t\t\tplaceholderProp.placeholder = AlloyEditor.Strings.editLink;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.removeLink}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.remove}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\tsymbol=\"chain-broken\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t{this.props.showTargetSelector && (\n\t\t\t\t\t\t<ButtonLinkTargetEdit {...targetSelector} />\n\t\t\t\t\t)}\n\t\t\t\t\t<div className=\"ae-container-input\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\t{...placeholderProp}\n\t\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{autocompleteDropdown}\n\t\t\t\t\t</div>\n\t\t\t\t\t{buttonClearLink}\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._updateLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\tsymbol=\"check\"\n\t\t\t\t\t\tclassName=\"ae-icon-svg-check\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _getInitialState\n\t * @protected\n\t * @return {Object}\n\t */\n\t_getInitialState() {\n\t\tconst {editor, defaultLinkTarget} = this.props;\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\teditor.get('nativeEditor')\n\t\t).getFromSelection();\n\t\tconst href = link ? link.getAttribute('href') : '';\n\t\tconst target = link ? link.getAttribute('target') : defaultLinkTarget;\n\n\t\treturn {\n\t\t\tautocompleteSelected: false,\n\t\t\telement: link,\n\t\t\tinitialLink: {\n\t\t\t\thref: href,\n\t\t\t\ttarget: target,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t\tlinkTarget: target,\n\t\t};\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput() {\n\t\tconst instance = this;\n\n\t\tconst focusLinkEl = function() {\n\t\t\tinstance.linkInput.current.focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusLinkEl);\n\t\t} else {\n\t\t\tsetTimeout(focusLinkEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13 || event.keyCode === 27) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === 13) {\n\t\t\tthis._updateLink();\n\t\t} else if (event.keyCode === 40) {\n\t\t\tthis.setState({\n\t\t\t\tautocompleteSelected: true,\n\t\t\t});\n\t\t} else if (event.keyCode === 27) {\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\tnew CKEDITOR.Link(editor).advanceSelection();\n\n\t\t\tthis.props.editor.get('nativeEditor').fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when the link target changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkTargetChange\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkTargetChange = event => {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkTarget: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t};\n\n\t/**\n\t * Updates the component state when an autocomplete link result is selected by user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _handleLinkAutocompleteClick\n\t * @param {SyntheticEvent} event The click event.\n\t * @protected\n\t */\n\t_handleLinkAutocompleteClick(event) {\n\t\tthis.setState({\n\t\t\titemDropdown: null,\n\t\t\tlinkHref: event.target.getAttribute('data-value'),\n\t\t});\n\n\t\tthis._focusLinkInput();\n\t}\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href and that either that or the link target are different\n\t * from the original link.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} [description]\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\t(this.state.linkHref !== this.state.initialLink.href ||\n\t\t\t\tthis.state.linkTarget !== this.state.initialLink.target);\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the link in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _removeLink\n\t * @protected\n\t */\n\t_removeLink = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\t\tconst selection = editor.getSelection();\n\t\tconst bookmarks = selection.createBookmarks();\n\n\t\tlinkUtils.remove(this.state.element, {advance: true});\n\n\t\tselection.selectBookmarks(bookmarks);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Update autocompleteSelected state to focus and select autocomplete´s dropdown\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _setAutocompleteState\n\t * @protected\n\t */\n\t_setAutocompleteState(state) {\n\t\tthis.setState({\n\t\t\tautocompleteSelected: state.selected,\n\t\t});\n\t}\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkEdit\n\t * @method _updateLink\n\t * @protected\n\t */\n\t_updateLink = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {\n\t\t\tappendProtocol: this.props.appendProtocol,\n\t\t});\n\t\tconst linkAttrs = {\n\t\t\ttarget: this.state.linkTarget,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (this.state.linkHref) {\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = this.state.linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlinkUtils.create(\n\t\t\t\t\tthis.state.linkHref,\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default ButtonCfgProps(\n\tWidgetDropdown(WidgetFocusManager(ButtonLinkEdit))\n);\n","import Lang from '../../oop/lang.js';\nimport ReactDOM from 'react-dom';\n\n/**\n * Provides functionality for managing different dropdowns inside a widget.\n *\n * @class WidgetDropdown\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\n\t\t\tthis.state = {\n\t\t\t\t...this.state,\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Lifecycle. Invoked when a component is receiving new props.\n\t\t * This method is not called for the initial render.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method componentWillReceiveProps\n\t\t */\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tif (Lang.isFunction(super.componentWillReceiveProps)) {\n\t\t\t\tsuper.componentWillReceiveProps(nextProps);\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tdropdownTrigger: null,\n\t\t\t\titemDropdown: null,\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Merges the provided object with two more properties:\n\t\t * - expanded - boolean flag which indicates if an widget should be rendered exclusively.\n\t\t * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method mergeDropdownProps\n\t\t * @param {Object} obj The properties container which should be merged with the properties, related\n\t\t *    to dropdown state.\n\t\t * @param {Object} itemKey They key of an React Widget which contains the dropdown.\n\t\t * @return {Object} The merged object.\n\t\t */\n\t\tmergeDropdownProps = (obj, itemKey) => {\n\t\t\treturn CKEDITOR.tools.merge(obj, {\n\t\t\t\texpanded: this.state.itemDropdown === itemKey ? true : false,\n\t\t\t\ttabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,\n\t\t\t\ttoggleDropdown: this.toggleDropdown.bind(this, itemKey),\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Sets the active dropdown of the widget or discards the toggled item from the state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetDropdown\n\t\t * @method toggleDropdown\n\t\t * @param {Object} itemDropdown The widget which requests to toggle its dropdown.\n\t\t * @param {Number} toggleDirection User movement direction when toggled via keyboard.\n\t\t */\n\t\ttoggleDropdown = (itemDropdown, toggleDirection) => {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tdropdownTrigger: itemDropdown,\n\t\t\t\t\titemDropdown:\n\t\t\t\t\t\titemDropdown !== this.state.itemDropdown\n\t\t\t\t\t\t\t? itemDropdown\n\t\t\t\t\t\t\t: null,\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tif (!this.state.itemDropdown) {\n\t\t\t\t\t\tif (this.moveFocus) {\n\t\t\t\t\t\t\tthis.moveFocus(toggleDirection);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tReactDOM.findDOMNode(this).focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t};\n\t};\n","import addimages from './addimages';\nimport autolink from './autolink';\nimport autolist from './autolist';\nimport dragresize from './dragresize';\nimport dragresizeie from './dragresize_ie';\nimport dragresizeie11 from './dragresize_ie11';\nimport embed from './embed';\nimport embedurl from './embedurl';\nimport imagealignment from './imagealignment';\nimport pasteimages from './pasteimages';\nimport placeholder from './placeholder';\nimport selectionkeystrokes from './selectionkeystrokes';\nimport tableresize from './tableresize';\nimport tabletools from './tabletools';\n\nexport {\n\taddimages,\n\tautolink,\n\tautolist,\n\tdragresize,\n\tdragresizeie,\n\tembed,\n\tembedurl,\n\timagealignment,\n\tpasteimages,\n\tplaceholder,\n\tselectionkeystrokes,\n\ttableresize,\n\ttabletools,\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","import Lang from './lang.js';\n\n/**\n * Attribute implementation.\n *\n * @class Attribute\n * @constructor\n */\nfunction Attribute(config) {\n\tthis.__config__ = config || {};\n\tthis.__ATTRS__ = {};\n}\n\nAttribute.prototype = {\n\tconstructor: Attribute,\n\n\t/**\n\t * Retrieves the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method get\n\t * @param {String} attr The attribute which value should be retrieved.\n\t * @return {Any} The value of the attribute.\n\t */\n\tget: function(attr) {\n\t\tlet currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tlet curValue = this.__ATTRS__[attr];\n\n\t\tif (currentAttr.getter) {\n\t\t\tcurValue = this._callStringOrFunction(currentAttr.getter, curValue);\n\t\t}\n\n\t\treturn curValue;\n\t},\n\n\t/**\n\t * Sets the value of an attribute.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method set\n\t * @param {String} attr The attribute which value should be set.\n\t * @param {Any} value The value which should be set to the attribute.\n\t */\n\tset: function(attr, value) {\n\t\tlet currentAttr = this.constructor.ATTRS[attr];\n\n\t\tif (!currentAttr) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this._isInitialized(attr)) {\n\t\t\tthis._init(attr);\n\t\t}\n\n\t\tif (currentAttr.readOnly) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.writeOnce && this._isInitialized(attr)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (currentAttr.setter) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Calls the provided param as function with the supplied arguments.\n\t * If param provided as string, a corresponding function in this object will\n\t * be called. If provided param is a function, it will be directly called.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _callStringOrFunction\n\t * @param  {Any|Array} args The arguments which will be provided to the called function\n\t * @param  {String|Function} stringOrFunction The function which should be called\n\t * @protected\n\t * @return {Any} The returned value from the called function\n\t */\n\t_callStringOrFunction: function(stringOrFunction, args) {\n\t\tlet result = null;\n\n\t\tif (!Lang.isArray(args)) {\n\t\t\targs = [args];\n\t\t}\n\n\t\tif (\n\t\t\tLang.isString(stringOrFunction) &&\n\t\t\tLang.isFunction(this[stringOrFunction])\n\t\t) {\n\t\t\tresult = this[stringOrFunction](...args);\n\t\t} else if (Lang.isFunction(stringOrFunction)) {\n\t\t\tresult = stringOrFunction.apply(this, args);\n\t\t}\n\n\t\treturn result;\n\t},\n\n\t/**\n\t * Initializes an attribute. Sets its default value depending on the flags of the\n\t * attribute and the passed configuration object to the constructor.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _init\n\t * @param {String} attr The name of the attribute which have to be initialized.\n\t * @protected\n\t */\n\t_init: function(attr) {\n\t\tlet value;\n\n\t\tlet currentAttr = this.constructor.ATTRS[attr];\n\n\t\t// Check if there is default value or passed one via configuration object\n\t\tlet hasDefaultValue = Object.prototype.hasOwnProperty.call(\n\t\t\tcurrentAttr,\n\t\t\t'value'\n\t\t);\n\t\tlet hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(\n\t\t\tthis.__config__,\n\t\t\tattr\n\t\t);\n\n\t\t// If there is valueFn, set the value to be the result of invocation of this function\n\t\tif (currentAttr.valueFn) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.valueFn, value);\n\n\t\t\tthis.__ATTRS__[attr] = value;\n\t\t}\n\t\t// else if the attribute has readOnly flag, set the default value from the attribute,\n\t\t// regardless if there is value or not\n\t\telse if (currentAttr.readOnly) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\t\t// else if the attribute has writeOnce value, set it from the passed configuration or from the\n\t\t// default value, in this order. Otherwise, return miserable.\n\t\telse if (currentAttr.writeOnce) {\n\t\t\tif (hasPassedValueViaConfig) {\n\t\t\t\tvalue = this.__config__[attr];\n\t\t\t} else if (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t// These two cases below are easy - set the value to be from the passed config or\n\t\t// from the default value, in this order.\n\t\telse if (hasPassedValueViaConfig) {\n\t\t\tvalue = this.__config__[attr];\n\t\t} else if (hasDefaultValue) {\n\t\t\tvalue = currentAttr.value;\n\t\t}\n\n\t\t// If there is validator, and user passed config object - check the returned value.\n\t\t// If it is false, then set as initial value the default one.\n\t\t// However, if there is no default value, just return.\n\t\tif (\n\t\t\tcurrentAttr.validator &&\n\t\t\thasPassedValueViaConfig &&\n\t\t\t!this._callStringOrFunction(currentAttr.validator, value)\n\t\t) {\n\t\t\tif (hasDefaultValue) {\n\t\t\t\tvalue = currentAttr.value;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// If there is setter and user passed config object - pass the value thought the setter.\n\t\t// The value might be one from defaultFn, default value or provided from the config.\n\t\tif (currentAttr.setter && hasPassedValueViaConfig) {\n\t\t\tvalue = this._callStringOrFunction(currentAttr.setter, value);\n\t\t}\n\n\t\t// Finally, set the value as initial value to the storage with values.\n\t\tthis.__ATTRS__[attr] = value;\n\t},\n\n\t/**\n\t * Checks if an attribute is initialized. An attribute is considered as initialized\n\t * when there is an own property with this name in the local collection of attribute values\n\t * for the current instance.\n\t *\n\t * @instance\n\t * @memberof Attribute\n\t * @method _isInitialized\n\t * @param {String} attr The attribute which should be checked if it is initialized.\n\t * @protected\n\t * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.\n\t */\n\t_isInitialized: function(attr) {\n\t\treturn Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);\n\t},\n};\n\nexport default Attribute;\n","import SelectionGetArrowBoxClasses from './selection-arrowbox.js';\nimport SelectionSetPosition from './selection-position.js';\nimport SelectionTest from './selection-test.js';\n\nconst Selections = [\n\t{\n\t\tname: 'embed',\n\t\tbuttons: ['embedRemove', 'embedEdit'],\n\t\ttest: SelectionTest.embed,\n\t},\n\t{\n\t\tname: 'embedUrl',\n\t\tbuttons: ['embedVideo', 'embedVideoEdit'],\n\t\ttest: SelectionTest.embedUrl,\n\t},\n\t{\n\t\tname: 'link',\n\t\tbuttons: ['linkEdit'],\n\t\ttest: SelectionTest.link,\n\t},\n\t{\n\t\tname: 'image',\n\t\tbuttons: [\n\t\t\t'imageLeft',\n\t\t\t'imageCenter',\n\t\t\t'imageRight',\n\t\t\t'AccessibilityImageAlt',\n\t\t],\n\t\tsetPosition: SelectionSetPosition.image,\n\t\ttest: SelectionTest.image,\n\t},\n\t{\n\t\tname: 'text',\n\t\tbuttons: {\n\t\t\tfull: [\n\t\t\t\t[\n\t\t\t\t\t'Font',\n\t\t\t\t\t'FontSize',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'bold',\n\t\t\t\t\t'italic',\n\t\t\t\t\t'underline',\n\t\t\t\t\t'strike',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'link',\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t'paragraphAlign',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'ul',\n\t\t\t\t\t'ol',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'h1',\n\t\t\t\t\t'h2',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'indentBlock',\n\t\t\t\t\t'outdentBlock',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'TextColor',\n\t\t\t\t\t'BGColor',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'code',\n\t\t\t\t\t'quote',\n\t\t\t\t\t'separator',\n\t\t\t\t\t'removeFormat',\n\t\t\t\t],\n\t\t\t],\n\n\t\t\tsimple: ['styles', 'bold', 'italic', 'underline', 'link'],\n\n\t\t\t// simple: [\n\t\t\t//     'backgroundColor',\n\t\t\t//     'camera',\n\t\t\t//     'color',\n\t\t\t//     'embed',\n\t\t\t//     'h1',\n\t\t\t//     'h2',\n\t\t\t//     'hline',\n\t\t\t//     'image',\n\t\t\t//     'imageCenter',\n\t\t\t//     'imageLeft',\n\t\t\t//     'imageRight',\n\t\t\t//     'indentBlock',\n\t\t\t//     'italic',\n\t\t\t//     'link',\n\t\t\t//     'linkBrowse',\n\t\t\t//     'linkTargetEdit',\n\t\t\t//     'ol',\n\t\t\t//     'outdentBlock',\n\t\t\t//     'paragraphAlign',\n\t\t\t//     'paragraphCenter',\n\t\t\t//     'paragraphJustify',\n\t\t\t//     'paragraphLeft',\n\t\t\t//     'paragraphRight',\n\t\t\t//     'quote',\n\t\t\t//     'removeFormat',\n\t\t\t//     'spacing',\n\t\t\t//     'spacing',\n\t\t\t//     'strike',\n\t\t\t//     'styles',\n\t\t\t//     'subscript',\n\t\t\t//     'superscript',\n\t\t\t//     'tableCell',\n\t\t\t//     'tableColumn',\n\t\t\t//     'tableEdit',\n\t\t\t//     'tableHeading',\n\t\t\t//     'tableRemove',\n\t\t\t//     'tableRow',\n\t\t\t//     'table',\n\t\t\t//     'twitter',\n\t\t\t//     'ul',\n\t\t\t//     'underline'\n\t\t\t// ]\n\t\t},\n\t\ttest: SelectionTest.text,\n\t},\n\t{\n\t\tname: 'table',\n\t\tbuttons: [\n\t\t\t'tableHeading',\n\t\t\t'tableRow',\n\t\t\t'tableColumn',\n\t\t\t'tableCell',\n\t\t\t'tableRemove',\n\t\t],\n\t\tgetArrowBoxClasses: SelectionGetArrowBoxClasses.table,\n\t\tsetPosition: SelectionSetPosition.table,\n\t\ttest: SelectionTest.table,\n\t},\n];\n\nexport default Selections;\n","let tableSelectionGetArrowBoxClasses = function() {\n\treturn 'ae-arrow-box ae-arrow-box-bottom';\n};\n\nconst SelectionGetArrowBoxClasses = {\n\ttable: tableSelectionGetArrowBoxClasses,\n};\n\nexport default SelectionGetArrowBoxClasses;\n","import ReactDOM from 'react-dom';\n\n// Default gutter value for toolbar positioning\nlet DEFAULT_GUTTER = {\n\tleft: 0,\n\ttop: 0,\n};\n\n/**\n * Centers a Toolbar according to given rectangle\n *\n * @method centerToolbar\n * @param {Object} toolbar The toolbar to be centered\n * @param {Object} rect The rectangle according to which the Toolbar will be centered\n */\nlet centerToolbar = function(toolbar, rect) {\n\tlet toolbarNode = ReactDOM.findDOMNode(toolbar);\n\n\tlet nativeEditor = toolbar.props.editor.get('nativeEditor');\n\tlet uiNode = nativeEditor.config.uiNode || document.body;\n\tlet uiNodeStyle = getComputedStyle(uiNode);\n\tlet uiNodeMarginLeft = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t10\n\t);\n\tlet uiNodeMarginRight = parseInt(\n\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t10\n\t);\n\tlet totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\tlet halfNodeWidth = toolbarNode.offsetWidth / 2;\n\tlet scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();\n\n\tlet gutter = toolbar.props.gutter || DEFAULT_GUTTER;\n\n\tlet widgetXY = toolbar.getWidgetXYPoint(\n\t\trect.left + rect.width / 2 - scrollPosition.x,\n\t\trect.top + scrollPosition.y,\n\t\tCKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t);\n\n\tlet endPosition = [\n\t\trect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x,\n\t\trect.top - toolbarNode.offsetHeight + scrollPosition.y - gutter.top,\n\t];\n\n\tif (endPosition[0] < 0) {\n\t\tendPosition[0] = 0;\n\t} else if (endPosition[0] > totalWidth - toolbarNode.offsetWidth) {\n\t\tendPosition[0] = totalWidth - toolbarNode.offsetWidth;\n\t}\n\n\ttoolbar.moveToPoint(widgetXY, endPosition);\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method imageSelectionSetPosition\n * @param {Object} payload Payload, should contain the selection data for retrieving the\n * client rectangle of the selected image\n * @return {Boolean} True, in all cases\n */\nlet imageSelectionSetPosition = function(payload) {\n\tlet selectionData = payload.selectionData\n\t\t? payload.selectionData\n\t\t: payload.editorEvent\n\t\t? payload.editorEvent.data.selectionData\n\t\t: null;\n\n\tif (selectionData && selectionData.element) {\n\t\tcenterToolbar(this, selectionData.element.getClientRect());\n\n\t\treturn true;\n\t}\n};\n\n/**\n * Sets the position of a toolbar according to the position of the selected image\n *\n * @method tableSelectionSetPosition\n * @param {Object} payload Object, which contains the selection data for retrieving the\n * client rectangle of the selected table\n * @return {Boolean} True, in all cases\n */\nlet tableSelectionSetPosition = function(payload) {\n\tlet nativeEditor = payload.editor.get('nativeEditor');\n\tlet uiNode = nativeEditor.config.uiNode;\n\n\tlet scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\tlet table = new CKEDITOR.Table(nativeEditor).getFromSelection();\n\tlet rect = table.getClientRect();\n\trect.top += scrollTop;\n\n\tcenterToolbar(this, rect);\n\n\treturn true;\n};\n\nconst SelectionSetPosition = {\n\timage: imageSelectionSetPosition,\n\ttable: tableSelectionSetPosition,\n};\n\nexport default SelectionSetPosition;\n","import ButtonActionStyle from '../base/button-action-style.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonStylesListItem class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItem\n * @uses ButtonActionStyle\n * @uses ButtonStyle\n */\nclass ButtonStylesListItem extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItem\n\t * @memberof ButtonStylesListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItem';\n\n\t/**\n\t * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method componentWillMount\n\t */\n\tcomponentWillMount() {\n\t\t// Styles with wildcard element (*) generate an empty tag in their preview < class=\"custom-class\" />.\n\t\t// We default to element span and remove the margins to obtain a more consistent set of previews.\n\t\tlet styleCfg = {\n\t\t\telement: 'span',\n\t\t\tstyles: {\n\t\t\t\tmargin: 0,\n\t\t\t},\n\t\t};\n\n\t\tstyleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);\n\n\t\tthis._preview = new CKEDITOR.style(styleCfg).buildPreview(\n\t\t\tthis.props.name\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\t// We need to use dangerouselySetInnterHTML since we're not in control of the style\n\t\t// preview that is generated by CKEditor.\n\t\tconst className =\n\t\t\tthis.props.name === this.props.activeStyle\n\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t: 'ae-toolbar-element';\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName={className}\n\t\t\t\tdangerouslySetInnerHTML={{__html: this._preview}}\n\t\t\t\tonClick={this._onClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t/>\n\t\t);\n\t}\n\n\t/**\n\t * Applies the item style to the editor selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItem\n\t * @method _onClick\n\t * @protected\n\t */\n\t_onClick = () => {\n\t\t// Typically, we want the style to be the only one applied to the current selection, so\n\t\t// we execute the 'removeFormat' command first. Note that block styles won't be cleaned.\n\t\t// However, this is consistent with other editors implementations of this feature.\n\t\tthis.props.editor.get('nativeEditor').execCommand('removeFormat');\n\n\t\tthis.applyStyle();\n\t};\n}\n\nexport default ButtonActionStyle(ButtonStyle(ButtonStylesListItem));\n","import React from 'react';\n\n/**\n * The ButtonStylesListItemRemove class provides functionality for previewing a style definition\n * inside a list and applying it to the current editor selection.\n *\n * @class ButtonStylesListItemRemove\n */\nclass ButtonStylesListItemRemove extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tremoveBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre'],\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonStylesListItemRemove\n\t * @memberof ButtonStylesListItemRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonStylesListItemRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<li role=\"option\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this._removeStyles}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t{AlloyEditor.Strings.normal}\n\t\t\t\t</button>\n\t\t\t</li>\n\t\t);\n\t}\n\n\t/**\n\t * Removes all inline styles and configured block elements applied to the current selection.\n\t *\n\t * @instance\n\t * @memberof ButtonStylesListItemRemove\n\t * @method _removeStyles\n\t * @protected\n\t */\n\t_removeStyles = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\teditor.execCommand('removeFormat');\n\n\t\tthis.props.removeBlocks.forEach(function(blockItem) {\n\t\t\tconst blockStyle = new CKEDITOR.style({element: blockItem});\n\n\t\t\teditor.removeStyle(blockStyle);\n\t\t});\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonStylesListItemRemove;\n","import React from 'react';\n\n/**\n * The ButtonsStylesListHeader class provides the header of an list of style items.\n *\n * @class ButtonsStylesListHeader\n */\nclass ButtonsStylesListHeader extends React.Component {\n\tstatic key = 'buttonStylesListHeader';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonsStylesListHeader\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.styles && this.props.styles.length) {\n\t\t\treturn <span className=\"ae-list-header\">{this.props.name}</span>;\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default ButtonsStylesListHeader;\n","import React from 'react';\n\n/**\n * The ButtonCameraImage class takes photo from camera and inserts it to the content.\n *\n * @class ButtonCameraImage\n */\nclass ButtonCameraImage extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t */\n\tstatic defaultProps = {\n\t\tvideoWidth: 320,\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default cameraImage\n\t * @memberof ButtonCameraImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'cameraImage';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis._buttonTakePhotoRef = React.createRef();\n\t\tthis._canvasContainerRef = React.createRef();\n\t\tthis._videoContainerRef = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses the take photo button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._buttonTakePhotoRef.current.focus();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._stream) {\n\t\t\tif (this._stream.stop) {\n\t\t\t\tthis._stream.stop();\n\t\t\t} else if (this._stream.getVideoTracks) {\n\t\t\t\tthis._stream.getVideoTracks().forEach(function(track) {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis._stream = null;\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst getUserMedia =\n\t\t\tnavigator.getUserMedia ||\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia;\n\n\t\tgetUserMedia.call(\n\t\t\tnavigator,\n\t\t\t{\n\t\t\t\tvideo: true,\n\t\t\t\taudio: false,\n\t\t\t},\n\t\t\tthis._handleStreamSuccess,\n\t\t\tthis._handleStreamError\n\t\t);\n\n\t\treturn (\n\t\t\t<div className=\"ae-camera\">\n\t\t\t\t<video ref={this._videoContainerRef}>\n\t\t\t\t\tVideo stream not available.\n\t\t\t\t</video>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-camera-shoot\"\n\t\t\t\t\tonClick={this.takePhoto}\n\t\t\t\t\tref={this._buttonTakePhotoRef}>\n\t\t\t\t\tTake photo\n\t\t\t\t</button>\n\t\t\t\t<canvas\n\t\t\t\t\tclassName=\"ae-camera-canvas\"\n\t\t\t\t\tref={this._canvasContainerRef}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Takes photo from the video stream and inserts in into editor's content.\n\t *\n\t * @fires ButtonCameraImage#imageCameraAdd\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method takePhoto\n\t */\n\ttakePhoto = () => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tconst context = canvasEl.getContext('2d');\n\n\t\tconst height = this._videoHeight;\n\t\tconst width = this.props.videoWidth;\n\n\t\tif (width && height) {\n\t\t\tcanvasEl.width = width;\n\t\t\tcanvasEl.height = height;\n\n\t\t\tcontext.drawImage(videoEl, 0, 0, width, height);\n\n\t\t\tconst imgURL = canvasEl.toDataURL('image/png');\n\n\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t'<img src=\"' + imgURL + '\">'\n\t\t\t);\n\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\teditor.insertElement(el);\n\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\teditor.fire('imageCameraAdd', el);\n\t\t}\n\t};\n\n\t/**\n\t * Displays error message in case of video stream capturing failure.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamError\n\t * @param {Event} error The fired event in case of error.\n\t * @protected\n\t */\n\t_handleStreamError = error => {\n\t\twindow.alert('An error occurred! ' + error);\n\t};\n\n\t/**\n\t * Starts streaming video in the video element and sets width/height to the video\n\t * and canvas elements.\n\t *\n\t * @instance\n\t * @memberof ButtonCameraImage\n\t * @method _handleStreamSuccess\n\t * @param {Object} stream The video stream\n\t * @protected\n\t */\n\t_handleStreamSuccess = stream => {\n\t\tconst videoEl = this._videoContainerRef.current;\n\t\tconst canvasEl = this._canvasContainerRef.current;\n\n\t\tvideoEl.addEventListener(\n\t\t\t'canplay',\n\t\t\t() => {\n\t\t\t\tlet height =\n\t\t\t\t\tvideoEl.videoHeight /\n\t\t\t\t\t(videoEl.videoWidth / this.props.videoWidth);\n\n\t\t\t\tif (isNaN(height)) {\n\t\t\t\t\theight = this.props.videoWidth / (4 / 3);\n\t\t\t\t}\n\n\t\t\t\tvideoEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tvideoEl.setAttribute('height', height);\n\t\t\t\tcanvasEl.setAttribute('width', this.props.videoWidth);\n\t\t\t\tcanvasEl.setAttribute('height', height);\n\n\t\t\t\tthis._videoHeight = height;\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tthis._stream = stream;\n\n\t\tif (navigator.mozGetUserMedia) {\n\t\t\tvideoEl.mozSrcObject = stream;\n\t\t} else {\n\t\t\tvideoEl.srcObject = stream;\n\t\t}\n\n\t\tvideoEl.play();\n\n\t\tthis._buttonTakePhotoRef.current.disabled = false;\n\t};\n\n\t/**\n\t * Fired when an image is being taken from the camera and added as an element to the editor.\n\t *\n\t * @event ButtonCameraImage#imageCameraAdd\n\t * @memberof ButtonCameraImage\n\t * @param {CKEDITOR.dom.element} el The created img element in editor.\n\t */\n}\n\nexport default ButtonCameraImage;\n","import ButtonCommand from '../base/button-command.js';\nimport React from 'react';\n\n/**\n * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside\n * a list as an item, with a string representation of its behaviour.\n *\n * @class ButtonCommandListItem\n * @uses ButtonCommand\n */\nclass ButtonCommandListItem extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonCommandListItem\n\t * @memberof ButtonCommandListItem\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonCommandListItem';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={this.props.description}\n\t\t\t\tclassName={this._getClassName()}\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t{this.props.description}\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Returns the class name of Widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCommandListItem\n\t * @method _getClassName\n\t * @protected\n\t * @return {String} The class name of the Widget.\n\t */\n\t_getClassName() {\n\t\tconst className = 'ae-container ae-toolbar-element';\n\n\t\treturn className;\n\t}\n}\n\nexport default ButtonCommand(ButtonCommandListItem);\n","import ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.\n * Provides UI for creating and editing an embed link.\n *\n * @class ButtonEmbedEdit\n */\nclass ButtonEmbedEdit extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embedEdit\n\t * @memberof ButtonEmbedEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embedEdit';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.linkInput = React.createRef();\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusLinkInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusLinkInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.setState(this.getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tlet embed;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\tembed = selectedElement.findOne('[data-widget=\"ae_embed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst href = embed ? embed.getAttribute('data-ae-embed-url') : '';\n\n\t\treturn {\n\t\t\telement: embed,\n\t\t\tinitialLink: {\n\t\t\t\thref: href,\n\t\t\t},\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst clearLinkStyle = {\n\t\t\topacity: this.state.linkHref ? 1 : 0,\n\t\t};\n\n\t\tconst editor = this.props.editor;\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.deleteEmbed}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-remove\"\n\t\t\t\t\tdisabled={!this.state.element}\n\t\t\t\t\tonClick={this._removeEmbed}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.deleteEmbed}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\tsymbol=\"trash\"\n\t\t\t\t\t\tclassName=\"ae-icon-svg-trash\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleLinkHrefChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={AlloyEditor.Strings.editLink}\n\t\t\t\t\t\tref={this.linkInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.linkHref}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-clear\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearLinkStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}>\n\t\t\t\t\t\t<ButtonIcon editor={editor} symbol=\"times-clear\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedLink}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={editor}\n\t\t\t\t\t\tsymbol=\"check\"\n\t\t\t\t\t\tclassName=\"ae-icon-svg-check\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink = () => {\n\t\tthis.setState({\n\t\t\tlinkHref: '',\n\t\t});\n\t};\n\n\t/**\n\t * Triggers the embedUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _embedLink\n\t * @protected\n\t */\n\t_embedLink = () => {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\turl: this.state.linkHref,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _focusLinkInput\n\t * @protected\n\t */\n\t_focusLinkInput = () => {\n\t\tthis.linkInput.current.focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedLink();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\t\tthis.props.cancelExclusive();\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _handleLinkHrefChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleLinkHrefChange = event => {\n\t\tthis.setState({\n\t\t\tlinkHref: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty href that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.linkHref &&\n\t\t\tthis.state.linkHref !== this.state.initialLink.href;\n\n\t\treturn validState;\n\t}\n\n\t/**\n\t * Removes the embed in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedEdit\n\t * @method _removeEmbed\n\t * @protected\n\t */\n\t_removeEmbed = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst embedWrapper = this.state.element.getAscendant(function(element) {\n\t\t\treturn element.hasClass('cke_widget_wrapper');\n\t\t});\n\n\t\tembedWrapper.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonEmbedEdit;\n","import ButtonIcon from './button-icon.jsx';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonEmbedVideoEdit class provides functionality for changing text color in a document.\n *\n * @uses ButtonIcon\n *\n * @class ButtonEmbedVideoEdit\n */\nclass ButtonEmbedVideoEdit extends React.Component {\n\tstatic key = 'embedVideoEdit';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideoEdit\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\t};\n\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tthis.state = this.getInitialState();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing. This should only happen if the component\n\t * is rendered in exclusive mode to prevent aggressive focus stealing.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tif (this.props.renderExclusive || this.props.manualSelection) {\n\t\t\t// We need to wait for the next rendering cycle before focusing to avoid undesired\n\t\t\t// scrolls on the page\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(this._focusVideoUrlInput);\n\t\t\t} else {\n\t\t\t\tsetTimeout(this._focusVideoUrlInput, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps() {\n\t\tthis.replaceState(this.getInitialState());\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t * The return value will be used as the initial value of this.state.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method getInitialState\n\t */\n\tgetInitialState() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tlet element;\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement) {\n\t\t\t\telement = selectedElement.findOne('[data-widget=\"videoembed\"]');\n\t\t\t}\n\t\t}\n\n\t\tconst videoURL = element\n\t\t\t? element.getAttribute('data-embed-video-url')\n\t\t\t: '';\n\n\t\treturn {\n\t\t\telement,\n\t\t\tinitialEmbed: {\n\t\t\t\tvideoURL,\n\t\t\t},\n\t\t\tvideoURL,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputPlaceholder = AlloyEditor.Strings.pasteVideoLink;\n\n\t\tconst clearVideoURLStyle = {\n\t\t\topacity: this.state.videoURL ? 1 : 0,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-embed-video-edit\">\n\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tonChange={this._handleVideoURLChange}\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder={inputPlaceholder}\n\t\t\t\t\t\tref=\"linkInput\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.videoURL}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.clearInput}\n\t\t\t\t\t\tclassName=\"ae-button ae-icon-remove\"\n\t\t\t\t\t\tonClick={this._clearLink}\n\t\t\t\t\t\tstyle={clearVideoURLStyle}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.clear}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdisabled={!this._isValidState()}\n\t\t\t\t\tonClick={this._embedVideoURL}\n\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Clears the link input. This only changes the component internal state, but does not\n\t * affect the link element of the editor. Only the _removeLink and _updateLink methods\n\t * are translated to the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _clearLink\n\t * @protected\n\t */\n\t_clearLink() {\n\t\tthis.setState({\n\t\t\tvideoURL: '',\n\t\t});\n\t}\n\n\t/**\n\t * Triggers the embedVideoUrl command to transform the link into an embed media object\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _embedVideoURL\n\t * @protected\n\t */\n\t_embedVideoURL = () => {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\tnativeEditor.execCommand('embedUrl', {\n\t\t\ttype: 'video',\n\t\t\turl: this.state.videoURL,\n\t\t});\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the link button)\n\t\tthis.props.cancelExclusive();\n\t};\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _focusVideoUrlInput\n\t * @protected\n\t */\n\t_focusVideoUrlInput = () => {\n\t\tReactDOM.findDOMNode(this.refs.linkInput).focus();\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates/updates the link.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._embedVideoURL();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Updates the component state when the link input changes on user interaction.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbedVideoEdit\n\t * @method _handleVideoURLChange\n\t * @param {SyntheticEvent} event The change event.\n\t * @protected\n\t */\n\t_handleVideoURLChange = event => {\n\t\tthis.setState({\n\t\t\tvideoURL: event.target.value,\n\t\t});\n\t};\n\n\t/**\n\t * Verifies that the current link state is valid so the user can save the link. A valid state\n\t * means that we have a non-empty videoURL that's different from the original one.\n\t *\n\t * @instance\n\t * @memberof EmbedVideoEdit\n\t * @method _isValidState\n\t * @protected\n\t * @return {Boolean} True if the state is valid, false otherwise\n\t */\n\t_isValidState() {\n\t\tconst validState =\n\t\t\tthis.state.videoURL &&\n\t\t\tthis.state.videoURL !== this.state.initialEmbed.videoURL;\n\n\t\treturn validState;\n\t}\n}\n\nexport default ButtonEmbedVideoEdit;\n","import ButtonDropdown from './button-dropdown.jsx';\nimport React from 'react';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\n\n/**\n * The ButtonLinkAutocompleteList class provides functionality for showing a list of\n * items that can be selected for the link.\n *\n * @class ButtonLinkAutocompleteList\n * @uses WidgetFocusManager\n */\nclass ButtonLinkAutocompleteList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcircular: false,\n\t\tdata: [],\n\t\tdelay: 100,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default buttonLinkAutocompleteList\n\t * @memberof ButtonLinkAutocompleteList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'buttonLinkAutocompleteList';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\titems: [],\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked when a component is receiving new props.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillReceiveProps\n\t */\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (!nextProps.term || nextProps.term !== this.props.term) {\n\t\t\tclearTimeout(this._timeout);\n\n\t\t\tif (nextProps.term) {\n\t\t\t\tthis._timeout = setTimeout(this._updateItems, this.props.delay);\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\titems: [],\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (nextProps.autocompleteSelected) {\n\t\t\tsetTimeout(this.focus, 0);\n\t\t\tthis.props.setAutocompleteState({\n\t\t\t\tselected: false,\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tclearTimeout(this._timeout);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the list.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (!this.props.expanded || !this.state.items.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<ButtonDropdown>\n\t\t\t\t{this._renderAutocompleteItems(this.state.items)}\n\t\t\t</ButtonDropdown>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.term !== this.props.term ||\n\t\t\tnextState.items !== this.state.items\n\t\t);\n\t}\n\n\t/**\n\t * Renders a set of list items for the provided items\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _renderAutocompleteItems\n\t * @param {Array} items List of autocomplete items to render\n\t * @protected\n\t * @return {Array} Rendered list item instances\n\t */\n\t_renderAutocompleteItems(items) {\n\t\titems = items || [];\n\n\t\tconst handleLinkAutocompleteClick = this.props\n\t\t\t.handleLinkAutocompleteClick;\n\n\t\treturn items.map(item => {\n\t\t\tconst className =\n\t\t\t\tthis.props.term === item.url\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={item.url} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tonClick={handleLinkAutocompleteClick}\n\t\t\t\t\t\tdata-value={item.url}>\n\t\t\t\t\t\t{item.title}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * Retrieves the data according to {this.props.term} and calls setState() with the returned data\n\t *\n\t * @instance\n\t * @memberof ButtonLinkAutocompleteList\n\t * @method _updateItems\n\t * @protected\n\t */\n\t_updateItems() {\n\t\tif (!this.props.term) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst promise = Promise.resolve(this.props.data(this.props.term));\n\n\t\tpromise.then(items => {\n\t\t\tif (items.length) {\n\t\t\t\t!this.props.expanded && this.props.toggleDropdown();\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\titems: items,\n\t\t\t});\n\t\t});\n\t}\n}\n\nexport default WidgetFocusManager(ButtonLinkAutocompleteList);\n","import ButtonCfgProps from '../base/button-props.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke.js';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.\n *\n * @class ButtonLink\n * @uses ButtonCfgProps\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n */\nclass ButtonLink extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default link\n\t * @memberof ButtonLink\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'link';\n\n\t/**\n\t * Checks if the current selection is contained within a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a link, false otherwise.\n\t */\n\tisActive() {\n\t\treturn (\n\t\t\tnew CKEDITOR.Link(\n\t\t\t\tthis.props.editor.get('nativeEditor')\n\t\t\t).getFromSelection() !== null\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tconst props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEdit {...props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName={cssClass}\n\t\t\t\t\tdata-type=\"button-link\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"link\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonLink\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonLink.key);\n\t};\n}\n\nexport default ButtonCfgProps(ButtonKeystroke(ButtonStateClasses(ButtonLink)));\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\nimport React from 'react';\n\n/**\n * The ButtonLinkTargetEdit class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonLinkTargetEdit\n */\nclass ButtonLinkTargetEdit extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonLinkTargetEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'linkTargetEdit';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\t\tconst allowedLinkTargets = this.props.allowedTargets;\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName=\"ae-container-edit-link-target ae-container-dropdown ae-container-dropdown-medium ae-has-dropdown\"\n\t\t\t\ttabIndex=\"0\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={this.props.selectedTarget}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={this.props.selectedTarget}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{this.props.selectedTarget}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\t\tsymbol=\"caret-bottom\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t<ButtonTargetList\n\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\t\tallowedLinkTargets={allowedLinkTargets}\n\t\t\t\t\t\thandleLinkTargetChange={handleLinkTargetChange}\n\t\t\t\t\t\tselectedTarget={this.props.selectedTarget}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked before rendering when new props or state are being received.\n\t * This method is not called for the initial render or when forceUpdate is used.\n\t *\n\t * @instance\n\t * @memberof ButtonLinkTargetEdit\n\t * @method  shouldComponentUpdate\n\t * @return {Boolean} Returns false when the transition to the new props and state will not\n\t * require a component update.\n\t */\n\tshouldComponentUpdate(nextProps) {\n\t\treturn (\n\t\t\tnextProps.expanded !== this.props.expanded ||\n\t\t\tnextProps.selectedTarget !== this.props.selectedTarget\n\t\t);\n\t}\n}\n\nexport default ButtonLinkTargetEdit;\n","import ButtonDropdown from './button-dropdown.jsx';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\n\n/**\n * The ButtonTargetList class provides functionality for changing the target of a link\n * in the document.\n *\n * @class ButtonTargetList\n * @uses WidgetFocusManager\n */\nclass ButtonTargetList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\tcircular: true,\n\t\tdescendants: '.ae-toolbar-element',\n\t\tkeys: {\n\t\t\tdismiss: [27],\n\t\t\tdismissNext: [39],\n\t\t\tdismissPrev: [37],\n\t\t\tnext: [40],\n\t\t\tprev: [38],\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default linkTargetEdit\n\t * @memberof ButtonTargetList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'targetList';\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tReactDOM.findDOMNode(this).focus();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst listTargets = this._renderListTargets();\n\n\t\treturn <ButtonDropdown {...this.props}>{listTargets}</ButtonDropdown>;\n\t}\n\n\t/**\n\t * Returns the the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _getAllowedTargetItems\n\t * @protected\n\t * @return {Array} The allowed target items.\n\t */\n\t_getAllowedTargetItems() {\n\t\treturn (\n\t\t\tthis.props.allowedLinkTargets || [\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetDefault,\n\t\t\t\t\tvalue: '',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetSelf,\n\t\t\t\t\tvalue: '_self',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetBlank,\n\t\t\t\t\tvalue: '_blank',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetParent,\n\t\t\t\t\tvalue: '_parent',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: AlloyEditor.Strings.linkTargetTop,\n\t\t\t\t\tvalue: '_top',\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n\n\t/**\n\t * Renders the allowed link target items.\n\t *\n\t * @instance\n\t * @memberof ButtonTargetList\n\t * @method _renderListTargets\n\t * @protected\n\t * @return {Object} Returns the rendered link items\n\t */\n\t_renderListTargets() {\n\t\tlet targets = this._getAllowedTargetItems();\n\n\t\tconst handleLinkTargetChange = this.props.handleLinkTargetChange;\n\n\t\ttargets = targets.map(target => {\n\t\t\tconst className =\n\t\t\t\tthis.props.selectedTarget === target.value\n\t\t\t\t\t? 'ae-toolbar-element active'\n\t\t\t\t\t: 'ae-toolbar-element';\n\n\t\t\treturn (\n\t\t\t\t<li key={target.value} role=\"option\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\tdata-value={target.value}\n\t\t\t\t\t\tonClick={handleLinkTargetChange}>\n\t\t\t\t\t\t{target.label}\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\treturn targets;\n\t}\n}\n\nexport default WidgetFocusManager(ButtonTargetList);\n","import Lang from '../../oop/lang';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * The LinkEditBrowse class provides functionality for creating and editing a link in a document,\n * and also allows to link to an existing file in DM.\n * Provides UI for creating, editing and removing a link.\n *\n * @class ButtonLinkEditBrowse\n */\nclass ButtonLinkEditBrowse extends React.Component {\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\t};\n\n\tstatic key = 'linkEditBrowse';\n\t/**\n\t *\n\t * @inheritDoc\n\t */\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\n\t\tconst link = new CKEDITOR.Link(\n\t\t\tthis.props.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\tconst href = link ? link.getAttribute('href') : '';\n\n\t\tthis.linkEditButtonRef = React.createRef();\n\n\t\tthis.state = {\n\t\t\telement: link,\n\t\t\tlinkHref: href,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"ae-container-link-edit-browse\">\n\t\t\t\t<ButtonLinkEdit ref={this.linkEditButtonRef} {...this.props} />\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Browse\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._browseClick}\n\t\t\t\t\ttitle=\"browse\">\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"folder\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Opens an item selector dialog.\n\t *\n\t * @protected\n\t * @method _browseClick\n\t */\n\t_browseClick = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tconst url = editor.config.documentBrowseLinkUrl;\n\t\tconst browseLinkCallback = editor.config.documentBrowseLinkCallback;\n\t\tconst linkTarget = this.linkEditButtonRef.current.state.linkTarget;\n\t\tconst changeLinkCallback = selectedItem => {\n\t\t\tthis._updateLink(selectedItem.value, linkTarget, selectedItem.href);\n\t\t};\n\n\t\tif (Lang.isFunction(browseLinkCallback)) {\n\t\t\tbrowseLinkCallback.apply(null, [editor, url, changeLinkCallback]);\n\t\t}\n\t};\n\n\t/**\n\t * Updates the link in the editor element. If the element didn't exist previously, it will\n\t * create a new <a> element with the href specified in the link input.\n\t *\n\t * @protected\n\t * @method _updateLink\n\t * @param {String} linkHref href value for the link\n\t * @param {String} linkTarget target value for the link\n\t * @param {String} linkTitle if the link is a title that points to a wiki page (only works for creole)\n\t */\n\t_updateLink = (linkHref, linkTarget, linkTitle) => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tconst linkUtils = new CKEDITOR.Link(editor, {appendProtocol: false});\n\t\tconst linkAttrs = {\n\t\t\ttarget: linkTarget,\n\t\t};\n\t\tconst modifySelection = {advance: true};\n\n\t\tif (linkHref) {\n\t\t\tif (editor.plugins && editor.plugins.creole && !linkTitle) {\n\t\t\t\tlinkHref = location.origin + linkHref;\n\t\t\t}\n\n\t\t\tif (this.state.element) {\n\t\t\t\tlinkAttrs.href = linkHref;\n\n\t\t\t\tlinkUtils.update(\n\t\t\t\t\tlinkAttrs,\n\t\t\t\t\tthis.state.element,\n\t\t\t\t\tmodifySelection\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlinkUtils.create(linkHref, linkAttrs, modifySelection);\n\t\t\t}\n\n\t\t\teditor.fire('actionPerformed', this);\n\t\t}\n\t};\n}\n\nexport default ButtonLinkEditBrowse;\n","import ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\n/**\n * The ButtonTableEdit class provides functionality for creating and editing a table in a document.\n * Provides UI for creating a table.\n *\n * @class ButtonTableEdit\n */\nclass ButtonTableEdit extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getDefaultProps\n\t */\n\tstatic defaultProps = {\n\t\ttableAttributes: {\n\t\t\tborder: 1,\n\t\t\tcellPadding: 0,\n\t\t\tcellSpacing: 0,\n\t\t\tstyle: 'width: 100%',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableEdit\n\t * @memberof ButtonTableEdit\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableEdit';\n\n\t/**\n\t * Lifecycle. Invoked once before the component is mounted.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method getInitialState\n\t */\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.rowsRef = React.createRef();\n\t\tthis.colsRef = React.createRef();\n\t\tthis.state = {\n\t\t\tcols: 3,\n\t\t\trows: 3,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * Focuses on the link input to immediately allow editing.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis.rowsRef.current.focus();\n\t}\n\n\t/**\n\t * Creates a table.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _createTable\n\t * @protected\n\t */\n\t_createTable = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.create({\n\t\t\tattrs: this.props.tableAttributes,\n\t\t\tcols: this.state.cols,\n\t\t\trows: this.state.rows,\n\t\t});\n\n\t\tthis.props.cancelExclusive();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Handles a change in input value. Sets the provided value from the user back to the input.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleChange\n\t * @param {String} inputName The name of the input which value should be updated.\n\t * @param {SyntheticEvent} event The provided event.\n\t * @protected\n\t */\n\t_handleChange = (inputName, event) => {\n\t\tconst state = {};\n\t\tstate[inputName] = event.target.value;\n\n\t\tthis.setState(state);\n\t};\n\n\t/**\n\t * Monitors key interaction inside the input element to respond to the keys:\n\t * - Enter: Creates the table.\n\t * - Escape: Discards the changes.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method _handleKeyDown\n\t * @param {SyntheticEvent} event The keyboard event.\n\t * @protected\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\tif (event.keyCode === KEY_ENTER) {\n\t\t\tthis._createTable();\n\t\t} else if (event.keyCode === KEY_ESC) {\n\t\t\tthis.props.cancelExclusive();\n\t\t}\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableEdit\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst time = Date.now();\n\t\tconst rowsId = time + 'rows';\n\t\tconst colsId = time + 'cols';\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-edit-table\">\n\t\t\t\t<label htmlFor={rowsId}>{AlloyEditor.Strings.rows}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={rowsId}\n\t\t\t\t\t\tonChange={this._handleChange.bind(this, 'rows')}\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Rows\"\n\t\t\t\t\t\tref={this.rowsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.rows}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<label htmlFor={colsId}>{AlloyEditor.Strings.columns}</label>\n\t\t\t\t<div className=\"ae-container-input small\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\tid={colsId}\n\t\t\t\t\t\tonChange={this._handleChange.bind(this, 'cols')}\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\tplaceholder=\"Colums\"\n\t\t\t\t\t\tref={this.colsRef}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={this.state.cols}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<button\n\t\t\t\t\taria-label=\"Confirm\"\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this._createTable}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"check\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ButtonTableEdit;\n","import Lang from '../../oop/lang.js';\nimport React from 'react';\n\n/**\n * ToolbarButtons is a mixin which provides a list of buttons which have to be\n * displayed on the current toolbar depending on user preferences and given state.\n *\n * @class ToolbarButtons\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Analayses the current selection and returns the buttons or button groups to be rendered.\n\t\t *\n\t\t * @instance\n\t\t * @method getToolbarButtonGroups\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons or button groups that should be rendered.\n\t\t */\n\t\tgetToolbarButtonGroups(buttons, additionalProps) {\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\treturn buttons.reduce((list, button) => {\n\t\t\t\tif (Array.isArray(button)) {\n\t\t\t\t\tlist.push(this.getToolbarButtons(button, additionalProps));\n\t\t\t\t\treturn list;\n\t\t\t\t} else {\n\t\t\t\t\treturn this.getToolbarButtons(buttons, additionalProps);\n\t\t\t\t}\n\t\t\t}, []);\n\t\t}\n\n\t\t/**\n\t\t * Analyzes the current selection and the buttons exclusive mode value to figure out which\n\t\t * buttons should be present in a given state.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ToolbarButtons\n\t\t * @method getToolbarButtons\n\t\t * @param {Array} buttons The buttons could be shown, prior to the state filtering.\n\t\t * @param {Object} additionalProps Additional props that should be passed down to the buttons.\n\t\t * @return {Array} An Array which contains the buttons that should be rendered.\n\t\t */\n\t\tgetToolbarButtons(buttons, additionalProps) {\n\t\t\tlet buttonProps = {};\n\n\t\t\tlet nativeEditor = this.props.editor.get('nativeEditor');\n\t\t\tlet buttonCfg = nativeEditor.config.buttonCfg || {};\n\n\t\t\tif (Lang.isFunction(buttons)) {\n\t\t\t\tbuttons = buttons.call(this) || [];\n\t\t\t}\n\n\t\t\tlet toolbarButtons = this.filterExclusive(\n\t\t\t\tbuttons\n\t\t\t\t\t.filter(function(button) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\tbutton &&\n\t\t\t\t\t\t\t(AlloyEditor.Buttons[button] ||\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name])\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t.map(function(button) {\n\t\t\t\t\t\tif (Lang.isString(button)) {\n\t\t\t\t\t\t\tbuttonProps[button] = buttonCfg[button];\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button];\n\t\t\t\t\t\t} else if (Lang.isString(button.name)) {\n\t\t\t\t\t\t\tbuttonProps[\n\t\t\t\t\t\t\t\tAlloyEditor.Buttons[button.name].key\n\t\t\t\t\t\t\t] = CKEDITOR.tools.merge(\n\t\t\t\t\t\t\t\tbuttonCfg[button],\n\t\t\t\t\t\t\t\tbutton.cfg\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tbutton = AlloyEditor.Buttons[button.name];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn button;\n\t\t\t\t\t})\n\t\t\t).map(function(button, index) {\n\t\t\t\tlet props = this.mergeExclusiveProps(\n\t\t\t\t\t{\n\t\t\t\t\t\teditor: this.props.editor,\n\t\t\t\t\t\tkey:\n\t\t\t\t\t\t\tbutton.key !== 'separator'\n\t\t\t\t\t\t\t\t? button.key\n\t\t\t\t\t\t\t\t: `${button.key}-${index}`,\n\t\t\t\t\t\ttabKey: button.key,\n\t\t\t\t\t\ttabIndex:\n\t\t\t\t\t\t\tthis.props.trigger &&\n\t\t\t\t\t\t\tthis.props.trigger.props.tabKey === button.key\n\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t: -1,\n\t\t\t\t\t\ttrigger: this.props.trigger,\n\t\t\t\t\t},\n\t\t\t\t\tbutton.key\n\t\t\t\t);\n\n\t\t\t\tprops = this.mergeDropdownProps(props, button.key);\n\n\t\t\t\tif (additionalProps) {\n\t\t\t\t\tprops = CKEDITOR.tools.merge(props, additionalProps);\n\t\t\t\t}\n\n\t\t\t\tprops = CKEDITOR.tools.merge(props, buttonProps[button.key]);\n\n\t\t\t\treturn React.createElement(button, props);\n\t\t\t}, this);\n\n\t\t\treturn toolbarButtons;\n\t\t}\n\t};\n","import Lang from '../../oop/lang.js';\n\n/**\n * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget\n * depending on the point of user interaction with the editor.\n *\n * @class WidgetArrowBox\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Returns the list of arrow box classes associated to the current element's state. It relies\n\t\t * on the getInteractionPoint method to calculate the selection direction.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetArrowBox\n\t\t * @method getArrowBoxClasses\n\t\t * @return {String} A string with the arrow box CSS classes.\n\t\t */\n\t\tgetArrowBoxClasses() {\n\t\t\tlet arrowBoxClasses = 'ae-arrow-box';\n\n\t\t\tif (\n\t\t\t\tLang.isFunction(this.getInteractionPoint) &&\n\t\t\t\tthis.getInteractionPoint()\n\t\t\t) {\n\t\t\t\tif (\n\t\t\t\t\tthis.getInteractionPoint().direction ===\n\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t) {\n\t\t\t\t\tarrowBoxClasses += ' ae-arrow-box-top';\n\t\t\t\t} else {\n\t\t\t\t\tarrowBoxClasses += ' ae-arrow-box-bottom';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn arrowBoxClasses;\n\t\t}\n\t};\n","import ReactDOM from 'react-dom';\n\n/**\n * Calculates the position where an Widget should be displayed based on the point\n * where user interacted with the editor.\n *\n * @class WidgetPosition\n */\nexport default WrappedComponent =>\n\tclass extends WrappedComponent {\n\t\t/**\n\t\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method getDefaultProps\n\t\t */\n\t\tstatic defaultProps = {\n\t\t\t...WrappedComponent.defaultProps,\n\t\t\tgutter: {\n\t\t\t\tleft: 0,\n\t\t\t\ttop: 10,\n\t\t\t},\n\t\t\tconstrainToViewport: true,\n\t\t};\n\n\t\t/**\n\t\t * Cancels an scheduled animation frame.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method cancelAnimation\n\t\t */\n\t\tcancelAnimation() {\n\t\t\tif (window.cancelAnimationFrame) {\n\t\t\t\twindow.cancelAnimationFrame(this._animationFrameId);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Returns an object which contains the position of the element in page coordinates,\n\t\t * restricted to fit to given viewport.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method getConstrainedPosition\n\t\t * @param {Object} attrs The following properties, provided as numbers:\n\t\t * - height\n\t\t * - left\n\t\t * - top\n\t\t * - width\n\t\t * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:\n\t\t * - width\n\t\t * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the\n\t\t * element.\n\t\t */\n\t\tgetConstrainedPosition(attrs, viewPaneSize) {\n\t\t\tviewPaneSize =\n\t\t\t\tviewPaneSize ||\n\t\t\t\tnew CKEDITOR.dom.window(window).getViewPaneSize();\n\n\t\t\tlet x = attrs.left;\n\t\t\tlet y = attrs.top;\n\n\t\t\tif (attrs.left + attrs.width > viewPaneSize.width) {\n\t\t\t\tx -= attrs.left + attrs.width - viewPaneSize.width;\n\t\t\t}\n\n\t\t\tif (y < 0) {\n\t\t\t\ty = 0;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position, in page coordinates, according to which a widget should appear.\n\t\t * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.\n\t\t *\n\t\t * It depends on the props editorEvent to analyze the following user-interaction parameters:\n\t\t * - {Object} selectionData The data about the selection in the editor as returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * - {Number} pos Contains the coordinates of the position, considered as most appropriate.\n\t\t * This may be the point where the user released the mouse, or just the beginning or the end of\n\t\t * the selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @method getInteractionPoint\n\t\t * @return {Object} An Object which contains the following properties:\n\t\t * direction, x, y, where x and y are in page coordinates and direction can be one of these:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t */\n\t\tgetInteractionPoint() {\n\t\t\tlet eventPayload = this.props.editorEvent\n\t\t\t\t? this.props.editorEvent.data\n\t\t\t\t: null;\n\n\t\t\tif (!eventPayload) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet selectionData = eventPayload.selectionData;\n\n\t\t\tlet nativeEvent = eventPayload.nativeEvent;\n\n\t\t\tlet pos = {\n\t\t\t\tx: eventPayload.nativeEvent.pageX,\n\t\t\t\ty: selectionData.region.top,\n\t\t\t};\n\n\t\t\tlet direction = selectionData.region.direction;\n\n\t\t\tlet endRect = selectionData.region.endRect;\n\n\t\t\tlet startRect = selectionData.region.startRect;\n\n\t\t\tif (endRect && startRect && startRect.top === endRect.top) {\n\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t}\n\n\t\t\tlet x;\n\t\t\tlet y;\n\n\t\t\t// If we have the point where user released the mouse, show Toolbar at this point\n\t\t\t// otherwise show it on the middle of the selection.\n\n\t\t\tif (pos.x && pos.y) {\n\t\t\t\tx = this._getXPoint(selectionData, pos.x);\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {\n\t\t\t\t\ty = Math.min(pos.y, selectionData.region.top);\n\t\t\t\t} else {\n\t\t\t\t\ty = Math.max(\n\t\t\t\t\t\tpos.y,\n\t\t\t\t\t\tthis._getYPoint(selectionData, nativeEvent)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tx = selectionData.region.left + selectionData.region.width / 2;\n\n\t\t\t\tif (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {\n\t\t\t\t\ty = this._getYPoint(selectionData, nativeEvent);\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tdirection: direction,\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the Widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @method _getXPoint\n\t\t * @param {Object} eventX The X coordinate received from the native event (mouseup).\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated X point in page coordinates.\n\t\t */\n\t\t_getXPoint(selectionData, eventX) {\n\t\t\tlet region = selectionData.region;\n\n\t\t\tlet left = region.startRect ? region.startRect.left : region.left;\n\t\t\tlet right = region.endRect ? region.endRect.right : region.right;\n\n\t\t\tlet x;\n\n\t\t\tif (left < eventX && right > eventX) {\n\t\t\t\tx = eventX;\n\t\t\t} else {\n\t\t\t\tlet leftDist = Math.abs(left - eventX);\n\t\t\t\tlet rightDist = Math.abs(right - eventX);\n\n\t\t\t\tif (leftDist < rightDist) {\n\t\t\t\t\t// user raised the mouse on left on the selection\n\t\t\t\t\tx = left;\n\t\t\t\t} else {\n\t\t\t\t\tx = right;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn x;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the Widget.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetInteractionPoint\n\t\t * @method _getYPoint\n\t\t * @param {Object} nativeEvent The data about event is fired\n\t\t * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t\t * @protected\n\t\t * @return {Number} The calculated Y point in page coordinates.\n\t\t */\n\t\t_getYPoint(selectionData, nativeEvent) {\n\t\t\tlet y = 0;\n\n\t\t\tif (selectionData && nativeEvent) {\n\t\t\t\tlet elementTarget = new CKEDITOR.dom.element(\n\t\t\t\t\tnativeEvent.target\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\telementTarget.$ &&\n\t\t\t\t\telementTarget.getStyle('overflow') === 'auto'\n\t\t\t\t) {\n\t\t\t\t\ty =\n\t\t\t\t\t\tnativeEvent.target.offsetTop +\n\t\t\t\t\t\tnativeEvent.target.offsetHeight;\n\t\t\t\t} else {\n\t\t\t\t\ty = selectionData.region.bottom;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn y;\n\t\t}\n\n\t\t/**\n\t\t * Returns the position of the Widget taking in consideration the\n\t\t * {{#crossLink \"WidgetPosition/gutter:attribute\"}}{{/crossLink}} attribute.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @protected\n\t\t * @method  getWidgetXYPoint\n\t\t * @param {Number} left The left offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} top The top offset in page coordinates where Toolbar should be shown.\n\t\t * @param {Number} direction The direction of the selection. May be one of the following:\n\t\t * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t * @return {Array} An Array with left and top offsets in page coordinates.\n\t\t */\n\t\tgetWidgetXYPoint(left, top, direction) {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tlet gutter = this.props.gutter;\n\n\t\t\tif (\n\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t\t) {\n\t\t\t\tleft = left - gutter.left - domNode.offsetWidth / 2;\n\n\t\t\t\ttop =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t\t? top + gutter.top\n\t\t\t\t\t\t: top - domNode.offsetHeight - gutter.top;\n\t\t\t} else if (\n\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT ||\n\t\t\t\tdirection === CKEDITOR.SELECTION_RIGHT_TO_LEFT\n\t\t\t) {\n\t\t\t\tleft =\n\t\t\t\t\tdirection === CKEDITOR.SELECTION_LEFT_TO_RIGHT\n\t\t\t\t\t\t? left + gutter.left + domNode.offsetHeight / 2\n\t\t\t\t\t\t: left - (3 * domNode.offsetHeight) / 2 - gutter.left;\n\n\t\t\t\ttop = top - gutter.top - domNode.offsetHeight / 2;\n\t\t\t}\n\n\t\t\tif (left < 0) {\n\t\t\t\tleft = 0;\n\t\t\t}\n\n\t\t\tif (top < 0) {\n\t\t\t\ttop = 0;\n\t\t\t}\n\n\t\t\treturn [left, top];\n\t\t}\n\n\t\t/**\n\t\t * Returns true if the widget is visible, false otherwise\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method isVisible\n\t\t * @return {Boolean} True if the widget is visible, false otherwise\n\t\t */\n\t\tisVisible() {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (domNode) {\n\t\t\t\tlet domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\treturn domElement.hasClass('alloy-editor-visible');\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\t/**\n\t\t * Moves a widget from a starting point to a destination point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method moveToPoint\n\t\t * @param  {Object} startPoint The starting point for the movement.\n\t\t * @param  {Object} endPoint The destination point for the movement.\n\t\t */\n\t\tmoveToPoint(startPoint, endPoint) {\n\t\t\tlet domElement = new CKEDITOR.dom.element(\n\t\t\t\tReactDOM.findDOMNode(this)\n\t\t\t);\n\n\t\t\tdomElement.setStyles({\n\t\t\t\tleft: startPoint[0] + 'px',\n\t\t\t\ttop: startPoint[1] + 'px',\n\t\t\t\topacity: 0,\n\t\t\t});\n\n\t\t\tdomElement.removeClass('alloy-editor-invisible');\n\n\t\t\tthis._animate(function() {\n\t\t\t\tdomElement.addClass('ae-toolbar-transition');\n\t\t\t\tdomElement.addClass('alloy-editor-visible');\n\t\t\t\tdomElement.setStyles({\n\t\t\t\t\tleft: endPoint[0] + 'px',\n\t\t\t\t\ttop: endPoint[1] + 'px',\n\t\t\t\t\topacity: 1,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Shows the widget with the default animation transition.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method show\n\t\t */\n\t\tshow() {\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\t\t\tlet uiNode = this.props.editor.get('uiNode');\n\n\t\t\tlet scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tif (!this.isVisible() && domNode) {\n\t\t\t\tlet interactionPoint = this.getInteractionPoint();\n\n\t\t\t\tif (interactionPoint) {\n\t\t\t\t\tlet domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\t\tlet finalX;\n\t\t\t\t\tlet finalY;\n\t\t\t\t\tlet initialX;\n\t\t\t\t\tlet initialY;\n\n\t\t\t\t\tfinalX = initialX = parseFloat(domElement.getStyle('left'));\n\t\t\t\t\tfinalY = initialY = parseFloat(domElement.getStyle('top'));\n\n\t\t\t\t\tif (this.props.constrainToViewport) {\n\t\t\t\t\t\tlet res = this.getConstrainedPosition({\n\t\t\t\t\t\t\theight: parseFloat(domNode.offsetHeight),\n\t\t\t\t\t\t\tleft: finalX,\n\t\t\t\t\t\t\ttop: finalY,\n\t\t\t\t\t\t\twidth: parseFloat(domNode.offsetWidth),\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfinalX = res.x;\n\t\t\t\t\t\tfinalY = res.y;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tinteractionPoint.direction ===\n\t\t\t\t\t\tCKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t\t\t\t) {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.bottom + scrollTop;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinitialY =\n\t\t\t\t\t\t\tthis.props.selectionData.region.top + scrollTop;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.moveToPoint([initialX, initialY], [finalX, finalY]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Updates the widget position based on the current interaction point.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method updatePosition\n\t\t */\n\t\tupdatePosition() {\n\t\t\tlet interactionPoint = this.getInteractionPoint();\n\n\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\tif (interactionPoint && domNode) {\n\t\t\t\tlet uiNode = this.props.editor.get('uiNode') || document.body;\n\t\t\t\tlet uiNodeStyle = getComputedStyle(uiNode);\n\t\t\t\tlet uiNodeMarginLeft = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-left'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tlet uiNodeMarginRight = parseInt(\n\t\t\t\t\tuiNodeStyle.getPropertyValue('margin-right'),\n\t\t\t\t\t10\n\t\t\t\t);\n\t\t\t\tlet totalWidth =\n\t\t\t\t\tuiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;\n\n\t\t\t\tlet scrollTop =\n\t\t\t\t\tuiNode.tagName !== 'BODY' ? uiNode.scrollTop : 0;\n\n\t\t\t\tlet xy = this.getWidgetXYPoint(\n\t\t\t\t\tinteractionPoint.x,\n\t\t\t\t\tinteractionPoint.y,\n\t\t\t\t\tinteractionPoint.direction\n\t\t\t\t);\n\t\t\t\txy[1] += scrollTop;\n\n\t\t\t\tif (xy[0] < 0) {\n\t\t\t\t\txy[0] = 0;\n\t\t\t\t}\n\t\t\t\tif (xy[0] > totalWidth - domNode.offsetWidth) {\n\t\t\t\t\txy[0] = totalWidth - domNode.offsetWidth;\n\t\t\t\t}\n\n\t\t\t\tnew CKEDITOR.dom.element(domNode).setStyles({\n\t\t\t\t\tleft: xy[0] + 'px',\n\t\t\t\t\ttop: xy[1] + 'px',\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Requests an animation frame, if possible, to simulate an animation.\n\t\t *\n\t\t * @instance\n\t\t * @memberof WidgetPosition\n\t\t * @method _animate\n\t\t * @param {Function} callback The function to be executed on the scheduled frame.\n\t\t * @protected\n\t\t */\n\t\t_animate(callback) {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\tthis._animationFrameId = window.requestAnimationFrame(callback);\n\t\t\t} else {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t};\n","import Core from './core.js';\nimport Lang from '../oop/lang.js';\n\nimport Buttons from '../components/buttons';\nimport Toolbars from '../components/toolbars';\n\nimport SelectionGetArrowBoxClasses from '../selections/selection-arrowbox';\nimport Selections from '../selections/selections';\nimport SelectionSetPosition from '../selections/selection-position';\nimport SelectionTest from '../selections/selection-test';\n\nimport Attribute from '../oop/attribute';\nimport extend from '../oop/oop';\nimport '../plugins';\n\n// An object containing all currently registered plugins in AlloyEditor.\nlet BRIDGE_BUTTONS = {};\n\n/**\n * Creates an instance of AlloyEditor.\n *\n * @memberof AlloyEditor\n * @method editable\n * @static\n * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n * @param {Object} config Configuration attributes for the current instance of AlloyEditor.\n * @return {Object} An instance of {{#crossLink \"Core\"}}{{/crossLink}}\n */\nconst editable = function(node, config) {\n\tconfig = config || {};\n\tconfig.srcNode = node;\n\n\tAlloyEditor.implementEventTarget();\n\n\treturn new Core(config);\n};\n\n/**\n * The full URL for the AlloyEditor installation directory.\n * It is possible to manually provide the base path by setting a\n * global variable named `ALLOYEDITOR_BASEPATH`. This global variable\n * must be set **before** the editor script loading.\n *\n * @memberof AlloyEditor\n * @method getBasePath\n * @static\n * @return {String} The found base path\n */\nconst getBasePath = function() {\n\t// Find out the editor directory path, based on its <script> tag.\n\tlet path = window.ALLOYEDITOR_BASEPATH || '';\n\n\tif (!path) {\n\t\tlet scripts = document.getElementsByTagName('script');\n\n\t\tfor (let i = 0; i < scripts.length; i++) {\n\t\t\tlet match = scripts[i].src.match(AlloyEditor.regexBasePath);\n\n\t\t\tif (match) {\n\t\t\t\tpath = match[1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// In IE (only) the script.src string is the raw value entered in the\n\t// HTML source. Other browsers return the full resolved URL instead.\n\tif (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {\n\t\t// Absolute path.\n\t\tif (path.indexOf('/') === 0) {\n\t\t\tpath = location.href.match(/^.*?:\\/\\/[^/]*/)[0] + path;\n\t\t}\n\t\t// Relative path.\n\t\telse {\n\t\t\tpath = location.href.match(/^[^?]*\\/(?:)/)[0] + path;\n\t\t}\n\t}\n\n\tif (!path) {\n\t\tthrow new Error(\n\t\t\t'The AlloyEditor installation path could not be automatically detected. Please set the global variable \"ALLOYEDITOR_BASEPATH\" before creating editor instances.'\n\t\t);\n\t}\n\n\treturn path;\n};\n\n/**\n * Detects and load the corresponding language file if AlloyEditor language strings are not already present.\n * The function fires a {{#crossLink \"AlloyEditor/languageResourcesLoaded:event\"}}{{/crossLink}} event\n *\n * @memberof AlloyEditor\n * @method loadLanguageResources\n * @static\n * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.\n */\nconst loadLanguageResources = function(callback) {\n\tAlloyEditor.implementEventTarget();\n\n\tif (Lang.isFunction(callback)) {\n\t\tif (AlloyEditor.Strings) {\n\t\t\tsetTimeout(callback, 0);\n\t\t} else {\n\t\t\tAlloyEditor.once('languageResourcesLoaded', function() {\n\t\t\t\tsetTimeout(callback, 0);\n\t\t\t});\n\t\t}\n\t}\n\n\tif (!AlloyEditor._langResourceRequested) {\n\t\tAlloyEditor._langResourceRequested = true;\n\n\t\tlet languages = [\n\t\t\t'af',\n\t\t\t'ar',\n\t\t\t'bg',\n\t\t\t'bn',\n\t\t\t'bs',\n\t\t\t'ca',\n\t\t\t'cs',\n\t\t\t'cy',\n\t\t\t'da',\n\t\t\t'de',\n\t\t\t'el',\n\t\t\t'en-au',\n\t\t\t'en-ca',\n\t\t\t'en-gb',\n\t\t\t'en',\n\t\t\t'eo',\n\t\t\t'es',\n\t\t\t'et',\n\t\t\t'eu',\n\t\t\t'fa',\n\t\t\t'fi',\n\t\t\t'fo',\n\t\t\t'fr-ca',\n\t\t\t'fr',\n\t\t\t'gl',\n\t\t\t'gu',\n\t\t\t'he',\n\t\t\t'hi',\n\t\t\t'hr',\n\t\t\t'hu',\n\t\t\t'id',\n\t\t\t'is',\n\t\t\t'it',\n\t\t\t'ja',\n\t\t\t'ka',\n\t\t\t'km',\n\t\t\t'ko',\n\t\t\t'ku',\n\t\t\t'lt',\n\t\t\t'lv',\n\t\t\t'mk',\n\t\t\t'mn',\n\t\t\t'ms',\n\t\t\t'nb',\n\t\t\t'nl',\n\t\t\t'no',\n\t\t\t'pl',\n\t\t\t'pt-br',\n\t\t\t'pt',\n\t\t\t'ro',\n\t\t\t'ru',\n\t\t\t'si',\n\t\t\t'sk',\n\t\t\t'sl',\n\t\t\t'sq',\n\t\t\t'sr-latn',\n\t\t\t'sr',\n\t\t\t'sv',\n\t\t\t'th',\n\t\t\t'tr',\n\t\t\t'tt',\n\t\t\t'ug',\n\t\t\t'uk',\n\t\t\t'vi',\n\t\t\t'zh-cn',\n\t\t\t'zh',\n\t\t];\n\n\t\tlet userLanguage = navigator.language || navigator.userLanguage || 'en';\n\n\t\tlet parts = userLanguage.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/);\n\t\tlet lang = parts[1];\n\t\tlet locale = parts[2];\n\n\t\tif (languages.indexOf(lang + '-' + locale) >= 0) {\n\t\t\tlang = lang + '-' + locale;\n\t\t} else if (languages.indexOf(lang) === -1) {\n\t\t\tlang = 'en';\n\t\t}\n\n\t\tCKEDITOR.scriptLoader.load(\n\t\t\tAlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'),\n\t\t\tfunction(loaded) {\n\t\t\t\tif (loaded) {\n\t\t\t\t\tAlloyEditor.fire('languageResourcesLoaded');\n\t\t\t\t}\n\t\t\t},\n\t\t\t/* eslint-disable babel/no-invalid-this */\n\t\t\tthis // Always `AlloyEditor`.\n\t\t\t/* eslint-enable babel/no-invalid-this */\n\t\t);\n\t}\n};\n\n/**\n * Gets the full URL for AlloyEditor resources. By default, URLs\n * returned by this function contain a querystring parameter (\"t\")\n * set to the {@link CKEDITOR#timestamp} value.\n *\n * @memberof AlloyEditor\n * @method getUrl\n * @static\n * @param {String} resource The resource whose full URL we want to get.\n * It may be a full, absolute, or relative URL.\n * @return {String} The full URL.\n */\nconst getUrl = function(resource) {\n\tlet basePath = AlloyEditor.getBasePath();\n\n\t// If this is not a full or absolute path.\n\tif (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {\n\t\tresource = basePath + resource;\n\t}\n\n\t// Add the timestamp, except for directories.\n\tif (\n\t\tCKEDITOR.timestamp &&\n\t\tresource.charAt(resource.length - 1) !== '/' &&\n\t\t!/[&?]t=/.test(resource)\n\t) {\n\t\tresource +=\n\t\t\t(resource.indexOf('?') >= 0 ? '&' : '?') +\n\t\t\t't=' +\n\t\t\tCKEDITOR.timestamp;\n\t}\n\n\treturn resource;\n};\n\n/**\n * Implements event firing and subscribing via CKEDITOR.event.\n *\n * @memberof AlloyEditor\n * @method implementEventTarget\n * @static\n */\nconst implementEventTarget = function() {\n\tif (!AlloyEditor.fire && !AlloyEditor.on) {\n\t\tCKEDITOR.event.implementOn(AlloyEditor);\n\t}\n};\n\n/**\n * Regular expression which should match the script which have been used to load AlloyEditor.\n *\n * @memberof AlloyEditor\n * @property regexBasePath\n * @type {RegExp}\n * @static\n */\nconst regexBasePath = /(^|.*[\\\\/])(?:alloy-editor[^/]+|alloy-editor)\\.js(?:\\?.*|;.*)?$/i;\n\n/**\n * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event\n * is fired, AlloyEditor.Strings will be populated with data.\n *\n * @event languageResourcesLoaded\n */\n\n/**\n * Returns the required plugin names needed for a given plugin\n * if it is already registered or an empty array.\n *\n * @memberof AlloyEditor\n * @method getButtons\n * @param {Array} buttons An array of buttons or plugin names.\n * @return {Function} A function that can be invoked to resolve the requested button names.\n * @static\n */\nconst getButtons = function(buttons) {\n\treturn function() {\n\t\treturn buttons.reduce(function(acc, val) {\n\t\t\tval = BRIDGE_BUTTONS[val] || [val];\n\t\t\treturn acc.concat(val);\n\t\t}, []);\n\t};\n};\n\n/**\n * Register a button and try to get its required plugins.\n *\n * @memberof AlloyEditor\n * @method registerBridgeButton\n * @param {String} buttonName The name of the button.\n * @param {String} pluginName The name of the plugin that registers the button.\n * @static\n */\nconst registerBridgeButton = function(buttonName, pluginName) {\n\tif (!BRIDGE_BUTTONS[pluginName]) {\n\t\tBRIDGE_BUTTONS[pluginName] = [];\n\t}\n\n\tBRIDGE_BUTTONS[pluginName].push(buttonName);\n};\n\n/**\n * @method OOP\n * @memberof AlloyEditor\n */\nconst OOP = {\n\textend,\n};\n\nexport {\n\tAttribute,\n\tButtons,\n\tCore,\n\tLang,\n\tOOP,\n\tSelectionGetArrowBoxClasses,\n\tSelectionSetPosition,\n\tSelectionTest,\n\tSelections,\n\tToolbars,\n\teditable,\n\tgetBasePath,\n\tgetButtons,\n\tgetUrl,\n\timplementEventTarget,\n\tloadLanguageResources,\n\tregexBasePath,\n\tregisterBridgeButton,\n};\n","import '../core';\nimport '../plugins';\n\nimport '../components/uibridge';\n\nimport extend from '../oop/oop';\nimport Lang from '../oop/lang';\nimport Base from '../oop/base';\nimport Selections from '../selections/selections';\nimport UI from '../components/main.jsx';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst EMBED_VIDEO_WIDTH = 560;\nconst EMBED_VIDEO_HEIGHT = 315;\n\n/**\n * AlloyEditor main class. Creates instance of the editor and provides the user configuration\n * to the UI.\n *\n * @class Core\n * @constructor\n * @param {Object} config The configuration to be used.\n */\nfunction Core(config) {\n\tCore.superclass.constructor.call(this, config);\n}\n\nextend(\n\tCore,\n\tBase,\n\t{\n\t\t/**\n\t\t * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor\n\t\t * instance, passing it the provided configuration attributes.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method initializer\n\t\t * @param {Object} config Configuration object literal for the editor.\n\t\t */\n\t\tinitializer: function(config) {\n\t\t\tlet node = this.get('srcNode');\n\n\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\tnode.setAttribute('contenteditable', 'true');\n\t\t\t}\n\n\t\t\tlet editor = CKEDITOR.inline(node);\n\n\t\t\teditor.config.allowedContent = this.get('allowedContent');\n\n\t\t\teditor.config.toolbars = this.get('toolbars');\n\n\t\t\teditor.config.removePlugins = this.get('removePlugins');\n\n\t\t\teditor.config.extraPlugins = this.get('extraPlugins');\n\n\t\t\teditor.config.embedProviders = this.get('embedProviders');\n\n\t\t\teditor.config.placeholderClass = this.get('placeholderClass');\n\n\t\t\teditor.config.pasteFromWordRemoveStyles = false;\n\t\t\teditor.config.pasteFromWordRemoveFontStyles = false;\n\n\t\t\teditor.config.selectionKeystrokes = this.get('selectionKeystrokes');\n\n\t\t\teditor.config.spritemap = this.get('spritemap');\n\n\t\t\tLang.mix(editor.config, config);\n\n\t\t\tif (CKEDITOR.env.ie && !CKEDITOR.env.edge) {\n\t\t\t\t// editor.config.extraPlugins = editor.config.extraPlugins.replace(\n\t\t\t\t// \t'ae_dragresize',\n\t\t\t\t// \t'ae_dragresize_ie'\n\t\t\t\t// );\n\t\t\t\t// editor.config.removePlugins = editor.config.removePlugins.replace(\n\t\t\t\t// \t'ae_dragresize',\n\t\t\t\t// \t'ae_dragresize_ie'\n\t\t\t\t// );\n\t\t\t\tconst plugin = (CKEDITOR.env.version === 11) ? 'ae_dragresize_ie11' : 'ae_dragresize_ie';\n\n\t\t\t\teditor.config.extraPlugins = editor.config.extraPlugins.replace('ae_dragresize', plugin);\n\t\t\t\teditor.config.removePlugins = editor.config.removePlugins.replace('ae_dragresize', plugin);\n\t\t\t}\n\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tthis._addReadOnlyLinkClickListener(editor);\n\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.addClass('ae-editable');\n\t\t\t\t}.bind(this)\n\t\t\t);\n\n\t\t\tthis._editor = editor;\n\n\t\t\tAlloyEditor.loadLanguageResources(this._renderUI.bind(this));\n\t\t},\n\n\t\t/**\n\t\t * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor\n\t\t * instance and destroys all created toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method destructor\n\t\t */\n\t\tdestructor: function() {\n\t\t\tthis._destroyed = true;\n\n\t\t\tif (this._editorUIElement) {\n\t\t\t\tReactDOM.unmountComponentAtNode(this._editorUIElement);\n\t\t\t\tthis._editorUIElement.parentNode.removeChild(\n\t\t\t\t\tthis._editorUIElement\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tlet nativeEditor = this.get('nativeEditor');\n\n\t\t\tif (nativeEditor) {\n\t\t\t\tlet editable = nativeEditor.editable();\n\n\t\t\t\tif (editable) {\n\t\t\t\t\teditable.removeClass('ae-editable');\n\n\t\t\t\t\tif (this.get('enableContentEditable')) {\n\t\t\t\t\t\tthis.get('srcNode').setAttribute(\n\t\t\t\t\t\t\t'contenteditable',\n\t\t\t\t\t\t\t'false'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis._clearSelections();\n\n\t\t\t\tnativeEditor.destroy();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Clear selections from window object\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _clearSelections\n\t\t */\n\t\t_clearSelections: function() {\n\t\t\tlet nativeEditor = this.get('nativeEditor');\n\t\t\tlet isMSSelection = typeof window.getSelection != 'function';\n\n\t\t\tif (isMSSelection) {\n\t\t\t\tnativeEditor.document.$.selection.empty();\n\t\t\t} else {\n\t\t\t\tnativeEditor.document\n\t\t\t\t\t.getWindow()\n\t\t\t\t\t.$.getSelection()\n\t\t\t\t\t.removeAllRanges();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Method to set default link behavior\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _addReadOnlyLinkClickListener\n\t\t * @param {Object} editor\n\t\t */\n\t\t_addReadOnlyLinkClickListener: function(editor) {\n\t\t\teditor.editable().on('click', this._defaultReadOnlyClickFn, this, {\n\t\t\t\teditor: editor,\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens\n\t\t * the link in a new window.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @event readOnlyClick\n\t\t * @protected\n\t\t * @method _defaultReadOnlyClickFn\n\t\t * @param {Object} event The fired `click` event payload\n\t\t */\n\t\t_defaultReadOnlyClickFn: function(event) {\n\t\t\tlet mouseEvent = event.data.$;\n\t\t\tlet hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;\n\t\t\tlet shouldOpen = this._editor.config.readOnly || hasCtrlKey;\n\n\t\t\tmouseEvent.preventDefault();\n\n\t\t\tif (!shouldOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.listenerData.editor\n\t\t\t\t\t.editable()\n\t\t\t\t\t.editor.fire('readOnlyClick', event.data) !== false\n\t\t\t) {\n\t\t\t\tlet ckElement = new CKEDITOR.dom.elementPath(\n\t\t\t\t\tevent.data.getTarget(),\n\t\t\t\t\tthis\n\t\t\t\t);\n\t\t\t\tlet link = ckElement.lastElement;\n\n\t\t\t\tif (link) {\n\t\t\t\t\tlet href = link.$.attributes.href\n\t\t\t\t\t\t? link.$.attributes.href.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tlet target = hasCtrlKey\n\t\t\t\t\t\t? '_blank'\n\t\t\t\t\t\t: link.$.attributes.target\n\t\t\t\t\t\t? link.$.attributes.target.value\n\t\t\t\t\t\t: null;\n\t\t\t\t\tthis._redirectLink(href, target);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _getNativeEditor\n\t\t * @return {Object} The current instance of CKEditor.\n\t\t */\n\t\t_getNativeEditor: function() {\n\t\t\treturn this._editor;\n\t\t},\n\n\t\t/**\n\t\t * Redirects the browser to a given link\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _redirectLink\n\t\t * @param {string} href The href to take the browser to\n\t\t * @param {string=} target Specifies where to display the link\n\t\t */\n\t\t_redirectLink: function(href, target) {\n\t\t\tif (target && href) {\n\t\t\t\twindow.open(href, target);\n\t\t\t} else if (href) {\n\t\t\t\twindow.location.href = href;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Renders the specified from the user toolbars.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _renderUI\n\t\t */\n\t\t_renderUI: function() {\n\t\t\tif (!this._destroyed) {\n\t\t\t\tlet editorUIElement = document.createElement('div');\n\t\t\t\teditorUIElement.className = 'ae-ui';\n\n\t\t\t\tlet uiNode = this.get('uiNode') || document.body;\n\n\t\t\t\tuiNode.appendChild(editorUIElement);\n\n\t\t\t\tthis._mainUI = ReactDOM.render(\n\t\t\t\t\t<UI\n\t\t\t\t\t\teditor={this}\n\t\t\t\t\t\teventsDelay={this.get('eventsDelay')}\n\t\t\t\t\t\ttoolbars={this.get('toolbars')}\n\t\t\t\t\t/>,\n\t\t\t\t\teditorUIElement\n\t\t\t\t);\n\n\t\t\t\tthis._editorUIElement = editorUIElement;\n\n\t\t\t\tthis.get('nativeEditor').fire('uiReady');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * The function returns an HTML element from the passed value. If the passed value is a string, it should be\n\t\t * the Id of the element which have to be retrieved from the DOM.\n\t\t * If an HTML Element is passed, the element itself will be returned.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @method _toElement\n\t\t * @protected\n\t\t * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,\n\t\t * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.\n\t\t * @return {HTMLElement} An HTML element.\n\t\t */\n\t\t_toElement: function(value) {\n\t\t\tif (Lang.isString(value)) {\n\t\t\t\tvalue = document.getElementById(value);\n\t\t\t}\n\n\t\t\treturn value;\n\t\t},\n\n\t\t/**\n\t\t * Validates the allowed content attribute. Look\n\t\t * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the\n\t\t * supported values.\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateAllowedContent\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid configuration, false otherwise\n\t\t */\n\t\t_validateAllowedContent: function(value) {\n\t\t\treturn (\n\t\t\t\tLang.isString(value) ||\n\t\t\t\tLang.isObject(value) ||\n\t\t\t\tLang.isBoolean(value)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Validates the value of toolbars attribute\n\t\t *\n\t\t * @memberof Core\n\t\t * @instance\n\t\t * @protected\n\t\t * @method _validateToolbars\n\t\t * @param {Any} value The value to be checked\n\t\t * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise\n\t\t */\n\t\t_validateToolbars: function(value) {\n\t\t\treturn Lang.isObject(value) || Lang.isNull(value);\n\t\t},\n\t},\n\t{\n\t\tATTRS: {\n\t\t\t/**\n\t\t\t * Configures the allowed content for the current instance of AlloyEditor.\n\t\t\t * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)\n\t\t\t * for more information about the valid values.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property allowedContent\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t * @type {Boolean, String, Object}\n\t\t\t */\n\t\t\tallowedContent: {\n\t\t\t\tvalidator: '_validateAllowedContent',\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Callback to be invoked when clicking on the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkCallback\n\t\t\t * @default undefined\n\t\t\t * @type {Function|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkCallback: {\n\t\t\t\tvalidator: Lang.isFunction,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Configuration for the\n\t\t\t * <code>src/components/buttons/button-link-edit-browse.jsx</code>\n\t\t\t * component.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @propety documentBrowseLinkUrl\n\t\t\t * @default undefined\n\t\t\t * @type {String|undefined}\n\t\t\t */\n\t\t\tdocumentBrowseLinkUrl: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: undefined,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * List of embed providers for videos\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property embedProviders\n\t\t\t * @default []\n\t\t\t * @type Array}\n\t\t\t */\n\t\t\tembedProviders: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'facebook',\n\t\t\t\t\t\ttpl: `<iframe allowFullScreen=\"true\" allowTransparency=\"true\"\n                         frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n                         src=\"https://www.facebook.com/plugins/video.php?href={embedId}'\n                         &show_text=0&width=${EMBED_VIDEO_WIDTH}&height=${EMBED_VIDEO_HEIGHT}\" scrolling=\"no\"\n                         style=\"border:none;overflow:hidden\" width=\"${EMBED_VIDEO_WIDTH}}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'(https?:\\\\/\\\\/(?:www\\\\.)?facebook.com\\\\/\\\\S*\\\\/videos\\\\/\\\\S*)',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'twitch',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen=\"true\" frameborder=\"0\"\n                         height=\"${EMBED_VIDEO_HEIGHT}\"\n                         src=\"https://player.twitch.tv/?autoplay=false&video={embedId}\"\n                         scrolling=\"no\" width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?twitch.tv\\\\/videos\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'vimeo',\n\t\t\t\t\t\ttpl: `<iframe allowfullscreen frameborder=\"0\" height=\"${EMBED_VIDEO_HEIGHT}\"\n                         mozallowfullscreen src=\"https://player.vimeo.com/video/{embedId}\"\n                         webkitallowfullscreen width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/album\\\\/.*\\\\/video\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/channels\\\\/.*\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/groups\\\\/.*\\\\/videos\\\\/(\\\\S*)',\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?vimeo\\\\.com\\\\/(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'youtube',\n\t\t\t\t\t\ttpl: `<iframe allow=\"autoplay; encrypted-media\" allowfullscreen\n                         height=\"${EMBED_VIDEO_HEIGHT}\" frameborder=\"0\"\n                         src=\"https://www.youtube.com/embed/{embedId}?rel=0\"\n                         width=\"${EMBED_VIDEO_WIDTH}\"></iframe>`,\n\t\t\t\t\t\turlSchemes: [\n\t\t\t\t\t\t\t'https?:\\\\/\\\\/(?:www\\\\.)?youtube.com\\\\/watch\\\\?v=(\\\\S*)$',\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies whether AlloyEditor set the contenteditable attribute\n\t\t\t * to \"true\" on its srcNode.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property enableContentEditable\n\t\t\t * @type Boolean\n\t\t\t * @default true\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tenableContentEditable: {\n\t\t\t\tvalidator: Lang.isBoolean,\n\t\t\t\tvalue: true,\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The delay (timeout), in ms, after which events such like key or mouse events will be processed.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property eventsDelay\n\t\t\t * @type {Number}\n\t\t\t */\n\t\t\teventsDelay: {\n\t\t\t\tvalidator: Lang.isNumber,\n\t\t\t\tvalue: 100,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to\n\t\t\t * make AlloyEditor to work properly.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property extraPlugins\n\t\t\t * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\textraPlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue:\n\t\t\t\t\t'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' +\n\t\t\t\t\t'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,ae_dragresize_ie11,' +\n\t\t\t\t\t'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the \"mode\" for alloy editor\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property mode\n\t\t\t * @default 'simple'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tmode: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'simple',\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property nativeEditor\n\t\t\t * @readOnly\n\t\t\t * @type {Object}\n\t\t\t */\n\t\t\tnativeEditor: {\n\t\t\t\tgetter: '_getNativeEditor',\n\t\t\t\treadOnly: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the class, which should be added by Placeholder plugin\n\t\t\t * {{#crossLink \"CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}\n\t\t\t * when editor is not focused.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property placeholderClass\n\t\t\t * @default 'ae-placeholder'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tplaceholderClass: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'ae-placeholder',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.\n\t\t\t * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor\n\t\t\t * comes with its own highly optimized copy of CKEditor (just customized via their official download page).\n\t\t\t * This version does not come with the unneeded plugins, so the value of this property won't be needed.\n\t\t\t * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the\n\t\t\t * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them\n\t\t\t * entirely from CKEditor. It just removes them from its current instance, in which you will use different\n\t\t\t * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same\n\t\t\t * page!\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property removePlugins\n\t\t\t * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'\n\t\t\t * @writeOnce\n\t\t\t * @type {String}\n\t\t\t */\n\t\t\tremovePlugins: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'contextmenu,toolbar,elementspath,resize,liststyle,link',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar\n\t\t\t * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke\n\t\t\t * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with\n\t\t\t * the selection name to trigger.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property selectionKeystrokes\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tselectionKeystrokes: {\n\t\t\t\tvalidator: Lang.isArray,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t\t\t\t\tselection: 'link',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t\t\t\t\tselection: 'embed',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The path to the spritemap SVG used for icons\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property spritemap\n\t\t\t * @type String\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tspritemap: {\n\t\t\t\tvalidator: Lang.isString,\n\t\t\t\tvalue: 'alloy-editor/assets/icons/icons.svg',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, which AlloyEditor should use as an editable area.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property srcNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tsrcNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The toolbars configuration for this editor instance\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property {Object} toolbars\n\t\t\t */\n\t\t\ttoolbars: {\n\t\t\t\tvalidator: '_validateToolbars',\n\t\t\t\tvalue: {\n\t\t\t\t\tadd: {\n\t\t\t\t\t\tbuttons: ['image', 'embed', 'camera', 'hline', 'table'],\n\t\t\t\t\t\ttabIndex: 2,\n\t\t\t\t\t},\n\t\t\t\t\tstyles: {\n\t\t\t\t\t\tselections: Selections,\n\t\t\t\t\t\ttabIndex: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.\n\t\t\t *\n\t\t\t * @memberof Core\n\t\t\t * @instance\n\t\t\t * @property uiNode\n\t\t\t * @type String | Node\n\t\t\t * @writeOnce\n\t\t\t */\n\t\t\tuiNode: {\n\t\t\t\tsetter: '_toElement',\n\t\t\t\twriteOnce: true,\n\t\t\t},\n\t\t},\n\t}\n);\n\nCKEDITOR.event.implementOn(Core);\n\nexport default Core;\n","import debounce from './debounce';\nimport link from './link';\nimport plugins from './plugins';\nimport selectionRegion from './selection-region';\nimport table from './table';\nimport tools from './tools';\nimport uicore from './uicore';\n\nexport {debounce, link, plugins, selectionRegion, table, tools, uicore};\n","(function() {\n\t'use strict';\n\n\t/**\n\t * Debounce util function. If a function execution is expensive, it might be debounced. This means\n\t * that it will be executed after some amount of time after its last call. For example, if we attach a\n\t * a function on scroll event, it might be called hundreds times per second. In this case it may be\n\t * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last\n\t * scroll event.\n\t *\n\t * @memberof CKEDITOR.tools\n\t * @method debounce\n\t * @param {Array} args An array of arguments which the callback will receive.\n\t * @param {Function} callback The callback which has to be called after given timeout.\n\t * @param {Number} timeout Timeout in milliseconds after which the callback will be called.\n\t * @param {Object} context The context in which the callback will be called. This argument is optional.\n\t * @static\n\t */\n\tCKEDITOR.tools.debounce =\n\t\tCKEDITOR.tools.debounce ||\n\t\tfunction(callback, timeout, context, args = []) {\n\t\t\tlet debounceHandle;\n\n\t\t\tlet callFn = function(...callArgs) {\n\t\t\t\t/* eslint-disable babel/no-invalid-this */\n\t\t\t\tlet callContext = context || this;\n\t\t\t\t/* eslint-enable babel/no-invalid-this */\n\n\t\t\t\tclearTimeout(debounceHandle);\n\n\t\t\t\tdebounceHandle = setTimeout(function() {\n\t\t\t\t\tcallback.apply(callContext, [...callArgs, ...args]);\n\t\t\t\t}, timeout);\n\t\t\t};\n\n\t\t\tcallFn.detach = function() {\n\t\t\t\tclearTimeout(debounceHandle);\n\t\t\t};\n\n\t\t\treturn callFn;\n\t\t};\n})();\n","(function() {\n\t'use strict';\n\n\tlet REGEX_BOOKMARK_SCHEME = /^#.*/i;\n\tlet REGEX_EMAIL_SCHEME = /^[a-z0-9\\u0430-\\u044F._-]+@/i;\n\tlet REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\\-.]*):|^\\//i;\n\n\t/**\n\t * Link class utility. Provides methods for create, delete and update links.\n\t *\n\t * @class CKEDITOR.Link\n\t * @constructor\n\t * @param {Object} editor The CKEditor instance.\n\t */\n\tfunction Link(editor, config) {\n\t\tthis._editor = editor;\n\t\tthis.appendProtocol =\n\t\t\tconfig && config.appendProtocol === false ? false : true;\n\t}\n\n\tLink.prototype = {\n\t\tconstructor: Link,\n\n\t\t/**\n\t\t * Advances the editor selection to the next available position after a\n\t\t * given link or the one in the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Link\n\t\t * @method advanceSelection\n\t\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t\t */\n\t\tadvanceSelection: function(link) {\n\t\t\tlink = link || this.getFromSelection();\n\n\t\t\tlet range = this._editor.getSelection().getRanges()[0];\n\n\t\t\tif (link) {\n\t\t\t\trange.moveToElementEditEnd(link);\n\n\t\t\t\tlet nextNode = range.getNextEditableNode();\n\n\t\t\t\tif (\n\t\t\t\t\tnextNode &&\n\t\t\t\t\t!this._editor.element.equals(\n\t\t\t\t\t\tnextNode.getCommonAncestor(link)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tlet whitespace = /\\s/.exec(nextNode.getText());\n\n\t\t\t\t\tlet offset = whitespace ? whitespace.index + 1 : 0;\n\n\t\t\t\t\trange.setStart(nextNode, offset);\n\t\t\t\t\trange.setEnd(nextNode, offset);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis._editor.getSelection().selectRanges([range]);\n\t\t},\n\n\t\t/**\n\t\t * Create a link with given URI as href.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Link\n\t\t * @method create\n\t\t * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.\n\t\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t\t * @param {String} URI The URI of the link.\n\t\t */\n\t\tcreate: function(URI, attrs, modifySelection) {\n\t\t\tlet selection = this._editor.getSelection();\n\n\t\t\tlet range = selection.getRanges()[0];\n\n\t\t\tif (range.collapsed) {\n\t\t\t\tlet text = new CKEDITOR.dom.text(URI, this._editor.document);\n\t\t\t\trange.insertNode(text);\n\t\t\t\trange.selectNodeContents(text);\n\t\t\t}\n\n\t\t\tURI = this._getCompleteURI(URI);\n\n\t\t\tlet linkAttrs = CKEDITOR.tools.merge(\n\t\t\t\t{\n\t\t\t\t\t'data-cke-saved-href': URI,\n\t\t\t\t\thref: URI,\n\t\t\t\t},\n\t\t\t\tattrs\n\t\t\t);\n\n\t\t\tlet style = new CKEDITOR.style({\n\t\t\t\tattributes: linkAttrs,\n\t\t\t\telement: 'a',\n\t\t\t});\n\n\t\t\tstyle.type = CKEDITOR.STYLE_INLINE;\n\t\t\tstyle.applyToRange(range, this._editor);\n\n\t\t\tif (modifySelection && modifySelection.advance) {\n\t\t\t\tthis.advanceSelection();\n\t\t\t} else {\n\t\t\t\trange.select();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieves a link from the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Link\n\t\t * @method getFromSelection\n\t\t * @return {CKEDITOR.dom.element} The retrieved link or null if not found.\n\t\t */\n\t\tgetFromSelection: function() {\n\t\t\tlet selection = this._editor.getSelection();\n\n\t\t\tlet selectedElement = selection.getSelectedElement();\n\n\t\t\tif (selectedElement && selectedElement.is('a')) {\n\t\t\t\treturn selectedElement;\n\t\t\t}\n\n\t\t\tif (selectedElement && CKEDITOR.env.ie) {\n\t\t\t\tlet children = selectedElement.getChildren();\n\n\t\t\t\tlet count = children.count();\n\n\t\t\t\tfor (let i = 0; i < count; i++) {\n\t\t\t\t\tlet node = children.getItem(i);\n\n\t\t\t\t\tif (node.is('a')) {\n\t\t\t\t\t\treturn node;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet range = selection.getRanges()[0];\n\n\t\t\tif (range) {\n\t\t\t\trange.shrink(CKEDITOR.SHRINK_TEXT);\n\n\t\t\t\treturn this._editor\n\t\t\t\t\t.elementPath(range.getCommonAncestor())\n\t\t\t\t\t.contains('a', 1);\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\t/**\n\t\t * Removes a link from the editor.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Link\n\t\t * @method remove\n\t\t * @param {CKEDITOR.dom.element} link The link element which link style should be removed.\n\t\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t\t */\n\t\tremove: function(link, modifySelection) {\n\t\t\tlet editor = this._editor;\n\n\t\t\tif (link) {\n\t\t\t\tif (modifySelection && modifySelection.advance) {\n\t\t\t\t\tthis.advanceSelection();\n\t\t\t\t}\n\n\t\t\t\tlink.remove(editor);\n\t\t\t} else {\n\t\t\t\tlet style = new CKEDITOR.style({\n\t\t\t\t\talwaysRemoveElement: 1,\n\t\t\t\t\telement: 'a',\n\t\t\t\t\ttype: CKEDITOR.STYLE_INLINE,\n\t\t\t\t});\n\n\t\t\t\t// 'removeStyle()' removes the style from the editor's current selection.\n\t\t\t\t//  We need to force the selection to be the whole link element\n\t\t\t\t//  to remove it properly.\n\n\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\tselection.selectElement(selection.getStartElement());\n\n\t\t\t\teditor.removeStyle(style);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Updates the href of an already existing link.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Link\n\t\t * @method update\n\t\t * @param {CKEDITOR.dom.element} link The link element which href should be removed.\n\t\t * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.\n\t\t * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.\n\t\t */\n\t\tupdate: function(attrs, link, modifySelection) {\n\t\t\tlet instance = this;\n\n\t\t\tlink = link || this.getFromSelection();\n\n\t\t\tif (typeof attrs === 'string') {\n\t\t\t\tlet uri = instance._getCompleteURI(attrs);\n\n\t\t\t\tlink.setAttributes({\n\t\t\t\t\t'data-cke-saved-href': uri,\n\t\t\t\t\thref: uri,\n\t\t\t\t});\n\t\t\t} else if (typeof attrs === 'object') {\n\t\t\t\tlet removeAttrs = [];\n\n\t\t\t\tlet setAttrs = {};\n\n\t\t\t\tObject.keys(attrs).forEach(function(key) {\n\t\t\t\t\tif (attrs[key] === null) {\n\t\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\t\tremoveAttrs.push('data-cke-saved-href');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tremoveAttrs.push(key);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (key === 'href') {\n\t\t\t\t\t\t\tlet uri = instance._getCompleteURI(attrs[key]);\n\n\t\t\t\t\t\t\tsetAttrs['data-cke-saved-href'] = uri;\n\t\t\t\t\t\t\tsetAttrs[key] = uri;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetAttrs[key] = attrs[key];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tlink.removeAttributes(removeAttrs);\n\t\t\t\tlink.setAttributes(setAttrs);\n\t\t\t}\n\n\t\t\tif (modifySelection && modifySelection.advance) {\n\t\t\t\tthis.advanceSelection(link);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.\n\t\t * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI\n\t\t * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.\n\t\t * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with\n\t\t * hierarchical path '//' is added to the URI.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Link\n\t\t * @method _getCompleteURI\n\t\t * @param {String} URI The URI of the link.\n\t\t * @protected\n\t\t * @return {String} The URI updated with the protocol.\n\t\t */\n\t\t_getCompleteURI: function(URI) {\n\t\t\tif (REGEX_BOOKMARK_SCHEME.test(URI)) {\n\t\t\t\treturn URI;\n\t\t\t} else if (REGEX_EMAIL_SCHEME.test(URI)) {\n\t\t\t\tURI = 'mailto:' + URI;\n\t\t\t} else if (!REGEX_URI_SCHEME.test(URI)) {\n\t\t\t\tURI = this.appendProtocol ? 'http://' + URI : URI;\n\t\t\t}\n\n\t\t\treturn URI;\n\t\t},\n\t};\n\n\tCKEDITOR.Link = CKEDITOR.Link || Link;\n})();\n","(function() {\n\t'use strict';\n\n\t// Wraps each of the plugin lifecycle methods in a closure that will\n\t// set up the editor.__processingPlugin__ variable so it can be globally\n\t// accessed exposing the plugin being processed and the lifecycle phase\n\t// in which it is happening\n\t//\n\t// @param {Object} plugin The plugin to wrap lifecycle methods\n\tlet wrapPluginLifecycle = function(plugin) {\n\t\tlet methods = ['beforeInit', 'init', 'afterInit'];\n\n\t\tmethods.forEach(function(methodName) {\n\t\t\tif (plugin[methodName]) {\n\t\t\t\tplugin[methodName] = CKEDITOR.tools.override(\n\t\t\t\t\tplugin[methodName],\n\t\t\t\t\tfunction(originalPluginMethod) {\n\t\t\t\t\t\tlet payload = {\n\t\t\t\t\t\t\tphase: methodName,\n\t\t\t\t\t\t\tplugin: plugin,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn function(editor) {\n\t\t\t\t\t\t\teditor.__processingPlugin__ = payload;\n\n\t\t\t\t\t\t\t// eslint-disable-next-line babel/no-invalid-this\n\t\t\t\t\t\t\toriginalPluginMethod.call(this, editor);\n\n\t\t\t\t\t\t\teditor.__processingPlugin__ = null;\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\t// Filters the requires object to remove unwanted dependencies. At this point\n\t// only 'toolbar' has been identified, but more can appear. An unwanted plugin\n\t// dependency is one that prevents a necessary plugin from being removed\n\t//\n\t// @param {string|Array<string>} requires The requires object\n\t// @return {string} The filtered requires object\n\tlet filterUnwantedDependencies = function(requires) {\n\t\tif (typeof requires === 'string') {\n\t\t\trequires = requires.split(',');\n\t\t}\n\n\t\treturn requires.filter(function(require) {\n\t\t\treturn require !== 'toolbar';\n\t\t});\n\t};\n\n\t/**\n\t * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.\n\t *\n\t * @class CKEDITOR.plugins\n\t */\n\n\t/**\n\t * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of\n\t * the loaded plugins to add some metainformation about the plugin being processed\n\t *\n\t * @param {String/Array} names The name of the resource to load. It may be a\n\t * string with a single resource name, or an array with several names.\n\t * @param {Function} callback A function to be called when all resources\n\t * are loaded. The callback will receive an array containing all loaded names.\n\t * @param {Object} [scope] The scope object to be used for the callback call.\n\t * @memberof CKEDITOR.plugins\n\t * @method load\n\t * @static\n\t */\n\tCKEDITOR.plugins.load = CKEDITOR.tools.override(\n\t\tCKEDITOR.plugins.load,\n\t\tfunction(pluginsLoad) {\n\t\t\t// Wrap original load function so we can transform the plugin input parameter\n\t\t\t// before passing it down to the original callback\n\t\t\treturn function(names, callback, scope) {\n\t\t\t\t// eslint-disable-next-line babel/no-invalid-this\n\t\t\t\tpluginsLoad.call(this, names, function(plugins) {\n\t\t\t\t\tif (callback) {\n\t\t\t\t\t\tObject.keys(plugins).forEach(function(pluginName) {\n\t\t\t\t\t\t\tlet plugin = plugins[pluginName];\n\n\t\t\t\t\t\t\tif (plugin.requires) {\n\t\t\t\t\t\t\t\tplugin.requires = filterUnwantedDependencies(\n\t\t\t\t\t\t\t\t\tplugin.requires\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\twrapPluginLifecycle(plugin);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tcallback.call(scope, plugins);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t);\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_selectionregion')) {\n\t\treturn;\n\t}\n\n\tCKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;\n\tCKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;\n\tCKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;\n\tCKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;\n\n\t/**\n\t * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end\n\t * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will\n\t * be merged into each editor instance, so the developer may use them directly via the editor, without making\n\t * an instance of this class**.\n\t *\n\t * @class SelectionRegion\n\t * @constructor\n\t */\n\tfunction SelectionRegion() {}\n\n\tSelectionRegion.prototype = {\n\t\tconstructor: SelectionRegion,\n\n\t\t/**\n\t\t * Creates selection from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromPoint\n\t\t * @param {Number} x X point in page coordinates.\n\t\t * @param {Number} y Y point in page coordinates.\n\t\t */\n\t\tcreateSelectionFromPoint: function(x, y) {\n\t\t\tthis.createSelectionFromRange(x, y, x, y);\n\t\t},\n\n\t\t/**\n\t\t * Creates selection from range. A range consists from two points in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method createSelectionFromRange\n\t\t * @param {Number} startX X coordinate of the first point.\n\t\t * @param {Number} startY Y coordinate of the first point.\n\t\t * @param {Number} endX X coordinate of the second point.\n\t\t * @param {Number} endY Y coordinate of the second point.\n\t\t */\n\t\tcreateSelectionFromRange: function(startX, startY, endX, endY) {\n\t\t\tlet end;\n\t\t\tlet endContainer;\n\t\t\tlet endOffset;\n\t\t\tlet range;\n\t\t\tlet start;\n\t\t\tlet startContainer;\n\t\t\tlet startOffset;\n\n\t\t\tif (typeof document.caretPositionFromPoint === 'function') {\n\t\t\t\tstart = document.caretPositionFromPoint(startX, startY);\n\t\t\t\tend = document.caretPositionFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.offsetNode;\n\t\t\t\tendContainer = end.offsetNode;\n\n\t\t\t\tstartOffset = start.offset;\n\t\t\t\tendOffset = end.offset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t} else if (typeof document.caretRangeFromPoint === 'function') {\n\t\t\t\tstart = document.caretRangeFromPoint(startX, startY);\n\t\t\t\tend = document.caretRangeFromPoint(endX, endY);\n\n\t\t\t\tstartContainer = start.startContainer;\n\t\t\t\tendContainer = end.startContainer;\n\n\t\t\t\tstartOffset = start.startOffset;\n\t\t\t\tendOffset = end.startOffset;\n\n\t\t\t\trange = this.createRange();\n\t\t\t}\n\n\t\t\tif (range && document.getSelection) {\n\t\t\t\trange.setStart(\n\t\t\t\t\tnew CKEDITOR.dom.node(startContainer),\n\t\t\t\t\tstartOffset\n\t\t\t\t);\n\t\t\t\trange.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);\n\n\t\t\t\tthis.getSelection().selectRanges([range]);\n\t\t\t} else if (typeof document.body.createTextRange === 'function') {\n\t\t\t\tlet selection = this.getSelection();\n\n\t\t\t\tselection.unlock();\n\n\t\t\t\trange = document.body.createTextRange();\n\t\t\t\trange.moveToPoint(startX, startY);\n\n\t\t\t\tlet endRange = range.duplicate();\n\t\t\t\tendRange.moveToPoint(endX, endY);\n\n\t\t\t\trange.setEndPoint('EndToEnd', endRange);\n\t\t\t\trange.select();\n\n\t\t\t\tthis.getSelection().lock();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current position of the caret. The points are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getCaretRegion\n\t\t * @return {Object} Returns object with the following properties:\n\t\t * - bottom\n\t\t * - left\n\t\t * - right\n\t\t * - top\n\t\t */\n\t\tgetCaretRegion: function() {\n\t\t\tlet selection = this.getSelection();\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t};\n\n\t\t\tlet bookmarks = selection.createBookmarks();\n\n\t\t\tif (!bookmarks.length) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tlet bookmarkNodeEl = bookmarks[0].startNode.$;\n\n\t\t\tbookmarkNodeEl.style.display = 'inline-block';\n\n\t\t\tregion = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();\n\n\t\t\tbookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);\n\n\t\t\tlet scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();\n\n\t\t\tregion.bottom = scrollPos.y + region.bottom;\n\t\t\tregion.left = scrollPos.x + region.left;\n\t\t\tregion.right = scrollPos.x + region.right;\n\t\t\tregion.top = scrollPos.y + region.top;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns data for the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionData\n\t\t * @return {Object|null} Returns an object with the following data:\n\t\t * - element - The currently selected element, if any\n\t\t * - text - The selected text\n\t\t * - region - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method\"}}{{/crossLink}}\n\t\t */\n\t\tgetSelectionData: function() {\n\t\t\tlet selection = this.getSelection();\n\n\t\t\tif (!selection.getNative()) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet result = {\n\t\t\t\telement: selection.getSelectedElement(),\n\t\t\t\ttext: selection.getSelectedText(),\n\t\t\t};\n\n\t\t\tresult.region = this.getSelectionRegion(selection);\n\n\t\t\treturn result;\n\t\t},\n\n\t\t/**\n\t\t * Returns the region of the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionRegion\n\t\t * @return {Object} Returns object which is being returned from\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method\"}}{{/crossLink}} with three more properties:\n\t\t * - direction - the direction of the selection. Can be one of these:\n\t\t *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM\n\t\t *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP\n\t\t * - height - The height of the selection region\n\t\t * - width - The width of the selection region\n\t\t */\n\t\tgetSelectionRegion: function() {\n\t\t\tlet region = this.getClientRectsRegion();\n\n\t\t\tregion.direction = this.getSelectionDirection();\n\n\t\t\tregion.height = region.bottom - region.top;\n\t\t\tregion.width = region.right - region.left;\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Returns true if the current selection is empty, false otherwise.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method isSelectionEmpty\n\t\t * @return {Boolean} Returns true if the current selection is empty, false otherwise.\n\t\t */\n\t\tisSelectionEmpty: function() {\n\t\t\tlet ranges;\n\n\t\t\tlet selection = this.getSelection();\n\n\t\t\treturn (\n\t\t\t\tselection.getType() === CKEDITOR.SELECTION_NONE ||\n\t\t\t\t((ranges = selection.getRanges()) &&\n\t\t\t\t\tranges.length === 1 &&\n\t\t\t\t\tranges[0].collapsed)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,\n\t\t * normalized across browses. All offsets below are in page coordinates.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getClientRectsRegion\n\t\t * @return {Object} Returns object with the following data:\n\t\t * - bottom - bottom offset of all client rectangles\n\t\t * - left - left offset of all client rectangles\n\t\t * - right - right offset of all client rectangles\n\t\t * - top - top offset of all client rectangles\n\t\t * - startRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t * - endRect - An Object, which contains the following information:\n\t\t *     + bottom - bottom offset\n\t\t *     + height - the height of the rectangle\n\t\t *     + left - left offset of the selection\n\t\t *     + right - right offset of the selection\n\t\t *     + top - top offset of the selection\n\t\t *     + width - the width of the rectangle\n\t\t *\n\t\t * If there is no native selection, the objects will be filled with 0.\n\t\t */\n\t\tgetClientRectsRegion: function() {\n\t\t\tlet selection = this.getSelection();\n\t\t\tlet nativeSelection = selection.getNative();\n\n\t\t\tlet defaultRect = {\n\t\t\t\tbottom: 0,\n\t\t\t\theight: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\twidth: 0,\n\t\t\t};\n\n\t\t\tlet region = {\n\t\t\t\tbottom: 0,\n\t\t\t\tendRect: defaultRect,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tstartRect: defaultRect,\n\t\t\t};\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn region;\n\t\t\t}\n\n\t\t\tlet bottom = 0;\n\t\t\tlet clientRects;\n\t\t\tlet left = Infinity;\n\t\t\tlet right = -Infinity;\n\t\t\tlet top = Infinity;\n\n\t\t\tif (nativeSelection.createRange) {\n\t\t\t\tclientRects = nativeSelection.createRange().getClientRects();\n\t\t\t} else {\n\t\t\t\tclientRects =\n\t\t\t\t\tnativeSelection.rangeCount > 0\n\t\t\t\t\t\t? nativeSelection.getRangeAt(0).getClientRects()\n\t\t\t\t\t\t: [];\n\t\t\t}\n\n\t\t\tif (clientRects.length === 0) {\n\t\t\t\tregion = this.getCaretRegion();\n\t\t\t} else {\n\t\t\t\tfor (let i = 0, length = clientRects.length; i < length; i++) {\n\t\t\t\t\tlet item = clientRects[i];\n\n\t\t\t\t\tif (item.left < left) {\n\t\t\t\t\t\tleft = item.left;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.right > right) {\n\t\t\t\t\t\tright = item.right;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.top < top) {\n\t\t\t\t\t\ttop = item.top;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (item.bottom > bottom) {\n\t\t\t\t\t\tbottom = item.bottom;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tlet scrollPos = new CKEDITOR.dom.window(\n\t\t\t\t\twindow\n\t\t\t\t).getScrollPosition();\n\n\t\t\t\tregion.bottom = scrollPos.y + bottom;\n\t\t\t\tregion.left = scrollPos.x + left;\n\t\t\t\tregion.right = scrollPos.x + right;\n\t\t\t\tregion.top = scrollPos.y + top;\n\n\t\t\t\tif (clientRects.length) {\n\t\t\t\t\tlet endRect = clientRects[clientRects.length - 1];\n\t\t\t\t\tlet startRect = clientRects[0];\n\n\t\t\t\t\tregion.endRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + endRect.bottom,\n\t\t\t\t\t\theight: endRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + endRect.left,\n\t\t\t\t\t\tright: scrollPos.x + endRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + endRect.top,\n\t\t\t\t\t\twidth: endRect.width,\n\t\t\t\t\t};\n\n\t\t\t\t\tregion.startRect = {\n\t\t\t\t\t\tbottom: scrollPos.y + startRect.bottom,\n\t\t\t\t\t\theight: startRect.height,\n\t\t\t\t\t\tleft: scrollPos.x + startRect.left,\n\t\t\t\t\t\tright: scrollPos.x + startRect.right,\n\t\t\t\t\t\ttop: scrollPos.y + startRect.top,\n\t\t\t\t\t\twidth: startRect.width,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn region;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.\n\t\t * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.\n\t\t *\n\t\t * @instance\n\t\t * @memberof SelectionRegion\n\t\t * @method getSelectionDirection\n\t\t * @return {Number} Returns a number which represents selection direction. It might be one of these:\n\t\t * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t */\n\t\tgetSelectionDirection: function() {\n\t\t\tlet direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;\n\t\t\tlet selection = this.getSelection();\n\t\t\tlet nativeSelection = selection.getNative();\n\n\t\t\tif (!nativeSelection) {\n\t\t\t\treturn direction;\n\t\t\t}\n\n\t\t\tlet anchorNode;\n\n\t\t\tif (\n\t\t\t\t(anchorNode = nativeSelection.anchorNode) &&\n\t\t\t\tanchorNode.compareDocumentPosition\n\t\t\t) {\n\t\t\t\tlet position = anchorNode.compareDocumentPosition(\n\t\t\t\t\tnativeSelection.focusNode\n\t\t\t\t);\n\n\t\t\t\tif (\n\t\t\t\t\t(!position &&\n\t\t\t\t\t\tnativeSelection.anchorOffset >\n\t\t\t\t\t\t\tnativeSelection.focusOffset) ||\n\t\t\t\t\tposition === Node.DOCUMENT_POSITION_PRECEDING\n\t\t\t\t) {\n\t\t\t\t\tdirection = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn direction;\n\t\t},\n\t};\n\n\tCKEDITOR.plugins.add('ae_selectionregion', {\n\t\tinit: function(editor) {\n\t\t\tlet attr;\n\t\t\tlet hasOwnProperty;\n\n\t\t\thasOwnProperty = Object.prototype.hasOwnProperty;\n\n\t\t\tfor (attr in SelectionRegion.prototype) {\n\t\t\t\tif (\n\t\t\t\t\thasOwnProperty.call(SelectionRegion.prototype, attr) &&\n\t\t\t\t\ttypeof editor[attr] === 'undefined'\n\t\t\t\t) {\n\t\t\t\t\teditor[attr] = SelectionRegion.prototype[attr];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tlet IE_NON_DIRECTLY_EDITABLE_ELEMENT = {\n\t\ttable: 1,\n\t\tcol: 1,\n\t\tcolgroup: 1,\n\t\ttbody: 1,\n\t\ttd: 1,\n\t\ttfoot: 1,\n\t\tth: 1,\n\t\tthead: 1,\n\t\ttr: 1,\n\t};\n\n\t/**\n\t * Table class utility. Provides methods for create, delete and update tables.\n\t *\n\t * @class CKEDITOR.Table\n\t * @constructor\n\t * @param {Object} editor The CKEditor instance.\n\t */\n\n\tfunction Table(editor) {\n\t\tthis._editor = editor;\n\t}\n\n\tTable.HEADING_BOTH = 'Both';\n\tTable.HEADING_COL = 'Column';\n\tTable.HEADING_NONE = 'None';\n\tTable.HEADING_ROW = 'Row';\n\n\tTable.prototype = {\n\t\tconstructor: Table,\n\n\t\t/**\n\t\t * Creates a table.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method create\n\t\t * @param {Object} config Table configuration object\n\t\t * @return {Object} The created table\n\t\t */\n\t\tcreate: function(config) {\n\t\t\tlet editor = this._editor;\n\t\t\tlet table = this._createElement('table');\n\n\t\t\tconfig = config || {};\n\n\t\t\t// Generate the rows and cols.\n\t\t\tlet tbody = table.append(this._createElement('tbody'));\n\t\t\tlet rows = config.rows || 1;\n\t\t\tlet cols = config.cols || 1;\n\n\t\t\tfor (let i = 0; i < rows; i++) {\n\t\t\t\tlet row = tbody.append(this._createElement('tr'));\n\t\t\t\tfor (let j = 0; j < cols; j++) {\n\t\t\t\t\tlet cell = row.append(this._createElement('td'));\n\n\t\t\t\t\tcell.appendBogus();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setAttributes(table, config.attrs);\n\t\t\tthis.setHeading(table, config.heading);\n\n\t\t\t// Insert the table element if we're creating one.\n\t\t\teditor.insertElement(table);\n\n\t\t\tlet firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);\n\t\t\tlet range = editor.createRange();\n\t\t\trange.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);\n\t\t\trange.select();\n\n\t\t\treturn table;\n\t\t},\n\n\t\t/**\n\t\t * Retrieves a table from the current selection.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method getFromSelection\n\t\t * @return {CKEDITOR.dom.element} The retrieved table or null if not found.\n\t\t */\n\t\tgetFromSelection: function() {\n\t\t\tlet table;\n\t\t\tlet selection = this._editor.getSelection();\n\t\t\tlet selected = selection.getSelectedElement();\n\n\t\t\tif (selected && selected.is('table')) {\n\t\t\t\ttable = selected;\n\t\t\t} else {\n\t\t\t\tlet ranges = selection.getRanges();\n\n\t\t\t\tif (ranges.length > 0) {\n\t\t\t\t\t// Webkit could report the following range on cell selection (#4948):\n\t\t\t\t\t// <table><tr><td>[&nbsp;</td></tr></table>]\n\n\t\t\t\t\t/* istanbul ignore else */\n\t\t\t\t\tif (CKEDITOR.env.webkit) {\n\t\t\t\t\t\tranges[0].shrink(CKEDITOR.NODE_ELEMENT);\n\t\t\t\t\t}\n\n\t\t\t\t\ttable = this._editor\n\t\t\t\t\t\t.elementPath(ranges[0].getCommonAncestor(true))\n\t\t\t\t\t\t.contains('table', 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn table;\n\t\t},\n\n\t\t/**\n\t\t * Checks if a given table can be considered as editable. This method\n\t\t * workarounds a limitation of IE where for some elements (like table),\n\t\t * `isContentEditable` returns always false. This is because IE does not support\n\t\t * `contenteditable` on such elements. However, despite such elements\n\t\t * cannot be set as content editable directly, a content editable SPAN,\n\t\t * or DIV element can be placed inside the individual table cells.\n\t\t * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method isEditable\n\t\t * @param {CKEDITOR.dom.element} el The table element to test if editable\n\t\t * @return {Boolean}\n\t\t */\n\t\tisEditable: function(el) {\n\t\t\tif (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {\n\t\t\t\treturn !el.isReadOnly();\n\t\t\t}\n\n\t\t\tif (el.hasAttribute('contenteditable')) {\n\t\t\t\treturn el.getAttribute('contenteditable') !== 'false';\n\t\t\t}\n\n\t\t\treturn this.isEditable(el.getParent());\n\t\t},\n\n\t\t/**\n\t\t * Returns which heading style is set for the given table.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method getHeading\n\t\t * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.\n\t\t * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t\t */\n\t\tgetHeading: function(table) {\n\t\t\ttable = table || this.getFromSelection();\n\n\t\t\tif (!table) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tlet rowHeadingSettings = table.$.tHead !== null;\n\n\t\t\tlet colHeadingSettings = true;\n\n\t\t\t// Check if all of the first cells in every row are TH\n\t\t\tfor (let row = 0; row < table.$.rows.length; row++) {\n\t\t\t\t// If just one cell isn't a TH then it isn't a header column\n\t\t\t\tlet cell = table.$.rows[row].cells[0];\n\n\t\t\t\tif (cell && cell.nodeName.toLowerCase() !== 'th') {\n\t\t\t\t\tcolHeadingSettings = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet headingSettings = Table.HEADING_NONE;\n\n\t\t\tif (rowHeadingSettings) {\n\t\t\t\theadingSettings = Table.HEADING_ROW;\n\t\t\t}\n\n\t\t\tif (colHeadingSettings) {\n\t\t\t\theadingSettings =\n\t\t\t\t\theadingSettings === Table.HEADING_ROW\n\t\t\t\t\t\t? Table.HEADING_BOTH\n\t\t\t\t\t\t: Table.HEADING_COL;\n\t\t\t}\n\n\t\t\treturn headingSettings;\n\t\t},\n\n\t\t/**\n\t\t * Removes a table from the editor.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method remove\n\t\t * @param {CKEDITOR.dom.element} table The table element which table style should be removed.\n\t\t */\n\t\tremove: function(table) {\n\t\t\tlet editor = this._editor;\n\n\t\t\tif (table) {\n\t\t\t\ttable.remove();\n\t\t\t} else {\n\t\t\t\ttable = editor.elementPath().contains('table', 1);\n\n\t\t\t\tif (table) {\n\t\t\t\t\t// If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)\n\t\t\t\t\tlet parent = table.getParent();\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tparent.getChildCount() === 1 &&\n\t\t\t\t\t\t!parent.is('td', 'th') &&\n\t\t\t\t\t\t!parent.equals(editable)\n\t\t\t\t\t) {\n\t\t\t\t\t\ttable = parent;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet range = editor.createRange();\n\t\t\t\t\trange.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);\n\t\t\t\t\ttable.remove();\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Assigns provided attributes to a table.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method setAttributes\n\t\t * @param {Object} table The table to which the attributes should be assigned\n\t\t * @param {Object} attrs The attributes which have to be assigned to the table\n\t\t */\n\t\tsetAttributes: function(table, attrs) {\n\t\t\tif (attrs) {\n\t\t\t\tObject.keys(attrs).forEach(function(attr) {\n\t\t\t\t\ttable.setAttribute(attr, attrs[attr]);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Sets the appropriate table heading style to a table.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @method setHeading\n\t\t * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.\n\t\t * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.\n\t\t */\n\t\tsetHeading: function(table, heading) {\n\t\t\ttable = table || this.getFromSelection();\n\n\t\t\tlet i;\n\t\t\tlet newCell;\n\t\t\tlet tableHead;\n\t\t\tlet tableBody = table.getElementsByTag('tbody').getItem(0);\n\n\t\t\tlet tableHeading = this.getHeading(table);\n\t\t\tlet hadColHeading =\n\t\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\t\tlet needColHeading =\n\t\t\t\theading === Table.HEADING_COL || heading === Table.HEADING_BOTH;\n\t\t\tlet needRowHeading =\n\t\t\t\theading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;\n\n\t\t\t// If we need row heading and don't have a <thead> element yet, move the\n\t\t\t// first row of the table to the head and convert the nodes to <th> ones.\n\t\t\tif (!table.$.tHead && needRowHeading) {\n\t\t\t\tlet tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);\n\t\t\t\tlet tableFirstRowChildCount = tableFirstRow.getChildCount();\n\n\t\t\t\t// Change TD to TH:\n\t\t\t\tfor (i = 0; i < tableFirstRowChildCount; i++) {\n\t\t\t\t\tlet cell = tableFirstRow.getChild(i);\n\n\t\t\t\t\t// Skip bookmark nodes. (#6155)\n\t\t\t\t\tif (\n\t\t\t\t\t\tcell.type === CKEDITOR.NODE_ELEMENT &&\n\t\t\t\t\t\t!cell.data('cke-bookmark')\n\t\t\t\t\t) {\n\t\t\t\t\t\tcell.renameNode('th');\n\t\t\t\t\t\tcell.setAttribute('scope', 'col');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttableHead = this._createElement(table.$.createTHead());\n\t\t\t\ttableHead.append(tableFirstRow.remove());\n\t\t\t}\n\n\t\t\t// If we don't need row heading and we have a <thead> element, move the\n\t\t\t// row out of there and into the <tbody> element.\n\t\t\tif (table.$.tHead !== null && !needRowHeading) {\n\t\t\t\t// Move the row out of the THead and put it in the TBody:\n\t\t\t\ttableHead = this._createElement(table.$.tHead);\n\n\t\t\t\tlet previousFirstRow = tableBody.getFirst();\n\n\t\t\t\twhile (tableHead.getChildCount() > 0) {\n\t\t\t\t\tlet newFirstRow = tableHead.getFirst();\n\t\t\t\t\tlet newFirstRowChildCount = newFirstRow.getChildCount();\n\n\t\t\t\t\tfor (i = 0; i < newFirstRowChildCount; i++) {\n\t\t\t\t\t\tnewCell = newFirstRow.getChild(i);\n\n\t\t\t\t\t\tif (newCell.type === CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tnewFirstRow.insertBefore(previousFirstRow);\n\t\t\t\t}\n\n\t\t\t\ttableHead.remove();\n\t\t\t}\n\n\t\t\ttableHeading = this.getHeading(table);\n\t\t\tlet hasColHeading =\n\t\t\t\ttableHeading === Table.HEADING_COL ||\n\t\t\t\ttableHeading === Table.HEADING_BOTH;\n\n\t\t\t// If we need column heading and the table doesn't have it, convert every first cell in\n\t\t\t// every row into a `<th scope=\"row\">` element.\n\t\t\tif (!hasColHeading && needColHeading) {\n\t\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttable.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th'\n\t\t\t\t\t) {\n\t\t\t\t\t\tnewCell = new CKEDITOR.dom.element(\n\t\t\t\t\t\t\ttable.$.rows[i].cells[0]\n\t\t\t\t\t\t);\n\t\t\t\t\t\tnewCell.renameNode('th');\n\t\t\t\t\t\tnewCell.setAttribute('scope', 'row');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// If we don't need column heading but the table has it, convert every first cell in every\n\t\t\t// row back into a `<td>` element.\n\t\t\tif (hadColHeading && !needColHeading) {\n\t\t\t\tfor (i = 0; i < table.$.rows.length; i++) {\n\t\t\t\t\tlet row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\t\tif (row.getParent().getName() === 'tbody') {\n\t\t\t\t\t\tnewCell = new CKEDITOR.dom.element(row.$.cells[0]);\n\t\t\t\t\t\tnewCell.renameNode('td');\n\t\t\t\t\t\tnewCell.removeAttribute('scope');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Creates a new CKEDITOR.dom.element using the passed tag name.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.Table\n\t\t * @protected\n\t\t * @method _createElement\n\t\t * @param {String} name The tag name from which an element should be created\n\t\t * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class\n\t\t */\n\t\t_createElement: function(name) {\n\t\t\treturn new CKEDITOR.dom.element(name, this._editor.document);\n\t\t},\n\t};\n\n\tCKEDITOR.on('instanceReady', function(event) {\n\t\tlet headingCommands = [\n\t\t\tTable.HEADING_NONE,\n\t\t\tTable.HEADING_ROW,\n\t\t\tTable.HEADING_COL,\n\t\t\tTable.HEADING_BOTH,\n\t\t];\n\n\t\tlet tableUtils = new Table(event.editor);\n\n\t\theadingCommands.forEach(function(heading) {\n\t\t\tevent.editor.addCommand('tableHeading' + heading, {\n\t\t\t\texec: function(_editor) {\n\t\t\t\t\ttableUtils.setHeading(null, heading);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t});\n\n\tCKEDITOR.Table = CKEDITOR.Table || Table;\n})();\n","(function() {\n\t'use strict';\n\n\t/**\n\t * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.\n\t *\n\t * @class CKEDITOR.tools\n\t */\n\n\t/**\n\t * Sends a request using the JSONP technique.\n\t *\n\t * @memberof CKEDITOR.tools\n\t * @method jsonp\n\t * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.\n\t * @param {Function} callback A function to be called in case of success.\n\t * @param {Function} errorCallback A function to be called in case of failure.\n\t * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.\n\t * @return {Object} An object with the following properties:\n\t *  - id: the transaction ID\n\t *  - a `cancel()` method\n\t * @static\n\t */\n\tCKEDITOR.tools.jsonp = function(\n\t\turlTemplate,\n\t\turlParams,\n\t\tcallback,\n\t\terrorCallback\n\t) {\n\t\tlet callbackKey = CKEDITOR.tools.getNextNumber();\n\n\t\turlParams = urlParams || {};\n\t\turlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';\n\n\t\tif (!CKEDITOR._.jsonpCallbacks) {\n\t\t\tCKEDITOR._.jsonpCallbacks = {};\n\t\t}\n\n\t\tCKEDITOR._.jsonpCallbacks[callbackKey] = function(response) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tcleanUp();\n\n\t\t\t\tcallback(response);\n\t\t\t});\n\t\t};\n\n\t\tlet scriptElement = new CKEDITOR.dom.element('script');\n\t\tscriptElement.setAttribute('src', urlTemplate.output(urlParams));\n\t\tscriptElement.on('error', function() {\n\t\t\tcleanUp();\n\n\t\t\tif (errorCallback) {\n\t\t\t\terrorCallback();\n\t\t\t}\n\t\t});\n\n\t\tfunction cleanUp() {\n\t\t\tif (scriptElement) {\n\t\t\t\tscriptElement.remove();\n\t\t\t\tdelete CKEDITOR._.jsonpCallbacks[callbackKey];\n\t\t\t\tscriptElement = null;\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.document.getBody().append(scriptElement);\n\n\t\treturn {\n\t\t\tcancel: cleanUp,\n\t\t\tid: callbackKey,\n\t\t};\n\t};\n\n\t/**\n\t * Returns a new object containing all of the properties of all the supplied\n\t * objects. The properties from later objects will overwrite those in earlier\n\t * objects.\n\t *\n\t * Passing in a single object will create a shallow copy of it.\n\t *\n\t * @memberof CKEDITOR.tools\n\t * @method merge\n\t * @param {Object} objects* One or more objects to merge.\n\t * @return {Object} A new merged object.\n\t * @static\n\t */\n\tCKEDITOR.tools.merge =\n\t\tCKEDITOR.tools.merge ||\n\t\tfunction(...args) {\n\t\t\tlet result = {};\n\n\t\t\tfor (let i = 0; i < args.length; ++i) {\n\t\t\t\tlet obj = args[i];\n\n\t\t\t\tfor (let key in obj) {\n\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(obj, key)) {\n\t\t\t\t\t\tresult[key] = obj[key];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t/**\n\t * Simulates event on a DOM element.\n\t *\n\t * @memberof CKEDITOR.tools\n\t * @method simulate\n\t * @param {DOMElement} element The element on which the event shoud be simualted.\n\t * @param {String} event The name of the event which have to be simulated.\n\t * @static\n\t */\n\tCKEDITOR.tools.simulate = function(element, event) {\n\t\tlet eventInstance = document.createEvent('Events');\n\t\teventInstance.initEvent(event, true, false);\n\t\telement.dispatchEvent(eventInstance);\n\t};\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_uicore')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * UICore class which will handle user interactions with the editor. These interactions\n\t * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via\n\t * CKEditor's event system - \"editorInteraction\". The UI may listen to this event and\n\t * execute some actions - for example to show/hide toolbars.\n\t *\n\t * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed\n\t * by setting {{#crossLink \"CKEDITOR.plugins.ae_uicore/allowEsc:attribute\"}}{{/crossLink}} config property in editor's configuration to true.\n\t *\n\t * @class ae_uicore\n\t */\n\n\t/**\n\t * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,\n\t * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout\n\t * is 50ms. This value can be overwritten via {{#crossLink \"CKEDITOR.plugins.ae_uicore/timeout:attribute\"}}{{/crossLink}}\n\t * property of editor's configuration, like: editor.config.uicore.timeout = 100\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#editorInteraction\n\t * @param {Object} data An object which contains the following properties:\n\t * - nativeEvent - The event as received from CKEditor.\n\t * - selectionData - The data, returned from {{#crossLink \"CKEDITOR.plugins.ae_selectionregion/getSelectionData:method\"}}{{/crossLink}}\n\t */\n\n\t/**\n\t * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.\n\t *\n\t * @memberof ae_uicore\n\t * @event ae_uicore#ariaUpdate\n\t * @param {Object} data An object which contains the following properties:\n\t * - message - The provided message from the UI element.\n\t */\n\n\t/**\n\t * If set to true, the editor will still fire {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event,\n\t * if user presses Esc key.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute allowEsc\n\t * @default false\n\t * @type Boolean\n\t */\n\n\t/**\n\t * Specifies the default timeout after which the {{#crossLink \"CKEDITOR.plugins.ae_uicore/editorInteraction:event\"}}{{/crossLink}} event\n\t * will be fired.\n\t *\n\t * @memberof ae_uicore\n\t * @attribute timeout\n\t * @default 50 (ms)\n\t * @type Number\n\t */\n\n\tCKEDITOR.plugins.add('ae_uicore', {\n\t\t/**\n\t\t * Initializer lifecycle implementation for the UICore plugin.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method init\n\t\t * @param {Object} editor The current CKEditor instance.\n\t\t * @protected\n\t\t */\n\t\tinit: function(editor) {\n\t\t\tlet ariaState = [];\n\n\t\t\tlet ariaElement = this._createAriaElement(editor.id);\n\n\t\t\tlet uiTasksTimeout = editor.config.uicore\n\t\t\t\t? editor.config.uicore.timeout\n\t\t\t\t: 50;\n\n\t\t\tlet handleUI = CKEDITOR.tools.debounce(function(event) {\n\t\t\t\tariaState = [];\n\n\t\t\t\tif (\n\t\t\t\t\tevent.name !== 'keyup' ||\n\t\t\t\t\tevent.data.$.keyCode !== 27 ||\n\t\t\t\t\teditor.config.allowEsc\n\t\t\t\t) {\n\t\t\t\t\tlet selectionData = editor.getSelectionData();\n\n\t\t\t\t\tif (selectionData) {\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event.data.$,\n\t\t\t\t\t\t\tselectionData: selectionData,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tlet handleAria = CKEDITOR.tools.debounce(function(_event) {\n\t\t\t\tariaElement.innerHTML = ariaState.join('. ');\n\t\t\t}, uiTasksTimeout);\n\n\t\t\tlet handleMouseLeave = CKEDITOR.tools.debounce(function(event) {\n\t\t\t\tlet aeUINodes = document.querySelectorAll('.ae-ui');\n\n\t\t\t\tlet found;\n\n\t\t\t\tfor (let i = 0; i < aeUINodes.length; i++) {\n\t\t\t\t\tif (aeUINodes[i].contains(event.data.$.relatedTarget)) {\n\t\t\t\t\t\tfound = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!found) {\n\t\t\t\t\thandleUI(event);\n\t\t\t\t}\n\t\t\t}, uiTasksTimeout);\n\n\t\t\teditor.on('ariaUpdate', function(event) {\n\t\t\t\t// handleAria is debounced function, so if it is being called multiple times, it will\n\t\t\t\t// be canceled until some time passes.\n\t\t\t\t// For that reason here we explicitly append the current message to the list of messages\n\t\t\t\t// and call handleAria. Since it is debounced, when some timeout passes,\n\t\t\t\t// all the messages will be applied to the live region and not only the last one.\n\n\t\t\t\tariaState.push(event.data.message);\n\n\t\t\t\thandleAria();\n\t\t\t});\n\n\t\t\teditor.once('contentDom', function() {\n\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\tconst focusHandler = editable.attachListener(\n\t\t\t\t\teditable,\n\t\t\t\t\t'focus',\n\t\t\t\t\tfunction(event) {\n\t\t\t\t\t\tfocusHandler.removeListener();\n\n\t\t\t\t\t\teditable.attachListener(editable, 'keyup', handleUI);\n\t\t\t\t\t\teditable.attachListener(editable, 'mouseup', handleUI);\n\t\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\t\teditable,\n\t\t\t\t\t\t\t'mouseleave',\n\t\t\t\t\t\t\thandleMouseLeave\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\thandleUI(event);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\n\t\t\teditor.on('destroy', function(_event) {\n\t\t\t\tariaElement.parentNode.removeChild(ariaElement);\n\n\t\t\t\thandleUI.detach();\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Creates and applies an HTML element to the body of the document which will contain ARIA messages.\n\t\t *\n\t\t * @memberof ae_uicore\n\t\t * @method _createAriaElement\n\t\t * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.\n\t\t * @protected\n\t\t * @return {HTMLElement} The created and applied to DOM element.\n\t\t */\n\t\t_createAriaElement: function(id) {\n\t\t\tlet statusElement = document.createElement('div');\n\n\t\t\tstatusElement.className = 'ae-sr-only';\n\n\t\t\tstatusElement.setAttribute('aria-live', 'polite');\n\t\t\tstatusElement.setAttribute('role', 'status');\n\t\t\tstatusElement.setAttribute('id', id + 'LiveRegion');\n\n\t\t\tdocument.body.appendChild(statusElement);\n\n\t\t\treturn statusElement;\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tlet isIE = CKEDITOR.env.ie;\n\n\tif (CKEDITOR.plugins.get('ae_addimages')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_addimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event CKEDITOR.plugins.ae_addimages#imageAdd\n\t * @instance\n\t * @memberof CKEDITOR.plugins.ae_addimages\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_addimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'dragenter',\n\t\t\t\t\t\tthis._onDragEnter,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'dragover',\n\t\t\t\t\t\tthis._onDragOver,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'drop',\n\t\t\t\t\t\tthis._onDragDrop,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'paste',\n\t\t\t\t\t\tthis._onPaste,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further\n\t\t * processing to {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}}\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _handleFiles\n\t\t * @param {Array} files Array of dropped files. Only the images from this list will be processed.\n\t\t * @param {Object} editor The current editor instance\n\t\t * @protected\n\t\t */\n\t\t_handleFiles: function(files, editor) {\n\t\t\tlet file;\n\t\t\tlet i;\n\n\t\t\tlet imageFiles = [];\n\n\t\t\tfor (i = 0; i < files.length; i++) {\n\t\t\t\tfile = files[i];\n\n\t\t\t\tif (file.type.indexOf('image') === 0) {\n\t\t\t\t\timageFiles.push(file);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles: imageFiles,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tfor (i = 0; i < imageFiles.length; i++) {\n\t\t\t\t\tfile = imageFiles[i];\n\n\t\t\t\t\tthis._processFile(file, editor);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\n\t\t/**\n\t\t * Handles drag drop event. The function will create a selection from the current\n\t\t * point and will send a list of files to be processed to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_handleFiles:method\"}}{{/crossLink}} method.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragDrop\n\t\t * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragDrop: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tlet transferFiles = nativeEvent.dataTransfer.files;\n\n\t\t\tif (transferFiles.length > 0) {\n\t\t\t\tnew CKEDITOR.dom.event(nativeEvent).preventDefault();\n\n\t\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\t\tevent.listenerData.editor.createSelectionFromPoint(\n\t\t\t\t\tnativeEvent.clientX,\n\t\t\t\t\tnativeEvent.clientY\n\t\t\t\t);\n\n\t\t\t\tthis._handleFiles(transferFiles, editor);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag enter event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragEnter\n\t\t * @param {DOM event} event dragenter event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragEnter: function(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Handles drag over event. In case of IE, this function will prevent the event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onDragOver\n\t\t * @param {DOM event} event dragover event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onDragOver: function(event) {\n\t\t\tif (isIE) {\n\t\t\t\tthis._preventEvent(event);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks if the pasted data is image and passes it to\n\t\t * {{#crossLink \"CKEDITOR.plugins.ae_addimages/_processFile:method\"}}{{/crossLink}} for processing.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _onPaste\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t * @protected\n\t\t */\n\t\t_onPaste: function(event) {\n\t\t\tif (\n\t\t\t\tevent.data &&\n\t\t\t\tevent.data.$ &&\n\t\t\t\tevent.data.$.clipboardData &&\n\t\t\t\tevent.data.$.clipboardData.items &&\n\t\t\t\tevent.data.$.clipboardData.items.length > 0\n\t\t\t) {\n\t\t\t\tlet pastedData = event.data.$.clipboardData.items[0];\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tlet imageFile = pastedData.getAsFile();\n\n\t\t\t\t\tthis._processFile(imageFile, event.listenerData.editor);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Prevents a native event.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_preventEvent: function(event) {\n\t\t\tevent = new CKEDITOR.dom.event(event.data.$);\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t},\n\n\t\t/**\n\t\t * Processes an image file. The function creates an img element and sets as source\n\t\t * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_addimages#imageAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_addimages\n\t\t * @method _preventEvent\n\t\t * @param {DOM event} event The event to be prevented.\n\t\t * @protected\n\t\t */\n\t\t_processFile: function(file, editor) {\n\t\t\tlet reader = new FileReader();\n\n\t\t\treader.addEventListener('loadend', function() {\n\t\t\t\tlet bin = reader.result;\n\n\t\t\t\tlet el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t'<img src=\"' + bin + '\">'\n\t\t\t\t);\n\n\t\t\t\teditor.insertElement(el);\n\n\t\t\t\tlet imageData = {\n\t\t\t\t\tel: el,\n\t\t\t\t\tfile: file,\n\t\t\t\t};\n\n\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t});\n\n\t\t\treader.readAsDataURL(file);\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_autolink')) {\n\t\treturn;\n\t}\n\n\t// Disables the auto URL detection feature in IE, their lacks functionality:\n\t// They convert the links only on space. We do on space, comma, semicolon and Enter.\n\tif (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {\n\t\tdocument.execCommand('AutoUrlDetect', false, false);\n\t}\n\n\tlet KEY_BACK = 8;\n\n\tlet KEY_COMMA = 188;\n\n\tlet KEY_ENTER = 13;\n\n\tlet KEY_SEMICOLON = 186;\n\n\tlet KEY_SPACE = 32;\n\n\tlet DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];\n\n\tlet REGEX_LAST_WORD = /[^\\s]+/gim;\n\n\tlet REGEX_URL =\n\t\t'((([A - Za - z]{ 3, 9}: (?: \\\\/\\\\/)?)(?:[-;:&=\\\\+\\\\$,\\\\w]+@)?[A-Za-z0-9.-]+|(https?\\\\:\\\\/\\\\/|www.|[-;:&=.\\\\+\\\\$,\\\\w]+@)[A-Za-z0-9.-]+)((?:\\\\/[\\\\+~%\\\\/.\\\\w-_]*)?\\\\??(?:[-\\\\+=&;%@.\\\\w_]*)#?(?:[\\\\w]*))((.*):(\\\\d*)\\\\/?(.*))?)';\n\n\tlet REGEX_EMAIL = /[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}/i;\n\n\t/**\n\t * CKEditor plugin which automatically generates links when user types text which looks like URL.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolink\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolink', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers the `keyup` event on the editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'keyup',\n\t\t\t\t\t\tthis._onKeyUp,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\n\t\t\teditor.on(\n\t\t\t\t'paste',\n\t\t\t\tfunction(event) {\n\t\t\t\t\tif (event.data.method === 'paste') {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.data.dataValue.indexOf('<') > -1 ||\n\t\t\t\t\t\t\tevent.data.dataValue.indexOf('&lt;') > -1\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tevent.data.dataValue.indexOf(\n\t\t\t\t\t\t\t\t\t'<u><font color=\"'\n\t\t\t\t\t\t\t\t) > -1\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\t\t\t\t/<u><font color=\"#(.*?)\">|<\\/font><\\/u>/g,\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet instance = this;\n\n\t\t\t\t\t\tevent.data.dataValue = event.data.dataValue.replace(\n\t\t\t\t\t\t\tRegExp(REGEX_URL, 'gim'),\n\t\t\t\t\t\t\tfunction(url) {\n\t\t\t\t\t\t\t\tif (instance._isValidURL(url)) {\n\t\t\t\t\t\t\t\t\tif (instance._isValidEmail(url)) {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t'<a href=\"mailto:' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t'<a href=\"' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\t\t\t\t\turl +\n\t\t\t\t\t\t\t\t\t\t\t'</a>'\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Retrieves the last word introduced by the user. Reads from the current\n\t\t * caret position backwards until it finds the first white space.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _getLastWord\n\t\t * @protected\n\t\t * @return {String} The last word introduced by user\n\t\t */\n\t\t_getLastWord: function(editor) {\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\n\t\t\tlet offset = range.startOffset;\n\n\t\t\tlet previousText = '';\n\n\t\t\t// The user pressed Enter, so we have to look on the previous node\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tlet previousNode = range.startContainer.getPrevious();\n\n\t\t\t\tlet lastChild;\n\n\t\t\t\tif (previousNode) {\n\t\t\t\t\t// If previous node is a SPACE, (it does not have 'getLast' method),\n\t\t\t\t\t// ignore it and find the previous text node\n\t\t\t\t\twhile (!previousNode.getLast) {\n\t\t\t\t\t\tpreviousNode = previousNode.getPrevious();\n\t\t\t\t\t}\n\n\t\t\t\t\tlastChild = previousNode.getLast();\n\n\t\t\t\t\t// Depending on the browser, the last child node may be a <BR>\n\t\t\t\t\t// (which does not have 'getText' method),\n\t\t\t\t\t// so ignore it and find the previous text node\n\t\t\t\t\twhile (lastChild && !lastChild.getText()) {\n\t\t\t\t\t\tlastChild = lastChild.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check if the lastChild is already a link\n\t\t\t\tif (!(lastChild && lastChild.$.href)) {\n\t\t\t\t\tthis._startContainer = lastChild;\n\t\t\t\t\tpreviousText = lastChild ? lastChild.getText() : '';\n\t\t\t\t\tthis._offset = previousText.length;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._startContainer = range.startContainer;\n\n\t\t\t\t// Last character is the delimiter, ignore it\n\t\t\t\tpreviousText = this._startContainer\n\t\t\t\t\t.getText()\n\t\t\t\t\t.substring(0, offset - 1);\n\n\t\t\t\tthis._offset = offset - 1;\n\t\t\t}\n\n\t\t\tlet lastWord = '';\n\n\t\t\tlet match = previousText.match(REGEX_LAST_WORD);\n\n\t\t\tif (match) {\n\t\t\t\tlastWord = match.pop();\n\t\t\t}\n\n\t\t\treturn lastWord;\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid Email.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidEmail\n\t\t * @param {String} link The email we want to know if it is a valid Email\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the email is a valid Email, false otherwise\n\t\t */\n\t\t_isValidEmail: function(email) {\n\t\t\treturn REGEX_EMAIL.test(email);\n\t\t},\n\n\t\t/**\n\t\t * Checks if the given link is a valid URL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method isValidURL\n\t\t * @param {String} link The link we want to know if it is a valid URL\n\t\t * @protected\n\t\t * @return {Boolean} Returns true if the link is a valid URL, false otherwise\n\t\t */\n\t\t_isValidURL: function(link) {\n\t\t\treturn RegExp(REGEX_URL, 'i').test(link);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously\n\t\t * created link.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyDown\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._onKeyDown);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\tevent.cancel();\n\t\t\t\tevent.data.preventDefault();\n\n\t\t\t\tthis._removeLink(editor);\n\t\t\t}\n\n\t\t\tthis._ckLink = null;\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Enter` and `Space` key events in order to check if the last word\n\t\t * introduced by the user should be replaced by a link element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _onKeyUp\n\t\t * @param {EventFacade} event EventFacade object\n\t\t * @protected\n\t\t */\n\t\t_onKeyUp: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tthis._currentKeyCode = nativeEvent.keyCode;\n\n\t\t\tif (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {\n\t\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\t\tlet lastWord = this._getLastWord(editor);\n\n\t\t\t\tif (this._isValidURL(lastWord)) {\n\t\t\t\t\tthis._replaceContentByLink(editor, lastWord);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Replaces content by a link element.\n\t\t *\n\t\t * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _replaceContentByLink\n\t\t * @param {String} content The text that has to be replaced by an link element\n\t\t * @protected\n\t\t */\n\t\t_replaceContentByLink: function(editor, content) {\n\t\t\tlet range = editor.createRange();\n\t\t\tlet node = CKEDITOR.dom.element.get(this._startContainer);\n\t\t\tlet offset = this._offset;\n\n\t\t\t// Select the content, so CKEDITOR.Link can properly replace it\n\t\t\trange.setStart(node, offset - content.length);\n\t\t\trange.setEnd(node, offset);\n\t\t\trange.select();\n\n\t\t\tlet ckLink = new CKEDITOR.Link(editor);\n\t\t\tckLink.create(content);\n\t\t\tthis._ckLink = ckLink;\n\n\t\t\tlet linkNode = ckLink.getFromSelection();\n\t\t\teditor.fire('autolinkAdd', linkNode);\n\n\t\t\tthis._subscribeToKeyEvent(editor);\n\n\t\t\t// Now range is on the link and it is selected. We have to\n\t\t\t// return focus to the caret position.\n\t\t\trange = editor.getSelection().getRanges()[0];\n\n\t\t\t// If user pressed `Enter`, get the next editable node at position 0,\n\t\t\t// otherwise set the cursor at the next character of the link (the white space)\n\t\t\tif (this._currentKeyCode === KEY_ENTER) {\n\t\t\t\tlet nextEditableNode = range.getNextEditableNode();\n\n\t\t\t\trange.setStart(nextEditableNode, 0);\n\t\t\t\trange.setEnd(nextEditableNode, 0);\n\t\t\t} else {\n\t\t\t\tlet nextNode = range.getNextNode();\n\n\t\t\t\trange.setStart(nextNode, 1);\n\t\t\t\trange.setEnd(nextNode, 1);\n\t\t\t}\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Fired when a URL is detected in text and converted to a link.\n\t\t *\n\t\t * @event CKEDITOR.plugins.ae_autolink#autolinkAdd\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @param {CKEDITOR.dom.element} el Node of the created link.\n\t\t */\n\n\t\t/**\n\t\t * Removes the created link element, and replaces it by its text.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _removeLink\n\t\t * @protected\n\t\t */\n\t\t_removeLink: function(editor) {\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\t\t\tlet caretOffset = range.startOffset;\n\n\t\t\t// Select the link, so CKEDITOR.Link can properly remove it\n\t\t\tlet linkNode =\n\t\t\t\tthis._startContainer.getNext() || this._startContainer;\n\n\t\t\tlet newRange = editor.createRange();\n\t\t\tnewRange.setStart(linkNode, 0);\n\t\t\tnewRange.setEndAfter(linkNode);\n\t\t\tnewRange.select();\n\n\t\t\tthis._ckLink.remove();\n\n\t\t\t// Return focus to the caret position\n\t\t\trange.setEnd(range.startContainer, caretOffset);\n\t\t\trange.setStart(range.startContainer, caretOffset);\n\n\t\t\trange.select();\n\t\t},\n\n\t\t/**\n\t\t * Subscribe to a key event of the editable aria.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolink\n\t\t * @method _subscribeToKeyEvent\n\t\t * @protected\n\t\t */\n\t\t_subscribeToKeyEvent: function(editor) {\n\t\t\tlet editable = editor.editable();\n\n\t\t\t// Change the priority of keydown listener - 1 means the highest priority.\n\t\t\t// In Chrome on pressing `Enter` the listener is not being invoked.\n\t\t\t// See http://dev.ckeditor.com/ticket/11861 for more information.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._onKeyDown,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor: editor,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_autolist')) {\n\t\treturn;\n\t}\n\n\tlet KEY_BACK = 8;\n\n\tlet KEY_SPACE = 32;\n\n\tlet DEFAULT_CONFIG = [\n\t\t{\n\t\t\tregex: /^\\*$/,\n\t\t\ttype: 'bulletedlist',\n\t\t},\n\t\t{\n\t\t\tregex: /^1\\.$/,\n\t\t\ttype: 'numberedlist',\n\t\t},\n\t];\n\n\t/**\n\t * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.\n\t *\n\t * @class CKEDITOR.plugins.ae_autolist\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_autolist', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKeditor plugin lifecycle.\n\t\t * The function registers the `keydown` event on the content editing area.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'keydown',\n\t\t\t\t\t\tthis._onKeyDown,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Checks for pressing the `Backspace` key in order to undo the list creation.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkForBackspaceAndUndo\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_checkForBackspaceAndUndo: function(event) {\n\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\teditable.removeListener('keydown', this._checkForBackspaceAndUndo);\n\n\t\t\tif (nativeEvent.keyCode === KEY_BACK) {\n\t\t\t\teditor.execCommand('undo');\n\t\t\t\teditor.insertHtml(event.listenerData.bullet + '&nbsp;');\n\t\t\t\tevent.data.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks current line to find match with MATCHES object to create OL or UL.\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _checkLine\n\t\t * @param {editor} Editor object\n\t\t * @protected\n\t\t * @return {Object|null} Returns an object which contains the detected list config if any\n\t\t */\n\t\t_getListConfig: function(editor) {\n\t\t\tlet configRegex = editor.config.autolist || DEFAULT_CONFIG;\n\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\n\t\t\tlet textContainer = range.endContainer.getText();\n\n\t\t\tlet bullet = textContainer.substring(0, range.startOffset);\n\n\t\t\tlet text = textContainer.substring(\n\t\t\t\trange.startOffset,\n\t\t\t\ttextContainer.length\n\t\t\t);\n\n\t\t\tlet index = 0;\n\n\t\t\tlet regexLen = configRegex.length;\n\n\t\t\tlet autolistCfg = null;\n\n\t\t\twhile (!autolistCfg && regexLen > index) {\n\t\t\t\tlet regexItem = configRegex[index];\n\n\t\t\t\tif (regexItem.regex.test(bullet)) {\n\t\t\t\t\tautolistCfg = {\n\t\t\t\t\t\tbullet: bullet,\n\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\ttext: text,\n\t\t\t\t\t\ttype: regexItem.type,\n\t\t\t\t\t};\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tindex++;\n\t\t\t}\n\n\t\t\treturn autolistCfg;\n\t\t},\n\n\t\t/**\n\t\t * Create list with different types: Bulleted or Numbered list\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _createList\n\t\t * @param {Object} listConfig Object that contains bullet, text and type for creating the list\n\t\t * @protected\n\t\t */\n\t\t_createList: function(listConfig) {\n\t\t\tlet editor = listConfig.editor;\n\n\t\t\tlet range = editor.getSelection().getRanges()[0];\n\n\t\t\trange.endContainer.setText(listConfig.text);\n\t\t\teditor.execCommand(listConfig.type);\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\t// Subscribe to keydown in order to check if the next key press is `Backspace`.\n\t\t\t// If so, the creation of the list will be discarded.\n\t\t\teditable.attachListener(\n\t\t\t\teditable,\n\t\t\t\t'keydown',\n\t\t\t\tthis._checkForBackspaceAndUndo,\n\t\t\t\tthis,\n\t\t\t\t{\n\t\t\t\t\teditor: editor,\n\t\t\t\t\tbullet: listConfig.bullet,\n\t\t\t\t},\n\t\t\t\t1\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Listens to the `Space` key events to check if the last word\n\t\t * introduced by the user should be replaced by a list (OL or UL)\n\t\t *\n\t\t * @instance\n\t\t * @memberof CKEDITOR.plugins.ae_autolist\n\t\t * @method _onKeyDown\n\t\t * @param {Event} event Event object\n\t\t * @protected\n\t\t */\n\t\t_onKeyDown: function(event) {\n\t\t\tlet nativeEvent = event.data.$;\n\n\t\t\tif (nativeEvent.keyCode === KEY_SPACE) {\n\t\t\t\tlet listConfig = this._getListConfig(event.listenerData.editor);\n\n\t\t\t\tif (listConfig) {\n\t\t\t\t\tevent.data.preventDefault();\n\t\t\t\t\tthis._createList(listConfig);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n})();\n","/**\n * CKEditor plugin: Dragable image resizing\n * https://github.com/sstur/ck-dragresize\n * - Shows semi-transparent overlay while resizing\n * - Enforces Aspect Ratio (unless holding shift)\n * - Snap to size of other images in editor\n * - Escape while dragging cancels resize\n */\n(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_dragresize')) {\n\t\treturn;\n\t}\n\n\tlet IMAGE_HANDLES = {\n\t\tboth: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],\n\t\theight: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],\n\t\tscale: ['tl', 'tr', 'bl', 'br'],\n\t\twidth: ['tl', 'tr', 'lm', 'rm', 'bl', 'br'],\n\t};\n\n\tlet POSITION_ELEMENT_FN = {\n\t\tbl: function(handle, left, top, box) {\n\t\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t\t},\n\t\tbm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\tbox.height - 4 + top\n\t\t\t);\n\t\t},\n\t\tbr: function(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t\t},\n\t\tlm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\t-3 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t\ttl: function(handle, left, top, _box) {\n\t\t\tpositionElement(handle, left - 3, top - 3);\n\t\t},\n\t\ttm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tMath.round(box.width / 2) - 3 + left,\n\t\t\t\t-3 + top\n\t\t\t);\n\t\t},\n\t\ttr: function(handle, left, top, box) {\n\t\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t\t},\n\t\trm: function(handle, left, top, box) {\n\t\t\tpositionElement(\n\t\t\t\thandle,\n\t\t\t\tbox.width - 4 + left,\n\t\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t\t);\n\t\t},\n\t};\n\n\tlet IMAGE_SNAP_TO_SIZE = 7;\n\n\tlet isFirefox = 'MozAppearance' in document.documentElement.style;\n\n\tlet isWebKit = 'WebkitAppearance' in document.documentElement.style;\n\n\tlet enablePlugin = isWebKit || isFirefox;\n\n\tif (enablePlugin) {\n\t\t// CSS is added in a compressed form\n\t\tCKEDITOR.addCss(\n\t\t\t'img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}'\n\t\t);\n\t}\n\n\t/**\n\t * Initializes the plugin\n\t */\n\tCKEDITOR.plugins.add('ae_dragresize', {\n\t\tonLoad: function() {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t\tinit: function(editor) {\n\t\t\tif (!enablePlugin) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\teditor.once('contentDom', function(_evt) {\n\t\t\t\tinit(editor);\n\t\t\t});\n\t\t},\n\t});\n\n\tfunction init(editor) {\n\t\tlet window = editor.window.$;\n\n\t\tlet document = editor.document.$;\n\n\t\tif (isFirefox) {\n\t\t\t// Disable the native image resizing\n\t\t\tdocument.execCommand('enableObjectResizing', false, false);\n\t\t}\n\n\t\tlet snapToSize =\n\t\t\ttypeof IMAGE_SNAP_TO_SIZE === 'undefined'\n\t\t\t\t? null\n\t\t\t\t: IMAGE_SNAP_TO_SIZE;\n\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\tlet resizer = new Resizer(editor, {\n\t\t\timageScaleResize: editor.config.imageScaleResize,\n\t\t\tsnapToSize: snapToSize,\n\t\t});\n\n\t\tlet mouseDownListener = function(e) {\n\t\t\tif (resizer.isHandle(e.target)) {\n\t\t\t\tresizer.initDrag(e);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\n\t\tfunction selectionChange() {\n\t\t\tlet selection = editor.getSelection();\n\n\t\t\tif (!selection) return;\n\t\t\t// If an element is selected and that element is an IMG\n\t\t\tif (\n\t\t\t\tselection.getType() !== CKEDITOR.SELECTION_NONE &&\n\t\t\t\tselection.getStartElement().is('img')\n\t\t\t) {\n\t\t\t\t// And we're not right or middle clicking on the image\n\t\t\t\tif (\n\t\t\t\t\t!window.event ||\n\t\t\t\t\t!window.event.button ||\n\t\t\t\t\twindow.event.button === 0\n\t\t\t\t) {\n\t\t\t\t\tresizer.show(selection.getStartElement().$);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tresizer.hide();\n\t\t\t}\n\t\t}\n\n\t\teditor.on('selectionChange', selectionChange);\n\n\t\teditor.on('getData', function(e) {\n\t\t\tlet html = e.data.dataValue || '';\n\t\t\thtml = html.replace(/<div id=\"ckimgrsz\"([\\s\\S]*?)<\\/div>/i, '');\n\t\t\thtml = html.replace(/\\b(ckimgrsz)\\b/g, '');\n\t\t\te.data.dataValue = html;\n\t\t});\n\n\t\teditor.on('beforeUndoImage', function() {\n\t\t\t// Remove the handles before undo images are saved\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('afterUndoImage', function() {\n\t\t\t// Restore the handles after undo images are saved\n\t\t\tselectionChange();\n\t\t});\n\n\t\teditor.on('blur', function() {\n\t\t\t// Remove the handles when editor loses focus\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('beforeModeUnload', function self() {\n\t\t\teditor.removeListener('beforeModeUnload', self);\n\t\t\tresizer.hide();\n\t\t});\n\n\t\teditor.on('destroy', function() {\n\t\t\tlet resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\tif (resizeElement) {\n\t\t\t\tresizeElement.remove();\n\t\t\t}\n\n\t\t\tif (isFirefox) {\n\t\t\t\tdocument.execCommand('enableObjectResizing', false, true);\n\t\t\t}\n\n\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t});\n\n\t\t// Update the selection when the browser window is resized\n\t\tlet resizeTimeout;\n\t\teditor.window.on('resize', function() {\n\t\t\t// Cancel any resize waiting to happen\n\t\t\tclearTimeout(resizeTimeout);\n\t\t\t// Delay resize to \"debounce\"\n\t\t\tresizeTimeout = setTimeout(selectionChange, 50);\n\t\t});\n\t}\n\n\tfunction Resizer(editor, cfg) {\n\t\tthis.editor = editor;\n\t\tthis.window = editor.window.$;\n\t\tthis.document = editor.document.$;\n\t\tthis.cfg = cfg || {};\n\t\tthis.init();\n\t}\n\n\tResizer.prototype = {\n\t\tinit: function() {\n\t\t\tlet instance = this;\n\n\t\t\tlet container = (this.container = this.document.createElement(\n\t\t\t\t'div'\n\t\t\t));\n\n\t\t\tcontainer.id = 'ckimgrsz';\n\t\t\tthis.preview = this.document.createElement('span');\n\t\t\tcontainer.appendChild(this.preview);\n\n\t\t\tlet handles = (this.handles = {});\n\n\t\t\tIMAGE_HANDLES[this.cfg.imageScaleResize].forEach(function(\n\t\t\t\thandleName\n\t\t\t) {\n\t\t\t\thandles[handleName] = instance.handles[\n\t\t\t\t\thandleName\n\t\t\t\t] = instance.createHandle(handleName);\n\t\t\t});\n\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles.hasOwnProperty(n)) {\n\t\t\t\t\tcontainer.appendChild(handles[n]);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcreateHandle: function(name) {\n\t\t\tlet el = this.document.createElement('i');\n\t\t\tel.classList.add(name);\n\t\t\treturn el;\n\t\t},\n\t\tisHandle: function(el) {\n\t\t\tlet handles = this.handles;\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles[n] === el) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tshow: function(el) {\n\t\t\tlet uiNode = this.editor.config.uiNode;\n\n\t\t\tlet scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\tthis.el = el;\n\t\t\tif (this.cfg.snapToSize) {\n\t\t\t\tthis.otherImages = toArray(\n\t\t\t\t\tthis.document.getElementsByTagName('img')\n\t\t\t\t);\n\t\t\t\tthis.otherImages.splice(this.otherImages.indexOf(el), 1);\n\t\t\t}\n\t\t\tlet box = (this.box = getBoundingBox(this.window, el));\n\t\t\tpositionElement(this.container, box.left, box.top + scrollTop);\n\n\t\t\tuiNode = uiNode || document.body;\n\n\t\t\tuiNode.appendChild(this.container);\n\n\t\t\tthis.el.classList.add('ckimgrsz');\n\t\t\tthis.showHandles();\n\t\t},\n\t\thide: function() {\n\t\t\t// Remove class from all img.ckimgrsz\n\t\t\tlet elements = this.document.getElementsByClassName('ckimgrsz');\n\t\t\tfor (let i = 0; i < elements.length; ++i) {\n\t\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t\t}\n\t\t\tthis.hideHandles();\n\t\t\tif (this.container.parentNode) {\n\t\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t\t}\n\t\t},\n\t\tinitDrag: function(e) {\n\t\t\tif (e.button !== 0) {\n\t\t\t\t// right-click or middle-click\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet resizer = this;\n\t\t\tlet drag = new DragEvent(this.window, this.document);\n\t\t\tdrag.onStart = function() {\n\t\t\t\tresizer.showPreview();\n\t\t\t\tresizer.isDragging = true;\n\t\t\t\tresizer.editor.getSelection().lock();\n\t\t\t};\n\t\t\tdrag.onDrag = function() {\n\t\t\t\tresizer.calculateSize(this);\n\t\t\t\tresizer.updatePreview();\n\t\t\t\tlet box = resizer.previewBox;\n\t\t\t\tresizer.updateHandles(box, box.left, box.top);\n\t\t\t};\n\t\t\tdrag.onRelease = function() {\n\t\t\t\tresizer.isDragging = false;\n\t\t\t\tresizer.hidePreview();\n\t\t\t\tresizer.hide();\n\t\t\t\tresizer.editor.getSelection().unlock();\n\t\t\t\t// Save an undo snapshot before the image is permanently changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.onComplete = function() {\n\t\t\t\tresizer.resizeComplete();\n\t\t\t\t// Save another snapshot after the image is changed\n\t\t\t\tresizer.editor.fire('saveSnapshot');\n\t\t\t};\n\t\t\tdrag.start(e);\n\t\t},\n\t\tupdateHandles: function(box, left, top) {\n\t\t\tleft = left || 0;\n\t\t\ttop = top || 0;\n\t\t\tlet handles = this.handles;\n\n\t\t\tfor (let handle in handles) {\n\t\t\t\tif (handles.hasOwnProperty(handle)) {\n\t\t\t\t\tPOSITION_ELEMENT_FN[handle](\n\t\t\t\t\t\thandles[handle],\n\t\t\t\t\t\tleft,\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\tbox\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowHandles: function() {\n\t\t\tlet handles = this.handles;\n\t\t\tthis.updateHandles(this.box);\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles.hasOwnProperty(n)) {\n\t\t\t\t\thandles[n].style.display = 'block';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thideHandles: function() {\n\t\t\tlet handles = this.handles;\n\t\t\tfor (let n in handles) {\n\t\t\t\tif (handles.hasOwnProperty(n)) {\n\t\t\t\t\thandles[n].style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tshowPreview: function() {\n\t\t\tthis.preview.style.backgroundImage = 'url(\"' + this.el.src + '\")';\n\t\t\tthis.calculateSize();\n\t\t\tthis.updatePreview();\n\t\t\tthis.preview.style.display = 'block';\n\t\t},\n\t\tupdatePreview: function() {\n\t\t\tlet box = this.previewBox;\n\t\t\tpositionElement(this.preview, box.left, box.top);\n\t\t\tthis.preview.style.width = this.previewBox.width + 'px';\n\t\t\tthis.preview.style.height = this.previewBox.height + 'px';\n\t\t},\n\t\thidePreview: function() {\n\t\t\tlet box = getBoundingBox(this.window, this.preview);\n\t\t\tthis.result = {\n\t\t\t\twidth: box.width,\n\t\t\t\theight: box.height,\n\t\t\t};\n\t\t\tthis.preview.style.display = 'none';\n\t\t},\n\t\tcalculateSize: function(data) {\n\t\t\tlet box = (this.previewBox = {\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\twidth: this.box.width,\n\t\t\t\theight: this.box.height,\n\t\t\t});\n\n\t\t\tif (!data) return;\n\n\t\t\tlet attr = data.target.className;\n\n\t\t\tif (~attr.indexOf('r')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('b')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height + data.delta.y);\n\t\t\t}\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.height = Math.max(32, this.box.height - data.delta.y);\n\t\t\t}\n\t\t\t// if dragging corner, enforce aspect ratio (unless shift key is being held)\n\t\t\tif (attr.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\t\tlet ratio = this.box.width / this.box.height;\n\t\t\t\tif (box.width / box.height > ratio) {\n\t\t\t\t\tbox.height = Math.round(box.width / ratio);\n\t\t\t\t} else {\n\t\t\t\t\tbox.width = Math.round(box.height * ratio);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet snapToSize = this.cfg.snapToSize;\n\n\t\t\tif (snapToSize) {\n\t\t\t\tlet others = this.otherImages;\n\t\t\t\tfor (let i = 0; i < others.length; i++) {\n\t\t\t\t\tlet other = getBoundingBox(this.window, others[i]);\n\t\t\t\t\tif (\n\t\t\t\t\t\tMath.abs(box.width - other.width) <= snapToSize &&\n\t\t\t\t\t\tMath.abs(box.height - other.height) <= snapToSize\n\t\t\t\t\t) {\n\t\t\t\t\t\tbox.width = other.width;\n\t\t\t\t\t\tbox.height = other.height;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// recalculate left or top position\n\t\t\tif (~attr.indexOf('l')) {\n\t\t\t\tbox.left = this.box.width - box.width;\n\t\t\t}\n\t\t\tif (~attr.indexOf('t')) {\n\t\t\t\tbox.top = this.box.height - box.height;\n\t\t\t}\n\t\t},\n\t\tresizeComplete: function() {\n\t\t\tresizeElement.call(\n\t\t\t\tthis,\n\t\t\t\tthis.el,\n\t\t\t\tthis.result.width,\n\t\t\t\tthis.result.height\n\t\t\t);\n\t\t},\n\t};\n\n\tfunction DragEvent(window, document) {\n\t\tthis.window = window;\n\t\tthis.document = document;\n\t\tthis.events = {\n\t\t\tmousemove: bind(this.mousemove, this),\n\t\t\tkeydown: bind(this.keydown, this),\n\t\t\tmouseup: bind(this.mouseup, this),\n\t\t};\n\t}\n\n\tDragEvent.prototype = {\n\t\tstart: function(e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.target = e.target;\n\t\t\tthis.attr = e.target.className;\n\t\t\tthis.startPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.update(e);\n\t\t\tlet events = this.events;\n\t\t\tthis.document.addEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.addEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.addEventListener('mouseup', events.mouseup, false);\n\t\t\tthis.document.body.classList.add('dragging-' + this.attr);\n\t\t\tthis.onStart && this.onStart();\n\t\t},\n\t\tupdate: function(e) {\n\t\t\tthis.currentPos = {\n\t\t\t\tx: e.clientX,\n\t\t\t\ty: e.clientY,\n\t\t\t};\n\t\t\tthis.delta = {\n\t\t\t\tx: e.clientX - this.startPos.x,\n\t\t\t\ty: e.clientY - this.startPos.y,\n\t\t\t};\n\t\t\tthis.keys = {\n\t\t\t\tshift: e.shiftKey,\n\t\t\t\tctrl: e.ctrlKey,\n\t\t\t\talt: e.altKey,\n\t\t\t};\n\t\t},\n\t\tmousemove: function(e) {\n\t\t\tthis.update(e);\n\t\t\tthis.onDrag && this.onDrag();\n\t\t\tif (e.which === 0) {\n\t\t\t\t// mouse button released outside window; mouseup wasn't fired (Chrome)\n\t\t\t\tthis.mouseup(e);\n\t\t\t}\n\t\t},\n\t\tkeydown: function(e) {\n\t\t\t// escape key cancels dragging\n\t\t\tif (e.keyCode === 27) {\n\t\t\t\tthis.release();\n\t\t\t}\n\t\t},\n\t\tmouseup: function(e) {\n\t\t\tthis.update(e);\n\t\t\tthis.release();\n\t\t\tthis.onComplete && this.onComplete();\n\t\t},\n\t\trelease: function() {\n\t\t\tthis.document.body.classList.remove('dragging-' + this.attr);\n\t\t\tlet events = this.events;\n\t\t\tthis.document.removeEventListener(\n\t\t\t\t'mousemove',\n\t\t\t\tevents.mousemove,\n\t\t\t\tfalse\n\t\t\t);\n\t\t\tthis.document.removeEventListener('keydown', events.keydown, false);\n\t\t\tthis.document.removeEventListener('mouseup', events.mouseup, false);\n\t\t\tthis.onRelease && this.onRelease();\n\t\t},\n\t};\n\n\t// helper functions\n\tfunction toArray(obj) {\n\t\tlet len = obj.length;\n\n\t\tlet arr = new Array(len);\n\t\tfor (let i = 0; i < len; i++) {\n\t\t\tarr[i] = obj[i];\n\t\t}\n\t\treturn arr;\n\t}\n\n\tfunction bind(fn, ctx) {\n\t\tif (fn.bind) {\n\t\t\treturn fn.bind(ctx);\n\t\t}\n\t\treturn function(...args) {\n\t\t\tfn.apply(ctx, args);\n\t\t};\n\t}\n\n\tfunction positionElement(el, left, top) {\n\t\tel.style.left = String(left) + 'px';\n\t\tel.style.top = String(top) + 'px';\n\t}\n\n\tfunction resizeElement(el, width, height) {\n\t\tlet imageScaleResize = this.editor.config.imageScaleResize;\n\t\tif (imageScaleResize === 'both') {\n\t\t\tel.style.width = String(width) + 'px';\n\t\t\tel.style.height = String(height) + 'px';\n\t\t} else if (\n\t\t\timageScaleResize === 'width' ||\n\t\t\timageScaleResize === 'scale'\n\t\t) {\n\t\t\tel.style.height = 'auto';\n\t\t\tel.style.width = String(width) + 'px';\n\t\t} else if (imageScaleResize === 'height') {\n\t\t\tel.style.height = String(height) + 'px';\n\t\t\tel.style.width = 'auto';\n\t\t}\n\t}\n\n\tfunction getBoundingBox(window, el) {\n\t\tlet rect = el.getBoundingClientRect();\n\t\treturn {\n\t\t\tleft: rect.left + window.pageXOffset,\n\t\t\ttop: rect.top + window.pageYOffset,\n\t\t\twidth: rect.width,\n\t\t\theight: rect.height,\n\t\t};\n\t}\n})();\n","/**\n * CKEditor plugin: Image2\n * - Show gripper to resize images on IE\n */\n(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_dragresize_ie')) {\n\t\treturn;\n\t}\n\n\tlet alignmentsObj = {\n\t\tcenter: 1,\n\t\tleft: 0,\n\t\tright: 2,\n\t};\n\n\t/*\n\t * Set cursor css depend on imageScaleResize config\n\t **/\n\n\tlet cursor = {\n\t\tboth: 'nwse-resize',\n\t\theight: 'ns-resize',\n\t\tscale: 'nwse-resize',\n\t\twidth: 'ew-resize',\n\t};\n\n\tlet regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tlet template = '<img alt=\"\" src=\"\" />';\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie', {\n\t\thidpi: true,\n\n\t\ticons: 'image',\n\n\t\tinit: function(editor) {\n\t\t\tlet image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\t\t},\n\n\t\tonLoad: function() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ns-resize{' +\n\t\t\t\t\t'cursor: ns-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_nwse-resize{' +\n\t\t\t\t\t'cursor: nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_ew-resize{' +\n\t\t\t\t\t'cursor: ew-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:nwse-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizing{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\trequires: 'widget',\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>   │<img style=”float:left” />   │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p style=”text-align:center”>│\n\t// \t\t│      │ <p style=”text-align:center”> │  <img />                    │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>  │<img style=”float:right” />  │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Non-captioned widget (config.image2_alignClasses defined)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>         │<img class=”left” />         │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p class=”center”>           │\n\t// \t\t│      │ <p class=”center”>            │ <img />                     │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>        │<img class=”right” />        │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>            │<figure style=”float:left” />           │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper style=”text-align:center”>     │<div style=”text-align:center”>         │\n\t// \t\t│      │ <figure style=”display:inline-block” />│ <figure style=”display:inline-block” />│\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>           │<figure style=”float:right” />          │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// Captioned widget (config.image2_alignClasses defined)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>                  │<figure class=”left” />                 │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper class=”center”>                │<div class=”center”>                    │\n\t// \t\t│      │ <figure />                             │ <figure />                             │\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>                 │<figure class=”right” />                │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\teditor.config.imageScaleResize =\n\t\t\teditor.config.imageScaleResize || 'both';\n\n\t\teditor.on('imageAdd', function(imageData) {\n\t\t\teditor.widgets.initOn(imageData.data.el, 'image');\n\t\t});\n\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\tlet captionedClass = editor.config.image2_captionedClass;\n\n\t\treturn {\n\t\t\tinit: function() {\n\t\t\t\tlet helpers = CKEDITOR.plugins.image2;\n\n\t\t\t\tlet image = this.parts.image;\n\n\t\t\t\tlet data = {\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tlet link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) {\n\t\t\t\t\tthis.parts.link = link;\n\t\t\t\t}\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tlet alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\tif (editor.config.image2_disableResizer !== true) {\n\t\t\t\t\tsetupResizer(this);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass: function(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\tdata: function() {\n\t\t\t\tlet features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.hasCaption = false;\n\t\t\t\t}\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t) {\n\t\t\t\t\tthis.data.align = 'none';\n\t\t\t\t}\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) {\n\t\t\t\t\t\tdelete this.parts.link;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link) {\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\talt: this.data.alt,\n\n\t\t\t\t\tcontenteditable: this.parts.image.getAttribute(\n\t\t\t\t\t\t'contenteditable'\n\t\t\t\t\t)\n\t\t\t\t\t\t? this.parts.image.getAttribute('contenteditable')\n\t\t\t\t\t\t: true,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\tsrc: this.data.src,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (let c in this.data.classes) {\n\t\t\t\t\t\tif (this.data.classes.hasOwnProperty(c)) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension)) {\n\t\t\t\t\tsetDimensions(this);\n\t\t\t\t}\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tdraggable: false,\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tlet classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tlet classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.image2_captionedClass nor config.image2_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (let c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) {\n\t\t\t\t\t\t\tdelete classes[c];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tgetLabel: function() {\n\t\t\t\tlet label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn label;\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass: function(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\timage: 'img',\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of Image2.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass: function(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate: template,\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (image2) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.image2 = {\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio: function(image) {\n\t\t\tlet $ = image.$;\n\n\t\t\tlet natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural: function(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: image.$.naturalHeigh,\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlet img = new Image();\n\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\theight: img.heigh,\n\t\t\t\t\twidth: img.width,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\t};\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.image2_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tlet isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tlet captionedClass = editor.config.image2_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tlet dimensions = {\n\t\t\t\theight: 1,\n\t\t\t\twidth: 1,\n\t\t\t};\n\n\t\t\tlet name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tlet figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (let d in dimensions) {\n\t\t\t\tif (dimensions.hasOwnProperty(d)) {\n\t\t\t\t\tlet dimension = image.attributes[d];\n\n\t\t\t\t\tif (dimension && dimension.match(regexPercent)) {\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (image2_alignClasses).\n\t\t\tlet attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tdelete attrsHolder.attributes.contenteditable;\n\n\t\t\tlet attrs = attrsHolder.attributes;\n\n\t\t\tlet align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tlet resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper) {\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({\n\t\t\t\t\t\t\ta: 1,\n\t\t\t\t\t\t\timg: 1,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tlet styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tclass: alignClasses[1],\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tstyle: 'text-align:center',\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (\n\t\t\t\t\talign in\n\t\t\t\t\t{\n\t\t\t\t\t\tleft: 1,\n\t\t\t\t\t\tright: 1,\n\t\t\t\t\t}\n\t\t\t\t) {\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstyles['float'] = align;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tlet captionedClass = editor.config.image2_captionedClass;\n\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\tlet validChildren = {\n\t\t\ta: 1,\n\t\t\tfigure: 1,\n\t\t\timg: 1,\n\t\t};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\tel.name in\n\t\t\t\t\t{\n\t\t\t\t\t\tdiv: 1,\n\t\t\t\t\t\tp: 1,\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If image2_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') {\n\t\t\treturn true;\n\t\t} else if (el.name == 'a') {\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tlet data = widget.data;\n\n\t\tlet dimensions = {\n\t\t\theight: data.height,\n\t\t\twidth: data.width,\n\t\t};\n\n\t\tlet image = widget.parts.image;\n\n\t\tfor (let d in dimensions) {\n\t\t\tif (dimensions[d]) {\n\t\t\t\timage.setAttribute(d, dimensions[d]);\n\t\t\t} else {\n\t\t\t\timage.removeAttribute(d);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tlet editor = widget.editor;\n\n\t\tlet editable = editor.editable();\n\n\t\tlet doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\t\tlet resizer = (widget.resizer = doc.createElement('span'));\n\n\t\tresizer.addClass('cke_image_resizer');\n\t\tresizer.addClass(\n\t\t\t'cke_image_resizer_' + cursor[editor.config.imageScaleResize]\n\t\t);\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tlet imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tlet oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tlet resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) {\n\t\t\t\toldResizeWrapper.remove();\n\t\t\t}\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', function(evt) {\n\t\t\tlet image = widget.parts.image;\n\n\t\t\t// \"factor\" can be either 1 or -1. I.e.: For right-aligned images, we need to\n\t\t\t// subtract the difference to get proper width, etc. Without \"factor\",\n\t\t\t// resizer starts working the opposite way.\n\t\t\tlet factor = widget.data.align == 'right' ? -1 : 1;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\t\t\tlet startX = evt.data.$.screenX;\n\n\t\t\tlet startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\t\t\tlet startWidth = image.$.clientWidth;\n\n\t\t\tlet startHeight = image.$.clientHeight;\n\n\t\t\tlet listeners = [];\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tlet cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');\n\n\t\t\tlet nativeEvt;\n\t\t\tlet newWidth;\n\t\t\tlet newHeight;\n\t\t\tlet updateData;\n\n\t\t\tlet moveDiffX;\n\t\t\tlet moveDiffY;\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tlet globalDoc = CKEDITOR.document;\n\n\t\t\t\tlet listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc)) {\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\t\t\t\t}\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; ) {\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tlet imageScaleResize = editor.config.imageScaleResize;\n\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'width' ||\n\t\t\t\t\timageScaleResize === 'both' ||\n\t\t\t\t\timageScaleResize === 'scale'\n\t\t\t\t) {\n\t\t\t\t\tnewWidth = startWidth + factor * moveDiffX;\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\timageScaleResize === 'height' ||\n\t\t\t\t\timageScaleResize === 'both'\n\t\t\t\t) {\n\t\t\t\t\tnewHeight = startHeight - moveDiffY;\n\t\t\t\t}\n\n\t\t\t\tif (imageScaleResize === 'scale') {\n\t\t\t\t\tnewHeight = 'auto';\n\t\t\t\t}\n\n\t\t\t\tnewWidth = newWidth || startWidth;\n\t\t\t\tnewHeight = newHeight || startHeight;\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (\n\t\t\t\t\tnewWidth >= 15 &&\n\t\t\t\t\t(newHeight >= 15 || newHeight === 'auto')\n\t\t\t\t) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) {\n\t\t\t\t\tl.removeListener();\n\t\t\t\t}\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\n\t\t// Change the position of the widget resizer when data changes.\n\t\twidget.on('data', function() {\n\t\t\tresizer[widget.data.align == 'right' ? 'addClass' : 'removeClass'](\n\t\t\t\t'cke_image_resizer_left'\n\t\t\t);\n\t\t});\n\n\t\twidget.parts.image.on('click', function() {\n\t\t\tlet selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tlet element = selection.getStartElement();\n\n\t\t\t\tif (element) {\n\t\t\t\t\tlet widgetElement = element.findOne('img');\n\n\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\tlet scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\tnativeEvent: event,\n\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#image2_alignClasses or\n\t// config#image2_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tlet rules = {\n\t\t\tfigcaption: true,\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.image2_captionedClass,\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t};\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tlet alignClasses = editor.config.image2_alignClasses;\n\n\t\tlet features = {\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n})();\n\nCKEDITOR.config.image2_captionedClass = 'image';\n","/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n(function() {\n\tif (CKEDITOR.plugins.get('ae_dragresize_ie11')) {\n\t\treturn;\n\t}\n\n\tlet template = '<img alt=\"\" src=\"\" />';\n\n\tlet templateBlock = new CKEDITOR.template(\n\t\t'<figure class=\"{captionedClass}\">' +\n\t\t\ttemplate +\n\t\t\t'<figcaption>{captionPlaceholder}</figcaption>' +\n\t\t\t'</figure>'\n\t);\n\n\tlet alignmentsObj = {left: 0, center: 1, right: 2};\n\n\tlet regexPercent = /^\\s*(\\d+%)\\s*$/i;\n\n\tCKEDITOR.plugins.add('ae_dragresize_ie11', {\n\t\trequires: 'widget',\n\t\tonLoad: function() {\n\t\t\tCKEDITOR.addCss(\n\t\t\t\t'.cke_image_nocaption{' +\n\t\t\t\t\t// This is to remove unwanted space so resize\n\t\t\t\t\t// wrapper is displayed property.\n\t\t\t\t\t'line-height:0' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_editable.cke_image_ne, .cke_editable.cke_image_ne *{cursor:ne-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_nw, .cke_editable.cke_image_nw *{cursor:nw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_sw, .cke_editable.cke_image_sw *{cursor:sw-resize !important}' +\n\t\t\t\t\t'.cke_editable.cke_image_se, .cke_editable.cke_image_se *{cursor:se-resize !important}' +\n\t\t\t\t\t'.cke_image_resizer{' +\n\t\t\t\t\t'display:none;' +\n\t\t\t\t\t'position:absolute;' +\n\t\t\t\t\t'width:10px;' +\n\t\t\t\t\t'height:10px;' +\n\t\t\t\t\t'background:#000;' +\n\t\t\t\t\t'outline:1px solid #fff;' +\n\t\t\t\t\t// Prevent drag handler from being misplaced (#11207).\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_image_resizer_wrapper{' +\n\t\t\t\t\t'position:relative;' +\n\t\t\t\t\t'display:inline-block;' +\n\t\t\t\t\t'line-height:0;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_ne{' +\n\t\t\t\t\t'cursor:ne-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Top-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_nw{' +\n\t\t\t\t\t'cursor:nw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'top:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-right corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_se{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:se-resize;' +\n\t\t\t\t\t'left:auto;' +\n\t\t\t\t\t'right:-5px;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Bottom-left corner style of the resizer.\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizer_sw{' +\n\t\t\t\t\t'bottom:-5px;' +\n\t\t\t\t\t'cursor:sw-resize;' +\n\t\t\t\t\t'left:-5px;' +\n\t\t\t\t\t'right:auto;' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t'.cke_widget_wrapper:hover .cke_image_resizer,' +\n\t\t\t\t\t'.cke_image_resizer.cke_image_resizing{' +\n\t\t\t\t\t'display:block' +\n\t\t\t\t\t'}' +\n\t\t\t\t\t// Expand widget wrapper when linked inline image.\n\t\t\t\t\t'.cke_widget_wrapper>a{' +\n\t\t\t\t\t'display:inline-block' +\n\t\t\t\t\t'}'\n\t\t\t);\n\t\t},\n\n\t\tinit: function(editor) {\n\t\t\t// Adapts configuration from original image plugin. Should be removed\n\t\t\t// when we'll rename ae_dragresize_ie11 to image.\n\n\t\t\tlet image = widgetDef(editor);\n\n\t\t\t// Register the widget.\n\t\t\teditor.widgets.add('image', image);\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', function(_event) {\n\t\t\t\tlet selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tlet element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tlet widgetElement = element.findOne('img');\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\t\tlet scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\tafterInit: function(editor) {\n\t\t\t// Integrate with align commands (justify plugin).\n\t\t\tlet align = {left: 1, right: 1, center: 1, block: 1};\n\n\t\t\tlet integrate = alignCommandIntegrator(editor);\n\n\t\t\tfor (let value in align) {\n\t\t\t\tif (align.hasOwnProperty(value)) {\n\t\t\t\t\tintegrate(value);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n\n\t// Widget states (forms) depending on alignment and configuration.\n\t//\n\t// Non-captioned widget (inline styles)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>   │<img style=”float:left” />   │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p style=”text-align:center”>│\n\t// \t\t│      │ <p style=”text-align:center”> │  <img />                    │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>  │<img style=”float:right” />  │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Non-captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t┌──────┬───────────────────────────────┬─────────────────────────────┐\n\t// \t\t│Align │Internal form                  │Data                         │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│none  │<wrapper>                      │<img />                      │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>         │<img class=”left” />         │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│center│<wrapper>                      │<p class=”center”>           │\n\t// \t\t│      │ <p class=”center”>            │ <img />                     │\n\t// \t\t│      │   <img />                     │</p>                         │\n\t// \t\t│      │ </p>                          │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t├──────┼───────────────────────────────┼─────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>        │<img class=”right” />        │\n\t// \t\t│      │ <img />                       │                             │\n\t// \t\t│      │</wrapper>                     │                             │\n\t// \t\t└──────┴───────────────────────────────┴─────────────────────────────┘\n\t//\n\t// Captioned widget (inline styles)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper style=”float:left”>            │<figure style=”float:left” />           │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper style=”text-align:center”>     │<div style=”text-align:center”>         │\n\t// \t\t│      │ <figure style=”display:inline-block” />│ <figure style=”display:inline-block” />│\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper style=”float:right”>           │<figure style=”float:right” />          │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// Captioned widget (config.ae_dragresize_ie11_alignClasses defined)\n\t// \t\t┌──────┬────────────────────────────────────────┬────────────────────────────────────────┐\n\t// \t\t│Align │Internal form                           │Data                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│none  │<wrapper>                               │<figure />                              │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│left  │<wrapper class=”left”>                  │<figure class=”left” />                 │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│center│<wrapper class=”center”>                │<div class=”center”>                    │\n\t// \t\t│      │ <figure />                             │ <figure />                             │\n\t// \t\t│      │</wrapper>                              │</p>                                    │\n\t// \t\t├──────┼────────────────────────────────────────┼────────────────────────────────────────┤\n\t// \t\t│right │<wrapper class=”right”>                 │<figure class=”right” />                │\n\t// \t\t│      │ <figure />                             │                                        │\n\t// \t\t│      │</wrapper>                              │                                        │\n\t// \t\t└──────┴────────────────────────────────────────┴────────────────────────────────────────┘\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction widgetDef(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tfunction deflate() {\n\t\t\tif (this.deflated) return;\n\n\t\t\t// Remember whether widget was focused before destroyed.\n\t\t\tif (editor.widgets.focused == this.widget) this.focused = true;\n\n\t\t\teditor.widgets.destroy(this.widget);\n\n\t\t\t// Mark widget was destroyed.\n\t\t\tthis.deflated = true;\n\t\t}\n\n\t\tfunction inflate() {\n\t\t\tlet editable = editor.editable();\n\n\t\t\tlet doc = editor.document;\n\n\t\t\t// Create a new widget. This widget will be either captioned\n\t\t\t// non-captioned, block or inline according to what is the\n\t\t\t// new state of the widget.\n\t\t\tif (this.deflated) {\n\t\t\t\tthis.widget = editor.widgets.initOn(\n\t\t\t\t\tthis.element,\n\t\t\t\t\t'image',\n\t\t\t\t\tthis.widget.data\n\t\t\t\t);\n\n\t\t\t\t// Once widget was re-created, it may become an inline element without\n\t\t\t\t// block wrapper (i.e. when unaligned, end not captioned). Let's do some\n\t\t\t\t// sort of autoparagraphing here (#10853).\n\t\t\t\tif (\n\t\t\t\t\tthis.widget.inline &&\n\t\t\t\t\t!new CKEDITOR.dom.elementPath(this.widget.wrapper, editable)\n\t\t\t\t\t\t.block\n\t\t\t\t) {\n\t\t\t\t\tlet block = doc.createElement(\n\t\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div'\n\t\t\t\t\t);\n\t\t\t\t\tblock.replace(this.widget.wrapper);\n\t\t\t\t\tthis.widget.wrapper.move(block);\n\t\t\t\t}\n\n\t\t\t\t// The focus must be transferred from the old one (destroyed)\n\t\t\t\t// to the new one (just created).\n\t\t\t\tif (this.focused) {\n\t\t\t\t\tthis.widget.focus();\n\t\t\t\t\tdelete this.focused;\n\t\t\t\t}\n\n\t\t\t\tdelete this.deflated;\n\t\t\t}\n\n\t\t\t// If now widget was destroyed just update wrapper's alignment.\n\t\t\t// According to the new state.\n\t\t\telse {\n\t\t\t\tsetWrapperAlign(this.widget, alignClasses);\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\tallowedContent: getWidgetAllowedContent(editor),\n\n\t\t\trequiredContent: 'img[src,alt]',\n\n\t\t\tfeatures: getWidgetFeatures(editor),\n\n\t\t\tstyleableElements: 'img figure',\n\n\t\t\t// This widget converts style-driven dimensions to attributes.\n\t\t\tcontentTransformations: [['img[width]: sizeToAttribute']],\n\n\t\t\t// This widget has an editable caption.\n\t\t\teditables: {\n\t\t\t\tcaption: {\n\t\t\t\t\tselector: 'figcaption',\n\t\t\t\t\tallowedContent: 'br em strong sub sup u s; a[!href,target]',\n\t\t\t\t},\n\t\t\t},\n\n\t\t\tparts: {\n\t\t\t\timage: 'img',\n\t\t\t\tcaption: 'figcaption',\n\t\t\t\t// parts#link defined in widget#init\n\t\t\t},\n\n\t\t\t// Template of the widget: plain image.\n\t\t\ttemplate: template,\n\n\t\t\tdata: function() {\n\t\t\t\tlet features = this.features;\n\n\t\t\t\t// Image can't be captioned when figcaption is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.hasCaption &&\n\t\t\t\t\t!editor.filter.checkFeature(features.caption)\n\t\t\t\t)\n\t\t\t\t\tthis.data.hasCaption = false;\n\n\t\t\t\t// Image can't be aligned when floating is disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\tthis.data.align != 'none' &&\n\t\t\t\t\t!editor.filter.checkFeature(features.align)\n\t\t\t\t)\n\t\t\t\t\tthis.data.align = 'none';\n\n\t\t\t\t// Convert the internal form of the widget from the old state to the new one.\n\t\t\t\tthis.shiftState({\n\t\t\t\t\twidget: this,\n\t\t\t\t\telement: this.element,\n\t\t\t\t\toldData: this.oldData,\n\t\t\t\t\tnewData: this.data,\n\t\t\t\t\tdeflate: deflate,\n\t\t\t\t\tinflate: inflate,\n\t\t\t\t});\n\n\t\t\t\t// Update widget.parts.link since it will not auto-update unless widget\n\t\t\t\t// is destroyed and re-inited.\n\t\t\t\tif (!this.data.link) {\n\t\t\t\t\tif (this.parts.link) delete this.parts.link;\n\t\t\t\t} else {\n\t\t\t\t\tif (!this.parts.link)\n\t\t\t\t\t\tthis.parts.link = this.parts.image.getParent();\n\t\t\t\t}\n\n\t\t\t\tthis.parts.image.setAttributes({\n\t\t\t\t\tsrc: this.data.src,\n\n\t\t\t\t\t// This internal is required by the editor.\n\t\t\t\t\t'data-cke-saved-src': this.data.src,\n\n\t\t\t\t\talt: this.data.alt,\n\t\t\t\t});\n\n\t\t\t\t// If shifting non-captioned -> captioned, remove classes\n\t\t\t\t// related to styles from <img/>.\n\t\t\t\tif (\n\t\t\t\t\tthis.oldData &&\n\t\t\t\t\t!this.oldData.hasCaption &&\n\t\t\t\t\tthis.data.hasCaption\n\t\t\t\t) {\n\t\t\t\t\tfor (let c in this.data.classes) {\n\t\t\t\t\t\tif (this.data.classes.hasOwnProperty(c)) {\n\t\t\t\t\t\t\tthis.parts.image.removeClass(c);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Set dimensions of the image according to gathered data.\n\t\t\t\t// Do it only when the attributes are allowed (#11004).\n\t\t\t\tif (editor.filter.checkFeature(features.dimension))\n\t\t\t\t\tsetDimensions(this);\n\n\t\t\t\t// Cache current data.\n\t\t\t\tthis.oldData = CKEDITOR.tools.extend({}, this.data);\n\t\t\t},\n\n\t\t\tinit: function() {\n\t\t\t\tlet helpers = CKEDITOR.plugins.ae_dragresize_ie11;\n\n\t\t\t\tlet image = this.parts.image;\n\n\t\t\t\tlet data = {\n\t\t\t\t\thasCaption: !!this.parts.caption,\n\t\t\t\t\tsrc: image.getAttribute('src'),\n\t\t\t\t\talt: image.getAttribute('alt') || '',\n\t\t\t\t\twidth: image.getAttribute('width') || '',\n\t\t\t\t\theight: image.getAttribute('height') || '',\n\n\t\t\t\t\t// Lock ratio is on by default (#10833).\n\t\t\t\t\tlock: this.ready\n\t\t\t\t\t\t? helpers.checkHasNaturalRatio(image)\n\t\t\t\t\t\t: true,\n\t\t\t\t};\n\n\t\t\t\t// If we used 'a' in widget#parts definition, it could happen that\n\t\t\t\t// selected element is a child of widget.parts#caption. Since there's no clever\n\t\t\t\t// way to solve it with CSS selectors, it's done like that. (#11783).\n\t\t\t\tlet link = image.getAscendant('a');\n\n\t\t\t\tif (link && this.wrapper.contains(link)) this.parts.link = link;\n\n\t\t\t\t// Depending on configuration, read style/class from element and\n\t\t\t\t// then remove it. Removed style/class will be set on wrapper in #data listener.\n\t\t\t\t// Note: Center alignment is detected during upcast, so only left/right cases\n\t\t\t\t// are checked below.\n\t\t\t\tif (!data.align) {\n\t\t\t\t\tlet alignElement = data.hasCaption ? this.element : image;\n\n\t\t\t\t\t// Read the initial left/right alignment from the class set on element.\n\t\t\t\t\tif (alignClasses) {\n\t\t\t\t\t\tif (alignElement.hasClass(alignClasses[0])) {\n\t\t\t\t\t\t\tdata.align = 'left';\n\t\t\t\t\t\t} else if (alignElement.hasClass(alignClasses[2])) {\n\t\t\t\t\t\t\tdata.align = 'right';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (data.align) {\n\t\t\t\t\t\t\talignElement.removeClass(\n\t\t\t\t\t\t\t\talignClasses[alignmentsObj[data.align]]\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.align = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Read initial float style from figure/image and then remove it.\n\t\t\t\t\telse {\n\t\t\t\t\t\tdata.align = alignElement.getStyle('float') || 'none';\n\t\t\t\t\t\talignElement.removeStyle('float');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Update data.link object with attributes if the link has been discovered.\n\t\t\t\tif (editor.plugins.link && this.parts.link) {\n\t\t\t\t\tdata.link = helpers.getLinkAttributesParser()(\n\t\t\t\t\t\teditor,\n\t\t\t\t\t\tthis.parts.link\n\t\t\t\t\t);\n\n\t\t\t\t\t// Get rid of cke_widget_* classes in data. Otherwise\n\t\t\t\t\t// they might appear in link dialog.\n\t\t\t\t\tlet advanced = data.link.advanced;\n\t\t\t\t\tif (advanced && advanced.advCSSClasses) {\n\t\t\t\t\t\tadvanced.advCSSClasses = CKEDITOR.tools.trim(\n\t\t\t\t\t\t\tadvanced.advCSSClasses.replace(/cke_\\S+/, '')\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Get rid of extra vertical space when there's no caption.\n\t\t\t\t// It will improve the look of the resizer.\n\t\t\t\tthis.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class'](\n\t\t\t\t\t'cke_image_nocaption'\n\t\t\t\t);\n\n\t\t\t\tthis.setData(data);\n\n\t\t\t\t// Setup dynamic image resizing with mouse.\n\t\t\t\t// Don't initialize resizer when dimensions are disallowed (#11004).\n\t\t\t\tif (\n\t\t\t\t\teditor.filter.checkFeature(this.features.dimension) &&\n\t\t\t\t\teditor.config.ae_dragresize_ie11_disableResizer !== true\n\t\t\t\t)\n\t\t\t\t\tsetupResizer(this);\n\n\t\t\t\tthis.shiftState = helpers.stateShifter(this.editor);\n\n\t\t\t\t// Add widget editing option to its context menu.\n\t\t\t\tthis.on('contextMenu', function(evt) {\n\t\t\t\t\tevt.data.image = CKEDITOR.TRISTATE_OFF;\n\n\t\t\t\t\t// Integrate context menu items for link.\n\t\t\t\t\t// Note that widget may be wrapped in a link, which\n\t\t\t\t\t// does not belong to that widget (#11814).\n\t\t\t\t\tif (this.parts.link || this.wrapper.getAscendant('a'))\n\t\t\t\t\t\tevt.data.link = evt.data.unlink = CKEDITOR.TRISTATE_OFF;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#addClass\n\t\t\taddClass: function(className) {\n\t\t\t\tgetStyleableElement(this).addClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#hasClass\n\t\t\thasClass: function(className) {\n\t\t\t\treturn getStyleableElement(this).hasClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#removeClass\n\t\t\tremoveClass: function(className) {\n\t\t\t\tgetStyleableElement(this).removeClass(className);\n\t\t\t},\n\n\t\t\t// Overrides default method to handle internal mutability of ae_dragresize_ie11.\n\t\t\t// @see CKEDITOR.plugins.widget#getClasses\n\t\t\tgetClasses: (function() {\n\t\t\t\tlet classRegex = new RegExp(\n\t\t\t\t\t'^(' +\n\t\t\t\t\t\t[].concat(captionedClass, alignClasses).join('|') +\n\t\t\t\t\t\t')$'\n\t\t\t\t);\n\n\t\t\t\treturn function() {\n\t\t\t\t\tlet classes = this.repository.parseElementClasses(\n\t\t\t\t\t\tgetStyleableElement(this).getAttribute('class')\n\t\t\t\t\t);\n\n\t\t\t\t\t// Neither config.ae_dragresize_ie11_captionedClass nor config.ae_dragresize_ie11_alignClasses\n\t\t\t\t\t// do not belong to style classes.\n\t\t\t\t\tfor (let c in classes) {\n\t\t\t\t\t\tif (classRegex.test(c)) delete classes[c];\n\t\t\t\t\t}\n\n\t\t\t\t\treturn classes;\n\t\t\t\t};\n\t\t\t})(),\n\n\t\t\tupcast: upcastWidgetElement(editor),\n\t\t\tdowncast: downcastWidgetElement(editor),\n\n\t\t\tgetLabel: function() {\n\t\t\t\tlet label = (this.data.alt || '') + ' ' + this.pathName;\n\n\t\t\t\treturn this.editor.lang.widget.label.replace(/%1/, label);\n\t\t\t},\n\t\t};\n\t}\n\n\t/**\n\t * A set of Enhanced Image (ae_dragresize_ie11) plugin helpers.\n\t *\n\t * @class\n\t * @singleton\n\t */\n\tCKEDITOR.plugins.ae_dragresize_ie11 = {\n\t\tstateShifter: function(editor) {\n\t\t\t// Tag name used for centering non-captioned widgets.\n\t\t\tlet doc = editor.document;\n\n\t\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t\tlet captionedClass =\n\t\t\t\teditor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t\tlet editable = editor.editable();\n\n\t\t\t// The order that stateActions get executed. It matters!\n\n\t\t\tlet shiftables = ['hasCaption', 'align', 'link'];\n\n\t\t\t// Atomic procedures, one per state variable.\n\t\t\tlet stateActions = {\n\t\t\t\talign: function(shift, oldValue, newValue) {\n\t\t\t\t\tlet el = shift.element;\n\n\t\t\t\t\t// Alignment changed.\n\t\t\t\t\tif (shift.changed.align) {\n\t\t\t\t\t\t// No caption in the new state.\n\t\t\t\t\t\tif (!shift.newData.hasCaption) {\n\t\t\t\t\t\t\t// Changed to \"center\" (non-captioned).\n\t\t\t\t\t\t\tif (newValue == 'center') {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Changed to \"non-center\" from \"center\" while caption removed.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!shift.changed.hasCaption &&\n\t\t\t\t\t\t\t\toldValue == 'center' &&\n\t\t\t\t\t\t\t\tnewValue != 'center'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\t\t\tshift.element = unwrapFromCentering(el);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Alignment remains and \"center\" removed caption.\n\t\t\t\t\telse if (\n\t\t\t\t\t\tnewValue == 'center' &&\n\t\t\t\t\t\tshift.changed.hasCaption &&\n\t\t\t\t\t\t!shift.newData.hasCaption\n\t\t\t\t\t) {\n\t\t\t\t\t\tshift.deflate();\n\t\t\t\t\t\tshift.element = wrapInCentering(editor, el);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Finally set display for figure.\n\t\t\t\t\tif (!alignClasses && el.is('figure')) {\n\t\t\t\t\t\tif (newValue == 'center')\n\t\t\t\t\t\t\tel.setStyle('display', 'inline-block');\n\t\t\t\t\t\telse el.removeStyle('display');\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\thasCaption: function(shift, oldValue, newValue) {\n\t\t\t\t\t// This action is for real state change only.\n\t\t\t\t\tif (!shift.changed.hasCaption) return;\n\n\t\t\t\t\t// Get <img/> or <a><img/></a> from widget. Note that widget element might itself\n\t\t\t\t\t// be what we're looking for. Also element can be <p style=\"text-align:center\"><a>...</a></p>.\n\t\t\t\t\tlet imageOrLink;\n\t\t\t\t\tif (shift.element.is({img: 1, a: 1}))\n\t\t\t\t\t\timageOrLink = shift.element;\n\t\t\t\t\telse imageOrLink = shift.element.findOne('a,img');\n\n\t\t\t\t\t// Switching hasCaption always destroys the widget.\n\t\t\t\t\tshift.deflate();\n\n\t\t\t\t\t// There was no caption, but the caption is to be added.\n\t\t\t\t\tif (newValue) {\n\t\t\t\t\t\t// Create new <figure> from widget template.\n\t\t\t\t\t\tlet figure = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\ttemplateBlock.output({\n\t\t\t\t\t\t\t\tcaptionedClass: captionedClass,\n\t\t\t\t\t\t\t\tcaptionPlaceholder:\n\t\t\t\t\t\t\t\t\teditor.lang.ae_dragresize_ie11\n\t\t\t\t\t\t\t\t\t\t.captionPlaceholder,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\tdoc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// Replace element with <figure>.\n\t\t\t\t\t\treplaceSafely(figure, shift.element);\n\n\t\t\t\t\t\t// Use old <img/> or <a><img/></a> instead of the one from the template,\n\t\t\t\t\t\t// so we won't lose additional attributes.\n\t\t\t\t\t\timageOrLink.replace(figure.findOne('img'));\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = figure;\n\t\t\t\t\t}\n\n\t\t\t\t\t// The caption was present, but now it's to be removed.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Unwrap <img/> or <a><img/></a> from figure.\n\t\t\t\t\t\timageOrLink.replace(shift.element);\n\n\t\t\t\t\t\t// Update widget's element.\n\t\t\t\t\t\tshift.element = imageOrLink;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tlink: function(shift, oldValue, newValue) {\n\t\t\t\t\tif (shift.changed.link) {\n\t\t\t\t\t\tlet img = shift.element.is('img')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('img');\n\n\t\t\t\t\t\tlet link = shift.element.is('a')\n\t\t\t\t\t\t\t? shift.element\n\t\t\t\t\t\t\t: shift.element.findOne('a');\n\n\t\t\t\t\t\t// Why deflate:\n\t\t\t\t\t\t// If element is <img/>, it will be wrapped into <a>,\n\t\t\t\t\t\t// which becomes a new widget.element.\n\t\t\t\t\t\t// If element is <a><img/></a>, it will be unlinked\n\t\t\t\t\t\t// so <img/> becomes a new widget.element.\n\n\t\t\t\t\t\tlet needsDeflate =\n\t\t\t\t\t\t\t(shift.element.is('a') && !newValue) ||\n\t\t\t\t\t\t\t(shift.element.is('img') && newValue);\n\n\t\t\t\t\t\tlet newEl;\n\n\t\t\t\t\t\tif (needsDeflate) shift.deflate();\n\n\t\t\t\t\t\t// If unlinked the image, returned element is <img>.\n\t\t\t\t\t\tif (!newValue) newEl = unwrapFromLink(link);\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t// If linked the image, returned element is <a>.\n\t\t\t\t\t\t\tif (!oldValue)\n\t\t\t\t\t\t\t\tnewEl = wrapInLink(img, shift.newData.link);\n\n\t\t\t\t\t\t\t// Set and remove all attributes associated with this state.\n\t\t\t\t\t\t\tlet attributes = CKEDITOR.plugins.ae_dragresize_ie11.getLinkAttributesGetter()(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnewValue\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (!CKEDITOR.tools.isEmpty(attributes.set))\n\t\t\t\t\t\t\t\t(newEl || link).setAttributes(attributes.set);\n\n\t\t\t\t\t\t\tif (attributes.removed.length)\n\t\t\t\t\t\t\t\t(newEl || link).removeAttributes(\n\t\t\t\t\t\t\t\t\tattributes.removed\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (needsDeflate) shift.element = newEl;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tfunction wrapInCentering(editor, element) {\n\t\t\t\tlet attribsAndStyles = {};\n\n\t\t\t\tif (alignClasses)\n\t\t\t\t\tattribsAndStyles.attributes = {class: alignClasses[1]};\n\t\t\t\telse attribsAndStyles.styles = {'text-align': 'center'};\n\n\t\t\t\t// There's no gentle way to center inline element with CSS, so create p/div\n\t\t\t\t// that wraps widget contents and does the trick either with style or class.\n\t\t\t\tlet center = doc.createElement(\n\t\t\t\t\teditor.activeEnterMode == CKEDITOR.ENTER_P ? 'p' : 'div',\n\t\t\t\t\tattribsAndStyles\n\t\t\t\t);\n\n\t\t\t\t// Replace element with centering wrapper.\n\t\t\t\treplaceSafely(center, element);\n\t\t\t\telement.move(center);\n\n\t\t\t\treturn center;\n\t\t\t}\n\n\t\t\tfunction unwrapFromCentering(element) {\n\t\t\t\tlet imageOrLink = element.findOne('a,img');\n\n\t\t\t\timageOrLink.replace(element);\n\n\t\t\t\treturn imageOrLink;\n\t\t\t}\n\n\t\t\t// Wraps <img/> -> <a><img/></a>.\n\t\t\t// Returns reference to <a>.\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} img\n\t\t\t// @param {Object} linkData\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction wrapInLink(img, linkData) {\n\t\t\t\tlet link = doc.createElement('a', {\n\t\t\t\t\tattributes: {\n\t\t\t\t\t\thref: linkData.url,\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\tlink.replace(img);\n\t\t\t\timg.move(link);\n\n\t\t\t\treturn link;\n\t\t\t}\n\n\t\t\t// De-wraps <a><img/></a> -> <img/>.\n\t\t\t// Returns the reference to <img/>\n\t\t\t//\n\t\t\t// @param {CKEDITOR.dom.element} link\n\t\t\t// @returns {CKEDITOR.dom.element}\n\t\t\tfunction unwrapFromLink(link) {\n\t\t\t\tlet img = link.findOne('img');\n\n\t\t\t\timg.replace(link);\n\n\t\t\t\treturn img;\n\t\t\t}\n\n\t\t\tfunction replaceSafely(replacing, replaced) {\n\t\t\t\tif (replaced.getParent()) {\n\t\t\t\t\tlet range = editor.createRange();\n\n\t\t\t\t\trange.moveToPosition(\n\t\t\t\t\t\treplaced,\n\t\t\t\t\t\tCKEDITOR.POSITION_BEFORE_START\n\t\t\t\t\t);\n\n\t\t\t\t\t// Remove old element. Do it before insertion to avoid a case when\n\t\t\t\t\t// element is moved from 'replaced' element before it, what creates\n\t\t\t\t\t// a tricky case which insertElementIntorRange does not handle.\n\t\t\t\t\treplaced.remove();\n\n\t\t\t\t\teditable.insertElementIntoRange(replacing, range);\n\t\t\t\t} else {\n\t\t\t\t\treplacing.replace(replaced);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn function(shift) {\n\t\t\t\tlet name;\n\t\t\t\tlet i;\n\n\t\t\t\tshift.changed = {};\n\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tshift.changed[name] = shift.oldData\n\t\t\t\t\t\t? shift.oldData[name] !== shift.newData[name]\n\t\t\t\t\t\t: false;\n\t\t\t\t}\n\n\t\t\t\t// Iterate over possible state variables.\n\t\t\t\tfor (i = 0; i < shiftables.length; i++) {\n\t\t\t\t\tname = shiftables[i];\n\n\t\t\t\t\tstateActions[name](\n\t\t\t\t\t\tshift,\n\t\t\t\t\t\tshift.oldData ? shift.oldData[name] : null,\n\t\t\t\t\t\tshift.newData[name]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tshift.inflate();\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Checks whether the current image ratio matches the natural one\n\t\t * by comparing dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Boolean}\n\t\t */\n\t\tcheckHasNaturalRatio: function(image) {\n\t\t\tlet $ = image.$;\n\n\t\t\tlet natural = this.getNatural(image);\n\n\t\t\t// The reason for two alternative comparisons is that the rounding can come from\n\t\t\t// both dimensions, e.g. there are two cases:\n\t\t\t// \t1. height is computed as a rounded relation of the real height and the value of width,\n\t\t\t//\t2. width is computed as a rounded relation of the real width and the value of heigh.\n\t\t\treturn (\n\t\t\t\tMath.round(($.clientWidth / natural.width) * natural.height) ==\n\t\t\t\t\t$.clientHeight ||\n\t\t\t\tMath.round(($.clientHeight / natural.height) * natural.width) ==\n\t\t\t\t\t$.clientWidth\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Returns natural dimensions of the image. For modern browsers\n\t\t * it uses natural(Width|Height). For old ones (IE8) it creates\n\t\t * a new image and reads the dimensions.\n\t\t *\n\t\t * @param {CKEDITOR.dom.element} image\n\t\t * @return {Object}\n\t\t */\n\t\tgetNatural: function(image) {\n\t\t\tlet dimensions;\n\n\t\t\tif (image.$.naturalWidth) {\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: image.$.naturalWidth,\n\t\t\t\t\theight: image.$.naturalHeight,\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tlet img = new Image();\n\t\t\t\timg.src = image.getAttribute('src');\n\n\t\t\t\tdimensions = {\n\t\t\t\t\twidth: img.width,\n\t\t\t\t\theight: img.height,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dimensions;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute getter function. Default getter comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom getter e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom getter is used, a data model format it produces\n\t\t * must be compatible with {@link CKEDITOR.plugins.link#getLinkAttributes}.\n\t\t *\n\t\t * **Note:** A custom getter must understand the data model format produced by\n\t\t * {@link #getLinkAttributesParser} to work correctly.\n\t\t *\n\t\t * @return {Function} A function that gets (composes) link attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesGetter: function() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.getLinkAttributes;\n\t\t},\n\n\t\t/**\n\t\t * Returns an attribute parser function. Default parser comes from the Link plugin\n\t\t * and is documented by {@link CKEDITOR.plugins.link#parseLinkAttributes}.\n\t\t *\n\t\t * **Note:** It is possible to override this method and use a custom parser e.g.\n\t\t * in the absence of the Link plugin.\n\t\t *\n\t\t * **Note:** If a custom parser is used, a data model format produced by the parser\n\t\t * must be compatible with {@link #getLinkAttributesGetter}.\n\t\t *\n\t\t * **Note:** If a custom parser is used, it should be compatible with the\n\t\t * {@link CKEDITOR.plugins.link#parseLinkAttributes} data model format. Otherwise the\n\t\t * Link plugin dialog may not be populated correctly with parsed data. However\n\t\t * as long as Enhanced Image is **not** used with the Link plugin dialog, any custom data model\n\t\t * will work, being stored as an internal property of Enhanced Image widget's data only.\n\t\t *\n\t\t * @return {Function} A function that parses attributes.\n\t\t * @since 4.5.5\n\t\t */\n\t\tgetLinkAttributesParser: function() {\n\t\t\t// #13885\n\t\t\treturn CKEDITOR.plugins.link.parseLinkAttributes;\n\t\t},\n\t};\n\n\tfunction setWrapperAlign(widget, alignClasses) {\n\t\tlet wrapper = widget.wrapper;\n\n\t\tlet align = widget.data.align;\n\n\t\tlet hasCaption = widget.data.hasCaption;\n\n\t\tif (alignClasses) {\n\t\t\t// Remove all align classes first.\n\t\t\tfor (let i = 3; i--; ) wrapper.removeClass(alignClasses[i]);\n\n\t\t\tif (align == 'center') {\n\t\t\t\t// Avoid touching non-captioned, centered widgets because\n\t\t\t\t// they have the class set on the element instead of wrapper:\n\t\t\t\t//\n\t\t\t\t// \t<div class=\"cke_widget_wrapper\">\n\t\t\t\t// \t\t<p class=\"center-class\">\n\t\t\t\t// \t\t\t<img />\n\t\t\t\t// \t\t</p>\n\t\t\t\t// \t</div>\n\t\t\t\tif (hasCaption) {\n\t\t\t\t\twrapper.addClass(alignClasses[1]);\n\t\t\t\t}\n\t\t\t} else if (align != 'none') {\n\t\t\t\twrapper.addClass(alignClasses[alignmentsObj[align]]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (align == 'center') {\n\t\t\t\tif (hasCaption) wrapper.setStyle('text-align', 'center');\n\t\t\t\telse wrapper.removeStyle('text-align');\n\n\t\t\t\twrapper.removeStyle('float');\n\t\t\t} else {\n\t\t\t\tif (align == 'none') wrapper.removeStyle('float');\n\t\t\t\telse wrapper.setStyle('float', align);\n\n\t\t\t\twrapper.removeStyle('text-align');\n\t\t\t}\n\n\t\t\tlet image = wrapper.$.querySelector('img');\n\n\t\t\timage.removeAttribute('style');\n\t\t}\n\t}\n\n\t// Returns a function that creates widgets from all <img> and\n\t// <figure class=\"{config.ae_dragresize_ie11_captionedClass}\"> elements.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction upcastWidgetElement(editor) {\n\t\tlet isCenterWrapper = centerWrapperChecker(editor);\n\n\t\tlet captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\t// @param {Object} data\n\t\treturn function(el, data) {\n\t\t\tlet dimensions = {width: 1, height: 1};\n\n\t\t\tlet name = el.name;\n\n\t\t\tlet image;\n\n\t\t\t// #11110 Don't initialize on pasted fake objects.\n\t\t\tif (el.attributes['data-cke-realelement']) return;\n\n\t\t\t// If a center wrapper is found, there are 3 possible cases:\n\t\t\t//\n\t\t\t// 1. <div style=\"text-align:center\"><figure>...</figure></div>.\n\t\t\t//    In this case centering is done with a class set on widget.wrapper.\n\t\t\t//    Simply replace centering wrapper with figure (it's no longer necessary).\n\t\t\t//\n\t\t\t// 2. <p style=\"text-align:center\"><img/></p>.\n\t\t\t//    Nothing to do here: <p> remains for styling purposes.\n\t\t\t//\n\t\t\t// 3. <div style=\"text-align:center\"><img/></div>.\n\t\t\t//    Nothing to do here (2.) but that case is only possible in enterMode different\n\t\t\t//    than ENTER_P.\n\t\t\tif (isCenterWrapper(el)) {\n\t\t\t\tif (name == 'div') {\n\t\t\t\t\tlet figure = el.getFirst('figure');\n\n\t\t\t\t\t// Case #1.\n\t\t\t\t\tif (figure) {\n\t\t\t\t\t\tel.replaceWith(figure);\n\t\t\t\t\t\tel = figure;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Cases #2 and #3 (handled transparently)\n\n\t\t\t\t// If there's a centering wrapper, save it in data.\n\t\t\t\tdata.align = 'center';\n\n\t\t\t\t// Image can be wrapped in link <a><img/></a>.\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\t\t\t}\n\n\t\t\t// No center wrapper has been found.\n\t\t\telse if (name == 'figure' && el.hasClass(captionedClass)) {\n\t\t\t\timage = el.getFirst('img') || el.getFirst('a').getFirst('img');\n\n\t\t\t\t// Upcast linked image like <a><img/></a>.\n\t\t\t} else if (isLinkedOrStandaloneImage(el)) {\n\t\t\t\timage = el.name == 'a' ? el.children[0] : el;\n\t\t\t}\n\n\t\t\tif (!image) return;\n\n\t\t\t// If there's an image, then cool, we got a widget.\n\t\t\t// Now just remove dimension attributes expressed with %.\n\t\t\tfor (let d in dimensions) {\n\t\t\t\tif (dimensions.hasOwnProperty(d)) {\n\t\t\t\t\tlet dimension = image.attributes[d];\n\t\t\t\t\tif (dimension && dimension.match(regexPercent))\n\t\t\t\t\t\tdelete image.attributes[d];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function which transforms the widget to the external format\n\t// according to the current configuration.\n\t//\n\t// @param {CKEDITOR.editor}\n\tfunction downcastWidgetElement(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\t// @param {CKEDITOR.htmlParser.element} el\n\t\treturn function(el) {\n\t\t\t// In case of <a><img/></a>, <img/> is the element to hold\n\t\t\t// inline styles or classes (ae_dragresize_ie11_alignClasses).\n\t\t\tlet attrsHolder = el.name == 'a' ? el.getFirst() : el;\n\n\t\t\tlet attrs = attrsHolder.attributes;\n\n\t\t\tlet align = this.data.align;\n\n\t\t\t// De-wrap the image from resize handle wrapper.\n\t\t\t// Only block widgets have one.\n\t\t\tif (!this.inline) {\n\t\t\t\tlet resizeWrapper = el.getFirst('span');\n\n\t\t\t\tif (resizeWrapper)\n\t\t\t\t\tresizeWrapper.replaceWith(\n\t\t\t\t\t\tresizeWrapper.getFirst({img: 1, a: 1})\n\t\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (align && align != 'none') {\n\t\t\t\tlet styles = CKEDITOR.tools.parseCssText(attrs.style || '');\n\n\t\t\t\t// When the widget is captioned (<figure>) and internally centering is done\n\t\t\t\t// with widget's wrapper style/class, in the external data representation,\n\t\t\t\t// <figure> must be wrapped with an element holding an style/class:\n\t\t\t\t//\n\t\t\t\t// \t<div style=\"text-align:center\">\n\t\t\t\t// \t\t<figure class=\"image\" style=\"display:inline-block\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t// or\n\t\t\t\t// \t<div class=\"some-center-class\">\n\t\t\t\t// \t\t<figure class=\"image\">...</figure>\n\t\t\t\t// \t</div>\n\t\t\t\t//\n\t\t\t\tif (align == 'center' && el.name == 'figure') {\n\t\t\t\t\tel = el.wrapWith(\n\t\t\t\t\t\tnew CKEDITOR.htmlParser.element(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\talignClasses\n\t\t\t\t\t\t\t\t? {class: alignClasses[1]}\n\t\t\t\t\t\t\t\t: {style: 'text-align:center'}\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t// If left/right, add float style to the downcasted element.\n\t\t\t\telse if (align in {left: 1, right: 1}) {\n\t\t\t\t\tif (alignClasses)\n\t\t\t\t\t\tattrsHolder.addClass(\n\t\t\t\t\t\t\talignClasses[alignmentsObj[align]]\n\t\t\t\t\t\t);\n\t\t\t\t\telse styles['float'] = align;\n\t\t\t\t}\n\n\t\t\t\t// Update element styles.\n\t\t\t\tif (!alignClasses && !CKEDITOR.tools.isEmpty(styles))\n\t\t\t\t\tattrs.style = CKEDITOR.tools.writeCssText(styles) + ';';\n\t\t\t}\n\n\t\t\treturn el;\n\t\t};\n\t}\n\n\t// Returns a function that checks if an element is a centering wrapper.\n\t//\n\t// @param {CKEDITOR.editor} editor\n\t// @returns {Function}\n\tfunction centerWrapperChecker(editor) {\n\t\tlet captionedClass = editor.config.ae_dragresize_ie11_captionedClass;\n\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet validChildren = {figure: 1, a: 1, img: 1};\n\n\t\treturn function(el) {\n\t\t\t// Wrapper must be either <div> or <p>.\n\t\t\tif (!(el.name in {div: 1, p: 1})) return false;\n\n\t\t\tlet children = el.children;\n\n\t\t\t// Centering wrapper can have only one child.\n\t\t\tif (children.length !== 1) return false;\n\n\t\t\tlet child = children[0];\n\n\t\t\t// Only <figure> or <img /> can be first (only) child of centering wrapper,\n\t\t\t// regardless of its type.\n\t\t\tif (!(child.name in validChildren)) return false;\n\n\t\t\t// If centering wrapper is <p>, only <img /> can be the child.\n\t\t\t//   <p style=\"text-align:center\"><img /></p>\n\t\t\tif (el.name == 'p') {\n\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t}\n\t\t\t// Centering <div> can hold <img/> or <figure>, depending on enterMode.\n\t\t\telse {\n\t\t\t\t// If a <figure> is the first (only) child, it must have a class.\n\t\t\t\t//   <div style=\"text-align:center\"><figure>...</figure><div>\n\t\t\t\tif (child.name == 'figure') {\n\t\t\t\t\tif (!child.hasClass(captionedClass)) return false;\n\t\t\t\t} else {\n\t\t\t\t\t// Centering <div> can hold <img/> or <a><img/></a> only when enterMode\n\t\t\t\t\t// is ENTER_(BR|DIV).\n\t\t\t\t\t//   <div style=\"text-align:center\"><img /></div>\n\t\t\t\t\t//   <div style=\"text-align:center\"><a><img /></a></div>\n\t\t\t\t\tif (editor.enterMode == CKEDITOR.ENTER_P) return false;\n\n\t\t\t\t\t// Regardless of enterMode, a child which is not <figure> must be\n\t\t\t\t\t// either <img/> or <a><img/></a>.\n\t\t\t\t\tif (!isLinkedOrStandaloneImage(child)) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Centering wrapper got to be... centering. If ae_dragresize_ie11_alignClasses are defined,\n\t\t\t// check for centering class. Otherwise, check the style.\n\t\t\tif (\n\t\t\t\talignClasses\n\t\t\t\t\t? el.hasClass(alignClasses[1])\n\t\t\t\t\t: CKEDITOR.tools.parseCssText(\n\t\t\t\t\t\t\tel.attributes.style || '',\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t  )['text-align'] == 'center'\n\t\t\t)\n\t\t\t\treturn true;\n\n\t\t\treturn false;\n\t\t};\n\t}\n\n\t// Checks whether element is <img/> or <a><img/></a>.\n\t//\n\t// @param {CKEDITOR.htmlParser.element}\n\tfunction isLinkedOrStandaloneImage(el) {\n\t\tif (el.name == 'img') return true;\n\t\telse if (el.name == 'a')\n\t\t\treturn el.children.length == 1 && el.getFirst('img');\n\n\t\treturn false;\n\t}\n\n\t// Sets width and height of the widget image according to current widget data.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setDimensions(widget) {\n\t\tlet data = widget.data;\n\n\t\tlet dimensions = {width: data.width, height: data.height};\n\n\t\tlet image = widget.parts.image;\n\n\t\tfor (let d in dimensions) {\n\t\t\tif (dimensions[d]) image.setAttribute(d, dimensions[d]);\n\t\t\telse image.removeAttribute(d);\n\t\t}\n\t}\n\n\t// Defines all features related to drag-driven image resizing.\n\t//\n\t// @param {CKEDITOR.plugins.widget} widget\n\tfunction setupResizer(widget) {\n\t\tlet editor = widget.editor;\n\n\t\tlet editable = editor.editable();\n\n\t\tlet doc = editor.document;\n\n\t\t// Store the resizer in a widget for testing (#11004).\n\n\t\tlet resizer = (widget.resizer = doc.createElement('span'));\n\n\t\t// Create resizer for each corner (NE, NW, SE, SW)\n\n\t\tlet resizerNE = doc.createElement('span');\n\n\t\tlet resizerNW = doc.createElement('span');\n\n\t\tlet resizerSE = doc.createElement('span');\n\n\t\tlet resizerSW = doc.createElement('span');\n\n\t\tresizerNE.addClass('cke_image_resizer');\n\t\tresizerNE.addClass('cke_image_resizer_ne');\n\n\t\tresizerNW.addClass('cke_image_resizer');\n\t\tresizerNW.addClass('cke_image_resizer_nw');\n\n\t\tresizerSE.addClass('cke_image_resizer');\n\t\tresizerSE.addClass('cke_image_resizer_se');\n\n\t\tresizerSW.addClass('cke_image_resizer');\n\t\tresizerSW.addClass('cke_image_resizer_sw');\n\n\t\t// Add each directional resizer as a child of resizer\n\t\tresizer.append(resizerNE);\n\t\tresizer.append(resizerNW);\n\t\tresizer.append(resizerSE);\n\t\tresizer.append(resizerSW);\n\n\t\t// resizer.setAttribute( 'title', editor.lang.ae_dragresize_ie11.resizer );\n\t\tresizer.append(new CKEDITOR.dom.text('\\u200b', doc));\n\n\t\t// Inline widgets don't need a resizer wrapper as an image spans the entire widget.\n\t\tif (!widget.inline) {\n\t\t\tlet imageOrLink = widget.parts.link || widget.parts.image;\n\n\t\t\tlet oldResizeWrapper = imageOrLink.getParent();\n\n\t\t\tlet resizeWrapper = doc.createElement('span');\n\n\t\t\tresizeWrapper.addClass('cke_image_resizer_wrapper');\n\t\t\tresizeWrapper.append(imageOrLink);\n\t\t\tresizeWrapper.append(resizer);\n\t\t\twidget.element.append(resizeWrapper, true);\n\n\t\t\t// Remove the old wrapper which could came from e.g. pasted HTML\n\t\t\t// and which could be corrupted (e.g. resizer span has been lost).\n\t\t\tif (oldResizeWrapper.is('span')) oldResizeWrapper.remove();\n\t\t} else {\n\t\t\twidget.wrapper.append(resizer);\n\t\t}\n\n\t\t// Calculate values of size variables and mouse offsets.\n\t\tresizer.on('mousedown', function(evt) {\n\t\t\tlet image = widget.parts.image;\n\n\t\t\t// The x-coordinate of the mouse relative to the screen\n\t\t\t// when button gets pressed.\n\n\t\t\tlet startX = evt.data.$.screenX;\n\n\t\t\tlet startY = evt.data.$.screenY;\n\n\t\t\t// The initial dimensions and aspect ratio of the image.\n\n\t\t\tlet startWidth = image.$.clientWidth;\n\n\t\t\tlet startHeight = image.$.clientHeight;\n\n\t\t\tlet ratio = startWidth / startHeight;\n\n\t\t\tlet listeners = [];\n\n\t\t\tlet target = evt.data.getTarget();\n\n\t\t\tlet factorX;\n\n\t\t\tlet factorY;\n\n\t\t\tlet moveDiffX;\n\n\t\t\tlet moveDiffY;\n\n\t\t\tlet nativeEvt;\n\n\t\t\tlet newHeight;\n\n\t\t\tlet newWidth;\n\n\t\t\tlet updateData;\n\n\t\t\t// \"factorX\" and \"factorY\" can be either 1 or -1. I.e.: We need to\n\t\t\t// add/subtract the difference to get proper width, etc. Without \"factorX\"\n\t\t\t// and \"factorY\", resizer starts working the opposite way.\n\t\t\tif (target.hasClass('cke_image_resizer_ne')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_nw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = 1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_se')) {\n\t\t\t\tfactorX = 1;\n\t\t\t\tfactorY = -1;\n\t\t\t} else if (target.hasClass('cke_image_resizer_sw')) {\n\t\t\t\tfactorX = -1;\n\t\t\t\tfactorY = -1;\n\t\t\t}\n\n\t\t\t// A class applied to editable during resizing.\n\t\t\tlet cursorClass =\n\t\t\t\t'cke_image_' +\n\t\t\t\t(!~factorY ? 's' : 'n') +\n\t\t\t\t(!~factorX ? 'w' : 'e');\n\n\t\t\t// Save the undo snapshot first: before resizing.\n\t\t\teditor.fire('saveSnapshot');\n\n\t\t\t// Mousemove listeners are removed on mouseup.\n\t\t\tattachToDocuments('mousemove', onMouseMove, listeners);\n\n\t\t\t// Clean up the mousemove listener. Update widget data if valid.\n\t\t\tattachToDocuments('mouseup', onMouseUp, listeners);\n\n\t\t\t// The entire editable will have the special cursor while resizing goes on.\n\t\t\teditable.addClass(cursorClass);\n\n\t\t\t// This is to always keep the resizer element visible while resizing.\n\t\t\tresizer.addClass('cke_image_resizing');\n\n\t\t\t// Attaches an event to a global document if inline editor.\n\t\t\t// Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.\n\t\t\tfunction attachToDocuments(name, callback, collection) {\n\t\t\t\tlet globalDoc = CKEDITOR.document;\n\n\t\t\t\tlet listeners = [];\n\n\t\t\t\tif (!doc.equals(globalDoc))\n\t\t\t\t\tlisteners.push(globalDoc.on(name, callback));\n\n\t\t\t\tlisteners.push(doc.on(name, callback));\n\n\t\t\t\tif (collection) {\n\t\t\t\t\tfor (let i = listeners.length; i--; )\n\t\t\t\t\t\tcollection.push(listeners.pop());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate width first, and then adjust height, preserving ratio.\n\t\t\tfunction adjustToX() {\n\t\t\t\tnewWidth = startWidth + factorX * moveDiffX;\n\t\t\t\tnewHeight = Math.round(newWidth / ratio);\n\t\t\t}\n\n\t\t\t// Calculate height first, and then adjust width, preserving ratio.\n\t\t\tfunction adjustToY() {\n\t\t\t\tnewHeight = startHeight + factorY * moveDiffY;\n\t\t\t\tnewWidth = Math.round(newHeight * ratio);\n\t\t\t}\n\n\t\t\t// This is how variables refer to the geometry.\n\t\t\t// Note: x corresponds to moveOffset, this is the position of mouse\n\t\t\t// Note: o corresponds to [startX, startY].\n\t\t\t//\n\t\t\t// \t+--------------+--------------+\n\t\t\t// \t|              |              |\n\t\t\t// \t|      I       |      II      |\n\t\t\t// \t|              |              |\n\t\t\t// \t+------------- o -------------+ _ _ _\n\t\t\t// \t|              |              |      ^\n\t\t\t// \t|      VI      |     III      |      | moveDiffY\n\t\t\t// \t|              |         x _ _ _ _ _ v\n\t\t\t// \t+--------------+---------|----+\n\t\t\t// \t               |         |\n\t\t\t// \t                <------->\n\t\t\t// \t                moveDiffX\n\t\t\tfunction onMouseMove(evt) {\n\t\t\t\tnativeEvt = evt.data.$;\n\n\t\t\t\t// This is how far the mouse is from the point the button was pressed.\n\t\t\t\tmoveDiffX = nativeEvt.screenX - startX;\n\t\t\t\tmoveDiffY = startY - nativeEvt.screenY;\n\n\t\t\t\t// Resize with NE, SE drag handles\n\t\t\t\tif (factorX == 1) {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Resize with NW, SW drag handles\n\t\t\t\telse {\n\t\t\t\t\tif (moveDiffX <= 0) {\n\t\t\t\t\t\tadjustToX();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tadjustToY();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Don't update attributes if less than 10.\n\t\t\t\t// This is to prevent images to visually disappear.\n\t\t\t\tif (newWidth >= 15 && newHeight >= 15) {\n\t\t\t\t\timage.$.style.width = newWidth + 'px';\n\t\t\t\t\timage.$.style.height = newHeight + 'px';\n\n\t\t\t\t\tupdateData = true;\n\t\t\t\t} else {\n\t\t\t\t\tupdateData = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction onMouseUp() {\n\t\t\t\tlet l;\n\n\t\t\t\twhile ((l = listeners.pop())) l.removeListener();\n\n\t\t\t\t// Restore default cursor by removing special class.\n\t\t\t\teditable.removeClass(cursorClass);\n\n\t\t\t\t// This is to bring back the regular behaviour of the resizer.\n\t\t\t\tresizer.removeClass('cke_image_resizing');\n\n\t\t\t\tif (updateData) {\n\t\t\t\t\twidget.setData({\n\t\t\t\t\t\theight: newHeight,\n\t\t\t\t\t\twidth: newWidth,\n\t\t\t\t\t});\n\n\t\t\t\t\t// Save another undo snapshot: after resizing.\n\t\t\t\t\teditor.fire('saveSnapshot');\n\t\t\t\t}\n\n\t\t\t\t// Don't update data twice or more.\n\t\t\t\tupdateData = false;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tlet removeWidgetAlignment = function(widget, imageAlignment) {\n\t\tif (imageAlignment === 'left' || imageAlignment === 'right') {\n\t\t\twidget.wrapper.removeStyle('float');\n\t\t} else if (imageAlignment === 'center') {\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t\twidget.editor.execCommand('justifyleft');\n\t\t}\n\t};\n\n\t// Integrates widget alignment setting with justify\n\t// plugin's commands (execution and refreshment).\n\t// @param {CKEDITOR.editor} editor\n\t// @param {String} value 'left', 'right', 'center' or 'block'\n\tfunction alignCommandIntegrator(editor) {\n\t\tlet execCallbacks = [];\n\n\t\tlet enabled;\n\n\t\treturn function(value) {\n\t\t\tlet command = editor.getCommand('justify' + value);\n\n\t\t\t// Most likely, the justify plugin isn't loaded.\n\t\t\tif (!command) return;\n\n\t\t\t// This command will be manually refreshed along with\n\t\t\t// other commands after exec.\n\t\t\texecCallbacks.push(function() {\n\t\t\t\tcommand.refresh(editor, editor.elementPath());\n\t\t\t});\n\n\t\t\tif (value in {right: 1, left: 1, center: 1}) {\n\t\t\t\tcommand.on('exec', function(evt) {\n\t\t\t\t\tlet widget = getFocusedWidget(editor);\n\n\t\t\t\t\tif (widget) {\n\t\t\t\t\t\tif (widget.data.align === value) {\n\t\t\t\t\t\t\tremoveWidgetAlignment(widget, value);\n\n\t\t\t\t\t\t\tdelete widget.data.align;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\twidget.setData('align', value);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Once the widget changed its align, all the align commands\n\t\t\t\t\t\t// must be refreshed: the event is to be cancelled.\n\t\t\t\t\t\tfor (let i = execCallbacks.length; i--; )\n\t\t\t\t\t\t\texecCallbacks[i]();\n\n\t\t\t\t\t\tevt.cancel();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcommand.on('refresh', function(evt) {\n\t\t\t\tlet widget = getFocusedWidget(editor);\n\n\t\t\t\tlet allowed = {right: 1, left: 1, center: 1};\n\n\t\t\t\tif (!widget) return;\n\n\t\t\t\t// Cache \"enabled\" on first use. This is because filter#checkFeature may\n\t\t\t\t// not be available during plugin's afterInit in the future — a moment when\n\t\t\t\t// alignCommandIntegrator is called.\n\t\t\t\tif (enabled === undefined)\n\t\t\t\t\tenabled = editor.filter.checkFeature(\n\t\t\t\t\t\teditor.widgets.registered.image.features.align\n\t\t\t\t\t);\n\n\t\t\t\t// Don't allow justify commands when widget alignment is disabled (#11004).\n\t\t\t\tif (!enabled) this.setState(CKEDITOR.TRISTATE_DISABLED);\n\t\t\t\telse {\n\t\t\t\t\tthis.setState(\n\t\t\t\t\t\twidget.data.align == value\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t: value in allowed\n\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tevt.cancel();\n\t\t\t});\n\t\t};\n\t}\n\n\t// Returns the focused widget, if of the type specific for this plugin.\n\t// If no widget is focused, `null` is returned.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {CKEDITOR.plugins.widget}\n\tfunction getFocusedWidget(editor) {\n\t\tlet widget = editor.widgets.focused;\n\n\t\tif (widget && widget.name == 'image') return widget;\n\n\t\treturn null;\n\t}\n\n\t// Returns a set of widget allowedContent rules, depending\n\t// on configurations like config#ae_dragresize_ie11_alignClasses or\n\t// config#ae_dragresize_ie11_captionedClass.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetAllowedContent(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet rules = {\n\t\t\t// Widget may need <div> or <p> centering wrapper.\n\t\t\tdiv: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\tp: {\n\t\t\t\tmatch: centerWrapperChecker(editor),\n\t\t\t},\n\t\t\timg: {\n\t\t\t\tattributes: '!src,alt,width,height',\n\t\t\t},\n\t\t\tfigure: {\n\t\t\t\tclasses: '!' + editor.config.ae_dragresize_ie11_captionedClass,\n\t\t\t},\n\t\t\tfigcaption: true,\n\t\t};\n\n\t\tif (alignClasses) {\n\t\t\t// Centering class from the config.\n\t\t\trules.div.classes = alignClasses[1];\n\t\t\trules.p.classes = rules.div.classes;\n\n\t\t\t// Left/right classes from the config.\n\t\t\trules.img.classes = alignClasses[0] + ',' + alignClasses[2];\n\t\t\trules.figure.classes += ',' + rules.img.classes;\n\t\t} else {\n\t\t\t// Centering with text-align.\n\t\t\trules.div.styles = 'text-align';\n\t\t\trules.p.styles = 'text-align';\n\n\t\t\trules.img.styles = 'float';\n\t\t\trules.figure.styles = 'float,display';\n\t\t}\n\n\t\treturn rules;\n\t}\n\n\t// Returns a set of widget feature rules, depending\n\t// on editor configuration. Note that the following may not cover\n\t// all the possible cases since requiredContent supports a single\n\t// tag only.\n\t//\n\t// @param {CKEDITOR.editor}\n\t// @returns {Object}\n\tfunction getWidgetFeatures(editor) {\n\t\tlet alignClasses = editor.config.ae_dragresize_ie11_alignClasses;\n\n\t\tlet features = {\n\t\t\tdimension: {\n\t\t\t\trequiredContent: 'img[width,height]',\n\t\t\t},\n\t\t\talign: {\n\t\t\t\trequiredContent:\n\t\t\t\t\t'img' +\n\t\t\t\t\t(alignClasses ? '(' + alignClasses[0] + ')' : '{float}'),\n\t\t\t},\n\t\t\tcaption: {\n\t\t\t\trequiredContent: 'figcaption',\n\t\t\t},\n\t\t};\n\n\t\treturn features;\n\t}\n\n\t// Returns element which is styled, considering current\n\t// state of the widget.\n\t//\n\t// @see CKEDITOR.plugins.widget#applyStyle\n\t// @param {CKEDITOR.plugins.widget} widget\n\t// @returns {CKEDITOR.dom.element}\n\tfunction getStyleableElement(widget) {\n\t\treturn widget.data.hasCaption ? widget.element : widget.parts.image;\n\t}\n})();\n\n/**\n * A CSS class applied to the `<figure>` element of a captioned image.\n *\n * Read more in the [documentation](#!/guide/dev_captionedimage) and see the\n * [SDK sample](http://sdk.ckeditor.com/samples/captionedimage.html).\n *\n *\t\t// Changes the class to \"captionedImage\".\n *\t\tconfig.ae_dragresize_ie11_captionedClass = 'captionedImage';\n *\n * @cfg {String} [ae_dragresize_ie11_captionedClass='image']\n * @member CKEDITOR.config\n */\nCKEDITOR.config.ae_dragresize_ie11_captionedClass = 'image';\n","(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_embed')) {\n\t\treturn;\n\t}\n\n\tlet REGEX_HTTP = /^https?/;\n\n\tlet REGEX_DEFAULT_LINK = /<a href=/;\n\n\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL =\n\t\t'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';\n\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL =\n\t\t'<div data-ae-embed-url=\"{url}\"></div>';\n\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href=\"{url}\">{url}</a>';\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed\n\t * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly\n\t * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to\n\t * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint\n\t * may be restricted per domain due to significant traffic.\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.ae_embed\n\t */\n\tCKEDITOR.plugins.add('ae_embed', {\n\t\trequires: 'widget',\n\t\tinit: function(editor) {\n\t\t\tlet AE_EMBED_URL_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedUrlTemplate ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_URL_TPL\n\t\t\t);\n\t\t\tlet AE_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\t);\n\t\t\tlet AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedLinkDefaultTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL\n\t\t\t);\n\n\t\t\t// Default function to upcast DOM elements to embed widgets.\n\t\t\t// It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL\n\t\t\tlet defaultEmbedWidgetUpcastFn = function(element, data) {\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-ae-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-ae-embed-url'];\n\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Create a embedUrl command that can be invoked to easily embed media URLs\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec: function(editor, data) {\n\t\t\t\t\teditor.insertHtml(\n\t\t\t\t\t\tAE_EMBED_WIDGET_TPL.output({\n\t\t\t\t\t\t\turl: data.url,\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Create a widget to properly handle embed operations\n\t\t\teditor.widgets.add('ae_embed', {\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-ae-embed-url]',\n\n\t\t\t\t/**\n\t\t\t\t * Listener to be executed every time the widget's data changes. It takes care of\n\t\t\t\t * requesting the embed object to the configured oembed service and render it in\n\t\t\t\t * the editor\n\t\t\t\t *\n\t\t\t\t * @method data\n\t\t\t\t * @param {event} event Data change event\n\t\t\t\t */\n\t\t\t\tdata: function(event) {\n\t\t\t\t\tlet widget = this;\n\n\t\t\t\t\tlet url = event.data.url;\n\n\t\t\t\t\tif (url) {\n\t\t\t\t\t\tCKEDITOR.tools.jsonp(\n\t\t\t\t\t\t\tAE_EMBED_URL_TPL,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\turl: encodeURIComponent(url),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\t\t\tif (response.html) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tREGEX_DEFAULT_LINK.test(response.html)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\twidget.element.setHtml(response.html);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(_msg) {\n\t\t\t\t\t\t\t\twidget.createATag(url);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcreateATag: function(url) {\n\t\t\t\t\tthis.editor.execCommand('undo');\n\n\t\t\t\t\tlet aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({\n\t\t\t\t\t\turl: url,\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.editor.insertHtml(aTagHtml);\n\t\t\t\t\tthis.editor.fire('actionPerformed', this);\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Function used to upcast an element to ae_embed widgets.\n\t\t\t\t *\n\t\t\t\t * @method upcast\n\t\t\t\t * @param {CKEDITOR.htmlParser.element} element The element to be checked\n\t\t\t\t * @param {Object} data The object that will be passed to the widget\n\t\t\t\t */\n\t\t\t\tupcast: function(element, data) {\n\t\t\t\t\tlet embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Add a listener to handle paste events and turn links into embed objects\n\t\t\teditor.once('contentDom', function() {\n\t\t\t\teditor.on('paste', function(event) {\n\t\t\t\t\tlet link = event.data.dataValue;\n\n\t\t\t\t\tif (REGEX_HTTP.test(link)) {\n\t\t\t\t\t\tevent.stop();\n\n\t\t\t\t\t\teditor.execCommand('embedUrl', {\n\t\t\t\t\t\t\turl: event.data.dataValue,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t// Add a listener to handle selection change events and properly detect editor\n\t\t\t// interactions on the widgets without messing with widget native selection\n\t\t\teditor.on('selectionChange', function(_event) {\n\t\t\t\tlet selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tlet element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tlet widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"ae_embed\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\t\tlet scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Add a filter to skip filtering widget elements\n\t\t\teditor.filter.addElementCallback(function(element) {\n\t\t\t\tif ('data-ae-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n})();\n","import Resizer from './Resizer.es';\n\nif (!CKEDITOR.plugins.get('embedurl')) {\n\tconst REGEX_HTTP = /^https?/;\n\n\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL =\n\t\t'<div data-embed-url=\"{url}\" class=\"embed-responsive embed-responsive-16by9\">{content}<div class=\"embed-help-message\">{helpMessageIcon}<span> {helpMessage}</span></div></div><br>';\n\n\t/**\n\t * Enum for supported embed alignments\n\t * @type {Object}\n\t */\n\n\tconst EMBED_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported embed alignments\n\t * @type {Array}\n\t */\n\n\tconst ALIGN_VALUES = [\n\t\tEMBED_ALIGNMENT.CENTER,\n\t\tEMBED_ALIGNMENT.LEFT,\n\t\tEMBED_ALIGNMENT.RIGHT,\n\t];\n\n\t/**\n\t * Necessary styles for the center alignment\n\t * @type {Array.<Object>}\n\t */\n\n\tconst CENTERED_EMBED_STYLE = [\n\t\t{\n\t\t\tname: 'display',\n\t\t\tvalue: 'block',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-left',\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-right',\n\t\t\tvalue: 'auto',\n\t\t},\n\t];\n\n\t/**\n\t * Retrieves the alignment value of an embed element.\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @return {String} The alignment value\n\t */\n\n\tconst getEmbedAlignment = function(embed) {\n\t\tlet embedAlignment = embed.getStyle('float');\n\n\t\tif (\n\t\t\t!embedAlignment ||\n\t\t\tembedAlignment === 'inherit' ||\n\t\t\tembedAlignment === 'none'\n\t\t) {\n\t\t\tembedAlignment = embed.getAttribute('align');\n\t\t}\n\n\t\tif (!embedAlignment) {\n\t\t\tconst centeredEmbed = CENTERED_EMBED_STYLE.every(style => {\n\t\t\t\tlet styleCheck = embed.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(\n\t\t\t\t\t\tvendorPrefix =>\n\t\t\t\t\t\t\tembed.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tembedAlignment = centeredEmbed ? EMBED_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\treturn embedAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be removed\n\t */\n\n\tconst removeEmbedAlignment = function(embed, embedAlignment) {\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.removeStyle('float');\n\n\t\t\tif (embedAlignment === getEmbedAlignment(embed)) {\n\t\t\t\tembed.removeAttribute('align');\n\t\t\t}\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.removeStyle(vendorPrefix + style.name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an embed\n\t *\n\t * @param {CKEDITOR.dom.element} embed The embed element\n\t * @param {String} embedAlignment The embed alignment value to be set\n\t */\n\n\tconst setEmbedAlignment = function(embed, embedAlignment) {\n\t\tremoveEmbedAlignment(embed, getEmbedAlignment(embed));\n\n\t\tif (\n\t\t\tembedAlignment === EMBED_ALIGNMENT.LEFT ||\n\t\t\tembedAlignment === EMBED_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\tembed.setStyle('float', embedAlignment);\n\t\t} else if (embedAlignment === EMBED_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_EMBED_STYLE.forEach(style => {\n\t\t\t\tembed.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(vendorPrefix =>\n\t\t\t\t\t\tembed.setStyle(vendorPrefix + style.name, style.value)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\tconst getSelectedElement = function(editor) {\n\t\tconst result = {\n\t\t\talignment: null,\n\t\t\telement: null,\n\t\t};\n\n\t\tconst selection = editor.getSelection();\n\n\t\tif (selection) {\n\t\t\tconst selectedElement = selection.getSelectedElement();\n\n\t\t\tif (\n\t\t\t\tselectedElement &&\n\t\t\t\tselectedElement.getAttribute('data-cke-widget-wrapper')\n\t\t\t) {\n\t\t\t\tresult.alignment = getEmbedAlignment(selectedElement);\n\t\t\t\tresult.element = selectedElement;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tconst resizeElement = function(el, width, height) {\n\t\tconst wrapperElement = el.parentElement;\n\n\t\tif (wrapperElement && width > 0 && height > 0) {\n\t\t\tconst rect = wrapperElement.getBoundingClientRect();\n\n\t\t\tconst pwidth =\n\t\t\t\twidth >= rect.width\n\t\t\t\t\t? 100\n\t\t\t\t\t: Math.floor((width / rect.width) * 100);\n\t\t\tconst style = `width:${pwidth}%;`;\n\n\t\t\twrapperElement.setAttribute('style', style);\n\n\t\t\tconst widgetElement = wrapperElement.querySelector(\n\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t);\n\n\t\t\tif (widgetElement) {\n\t\t\t\tlet styles =\n\t\t\t\t\tJSON.parse(widgetElement.getAttribute('data-styles')) || {};\n\n\t\t\t\tstyles.width = `${width}px`;\n\t\t\t\tstyles.height = `${height}px`;\n\n\t\t\t\twidgetElement.setAttribute(\n\t\t\t\t\t'data-styles',\n\t\t\t\t\tJSON.stringify(styles)\n\t\t\t\t);\n\n\t\t\t\tconst iframeElement = widgetElement.querySelector('iframe');\n\n\t\t\t\tif (iframeElement) {\n\t\t\t\t\tiframeElement.setAttribute('width', width);\n\t\t\t\t\tiframeElement.setAttribute('height', height);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\n\tconst selectWidget = function(editor) {\n\t\tsetTimeout(() => {\n\t\t\tconst selection = editor.getSelection();\n\n\t\t\tif (selection) {\n\t\t\t\tconst wrapperElement = selection.root.find(\n\t\t\t\t\t'[data-cke-widget-wrapper]'\n\t\t\t\t);\n\n\t\t\t\tif (wrapperElement) {\n\t\t\t\t\tconst elementList = wrapperElement.$;\n\t\t\t\t\tif (elementList.length > 0) {\n\t\t\t\t\t\tconst lastElement = new CKEDITOR.dom.element(\n\t\t\t\t\t\t\telementList[elementList.length - 1]\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tconst imageElement = lastElement.findOne('img');\n\t\t\t\t\t\tconst widgetElement = lastElement.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement && widgetElement) {\n\t\t\t\t\t\t\tconst range = editor.createRange();\n\n\t\t\t\t\t\t\trange.setStart(widgetElement, 0);\n\t\t\t\t\t\t\trange.setEnd(imageElement, 1);\n\n\t\t\t\t\t\t\tselection.selectRanges([range]);\n\t\t\t\t\t\t\tselection.selectElement(lastElement);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 0);\n\t};\n\n\tlet currentAlignment = null;\n\tlet currentElement = null;\n\tlet resizer = null;\n\n\t/**\n\t * CKEditor plugin which adds the infrastructure to embed urls as media objects\n\t *\n\t * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it\n\t * to an embedded content.\n\t *\n\t * @class CKEDITOR.plugins.embedurl\n\t */\n\n\tCKEDITOR.plugins.add('embedurl', {\n\t\trequires: 'widget',\n\n\t\tinit: editor => {\n\t\t\tconst LFR_EMBED_WIDGET_TPL = new CKEDITOR.template(\n\t\t\t\teditor.config.embedWidgetTpl ||\n\t\t\t\t\tCKEDITOR.DEFAULT_LFR_EMBED_WIDGET_TPL\n\t\t\t);\n\n\t\t\tlet providers = editor.config.embedProviders || [];\n\n\t\t\tproviders = providers.map(provider => {\n\t\t\t\treturn {\n\t\t\t\t\tid: provider.id,\n\t\t\t\t\ttpl: new CKEDITOR.template(\n\t\t\t\t\t\t`<div data-embed-id=\"{embedId}\">${provider.tpl}</div>`\n\t\t\t\t\t),\n\t\t\t\t\ttype: provider.type,\n\t\t\t\t\turlSchemes: provider.urlSchemes.map(\n\t\t\t\t\t\tscheme => new RegExp(scheme)\n\t\t\t\t\t),\n\t\t\t\t};\n\t\t\t});\n\n\t\t\tconst generateEmbedContent = (url, content) => {\n\t\t\t\treturn LFR_EMBED_WIDGET_TPL.output({\n\t\t\t\t\tcontent: content,\n\t\t\t\t\thelpMessage: AlloyEditor.Strings.videoPlaybackDisabled,\n\t\t\t\t\thelpMessageIcon: Liferay.Util.getLexiconIconTpl(\n\t\t\t\t\t\t'info-circle'\n\t\t\t\t\t),\n\t\t\t\t\turl: url,\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tconst defaultEmbedWidgetUpcastFn = (element, data) => {\n\t\t\t\tlet upcastWidget = false;\n\n\t\t\t\tif (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-url']\n\t\t\t\t) {\n\t\t\t\t\tdata.url = element.attributes['data-embed-url'];\n\n\t\t\t\t\tupcastWidget = true;\n\t\t\t\t} else if (\n\t\t\t\t\telement.name === 'div' &&\n\t\t\t\t\telement.attributes['data-embed-id']\n\t\t\t\t) {\n\t\t\t\t\tconst iframe = element.children[0];\n\n\t\t\t\t\tdata.url = iframe.attributes.src;\n\n\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\tdata.url,\n\t\t\t\t\t\telement.getOuterHtml()\n\t\t\t\t\t);\n\n\t\t\t\t\tconst widgetFragment = new CKEDITOR.htmlParser.fragment.fromHtml(\n\t\t\t\t\t\tembedContent\n\t\t\t\t\t);\n\n\t\t\t\t\tupcastWidget = widgetFragment.children[0];\n\n\t\t\t\t\tupcastWidget.attributes['data-styles'] = JSON.stringify(\n\t\t\t\t\t\telement.styles\n\t\t\t\t\t);\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive');\n\t\t\t\t\tupcastWidget.removeClass('embed-responsive-16by9');\n\n\t\t\t\t\telement.replaceWith(upcastWidget);\n\t\t\t\t}\n\n\t\t\t\treturn upcastWidget;\n\t\t\t};\n\n\t\t\tconst showError = errorMsg => {\n\t\t\t\teditor.fire('error', errorMsg);\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\teditor.getSelection().removeAllRanges();\n\n\t\t\t\t\teditor.focus();\n\n\t\t\t\t\tresizer.hide();\n\t\t\t\t}, 0);\n\t\t\t};\n\n\t\t\teditor.addCommand('embedUrl', {\n\t\t\t\texec: (editor, data) => {\n\t\t\t\t\tconst type = data.type;\n\t\t\t\t\tconst url = data.url;\n\t\t\t\t\tlet content;\n\n\t\t\t\t\tif (REGEX_HTTP.test(url)) {\n\t\t\t\t\t\tconst validProvider = providers\n\t\t\t\t\t\t\t.filter(provider => {\n\t\t\t\t\t\t\t\treturn type ? provider.type === type : true;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.some(provider => {\n\t\t\t\t\t\t\t\tconst scheme = provider.urlSchemes.find(\n\t\t\t\t\t\t\t\t\tscheme => scheme.test(url)\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (scheme) {\n\t\t\t\t\t\t\t\t\tconst embedId = scheme.exec(url)[1];\n\n\t\t\t\t\t\t\t\t\tcontent = provider.tpl.output({\n\t\t\t\t\t\t\t\t\t\tembedId: embedId,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\treturn scheme;\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (validProvider) {\n\t\t\t\t\t\t\teditor._selectEmbedWidget = url;\n\n\t\t\t\t\t\t\tconst embedContent = generateEmbedContent(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tcontent\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertHtml(embedContent);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tshowError(AlloyEditor.Strings.platformNotSupported);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowError(AlloyEditor.Strings.enterValidUrl);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t});\n\n\t\t\teditor.widgets.add('embedurl', {\n\t\t\t\tdraggable: false,\n\t\t\t\tmask: true,\n\t\t\t\trequiredContent: 'div[data-embed-url]',\n\n\t\t\t\tdata(event) {\n\t\t\t\t\tconst instance = this;\n\n\t\t\t\t\t// Sync dimensions and alignment with editor wrapper\n\n\t\t\t\t\tconst stylesJSON = instance.element.getAttribute(\n\t\t\t\t\t\t'data-styles'\n\t\t\t\t\t);\n\n\t\t\t\t\tlet styles = stylesJSON ? JSON.parse(stylesJSON) : null;\n\n\t\t\t\t\tif (!styles) {\n\t\t\t\t\t\tconst iframe = instance.wrapper.findOne('iframe');\n\n\t\t\t\t\t\tconst bounds = instance.wrapper.$.getBoundingClientRect();\n\t\t\t\t\t\tconst width = iframe.getAttribute('width');\n\n\t\t\t\t\t\tconst pwidth =\n\t\t\t\t\t\t\twidth >= bounds.width\n\t\t\t\t\t\t\t\t? 100\n\t\t\t\t\t\t\t\t: Math.round((width / bounds.width) * 100);\n\n\t\t\t\t\t\tstyles = {\n\t\t\t\t\t\t\twidth: `${pwidth}%`,\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tinstance.wrapper.setAttribute(\n\t\t\t\t\t\t'style',\n\t\t\t\t\t\tCKEDITOR.tools.writeCssText(styles)\n\t\t\t\t\t);\n\n\t\t\t\t\tif (editor._selectEmbedWidget === event.data.url) {\n\t\t\t\t\t\tselectWidget(editor);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tdowncast(widget) {\n\t\t\t\t\tconst embedContent = widget.children[0];\n\n\t\t\t\t\tembedContent.attributes.class =\n\t\t\t\t\t\t'embed-responsive embed-responsive-16by9';\n\t\t\t\t\tembedContent.attributes.style = CKEDITOR.tools.writeCssText(\n\t\t\t\t\t\twidget.parent.styles\n\t\t\t\t\t);\n\n\t\t\t\t\treturn embedContent;\n\t\t\t\t},\n\n\t\t\t\tupcast(element, data) {\n\t\t\t\t\tconst embedWidgetUpcastFn =\n\t\t\t\t\t\teditor.config.embedWidgetUpcastFn ||\n\t\t\t\t\t\tdefaultEmbedWidgetUpcastFn;\n\n\t\t\t\t\treturn embedWidgetUpcastFn(element, data);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\twindow.addEventListener(\n\t\t\t\t'resize',\n\t\t\t\t() => {\n\t\t\t\t\tresizer.hide();\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t\tfalse\n\t\t\t);\n\n\t\t\teditor.on('selectionChange', _event => {\n\t\t\t\tconst selection = editor.getSelection();\n\n\t\t\t\tif (selection) {\n\t\t\t\t\tconst element = selection.getSelectedElement();\n\n\t\t\t\t\tif (element) {\n\t\t\t\t\t\tconst widgetElement = element.findOne(\n\t\t\t\t\t\t\t'[data-widget=\"embedurl\"]'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (widgetElement) {\n\t\t\t\t\t\t\tconst scrollPosition = new CKEDITOR.dom.window(\n\t\t\t\t\t\t\t\twindow\n\t\t\t\t\t\t\t).getScrollPosition();\n\n\t\t\t\t\t\t\tlet region = element.getClientRect();\n\n\t\t\t\t\t\t\tregion.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;\n\t\t\t\t\t\t\tregion.left -= scrollPosition.x;\n\t\t\t\t\t\t\tregion.top += scrollPosition.y;\n\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: {\n\t\t\t\t\t\t\t\t\telement: widgetElement,\n\t\t\t\t\t\t\t\t\tregion: region,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst imageElement = element.findOne(\n\t\t\t\t\t\t\t'img.cke_widget_mask'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresizer.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teditor.on('destroy', () => {\n\t\t\t\tconst resizeElement = document.getElementById('ckimgrsz');\n\n\t\t\t\tif (resizeElement) {\n\t\t\t\t\tresizeElement.remove();\n\t\t\t\t}\n\n\t\t\t\tdocument.removeEventListener('mousedown', mouseDownListener);\n\t\t\t});\n\n\t\t\teditor.on('blur', () => {\n\t\t\t\tresizer.hide();\n\t\t\t});\n\n\t\t\teditor.filter.addElementCallback(element => {\n\t\t\t\tif ('data-embed-url' in element.attributes) {\n\t\t\t\t\treturn CKEDITOR.FILTER_SKIP_TREE;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst mouseDownListener = event => {\n\t\t\t\tconst result = getSelectedElement(editor);\n\n\t\t\t\tcurrentAlignment = result.alignment;\n\t\t\t\tcurrentElement = result.element;\n\n\t\t\t\tif (resizer.isHandle(event.target)) {\n\t\t\t\t\tresizer.initDrag(event);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tresizer = new Resizer(editor, {\n\t\t\t\tonComplete(element, width, height) {\n\t\t\t\t\tresizeElement(element, width, height);\n\n\t\t\t\t\tif (currentAlignment && currentElement) {\n\t\t\t\t\t\tsetEmbedAlignment(currentElement, currentAlignment);\n\t\t\t\t\t}\n\t\t\t\t\tselectWidget(editor);\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tdocument.addEventListener('mousedown', mouseDownListener, false);\n\t\t},\n\n\t\tafterInit: editor => {\n\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\tconst command = editor.getCommand('justify' + alignValue);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', event => {\n\t\t\t\t\t\tconst selectedElement = editor\n\t\t\t\t\t\t\t.getSelection()\n\t\t\t\t\t\t\t.getSelectedElement();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectedElement &&\n\t\t\t\t\t\t\tselectedElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst selectedEmbed = selectedElement.findOne(\n\t\t\t\t\t\t\t\t'[data-widget=\"embedurl\"] [data-embed-id]'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tif (selectedEmbed) {\n\t\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (embedAlignment === alignValue) {\n\t\t\t\t\t\t\t\t\tremoveEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tsetEmbedAlignment(\n\t\t\t\t\t\t\t\t\t\tselectedElement,\n\t\t\t\t\t\t\t\t\t\talignValue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tcurrentElement = selectedElement;\n\t\t\t\t\t\t\t\tcurrentAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tconst imageElement = selectedElement.findOne(\n\t\t\t\t\t\t\t\t\t'img'\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tif (imageElement) {\n\t\t\t\t\t\t\t\t\tresizer.show(imageElement.$);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\t\tconst elementPath = new CKEDITOR.dom.elementPath(\n\t\t\t\t\t\t\t\t\tselectedElement\n\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tALIGN_VALUES.forEach(alignValue => {\n\t\t\t\t\t\t\t\t\tconst command = editor.getCommand(\n\t\t\t\t\t\t\t\t\t\t'justify' + alignValue\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\tif (command) {\n\t\t\t\t\t\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', event => {\n\t\t\t\t\t\tconst lastElement = event.data.path.lastElement;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tlastElement &&\n\t\t\t\t\t\t\tlastElement.getAttribute(\n\t\t\t\t\t\t\t\t'data-cke-widget-wrapper'\n\t\t\t\t\t\t\t) &&\n\t\t\t\t\t\t\tlastElement.findOne('[data-widget] [data-embed-id]')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst embedAlignment = getEmbedAlignment(\n\t\t\t\t\t\t\t\tlastElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.sender.setState(\n\t\t\t\t\t\t\t\tembedAlignment === alignValue\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n}\n\nexport default CKEDITOR.plugins.get('embedurl');\n","import DragEvent from './DragEvent.es';\n\nconst IMAGE_HANDLES = ['tl', 'tr', 'bl', 'br'];\n\nconst POSITION_ELEMENT_FN = {\n\tbl(handle, left, top, box) {\n\t\tpositionElement(handle, -3 + left, box.height - 4 + top);\n\t},\n\tbr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, box.height - 4 + top);\n\t},\n\trm(handle, left, top, box) {\n\t\tpositionElement(\n\t\t\thandle,\n\t\t\tbox.width - 4 + left,\n\t\t\tMath.round(box.height / 2) - 3 + top\n\t\t);\n\t},\n\ttl(handle, left, top, _box) {\n\t\tpositionElement(handle, left - 3, top - 3);\n\t},\n\ttr(handle, left, top, box) {\n\t\tpositionElement(handle, box.width - 4 + left, -3 + top);\n\t},\n};\n\nconst positionElement = (el, left, top) => {\n\tel.style.left = `${left}px`;\n\tel.style.top = `${top}px`;\n};\n\nconst getBoundingBox = (window, el) => {\n\tconst rect = el.getBoundingClientRect();\n\n\treturn {\n\t\theight: rect.height,\n\t\tleft: rect.left + window.pageXOffset,\n\t\ttop: rect.top + window.pageYOffset,\n\t\twidth: rect.width,\n\t};\n};\n\nclass Resizer {\n\tconstructor(editor, cfg = {}) {\n\t\tthis.cfg = cfg;\n\t\tthis.editor = editor;\n\n\t\tthis.document = editor.document ? editor.document.$ : document;\n\t\tthis.window = editor.window ? editor.window.$ : window;\n\n\t\tthis.box = null;\n\t\tthis.container = null;\n\t\tthis.handles = {};\n\t\tthis.preview = null;\n\t\tthis.previewBox = null;\n\t\tthis.result = null;\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.container = this.document.createElement('div');\n\t\tthis.container.id = 'ckimgrsz';\n\n\t\tthis.preview = this.document.createElement('span');\n\n\t\tthis.container.appendChild(this.preview);\n\n\t\tthis.handles = {};\n\n\t\tIMAGE_HANDLES.forEach(handleName => {\n\t\t\tthis.handles[handleName] = this.createHandle(handleName);\n\t\t});\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.container.appendChild(this.handles[keys[i]]);\n\t\t}\n\t}\n\n\tcreateHandle(name) {\n\t\tconst el = this.document.createElement('i');\n\n\t\tel.classList.add(name);\n\n\t\treturn el;\n\t}\n\n\tisHandle(el) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tlet result = false;\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tif (this.handles[keys[i]] === el) {\n\t\t\t\tresult = true;\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t}\n\n\tshow(el) {\n\t\tconst uiNode = this.editor.config.uiNode || document.body;\n\n\t\tthis.el = el;\n\n\t\tthis.box = getBoundingBox(this.window, this.el);\n\n\t\tpositionElement(\n\t\t\tthis.container,\n\t\t\tthis.box.left,\n\t\t\tthis.box.top + uiNode.scrollTop\n\t\t);\n\n\t\tuiNode.appendChild(this.container);\n\n\t\tthis.el.classList.add('ckimgrsz');\n\n\t\tthis.showHandles();\n\t}\n\n\thide() {\n\t\tconst elements = this.document.getElementsByClassName('ckimgrsz');\n\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\telements[i].classList.remove('ckimgrsz');\n\t\t}\n\n\t\tthis.hideHandles();\n\n\t\tif (this.container.parentNode) {\n\t\t\tthis.container.parentNode.removeChild(this.container);\n\t\t}\n\t}\n\n\tinitDrag(event) {\n\t\tif (event.button !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst drag = new DragEvent(this.window, this.document);\n\n\t\tdrag.onStart = () => {\n\t\t\tthis.showPreview();\n\n\t\t\tthis.isDragging = true;\n\n\t\t\tthis.editor.getSelection().lock();\n\t\t};\n\n\t\tdrag.onDrag = () => {\n\t\t\tthis.calculateSize(drag);\n\n\t\t\tconst editorBounds = this.editor.element.$.getBoundingClientRect();\n\n\t\t\tif (this.previewBox.width >= editorBounds.width) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.updatePreview();\n\n\t\t\tconst box = this.previewBox;\n\n\t\t\tthis.updateHandles(box, box.left, box.top);\n\t\t};\n\n\t\tdrag.onRelease = () => {\n\t\t\tthis.hidePreview();\n\n\t\t\tthis.isDragging = false;\n\n\t\t\tthis.hide();\n\n\t\t\tthis.editor.getSelection().unlock();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.onComplete = () => {\n\t\t\tthis.resizeComplete();\n\n\t\t\tthis.editor.fire('saveSnapshot');\n\t\t};\n\n\t\tdrag.start(event);\n\t}\n\n\tupdateHandles(box, left = 0, top = 0) {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tPOSITION_ELEMENT_FN[keys[i]](this.handles[keys[i]], left, top, box);\n\t\t}\n\t}\n\n\tshowHandles() {\n\t\tthis.updateHandles(this.box);\n\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'block';\n\t\t}\n\t}\n\n\thideHandles() {\n\t\tconst keys = Object.keys(this.handles);\n\n\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\tthis.handles[keys[i]].style.display = 'none';\n\t\t}\n\t}\n\n\tshowPreview() {\n\t\tthis.calculateSize();\n\n\t\tthis.updatePreview();\n\n\t\tthis.preview.style.display = 'block';\n\t}\n\n\tupdatePreview() {\n\t\tpositionElement(\n\t\t\tthis.preview,\n\t\t\tthis.previewBox.left,\n\t\t\tthis.previewBox.top\n\t\t);\n\n\t\tthis.preview.style.height = `${this.previewBox.height}px`;\n\t\tthis.preview.style.width = `${this.previewBox.width}px`;\n\t}\n\n\thidePreview() {\n\t\tconst box = getBoundingBox(this.window, this.preview);\n\n\t\tthis.result = {\n\t\t\theight: box.height,\n\t\t\twidth: box.width,\n\t\t};\n\n\t\tthis.preview.style.display = 'none';\n\t}\n\n\tcalculateSize(data) {\n\t\tthis.previewBox = {\n\t\t\theight: this.box.height,\n\t\t\tleft: 0,\n\t\t\ttop: 0,\n\t\t\twidth: this.box.width,\n\t\t};\n\n\t\tif (!data) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst className = data.target.className;\n\n\t\tif (className.indexOf('r') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width + data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('b') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height + data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.width = Math.max(32, this.box.width - data.delta.x);\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.height = Math.max(\n\t\t\t\t32,\n\t\t\t\tthis.box.height - data.delta.y\n\t\t\t);\n\t\t}\n\n\t\tif (className.indexOf('m') < 0 && !data.keys.shift) {\n\t\t\tconst ratio = this.box.width / this.box.height;\n\n\t\t\tif (this.previewBox.width / this.previewBox.height > ratio) {\n\t\t\t\tthis.previewBox.height = Math.round(\n\t\t\t\t\tthis.previewBox.width / ratio\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.previewBox.width = Math.round(\n\t\t\t\t\tthis.previewBox.height * ratio\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tif (className.indexOf('l') >= 0) {\n\t\t\tthis.previewBox.left = this.box.width - this.previewBox.width;\n\t\t}\n\n\t\tif (className.indexOf('t') >= 0) {\n\t\t\tthis.previewBox.top = this.box.height - this.previewBox.height;\n\t\t}\n\t}\n\n\tresizeComplete() {\n\t\tthis.cfg.onComplete(this.el, this.result.width, this.result.height);\n\t}\n}\n\nexport {Resizer};\nexport default Resizer;\n","class DragEvent {\n\tconstructor(window, document) {\n\t\tthis.document = document;\n\t\tthis.window = window;\n\n\t\tthis.events = {\n\t\t\tkeydown: this.keydown.bind(this),\n\t\t\tmousemove: this.mousemove.bind(this),\n\t\t\tmouseup: this.mouseup.bind(this),\n\t\t};\n\t}\n\n\tstart(event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tthis.target = event.target;\n\n\t\tthis.className = this.target.className;\n\n\t\tthis.startPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.update(event);\n\n\t\tthis.document.addEventListener('keydown', this.events.keydown, false);\n\t\tthis.document.addEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.addEventListener('mouseup', this.events.mouseup, false);\n\n\t\tthis.document.body.classList.add(`dragging-${this.className}`);\n\n\t\tif (typeof this.onStart === 'function') {\n\t\t\tthis.onStart();\n\t\t}\n\t}\n\n\tupdate(event) {\n\t\tthis.currentPos = {\n\t\t\tx: event.clientX,\n\t\t\ty: event.clientY,\n\t\t};\n\n\t\tthis.delta = {\n\t\t\tx: event.clientX - this.startPos.x,\n\t\t\ty: event.clientY - this.startPos.y,\n\t\t};\n\n\t\tthis.keys = {\n\t\t\talt: event.altKey,\n\t\t\tctrl: event.ctrlKey,\n\t\t\tshift: event.shiftKey,\n\t\t};\n\t}\n\n\tmousemove(event) {\n\t\tthis.update(event);\n\n\t\tif (typeof this.onDrag === 'function') {\n\t\t\tthis.onDrag();\n\t\t}\n\n\t\tif (event.which === 0) {\n\t\t\tthis.mouseup(event);\n\t\t}\n\t}\n\n\tkeydown(event) {\n\t\tif (event.keyCode === 27) {\n\t\t\tthis.release();\n\t\t}\n\t}\n\n\tmouseup(event) {\n\t\tthis.update(event);\n\n\t\tthis.release();\n\n\t\tif (typeof this.onComplete === 'function') {\n\t\t\tthis.onComplete();\n\t\t}\n\t}\n\n\trelease() {\n\t\tthis.document.body.classList.remove(`dragging-${this.className}`);\n\n\t\tthis.document.removeEventListener(\n\t\t\t'keydown',\n\t\t\tthis.events.keydown,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mousemove',\n\t\t\tthis.events.mousemove,\n\t\t\tfalse\n\t\t);\n\t\tthis.document.removeEventListener(\n\t\t\t'mouseup',\n\t\t\tthis.events.mouseup,\n\t\t\tfalse\n\t\t);\n\n\t\tif (typeof this.onRelease === 'function') {\n\t\t\tthis.onRelease();\n\t\t}\n\t}\n}\n\nexport {DragEvent};\nexport default DragEvent;\n","import SelectionTest from '../selections/selection-test.js';\n\n(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_imagealignment')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * Enum for supported image alignments\n\t * @type {Object}\n\t */\n\tlet IMAGE_ALIGNMENT = {\n\t\tCENTER: 'center',\n\t\tLEFT: 'left',\n\t\tRIGHT: 'right',\n\t};\n\n\t/**\n\t * Enum values for supported image alignments\n\t * @type {Array}\n\t */\n\tlet ALIGN_VALUES = [\n\t\tIMAGE_ALIGNMENT.LEFT,\n\t\tIMAGE_ALIGNMENT.RIGHT,\n\t\tIMAGE_ALIGNMENT.CENTER,\n\t];\n\n\t/**\n\t * Necessary styles for the center alignment\n\t * @type {Array.<Object>}\n\t */\n\tlet CENTERED_IMAGE_STYLE = [\n\t\t{\n\t\t\tname: 'display',\n\t\t\tvalue: 'block',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-left',\n\t\t\tvalue: 'auto',\n\t\t},\n\t\t{\n\t\t\tname: 'margin-right',\n\t\t\tvalue: 'auto',\n\t\t},\n\t];\n\n\t/**\n\t * Retrieves the alignment value of an image.\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @return {String} The alignment value\n\t */\n\tlet getImageAlignment = function(image) {\n\t\tlet imageAlignment = image.getStyle('float');\n\n\t\tif (\n\t\t\t!imageAlignment ||\n\t\t\timageAlignment === 'inherit' ||\n\t\t\timageAlignment === 'none'\n\t\t) {\n\t\t\timageAlignment = image.getAttribute('align');\n\t\t}\n\n\t\tif (!imageAlignment) {\n\t\t\tlet centeredImage = CENTERED_IMAGE_STYLE.every(function(style) {\n\t\t\t\tlet styleCheck = image.getStyle(style.name) === style.value;\n\n\t\t\t\tif (!styleCheck && style.vendorPrefixes) {\n\t\t\t\t\tstyleCheck = style.vendorPrefixes.some(function(\n\t\t\t\t\t\tvendorPrefix\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\timage.getStyle(vendorPrefix + style.name) ===\n\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn styleCheck;\n\t\t\t});\n\n\t\t\tif (!imageAlignment) {\n\t\t\t\tlet imageContainer = image.$.parentNode;\n\n\t\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\t\tCENTERED_IMAGE_STYLE.forEach(function(style) {\n\t\t\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\t\t\tstyle.vendorPrefixes.forEach(function(\n\t\t\t\t\t\t\t\tvendorPrefix\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\timage.setStyle(\n\t\t\t\t\t\t\t\t\tvendorPrefix + style.name,\n\t\t\t\t\t\t\t\t\tstyle.value\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tcenteredImage = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\timageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;\n\t\t}\n\n\t\treturn imageAlignment;\n\t};\n\n\t/**\n\t * Removes the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be removed\n\t */\n\tlet removeImageAlignment = function(image, imageAlignment) {\n\t\tif (\n\t\t\timageAlignment === IMAGE_ALIGNMENT.LEFT ||\n\t\t\timageAlignment === IMAGE_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\timage.removeStyle('float');\n\n\t\t\tif (imageAlignment === getImageAlignment(image)) {\n\t\t\t\timage.removeAttribute('align');\n\t\t\t}\n\t\t} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_IMAGE_STYLE.forEach(function(style) {\n\t\t\t\timage.removeStyle(style.name);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(function(vendorPrefix) {\n\t\t\t\t\t\timage.removeStyle(vendorPrefix + style.name);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet imageContainer = image.$.parentNode;\n\n\t\t\tif (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {\n\t\t\t\timageContainer.style.textAlign = '';\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * Sets the alignment value of an image\n\t *\n\t * @param {CKEDITOR.dom.element} image The image element\n\t * @param {String} imageAlignment The image alignment value to be set\n\t */\n\tlet setImageAlignment = function(image, imageAlignment) {\n\t\tremoveImageAlignment(image, getImageAlignment(image));\n\n\t\tif (\n\t\t\timageAlignment === IMAGE_ALIGNMENT.LEFT ||\n\t\t\timageAlignment === IMAGE_ALIGNMENT.RIGHT\n\t\t) {\n\t\t\timage.setStyle('float', imageAlignment);\n\t\t} else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {\n\t\t\tCENTERED_IMAGE_STYLE.forEach(function(style) {\n\t\t\t\timage.setStyle(style.name, style.value);\n\n\t\t\t\tif (style.vendorPrefixes) {\n\t\t\t\t\tstyle.vendorPrefixes.forEach(function(vendorPrefix) {\n\t\t\t\t\t\timage.setStyle(vendorPrefix + style.name, style.value);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tlet imageContainer = image.$.parentNode;\n\n\t\t\timageContainer.style.textAlign = IMAGE_ALIGNMENT.CENTER;\n\t\t}\n\t};\n\n\t/**\n\t * CKEditor plugin which modifies the justify commands to properly align images. This\n\t * plugin is an excerpt of CKEditor's original image one that can be found at\n\t * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js\n\t *\n\t * @class CKEDITOR.plugins.ae_imagealignment\n\t */\n\tCKEDITOR.plugins.add('ae_imagealignment', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method afterInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tafterInit: function(editor) {\n\t\t\tlet self = this;\n\n\t\t\tALIGN_VALUES.forEach(function(value) {\n\t\t\t\tlet command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.on('exec', function(event) {\n\t\t\t\t\t\tlet selectionData = editor.getSelectionData();\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tselectionData &&\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData: selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlet image = selectionData.element;\n\n\t\t\t\t\t\t\tlet imageAlignment = getImageAlignment(image);\n\n\t\t\t\t\t\t\tif (imageAlignment === value) {\n\t\t\t\t\t\t\t\tremoveImageAlignment(image, value);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetImageAlignment(image, value);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tevent.cancel();\n\n\t\t\t\t\t\t\tself.refreshCommands(\n\t\t\t\t\t\t\t\teditor,\n\t\t\t\t\t\t\t\tnew CKEDITOR.dom.elementPath(image)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tcommand.on('refresh', function(event) {\n\t\t\t\t\t\tlet selectionData = {\n\t\t\t\t\t\t\telement: event.data.path.lastElement,\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tSelectionTest.image({\n\t\t\t\t\t\t\t\tdata: {selectionData: selectionData},\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tlet imageAlignment = getImageAlignment(\n\t\t\t\t\t\t\t\tselectionData.element\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\t\timageAlignment === value\n\t\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\tevent.cancel();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Forces a refresh of the modified justify commands. This is needed because the applied changes\n\t\t * do not modify the selection, so the refresh is never triggered and the UI does not update\n\t\t * properly until the next selectionChange event.\n\t\t *\n\t\t * @param {CKEDITOR.editor} editor The editor instance\n\t\t * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image\n\t\t */\n\t\trefreshCommands: function(editor, elementPath) {\n\t\t\tALIGN_VALUES.forEach(function(value) {\n\t\t\t\tlet command = editor.getCommand('justify' + value);\n\n\t\t\t\tif (command) {\n\t\t\t\t\tcommand.refresh(editor, elementPath);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_pasteimages')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded\n\t * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners\n\t * returns `false` or cancels the event, the images won't be added to the content. Otherwise,\n\t * an event `imageAdd` will be fired with the inserted element into the editable area.\n\t *\n\t * @class CKEDITOR.plugins.ae_pasteimages\n\t */\n\n\t/**\n\t * Fired before adding images to the editor.\n\t * @event beforeImageAdd\n\t * @param {Array} imageFiles Array of image files\n\t */\n\n\t/**\n\t * Fired when an image is being added to the editor successfully.\n\t *\n\t * @event imageAdd\n\t * @param {CKEDITOR.dom.element} el The created image with src as Data URI\n\t * @param {File} file The image file\n\t */\n\n\tCKEDITOR.plugins.add('ae_pasteimages', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'paste' event on the editing area.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.once(\n\t\t\t\t'contentDom',\n\t\t\t\tfunction() {\n\t\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t\teditable.attachListener(\n\t\t\t\t\t\teditable,\n\t\t\t\t\t\t'paste',\n\t\t\t\t\t\tthis._onPaste,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teditor: editor,\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}.bind(this)\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * The function creates an img element with src the image data as Data URI.\n\t\t * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed\n\t\t * params will be:\n\t\t * - `el` - the created img element\n\t\t * - `file` - the original pasted data\n\t\t *\n\t\t * @method _onPaste\n\t\t * @protected\n\t\t * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor\n\t\t */\n\t\t_onPaste: function(event) {\n\t\t\tif (event.data.$.clipboardData) {\n\t\t\t\tlet pastedData = event.data.$.clipboardData.items[0];\n\t\t\t\tlet editor = event.listenerData.editor;\n\n\t\t\t\tif (pastedData.type.indexOf('image') === 0) {\n\t\t\t\t\tlet reader = new FileReader();\n\t\t\t\t\tlet imageFile = pastedData.getAsFile();\n\n\t\t\t\t\treader.onload = function(event) {\n\t\t\t\t\t\tlet result = editor.fire('beforeImageAdd', {\n\t\t\t\t\t\t\timageFiles: imageFile,\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif (result) {\n\t\t\t\t\t\t\tlet el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t\t\t\t'<img src=\"' + event.target.result + '\">'\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\teditor.insertElement(el);\n\n\t\t\t\t\t\t\tlet imageData = {\n\t\t\t\t\t\t\t\tel: el,\n\t\t\t\t\t\t\t\tfile: imageFile,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\treader.readAsDataURL(imageFile);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_placeholder')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * CKEDITOR enterMode config set the behavior of paragraphs\n\t * When the content is empty CKEDITOR keeps the enterMode string\n\t * into the content\n\t * @property\n\t * @type {string}\n\t */\n\tlet brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';\n\n\tlet enterModeEmptyValue = {\n\t\t1: ['<p>' + brFiller + '</p>'],\n\t\t2: ['', ' ', brFiller],\n\t\t3: ['<div>' + brFiller + '</div>'],\n\t};\n\n\t/**\n\t * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there\n\t * is no content to the editor, there will be hint to the user.\n\t *\n\t * @class CKEDITOR.plugins.ae_placeholder\n\t */\n\n\t/**\n\t * Specifies the placeholder class which have to be aded to editor when editor is not focused.\n\t *\n\t * @attribute placeholderClass\n\t * @default ae_placeholder\n\t * @type String\n\t */\n\n\tCKEDITOR.plugins.add('ae_placeholder', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function registers a 'blur' and 'contentDom' event listeners.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\teditor.on('blur', this._checkEmptyData, this);\n\t\t\teditor.on('change', this._checkEmptyData, this);\n\t\t\teditor.on('focus', this._removePlaceholderClass, this);\n\t\t\teditor.once('contentDom', this._checkEmptyData, this);\n\t\t},\n\n\t\t/**\n\t\t * Removes any data from the content and adds a class,\n\t\t * specified by the \"placeholderClass\" config attribute.\n\t\t *\n\t\t * @protected\n\t\t * @method _checkEmptyData\n\t\t * @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n\t\t */\n\t\t_checkEmptyData: function(event) {\n\t\t\tlet editor = event.editor;\n\n\t\t\tlet editableNode = editor.editable();\n\n\t\t\tlet innerHtml = editableNode.$.innerHTML.trim();\n\n\t\t\tlet isEmpty = enterModeEmptyValue[editor.config.enterMode].some(\n\t\t\t\tfunction(element) {\n\t\t\t\t\treturn innerHtml === element;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (isEmpty) {\n\t\t\t\teditableNode.addClass(editor.config.placeholderClass);\n\t\t\t} else {\n\t\t\t\teditableNode.removeClass(editor.config.placeholderClass);\n\t\t\t}\n\t\t},\n\n\t\t/**\n             * Remove placeholder class when input is focused\n             *\n             * @protected\n             * @method _removePlaceholderClass\n             + @param {CKEDITOR.dom.event} editor event, fired from CKEditor\n             */\n\t\t_removePlaceholderClass: function(event) {\n\t\t\tlet editor = event.editor;\n\n\t\t\tlet editorNode = new CKEDITOR.dom.element(editor.element.$);\n\n\t\t\teditorNode.removeClass(editor.config.placeholderClass);\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_selectionkeystrokes')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This\n\t * can be used to trigger different reactions in the editor.\n\t *\n\t * @class CKEDITOR.plugins.ae_selectionkeystrokes\n\t */\n\tCKEDITOR.plugins.add('ae_selectionkeystrokes', {\n\t\trequires: 'ae_selectionregion',\n\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t * The function adds a command to the editor for every defined selectionKeystroke\n\t\t * in the configuration and maps it to the specified keystroke.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tinit: function(editor) {\n\t\t\tif (editor.config.selectionKeystrokes) {\n\t\t\t\teditor.config.selectionKeystrokes.forEach(function(\n\t\t\t\t\tselectionKeystroke\n\t\t\t\t) {\n\t\t\t\t\tlet command = new CKEDITOR.command(editor, {\n\t\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\t\teditor.fire('editorInteraction', {\n\t\t\t\t\t\t\t\tmanualSelection: selectionKeystroke.selection,\n\t\t\t\t\t\t\t\tnativeEvent: {},\n\t\t\t\t\t\t\t\tselectionData: editor.getSelectionData(),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\n\t\t\t\t\tlet commandName =\n\t\t\t\t\t\t'selectionKeystroke' + selectionKeystroke.selection;\n\n\t\t\t\t\teditor.addCommand(commandName, command);\n\t\t\t\t\teditor.setKeystroke(selectionKeystroke.keys, commandName);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t});\n})();\n","/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_tableresize')) {\n\t\treturn;\n\t}\n\n\tlet pxUnit = CKEDITOR.tools.cssLength;\n\n\tfunction getWidth(el) {\n\t\treturn CKEDITOR.env.ie\n\t\t\t? el.$.clientWidth\n\t\t\t: parseInt(el.getComputedStyle('width'), 10);\n\t}\n\n\tfunction getBorderWidth(element, side) {\n\t\tlet computed = element.getComputedStyle('border-' + side + '-width');\n\n\t\tlet borderMap = {\n\t\t\tthin: '0px',\n\t\t\tmedium: '1px',\n\t\t\tthick: '2px',\n\t\t};\n\n\t\tif (computed.indexOf('px') < 0) {\n\t\t\t// look up keywords\n\t\t\tif (\n\t\t\t\tcomputed in borderMap &&\n\t\t\t\telement.getComputedStyle('border-style') != 'none'\n\t\t\t) {\n\t\t\t\tcomputed = borderMap[computed];\n\t\t\t} else {\n\t\t\t\tcomputed = 0;\n\t\t\t}\n\t\t}\n\n\t\treturn parseInt(computed, 10);\n\t}\n\n\t// Gets the table row that contains the most columns.\n\tfunction getMasterPillarRow(table) {\n\t\tlet $rows = table.$.rows;\n\n\t\tlet maxCells = 0;\n\n\t\tlet cellsCount;\n\n\t\tlet $elected;\n\n\t\tlet $tr;\n\n\t\tfor (let i = 0, len = $rows.length; i < len; i++) {\n\t\t\t$tr = $rows[i];\n\t\t\tcellsCount = $tr.cells.length;\n\n\t\t\tif (cellsCount > maxCells) {\n\t\t\t\tmaxCells = cellsCount;\n\t\t\t\t$elected = $tr;\n\t\t\t}\n\t\t}\n\n\t\treturn $elected;\n\t}\n\n\tfunction buildTableColumnPillars(table) {\n\t\tlet pillars = [];\n\n\t\tlet pillarIndex = -1;\n\n\t\tlet rtl = table.getComputedStyle('direction') === 'rtl';\n\n\t\t// Get the raw row element that cointains the most columns.\n\t\tlet $tr = getMasterPillarRow(table);\n\n\t\t// Get the tbody element and position, which will be used to set the\n\t\t// top and bottom boundaries.\n\t\tlet tbody = new CKEDITOR.dom.element(table.$.tBodies[0]);\n\n\t\tlet tbodyPosition = tbody.getDocumentPosition();\n\n\t\t// Loop thorugh all cells, building pillars after each one of them.\n\t\tfor (let i = 0, len = $tr.cells.length; i < len; i++) {\n\t\t\t// Both the current cell and the successive one will be used in the\n\t\t\t// pillar size calculation.\n\t\t\tlet td = new CKEDITOR.dom.element($tr.cells[i]);\n\n\t\t\tlet nextTd =\n\t\t\t\t$tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);\n\n\t\t\tpillarIndex += td.$.colSpan || 1;\n\n\t\t\t// Calculate the pillar boundary positions.\n\t\t\tlet pillarLeft;\n\t\t\tlet pillarRight;\n\t\t\tlet pillarWidth;\n\n\t\t\tlet x = td.getDocumentPosition().x;\n\n\t\t\t// Calculate positions based on the current cell.\n\t\t\trtl\n\t\t\t\t? (pillarRight = x + getBorderWidth(td, 'left'))\n\t\t\t\t: (pillarLeft =\n\t\t\t\t\t\tx + td.$.offsetWidth - getBorderWidth(td, 'right'));\n\n\t\t\t// Calculate positions based on the next cell, if available.\n\t\t\tif (nextTd) {\n\t\t\t\tx = nextTd.getDocumentPosition().x;\n\n\t\t\t\trtl\n\t\t\t\t\t? (pillarLeft =\n\t\t\t\t\t\t\tx +\n\t\t\t\t\t\t\tnextTd.$.offsetWidth -\n\t\t\t\t\t\t\tgetBorderWidth(nextTd, 'right'))\n\t\t\t\t\t: (pillarRight = x + getBorderWidth(nextTd, 'left'));\n\t\t\t}\n\t\t\t// Otherwise calculate positions based on the table (for last cell).\n\t\t\telse {\n\t\t\t\tx = table.getDocumentPosition().x;\n\n\t\t\t\trtl\n\t\t\t\t\t? (pillarLeft = x)\n\t\t\t\t\t: (pillarRight = x + table.$.offsetWidth);\n\t\t\t}\n\n\t\t\tpillarWidth = Math.max(pillarRight - pillarLeft, 4);\n\n\t\t\t// The pillar should reflects exactly the shape of the hovered\n\t\t\t// column border line.\n\t\t\tpillars.push({\n\t\t\t\ttable: table,\n\t\t\t\tindex: pillarIndex,\n\t\t\t\tx: pillarLeft,\n\t\t\t\ty: tbodyPosition.y,\n\t\t\t\twidth: pillarWidth,\n\t\t\t\theight: tbody.$.offsetHeight,\n\t\t\t\trtl: rtl,\n\t\t\t});\n\t\t}\n\n\t\treturn pillars;\n\t}\n\n\tfunction getPillarAtPosition(pillars, positionX) {\n\t\tfor (let i = 0, len = pillars.length; i < len; i++) {\n\t\t\tlet pillar = pillars[i];\n\n\t\t\tif (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {\n\t\t\t\treturn pillar;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction cancel(evt) {\n\t\t(evt.data || evt).preventDefault();\n\t}\n\n\tfunction ColumnResizer(editor, pillar) {\n\t\tlet document;\n\t\tlet isResizing;\n\t\tlet move;\n\t\tlet resizer;\n\t\tlet resizing;\n\t\tlet startOffset;\n\t\tlet currentShift;\n\n\t\tlet leftSideCells;\n\n\t\tlet rightSideCells;\n\n\t\tlet leftShiftBoundary;\n\n\t\tlet rightShiftBoundary;\n\n\t\tfunction detach() {\n\t\t\tresizer.removeListener('mouseup', onMouseUp);\n\t\t\tresizer.removeListener('mousedown', onMouseDown);\n\t\t\tresizer.removeListener('mousemove', onMouseMove);\n\t\t}\n\n\t\tfunction resizeStart() {\n\t\t\t// Before starting to resize, figure out which cells to change\n\t\t\t// and the boundaries of this resizing shift.\n\n\t\t\tlet columnIndex = pillar.index;\n\n\t\t\tlet map = CKEDITOR.tools.buildTableMap(pillar.table);\n\n\t\t\tlet leftColumnCells = [];\n\n\t\t\tlet rightColumnCells = [];\n\n\t\t\tlet leftMinSize = Number.MAX_VALUE;\n\n\t\t\tlet rightMinSize = leftMinSize;\n\n\t\t\tlet rtl = pillar.rtl;\n\n\t\t\tfor (let i = 0, len = map.length; i < len; i++) {\n\t\t\t\tlet row = map[i];\n\n\t\t\t\tlet leftCell = row[columnIndex + (rtl ? 1 : 0)];\n\n\t\t\t\tlet rightCell = row[columnIndex + (rtl ? 0 : 1)];\n\n\t\t\t\tleftCell = leftCell && new CKEDITOR.dom.element(leftCell);\n\t\t\t\trightCell = rightCell && new CKEDITOR.dom.element(rightCell);\n\n\t\t\t\tif (!leftCell || !rightCell || !leftCell.equals(rightCell)) {\n\t\t\t\t\tleftCell &&\n\t\t\t\t\t\t(leftMinSize = Math.min(\n\t\t\t\t\t\t\tleftMinSize,\n\t\t\t\t\t\t\tgetWidth(leftCell)\n\t\t\t\t\t\t));\n\t\t\t\t\trightCell &&\n\t\t\t\t\t\t(rightMinSize = Math.min(\n\t\t\t\t\t\t\trightMinSize,\n\t\t\t\t\t\t\tgetWidth(rightCell)\n\t\t\t\t\t\t));\n\n\t\t\t\t\tleftColumnCells.push(leftCell);\n\t\t\t\t\trightColumnCells.push(rightCell);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Cache the list of cells to be resized.\n\t\t\tleftSideCells = leftColumnCells;\n\t\t\trightSideCells = rightColumnCells;\n\n\t\t\t// Cache the resize limit boundaries.\n\t\t\tleftShiftBoundary = pillar.x - leftMinSize;\n\t\t\trightShiftBoundary = pillar.x + rightMinSize;\n\n\t\t\tresizer.setOpacity(0.5);\n\t\t\tstartOffset = parseInt(resizer.getStyle('left'), 10);\n\t\t\tcurrentShift = 0;\n\t\t\tresizing = 1;\n\n\t\t\tresizer.on('mousemove', onMouseMove);\n\n\t\t\t// Prevent the native drag behavior otherwise 'mousemove' won't fire.\n\t\t\tdocument.on('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeEnd() {\n\t\t\tresizing = 0;\n\n\t\t\tresizer.setOpacity(0);\n\n\t\t\tcurrentShift && resizeColumn();\n\n\t\t\tlet table = pillar.table;\n\t\t\tsetTimeout(function() {\n\t\t\t\ttable.removeCustomData('_cke_table_pillars');\n\t\t\t}, 0);\n\n\t\t\tdocument.removeListener('dragstart', cancel);\n\t\t}\n\n\t\tfunction resizeColumn() {\n\t\t\tlet rtl = pillar.rtl;\n\n\t\t\tlet cellsCount = rtl ? rightSideCells.length : leftSideCells.length;\n\n\t\t\t// Perform the actual resize to table cells, only for those by side of the pillar.\n\t\t\tfor (let i = 0; i < cellsCount; i++) {\n\t\t\t\tlet leftCell = leftSideCells[i];\n\n\t\t\t\tlet rightCell = rightSideCells[i];\n\n\t\t\t\tconst table = pillar.table;\n\n\t\t\t\t// Defer the resizing to avoid any interference among cells.\n\t\t\t\tCKEDITOR.tools.setTimeout(\n\t\t\t\t\tfunction(\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftOldWidth,\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightOldWidth,\n\t\t\t\t\t\ttableWidth,\n\t\t\t\t\t\tsizeShift\n\t\t\t\t\t) {\n\t\t\t\t\t\t// 1px is the minimum valid width (#11626).\n\t\t\t\t\t\tleftCell &&\n\t\t\t\t\t\t\tleftCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(leftOldWidth + sizeShift, 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\trightCell &&\n\t\t\t\t\t\t\trightCell.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(Math.max(rightOldWidth - sizeShift, 1))\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// If we're in the last cell, we need to resize the table as well\n\t\t\t\t\t\tif (tableWidth) {\n\t\t\t\t\t\t\ttable.setStyle(\n\t\t\t\t\t\t\t\t'width',\n\t\t\t\t\t\t\t\tpxUnit(tableWidth + sizeShift * (rtl ? -1 : 1))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t0,\n\t\t\t\t\tthis,\n\t\t\t\t\t[\n\t\t\t\t\t\tleftCell,\n\t\t\t\t\t\tleftCell && getWidth(leftCell),\n\t\t\t\t\t\trightCell,\n\t\t\t\t\t\trightCell && getWidth(rightCell),\n\t\t\t\t\t\t(!leftCell || !rightCell) &&\n\t\t\t\t\t\t\tgetWidth(table) +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'left') +\n\t\t\t\t\t\t\t\tgetBorderWidth(table, 'right'),\n\t\t\t\t\t\tcurrentShift,\n\t\t\t\t\t]\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tfunction onMouseDown(evt) {\n\t\t\tcancel(evt);\n\n\t\t\tresizeStart();\n\n\t\t\tdocument.on('mouseup', onMouseUp, this);\n\t\t}\n\n\t\tfunction onMouseUp(evt) {\n\t\t\tevt.removeListener();\n\n\t\t\tresizeEnd();\n\t\t}\n\n\t\tfunction onMouseMove(evt) {\n\t\t\tmove(evt.data.getPageOffset().x);\n\t\t}\n\n\t\tdocument = editor.document;\n\n\t\tresizer = CKEDITOR.dom.element.createFromHtml(\n\t\t\t'<div data-cke-temp=1 contenteditable=false unselectable=on ' +\n\t\t\t\t'style=\"position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' +\n\t\t\t\t'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10\"></div>',\n\t\t\tdocument\n\t\t);\n\n\t\t// Clean DOM when editor is destroyed.\n\t\teditor.on('destroy', function() {\n\t\t\tdetach();\n\n\t\t\tresizer.remove();\n\t\t});\n\n\t\t// Place the resizer after body to prevent it\n\t\t// from being editable.\n\t\tdocument.getDocumentElement().append(resizer);\n\n\t\tresizer.setStyles({\n\t\t\twidth: pxUnit(pillar.width),\n\t\t\theight: pxUnit(pillar.height),\n\t\t\tleft: pxUnit(pillar.x),\n\t\t\ttop: pxUnit(pillar.y),\n\t\t});\n\n\t\tresizer.on('mousedown', onMouseDown, this);\n\n\t\tdocument.getBody().setStyle('cursor', 'col-resize');\n\n\t\t// Display the resizer to receive events but don't show it,\n\t\t// only change the cursor to resizable shape.\n\t\tresizer.show();\n\n\t\tmove = this.move = function(posX) {\n\t\t\tlet resizerNewPosition =\n\t\t\t\tposX - Math.round(resizer.$.offsetWidth / 2);\n\n\t\t\tif (isResizing) {\n\t\t\t\tif (\n\t\t\t\t\tresizerNewPosition === leftShiftBoundary ||\n\t\t\t\t\tresizerNewPosition === rightShiftBoundary\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresizerNewPosition = Math.max(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\tleftShiftBoundary\n\t\t\t\t);\n\t\t\t\tresizerNewPosition = Math.min(\n\t\t\t\t\tresizerNewPosition,\n\t\t\t\t\trightShiftBoundary\n\t\t\t\t);\n\n\t\t\t\tcurrentShift = resizerNewPosition - startOffset;\n\t\t\t}\n\n\t\t\tresizer.setStyle('left', pxUnit(resizerNewPosition));\n\t\t};\n\n\t\tthis.destroy = function() {\n\t\t\tdetach();\n\n\t\t\tdocument.getBody().setStyle('cursor', 'auto');\n\n\t\t\tresizer.remove();\n\t\t};\n\n\t\tisResizing = this.isResizing = function() {\n\t\t\treturn resizing;\n\t\t};\n\t}\n\n\tfunction clearPillarsCache(evt) {\n\t\tlet target = evt.data.getTarget();\n\n\t\tif (evt.name === 'mouseout') {\n\t\t\t// Bypass interal mouse move.\n\t\t\tif (!target.is('table')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet dest = new CKEDITOR.dom.element(\n\t\t\t\tevt.data.$.relatedTarget || evt.data.$.toElement\n\t\t\t);\n\t\t\twhile (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {\n\t\t\t\tdest = dest.getParent();\n\t\t\t}\n\t\t\tif (!dest || dest.equals(target)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\ttarget.getAscendant('table', 1).removeCustomData('_cke_table_pillars');\n\t\tevt.removeListener();\n\t}\n\n\tCKEDITOR.plugins.add('ae_tableresize', {\n\t\trequires: 'ae_tabletools',\n\n\t\tinit: function(editor) {\n\t\t\teditor.on('contentDom', function() {\n\t\t\t\tlet resizer;\n\n\t\t\t\tlet editable = editor.editable();\n\n\t\t\t\t// In Classic editor it is better to use document\n\t\t\t\t// instead of editable so event will work below body.\n\t\t\t\teditable.attachListener(\n\t\t\t\t\teditable.isInline() ? editable : editor.document,\n\t\t\t\t\t'mousemove',\n\t\t\t\t\tfunction(evt) {\n\t\t\t\t\t\tevt = evt.data;\n\n\t\t\t\t\t\tlet target = evt.getTarget();\n\n\t\t\t\t\t\t// FF may return document and IE8 some UFO (object with no nodeType property...)\n\t\t\t\t\t\t// instead of an element (#11823).\n\t\t\t\t\t\tif (target.type !== CKEDITOR.NODE_ELEMENT) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet pageX = evt.getPageOffset().x;\n\n\t\t\t\t\t\t// If we're already attached to a pillar, simply move the\n\t\t\t\t\t\t// resizer.\n\t\t\t\t\t\tif (resizer) {\n\t\t\t\t\t\t\tif (resizer.isResizing()) {\n\t\t\t\t\t\t\t\tresizer.move(pageX);\n\n\t\t\t\t\t\t\t\tcancel(evt);\n\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tresizer.destroy();\n\n\t\t\t\t\t\t\t\tresizer = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Considering table, tr, td, tbody but nothing else.\n\t\t\t\t\t\tlet table;\n\t\t\t\t\t\tlet pillars;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!target.is('table') &&\n\t\t\t\t\t\t\t!target.getAscendant('tbody', 1)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttable = target.getAscendant('table', 1);\n\n\t\t\t\t\t\t// Make sure the table we found is inside the container\n\t\t\t\t\t\t// (eg. we should not use tables the editor is embedded within)\n\t\t\t\t\t\tif (!editor.editable().contains(table)) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!(pillars = table.getCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars'\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Cache table pillars calculation result.\n\t\t\t\t\t\t\ttable.setCustomData(\n\t\t\t\t\t\t\t\t'_cke_table_pillars',\n\t\t\t\t\t\t\t\t(pillars = buildTableColumnPillars(table))\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\ttable.on('mouseout', clearPillarsCache);\n\t\t\t\t\t\t\ttable.on('mousedown', clearPillarsCache);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet pillar = getPillarAtPosition(pillars, pageX);\n\n\t\t\t\t\t\tif (pillar) {\n\t\t\t\t\t\t\tresizer = new ColumnResizer(editor, pillar);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t});\n})();\n","/**\n * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\n(function() {\n\t'use strict';\n\n\tif (CKEDITOR.plugins.get('ae_tabletools')) {\n\t\treturn;\n\t}\n\n\tlet cellNodeRegex = /^(?:td|th)$/;\n\n\tfunction getSelectedCells(selection) {\n\t\tlet ranges = selection.getRanges();\n\t\tlet retval = [];\n\t\tlet database = {};\n\n\t\tfunction moveOutOfCellGuard(node) {\n\t\t\t// Apply to the first cell only.\n\t\t\tif (retval.length > 0) return;\n\n\t\t\t// If we are exiting from the first </td>, then the td should definitely be\n\t\t\t// included.\n\t\t\tif (\n\t\t\t\tnode.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcellNodeRegex.test(node.getName()) &&\n\t\t\t\t!node.getCustomData('selected_cell')\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\tdatabase,\n\t\t\t\t\tnode,\n\t\t\t\t\t'selected_cell',\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tretval.push(node);\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < ranges.length; i++) {\n\t\t\tlet range = ranges[i];\n\n\t\t\tif (range.collapsed) {\n\t\t\t\t// Walker does not handle collapsed ranges yet - fall back to old API.\n\t\t\t\tlet startNode = range.getCommonAncestor();\n\t\t\t\tlet nearestCell =\n\t\t\t\t\tstartNode.getAscendant('td', true) ||\n\t\t\t\t\tstartNode.getAscendant('th', true);\n\t\t\t\tif (nearestCell) retval.push(nearestCell);\n\t\t\t} else {\n\t\t\t\tlet walker = new CKEDITOR.dom.walker(range);\n\t\t\t\tlet node;\n\t\t\t\twalker.guard = moveOutOfCellGuard;\n\n\t\t\t\twhile ((node = walker.next())) {\n\t\t\t\t\t// If may be possible for us to have a range like this:\n\t\t\t\t\t// <td>^1</td><td>^2</td>\n\t\t\t\t\t// The 2nd td shouldn't be included.\n\t\t\t\t\t//\n\t\t\t\t\t// So we have to take care to include a td we've entered only when we've\n\t\t\t\t\t// walked into its children.\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tnode.type != CKEDITOR.NODE_ELEMENT ||\n\t\t\t\t\t\t!node.is(CKEDITOR.dtd.table)\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet parent =\n\t\t\t\t\t\t\tnode.getAscendant('td', true) ||\n\t\t\t\t\t\t\tnode.getAscendant('th', true);\n\t\t\t\t\t\tif (parent && !parent.getCustomData('selected_cell')) {\n\t\t\t\t\t\t\tCKEDITOR.dom.element.setMarker(\n\t\t\t\t\t\t\t\tdatabase,\n\t\t\t\t\t\t\t\tparent,\n\t\t\t\t\t\t\t\t'selected_cell',\n\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tretval.push(parent);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\treturn retval;\n\t}\n\n\tfunction getFocusElementAfterDelCells(cellsToDelete) {\n\t\tlet i = 0;\n\n\t\tlet last = cellsToDelete.length - 1;\n\n\t\tlet database = {};\n\n\t\tlet cell;\n\n\t\tlet focusedCell;\n\n\t\tlet tr;\n\n\t\twhile ((cell = cellsToDelete[i++]))\n\t\t\tCKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);\n\n\t\t// 1.first we check left or right side focusable cell row by row;\n\t\ti = 0;\n\t\twhile ((cell = cellsToDelete[i++])) {\n\t\t\tif (\n\t\t\t\t((focusedCell = cell.getPrevious()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell')) ||\n\t\t\t\t((focusedCell = cell.getNext()) &&\n\t\t\t\t\t!focusedCell.getCustomData('delete_cell'))\n\t\t\t) {\n\t\t\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\t\t\t\treturn focusedCell;\n\t\t\t}\n\t\t}\n\n\t\tCKEDITOR.dom.element.clearAllMarkers(database);\n\n\t\t// 2. then we check the toppest row (outside the selection area square) focusable cell\n\t\ttr = cellsToDelete[0].getParent();\n\t\tif ((tr = tr.getPrevious())) return tr.getLast();\n\n\t\t// 3. last we check the lowerest  row focusable cell\n\t\ttr = cellsToDelete[last].getParent();\n\t\tif ((tr = tr.getNext())) return tr.getChild(0);\n\n\t\treturn null;\n\t}\n\n\tfunction insertRow(selection, insertBefore) {\n\t\tlet cells = getSelectedCells(selection);\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet doc = firstCell.getDocument();\n\n\t\tlet startRow = cells[0].getParent();\n\n\t\tlet startRowIndex = startRow.$.rowIndex;\n\n\t\tlet lastCell = cells[cells.length - 1];\n\n\t\tlet endRowIndex =\n\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\tlet endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]);\n\n\t\tlet rowIndex = insertBefore ? startRowIndex : endRowIndex;\n\n\t\tlet row = insertBefore ? startRow : endRow;\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet cloneRow = map[rowIndex];\n\n\t\tlet nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1];\n\n\t\tlet width = map[0].length;\n\n\t\tlet newRow = doc.createElement('tr');\n\t\tfor (let i = 0; cloneRow[i] && i < width; i++) {\n\t\t\tlet cell;\n\t\t\t// Check whether there's a spanning row here, do not break it.\n\t\t\tif (\n\t\t\t\tcloneRow[i].rowSpan > 1 &&\n\t\t\t\tnextRow &&\n\t\t\t\tcloneRow[i] == nextRow[i]\n\t\t\t) {\n\t\t\t\tcell = cloneRow[i];\n\t\t\t\tcell.rowSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneRow[i]).clone();\n\t\t\t\tcell.removeAttribute('rowSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tnewRow.append(cell);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.colSpan - 1;\n\t\t}\n\n\t\tinsertBefore ? newRow.insertBefore(row) : newRow.insertAfter(row);\n\t}\n\n\tfunction deleteRows(selectionOrRow) {\n\t\tif (selectionOrRow instanceof CKEDITOR.dom.selection) {\n\t\t\tlet cells = getSelectedCells(selectionOrRow);\n\n\t\t\tlet firstCell = cells[0];\n\n\t\t\tconst table = firstCell.getAscendant('table');\n\n\t\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\t\tlet startRow = cells[0].getParent();\n\n\t\t\tlet startRowIndex = startRow.$.rowIndex;\n\n\t\t\tlet lastCell = cells[cells.length - 1];\n\n\t\t\tlet endRowIndex =\n\t\t\t\tlastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1;\n\n\t\t\tlet rowsToDelete = [];\n\n\t\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\t\tfor (let i = startRowIndex; i <= endRowIndex; i++) {\n\t\t\t\tlet mapRow = map[i];\n\n\t\t\t\tlet row = new CKEDITOR.dom.element(table.$.rows[i]);\n\n\t\t\t\tfor (let j = 0; j < mapRow.length; j++) {\n\t\t\t\t\tlet cell = new CKEDITOR.dom.element(mapRow[j]);\n\n\t\t\t\t\tlet cellRowIndex = cell.getParent().$.rowIndex;\n\n\t\t\t\t\tif (cell.$.rowSpan == 1) cell.remove();\n\t\t\t\t\t// Row spanned cell.\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Span row of the cell, reduce spanning.\n\t\t\t\t\t\tcell.$.rowSpan -= 1;\n\t\t\t\t\t\t// Root row of the cell, root cell to next row.\n\t\t\t\t\t\tif (cellRowIndex == i) {\n\t\t\t\t\t\t\tlet nextMapRow = map[i + 1];\n\t\t\t\t\t\t\tnextMapRow[j - 1]\n\t\t\t\t\t\t\t\t? cell.insertAfter(\n\t\t\t\t\t\t\t\t\t\tnew CKEDITOR.dom.element(\n\t\t\t\t\t\t\t\t\t\t\tnextMapRow[j - 1]\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: new CKEDITOR.dom.element(\n\t\t\t\t\t\t\t\t\t\ttable.$.rows[i + 1]\n\t\t\t\t\t\t\t\t  ).append(cell, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tj += cell.$.colSpan - 1;\n\t\t\t\t}\n\n\t\t\t\trowsToDelete.push(row);\n\t\t\t}\n\n\t\t\tlet rows = table.$.rows;\n\n\t\t\t// Where to put the cursor after rows been deleted?\n\t\t\t// 1. Into next sibling row if any;\n\t\t\t// 2. Into previous sibling row if any;\n\t\t\t// 3. Into table's parent element if it's the very last row.\n\t\t\tlet cursorPosition = new CKEDITOR.dom.element(\n\t\t\t\trows[endRowIndex + 1] ||\n\t\t\t\t\t(startRowIndex > 0 ? rows[startRowIndex - 1] : null) ||\n\t\t\t\t\ttable.$.parentNode\n\t\t\t);\n\n\t\t\tfor (let i = rowsToDelete.length; i >= 0; i--)\n\t\t\t\tdeleteRows(rowsToDelete[i]);\n\n\t\t\treturn cursorPosition;\n\t\t} else if (selectionOrRow instanceof CKEDITOR.dom.element) {\n\t\t\tconst table = selectionOrRow.getAscendant('table');\n\n\t\t\tif (table.$.rows.length == 1) table.remove();\n\t\t\telse selectionOrRow.remove();\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tfunction getCellColIndex(cell, isStart) {\n\t\tlet row = cell.getParent();\n\n\t\tlet rowCells = row.$.cells;\n\n\t\tlet colIndex = 0;\n\t\tfor (let i = 0; i < rowCells.length; i++) {\n\t\t\tlet mapCell = rowCells[i];\n\t\t\tcolIndex += isStart ? 1 : mapCell.colSpan;\n\t\t\tif (mapCell == cell.$) break;\n\t\t}\n\n\t\treturn colIndex - 1;\n\t}\n\n\tfunction getColumnsIndices(cells, isStart) {\n\t\tlet retval = isStart ? Infinity : 0;\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tlet colIndex = getCellColIndex(cells[i], isStart);\n\t\t\tif (isStart ? colIndex < retval : colIndex > retval)\n\t\t\t\tretval = colIndex;\n\t\t}\n\t\treturn retval;\n\t}\n\n\tfunction insertColumn(selection, insertBefore) {\n\t\tlet cells = getSelectedCells(selection);\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet startCol = getColumnsIndices(cells, 1);\n\n\t\tlet lastCol = getColumnsIndices(cells);\n\n\t\tlet colIndex = insertBefore ? startCol : lastCol;\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet cloneCol = [];\n\n\t\tlet nextCol = [];\n\n\t\tlet height = map.length;\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tcloneCol.push(map[i][colIndex]);\n\t\t\tlet nextCell = insertBefore\n\t\t\t\t? map[i][colIndex - 1]\n\t\t\t\t: map[i][colIndex + 1];\n\t\t\tnextCol.push(nextCell);\n\t\t}\n\n\t\tfor (let i = 0; i < height; i++) {\n\t\t\tlet cell;\n\n\t\t\tif (!cloneCol[i]) continue;\n\n\t\t\t// Check whether there's a spanning column here, do not break it.\n\t\t\tif (cloneCol[i].colSpan > 1 && nextCol[i] == cloneCol[i]) {\n\t\t\t\tcell = cloneCol[i];\n\t\t\t\tcell.colSpan += 1;\n\t\t\t} else {\n\t\t\t\tcell = new CKEDITOR.dom.element(cloneCol[i]).clone();\n\t\t\t\tcell.removeAttribute('colSpan');\n\t\t\t\tcell.appendBogus();\n\t\t\t\tcell[insertBefore ? 'insertBefore' : 'insertAfter'].call(\n\t\t\t\t\tcell,\n\t\t\t\t\tnew CKEDITOR.dom.element(cloneCol[i])\n\t\t\t\t);\n\t\t\t\tcell = cell.$;\n\t\t\t}\n\n\t\t\ti += cell.rowSpan - 1;\n\t\t}\n\t}\n\n\tfunction deleteColumns(selectionOrCell) {\n\t\tlet cells = getSelectedCells(selectionOrCell);\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet lastCell = cells[cells.length - 1];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet startColIndex;\n\n\t\tlet endColIndex;\n\n\t\tlet rowsToDelete = [];\n\n\t\tlet rows;\n\n\t\t// Figure out selected cells' column indices.\n\t\tfor (let i = 0, rows = map.length; i < rows; i++) {\n\t\t\tfor (let j = 0, cols = map[i].length; j < cols; j++) {\n\t\t\t\tif (map[i][j] == firstCell.$) startColIndex = j;\n\t\t\t\tif (map[i][j] == lastCell.$) endColIndex = j;\n\t\t\t}\n\t\t}\n\n\t\t// Delete cell or reduce cell spans by checking through the table map.\n\t\tfor (let i = startColIndex; i <= endColIndex; i++) {\n\t\t\tfor (let j = 0; j < map.length; j++) {\n\t\t\t\tlet mapRow = map[j];\n\n\t\t\t\tlet row = new CKEDITOR.dom.element(table.$.rows[j]);\n\n\t\t\t\tlet cell = new CKEDITOR.dom.element(mapRow[i]);\n\n\t\t\t\tif (cell.$) {\n\t\t\t\t\tif (cell.$.colSpan == 1) cell.remove();\n\t\t\t\t\t// Reduce the col spans.\n\t\t\t\t\telse cell.$.colSpan -= 1;\n\n\t\t\t\t\tj += cell.$.rowSpan - 1;\n\n\t\t\t\t\tif (!row.$.cells.length) rowsToDelete.push(row);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet firstRowCells = table.$.rows[0] && table.$.rows[0].cells;\n\n\t\t// Where to put the cursor after columns been deleted?\n\t\t// 1. Into next cell of the first row if any;\n\t\t// 2. Into previous cell of the first row if any;\n\t\t// 3. Into table's parent element;\n\t\tlet cursorPosition = new CKEDITOR.dom.element(\n\t\t\tfirstRowCells[startColIndex] ||\n\t\t\t\t(startColIndex\n\t\t\t\t\t? firstRowCells[startColIndex - 1]\n\t\t\t\t\t: table.$.parentNode)\n\t\t);\n\n\t\t// Delete table rows only if all columns are gone (do not remove empty row).\n\t\tif (rowsToDelete.length == rows) table.remove();\n\n\t\treturn cursorPosition;\n\t}\n\n\tfunction insertCell(selection, insertBefore) {\n\t\tlet startElement = selection.getStartElement();\n\t\tlet cell =\n\t\t\tstartElement.getAscendant('td', 1) ||\n\t\t\tstartElement.getAscendant('th', 1);\n\n\t\tif (!cell) return;\n\n\t\t// Create the new cell element to be added.\n\t\tlet newCell = cell.clone();\n\t\tnewCell.appendBogus();\n\n\t\tif (insertBefore) newCell.insertBefore(cell);\n\t\telse newCell.insertAfter(cell);\n\t}\n\n\tfunction deleteCells(selectionOrCell) {\n\t\tif (selectionOrCell instanceof CKEDITOR.dom.selection) {\n\t\t\tlet cellsToDelete = getSelectedCells(selectionOrCell);\n\t\t\tlet table =\n\t\t\t\tcellsToDelete[0] && cellsToDelete[0].getAscendant('table');\n\t\t\tlet cellToFocus = getFocusElementAfterDelCells(cellsToDelete);\n\n\t\t\tfor (let i = cellsToDelete.length - 1; i >= 0; i--)\n\t\t\t\tdeleteCells(cellsToDelete[i]);\n\n\t\t\tif (cellToFocus) placeCursorInCell(cellToFocus, true);\n\t\t\telse if (table) table.remove();\n\t\t} else if (selectionOrCell instanceof CKEDITOR.dom.element) {\n\t\t\tlet tr = selectionOrCell.getParent();\n\t\t\tif (tr.getChildCount() == 1) tr.remove();\n\t\t\telse selectionOrCell.remove();\n\t\t}\n\t}\n\n\t// Remove filler at end and empty spaces around the cell content.\n\tfunction trimCell(cell) {\n\t\tlet bogus = cell.getBogus();\n\t\tbogus && bogus.remove();\n\t\tcell.trim();\n\t}\n\n\tfunction placeCursorInCell(cell, placeAtEnd) {\n\t\tlet docInner = cell.getDocument();\n\n\t\tlet docOuter = CKEDITOR.document;\n\n\t\t// Fixing \"Unspecified error\" thrown in IE10 by resetting\n\t\t// selection the dirty and shameful way (#10308).\n\t\t// We can not apply this hack to IE8 because\n\t\t// it causes error (#11058).\n\t\tif (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {\n\t\t\tdocOuter.focus();\n\t\t\tdocInner.focus();\n\t\t}\n\n\t\tlet range = new CKEDITOR.dom.range(docInner);\n\t\tif (\n\t\t\t!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)\n\t\t) {\n\t\t\trange.selectNodeContents(cell);\n\t\t\trange.collapse(placeAtEnd ? false : true);\n\t\t}\n\t\trange.select(true);\n\t}\n\n\tfunction cellInRow(tableMap, rowIndex, cell) {\n\t\tlet oRow = tableMap[rowIndex];\n\t\tif (typeof cell == 'undefined') return oRow;\n\n\t\tfor (let c = 0; oRow && c < oRow.length; c++) {\n\t\t\tif (cell.is && oRow[c] == cell.$) return c;\n\t\t\telse if (c == cell) return new CKEDITOR.dom.element(oRow[c]);\n\t\t}\n\t\treturn cell.is ? -1 : null;\n\t}\n\n\tfunction cellInCol(tableMap, colIndex) {\n\t\tlet oCol = [];\n\t\tfor (let r = 0; r < tableMap.length; r++) {\n\t\t\tlet row = tableMap[r];\n\t\t\toCol.push(row[colIndex]);\n\n\t\t\t// Avoid adding duplicate cells.\n\t\t\tif (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;\n\t\t}\n\t\treturn oCol;\n\t}\n\n\tfunction mergeCells(selection, mergeDirection, isDetect) {\n\t\tlet cells = getSelectedCells(selection);\n\n\t\t// Invalid merge request if:\n\t\t// 1. In batch mode despite that less than two selected.\n\t\t// 2. In solo mode while not exactly only one selected.\n\t\t// 3. Cells distributed in different table groups (e.g. from both thead and tbody).\n\t\tlet commonAncestor;\n\t\tif (\n\t\t\t(mergeDirection ? cells.length != 1 : cells.length < 2) ||\n\t\t\t((commonAncestor = selection.getCommonAncestor()) &&\n\t\t\t\tcommonAncestor.type == CKEDITOR.NODE_ELEMENT &&\n\t\t\t\tcommonAncestor.is('table'))\n\t\t)\n\t\t\treturn false;\n\n\t\tlet cell;\n\n\t\tlet firstCell = cells[0];\n\n\t\tlet table = firstCell.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet mapHeight = map.length;\n\n\t\tlet mapWidth = map[0].length;\n\n\t\tlet startRow = firstCell.getParent().$.rowIndex;\n\n\t\tlet startColumn = cellInRow(map, startRow, firstCell);\n\n\t\tif (mergeDirection) {\n\t\t\tlet targetCell;\n\t\t\ttry {\n\t\t\t\tlet rowspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('rowspan'), 10) || 1;\n\t\t\t\tlet colspan =\n\t\t\t\t\tparseInt(firstCell.getAttribute('colspan'), 10) || 1;\n\n\t\t\t\ttargetCell =\n\t\t\t\t\tmap[\n\t\t\t\t\t\tmergeDirection == 'up'\n\t\t\t\t\t\t\t? startRow - rowspan\n\t\t\t\t\t\t\t: mergeDirection == 'down'\n\t\t\t\t\t\t\t? startRow + rowspan\n\t\t\t\t\t\t\t: startRow\n\t\t\t\t\t][\n\t\t\t\t\t\tmergeDirection == 'left'\n\t\t\t\t\t\t\t? startColumn - colspan\n\t\t\t\t\t\t\t: mergeDirection == 'right'\n\t\t\t\t\t\t\t? startColumn + colspan\n\t\t\t\t\t\t\t: startColumn\n\t\t\t\t\t];\n\t\t\t} catch (er) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// 1. No cell could be merged.\n\t\t\t// 2. Same cell actually.\n\t\t\tif (!targetCell || firstCell.$ == targetCell) return false;\n\n\t\t\t// Sort in map order regardless of the DOM sequence.\n\t\t\tcells[\n\t\t\t\tmergeDirection == 'up' || mergeDirection == 'left'\n\t\t\t\t\t? 'unshift'\n\t\t\t\t\t: 'push'\n\t\t\t](new CKEDITOR.dom.element(targetCell));\n\t\t}\n\n\t\t// Start from here are merging way ignorance (merge up/right, batch merge).\n\t\tlet doc = firstCell.getDocument();\n\n\t\tlet lastRowIndex = startRow;\n\n\t\tlet totalRowSpan = 0;\n\n\t\tlet totalColSpan = 0;\n\n\t\t// Use a documentFragment as buffer when appending cell contents.\n\n\t\tlet frag = !isDetect && new CKEDITOR.dom.documentFragment(doc);\n\n\t\tlet dimension = 0;\n\n\t\tfor (let i = 0; i < cells.length; i++) {\n\t\t\tcell = cells[i];\n\n\t\t\tlet tr = cell.getParent();\n\n\t\t\tlet cellFirstChild = cell.getFirst();\n\n\t\t\tlet colSpan = cell.$.colSpan;\n\n\t\t\tlet rowSpan = cell.$.rowSpan;\n\n\t\t\tlet rowIndex = tr.$.rowIndex;\n\n\t\t\tlet colIndex = cellInRow(map, rowIndex, cell);\n\n\t\t\t// Accumulated the actual places taken by all selected cells.\n\t\t\tdimension += colSpan * rowSpan;\n\t\t\t// Accumulated the maximum virtual spans from column and row.\n\t\t\ttotalColSpan = Math.max(\n\t\t\t\ttotalColSpan,\n\t\t\t\tcolIndex - startColumn + colSpan\n\t\t\t);\n\t\t\ttotalRowSpan = Math.max(\n\t\t\t\ttotalRowSpan,\n\t\t\t\trowIndex - startRow + rowSpan\n\t\t\t);\n\n\t\t\tif (!isDetect) {\n\t\t\t\t// Trim all cell fillers and check to remove empty cells.\n\t\t\t\tif ((trimCell(cell), cell.getChildren().count())) {\n\t\t\t\t\t// Merge vertically cells as two separated paragraphs.\n\t\t\t\t\tif (\n\t\t\t\t\t\trowIndex != lastRowIndex &&\n\t\t\t\t\t\tcellFirstChild &&\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary &&\n\t\t\t\t\t\t\tcellFirstChild.isBlockBoundary({br: 1})\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tlet last = frag.getLast(\n\t\t\t\t\t\t\tCKEDITOR.dom.walker.whitespaces(true)\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (last && !(last.is && last.is('br')))\n\t\t\t\t\t\t\tfrag.append('br');\n\t\t\t\t\t}\n\n\t\t\t\t\tcell.moveChildren(frag);\n\t\t\t\t}\n\t\t\t\ti ? cell.remove() : cell.setHtml('');\n\t\t\t}\n\t\t\tlastRowIndex = rowIndex;\n\t\t}\n\n\t\tif (!isDetect) {\n\t\t\tfrag.moveChildren(firstCell);\n\n\t\t\tfirstCell.appendBogus();\n\n\t\t\tif (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');\n\t\t\telse firstCell.$.rowSpan = totalRowSpan;\n\n\t\t\tif (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');\n\t\t\telse firstCell.$.colSpan = totalColSpan;\n\n\t\t\t// Swip empty <tr> left at the end of table due to the merging.\n\t\t\tlet trs = new CKEDITOR.dom.nodeList(table.$.rows);\n\n\t\t\tlet count = trs.count();\n\n\t\t\tfor (let i = count - 1; i >= 0; i--) {\n\t\t\t\tlet tailTr = trs.getItem(i);\n\t\t\t\tif (!tailTr.$.cells.length) {\n\t\t\t\t\ttailTr.remove();\n\t\t\t\t\tcount++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn firstCell;\n\t\t}\n\t\t// Be able to merge cells only if actual dimension of selected\n\t\t// cells equals to the caculated rectangle.\n\t\telse {\n\t\t\treturn totalRowSpan * totalColSpan == dimension;\n\t\t}\n\t}\n\n\tfunction verticalSplitCell(selection, isDetect) {\n\t\tlet cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tlet cell = cells[0];\n\n\t\tlet tr = cell.getParent();\n\n\t\tlet table = tr.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet rowIndex = tr.$.rowIndex;\n\n\t\tlet colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tlet rowSpan = cell.$.rowSpan;\n\n\t\tlet newCell;\n\n\t\tlet newRowSpan;\n\n\t\tlet newCellRowSpan;\n\n\t\tlet newRowIndex;\n\n\t\tif (rowSpan > 1) {\n\t\t\tnewRowSpan = Math.ceil(rowSpan / 2);\n\t\t\tnewCellRowSpan = Math.floor(rowSpan / 2);\n\t\t\tnewRowIndex = rowIndex + newRowSpan;\n\t\t\tconst newCellTr = new CKEDITOR.dom.element(\n\t\t\t\ttable.$.rows[newRowIndex]\n\t\t\t);\n\n\t\t\tlet newCellRow = cellInRow(map, newRowIndex);\n\n\t\t\tlet candidateCell;\n\n\t\t\tnewCell = cell.clone();\n\n\t\t\t// Figure out where to insert the new cell by checking the vitual row.\n\t\t\tfor (let c = 0; c < newCellRow.length; c++) {\n\t\t\t\tcandidateCell = newCellRow[c];\n\t\t\t\t// Catch first cell actually following the column.\n\t\t\t\tif (candidateCell.parentNode == newCellTr.$ && c > colIndex) {\n\t\t\t\t\tnewCell.insertBefore(\n\t\t\t\t\t\tnew CKEDITOR.dom.element(candidateCell)\n\t\t\t\t\t);\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\tcandidateCell = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// The destination row is empty, append at will.\n\t\t\tif (!candidateCell) newCellTr.append(newCell);\n\t\t} else {\n\t\t\tnewCellRowSpan = newRowSpan = 1;\n\n\t\t\tconst newCellTr = tr.clone();\n\t\t\tnewCellTr.insertAfter(tr);\n\t\t\tnewCellTr.append((newCell = cell.clone()));\n\n\t\t\tlet cellsInSameRow = cellInRow(map, rowIndex);\n\t\t\tfor (let i = 0; i < cellsInSameRow.length; i++)\n\t\t\t\tcellsInSameRow[i].rowSpan++;\n\t\t}\n\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.rowSpan = newRowSpan;\n\t\tnewCell.$.rowSpan = newCellRowSpan;\n\t\tif (newRowSpan == 1) cell.removeAttribute('rowSpan');\n\t\tif (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');\n\n\t\treturn newCell;\n\t}\n\n\tfunction horizontalSplitCell(selection, isDetect) {\n\t\tlet cells = getSelectedCells(selection);\n\t\tif (cells.length > 1) return false;\n\t\telse if (isDetect) return true;\n\n\t\tlet cell = cells[0];\n\n\t\tlet tr = cell.getParent();\n\n\t\tlet table = tr.getAscendant('table');\n\n\t\tlet map = CKEDITOR.tools.buildTableMap(table);\n\n\t\tlet rowIndex = tr.$.rowIndex;\n\n\t\tlet colIndex = cellInRow(map, rowIndex, cell);\n\n\t\tlet colSpan = cell.$.colSpan;\n\n\t\tlet newCell;\n\n\t\tlet newColSpan;\n\n\t\tlet newCellColSpan;\n\n\t\tif (colSpan > 1) {\n\t\t\tnewColSpan = Math.ceil(colSpan / 2);\n\t\t\tnewCellColSpan = Math.floor(colSpan / 2);\n\t\t} else {\n\t\t\tnewCellColSpan = newColSpan = 1;\n\t\t\tlet cellsInSameCol = cellInCol(map, colIndex);\n\t\t\tfor (let i = 0; i < cellsInSameCol.length; i++)\n\t\t\t\tcellsInSameCol[i].colSpan++;\n\t\t}\n\t\tnewCell = cell.clone();\n\t\tnewCell.insertAfter(cell);\n\t\tnewCell.appendBogus();\n\n\t\tcell.$.colSpan = newColSpan;\n\t\tnewCell.$.colSpan = newCellColSpan;\n\t\tif (newColSpan == 1) cell.removeAttribute('colSpan');\n\t\tif (newCellColSpan == 1) newCell.removeAttribute('colSpan');\n\n\t\treturn newCell;\n\t}\n\n\tCKEDITOR.plugins.add('ae_tabletools', {\n\t\tinit: function(editor) {\n\t\t\tfunction createDef(def) {\n\t\t\t\treturn CKEDITOR.tools.extend(def || {}, {\n\t\t\t\t\tcontextSensitive: 1,\n\t\t\t\t\trefresh: function(editor, path) {\n\t\t\t\t\t\tthis.setState(\n\t\t\t\t\t\t\tpath.contains({td: 1, th: 1}, 1)\n\t\t\t\t\t\t\t\t? CKEDITOR.TRISTATE_OFF\n\t\t\t\t\t\t\t\t: CKEDITOR.TRISTATE_DISABLED\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\tfunction addCmd(name, def) {\n\t\t\t\tlet cmd = editor.getCommand(name);\n\n\t\t\t\tif (cmd) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tcmd = editor.addCommand(name, def);\n\t\t\t\teditor.addFeature(cmd);\n\t\t\t}\n\n\t\t\taddCmd(\n\t\t\t\t'rowDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tplaceCursorInCell(deleteRows(selection));\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertRow(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'rowInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertRow(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tlet element = deleteColumns(selection);\n\t\t\t\t\t\telement && placeCursorInCell(element, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertColumn(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'columnInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertColumn(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellDelete',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tdeleteCells(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMerge',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan,rowspan]',\n\t\t\t\t\trequiredContent: 'td[colspan,rowspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection()),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeRight',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'right'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellMergeDown',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tmergeCells(editor.getSelection(), 'down'),\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellVerticalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[rowspan]',\n\t\t\t\t\trequiredContent: 'td[rowspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\tverticalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellHorizontalSplit',\n\t\t\t\tcreateDef({\n\t\t\t\t\tallowedContent: 'td[colspan]',\n\t\t\t\t\trequiredContent: 'td[colspan]',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tplaceCursorInCell(\n\t\t\t\t\t\t\thorizontalSplitCell(editor.getSelection())\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertBefore',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection, true);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\n\t\t\taddCmd(\n\t\t\t\t'cellInsertAfter',\n\t\t\t\tcreateDef({\n\t\t\t\t\trequiredContent: 'table',\n\t\t\t\t\texec: function(editor) {\n\t\t\t\t\t\tlet selection = editor.getSelection();\n\t\t\t\t\t\tinsertCell(selection);\n\t\t\t\t\t},\n\t\t\t\t})\n\t\t\t);\n\t\t},\n\n\t\tgetSelectedCells: getSelectedCells,\n\t});\n})();\n\n/**\n * Create a two-dimension array that reflects the actual layout of table cells,\n * with cell spans, with mappings to the original td elements.\n *\n * @param {CKEDITOR.dom.element} table\n * @member CKEDITOR.tools\n */\nCKEDITOR.tools.buildTableMap = function(table) {\n\tlet aRows = table.$.rows;\n\n\t// Row and Column counters.\n\tlet r = -1;\n\n\tlet aMap = [];\n\n\tfor (let i = 0; i < aRows.length; i++) {\n\t\tr++;\n\t\t!aMap[r] && (aMap[r] = []);\n\n\t\tlet c = -1;\n\n\t\tfor (let j = 0; j < aRows[i].cells.length; j++) {\n\t\t\tlet oCell = aRows[i].cells[j];\n\n\t\t\tc++;\n\t\t\twhile (aMap[r][c]) c++;\n\n\t\t\tlet iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;\n\t\t\tlet iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;\n\n\t\t\tfor (let rs = 0; rs < iRowSpan; rs++) {\n\t\t\t\tif (!aMap[r + rs]) aMap[r + rs] = [];\n\n\t\t\t\tfor (let cs = 0; cs < iColSpan; cs++) {\n\t\t\t\t\taMap[r + rs][c + cs] = aRows[i].cells[j];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc += iColSpan - 1;\n\t\t}\n\t}\n\treturn aMap;\n};\n","import button from './button.jsx';\nimport menuButton from './menu-button.jsx';\nimport menu from './menu.jsx';\nimport panelMenuButton from './panel-menu-button.jsx';\nimport richcombo from './richcombo.jsx';\nimport uibridge from './uibridge';\n\nexport {button, menuButton, menu, panelMenuButton, richcombo, uibridge};\n","import React from 'react';\n\n(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_buttonbridge')) {\n\t\treturn;\n\t}\n\n\tlet BUTTON_DEFS = {};\n\n\t/**\n\t * Generates a ButtonBridge React class for a given button definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateButtonBridge\n\t * @param {String} buttonName The button's name\n\t * @param {Object} buttonDefinition The button's definition\n\t * @return {Object} The generated or already existing React Button Class\n\t */\n\n\tfunction generateButtonBridge(buttonName, buttonDefinition, editor) {\n\t\tlet ButtonBridge = AlloyEditor.Buttons[buttonName];\n\n\t\tBUTTON_DEFS[editor.name] = BUTTON_DEFS[editor.name] || {};\n\t\tBUTTON_DEFS[editor.name][buttonName] =\n\t\t\tBUTTON_DEFS[editor.name][buttonName] || buttonDefinition;\n\n\t\tif (!ButtonBridge) {\n\t\t\tButtonBridge = class extends React.Component {\n\t\t\t\tstatic displayName = buttonName;\n\n\t\t\t\tstatic key = buttonName;\n\n\t\t\t\t// API not yet implemented inside the button\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tlet buttonDisplayName =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].name ||\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command ||\n\t\t\t\t\t\tbuttonName;\n\n\t\t\t\t\tlet buttonLabel =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].label;\n\n\t\t\t\t\tlet buttonType = 'button-' + buttonDisplayName;\n\n\t\t\t\t\tlet iconClassName = 'ae-icon-' + buttonDisplayName;\n\n\t\t\t\t\tlet iconStyle = {};\n\n\t\t\t\t\tlet cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tbuttonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tlet cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\taria-label={buttonLabel}\n\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\tdata-type={buttonType}\n\t\t\t\t\t\t\tonClick={this._handleClick}\n\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\ttitle={buttonLabel}>\n\t\t\t\t\t\t\t<span className={iconClassName} style={iconStyle} />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_handleClick = () => {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet buttonCommand =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].command;\n\n\t\t\t\t\tlet buttonOnClick =\n\t\t\t\t\t\tBUTTON_DEFS[editor.name][buttonName].onClick;\n\n\t\t\t\t\tif (buttonOnClick) {\n\t\t\t\t\t\tbuttonOnClick.call(this);\n\t\t\t\t\t} else {\n\t\t\t\t\t\teditor.execCommand(buttonCommand);\n\t\t\t\t\t}\n\n\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[buttonName] = ButtonBridge;\n\t\t}\n\n\t\treturn ButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('button')) {\n\t\tCKEDITOR.UI_BUTTON = 'button';\n\n\t\tCKEDITOR.plugins.add('button', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Button plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_BUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_buttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_buttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addButton = function(buttonName, buttonDefinition) {\n\t\t\t\tthis.add(buttonName, CKEDITOR.UI_BUTTON, buttonDefinition);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_BUTTON, {\n\t\t\t\tadd: generateButtonBridge,\n\t\t\t\tcreate: function(buttonDefinition) {\n\t\t\t\t\tlet buttonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet ButtonBridge = generateButtonBridge(\n\t\t\t\t\t\tbuttonName,\n\t\t\t\t\t\tbuttonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new ButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n})();\n","/** @license React v16.7.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var k=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.concurrent_mode\"):60111,y=n?Symbol.for(\"react.forward_ref\"):60112,z=n?Symbol.for(\"react.suspense\"):60113,A=n?Symbol.for(\"react.memo\"):\n60115,B=n?Symbol.for(\"react.lazy\"):60116,C=\"function\"===typeof Symbol&&Symbol.iterator;function aa(a,b,e,c,d,g,h,f){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var l=[e,c,d,g,h,f],m=0;a=Error(b.replace(/%s/g,function(){return l[m++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction D(a){for(var b=arguments.length-1,e=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=0;c<b;c++)e+=\"&args[]=\"+encodeURIComponent(arguments[c+1]);aa(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",e)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F={};\nfunction G(a,b,e){this.props=a;this.context=b;this.refs=F;this.updater=e||E}G.prototype.isReactComponent={};G.prototype.setState=function(a,b){\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a?D(\"85\"):void 0;this.updater.enqueueSetState(this,a,b,\"setState\")};G.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function H(){}H.prototype=G.prototype;function I(a,b,e){this.props=a;this.context=b;this.refs=F;this.updater=e||E}var J=I.prototype=new H;\nJ.constructor=I;k(J,G.prototype);J.isPureReactComponent=!0;var K={current:null,currentDispatcher:null},L=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};\nfunction N(a,b,e){var c=void 0,d={},g=null,h=null;if(null!=b)for(c in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)L.call(b,c)&&!M.hasOwnProperty(c)&&(d[c]=b[c]);var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){for(var l=Array(f),m=0;m<f;m++)l[m]=arguments[m+2];d.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps,f)void 0===d[c]&&(d[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:h,props:d,_owner:K.current}}\nfunction ba(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g,Q=[];function R(a,b,e,c){if(Q.length){var d=Q.pop();d.result=a;d.keyPrefix=b;d.func=e;d.context=c;d.count=0;return d}return{result:a,keyPrefix:b,func:e,context:c,count:0}}\nfunction S(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>Q.length&&Q.push(a)}\nfunction T(a,b,e,c){var d=typeof a;if(\"undefined\"===d||\"boolean\"===d)a=null;var g=!1;if(null===a)g=!0;else switch(d){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return e(c,a,\"\"===b?\".\"+U(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var h=0;h<a.length;h++){d=a[h];var f=b+U(d,h);g+=T(d,f,e,c)}else if(null===a||\"object\"!==typeof a?f=null:(f=C&&a[C]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),h=\n0;!(d=a.next()).done;)d=d.value,f=b+U(d,h++),g+=T(d,f,e,c);else\"object\"===d&&(e=\"\"+a,D(\"31\",\"[object Object]\"===e?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":e,\"\"));return g}function V(a,b,e){return null==a?0:T(a,\"\",b,e)}function U(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function ca(a,b){a.func.call(a.context,b,a.count++)}\nfunction da(a,b,e){var c=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?W(a,c,e,function(a){return a}):null!=a&&(O(a)&&(a=ba(a,d+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(P,\"$&/\")+\"/\")+e)),c.push(a))}function W(a,b,e,c,d){var g=\"\";null!=e&&(g=(\"\"+e).replace(P,\"$&/\")+\"/\");b=R(b,g,c,d);V(a,da,b);S(b)}\nvar X={Children:{map:function(a,b,e){if(null==a)return a;var c=[];W(a,c,null,b,e);return c},forEach:function(a,b,e){if(null==a)return a;b=R(null,null,b,e);V(a,ca,b);S(b)},count:function(a){return V(a,function(){return null},null)},toArray:function(a){var b=[];W(a,b,null,function(a){return a});return b},only:function(a){O(a)?void 0:D(\"143\");return a}},createRef:function(){return{current:null}},Component:G,PureComponent:I,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,\n_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:y,render:a}},lazy:function(a){return{$$typeof:B,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:A,type:a,compare:void 0===b?null:b}},Fragment:r,StrictMode:t,Suspense:z,createElement:N,cloneElement:function(a,b,e){null===a||void 0===a?D(\"267\",a):void 0;var c=void 0,d=k({},a.props),g=a.key,h=a.ref,f=a._owner;\nif(null!=b){void 0!==b.ref&&(h=b.ref,f=K.current);void 0!==b.key&&(g=\"\"+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(c in b)L.call(b,c)&&!M.hasOwnProperty(c)&&(d[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}c=arguments.length-2;if(1===c)d.children=e;else if(1<c){l=Array(c);for(var m=0;m<c;m++)l[m]=arguments[m+2];d.children=l}return{$$typeof:p,type:a.type,key:g,ref:h,props:d,_owner:f}},createFactory:function(a){var b=N.bind(null,a);b.type=a;return b},isValidElement:O,version:\"16.7.0\",\nunstable_ConcurrentMode:x,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:K,assign:k}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z;\n","import ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport React from 'react';\n\n(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_menubuttonbridge')) {\n\t\treturn;\n\t}\n\n\tlet MENUBUTTON_DEFS = {};\n\n\t/**\n\t * Generates a MenuButtonBridge React class for a given menuButton definition if it has not been\n\t * already created based on the button name and definition.\n\t *\n\t * @private\n\t * @method generateMenuButtonBridge\n\t * @param {String} menuButtonName The menuButton's name\n\t * @param {Object} menuButtonDefinition The menuButton's definition\n\t * @return {Object} The generated or already existing React MenuButton Class\n\t */\n\tfunction generateMenuButtonBridge(\n\t\tmenuButtonName,\n\t\tmenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet MenuButtonBridge = AlloyEditor.Buttons[menuButtonName];\n\n\t\tMENUBUTTON_DEFS[editor.name] = MENUBUTTON_DEFS[editor.name] || {};\n\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] =\n\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName] ||\n\t\t\tmenuButtonDefinition;\n\n\t\tif (!MenuButtonBridge) {\n\t\t\tMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic displayName = menuButtonName;\n\n\t\t\t\tstatic key = menuButtonName;\n\n\t\t\t\t// API not yet implemented inside the menubutton\n\t\t\t\t// bridge. By mocking the unsupported method, we prevent\n\t\t\t\t// plugins from crashing if they make use of it.\n\t\t\t\ttoFeature() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet panelMenuButtonDisplayName =\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].name ||\n\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName].command ||\n\t\t\t\t\t\tmenuButtonName;\n\n\t\t\t\t\tlet buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tlet iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tlet iconStyle = {};\n\n\t\t\t\t\tlet cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tlet cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tMENUBUTTON_DEFS[editor.name][menuButtonName]\n\t\t\t\t\t\t\t\t\t\t.label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getMenuItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getMenuItems() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\t\t\t\t\tlet items = menuButtonDefinition.onMenu();\n\t\t\t\t\tlet menuItems = Object.keys(items).map(function(key) {\n\t\t\t\t\t\tlet menuItem = editor.getMenuItem(key);\n\n\t\t\t\t\t\tif (!menuItem) {\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet menuItemDefinition =\n\t\t\t\t\t\t\tmenuItem.definition || menuItem;\n\t\t\t\t\t\tlet menuItemState = items[key];\n\n\t\t\t\t\t\tlet className =\n\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t(menuItemState === CKEDITOR.TRISTATE_ON\n\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t: '');\n\t\t\t\t\t\tlet disabled =\n\t\t\t\t\t\t\tmenuItemState === CKEDITOR.TRISTATE_DISABLED;\n\t\t\t\t\t\tlet onClick = function() {\n\t\t\t\t\t\t\tif (menuItemDefinition.command) {\n\t\t\t\t\t\t\t\teditor.execCommand(menuItemDefinition.command);\n\t\t\t\t\t\t\t} else if (menuItemDefinition.onClick) {\n\t\t\t\t\t\t\t\tmenuItemDefinition.onClick.apply(\n\t\t\t\t\t\t\t\t\tmenuItemDefinition\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li key={menuItem.name} role=\"option\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\t\t\tonClick={onClick}>\n\t\t\t\t\t\t\t\t\t{menuItemDefinition.label}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn menuItems;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[menuButtonName] = MenuButtonBridge;\n\t\t}\n\n\t\treturn MenuButtonBridge;\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('menubutton')) {\n\t\tCKEDITOR.UI_MENU_BUTTON = 'menubutton';\n\n\t\tCKEDITOR.plugins.add('menubutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor MenuButton plugin. It takes over the\n\t * responsibility of registering and creating menuButtons via:\n\t * - editor.ui.addMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_MENUBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @requires CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubuttonbridge', {\n\t\trequires: ['ae_uibridge', 'ae_menubridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_MENUBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addMenuButton = function(\n\t\t\t\tmenuButtonName,\n\t\t\t\tmenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tmenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_MENUBUTTON,\n\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_MENUBUTTON, {\n\t\t\t\tadd: generateMenuButtonBridge,\n\t\t\t\tcreate: function(menuButtonDefinition) {\n\t\t\t\t\tlet menuButtonName =\n\t\t\t\t\t\t'buttonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet MenuButtonBridge = generateMenuButtonBridge(\n\t\t\t\t\t\tmenuButtonName,\n\t\t\t\t\t\tmenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new MenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n})();\n","/** @license React v16.7.0\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),n=require(\"object-assign\"),ba=require(\"scheduler\");function ca(a,b,c,d,e,f,g,h){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var k=[c,d,e,f,g,h],l=0;a=Error(b.replace(/%s/g,function(){return k[l++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction t(a){for(var b=arguments.length-1,c=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,d=0;d<b;d++)c+=\"&args[]=\"+encodeURIComponent(arguments[d+1]);ca(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",c)}aa?void 0:t(\"227\");function da(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}\nvar ea=!1,fa=null,ha=!1,ia=null,ja={onError:function(a){ea=!0;fa=a}};function ka(a,b,c,d,e,f,g,h,k){ea=!1;fa=null;da.apply(ja,arguments)}function la(a,b,c,d,e,f,g,h,k){ka.apply(this,arguments);if(ea){if(ea){var l=fa;ea=!1;fa=null}else t(\"198\"),l=void 0;ha||(ha=!0,ia=l)}}var ma=null,na={};\nfunction oa(){if(ma)for(var a in na){var b=na[a],c=ma.indexOf(a);-1<c?void 0:t(\"96\",a);if(!pa[c]){b.extractEvents?void 0:t(\"97\",a);pa[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;qa.hasOwnProperty(h)?t(\"99\",h):void 0;qa[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&ra(k[e],g,h);e=!0}else f.registrationName?(ra(f.registrationName,g,h),e=!0):e=!1;e?void 0:t(\"98\",d,a)}}}}\nfunction ra(a,b,c){sa[a]?t(\"100\",a):void 0;sa[a]=b;ta[a]=b.eventTypes[c].dependencies}var pa=[],qa={},sa={},ta={},ua=null,va=null,wa=null;function xa(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=wa(c);la(d,b,void 0,a);a.currentTarget=null}function ya(a,b){null==b?t(\"30\"):void 0;if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}\nfunction za(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var Aa=null;function Ba(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)xa(a,b[d],c[d]);else b&&xa(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}\nvar Ca={injectEventPluginOrder:function(a){ma?t(\"101\"):void 0;ma=Array.prototype.slice.call(a);oa()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];na.hasOwnProperty(c)&&na[c]===d||(na[c]?t(\"102\",c):void 0,na[c]=d,b=!0)}b&&oa()}};\nfunction Da(a,b){var c=a.stateNode;if(!c)return null;var d=ua(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;c&&\"function\"!==typeof c?t(\"231\",b,typeof c):void 0;\nreturn c}function Ea(a){null!==a&&(Aa=ya(Aa,a));a=Aa;Aa=null;if(a&&(za(a,Ba),Aa?t(\"95\"):void 0,ha))throw a=ia,ha=!1,ia=null,a;}var Fa=Math.random().toString(36).slice(2),Ga=\"__reactInternalInstance$\"+Fa,Ha=\"__reactEventHandlers$\"+Fa;function Ia(a){if(a[Ga])return a[Ga];for(;!a[Ga];)if(a.parentNode)a=a.parentNode;else return null;a=a[Ga];return 5===a.tag||6===a.tag?a:null}function Ja(a){a=a[Ga];return!a||5!==a.tag&&6!==a.tag?null:a}\nfunction Ka(a){if(5===a.tag||6===a.tag)return a.stateNode;t(\"33\")}function La(a){return a[Ha]||null}function Ma(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function Na(a,b,c){if(b=Da(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=ya(c._dispatchListeners,b),c._dispatchInstances=ya(c._dispatchInstances,a)}\nfunction Oa(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Ma(b);for(b=c.length;0<b--;)Na(c[b],\"captured\",a);for(b=0;b<c.length;b++)Na(c[b],\"bubbled\",a)}}function Pa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Da(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=ya(c._dispatchListeners,b),c._dispatchInstances=ya(c._dispatchInstances,a))}function Qa(a){a&&a.dispatchConfig.registrationName&&Pa(a._targetInst,null,a)}\nfunction Ra(a){za(a,Oa)}var Sa=!(\"undefined\"===typeof window||!window.document||!window.document.createElement);function Ta(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Ua={animationend:Ta(\"Animation\",\"AnimationEnd\"),animationiteration:Ta(\"Animation\",\"AnimationIteration\"),animationstart:Ta(\"Animation\",\"AnimationStart\"),transitionend:Ta(\"Transition\",\"TransitionEnd\")},Va={},Wa={};\nSa&&(Wa=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),\"TransitionEvent\"in window||delete Ua.transitionend.transition);function Xa(a){if(Va[a])return Va[a];if(!Ua[a])return a;var b=Ua[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Wa)return Va[a]=b[c];return a}\nvar Ya=Xa(\"animationend\"),Za=Xa(\"animationiteration\"),$a=Xa(\"animationstart\"),ab=Xa(\"transitionend\"),bb=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),cb=null,eb=null,fb=null;\nfunction gb(){if(fb)return fb;var a,b=eb,c=b.length,d,e=\"value\"in cb?cb.value:cb.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return fb=e.slice(a,1<d?1-d:void 0)}function hb(){return!0}function ib(){return!1}\nfunction z(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?hb:ib;this.isPropagationStopped=ib;return this}\nn(z.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=hb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=hb)},persist:function(){this.isPersistent=hb},isPersistent:ib,destructor:function(){var a=this.constructor.Interface,\nb;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=ib;this._dispatchInstances=this._dispatchListeners=null}});z.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\nz.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;n(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=n({},d.Interface,a);c.extend=d.extend;jb(c);return c};jb(z);function kb(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function lb(a){a instanceof this?void 0:t(\"279\");a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}\nfunction jb(a){a.eventPool=[];a.getPooled=kb;a.release=lb}var mb=z.extend({data:null}),nb=z.extend({data:null}),ob=[9,13,27,32],pb=Sa&&\"CompositionEvent\"in window,qb=null;Sa&&\"documentMode\"in document&&(qb=document.documentMode);\nvar rb=Sa&&\"TextEvent\"in window&&!qb,sb=Sa&&(!pb||qb&&8<qb&&11>=qb),tb=String.fromCharCode(32),ub={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},vb=!1;\nfunction wb(a,b){switch(a){case \"keyup\":return-1!==ob.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"blur\":return!0;default:return!1}}function xb(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var yb=!1;function zb(a,b){switch(a){case \"compositionend\":return xb(b);case \"keypress\":if(32!==b.which)return null;vb=!0;return tb;case \"textInput\":return a=b.data,a===tb&&vb?null:a;default:return null}}\nfunction Ab(a,b){if(yb)return\"compositionend\"===a||!pb&&wb(a,b)?(a=gb(),fb=eb=cb=null,yb=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return sb&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar Bb={eventTypes:ub,extractEvents:function(a,b,c,d){var e=void 0;var f=void 0;if(pb)b:{switch(a){case \"compositionstart\":e=ub.compositionStart;break b;case \"compositionend\":e=ub.compositionEnd;break b;case \"compositionupdate\":e=ub.compositionUpdate;break b}e=void 0}else yb?wb(a,c)&&(e=ub.compositionEnd):\"keydown\"===a&&229===c.keyCode&&(e=ub.compositionStart);e?(sb&&\"ko\"!==c.locale&&(yb||e!==ub.compositionStart?e===ub.compositionEnd&&yb&&(f=gb()):(cb=d,eb=\"value\"in cb?cb.value:cb.textContent,yb=\n!0)),e=mb.getPooled(e,b,c,d),f?e.data=f:(f=xb(c),null!==f&&(e.data=f)),Ra(e),f=e):f=null;(a=rb?zb(a,c):Ab(a,c))?(b=nb.getPooled(ub.beforeInput,b,c,d),b.data=a,Ra(b)):b=null;return null===f?b:null===b?f:[f,b]}},Cb=null,Db=null,Eb=null;function Hb(a){if(a=va(a)){\"function\"!==typeof Cb?t(\"280\"):void 0;var b=ua(a.stateNode);Cb(a.stateNode,a.type,b)}}function Ib(a){Db?Eb?Eb.push(a):Eb=[a]:Db=a}function Jb(){if(Db){var a=Db,b=Eb;Eb=Db=null;Hb(a);if(b)for(a=0;a<b.length;a++)Hb(b[a])}}\nfunction Kb(a,b){return a(b)}function Lb(a,b,c){return a(b,c)}function Mb(){}var Nb=!1;function Ob(a,b){if(Nb)return a(b);Nb=!0;try{return Kb(a,b)}finally{if(Nb=!1,null!==Db||null!==Eb)Mb(),Jb()}}var Pb={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qb(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!Pb[a.type]:\"textarea\"===b?!0:!1}\nfunction Rb(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Sb(a){if(!Sa)return!1;a=\"on\"+a;var b=a in document;b||(b=document.createElement(\"div\"),b.setAttribute(a,\"return;\"),b=\"function\"===typeof b[a]);return b}function Tb(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction Ub(a){var b=Tb(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function Vb(a){a._valueTracker||(a._valueTracker=Ub(a))}function Wb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=Tb(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}\nvar Xb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yb=/^(.*)[\\\\\\/]/,D=\"function\"===typeof Symbol&&Symbol.for,Zb=D?Symbol.for(\"react.element\"):60103,$b=D?Symbol.for(\"react.portal\"):60106,ac=D?Symbol.for(\"react.fragment\"):60107,bc=D?Symbol.for(\"react.strict_mode\"):60108,cc=D?Symbol.for(\"react.profiler\"):60114,dc=D?Symbol.for(\"react.provider\"):60109,ec=D?Symbol.for(\"react.context\"):60110,fc=D?Symbol.for(\"react.concurrent_mode\"):60111,gc=D?Symbol.for(\"react.forward_ref\"):60112,hc=D?Symbol.for(\"react.suspense\"):\n60113,ic=D?Symbol.for(\"react.memo\"):60115,jc=D?Symbol.for(\"react.lazy\"):60116,kc=\"function\"===typeof Symbol&&Symbol.iterator;function lc(a){if(null===a||\"object\"!==typeof a)return null;a=kc&&a[kc]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction mc(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case fc:return\"ConcurrentMode\";case ac:return\"Fragment\";case $b:return\"Portal\";case cc:return\"Profiler\";case bc:return\"StrictMode\";case hc:return\"Suspense\"}if(\"object\"===typeof a)switch(a.$$typeof){case ec:return\"Context.Consumer\";case dc:return\"Context.Provider\";case gc:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\n\")\":\"ForwardRef\");case ic:return mc(a.type);case jc:if(a=1===a._status?a._result:null)return mc(a)}return null}function nc(a){var b=\"\";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c=\"\";break a;default:var d=a._debugOwner,e=a._debugSource,f=mc(a.type);c=null;d&&(c=mc(d.type));d=f;f=\"\";e?f=\" (at \"+e.fileName.replace(Yb,\"\")+\":\"+e.lineNumber+\")\":c&&(f=\" (created by \"+c+\")\");c=\"\\n    in \"+(d||\"Unknown\")+f}b+=c;a=a.return}while(a);return b}\nvar oc=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,pc=Object.prototype.hasOwnProperty,qc={},rc={};\nfunction sc(a){if(pc.call(rc,a))return!0;if(pc.call(qc,a))return!1;if(oc.test(a))return rc[a]=!0;qc[a]=!0;return!1}function tc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction uc(a,b,c,d){if(null===b||\"undefined\"===typeof b||tc(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function E(a,b,c,d,e){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b}var F={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){F[a]=new E(a,0,!1,a,null)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];F[b]=new E(b,1,!1,a[1],null)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){F[a]=new E(a,2,!1,a.toLowerCase(),null)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){F[a]=new E(a,2,!1,a,null)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){F[a]=new E(a,3,!1,a.toLowerCase(),null)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){F[a]=new E(a,3,!0,a,null)});\n[\"capture\",\"download\"].forEach(function(a){F[a]=new E(a,4,!1,a,null)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){F[a]=new E(a,6,!1,a,null)});[\"rowSpan\",\"start\"].forEach(function(a){F[a]=new E(a,5,!1,a.toLowerCase(),null)});var vc=/[\\-:]([a-z])/g;function wc(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(vc,\nwc);F[b]=new E(b,1,!1,a,null)});\"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(vc,wc);F[b]=new E(b,1,!1,a,\"http://www.w3.org/1999/xlink\")});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(vc,wc);F[b]=new E(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\")});F.tabIndex=new E(\"tabIndex\",1,!1,\"tabindex\",null);\nfunction xc(a,b,c,d){var e=F.hasOwnProperty(b)?F[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(uc(b,c,e,d)&&(c=null),d||null===e?sc(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nfunction yc(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}function zc(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}\nfunction Ac(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=yc(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function Bc(a,b){b=b.checked;null!=b&&xc(a,\"checked\",b,!1)}\nfunction Cc(a,b){Bc(a,b);var c=yc(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?Dc(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&Dc(a,b.type,yc(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction Ec(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction Dc(a,b,c){if(\"number\"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}var Fc={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function Gc(a,b,c){a=z.getPooled(Fc.change,a,b,c);a.type=\"change\";Ib(c);Ra(a);return a}var Jc=null,Kc=null;function Lc(a){Ea(a)}\nfunction Mc(a){var b=Ka(a);if(Wb(b))return a}function Nc(a,b){if(\"change\"===a)return b}var Oc=!1;Sa&&(Oc=Sb(\"input\")&&(!document.documentMode||9<document.documentMode));function Pc(){Jc&&(Jc.detachEvent(\"onpropertychange\",Qc),Kc=Jc=null)}function Qc(a){\"value\"===a.propertyName&&Mc(Kc)&&(a=Gc(Kc,a,Rb(a)),Ob(Lc,a))}function Rc(a,b,c){\"focus\"===a?(Pc(),Jc=b,Kc=c,Jc.attachEvent(\"onpropertychange\",Qc)):\"blur\"===a&&Pc()}function Sc(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return Mc(Kc)}\nfunction Tc(a,b){if(\"click\"===a)return Mc(b)}function Uc(a,b){if(\"input\"===a||\"change\"===a)return Mc(b)}\nvar Vc={eventTypes:Fc,_isInputEventSupported:Oc,extractEvents:function(a,b,c,d){var e=b?Ka(b):window,f=void 0,g=void 0,h=e.nodeName&&e.nodeName.toLowerCase();\"select\"===h||\"input\"===h&&\"file\"===e.type?f=Nc:Qb(e)?Oc?f=Uc:(f=Sc,g=Rc):(h=e.nodeName)&&\"input\"===h.toLowerCase()&&(\"checkbox\"===e.type||\"radio\"===e.type)&&(f=Tc);if(f&&(f=f(a,b)))return Gc(f,c,d);g&&g(a,e,b);\"blur\"===a&&(a=e._wrapperState)&&a.controlled&&\"number\"===e.type&&Dc(e,\"number\",e.value)}},Wc=z.extend({view:null,detail:null}),Xc={Alt:\"altKey\",\nControl:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function Yc(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Xc[a])?!!b[a]:!1}function Zc(){return Yc}\nvar $c=0,ad=0,bd=!1,cd=!1,dd=Wc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if(\"movementX\"in a)return a.movementX;var b=$c;$c=a.screenX;return bd?\"mousemove\"===a.type?a.screenX-b:0:(bd=!0,0)},movementY:function(a){if(\"movementY\"in a)return a.movementY;\nvar b=ad;ad=a.screenY;return cd?\"mousemove\"===a.type?a.screenY-b:0:(cd=!0,0)}}),ed=dd.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),fd={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",\ndependencies:[\"pointerout\",\"pointerover\"]}},gd={eventTypes:fd,extractEvents:function(a,b,c,d){var e=\"mouseover\"===a||\"pointerover\"===a,f=\"mouseout\"===a||\"pointerout\"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;f?(f=b,b=(b=c.relatedTarget||c.toElement)?Ia(b):null):f=null;if(f===b)return null;var g=void 0,h=void 0,k=void 0,l=void 0;if(\"mouseout\"===a||\"mouseover\"===a)g=dd,h=fd.mouseLeave,k=fd.mouseEnter,l=\"mouse\";\nelse if(\"pointerout\"===a||\"pointerover\"===a)g=ed,h=fd.pointerLeave,k=fd.pointerEnter,l=\"pointer\";var m=null==f?e:Ka(f);e=null==b?e:Ka(b);a=g.getPooled(h,f,c,d);a.type=l+\"leave\";a.target=m;a.relatedTarget=e;c=g.getPooled(k,b,c,d);c.type=l+\"enter\";c.target=e;c.relatedTarget=m;d=b;if(f&&d)a:{b=f;e=d;l=0;for(g=b;g;g=Ma(g))l++;g=0;for(k=e;k;k=Ma(k))g++;for(;0<l-g;)b=Ma(b),l--;for(;0<g-l;)e=Ma(e),g--;for(;l--;){if(b===e||b===e.alternate)break a;b=Ma(b);e=Ma(e)}b=null}else b=null;e=b;for(b=[];f&&f!==e;){l=\nf.alternate;if(null!==l&&l===e)break;b.push(f);f=Ma(f)}for(f=[];d&&d!==e;){l=d.alternate;if(null!==l&&l===e)break;f.push(d);d=Ma(d)}for(d=0;d<b.length;d++)Pa(b[d],\"bubbled\",a);for(d=f.length;0<d--;)Pa(f[d],\"captured\",c);return[a,c]}},hd=Object.prototype.hasOwnProperty;function id(a,b){return a===b?0!==a||0!==b||1/a===1/b:a!==a&&b!==b}\nfunction jd(a,b){if(id(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!hd.call(b,c[d])||!id(a[c[d]],b[c[d]]))return!1;return!0}function kd(a){var b=a;if(a.alternate)for(;b.return;)b=b.return;else{if(0!==(b.effectTag&2))return 1;for(;b.return;)if(b=b.return,0!==(b.effectTag&2))return 1}return 3===b.tag?2:3}function ld(a){2!==kd(a)?t(\"188\"):void 0}\nfunction md(a){var b=a.alternate;if(!b)return b=kd(a),3===b?t(\"188\"):void 0,1===b?null:a;for(var c=a,d=b;;){var e=c.return,f=e?e.alternate:null;if(!e||!f)break;if(e.child===f.child){for(var g=e.child;g;){if(g===c)return ld(e),a;if(g===d)return ld(e),b;g=g.sibling}t(\"188\")}if(c.return!==d.return)c=e,d=f;else{g=!1;for(var h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===c){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}g?\nvoid 0:t(\"189\")}}c.alternate!==d?t(\"190\"):void 0}3!==c.tag?t(\"188\"):void 0;return c.stateNode.current===c?a:b}function nd(a){a=md(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nvar od=z.extend({animationName:null,elapsedTime:null,pseudoElement:null}),pd=z.extend({clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),qd=Wc.extend({relatedTarget:null});function rd(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}\nvar sd={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},td={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},ud=Wc.extend({key:function(a){if(a.key){var b=sd[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=rd(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?td[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zc,charCode:function(a){return\"keypress\"===\na.type?rd(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===a.type?rd(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),vd=dd.extend({dataTransfer:null}),wd=Wc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zc}),xd=z.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yd=dd.extend({deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in\na?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),zd=[[\"abort\",\"abort\"],[Ya,\"animationEnd\"],[Za,\"animationIteration\"],[$a,\"animationStart\"],[\"canplay\",\"canPlay\"],[\"canplaythrough\",\"canPlayThrough\"],[\"drag\",\"drag\"],[\"dragenter\",\"dragEnter\"],[\"dragexit\",\"dragExit\"],[\"dragleave\",\"dragLeave\"],[\"dragover\",\"dragOver\"],[\"durationchange\",\"durationChange\"],[\"emptied\",\"emptied\"],[\"encrypted\",\"encrypted\"],\n[\"ended\",\"ended\"],[\"error\",\"error\"],[\"gotpointercapture\",\"gotPointerCapture\"],[\"load\",\"load\"],[\"loadeddata\",\"loadedData\"],[\"loadedmetadata\",\"loadedMetadata\"],[\"loadstart\",\"loadStart\"],[\"lostpointercapture\",\"lostPointerCapture\"],[\"mousemove\",\"mouseMove\"],[\"mouseout\",\"mouseOut\"],[\"mouseover\",\"mouseOver\"],[\"playing\",\"playing\"],[\"pointermove\",\"pointerMove\"],[\"pointerout\",\"pointerOut\"],[\"pointerover\",\"pointerOver\"],[\"progress\",\"progress\"],[\"scroll\",\"scroll\"],[\"seeking\",\"seeking\"],[\"stalled\",\"stalled\"],\n[\"suspend\",\"suspend\"],[\"timeupdate\",\"timeUpdate\"],[\"toggle\",\"toggle\"],[\"touchmove\",\"touchMove\"],[ab,\"transitionEnd\"],[\"waiting\",\"waiting\"],[\"wheel\",\"wheel\"]],Ad={},Bd={};function Cd(a,b){var c=a[0];a=a[1];var d=\"on\"+(a[0].toUpperCase()+a.slice(1));b={phasedRegistrationNames:{bubbled:d,captured:d+\"Capture\"},dependencies:[c],isInteractive:b};Ad[a]=b;Bd[c]=b}\n[[\"blur\",\"blur\"],[\"cancel\",\"cancel\"],[\"click\",\"click\"],[\"close\",\"close\"],[\"contextmenu\",\"contextMenu\"],[\"copy\",\"copy\"],[\"cut\",\"cut\"],[\"auxclick\",\"auxClick\"],[\"dblclick\",\"doubleClick\"],[\"dragend\",\"dragEnd\"],[\"dragstart\",\"dragStart\"],[\"drop\",\"drop\"],[\"focus\",\"focus\"],[\"input\",\"input\"],[\"invalid\",\"invalid\"],[\"keydown\",\"keyDown\"],[\"keypress\",\"keyPress\"],[\"keyup\",\"keyUp\"],[\"mousedown\",\"mouseDown\"],[\"mouseup\",\"mouseUp\"],[\"paste\",\"paste\"],[\"pause\",\"pause\"],[\"play\",\"play\"],[\"pointercancel\",\"pointerCancel\"],\n[\"pointerdown\",\"pointerDown\"],[\"pointerup\",\"pointerUp\"],[\"ratechange\",\"rateChange\"],[\"reset\",\"reset\"],[\"seeked\",\"seeked\"],[\"submit\",\"submit\"],[\"touchcancel\",\"touchCancel\"],[\"touchend\",\"touchEnd\"],[\"touchstart\",\"touchStart\"],[\"volumechange\",\"volumeChange\"]].forEach(function(a){Cd(a,!0)});zd.forEach(function(a){Cd(a,!1)});\nvar Dd={eventTypes:Ad,isInteractiveTopLevelEventType:function(a){a=Bd[a];return void 0!==a&&!0===a.isInteractive},extractEvents:function(a,b,c,d){var e=Bd[a];if(!e)return null;switch(a){case \"keypress\":if(0===rd(c))return null;case \"keydown\":case \"keyup\":a=ud;break;case \"blur\":case \"focus\":a=qd;break;case \"click\":if(2===c.button)return null;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":a=dd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":a=\nvd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":a=wd;break;case Ya:case Za:case $a:a=od;break;case ab:a=xd;break;case \"scroll\":a=Wc;break;case \"wheel\":a=yd;break;case \"copy\":case \"cut\":case \"paste\":a=pd;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":a=ed;break;default:a=z}b=a.getPooled(e,b,c,d);Ra(b);return b}},Ed=Dd.isInteractiveTopLevelEventType,\nFd=[];function Gd(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo;if(!d)break;a.ancestors.push(c);c=Ia(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Rb(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=null,h=0;h<pa.length;h++){var k=pa[h];k&&(k=k.extractEvents(d,b,f,e))&&(g=ya(g,k))}Ea(g)}}var Hd=!0;\nfunction H(a,b){if(!b)return null;var c=(Ed(a)?Id:Jd).bind(null,a);b.addEventListener(a,c,!1)}function Kd(a,b){if(!b)return null;var c=(Ed(a)?Id:Jd).bind(null,a);b.addEventListener(a,c,!0)}function Id(a,b){Lb(Jd,a,b)}\nfunction Jd(a,b){if(Hd){var c=Rb(b);c=Ia(c);null===c||\"number\"!==typeof c.tag||2===kd(c)||(c=null);if(Fd.length){var d=Fd.pop();d.topLevelType=a;d.nativeEvent=b;d.targetInst=c;a=d}else a={topLevelType:a,nativeEvent:b,targetInst:c,ancestors:[]};try{Ob(Gd,a)}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Fd.length&&Fd.push(a)}}}var Ld={},Md=0,Nd=\"_reactListenersID\"+(\"\"+Math.random()).slice(2);\nfunction Od(a){Object.prototype.hasOwnProperty.call(a,Nd)||(a[Nd]=Md++,Ld[a[Nd]]={});return Ld[a[Nd]]}function Pd(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Qd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}\nfunction Rd(a,b){var c=Qd(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Qd(c)}}function Sd(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?Sd(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}\nfunction Td(){for(var a=window,b=Pd();b instanceof a.HTMLIFrameElement;){try{a=b.contentDocument.defaultView}catch(c){break}b=Pd(a.document)}return b}function Ud(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}\nvar Vd=Sa&&\"documentMode\"in document&&11>=document.documentMode,Wd={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},Xd=null,Yd=null,Zd=null,$d=!1;\nfunction ae(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if($d||null==Xd||Xd!==Pd(c))return null;c=Xd;\"selectionStart\"in c&&Ud(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return Zd&&jd(Zd,c)?null:(Zd=c,a=z.getPooled(Wd.select,Yd,a,b),a.type=\"select\",a.target=Xd,Ra(a),a)}\nvar be={eventTypes:Wd,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=Od(e);f=ta.onSelect;for(var g=0;g<f.length;g++){var h=f[g];if(!e.hasOwnProperty(h)||!e[h]){e=!1;break a}}e=!0}f=!e}if(f)return null;e=b?Ka(b):window;switch(a){case \"focus\":if(Qb(e)||\"true\"===e.contentEditable)Xd=e,Yd=b,Zd=null;break;case \"blur\":Zd=Yd=Xd=null;break;case \"mousedown\":$d=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":return $d=!1,ae(c,d);case \"selectionchange\":if(Vd)break;\ncase \"keydown\":case \"keyup\":return ae(c,d)}return null}};Ca.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));ua=La;va=Ja;wa=Ka;Ca.injectEventPluginsByName({SimpleEventPlugin:Dd,EnterLeaveEventPlugin:gd,ChangeEventPlugin:Vc,SelectEventPlugin:be,BeforeInputEventPlugin:Bb});function de(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}\nfunction ee(a,b){a=n({children:void 0},b);if(b=de(b.children))a.children=b;return a}function fe(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+yc(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction ge(a,b){null!=b.dangerouslySetInnerHTML?t(\"91\"):void 0;return n({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function he(a,b){var c=b.value;null==c&&(c=b.defaultValue,b=b.children,null!=b&&(null!=c?t(\"92\"):void 0,Array.isArray(b)&&(1>=b.length?void 0:t(\"93\"),b=b[0]),c=b),null==c&&(c=\"\"));a._wrapperState={initialValue:yc(c)}}\nfunction ie(a,b){var c=yc(b.value),d=yc(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function je(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}var ke={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction le(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function me(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?le(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar ne=void 0,oe=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==ke.svg||\"innerHTML\"in a)a.innerHTML=b;else{ne=ne||document.createElement(\"div\");ne.innerHTML=\"<svg>\"+b+\"</svg>\";for(b=ne.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction pe(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}\nvar qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},re=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(qe).forEach(function(a){re.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);qe[b]=qe[a]})});function se(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||qe.hasOwnProperty(a)&&qe[a]?(\"\"+b).trim():b+\"px\"}\nfunction te(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=se(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var ue=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction ve(a,b){b&&(ue[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML?t(\"137\",a,\"\"):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?t(\"60\"):void 0,\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML?void 0:t(\"61\")),null!=b.style&&\"object\"!==typeof b.style?t(\"62\",\"\"):void 0)}\nfunction we(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}\nfunction xe(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Od(a);b=ta[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.hasOwnProperty(e)||!c[e]){switch(e){case \"scroll\":Kd(\"scroll\",a);break;case \"focus\":case \"blur\":Kd(\"focus\",a);Kd(\"blur\",a);c.blur=!0;c.focus=!0;break;case \"cancel\":case \"close\":Sb(e)&&Kd(e,a);break;case \"invalid\":case \"submit\":case \"reset\":break;default:-1===bb.indexOf(e)&&H(e,a)}c[e]=!0}}}function ye(){}var ze=null,Ae=null;\nfunction Be(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}function Ce(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var De=\"function\"===typeof setTimeout?setTimeout:void 0,Ee=\"function\"===typeof clearTimeout?clearTimeout:void 0;\nfunction Fe(a,b,c,d,e){a[Ha]=e;\"input\"===c&&\"radio\"===e.type&&null!=e.name&&Bc(a,e);we(c,d);d=we(c,e);for(var f=0;f<b.length;f+=2){var g=b[f],h=b[f+1];\"style\"===g?te(a,h):\"dangerouslySetInnerHTML\"===g?oe(a,h):\"children\"===g?pe(a,h):xc(a,g,h,d)}switch(c){case \"input\":Cc(a,e);break;case \"textarea\":ie(a,e);break;case \"select\":b=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!e.multiple,c=e.value,null!=c?fe(a,!!e.multiple,c,!1):b!==!!e.multiple&&(null!=e.defaultValue?fe(a,!!e.multiple,e.defaultValue,\n!0):fe(a,!!e.multiple,e.multiple?[]:\"\",!1))}}function Ge(a){for(a=a.nextSibling;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}function He(a){for(a=a.firstChild;a&&1!==a.nodeType&&3!==a.nodeType;)a=a.nextSibling;return a}new Set;var Ie=[],Je=-1;function I(a){0>Je||(a.current=Ie[Je],Ie[Je]=null,Je--)}function J(a,b){Je++;Ie[Je]=a.current;a.current=b}var Ke={},K={current:Ke},L={current:!1},Le=Ke;\nfunction Me(a,b){var c=a.type.contextTypes;if(!c)return Ke;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function M(a){a=a.childContextTypes;return null!==a&&void 0!==a}function Ne(a){I(L,a);I(K,a)}function Oe(a){I(L,a);I(K,a)}\nfunction Pe(a,b,c){K.current!==Ke?t(\"168\"):void 0;J(K,b,a);J(L,c,a)}function Qe(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)e in a?void 0:t(\"108\",mc(b)||\"Unknown\",e);return n({},c,d)}function Re(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||Ke;Le=K.current;J(K,b,a);J(L,L.current,a);return!0}\nfunction Se(a,b,c){var d=a.stateNode;d?void 0:t(\"169\");c?(b=Qe(a,b,Le),d.__reactInternalMemoizedMergedChildContext=b,I(L,a),I(K,a),J(K,b,a)):I(L,a);J(L,c,a)}var Te=null,Ue=null;function Ve(a){return function(b){try{return a(b)}catch(c){}}}\nfunction We(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);Te=Ve(function(a){return b.onCommitFiberRoot(c,a)});Ue=Ve(function(a){return b.onCommitFiberUnmount(c,a)})}catch(d){}return!0}\nfunction Xe(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function N(a,b,c,d){return new Xe(a,b,c,d)}\nfunction Ye(a){a=a.prototype;return!(!a||!a.isReactComponent)}function Ze(a){if(\"function\"===typeof a)return Ye(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===gc)return 11;if(a===ic)return 14}return 2}\nfunction $e(a,b){var c=a.alternate;null===c?(c=N(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;c.firstContextDependency=a.firstContextDependency;c.sibling=a.sibling;\nc.index=a.index;c.ref=a.ref;return c}\nfunction af(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)Ye(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case ac:return bf(c.children,e,f,b);case fc:return cf(c,e|3,f,b);case bc:return cf(c,e|2,f,b);case cc:return a=N(12,c,b,e|4),a.elementType=cc,a.type=cc,a.expirationTime=f,a;case hc:return a=N(13,c,b,e),a.elementType=hc,a.type=hc,a.expirationTime=f,a;default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case dc:g=10;break a;case ec:g=9;break a;case gc:g=11;break a;case ic:g=\n14;break a;case jc:g=16;d=null;break a}t(\"130\",null==a?a:typeof a,\"\")}b=N(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function bf(a,b,c,d){a=N(7,a,d,b);a.expirationTime=c;return a}function cf(a,b,c,d){a=N(8,a,d,b);b=0===(b&1)?bc:fc;a.elementType=b;a.type=b;a.expirationTime=c;return a}function df(a,b,c){a=N(6,a,null,b);a.expirationTime=c;return a}\nfunction ef(a,b,c){b=N(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function ff(a,b){a.didError=!1;var c=a.earliestPendingTime;0===c?a.earliestPendingTime=a.latestPendingTime=b:c<b?a.earliestPendingTime=b:a.latestPendingTime>b&&(a.latestPendingTime=b);gf(b,a)}\nfunction hf(a,b){a.didError=!1;a.latestPingedTime>=b&&(a.latestPingedTime=0);var c=a.earliestPendingTime,d=a.latestPendingTime;c===b?a.earliestPendingTime=d===b?a.latestPendingTime=0:d:d===b&&(a.latestPendingTime=c);c=a.earliestSuspendedTime;d=a.latestSuspendedTime;0===c?a.earliestSuspendedTime=a.latestSuspendedTime=b:c<b?a.earliestSuspendedTime=b:d>b&&(a.latestSuspendedTime=b);gf(b,a)}function jf(a,b){var c=a.earliestPendingTime;a=a.earliestSuspendedTime;c>b&&(b=c);a>b&&(b=a);return b}\nfunction gf(a,b){var c=b.earliestSuspendedTime,d=b.latestSuspendedTime,e=b.earliestPendingTime,f=b.latestPingedTime;e=0!==e?e:f;0===e&&(0===a||d<a)&&(e=d);a=e;0!==a&&c>a&&(a=c);b.nextExpirationTimeToWorkOn=e;b.expirationTime=a}var kf=!1;function lf(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}\nfunction mf(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function nf(a){return{expirationTime:a,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function of(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}\nfunction pf(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=lf(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=lf(a.memoizedState),e=c.updateQueue=lf(c.memoizedState)):d=a.updateQueue=mf(e):null===e&&(e=c.updateQueue=mf(d));null===e||d===e?of(d,b):null===d.lastUpdate||null===e.lastUpdate?(of(d,b),of(e,b)):(of(d,b),e.lastUpdate=b)}\nfunction qf(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=lf(a.memoizedState):rf(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function rf(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=mf(b));return b}\nfunction sf(a,b,c,d,e,f){switch(c.tag){case 1:return a=c.payload,\"function\"===typeof a?a.call(f,d,e):a;case 3:a.effectTag=a.effectTag&-2049|64;case 0:a=c.payload;e=\"function\"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return n({},d,e);case 2:kf=!0}return d}\nfunction tf(a,b,c,d,e){kf=!1;b=rf(a,b);for(var f=b.baseState,g=null,h=0,k=b.firstUpdate,l=f;null!==k;){var m=k.expirationTime;m<e?(null===g&&(g=k,f=l),h<m&&(h=m)):(l=sf(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=k:(b.lastEffect.nextEffect=k,b.lastEffect=k)));k=k.next}m=null;for(k=b.firstCapturedUpdate;null!==k;){var r=k.expirationTime;r<e?(null===m&&(m=k,null===g&&(f=l)),h<r&&(h=r)):(l=sf(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=\n32,k.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=k:(b.lastCapturedEffect.nextEffect=k,b.lastCapturedEffect=k)));k=k.next}null===g&&(b.lastUpdate=null);null===m?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===m&&(f=l);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=m;a.expirationTime=h;a.memoizedState=l}\nfunction uf(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);vf(b.firstEffect,c);b.firstEffect=b.lastEffect=null;vf(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function vf(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;\"function\"!==typeof c?t(\"191\",c):void 0;c.call(d)}a=a.nextEffect}}\nfunction wf(a,b){return{value:a,source:b,stack:nc(b)}}var xf={current:null},yf=null,zf=null,Af=null;function Bf(a,b){var c=a.type._context;J(xf,c._currentValue,a);c._currentValue=b}function Cf(a){var b=xf.current;I(xf,a);a.type._context._currentValue=b}function Df(a){yf=a;Af=zf=null;a.firstContextDependency=null}\nfunction Ef(a,b){if(Af!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)Af=a,b=1073741823;b={context:a,observedBits:b,next:null};null===zf?(null===yf?t(\"293\"):void 0,yf.firstContextDependency=zf=b):zf=zf.next=b}return a._currentValue}var Ff={},O={current:Ff},Gf={current:Ff},Hf={current:Ff};function If(a){a===Ff?t(\"174\"):void 0;return a}\nfunction Jf(a,b){J(Hf,b,a);J(Gf,a,a);J(O,Ff,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:me(null,\"\");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=me(b,c)}I(O,a);J(O,b,a)}function Kf(a){I(O,a);I(Gf,a);I(Hf,a)}function Lf(a){If(Hf.current);var b=If(O.current);var c=me(b,a.type);b!==c&&(J(Gf,a,a),J(O,c,a))}function Mf(a){Gf.current===a&&(I(O,a),I(Gf,a))}\nfunction P(a,b){if(a&&a.defaultProps){b=n({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function Nf(a){var b=a._result;switch(a._status){case 1:return b;case 2:throw b;case 0:throw b;default:throw a._status=0,b=a._ctor,b=b(),b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)}),a._result=b,b;}}var Of=Xb.ReactCurrentOwner,Pf=(new aa.Component).refs;\nfunction Qf(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:n({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}\nvar Vf={isMounted:function(a){return(a=a._reactInternalFiber)?2===kd(a):!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=Rf();d=Sf(d,a);var e=nf(d);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Tf();pf(a,e);Uf(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=Rf();d=Sf(d,a);var e=nf(d);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Tf();pf(a,e);Uf(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=Rf();c=Sf(c,a);var d=nf(c);d.tag=\n2;void 0!==b&&null!==b&&(d.callback=b);Tf();pf(a,d);Uf(a,c)}};function Wf(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!jd(c,d)||!jd(e,f):!0}\nfunction Xf(a,b,c){var d=!1,e=Ke;var f=b.contextType;\"object\"===typeof f&&null!==f?f=Of.currentDispatcher.readContext(f):(e=M(b)?Le:K.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Me(a,e):Ke);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Vf;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Zf(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Vf.enqueueReplaceState(b,b.state,null)}\nfunction $f(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Pf;var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=Of.currentDispatcher.readContext(f):(f=M(b)?Le:K.current,e.context=Me(a,f));f=a.updateQueue;null!==f&&(tf(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Qf(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\n\"function\"!==typeof e.componentWillMount||(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Vf.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(tf(a,f,c,e,d),e.state=a.memoizedState));\"function\"===typeof e.componentDidMount&&(a.effectTag|=4)}var ag=Array.isArray;\nfunction bg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;var d=void 0;c&&(1!==c.tag?t(\"289\"):void 0,d=c.stateNode);d?void 0:t(\"147\",a);var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Pf&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}\"string\"!==typeof a?t(\"284\"):void 0;c._owner?void 0:t(\"290\",a)}return a}\nfunction cg(a,b){\"textarea\"!==a.type&&t(\"31\",\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\")}\nfunction dg(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=$e(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=\n2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=df(c,a.mode,d),b.return=a,b;b=e(b,c,d);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props,d),d.ref=bg(a,b,c),d.return=a,d;d=af(c.type,c.key,c.props,null,a.mode,d);d.ref=bg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==\nc.implementation)return b=ef(c,a.mode,d),b.return=a,b;b=e(b,c.children||[],d);b.return=a;return b}function m(a,b,c,d,g){if(null===b||7!==b.tag)return b=bf(c,a.mode,d,g),b.return=a,b;b=e(b,c,d);b.return=a;return b}function r(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=df(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Zb:return c=af(b.type,b.key,b.props,null,a.mode,c),c.ref=bg(a,null,b),c.return=a,c;case $b:return b=ef(b,a.mode,c),b.return=a,b}if(ag(b)||\nlc(b))return b=bf(b,a.mode,c,null),b.return=a,b;cg(a,b)}return null}function w(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Zb:return c.key===e?c.type===ac?m(a,b,c.props.children,d,e):k(a,b,c,d):null;case $b:return c.key===e?l(a,b,c,d):null}if(ag(c)||lc(c))return null!==e?null:m(a,b,c,d,null);cg(a,c)}return null}function y(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=\na.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Zb:return a=a.get(null===d.key?c:d.key)||null,d.type===ac?m(b,a,d.props.children,e,d.key):k(b,a,d,e);case $b:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(ag(d)||lc(d))return a=a.get(c)||null,m(b,a,d,e,null);cg(b,d)}return null}function B(e,g,h,k){for(var l=null,q=null,m=g,u=g=0,p=null;null!==m&&u<h.length;u++){m.index>u?(p=m,m=null):p=m.sibling;var v=w(e,m,h[u],k);if(null===v){null===m&&(m=p);break}a&&\nm&&null===v.alternate&&b(e,m);g=f(v,g,u);null===q?l=v:q.sibling=v;q=v;m=p}if(u===h.length)return c(e,m),l;if(null===m){for(;u<h.length;u++)if(m=r(e,h[u],k))g=f(m,g,u),null===q?l=m:q.sibling=m,q=m;return l}for(m=d(e,m);u<h.length;u++)if(p=y(m,e,u,h[u],k))a&&null!==p.alternate&&m.delete(null===p.key?u:p.key),g=f(p,g,u),null===q?l=p:q.sibling=p,q=p;a&&m.forEach(function(a){return b(e,a)});return l}function R(e,g,h,k){var l=lc(h);\"function\"!==typeof l?t(\"150\"):void 0;h=l.call(h);null==h?t(\"151\"):void 0;\nfor(var m=l=null,q=g,u=g=0,p=null,v=h.next();null!==q&&!v.done;u++,v=h.next()){q.index>u?(p=q,q=null):p=q.sibling;var A=w(e,q,v.value,k);if(null===A){q||(q=p);break}a&&q&&null===A.alternate&&b(e,q);g=f(A,g,u);null===m?l=A:m.sibling=A;m=A;q=p}if(v.done)return c(e,q),l;if(null===q){for(;!v.done;u++,v=h.next())v=r(e,v.value,k),null!==v&&(g=f(v,g,u),null===m?l=v:m.sibling=v,m=v);return l}for(q=d(e,q);!v.done;u++,v=h.next())v=y(q,e,u,v.value,k),null!==v&&(a&&null!==v.alternate&&q.delete(null===v.key?u:\nv.key),g=f(v,g,u),null===m?l=v:m.sibling=v,m=v);a&&q.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===ac&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Zb:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(7===k.tag?f.type===ac:k.elementType===f.type){c(a,k.sibling);d=e(k,f.type===ac?f.props.children:f.props,h);d.ref=bg(a,k,f);d.return=a;a=d;break a}else{c(a,k);break}else b(a,k);k=\nk.sibling}f.type===ac?(d=bf(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=af(f.type,f.key,f.props,null,a.mode,h),h.ref=bg(a,d,f),h.return=a,a=h)}return g(a);case $b:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=ef(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===typeof f||\"number\"===typeof f)return f=\n\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=df(f,a.mode,h),d.return=a,a=d),g(a);if(ag(f))return B(a,d,f,h);if(lc(f))return R(a,d,f,h);l&&cg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 0:h=a.type,t(\"152\",h.displayName||h.name||\"Component\")}return c(a,d)}}var eg=dg(!0),fg=dg(!1),gg=null,hg=null,ig=!1;\nfunction jg(a,b){var c=N(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function kg(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;default:return!1}}\nfunction lg(a){if(ig){var b=hg;if(b){var c=b;if(!kg(a,b)){b=Ge(c);if(!b||!kg(a,b)){a.effectTag|=2;ig=!1;gg=a;return}jg(gg,c)}gg=a;hg=He(b)}else a.effectTag|=2,ig=!1,gg=a}}function mg(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag;)a=a.return;gg=a}function ng(a){if(a!==gg)return!1;if(!ig)return mg(a),ig=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!Ce(b,a.memoizedProps))for(b=hg;b;)jg(a,b),b=Ge(b);mg(a);hg=gg?Ge(a.stateNode):null;return!0}function og(){hg=gg=null;ig=!1}var pg=Xb.ReactCurrentOwner;\nfunction Q(a,b,c,d){b.child=null===a?fg(b,null,c,d):eg(b,a.child,c,d)}function qg(a,b,c,d,e){c=c.render;var f=b.ref;Df(b,e);d=c(d,f);b.effectTag|=1;Q(a,b,d,e);return b.child}\nfunction rg(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!Ye(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,sg(a,b,g,d,e,f);a=af(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:jd,c(e,d)&&a.ref===b.ref))return tg(a,b,f);b.effectTag|=1;a=$e(g,d,f);a.ref=b.ref;a.return=b;return b.child=a}\nfunction sg(a,b,c,d,e,f){return null!==a&&e<f&&jd(a.memoizedProps,d)&&a.ref===b.ref?tg(a,b,f):ug(a,b,c,d,f)}function vg(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function ug(a,b,c,d,e){var f=M(c)?Le:K.current;f=Me(b,f);Df(b,e);c=c(d,f);b.effectTag|=1;Q(a,b,c,e);return b.child}\nfunction wg(a,b,c,d,e){if(M(c)){var f=!0;Re(b)}else f=!1;Df(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Xf(b,c,d,e),$f(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=Of.currentDispatcher.readContext(l):(l=M(c)?Le:K.current,l=Me(b,l));var m=c.getDerivedStateFromProps,r=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;r||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Zf(b,g,d,l);kf=!1;var w=b.memoizedState;k=g.state=w;var y=b.updateQueue;null!==y&&(tf(b,y,d,g,e),k=b.memoizedState);h!==d||w!==k||L.current||kf?(\"function\"===typeof m&&(Qf(b,c,m,d),k=b.memoizedState),(h=kf||Wf(b,c,h,d,w,k,l))?(r||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&\ng.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.effectTag|=4)):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:P(b.type,h),k=g.context,l=c.contextType,\"object\"===typeof l&&null!==l?l=Of.currentDispatcher.readContext(l):(l=M(c)?Le:K.current,l=Me(b,l)),m=c.getDerivedStateFromProps,\n(r=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Zf(b,g,d,l),kf=!1,k=b.memoizedState,w=g.state=k,y=b.updateQueue,null!==y&&(tf(b,y,d,g,e),w=b.memoizedState),h!==d||k!==w||L.current||kf?(\"function\"===typeof m&&(Qf(b,c,m,d),w=b.memoizedState),(m=kf||Wf(b,c,h,d,k,w,l))?(r||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||\n(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,w,l),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,w,l)),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),b.memoizedProps=\nd,b.memoizedState=w),g.props=d,g.state=w,g.context=l,d=m):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),d=!1);return xg(a,b,c,d,f,e)}\nfunction xg(a,b,c,d,e,f){vg(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Se(b,c,!1),tg(a,b,f);d=b.stateNode;pg.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=eg(b,a.child,null,f),b.child=eg(b,null,h,f)):Q(a,b,h,f);b.memoizedState=d.state;e&&Se(b,c,!0);return b.child}function yg(a){var b=a.stateNode;b.pendingContext?Pe(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Pe(a,b.context,!1);Jf(a,b.containerInfo)}\nfunction zg(a,b,c){var d=b.mode,e=b.pendingProps,f=b.memoizedState;if(0===(b.effectTag&64)){f=null;var g=!1}else f={timedOutAt:null!==f?f.timedOutAt:0},g=!0,b.effectTag&=-65;if(null===a)if(g){var h=e.fallback;a=bf(null,d,0,null);0===(b.mode&1)&&(a.child=null!==b.memoizedState?b.child.child:b.child);d=bf(h,d,c,null);a.sibling=d;c=a;c.return=d.return=b}else c=d=fg(b,null,e.children,c);else null!==a.memoizedState?(d=a.child,h=d.sibling,g?(c=e.fallback,e=$e(d,d.pendingProps,0),0===(b.mode&1)&&(g=null!==\nb.memoizedState?b.child.child:b.child,g!==d.child&&(e.child=g)),d=e.sibling=$e(h,c,h.expirationTime),c=e,e.childExpirationTime=0,c.return=d.return=b):c=d=eg(b,d.child,e.children,c)):(h=a.child,g?(g=e.fallback,e=bf(null,d,0,null),e.child=h,0===(b.mode&1)&&(e.child=null!==b.memoizedState?b.child.child:b.child),d=e.sibling=bf(g,d,c,null),d.effectTag|=2,c=e,e.childExpirationTime=0,c.return=d.return=b):d=c=eg(b,h,e.children,c)),b.stateNode=a.stateNode;b.memoizedState=f;b.child=c;return d}\nfunction tg(a,b,c){null!==a&&(b.firstContextDependency=a.firstContextDependency);if(b.childExpirationTime<c)return null;null!==a&&b.child!==a.child?t(\"153\"):void 0;if(null!==b.child){a=b.child;c=$e(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=$e(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}\nfunction Ag(a,b,c){var d=b.expirationTime;if(null!==a&&a.memoizedProps===b.pendingProps&&!L.current&&d<c){switch(b.tag){case 3:yg(b);og();break;case 5:Lf(b);break;case 1:M(b.type)&&Re(b);break;case 4:Jf(b,b.stateNode.containerInfo);break;case 10:Bf(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return zg(a,b,c);b=tg(a,b,c);return null!==b?b.sibling:null}}return tg(a,b,c)}b.expirationTime=0;switch(b.tag){case 2:d=b.elementType;null!==\na&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;var e=Me(b,K.current);Df(b,c);e=d(a,e);b.effectTag|=1;if(\"object\"===typeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;if(M(d)){var f=!0;Re(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Qf(b,d,g,a);e.updater=Vf;b.stateNode=e;e._reactInternalFiber=b;$f(b,d,a,c);b=xg(null,b,d,!0,f,c)}else b.tag=0,Q(null,b,e,c),b=b.child;\nreturn b;case 16:e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);f=b.pendingProps;a=Nf(e);b.type=a;e=b.tag=Ze(a);f=P(a,f);g=void 0;switch(e){case 0:g=ug(null,b,a,f,c);break;case 1:g=wg(null,b,a,f,c);break;case 11:g=qg(null,b,a,f,c);break;case 14:g=rg(null,b,a,P(a.type,f),d,c);break;default:t(\"306\",a,\"\")}return g;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),ug(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),wg(a,b,\nd,e,c);case 3:yg(b);d=b.updateQueue;null===d?t(\"282\"):void 0;e=b.memoizedState;e=null!==e?e.element:null;tf(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)og(),b=tg(a,b,c);else{e=b.stateNode;if(e=(null===a||null===a.child)&&e.hydrate)hg=He(b.stateNode.containerInfo),gg=b,e=ig=!0;e?(b.effectTag|=2,b.child=fg(b,null,d,c)):(Q(a,b,d,c),og());b=b.child}return b;case 5:return Lf(b),null===a&&lg(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,Ce(d,e)?g=null:null!==\nf&&Ce(d,f)&&(b.effectTag|=16),vg(a,b),1!==c&&b.mode&1&&e.hidden?(b.expirationTime=1,b=null):(Q(a,b,g,c),b=b.child),b;case 6:return null===a&&lg(b),null;case 13:return zg(a,b,c);case 4:return Jf(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=eg(b,null,d,c):Q(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),qg(a,b,d,e,c);case 7:return Q(a,b,b.pendingProps,c),b.child;case 8:return Q(a,b,b.pendingProps.children,c),b.child;case 12:return Q(a,b,b.pendingProps.children,\nc),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;g=b.memoizedProps;f=e.value;Bf(b,f);if(null!==g){var h=g.value;f=h===f&&(0!==h||1/h===1/f)||h!==h&&f!==f?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!L.current){b=tg(a,b,c);break a}}else for(g=b.child,null!==g&&(g.return=b);null!==g;){h=g.firstContextDependency;if(null!==h){do{if(h.context===d&&0!==(h.observedBits&f)){if(1===g.tag){var k=nf(c);k.tag=2;pf(g,k)}g.expirationTime<\nc&&(g.expirationTime=c);k=g.alternate;null!==k&&k.expirationTime<c&&(k.expirationTime=c);for(var l=g.return;null!==l;){k=l.alternate;if(l.childExpirationTime<c)l.childExpirationTime=c,null!==k&&k.childExpirationTime<c&&(k.childExpirationTime=c);else if(null!==k&&k.childExpirationTime<c)k.childExpirationTime=c;else break;l=l.return}}k=g.child;h=h.next}while(null!==h)}else k=10===g.tag?g.type===b.type?null:g.child:g.child;if(null!==k)k.return=g;else for(k=g;null!==k;){if(k===b){k=null;break}g=k.sibling;\nif(null!==g){g.return=k.return;k=g;break}k=k.return}g=k}}Q(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,Df(b,c),e=Ef(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,Q(a,b,d,c),b.child;case 14:return e=b.type,f=P(e,b.pendingProps),f=P(e.type,f),rg(a,b,e,f,d,c);case 15:return sg(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:P(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,M(d)?(a=\n!0,Re(b)):a=!1,Df(b,c),Xf(b,d,e,c),$f(b,d,e,c),xg(null,b,d,!0,a,c);default:t(\"156\")}}function Bg(a){a.effectTag|=4}var Cg=void 0,Gg=void 0,Hg=void 0,Ig=void 0;Cg=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Gg=function(){};\nHg=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;If(O.current);a=null;switch(c){case \"input\":f=zc(g,f);d=zc(g,d);a=[];break;case \"option\":f=ee(g,f);d=ee(g,d);a=[];break;case \"select\":f=n({},f,{value:void 0});d=n({},d,{value:void 0});a=[];break;case \"textarea\":f=ge(g,f);d=ge(g,d);a=[];break;default:\"function\"!==typeof f.onClick&&\"function\"===typeof d.onClick&&(g.onclick=ye)}ve(c,d);g=c=void 0;var h=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if(\"style\"===\nc){var k=f[c];for(g in k)k.hasOwnProperty(g)&&(h||(h={}),h[g]=\"\")}else\"dangerouslySetInnerHTML\"!==c&&\"children\"!==c&&\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&\"autoFocus\"!==c&&(sa.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var l=d[c];k=null!=f?f[c]:void 0;if(d.hasOwnProperty(c)&&l!==k&&(null!=l||null!=k))if(\"style\"===c)if(k){for(g in k)!k.hasOwnProperty(g)||l&&l.hasOwnProperty(g)||(h||(h={}),h[g]=\"\");for(g in l)l.hasOwnProperty(g)&&k[g]!==l[g]&&(h||\n(h={}),h[g]=l[g])}else h||(a||(a=[]),a.push(c,h)),h=l;else\"dangerouslySetInnerHTML\"===c?(l=l?l.__html:void 0,k=k?k.__html:void 0,null!=l&&k!==l&&(a=a||[]).push(c,\"\"+l)):\"children\"===c?k===l||\"string\"!==typeof l&&\"number\"!==typeof l||(a=a||[]).push(c,\"\"+l):\"suppressContentEditableWarning\"!==c&&\"suppressHydrationWarning\"!==c&&(sa.hasOwnProperty(c)?(null!=l&&xe(e,c),a||k===l||(a=[])):(a=a||[]).push(c,l))}h&&(a=a||[]).push(\"style\",h);e=a;(b.updateQueue=e)&&Bg(b)}};Ig=function(a,b,c,d){c!==d&&Bg(b)};\nvar Jg=\"function\"===typeof WeakSet?WeakSet:Set;function Kg(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=nc(c));null!==c&&mc(c.type);b=b.value;null!==a&&1===a.tag&&mc(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function Lg(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Mg(a,c)}else b.current=null}\nfunction Ng(a,b){for(var c=a;;){if(5===c.tag){var d=c.stateNode;if(b)d.style.display=\"none\";else{d=c.stateNode;var e=c.memoizedProps.style;e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null;d.style.display=se(\"display\",e)}}else if(6===c.tag)c.stateNode.nodeValue=b?\"\":c.memoizedProps;else if(13===c.tag&&null!==c.memoizedState){d=c.child.sibling;d.return=c;c=d;continue}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c.return||\nc.return===a)return;c=c.return}c.sibling.return=c.return;c=c.sibling}}\nfunction Og(a){\"function\"===typeof Ue&&Ue(a);switch(a.tag){case 0:case 11:case 14:case 15:var b=a.updateQueue;if(null!==b&&(b=b.lastEffect,null!==b)){var c=b=b.next;do{var d=c.destroy;if(null!==d){var e=a;try{d()}catch(f){Mg(e,f)}}c=c.next}while(c!==b)}break;case 1:Lg(a);b=a.stateNode;if(\"function\"===typeof b.componentWillUnmount)try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(f){Mg(a,f)}break;case 5:Lg(a);break;case 4:Pg(a)}}\nfunction Qg(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction Rg(a){a:{for(var b=a.return;null!==b;){if(Qg(b)){var c=b;break a}b=b.return}t(\"160\");c=void 0}var d=b=void 0;switch(c.tag){case 5:b=c.stateNode;d=!1;break;case 3:b=c.stateNode.containerInfo;d=!0;break;case 4:b=c.stateNode.containerInfo;d=!0;break;default:t(\"161\")}c.effectTag&16&&(pe(b,\"\"),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Qg(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag;){if(c.effectTag&2)continue b;\nif(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){if(5===e.tag||6===e.tag)if(c)if(d){var f=b,g=e.stateNode,h=c;8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(e.stateNode,c);else d?(g=b,h=e.stateNode,8===g.nodeType?(f=g.parentNode,f.insertBefore(h,g)):(f=g,f.appendChild(h)),g=g._reactRootContainer,null!==g&&void 0!==g||null!==f.onclick||(f.onclick=ye)):b.appendChild(e.stateNode);\nelse if(4!==e.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}\nfunction Pg(a){for(var b=a,c=!1,d=void 0,e=void 0;;){if(!c){c=b.return;a:for(;;){null===c?t(\"160\"):void 0;switch(c.tag){case 5:d=c.stateNode;e=!1;break a;case 3:d=c.stateNode.containerInfo;e=!0;break a;case 4:d=c.stateNode.containerInfo;e=!0;break a}c=c.return}c=!0}if(5===b.tag||6===b.tag){a:for(var f=b,g=f;;)if(Og(g),null!==g.child&&4!==g.tag)g.child.return=g,g=g.child;else{if(g===f)break;for(;null===g.sibling;){if(null===g.return||g.return===f)break a;g=g.return}g.sibling.return=g.return;g=g.sibling}e?\n(f=d,g=b.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):d.removeChild(b.stateNode)}else if(4===b.tag?(d=b.stateNode.containerInfo,e=!0):Og(b),null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return;b=b.return;4===b.tag&&(c=!1)}b.sibling.return=b.return;b=b.sibling}}\nfunction Sg(a,b){switch(b.tag){case 0:case 11:case 14:case 15:break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps;a=null!==a?a.memoizedProps:d;var e=b.type,f=b.updateQueue;b.updateQueue=null;null!==f&&Fe(c,f,e,a,d,b)}break;case 6:null===b.stateNode?t(\"162\"):void 0;b.stateNode.nodeValue=b.memoizedProps;break;case 3:break;case 12:break;case 13:c=b.memoizedState;d=void 0;a=b;null===c?d=!1:(d=!0,a=b.child,0===c.timedOutAt&&(c.timedOutAt=Rf()));null!==a&&Ng(a,d);c=b.updateQueue;\nif(null!==c){b.updateQueue=null;var g=b.stateNode;null===g&&(g=b.stateNode=new Jg);c.forEach(function(a){var c=Tg.bind(null,b,a);g.has(a)||(g.add(a),a.then(c,c))})}break;case 17:break;default:t(\"163\")}}var Ug=\"function\"===typeof WeakMap?WeakMap:Map;function Vg(a,b,c){c=nf(c);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Wg(d);Kg(a,b)};return c}\nfunction Xg(a,b,c){c=nf(c);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===Yg?Yg=new Set([this]):Yg.add(this));var c=b.value,e=b.stack;Kg(a,b);this.componentDidCatch(c,{componentStack:null!==e?e:\"\"})});return c}\nfunction Zg(a){switch(a.tag){case 1:M(a.type)&&Ne(a);var b=a.effectTag;return b&2048?(a.effectTag=b&-2049|64,a):null;case 3:return Kf(a),Oe(a),b=a.effectTag,0!==(b&64)?t(\"285\"):void 0,a.effectTag=b&-2049|64,a;case 5:return Mf(a),null;case 13:return b=a.effectTag,b&2048?(a.effectTag=b&-2049|64,a):null;case 4:return Kf(a),null;case 10:return Cf(a),null;default:return null}}\nvar $g={readContext:Ef},ah=Xb.ReactCurrentOwner,bh=1073741822,ch=0,dh=!1,S=null,T=null,U=0,eh=-1,fh=!1,V=null,gh=!1,hh=null,ih=null,Yg=null;function jh(){if(null!==S)for(var a=S.return;null!==a;){var b=a;switch(b.tag){case 1:var c=b.type.childContextTypes;null!==c&&void 0!==c&&Ne(b);break;case 3:Kf(b);Oe(b);break;case 5:Mf(b);break;case 4:Kf(b);break;case 10:Cf(b)}a=a.return}T=null;U=0;eh=-1;fh=!1;S=null}function Tf(){null!==ih&&(ba.unstable_cancelCallback(hh),ih())}\nfunction kh(a){for(;;){var b=a.alternate,c=a.return,d=a.sibling;if(0===(a.effectTag&1024)){S=a;a:{var e=b;b=a;var f=U;var g=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:M(b.type)&&Ne(b);break;case 3:Kf(b);Oe(b);g=b.stateNode;g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null);if(null===e||null===e.child)ng(b),b.effectTag&=-3;Gg(b);break;case 5:Mf(b);var h=If(Hf.current);f=b.type;if(null!==e&&null!=b.stateNode)Hg(e,b,f,g,h),e.ref!==b.ref&&(b.effectTag|=\n128);else if(g){var k=If(O.current);if(ng(b)){g=b;e=g.stateNode;var l=g.type,m=g.memoizedProps,r=h;e[Ga]=g;e[Ha]=m;f=void 0;h=l;switch(h){case \"iframe\":case \"object\":H(\"load\",e);break;case \"video\":case \"audio\":for(l=0;l<bb.length;l++)H(bb[l],e);break;case \"source\":H(\"error\",e);break;case \"img\":case \"image\":case \"link\":H(\"error\",e);H(\"load\",e);break;case \"form\":H(\"reset\",e);H(\"submit\",e);break;case \"details\":H(\"toggle\",e);break;case \"input\":Ac(e,m);H(\"invalid\",e);xe(r,\"onChange\");break;case \"select\":e._wrapperState=\n{wasMultiple:!!m.multiple};H(\"invalid\",e);xe(r,\"onChange\");break;case \"textarea\":he(e,m),H(\"invalid\",e),xe(r,\"onChange\")}ve(h,m);l=null;for(f in m)m.hasOwnProperty(f)&&(k=m[f],\"children\"===f?\"string\"===typeof k?e.textContent!==k&&(l=[\"children\",k]):\"number\"===typeof k&&e.textContent!==\"\"+k&&(l=[\"children\",\"\"+k]):sa.hasOwnProperty(f)&&null!=k&&xe(r,f));switch(h){case \"input\":Vb(e);Ec(e,m,!0);break;case \"textarea\":Vb(e);je(e,m);break;case \"select\":case \"option\":break;default:\"function\"===typeof m.onClick&&\n(e.onclick=ye)}f=l;g.updateQueue=f;g=null!==f?!0:!1;g&&Bg(b)}else{m=b;e=f;r=g;l=9===h.nodeType?h:h.ownerDocument;k===ke.html&&(k=le(e));k===ke.html?\"script\"===e?(e=l.createElement(\"div\"),e.innerHTML=\"<script>\\x3c/script>\",l=e.removeChild(e.firstChild)):\"string\"===typeof r.is?l=l.createElement(e,{is:r.is}):(l=l.createElement(e),\"select\"===e&&r.multiple&&(l.multiple=!0)):l=l.createElementNS(k,e);e=l;e[Ga]=m;e[Ha]=g;Cg(e,b,!1,!1);r=e;l=f;m=g;var w=h,y=we(l,m);switch(l){case \"iframe\":case \"object\":H(\"load\",\nr);h=m;break;case \"video\":case \"audio\":for(h=0;h<bb.length;h++)H(bb[h],r);h=m;break;case \"source\":H(\"error\",r);h=m;break;case \"img\":case \"image\":case \"link\":H(\"error\",r);H(\"load\",r);h=m;break;case \"form\":H(\"reset\",r);H(\"submit\",r);h=m;break;case \"details\":H(\"toggle\",r);h=m;break;case \"input\":Ac(r,m);h=zc(r,m);H(\"invalid\",r);xe(w,\"onChange\");break;case \"option\":h=ee(r,m);break;case \"select\":r._wrapperState={wasMultiple:!!m.multiple};h=n({},m,{value:void 0});H(\"invalid\",r);xe(w,\"onChange\");break;case \"textarea\":he(r,\nm);h=ge(r,m);H(\"invalid\",r);xe(w,\"onChange\");break;default:h=m}ve(l,h);k=void 0;var B=l,R=r,v=h;for(k in v)if(v.hasOwnProperty(k)){var q=v[k];\"style\"===k?te(R,q):\"dangerouslySetInnerHTML\"===k?(q=q?q.__html:void 0,null!=q&&oe(R,q)):\"children\"===k?\"string\"===typeof q?(\"textarea\"!==B||\"\"!==q)&&pe(R,q):\"number\"===typeof q&&pe(R,\"\"+q):\"suppressContentEditableWarning\"!==k&&\"suppressHydrationWarning\"!==k&&\"autoFocus\"!==k&&(sa.hasOwnProperty(k)?null!=q&&xe(w,k):null!=q&&xc(R,k,q,y))}switch(l){case \"input\":Vb(r);\nEc(r,m,!1);break;case \"textarea\":Vb(r);je(r,m);break;case \"option\":null!=m.value&&r.setAttribute(\"value\",\"\"+yc(m.value));break;case \"select\":h=r;h.multiple=!!m.multiple;r=m.value;null!=r?fe(h,!!m.multiple,r,!1):null!=m.defaultValue&&fe(h,!!m.multiple,m.defaultValue,!0);break;default:\"function\"===typeof h.onClick&&(r.onclick=ye)}(g=Be(f,g))&&Bg(b);b.stateNode=e}null!==b.ref&&(b.effectTag|=128)}else null===b.stateNode?t(\"166\"):void 0;break;case 6:e&&null!=b.stateNode?Ig(e,b,e.memoizedProps,g):(\"string\"!==\ntypeof g&&(null===b.stateNode?t(\"166\"):void 0),e=If(Hf.current),If(O.current),ng(b)?(g=b,f=g.stateNode,e=g.memoizedProps,f[Ga]=g,(g=f.nodeValue!==e)&&Bg(b)):(f=b,g=(9===e.nodeType?e:e.ownerDocument).createTextNode(g),g[Ga]=b,f.stateNode=g));break;case 11:break;case 13:g=b.memoizedState;if(0!==(b.effectTag&64)){b.expirationTime=f;S=b;break a}g=null!==g;f=null!==e&&null!==e.memoizedState;null!==e&&!g&&f&&(e=e.child.sibling,null!==e&&(h=b.firstEffect,null!==h?(b.firstEffect=e,e.nextEffect=h):(b.firstEffect=\nb.lastEffect=e,e.nextEffect=null),e.effectTag=8));if(g!==f||0===(b.effectTag&1)&&g)b.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:Kf(b);Gg(b);break;case 10:Cf(b);break;case 9:break;case 14:break;case 17:M(b.type)&&Ne(b);break;default:t(\"156\")}S=null}b=a;if(1===U||1!==b.childExpirationTime){g=0;for(f=b.child;null!==f;)e=f.expirationTime,h=f.childExpirationTime,e>g&&(g=e),h>g&&(g=h),f=f.sibling;b.childExpirationTime=g}if(null!==S)return S;null!==c&&0===(c.effectTag&1024)&&(null===\nc.firstEffect&&(c.firstEffect=a.firstEffect),null!==a.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=a.firstEffect),c.lastEffect=a.lastEffect),1<a.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=a:c.firstEffect=a,c.lastEffect=a))}else{a=Zg(a,U);if(null!==a)return a.effectTag&=1023,a;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=1024)}if(null!==d)return d;if(null!==c)a=c;else break}return null}\nfunction lh(a){var b=Ag(a.alternate,a,U);a.memoizedProps=a.pendingProps;null===b&&(b=kh(a));ah.current=null;return b}\nfunction mh(a,b){dh?t(\"243\"):void 0;Tf();dh=!0;ah.currentDispatcher=$g;var c=a.nextExpirationTimeToWorkOn;if(c!==U||a!==T||null===S)jh(),T=a,U=c,S=$e(T.current,null,U),a.pendingCommitExpirationTime=0;var d=!1;do{try{if(b)for(;null!==S&&!nh();)S=lh(S);else for(;null!==S;)S=lh(S)}catch(B){if(Af=zf=yf=null,null===S)d=!0,Wg(B);else{null===S?t(\"271\"):void 0;var e=S,f=e.return;if(null===f)d=!0,Wg(B);else{a:{var g=a,h=f,k=e,l=B;f=U;k.effectTag|=1024;k.firstEffect=k.lastEffect=null;if(null!==l&&\"object\"===\ntypeof l&&\"function\"===typeof l.then){var m=l;l=h;var r=-1,w=-1;do{if(13===l.tag){var y=l.alternate;if(null!==y&&(y=y.memoizedState,null!==y)){w=10*(1073741822-y.timedOutAt);break}y=l.pendingProps.maxDuration;if(\"number\"===typeof y)if(0>=y)r=0;else if(-1===r||y<r)r=y}l=l.return}while(null!==l);l=h;do{if(y=13===l.tag)y=void 0===l.memoizedProps.fallback?!1:null===l.memoizedState;if(y){h=l.updateQueue;null===h?l.updateQueue=new Set([m]):h.add(m);if(0===(l.mode&1)){l.effectTag|=64;k.effectTag&=-1957;\n1===k.tag&&(null===k.alternate?k.tag=17:(f=nf(1073741823),f.tag=2,pf(k,f)));k.expirationTime=1073741823;break a}k=g.pingCache;null===k?(k=g.pingCache=new Ug,h=new Set,k.set(m,h)):(h=k.get(m),void 0===h&&(h=new Set,k.set(m,h)));h.has(f)||(h.add(f),k=oh.bind(null,g,m,f),m.then(k,k));-1===r?g=1073741823:(-1===w&&(w=10*(1073741822-jf(g,f))-5E3),g=w+r);0<=g&&eh<g&&(eh=g);l.effectTag|=2048;l.expirationTime=f;break a}l=l.return}while(null!==l);l=Error((mc(k.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+\nnc(k))}fh=!0;l=wf(l,k);g=h;do{switch(g.tag){case 3:g.effectTag|=2048;g.expirationTime=f;f=Vg(g,l,f);qf(g,f);break a;case 1:if(m=l,r=g.type,w=g.stateNode,0===(g.effectTag&64)&&(\"function\"===typeof r.getDerivedStateFromError||null!==w&&\"function\"===typeof w.componentDidCatch&&(null===Yg||!Yg.has(w)))){g.effectTag|=2048;g.expirationTime=f;f=Xg(g,m,f);qf(g,f);break a}}g=g.return}while(null!==g)}S=kh(e);continue}}}break}while(1);dh=!1;Af=zf=yf=ah.currentDispatcher=null;if(d)T=null,a.finishedWork=null;\nelse if(null!==S)a.finishedWork=null;else{d=a.current.alternate;null===d?t(\"281\"):void 0;T=null;if(fh){e=a.latestPendingTime;f=a.latestSuspendedTime;g=a.latestPingedTime;if(0!==e&&e<c||0!==f&&f<c||0!==g&&g<c){hf(a,c);ph(a,d,c,a.expirationTime,-1);return}if(!a.didError&&b){a.didError=!0;c=a.nextExpirationTimeToWorkOn=c;b=a.expirationTime=1073741823;ph(a,d,c,b,-1);return}}b&&-1!==eh?(hf(a,c),b=10*(1073741822-jf(a,c)),b<eh&&(eh=b),b=10*(1073741822-Rf()),b=eh-b,ph(a,d,c,a.expirationTime,0>b?0:b)):(a.pendingCommitExpirationTime=\nc,a.finishedWork=d)}}function Mg(a,b){for(var c=a.return;null!==c;){switch(c.tag){case 1:var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===Yg||!Yg.has(d))){a=wf(b,a);a=Xg(c,a,1073741823);pf(c,a);Uf(c,1073741823);return}break;case 3:a=wf(b,a);a=Vg(c,a,1073741823);pf(c,a);Uf(c,1073741823);return}c=c.return}3===a.tag&&(c=wf(b,a),c=Vg(a,c,1073741823),pf(a,c),Uf(a,1073741823))}\nfunction Sf(a,b){0!==ch?a=ch:dh?a=gh?1073741823:U:b.mode&1?(a=qh?1073741822-10*(((1073741822-a+15)/10|0)+1):1073741822-25*(((1073741822-a+500)/25|0)+1),null!==T&&a===U&&--a):a=1073741823;qh&&(0===rh||a<rh)&&(rh=a);return a}function oh(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);if(null!==T&&U===c)T=null;else if(b=a.earliestSuspendedTime,d=a.latestSuspendedTime,0!==b&&c<=b&&c>=d){a.didError=!1;b=a.latestPingedTime;if(0===b||b>c)a.latestPingedTime=c;gf(c,a);c=a.expirationTime;0!==c&&sh(a,c)}}\nfunction Tg(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=Rf();b=Sf(b,a);a=th(a,b);null!==a&&(ff(a,b),b=a.expirationTime,0!==b&&sh(a,b))}\nfunction th(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}return e}\nfunction Uf(a,b){a=th(a,b);null!==a&&(!dh&&0!==U&&b>U&&jh(),ff(a,b),dh&&!gh&&T===a||sh(a,a.expirationTime),uh>vh&&(uh=0,t(\"185\")))}function wh(a,b,c,d,e){var f=ch;ch=1073741823;try{return a(b,c,d,e)}finally{ch=f}}var xh=null,W=null,yh=0,zh=void 0,X=!1,Ah=null,Y=0,rh=0,Bh=!1,Ch=null,Z=!1,Dh=!1,qh=!1,Eh=null,Fh=ba.unstable_now(),Gh=1073741822-(Fh/10|0),Hh=Gh,vh=50,uh=0,Ih=null;function Jh(){Gh=1073741822-((ba.unstable_now()-Fh)/10|0)}\nfunction Kh(a,b){if(0!==yh){if(b<yh)return;null!==zh&&ba.unstable_cancelCallback(zh)}yh=b;a=ba.unstable_now()-Fh;zh=ba.unstable_scheduleCallback(Lh,{timeout:10*(1073741822-b)-a})}function ph(a,b,c,d,e){a.expirationTime=d;0!==e||nh()?0<e&&(a.timeoutHandle=De(Mh.bind(null,a,b,c),e)):(a.pendingCommitExpirationTime=c,a.finishedWork=b)}function Mh(a,b,c){a.pendingCommitExpirationTime=c;a.finishedWork=b;Jh();Hh=Gh;Nh(a,c)}function Rf(){if(X)return Hh;Oh();if(0===Y||1===Y)Jh(),Hh=Gh;return Hh}\nfunction sh(a,b){null===a.nextScheduledRoot?(a.expirationTime=b,null===W?(xh=W=a,a.nextScheduledRoot=a):(W=W.nextScheduledRoot=a,W.nextScheduledRoot=xh)):b>a.expirationTime&&(a.expirationTime=b);X||(Z?Dh&&(Ah=a,Y=1073741823,Ph(a,1073741823,!1)):1073741823===b?Qh(1073741823,!1):Kh(a,b))}\nfunction Oh(){var a=0,b=null;if(null!==W)for(var c=W,d=xh;null!==d;){var e=d.expirationTime;if(0===e){null===c||null===W?t(\"244\"):void 0;if(d===d.nextScheduledRoot){xh=W=d.nextScheduledRoot=null;break}else if(d===xh)xh=e=d.nextScheduledRoot,W.nextScheduledRoot=e,d.nextScheduledRoot=null;else if(d===W){W=c;W.nextScheduledRoot=xh;d.nextScheduledRoot=null;break}else c.nextScheduledRoot=d.nextScheduledRoot,d.nextScheduledRoot=null;d=c.nextScheduledRoot}else{e>a&&(a=e,b=d);if(d===W)break;if(1073741823===\na)break;c=d;d=d.nextScheduledRoot}}Ah=b;Y=a}var Rh=!1;function nh(){return Rh?!0:ba.unstable_shouldYield()?Rh=!0:!1}function Lh(){try{if(!nh()&&null!==xh){Jh();var a=xh;do{var b=a.expirationTime;0!==b&&Gh<=b&&(a.nextExpirationTimeToWorkOn=Gh);a=a.nextScheduledRoot}while(a!==xh)}Qh(0,!0)}finally{Rh=!1}}\nfunction Qh(a,b){Oh();if(b)for(Jh(),Hh=Gh;null!==Ah&&0!==Y&&a<=Y&&!(Rh&&Gh>Y);)Ph(Ah,Y,Gh>Y),Oh(),Jh(),Hh=Gh;else for(;null!==Ah&&0!==Y&&a<=Y;)Ph(Ah,Y,!1),Oh();b&&(yh=0,zh=null);0!==Y&&Kh(Ah,Y);uh=0;Ih=null;if(null!==Eh)for(a=Eh,Eh=null,b=0;b<a.length;b++){var c=a[b];try{c._onComplete()}catch(d){Bh||(Bh=!0,Ch=d)}}if(Bh)throw a=Ch,Ch=null,Bh=!1,a;}function Nh(a,b){X?t(\"253\"):void 0;Ah=a;Y=b;Ph(a,b,!1);Qh(1073741823,!1)}\nfunction Ph(a,b,c){X?t(\"245\"):void 0;X=!0;if(c){var d=a.finishedWork;null!==d?Sh(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,Ee(d)),mh(a,c),d=a.finishedWork,null!==d&&(nh()?a.finishedWork=d:Sh(a,d,b)))}else d=a.finishedWork,null!==d?Sh(a,d,b):(a.finishedWork=null,d=a.timeoutHandle,-1!==d&&(a.timeoutHandle=-1,Ee(d)),mh(a,c),d=a.finishedWork,null!==d&&Sh(a,d,b));X=!1}\nfunction Sh(a,b,c){var d=a.firstBatch;if(null!==d&&d._expirationTime>=c&&(null===Eh?Eh=[d]:Eh.push(d),d._defer)){a.finishedWork=b;a.expirationTime=0;return}a.finishedWork=null;a===Ih?uh++:(Ih=a,uh=0);gh=dh=!0;a.current===b?t(\"177\"):void 0;c=a.pendingCommitExpirationTime;0===c?t(\"261\"):void 0;a.pendingCommitExpirationTime=0;d=b.expirationTime;var e=b.childExpirationTime;d=e>d?e:d;a.didError=!1;0===d?(a.earliestPendingTime=0,a.latestPendingTime=0,a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=\n0):(d<a.latestPingedTime&&(a.latestPingedTime=0),e=a.latestPendingTime,0!==e&&(e>d?a.earliestPendingTime=a.latestPendingTime=0:a.earliestPendingTime>d&&(a.earliestPendingTime=a.latestPendingTime)),e=a.earliestSuspendedTime,0===e?ff(a,d):d<a.latestSuspendedTime?(a.earliestSuspendedTime=0,a.latestSuspendedTime=0,a.latestPingedTime=0,ff(a,d)):d>e&&ff(a,d));gf(0,a);ah.current=null;1<b.effectTag?null!==b.lastEffect?(b.lastEffect.nextEffect=b,d=b.firstEffect):d=b:d=b.firstEffect;ze=Hd;e=Td();if(Ud(e)){if(\"selectionStart\"in\ne)var f={start:e.selectionStart,end:e.selectionEnd};else a:{f=(f=e.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&0!==g.rangeCount){f=g.anchorNode;var h=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{f.nodeType,k.nodeType}catch(db){f=null;break a}var l=0,m=-1,r=-1,w=0,y=0,B=e,R=null;b:for(;;){for(var v;;){B!==f||0!==h&&3!==B.nodeType||(m=l+h);B!==k||0!==g&&3!==B.nodeType||(r=l+g);3===B.nodeType&&(l+=B.nodeValue.length);if(null===(v=B.firstChild))break;R=B;B=v}for(;;){if(B===\ne)break b;R===f&&++w===h&&(m=l);R===k&&++y===g&&(r=l);if(null!==(v=B.nextSibling))break;B=R;R=B.parentNode}B=v}f=-1===m||-1===r?null:{start:m,end:r}}else f=null}f=f||{start:0,end:0}}else f=null;Ae={focusedElem:e,selectionRange:f};Hd=!1;for(V=d;null!==V;){e=!1;f=void 0;try{for(;null!==V;){if(V.effectTag&256)a:{var q=V.alternate;h=V;switch(h.tag){case 0:case 11:case 15:break a;case 1:if(h.effectTag&256&&null!==q){var u=q.memoizedProps,A=q.memoizedState,Yf=h.stateNode,Vh=Yf.getSnapshotBeforeUpdate(h.elementType===\nh.type?u:P(h.type,u),A);Yf.__reactInternalSnapshotBeforeUpdate=Vh}break a;case 3:case 5:case 6:case 4:case 17:break a;default:t(\"163\")}}V=V.nextEffect}}catch(db){e=!0,f=db}e&&(null===V?t(\"178\"):void 0,Mg(V,f),null!==V&&(V=V.nextEffect))}for(V=d;null!==V;){q=!1;u=void 0;try{for(;null!==V;){var x=V.effectTag;x&16&&pe(V.stateNode,\"\");if(x&128){var C=V.alternate;if(null!==C){var p=C.ref;null!==p&&(\"function\"===typeof p?p(null):p.current=null)}}switch(x&14){case 2:Rg(V);V.effectTag&=-3;break;case 6:Rg(V);\nV.effectTag&=-3;Sg(V.alternate,V);break;case 4:Sg(V.alternate,V);break;case 8:A=V;Pg(A);A.return=null;A.child=null;A.memoizedState=null;A.updateQueue=null;var G=A.alternate;null!==G&&(G.return=null,G.child=null,G.memoizedState=null,G.updateQueue=null)}V=V.nextEffect}}catch(db){q=!0,u=db}q&&(null===V?t(\"178\"):void 0,Mg(V,u),null!==V&&(V=V.nextEffect))}p=Ae;C=Td();x=p.focusedElem;q=p.selectionRange;if(C!==x&&x&&x.ownerDocument&&Sd(x.ownerDocument.documentElement,x)){null!==q&&Ud(x)&&(C=q.start,p=q.end,\nvoid 0===p&&(p=C),\"selectionStart\"in x?(x.selectionStart=C,x.selectionEnd=Math.min(p,x.value.length)):(p=(C=x.ownerDocument||document)&&C.defaultView||window,p.getSelection&&(p=p.getSelection(),u=x.textContent.length,G=Math.min(q.start,u),q=void 0===q.end?G:Math.min(q.end,u),!p.extend&&G>q&&(u=q,q=G,G=u),u=Rd(x,G),A=Rd(x,q),u&&A&&(1!==p.rangeCount||p.anchorNode!==u.node||p.anchorOffset!==u.offset||p.focusNode!==A.node||p.focusOffset!==A.offset)&&(C=C.createRange(),C.setStart(u.node,u.offset),p.removeAllRanges(),\nG>q?(p.addRange(C),p.extend(A.node,A.offset)):(C.setEnd(A.node,A.offset),p.addRange(C))))));C=[];for(p=x;p=p.parentNode;)1===p.nodeType&&C.push({element:p,left:p.scrollLeft,top:p.scrollTop});\"function\"===typeof x.focus&&x.focus();for(x=0;x<C.length;x++)p=C[x],p.element.scrollLeft=p.left,p.element.scrollTop=p.top}Ae=null;Hd=!!ze;ze=null;a.current=b;for(V=d;null!==V;){d=!1;x=void 0;try{for(C=c;null!==V;){var Fb=V.effectTag;if(Fb&36){var Gb=V.alternate;p=V;G=C;switch(p.tag){case 0:case 11:case 15:break;\ncase 1:var Hc=p.stateNode;if(p.effectTag&4)if(null===Gb)Hc.componentDidMount();else{var ii=p.elementType===p.type?Gb.memoizedProps:P(p.type,Gb.memoizedProps);Hc.componentDidUpdate(ii,Gb.memoizedState,Hc.__reactInternalSnapshotBeforeUpdate)}var Dg=p.updateQueue;null!==Dg&&uf(p,Dg,Hc,G);break;case 3:var Eg=p.updateQueue;if(null!==Eg){q=null;if(null!==p.child)switch(p.child.tag){case 5:q=p.child.stateNode;break;case 1:q=p.child.stateNode}uf(p,Eg,q,G)}break;case 5:var ji=p.stateNode;null===Gb&&p.effectTag&\n4&&Be(p.type,p.memoizedProps)&&ji.focus();break;case 6:break;case 4:break;case 12:break;case 13:break;case 17:break;default:t(\"163\")}}if(Fb&128){var Ic=V.ref;if(null!==Ic){var Fg=V.stateNode;switch(V.tag){case 5:var ce=Fg;break;default:ce=Fg}\"function\"===typeof Ic?Ic(ce):Ic.current=ce}}V=V.nextEffect}}catch(db){d=!0,x=db}d&&(null===V?t(\"178\"):void 0,Mg(V,x),null!==V&&(V=V.nextEffect))}dh=gh=!1;\"function\"===typeof Te&&Te(b.stateNode);Fb=b.expirationTime;b=b.childExpirationTime;b=b>Fb?b:Fb;0===b&&(Yg=\nnull);a.expirationTime=b;a.finishedWork=null}function Wg(a){null===Ah?t(\"246\"):void 0;Ah.expirationTime=0;Bh||(Bh=!0,Ch=a)}function Th(a,b){var c=Z;Z=!0;try{return a(b)}finally{(Z=c)||X||Qh(1073741823,!1)}}function Uh(a,b){if(Z&&!Dh){Dh=!0;try{return a(b)}finally{Dh=!1}}return a(b)}function Wh(a,b,c){if(qh)return a(b,c);Z||X||0===rh||(Qh(rh,!1),rh=0);var d=qh,e=Z;Z=qh=!0;try{return a(b,c)}finally{qh=d,(Z=e)||X||Qh(1073741823,!1)}}\nfunction Xh(a,b,c,d,e){var f=b.current;a:if(c){c=c._reactInternalFiber;b:{2===kd(c)&&1===c.tag?void 0:t(\"170\");var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(M(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);t(\"171\");g=void 0}if(1===c.tag){var h=c.type;if(M(h)){c=Qe(c,h,g);break a}}c=g}else c=Ke;null===b.context?b.context=c:b.pendingContext=c;b=e;e=nf(d);e.payload={element:a};b=void 0===b?null:b;null!==b&&(e.callback=b);\nTf();pf(f,e);Uf(f,d);return d}function Yh(a,b,c,d){var e=b.current,f=Rf();e=Sf(f,e);return Xh(a,b,c,e,d)}function Zh(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function $h(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$b,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\nCb=function(a,b,c){switch(b){case \"input\":Cc(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=La(d);e?void 0:t(\"90\");Wb(d);Cc(d,e)}}}break;case \"textarea\":ie(a,c);break;case \"select\":b=c.value,null!=b&&fe(a,!!c.multiple,b,!1)}};\nfunction ai(a){var b=1073741822-25*(((1073741822-Rf()+500)/25|0)+1);b>=bh&&(b=bh-1);this._expirationTime=bh=b;this._root=a;this._callbacks=this._next=null;this._hasChildren=this._didComplete=!1;this._children=null;this._defer=!0}ai.prototype.render=function(a){this._defer?void 0:t(\"250\");this._hasChildren=!0;this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new bi;Xh(a,b,null,c,d._onCommit);return d};\nai.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};\nai.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;this._defer&&null!==b?void 0:t(\"251\");if(this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;null===d?t(\"251\"):void 0;d._next=e._next;this._next=b;a.firstBatch=this}this._defer=!1;Nh(a,c);b=this._next;this._next=null;b=a.firstBatch=b;null!==b&&b._hasChildren&&b.render(b._children)}else this._next=\nnull,this._defer=!1};ai.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}};function bi(){this._callbacks=null;this._didCommit=!1;this._onCommit=this._onCommit.bind(this)}bi.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]);b.push(a)}};\nbi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];\"function\"!==typeof c?t(\"191\",c):void 0;c()}}};\nfunction ci(a,b,c){b=N(3,null,null,b?3:0);a={current:b,containerInfo:a,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:c,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null};this._internalRoot=b.stateNode=a}\nci.prototype.render=function(a,b){var c=this._internalRoot,d=new bi;b=void 0===b?null:b;null!==b&&d.then(b);Yh(a,c,null,d._onCommit);return d};ci.prototype.unmount=function(a){var b=this._internalRoot,c=new bi;a=void 0===a?null:a;null!==a&&c.then(a);Yh(null,b,null,c._onCommit);return c};ci.prototype.legacy_renderSubtreeIntoContainer=function(a,b,c){var d=this._internalRoot,e=new bi;c=void 0===c?null:c;null!==c&&e.then(c);Yh(b,d,a,e._onCommit);return e};\nci.prototype.createBatch=function(){var a=new ai(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d;null!==c&&(c._next=a)}return a};function di(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}Kb=Th;Lb=Wh;Mb=function(){X||0===rh||(Qh(rh,!1),rh=0)};\nfunction ei(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new ci(a,!1,b)}\nfunction fi(a,b,c,d,e){di(c)?void 0:t(\"200\");var f=c._reactRootContainer;if(f){if(\"function\"===typeof e){var g=e;e=function(){var a=Zh(f._internalRoot);g.call(a)}}null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)}else{f=c._reactRootContainer=ei(c,d);if(\"function\"===typeof e){var h=e;e=function(){var a=Zh(f._internalRoot);h.call(a)}}Uh(function(){null!=a?f.legacy_renderSubtreeIntoContainer(a,b,e):f.render(b,e)})}return Zh(f._internalRoot)}\nfunction gi(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;di(b)?void 0:t(\"200\");return $h(a,b,null,c)}\nvar ki={createPortal:gi,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;void 0===b&&(\"function\"===typeof a.render?t(\"188\"):t(\"268\",Object.keys(a)));a=nd(b);a=null===a?null:a.stateNode;return a},hydrate:function(a,b,c){return fi(null,a,b,!0,c)},render:function(a,b,c){return fi(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){null==a||void 0===a._reactInternalFiber?t(\"38\"):void 0;return fi(a,b,c,!1,d)},unmountComponentAtNode:function(a){di(a)?\nvoid 0:t(\"40\");return a._reactRootContainer?(Uh(function(){fi(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return gi.apply(void 0,arguments)},unstable_batchedUpdates:Th,unstable_interactiveUpdates:Wh,flushSync:function(a,b){X?t(\"187\"):void 0;var c=Z;Z=!0;try{return wh(a,b)}finally{Z=c,Qh(1073741823,!1)}},unstable_createRoot:hi,unstable_flushControlled:function(a){var b=Z;Z=!0;try{wh(a)}finally{(Z=b)||X||Qh(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ja,\nKa,La,Ca.injectEventPluginsByName,qa,Ra,function(a){za(a,Qa)},Ib,Jb,Jd,Ea]}};function hi(a,b){di(a)?void 0:t(\"299\",\"unstable_createRoot\");return new ci(a,!0,null!=b&&!0===b.hydrate)}(function(a){var b=a.findFiberByHostInstance;return We(n({},a,{overrideProps:null,findHostInstanceByFiber:function(a){a=nd(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null}}))})({findFiberByHostInstance:Ia,bundleType:0,version:\"16.7.0\",rendererPackageName:\"react-dom\"});\nvar li={default:ki},mi=li&&ki||li;module.exports=mi.default||mi;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.12.0\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var c=null,f=!1,h=3,k=-1,l=-1,m=!1,n=!1;function p(){if(!m){var a=c.expirationTime;n?q():n=!0;r(t,a)}}\nfunction u(){var a=c,b=c.next;if(c===b)c=null;else{var d=c.previous;c=d.next=b;b.previous=d}a.next=a.previous=null;d=a.callback;b=a.expirationTime;a=a.priorityLevel;var e=h,Q=l;h=a;l=b;try{var g=d()}finally{h=e,l=Q}if(\"function\"===typeof g)if(g={callback:g,priorityLevel:a,expirationTime:b,next:null,previous:null},null===c)c=g.next=g.previous=g;else{d=null;a=c;do{if(a.expirationTime>=b){d=a;break}a=a.next}while(a!==c);null===d?d=c:d===c&&(c=g,p());b=d.previous;b.next=d.previous=g;g.next=d;g.previous=\nb}}function v(){if(-1===k&&null!==c&&1===c.priorityLevel){m=!0;try{do u();while(null!==c&&1===c.priorityLevel)}finally{m=!1,null!==c?p():n=!1}}}function t(a){m=!0;var b=f;f=a;try{if(a)for(;null!==c;){var d=exports.unstable_now();if(c.expirationTime<=d){do u();while(null!==c&&c.expirationTime<=d)}else break}else if(null!==c){do u();while(null!==c&&!w())}}finally{m=!1,f=b,null!==c?p():n=!1,v()}}\nvar x=Date,y=\"function\"===typeof setTimeout?setTimeout:void 0,z=\"function\"===typeof clearTimeout?clearTimeout:void 0,A=\"function\"===typeof requestAnimationFrame?requestAnimationFrame:void 0,B=\"function\"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0,C,D;function E(a){C=A(function(b){z(D);a(b)});D=y(function(){B(C);a(exports.unstable_now())},100)}\nif(\"object\"===typeof performance&&\"function\"===typeof performance.now){var F=performance;exports.unstable_now=function(){return F.now()}}else exports.unstable_now=function(){return x.now()};var r,q,w,G=null;\"undefined\"!==typeof window?G=window:\"undefined\"!==typeof global&&(G=global);\nif(G&&G._schedMock){var H=G._schedMock;r=H[0];q=H[1];w=H[2];exports.unstable_now=H[3]}else if(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var I=null,J=function(a){if(null!==I)try{I(a)}finally{I=null}};r=function(a){null!==I?setTimeout(r,0,a):(I=a,setTimeout(J,0,!1))};q=function(){I=null};w=function(){return!1}}else{\"undefined\"!==typeof console&&(\"function\"!==typeof A&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\n\"function\"!==typeof B&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"));var K=null,L=!1,M=-1,N=!1,O=!1,P=0,R=33,S=33;w=function(){return P<=exports.unstable_now()};var T=new MessageChannel,U=T.port2;T.port1.onmessage=function(){L=!1;var a=K,b=M;K=null;M=-1;var d=exports.unstable_now(),e=!1;if(0>=P-d)if(-1!==b&&b<=d)e=!0;else{N||(N=!0,E(V));K=a;M=b;return}if(null!==a){O=!0;try{a(e)}finally{O=!1}}};\nvar V=function(a){if(null!==K){E(V);var b=a-P+S;b<S&&R<S?(8>b&&(b=8),S=b<R?R:b):R=b;P=a+S;L||(L=!0,U.postMessage(void 0))}else N=!1};r=function(a,b){K=a;M=b;O||0>b?U.postMessage(void 0):N||(N=!0,E(V))};q=function(){K=null;L=!1;M=-1}}exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;\nexports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var d=h,e=k;h=a;k=exports.unstable_now();try{return b()}finally{h=d,k=e,v()}};\nexports.unstable_scheduleCallback=function(a,b){var d=-1!==k?k:exports.unstable_now();if(\"object\"===typeof b&&null!==b&&\"number\"===typeof b.timeout)b=d+b.timeout;else switch(h){case 1:b=d+-1;break;case 2:b=d+250;break;case 5:b=d+1073741823;break;case 4:b=d+1E4;break;default:b=d+5E3}a={callback:a,priorityLevel:h,expirationTime:b,next:null,previous:null};if(null===c)c=a.next=a.previous=a,p();else{d=null;var e=c;do{if(e.expirationTime>b){d=e;break}e=e.next}while(e!==c);null===d?d=c:d===c&&(c=a,p());\nb=d.previous;b.next=d.previous=a;a.next=d;a.previous=b}return a};exports.unstable_cancelCallback=function(a){var b=a.next;if(null!==b){if(b===a)c=null;else{a===c&&(c=b);var d=a.previous;d.next=b;b.previous=d}a.next=a.previous=null}};exports.unstable_wrapCallback=function(a){var b=h;return function(){var d=h,e=k;h=b;k=exports.unstable_now();try{return a.apply(this,arguments)}finally{h=d,k=e,v()}}};exports.unstable_getCurrentPriorityLevel=function(){return h};\nexports.unstable_shouldYield=function(){return!f&&(null!==c&&c.expirationTime<l||w())};exports.unstable_continueExecution=function(){null!==c&&p()};exports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return c};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_menubridge')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor Menu plugin. It takes over the\n\t * responsibility of adding, removing and retrieving menu groups and items\n\t * - editor.addMenuGroup(name, order)\n\t * - editor.addMenuItem(name, definition)\n\t * - editor.addMenuItems(definitions)\n\t * - editor.getMenuItem(name)\n\t * - editor.removeMenuItem(name)\n\t *\n\t * @class CKEDITOR.plugins.ae_menubridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_menubridge', {\n\t\t/**\n\t\t * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present.\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\t// Do nothing if the real menu plugin is present\n\t\t\tif (CKEDITOR.plugins.get('menu')) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet groups = [];\n\t\t\tlet groupsOrder = (editor._.menuGroups = {});\n\t\t\tlet menuItems = (editor._.menuItems = {});\n\n\t\t\tfor (let i = 0; i < groups.length; i++) {\n\t\t\t\tgroupsOrder[groups[i]] = i + 1;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Registers an item group to the editor context menu in order to make it\n\t\t\t * possible to associate it with menu items later.\n\t\t\t *\n\t\t\t * @method addMenuGroup\n\t\t\t * @param {String} name Specify a group name.\n\t\t\t * @param {Number} [order=100] Define the display sequence of this group\n\t\t\t * inside the menu. A smaller value gets displayed first.\n\t\t\t */\n\t\t\teditor.addMenuGroup = function(name, order) {\n\t\t\t\tgroupsOrder[name] = order || 100;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds an item from the specified definition to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItem\n\t\t\t * @param {String} name The menu item name.\n\t\t\t * @param {Object} definition The menu item definition.\n\t\t\t */\n\t\t\teditor.addMenuItem = function(name, definition) {\n\t\t\t\tif (groupsOrder[definition.group]) {\n\t\t\t\t\tmenuItems[name] = {\n\t\t\t\t\t\tname: name,\n\t\t\t\t\t\tdefinition: definition,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Adds one or more items from the specified definition object to the editor context menu.\n\t\t\t *\n\t\t\t * @method addMenuItems\n\t\t\t * @param {Object} definitions Object where keys are used as itemName and corresponding values as definition for a {@link #addMenuItem} call.\n\t\t\t */\n\t\t\teditor.addMenuItems = function(definitions) {\n\t\t\t\tfor (let itemName in definitions) {\n\t\t\t\t\tif (definitions.hasOwnProperty(itemName)) {\n\t\t\t\t\t\tthis.addMenuItem(itemName, definitions[itemName]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Retrieves a particular menu item definition from the editor context menu.\n\t\t\t *\n\t\t\t * @method getMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t * @return {Object}\n\t\t\t */\n\t\t\teditor.getMenuItem = function(name) {\n\t\t\t\treturn menuItems[name];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Removes a particular menu item added before from the editor context menu.\n\t\t\t *\n\t\t\t * @method  removeMenuItem\n\t\t\t * @param {String} name The name of the desired menu item.\n\t\t\t */\n\t\t\teditor.removeMenuItem = function(name) {\n\t\t\t\tdelete menuItems[name];\n\t\t\t};\n\t\t},\n\t});\n})();\n","import ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport React from 'react';\n\n(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_panelmenubuttonbridge')) {\n\t\treturn;\n\t}\n\n\tlet PANEL_MENU_DEFS = {};\n\n\t/**\n\t * Generates a PanelMenuButtonBridge React class for a given panelmenubutton definition if it has not been\n\t * already created based on the panelmenubutton name and definition.\n\t *\n\t * @private\n\t * @method generatePanelMenuButtonBridge\n\t * @param {String} panelMenuButtonName The panel button name\n\t * @param {Object} panelMenuButtonDefinition The panel button definition\n\t * @return {Object} The generated or already existing React PanelMenuButton Class\n\t */\n\tlet generatePanelMenuButtonBridge = function(\n\t\tpanelMenuButtonName,\n\t\tpanelMenuButtonDefinition,\n\t\teditor\n\t) {\n\t\tlet PanelMenuButtonBridge = AlloyEditor.Buttons[panelMenuButtonName];\n\n\t\tPANEL_MENU_DEFS[editor.name] = PANEL_MENU_DEFS[editor.name] || {};\n\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] =\n\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName] ||\n\t\t\tpanelMenuButtonDefinition;\n\n\t\tif (!PanelMenuButtonBridge) {\n\t\t\tPanelMenuButtonBridge = class extends React.Component {\n\t\t\t\tstatic displayName = panelMenuButtonName;\n\n\t\t\t\tstatic key = panelMenuButtonName;\n\n\t\t\t\t// API not yet implemented inside the panel menu button bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcreatePanel() {}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet panelMenuButtonDisplayName =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.name ||\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.command ||\n\t\t\t\t\t\tpanelMenuButtonName;\n\n\t\t\t\t\tlet buttonClassName = 'ae-button ae-button-bridge';\n\n\t\t\t\t\tlet iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;\n\n\t\t\t\t\tlet iconStyle = {};\n\n\t\t\t\t\tlet cssStyle = CKEDITOR.skin.getIconStyle(\n\t\t\t\t\t\tpanelMenuButtonDisplayName\n\t\t\t\t\t);\n\n\t\t\t\t\tif (cssStyle) {\n\t\t\t\t\t\tlet cssStyleParts = cssStyle.split(';');\n\n\t\t\t\t\t\ticonStyle.backgroundImage = cssStyleParts[0].substring(\n\t\t\t\t\t\t\tcssStyleParts[0].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundPosition = cssStyleParts[1].substring(\n\t\t\t\t\t\t\tcssStyleParts[1].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t\ticonStyle.backgroundSize = cssStyleParts[2].substring(\n\t\t\t\t\t\t\tcssStyleParts[2].indexOf(':') + 1\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tlet panel;\n\n\t\t\t\t\tif (this.props.expanded) {\n\t\t\t\t\t\tpanel = this._getPanel();\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tclassName={buttonClassName}\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][\n\t\t\t\t\t\t\t\t\t\tpanelMenuButtonName\n\t\t\t\t\t\t\t\t\t].label\n\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={iconClassName}\n\t\t\t\t\t\t\t\t\tstyle={iconStyle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{panel}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_getPanel() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet panelMenuButtonOnBlock =\n\t\t\t\t\t\tPANEL_MENU_DEFS[editor.name][panelMenuButtonName]\n\t\t\t\t\t\t\t.onBlock;\n\n\t\t\t\t\tlet panel = {\n\t\t\t\t\t\thide: this.props.toggleDropdown,\n\t\t\t\t\t\tshow: this.props.toggleDropdown,\n\t\t\t\t\t};\n\n\t\t\t\t\tlet blockElement = new CKEDITOR.dom.element('div');\n\n\t\t\t\t\tlet block = {\n\t\t\t\t\t\telement: blockElement,\n\t\t\t\t\t\tkeys: {},\n\t\t\t\t\t};\n\n\t\t\t\t\t/* istanbul ignore else */\n\t\t\t\t\tif (panelMenuButtonOnBlock) {\n\t\t\t\t\t\tpanelMenuButtonOnBlock.call(this, panel, block);\n\t\t\t\t\t}\n\n\t\t\t\t\t// TODO\n\t\t\t\t\t// Use block.keys to configure the panel keyboard navigation\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ButtonDropdown onDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={blockElement.getAttribute('class')}\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: blockElement.getHtml(),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[panelMenuButtonName] = PanelMenuButtonBridge;\n\t\t}\n\n\t\treturn PanelMenuButtonBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelmenubutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelmenubutton';\n\n\t\tCKEDITOR.plugins.add('panelmenubutton', {});\n\t}\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('panelbutton')) {\n\t\tCKEDITOR.UI_PANELBUTTON = 'panelbutton';\n\n\t\tCKEDITOR.plugins.add('panelbutton', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor PanelButton plugin. It takes over the\n\t * responsibility of registering and creating buttons via:\n\t * - editor.ui.addPanelMenuButton(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_PANELBUTTON, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_panelmenubuttonbridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_panelmenubuttonbridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_PANELBUTTON to our own. We do this in the init phase to override\n\t\t * the one in the native plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addPanelMenuButton = function(\n\t\t\t\tpanelMenuButtonName,\n\t\t\t\tpanelMenuButtonDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\tCKEDITOR.UI_PANELBUTTON,\n\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_PANELBUTTON, {\n\t\t\t\tadd: generatePanelMenuButtonBridge,\n\t\t\t\tcreate: function(panelMenuButtonDefinition) {\n\t\t\t\t\tlet panelMenuButtonName =\n\t\t\t\t\t\t'panelMenuButtonBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet PanelMenuButtonBridge = generatePanelMenuButtonBridge(\n\t\t\t\t\t\tpanelMenuButtonName,\n\t\t\t\t\t\tpanelMenuButtonDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new PanelMenuButtonBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n})();\n","import ButtonDropdown from '../buttons/button-dropdown.jsx';\nimport ButtonIcon from '../buttons/button-icon.jsx';\nimport React from 'react';\n\n(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_richcombobridge')) {\n\t\treturn;\n\t}\n\n\tlet RICH_COMBO_DEFS = {};\n\n\t/**\n\t * Generates a RichComboBridge React class for a given richcombo definition if it has not been\n\t * already created based on the richcombo name and definition.\n\t *\n\t * @method generateRichComboBridge\n\t * @private\n\t * @param {String} richComboName The rich combo name\n\t * @param {Object} richComboDefinition The rich combo definition\n\t * @return {Object} The generated or already existing React RichCombo Class\n\t */\n\tlet generateRichComboBridge = function(\n\t\trichComboName,\n\t\trichComboDefinition,\n\t\teditor\n\t) {\n\t\tlet RichComboBridge = AlloyEditor.Buttons[richComboName];\n\n\t\tRICH_COMBO_DEFS[editor.name] = RICH_COMBO_DEFS[editor.name] || {};\n\t\tRICH_COMBO_DEFS[editor.name][richComboName] =\n\t\t\tRICH_COMBO_DEFS[editor.name][richComboName] || richComboDefinition;\n\t\tRICH_COMBO_DEFS[editor.name][richComboName].currentValue = undefined;\n\n\t\tif (!RichComboBridge) {\n\t\t\tRichComboBridge = class extends React.Component {\n\t\t\t\tstatic displayName = richComboName;\n\n\t\t\t\tstatic key = richComboName;\n\n\t\t\t\tconstructor(props) {\n\t\t\t\t\tsuper(props);\n\t\t\t\t\tthis.state = {\n\t\t\t\t\t\tvalue:\n\t\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t\t.currentValue,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// API not yet implemented inside the richcombo bridge. By mocking the unsupported methods, we\n\t\t\t\t// prevent plugins from crashing if they make use of them.\n\t\t\t\tcommit() {}\n\t\t\t\tcreatePanel() {}\n\t\t\t\tdisable() {}\n\t\t\t\tenable() {}\n\t\t\t\tgetState() {}\n\t\t\t\thideGroup() {}\n\t\t\t\thideItem() {}\n\t\t\t\tmark() {}\n\t\t\t\tshowAll() {}\n\t\t\t\tstartGroup() {}\n\t\t\t\tunmarkAll() {}\n\n\t\t\t\tadd(value, preview, title) {\n\t\t\t\t\tthis._items.push({\n\t\t\t\t\t\tpreview: preview,\n\t\t\t\t\t\ttitle: title,\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tcomponentWillMount() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tthis._items = [];\n\n\t\t\t\t\tthis.setValue = this._setValue;\n\n\t\t\t\t\tif (editorCombo.init) {\n\t\t\t\t\t\teditorCombo.init.call(this);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (editorCombo.onRender) {\n\t\t\t\t\t\teditorCombo.onRender.call(this);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcomponentWillUnmount() {\n\t\t\t\t\tthis._cacheValue(this.state.value);\n\n\t\t\t\t\tthis.setValue = this._cacheValue;\n\t\t\t\t}\n\n\t\t\t\tgetValue() {\n\t\t\t\t\treturn this.state.value;\n\t\t\t\t}\n\n\t\t\t\trender() {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet richComboLabel =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName]\n\t\t\t\t\t\t\t.currentValue || richComboDefinition.label;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\t\t\t\taria-label={richComboLabel}\n\t\t\t\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\t\t\t\ttitle={richComboLabel}>\n\t\t\t\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t\t\t\t{richComboLabel}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\t\t\t\t\tsymbol=\"caret-bottom\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{this.props.expanded && (\n\t\t\t\t\t\t\t\t<ButtonDropdown\n\t\t\t\t\t\t\t\t\tonDismiss={this.props.toggleDropdown}>\n\t\t\t\t\t\t\t\t\t{this._getItems()}\n\t\t\t\t\t\t\t\t</ButtonDropdown>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\t_cacheValue(value) {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\trichComboName\n\t\t\t\t\t].currentValue = value;\n\t\t\t\t}\n\n\t\t\t\t_getItems() {\n\t\t\t\t\tlet richCombo = this;\n\n\t\t\t\t\tlet items = this._items.map(\n\t\t\t\t\t\tfunction(item) {\n\t\t\t\t\t\t\tlet className =\n\t\t\t\t\t\t\t\t'ae-toolbar-element ' +\n\t\t\t\t\t\t\t\t(item.value === this.state.value\n\t\t\t\t\t\t\t\t\t? 'active'\n\t\t\t\t\t\t\t\t\t: '');\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li key={item.title} role=\"option\">\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tclassName={className}\n\t\t\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t\t\t__html: item.preview,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdata-value={item.value}\n\t\t\t\t\t\t\t\t\t\tonClick={richCombo._onClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}.bind(this)\n\t\t\t\t\t);\n\n\t\t\t\t\treturn items;\n\t\t\t\t}\n\n\t\t\t\t_onClick = event => {\n\t\t\t\t\tlet editor = this.props.editor.get('nativeEditor');\n\n\t\t\t\t\tlet editorCombo =\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][richComboName];\n\n\t\t\t\t\tif (editorCombo.onClick) {\n\t\t\t\t\t\tlet newValue = event.currentTarget.getAttribute(\n\t\t\t\t\t\t\t'data-value'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\teditorCombo.onClick.call(this, newValue);\n\n\t\t\t\t\t\tRICH_COMBO_DEFS[editor.name][\n\t\t\t\t\t\t\trichComboName\n\t\t\t\t\t\t].currentValue = newValue;\n\n\t\t\t\t\t\teditor.fire('actionPerformed', this);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t_setValue(value) {\n\t\t\t\t\tthis._cacheValue(value);\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tAlloyEditor.Buttons[richComboName] = RichComboBridge;\n\t\t}\n\n\t\treturn RichComboBridge;\n\t};\n\n\t/* istanbul ignore else */\n\tif (!CKEDITOR.plugins.get('richcombo')) {\n\t\tCKEDITOR.UI_RICHCOMBO = 'richcombo';\n\n\t\tCKEDITOR.plugins.add('richcombo', {});\n\t}\n\n\t/**\n\t * CKEditor plugin that bridges the support offered by CKEditor RichCombo plugin. It takes over the\n\t * responsibility of registering and creating rich combo elements via:\n\t * - editor.ui.addRichCombo(name, definition)\n\t * - editor.ui.add(name, CKEDITOR.UI_RICHCOMBO, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_richcombobridge\n\t * @requires CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_richcombobridge', {\n\t\trequires: ['ae_uibridge'],\n\n\t\t/**\n\t\t * Set the add handler for UI_RICHCOMBO to our own. We do this in the init phase to override\n\t\t * the one in the original plugin in case it's present\n\t\t *\n\t\t * @method init\n\t\t * @param {Object} editor The CKEditor instance being initialized\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\teditor.ui.addRichCombo = function(\n\t\t\t\trichComboName,\n\t\t\t\trichComboDefinition\n\t\t\t) {\n\t\t\t\tthis.add(\n\t\t\t\t\trichComboName,\n\t\t\t\t\tCKEDITOR.UI_RICHCOMBO,\n\t\t\t\t\trichComboDefinition\n\t\t\t\t);\n\t\t\t};\n\n\t\t\teditor.ui.addHandler(CKEDITOR.UI_RICHCOMBO, {\n\t\t\t\tadd: generateRichComboBridge,\n\t\t\t\tcreate: function(richComboDefinition) {\n\t\t\t\t\tlet richComboName =\n\t\t\t\t\t\t'richComboBridge' + ((Math.random() * 1e9) >>> 0);\n\t\t\t\t\tlet RichComboBridge = generateRichComboBridge(\n\t\t\t\t\t\trichComboName,\n\t\t\t\t\t\trichComboDefinition\n\t\t\t\t\t);\n\n\t\t\t\t\treturn new RichComboBridge();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t});\n})();\n","(function() {\n\t'use strict';\n\n\t/* istanbul ignore if */\n\tif (CKEDITOR.plugins.get('ae_uibridge')) {\n\t\treturn;\n\t}\n\n\t/**\n\t * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified\n\t * on top of the original ones. It bridges the calls to add components via:\n\t * - editor.ui.add(name, type, definition)\n\t *\n\t * @class CKEDITOR.plugins.ae_uibridge\n\t * @constructor\n\t */\n\tCKEDITOR.plugins.add('ae_uibridge', {\n\t\t/**\n\t\t * Initialization of the plugin, part of CKEditor plugin lifecycle.\n\t\t *\n\t\t * @method beforeInit\n\t\t * @param {Object} editor The current editor instance\n\t\t */\n\t\tbeforeInit: function(editor) {\n\t\t\tlet originalUIAddFn = editor.ui.add;\n\n\t\t\teditor.ui.add = function(name, type, definition) {\n\t\t\t\toriginalUIAddFn.call(this, name, type, definition);\n\n\t\t\t\tlet typeHandler = this._.handlers[type];\n\n\t\t\t\tif (typeHandler && typeHandler.add) {\n\t\t\t\t\ttypeHandler.add(name, definition, editor);\n\t\t\t\t\tAlloyEditor.registerBridgeButton(\n\t\t\t\t\t\tname,\n\t\t\t\t\t\teditor.__processingPlugin__.plugin.name\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t});\n})();\n","import Attribute from './attribute.js';\nimport Lang from './lang.js';\nimport extend from './oop.js';\n\n/**\n * Quick and dirty impl of Base class.\n *\n * @class Base\n * @constructor\n */\nfunction Base(config) {\n\tBase.superclass.constructor.call(this, config);\n\n\tthis.init(config);\n}\n\nextend(Base, Attribute, {\n\t/**\n\t * Calls the `initializer` method of each class which extends Base starting from the parent to the child.\n\t * Will pass the configuration object to each initializer method.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method init\n\t * @param {Object} config Configuration object\n\t */\n\tinit: function(config) {\n\t\tthis._callChain('initializer', config);\n\t},\n\n\t/**\n\t * Calls the `destructor` method of each class which extends Base starting from the parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method destroy\n\t */\n\tdestroy: function() {\n\t\tthis._callChain('destructor');\n\t},\n\n\t/**\n\t * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.\n\t *\n\t * @instance\n\t * @memberof Base\n\t * @method _callChain\n\t * @param {Object|Array} args The arguments with which the method should be invoked\n\t * @param {String} wat  The method, which should be invoked\n\t * @protected\n\t */\n\t_callChain: function(wat, args) {\n\t\tlet arr = [];\n\n\t\tlet ctor = this.constructor;\n\n\t\twhile (ctor) {\n\t\t\tif (Lang.isFunction(ctor.prototype[wat])) {\n\t\t\t\tarr.push(ctor.prototype[wat]);\n\t\t\t}\n\n\t\t\tctor = ctor.superclass ? ctor.superclass.constructor : null;\n\t\t}\n\n\t\tarr = arr.reverse();\n\n\t\targs = Lang.isArray(args) ? args : [args];\n\n\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\tlet item = arr[i];\n\n\t\t\titem.apply(this, args);\n\t\t}\n\t},\n});\n\nexport default Base;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport WidgetExclusive from './base/widget-exclusive.js';\nimport WidgetFocusManager from './base/widget-focus-manager.js';\nimport PropTypes from 'prop-types';\n\n/**\n * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).\n *\n * @class UI\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n */\nclass UI extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\thidden: false,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\teditor.on('editorInteraction', this._onEditorInteraction, this);\n\t\teditor.on('actionPerformed', this._onActionPerformed, this);\n\t\teditor.on('key', this._onEditorKey, this);\n\n\t\t// Set up events for hiding the UI when user stops interacting with the editor.\n\t\t// This may happen when he just clicks outside of the editor. However,\n\t\t// this does not include a situation when he clicks on some button, part of\n\t\t// editor's UI.\n\n\t\t// It is not easy to debounce _setUIHidden on mousedown, because if we\n\t\t// debounce it, when the handler is being invoked, the target might be no more part\n\t\t// of the editor's UI - onActionPerformed causes re-render.\n\t\tthis._mousedownListener = event => {\n\t\t\tthis._setUIHidden(event.target);\n\t\t};\n\n\t\tthis._keyDownListener = CKEDITOR.tools.debounce(\n\t\t\t_event => {\n\t\t\t\tthis._setUIHidden(document.activeElement);\n\t\t\t},\n\t\t\tthis.props.eventsDelay,\n\t\t\tthis\n\t\t);\n\n\t\tdocument.addEventListener('mousedown', this._mousedownListener);\n\t\tdocument.addEventListener('keydown', this._keyDownListener);\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * Fires `ariaUpdate` event passing ARIA related messages.\n\t * Fires `editorUpdate` event passing the previous and current properties and state.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentDidUpdate\n\t */\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tif (domNode) {\n\t\t\teditor.fire('ariaUpdate', {\n\t\t\t\tmessage: this._getAvailableToolbarsMessage(domNode),\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('editorUpdate', {\n\t\t\tprevProps: prevProps,\n\t\t\tprevState: prevState,\n\t\t\tprops: this.props,\n\t\t\tstate: this.state,\n\t\t});\n\t}\n\n\t_getAriaUpdateTemplate(ariaUpdate) {\n\t\tif (!this._ariaUpdateTemplates) {\n\t\t\tthis._ariaUpdateTemplates = {};\n\t\t}\n\n\t\tif (!this._ariaUpdateTemplates[ariaUpdate]) {\n\t\t\tthis._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(\n\t\t\t\tthis._getAriaUpdates()[ariaUpdate]\n\t\t\t);\n\t\t}\n\n\t\treturn this._ariaUpdateTemplates[ariaUpdate];\n\t}\n\n\t/**\n\t * Returns the templates for ARIA messages.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _getAriaUpdates\n\t * @return {Object} ARIA relates messages. Default:\n\t * {\n\t *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars\n\t *  }\n\t */\n\t_getAriaUpdates() {\n\t\treturn (\n\t\t\tthis.props.ariaUpdates || {\n\t\t\t\tnoToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,\n\t\t\t\toneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,\n\t\t\t\tmanyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars,\n\t\t\t}\n\t\t);\n\t}\n\n\t/**\n\t * Returns an ARIA message which represents the number of currently available toolbars.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method _getAvailableToolbarsMessage\n\t * @protected\n\t * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.\n\t * @return {String} The ARIA message for the number of available toolbars\n\t */\n\t_getAvailableToolbarsMessage(domNode) {\n\t\tconst toolbarsNodeList = domNode.querySelectorAll('[role=\"toolbar\"]');\n\n\t\tif (!toolbarsNodeList.length) {\n\t\t\treturn this._getAriaUpdates().noToolbar;\n\t\t} else {\n\t\t\tconst toolbarNames = Array.prototype.slice\n\t\t\t\t.call(toolbarsNodeList)\n\t\t\t\t.map(toolbar => {\n\t\t\t\t\treturn toolbar.getAttribute('aria-label');\n\t\t\t\t});\n\n\t\t\tconst ariaUpdate =\n\t\t\t\ttoolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';\n\n\t\t\treturn this._getAriaUpdateTemplate(ariaUpdate).output({\n\t\t\t\ttoolbars: toolbarNames\n\t\t\t\t\t.join(',')\n\t\t\t\t\t.replace(/,([^,]*)$/, ' and ' + '$1'),\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately before a component is unmounted from the DOM.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method componentWillUnmount\n\t */\n\tcomponentWillUnmount() {\n\t\tif (this._mousedownListener) {\n\t\t\tdocument.removeEventListener('mousedown', this._mousedownListener);\n\t\t}\n\n\t\tif (this._keyDownListener) {\n\t\t\tthis._keyDownListener.detach();\n\t\t\tdocument.removeEventListener('keydown', this._keyDownListener);\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.\n\t * The editor's UI also takes care of rendering the items in exclusive mode.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.state.hidden) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet toolbars = Object.keys(this.props.toolbars).map(toolbar => {\n\t\t\treturn AlloyEditor.Toolbars[toolbar] || window[toolbar];\n\t\t});\n\n\t\ttoolbars = this.filterExclusive(toolbars).map(toolbar => {\n\t\t\tconst props = this.mergeExclusiveProps(\n\t\t\t\t{\n\t\t\t\t\tconfig: this.props.toolbars[toolbar.key],\n\t\t\t\t\teditor: this.props.editor,\n\t\t\t\t\teditorEvent: this.state.editorEvent,\n\t\t\t\t\tkey: toolbar.key,\n\t\t\t\t\tonDismiss: this._onDismissToolbarFocus,\n\t\t\t\t\tselectionData: this.state.selectionData,\n\t\t\t\t},\n\t\t\t\ttoolbar.key\n\t\t\t);\n\n\t\t\treturn React.createElement(toolbar, props);\n\t\t});\n\n\t\treturn (\n\t\t\t<div className=\"ae-toolbars\" onKeyDown={this.handleKey}>\n\t\t\t\t{toolbars}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onActionPerformed\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onActionPerformed(_event) {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\n\t\tthis.setState({\n\t\t\titemExclusive: null,\n\t\t\tselectionData: editor.getSelectionData(),\n\t\t});\n\t}\n\n\t/**\n\t * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onDismissToolbarFocus\n\t */\n\t_onDismissToolbarFocus = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\teditor.focus();\n\t};\n\n\t/**\n\t * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and\n\t * provides it via component's state property.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorInteraction\n\t * @param {SynteticEvent} event The provided event\n\t */\n\t_onEditorInteraction(event) {\n\t\tthis.setState({\n\t\t\teditorEvent: event,\n\t\t\thidden: false,\n\t\t\titemExclusive: null,\n\t\t\tselectionData: event.data.selectionData,\n\t\t});\n\t}\n\n\t/**\n\t * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _onEditorKey\n\t */\n\t_onEditorKey(event) {\n\t\tconst nativeEvent = event.data.domEvent.$;\n\n\t\tif (nativeEvent.altKey && nativeEvent.keyCode === 121) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the target with which the user interacted is part of editor's UI or it is\n\t * the editable area. If none of these, sets the state of editor's UI to be hidden.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @protected\n\t * @method _setUIHidden\n\t * @param {DOMElement} target The DOM element with which user interacted lastly.\n\t */\n\t_setUIHidden(target) {\n\t\tconst domNode = ReactDOM.findDOMNode(this);\n\n\t\tif (domNode) {\n\t\t\tconst editable = this.props.editor.get('nativeEditor').editable();\n\t\t\tconst parentNode = target.parentNode;\n\t\t\tconst targetNode = new CKEDITOR.dom.node(target);\n\n\t\t\tif (!editable) {\n\t\t\t\tthis.setState({\n\t\t\t\t\thidden: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tlet res =\n\t\t\t\t\teditable.$ === target ||\n\t\t\t\t\teditable.contains(targetNode) ||\n\t\t\t\t\tnew CKEDITOR.dom.element(domNode).contains(targetNode);\n\n\t\t\t\tif (parentNode) {\n\t\t\t\t\tres = res || parentNode.id === 'ckimgrsz';\n\t\t\t\t}\n\n\t\t\t\tif (!res) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\thidden: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof UI\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nUI.defaultProps = {\n\tcircular: true,\n\tdescendants: '[class^=ae-toolbar-]',\n\teventsDelay: 0,\n\tkeys: {\n\t\tnext: 9,\n\t},\n};\n\n/**\n * Fired when component updates and when it is rendered in the DOM.\n * The payload consists from a `message` property containing the ARIA message.\n *\n * @event ariaUpdate\n */\n\n/**\n * Fired when component updates. The payload consists from an object with the following\n * properties:\n * - prevProps - The previous properties of the component\n * - prevState - The previous state of the component\n * - props - The current properties of the component\n * - state - The current state of the component\n *\n * @event ariaUpdate\n */\n\nUI.propTypes = {\n\t/**\n\t * Localized messages for live aria updates. Should include the following messages:\n\t * - noToolbar: Notification for no available toolbar in the editor.\n\t * - oneToolbar: Notification for just one available toolbar in the editor.\n\t * - manyToolbars: Notification for more than one available toolbar in the editor.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @property {Object} ariaUpdates\n\t */\n\tariaUpdates: PropTypes.object,\n\n\t/**\n\t * The editor instance where the component is being used.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @property {Object} editor\n\t */\n\teditor: PropTypes.object.isRequired,\n\n\t/**\n\t * The delay (ms), after which key or mouse events will be processed.\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @property {Number} eventsDelay\n\t */\n\teventsDelay: PropTypes.number,\n\n\t/**\n\t * The toolbars configuration for this editor instance\n\t *\n\t * @instance\n\t * @memberof UI\n\t * @property {Object} toolbars\n\t */\n\ttoolbars: PropTypes.object.isRequired,\n};\n\nexport default WidgetExclusive(WidgetFocusManager(UI));\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","import ButtonAccessibilityImageAlt from './button-accessibility-image-alt.jsx';\nimport ButtonBackgroundColor from './button-background-color.jsx';\nimport ButtonBold from './button-bold.jsx';\nimport ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonCamera from './button-camera.jsx';\nimport ButtonCode from './button-code.jsx';\nimport ButtonColor from './button-color.jsx';\nimport ButtonCommandListItem from './button-command-list-item.jsx';\nimport ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonDropdown from './button-dropdown.jsx';\nimport ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonEmbed from './button-embed.jsx';\nimport ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonEmbedVideo from './button-embed-video.jsx';\nimport ButtonH1 from './button-h1.jsx';\nimport ButtonH2 from './button-h2.jsx';\nimport ButtonHline from './button-hline.jsx';\nimport ButtonImageAlignCenter from './button-image-align-center.jsx';\nimport ButtonImageAlignLeft from './button-image-align-left.jsx';\nimport ButtonImageAlignRight from './button-image-align-right.jsx';\nimport ButtonImage from './button-image.jsx';\nimport ButtonIndentBlock from './button-indent-block.jsx';\nimport ButtonItalic from './button-italic.jsx';\nimport ButtonItemSelectorAudio from './button-item-selector-audio.jsx';\nimport ButtonItemSelectorImage from './button-item-selector-image.jsx';\nimport ButtonItemSelectorVideo from './button-item-selector-video.jsx';\nimport ButtonLinkAutocompleteList from './button-link-autocomplete-list.jsx';\nimport ButtonLinkBrowse from './button-link-browse.jsx';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonLinkEdit from './button-link-edit.jsx';\nimport ButtonLinkTargetEdit from './button-link-target-edit.jsx';\nimport ButtonLink from './button-link.jsx';\nimport ButtonOl from './button-ol.jsx';\nimport ButtonOutdentBlock from './button-outdent-block.jsx';\nimport ButtonParagraphAlign from './button-paragraph-align.jsx';\nimport ButtonParagraphAlignLeft from './button-paragraph-align-left.jsx';\nimport ButtonParagraphAlignRight from './button-paragraph-align-right.jsx';\nimport ButtonParagraphCenter from './button-paragraph-center.jsx';\nimport ButtonParagraphJustify from './button-paragraph-justify.jsx';\nimport ButtonQuote from './button-quote.jsx';\nimport ButtonRemoveFormat from './button-remove-format.jsx';\nimport ButtonSeparator from './button-separator.jsx';\nimport ButtonSpacing from './button-spacing.jsx';\nimport ButtonStrike from './button-strike.jsx';\nimport ButtonStylesListHeader from './button-styles-list-header.jsx';\nimport ButtonStylesListItemRemove from './button-styles-list-item-remove.jsx';\nimport ButtonStylesListItem from './button-styles-list-item.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport ButtonStyles from './button-styles.jsx';\nimport ButtonSubscript from './button-subscript.jsx';\nimport ButtonSuperscript from './button-superscript.jsx';\nimport ButtonTableCell from './button-table-cell.jsx';\nimport ButtonTableColumn from './button-table-column.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\nimport ButtonTableHeading from './button-table-heading.jsx';\nimport ButtonTableRemove from './button-table-remove.jsx';\nimport ButtonTableRow from './button-table-row.jsx';\nimport ButtonTable from './button-table.jsx';\nimport ButtonTargetList from './button-target-list.jsx';\nimport ButtonTwitter from './button-twitter.jsx';\nimport ButtonUl from './button-ul.jsx';\nimport ButtonUnderline from './button-underline.jsx';\n\nexport default {\n\t[ButtonAccessibilityImageAlt.key]: ButtonAccessibilityImageAlt,\n\t[ButtonBackgroundColor.key]: ButtonBackgroundColor,\n\t[ButtonBold.key]: ButtonBold,\n\t[ButtonCameraImage.key]: ButtonCameraImage,\n\t[ButtonCamera.key]: ButtonCamera,\n\t[ButtonCode.key]: ButtonCode,\n\t[ButtonColor.key]: ButtonColor,\n\t[ButtonCommandListItem.key]: ButtonCommandListItem,\n\t[ButtonCommandsList.key]: ButtonCommandsList,\n\t[ButtonDropdown.key]: ButtonDropdown,\n\t[ButtonEmbedEdit.key]: ButtonEmbedEdit,\n\t[ButtonEmbed.key]: ButtonEmbed,\n\t[ButtonEmbedVideoEdit.key]: ButtonEmbedVideoEdit,\n\t[ButtonEmbedVideo.key]: ButtonEmbedVideo,\n\t[ButtonH1.key]: ButtonH1,\n\t[ButtonH2.key]: ButtonH2,\n\t[ButtonHline.key]: ButtonHline,\n\t[ButtonImageAlignCenter.key]: ButtonImageAlignCenter,\n\t[ButtonImageAlignLeft.key]: ButtonImageAlignLeft,\n\t[ButtonImageAlignRight.key]: ButtonImageAlignRight,\n\t[ButtonImage.key]: ButtonImage,\n\t[ButtonIndentBlock.key]: ButtonIndentBlock,\n\t[ButtonItalic.key]: ButtonItalic,\n\t[ButtonItemSelectorAudio.key]: ButtonItemSelectorAudio,\n\t[ButtonItemSelectorImage.key]: ButtonItemSelectorImage,\n\t[ButtonItemSelectorVideo.key]: ButtonItemSelectorVideo,\n\t[ButtonLinkAutocompleteList.key]: ButtonLinkAutocompleteList,\n\t[ButtonLinkBrowse.key]: ButtonLinkBrowse,\n\t[ButtonLinkEditBrowse.key]: ButtonLinkEditBrowse,\n\t[ButtonLinkEdit.key]: ButtonLinkEdit,\n\t[ButtonLinkTargetEdit.key]: ButtonLinkTargetEdit,\n\t[ButtonLink.key]: ButtonLink,\n\t[ButtonOl.key]: ButtonOl,\n\t[ButtonOutdentBlock.key]: ButtonOutdentBlock,\n\t[ButtonParagraphAlign.key]: ButtonParagraphAlign,\n\t[ButtonParagraphAlignLeft.key]: ButtonParagraphAlignLeft,\n\t[ButtonParagraphAlignRight.key]: ButtonParagraphAlignRight,\n\t[ButtonParagraphCenter.key]: ButtonParagraphCenter,\n\t[ButtonParagraphJustify.key]: ButtonParagraphJustify,\n\t[ButtonQuote.key]: ButtonQuote,\n\t[ButtonRemoveFormat.key]: ButtonRemoveFormat,\n\t[ButtonSeparator.key]: ButtonSeparator,\n\t[ButtonSpacing.key]: ButtonSpacing,\n\t[ButtonStrike.key]: ButtonStrike,\n\t[ButtonStylesListHeader.key]: ButtonStylesListHeader,\n\t[ButtonStylesListItemRemove.key]: ButtonStylesListItemRemove,\n\t[ButtonStylesListItem.key]: ButtonStylesListItem,\n\t[ButtonStylesList.key]: ButtonStylesList,\n\t[ButtonStyles.key]: ButtonStyles,\n\t[ButtonSubscript.key]: ButtonSubscript,\n\t[ButtonSuperscript.key]: ButtonSuperscript,\n\t[ButtonTableCell.key]: ButtonTableCell,\n\t[ButtonTableColumn.key]: ButtonTableColumn,\n\t[ButtonTableEdit.key]: ButtonTableEdit,\n\t[ButtonTableHeading.key]: ButtonTableHeading,\n\t[ButtonTableRemove.key]: ButtonTableRemove,\n\t[ButtonTableRow.key]: ButtonTableRow,\n\t[ButtonTable.key]: ButtonTable,\n\t[ButtonTargetList.key]: ButtonTargetList,\n\t[ButtonTwitter.key]: ButtonTwitter,\n\t[ButtonUl.key]: ButtonUl,\n\t[ButtonUnderline.key]: ButtonUnderline,\n};\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\n/**\n * The ButtonAccessibilityImageAlt class provides functionality for changing text color in a document.\n *\n * @class ButtonAccessibilityImageAlt\n * @uses ButtonProps\n * @uses ButtonStateClasses\n *\n */\nclass ButtonAccessibilityImageAlt extends React.Component {\n\tstatic key = 'AccessibilityImageAlt';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonAccessibilityImageAlt\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\t};\n\n\tconstructor(prop, context) {\n\t\tsuper(prop, context);\n\n\t\tconst element = this.props.editor\n\t\t\t.get('nativeEditor')\n\t\t\t.getSelection()\n\t\t\t.getSelectedElement();\n\n\t\tconst imageAlt = (element && element.getAttribute('alt')) || '';\n\n\t\tthis.state = {\n\t\t\telement,\n\t\t\timageAlt,\n\t\t};\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = 'ae-button ' + this.getStateClasses();\n\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn (\n\t\t\t\t<div className=\"ae-container-edit-link\">\n\t\t\t\t\t<div className=\"ae-container-input xxl\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\taria-label=\"alt\"\n\t\t\t\t\t\t\tclassName=\"ae-input\"\n\t\t\t\t\t\t\tonChange={this._handleAltChange}\n\t\t\t\t\t\t\tonKeyDown={this._handleKeyDown}\n\t\t\t\t\t\t\tplaceholder=\"alt\"\n\t\t\t\t\t\t\tref=\"refAltInput\"\n\t\t\t\t\t\t\ttitle=\"alt\"\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tvalue={this.state.imageAlt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.confirm}\n\t\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\t\tonClick={this._updateImageAlt}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.confirm}>\n\t\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"check\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName={cssClass}\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t<small className=\"ae-icon small\">Alt</small>\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Focuses the user cursor on the widget's input.\n\t *\n\t * @protected\n\t * @method _focusAltInput\n\t */\n\t_focusAltInput() {\n\t\tconst instance = this;\n\n\t\tconst focusAltEl = function() {\n\t\t\tReactDOM.findDOMNode(instance.refs.refAltInput).focus();\n\t\t};\n\n\t\tif (window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame(focusAltEl);\n\t\t} else {\n\t\t\tsetTimeout(focusAltEl, 0);\n\t\t}\n\t}\n\n\t/**\n\t * Event attached to alt input that fires when its value is changed\n\t *\n\t * @protected\n\t * @method  _handleAltChange\n\t * @param {MouseEvent} event\n\t */\n\t_handleAltChange = event => {\n\t\tthis.setState({\n\t\t\timageAlt: event.target.value,\n\t\t});\n\n\t\tthis._focusAltInput();\n\t};\n\n\t/**\n\t * Event attached to al tinput that fires when key is down\n\t * This method check that enter key is pushed to update the component´s state\n\t *\n\t * @protected\n\t * @method  _handleKeyDown\n\t * @param {MouseEvent} event\n\t */\n\t_handleKeyDown = event => {\n\t\tif (event.keyCode === 13) {\n\t\t\tevent.preventDefault();\n\n\t\t\tthis._updateImageAlt();\n\t\t}\n\t};\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonAccessibilityImageAlt.key);\n\t};\n\n\t/**\n\t * Method called by clicking ok button or pushing key enter to update imageAlt state and to update alt property from the image that is selected\n\t * This method calls cancelExclusive to show the previous toolbar before enter to edit alt property\n\t *\n\t * @protected\n\t * @method  _updateImageAlt\n\t */\n\t_updateImageAlt = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst imageAlt = this.refs.refAltInput.value;\n\n\t\tthis.setState({\n\t\t\timageAlt,\n\t\t});\n\n\t\tthis.state.element.setAttribute('alt', imageAlt);\n\n\t\teditor.fire('actionPerformed', this);\n\n\t\t// We need to cancelExclusive with the bound parameters in case the button is used\n\t\t// inside another in exclusive mode (such is the case of the alt button)\n\t\tthis.props.cancelExclusive();\n\t};\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonAccessibilityImageAlt));\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nclass ButtonBackgroundColor extends React.Component {\n\tstatic key = 'backgroundColor';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonBackgroundColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tlet activeColorClass = '';\n\n\t\tconst colors = this._getColors();\n\n\t\tconst itemStyle = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: '',\n\t\t\t},\n\t\t};\n\n\t\tcolors.forEach(item => {\n\t\t\titemStyle.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(itemStyle)) {\n\t\t\t\tactiveColor = item.name;\n\n\t\t\t\tactiveColorClass = item.style.attributes.class;\n\t\t\t}\n\t\t});\n\n\t\tconst {editor, expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\teditor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span className={activeColorClass}>\n\t\t\t\t\t\t<ButtonIcon editor={editor} symbol=\"textbox\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tstyleConfig.attributes.class = item.styleClass;\n\n\t\t\tif (this._checkActive(styleConfig)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(styleConfig));\n\t\t\t}\n\t\t});\n\n\t\tstyleConfig.attributes.class = className;\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonBackgroundColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.normal,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-body',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: '',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-primary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.disabled,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-secondary',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-success',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-danger',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-warning',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleClass: 'bg-info',\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'bg-info'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonBackgroundColor));\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonKeystroke from '../base/button-keystroke.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonBold class provides functionality for styling an selection with strong (bold) style.\n *\n * @class ButtonBold\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonBold extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bold',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 66 /* B*/,\n\t\t},\n\t\tstyle: 'coreStyles_bold',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default bold\n\t * @memberof ButtonBold\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'bold';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonBold\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button  ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bold}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-bold\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bold}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"bold\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonBold)))\n);\n","import ButtonCameraImage from './button-camera-image.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonCamera class renders in two different ways:\n *\n * - Normal: Just a button that allows to switch to the edition mode.\n * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.\n *\n * @class ButtonCamera\n */\nclass ButtonCamera extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default camera\n\t * @memberof ButtonCamera\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'camera';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCamera\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonCameraImage {...this.props} />;\n\t\t} else {\n\t\t\tconst disabled = !(\n\t\t\t\tnavigator.getUserMedia ||\n\t\t\t\t(navigator.webkitGetUserMedia &&\n\t\t\t\t\tlocation.protocol === 'https') ||\n\t\t\t\tnavigator.mozGetUserMedia ||\n\t\t\t\tnavigator.msGetUserMedia\n\t\t\t);\n\n\t\t\tconst label = disabled\n\t\t\t\t? AlloyEditor.Strings.cameraDisabled\n\t\t\t\t: AlloyEditor.Strings.camera;\n\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={label}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image-camera\"\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\tonClick={this.props.requestExclusive.bind(ButtonCamera.key)}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={label}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"camera\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonCamera;\n","import ButtonActionStyle from '../base/button-action-style.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonCode class provides wraps a selection in `pre` element.\n *\n * @class ButtonCode\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonCode extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'pre',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default code\n\t * @memberof ButtonCode\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'code';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonCode\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.code}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-code\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.code}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"code\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonCode)));\n","import ButtonProps from '../base/button-props.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The ButtonColor class provides functionality for changing text color in a document.\n *\n *\n * @class ButtonColor\n * @uses ButtonProps\n * @uses ButtonStateClasses\n */\nclass ButtonColor extends React.Component {\n\tstatic key = 'color';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonColor\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeColor = AlloyEditor.Strings.normal;\n\n\t\tlet activeColorClass = 'text-body';\n\n\t\tconst colors = this._getColors();\n\n\t\tcolors.some(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveColor = item.name;\n\n\t\t\t\tactiveColorClass = item.style.attributes.class;\n\t\t\t}\n\t\t});\n\n\t\tconst {editor, expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeColor,\n\t\t\teditor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: colors,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span className={activeColorClass}>\n\t\t\t\t\t\t<ButtonIcon editor={editor} symbol=\"text-editor\" />\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'span',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getColors().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given color definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _checkActive\n\t * @param {Object} styleConfig Color definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the color is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of colors. Each color consists of two properties:\n\t * - name - The style name, for example \"default\".\n\t * - style - An object with one property, called `element` which value\n\t *          represents the style which have to be applied to the element.\n\t * - styleFn - The function that is invoked to apply the style to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonColor\n\t * @method _getColor\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the colors.\n\t */\n\t_getColors() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.normal,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-body',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.primary,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-primary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-primary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.disabled,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-secondary',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-secondary'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.success,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-success',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-success'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.danger,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-danger',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-danger'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.warning,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-warning',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-warning'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.info,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'span',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'text-info',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'text-info'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonColor));\n","import ButtonEmbedEdit from './button-embed-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke.js';\nimport React from 'react';\n\n/**\n * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.\n * ButtonEmbed renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.\n *\n * @class ButtonEmbed\n * @uses ButtonKeystroke\n */\nclass ButtonEmbed extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /* L*/,\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default embed\n\t * @memberof ButtonEmbed\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'embed';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.link}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed\"\n\t\t\t\t\tonClick={this._requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.link}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"plus\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.\n\t *\n\t * @instance\n\t * @memberof ButtonEmbed\n\t * @method _requestExclusive\n\t * @protected\n\t */\n\t_requestExclusive = () => {\n\t\tthis.props.requestExclusive(ButtonEmbed.key);\n\t};\n}\n\nexport default ButtonKeystroke(ButtonEmbed);\n","import ButtonEmbedVideoEdit from './button-embed-video-edit.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * The ButtonEmbedVideo class provides functionality for changing text color in a document.\n *\n * @class ButtonEmbedVideo\n * @uses ButtonProps\n */\nclass ButtonEmbedVideo extends React.Component {\n\tstatic key = 'embedVideo';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof ButtonEmbedVideo\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonEmbedVideoEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-embed-video\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"video\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonProps(ButtonEmbedVideo);\n","import ButtonActionStyle from '../base/button-action-style.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonH1 class provides wraps a selection in `h1` element.\n *\n * @class ButtonH1\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH1 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h1',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h1\n\t * @memberof ButtonH1\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h1';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH1\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h1}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h1\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h1}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"h1\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH1)));\n","import ButtonActionStyle from '../base/button-action-style.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonH2 class provides wraps a selection in `h2` element.\n *\n * @class ButtonH2\n * @uses ButtonActionStyle\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonH2 extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tstyle: {\n\t\t\telement: 'h2',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default h2\n\t * @memberof ButtonH2\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'h2';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonH2\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.h2}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-h2\"\n\t\t\t\tonClick={this.applyStyle}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.h2}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"h2\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonActionStyle(ButtonStateClasses(ButtonStyle(ButtonH2)));\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonStyle from '../base/button-style.js';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonHline class provides inserts horizontal line.\n *\n * @class ButtonHline\n * @uses ButtonCommand\n * @uses ButtonStyle\n */\nclass ButtonHline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'horizontalrule',\n\t\tstyle: {\n\t\t\telement: 'hr',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default hline\n\t * @memberof ButtonHline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'hline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonHline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.horizontalrule}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-hline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.horizontalrule}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"hr\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStyle(ButtonHline));\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.\n *\n * @class ButtonImageAlignCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageCenter\n\t * @memberof ButtonImageAlignCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tsymbol=\"align-image-center\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignCenter))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonImageAlignLeft class provides functionality for aligning an image on left.\n *\n * @class ButtonImageAlignLeft\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageLeft\n\t * @memberof ButtonImageAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tsymbol=\"align-image-left\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignLeft))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonImageAlignRight class provides functionality for aligning an image on right.\n *\n * @class ButtonImageAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonImageAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default imageRight\n\t * @memberof ButtonImageAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'imageRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImageAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-image-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tsymbol=\"align-image-right\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonImageAlignRight))\n);\n","import ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonImage class inserts an image to the content.\n *\n * @class ButtonImage\n */\nclass ButtonImage extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default image\n\t * @memberof ButtonImage\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'image';\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.fileInput = React.createRef();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst inputSyle = {display: 'none'};\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.image}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-image\"\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.image}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\tsymbol=\"document-image\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\n\t\t\t\t<input\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\tonChange={this._onInputChange}\n\t\t\t\t\tref={this.fileInput}\n\t\t\t\t\tstyle={inputSyle}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Simulates click on the input element. This will open browser's native file open dialog.\n\t *\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method handleClick\n\t * @param {SyntheticEvent} event The received click event on the button.\n\t */\n\thandleClick = () => {\n\t\tthis.fileInput.current.click();\n\t};\n\n\t/**\n\t * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added\n\t * to the content. The image file will be passed in the `imageFiles` property.\n\t * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.\n\t * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.\n\t * The passed params will be:\n\t * - `el` - the created img element\n\t * - `file` - the original image file from the input element\n\t *\n\t * @fires ButtonImage#beforeImageAdd\n\t * @fires ButtonImage#imageAdd\n\t * @instance\n\t * @memberof ButtonImage\n\t * @method _onInputChange\n\t * @protected\n\t */\n\t_onInputChange() {\n\t\tconst inputEl = this.fileInput.current;\n\n\t\t// On IE11 the function might be called with an empty array of\n\t\t// files. In such a case, no actions will be taken.\n\t\tif (!inputEl.files.length) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst reader = new FileReader();\n\t\tconst file = inputEl.files[0];\n\n\t\treader.onload = event => {\n\t\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\t\tconst result = editor.fire('beforeImageAdd', {\n\t\t\t\timageFiles: file,\n\t\t\t});\n\n\t\t\tif (result) {\n\t\t\t\tconst el = CKEDITOR.dom.element.createFromHtml(\n\t\t\t\t\t`<img src=\"${event.target.result}\">`\n\t\t\t\t);\n\n\t\t\t\teditor.insertElement(el);\n\n\t\t\t\teditor.fire('actionPerformed', this);\n\n\t\t\t\tconst imageData = {\n\t\t\t\t\tel: el,\n\t\t\t\t\tfile: file,\n\t\t\t\t};\n\n\t\t\t\teditor.fire('imageAdd', imageData);\n\t\t\t}\n\t\t};\n\n\t\treader.readAsDataURL(file);\n\n\t\tinputEl.value = '';\n\t}\n}\n\nexport default ButtonImage;\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonIndentBlock class provides functionality for indenting the selected blocks.\n *\n * @class ButtonIndentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonIndentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'indent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default indentBlock\n\t * @memberof ButtonIndentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'indentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonIndentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.indent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-indent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.indent}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"indent-less\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonIndentBlock))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonItalic class provides functionality for styling an selection with italic (em) style.\n *\n * @class ButtonItalic\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonItalic extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'italic',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 73 /* I*/,\n\t\t},\n\t\tstyle: 'coreStyles_italic',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default italic\n\t * @memberof ButtonItalic\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'italic';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonItalic\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.italic}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-italic\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.italic}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"italic\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonItalic)))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * @class ButtonItemSelectorAudio\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorAudio extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'audioselector',\n\t};\n\n\tstatic key = 'audio';\n\n\tstatic propTypes = {\n\t\teditor: PropTypes.object.isRequired,\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-audio\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"audio\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorAudio);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * @class ButtonItemSelectorImage\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorImage extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'imageselector',\n\t};\n\n\tstatic key = 'image';\n\n\tstatic propTypes = {\n\t\teditor: PropTypes.object.isRequired,\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-image\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"picture\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorImage);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * @class ButtonItemSelectorVideo\n * @uses ButtonCommand\n */\nclass ButtonItemSelectorVideo extends React.Component {\n\tstatic defaultProps = {\n\t\tcommand: 'videoselector',\n\t};\n\n\tstatic key = 'video';\n\n\tstatic propTypes = {\n\t\teditor: PropTypes.object.isRequired,\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-video\"\n\t\t\t\tonClick={this._handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"video\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t_handleClick = () => {\n\t\tthis.execCommand(null);\n\t};\n}\n\nexport default ButtonCommand(ButtonItemSelectorVideo);\n","import ButtonKeystroke from '../base/button-keystroke.js';\nimport ButtonLink from './button-link.jsx';\nimport ButtonLinkEditBrowse from './button-link-edit-browse.jsx';\nimport ButtonProps from '../base/button-props.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * The ButtonLinkBrowse class provides functionality for changing text color in a document.\n *\n * @uses ButtonKeystroke\n * @uses ButtonProps\n * @uses ButtonStateClasses\n *\n * @class ButtonLinkBrowse\n */\nclass ButtonLinkBrowse extends React.Component {\n\tstatic defaultProps = {\n\t\tkeystroke: {\n\t\t\tfn: '_requestExclusive',\n\t\t\tkeys: CKEDITOR.CTRL + 76 /* L*/,\n\t\t},\n\t};\n\n\tstatic key = 'linkBrowse';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.props = this.mergeButtonCfgProps();\n\n\t\t\treturn <ButtonLinkEditBrowse {...this.props} />;\n\t\t} else {\n\t\t\treturn <ButtonLink {...this.props} />;\n\t\t}\n\t}\n\n\t/**\n\t * Requests the link button to be rendered in exclusive mode to allow the creation of a link.\n\t *\n\t * @protected\n\t * @method _requestExclusive\n\t */\n\t_requestExclusive() {\n\t\tthis.props.requestExclusive(ButtonLinkBrowse.key);\n\t}\n}\n\nexport default ButtonProps(\n\tButtonStateClasses(ButtonKeystroke(ButtonLinkBrowse))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.\n *\n * @class ButtonOrderedList\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonOrderedList extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'numberedlist',\n\t\tstyle: {\n\t\t\telement: 'ol',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ol\n\t * @memberof ButtonOrderedList\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ol';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOrderedList\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.numberedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ol\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.numberedlist}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"list-ol\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonOrderedList))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonOutdentBlock class provides functionality for outdenting blocks.\n *\n * @class ButtonOutdentBlock\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonOutdentBlock extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'outdent',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default indentBlock\n\t * @memberof ButtonOutdentBlock\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'outdentBlock';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonOutdentBlock\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.outdent}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-outdent-block\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.outdent}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"indent-more\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonOutdentBlock))\n);\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonParagraphAlign class provides functionality to work with table rows.\n *\n * @class ButtonParagraphAlign\n */\nclass ButtonParagraphAlign extends React.Component {\n\tstatic key = 'paragraphAlign';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonParagraphAlign.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tinlineIcons={false}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst activeCommand = this._getCommands()\n\t\t\t.filter(alignment => {\n\t\t\t\tconst command = editor.getCommand(alignment.command);\n\n\t\t\t\treturn command ? command.state === CKEDITOR.TRISTATE_ON : false;\n\t\t\t})\n\t\t\t.pop();\n\n\t\tconst iconClassName = activeCommand.icon;\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-container-dropdown-xsmall ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={activeCommand.label}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\t\tsymbol={iconClassName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\t\tsymbol=\"caret-bottom\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlign\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyleft',\n\t\t\t\t\ticon: 'align-left',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignLeft,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifycenter',\n\t\t\t\t\ticon: 'align-center',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignCenter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyright',\n\t\t\t\t\ticon: 'align-right',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'justifyblock',\n\t\t\t\t\ticon: 'align-justify',\n\t\t\t\t\tlabel: AlloyEditor.Strings.alignJustify,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonParagraphAlign;\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.\n *\n * @class ButtonParagraphAlignLeft\n *\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignLeft extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyleft',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphLeft\n\t * @memberof ButtonParagraphAlignLeft\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphLeft';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignLeft\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignLeft}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-left\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignLeft}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"align-left\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignLeft))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.\n *\n * @class ButtonParagraphAlignRight\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphAlignRight extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyright',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphRight\n\t * @memberof ButtonParagraphAlignRight\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphRight';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphAlignRight\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignRight}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-align-right\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignRight}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"align-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphAlignRight))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonParagraphCenter class provides functionality for centering a paragraph.\n *\n * @class ButtonParagraphCenter\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphCenter extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifycenter',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphCenter\n\t * @memberof ButtonParagraphCenter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphCenter';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphCenter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignCenter}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-center\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignCenter}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"align-center\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphCenter))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonCommandActive from '../base/button-command-active.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\n/**\n * The ButtonParagraphJustify class provides functionality for justfying a paragraph.\n *\n * @class ButtonParagraphJustify\n * @uses ButtonCommand\n * @uses ButtonCommandActive\n * @uses ButtonStateClasses\n */\nclass ButtonParagraphJustify extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'justifyblock',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default paragraphJustify\n\t * @memberof ButtonParagraphJustify\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'paragraphJustify';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonParagraphJustify\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.alignJustify}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-paragraph-justify\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.alignJustify}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"align-justify\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonCommandActive(ButtonStateClasses(ButtonParagraphJustify))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonQuote class wraps a selection in `blockquote` element.\n *\n * @class ButtonQuote\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonQuote extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'blockquote',\n\t\tstyle: {\n\t\t\telement: 'blockquote',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default quote\n\t * @memberof ButtonQuote\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'quote';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonQuote\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.quote}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-quote\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.quote}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"quote-right\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonQuote)));\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonRemoveFormat class removes style formatting.\n *\n * @class ButtonRemoveFormat\n * @uses ButtonCommand\n */\nclass ButtonRemoveFormat extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'removeFormat',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default removeFormat\n\t * @memberof ButtonRemoveFormat\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'removeFormat';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonRemoveFormat\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.removeformat}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-removeformat\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.removeformat}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"remove-style\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonRemoveFormat);\n","import React from 'react';\n\n/**\n * The ButtonSeparator function renders a simple separator.\n */\nfunction ButtonSeparator(_props) {\n\treturn <span className=\"ae-separator\" />;\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default separator\n * @memberof ButtonSeparator\n * @property {String} key\n * @static\n */\nButtonSeparator.key = 'separator';\n\nexport default ButtonSeparator;\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonProps from '../base/button-props.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\n/**\n * The ButtonSpacing class provides functionality for changing text color in a document.\n *\n * @uses ButtonProps\n * @uses ButtonStateClasses\n *\n * @class ButtonSpacing\n */\nclass ButtonSpacing extends React.Component {\n\tstatic key = 'spacing';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * The editor instance where the component is being used.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Object} editor\n\t\t */\n\t\teditor: PropTypes.object.isRequired,\n\n\t\t/**\n\t\t * Indicates whether the styles list is expanded or not.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} expanded\n\t\t */\n\t\texpanded: PropTypes.bool,\n\n\t\t/**\n\t\t * The label that should be used for accessibility purposes.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {String} label\n\t\t */\n\t\tlabel: PropTypes.string,\n\n\t\t/**\n\t\t * Indicates whether the remove styles item should appear in the styles list.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Boolean} showRemoveStylesItem\n\t\t */\n\t\tshowRemoveStylesItem: PropTypes.bool,\n\n\t\t/**\n\t\t * List of the styles the button is able to handle.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Array} styles\n\t\t */\n\t\tstyles: PropTypes.arrayOf(PropTypes.object),\n\n\t\t/**\n\t\t * The tabIndex of the button in its toolbar current state. A value other than -1\n\t\t * means that the button has focus and is the active element.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Number} tabIndex\n\t\t */\n\t\ttabIndex: PropTypes.number,\n\n\t\t/**\n\t\t * Callback provided by the button host to notify when the styles list has been expanded.\n\t\t *\n\t\t * @instance\n\t\t * @memberof Spacing\n\t\t * @property {Function} toggleDropdown\n\t\t */\n\t\ttoggleDropdown: PropTypes.func,\n\t};\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeSpacing = '1.0x';\n\n\t\tconst spacings = this._getSpacings();\n\n\t\tspacings.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveSpacing = item.name;\n\t\t\t}\n\t\t});\n\n\t\tconst {editor, expanded, tabIndex, toggleDropdown} = this.props;\n\n\t\tconst buttonStylesProps = {\n\t\t\tactiveStyle: activeSpacing,\n\t\t\teditor: editor,\n\t\t\tonDismiss: toggleDropdown,\n\t\t\tshowRemoveStylesItem: false,\n\t\t\tstyles: spacings,\n\t\t};\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-container-dropdown-small ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={expanded}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={tabIndex}>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t<ButtonIcon editor={editor} symbol=\"separator\" />\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t{activeSpacing}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t\t{expanded && <ButtonStylesList {...buttonStylesProps} />}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t_applyStyle(className) {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst styleConfig = {\n\t\t\telement: 'div',\n\t\t\tattributes: {\n\t\t\t\tclass: className,\n\t\t\t},\n\t\t};\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\teditor.getSelection().lock();\n\n\t\tthis._getSpacings().forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\teditor.removeStyle(new CKEDITOR.style(item.style));\n\t\t\t}\n\t\t});\n\n\t\teditor.applyStyle(style);\n\n\t\teditor.getSelection().unlock();\n\n\t\teditor.fire('actionPerformed', this);\n\t}\n\n\t/**\n\t * Checks if the given spacing definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _checkActive\n\t * @param {Object} styleConfig Spacing definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the spacing is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\tlet active = true;\n\n\t\tconst elementPath = nativeEditor.elementPath();\n\n\t\tif (elementPath && elementPath.lastElement) {\n\t\t\tstyleConfig.attributes.class\n\t\t\t\t.split(' ')\n\t\t\t\t.forEach(function(className) {\n\t\t\t\t\tactive =\n\t\t\t\t\t\tactive && elementPath.lastElement.hasClass(className);\n\t\t\t\t});\n\t\t} else {\n\t\t\tactive = false;\n\t\t}\n\n\t\treturn active;\n\t}\n\n\t/**\n\t * Returns an array of spacings. Each spacing consists from three properties:\n\t * - name - the style name, for example \"default\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t * - styleFn - a function which applies selected style to the editor selection\n\t *\n\t * @instance\n\t * @memberof Spacing\n\t * @method _getSpacings\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the spacings.\n\t */\n\t_getSpacings() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: '1.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: '',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, ''),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '1.5x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-1 mb-1',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-1 mb-1'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '2.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-2 mb-2',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-2 mb-2'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '3.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-3 mb-3',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-3 mb-3'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '4.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-4 mb-4',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-4 mb-4'),\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '5.0x',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'div',\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\tclass: 'mt-5 mb-5',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttype: 1,\n\t\t\t\t\t},\n\t\t\t\t\tstyleFn: this._applyStyle.bind(this, 'mt-5 mb-5'),\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonProps(ButtonStateClasses(ButtonSpacing));\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonStrike class styles a selection with strike style.\n *\n * @class ButtonStrike\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonStrike extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'strike',\n\t\tstyle: 'coreStyles_strike',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default strike\n\t * @memberof ButtonStrike\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'strike';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t * @instance\n\t * @memberof ButtonStrike\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.strike}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-strike\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.strike}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"strikethrough\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonStrike)));\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonStylesList from './button-styles-list.jsx';\nimport React from 'react';\n\n/**\n * The ButtonStyles class provides functionality for styling a selection with a list of\n * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration\n * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)\n *\n * @class ButtonStyles\n */\nclass ButtonStyles extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default styles\n\t * @memberof ButtonStyles\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'styles';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet activeStyle = AlloyEditor.Strings.normal;\n\n\t\tconst styles = this._getStyles();\n\n\t\tstyles.forEach(item => {\n\t\t\tif (this._checkActive(item.style)) {\n\t\t\t\tactiveStyle = item.name;\n\t\t\t}\n\t\t});\n\n\t\tlet buttonStylesList;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonStylesList = (\n\t\t\t\t<ButtonStylesList\n\t\t\t\t\tactiveStyle={activeStyle}\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t\tshowRemoveStylesItem={this.props.showRemoveStylesItem}\n\t\t\t\t\tstyles={styles}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles + ' ' + activeStyle}\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.styles + ' ' + activeStyle}>\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeStyle}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\t\tsymbol=\"caret-bottom\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonStylesList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Checks if the given style definition is applied to the current selection in the editor.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _checkActive\n\t * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.\n\t * @protected\n\t * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.\n\t */\n\t_checkActive(styleConfig) {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\t// Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting\n\t\t// to a 'span' element works for most of those cases with no defined element.\n\t\tstyleConfig = CKEDITOR.tools.merge({element: 'span'}, styleConfig);\n\n\t\tconst style = new CKEDITOR.style(styleConfig);\n\n\t\treturn style.checkActive(nativeEditor.elementPath(), nativeEditor);\n\t}\n\n\t/**\n\t * Returns an array of styles. Each style consists from two properties:\n\t * - name - the style name, for example \"h1\"\n\t * - style - an object with one property, called `element` which value\n\t * represents the style which have to be applied to the element.\n\t *\n\t * @instance\n\t * @memberof ButtonStyles\n\t * @method _getStyles\n\t * @protected\n\t * @return {Array<object>} An array of objects containing the styles.\n\t */\n\t_getStyles() {\n\t\treturn (\n\t\t\tthis.props.styles || [\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h1,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h1',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.h2,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'h2',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.formatted,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'pre',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.cite,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'cite',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: AlloyEditor.Strings.code,\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\telement: 'code',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonStyles;\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonSubscript class provides functionality for applying subscript style to a text selection.\n *\n * @class ButtonSubscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSubscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'subscript',\n\t\tstyle: 'coreStyles_subscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default subscript\n\t * @memberof ButtonSubscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'subscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSubscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.subscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-subscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.subscript}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"subscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(ButtonStateClasses(ButtonStyle(ButtonSubscript)));\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.\n *\n * @class ButtonSuperscript\n *\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonSuperscript extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'superscript',\n\t\tstyle: 'coreStyles_superscript',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default superscript\n\t * @memberof ButtonSuperscript\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'superscript';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonSuperscript\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.superscript}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-superscript\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.superscript}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"superscript\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonSuperscript))\n);\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableCell class provides functionality to work with table cells.\n *\n * @class ButtonTableCell\n */\nclass ButtonTableCell extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableCell\n\t * @memberof ButtonTableCell\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableCell';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableCell.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.cell}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.cell}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"add-cell\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableCell\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellDelete,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMerge',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMerge,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeDown',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeDown,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellMergeRight',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellMergeRight,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellHorizontalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitHorizontal,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'cellVerticalSplit',\n\t\t\t\t\tlabel: AlloyEditor.Strings.cellSplitVertical,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableCell;\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableColumn class provides functionality to work with table columns.\n *\n * @class ButtonTableColumn\n */\nclass ButtonTableColumn extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableColumn\n\t * @memberof ButtonTableColumn\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableColumn';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableColumn.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.column}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.column}>\n\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\tsymbol=\"add-column\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableColumn\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'columnDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.columnDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableColumn;\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableHeading class provides functionality to work with table heading.\n *\n * @class ButtonTableHeading\n */\nclass ButtonTableHeading extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableHeading\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableHeading';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableHeading.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\tconst activeHeading = new CKEDITOR.Table(\n\t\t\tthis.props.editor.get('nativeEditor')\n\t\t).getHeading();\n\t\tconst activeHeadingIntro = AlloyEditor.Strings.headers + ':';\n\t\tconst activeHeadingLabel =\n\t\t\tAlloyEditor.Strings['headers' + activeHeading];\n\n\t\treturn (\n\t\t\t<div className=\"ae-container-dropdown-xl ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label=\"\"\n\t\t\t\t\tclassName=\"ae-toolbar-element\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle=\"\">\n\t\t\t\t\t<div className=\"ae-container\">\n\t\t\t\t\t\t<span className=\"ae-container-dropdown-selected-item\">\n\t\t\t\t\t\t\t{activeHeadingIntro}{' '}\n\t\t\t\t\t\t\t<strong>{activeHeadingLabel}</strong>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<ButtonIcon\n\t\t\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\t\t\tsymbol=\"caret-bottom\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableHeading\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingNone',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersNone,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingRow',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersRow,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingColumn',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersColumn,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'tableHeadingBoth',\n\t\t\t\t\tlabel: AlloyEditor.Strings.headersBoth,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableHeading;\n","import ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableRemove class provides functionality for removing a table\n *\n * @class ButtonTableRemove\n */\nclass ButtonTableRemove extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRemove\n\t * @memberof ButtonTableRemove\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRemove';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.deleteTable}\n\t\t\t\tclassName=\"ae-button\"\n\t\t\t\tdata-type=\"button-table-remove\"\n\t\t\t\tonClick={this._removeTable}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.deleteTable}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"trash\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Removes the table in the editor element.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRemove\n\t * @method _removeTable\n\t * @protected\n\t */\n\t_removeTable = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\t\tconst tableUtils = new CKEDITOR.Table(editor);\n\n\t\ttableUtils.remove();\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n}\n\nexport default ButtonTableRemove;\n","import ButtonCommandsList from './button-commands-list.jsx';\nimport ButtonIcon from './button-icon.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTableRow class provides functionality to work with table rows.\n *\n * @class ButtonTableRow\n */\nclass ButtonTableRow extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default tableRow\n\t * @memberof ButtonTableRow\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'tableRow';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet buttonCommandsList;\n\t\tlet buttonCommandsListId;\n\n\t\tif (this.props.expanded) {\n\t\t\tbuttonCommandsListId = ButtonTableRow.key + 'List';\n\t\t\tbuttonCommandsList = (\n\t\t\t\t<ButtonCommandsList\n\t\t\t\t\tcommands={this._getCommands()}\n\t\t\t\t\teditor={this.props.editor}\n\t\t\t\t\tlistId={buttonCommandsListId}\n\t\t\t\t\tonDismiss={this.props.toggleDropdown}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"ae-container ae-has-dropdown\">\n\t\t\t\t<button\n\t\t\t\t\taria-expanded={this.props.expanded}\n\t\t\t\t\taria-label={AlloyEditor.Strings.row}\n\t\t\t\t\taria-owns={buttonCommandsListId}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tonClick={this.props.toggleDropdown}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.row}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"add-row\" />\n\t\t\t\t</button>\n\t\t\t\t{buttonCommandsList}\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of commands. If a list of commands was passed\n\t * as property `commands`, it will take a precedence over the default ones.\n\t *\n\t * @instance\n\t * @memberof ButtonTableRow\n\t * @method _getCommands\n\t * @protected\n\t * @return {Array} The list of available commands.\n\t */\n\t_getCommands() {\n\t\treturn (\n\t\t\tthis.props.commands || [\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertBefore',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertBefore,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowInsertAfter',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowInsertAfter,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tcommand: 'rowDelete',\n\t\t\t\t\tlabel: AlloyEditor.Strings.rowDelete,\n\t\t\t\t},\n\t\t\t]\n\t\t);\n\t}\n}\n\nexport default ButtonTableRow;\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonTableEdit from './button-table-edit.jsx';\nimport React from 'react';\n\n/**\n * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable\n * renders in two different modes:\n *\n * - Normal: Just a button that allows to switch to the edition mode\n * - Exclusive: The ButtonTableEdit UI with all the table edition controls.\n *\n * @class ButtonTable\n */\nclass ButtonTable extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default table\n\t * @memberof ButtonTable\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'table';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTable\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tif (this.props.renderExclusive) {\n\t\t\treturn <ButtonTableEdit {...this.props} />;\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\taria-label={AlloyEditor.Strings.table}\n\t\t\t\t\tclassName=\"ae-button\"\n\t\t\t\t\tdata-type=\"button-table\"\n\t\t\t\t\tonClick={this.props.requestExclusive}\n\t\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\t\ttitle={AlloyEditor.Strings.table}>\n\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"table\" />\n\t\t\t\t</button>\n\t\t\t);\n\t\t}\n\t}\n}\n\nexport default ButtonTable;\n","import ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport React from 'react';\n\nconst MAX_TWEET_LENGTH = 280;\n\n/**\n * The ButtonTwitter class provides functionality for creating a link which\n * allows people to tweet part of the content in the editor.\n *\n * @class ButtonTwitter\n * @uses ButtonStateClasses\n */\nclass ButtonTwitter extends React.Component {\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default twitter\n\t * @memberof ButtonTwitter\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'twitter';\n\n\t/**\n\t * Creates or removes the twitter link on the selection.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method handleClick\n\t */\n\thandleClick = () => {\n\t\tconst editor = this.props.editor.get('nativeEditor');\n\n\t\tconst linkUtils = new CKEDITOR.Link(editor);\n\n\t\tif (this.isActive()) {\n\t\t\tlinkUtils.remove(linkUtils.getFromSelection());\n\t\t} else {\n\t\t\tlinkUtils.create(this._getHref(), {\n\t\t\t\tclass: 'ae-twitter-link',\n\t\t\t\ttarget: '_blank',\n\t\t\t});\n\t\t}\n\n\t\teditor.fire('actionPerformed', this);\n\t};\n\n\t/**\n\t * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method isActive\n\t * @return {Boolean} True if the selection is inside a twitter link, false otherwise.\n\t */\n\tisActive() {\n\t\tconst link = new CKEDITOR.Link(\n\t\t\tthis.props.editor.get('nativeEditor')\n\t\t).getFromSelection();\n\n\t\treturn (\n\t\t\tlink &&\n\t\t\tlink.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1\n\t\t);\n\t}\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.twitter}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-twitter\"\n\t\t\t\tonClick={this.handleClick}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.twitter}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"twitter\" />\n\t\t\t</button>\n\t\t);\n\t}\n\n\t/**\n\t * Generates the appropriate twitter url based on the selected text and the configuration\n\t * options received via props.\n\t *\n\t * @instance\n\t * @memberof ButtonTwitter\n\t * @method _getHref\n\t * @protected\n\t * @return {String} A valid twitter url with the selected text and given configuration.\n\t */\n\t_getHref() {\n\t\tconst nativeEditor = this.props.editor.get('nativeEditor');\n\t\tconst selectedText = nativeEditor\n\t\t\t.getSelection()\n\t\t\t.getSelectedText()\n\t\t\t.substring(0, MAX_TWEET_LENGTH);\n\t\tconst url = this.props.url;\n\t\tlet via = this.props.via;\n\t\tlet twitterHref =\n\t\t\t'https://twitter.com/intent/tweet?text=' + selectedText;\n\n\t\tif (url) {\n\t\t\ttwitterHref += '&url=' + url;\n\t\t}\n\n\t\tif (via) {\n\t\t\ttwitterHref += '&via=' + via;\n\t\t}\n\n\t\treturn twitterHref;\n\t}\n}\n\nexport default ButtonStateClasses(ButtonTwitter);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.\n *\n * @class ButtonUnorderedlist\n * @uses ButtonCommand\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnorderedlist extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'bulletedlist',\n\t\tstyle: {\n\t\t\telement: 'ul',\n\t\t},\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default ul\n\t * @memberof ButtonUnorderedlist\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'ul';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnorderedlist\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.bulletedlist}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-ul\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.bulletedlist}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"list-ul\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonStateClasses(ButtonStyle(ButtonUnorderedlist))\n);\n","import ButtonCommand from '../base/button-command.js';\nimport ButtonIcon from './button-icon.jsx';\nimport ButtonKeystroke from '../base/button-keystroke.js';\nimport ButtonStateClasses from '../base/button-state-classes.js';\nimport ButtonStyle from '../base/button-style.js';\nimport React from 'react';\n\n/**\n * The ButtonUnderline class provides functionality for underlying a text selection.\n *\n * @class ButtonUnderline\n * @uses ButtonCommand\n * @uses ButtonKeystroke\n * @uses ButtonStateClasses\n * @uses ButtonStyle\n */\nclass ButtonUnderline extends React.Component {\n\t/**\n\t * Lifecycle. Returns the default values of the properties used in the widget.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method getDefaultProps\n\t * @return {Object} The default properties.\n\t */\n\tstatic defaultProps = {\n\t\tcommand: 'underline',\n\t\tkeystroke: {\n\t\t\tfn: 'execCommand',\n\t\t\tkeys: CKEDITOR.CTRL + 85 /* U*/,\n\t\t},\n\t\tstyle: 'coreStyles_underline',\n\t};\n\n\t/**\n\t * The name which will be used as an alias of the button in the configuration.\n\t *\n\t * @default underline\n\t * @memberof ButtonUnderline\n\t * @property {String} key\n\t * @static\n\t */\n\tstatic key = 'underline';\n\n\t/**\n\t * Lifecycle. Renders the UI of the button.\n\t *\n\t * @instance\n\t * @memberof ButtonUnderline\n\t * @method render\n\t * @return {Object} The content which should be rendered.\n\t */\n\trender() {\n\t\tconst cssClass = `ae-button ${this.getStateClasses()}`;\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\taria-label={AlloyEditor.Strings.underline}\n\t\t\t\taria-pressed={cssClass.indexOf('pressed') !== -1}\n\t\t\t\tclassName={cssClass}\n\t\t\t\tdata-type=\"button-underline\"\n\t\t\t\tonClick={this.execCommand}\n\t\t\t\ttabIndex={this.props.tabIndex}\n\t\t\t\ttitle={AlloyEditor.Strings.underline}>\n\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"underline\" />\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nexport default ButtonCommand(\n\tButtonKeystroke(ButtonStateClasses(ButtonStyle(ButtonUnderline)))\n);\n","import ToolbarAdd from './toolbar-add.jsx';\nimport ToolbarStyles from './toolbar-styles.jsx';\n\nexport default {\n\t[ToolbarAdd.key]: ToolbarAdd,\n\t[ToolbarStyles.key]: ToolbarStyles,\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ToolbarButtons from '../base/toolbar-buttons.js';\nimport WidgetArrowBox from '../base/widget-arrow-box.js';\nimport WidgetDropdown from '../base/widget-dropdown.js';\nimport WidgetExclusive from '../base/widget-exclusive.js';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\nimport WidgetPosition from '../base/widget-position.js';\nimport ButtonIcon from '../buttons/button-icon.jsx';\n\nlet POSITION_LEFT = 1;\nlet POSITION_RIGHT = 2;\n\n/**\n * The ToolbarAdd class provides functionality for adding content to the editor.\n *\n * @class ToolbarAdd\n * @uses ToolbarButtons\n * @uses WidgetArrowBox\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n * @uses WidgetPosition\n */\nclass ToolbarAdd extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\n\t\t// In case of exclusive rendering, focus the first descendant (button)\n\t\t// so the user will be able to start interacting with the buttons immediately.\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\t// Some operations such as `requestExclusive` may force editor to blur which will\n\t\t// invalidate the `props.editorEvent` stored value, without causing a `props` change.\n\t\t// For example, if the editor is empty, `ae_placeholder` plugin will remove\n\t\t// the target from the DOM and will prevent `add` toolbar from rendering.\n\t\t//\n\t\t// It should be safe to assume that if you have been able to render the toolbar\n\t\t// and request the exclusive mode, then rendering might be kept until the exclusive mode is left.\n\t\tif (\n\t\t\t!this.state.itemExclusive &&\n\t\t\tthis.props.editorEvent &&\n\t\t\tthis.props.editorEvent.data.nativeEvent.target &&\n\t\t\t!this.props.editorEvent.data.nativeEvent.target.isContentEditable\n\t\t) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet buttons = this._getButtons();\n\t\tlet className = this._getToolbarClassName();\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\tclassName={className}\n\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\trole=\"toolbar\"\n\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t<div className=\"ae-container\">{buttons}</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t/**\n\t * Returns a list of buttons that will eventually render to HTML.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getButtons\n\t * @protected\n\t * @return {Object} The buttons which have to be rendered.\n\t */\n\t_getButtons() {\n\t\tlet buttons;\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tbuttons = this.getToolbarButtons(this.props.config.buttons);\n\t\t} else {\n\t\t\tif (this.props.selectionData && this.props.selectionData.region) {\n\t\t\t\tbuttons = (\n\t\t\t\t\t<button\n\t\t\t\t\t\taria-label={AlloyEditor.Strings.add}\n\t\t\t\t\t\tclassName=\"ae-button ae-button-add\"\n\t\t\t\t\t\tonClick={this.props.requestExclusive.bind(\n\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\tToolbarAdd.key\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttitle={AlloyEditor.Strings.add}>\n\t\t\t\t\t\t<ButtonIcon editor={this.props.editor} symbol=\"plus\" />\n\t\t\t\t\t</button>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn buttons;\n\t}\n\n\t/**\n\t * Returns the class name of the toolbar in case of both exclusive and normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _getToolbarClassName\n\t * @protected\n\t * @return {String} The class name which have to be applied to the DOM element.\n\t */\n\t_getToolbarClassName() {\n\t\tlet cssClass = 'ae-toolbar-add';\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tcssClass = 'ae-toolbar ' + this.getArrowBoxClasses();\n\t\t}\n\n\t\treturn cssClass;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar in exclusive or normal mode.\n\t *\n\t * @instance\n\t * @memberof ToolbarAdd\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\tlet region;\n\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.props.renderExclusive) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t} else {\n\t\t\tif (this.props.selectionData) {\n\t\t\t\tregion = this.props.selectionData.region;\n\t\t\t}\n\n\t\t\tif (region) {\n\t\t\t\tlet domNode = ReactDOM.findDOMNode(this);\n\n\t\t\t\tlet domElement = new CKEDITOR.dom.element(domNode);\n\n\t\t\t\tlet startRect = region.startRect || region;\n\n\t\t\t\tlet nativeEditor = this.props.editor.get('nativeEditor');\n\n\t\t\t\tlet clientRect = nativeEditor.editable().getClientRect();\n\n\t\t\t\tlet offsetLeft;\n\n\t\t\t\tlet position =\n\t\t\t\t\tthis.props.config.position || this.props.position;\n\n\t\t\t\tif (position === POSITION_LEFT) {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.left -\n\t\t\t\t\t\tdomNode.offsetWidth -\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t} else {\n\t\t\t\t\toffsetLeft =\n\t\t\t\t\t\tclientRect.right +\n\t\t\t\t\t\tthis.props.gutterExclusive.left +\n\t\t\t\t\t\t'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.left = offsetLeft;\n\n\t\t\t\tdomNode.style.top =\n\t\t\t\t\tMath.floor((region.bottom + region.top) / 2) + 'px';\n\n\t\t\t\tconst uiNode = this.props.editor.get('uiNode');\n\n\t\t\t\tconst scrollTop = uiNode ? uiNode.scrollTop : 0;\n\n\t\t\t\tif (nativeEditor.element.getStyle('overflow') !== 'auto') {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tregion.top -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2 +\n\t\t\t\t\t\t\t\tstartRect.height / 2 +\n\t\t\t\t\t\t\t\tscrollTop\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t} else {\n\t\t\t\t\tdomNode.style.top =\n\t\t\t\t\t\tMath.floor(\n\t\t\t\t\t\t\tnativeEditor.element.$.offsetTop +\n\t\t\t\t\t\t\t\tstartRect.height / 2 -\n\t\t\t\t\t\t\t\tdomNode.offsetHeight / 2\n\t\t\t\t\t\t) + 'px';\n\t\t\t\t}\n\n\t\t\t\tdomNode.style.opacity = 1;\n\n\t\t\t\tdomElement.removeClass('ae-arrow-box');\n\n\t\t\t\tthis.cancelAnimation();\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default add\n * @memberof ToolbarAdd\n * @property {String} key\n * @static\n */\nToolbarAdd.key = 'add';\n\n/**\n * Defines the constant for positioning the Toolbar on left of the editable area.\n *\n * @default 1\n * @memberof ToolbarAdd\n * @property {String} left\n * @static\n */\nToolbarAdd.left = POSITION_LEFT;\n\n/**\n * Defines the constant for positioning the Toolbar on right of the editable area.\n *\n * @default 2\n * @memberof ToolbarAdd\n * @property {String} right\n * @static\n */\nToolbarAdd.right = POSITION_RIGHT;\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarAdd\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarAdd.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-button',\n\tgutterExclusive: {\n\t\tleft: 10,\n\t\ttop: 0,\n\t},\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n\tposition: POSITION_LEFT,\n};\n\nexport default WidgetArrowBox(\n\tWidgetDropdown(\n\t\tWidgetExclusive(\n\t\t\tWidgetFocusManager(WidgetPosition(ToolbarButtons(ToolbarAdd)))\n\t\t)\n\t)\n);\n","import Lang from '../../oop/lang.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ToolbarButtons from '../base/toolbar-buttons.js';\nimport WidgetArrowBox from '../base/widget-arrow-box.js';\nimport WidgetDropdown from '../base/widget-dropdown.js';\nimport WidgetExclusive from '../base/widget-exclusive.js';\nimport WidgetFocusManager from '../base/widget-focus-manager.js';\nimport WidgetPosition from '../base/widget-position.js';\n\n/**\n * The ToolbarStyles class hosts the buttons for styling a text selection.\n *\n * @class ToolbarStyles\n * @uses ToolbarButtons\n * @uses WidgetArrowBox\n * @uses WidgetDropdown\n * @uses WidgetExclusive\n * @uses WidgetFocusManager\n * @uses WidgetPosition\n */\nclass ToolbarStyles extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {};\n\t}\n\n\t/**\n\t * Lifecycle. Invoked once, only on the client (not on the server),\n\t * immediately after the initial rendering occurs.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidMount\n\t */\n\tcomponentDidMount() {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.\n\t * This method is not called for the initial render.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method componentDidUpdate\n\t * @param {Object} prevProps The previous state of the component's properties.\n\t * @param {Object} prevState Component's previous state.\n\t */\n\tcomponentDidUpdate(_prevProps, _prevState) {\n\t\tthis._updatePosition();\n\t}\n\n\t/**\n\t * Lifecycle. Renders the buttons for adding content or hides the toolbar\n\t * if user interacted with a non-editable element.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method render\n\t * @return {Object|null} The content which should be rendered.\n\t */\n\trender() {\n\t\tlet currentSelection = this._getCurrentSelection();\n\n\t\tif (currentSelection) {\n\t\t\tlet getArrowBoxClassesFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.getArrowBoxClasses\n\t\t\t);\n\t\t\tlet arrowBoxClasses;\n\n\t\t\tif (getArrowBoxClassesFn) {\n\t\t\t\tarrowBoxClasses = getArrowBoxClassesFn();\n\t\t\t} else {\n\t\t\t\tarrowBoxClasses = this.getArrowBoxClasses();\n\t\t\t}\n\n\t\t\tlet cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;\n\n\t\t\tlet buttons = currentSelection.buttons;\n\n\t\t\tif (typeof buttons === 'object' && !Array.isArray(buttons)) {\n\t\t\t\tbuttons =\n\t\t\t\t\tbuttons[this.props.editor.get('mode')] || buttons['simple'];\n\t\t\t}\n\n\t\t\tlet buttonsGroup = this.getToolbarButtonGroups(buttons, {\n\t\t\t\tmanualSelection: this.props.editorEvent\n\t\t\t\t\t? this.props.editorEvent.data.manualSelection\n\t\t\t\t\t: null,\n\t\t\t\tselectionType: currentSelection.name,\n\t\t\t});\n\n\t\t\tlet hasGroups =\n\t\t\t\tbuttonsGroup.filter(function(button) {\n\t\t\t\t\treturn Array.isArray(button);\n\t\t\t\t}).length > 0;\n\n\t\t\tlet className = 'ae-container';\n\n\t\t\tif (hasGroups) {\n\t\t\t\tclassName += ' ae-container-column';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div\n\t\t\t\t\taria-label={AlloyEditor.Strings.styles}\n\t\t\t\t\tclassName={cssClasses}\n\t\t\t\t\tdata-tabindex={this.props.config.tabIndex || 0}\n\t\t\t\t\tonFocus={this.focus.bind(this)}\n\t\t\t\t\tonKeyDown={this.handleKey.bind(this)}\n\t\t\t\t\trole=\"toolbar\"\n\t\t\t\t\ttabIndex=\"-1\">\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t\t{buttonsGroup.map(function(value, index) {\n\t\t\t\t\t\t\tif (Array.isArray(value)) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div className=\"ae-row\" key={index}>\n\t\t\t\t\t\t\t\t\t\t{value.map(function(button) {\n\t\t\t\t\t\t\t\t\t\t\treturn button;\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Retrieve a function from String. It converts a fully qualified string into the mapped function.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getSelectionFunction\n\t * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').\n\t * @protected\n\t * @return {Function} The mapped function.\n\t */\n\t_getSelectionFunction(selectionFn) {\n\t\tlet selectionFunction;\n\n\t\tif (Lang.isFunction(selectionFn)) {\n\t\t\tselectionFunction = selectionFn;\n\t\t} else if (Lang.isString(selectionFn)) {\n\t\t\tlet parts = selectionFn.split('.');\n\t\t\tlet currentMember = window;\n\t\t\tlet property = parts.shift();\n\n\t\t\twhile (\n\t\t\t\tproperty &&\n\t\t\t\tLang.isObject(currentMember) &&\n\t\t\t\tLang.isObject(currentMember[property])\n\t\t\t) {\n\t\t\t\tcurrentMember = currentMember[property];\n\t\t\t\tproperty = parts.shift();\n\t\t\t}\n\n\t\t\tif (Lang.isFunction(currentMember)) {\n\t\t\t\tselectionFunction = currentMember;\n\t\t\t}\n\t\t}\n\n\t\treturn selectionFunction;\n\t}\n\n\t/**\n\t * Analyzes the current editor selection and returns the selection configuration that matches.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _getCurrentSelection\n\t * @protected\n\t * @return {Object} The matched selection configuration.\n\t */\n\t_getCurrentSelection() {\n\t\tlet eventPayload = this.props.editorEvent\n\t\t\t? this.props.editorEvent.data\n\t\t\t: null;\n\t\tlet selection;\n\n\t\tif (eventPayload) {\n\t\t\tthis.props.config.selections.some(function(item) {\n\t\t\t\tlet testFn = this._getSelectionFunction(item.test);\n\t\t\t\tlet result;\n\n\t\t\t\tif (testFn) {\n\t\t\t\t\tresult =\n\t\t\t\t\t\teventPayload.manualSelection === item.name ||\n\t\t\t\t\t\ttestFn({\n\t\t\t\t\t\t\tdata: eventPayload,\n\t\t\t\t\t\t\teditor: this.props.editor,\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (result) {\n\t\t\t\t\tselection = item;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t}, this);\n\t\t}\n\n\t\treturn selection;\n\t}\n\n\t/**\n\t * Calculates and sets the position of the toolbar.\n\t *\n\t * @instance\n\t * @memberof ToolbarStyles\n\t * @method _updatePosition\n\t * @protected\n\t */\n\t_updatePosition() {\n\t\t// If component is not mounted, there is nothing to do\n\t\tif (!ReactDOM.findDOMNode(this)) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet currentSelection = this._getCurrentSelection();\n\t\tlet result;\n\n\t\t// If current selection has a function called `setPosition`, call it\n\t\t// and check the returned value. If false, fallback to the default positioning logic.\n\t\tif (currentSelection) {\n\t\t\tlet setPositionFn = this._getSelectionFunction(\n\t\t\t\tcurrentSelection.setPosition\n\t\t\t);\n\n\t\t\tif (setPositionFn) {\n\t\t\t\tresult = setPositionFn.call(this, {\n\t\t\t\t\teditor: this.props.editor,\n\t\t\t\t\teditorEvent: this.props.editorEvent,\n\t\t\t\t\tselectionData: this.props.selectionData,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!result) {\n\t\t\tthis.updatePosition();\n\t\t\tthis.show();\n\t\t}\n\t}\n}\n\n/**\n * Lifecycle. Returns the default values of the properties used in the widget.\n *\n * @instance\n * @memberof ToolbarStyles\n * @method getDefaultProps\n * @return {Object} The default properties.\n */\nToolbarStyles.defaultProps = {\n\tcircular: true,\n\tdescendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',\n\tkeys: {\n\t\tdismiss: [27],\n\t\tnext: [39, 40],\n\t\tprev: [37, 38],\n\t},\n};\n\n/**\n * The name which will be used as an alias of the button in the configuration.\n *\n * @default styles\n * @memberof ToolbarStyles\n * @property {String} key\n * @static\n */\nToolbarStyles.key = 'styles';\n\nexport default WidgetArrowBox(\n\tWidgetDropdown(\n\t\tWidgetExclusive(\n\t\t\tWidgetFocusManager(WidgetPosition(ToolbarButtons(ToolbarStyles)))\n\t\t)\n\t)\n);\n"],"sourceRoot":""}