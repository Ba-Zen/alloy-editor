(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["AlloyEditor"] = factory(require("react"), require("react-dom"));
	else
		root["AlloyEditor"] = factory(root["React"], root["ReactDOM"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./scripts/build/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/ckeditor/ckeditor.js":
/*!**********************************!*\
  !*** ./lib/ckeditor/ckeditor.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

ï»¿/*
Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
*/
(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,d={timestamp:"IA8F",version:"4.11.1",revision:"c264cac",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:"unloaded",basePath:function(){var b=window.CKEDITOR_BASEPATH||"";if(!b)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d].src.match(a);if(h){b=h[1];break}}-1==b.indexOf(":/")&&"//"!=b.slice(0,2)&&(b=0===b.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+
b:location.href.match(/^[^\?]*\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(":/")&&0!==a.indexOf("/")&&(a=this.basePath+a);this.timestamp&&"/"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf("?")?"\x26":"?")+"t\x3d"+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",
a,!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),b())}catch(c){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(b){function p(){try{document.documentElement.doScroll("left")}catch(b){setTimeout(p,1);return}a()}c.push(b);"complete"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",
a);window.attachEvent("onload",a);b=!1;try{b=!window.frameElement}catch(d){}document.documentElement.doScroll&&b&&p()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=d.getUrl;d.getUrl=function(a){return b.call(d,a)||c.call(d,a)}}return d}());
CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var d=CKEDITOR.event.prototype,b;for(b in d)null==a[b]&&(a[b]=d[b])},CKEDITOR.event.prototype=function(){function a(a){var f=d(this);return f[a]||(f[a]=new b(a))}var d=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,d=this.listeners;b<d.length;b++)if(d[b].fn==a)return b;return-1}};
return{define:function(b,d){var g=a.call(this,b);CKEDITOR.tools.extend(g,d,!0)},on:function(b,d,g,k,h){function p(a,x,w,e){a={name:b,sender:this,editor:a,data:x,listenerData:k,stop:w,cancel:e,removeListener:q};return!1===d.call(g,a)?!1:a.data}function q(){x.removeListener(b,d)}var e=a.call(this,b);if(0>e.getListenerIndex(d)){e=e.listeners;g||(g=this);isNaN(h)&&(h=10);var x=this;p.fn=d;p.priority=h;for(var w=e.length-1;0<=w;w--)if(e[w].priority<=h)return e.splice(w+1,0,p),{removeListener:q};e.unshift(p)}return{removeListener:q}},
once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},g=0,k=function(){g=1};return function(h,p,q){var e=d(this)[h];h=a;var x=g;a=g=0;if(e){var w=e.listeners;if(w.length)for(var w=w.slice(0),z,F=0;F<w.length;F++){if(e.errorProof)try{z=
w[F].call(this,q,p,b,k)}catch(v){}else z=w[F].call(this,q,p,b,k);!1===z?g=1:"undefined"!=typeof z&&(p=z);if(a||g)break}}p=g?!1:"undefined"==typeof p?!0:p;a=h;g=x;return p}}(),fireOnce:function(a,b,g){b=this.fire(a,b,g);delete d(this)[a];return b},removeListener:function(a,b){var g=d(this)[a];if(g){var k=g.getListenerIndex(b);0<=k&&g.listeners.splice(k,1)}},removeAllListeners:function(){var a=d(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=d(this)[a])&&0<a.listeners.length}}}());
CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,d){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,d,this)},CKEDITOR.editor.prototype.fireOnce=function(a,d){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,d,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));
CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),d=a.match(/edge[ \/](\d+.?\d*)/),b=-1<a.indexOf("trident/"),b=!(!d&&!b),b={ie:b,edge:!!d,webkit:!b&&-1<a.indexOf(" applewebkit/"),air:-1<a.indexOf(" adobeair/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;
return a!=b&&a!="["+b+"]"},secure:"https:"==location.protocol};b.gecko="Gecko"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf("chrome")?b.chrome=!0:b.safari=!0);var c=0;b.ie&&(c=d?parseFloat(d[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(d=a.match(/rv:([\d\.]+)/))&&(d=d[1].split("."),c=1E4*d[0]+100*(d[1]||0)+1*(d[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\/(\d+)/)[1]));
b.webkit&&(c=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass="cke_browser_"+(b.ie?"ie":b.gecko?"gecko":b.webkit?"webkit":"unknown");b.quirks&&(b.cssClass+=" cke_browser_quirks");b.ie&&(b.cssClass+=" cke_browser_ie"+(b.quirks?"6 cke_browser_iequirks":b.version));b.air&&(b.cssClass+=" cke_browser_air");
b.iOS&&(b.cssClass+=" cke_browser_ios");b.hidpi&&(b.cssClass+=" cke_hidpi");return b}());
"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement("script");a.type="text/javascript";a.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=
CKEDITOR.loadFullCore,d=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status="basic_ready",a&&a._load?a():d&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*d))})})();CKEDITOR.status="basic_loaded"}();"use strict";CKEDITOR.VERBOSITY_WARN=1;CKEDITOR.VERBOSITY_ERROR=2;CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR;CKEDITOR.warn=function(a,d){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:a,additionalData:d})};
CKEDITOR.error=function(a,d){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:a,additionalData:d})};
CKEDITOR.on("log",function(a){if(window.console&&window.console.log){var d=console[a.data.type]?a.data.type:"log",b=a.data.errorCode;if(a=a.data.additionalData)console[d]("[CKEDITOR] Error code: "+b+".",a);else console[d]("[CKEDITOR] Error code: "+b+".");console[d]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+b)}},null,null,999);CKEDITOR.dom={};
(function(){function a(a,b,e){this._minInterval=a;this._context=e;this._lastOutput=this._scheduledTimer=0;this._output=CKEDITOR.tools.bind(b,e||{});var c=this;this.input=function(){function a(){c._lastOutput=(new Date).getTime();c._scheduledTimer=0;c._call()}if(!c._scheduledTimer||!1!==c._reschedule()){var x=(new Date).getTime()-c._lastOutput;x<c._minInterval?c._scheduledTimer=setTimeout(a,c._minInterval-x):a()}}}function d(x,b,e){a.call(this,x,b,e);this._args=[];var c=this;this.input=CKEDITOR.tools.override(this.input,
function(a){return function(){c._args=Array.prototype.slice.call(arguments);a.call(this)}})}var b=[],c=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",f=/&/g,g=/>/g,k=/</g,h=/"/g,p=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,q={lt:"\x3c",gt:"\x3e",amp:"\x26",quot:'"',nbsp:"Â ",shy:"Â­"},e=function(a,b){return"#"==b[0]?String.fromCharCode(parseInt(b.slice(1),10)):q[b]};CKEDITOR.on("reset",function(){b=[]});CKEDITOR.tools={arrayCompare:function(a,b){if(!a&&!b)return!0;
if(!a||!b||a.length!=b.length)return!1;for(var e=0;e<a.length;e++)if(a[e]!=b[e])return!1;return!0},getIndex:function(a,b){for(var e=0;e<a.length;++e)if(b(a[e]))return e;return-1},clone:function(a){var b;if(a&&a instanceof Array){b=[];for(var e=0;e<a.length;e++)b[e]=CKEDITOR.tools.clone(a[e]);return b}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;b=new a.constructor;for(e in a)b[e]=
CKEDITOR.tools.clone(a[e]);return b},capitalize:function(a,b){return a.charAt(0).toUpperCase()+(b?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var b=arguments.length,e,c;"boolean"==typeof(e=arguments[b-1])?b--:"boolean"==typeof(e=arguments[b-2])&&(c=arguments[b-1],b-=2);for(var h=1;h<b;h++){var m=arguments[h],d;for(d in m)if(!0===e||null==a[d])if(!c||d in c)a[d]=m[d]}return a},prototypedCopy:function(a){var b=function(){};b.prototype=a;return new b},copy:function(a){var b={},e;for(e in a)b[e]=
a[e];return b},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},cssVendorPrefix:function(a,b,e){if(e)return c+a+":"+b+";"+a+":"+b;e={};e[a]=b;e[c+a]=b;return e},cssStyleToDomStyle:function(){var a=document.createElement("div").style,b="undefined"!=typeof a.cssFloat?"cssFloat":"undefined"!=typeof a.styleFloat?"styleFloat":"float";return function(a){return"float"==a?b:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),
buildStyleHtml:function(a){a=[].concat(a);for(var b,e=[],c=0;c<a.length;c++)if(b=a[c])/@import|[{}]/.test(b)?e.push("\x3cstyle\x3e"+b+"\x3c/style\x3e"):e.push('\x3clink type\x3d"text/css" rel\x3dstylesheet href\x3d"'+b+'"\x3e');return e.join("")},htmlEncode:function(a){return void 0===a||null===a?"":String(a).replace(f,"\x26amp;").replace(g,"\x26gt;").replace(k,"\x26lt;")},htmlDecode:function(a){return a.replace(p,e)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(h,"\x26quot;")},
htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},transformPlainTextToHtml:function(a,b){var e=b==CKEDITOR.ENTER_BR,c=this.htmlEncode(a.replace(/\r\n/g,"\n")),c=c.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;"),h=b==CKEDITOR.ENTER_P?"p":"div";if(!e){var m=/\n{2}/g;if(m.test(c))var d="\x3c"+h+"\x3e",p="\x3c/"+h+"\x3e",c=d+c.replace(m,function(){return p+d})+p}c=c.replace(/\n/g,"\x3cbr\x3e");e||(c=c.replace(new RegExp("\x3cbr\x3e(?\x3d\x3c/"+h+"\x3e)"),function(a){return CKEDITOR.tools.repeat(a,
2)}));c=c.replace(/^ | $/g,"\x26nbsp;");return c=c.replace(/(>|\s) /g,function(a,b){return b+"\x26nbsp;"}).replace(/ (?=<)/g,"\x26nbsp;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var a="e",b=0;8>b;b++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,b){var e=b(a);e.prototype=a.prototype;return e},setTimeout:function(a,b,e,c,h){h||(h=window);e||(e=
h);return h.setTimeout(function(){c?a.apply(e,[].concat(c)):a.apply(e)},b||0)},throttle:function(a,b,e){return new this.buffers.throttle(a,b,e)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(b){return b.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(b){return b.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(b){return b.replace(a,"")}}(),indexOf:function(a,b){if("function"==typeof b)for(var e=0,c=a.length;e<c;e++){if(b(a[e]))return e}else{if(a.indexOf)return a.indexOf(b);
e=0;for(c=a.length;e<c;e++)if(a[e]===b)return e}return-1},search:function(a,b){var e=CKEDITOR.tools.indexOf(a,b);return 0<=e?a[e]:null},bind:function(a,b){return function(){return a.apply(b,arguments)}},createClass:function(a){var b=a.$,e=a.base,c=a.privates||a._,h=a.proto;a=a.statics;!b&&(b=function(){e&&this.base.apply(this,arguments)});if(c)var m=b,b=function(){var a=this._||(this._={}),b;for(b in c){var e=c[b];a[b]="function"==typeof e?CKEDITOR.tools.bind(e,this):e}m.apply(this,arguments)};e&&
(b.prototype=this.prototypedCopy(e.prototype),b.prototype.constructor=b,b.base=e,b.baseProto=e.prototype,b.prototype.base=function(){this.base=e.prototype.base;e.apply(this,arguments);this.base=arguments.callee});h&&this.extend(b.prototype,h,!0);a&&this.extend(b,a,!0);return b},addFunction:function(a,e){return b.push(function(){return a.apply(e||this,arguments)})-1},removeFunction:function(a){b[a]=null},callFunction:function(a){var e=b[a];return e&&e.apply(window,Array.prototype.slice.call(arguments,
1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,b;return function(e){b=CKEDITOR.tools.trim(e+"")+"px";return a.test(b)?b:e||""}}(),convertToPx:function(){var a;return function(b){a||(a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"\x3e\x3c/div\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));if(!/%$/.test(b)){var e=0>parseFloat(b);e&&(b=b.replace("-",""));a.setStyle("width",b);b=a.$.clientWidth;
return e?-b:b}return b}}(),repeat:function(a,b){return Array(b+1).join(a)},tryThese:function(){for(var a,b=0,e=arguments.length;b<e;b++){var c=arguments[b];try{a=c();break}catch(h){}}return a},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var b=arguments,e=this;window.setTimeout(function(){a.apply(e,b)},0)}},normalizeCssText:function(a,b){var e=[],c,h=CKEDITOR.tools.parseCssText(a,!0,b);for(c in h)e.push(c+":"+h[c]);e.sort();return e.length?
e.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(a,b,e,c){a=[b,e,c];for(b=0;3>b;b++)a[b]=("0"+parseInt(a[b],10).toString(16)).slice(-2);return"#"+a.join("")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(a,b,e,c){a=b.toLowerCase();3==a.length&&(a=a.split(""),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(""));return"#"+a+c})},parseCssText:function(a,b,e){var c={};e&&(a=(new CKEDITOR.dom.element("span")).setAttribute("style",
a).getAttribute("style")||"");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||";"==a)return c;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,e,x){b&&(e=e.toLowerCase(),"font-family"==e&&(x=x.replace(/\s*,\s*/g,",")),x=CKEDITOR.tools.trim(x));c[e]=x});return c},writeCssText:function(a,b){var e,c=[];for(e in a)c.push(e+":"+a[e]);b&&c.sort();return c.join("; ")},objectCompare:function(a,b,e){var c;if(!a&&!b)return!0;if(!a||!b)return!1;
for(c in a)if(a[c]!=b[c])return!1;if(!e)for(c in b)if(a[c]!=b[c])return!1;return!0},objectKeys:function(a){var b=[],e;for(e in a)b.push(e);return b},convertArrayToObject:function(a,b){var e={};1==arguments.length&&(b=!0);for(var c=0,h=a.length;c<h;++c)e[a[c]]=b;return e},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;break}catch(b){a=a?a.replace(/.+?(?:\.|$)/,""):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,b,e){return new this.buffers.event(a,
b,e)},enableHtml5Elements:function(a,b){for(var e="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),c=e.length,h;c--;)h=a.createElement(e[c]),b&&a.appendChild(h)},checkIfAnyArrayItemMatches:function(a,b){for(var e=0,c=a.length;e<c;++e)if(a[e].match(b))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,b){for(var e in a)if(e.match(b))return!0;return!1},keystrokeToString:function(a,
b){var e=this.keystrokeToArray(a,b);e.display=e.display.join("+");e.aria=e.aria.join("+");return e},keystrokeToArray:function(a,b){var e=b&16711680,c=b&65535,h=CKEDITOR.env.mac,m=[],d=[];e&CKEDITOR.CTRL&&(m.push(h?"â":a[17]),d.push(h?a[224]:a[17]));e&CKEDITOR.ALT&&(m.push(h?"â¥":a[18]),d.push(a[18]));e&CKEDITOR.SHIFT&&(m.push(h?"â§":a[16]),d.push(a[16]));c&&(a[c]?(m.push(a[c]),d.push(a[c])):(m.push(String.fromCharCode(c)),d.push(String.fromCharCode(c))));return{display:m,aria:d}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",
getCookie:function(a){a=a.toLowerCase();for(var b=document.cookie.split(";"),e,c,h=0;h<b.length;h++)if(e=b[h].split("\x3d"),c=decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase()),c===a)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(a,b){document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)+";path\x3d/"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){var a=[],b="";if(window.crypto&&window.crypto.getRandomValues)a=
new Uint8Array(40),window.crypto.getRandomValues(a);else for(var e=0;40>e;e++)a.push(Math.floor(256*Math.random()));for(e=0;e<a.length;e++)var c="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[e]%36),b=b+(.5<Math.random()?c.toUpperCase():c);a=b;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:"\\3"+a.charAt(0)+" "+a.substring(1,a.length):""},getMouseButton:function(a){var b=(a=a.data)&&a.$;return a&&
b?CKEDITOR.env.ie&&9>CKEDITOR.env.version?4===b.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===b.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:b.button:!1},convertHexStringToBytes:function(a){var b=[],e=a.length/2,c;for(c=0;c<e;c++)b.push(parseInt(a.substr(2*c,2),16));return b},convertBytesToBase64:function(a){var b="",e=a.length,c;for(c=0;c<e;c+=3){var h=a.slice(c,c+3),m=h.length,d=[],p;if(3>m)for(p=m;3>p;p++)h[p]=0;d[0]=(h[0]&252)>>2;d[1]=(h[0]&3)<<4|h[1]>>4;d[2]=(h[1]&15)<<2|(h[2]&192)>>
6;d[3]=h[2]&63;for(p=0;4>p;p++)b=p<=m?b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(d[p]):b+"\x3d"}return b},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",
cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",
dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",
lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",
mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",
powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",
whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(a){var b={},e=this._findColor(a);e.length&&(b.color=e[0],CKEDITOR.tools.array.forEach(e,
function(b){a=a.replace(b,"")}));if(a=CKEDITOR.tools.trim(a))b.unprocessed=a;return b},margin:function(a){function b(a){e.top=c[a[0]];e.right=c[a[1]];e.bottom=c[a[2]];e.left=c[a[3]]}var e={},c=a.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(c.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}return e},border:function(a){var b={},e=a.split(/\s+/g);a=CKEDITOR.tools.style.parse._findColor(a);a.length&&(b.color=a[0]);
CKEDITOR.tools.array.forEach(e,function(a){b.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,a)?!b.width&&CKEDITOR.tools.style.parse._widthRegExp.test(a)&&(b.width=a):b.style=a});return b},_findColor:function(a){var b=[],e=CKEDITOR.tools.array,b=b.concat(a.match(this._rgbaRegExp)||[]),b=b.concat(a.match(this._hslaRegExp)||[]);return b=b.concat(e.filter(a.split(/\s+/),function(a){return a.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},
array:{filter:function(a,b,e){var c=[];this.forEach(a,function(h,d){b.call(e,h,d,a)&&c.push(h)});return c},forEach:function(a,b,e){var c=a.length,h;for(h=0;h<c;h++)b.call(e,a[h],h,a)},map:function(a,b,e){for(var c=[],h=0;h<a.length;h++)c.push(b.call(e,a[h],h,a));return c},reduce:function(a,b,e,c){for(var h=0;h<a.length;h++)e=b.call(c,e,a[h],h,a);return e},every:function(a,b,e){if(!a.length)return!0;b=this.filter(a,b,e);return a.length===b.length}},object:{findKey:function(a,b){if("object"!==typeof a)return null;
for(var e in a)if(a[e]===b)return e;return null},merge:function(a,b){var e=CKEDITOR.tools,c=e.clone(a),h=e.clone(b);e.array.forEach(e.objectKeys(h),function(a){c[a]="object"===typeof h[a]&&"object"===typeof c[a]?e.object.merge(c[a],h[a]):h[a]});return c}},getAbsoluteRectPosition:function(a,b){function e(a){if(a){var b=a.getClientRect();c.top+=b.top;c.left+=b.left;"x"in c&&"y"in c&&(c.x+=b.x,c.y+=b.y);e(a.getWindow().getFrame())}}var c=CKEDITOR.tools.copy(b);e(a.getFrame());var h=CKEDITOR.document.getWindow().getScrollPosition();
c.top+=h.y;c.left+=h.x;"x"in c&&"y"in c&&(c.y+=h.y,c.x+=h.x);c.right=c.left+c.width;c.bottom=c.top+c.height;return c}};a.prototype={reset:function(){this._lastOutput=0;this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer);this._scheduledTimer=0}};d.prototype=CKEDITOR.tools.prototypedCopy(a.prototype);d.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()};d.prototype._call=
function(){this._output.apply(this._context,this._args)};CKEDITOR.tools.buffers={};CKEDITOR.tools.buffers.event=a;CKEDITOR.tools.buffers.throttle=d;CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2})();
CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,d=function(a,b){for(var c=CKEDITOR.tools.clone(a),h=1;h<arguments.length;h++){b=arguments[h];for(var d in b)delete c[d]}return c},b={},c={},f={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},g={command:1,link:1,meta:1,noscript:1,script:1,style:1},k={},h={"#":1},p={center:1,dir:1,noframes:1};
a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},h,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,f,b,p);d={a:d(b,{a:1,button:1}),abbr:b,address:c,
area:k,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:k,bdi:b,bdo:b,blockquote:c,body:c,br:k,button:d(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:k,colgroup:{col:1},command:k,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,em:b,embed:k,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},g),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:k,html:a({head:1,
body:1},c,g),i:b,iframe:h,img:k,input:k,ins:b,kbd:b,keygen:k,label:b,legend:b,li:c,link:k,main:c,map:c,mark:b,menu:a({li:1},c),meta:k,meter:d(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:h,output:b,p:b,param:k,pre:b,progress:d(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:h,section:c,select:{optgroup:1,option:1},small:b,source:k,span:b,strong:b,style:h,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),
sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:h,tfoot:{tr:1},th:c,thead:{tr:1},time:d(b,{time:1}),title:h,tr:{th:1,td:1},track:k,u:b,ul:{li:1},"var":b,video:a({source:1,track:1},c),wbr:k,acronym:b,applet:a({param:1},c),basefont:k,big:b,center:c,dialog:k,dir:{li:1},font:b,isindex:k,noframes:c,strike:b,tt:b};a(d,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},f,p),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,
fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,
track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},d.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,
s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return d}();
CKEDITOR.dom.event=function(a){this.$=a};
CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var d=this.$;d.preventDefault?d.preventDefault():d.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=
this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;
CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(a){a&&(this.$=a)};
CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){"undefined"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData("_"))||this.setCustomData("_",a={});return a},on:function(d){var b=this.getCustomData("_cke_nativeListeners");b||(b={},this.setCustomData("_cke_nativeListeners",b));b[d]||(b=b[d]=a(this,d),this.$.addEventListener?this.$.addEventListener(d,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+
d,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData("_cke_nativeListeners"),c=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent("on"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData("_cke_nativeListeners"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent("on"+
b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}();
(function(a){var d={};CKEDITOR.on("reset",function(){d={}});a.equals=function(a){try{return a&&a.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var f=this.getUniqueId();(d[f]||(d[f]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$["data-cke-expando"];return(c=c&&d[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$["data-cke-expando"],c=c&&d[c],f,g;c&&(f=c[a],g=a in c,delete c[a]);return g?f:null};a.clearCustomData=function(){this.removeAllListeners();var a=
this.$["data-cke-expando"];a&&delete d[a]};a.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)})(CKEDITOR.dom.domObject.prototype);
CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?"document":a.nodeType==CKEDITOR.NODE_ELEMENT?"element":a.nodeType==CKEDITOR.NODE_TEXT?"text":a.nodeType==CKEDITOR.NODE_COMMENT?"comment":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](a):this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;
CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;
CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,d){a.append(this,d);return a},clone:function(a,d){function b(c){c["data-cke-expando"]&&(c["data-cke-expando"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(d||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute("id",!1),a){c=c.childNodes;for(var f=0;f<c.length;f++)b(c[f])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=
b.getName();":"==d[0]&&b.renameNode(d.substring(1))}if(a)for(d=0;d<b.getChildCount();d++)c(b.getChild(d))}}var f=this.$.cloneNode(a);b(f);f=new CKEDITOR.dom.node(f);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(f);return f},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,
a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var d=[],b=this.getDocument().$.documentElement,c=this.$;c&&c!=b;){var f=c.parentNode;f&&d.unshift(this.getIndex.call({$:c},a));c=f}return d},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function d(a,c){var p=c?a.nextSibling:a.previousSibling;return p&&p.nodeType==CKEDITOR.NODE_TEXT?b(p)?d(p,
c):p:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var c=this.$,f=-1,g;if(!this.$.parentNode||a&&c.nodeType==CKEDITOR.NODE_TEXT&&b(c)&&!d(c)&&!d(c,!0))return-1;do a&&c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(g||b(c))||(f++,g=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return f},getNextSourceNode:function(a,d,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var f;if(!a){if(this.type==
CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(f=(f||this).getParent());){if(b&&!1===b(f,!0))return null;a=f.getNext()}return!a||b&&!1===b(a)?null:d&&d!=a.type?a.getNextSourceNode(!1,d,b):a},getPreviousSourceNode:function(a,d,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var f;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(f=(f||this).getParent());){if(b&&!1===
b(f,!0))return null;a=f.getPrevious()}return!a||b&&!1===b(a)?null:d&&a.type!=d?a.getPreviousSourceNode(!1,d,b):a},getPrevious:function(a){var d=this.$,b;do b=(d=d.previousSibling)&&10!=d.nodeType&&new CKEDITOR.dom.node(d);while(b&&a&&!a(b));return b},getNext:function(a){var d=this.$,b;do b=(d=d.nextSibling)&&new CKEDITOR.dom.node(d);while(b&&a&&!a(b));return b},getParent:function(a){var d=this.$.parentNode;return d&&(d.nodeType==CKEDITOR.NODE_ELEMENT||a&&d.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?
new CKEDITOR.dom.node(d):null},getParents:function(a){var d=this,b=[];do b[a?"push":"unshift"](d);while(d=d.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var d=this.contains?this:this.getParent();do if(d.contains(a))return d;while(d=d.getParent());return null},getPosition:function(a){var d=this.$,b=a.$;if(d.compareDocumentPosition)return d.compareDocumentPosition(b);if(d==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==
CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(d.contains){if(d.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(d))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in d)return 0>d.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:d.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}d=this.getAddress();a=a.getAddress();for(var b=Math.min(d.length,a.length),c=0;c<b;c++)if(d[c]!=
a[c])return d[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return d.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,d){var b=this.$,c,f;d||(b=b.parentNode);"function"==typeof a?(f=!0,c=a):(f=!1,c=function(b){b="string"==typeof b.nodeName?b.nodeName.toLowerCase():"";return"string"==typeof a?b==a:b in a});for(;b;){if(c(f?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);
try{b=b.parentNode}catch(g){b=null}}return null},hasAscendant:function(a,d){var b=this.$;d||(b=b.parentNode);for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,d){a.append(this.remove(),d)},remove:function(a){var d=this.$,b=d.parentNode;if(b){if(a)for(;a=d.firstChild;)b.insertBefore(d.removeChild(a),d);b.removeChild(d)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&
(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var d=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(d)d.length<b&&(a.split(b-d.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},rtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var d=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(d)d.length<b&&(a.split(d.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&
(a=this.$.lastChild)&&1==a.type&&"br"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var d=this;this.type!=CKEDITOR.NODE_ELEMENT&&(d=this.getParent());CKEDITOR.env.edge&&d&&d.is("textarea","input")&&(a=!0);if(!a&&d&&"undefined"!=typeof d.$.isContentEditable)return!(d.$.isContentEditable||d.data("cke-editable"));for(;d;){if(d.data("cke-editable"))return!1;if(d.hasAttribute("contenteditable"))return"false"==d.getAttribute("contenteditable");d=d.getParent()}return!0}});
CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,d="CSS1Compat"==a.compatMode;return{width:(d?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(d?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||
a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}});CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var d=new CKEDITOR.dom.element("link");d.setAttributes({rel:"stylesheet",type:"text/css",href:a});this.getHead().append(d)}},appendStyleText:function(a){if(this.$.createStyleSheet){var d=this.$.createStyleSheet("");d.cssText=a}else{var b=new CKEDITOR.dom.element("style",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return d||
b.$.sheet},createElement:function(a,d){var b=new CKEDITOR.dom.element(a,this);d&&(d.attributes&&b.setAttributes(d.attributes),d.styles&&b.setStyles(d.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(d){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,d){for(var b=
this.$.documentElement,c=0;b&&c<a.length;c++){var f=a[c];if(d)for(var g=-1,k=0;k<b.childNodes.length;k++){var h=b.childNodes[k];if(!0!==d||3!=h.nodeType||!h.previousSibling||3!=h.previousSibling.nodeType)if(g++,g==f){b=h;break}}else b=b.childNodes[f]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,d){CKEDITOR.env.ie&&8>=document.documentMode||!d||(a=d+":"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName("head")[0];
return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open("text/html","replace");CKEDITOR.env.ie&&(a=a.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$\x26\n\x3cscript data-cke-temp\x3d"1"\x3e('+
CKEDITOR.tools.fixDomain+")();\x3c/script\x3e"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData("html5ShivFrag");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,!0),this.setCustomData("html5ShivFrag",a));return a}});CKEDITOR.dom.nodeList=function(a){this.$=a};
CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(a){return new CKEDITOR.dom.node(a)})}};CKEDITOR.dom.element=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)};
CKEDITOR.dom.element.get=function(a){return(a="string"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))};CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(a,d){var b=new CKEDITOR.dom.element("div",d);b.setHtml(a);return b.getFirst().remove()};
CKEDITOR.dom.element.setMarker=function(a,d,b,c){var f=d.getCustomData("list_marker_id")||d.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),g=d.getCustomData("list_marker_names")||d.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");a[f]=d;g[b]=1;return d.setCustomData(b,c)};CKEDITOR.dom.element.clearAllMarkers=function(a){for(var d in a)CKEDITOR.dom.element.clearMarkers(a,a[d],1)};
CKEDITOR.dom.element.clearMarkers=function(a,d,b){var c=d.getCustomData("list_marker_names"),f=d.getCustomData("list_marker_id"),g;for(g in c)d.removeCustomData(g);d.removeCustomData("list_marker_names");b&&(d.removeCustomData("list_marker_id"),delete a[f])};
(function(){function a(a,b){return-1<(" "+a+" ").replace(g," ").indexOf(" "+b+" ")}function d(a){var b=!0;a.$.id||(a.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute("id")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return"#"+c+" "+b.split(/,\s*/).join(", #"+c+" ")}function c(a){for(var b=0,c=0,e=k[a].length;c<e;c++)b+=parseFloat(this.getComputedStyle(k[a][c])||0,10)||0;return b}var f=document.createElement("_").classList,f="undefined"!==typeof f&&
null!==String(f.add).match(/\[Native code\]/gi),g=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:f?function(a){this.$.classList.add(a);return this}:function(b){var c=this.$.className;c&&(a(c,b)||(c+=" "+b));this.$.className=c||b;return this},removeClass:f?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute("class");return this}:function(b){var c=this.getAttribute("class");c&&a(c,b)&&((c=c.replace(new RegExp("(?:^|\\s+)"+
b+"(?\x3d\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",c):this.removeAttribute("class"));return this},hasClass:function(b){return a(this.$.className,b)},append:function(a,b){"string"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element("div",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=
this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is("br")||(a=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&a.setAttribute("type","_moz"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);
var e=c.extractContents(!1,b||!1),d;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=new CKEDITOR.dom.element("div");d=e.getFirst();)d.$.style.backgroundColor&&(d.$.style.backgroundColor=d.$.style.backgroundColor),c.append(d);c.insertAfter(this);c.remove(!0)}else e.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):
b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\?[^>]*>/g,""):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var a=this.$.ownerDocument.createElement("div");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(a){var b=CKEDITOR.tools.extend({},
this.$.getBoundingClientRect());!b.width&&(b.width=b.right-b.left);!b.height&&(b.height=b.bottom-b.top);return a?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),b):b},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(e){this.$.innerHTML="";b=new CKEDITOR.dom.element("body",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));
return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement("p");a.innerHTML="x";a=a.textContent;return function(b){this.$[a?"textContent":"innerText"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case "class":a="className";break;case "http-equiv":a="httpEquiv";break;case "name":return this.$.name;case "tabindex":return a=this.$.getAttribute(a,
2),0!==a&&0===this.$.tabIndex&&(a=null),a;case "checked":return a=this.$.attributes.getNamedItem(a),(a.specified?a.nodeValue:this.$.checked)?"checked":null;case "hspace":case "value":return this.$[a];case "style":return this.$.style.cssText;case "contenteditable":case "contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,e;a=CKEDITOR.tools.isArray(a)?
a:[];for(e=0;e<c.length;e++)-1===CKEDITOR.tools.indexOf(a,c[e].name)&&(b[c[e].name]=c[e].value);return b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):""}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=
function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();
if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;"HTML"!=b&&(a=b.toLowerCase()+":"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},
is:function(){var a=this.getName();if("object"==typeof arguments[0])return!!arguments[0][a];for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||
CKEDITOR.dtd.span,!(!a||!a["#"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,1);b.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);a.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=
a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var c=this.getParent();c.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;
for(var a=this.getChildren(),b=0,c=a.count();b<c;b++){var e=a.getItem(b);if(e.type!=CKEDITOR.NODE_ELEMENT||!e.data("cke-bookmark"))if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEmptyInlineRemoveable()||e.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(e.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case "class":if(this.getAttribute("class"))return!0;case "data-cke-expando":continue;
default:if(c.specified)return!0}}return!1}:function(){var a=this.$.attributes,b=a.length,c={"data-cke-expando":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var c=this.$.attributes.getNamedItem(b);if("input"==this.getName())switch(b){case "class":return 0<this.$.className.length;case "checked":return!!this.$.checked;case "value":return b=this.getAttribute("type"),"checkbox"==b||"radio"==b?"on"!=this.$.value:!!this.$.value}return c?
c.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(b){return"name"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var e;if(b)for(;e=c.lastChild;)a.insertBefore(c.removeChild(e),a.firstChild);else for(;e=c.firstChild;)a.appendChild(c.removeChild(e))}},mergeSiblings:function(){function a(b,c,e){if(c&&c.type==CKEDITOR.NODE_ELEMENT){for(var d=
[];c.data("cke-bookmark")||c.isEmptyInlineRemoveable();)if(d.push(c),c=e?c.getNext():c.getPrevious(),!c||c.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(c)){for(var h=e?b.getLast():b.getFirst();d.length;)d.shift().move(b,!e);c.moveChildren(b,!e);c.remove();h&&h.type==CKEDITOR.NODE_ELEMENT&&h.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:"",
visibility:""})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){"class"==b?this.$.className=c:"style"==b?this.$.style.cssText=c:"tabindex"==b?this.$.tabIndex=c:"checked"==b?this.$.checked=c:"contenteditable"==b?a.call(this,"contentEditable",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if("src"==b&&c.match(/^http:\/\//))try{a.apply(this,
arguments)}catch(e){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){"class"==a?a="className":"tabindex"==a?a="tabIndex":"contenteditable"==a&&(a="contentEditable");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=
0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||"border"!=a&&"margin"!=a&&"padding"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute("style");else{var c=["top","left","right","bottom"],e;"border"==a&&(e=["color","style","width"]);for(var b=[],d=0;d<c.length;d++)if(e)for(var w=
0;w<e.length;w++)b.push([a,c[d],e[w]].join("-"));else b.push([a,c[d]].join("-"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle("filter",100<=a?"":"progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+a+")")):this.setStyle("opacity",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select",
"none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var a,b=this.getElementsByTag("*"),c=0,e=b.count();c<e;c++)a=b.getItem(c),a.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var a=this;"html"!=a.getName();){if("static"!=a.getComputedStyle("position"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,e=this.getDocument(),d=e.getBody(),w="BackCompat"==e.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?
8!==CKEDITOR.env.version:1)){var f=this.$.getBoundingClientRect(),g=e.$.documentElement,v=g.clientTop||d.$.clientTop||0,m=g.clientLeft||d.$.clientLeft||0,k=!0;CKEDITOR.env.ie&&(k=e.getDocumentElement().contains(this),e=e.getBody().contains(this),k=w&&e||!w&&k);k&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=d.$.scrollLeft||g.scrollLeft,c=d.$.scrollTop||g.scrollTop):(c=w?d.$:g,b=c.scrollLeft,c=c.scrollTop),b=f.left+b-m,c=f.top+c-v)}else for(v=this,m=null;v&&"body"!=v.getName()&&
"html"!=v.getName();){b+=v.$.offsetLeft-v.$.scrollLeft;c+=v.$.offsetTop-v.$.scrollTop;v.equals(this)||(b+=v.$.clientLeft||0,c+=v.$.clientTop||0);for(;m&&!m.equals(v);)b-=m.$.scrollLeft,c-=m.$.scrollTop,m=m.getParent();m=v;v=(f=v.$.offsetParent)?new CKEDITOR.dom.element(f):null}a&&(f=this.getWindow(),v=a.getWindow(),!f.equals(v)&&f.$.frameElement&&(a=(new CKEDITOR.dom.element(f.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||
w||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is("body")&&this.scrollIntoParent(b,a,1),b.is("html")){var c=b.getWindow();try{var e=c.$.frameElement;e&&(b=new CKEDITOR.dom.element(e))}catch(d){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var e,d,w,f;function g(b,c){/body|html/.test(a.getName())?
a.getWindow().$.scrollBy(b,c):(a.$.scrollLeft+=b,a.$.scrollTop+=c)}function v(a,b){var c={x:0,y:0};if(!a.is(k?"body":"html")){var e=a.$.getBoundingClientRect();c.x=e.left;c.y=e.top}e=a.getWindow();e.equals(b)||(e=v(CKEDITOR.dom.element.get(e.$.frameElement),b),c.x+=e.x,c.y+=e.y);return c}function m(a,b){return parseInt(a.getComputedStyle("margin-"+b)||0,10)||0}!a&&(a=this.getWindow());w=a.getDocument();var k="BackCompat"==w.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=k?w.getBody():w.getDocumentElement());
CKEDITOR.env.webkit&&(w=this.getEditor(!1))&&(w._.previousScrollTop=null);w=a.getWindow();d=v(this,w);var u=v(a,w),H=this.$.offsetHeight;e=this.$.offsetWidth;var n=a.$.clientHeight,r=a.$.clientWidth;w=d.x-m(this,"left")-u.x||0;f=d.y-m(this,"top")-u.y||0;e=d.x+e+m(this,"right")-(u.x+r)||0;d=d.y+H+m(this,"bottom")-(u.y+n)||0;(0>f||0<d)&&g(0,!0===b?f:!1===b?d:0>f?f:d);c&&(0>w||0<e)&&g(0>w?w:e,0)},setState:function(a,b,c){b=b||"cke";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+"_on");this.removeClass(b+
"_off");this.removeClass(b+"_disabled");c&&this.setAttribute("aria-pressed",!0);c&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+"_disabled");this.removeClass(b+"_off");this.removeClass(b+"_on");c&&this.setAttribute("aria-disabled",!0);c&&this.removeAttribute("aria-pressed");break;default:this.addClass(b+"_off"),this.removeClass(b+"_on"),this.removeClass(b+"_disabled"),c&&this.removeAttribute("aria-pressed"),c&&this.removeAttribute("aria-disabled")}},
getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var e=0;e<c.length;e++){var d=c[e],w=d.nodeName.toLowerCase(),f;if(!(w in b))if("checked"==w&&(f=this.getAttribute(w)))a.setAttribute(w,f);else if(!CKEDITOR.env.ie||this.hasAttribute(w))f=this.getAttribute(w),null===f&&(f=d.nodeValue),a.setAttribute(w,f)}""!==this.$.style.cssText&&
(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var e=b.childNodes;if(0<=c&&c<e.length)return e[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,
b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||
"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(a,b){a="data-"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,e,d;a=a||void 0===a;for(c in b)if(e=b[c],e.element.equals(this)&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(d=e.editable())&&(d.equals(this)||d.contains(this)))return e;return null},find:function(a){var c=d(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,
a)));c();return a},findOne:function(a){var c=d(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var e=a(this);if(!1!==e){c=this.getChildren();for(var d=0;d<c.count();d++)e=c.getItem(d),e.type==CKEDITOR.NODE_ELEMENT?e.forEach(a,b):b&&e.type!=b||a(e)}}});var k={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};
CKEDITOR.dom.element.prototype.setSize=function(a,b,d){"number"==typeof b&&(!d||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+"px"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var d=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(a)],this.$["client"+CKEDITOR.tools.capitalize(a)])||0;b&&(d-=c.call(this,a));return d}})();CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a};
CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element("div");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,
insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});
(function(){function a(a,b){var c=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(c.collapsed)return this.end(),null;c.optimize()}var e,d=c.startContainer;e=c.endContainer;var f=c.startOffset,x=c.endOffset,g,n=this.guard,r=this.type,C=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var L=e.type==CKEDITOR.NODE_ELEMENT?e:e.getParent(),D=e.type==CKEDITOR.NODE_ELEMENT?e.getChild(x):e.getNext();this._.guardLTR=function(a,b){return(!b||!L.equals(a))&&(!D||
!a.equals(D))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}if(a&&!this._.guardRTL){var h=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),t=d.type==CKEDITOR.NODE_ELEMENT?f?d.getChild(f-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!h.equals(a))&&(!t||!a.equals(t))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}var E=a?this._.guardRTL:this._.guardLTR;g=n?function(a,b){return!1===E(a,b)?!1:n(a,b)}:E;this.current?e=this.current[C](!1,r,g):(a?e.type==CKEDITOR.NODE_ELEMENT&&
(e=0<x?e.getChild(x-1):!1===g(e,!0)?null:e.getPreviousSourceNode(!0,r,g)):(e=d,e.type==CKEDITOR.NODE_ELEMENT&&((e=e.getChild(f))||(e=!1===g(d,!0)?null:d.getNextSourceNode(!0,r,g)))),e&&!1===g(e)&&(e=null));for(;e&&!this._.end;){this.current=e;if(!this.evaluator||!1!==this.evaluator(e)){if(!b)return e}else if(b&&this.evaluator)return!1;e=e[C](!1,r,g)}this.end();return this.current=null}function d(b){for(var c,e=null;c=a.call(this,b);)e=c;return e}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=
a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return d.call(this)},lastBackward:function(){return d.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,
"table-column":1,"table-cell":1,"table-caption":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in c||!b[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};
CKEDITOR.dom.walker.bookmark=function(a,b){function c(a){return a&&a.getName&&"span"==a.getName()&&a.data("cke-bookmark")}return function(e){var d,f;d=e&&e.type!=CKEDITOR.NODE_ELEMENT&&(f=e.getParent())&&c(f);d=a?d:d||c(e);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var c;b&&b.type==CKEDITOR.NODE_TEXT&&(c=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);return!!(a^c)}};CKEDITOR.dom.walker.invisible=
function(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.env.webkit?1:0;return function(e){b(e)?e=1:(e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),e=e.$.offsetWidth<=c);return!!(a^e)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!g(a)&&!k(a)}return function(c){var e=CKEDITOR.env.needsBrFiller?c.is&&c.is("br"):c.getText&&f.test(c.getText());e&&(e=c.getParent(),c=c.getNext(b),e=e.isBlockBoundary()&&
(!c||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()));return!!(a^e)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute("data-cke-temp");return!!(a^b)}};var f=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,g=CKEDITOR.dom.walker.whitespaces(),k=CKEDITOR.dom.walker.bookmark(),h=CKEDITOR.dom.walker.temp(),p=function(a){return k(a)||g(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=
function(a){return function(b){b=g(b)||k(b)||h(b);return!!(a^b)}};var q=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var c=0,e=b.getChildCount();c<e;++c)if(!q(b.getChild(c)))return!!a;return!a}};var e=CKEDITOR.dom.walker.empty(),x=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},c;for(c in a)CKEDITOR.dtd[c]["#"]&&(b[c]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(a){return function(b){b=
q(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is("hr")||"false"==b.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&b.is(x)&&e(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(p(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is("br"):a.getText&&f.test(a.getText()))?a:!1}})();
CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=!0;var d=a instanceof CKEDITOR.dom.document;this.document=d?a:a.getDocument();this.root=d?a.getBody():a};
(function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function d(a,b,c,d,f){function g(a,b,c,e){var G=c?a.getPrevious():a.getNext();if(e&&k)return G;n||e?b.append(a.clone(!0,f),c):(a.remove(),q&&b.append(a,c));return G}function m(){var a,b,c,e=Math.min(O.length,l.length);for(a=0;a<e;a++)if(b=O[a],c=l[a],!b.equals(c))return a;return a-1}function h(){var b=K-1,c=E&&y&&!r.equals(C);b<B-1||b<A-1||c?(c?a.moveToPosition(C,
CKEDITOR.POSITION_BEFORE_START):A==b+1&&t?a.moveToPosition(l[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(l[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=O[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\x3cspan data-cke-bookmark\x3d"1" style\x3d"display:none"\x3e\x26nbsp;\x3c/span\x3e',a.document),c.insertAfter(b),b.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var k=0===b,q=1==b,n=2==b;b=n||q;var r=a.startContainer,C=a.endContainer,
L=a.startOffset,D=a.endOffset,N,t,E,y,I,P;if(n&&C.type==CKEDITOR.NODE_TEXT&&(r.equals(C)||r.type===CKEDITOR.NODE_ELEMENT&&r.getFirst().equals(C)))c.append(a.document.createText(C.substring(L,D)));else{C.type==CKEDITOR.NODE_TEXT?n?P=!0:C=C.split(D):0<C.getChildCount()?D>=C.getChildCount()?(C=C.getChild(D-1),t=!0):C=C.getChild(D):y=t=!0;r.type==CKEDITOR.NODE_TEXT?n?I=!0:r.split(L):0<r.getChildCount()?0===L?(r=r.getChild(L),N=!0):r=r.getChild(L-1):E=N=!0;for(var O=r.getParents(),l=C.getParents(),K=m(),
B=O.length-1,A=l.length-1,J=c,G,X,V,da=-1,Q=K;Q<=B;Q++){X=O[Q];V=X.getNext();for(Q!=B||X.equals(l[Q])&&B<A?b&&(G=J.append(X.clone(0,f))):N?g(X,J,!1,E):I&&J.append(a.document.createText(X.substring(L)));V;){if(V.equals(l[Q])){da=Q;break}V=g(V,J)}J=G}J=c;for(Q=K;Q<=A;Q++)if(c=l[Q],V=c.getPrevious(),c.equals(O[Q]))b&&(J=J.getChild(0));else{Q!=A||c.equals(O[Q])&&A<B?b&&(G=J.append(c.clone(0,f))):t?g(c,J,!1,y):P&&J.append(a.document.createText(c.substring(0,D)));if(Q>da)for(;V;)V=g(V,J,!0);J=G}n||h()}}
function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(f){return c(f)||b(f)?!0:d(f)&&!a?a=!0:f.type==CKEDITOR.NODE_TEXT&&(f.hasAscendant("pre")||CKEDITOR.tools.trim(f.getText()).length)||f.type==CKEDITOR.NODE_ELEMENT&&!f.is(g)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);return function(d){return c(d)||b(d)?!0:!a&&k(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}
function f(a){return function(){var b;return this[a?"getPreviousNode":"getNextNode"](function(a){!b&&q(a)&&(b=a);return p(a)&&!(k(a)&&a.equals(b))})}}var g={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},k=CKEDITOR.dom.walker.bogus(),h=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,p=CKEDITOR.dom.walker.editable(),q=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=
new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||
d(this,2,b,!1,"undefined"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||d(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||d(this,1,c,a,"undefined"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,f,g=this.collapsed;b=this.document.createElement("span");b.data("cke-bookmark",1);b.setStyle("display","none");b.setHtml("\x26nbsp;");a&&(d="cke_bm_"+CKEDITOR.tools.getNextNumber(),b.setAttribute("id",
d+(g?"C":"S")));g||(c=b.clone(),c.setHtml("\x26nbsp;"),a&&c.setAttribute("id",d+"E"),f=this.clone(),f.collapse(),f.insertNode(c));f=this.clone();f.collapse(!0);f.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(g?"C":"S"):b,endNode:a?d+"E":c,serializable:a,collapsed:g}},createBookmark2:function(){function a(b){var e=b.container,d=b.offset,m;m=e;var f=d;m=m.type!=CKEDITOR.NODE_ELEMENT||0===f||f==m.getChildCount()?
0:m.getChild(f-1).type==CKEDITOR.NODE_TEXT&&m.getChild(f).type==CKEDITOR.NODE_TEXT;m&&(e=e.getChild(d-1),d=e.getLength());if(e.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(m=e;d--;)if(f=m.getChild(d).getIndex(!0),0<=f){d=f;break a}d=-1}d+=1}if(e.type==CKEDITOR.NODE_TEXT){m=e;for(f=0;(m=m.getPrevious())&&m.type==CKEDITOR.NODE_TEXT;)f+=m.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;m=f;e.getText()?d+=m:(f=e.getPrevious(c),m?(d=m,e=f?f.getNext():e.getParent().getFirst()):(e=
e.getParent(),d=f?f.getIndex(!0)+1:0))}b.container=e;b.offset=d}function b(a,c){var e=c.getCustomData("cke-fillingChar");if(e){var d=a.container;e.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,f={container:this.startContainer,offset:this.startOffset},m={container:this.endContainer,offset:this.endOffset};c&&(a(f),
b(f,this.root),d||(a(m),b(m,this.root)));return{start:f.container.getAddress(c),end:d?null:m.container.getAddress(c),startOffset:f.offset,endOffset:m.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=(c=a.serializable)?this.document.getById(a.startNode):a.startNode,
a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,f;if(a.type==CKEDITOR.NODE_ELEMENT)if(f=a.getChildCount(),f>c)a=a.getChild(c);else if(1>f)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(f=b.getChildCount(),
f>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>f)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):c:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=
this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},
trim:function(a,b){var c=this.startContainer,d=this.startOffset,f=this.collapsed;if((!a||f)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var g=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(g,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();this.setStart(c,d);if(f){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;
b||f||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")?null:a}var d=new RegExp(/[^\s\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var f=1;case CKEDITOR.ENLARGE_ELEMENT:var g=function(a,b){var c=new CKEDITOR.dom.range(h);c.setStart(a,b);c.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),
e;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};e=c.next();){if(e.type!=CKEDITOR.NODE_TEXT)return!1;N=e!=a?e.getText():e.substring(b);if(d.test(N))return!1}return!0};if(this.collapsed)break;var m=this.getCommonAncestor(),h=this.root,k,q,n,r,C,L=!1,D,N;D=this.startContainer;var t=this.startOffset;D.type==CKEDITOR.NODE_TEXT?(t&&(D=!CKEDITOR.tools.trim(D.substring(0,t)).length&&D,L=!!D),D&&((r=D.getPrevious())||(n=D.getParent()))):(t&&(r=D.getChild(t-1)||D.getLast()),
r||(n=D));for(n=c(n);n||r;){if(n&&!r){!C&&n.equals(m)&&(C=!0);if(f?n.isBlockBoundary():!h.contains(n))break;L&&"inline"==n.getComputedStyle("display")||(L=!1,C?k=n:this.setStartBefore(n));r=n.getPrevious()}for(;r;)if(D=!1,r.type==CKEDITOR.NODE_COMMENT)r=r.getPrevious();else{if(r.type==CKEDITOR.NODE_TEXT)N=r.getText(),d.test(N)&&(r=null),D=/[\s\ufeff]$/.test(N);else if((r.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&r.is("br"))&&!r.data("cke-bookmark"))if(L&&CKEDITOR.dtd.$removeEmpty[r.getName()]){N=
r.getText();if(d.test(N))r=null;else for(var t=r.$.getElementsByTagName("*"),E=0,y;y=t[E++];)if(!CKEDITOR.dtd.$removeEmpty[y.nodeName.toLowerCase()]){r=null;break}r&&(D=!!N.length)}else r=null;D&&(L?C?k=n:n&&this.setStartBefore(n):L=!0);if(r){D=r.getPrevious();if(!n&&!D){n=r;r=null;break}r=D}else n=null}n&&(n=c(n.getParent()))}D=this.endContainer;t=this.endOffset;n=r=null;C=L=!1;D.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(D.substring(t)).length?L=!0:(L=!D.getLength(),t==D.getLength()?(r=D.getNext())||
(n=D.getParent()):g(D,t)&&(n=D.getParent())):(r=D.getChild(t))||(n=D);for(;n||r;){if(n&&!r){!C&&n.equals(m)&&(C=!0);if(f?n.isBlockBoundary():!h.contains(n))break;L&&"inline"==n.getComputedStyle("display")||(L=!1,C?q=n:n&&this.setEndAfter(n));r=n.getNext()}for(;r;){D=!1;if(r.type==CKEDITOR.NODE_TEXT)N=r.getText(),g(r,0)||(r=null),D=/^[\s\ufeff]/.test(N);else if(r.type==CKEDITOR.NODE_ELEMENT){if((0<r.$.offsetWidth||b&&r.is("br"))&&!r.data("cke-bookmark"))if(L&&CKEDITOR.dtd.$removeEmpty[r.getName()]){N=
r.getText();if(d.test(N))r=null;else for(t=r.$.getElementsByTagName("*"),E=0;y=t[E++];)if(!CKEDITOR.dtd.$removeEmpty[y.nodeName.toLowerCase()]){r=null;break}r&&(D=!!N.length)}else r=null}else D=1;D&&L&&(C?q=n:this.setEndAfter(n));if(r){D=r.getNext();if(!n&&!D){n=r;r=null;break}r=D}else n=null}n&&(n=c(n.getParent()))}k&&q&&(m=k.contains(q)?q:k,this.setStartBefore(m),this.setEndAfter(m));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:n=new CKEDITOR.dom.range(this.root);
h=this.root;n.setStartAt(h,CKEDITOR.POSITION_AFTER_START);n.setEnd(this.startContainer,this.startOffset);n=new CKEDITOR.dom.walker(n);var I,P,O=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),l=null,K=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable"))if(l){if(l.equals(a)){l=null;return}}else l=a;else if(l)return;var b=O(a);b||(I=a);return b},f=function(a){var b=K(a);!b&&a.is&&a.is("br")&&(P=a);return b};n.guard=K;n=n.lastBackward();
I=I||h;this.setStartAt(I,!I.is("br")&&(!n&&this.checkStartOfBlock()||n&&I.contains(n))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){n=this.clone();n=new CKEDITOR.dom.walker(n);var B=CKEDITOR.dom.walker.whitespaces(),A=CKEDITOR.dom.walker.bookmark();n.evaluator=function(a){return!B(a)&&!A(a)};if((n=n.previous())&&n.type==CKEDITOR.NODE_ELEMENT&&n.is("br"))break}n=this.clone();n.collapse();n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);n=new CKEDITOR.dom.walker(n);
n.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?f:K;I=l=P=null;n=n.lastForward();I=I||h;this.setEndAt(I,!n&&this.checkEndOfBlock()||n&&I.contains(n)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);P&&this.setEndAfter(P)}},shrink:function(a,b,c){var d="boolean"===typeof c?c:c&&"boolean"===typeof c.shrinkOnBlockBoundary?c.shrinkOnBlockBoundary:!0,f=c&&c.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var g=this.clone(),m=this.startContainer,h=this.endContainer,k=this.startOffset,
q=this.endOffset,n=c=1;m&&m.type==CKEDITOR.NODE_TEXT&&(k?k>=m.getLength()?g.setStartAfter(m):(g.setStartBefore(m),c=0):g.setStartBefore(m));h&&h.type==CKEDITOR.NODE_TEXT&&(q?q>=h.getLength()?g.setEndAfter(h):(g.setEndAfter(h),n=0):g.setEndBefore(h));var g=new CKEDITOR.dom.walker(g),r=CKEDITOR.dom.walker.bookmark(),C=CKEDITOR.dom.walker.bogus();g.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var L;g.guard=function(b,c){if(f&&C(b)||r(b))return!0;
if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||c&&b.equals(L)||!1===d&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute("contenteditable"))return!1;c||b.type!=CKEDITOR.NODE_ELEMENT||(L=b);return!0};c&&(m=g[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(m,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);n&&(g.reset(),(g=g[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(g,b?CKEDITOR.POSITION_BEFORE_END:
CKEDITOR.POSITION_AFTER_END));return!(!c&&!n)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,
0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||
(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,
b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},
fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var f=d.getBogus();f&&f.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),f=c.block,g=d.block,m=null;if(!c.blockLimit.equals(d.blockLimit))return null;
"br"!=a&&(f||(f=this.fixBlock(!0,a),g=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),g||(g=this.fixBlock(!1,a)));c=f&&this.checkStartOfBlock();d=g&&this.checkEndOfBlock();this.deleteContents();f&&f.equals(g)&&(d?(m=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(g,CKEDITOR.POSITION_AFTER_END),g=null):c?(m=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),f=null):(g=this.splitElement(f,
b||!1),f.is("ul","ol")||f.appendBogus()));return{previousBlock:f,nextBlock:g,wasStartOfBlock:c,wasEndOfBlock:d,elementPath:m}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(e){return function(a){return b(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||
e.is("table")&&a.is("caption")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?"endPath":"startPath"](),m=d.block||d.blockLimit,f;m&&!m.equals(d.root)&&!m.getFirst(a(m));)f=m.getParent(),this[b?"setEndAt":"setStartAt"](m,CKEDITOR.POSITION_AFTER_END),m.remove(1),m=f;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,
this.root)},checkBoundaryOfElement:function(a,b){var d=b==CKEDITOR.START,f=this.clone();f.collapse(d);f[d?"setStartAt":"setEndAt"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);f=new CKEDITOR.dom.walker(f);f.evaluator=c(d);return f[d?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,c)),h.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,
this.root);c=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),h.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);
a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==
CKEDITOR.NODE_ELEMENT){if("false"==b.getAttribute("contentEditable")&&!b.data("cke-editable"))return 0;if(b.is("html")||"true"==b.getAttribute("contentEditable")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),
!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&h.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);
else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var d=a,f=c,g=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(!1)&&(g=d[b?"getLast":"getFirst"](q));f||g||(g=d[b?"getPrevious":"getNext"](q));a=g}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,f,g,m=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,m[b?0:1])):c=this.clone();if(a&&
!a.is(CKEDITOR.dtd.$block))d=1;else if(f=c[b?"getNextEditableNode":"getPreviousEditableNode"]())d=1,(g=f.type==CKEDITOR.NODE_ELEMENT)&&f.is(CKEDITOR.dtd.$block)&&"false"==f.getAttribute("contenteditable")?(c.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(f,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&g&&f.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(f,0),c.collapse()):c.moveToPosition(f,m[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},
moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;
return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:f(),getPreviousEditableNode:f(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.startContainer,c=this.endContainer,d=b.getAscendant("table",!0),f=c.getAscendant("table",!0);return CKEDITOR.env.safari&&d&&c.equals(this.root)?
b.getAscendant(a,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):d&&f&&(d.equals(f)||d.contains(f)||f.contains(d))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",this.document),b,c,d,f=this.clone();f.optimize();(d=f.startContainer.type==CKEDITOR.NODE_TEXT)?(c=f.startContainer.getText(),b=f.startContainer.split(f.startOffset),a.insertAfter(f.startContainer)):f.insertNode(a);a.scrollIntoView();
d&&(f.startContainer.setText(c),b.remove());a.remove()},getClientRects:function(){function a(b,c){var d=CKEDITOR.tools.array.map(b,function(a){return a}),e=new CKEDITOR.dom.range(c.root),f,g,n;c.startContainer instanceof CKEDITOR.dom.element&&(g=0===c.startOffset&&c.startContainer.hasAttribute("data-widget"));c.endContainer instanceof CKEDITOR.dom.element&&(n=(n=c.endOffset===(c.endContainer.getChildCount?c.endContainer.getChildCount():c.endContainer.length))&&c.endContainer.hasAttribute("data-widget"));
g&&e.setStart(c.startContainer.getParent(),c.startContainer.getIndex());n&&e.setEnd(c.endContainer.getParent(),c.endContainer.getIndex()+1);if(g||n)c=e;e=c.cloneContents();e=CKEDITOR.dom.document.prototype.find.call(e,"[data-cke-widget-id]").toArray();if(e=CKEDITOR.tools.array.map(e,function(a){var b=c.root.editor;a=a.getAttribute("data-cke-widget-id");return b.widgets.instances[a].element}))return e=CKEDITOR.tools.array.map(e,function(a){var b;b=a.getParent().hasClass("cke_widget_wrapper")?a.getParent():
a;f=this.root.getDocument().$.createRange();f.setStart(b.getParent().$,b.getIndex());f.setEnd(b.getParent().$,b.getIndex()+1);b=f.getClientRects();b.widgetRect=a.getClientRect();return b},c),CKEDITOR.tools.array.forEach(e,function(a){function b(e){CKEDITOR.tools.array.forEach(d,function(b,f){var n=CKEDITOR.tools.objectCompare(a[e],b);n||(n=CKEDITOR.tools.objectCompare(a.widgetRect,b));n&&(Array.prototype.splice.call(d,f,a.length-e,a.widgetRect),c=!0)});c||(e<d.length-1?b(e+1):d.push(a.widgetRect))}
var c;b(0)}),d}function b(a,c,e){var f;c.collapsed?e.startContainer instanceof CKEDITOR.dom.element?(a=e.checkStartOfBlock(),f=new CKEDITOR.dom.text("â"),a?e.startContainer.append(f,!0):0===e.startOffset?f.insertBefore(e.startContainer.getFirst()):(e=e.startContainer.getChildren().getItem(e.startOffset-1),f.insertAfter(e)),c.setStart(f.$,0),c.setEnd(f.$,0),a=c.getClientRects(),f.remove()):e.startContainer instanceof CKEDITOR.dom.text&&(""===e.startContainer.getText()?(e.startContainer.setText("â"),
a=c.getClientRects(),e.startContainer.setText("")):a=[d(e.createBookmark())]):a=[d(e.createBookmark())];return a}function c(a,b,d){a=CKEDITOR.tools.extend({},a);b&&(a=CKEDITOR.tools.getAbsoluteRectPosition(d.document.getWindow(),a));!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a}function d(a){var b=a.startNode;a=a.endNode;var c;b.setText("â");b.removeStyle("display");a?(a.setText("â"),a.removeStyle("display"),c=[b.getClientRect(),a.getClientRect()],a.remove()):c=
[b.getClientRect(),b.getClientRect()];b.remove();return{right:Math.max(c[0].right,c[1].right),bottom:Math.max(c[0].bottom,c[1].bottom),left:Math.min(c[0].left,c[1].left),top:Math.min(c[0].top,c[1].top),width:Math.abs(c[0].left-c[1].left),height:Math.max(c[0].bottom,c[1].bottom)-Math.min(c[0].top,c[1].top)}}return void 0!==this.document.getSelection?function(d){var f=this.root.getDocument().$.createRange(),m;f.setStart(this.startContainer.$,this.startOffset);f.setEnd(this.endContainer.$,this.endOffset);
m=f.getClientRects();m=a(m,this);m.length||(m=b(m,f,this));return CKEDITOR.tools.array.map(m,function(a){return c(a,d,this)},this)}:function(a){return[c(d(this.createBookmark()),a,this)]}}(),_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),f=[],g,m,h,k;if(c&&c.find)for(m=c.find(a),g=0;g<m.count();g++)if(c=m.getItem(g),b||!c.isReadOnly())h=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||
d.startNode.equals(c),k=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||d.endNode.equals(c),h&&k&&f.push(c);return f}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var c=a[a.length-1],d=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(c){var e=new CKEDITOR.dom.range(b.root),d=new CKEDITOR.dom.walker(e),f=CKEDITOR.dom.walker.whitespaces();e.setStart(c.endContainer,c.endOffset);e.setEnd(b.startContainer,b.startOffset);
for(e=d.next();f(e)||b.endContainer.equals(e);)e=d.next();d=!e}d?c.setEnd(b.endContainer,b.endOffset):a.push(b);return a},[])}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;"use strict";
(function(){function a(a){1>arguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function d(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,f,g){a:{null==g&&(g=d(f));for(var h;h=g.shift();)if(h.getDtd().p){g={element:h,remaining:g};break a}g=null}if(!g)return 0;if((h=CKEDITOR.filter.instances[g.element.data("cke-filter")])&&!h.check(c))return b(a,
c,f,g.remaining);c=new CKEDITOR.dom.range(g.element);c.selectNodeContents(g.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:g.element,container:f,remaining:g.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var f=/^[\r\n\t ]+$/,g=CKEDITOR.dom.walker.bookmark(!1,!0),k=CKEDITOR.dom.walker.whitespaces(!0),
h=function(a){return g(a)&&k(a)},p={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var d,k,w,z,F;a=a||"p";if(this._.nestedEditable){if(d=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,d;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=
null}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var v=this.range.clone();k=v.startPath();var m=v.endPath(),M=!v.collapsed&&c(v,k.block),u=!v.collapsed&&c(v,m.block,1);v.shrink(CKEDITOR.SHRINK_ELEMENT,!0);M&&v.setStartAt(k.block,CKEDITOR.POSITION_BEFORE_END);u&&v.setEndAt(m.block,CKEDITOR.POSITION_AFTER_START);k=v.endContainer.hasAscendant("pre",!0)||v.startContainer.hasAscendant("pre",!0);v.enlarge(this.forceBrBreak&&!k||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);
v.collapsed||(k=new CKEDITOR.dom.walker(v.clone()),m=CKEDITOR.dom.walker.bookmark(!0,!0),k.evaluator=m,this._.nextNode=k.next(),k=new CKEDITOR.dom.walker(v.clone()),k.evaluator=m,k=k.previous(),this._.lastNode=k.getNextSourceNode(!0,null,v.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(m=this.range.clone(),m.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),m.checkEndOfBlock()&&
(m=new CKEDITOR.dom.elementPath(m.endContainer,m.root),this._.lastNode=(m.block||m.blockLimit).getNextSourceNode(!0))),this._.lastNode&&v.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=v.document.createText(""),this._.lastNode.insertAfter(k)),v=null);this._.started=1;k=v}m=this._.nextNode;v=this._.lastNode;for(this._.nextNode=null;m;){var M=0,u=m.hasAscendant("pre"),H=m.type!=CKEDITOR.NODE_ELEMENT,n=0;if(H)m.type==CKEDITOR.NODE_TEXT&&f.test(m.getText())&&(H=0);else{var r=m.getName();
if(CKEDITOR.dtd.$block[r]&&"false"==m.getAttribute("contenteditable")){d=m;b(this,a,d);break}else if(m.isBlockBoundary(this.forceBrBreak&&!u&&{br:1})){if("br"==r)H=1;else if(!k&&!m.getChildCount()&&"hr"!=r){d=m;w=m.equals(v);break}k&&(k.setEndAt(m,CKEDITOR.POSITION_BEFORE_START),"br"!=r&&(this._.nextNode=m));M=1}else{if(m.getFirst()){k||(k=this.range.clone(),k.setStartAt(m,CKEDITOR.POSITION_BEFORE_START));m=m.getFirst();continue}H=1}}H&&!k&&(k=this.range.clone(),k.setStartAt(m,CKEDITOR.POSITION_BEFORE_START));
w=(!M||H)&&m.equals(v);if(k&&!M)for(;!m.getNext(h)&&!w;){r=m.getParent();if(r.isBlockBoundary(this.forceBrBreak&&!u&&{br:1})){M=1;H=0;w||r.equals(v);k.setEndAt(r,CKEDITOR.POSITION_BEFORE_END);break}m=r;H=1;w=m.equals(v);n=1}H&&k.setEndAt(m,CKEDITOR.POSITION_AFTER_END);m=this._getNextSourceNode(m,n,v);if((w=!m)||M&&k)break}if(!d){if(!k)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;d=new CKEDITOR.dom.elementPath(k.startContainer,k.root);m=d.blockLimit;M={div:1,th:1,td:1};
d=d.block;!d&&m&&!this.enforceRealBlocks&&M[m.getName()]&&k.checkStartOfBlock()&&k.checkEndOfBlock()&&!m.equals(k.root)?d=m:!d||this.enforceRealBlocks&&d.is(p)?(d=this.range.document.createElement(a),k.extractContents().appendTo(d),d.trim(),k.insertNode(d),z=F=!0):"li"!=d.getName()?k.checkStartOfBlock()&&k.checkEndOfBlock()||(d=d.clone(!1),k.extractContents().appendTo(d),d.trim(),F=k.splitBlock(),z=!F.wasStartOfBlock,F=!F.wasEndOfBlock,k.insertNode(d)):w||(this._.nextNode=d.equals(v)?null:this._getNextSourceNode(k.getBoundaryNodes().endNode,
1,v))}z&&(z=d.getPrevious())&&z.type==CKEDITOR.NODE_ELEMENT&&("br"==z.getName()?z.remove():z.getLast()&&"br"==z.getLast().$.nodeName.toLowerCase()&&z.getLast().remove());F&&(z=d.getLast())&&z.type==CKEDITOR.NODE_ELEMENT&&"br"==z.getName()&&(!CKEDITOR.env.needsBrFiller||z.getPrevious(g)||z.getNext(g))&&z.remove();this._.nextNode||(this._.nextNode=w||d.equals(v)||!v?null:this._getNextSourceNode(d,1,v));return d},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(f))}var f=
this.range.root;for(a=a.getNextSourceNode(b,null,d);!g(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}})();
CKEDITOR.command=function(a,d){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire("exec")?!0:!1!==d.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire("refresh",
{editor:a,path:b})?!0:d.refresh&&!1!==d.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||"boolean"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,d,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!d.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)};
CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire("state");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?
this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;
CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"\x3c!DOCTYPE html\x3e",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};
(function(){function a(a,b,c,d,e){var f,n;a=[];for(f in b){n=b[f];n="boolean"==typeof n?{}:"function"==typeof n?{match:n}:E(n);"$"!=f.charAt(0)&&(n.elements=f);c&&(n.featureName=c.toLowerCase());var l=n;l.elements=k(l.elements,/\s+/)||null;l.propertiesOnly=l.propertiesOnly||!0===l.elements;var m=/\s*,\s*/,g=void 0;for(g in P){l[g]=k(l[g],m)||null;var r=l,t=O[g],y=k(l[O[g]],m),B=l[g],h=[],A=!0,C=void 0;y?A=!1:y={};for(C in B)"!"==C.charAt(0)&&(C=C.slice(1),h.push(C),y[C]=!0,A=!1);for(;C=h.pop();)B[C]=
B["!"+C],delete B["!"+C];r[t]=(A?!1:y)||null}l.match=l.match||null;d.push(n);a.push(n)}b=e.elements;e=e.generic;var I;c=0;for(d=a.length;c<d;++c){f=E(a[c]);n=!0===f.classes||!0===f.styles||!0===f.attributes;l=f;g=t=m=void 0;for(m in P)l[m]=M(l[m]);r=!0;for(g in O){m=O[g];t=l[m];y=[];B=void 0;for(B in t)-1<B.indexOf("*")?y.push(new RegExp("^"+B.replace(/\*/g,".*")+"$")):y.push(B);t=y;t.length&&(l[m]=t,r=!1)}l.nothingRequired=r;l.noProperties=!(l.attributes||l.classes||l.styles);if(!0===f.elements||
null===f.elements)e[n?"unshift":"push"](f);else for(I in l=f.elements,delete f.elements,l)if(b[I])b[I][n?"unshift":"push"](f);else b[I]=[f]}}function d(a,c,d,e){if(!a.match||a.match(c))if(e||h(a,c))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=b(a.attributes,c.attributes,d.validAttributes)),d.allStyles||(d.allStyles=b(a.styles,c.styles,d.validStyles)),!d.allClasses){a=a.classes;c=c.classes;e=d.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,n=c.length,l;f<n;++f)l=c[f],e[l]||
(e[l]=a(l));a=!1}else a=!1;d.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=f(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=f(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;b=b.classes;if(a){for(var d=!1,e=!0===a,l=b.length;l--;)if(e||a(b[l]))b.splice(l,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function f(a,
b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function g(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function k(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=y(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function h(a,b){if(a.nothingRequired)return!0;
var c,d,e,f;if(e=a.requiredClasses)for(f=b.classes,c=0;c<e.length;++c)if(d=e[c],"string"==typeof d){if(-1==CKEDITOR.tools.indexOf(f,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(f,d))return!1;return p(b.styles,a.requiredStyles)&&p(b.attributes,a.requiredAttributes)}function p(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],"string"==typeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function q(a){if(!a)return{};
a=a.split(/\s*,\s*/).sort();for(var b={};a.length;)b[a.shift()]="cke-test";return b}function e(a){var b,c,d,e,f={},n=1;for(a=y(a);b=a.match(l);)(c=b[2])?(d=x(c,"styles"),e=x(c,"attrs"),c=x(c,"classes")):d=e=c=null,f["$"+n++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return f}function x(a,b){var c=a.match(K[b]);return c?y(c[1]):null}function w(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes["class"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||
"",1));a.classes||(a.classes=c?c.split(/\s+/):[])}function z(a,b,e,f){var l=0,n;f.toHtml&&(b.name=b.name.replace(B,"$1"));if(f.doCallbacks&&a.elementCallbacks){a:{n=a.elementCallbacks;for(var g=0,t=n.length,E;g<t;++g)if(E=n[g](b)){n=E;break a}n=void 0}if(n)return n}if(f.doTransform&&(n=a._.transformations[b.name])){w(b);for(g=0;g<n.length;++g)r(a,b,n[g]);v(b)}if(f.doFilter){a:{g=b.name;t=a._;a=t.allowedRules.elements[g];n=t.allowedRules.generic;g=t.disallowedRules.elements[g];t=t.disallowedRules.generic;
E=f.skipRequired;var y={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},k,C;if(a||n){w(b);if(g)for(k=0,C=g.length;k<C;++k)if(!1===c(g[k],b,y)){a=null;break a}if(t)for(k=0,C=t.length;k<C;++k)c(t[k],b,y);if(a)for(k=0,C=a.length;k<C;++k)d(a[k],b,y,E);if(n)for(k=0,C=n.length;k<C;++k)d(n[k],b,y,E);a=y}else a=null}if(!a||!a.valid)return e.push(b),1;C=a.validAttributes;var h=a.validStyles;
n=a.validClasses;var g=b.attributes,I=b.styles,t=b.classes;E=b.classBackup;var L=b.styleBackup,K,D,O=[],y=[],J=/^data-cke-/;k=!1;delete g.style;delete g["class"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(K in g)C[K]||(J.test(K)?K==(D=K.replace(/^data-cke-saved-/,""))||C[D]||(delete g[K],k=!0):(delete g[K],k=!0));if(!a.allStyles||a.hadInvalidStyle){for(K in I)a.allStyles||h[K]?O.push(K+":"+I[K]):k=!0;O.length&&(g.style=O.sort().join("; "))}else L&&(g.style=L);if(!a.allClasses||
a.hadInvalidClass){for(K=0;K<t.length;++K)(a.allClasses||n[t[K]])&&y.push(t[K]);y.length&&(g["class"]=y.sort().join(" "));E&&y.length<E.split(/\s+/).length&&(k=!0)}else E&&(g["class"]=E);k&&(l=1);if(!f.skipFinalValidation&&!m(b))return e.push(b),1}f.toHtml&&(b.name=b.name.replace(A,"cke:$1"));return l}function F(a){var b=[],c;for(c in a)-1<c.indexOf("*")&&b.push(c.replace(/\*/g,".*"));return b.length?new RegExp("^(?:"+b.join("|")+")$"):null}function v(a){var b=a.attributes,c;delete b.style;delete b["class"];
if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b["class"]=a.classes.sort().join(" "))}function m(a){switch(a.name){case "a":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case "img":if(!a.attributes.src)return!1}return!0}function M(a){if(!a)return!1;if(!0===a)return!0;var b=F(a);return function(c){return c in a||b&&c.match(b)}}function u(){return new CKEDITOR.htmlParser.element("br")}function H(a){return a.type==CKEDITOR.NODE_ELEMENT&&("br"==
a.name||t.$block[a.name])}function n(a,b,c){var d=a.name;if(t.$empty[d]||!a.children.length)"hr"==d&&"br"==b?a.replaceWith(u()):(a.parent&&c.push({check:"it",el:a.parent}),a.remove());else if(t.$block[d]||"tr"==d)if("br"==b)a.previous&&!H(a.previous)&&(b=u(),b.insertBefore(a)),a.next&&!H(a.next)&&(b=u(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;b:{e=t[b];for(var f=0,n=d.length,l;f<n;++f)if(l=d[f],l.type==CKEDITOR.NODE_ELEMENT&&!e[l.name]){e=!1;break b}e=!0}if(e)a.name=b,a.attributes=
{},c.push({check:"parent-down",el:a});else{e=a.parent;for(var f=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==e.name,g,m,n=d.length;0<n;)l=d[--n],f&&(l.type==CKEDITOR.NODE_TEXT||l.type==CKEDITOR.NODE_ELEMENT&&t.$inline[l.name])?(g||(g=new CKEDITOR.htmlParser.element(b),g.insertAfter(a),c.push({check:"parent-down",el:g})),g.add(l,0)):(g=null,m=t[e.name]||t.span,l.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||l.type!=CKEDITOR.NODE_ELEMENT||m[l.name]||c.push({check:"el-up",el:l}));a.remove()}}else d in
{style:1,script:1}?a.remove():(a.parent&&c.push({check:"it",el:a.parent}),a.replaceWithChildren())}function r(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,J);break}}function C(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,f,n,l,g;if(a.name!=c.element)return!1;for(f in d)if("class"==f)for(c=d[f].split(/\s+/),l=a.classes.join("|");g=c.pop();){if(-1==l.indexOf(g))return!1}else if(a.attributes[f]!=d[f])return!1;for(n in e)if(a.styles[n]!=
e[n])return!1;return!0}function L(a,b){var c,d;"string"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function D(a){return function(b){return C(b,a)}}function N(a){return function(b,c){c[a](b)}}var t=CKEDITOR.dtd,E=CKEDITOR.tools.copy,y=CKEDITOR.tools.trim,I=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a,b){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=
!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;var c=this.editor=a instanceof CKEDITOR.editor?a:null;if(c&&!b){this.customConfig=!0;var d=c.config.allowedContent;!0===d?this.disabled=!0:(d||(this.customConfig=!1),this.allow(d,"config",1),this.allow(c.config.extraAllowedContent,"extra",1),this.allow(I[c.enterMode]+
" "+I[c.shiftEnterMode],"default",1),this.disallow(c.config.disallowedContent))}else this.customConfig=!1,this.allow(b||a,"default",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!g(this,b,d))return!1;var f,n;if("string"==typeof b)b=e(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);f=b.getDefinition();b={};d=f.attributes;b[f.element]=f={styles:f.styles,requiredStyles:f.styles&&CKEDITOR.tools.objectKeys(f.styles)};
d&&(d=E(d),f.classes=d["class"]?d["class"].split(/\s+/):null,f.requiredClasses=f.classes,delete d["class"],f.attributes=d,f.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(f=0;f<b.length;++f)n=this.allow(b[f],c,d);return n}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,f=[],l=this.editor&&this.editor.config.protectedSource,g,r=!1,E={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};
a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;if(!b||"span"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join("|").indexOf("data-cke-"))if(g=z(e,a,f,E),g&1)r=!0;else if(g&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,""));c=[];var n,G,m;if(l)for(G=0;G<l.length;++G)if((m=d.match(l[G]))&&m[0].length==d.length){c=!0;
break a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(n=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&z(e,n,c,E);c=!c.length}c||f.push(a)}},null,!0);f.length&&(r=!0);var y;a=[];d=I[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var k;c=f.pop();)c.type==CKEDITOR.NODE_ELEMENT?n(c,d,a):c.remove();for(;y=a.pop();)if(c=y.el,c.parent)switch(k=t[c.parent.name]||t.span,y.check){case "it":t.$removeEmpty[c.name]&&!c.children.length?n(c,d,a):m(c)||n(c,d,a);break;case "el-up":c.parent.type==
CKEDITOR.NODE_DOCUMENT_FRAGMENT||k[c.name]||n(c,d,a);break;case "parent-down":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||k[c.name]||n(c.parent,d,a)}return r},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!g(this,b,!0))return!1;"string"==typeof b&&(b=e(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},
addContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],("string"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(L(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);
this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var f=void 0,n=void 0,l=void 0,g=void 0,m=void 0,t=void 0;c=[];for(n=0;n<b.length;++n)l=b[n],"string"==typeof l?(l=l.split(/\s*:\s*/),g=l[0],m=null,t=l[1]):(g=l.check,m=l.left,t=l.right),f||(f=l,f=f.element?f.element:g?g.match(/^([a-z0-9]+)/i)[0]:
f.left.getDefinition().element),m instanceof CKEDITOR.style&&(m=D(m)),c.push({check:g==f?null:g,left:m,right:"string"==typeof t?N(t):t});b=f;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var f,n;if("string"==typeof a){n=a+"\x3c"+(!1===b?"0":"1")+(c?"1":"0")+"\x3e";if(n in this._.cachedChecks)return this._.cachedChecks[n];f=e(a).$1;var l=f.styles,d=f.classes;f.name=f.elements;
f.classes=d=d?d.split(/\s*,\s*/):[];f.styles=q(l);f.attributes=q(f.attributes);f.children=[];d.length&&(f.attributes["class"]=d.join(" "));l&&(f.attributes.style=CKEDITOR.tools.writeCssText(f.styles))}else f=a.getDefinition(),l=f.styles,d=f.attributes||{},l&&!CKEDITOR.tools.isEmpty(l)?(l=E(l),d.style=CKEDITOR.tools.writeCssText(l,!0)):l={},f={name:f.element,attributes:d,classes:d["class"]?d["class"].split(/\s+/):[],styles:l,children:[]};var l=CKEDITOR.tools.clone(f),g=[],m;if(!1!==b&&(m=this._.transformations[f.name])){for(d=
0;d<m.length;++d)r(this,f,m[d]);v(f)}z(this,l,g,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});0<g.length?c=!1:((b=f.attributes["class"])&&(f.attributes["class"]=f.attributes["class"].split(" ").sort().join(" ")),c=CKEDITOR.tools.objectCompare(f.attributes,l.attributes,!0),b&&(f.attributes["class"]=b));"string"==typeof a&&(this._.cachedChecks[n]=c);return c},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};
return function(c,d){var f=a.slice(),e;if(this.check(I[c]))return c;for(d||(f=f.reverse());e=f.pop();)if(this.check(e))return b[e];return CKEDITOR.ENTER_BR}}(),clone:function(){var a=new CKEDITOR.filter,b=CKEDITOR.tools.clone;a.allowedContent=b(this.allowedContent);a._.allowedRules=b(this._.allowedRules);a.disallowedContent=b(this.disallowedContent);a._.disallowedRules=b(this._.disallowedRules);a._.transformations=b(this._.transformations);a.disabled=this.disabled;a.editor=this.editor;return a},destroy:function(){delete CKEDITOR.filter.instances[this.id];
delete this._;delete this.allowedContent;delete this.disallowedContent}};var P={styles:1,attributes:1,classes:1},O={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},l=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,K={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},B=/^cke:(object|embed|param)$/,A=/^(object|embed|param)$/,J;J=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,
"width");this.lengthToStyle(a,"height")},sizeToAttribute:function(a){this.lengthToAttribute(a,"width");this.lengthToAttribute(a,"height")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\d+$/.test(d)&&(d+="px"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],f=d&&d.match(/^(\d+)(?:\.\d*)?px$/);f?a.attributes[c]=f[1]:"cke-test"==d&&(a.attributes[c]="cke-test")}delete a.styles[b]},alignmentToStyle:function(a){if(!("float"in
a.styles)){var b=a.attributes.align;if("left"==b||"right"==b)a.styles["float"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!("align"in a.attributes)){var b=a.styles["float"];if("left"==b||"right"==b)a.attributes.align=b}delete a.styles["float"]},splitBorderShorthand:function(a){if(a.styles.border){var b=CKEDITOR.tools.style.parse.border(a.styles.border);b.color&&(a.styles["border-color"]=b.color);b.style&&(a.styles["border-style"]=b.style);b.width&&(a.styles["border-width"]=b.width);
delete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case "a":a.styles["list-style-type"]="lower-alpha";break;case "A":a.styles["list-style-type"]="upper-alpha";break;case "i":a.styles["list-style-type"]="lower-roman";break;case "I":a.styles["list-style-type"]="upper-roman";break;case "1":a.styles["list-style-type"]="decimal";break;default:a.styles["list-style-type"]=a.attributes.type}},splitMarginShorthand:function(a){function b(d){a.styles["margin-top"]=
c[d[0]];a.styles["margin-right"]=c[d[1]];a.styles["margin-bottom"]=c[d[2]];a.styles["margin-left"]=c[d[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(c.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:C,transform:function(a,b){if("string"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,f=c.attributes,e,l,n,g;a.name=c.element;for(e in f)if("class"==e)for(c=
a.classes.join("|"),n=f[e].split(/\s+/);g=n.pop();)-1==c.indexOf(g)&&a.classes.push(g);else a.attributes[e]=f[e];for(l in d)a.styles[l]=d[l]}}}})();
(function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=
1},unlock:function(){delete this._.locked},blur:function(a){function d(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?d.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;d.call(this)},b,this)}},add:function(a,d){var b=a.getCustomData("focusmanager");if(!b||b!=this){b&&b.remove(a);var b=
"focus",c="blur";d&&(CKEDITOR.env.ie?(b="focusin",c="focusout"):CKEDITOR.event.useCapture=1);var f={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,f.focus,this);a.on(c,f.blur,this);d&&(CKEDITOR.event.useCapture=0);a.setCustomData("focusmanager",this);a.setCustomData("focusmanager_handlers",f)}},remove:function(a){a.removeCustomData("focusmanager");var d=a.removeCustomData("focusmanager_handlers");a.removeListener("blur",d.blur);a.removeListener("focus",
d.focus)}}})();CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this};
(function(){var a,d=function(b){b=b.data;var d=b.getKeystroke(),g=this.keystrokes[d],k=this._.editor;a=!1===k.fire("key",{keyCode:d,domEvent:b});a||(g&&(a=!1!==k.execCommand(g,{from:"keystrokeHandler"})),a||(a=!!this.blockedKeystrokes[d]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on("keydown",d,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on("keypress",b,this)}}})();
(function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,d,b){a&&CKEDITOR.lang.languages[a]||
(a=this.detect(d,a));var c=this;d=function(){c[a].dir=c.rtl[a]?"rtl":"ltr";b(a,c[a])};this[a]?d():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+a+".js"),d,this)},detect:function(a,d){var b=this.languages;d=d||navigator.userLanguage||navigator.language||a;var c=d.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),f=c[1],c=c[2];b[f+"-"+c]?f=f+"-"+c:b[f]||(f=null);CKEDITOR.lang.detect=f?function(){return f}:function(a){return a};return f||a}}})();
CKEDITOR.scriptLoader=function(){var a={},d={};return{load:function(b,c,f,g){var k="string"==typeof b;k&&(b=[b]);f||(f=CKEDITOR);var h=b.length,p=[],q=[],e=function(a){c&&(k?c.call(f,a):c.call(f,p,q))};if(0===h)e(!0);else{var x=function(a,b){(b?p:q).push(a);0>=--h&&(g&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),e(b))},w=function(b,c){a[b]=1;var f=d[b];delete d[b];for(var e=0;e<f.length;e++)f[e](b,c)},z=function(b){if(a[b])x(b,!0);else{var f=d[b]||(d[b]=[]);f.push(x);if(!(1<f.length)){var e=
new CKEDITOR.dom.element("script");e.setAttributes({type:"text/javascript",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?e.$.onreadystatechange=function(){if("loaded"==e.$.readyState||"complete"==e.$.readyState)e.$.onreadystatechange=null,w(b,!0)}:(e.$.onload=function(){setTimeout(function(){w(b,!0)},0)},e.$.onerror=function(){w(b,!1)}));e.appendTo(CKEDITOR.document.getHead())}}};g&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var F=0;F<h;F++)z(b[F])}},
queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(d,g){var k=this;c.push({scriptUrl:d,callback:function(){g&&g.apply(this,arguments);c.shift();a.call(k)}});1==c.length&&a.call(this)}}()}}();CKEDITOR.resourceManager=function(a,d){this.basePath=a;this.fileName=d;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};
CKEDITOR.resourceManager.prototype={add:function(a,d){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+a+'" is already registered.');var b=this.registered[a]=d||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+"Ready",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var d=this.externals[a];return CKEDITOR.getUrl(d&&d.dir||this.basePath+a+"/")},getFilePath:function(a){var d=this.externals[a];
return CKEDITOR.getUrl(this.getPath(a)+(d?d.file:this.fileName+".js"))},addExternal:function(a,d,b){a=a.split(",");for(var c=0;c<a.length;c++){var f=a[c];b||(d=d.replace(/[^\/]+$/,function(a){b=a;return""}));this.externals[f]={dir:d,file:b||this.fileName+".js"}}},load:function(a,d,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,f=this.registered,g=[],k={},h={},p=0;p<a.length;p++){var q=a[p];if(q)if(c[q]||f[q])h[q]=this.get(q);else{var e=this.getFilePath(q);g.push(e);e in k||(k[e]=
[]);k[e].push(q)}}CKEDITOR.scriptLoader.load(g,function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+k[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var f=0;f<a.length;f++)for(var g=k[a[f]],p=0;p<g.length;p++){var m=g[p];h[m]=this.get(m);c[m]=1}d.call(b,h)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");
CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var d={};return function(b,c,f){var g={},k=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(g,a);var b=[],e;for(e in a){var h=a[e],w=h&&h.requires;if(!d[e]){if(h.icons)for(var z=h.icons.split(","),F=z.length;F--;)CKEDITOR.skin.addIcon(z[F],h.path+"icons/"+(CKEDITOR.env.hidpi&&h.hidpi?"hidpi/":"")+z[F]+".png");d[e]=1}if(w)for(w.split&&(w=w.split(",")),h=0;h<w.length;h++)g[w[h]]||b.push(w[h])}if(b.length)k.call(this,
b);else{for(e in g)h=g[e],h.onLoad&&!h.onLoad._called&&(!1===h.onLoad()&&delete g[e],h.onLoad._called=1);c&&c.call(f||window,g)}},this)};k.call(this,b)}});CKEDITOR.plugins.setLang=function(a,d,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(","));-1==CKEDITOR.tools.indexOf(c,d)&&c.push(d);a[d]=b};CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this};
CKEDITOR.ui.prototype={add:function(a,d,b){b.name=a.toLowerCase();var c=this.items[a]={type:d,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var d=this.items[a],b=d&&this._.handlers[d.type],c=d&&d.command&&this.editor.getCommand(d.command),b=b&&b.create.apply(this,d.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&(b.type=d.type);return b},addHandler:function(a,d){this._.handlers[a]=
d},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+"_"+a}};CKEDITOR.event.implementOn(CKEDITOR.ui);
(function(){function a(a,e,f){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!f)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!b(e,f))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');
this.element=e;this.elementMode=f;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||d();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",
c);this.on("selectionChange",function(a){g(this,a.data.path)});this.on("activeFilterChange",function(){g(this,this.elementPath(),!0)});this.on("mode",c);this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var a=this.createRange();a.selectNodeContents(this.editable());a.shrink(CKEDITOR.SHRINK_ELEMENT,!0);a.collapse();this.getSelection().selectRanges([a])}this.focus()}});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){"destroyed"!==
this.status?h(this,a):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function d(){do var a="editor"+ ++F;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is("textarea"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)f(this,a[b])}function f(a,b){b[b.startDisabled?"disable":a.readOnly&&!b.readOnly?"disable":b.modes[a.mode]?"enable":"disable"]()}function g(a,
b,c){if(b){var d,e,f=a.commands;for(e in f)d=f[e],(c||d.contextSensitive)&&d.refresh(a,b)}}function k(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=v[b]||(v[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&k(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};k(a)});return!0}function h(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var c in b.on)a.on(c,
b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is("textarea")?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is("textarea")||CKEDITOR.dtd[a.element.getName()].p):
!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute("tabindex")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);p(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);k(a)||a.fireOnce("customConfigLoaded")}
function p(a){CKEDITOR.skin.loadPart("editor",function(){q(a)})}function q(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title="string"==typeof d||!1===d?d:[a.lang.editor,a.name].join(", ");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire("langLoaded");e(a)})}function e(a){a.getStylesSet(function(b){a.once("loaded",
function(){a.fire("stylesSet",{styles:b})},null,null,1);x(a)})}function x(a){function b(a){if(!a)return"";CKEDITOR.tools.isArray(a)&&(a=a.join(","));return a.replace(/\s/g,"")}var c=a.config,d=b(c.plugins),e=b(c.extraPlugins),f=b(c.removePlugins);if(e)var g=new RegExp("(?:^|,)(?:"+e.replace(/,/g,"|")+")(?\x3d,|$)","g"),d=d.replace(g,""),d=d+(","+e);if(f)var k=new RegExp("(?:^|,)(?:"+f.replace(/,/g,"|")+")(?\x3d,|$)","g"),d=d.replace(k,"");CKEDITOR.env.air&&(d+=",adobeair");CKEDITOR.plugins.load(d.split(","),
function(b){var d=[],e=[],f=[];a.plugins=CKEDITOR.tools.extend({},a.plugins,b);for(var n in b){var g=b[n],r=g.lang,h=null,l=g.requires,C;CKEDITOR.tools.isArray(l)&&(l=l.join(","));if(l&&(C=l.match(k)))for(;l=C.pop();)CKEDITOR.error("editor-plugin-required",{plugin:l.replace(",",""),requiredBy:n});r&&!a.lang[n]&&(r.split&&(r=r.split(",")),0<=CKEDITOR.tools.indexOf(r,a.langCode)?h=a.langCode:(h=a.langCode.replace(/-.*/,""),h=h!=a.langCode&&0<=CKEDITOR.tools.indexOf(r,h)?h:0<=CKEDITOR.tools.indexOf(r,
"en")?"en":r[0]),g.langEntries&&g.langEntries[h]?(a.lang[n]=g.langEntries[h],h=null):f.push(CKEDITOR.getUrl(g.path+"lang/"+h+".js")));e.push(h);d.push(g)}CKEDITOR.scriptLoader.load(f,function(){for(var b=["beforeInit","init","afterInit"],f=0;f<b.length;f++)for(var l=0;l<d.length;l++){var n=d[l];0===f&&e[l]&&n.lang&&n.langEntries&&(a.lang[n.name]=n.langEntries[e[l]]);if(n[b[f]])n[b[f]](a)}a.fireOnce("pluginsLoaded");c.keystrokes&&a.setKeystroke(a.config.keystrokes);for(l=0;l<a.config.blockedKeystrokes.length;l++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[l]]=
1;a.status="loaded";a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)})})}function w(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?a.setValue(b):a.setHtml(b);return!0}return!1}function z(a,b){function c(a){var b=a.startContainer,d=a.endContainer;return b.is&&(b.is("tr")||b.is("td")&&b.equals(d)&&a.endOffset===b.getChildCount())?!0:!1}function d(a){var b=a.startContainer;
return b.is("tr")?a.cloneContents():b.clone(!0)}for(var e=new CKEDITOR.dom.documentFragment,f,g,k,h=0;h<a.length;h++){var N=a[h],t=N.startContainer.getAscendant("tr",!0);c(N)?(f||(f=t.getAscendant("table").clone(),f.append(t.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),e.append(f),f=f.findOne("thead, tbody, tfoot")),g&&g.equals(t)||(g=t,k=t.clone(),f.append(k)),k.append(d(N))):e.append(N.cloneContents())}return f?e:b.getHtmlFromRange(a[0])}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=
a;var F=0,v={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(this[d])return CKEDITOR.warn("editor-plugin-conflict",{plugin:a,replacedWith:d}),!0}return!1}},addCommand:function(a,b){b.name=a.toLowerCase();var c=b instanceof CKEDITOR.command?b:new CKEDITOR.command(this,b);this.mode&&f(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire("required")&&
b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,f=new CKEDITOR.dom.element(d.$.form);d.is("textarea")&&f&&(f.on("submit",a),b(f.$.submit)&&(f.$.submit=CKEDITOR.tools.override(f.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on("destroy",function(){f.removeListener("submit",a)}))},destroy:function(a){var b=CKEDITOR.filter.instances,c=this;this.fire("beforeDestroy");!a&&w.call(this);this.editable(null);this.filter&&delete this.filter;
CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(b),function(a){a=b[a];c===a.editor&&a.destroy()});delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):
null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b||{},command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire("afterCommandExec",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire("beforeGetData");var b=this._.data;"string"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?
b.getValue():b.getHtml():"");b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");"string"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is("textarea")?a.getValue():a.getHtml():"");return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,b,c){var d=!0,f=b;b&&"object"==typeof b&&(c=b.internal,f=b.callback,d=!b.noSnapshot);!c&&d&&this.fire("saveSnapshot");if(f||!c)this.once("dataReady",
function(a){!c&&d&&this.fire("saveSnapshot");f&&f.call(a.editor)});a={dataValue:a};!c&&this.fire("setData",a);this._.data=a.dataValue;!c&&this.fire("afterSetData",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire("readOnly"))},insertHtml:function(a,b,c){this.fire("insertHtml",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",
a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;b=z(c,b);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges(),f=new CKEDITOR.dom.documentFragment,e;if(!c||0===d.length)return null;for(e=0;e<d.length;e++)f.append(c.extractHtmlFromRange(d[e],b));b||this.getSelection().selectRanges([d[0]]);return a?f.getHtml():f},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==
this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return w.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,f=b.length;f--;)c=b[f],d=0,CKEDITOR.tools.isArray(c)&&(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},getCommandKeystroke:function(a,b){var c="string"===typeof a?this.getCommand(a):a,d=[];if(c){var f=
CKEDITOR.tools.object.findKey(this.commands,c),e=this.keystrokeHandler.keystrokes;if(c.fakeKeystroke)d.push(c.fakeKeystroke);else for(var g in e)e[g]===f&&d.push(g)}return b?d:d[0]||null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire("activeFilterChange"),a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,
!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire("activeEnterModeChange")},showNotification:function(a){alert(a)}})})();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;
CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}};
(function(){var a=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,d={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,f,g=0,k;c=this._.htmlPartsRegex.exec(b);){f=c.index;if(f>g)if(g=b.substring(g,f),k)k.push(g);else this.onText(g);
g=this._.htmlPartsRegex.lastIndex;if(f=c[1])if(f=f.toLowerCase(),k&&CKEDITOR.dtd.$cdata[f]&&(this.onCDATA(k.join("")),k=null),!k){this.onTagClose(f);continue}if(k)k.push(c[0]);else if(f=c[3]){if(f=f.toLowerCase(),!/="/.test(f)){var h={},p,q=c[4];c=!!c[5];if(q)for(;p=a.exec(q);){var e=p[1].toLowerCase();p=p[2]||p[3]||p[4]||"";h[e]=!p&&d[e]?e:CKEDITOR.tools.htmlDecodeAttr(p)}this.onTagOpen(f,h,c);!k&&CKEDITOR.dtd.$cdata[f]&&(k=[])}}else if(f=c[2])this.onComment(f)}if(b.length>g)this.onText(b.substring(g,
b.length))}}})();
CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push("\x3c",a)},openTagClose:function(a,d){d?this._.output.push(" /\x3e"):this._.output.push("\x3e")},attribute:function(a,d){"string"==typeof d&&(d=CKEDITOR.tools.htmlEncodeAttr(d));this._.output.push(" ",a,'\x3d"',d,'"')},closeTag:function(a){this._.output.push("\x3c/",a,"\x3e")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push("\x3c!--",a,
"--\x3e")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var d=this._.output.join("");a&&this.reset();return d}}});"use strict";
(function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,d=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(d,1);this.parent=null},replaceWith:function(a){var d=this.parent.children,b=CKEDITOR.tools.indexOf(d,this),c=a.previous=this.previous,f=a.next=this.next;c&&(c.next=a);f&&(f.previous=a);d[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var d=a.parent.children,
b=CKEDITOR.tools.indexOf(d,a),c=a.next;d.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var d=a.parent.children,b=CKEDITOR.tools.indexOf(d,a);d.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var d="function"==typeof a?a:"string"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&
b.type==CKEDITOR.NODE_ELEMENT;){if(d(b))return b;b=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}})();"use strict";CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}};
CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,d){var b=this.value;if(!(b=a.onComment(d,b,this)))return this.remove(),!1;if("string"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,d){d&&this.filter(d);a.comment(this.value)}});"use strict";
(function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,d){if(!(this.value=a.onText(d,this.value,this)))return this.remove(),!1},writeHtml:function(a,d){d&&this.filter(d);a.text(this.value)}})})();"use strict";
(function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})})();"use strict";CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}};
(function(){function a(a){return a.attributes["data-cke-survive"]?!1:"a"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var d=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),f={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=
function(g,k,h){function p(a){var b;if(0<m.length)for(var c=0;c<m.length;c++){var d=m[c],f=d.name,e=CKEDITOR.dtd[f],n=u.name&&CKEDITOR.dtd[u.name];n&&!n[f]||a&&e&&!e[a]&&CKEDITOR.dtd[a]?f==u.name&&(x(u,u.parent,1),c--):(b||(q(),b=1),d=d.clone(),d.parent=u,u=d,m.splice(c,1),c--)}}function q(){for(;M.length;)x(M.shift(),u)}function e(a){if(a._.isBlockLike&&"pre"!=a.name&&"textarea"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?
c.value=d:a.children.length=b-1)}}function x(b,c,d){c=c||u||v;var f=u;void 0===b.previous&&(w(c,b)&&(u=c,F.onTagOpen(h,{}),b.returnPoint=c=u),e(b),a(b)&&!b.children.length||c.add(b),"pre"==b.name&&(n=!1),"textarea"==b.name&&(H=!1));b.returnPoint?(u=b.returnPoint,delete b.returnPoint):u=d?c:f}function w(a,b){if((a==v||"body"==a.name)&&h&&(!a.name||CKEDITOR.dtd[a.name][h])){var c,d;return(c=b.attributes&&(d=b.attributes["data-cke-real-element-type"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&
!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function z(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||"dt"==a&&"dd"==b||"dd"==a&&"dt"==b:!1}var F=new CKEDITOR.htmlParser,v=k instanceof CKEDITOR.htmlParser.element?k:"string"==typeof k?new CKEDITOR.htmlParser.element(k):new CKEDITOR.htmlParser.fragment,m=[],M=[],u=v,H="textarea"==v.name,n="pre"==v.name;F.onTagOpen=function(f,e,g,k){e=new CKEDITOR.htmlParser.element(f,e);e.isUnknown&&g&&(e.isEmpty=!0);e.isOptionalClose=k;
if(a(e))m.push(e);else{if("pre"==f)n=!0;else{if("br"==f&&n){u.add(new CKEDITOR.htmlParser.text("\n"));return}"textarea"==f&&(H=!0)}if("br"==f)M.push(e);else{for(;!(k=(g=u.name)?CKEDITOR.dtd[g]||(u._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,e.isUnknown||u.isUnknown||k[f]);)if(u.isOptionalClose)F.onTagClose(g);else if(f in b&&g in b)g=u.children,(g=g[g.length-1])&&"li"==g.name||x(g=new CKEDITOR.htmlParser.element("li"),u),!e.returnPoint&&(e.returnPoint=u),u=g;else if(f in CKEDITOR.dtd.$listItem&&
!z(f,g))F.onTagOpen("li"==f?"ul":"dl",{},0,1);else if(g in d&&!z(f,g))!e.returnPoint&&(e.returnPoint=u),u=u.parent;else if(g in CKEDITOR.dtd.$inline&&m.unshift(u),u.parent)x(u,u.parent,1);else{e.isOrphan=1;break}p(f);q();e.parent=u;e.isEmpty?x(e):u=e}}};F.onTagClose=function(a){for(var b=m.length-1;0<=b;b--)if(a==m[b].name){m.splice(b,1);return}for(var c=[],d=[],f=u;f!=v&&f.name!=a;)f._.isBlockLike||d.unshift(f),c.push(f),f=f.returnPoint||f.parent;if(f!=v){for(b=0;b<c.length;b++){var e=c[b];x(e,e.parent)}u=
f;f._.isBlockLike&&q();x(f,f.parent);f==u&&(u=u.parent);m=m.concat(d)}"body"==a&&(h=!1)};F.onText=function(a){if(!(u._.hasInlineStarted&&!M.length||n||H)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=u.name,e=b?CKEDITOR.dtd[b]||(u._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!H&&!e["#"]&&b in d)F.onTagOpen(f[b]||""),F.onText(a);else{q();p();n||H||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(w(u,a))this.onTagOpen(h,{},0,1);u.add(a)}};F.onCDATA=
function(a){u.add(new CKEDITOR.htmlParser.cdata(a))};F.onComment=function(a){q();p();u.add(new CKEDITOR.htmlParser.comment(a))};F.parse(g);for(q();u!=v;)x(u,u.parent,1);e(v);return v};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=
a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,
c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(d,this);b&&this.filterChildren(b,!1,d);b=0;c=this.children;for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var f=0;f<c.length;f++)d=c[f],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||
{}}}})();"use strict";
(function(){function a(){this.rules=[]}function d(b,c,d,g){var k,h;for(k in c)(h=b[k])||(h=b[k]=new a),h.add(c[k],d,g)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var f;"number"==typeof c?f=c:c&&"priority"in c&&(f=
c.priority);"number"!=typeof f&&(f=10);"object"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,f,c);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,f,c);a.elements&&d(this.elementsRules,a.elements,f,c);a.attributes&&d(this.attributesRules,a.attributes,f,c);a.text&&this.textRules.add(a.text,f,c);a.comment&&this.commentRules.add(a.comment,f,c);a.root&&this.rootRules.add(a.root,f,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,
c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,d){return this.textRules.exec(a,c,d)},onComment:function(a,c,d){return this.commentRules.exec(a,c,d)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var d=[this.elementsRules["^"],this.elementsRules[c.name],this.elementsRules.$],g,k=0;3>k;k++)if(g=d[k]){g=g.exec(a,c,this);if(!1===g)return null;if(g&&g!=c)return this.onNode(a,g);if(c.parent&&!c.name)break}return c},
onNode:function(a,c){var d=c.type;return d==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):d==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,c.value)):d==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,d,g){return(d=this.attributesRules[d])?d.exec(a,g,c,this):g}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,d){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:d})},addMany:function(a,
c,d){for(var g=[this.findIndex(c),0],k=0,h=a.length;k<h;k++)g.push({value:a[k],priority:c,options:d});this.rules.splice.apply(this.rules,g)},findIndex:function(a){for(var c=this.rules,d=c.length-1;0<=d&&a<c[d].priority;)d--;return d+1},exec:function(a,c){var d=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,g=Array.prototype.slice.call(arguments,1),k=this.rules,h=k.length,p,q,e,x;for(x=0;x<h;x++)if(d&&(p=c.type,q=c.name),e=k[x],!(a.nonEditable&&!e.options.applyToAll||
a.nestedEditable&&e.options.excludeNestedEditable)){e=e.value.apply(null,g);if(!1===e||d&&e&&(e.name!=q||e.type!=p))return e;null!=e&&(g[0]=c=e)}return c},execOnName:function(a,c){for(var d=0,g=this.rules,k=g.length,h;c&&d<k;d++)h=g[d],a.nonEditable&&!h.options.applyToAll||a.nestedEditable&&h.options.excludeNestedEditable||(c=c.replace(h.value[0],h.value[1]));return c}}})();
(function(){function a(a,d){function e(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("Â "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(a,d){return function(f){if(f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var l=[],n=b(f),E,G;if(n)for(t(n,1)&&l.push(n);n;)g(n)&&(E=c(n))&&t(E)&&((G=c(E))&&!g(G)?l.push(E):(e(y).insertAfter(E),E.remove())),n=n.previous;for(n=0;n<l.length;n++)l[n].remove();if(l=!a||!1!==("function"==typeof d?d(f):d))y||CKEDITOR.env.needsBrFiller||
f.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?y||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||f.name in CKEDITOR.dtd.tr||f.name in CKEDITOR.dtd.$listItem)?(l=b(f),l=!l||"form"==f.name&&"input"==l.name):l=!1:l=!1;l&&f.add(e(a))}}}function t(a,b){if((!y||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&"br"==a.name&&!a.attributes["data-cke-eol"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(u))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),
a.value=c[0]),!CKEDITOR.env.needsBrFiller&&y&&(!b||a.parent.name in B)||!y&&((c=a.previous)&&"br"==c.name||!c||g(c)))?!0:!1}var E={elements:{}},y="html"==d,B=CKEDITOR.tools.extend({},C),h;for(h in B)"#"in n[h]||delete B[h];for(h in B)E.elements[h]=l(y,a.config.fillEmptyBlocks);E.root=l(y,!1);E.elements.br=function(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.attributes;if("data-cke-bogus"in d||"data-cke-eol"in d)delete d["data-cke-bogus"];else{for(d=b.next;d&&f(d);)d=
d.next;var l=c(b);!d&&g(b.parent)?k(b.parent,e(a)):g(d)&&l&&!g(l)&&e(a).insertBefore(d)}}}}(y);return E}function d(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?"div":"p":!1}function b(a){for(a=a.children[a.children.length-1];a&&f(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&f(a);)a=a.previous;return a}function f(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function g(a){return a&&
(a.type==CKEDITOR.NODE_ELEMENT&&a.name in C||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function k(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function h(a){a=a.attributes;"false"!=a.contenteditable&&(a["data-cke-editable"]=a.contenteditable?"true":1);a.contenteditable="false"}function p(a){a=a.attributes;switch(a["data-cke-editable"]){case "true":a.contenteditable="true";break;case "1":delete a.contenteditable}}function q(a){return a.replace(E,
function(a,b,c){return"\x3c"+b+c.replace(y,function(a,b){return I.test(b)&&-1==c.indexOf("data-cke-saved-"+b)?" data-cke-saved-"+a+" data-cke-"+CKEDITOR.rnd+"-"+a:a})+"\x3e"})}function e(a,b){return a.replace(b,function(a,b,c){0===a.indexOf("\x3ctextarea")&&(a=b+v(c).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")+"\x3c/textarea\x3e");return"\x3ccke:encoded\x3e"+encodeURIComponent(a)+"\x3c/cke:encoded\x3e"})}function x(a){return a.replace(l,function(a,b){return decodeURIComponent(b)})}function w(a){return a.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,
function(a){return"\x3c!--"+H+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"--\x3e"})}function z(a){return CKEDITOR.tools.array.reduce(a.split(""),function(a,b){var c=b.toLowerCase(),d=b.toUpperCase(),e=F(c);c!==d&&(e+="|"+F(d));return a+("("+e+")")},"")}function F(a){var b;b=a.charCodeAt(0);var c=b.toString(16);b={htmlCode:"\x26#"+b+";?",hex:"\x26#x0*"+c+";?",entity:{"\x3c":"\x26lt;","\x3e":"\x26gt;",":":"\x26colon;"}[a]};for(var d in b)b[d]&&(a+="|"+b[d]);return a}function v(a){return a.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,
function(a,b){return decodeURIComponent(b)})}function m(a,b){var c=b._.dataStore;return a.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return c&&c[b]||""})}function M(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore={id:1}),f=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,d=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(d);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,
function(a){return"\x3c!--{cke_tempcomment}"+(c.push(a)-1)+"--\x3e"});for(var l=0;l<d.length;l++)a=a.replace(d[l],function(a){a=a.replace(f,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:"\x3c!--{cke_temp}"+(c.push(a)-1)+"--\x3e"});a=a.replace(f,function(a,b,d){return"\x3c!--"+H+(b?"{C}":"")+encodeURIComponent(c[d]).replace(/--/g,"%2D%2D")+"--\x3e"});a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(a){return a.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,
function(a,b){e[e.id]=decodeURIComponent(b);return"{cke_protected_"+e.id++ +"}"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(a,c,d,e){return"\x3c"+c+d+"\x3e"+m(v(e),b)+"\x3c/"+c+"\x3e"})}CKEDITOR.htmlDataProcessor=function(b){var c,f,l=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=f=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(L);c.addRules(D,{applyToAll:!0});c.addRules(a(b,"data"),
{applyToAll:!0});f.addRules(N);f.addRules(t,{applyToAll:!0});f.addRules(a(b,"html"),{applyToAll:!0});b.on("toHtml",function(a){a=a.data;var c=a.dataValue,f,c=c.replace(K,""),c=M(c,b),c=e(c,O),c=q(c),c=e(c,P),c=c.replace(B,"$1cke:$2"),c=c.replace(J,"\x3ccke:$1$2\x3e\x3c/cke:$1\x3e"),c=c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),c=c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");f=a.context||b.editable().getName();var l;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==
f&&(f="div",c="\x3cpre\x3e"+c+"\x3c/pre\x3e",l=1);f=b.document.createElement(f);f.setHtml("a"+c);c=f.getHtml().substr(1);c=c.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");l&&(c=c.replace(/^<pre>|<\/pre>$/gi,""));c=c.replace(A,"$1$2");c=x(c);c=v(c);f=!1===a.fixForBody?!1:d(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,f);f&&(l=c,!l.children.length&&CKEDITOR.dtd[l.name][f]&&(f=new CKEDITOR.htmlParser.element(f),l.add(f)));a.dataValue=c},null,null,
5);b.on("toHtml",function(a){a.data.filter.applyTo(a.data.dataValue,!0,a.data.dontFilter,a.data.enterMode)&&b.fire("dataFiltered")},null,null,6);b.on("toHtml",function(a){a.data.dataValue.filterChildren(l.dataFilter,!0)},null,null,10);b.on("toHtml",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=w(b)},null,null,15);b.on("toDataFormat",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\/?>/i,
""));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,a.data.context,d(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on("toDataFormat",function(a){a.data.dataValue.filterChildren(l.htmlFilter,!0)},null,null,10);b.on("toDataFormat",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on("toDataFormat",function(a){var c=a.data.dataValue,d=l.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=v(c);c=m(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype=
{toHtml:function(a,b,c,d){var f=this.editor,e,l,n,g;b&&"object"==typeof b?(e=b.context,c=b.fixForBody,d=b.dontFilter,l=b.filter,n=b.enterMode,g=b.protectedWhitespaces):e=b;e||null===e||(e=f.editable().getName());return f.fire("toHtml",{dataValue:a,context:e,fixForBody:c,dontFilter:d,filter:l||f.filter,enterMode:n||f.enterMode,protectedWhitespaces:g}).dataValue},toDataFormat:function(a,b){var c,d,f;b&&(c=b.context,d=b.filter,f=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire("toDataFormat",
{dataValue:a,filter:d||this.editor.filter,context:c,enterMode:f||this.editor.enterMode}).dataValue}};var u=/(?:&nbsp;|\xa0)$/,H="{cke_protected}",n=CKEDITOR.dtd,r="caption colgroup col thead tfoot tbody".split(" "),C=CKEDITOR.tools.extend({},n.$blockLimit,n.$block),L={elements:{input:h,textarea:h}},D={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,
"");if(0===b.indexOf("javascript")||0===b.indexOf("data"))a.attributes["data-cke-pa-src"]=a.attributes.src,delete a.attributes.src}}}},N={elements:{embed:function(a){var b=a.parent;if(b&&"object"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes["data-cke-saved-name"]))return!1}}},t={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,
""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;for(var c=["name","href","src"],d,f=0;f<c.length;f++)d="data-cke-saved-"+c[f],d in b&&delete b[c[f]]}return a},table:function(a){a.children.slice(0).sort(function(a,b){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(r,a.name),d=CKEDITOR.tools.indexOf(r,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?
1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){"Apple-style-span"==a.attributes["class"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];!b&&k(a,b=new CKEDITOR.htmlParser.text);
b.value=a.attributes["data-cke-title"]||""},input:p,textarea:p},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(t.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,function(a){return a.toLowerCase()})});var E=/<(a|area|img|input|source)\b([^>]*)>/gi,y=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,I=/^(href|src|name)$/i,P=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,
O=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,l=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,K=new RegExp("("+z("\x3ccke:encoded\x3e")+"(.*?)"+z("\x3c/cke:encoded\x3e")+")|("+z("\x3c")+z("/")+"?"+z("cke:encoded\x3e")+")","gi"),B=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,A=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,J=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi})();"use strict";
CKEDITOR.htmlParser.element=function(a,d){this.name=a;this.attributes=d||{};this.children=[];var b=a||"",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||CKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||"br"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}};
CKEDITOR.htmlParser.cssStyle=function(a){var d={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,f){"font-family"==c&&(f=f.replace(/["']/g,""));d[c.toLowerCase()]=f});return{rules:d,populate:function(a){var c=this.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute("style",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;
for(c in d)d[c]&&a.push(c,":",d[c],";");return a.join("")}}};
(function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof a?b.name==a:b.name in a)}}var d=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var d=this,k,h;b=d.getFilterContext(b);if(!d.parent)a.onRoot(b,
d);for(;;){k=d.name;if(!(h=a.onElementName(b,k)))return this.remove(),!1;d.name=h;if(!(d=a.onElement(b,d)))return this.remove(),!1;if(d!==this)return this.replaceWith(d),!1;if(d.name==k)break;if(d.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(d),!1;if(!d.name)return this.replaceWithChildren(),!1}k=d.attributes;var p,q;for(p in k){for(h=k[p];;)if(q=a.onAttributeName(b,p))if(q!=p)delete k[p],p=q;else break;else{delete k[p];break}q&&(!1===(h=a.onAttribute(b,d,q,h))?delete k[q]:k[q]=h)}d.isEmpty||
this.filterChildren(a,!1,b);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var g=this.name,k=[],h=this.attributes,p,q;a.openTag(g,h);for(p in h)k.push([p,h[p]]);a.sortAttributes&&k.sort(d);p=0;for(q=k.length;p<q;p++)h=k[p],a.attribute(h[0],h[1]);a.openTagClose(g,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(g)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);
this.remove()},forEach:b.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;"function"!=typeof b&&(b=a(b));for(var d=0,g=this.children.length;d<g;++d)if(b(this.children[d]))return this.children[d];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,d=a.length;b<d;++b)a[b].parent=this},getOuterHtml:function(){var a=
new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),d=this.clone(),k=0;k<b.length;++k)b[k].parent=d;d.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(d,this.getIndex()+1);return d},find:function(a,b){void 0===b&&(b=!1);var d=[],k;for(k=0;k<this.children.length;k++){var h=this.children[k];"function"==typeof a&&a(h)?d.push(h):"string"==typeof a&&h.name===a&&d.push(h);
b&&h.find&&(d=d.concat(h.find(a,b)))}return d},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes["class"]||"";this.attributes["class"]=b+(b?" ":"")+a}},removeClass:function(a){var b=this.attributes["class"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp("(?:\\s+|^)"+a+"(?:\\s+|$)")," ")))?this.attributes["class"]=b:delete this.attributes["class"])},hasClass:function(a){var b=this.attributes["class"];return b?(new RegExp("(?:^|\\s)"+a+"(?\x3d\\s|$)")).test(b):!1},getFilterContext:function(a){var b=
[];a||(a={nonEditable:!1,nestedEditable:!1});a.nonEditable||"false"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&"true"==this.attributes.contenteditable&&b.push("nestedEditable",!0):b.push("nonEditable",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var d=0;d<b.length;d+=2)a[b[d]]=b[d+1]}return a}},!0)})();
(function(){var a=/{([^}]+)}/g;CKEDITOR.template=function(a){this.source=String(a)};CKEDITOR.template.prototype.output=function(d,b){var c=this.source.replace(a,function(a,b){return void 0!==d[b]?d[b]:a});return b?b.push(c):c}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);
CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on("focus",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire("currentInstance"))});a.on("blur",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))});CKEDITOR.fire("instance",null,a)};CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]};
(function(){var a={};CKEDITOR.addTemplate=function(d,b){var c=a[d];if(c)return c;c={name:d,source:b};CKEDITOR.fire("template",c);return a[d]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(d){return a[d]}})();(function(){var a=[];CKEDITOR.addCss=function(d){a.push(d)};CKEDITOR.getCss=function(){return a.join("\n")}})();CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;
CKEDITOR.TRISTATE_DISABLED=0;
(function(){CKEDITOR.inline=function(a,d){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance "'+a.getEditor().name+'" is already attached to the provided element.';var b=new CKEDITOR.editor(d,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is("textarea")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\x3cdiv contenteditable\x3d"'+!!b.readOnly+'" class\x3d"cke_textarea_inline"\x3e'+c.getValue()+"\x3c/div\x3e",CKEDITOR.document),
a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on("loaded",function(){b.fire("uiReady");b.editable(a);b.container=a;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire("contentDom");b.mode="wysiwyg";b.fire("mode");b.status="ready";b.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,b)},null,null,1E4);b.on("destroy",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});
return b};CKEDITOR.inlineAll=function(){var a,d,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),f=0,g=c.count();f<g;f++)a=c.getItem(f),"true"==a.getAttribute("contenteditable")&&(d={element:a,config:{}},!1!==CKEDITOR.fire("inline",d)&&CKEDITOR.inline(a,d.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})})();CKEDITOR.replaceClass="ckeditor";
(function(){function a(a,f,g,k){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance "'+a.getEditor().name+'" is already attached to the provided element.';var h=new CKEDITOR.editor(f,a,k);k==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle("visibility","hidden"),h._.required=a.hasAttribute("required"),a.removeAttribute("required"));g&&h.setData(g,null,!0);h.on("loaded",function(){b(h);k==CKEDITOR.ELEMENT_MODE_REPLACE&&h.config.autoUpdateElement&&
a.$.form&&h._attachToForm();h.setMode(h.config.startupMode,function(){h.resetDirty();h.status="ready";h.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,h)})});h.on("destroy",d);return h}function d(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute("required","required")),delete this.element)}function b(a){var b=a.name,d=a.element,k=a.elementMode,h=
a.fire("uiSpace",{space:"top",html:""}).html,p=a.fire("uiSpace",{space:"bottom",html:""}).html,q=new CKEDITOR.template('\x3c{outerEl} id\x3d"cke_{name}" class\x3d"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"application"'+(a.title?' aria-labelledby\x3d"cke_{name}_arialbl"':"")+"\x3e"+(a.title?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':"")+'\x3c{outerEl} class\x3d"cke_inner cke_reset" role\x3d"presentation"\x3e{topHtml}\x3c{outerEl} id\x3d"{contentId}" class\x3d"cke_contents cke_reset" role\x3d"presentation"\x3e\x3c/{outerEl}\x3e{bottomHtml}\x3c/{outerEl}\x3e\x3c/{outerEl}\x3e'),
b=CKEDITOR.dom.element.createFromHtml(q.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:h?'\x3cspan id\x3d"'+a.ui.spaceId("top")+'" class\x3d"cke_top cke_reset_all" role\x3d"presentation" style\x3d"height:auto"\x3e'+h+"\x3c/span\x3e":"",contentId:a.ui.spaceId("contents"),bottomHtml:p?'\x3cspan id\x3d"'+a.ui.spaceId("bottom")+'" class\x3d"cke_bottom cke_reset_all" role\x3d"presentation"\x3e'+p+"\x3c/span\x3e":"",outerEl:CKEDITOR.env.ie?"span":"div"}));k==CKEDITOR.ELEMENT_MODE_REPLACE?
(d.hide(),b.insertAfter(d)):d.append(b);a.container=b;a.ui.contentsElement=a.ui.space("contents");h&&a.ui.space("top").unselectable();p&&a.ui.space("bottom").unselectable();d=a.config.width;k=a.config.height;d&&b.setStyle("width",CKEDITOR.tools.cssLength(d));k&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(k));b.disableContextMenu();CKEDITOR.env.webkit&&b.on("focus",function(){a.focus()});a.fireOnce("uiReady")}CKEDITOR.replace=function(b,d){return a(b,d,null,CKEDITOR.ELEMENT_MODE_REPLACE)};
CKEDITOR.appendTo=function(b,d,g){return a(b,d,g,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName("textarea"),b=0;b<a.length;b++){var d=null,k=a[b];if(k.name||k.id){if("string"==typeof arguments[0]){if(!(new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)")).test(k.className))continue}else if("function"==typeof arguments[0]&&(d={},!1===arguments[0](k,d)))continue;this.replace(k,d)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes=
{}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var d=this,k=this._.modes;if(a!=d.mode&&k&&k[a]){d.fire("beforeSetMode",a);if(d.mode){var h=d.checkDirty(),k=d._.previousModeData,p,q=0;d.fire("beforeModeUnload");d.editable(0);d._.previousMode=d.mode;d._.previousModeData=p=d.getData(1);"source"==d.mode&&k==p&&(d.fire("lockSnapshot",{forceUpdate:!0}),q=1);d.ui.space("contents").setHtml("");d.mode=""}else d._.previousModeData=d.getData(1);this._.modes[a](function(){d.mode=a;void 0!==h&&!h&&
d.resetDirty();q?d.fire("unlockSnapshot"):"wysiwyg"==a&&d.fire("saveSnapshot");setTimeout(function(){d.fire("mode");b&&b.call(d)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,d,k){var h=this.container,p=this.ui.space("contents"),q=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;k=k?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}):h;k.setSize("width",a,!0);q&&(q.style.width="1%");var e=(k.$.offsetHeight||0)-(p.$.clientHeight||
0),h=Math.max(b-(d?0:e),0);b=d?b+e:b;p.setStyle("height",h+"px");q&&(q.style.width="100%");this.fire("resize",{outerHeight:b,contentsHeight:h,outerWidth:a||k.getSize("width")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode="wysiwyg";
(function(){function a(a){var b=a.editor,e=a.data.path,f=e.blockLimit,g=a.data.selection,h=g.getRanges()[0],t;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=d(g,e))g.appendBogus(),t=CKEDITOR.env.ie;k(b,e.block,f)&&h.collapsed&&!h.getCommonAncestor().isReadOnly()&&(e=h.clone(),e.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),f=new CKEDITOR.dom.walker(e),f.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!f.checkForward()||e.checkStartOfBlock()&&e.checkEndOfBlock())&&
(b=h.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\xa0)$/)&&b.remove(),t=1,a.cancel());t&&h.select()}function d(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||d.is("pre")||d.getBogus()))return d}function b(a){var b=a.data.getTarget();b.is("input")&&
(b=b.getAttribute("type"),"submit"!=b&&"reset"!=b||a.data.preventDefault())}function c(a){return e(a)&&x(a)}function f(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function g(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(f)&&(d=b);if(!(e||!c(b)||a&&z(b)))return!1}}var d,e=a.getRanges()[0];a=a.root;
var f={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(f)){var g=e.clone();g.collapse(1);g.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(g);a.guard=b();a.checkBackward();if(d)return g=e.clone(),g.collapse(),g.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(g),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function k(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&"true"==b.getAttribute("contenteditable"))}
function h(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function p(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire("saveSnapshot")},0)}function q(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var e,x,w,z,F,v,m,M,u,H;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||
b);this.editor=a;this.status="unloaded";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=
this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();else this.$.setActive()}catch(c){if(!CKEDITOR.env.ie)throw c;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a="focus"==a?"focusin":"focusout",b=f(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&
(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData("classes");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData("classes",
b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),"text")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,
b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire("saveSnapshot");c||(c=d.getSelection().getRanges()[0]);v(this,b||"html",a,c);c.select();p(this);this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(a,b,c){v(this,c||"html",a,b);this.editor.fire("afterInsertHtml",{intoRange:b})},insertElement:function(a,b){var d=this.editor;d.focus();d.fire("saveSnapshot");var e=d.activeEnterMode,d=d.getSelection(),f=a.getName(),f=CKEDITOR.dtd.$block[f];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,
b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),f&&((f=a.getNext(function(a){return c(a)&&!z(a)}))&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$block)?f.getDtd()["#"]?b.moveToElementEditStart(f):b.moveToElementEditEnd(a):f||e==CKEDITOR.ENTER_BR||(f=b.fixBlock(!0,e==CKEDITOR.ENTER_DIV?"div":"p"),b.moveToElementEditStart(f))));d.selectRanges([b]);p(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,
e=a.getName(),f=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?m(b):b.startContainer.is(CKEDITOR.dtd.$list)&&M(b));var t,g;if(f)for(;(t=b.getCommonAncestor(0,1))&&(g=CKEDITOR.dtd[t.getName()])&&(!g||!g[e]);)t.getName()in CKEDITOR.dtd.span?b.splitElement(t):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(t),b.collapse(!0),t.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?
"div":"p",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();"unloaded"==this.status&&(this.status="ready");this.editor.fire("dataReady")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",!a)},detach:function(){this.removeClass("cke_editable");this.status="detached";var a=this.editor;this._.detach();
delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;a:if(d.anchorNode&&d.anchorNode==c.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=c.getDocument().getActive())&&e.equals(c)&&!d.anchorNode){e=!0;break a}e=void 0}e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),b=b.createRange(),b.setStart(e.startContainer.$,e.startOffset),b.collapse(!0),d.removeAllRanges(),
d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();"None"==d.type&&e.equals(c)&&(d=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",
function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),range:a.clone()};u.eol.detect(a,this);u.bogus.exclude(a);u.cell.shrink(a);a.fragment=a.range.cloneContents();u.tree.rebuild(a,this);u.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=H,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,
1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var f=this.editor.createRange();f.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=f.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),a.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();
c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag("span"),f=0,t;if(d)for(;t=d.getItem(f++);)if(!x(t)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),w(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();
return e},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",function(){var b=this.getData();this.is("textarea")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(F,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(a,"afterSetData",function(){this.setData(a.getData(1))},this);this.attachListener(a,"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(a,
"beforeFocus",function(){var b=a.getSelection();(b=b&&b.getNative())&&"Control"==b.type||this.focus()},this);this.attachListener(a,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):
a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed");this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on("scroll",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,
null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener("scroll",d))};this.on("scroll",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once("contentDom",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=
this.getDocument();a.window=this.getWindow();var f=a.document;this.changeAttr("spellcheck",!a.config.disableNativeSpellChecker);var h=a.config.contentsLangDirection;this.getDirection(1)!=h&&this.changeAttr("dir",h);var k=CKEDITOR.getCss();if(k){var h=f.getHead(),m=h.getCustomData("stylesheet");m?k!=m.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?m.$.styleSheet.cssText=k:m.setText(k)):(k=f.appendStyleText(k),k=new CKEDITOR.dom.element(k.ownerNode||k.owningElement),h.setCustomData("stylesheet",
k),k.data("cke-temp",1))}h=f.getCustomData("stylesheet_ref")||0;f.setCustomData("stylesheet_ref",h+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains("a");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var t={8:1,46:1};this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;b=a.getSelection();if(0!==b.getRanges().length){if(c in
t){var f,k=b.getRanges()[0],l=k.startPath(),h,B,A,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(f=b.getSelectedElement())||(f=g(b))?(a.fire("saveSnapshot"),k.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),f.remove(),k.select(),a.fire("saveSnapshot"),d=1):k.collapsed&&((h=l.block)&&(A=h[c?"getPrevious":"getNext"](e))&&A.type==CKEDITOR.NODE_ELEMENT&&A.is("table")&&k[c?"checkStartOfBlock":"checkEndOfBlock"]()?(a.fire("saveSnapshot"),k[c?"checkEndOfBlock":"checkStartOfBlock"]()&&h.remove(),k["moveToElementEdit"+
(c?"End":"Start")](A),k.select(),a.fire("saveSnapshot"),d=1):l.blockLimit&&l.blockLimit.is("td")&&(B=l.blockLimit.getAscendant("table"))&&k.checkBoundaryOfElement(B,c?CKEDITOR.START:CKEDITOR.END)&&(A=B[c?"getPrevious":"getNext"](e))?(a.fire("saveSnapshot"),k["moveToElementEdit"+(c?"End":"Start")](A),k.checkStartOfBlock()&&k.checkEndOfBlock()?A.remove():k.select(),a.fire("saveSnapshot"),d=1):(B=l.contains(["td","th","caption"]))&&k.checkBoundaryOfElement(B,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d}});
a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(b){b.data.getKeystroke()in t&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,"dblclick",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire("doubleclick",b)});CKEDITOR.env.ie&&this.attachListener(this,"click",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",
function(b){var c=b.data.getTarget();c.is("img","hr","input","textarea","select")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is("input","textarea","select")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(b){(b=b.data.getTarget())&&b.is("img")&&!b.isReadOnly()&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getAscendant("table")&&!b.getOuterHtml().replace(F,
""))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey();if(c in t&&(b=a.getSelection(),0!==b.getRanges().length)){var c=
8==c,d=b.getRanges()[0];b=d.startPath();if(d.collapsed)a:{var e=b.block;if(e&&d[c?"checkStartOfBlock":"checkEndOfBlock"]()&&d.moveToClosestEditablePosition(e,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var f=d.startContainer.getChild(d.startOffset-(c?1:0));if(f&&f.type==CKEDITOR.NODE_ELEMENT&&f.is("hr")){a.fire("saveSnapshot");f.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(e))b=void 0;else{a.fire("saveSnapshot");var l;(l=(c?d:e).getBogus())&&l.remove();
l=a.getSelection();f=l.createBookmarks();(c?e:d).moveChildren(c?d:e,!1);b.lastElement.mergeSiblings();q(e,d,!c);l.selectBookmarks(f);b=!0}}else b=!1}else c=d,l=b.block,d=c.endPath().block,l&&d&&!l.equals(d)?(a.fire("saveSnapshot"),(e=l.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(l,!1),b.lastElement.mergeSiblings(),q(l,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),""===c.startContainer.getHtml()&&c.startContainer.appendBogus(),
c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire("saveSnapshot");return!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData("classes"))for(;a.length;)this.removeClass(a.pop());if(!this.is("textarea")){a=this.getDocument();var b=a.getHead();if(b.getCustomData("stylesheet")){var c=a.getCustomData("stylesheet_ref");--c?a.setCustomData("stylesheet_ref",c):(a.removeCustomData("stylesheet_ref"),
b.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on("instanceLoaded",function(b){var c=b.editor;c.on("insertElement",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||a.is("textarea"))&&("false"!=a.getAttribute("contentEditable")&&
a.data("cke-editable",a.hasAttribute("contenteditable")?"true":"1"),a.setAttribute("contentEditable",!1))});c.on("selectionChange",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire("lockSnapshot"),a(b),c.fire("unlockSnapshot"),!d&&c.resetDirty())}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr("role","textbox");a.changeAttr("aria-multiline","true");a.changeAttr("aria-label",
c);c&&a.changeAttr("title",c);var d=b.fire("ariaEditorHelpLabel",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+e+'" class\x3d"cke_voice_label"\x3e'+d+"\x3c/span\x3e");c.append(d);a.changeAttr("aria-describedby",e)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");e=CKEDITOR.dom.walker.whitespaces(!0);
x=CKEDITOR.dom.walker.bookmark(!1,!0);w=CKEDITOR.dom.walker.empty();z=CKEDITOR.dom.walker.bogus();F=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;v=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,f,g,t,k=[],y=d.range.startContainer;e=d.range.startPath();for(var y=E[y.getName()],h=0,I=c.getChildren(),m=I.count(),q=-1,p=-1,P=0,D=e.contains(E.$list);h<m;++h)e=I.getItem(h),a(e)?(g=
e.getName(),D&&g in CKEDITOR.dtd.$list?k=k.concat(b(e,d)):(t=!!y[g],"br"!=g||!e.data("cke-eol")||h&&h!=m-1||(P=(f=h?k[h-1].node:I.getItem(h+1))&&(!a(f)||!f.is("br")),f=f&&a(f)&&E.$block[f.getName()]),-1!=q||t||(q=h),t||(p=h),k.push({isElement:1,isLineBreak:P,isBlock:e.isBlockBoundary(),hasBlockSibling:f,node:e,name:g,allowed:t}),f=P=0)):k.push({isElement:0,node:e,allowed:1});-1<q&&(k[q].firstNotAllowed=1);-1<p&&(k[p].lastNotAllowed=1);return k}function d(b,c){var e=[],f=b.getChildren(),g=f.count(),
t,k=0,y=E[c],h=!b.is(E.$inline)||b.is("br");for(h&&e.push(" ");k<g;k++)t=f.getItem(k),a(t)&&!t.is(y)?e=e.concat(d(t,c)):e.push(t);h&&e.push(" ");return e}function e(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function f(b){return b&&a(b)&&(b.is(E.$removeEmpty)||b.is("a")&&!b.isBlockBoundary())}function g(b,c,d,e){var f=b.clone(),t,k;f.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(t=(new CKEDITOR.dom.walker(f)).next())&&a(t)&&y[t.getName()]&&(k=t.getPrevious())&&a(k)&&!k.getParent().equals(b.startContainer)&&
d.contains(k)&&e.contains(t)&&t.isIdentical(k)&&(t.moveChildren(k),t.remove(),g(b,c,d,e))}function t(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is("br")&&a(b)&&b.is("br"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),f=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);f&&d(f,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var E=CKEDITOR.dtd,y={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},I={p:1,div:1,h1:1,h2:1,
h3:1,h4:1,h5:1,h6:1},m=CKEDITOR.tools.extend({},E.$inline);delete m.br;return function(y,l,K,B){var A=y.editor,J=!1;"unfiltered_html"==l&&(l="html",J=!0);if(!B.checkReadOnly()){var G=(new CKEDITOR.dom.elementPath(B.startContainer,B.root)).blockLimit||B.root;y={type:l,dontFilter:J,editable:y,editor:A,range:B,blockLimit:G,mergeCandidates:[],zombies:[]};l=y.range;B=y.mergeCandidates;var q,p;"text"==y.type&&l.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(q=CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",
l.document),l.insertNode(q),l.setStartAfter(q));J=new CKEDITOR.dom.elementPath(l.startContainer);y.endPath=G=new CKEDITOR.dom.elementPath(l.endContainer);if(!l.collapsed){var A=G.block||G.blockLimit,w=l.getCommonAncestor();A&&!A.equals(w)&&!A.contains(w)&&l.checkEndOfBlock()&&y.zombies.push(A);l.deleteContents()}for(;(p=e(l))&&a(p)&&p.isBlockBoundary()&&J.contains(p);)l.moveToPosition(p,CKEDITOR.POSITION_BEFORE_END);g(l,y.blockLimit,J,G);q&&(l.setEndBefore(q),l.collapse(),q.remove());q=l.startPath();
if(A=q.contains(f,!1,1))l.splitElement(A),y.inlineStylesRoot=A,y.inlineStylesPeak=q.lastElement;q=l.createBookmark();(A=q.startNode.getPrevious(c))&&a(A)&&f(A)&&B.push(A);(A=q.startNode.getNext(c))&&a(A)&&f(A)&&B.push(A);for(A=q.startNode;(A=A.getParent())&&f(A);)B.push(A);l.moveToBookmark(q);if(q=K){q=y.range;if("text"==y.type&&y.inlineStylesRoot){p=y.inlineStylesPeak;l=p.getDocument().createText("{cke-peak}");for(B=y.inlineStylesRoot.getParent();!p.equals(B);)l=l.appendTo(p.clone()),p=p.getParent();
K=l.getOuterHtml().split("{cke-peak}").join(K)}p=y.blockLimit.getName();if(/^\s+|\s+$/.test(K)&&"span"in CKEDITOR.dtd[p]){var v='\x3cspan data-cke-marker\x3d"1"\x3e\x26nbsp;\x3c/span\x3e';K=v+K+v}K=y.editor.dataProcessor.toHtml(K,{context:null,fixForBody:!1,protectedWhitespaces:!!v,dontFilter:y.dontFilter,filter:y.editor.activeFilter,enterMode:y.editor.activeEnterMode});p=q.document.createElement("body");p.setHtml(K);v&&(p.getFirst().remove(),p.getLast().remove());if((v=q.startPath().block)&&(1!=
v.getChildCount()||!v.getBogus()))a:{var x;if(1==p.getChildCount()&&a(x=p.getFirst())&&x.is(I)&&!x.hasAttribute("contenteditable")){v=x.getElementsByTag("*");q=0;for(B=v.count();q<B;q++)if(l=v.getItem(q),!l.is(m))break a;x.moveChildren(x.getParent(1));x.remove()}}y.dataWrapper=p;q=K}if(q){x=y.range;q=x.document;var u;p=y.blockLimit;B=0;var z,v=[],F,T;K=A=0;var H,M;l=x.startContainer;var J=y.endPath.elements[0],W,G=J.getPosition(l),w=!!J.getCommonAncestor(l)&&G!=CKEDITOR.POSITION_IDENTICAL&&!(G&CKEDITOR.POSITION_CONTAINS+
CKEDITOR.POSITION_IS_CONTAINED);l=b(y.dataWrapper,y);for(t(l,x);B<l.length;B++){G=l[B];if(u=G.isLineBreak){u=x;H=p;var S=void 0,Y=void 0;G.hasBlockSibling?u=1:(S=u.startContainer.getAscendant(E.$block,1))&&S.is({div:1,p:1})?(Y=S.getPosition(H),Y==CKEDITOR.POSITION_IDENTICAL||Y==CKEDITOR.POSITION_CONTAINS?u=0:(H=u.splitElement(S),u.moveToPosition(H,CKEDITOR.POSITION_AFTER_START),u=1)):u=0}if(u)K=0<B;else{u=x.startPath();!G.isBlock&&k(y.editor,u.block,u.blockLimit)&&(T=h(y.editor))&&(T=q.createElement(T),
T.appendBogus(),x.insertNode(T),CKEDITOR.env.needsBrFiller&&(z=T.getBogus())&&z.remove(),x.moveToPosition(T,CKEDITOR.POSITION_BEFORE_END));if((u=x.startPath().block)&&!u.equals(F)){if(z=u.getBogus())z.remove(),v.push(u);F=u}G.firstNotAllowed&&(A=1);if(A&&G.isElement){u=x.startContainer;for(H=null;u&&!E[u.getName()][G.name];){if(u.equals(p)){u=null;break}H=u;u=u.getParent()}if(u)H&&(M=x.splitElement(H),y.zombies.push(M),y.zombies.push(H));else{H=p.getName();W=!B;u=B==l.length-1;H=d(G.node,H);for(var S=
[],Y=H.length,Z=0,ba=void 0,ca=0,U=-1;Z<Y;Z++)ba=H[Z]," "==ba?(ca||W&&!Z||(S.push(new CKEDITOR.dom.text(" ")),U=S.length),ca=1):(S.push(ba),ca=0);u&&U==S.length&&S.pop();W=S}}if(W){for(;u=W.pop();)x.insertNode(u);W=0}else x.insertNode(G.node);G.lastNotAllowed&&B<l.length-1&&((M=w?J:M)&&x.setEndAt(M,CKEDITOR.POSITION_AFTER_START),A=0);x.collapse()}}1!=l.length?z=!1:(z=l[0],z=z.isElement&&"false"==z.node.getAttribute("contenteditable"));z&&(K=!0,u=l[0].node,x.setStartAt(u,CKEDITOR.POSITION_BEFORE_START),
x.setEndAt(u,CKEDITOR.POSITION_AFTER_END));y.dontMoveCaret=K;y.bogusNeededBlocks=v}z=y.range;var R;M=y.bogusNeededBlocks;for(W=z.createBookmark();F=y.zombies.pop();)F.getParent()&&(T=z.clone(),T.moveToElementEditStart(F),T.removeEmptyBlocksAtEnd());if(M)for(;F=M.pop();)CKEDITOR.env.needsBrFiller?F.appendBogus():F.append(z.document.createText("Â "));for(;F=y.mergeCandidates.pop();)F.mergeSiblings();z.moveToBookmark(W);if(!y.dontMoveCaret){for(F=e(z);F&&a(F)&&!F.is(E.$empty);){if(F.isBlockBoundary())z.moveToPosition(F,
CKEDITOR.POSITION_BEFORE_END);else{if(f(F)&&F.getHtml().match(/(\s|&nbsp;)$/g)){R=null;break}R=z.clone();R.moveToPosition(F,CKEDITOR.POSITION_BEFORE_END)}F=F.getLast(c)}R&&z.moveToRange(R)}}}}();m=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}
function c(a){var b=a.count(),d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}return function(d){var e=d.startContainer,f=e.getAscendant("table",1),t=!1;c(f.getElementsByTag("td"));c(f.getElementsByTag("th"));f=d.clone();f.setStart(e,0);f=a(f).lastBackward();f||(f=d.clone(),f.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),f=a(f).lastForward(),t=!0);f||(f=e);f.is("table")?(d.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),
d.collapse(!0),f.remove()):(f.is({tbody:1,thead:1,tfoot:1})&&(f=b(f,"tr",t)),f.is("tr")&&(f=b(f,f.getParent().is("thead")?"th":"td",t)),(e=f.getBogus())&&e.remove(),d.moveToPosition(f,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();M=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&
a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var c=b.startContainer,d=!1,e;e=b.clone();e.setStart(c,0);e=a(e).lastBackward();e||(e=b.clone(),e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),e=a(e).lastForward(),d=!0);e||(e=c);e.is(CKEDITOR.dtd.$list)?(b.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),e.remove()):((c=e.getBogus())&&c.remove(),b.moveToPosition(e,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();u={eol:{detect:function(a,b){var c=a.range,
d=c.clone(),e=c.clone(),f=new CKEDITOR.dom.elementPath(c.startContainer,b),t=new CKEDITOR.dom.elementPath(c.endContainer,b);d.collapse(1);e.collapse();f.block&&d.checkBoundaryOfElement(f.block,CKEDITOR.END)&&(c.setStartAfter(f.block),a.prependEolBr=1);t.block&&e.checkBoundaryOfElement(t.block,CKEDITOR.START)&&(c.setEndBefore(t.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),
1)},createEolBr:function(a){return a.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!z(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),f=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),t;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,
table:1})){var g=e.contains("table").getParent();t=function(a){return!a.equals(g)}}else if(e.block&&e.block.is(CKEDITOR.dtd.$listItem)&&(f=f.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!f.equals(c))){var y=e.contains(CKEDITOR.dtd.$list).getParent();t=function(a){return!a.equals(y)}}t||(t=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,t)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),
a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,d=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is("tr")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};H=function(){function a(b,c){var d=b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?"insertBefore":"insertAfter"](d)}function b(c,d,e){a(d);a(e,1);for(var f;f=e.getNext();)f.insertAfter(d),d=f;w(c)&&c.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);
d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),e=d.startPath(),f=d.endPath(),g=e.contains(CKEDITOR.dtd.$list),k=f.contains(CKEDITOR.dtd.$list);a.mergeList=g&&k&&g.getParent().equals(k.getParent())&&!g.equals(k);a.mergeListItems=e.block&&f.block&&e.block.is(CKEDITOR.dtd.$listItem)&&f.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=
d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,e=a.mergeListBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var k=f.contains(CKEDITOR.dtd.$list),h=g.contains(CKEDITOR.dtd.$list);k.equals(h)||(h.moveChildren(k),h.remove())}a.mergeListItems&&(f=f.contains(CKEDITOR.dtd.$listItem),g=g.contains(CKEDITOR.dtd.$listItem),f.equals(g)||b(g,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,
b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c),f=f.block,g=g.block;f&&g&&!f.equals(g)&&b(g,d,e);d.remove();e.remove()}}},table:function(){function a(c){var e=
[],f,g=new CKEDITOR.dom.walker(c),k=c.startPath().contains(d),h=c.endPath().contains(d),l={};g.guard=function(a,g){if(a.type==CKEDITOR.NODE_ELEMENT){var A="visited_"+(g?"out":"in");if(a.getCustomData(A))return;CKEDITOR.dom.element.setMarker(l,a,A,1)}if(g&&k&&a.equals(k))f=c.clone(),f.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),e.push(f);else if(!g&&h&&a.equals(h))f=c.clone(),f.setStartAt(h,CKEDITOR.POSITION_AFTER_START),e.push(f);else{if(A=!g)A=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!k||b(a,k))&&(!h||
b(a,h));if(!A&&(A=g))if(a.is(d))var A=k&&k.getAscendant("table",!0),I=h&&h.getAscendant("table",!0),m=a.getAscendant("table",!0),A=A&&A.contains(m)||I&&I.contains(m);else A=void 0;A&&(f=c.clone(),f.selectNodeContents(a),e.push(f))}};g.lastForward();CKEDITOR.dom.element.clearAllMarkers(l);return e}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,e=a.getPosition(c);return e===CKEDITOR.POSITION_IDENTICAL?!1:0===(e&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=
a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};c.checkForward();if(1<e){var c=b.startPath().contains("table"),f=b.endPath().contains("table");c&&f&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(f,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(f),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,f){var g=c(f,e.bookmark),k=g.clone(),
h,m,l=g.getCommonAncestor();l.is(CKEDITOR.dtd.$tableContent)&&!l.is(d)&&(l=l.getAscendant("table",!0));m=l;l=new CKEDITOR.dom.elementPath(g.startContainer,m);m=new CKEDITOR.dom.elementPath(g.endContainer,m);l=l.contains("table");m=m.contains("table");if(l||m)l&&m&&b(l,m)?(e.tableSurroundingRange=k,k.setStartAt(l,CKEDITOR.POSITION_AFTER_END),k.setEndAt(m,CKEDITOR.POSITION_BEFORE_START),k=g.clone(),k.setEndAt(l,CKEDITOR.POSITION_AFTER_END),h=g.clone(),h.setStartAt(m,CKEDITOR.POSITION_BEFORE_START),
h=a(k).concat(a(h))):l?m||(e.tableSurroundingRange=k,k.setStartAt(l,CKEDITOR.POSITION_AFTER_END),g.setEndAt(l,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=k,k.setEndAt(m,CKEDITOR.POSITION_BEFORE_START),g.setStartAt(m,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=h?h:a(g)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),w(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=
a.doc,c=a.range.clone(),b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()["#"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=
b.startPath(),d;k(a,c.block,c.blockLimit)&&(d=h(a))&&(d=b.document.createElement(d),d.appendBogus(),b.insertNode(d),b.moveToPosition(d,CKEDITOR.POSITION_AFTER_START))}}}()})();
(function(){function a(a){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(a)}function d(b,c){if(0===b.length||a(b[0].getEnclosedNode()))return!1;var d,e;if((d=!c&&1===b.length)&&!(d=b[0].collapsed)){var f=b[0];d=f.startContainer.getAscendant({td:1,th:1},!0);var g=f.endContainer.getAscendant({td:1,th:1},!0);e=CKEDITOR.tools.trim;d&&d.equals(g)&&!d.findOne("td, th, tr, tbody, table")?(f=f.cloneContents(),d=f.getFirst()?e(f.getFirst().getText())!==e(d.getText()):!0):d=!1}if(d)return!1;
for(e=0;e<b.length;e++)if(d=b[e]._getTableElement(),!d)return!1;return!0}function b(a){function b(a){a=a.find("td, th");var c=[],d;for(d=0;d<a.count();d++)c.push(a.getItem(d));return c}var c=[],d,e;for(e=0;e<a.length;e++)d=a[e]._getTableElement(),d.is&&d.is({td:1,th:1})?c.push(d):c=c.concat(b(d));return c}function c(a){a=b(a);var c="",d=[],e,f;for(f=0;f<a.length;f++)e&&!e.equals(a[f].getAscendant("tr"))?(c+=d.join("\t")+"\n",e=a[f].getAscendant("tr"),d=[]):0===f&&(e=a[f].getAscendant("tr")),d.push(a[f].getText());
return c+=d.join("\t")}function f(a){var b=this.root.editor,d=b.getSelection(1);this.reset();n=!0;d.root.once("selectionchange",function(a){a.cancel()},null,null,0);d.selectRanges([a[0]]);d=this._.cache;d.ranges=new CKEDITOR.dom.rangeList(a);d.type=CKEDITOR.SELECTION_TEXT;d.selectedElement=a[0]._getTableElement();d.selectedText=c(a);d.nativeSel=null;this.isFake=1;this.rev=M++;b._.fakeSelection=this;n=!1;this.root.fire("selectionchange")}function g(){var b=this._.fakeSelection,c;if(b){c=this.getSelection(1);
var e;if(!(e=!c)&&(e=!c.isHidden())){e=b;var f=c.getRanges(),g=e.getRanges(),k=f.length&&f[0]._getTableElement()&&f[0]._getTableElement().getAscendant("table",!0),l=g.length&&g[0]._getTableElement()&&g[0]._getTableElement().getAscendant("table",!0),h=1===f.length&&f[0]._getTableElement()&&f[0]._getTableElement().is("table"),B=1===g.length&&g[0]._getTableElement()&&g[0]._getTableElement().is("table");if(a(e.getSelectedElement()))e=!1;else{var A=1===f.length&&f[0].collapsed,g=d(f,!!CKEDITOR.env.webkit)&&
d(g);k=k&&l?k.equals(l)||l.contains(k):!1;k&&(A||g)?(h&&!B&&e.selectRanges(f),e=!0):e=!1}e=!e}e&&(b.reset(),b=0)}if(!b&&(b=c||this.getSelection(1),!b||b.getType()==CKEDITOR.SELECTION_NONE))return;this.fire("selectionCheck",b);c=this.elementPath();c.compare(this._.selectionPreviousPath)||(e=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(c.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||e||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=
c,this.fire("selectionChange",{selection:b,path:c}))}function k(){C=!0;r||(h.call(this),r=CKEDITOR.tools.setTimeout(h,200,this))}function h(){r=null;C&&(CKEDITOR.tools.setTimeout(g,0,this),C=!1)}function p(a){return L(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function q(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()["moveToElementEdit"+(d?"End":"Start")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,d=a.getPreviousNode(p,
null,c),e=a.getNextNode(p,null,c);return b(d)||b(e,1)||!(d||e||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function e(a){x(a,!1);var b=a.getDocument().createText(u);a.setCustomData("cke-fillingChar",b);return b}function x(a,b){var c=a&&a.removeCustomData("cke-fillingChar");if(c){if(!1!==b){var d=a.getDocument().getSelection().getNative(),e=d&&"None"!=d.type&&d.getRangeAt(0),f=u.length;if(c.getLength()>f&&e&&e.intersectsNode(c.$)){var l=[{node:d.anchorNode,offset:d.anchorOffset},
{node:d.focusNode,offset:d.focusOffset}];d.anchorNode==c.$&&d.anchorOffset>f&&(l[0].offset-=f);d.focusNode==c.$&&d.focusOffset>f&&(l[1].offset-=f)}}c.setText(w(c.getText(),1));l&&(c=a.getDocument().$,d=c.getSelection(),c=c.createRange(),c.setStart(l[0].node,l[0].offset),c.collapse(!0),d.removeAllRanges(),d.addRange(c),d.extend(l[1].node,l[1].offset))}}function w(a,b){return b?a.replace(H,function(a,b){return b?"Â ":""}):a.replace(u,"")}function z(a,b){var c=b&&CKEDITOR.tools.htmlEncode(b)||"\x26nbsp;",
c=CKEDITOR.dom.element.createFromHtml('\x3cdiv data-cke-hidden-sel\x3d"1" data-cke-temp\x3d"1" style\x3d"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'"\x3e'+c+"\x3c/div\x3e",a.document);a.fire("lockSnapshot");a.editable().append(c);var d=a.getSelection(1),e=a.createRange(),f=d.root.on("selectionchange",function(a){a.cancel()},null,null,0);e.setStartAt(c,CKEDITOR.POSITION_AFTER_START);e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);
d.selectRanges([e]);f.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=c}function F(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),f=e[0];1==e.length&&f.collapsed&&(d=f[38>d?"getPreviousEditableNode":"getNextEditableNode"]())&&d.type==CKEDITOR.NODE_ELEMENT&&"false"==d.getAttribute("contenteditable")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function v(a){for(var b=0;b<a.length;b++){var c=
a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is("body")||!d.isReadOnly());)e&&"false"==d.getAttribute("contentEditable")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;e=c.endContainer;var f=c.startOffset,l=c.endOffset,g=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(f>=d.getLength()?g.setStartAfter(d):g.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(l?g.setEndAfter(e):
g.setEndBefore(e));d=new CKEDITOR.dom.walker(g);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(g.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+1,0,e));return!0}return!1};d.next()}}return a}var m="function"!=typeof window.getSelection,M=1,u=CKEDITOR.tools.repeat("â",7),H=new RegExp(u+"( )?","g"),n,r,C,L=CKEDITOR.dom.walker.invisible(1),D=function(){function a(b){return function(a){var c=
a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),e;if(!c.readOnly)return(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,!a)),e&&c.getSelection().selectRanges([d]),c.fire("saveSnapshot"),b.selected.remove(),e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d])),c.fire("saveSnapshot"),
!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",function(a){function b(){var a=c.getSelection();a&&a.removeAllRanges()}var c=a.editor;c.on("contentDom",function(){function a(){p=new CKEDITOR.dom.selection(c.getSelection());p.lock()}function b(){f.removeListener("mouseup",b);n.removeListener("mouseup",b);var a=CKEDITOR.document.$.selection,c=a.createRange();"None"!=a.type&&c.parentElement()&&c.parentElement().ownerDocument==e.$&&c.select()}function d(a){a=
a.getRanges()[0];return a?(a=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")},!0))&&"false"===a.getAttribute("contenteditable")?a:null:null}var e=c.document,f=CKEDITOR.document,h=c.editable(),t=e.getBody(),n=e.getDocumentElement(),E=h.isInline(),q,p;CKEDITOR.env.gecko&&h.attachListener(h,"focus",function(a){a.removeListener();0!==q&&(a=c.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==h.$&&(a=c.createRange(),a.moveToElementEditStart(h),
a.select())},null,null,-2);h.attachListener(h,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(q&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){q=c._.previousActive&&c._.previousActive.equals(e.getActive());var a=null!=c._.previousScrollTop&&c._.previousScrollTop!=h.$.scrollTop;CKEDITOR.env.webkit&&q&&a&&(h.$.scrollTop=c._.previousScrollTop)}c.unlockSelection(q);q=0},null,null,-1);h.attachListener(h,"mousedown",function(){q=0});if(CKEDITOR.env.ie||E)m?h.attachListener(h,"beforedeactivate",
a,null,null,-1):h.attachListener(c,"selectionCheck",a,null,null,-1),h.attachListener(h,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){c.lockSelection(p);q=1},null,null,-1),h.attachListener(h,"mousedown",function(){q=0});if(CKEDITOR.env.ie&&!E){var w;h.attachListener(h,"mousedown",function(a){2==a.data.$.button&&((a=c.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(w=c.window.getScrollPosition()))});h.attachListener(h,"mouseup",function(a){2==a.data.$.button&&
w&&(c.document.$.documentElement.scrollLeft=w.x,c.document.$.documentElement.scrollTop=w.y);w=null});if("BackCompat"!=e.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var r,u;n.on("mousedown",function(a){function b(a){a=a.data.$;if(r){var c=t.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}r.setEndPoint(0>u.compareEndPoints("StartToStart",c)?"EndToEnd":"StartToStart",c);r.select()}}function c(){n.removeListener("mousemove",b);f.removeListener("mouseup",c);n.removeListener("mouseup",
c);r.select()}a=a.data;if(a.getTarget().is("html")&&a.$.y<n.$.clientHeight&&a.$.x<n.$.clientWidth){r=t.$.createTextRange();try{r.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}u=r.duplicate();n.on("mousemove",b);f.on("mouseup",c);n.on("mouseup",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)n.on("mousedown",function(a){a.data.getTarget().is("html")&&(f.on("mouseup",b),n.on("mouseup",b))})}}h.attachListener(h,"selectionchange",g,c);h.attachListener(h,"keyup",k,c);h.attachListener(h,"touchstart",
k,c);h.attachListener(h,"touchend",k,c);CKEDITOR.env.ie&&h.attachListener(h,"keydown",function(a){var b=this.getSelection(1),c=d(b);c&&!c.equals(h)&&(b.selectElement(c),a.data.preventDefault())},c);h.attachListener(h,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){c.forceNextSelectionCheck();c.selectionChange(1)});if(E&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var v;h.attachListener(h,"mousedown",function(){v=1});h.attachListener(e.getDocumentElement(),"mouseup",function(){v&&
k.call(c);v=0})}else h.attachListener(CKEDITOR.env.ie?h:e.getDocumentElement(),"mouseup",k,c);CKEDITOR.env.webkit&&h.attachListener(e,"keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:h.hasFocus&&x(h)}},null,null,-1);h.attachListener(h,"keydown",F(c),null,null,-1)});c.on("setData",function(){c.unlockSelection();CKEDITOR.env.webkit&&b()});c.on("contentDomUnload",function(){c.unlockSelection()});if(CKEDITOR.env.ie9Compat)c.on("beforeDestroy",
b,null,null,9);c.on("dataReady",function(){delete c._.fakeSelection;delete c._.hiddenSelectionContainer;c.selectionChange(1)});c.on("loadSnapshot",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=c.editable().getLast(a);b&&b.hasAttribute("data-cke-hidden-sel")&&(b.remove(),CKEDITOR.env.gecko&&(a=c.editable().getFirst(a))&&a.is("br")&&a.getAttribute("_moz_editor_bogus_node")&&a.remove())},null,null,100);c.on("key",function(a){if("wysiwyg"==c.mode){var b=c.getSelection();if(b.isFake){var d=
D[a.data.keyCode];if(d)return d({editor:c,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",function(a){var b=a.editor;b.on("selectionChange",function(){var a=b.editable(),c=a.getCustomData("cke-fillingChar");c&&(c.getCustomData("ready")?(x(a),a.editor.fire("selectionCheck")):c.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",function(){x(b.editable())},null,null,-1);b.on("getSnapshot",function(a){a.data&&(a.data=w(a.data))},
b,null,20);b.on("toDataFormat",function(a){a.data.dataValue=w(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(a){(a?g:k).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?
(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():
new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:M++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),
this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);else{try{e=a.createRange()}catch(f){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=
null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var N={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:w,_createFillingCharSequenceNode:e,FILLING_CHAR_SEQUENCE:u});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=
m?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:m?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;"Text"==d&&(b=CKEDITOR.SELECTION_TEXT);"Control"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;
else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&N[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=m?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,f,g,h=b.duplicate(),k=0,
m=e.length-1,n=-1,t,q;k<=m;)if(n=Math.floor((k+m)/2),f=e[n],h.moveToElementText(f),t=h.compareEndPoints("StartToStart",b),0<t)m=n-1;else if(0>t)k=n+1;else return{container:d,offset:a(f)};if(-1==n||n==e.length-1&&0>t){h.moveToElementText(d);h.setEndPoint("StartToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;e=d.childNodes;if(!h)return f=e[e.length-1],f.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:f,offset:f.nodeValue.length};for(d=e.length;0<h&&0<d;)g=e[--d],g.nodeType==
CKEDITOR.NODE_TEXT&&(q=g,h-=g.nodeValue.length);return{container:q,offset:-h}}h.collapse(0<t?!0:!1);h.setEndPoint(0<t?"StartToStart":"EndToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;if(!h)return{container:d,offset:a(f)+(0<t?0:1)};for(;0<h;)try{g=f[0<t?"previousSibling":"nextSibling"],g.nodeType==CKEDITOR.NODE_TEXT&&(h-=g.nodeValue.length,q=g),f=g}catch(p){return{container:d,offset:a(f)}}return{container:q,offset:0<t?-h:q.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&
a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var f=c.item(e),g=f.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<
g.childNodes.length&&g.childNodes[h]!=f;h++);a.setStart(new CKEDITOR.dom.node(g),h);a.setEnd(new CKEDITOR.dom.node(g),h+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=
d=new CKEDITOR.dom.rangeList(a.call(this)));return b?v(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?
b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},
function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&N[c.getName()]&&(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=m?"Control"==b.type?"":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();
this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(a){if(this.isLocked){if(a)var b=this.getSelectedElement(),c=this.getRanges(),e=this.isFake;this.isLocked=0;this.reset();a&&(a=b||c[0]&&c[0].getCommonAncestor())&&a.getAscendant("body",1)&&(d(c)?f.call(this,c):e?this.fake(b):b?this.selectElement(b):this.selectRanges(c))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;
var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire("lockSnapshot");b.remove();a.fire("unlockSnapshot");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=M++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(a){var b=this.root.editor,c=b&&b._.hiddenSelectionContainer;this.reset();if(c)for(var c=this.root,g,h=0;h<a.length;++h)g=
a[h],g.endContainer.equals(c)&&(g.endOffset=Math.min(g.endOffset,c.getChildCount()));if(a.length)if(this.isLocked){var k=CKEDITOR.document.getActive();this.unlock();this.selectRanges(a);this.lock();k&&!k.equals(this.root)&&k.focus()}else{var l;a:{var p,B;if(1==a.length&&!(B=a[0]).collapsed&&(l=B.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(B=B.clone(),B.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(p=B.getEnclosedNode())&&p.type==CKEDITOR.NODE_ELEMENT&&(l=p),"false"==l.getAttribute("contenteditable")))break a;
l=void 0}if(l)this.fake(l);else if(b&&b.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&d(a)&&!n)f.call(this,a);else{if(m){p=CKEDITOR.dom.walker.whitespaces(!0);l=/\ufeff|\u00a0/;B={table:1,tbody:1,tr:1};1<a.length&&(b=a[a.length-1],a[0].setEnd(b.endContainer,b.endOffset));b=a[0];a=b.collapsed;var A,J,G;if((c=b.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in N&&(!c.is("a")||!c.getText()))try{G=c.$.createControlRange();G.addElement(c.$);G.select();return}catch(w){}if(b.startContainer.type==
CKEDITOR.NODE_ELEMENT&&b.startContainer.getName()in B||b.endContainer.type==CKEDITOR.NODE_ELEMENT&&b.endContainer.getName()in B)b.shrink(CKEDITOR.NODE_ELEMENT,!0),a=b.collapsed;G=b.createBookmark();B=G.startNode;a||(k=G.endNode);G=b.document.$.body.createTextRange();G.moveToElementText(B.$);G.moveStart("character",1);k?(l=b.document.$.body.createTextRange(),l.moveToElementText(k.$),G.setEndPoint("EndToEnd",l),G.moveEnd("character",-1)):(A=B.getNext(p),J=B.hasAscendant("pre"),A=!(A&&A.getText&&A.getText().match(l))&&
(J||!B.hasPrevious()||B.getPrevious().is&&B.getPrevious().is("br")),J=b.document.createElement("span"),J.setHtml("\x26#65279;"),J.insertBefore(B),A&&b.document.createText("ï»¿").insertBefore(B));b.setStartBefore(B);B.remove();a?(A?(G.moveStart("character",-1),G.select(),b.document.$.selection.clear()):G.select(),b.moveToPosition(J,CKEDITOR.POSITION_BEFORE_START),J.remove()):(b.setEndBefore(k),k.remove(),G.select())}else{k=this.getNative();if(!k)return;this.removeAllRanges();for(G=0;G<a.length;G++){if(G<
a.length-1&&(A=a[G],J=a[G+1],l=A.clone(),l.setStart(A.endContainer,A.endOffset),l.setEnd(J.startContainer,J.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),b=l.getCommonAncestor(),l=l.getEnclosedNode(),b.isReadOnly()||l&&l.isReadOnly()))){J.setStart(A.startContainer,A.startOffset);a.splice(G--,1);continue}b=a[G];J=this.document.$.createRange();b.collapsed&&CKEDITOR.env.webkit&&q(b)&&(l=e(this.root),b.insertNode(l),(A=l.getNext())&&!l.getPrevious()&&A.type==CKEDITOR.NODE_ELEMENT&&"br"==
A.getName()?(x(this.root),b.moveToPosition(A,CKEDITOR.POSITION_BEFORE_START)):b.moveToPosition(l,CKEDITOR.POSITION_AFTER_END));J.setStart(b.startContainer.$,b.startOffset);try{J.setEnd(b.endContainer.$,b.endOffset)}catch(r){if(0<=r.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))b.collapse(1),J.setEnd(b.endContainer.$,b.endOffset);else throw r;}k.addRange(J)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute("aria-label")&&(b=a.getAttribute("aria-label"));
this.reset();z(c,b);var d=this._.cache,e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(e);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;d.selectedText=d.nativeSel=null;this.isFake=1;this.rev=M++;c._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data("cke-hidden-sel"))},isInTable:function(a){return d(this.getRanges(),
a)},isCollapsed:function(){var a=this.getRanges();return 1===a.length&&a[0].collapsed},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(a){for(var b=[],c,e=0;e<a.length;e++){var f=new CKEDITOR.dom.range(this.root);f.moveToBookmark(a[e]);b.push(f)}a.isFake&&(c=d(b)?b[0]._getTableElement():b[0].getEnclosedNode(),c&&c.type==
CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),a.isFake=0));a.isFake&&!d(b)?this.fake(c):this.selectRanges(b);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[m?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}}})();
"use strict";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;
(function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute("data-nostyle"))c=a;else if(!d){var e=a.getAttribute("contentEditable");"false"==e?c=a:"true"==e&&(d=1)}return c}function d(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function b(c){var e=c.document;if(c.collapsed)e=M(this,e),c.insertNode(e),c.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,k,m=h.ignoreReadonly,n=m||h.includeReadonly;null==
n&&(n=c.root.getCustomData("cke_includeReadonly"));var q=CKEDITOR.dtd[g];q||(k=!0,q=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var p=c.createBookmark(),t=p.startNode,w=p.endNode,r=t,x;if(!m){var u=c.getCommonAncestor(),m=a(t,u),u=a(w,u);m&&(r=m.getNextSourceNode(!0));u&&(w=u)}for(r.getPosition(w)==CKEDITOR.POSITION_FOLLOWING&&(r=0);r;){m=!1;if(r.equals(w))r=null,m=!0;else{var v=r.type==CKEDITOR.NODE_ELEMENT?r.getName():null,u=v&&"false"==r.getAttribute("contentEditable"),z=v&&
r.getAttribute("data-nostyle");if(v&&r.data("cke-bookmark")||r.type===CKEDITOR.NODE_COMMENT){r=r.getNextSourceNode(!0);continue}if(u&&n&&CKEDITOR.dtd.$block[v])for(var C=r,D=f(C),E=void 0,H=D.length,I=0,C=H&&new CKEDITOR.dom.range(C.getDocument());I<H;++I){var E=D[I],L=CKEDITOR.filter.instances[E.data("cke-filter")];if(L?L.check(this):1)C.selectNodeContents(E),b.call(this,C)}D=v?!q[v]||z?0:u&&!n?0:d(r,w,h,P):1;if(D)if(E=r.getParent(),D=h,H=g,I=k,!E||!(E.getDtd()||CKEDITOR.dtd.span)[H]&&!I||D.parentRule&&
!D.parentRule(E))m=!0;else{if(x||v&&CKEDITOR.dtd.$removeEmpty[v]&&(r.getPosition(w)|P)!=P||(x=c.clone(),x.setStartBefore(r)),v=r.type,v==CKEDITOR.NODE_TEXT||u||v==CKEDITOR.NODE_ELEMENT&&!r.getChildCount()){for(var v=r,N;(m=!v.getNext(y))&&(N=v.getParent(),q[N.getName()])&&d(N,t,h,O);)v=N;x.setEndAfter(v)}}else m=!0;r=r.getNextSourceNode(z||u)}if(m&&x&&!x.collapsed){for(var m=M(this,e),u=m.hasAttributes(),z=x.getCommonAncestor(),v={},D={},E={},H={},U,R,aa;m&&z;){if(z.getName()==g){for(U in h.attributes)!H[U]&&
(aa=z.getAttribute(R))&&(m.getAttribute(U)==aa?D[U]=1:H[U]=1);for(R in h.styles)!E[R]&&(aa=z.getStyle(R))&&(m.getStyle(R)==aa?v[R]=1:E[R]=1)}z=z.getParent()}for(U in D)m.removeAttribute(U);for(R in v)m.removeStyle(R);u&&!m.hasAttributes()&&(m=null);m?(x.extractContents().appendTo(m),x.insertNode(m),F.call(this,m),m.mergeSiblings(),CKEDITOR.env.ie||m.$.normalize()):(m=new CKEDITOR.dom.element("span"),x.extractContents().appendTo(m),x.insertNode(m),F.call(this,m),m.remove(!0));x=null}}c.moveToBookmark(p);
c.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(q.getParent()),e=null,f=null,g=0;g<a.elements.length;g++){var l=a.elements[g];if(l==a.block||l==a.blockLimit)break;p.checkElementRemovable(l,!0)&&(e=l)}for(g=0;g<c.elements.length;g++){l=c.elements[g];if(l==c.block||l==c.blockLimit)break;p.checkElementRemovable(l,!0)&&(f=l)}f&&q.breakParent(f);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,
1);var c=a.createBookmark(),d=c.startNode,e=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var f=new CKEDITOR.dom.elementPath(d.getParent(),a.root),g,h=0,k;h<f.elements.length&&(k=f.elements[h])&&k!=f.block&&k!=f.blockLimit;h++)if(this.checkElementRemovable(k)){var m;!e&&a.collapsed&&(a.checkBoundaryOfElement(k,CKEDITOR.END)||(m=a.checkBoundaryOfElement(k,CKEDITOR.START)))?(g=k,g.match=m?"start":"end"):(k.mergeSiblings(),k.is(this.element)?z.call(this,k):v(k,n(this)[k.getName()]))}if(g){e=
d;for(h=0;;h++){k=f.elements[h];if(k.equals(g))break;else if(k.match)continue;else k=k.clone();k.append(e);e=k}e["start"==g.match?"insertBefore":"insertAfter"](g)}}else{var q=c.endNode,p=this;b();for(f=d;!f.equals(q);)g=f.getNextSourceNode(),f.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(f)&&(f.getName()==this.element?z.call(this,f):v(f,n(this)[f.getName()]),g.type==CKEDITOR.NODE_ELEMENT&&g.contains(d)&&(b(),g=d.getNext())),f=g}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function f(a){var b=
[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function g(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&u(a,this)}function k(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&
a.removeStyle(e)}}function h(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,f;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(f=M(this,e,d),q(d,f));a.moveToBookmark(b)}function p(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&
(d.is("pre")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&d.copyAttributes(e),q(d,e)):z.call(this,d));a.moveToBookmark(b)}function q(a,b){var c=!b;c&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var d=b&&b.is("pre"),f=a.is("pre"),g=!d&&f;if(d&&!f){f=b;(g=a.getBogus())&&g.remove();g=a.getHtml();g=x(g,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");g=g.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");g=g.replace(/([ \t\n\r]+|&nbsp;)/g,
" ");g=g.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var h=a.getDocument().createElement("div");h.append(f);f.$.outerHTML="\x3cpre\x3e"+g+"\x3c/pre\x3e";f.copyAttributes(h.getFirst());f=h.getFirst().remove()}else f.setHtml(g);b=f}else g?b=w(c?[a.getHtml()]:e(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,k;(k=c.getPrevious(I))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("pre")&&(d=x(k.getHtml(),/\n$/,"")+"\n\n"+x(c.getHtml(),/^\n/,""),CKEDITOR.env.ie?c.$.outerHTML="\x3cpre\x3e"+d+"\x3c/pre\x3e":
c.setHtml(d),k.remove())}else c&&m(b)}function e(a){var b=[];x(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,c){return b+"\x3c/pre\x3e"+c+"\x3cpre\x3e"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,c){b.push(c)});return b}function x(a,b,c){var d="",e="";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(e=c);return""});return d+a.replace(b,c)+e}function w(a,b){var c;
1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\r\n|\r)/g,"\n"),e=x(e,/^[ \t]*\n/,""),e=x(e,/\n$/,""),e=x(e,/^[ \t]+|[ \t]+$/g,function(a,b){return 1==a.length?"\x26nbsp;":b?" "+CKEDITOR.tools.repeat("\x26nbsp;",a.length-1):CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "}),e=e.replace(/\n/g,"\x3cbr\x3e"),e=e.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "});if(c){var f=b.clone();f.setHtml(e);
c.append(f)}else b.setHtml(e)}return c||b}function z(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=n(this)[a.getName()],f=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),g;for(g in d)if("class"!=g&&!this._.definition.fullMatch||a.getAttribute(g)==r(g,d[g]))b&&"data-"==g.slice(0,5)||(f=a.hasAttribute(g),a.removeAttribute(g));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=r(h,c[h],!0)||(f=f||!!a.getStyle(h),a.removeStyle(h));v(a,e,D[a.getName()]);f&&(this._.definition.alwaysRemoveElement?
m(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?m(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function F(a){for(var b=n(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||z.call(this,d,!0);for(var f in b)if(f!=this.element)for(c=a.getElementsByTag(f),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||v(d,b[f])}function v(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],
f;if(f=a.getAttribute(e)){var g=b[d][1];(null===g||g.test&&g.test(f)||"string"==typeof g&&f==g)&&a.removeAttribute(e)}}c||m(a)}function m(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(I),d=a.getNext(I);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),a.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),
d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function M(a,b,c){var d;d=a.element;"*"==d&&(d="span");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=u(d,a);b.getCustomData("doc_processing_style")&&d.hasAttribute("id")?d.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return d}function u(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute("style",c);a.getDocument().removeCustomData("doc_processing_style");
return a}function H(a,b){for(var c in a)a[c]=a[c].replace(E,function(a,c){return b[c]})}function n(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],f,g;"string"==typeof e?f=e.toLowerCase():(f=e.element?e.element.toLowerCase():a.element,g=e.attributes);e=b[f]||(b[f]={});if(g){var e=e.attributes=e.attributes||[],h;for(h in g)e.push([h.toLowerCase(),g[h]])}}}return b}function r(a,
b,c){var d=new CKEDITOR.dom.element("span");d[c?"setStyle":"setAttribute"](a,b);return d[c?"getStyle":"getAttribute"](a)}function C(a,b){function c(a,b){return"font-family"==b.toLowerCase()?a.replace(/["']/g,""):a}"string"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));"string"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&"inherit"!=a[d]&&"inherit"!=b[d])return!1;return!0}function L(a,b,c){var d=a.getRanges();b=b?this.removeFromRange:this.applyToRange;
var e,f;if(a.isFake&&a.isInTable())for(e=[],f=0;f<d.length;f++)e.push(d[f].clone());for(var g=d.createIterator();f=g.getNextRange();)b.call(this,f,c);a.selectRanges(e||d)}var D={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},N={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,
dd:1,form:1,audio:1,video:1},t=/\s*(?:;\s*|$)/,E=/#\((.+?)\)/g,y=CKEDITOR.dom.walker.bookmark(0,1),I=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if("string"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),H(a.attributes,b),H(a.styles,b));c=this.element=a.element?"string"==typeof a.element?a.element.toLowerCase():
a.element:"*";this.type=a.type||(D[c]?CKEDITOR.STYLE_BLOCK:N[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return L.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);L.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof
CKEDITOR.dom.document)return L.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);L.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?h:this.type==CKEDITOR.STYLE_OBJECT?g:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?
p:this.type==CKEDITOR.STYLE_OBJECT?k:null;return this.removeFromRange(a)},applyToObject:function(a){u(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var f=e.getName();if(!("string"==typeof this.element?
f==this.element:f in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if("string"==typeof this.element?
d==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,f=c.attributes;if(f)for(var g in f)e++,d[g]=f[g];if(g=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=g;d._length=e;c=c._AC=d}if(c._length){for(var h in c)if("_length"!=h)if(d=a.getAttribute(h)||"","style"==h?C(c[h],d):c[h]==d){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=n(this)[a.getName()]){var d;
if(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];if(null===e)return!0;if("string"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;"bdo"==d&&(d="span");var c=["\x3c",d],e=b.attributes;if(e)for(var f in e)c.push(" ",f,'\x3d"',e[f],'"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style\x3d"',e,'"');c.push("\x3e",a||b.name,"\x3c/",d,"\x3e");return c.join("")},getDefinition:function(){return this._.definition}};
CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||"",d="";c.length&&(c=c.replace(t,";"));for(var e in b){var f=b[e],g=(e+":"+f).replace(t,";");"inherit"==f?d+=g:c+=g}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),
{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var P=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,O=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=function(a,d){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,d,!0)};
CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(a,d,b){CKEDITOR.stylesSet.addExternal(a,d,"");CKEDITOR.stylesSet.load(a,b)};
CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,d){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(a){for(var d=0;d<b.length;d++){var g=b[d],k=g.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;g.fn.call(this,k)}}));b.push({style:a,fn:d})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);
else{var d=this,b=d.config.stylesCombo_stylesSet||d.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)d._.stylesDefinitions=b,a(b);else{b||(b="default");var b=b.split(":"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(c,function(b){d._.stylesDefinitions=b[c];a(d._.stylesDefinitions)})}}}});
CKEDITOR.dom.comment=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}});"use strict";
(function(){var a={},d={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(d[b]=1);CKEDITOR.dom.elementPath=function(b,f){var g=null,k=null,h=[],p=b,q;f=f||b.getDocument().getBody();p||(p=f);do if(p.type==CKEDITOR.NODE_ELEMENT){h.push(p);if(!this.lastElement&&(this.lastElement=p,p.is(CKEDITOR.dtd.$object)||"false"==p.getAttribute("contenteditable")))continue;if(p.equals(f))break;if(!k&&(q=p.getName(),
"true"==p.getAttribute("contenteditable")?k=p:!g&&d[q]&&(g=p),a[q])){if(q=!g&&"div"==q){a:{q=p.getChildren();for(var e=0,x=q.count();e<x;e++){var w=q.getItem(e);if(w.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[w.getName()]){q=!0;break a}}q=!1}q=!q}q?g=p:k=p}}while(p=p.getParent());k||(k=f);this.block=g;this.blockLimit=k;this.root=f;this.elements=h}})();
CKEDITOR.dom.elementPath.prototype={compare:function(a){var d=this.elements;a=a&&a.elements;if(!a||d.length!=a.length)return!1;for(var b=0;b<d.length;b++)if(!d[b].equals(a[b]))return!1;return!0},contains:function(a,d,b){var c=0,f;"string"==typeof a&&(f=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?f=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?f=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:"function"==typeof a?f=a:"object"==typeof a&&(f=function(b){return b.getName()in
a});var g=this.elements,k=g.length;d&&(b?c+=1:--k);b&&(g=Array.prototype.slice.call(g,0),g.reverse());for(;c<k;c++)if(f(g[c]))return g[c];return null},isContextFor:function(a){var d;return a in CKEDITOR.dtd.$block?(d=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!d.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};
CKEDITOR.dom.text=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createTextNode(a));this.$=a};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;
CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var d=this.$.parentNode,b=d.childNodes.length,c=this.getLength(),f=this.getDocument(),g=new CKEDITOR.dom.text(this.$.splitText(a),f);d.childNodes.length==b&&(a>=c?(g=f.createText(""),g.insertAfter(this)):(a=f.createText(""),a.insertAfter(g),a.remove()));return g},substring:function(a,
d){return"number"!=typeof d?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,d)}});
(function(){function a(a,c,d){var g=a.serializable,k=c[d?"endContainer":"startContainer"],h=d?"endOffset":"startOffset",p=g?c.document.getById(a.startNode):a.startNode;a=g?c.document.getById(a.endNode):a.endNode;k.equals(p.getPrevious())?(c.startOffset=c.startOffset-k.getLength()-a.getPrevious().getLength(),k=a.getNext()):k.equals(a.getPrevious())&&(c.startOffset-=k.getLength(),k=a.getNext());k.equals(p.getParent())&&c[h]++;k.equals(a.getParent())&&c[h]++;c[d?"endContainer":"startContainer"]=k;return c}
CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,d)};var d={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),d=[],g;return{getNextRange:function(k){g=void 0===g?0:g+1;var h=a[g];if(h&&1<a.length){if(!g)for(var p=a.length-1;0<=p;p--)d.unshift(a[p].createBookmark(!0));if(k)for(var q=0;a[g+q+1];){var e=h.document;k=0;p=e.getById(d[q].endNode);for(e=e.getById(d[q+1].startNode);;){p=
p.getNextSourceNode(!1);if(e.equals(p))k=1;else if(c(p)||p.type==CKEDITOR.NODE_ELEMENT&&p.isBlockBoundary())continue;break}if(!k)break;q++}for(h.moveToBookmark(d.shift());q--;)p=a[++g],p.moveToBookmark(d.shift()),h.setEnd(p.endContainer,p.endOffset)}return h}}},createBookmarks:function(b){for(var c=[],d,g=0;g<this.length;g++){c.push(d=this[g].createBookmark(b,!0));for(var k=g+1;k<this.length;k++)this[k]=a(d,this[k]),this[k]=a(d,this[k],!0)}return c},createBookmarks2:function(a){for(var c=[],d=0;d<
this.length;d++)c.push(this[d].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}})();
(function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function d(b){var c=CKEDITOR.skin["ua_"+b],d=CKEDITOR.env;if(c)for(var c=c.split(",").sort(function(a,b){return a>b?-1:1}),f=0,g;f<c.length;f++)if(g=c[f],d.ie&&(g.replace(/^ie/,"")==d.version||d.quirks&&"iequirks"==g)&&(g="ie"),d[g]){b+="_"+c[f];break}return CKEDITOR.getUrl(a()+b+".css")}function b(a,b){g[a]||(CKEDITOR.document.appendStyleSheet(d(a)),g[a]=1);b&&b()}function c(a){var b=
a.getById(k);b||(b=a.getHead().append("style"),b.setAttribute("id",k),b.setAttribute("type","text/css"));return b}function f(a,b,c){var d,f,g;if(CKEDITOR.env.webkit)for(b=b.split("}").slice(0,-1),f=0;f<b.length;f++)b[f]=b[f].split("{");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(f=0;f<b.length;f++){g=b[f][1];for(d=0;d<c.length;d++)g=g.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[f][0],g)}else{g=b;for(d=0;d<c.length;d++)g=g.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?
a[h].$.styleSheet.cssText+=g:a[h].$.innerHTML+=g}}var g={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(d(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||"16px"})},getIconStyle:function(a,b,c,d,f){var g;a&&(a=a.toLowerCase(),b&&(g=this.icons[a+"-rtl"]),
g||(g=this.icons[a]));a=c||g&&g.path||"";d=d||g&&g.offset;f=f||g&&g.bgsize||"16px";a&&(a=a.replace(/'/g,"\\'"));return a&&"background-image:url('"+CKEDITOR.getUrl(a)+"');background-position:0 "+d+"px;background-size:"+f+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=c(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,d="",g="";"function"==typeof c&&(d=c(this,"editor"),g=
c(this,"panel"));a=[[p,a]];f([b],d,a);f(h,g,a)}).call(this,a)}});var k="cke_ui_color",h=[],p=/\$color/g;CKEDITOR.on("instanceLoaded",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!a.getById("cke_ui_color")){a=c(a);h.push(a);var d=b.getUiColor();d&&f([a],CKEDITOR.skin.chameleon(b,"panel"),[[p,d]])}};b.on("panelShow",a);b.on("menuShow",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})})();
(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"\x3e\x3c/div\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var d=a.getComputedStyle("border-top-color"),b=a.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!d||d!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc");CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");
CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,d=0;d<a.length;d++)CKEDITOR.editor.prototype.constructor.apply(a[d][0],a[d][1]),CKEDITOR.add(a[d][0])})();/*
 Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
*/
CKEDITOR.skin.name="moono";CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8";
CKEDITOR.skin.chameleon=function(){var b=function(){return function(b,e){for(var a=b.match(/[^#]./g),c=0;3>c;c++){var f=c,d;d=parseInt(a[c],16);d=("0"+(0>e?0|d*(1+e):0|d+(255-d)*e).toString(16)).slice(-2);a[f]=d}return"#"+a.join("")}}(),c=function(){var b=new CKEDITOR.template("background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType\x3d0,startColorstr\x3d'{from}',endColorstr\x3d'{to}');");return function(c,a){return b.output({from:c,
to:a})}}(),f={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),
panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(g,e){var a=g.uiColor,a={id:"."+g.id,defaultBorder:b(a,-.1),defaultGradient:c(b(a,.9),a),lightGradient:c(b(a,1),b(a,.7)),mediumGradient:c(b(a,.8),b(a,.5)),ckeButtonOn:c(b(a,.6),b(a,.7)),ckeResizer:b(a,-.4),ckeToolbarSeparator:b(a,.5),ckeColorauto:b(a,.8),dialogBody:b(a,.7),dialogTabSelected:c("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:b(a,-.6),elementsPathBg:a,menubuttonIcon:b(a,.5),menubuttonIconHover:b(a,.3)};return f[e].output(a).replace(/\[/g,"{").replace(/\]/g,
"}")}}();CKEDITOR.plugins.add("basicstyles",{init:function(c){var e=0,d=function(g,d,b,a){if(a){a=new CKEDITOR.style(a);var f=h[b];f.unshift(a);c.attachStyleStateChange(a,function(a){!c.readOnly&&c.getCommand(b).setState(a)});c.addCommand(b,new CKEDITOR.styleCommand(a,{contentForms:f}));c.ui.addButton&&c.ui.addButton(g,{label:d,command:b,toolbar:"basicstyles,"+(e+=10)})}},h={bold:["strong","b",["span",function(a){a=a.styles["font-weight"];return"bold"==a||700<=+a}]],italic:["em","i",["span",function(a){return"italic"==
a.styles["font-style"]}]],underline:["u",["span",function(a){return"underline"==a.styles["text-decoration"]}]],strike:["s","strike",["span",function(a){return"line-through"==a.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},b=c.config,a=c.lang.basicstyles;d("Bold",a.bold,"bold",b.coreStyles_bold);d("Italic",a.italic,"italic",b.coreStyles_italic);d("Underline",a.underline,"underline",b.coreStyles_underline);d("Strike",a.strike,"strike",b.coreStyles_strike);d("Subscript",a.subscript,
"subscript",b.coreStyles_subscript);d("Superscript",a.superscript,"superscript",b.coreStyles_superscript);c.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}});CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};
CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){var m={exec:function(g){var a=g.getCommand("blockquote").state,k=g.getSelection(),c=k&&k.getRanges()[0];if(c){var h=k.createBookmarks();if(CKEDITOR.env.ie){var e=h[0].startNode,b=h[0].endNode,d;if(e&&"blockquote"==e.getParent().getName())for(d=e;d=d.getNext();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){e.move(d,!0);break}if(b&&"blockquote"==b.getParent().getName())for(d=b;d=d.getPrevious();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){b.move(d);break}}var f=c.createIterator();
f.enlargeBr=g.config.enterMode!=CKEDITOR.ENTER_BR;if(a==CKEDITOR.TRISTATE_OFF){for(e=[];a=f.getNextParagraph();)e.push(a);1>e.length&&(a=g.document.createElement(g.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),b=h.shift(),c.insertNode(a),a.append(new CKEDITOR.dom.text("ï»¿",g.document)),c.moveToBookmark(b),c.selectNodeContents(a),c.collapse(!0),b=c.createBookmark(),e.push(a),h.unshift(b));d=e[0].getParent();c=[];for(b=0;b<e.length;b++)a=e[b],d=d.getCommonAncestor(a.getParent());for(a={table:1,tbody:1,
tr:1,ol:1,ul:1};a[d.getName()];)d=d.getParent();for(b=null;0<e.length;){for(a=e.shift();!a.getParent().equals(d);)a=a.getParent();a.equals(b)||c.push(a);b=a}for(;0<c.length;)if(a=c.shift(),"blockquote"==a.getName()){for(b=new CKEDITOR.dom.documentFragment(g.document);a.getFirst();)b.append(a.getFirst().remove()),e.push(b.getLast());b.replace(a)}else e.push(a);c=g.document.createElement("blockquote");for(c.insertBefore(e[0]);0<e.length;)a=e.shift(),c.append(a)}else if(a==CKEDITOR.TRISTATE_ON){b=[];
for(d={};a=f.getNextParagraph();){for(e=c=null;a.getParent();){if("blockquote"==a.getParent().getName()){c=a.getParent();e=a;break}a=a.getParent()}c&&e&&!e.getCustomData("blockquote_moveout")&&(b.push(e),CKEDITOR.dom.element.setMarker(d,e,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(d);a=[];e=[];for(d={};0<b.length;)f=b.shift(),c=f.getParent(),f.getPrevious()?f.getNext()?(f.breakParent(f.getParent()),e.push(f.getNext())):f.remove().insertAfter(c):f.remove().insertBefore(c),c.getCustomData("blockquote_processed")||
(e.push(c),CKEDITOR.dom.element.setMarker(d,c,"blockquote_processed",!0)),a.push(f);CKEDITOR.dom.element.clearAllMarkers(d);for(b=e.length-1;0<=b;b--){c=e[b];a:{d=c;for(var f=0,m=d.getChildCount(),l=void 0;f<m&&(l=d.getChild(f));f++)if(l.type==CKEDITOR.NODE_ELEMENT&&l.isBlockBoundary()){d=!1;break a}d=!0}d&&c.remove()}if(g.config.enterMode==CKEDITOR.ENTER_BR)for(c=!0;a.length;)if(f=a.shift(),"div"==f.getName()){b=new CKEDITOR.dom.documentFragment(g.document);!c||!f.getPrevious()||f.getPrevious().type==
CKEDITOR.NODE_ELEMENT&&f.getPrevious().isBlockBoundary()||b.append(g.document.createElement("br"));for(c=f.getNext()&&!(f.getNext().type==CKEDITOR.NODE_ELEMENT&&f.getNext().isBlockBoundary());f.getFirst();)f.getFirst().remove().appendTo(b);c&&b.append(g.document.createElement("br"));b.replace(f);c=!1}}k.selectBookmarks(h);g.focus()}},refresh:function(g,a){this.setState(g.elementPath(a.block||a.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",
requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(g){g.blockless||(g.addCommand("blockquote",m),g.ui.addButton&&g.ui.addButton("Blockquote",{label:g.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})})();CKEDITOR.plugins.add("dialogui",{onLoad:function(){var h=function(b){this._||(this._={});this._["default"]=this._.initValue=b["default"]||"";this._.required=b.required||!1;for(var a=[this._],d=1;d<arguments.length;d++)a.push(arguments[d]);a.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,a);return this._},r={build:function(b,a,d){return new CKEDITOR.ui.dialog.textInput(b,a,d)}},n={build:function(b,a,d){return new CKEDITOR.ui.dialog[a.type](b,a,d)}},q={isChanged:function(){return this.getValue()!=
this.getInitValue()},reset:function(b){this.setValue(this.getInitValue(),b)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},v=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(b,a){this._.domOnChangeRegistered||(b.on("load",function(){this.getInputElement().on("change",function(){b.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},
this)},this),this._.domOnChangeRegistered=!0);this.on("change",a)}},!0),x=/^on([A-Z]\w+)/,t=function(b){for(var a in b)(x.test(a)||"title"==a||"type"==a)&&delete b[a];return b},w=function(b){b=b.data.getKeystroke();b==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):b==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,a,d,f){if(!(4>arguments.length)){var c=h.call(this,a);c.labelId=CKEDITOR.tools.getNextId()+
"_label";this._.children=[];var e={role:a.role||"presentation"};a.includeLabel&&(e["aria-labelledby"]=c.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,"div",null,e,function(){var e=[],g=a.required?" cke_required":"";"horizontal"!=a.labelLayout?e.push('\x3clabel class\x3d"cke_dialog_ui_labeled_label'+g+'" ',' id\x3d"'+c.labelId+'"',c.inputId?' for\x3d"'+c.inputId+'"':"",(a.labelStyle?' style\x3d"'+a.labelStyle+'"':"")+"\x3e",a.label,"\x3c/label\x3e",'\x3cdiv class\x3d"cke_dialog_ui_labeled_content"',
a.controlStyle?' style\x3d"'+a.controlStyle+'"':"",' role\x3d"presentation"\x3e',f.call(this,b,a),"\x3c/div\x3e"):(g={type:"hbox",widths:a.widths,padding:0,children:[{type:"html",html:'\x3clabel class\x3d"cke_dialog_ui_labeled_label'+g+'" id\x3d"'+c.labelId+'" for\x3d"'+c.inputId+'"'+(a.labelStyle?' style\x3d"'+a.labelStyle+'"':"")+"\x3e"+CKEDITOR.tools.htmlEncode(a.label)+"\x3c/label\x3e"},{type:"html",html:'\x3cspan class\x3d"cke_dialog_ui_labeled_content"'+(a.controlStyle?' style\x3d"'+a.controlStyle+
'"':"")+"\x3e"+f.call(this,b,a)+"\x3c/span\x3e"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,g,e));return e.join("")})}},textInput:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",c={"class":"cke_dialog_ui_input_"+a.type,id:f,type:a.type};a.validate&&(this.validate=a.validate);a.maxLength&&(c.maxlength=a.maxLength);a.size&&(c.size=a.size);a.inputStyle&&(c.style=a.inputStyle);var e=this,m=!1;b.on("load",function(){e.getInputElement().on("keydown",
function(a){13==a.data.getKeystroke()&&(m=!0)});e.getInputElement().on("keyup",function(a){13==a.data.getKeystroke()&&m&&(b.getButton("ok")&&setTimeout(function(){b.getButton("ok").click()},0),m=!1);e.bidi&&w.call(e,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var b=['\x3cdiv class\x3d"cke_dialog_ui_input_',a.type,'" role\x3d"presentation"'];a.width&&b.push('style\x3d"width:'+a.width+'" ');b.push("\x3e\x3cinput ");c["aria-labelledby"]=this._.labelId;this._.required&&
(c["aria-required"]=this._.required);for(var e in c)b.push(e+'\x3d"'+c[e]+'" ');b.push(" /\x3e\x3c/div\x3e");return b.join("")})}},textarea:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);var f=this,c=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",e={};a.validate&&(this.validate=a.validate);e.rows=a.rows||5;e.cols=a.cols||20;e["class"]="cke_dialog_ui_input_textarea "+(a["class"]||"");"undefined"!=typeof a.inputStyle&&(e.style=a.inputStyle);a.dir&&(e.dir=a.dir);if(f.bidi)b.on("load",
function(){f.getInputElement().on("keyup",w)},f);CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){e["aria-labelledby"]=this._.labelId;this._.required&&(e["aria-required"]=this._.required);var a=['\x3cdiv class\x3d"cke_dialog_ui_input_textarea" role\x3d"presentation"\x3e\x3ctextarea id\x3d"',c,'" '],b;for(b in e)a.push(b+'\x3d"'+CKEDITOR.tools.htmlEncode(e[b])+'" ');a.push("\x3e",CKEDITOR.tools.htmlEncode(f._["default"]),"\x3c/textarea\x3e\x3c/div\x3e");return a.join("")})}},checkbox:function(b,
a,d){if(!(3>arguments.length)){var f=h.call(this,a,{"default":!!a["default"]});a.validate&&(this.validate=a.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,a,d,"span",null,null,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),e=[],d=CKEDITOR.tools.getNextId()+"_label",g={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":d};t(c);a["default"]&&(g.checked="checked");"undefined"!=typeof c.inputStyle&&(c.style=c.inputStyle);
f.checkbox=new CKEDITOR.ui.dialog.uiElement(b,c,e,"input",null,g);e.push(' \x3clabel id\x3d"',d,'" for\x3d"',g.id,'"'+(a.labelStyle?' style\x3d"'+a.labelStyle+'"':"")+"\x3e",CKEDITOR.tools.htmlEncode(a.label),"\x3c/label\x3e");return e.join("")})}},radio:function(b,a,d){if(!(3>arguments.length)){h.call(this,a);this._["default"]||(this._["default"]=this._.initValue=a.items[0][1]);a.validate&&(this.validate=a.validate);var f=[],c=this;a.role="radiogroup";a.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,
b,a,d,function(){for(var e=[],d=[],g=(a.id?a.id:CKEDITOR.tools.getNextId())+"_radio",k=0;k<a.items.length;k++){var l=a.items[k],h=void 0!==l[2]?l[2]:l[0],n=void 0!==l[1]?l[1]:l[0],p=CKEDITOR.tools.getNextId()+"_radio_input",q=p+"_label",p=CKEDITOR.tools.extend({},a,{id:p,title:null,type:null},!0),h=CKEDITOR.tools.extend({},p,{title:h},!0),r={type:"radio","class":"cke_dialog_ui_radio_input",name:g,value:n,"aria-labelledby":q},u=[];c._["default"]==n&&(r.checked="checked");t(p);t(h);"undefined"!=typeof p.inputStyle&&
(p.style=p.inputStyle);p.keyboardFocusable=!0;f.push(new CKEDITOR.ui.dialog.uiElement(b,p,u,"input",null,r));u.push(" ");new CKEDITOR.ui.dialog.uiElement(b,h,u,"label",null,{id:q,"for":r.id},l[0]);e.push(u.join(""))}new CKEDITOR.ui.dialog.hbox(b,f,e,d);return d.join("")});this._.children=f}},button:function(b,a,d){if(arguments.length){"function"==typeof a&&(a=a(b.getParentEditor()));h.call(this,a,{disabled:a.disabled||!1});CKEDITOR.event.implementOn(this);var f=this;b.on("load",function(){var a=this.getElement();
(function(){a.on("click",function(a){f.click();a.data.preventDefault()});a.on("keydown",function(a){a.data.getKeystroke()in{32:1}&&(f.click(),a.data.preventDefault())})})();a.unselectable()},this);var c=CKEDITOR.tools.extend({},a);delete c.style;var e=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,"a",null,{style:a.style,href:"javascript:void(0)",title:a.label,hidefocus:"true","class":a["class"],role:"button","aria-labelledby":e},'\x3cspan id\x3d"'+e+'" class\x3d"cke_dialog_ui_button"\x3e'+
CKEDITOR.tools.htmlEncode(a.label)+"\x3c/span\x3e")}},select:function(b,a,d){if(!(3>arguments.length)){var f=h.call(this,a);a.validate&&(this.validate=a.validate);f.inputId=CKEDITOR.tools.getNextId()+"_select";CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){var c=CKEDITOR.tools.extend({},a,{id:a.id?a.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),e=[],d=[],g={id:f.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};e.push('\x3cdiv class\x3d"cke_dialog_ui_input_',
a.type,'" role\x3d"presentation"');a.width&&e.push('style\x3d"width:'+a.width+'" ');e.push("\x3e");void 0!==a.size&&(g.size=a.size);void 0!==a.multiple&&(g.multiple=a.multiple);t(c);for(var k=0,l;k<a.items.length&&(l=a.items[k]);k++)d.push('\x3coption value\x3d"',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"\x26quot;"),'" /\x3e ',CKEDITOR.tools.htmlEncode(l[0]));"undefined"!=typeof c.inputStyle&&(c.style=c.inputStyle);f.select=new CKEDITOR.ui.dialog.uiElement(b,c,e,"select",null,
g,d.join(""));e.push("\x3c/div\x3e");return e.join("")})}},file:function(b,a,d){if(!(3>arguments.length)){void 0===a["default"]&&(a["default"]="");var f=CKEDITOR.tools.extend(h.call(this,a),{definition:a,buttons:[]});a.validate&&(this.validate=a.validate);b.on("load",function(){CKEDITOR.document.getById(f.frameId).getParent().addClass("cke_dialog_ui_input_file")});CKEDITOR.ui.dialog.labeledElement.call(this,b,a,d,function(){f.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var b=['\x3ciframe frameborder\x3d"0" allowtransparency\x3d"0" class\x3d"cke_dialog_ui_input_file" role\x3d"presentation" id\x3d"',
f.frameId,'" title\x3d"',a.label,'" src\x3d"javascript:void('];b.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0");b.push(')"\x3e\x3c/iframe\x3e');return b.join("")})}},fileButton:function(b,a,d){var f=this;if(!(3>arguments.length)){h.call(this,a);a.validate&&(this.validate=a.validate);var c=CKEDITOR.tools.extend({},a),e=c.onClick;c.className=(c.className?c.className+" ":"")+"cke_dialog_ui_button";c.onClick=function(c){var d=
a["for"];c=e?e.call(this,c):!1;!1!==c&&("xhr"!==c&&b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on("load",function(){b.getContentElement(a["for"][0],a["for"][1])._.buttons.push(f)});CKEDITOR.ui.dialog.button.call(this,b,c,d)}},html:function(){var b=/^\s*<[\w:]+\s+([^>]*)?>/,a=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,d=/\/$/;return function(f,c,e){if(!(3>arguments.length)){var m=[],g=c.html;"\x3c"!=g.charAt(0)&&(g="\x3cspan\x3e"+g+"\x3c/span\x3e");var k=c.focus;if(k){var l=this.focus;
this.focus=function(){("function"==typeof k?k:l).call(this);this.fire("focus")};c.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,f,c,m,"span",null,null,"");m=m.join("").match(b);g=g.match(a)||["","",""];d.test(g[1])&&(g[1]=g[1].slice(0,-1),g[2]="/"+g[2]);e.push([g[1]," ",m[1]||"",g[2]].join(""))}}}(),fieldset:function(b,a,d,f,c){var e=c.label;this._={children:a};CKEDITOR.ui.dialog.uiElement.call(this,b,c,f,"fieldset",null,null,function(){var a=
[];e&&a.push("\x3clegend"+(c.labelStyle?' style\x3d"'+c.labelStyle+'"':"")+"\x3e"+e+"\x3c/legend\x3e");for(var b=0;b<d.length;b++)a.push(d[b]);return a.join("")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(b){var a=CKEDITOR.document.getById(this._.labelId);1>a.getChildCount()?(new CKEDITOR.dom.text(b,CKEDITOR.document)).appendTo(a):a.getChild(0).$.nodeValue=
b;return this},getLabel:function(){var b=CKEDITOR.document.getById(this._.labelId);return!b||1>b.getChildCount()?"":b.getChild(0).getText()},eventProcessors:v},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var b=this.getElement();b&&b.removeClass("cke_disabled")},disable:function(){this._.disabled=!0;this.getElement().addClass("cke_disabled")},
isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(b,a){this.on("click",function(){a.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},
focus:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&a.$.focus()},0)},select:function(){var b=this.selectParentTab();setTimeout(function(){var a=b.getInputElement();a&&(a.$.focus(),a.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(b){if(this.bidi){var a=b&&b.charAt(0);(a="âª"==a?"ltr":"â«"==a?"rtl":null)&&(b=b.slice(1));this.setDirectionMarker(a)}b||(b="");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},
getValue:function(){var b=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&b){var a=this.getDirectionMarker();a&&(b=("ltr"==a?"âª":"â«")+b)}return b},setDirectionMarker:function(b){var a=this.getInputElement();b?a.setAttributes({dir:b,"data-cke-dir-marker":b}):this.getDirectionMarker()&&a.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},q,!0);CKEDITOR.ui.dialog.textarea.prototype=
new CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(b,a,d){var f=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),c=this.getInputElement().$;f.$.text=b;f.$.value=void 0===a||null===a?b:a;void 0===d||null===d?CKEDITOR.env.ie?c.add(f.$):c.add(f.$,null):c.add(f.$,d);return this},remove:function(b){this.getInputElement().$.remove(b);
return this},clear:function(){for(var b=this.getInputElement().$;0<b.length;)b.remove(0);return this},keyboardFocusable:!0},q,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(b,a){this.getInputElement().$.checked=b;!a&&this.fire("change",{value:b})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(b,
a){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return v.onChange.apply(this,arguments);b.on("load",function(){var a=this._.checkbox.getElement();a.on("propertychange",function(b){b=b.data.$;"checked"==b.propertyName&&this.fire("change",{value:a.$.checked})},this)},this);this.on("change",a);return null}},keyboardFocusable:!0},q,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(b,a){for(var d=this._.children,f,c=0;c<d.length&&(f=d[c]);c++)f.getElement().$.checked=
f.getValue()==b;!a&&this.fire("change",{value:b})},getValue:function(){for(var b=this._.children,a=0;a<b.length;a++)if(b[a].getElement().$.checked)return b[a].getValue();return null},accessKeyUp:function(){var b=this._.children,a;for(a=0;a<b.length;a++)if(b[a].getElement().$.checked){b[a].getElement().focus();return}b[0].getElement().focus()},eventProcessors:{onChange:function(b,a){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return v.onChange.apply(this,arguments);b.on("load",function(){for(var a=
this._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on("propertychange",function(a){a=a.data.$;"checked"==a.propertyName&&this.$.checked&&b.fire("change",{value:this.getAttribute("value")})})},this);this.on("change",a);return null}}},q,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,q,{getInputElement:function(){var b=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<b.$.forms.length?new CKEDITOR.dom.element(b.$.forms[0].elements[0]):
this.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(b){var a=/^on([A-Z]\w+)/,d,f=function(a,b,c,d){a.on("formLoaded",function(){a.getInputElement().on(c,d,a)})},c;for(c in b)if(d=c.match(a))this.eventProcessors[c]?this.eventProcessors[c].call(this,this._.dialog,b[c]):f(this,this._.dialog,d[1].toLowerCase(),b[c]);return this},reset:function(){function b(){d.$.open();
var b="";f.size&&(b=f.size-(CKEDITOR.env.ie?7:0));var h=a.frameId+"_input";d.$.write(['\x3chtml dir\x3d"'+g+'" lang\x3d"'+k+'"\x3e\x3chead\x3e\x3ctitle\x3e\x3c/title\x3e\x3c/head\x3e\x3cbody style\x3d"margin: 0; overflow: hidden; background: transparent;"\x3e','\x3cform enctype\x3d"multipart/form-data" method\x3d"POST" dir\x3d"'+g+'" lang\x3d"'+k+'" action\x3d"',CKEDITOR.tools.htmlEncode(f.action),'"\x3e\x3clabel id\x3d"',a.labelId,'" for\x3d"',h,'" style\x3d"display:none"\x3e',CKEDITOR.tools.htmlEncode(f.label),
'\x3c/label\x3e\x3cinput style\x3d"width:100%" id\x3d"',h,'" aria-labelledby\x3d"',a.labelId,'" type\x3d"file" name\x3d"',CKEDITOR.tools.htmlEncode(f.id||"cke_upload"),'" size\x3d"',CKEDITOR.tools.htmlEncode(0<b?b:""),'" /\x3e\x3c/form\x3e\x3c/body\x3e\x3c/html\x3e\x3cscript\x3e',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+e+");","window.onbeforeunload \x3d function() {window.parent.CKEDITOR.tools.callFunction("+m+")}","\x3c/script\x3e"].join(""));
d.$.close();for(b=0;b<c.length;b++)c[b].enable()}var a=this._,d=CKEDITOR.document.getById(a.frameId).getFrameDocument(),f=a.definition,c=a.buttons,e=this.formLoadedNumber,m=this.formUnloadNumber,g=a.dialog._.editor.lang.dir,k=a.dialog._.editor.langCode;e||(e=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),m=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(e);
CKEDITOR.tools.removeFunction(m)}));CKEDITOR.env.gecko?setTimeout(b,500):b()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(b,a){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on("change",a)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=
new CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement("text",r);CKEDITOR.dialog.addUIElement("password",r);CKEDITOR.dialog.addUIElement("tel",r);CKEDITOR.dialog.addUIElement("textarea",n);CKEDITOR.dialog.addUIElement("checkbox",n);CKEDITOR.dialog.addUIElement("radio",n);CKEDITOR.dialog.addUIElement("button",n);CKEDITOR.dialog.addUIElement("select",n);CKEDITOR.dialog.addUIElement("file",n);CKEDITOR.dialog.addUIElement("fileButton",
n);CKEDITOR.dialog.addUIElement("html",n);CKEDITOR.dialog.addUIElement("fieldset",{build:function(b,a,d){for(var f=a.children,c,e=[],h=[],g=0;g<f.length&&(c=f[g]);g++){var k=[];e.push(k);h.push(CKEDITOR.dialog._.uiElementBuilders[c.type].build(b,c,k))}return new CKEDITOR.ui.dialog[a.type](b,h,e,d,a)}})}});CKEDITOR.DIALOG_RESIZE_NONE=0;CKEDITOR.DIALOG_RESIZE_WIDTH=1;CKEDITOR.DIALOG_RESIZE_HEIGHT=2;CKEDITOR.DIALOG_RESIZE_BOTH=3;CKEDITOR.DIALOG_STATE_IDLE=1;CKEDITOR.DIALOG_STATE_BUSY=2;
(function(){function x(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function A(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function K(a,b){for(var c=a.$.getElementsByTagName("input"),
e=0,d=c.length;e<d;e++){var f=new CKEDITOR.dom.element(c[e]);"text"==f.getAttribute("type").toLowerCase()&&(b?(f.setAttribute("value",f.getCustomData("fake_value")||""),f.removeCustomData("fake_value")):(f.setCustomData("fake_value",f.getAttribute("value")),f.setAttribute("value","")))}}function T(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute("aria-invalid"):c.setAttribute("aria-invalid",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire("validated",{valid:a,msg:b})}
function U(){var a=this.getInputElement();a&&a.removeAttribute("aria-invalid")}function V(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",W).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:"cke_editor_"+a.name.replace(/\./g,"\\.")+"_dialog",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),c=b.getChild([0,0,0,0,0]),e=c.getChild(0),d=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);
!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(a="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('\x3ciframe frameBorder\x3d"0" class\x3d"cke_iframe_shim" src\x3d"'+a+'" tabIndex\x3d"-1"\x3e\x3c/iframe\x3e').appendTo(c.getParent()));e.unselectable();d.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:e,close:d,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),
footer:c.getChild([3,0,1,0])}}}function L(a,b,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute("disabled")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on("keydown",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire("click")});b.on("focus",function(){this.fire("mouseover")});b.on("blur",function(){this.fire("mouseout")})}function X(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();
c.on("resize",b);a.on("hide",function(){c.removeListener("resize",b)})}function M(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function Y(a){function b(b){var c=a.getSize(),k=CKEDITOR.document.getWindow().getViewPaneSize(),q=b.data.$.screenX,n=b.data.$.screenY,r=q-e.x,l=n-e.y;e={x:q,y:n};d.x+=r;d.y+=l;a.move(d.x+h[3]<g?-h[3]:d.x-h[1]>k.width-c.width-g?k.width-c.width+("rtl"==f.lang.dir?0:h[1]):d.x,d.y+h[0]<g?-h[0]:d.y-h[2]>k.height-c.height-g?k.height-c.height+h[2]:d.y,1);b.data.preventDefault()}
function c(){CKEDITOR.document.removeListener("mousemove",b);CKEDITOR.document.removeListener("mouseup",c);if(CKEDITOR.env.ie6Compat){var a=u.getChild(0).getFrameDocument();a.removeListener("mousemove",b);a.removeListener("mouseup",c)}}var e=null,d=null,f=a.getParentEditor(),g=f.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];"undefined"==typeof g&&(g=20);a.parts.title.on("mousedown",function(g){e={x:g.data.$.screenX,y:g.data.$.screenY};CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",
c);d=a.getPosition();if(CKEDITOR.env.ie6Compat){var f=u.getChild(0).getFrameDocument();f.on("mousemove",b);f.on("mouseup",c)}g.data.preventDefault()},a)}function Z(a){function b(b){var c="rtl"==f.lang.dir,n=k.width,q=k.height,G=n+(b.data.$.screenX-m.x)*(c?-1:1)*(a._.moved?1:2),H=q+(b.data.$.screenY-m.y)*(a._.moved?1:2),B=a._.element.getFirst(),B=c&&B.getComputedStyle("right"),C=a.getPosition();C.y+H>p.height&&(H=p.height-C.y);(c?B:C.x)+G>p.width&&(G=p.width-(c?B:C.x));if(d==CKEDITOR.DIALOG_RESIZE_WIDTH||
d==CKEDITOR.DIALOG_RESIZE_BOTH)n=Math.max(e.minWidth||0,G-g);if(d==CKEDITOR.DIALOG_RESIZE_HEIGHT||d==CKEDITOR.DIALOG_RESIZE_BOTH)q=Math.max(e.minHeight||0,H-h);a.resize(n,q);a._.moved||a.layout();b.data.preventDefault()}function c(){CKEDITOR.document.removeListener("mouseup",c);CKEDITOR.document.removeListener("mousemove",b);q&&(q.remove(),q=null);if(CKEDITOR.env.ie6Compat){var a=u.getChild(0).getFrameDocument();a.removeListener("mouseup",c);a.removeListener("mousemove",b)}}var e=a.definition,d=e.resizable;
if(d!=CKEDITOR.DIALOG_RESIZE_NONE){var f=a.getParentEditor(),g,h,p,m,k,q,n=CKEDITOR.tools.addFunction(function(d){k=a.getSize();var e=a.parts.contents;e.$.getElementsByTagName("iframe").length&&(q=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_dialog_resize_cover" style\x3d"height: 100%; position: absolute; width: 100%;"\x3e\x3c/div\x3e'),e.append(q));h=k.height-a.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));g=k.width-a.parts.contents.getSize("width",
1);m={x:d.screenX,y:d.screenY};p=CKEDITOR.document.getWindow().getViewPaneSize();CKEDITOR.document.on("mousemove",b);CKEDITOR.document.on("mouseup",c);CKEDITOR.env.ie6Compat&&(e=u.getChild(0).getFrameDocument(),e.on("mousemove",b),e.on("mouseup",c));d.preventDefault&&d.preventDefault()});a.on("load",function(){var b="";d==CKEDITOR.DIALOG_RESIZE_WIDTH?b=" cke_resizer_horizontal":d==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=" cke_resizer_vertical");b=CKEDITOR.dom.element.createFromHtml('\x3cdiv class\x3d"cke_resizer'+
b+" cke_resizer_"+f.lang.dir+'" title\x3d"'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+'" onmousedown\x3d"CKEDITOR.tools.callFunction('+n+', event )"\x3e'+("ltr"==f.lang.dir?"â¢":"â£")+"\x3c/div\x3e");a.parts.footer.append(b,1)});f.on("destroy",function(){CKEDITOR.tools.removeFunction(n)})}}function I(a){a.data.preventDefault(1)}function N(a){var b=CKEDITOR.document.getWindow(),c=a.config,e=CKEDITOR.skinName||a.config.skin,d=c.dialog_backgroundCoverColor||("moono-lisa"==e?"black":"white"),e=c.dialog_backgroundCoverOpacity,
f=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(d,e,f),g=z[c];g?g.show():(f=['\x3cdiv tabIndex\x3d"-1" style\x3d"position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",f,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+d,'" class\x3d"cke_dialog_background_cover"\x3e'],CKEDITOR.env.ie6Compat&&(d="\x3chtml\x3e\x3cbody style\x3d\\'background-color:"+d+";\\'\x3e\x3c/body\x3e\x3c/html\x3e",f.push('\x3ciframe hidefocus\x3d"true" frameborder\x3d"0" id\x3d"cke_dialog_background_iframe" src\x3d"javascript:'),
f.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+d+"' );document.close();")+"})())"),f.push('" style\x3d"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\x3d0)"\x3e\x3c/iframe\x3e')),f.push("\x3c/div\x3e"),g=CKEDITOR.dom.element.createFromHtml(f.join("")),g.setOpacity(void 0!==e?e:.5),g.on("keydown",I),g.on("keypress",I),g.on("keyup",I),g.appendTo(CKEDITOR.document.getBody()),
z[c]=g);a.focusManager.add(g);u=g;a=function(){var a=b.getViewPaneSize();g.setStyles({width:a.width+"px",height:a.height+"px"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;g.setStyles({left:a.x+"px",top:a.y+"px"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};J=a;b.on("resize",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus();if(CKEDITOR.env.ie6Compat){var p=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){p.prevScrollHandler=
window.onscroll||function(){};window.onscroll=p},0);h()}}function O(a){u&&(a.focusManager.remove(u),a=CKEDITOR.document.getWindow(),u.hide(),a.removeListener("resize",J),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),J=null)}var v=CKEDITOR.tools.cssLength,W='\x3cdiv class\x3d"cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"dialog" aria-labelledby\x3d"cke_dialog_title_{id}"\x3e\x3ctable class\x3d"cke_dialog '+
CKEDITOR.env.cssClass+' cke_{langDir}" style\x3d"position:absolute" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd role\x3d"presentation"\x3e\x3cdiv class\x3d"cke_dialog_body" role\x3d"presentation"\x3e\x3cdiv id\x3d"cke_dialog_title_{id}" class\x3d"cke_dialog_title" role\x3d"presentation"\x3e\x3c/div\x3e\x3ca id\x3d"cke_dialog_close_button_{id}" class\x3d"cke_dialog_close_button" href\x3d"javascript:void(0)" title\x3d"{closeTitle}" role\x3d"button"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e\x3cdiv id\x3d"cke_dialog_tabs_{id}" class\x3d"cke_dialog_tabs" role\x3d"tablist"\x3e\x3c/div\x3e\x3ctable class\x3d"cke_dialog_contents" role\x3d"presentation"\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_contents_{id}" class\x3d"cke_dialog_contents_body" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3ctr\x3e\x3ctd id\x3d"cke_dialog_footer_{id}" class\x3d"cke_dialog_footer" role\x3d"presentation"\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/div\x3e';
CKEDITOR.dialog=function(a,b){function c(){var a=l._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function e(a){var b=l._.focusList;a=a||0;if(!(1>b.length)){var c=l._.currentFocusIndex;l._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var e=c,g=1<l._.pageCount;do{e+=a;if(g&&!l._.tabBarMode&&(e==b.length||-1==e)){l._.tabBarMode=!0;l._.tabs[l._.currentTabId][0].focus();
l._.currentFocusIndex=-1;return}e=(e+b.length)%b.length;if(e==c)break}while(a&&!b[e].isFocusable());b[e].focus();"text"==b[e].type&&b[e].select()}}function d(b){if(l==CKEDITOR.dialog._.currentTop){var c=b.data.getKeystroke(),d="rtl"==a.lang.dir,g=[37,38,39,40];q=n=0;if(9==c||c==CKEDITOR.SHIFT+9)e(c==CKEDITOR.SHIFT+9?-1:1),q=1;else if(c==CKEDITOR.ALT+121&&!l._.tabBarMode&&1<l.getPageCount())l._.tabBarMode=!0,l._.tabs[l._.currentTabId][0].focus(),l._.currentFocusIndex=-1,q=1;else if(-1!=CKEDITOR.tools.indexOf(g,
c)&&l._.tabBarMode)c=-1!=CKEDITOR.tools.indexOf([d?39:37,38],c)?x.call(l):A.call(l),l.selectPage(c),l._.tabs[c][0].focus(),q=1;else if(13!=c&&32!=c||!l._.tabBarMode)if(13==c)c=b.data.getTarget(),c.is("a","button","select","textarea")||c.is("input")&&"button"==c.$.type||((c=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(c.click,0,c),q=1),n=1;else if(27==c)(c=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(c.click,0,c):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),n=1;else return;else this.selectPage(this._.currentTabId),
this._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1),q=1;f(b)}}function f(a){q?a.data.preventDefault(1):n&&a.data.stopPropagation()}var g=CKEDITOR.dialog._.dialogDefinitions[b],h=CKEDITOR.tools.clone(aa),p=a.config.dialog_buttonsOrder||"OS",m=a.lang.dir,k={},q,n;("OS"==p&&CKEDITOR.env.mac||"rtl"==p&&"ltr"==m||"ltr"==p&&"rtl"==m)&&h.buttons.reverse();g=CKEDITOR.tools.extend(g(a),h);g=CKEDITOR.tools.clone(g);g=new P(this,g);h=V(a);this._={editor:a,element:h.element,name:b,contentSize:{width:0,height:0},
size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=h.parts;CKEDITOR.tools.setTimeout(function(){a.fire("ariaWidget",this.parts.contents)},0,this);h={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"};h["rtl"==m?"right":"left"]=0;this.parts.dialog.setStyles(h);CKEDITOR.event.call(this);this.definition=g=CKEDITOR.fire("dialogDefinition",
{name:b,definition:g},a).definition;if(!("removeDialogTabs"in a._)&&a.config.removeDialogTabs){h=a.config.removeDialogTabs.split(";");for(m=0;m<h.length;m++)if(p=h[m].split(":"),2==p.length){var r=p[0];k[r]||(k[r]=[]);k[r].push(p[1])}a._.removeDialogTabs=k}if(a._.removeDialogTabs&&(k=a._.removeDialogTabs[b]))for(m=0;m<k.length;m++)g.removeContents(k[m]);if(g.onLoad)this.on("load",g.onLoad);if(g.onShow)this.on("show",g.onShow);if(g.onHide)this.on("hide",g.onHide);if(g.onOk)this.on("ok",function(b){a.fire("saveSnapshot");
setTimeout(function(){a.fire("saveSnapshot")},0);!1===g.onOk.call(this,b)&&(b.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(g.onCancel)this.on("cancel",function(a){!1===g.onCancel.call(this,a)&&(a.data.hide=!1)});var l=this,t=function(a){var b=l._.contents,c=!1,d;for(d in b)for(var e in b[d])if(c=a.call(this,b[d][e]))return};this.on("ok",function(a){t(function(b){if(b.validate){var c=b.validate(this),d="string"==typeof c||!1===c;d&&(a.data.hide=!1,a.stop());T.call(b,!d,"string"==typeof c?
c:void 0);return d}})},this,null,0);this.on("cancel",function(b){t(function(c){if(c.isChanged())return a.config.dialog_noConfirmCancel||confirm(a.lang.common.confirmCancel)||(b.data.hide=!1),!0})},this,null,0);this.parts.close.on("click",function(a){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=e;var y=this._.element;a.focusManager.add(y,1);this.on("show",function(){y.on("keydown",d,this);if(CKEDITOR.env.gecko)y.on("keypress",f,this)});this.on("hide",
function(){y.removeListener("keydown",d);CKEDITOR.env.gecko&&y.removeListener("keypress",f);t(function(a){U.apply(a)})});this.on("iframeAdded",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on("keydown",d,this,null,0)});this.on("show",function(){c();var b=1<l._.pageCount;a.config.dialog_startupFocusTab&&b?(l._.tabBarMode=!0,l._.tabs[l._.currentTabId][0].focus(),l._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=b?-1:this._.focusList.length-1,g.onFocus?
(b=g.onFocus.call(this))&&b.focus():e(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on("load",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);Y(this);Z(this);(new CKEDITOR.dom.text(g.title,CKEDITOR.document)).appendTo(this.parts.title);for(m=0;m<g.contents.length;m++)(k=g.contents[m])&&this.addPage(k);this.parts.tabs.on("click",function(a){var b=a.data.getTarget();b.hasClass("cke_dialog_tab")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf("_"))),
this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,e(1)),a.data.preventDefault())},this);m=[];k=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:g.buttons},m).getChild();this.parts.footer.setHtml(m.join(""));for(m=0;m<k.length;m++)this._.buttons[k[m].id]=k[m]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==
a&&this._.contentSize.height==b||(CKEDITOR.dialog.fire("resize",{dialog:this,width:a,height:b},this._.editor),this.fire("resize",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+"px",height:b+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();
return{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var e=this._.element.getFirst(),d="rtl"==this._.editor.lang.dir,f="fixed"==e.getComputedStyle("position");CKEDITOR.env.ie&&e.setStyle("zoom","100%");f&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},f||(f=CKEDITOR.document.getWindow().getScrollPosition(),a+=f.x,b+=f.y),d&&(f=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-f.width-a),b={top:(0<b?b:0)+"px"},
b[d?"right":"left"]=(0<a?a:0)+"px",e.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle("display","block"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();null===
this._.currentTabId&&this.selectPage(this.definition.contents[0].id);null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,N(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/
2),CKEDITOR.dialog._.currentTop=this);a.on("keydown",Q);a.on("keyup",R);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],e=this._.tabs[a.id],d=a.requiredContent,f=0;if(e){for(var g in this._.contents[a.id]){var h=this._.contents[a.id][g];"hbox"!=h.type&&"vbox"!=h.type&&h.getInputElement()&&(h.requiredContent&&!this._.editor.activeFilter.check(h.requiredContent)?h.disable():(h.enable(),f++))}!f||d&&!this._.editor.activeFilter.check(d)?e[0].addClass("cke_dialog_tab_disabled"):
e[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout();X(this);this.parts.dialog.setStyle("visibility","");this.fireOnce("load",{});CKEDITOR.ui.fire("ready",this);this.fire("show",{});this._.editor.fire("dialogShow",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),e=
(c.width-b.width)/2,d=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<d?d:0)>c.height||b.width+(0<e?e:0)>c.width?a.setStyle("position","absolute"):a.setStyle("position","fixed"));this.move(this._.moved?this._.position.x:e,this._.moved?this._.position.y:d)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),
setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},commitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{});this._.editor.fire("dialogHide",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle("display","none");this.parts.dialog.setStyle("visibility",
"hidden");for(ba(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle("z-index",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else O(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener("keydown",Q);a.removeListener("keyup",R);var c=this._.editor;
c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;this.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\x3d"'+CKEDITOR.tools.htmlEncode(a.label)+'"':"",e=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",
children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||"width: 100%;"},b),d=this._.contents[a.id]={},f=e.getChild(),g=0;e=f.shift();)e.notAllowed||"hbox"==e.type||"vbox"==e.type||g++,d[e.id]=e,"function"==typeof e.getChild&&f.push.apply(f,e.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(""));b.setAttribute("role","tabpanel");e=CKEDITOR.env;d="cke_"+a.id+"_"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\x3ca class\x3d"cke_dialog_tab"',
0<this._.pageCount?" cke_last":"cke_first",c,a.hidden?' style\x3d"display:none"':"",' id\x3d"',d,'"',e.gecko&&!e.hc?"":' href\x3d"javascript:void(0)"',' tabIndex\x3d"-1" hidefocus\x3d"true" role\x3d"tab"\x3e',a.label,"\x3c/a\x3e"].join(""));b.setAttribute("aria-labelledby",d);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute("name",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&
(S(this,this,"CTRL+"+a.accessKey,ca,da),this._.accessKeyMap["CTRL+"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:a,currentPage:this._.currentTabId})){for(var b in this._.tabs){var c=this._.tabs[b][0],e=this._.tabs[b][1];b!=a&&(c.removeClass("cke_dialog_tab_selected"),e.hide());e.setAttribute("aria-hidden",b!=a)}var d=this._.tabs[a];d[0].addClass("cke_dialog_tab_selected");CKEDITOR.env.ie6Compat||
CKEDITOR.env.ie7Compat?(K(d[1]),d[1].show(),setTimeout(function(){K(d[1],1)},0)):d[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(a){var b=this._.tabs[a]&&this._.tabs[a][0];b&&1!=this._.pageCount&&b.isVisible()&&(a==this._.currentTabId&&this.selectPage(x.call(this)),b.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=
this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},
enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if("undefined"==typeof b)b=this._.focusList.length,this._.focusList.push(new L(this,a,b));else{this._.focusList.splice(b,0,new L(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},
setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==b?"right":"left"}};c.styles["margin-"+("rtl"==b?"left":"right")]="8px";this.parts.spinner=CKEDITOR.document.createElement("div",c);this.parts.spinner.setHtml("\x26#8987;");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton("ok").disable()}else a==
CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&"function"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp("(?:^|;)"+b+":"+c+"(?:$|;)",
"i")))},okButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:"ok",type:"button",label:a.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(a){a=a.data.dialog;!1!==a.fire("ok",{hide:!0}).hide&&a.hide()}},c,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),cancelButton:function(){var a=function(a,c){c=c||{};return CKEDITOR.tools.extend({id:"cancel",type:"button",label:a.lang.common.cancel,
"class":"cke_dialog_ui_button_cancel",onClick:function(a){a=a.data.dialog;!1!==a.fire("cancel",{hide:!0}).hide&&a.hide()}},c,!0)};a.type="button";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:"button"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
var aa={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},D=function(a,b,c){for(var e=0,d;d=a[e];e++)if(d.id==b||c&&d[c]&&(d=D(d[c],b,c)))return d;return null},E=function(a,b,c,e,d){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(e&&g[e]&&(g=E(g[e],b,c,e,!0)))return g}if(d)return null}a.push(b);return b},F=function(a,b,c){for(var e=0,d;d=a[e];e++){if(d.id==b)return a.splice(e,1);if(c&&d[c]&&(d=F(d[c],
b,c)))return d}return null},P=function(a,b){this.dialog=a;for(var c=b.contents,e=0,d;d=c[e];e++)c[e]=d&&new M(a,d);CKEDITOR.tools.extend(this,b)};P.prototype={getContents:function(a){return D(this.contents,a)},getButton:function(a){return D(this.buttons,a)},addContents:function(a,b){return E(this.contents,a,b)},addButton:function(a,b){return E(this.buttons,a,b)},removeContents:function(a){F(this.contents,a)},removeButton:function(a){F(this.buttons,a)}};M.prototype={get:function(a){return D(this.elements,
a,"children")},add:function(a,b){return E(this.elements,a,b,"children")},remove:function(a){F(this.elements,a,"children")}};var J,z={},u,w={},Q=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);(b=w[(b?"CTRL+":"")+(c?"ALT+":"")+(e?"SHIFT+":"")+d])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},R=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,
e=a.data.$.shiftKey,d=String.fromCharCode(a.data.$.keyCode);(b=w[(b?"CTRL+":"")+(c?"ALT+":"")+(e?"SHIFT+":"")+d])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),a.data.preventDefault()))},S=function(a,b,c,e,d){(w[c]||(w[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:d||a.accessKeyUp,keydown:e||a.accessKeyDown})},ba=function(a){for(var b in w){for(var c=w[b],e=c.length-1;0<=e;e--)c[e].dialog!=a&&c[e].uiElement!=a||c.splice(e,1);0===c.length&&delete w[b]}},da=function(a,
b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},ca=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,e,d,f,g){if(!(4>arguments.length)){var h=(e.call?e(b):e)||"div",p=["\x3c",h," "],m=(d&&d.call?d(b):d)||{},k=(f&&f.call?f(b):f)||{},q=(g&&g.call?g.call(this,a,b):g)||"",n=this.domId=k.id||CKEDITOR.tools.getNextId()+"_uiElement";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(m.display="none",this.notAllowed=!0);k.id=n;var r={};b.type&&(r["cke_dialog_ui_"+
b.type]=1);b.className&&(r[b.className]=1);b.disabled&&(r.cke_disabled=1);for(var l=k["class"]&&k["class"].split?k["class"].split(" "):[],n=0;n<l.length;n++)l[n]&&(r[l[n]]=1);l=[];for(n in r)l.push(n);k["class"]=l.join(" ");b.title&&(k.title=b.title);r=(b.style||"").split(";");b.align&&(l=b.align,m["margin-left"]="left"==l?0:"auto",m["margin-right"]="right"==l?0:"auto");for(n in m)r.push(n+":"+m[n]);b.hidden&&r.push("display:none");for(n=r.length-1;0<=n;n--)""===r[n]&&r.splice(n,1);0<r.length&&(k.style=
(k.style?k.style+"; ":"")+r.join("; "));for(n in k)p.push(n+'\x3d"'+CKEDITOR.tools.htmlEncode(k[n])+'" ');p.push("\x3e",q,"\x3c/",h,"\x3e");c.push(p.join(""));(this._||(this._={})).dialog=a;"boolean"==typeof b.isChanged&&(this.isChanged=function(){return b.isChanged});"function"==typeof b.isChanged&&(this.isChanged=b.isChanged);"function"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));"function"==typeof b.getValue&&
(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);this.accessKeyUp&&this.accessKeyDown&&b.accessKey&&S(this,a,"CTRL+"+b.accessKey);var t=this;a.on("load",function(){var b=t.getInputElement();if(b){var c=t.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";b.on("focus",function(){a._.tabBarMode=!1;a._.hasFocus=!0;t.fire("focus");
c&&this.addClass(c)});b.on("blur",function(){t.fire("blur");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=a._.focusList.push(this)-1,this.on("focus",function(){a._.currentFocusIndex=t.focusIndex}))}},hbox:function(a,b,c,e,d){if(!(4>arguments.length)){this._||(this._={});var f=this._.children=b,g=d&&d.widths||null,h=d&&d.height||null,p,m={role:"presentation"};d&&d.align&&(m.align=d.align);CKEDITOR.ui.dialog.uiElement.call(this,
a,d||{type:"hbox"},e,"table",{},m,function(){var a=['\x3ctbody\x3e\x3ctr class\x3d"cke_dialog_ui_hbox"\x3e'];for(p=0;p<c.length;p++){var b="cke_dialog_ui_hbox_child",e=[];0===p&&(b="cke_dialog_ui_hbox_first");p==c.length-1&&(b="cke_dialog_ui_hbox_last");a.push('\x3ctd class\x3d"',b,'" role\x3d"presentation" ');g?g[p]&&e.push("width:"+v(g[p])):e.push("width:"+Math.floor(100/c.length)+"%");h&&e.push("height:"+v(h));d&&void 0!==d.padding&&e.push("padding:"+v(d.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&
f[p].align&&e.push("text-align:"+f[p].align);0<e.length&&a.push('style\x3d"'+e.join("; ")+'" ');a.push("\x3e",c[p],"\x3c/td\x3e")}a.push("\x3c/tr\x3e\x3c/tbody\x3e");return a.join("")})}},vbox:function(a,b,c,e,d){if(!(3>arguments.length)){this._||(this._={});var f=this._.children=b,g=d&&d.width||null,h=d&&d.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,d||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var b=['\x3ctable role\x3d"presentation" cellspacing\x3d"0" border\x3d"0" '];
b.push('style\x3d"');d&&d.expand&&b.push("height:100%;");b.push("width:"+v(g||"100%"),";");CKEDITOR.env.webkit&&b.push("float:none;");b.push('"');b.push('align\x3d"',CKEDITOR.tools.htmlEncode(d&&d.align||("ltr"==a.getParentEditor().lang.dir?"left":"right")),'" ');b.push("\x3e\x3ctbody\x3e");for(var e=0;e<c.length;e++){var k=[];b.push('\x3ctr\x3e\x3ctd role\x3d"presentation" ');g&&k.push("width:"+v(g||"100%"));h?k.push("height:"+v(h[e])):d&&d.expand&&k.push("height:"+Math.floor(100/c.length)+"%");
d&&void 0!==d.padding&&k.push("padding:"+v(d.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[e].align&&k.push("text-align:"+f[e].align);0<k.length&&b.push('style\x3d"',k.join("; "),'" ');b.push(' class\x3d"cke_dialog_ui_vbox_child"\x3e',c[e],"\x3c/td\x3e\x3c/tr\x3e")}b.push("\x3c/tbody\x3e\x3c/table\x3e");return b.join("")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},
setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire("change",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=this.getInputElement();(a=a.getParent())&&-1==a.$.className.search("cke_dialog_page_contents"););if(!a)return this;a=a.getAttribute("name");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();
return this},registerEvents:function(a){var b=/^on([A-Z]\w+)/,c,e=function(a,b,c,d){b.on("load",function(){a.getInputElement().on(c,d,a)})},d;for(d in a)if(c=d.match(b))this.eventProcessors[d]?this.eventProcessors[d].call(this,this._.dialog,a[d]):e(this,this._.dialog,c[1].toLowerCase(),a[d]);return this},eventProcessors:{onLoad:function(a,b){a.on("load",b,this)},onShow:function(a,b){a.on("show",b,this)},onHide:function(a,b){a.on("hide",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},
disable:function(){var a=this.getElement();this.getInputElement().setAttribute("disabled","true");a.addClass("cke_disabled")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute("disabled");a.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,
{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?this._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,c,e){for(var d=c.children,f,g=[],h=[],p=0;p<d.length&&(f=d[p]);p++){var m=[];g.push(m);h.push(CKEDITOR.dialog._.uiElementBuilders[f.type].build(a,f,m))}return new CKEDITOR.ui.dialog[c.type](a,
h,g,e,c)}};CKEDITOR.dialog.addUIElement("hbox",a);CKEDITOR.dialog.addUIElement("vbox",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;CKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){var b=this.tabId;a.openDialog(this.dialogName,function(a){b&&a.selectPage(b)})},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\d*$/,c=/^\d*(?:\.\d+)?$/,e=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,d=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,
f=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():a[0],c,d=CKEDITOR.VALIDATE_AND,e=[],f;for(f=0;f<a.length;f++)if("function"==typeof a[f])e.push(a[f]);else break;f<a.length&&"string"==typeof a[f]&&(c=a[f],f++);f<a.length&&"number"==typeof a[f]&&(d=a[f]);var n=d==CKEDITOR.VALIDATE_AND?!0:!1;for(f=0;f<e.length;f++)n=d==CKEDITOR.VALIDATE_AND?n&&
e[f](b):n||e[f](b);return n?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,a)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},
a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on("instanceDestroyed",function(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in z)z[c].remove();z={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,e=CKEDITOR.dialog._.dialogDefinitions[a];
null===CKEDITOR.dialog._.currentTop&&N(this);if("function"==typeof e)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,c),c.show();else{if("failed"==e)throw O(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+a+'" failed when loading definition.');"string"==typeof e&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]="failed");this.openDialog(a,
b)},this,0,1)}CKEDITOR.skin.loadPart("dialog");return c}})})();CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(x){x.on("doubleclick",function(A){A.data.dialog&&x.openDialog(A.data.dialog)},null,null,999)}});(function(){function q(b,a){CKEDITOR.tools.extend(this,a,{editor:b,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:b._.notificationArea});a.type||(this.type="info");this.element=this._createElement();b.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function r(b){var a=this;this.editor=b;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,
this);b.on("destroy",function(){a._removeListeners();a.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(b){function a(b){var a=new CKEDITOR.dom.element("div");a.setStyles({position:"fixed","margin-left":"-9999px"});a.setAttributes({"aria-live":"assertive","aria-atomic":"true"});a.setText(b);CKEDITOR.document.getBody().append(a);setTimeout(function(){a.remove()},100)}b._.notificationArea=new r(b);b.showNotification=function(a,d,e){var f,l;"progress"==d?f=e:l=e;a=new CKEDITOR.plugins.notification(b,
{message:a,type:d,progress:f,duration:l});a.show();return a};b.on("key",function(c){if(27==c.data.keyCode){var d=b._.notificationArea.notifications;d.length&&(a(b.lang.notification.closed),d[d.length-1].hide(),c.cancel())}})}});q.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(b){var a=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:b})&&(a=!1);var c=this.element,d=c.findOne(".cke_notification_message"),
e=c.findOne(".cke_notification_progress"),f=b.type;c.removeAttribute("role");b.progress&&"progress"!=this.type&&(f="progress");f&&(c.removeClass(this._getClass()),c.removeAttribute("aria-label"),this.type=f,c.addClass(this._getClass()),c.setAttribute("aria-label",this.type),"progress"!=this.type||e?"progress"!=this.type&&e&&e.remove():(e=this._createProgressElement(),e.insertBefore(d)));void 0!==b.message&&(this.message=b.message,d.setHtml(this.message));void 0!==b.progress&&(this.progress=b.progress,
e&&e.setStyle("width",this._getPercentageProgress()));a&&b.important&&(c.setAttribute("role","alert"),this.isVisible()||this.area.add(this));this.duration=b.duration;this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var b=this,a,c,d=this.editor.lang.common.close;a=new CKEDITOR.dom.element("div");a.addClass("cke_notification");
a.addClass(this._getClass());a.setAttributes({id:this.id,role:"alert","aria-label":this.type});"progress"==this.type&&a.append(this._createProgressElement());c=new CKEDITOR.dom.element("p");c.addClass("cke_notification_message");c.setHtml(this.message);a.append(c);c=CKEDITOR.dom.element.createFromHtml('\x3ca class\x3d"cke_notification_close" href\x3d"javascript:void(0)" title\x3d"'+d+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e');a.append(c);c.on("click",
function(){b.editor.focus();b.hide()});return a},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var b=new CKEDITOR.dom.element("span");b.addClass("cke_notification_progress");b.setStyle("width",this._getPercentageProgress());return b},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var b=this,a;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);
if("number"==typeof this.duration)a=this.duration;else if("info"==this.type||"success"==this.type)a="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;a&&(b._hideTimeoutId=setTimeout(function(){b.hide()},a))}};r.prototype={add:function(b){this.notifications.push(b);this.element.append(b.element);1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(b){var a=CKEDITOR.tools.indexOf(this.notifications,
b);0>a||(this.notifications.splice(a,1),b.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var b=this.editor,a=b.config,c=new CKEDITOR.dom.element("div");c.addClass("cke_notifications_area");c.setAttribute("id","cke_notifications_area_"+b.name);c.setStyle("z-index",a.baseFloatZIndex-2);return c},_attachListeners:function(){var b=CKEDITOR.document.getWindow(),a=this.editor;b.on("scroll",this._uiBuffer.input);b.on("resize",this._uiBuffer.input);
a.on("change",this._changeBuffer.input);a.on("floatingSpaceLayout",this._layout,this,null,20);a.on("blur",this._layout,this,null,20)},_removeListeners:function(){var b=CKEDITOR.document.getWindow(),a=this.editor;b.removeListener("scroll",this._uiBuffer.input);b.removeListener("resize",this._uiBuffer.input);a.removeListener("change",this._changeBuffer.input);a.removeListener("floatingSpaceLayout",this._layout);a.removeListener("blur",this._layout)},_layout:function(){function b(){a.setStyle("left",
k(n+d.width-g-h))}var a=this.element,c=this.editor,d=c.ui.contentsElement.getClientRect(),e=c.ui.contentsElement.getDocumentPosition(),f,l,u=a.getClientRect(),m,g=this._notificationWidth,h=this._notificationMargin;m=CKEDITOR.document.getWindow();var p=m.getScrollPosition(),t=m.getViewPaneSize(),q=CKEDITOR.document.getBody(),r=q.getDocumentPosition(),k=CKEDITOR.tools.cssLength;g&&h||(m=this.element.getChild(0),g=this._notificationWidth=m.getClientRect().width,h=this._notificationMargin=parseInt(m.getComputedStyle("margin-left"),
10)+parseInt(m.getComputedStyle("margin-right"),10));c.toolbar&&(f=c.ui.space("top"),l=f.getClientRect());f&&f.isVisible()&&l.bottom>d.top&&l.bottom<d.bottom-u.height?a.setStyles({position:"fixed",top:k(l.bottom)}):0<d.top?a.setStyles({position:"absolute",top:k(e.y)}):e.y+d.height-u.height>p.y?a.setStyles({position:"fixed",top:0}):a.setStyles({position:"absolute",top:k(e.y+d.height-u.height)});var n="fixed"==a.getStyle("position")?d.left:"static"!=q.getComputedStyle("position")?e.x-r.x:e.x;d.width<
g+h?e.x+g+h>p.x+t.width?b():a.setStyle("left",k(n)):e.x+g+h>p.x+t.width?a.setStyle("left",k(n)):e.x+d.width/2+g/2+h>p.x+t.width?a.setStyle("left",k(n-e.x+p.x+t.width-g-h)):0>d.left+d.width-g-h?b():0>d.left+d.width/2-g/2?a.setStyle("left",k(n-e.x+p.x)):a.setStyle("left",k(n+d.width/2-g/2-h/2))}};CKEDITOR.plugins.notification=q})();(function(){var c='\x3ca id\x3d"{id}" class\x3d"cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' title\x3d"{title}" tabindex\x3d"-1" hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasArrow}" aria-disabled\x3d"{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(c+=
' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var c=c+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick\x3d"return false;" onmouseup':"onclick")+'\x3d"CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{style}"'),c=c+'\x3e\x26nbsp;\x3c/span\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_button_label cke_button__{name}_label" aria-hidden\x3d"false"\x3e{label}\x3c/span\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_button_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e{arrowHtml}\x3c/a\x3e',
v=CKEDITOR.addTemplate("buttonArrow",'\x3cspan class\x3d"cke_button_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":"")+"\x3c/span\x3e"),w=CKEDITOR.addTemplate("button",c);CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};
CKEDITOR.ui.button.prototype={render:function(a,b){function c(){var f=a.mode;f&&(f=this.modes[f]?void 0!==n[f]?n[f]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,f=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:f,this.setState(f),this.refresh&&this.refresh())}var n=null,p=CKEDITOR.env,q=this._.id=CKEDITOR.tools.getNextId(),g="",d=this.command,t,k,l;this._.editor=a;var e={id:q,button:this,editor:a,focus:function(){CKEDITOR.document.getById(q).focus()},execute:function(){this.button.click(a)},
attach:function(a){this.button.attach(a)}},x=CKEDITOR.tools.addFunction(function(a){if(e.onkey)return a=new CKEDITOR.dom.event(a),!1!==e.onkey(e,a.getKeystroke())}),y=CKEDITOR.tools.addFunction(function(a){var b;e.onfocus&&(b=!1!==e.onfocus(e,new CKEDITOR.dom.event(a)));return b}),u=0;e.clickFn=t=CKEDITOR.tools.addFunction(function(){u&&(a.unlockSelection(1),u=0);e.execute();p.iOS&&a.focus()});this.modes?(n={},a.on("beforeModeUnload",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(n[a.mode]=
this._.state)},this),a.on("activeFilterChange",c,this),a.on("mode",c,this),!this.readOnly&&a.on("readOnly",c,this)):d&&(d=a.getCommand(d))&&(d.on("state",function(){this.setState(d.state)},this),g+=d.state==CKEDITOR.TRISTATE_ON?"on":d.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");var m;if(this.directional)a.on("contentDirChanged",function(b){var c=CKEDITOR.document.getById(this._.id),d=c.getFirst();b=b.data;b!=a.lang.dir?c.addClass("cke_"+b):c.removeClass("cke_ltr").removeClass("cke_rtl");d.setAttribute("style",
CKEDITOR.skin.getIconStyle(m,"rtl"==b,this.icon,this.iconOffset))},this);d?(k=a.getCommandKeystroke(d))&&(l=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,k)):g+="off";k=this.name||this.command;var h=null,r=this.icon;m=k;this.icon&&!/\./.test(this.icon)?(m=this.icon,r=null):(this.icon&&(h=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(h=this.iconHiDpi));h?(CKEDITOR.skin.addIcon(h,h),r=null):h=m;g={id:q,name:k,iconName:m,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||
""),state:g,ariaDisabled:"disabled"==g?"true":"false",title:this.title+(l?" ("+l.display+")":""),ariaShortcut:l?a.lang.common.keyboardShortcut+" "+l.aria:"",titleJs:p.gecko&&!p.hc?"":(this.title||"").replace("'",""),hasArrow:"string"===typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:x,focusFn:y,clickFn:t,style:CKEDITOR.skin.getIconStyle(h,"rtl"==a.lang.dir,r,this.iconOffset),arrowHtml:this.hasArrow?v.output():""};w.output(g,b);if(this.onRender)this.onRender();return e},
setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,"cke_button"),b.setAttribute("aria-disabled",a==CKEDITOR.TRISTATE_DISABLED),this.hasArrow?b.setAttribute("aria-expanded",a==CKEDITOR.TRISTATE_ON):a===CKEDITOR.TRISTATE_ON?b.setAttribute("aria-pressed",!0):b.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||
this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}})();(function(){function D(a){function d(){for(var b=f(),e=CKEDITOR.tools.clone(a.config.toolbarGroups)||v(a),n=0;n<e.length;n++){var g=e[n];if("/"!=g){"string"==typeof g&&(g=e[n]={name:g});var l,d=g.groups;if(d)for(var h=0;h<d.length;h++)l=d[h],(l=b[l])&&c(g,l);(l=b[g.name])&&c(g,l)}}return e}function f(){var b={},c,e,g;for(c in a.ui.items)e=a.ui.items[c],g=e.toolbar||"others",g=g.split(","),e=g[0],g=parseInt(g[1]||-1,10),b[e]||(b[e]=[]),b[e].push({name:c,order:g});for(e in b)b[e]=b[e].sort(function(b,
a){return b.order==a.order?0:0>a.order?-1:0>b.order?1:b.order<a.order?-1:1});return b}function c(c,e){if(e.length){c.items?c.items.push(a.ui.create("-")):c.items=[];for(var d;d=e.shift();)d="string"==typeof d?d:d.name,b&&-1!=CKEDITOR.tools.indexOf(b,d)||(d=a.ui.create(d))&&a.addFeature(d)&&c.items.push(d)}}function h(b){var a=[],e,d,h;for(e=0;e<b.length;++e)d=b[e],h={},"/"==d?a.push(d):CKEDITOR.tools.isArray(d)?(c(h,CKEDITOR.tools.clone(d)),a.push(h)):d.items&&(c(h,CKEDITOR.tools.clone(d.items)),
h.name=d.name,a.push(h));return a}var b=a.config.removeButtons,b=b&&b.split(","),e=a.config.toolbar;"string"==typeof e&&(e=a.config["toolbar_"+e]);return a.toolbar=e?h(e):d()}function v(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list",
"indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var z=function(){this.toolbars=[];this.focusCommandExecuted=!1};z.prototype.focus=function(){for(var a=0,d;d=this.toolbars[a++];)for(var f=0,c;c=d.items[f++];)if(c.focus){c.focus();return}};var E={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},
100):a.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(a){var d,f=function(c,h){var b,e="rtl"==a.lang.dir,k=a.config.toolbarGroupCycling,q=e?37:39,e=e?39:37,k=void 0===k||k;switch(h){case 9:case CKEDITOR.SHIFT+9:for(;!b||!b.items.length;)if(b=9==h?(b?b.next:c.toolbar.next)||a.toolbox.toolbars[0]:(b?b.previous:c.toolbar.previous)||a.toolbox.toolbars[a.toolbox.toolbars.length-1],b.items.length)for(c=b.items[d?b.items.length-1:0];c&&!c.focus;)(c=d?c.previous:c.next)||
(b=0);c&&c.focus();return!1;case q:b=c;do b=b.next,!b&&k&&(b=c.toolbar.items[0]);while(b&&!b.focus);b?b.focus():f(c,9);return!1;case 40:return c.button&&c.button.hasArrow?c.execute():f(c,40==h?q:e),!1;case e:case 38:b=c;do b=b.previous,!b&&k&&(b=c.toolbar.items[c.toolbar.items.length-1]);while(b&&!b.focus);b?b.focus():(d=1,f(c,CKEDITOR.SHIFT+9),d=0);return!1;case 27:return a.focus(),!1;case 13:case 32:return c.execute(),!1}return!0};a.on("uiSpace",function(c){if(c.data.space==a.config.toolbarLocation){c.removeListener();
a.toolbox=new z;var d=CKEDITOR.tools.getNextId(),b=['\x3cspan id\x3d"',d,'" class\x3d"cke_voice_label"\x3e',a.lang.toolbar.toolbars,"\x3c/span\x3e",'\x3cspan id\x3d"'+a.ui.spaceId("toolbox")+'" class\x3d"cke_toolbox" role\x3d"group" aria-labelledby\x3d"',d,'" onmousedown\x3d"return false;"\x3e'],d=!1!==a.config.toolbarStartupExpanded,e,k;a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&b.push('\x3cspan class\x3d"cke_toolbox_main"'+(d?"\x3e":' style\x3d"display:none"\x3e'));
for(var q=a.toolbox.toolbars,n=D(a),g=n.length,l=0;l<g;l++){var r,m=0,w,p=n[l],v="/"!==p&&("/"===n[l+1]||l==g-1),x;if(p)if(e&&(b.push("\x3c/span\x3e"),k=e=0),"/"===p)b.push('\x3cspan class\x3d"cke_toolbar_break"\x3e\x3c/span\x3e');else{x=p.items||p;for(var y=0;y<x.length;y++){var t=x[y],A;if(t){var B=function(c){c=c.render(a,b);u=m.items.push(c)-1;0<u&&(c.previous=m.items[u-1],c.previous.next=c);c.toolbar=m;c.onkey=f;c.onfocus=function(){a.toolbox.focusCommandExecuted||a.focus()}};if(t.type==CKEDITOR.UI_SEPARATOR)k=
e&&t;else{A=!1!==t.canGroup;if(!m){r=CKEDITOR.tools.getNextId();m={id:r,items:[]};w=p.name&&(a.lang.toolbar.toolbarGroups[p.name]||p.name);b.push('\x3cspan id\x3d"',r,'" class\x3d"cke_toolbar'+(v?' cke_toolbar_last"':'"'),w?' aria-labelledby\x3d"'+r+'_label"':"",' role\x3d"toolbar"\x3e');w&&b.push('\x3cspan id\x3d"',r,'_label" class\x3d"cke_voice_label"\x3e',w,"\x3c/span\x3e");b.push('\x3cspan class\x3d"cke_toolbar_start"\x3e\x3c/span\x3e');var u=q.push(m)-1;0<u&&(m.previous=q[u-1],m.previous.next=
m)}A?e||(b.push('\x3cspan class\x3d"cke_toolgroup" role\x3d"presentation"\x3e'),e=1):e&&(b.push("\x3c/span\x3e"),e=0);k&&(B(k),k=0);B(t)}}}e&&(b.push("\x3c/span\x3e"),k=e=0);m&&b.push('\x3cspan class\x3d"cke_toolbar_end"\x3e\x3c/span\x3e\x3c/span\x3e')}}a.config.toolbarCanCollapse&&b.push("\x3c/span\x3e");if(a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var C=CKEDITOR.tools.addFunction(function(){a.execCommand("toolbarCollapse")});a.on("destroy",function(){CKEDITOR.tools.removeFunction(C)});
a.addCommand("toolbarCollapse",{readOnly:1,exec:function(b){var a=b.ui.space("toolbar_collapser"),c=a.getPrevious(),d=b.ui.space("contents"),e=c.getParent(),h=parseInt(d.$.style.height,10),g=e.$.offsetHeight,f=a.hasClass("cke_toolbox_collapser_min");f?(c.show(),a.removeClass("cke_toolbox_collapser_min"),a.setAttribute("title",b.lang.toolbar.toolbarCollapse)):(c.hide(),a.addClass("cke_toolbox_collapser_min"),a.setAttribute("title",b.lang.toolbar.toolbarExpand));a.getFirst().setText(f?"â²":"â");d.setStyle("height",
h-(e.$.offsetHeight-g)+"px");b.fire("resize",{outerHeight:b.container.$.offsetHeight,contentsHeight:d.$.offsetHeight,outerWidth:b.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});a.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");b.push('\x3ca title\x3d"'+(d?a.lang.toolbar.toolbarCollapse:a.lang.toolbar.toolbarExpand)+'" id\x3d"'+a.ui.spaceId("toolbar_collapser")+'" tabIndex\x3d"-1" class\x3d"cke_toolbox_collapser');d||b.push(" cke_toolbox_collapser_min");
b.push('" onclick\x3d"CKEDITOR.tools.callFunction('+C+')"\x3e','\x3cspan class\x3d"cke_arrow"\x3e\x26#9650;\x3c/span\x3e',"\x3c/a\x3e")}b.push("\x3c/span\x3e");c.data.html+=b.join("")}});a.on("destroy",function(){if(this.toolbox){var a,d=0,b,e,f;for(a=this.toolbox.toolbars;d<a.length;d++)for(e=a[d].items,b=0;b<e.length;b++)f=e[b],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}});a.on("uiReady",function(){var c=a.ui.space("toolbox");c&&a.focusManager.add(c,
1)});a.addCommand("toolbarFocus",E);a.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");a.ui.add("-",CKEDITOR.UI_SEPARATOR,{});a.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,d){d.push('\x3cspan class\x3d"cke_toolbar_separator" role\x3d"separator"\x3e\x3c/span\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,d,f){var c=v(this.editor),h=0===d,b={name:a};if(f){if(f=CKEDITOR.tools.search(c,function(a){return a.name==f})){!f.groups&&(f.groups=[]);if(d&&
(d=CKEDITOR.tools.indexOf(f.groups,d),0<=d)){f.groups.splice(d+1,0,a);return}h?f.groups.splice(0,0,a):f.groups.push(a);return}d=null}d&&(d=CKEDITOR.tools.indexOf(c,function(a){return a.name==d}));h?c.splice(0,0,a):"number"==typeof d?c.splice(d+1,0,b):c.push(a)}})();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";(function(){function r(a,b,c){b.type||(b.type="auto");if(c&&!1===a.fire("beforePaste",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue="");if(CKEDITOR.env.gecko&&"drop"==b.method&&a.toolbox)a.once("afterPaste",function(){a.toolbox.focus()});return a.fire("paste",b)}function x(a){function b(){var b=a.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(b){a.getSelection().isCollapsed()||(a.readOnly&&"cut"==b.name||p.initPasteDataTransfer(b,
a),b.data.preventDefault())};b.on("copy",c);b.on("cut",c);b.on("cut",function(){a.readOnly||a.extractSelectedHtml()},null,null,999)}b.on(p.mainPasteEvent,function(a){"beforepaste"==p.mainPasteEvent&&m||k(a)});"beforepaste"==p.mainPasteEvent&&(b.on("paste",function(a){u||(g(),a.data.preventDefault(),k(a),e("paste"))}),b.on("contextmenu",h,null,null,0),b.on("beforepaste",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));b.on("beforecut",function(){!m&&f(a)});var d;b.attachListener(CKEDITOR.env.ie?
b:a.document.getDocumentElement(),"mouseup",function(){d=setTimeout(function(){t()},0)});a.on("destroy",function(){clearTimeout(d)});b.on("keyup",t)}function c(b){return{type:b,canUndo:"cut"==b,startDisabled:!0,fakeKeystroke:"cut"==b?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){"cut"==this.type&&f();var b;var c=this.type;if(CKEDITOR.env.ie)b=e(c);else try{b=a.document.$.execCommand(c,!1,null)}catch(d){b=!1}b||a.showNotification(a.lang.clipboard[this.type+"Error"]);return b}}}function d(){return{canUndo:!1,
async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(a,b){function c(b,h){h="undefined"!==typeof h?h:!0;b?(b.method="paste",b.dataTransfer||(b.dataTransfer=p.initPasteDataTransfer()),r(a,b,h)):e&&!a._.forcePasteDialog&&a.showNotification(n,"info",a.config.clipboard_notificationDuration);a._.forcePasteDialog=!1;a.fire("afterCommandExec",{name:"paste",command:d,returnValue:!!b})}b="undefined"!==typeof b&&null!==b?b:{};var d=this,e="undefined"!==typeof b.notification?b.notification:!0,h=b.type,f=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,
a.getCommandKeystroke(this)),n="string"===typeof e?e:a.lang.clipboard.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+f.aria+'"\x3e'+f.display+"\x3c/kbd\x3e"),f="string"===typeof b?b:b.dataValue;h&&!0!==a.config.forcePasteAsPlainText&&"allow-word"!==a.config.forcePasteAsPlainText?a._.nextPasteType=h:delete a._.nextPasteType;"string"===typeof f?c({dataValue:f}):a.getClipboardData(c)}}}function g(){u=1;setTimeout(function(){u=0},100)}function h(){m=1;setTimeout(function(){m=0},10)}function e(b){var c=
a.document,d=c.getBody(),e=!1,h=function(){e=!0};d.on(b,h);7<CKEDITOR.env.version?c.$.execCommand(b):c.$.selection.createRange().execCommand(b);d.removeListener(b,h);return e}function f(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var b=a.getSelection(),c,d,e;b.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=b.getSelectedElement())&&(d=b.getRanges()[0],e=a.document.createText(""),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),b.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),b.selectElement(c))},
0))}}function l(b,c){var d=a.document,e=a.editable(),h=function(a){a.cancel()},f;if(!d.getById("cke_pastebin")){var n=a.getSelection(),g=n.createBookmarks();CKEDITOR.env.ie&&n.root.fire("selectionchange");var k=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is("body")||CKEDITOR.env.ie?"div":"body",d);k.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var l=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(k),k.addClass("cke_editable"),e.is("body")||(l="static"!=e.getComputedStyle("position")?
e:CKEDITOR.dom.element.get(e.$.offsetParent),l=l.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(k);k.setStyles({position:"absolute",top:d.getScrollPosition().y-l+10+"px",width:"1px",height:Math.max(1,d.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&k.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(l=k.getParent().isReadOnly())?(k.setOpacity(0),k.setAttribute("contenteditable",!0)):k.setStyle("ltr"==a.config.contentsLangDirection?
"left":"right","-10000px");a.on("selectionChange",h,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)f=e.once("blur",h,null,null,-100);l&&k.focus();l=new CKEDITOR.dom.range(k);l.selectNodeContents(k);var t=l.select();CKEDITOR.env.ie&&(f=e.once("blur",function(){a.lockSelection(t)}));var q=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=q);f&&f.removeListener();CKEDITOR.env.ie&&e.focus();n.selectBookmarks(g);
k.remove();var b;CKEDITOR.env.webkit&&(b=k.getFirst())&&b.is&&b.hasClass("Apple-style-span")&&(k=b);a.removeListener("selectionChange",h);c(k.getHtml())},0)}}function y(){if("paste"==p.mainPasteEvent)return a.fire("beforePaste",{type:"auto",method:"paste"}),!1;a.focus();g();var b=a.focusManager;b.lock();if(a.editable().fire(p.mainPasteEvent)&&!e("paste"))return b.unlock(),!1;b.unlock();return!0}function n(b){if("wysiwyg"==a.mode)switch(b.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:b=
a.editable();g();"paste"==p.mainPasteEvent&&b.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:a.fire("saveSnapshot"),setTimeout(function(){a.fire("saveSnapshot")},50)}}function k(b){var c={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(b)};c.dataTransfer.cacheData();var d=!1!==a.fire("beforePaste",c);d&&p.canClipboardApiBeTrusted(c.dataTransfer,a)?(b.data.preventDefault(),setTimeout(function(){r(a,c)},0)):l(b,function(b){c.dataValue=b.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,
"");d&&r(a,c)})}function t(){if("wysiwyg"==a.mode){var b=q("paste");a.getCommand("cut").setState(q("cut"));a.getCommand("copy").setState(q("copy"));a.getCommand("paste").setState(b);a.fire("pasteState",b)}}function q(b){if(v&&b in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==b)return CKEDITOR.TRISTATE_OFF;b=a.getSelection();var c=b.getRanges();return b.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,
m=0,u=0,v=0;(function(){a.on("key",n);a.on("contentDom",b);a.on("selectionChange",function(a){v=a.data.selection.getRanges()[0].checkReadOnly();t()});if(a.contextMenu){a.contextMenu.addListener(function(a,b){v=b.getRanges()[0].checkReadOnly();return{cut:q("cut"),copy:q("copy"),paste:q("paste")}});var c=null;a.on("menuShow",function(){c&&(c.removeListener(),c=null);var b=a.contextMenu.findItemByCommandName("paste");b&&b.element&&(c=b.element.on("touchend",function(){a._.forcePasteDialog=!0}))})}if(a.ui.addButton)a.once("instanceReady",
function(){a._.pasteButtons&&CKEDITOR.tools.array.forEach(a._.pasteButtons,function(b){if(b=a.ui.get(b))if(b=CKEDITOR.document.getById(b._.id))b.on("touchend",function(){a._.forcePasteDialog=!0})})})})();(function(){function b(c,d,e,h,f){var n=a.lang.clipboard[d];a.addCommand(d,e);a.ui.addButton&&a.ui.addButton(c,{label:n,command:d,toolbar:"clipboard,"+h});a.addMenuItems&&a.addMenuItem(d,{label:n,command:d,group:"clipboard",order:f})}b("Cut","cut",c("cut"),10,1);b("Copy","copy",c("copy"),20,4);b("Paste",
"paste",d(),30,8);a._.pasteButtons||(a._.pasteButtons=[]);a._.pasteButtons.push("Paste")})();a.getClipboardData=function(b,c){function d(a){a.removeListener();a.cancel();c(a.data)}function e(a){a.removeListener();a.cancel();c({type:f,dataValue:a.data.dataValue,dataTransfer:a.data.dataTransfer,method:"paste"})}var h=!1,f="auto";c||(c=b,b=null);a.on("beforePaste",function(a){a.removeListener();h=!0;f=a.data.type},null,null,1E3);a.on("paste",d,null,null,0);!1===y()&&(a.removeListener("paste",d),a._.forcePasteDialog&&
h&&a.fire("pasteDialog")?(a.on("pasteDialogCommit",e),a.on("dialogHide",function(a){a.removeListener();a.data.removeListener("pasteDialogCommit",e);a.data._.committed||c(null)})):c(null))}}function z(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";
return"htmlifiedtext"}function A(a,b){function c(a){return CKEDITOR.tools.repeat("\x3c/p\x3e\x3cp\x3e",~~(a/2))+(1==a%2?"\x3cbr\x3e":"")}b=b.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"\x3e\x3c").replace(/<br ?\/>/gi,"\x3cbr\x3e");b=b.replace(/<\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf("\x3cdiv\x3e")&&(b=b.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"\x3cbr\x3e").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"\x3cdiv\x3e\x3c/div\x3e"),
b.match(/<div>(<br>|)<\/div>/)&&(b="\x3cp\x3e"+b.replace(/(<div>(<br>|)<\/div>)+/g,function(a){return c(a.split("\x3c/div\x3e\x3cdiv\x3e").length+1)})+"\x3c/p\x3e"),b=b.replace(/<\/div><div>/g,"\x3cbr\x3e"),b=b.replace(/<\/?div>/g,""));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,"\x3cbr\x3e")),-1<b.indexOf("\x3cbr\x3e\x3cbr\x3e")&&(b="\x3cp\x3e"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+"\x3c/p\x3e"));return B(a,b)}function C(a){function b(){var a=
{},b;for(b in CKEDITOR.dtd)"$"!=b.charAt(0)&&"div"!=b&&"span"!=b&&(a[b]=1);return a}var c={};return{get:function(d){return"plain-text"==d?c.plainText||(c.plainText=new CKEDITOR.filter(a,"br")):"semantic-content"==d?((d=c.semanticContent)||(d=new CKEDITOR.filter(a,{}),d.allow({$1:{elements:b(),attributes:!0,styles:!1,classes:!1}}),d=c.semanticContent=d),d):d?new CKEDITOR.filter(a,d):null}}}function w(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,
!0,!1,a.activeEnterMode);b.writeHtml(d);return d.getHtml()}function B(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat("\x3cbr\x3e",a.length/7*2)}).replace(/<\/?p>/g,""):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\/)?p>/g,"\x3c$1div\x3e"));return b}function D(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect="none"}function E(a){var b=CKEDITOR.plugins.clipboard;a.on("contentDom",function(){function c(b,c,d){c.select();r(a,{dataTransfer:d,
method:"drop"},1);d.sourceEditor.fire("saveSnapshot");d.sourceEditor.editable().extractHtmlFromRange(b);d.sourceEditor.getSelection().selectRanges([b]);d.sourceEditor.fire("saveSnapshot")}function d(c,d){c.select();r(a,{dataTransfer:d,method:"drop"},1);b.resetDragDataTransfer()}function g(b,c,d){var e={$:b.data.$,target:b.data.getTarget()};c&&(e.dragRange=c);d&&(e.dropRange=d);!1===a.fire(b.name,e)&&b.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}
var e=a.editable(),f=CKEDITOR.plugins.clipboard.getDropTarget(a),l=a.ui.space("top"),m=a.ui.space("bottom");b.preventDefaultDropOnElement(l);b.preventDefaultDropOnElement(m);e.attachListener(f,"dragstart",g);e.attachListener(a,"dragstart",b.resetDragDataTransfer,b,null,1);e.attachListener(a,"dragstart",function(c){b.initDragDataTransfer(c,a)},null,null,2);e.attachListener(a,"dragstart",function(){var c=b.dragRange=a.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(b.dragStartContainerChildCount=
c?h(c.startContainer):null,b.dragEndContainerChildCount=c?h(c.endContainer):null)},null,null,100);e.attachListener(f,"dragend",g);e.attachListener(a,"dragend",b.initDragDataTransfer,b,null,1);e.attachListener(a,"dragend",b.resetDragDataTransfer,b,null,100);e.attachListener(f,"dragover",function(a){if(CKEDITOR.env.edge)a.data.preventDefault();else{var b=a.data.getTarget();b&&b.is&&b.is("html")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains("Files")&&
a.data.preventDefault()}});e.attachListener(f,"drop",function(c){if(!c.data.$.defaultPrevented){c.data.preventDefault();var d=c.data.getTarget();if(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is("html")){var d=b.getRangeAtDropPosition(c,a),e=b.dragRange;d&&g(c,e,d)}}},null,null,9999);e.attachListener(a,"drop",b.initDragDataTransfer,b,null,1);e.attachListener(a,"drop",function(e){if(e=e.data){var h=e.dropRange,f=e.dragRange,g=e.dataTransfer;g.getTransferType(a)==CKEDITOR.DATA_TRANSFER_INTERNAL?
setTimeout(function(){b.internalDrop(f,h,g,a)},0):g.getTransferType(a)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c(f,h,g):d(h,g)}},null,null,9999)})}var m;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(a){var b,c=C(a);a.config.forcePasteAsPlainText?b="plain-text":a.config.pasteFilter?b=a.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in a.config||(b="semantic-content");a.pasteFilter=c.get(b);x(a);E(a);CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+
"dialogs/paste.js"));if(CKEDITOR.env.gecko){var d=["image/png","image/jpeg","image/gif"],g;a.on("paste",function(b){var c=b.data,f=c.dataTransfer;if(!c.dataValue&&"paste"==c.method&&f&&1==f.getFilesCount()&&g!=f.id&&(f=f.getFile(0),-1!=CKEDITOR.tools.indexOf(d,f.type))){var l=new FileReader;l.addEventListener("load",function(){b.data.dataValue='\x3cimg src\x3d"'+l.result+'" /\x3e';a.fire("paste",b.data)},!1);l.addEventListener("abort",function(){a.fire("paste",b.data)},!1);l.addEventListener("error",
function(){a.fire("paste",b.data)},!1);l.readAsDataURL(f);g=c.dataTransfer.id;b.stop()}},null,null,1)}a.on("paste",function(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData("text/html");if(d)b.data.dataValue=d,b.data.type="html";else if(d=c.getData("text/plain"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type="text"}},null,null,1);a.on("paste",function(a){var b=a.data.dataValue,
c=CKEDITOR.dtd.$block;-1<b.indexOf("Apple-")&&(b=b.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=a.data.type&&(b=b.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;")})),-1<b.indexOf('\x3cbr class\x3d"Apple-interchange-newline"\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing="html",b=b.replace(/<br class="Apple-interchange-newline">/,"")),b=b.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));
if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,g,n=new CKEDITOR.dom.element("div");for(n.setHtml(b);1==n.getChildCount()&&(d=n.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass("cke_editable")||d.hasClass("cke_contents"));)n=g=d;g&&(b=g.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing="html","\x3c"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\/(\w+)><div><br><\/div>$/,function(b,d){return d in
c?(a.data.endsWithEOL=1,"\x3c/"+d+"\x3e"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\s)<br>$/,"$1"));a.data.dataValue=b},null,null,3);a.on("paste",function(b){b=b.data;var d=a._.nextPasteType||b.type,f=b.dataValue,g,m=a.config.clipboard_defaultContentType||"html",n=b.dataTransfer.getTransferType(a)==CKEDITOR.DATA_TRANSFER_EXTERNAL,k=!0===a.config.forcePasteAsPlainText;g="html"==d||"html"==b.preSniffing?"html":z(f);delete a._.nextPasteType;"htmlifiedtext"==g&&(f=A(a.config,f));if("text"==d&&"html"==g)f=
w(a,f,c.get("plain-text"));else if(n&&a.pasteFilter&&!b.dontFilter||k)f=w(a,f,a.pasteFilter);b.startsWithEOL&&(f='\x3cbr data-cke-eol\x3d"1"\x3e'+f);b.endsWithEOL&&(f+='\x3cbr data-cke-eol\x3d"1"\x3e');"auto"==d&&(d="html"==g||"html"==m?"html":"text");b.type=d;b.dataValue=f;delete b.preSniffing;delete b.startsWithEOL;delete b.endsWithEOL},null,null,6);a.on("paste",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire("afterPaste")},0))},null,null,
1E3);a.on("pasteDialog",function(b){setTimeout(function(){a.openDialog("paste",b.data)},0)})}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(a,b,c){a.ui.addButton&&(a.ui.addButton(b,c),a._.pasteButtons||
(a._.pasteButtons=[]),a._.pasteButtons.push(b))},canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData("text/html")||a.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,
b,c,d){function g(a,c,d){var g=a;g.type==CKEDITOR.NODE_TEXT&&(g=a.getParent());if(g.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var h=b.startContainer;"number"==typeof d&&"number"==typeof c&&h.type==CKEDITOR.NODE_ELEMENT&&(g(a.startContainer,h,c)||g(a.endContainer,
h,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(a,b,c,d){var g=CKEDITOR.plugins.clipboard,h=d.editable(),e,f;d.fire("saveSnapshot");d.fire("lockSnapshot",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(a,b,g.dragStartContainerChildCount,
g.dragEndContainerChildCount);(f=this.isDropRangeAffectedByDragRange(a,b))||(e=a.createBookmark(!1));g=b.clone().createBookmark(!1);f&&(e=a.createBookmark(!1));a=e.startNode;b=e.endNode;f=g.startNode;b&&a.getPosition(f)&CKEDITOR.POSITION_PRECEDING&&b.getPosition(f)&CKEDITOR.POSITION_FOLLOWING&&f.insertBefore(a);a=d.createRange();a.moveToBookmark(e);h.extractHtmlFromRange(a,1);b=d.createRange();b.moveToBookmark(g);r(d,{dataTransfer:c,method:"drop",range:b},1);d.fire("unlockSnapshot")},getRangeAtDropPosition:function(a,
b){var c=a.data.$,d=c.clientX,g=c.clientY,h=b.getSelection(!0).getRanges()[0],e=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(d,g))c=b.document.$.caretRangeFromPoint(d,g),e.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),e.collapse(!0);else if(c.rangeParent)e.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),e.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&h&&b.editable().hasFocus)return h;
if(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var f=!1,l=0;20>l&&!f;l++){if(!f)try{c.moveToPoint(d,g-l),f=!0}catch(m){}if(!f)try{c.moveToPoint(d,g+l),f=!0}catch(n){}}if(f){var k="cke-temp-"+(new Date).getTime();c.pasteHTML('\x3cspan id\x3d"'+k+'"\x3eâ\x3c/span\x3e');var t=b.document.getById(k);e.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);t.remove()}else{var q=b.document.$.elementFromPoint(d,g),p=new CKEDITOR.dom.element(q),r;if(p.equals(b.editable())||
"html"==p.getName())return h&&h.startContainer&&!h.startContainer.equals(b.editable())?h:null;r=p.getClientRect();d<r.left?e.setStartAt(p,CKEDITOR.POSITION_AFTER_START):e.setStartAt(p,CKEDITOR.POSITION_BEFORE_END);e.collapse(!0)}}catch(u){return null}}else return null}return e},initDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);"dragstart"===a.name&&d.storeId();c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?
d=this.dragData:this.dragData=d;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=a.data.$.clipboardData,d=new this.dataTransfer(c,b);"copy"!==a.name&&"cut"!==a.name||d.storeId();this.copyCutData&&d.id==this.copyCutData.id?(d=this.copyCutData,d.$=c):this.copyCutData=d;return d}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&
a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&a.on("dragover",D)}};m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(a){a=a.toLowerCase();return"text"==a||"text/plain"==a?"Text":"url"==a?
"URL":a}};this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this);this.id=this.getData(m);this.id||(this.id="Text"==m?"":"cke-"+CKEDITOR.tools.getUniqueId());b&&(this.sourceEditor=b,this.setData("text/html",b.getSelectedHtml(1)),"Text"==m||this.getData("text/plain")||this.setData("text/plain",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype=
{getData:function(a,b){a=this._.normalizeType(a);var c="text/html"==a&&b?this._.nativeHtmlCache:this._.data[a];if(void 0===c||null===c||""===c){if(this._.fallbackDataTransfer.isRequired())c=this._.fallbackDataTransfer.getData(a,b);else try{c=this.$.getData(a)||""}catch(d){c=""}"text/html"!=a||b||(c=this._stripHtml(c))}"Text"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==c.substring(0,7)&&(c="");if("string"===typeof c)var g=c.indexOf("\x3c/html\x3e"),c=-1!==g?c.substring(0,g+7):c;return c},
setData:function(a,b){a=this._.normalizeType(a);"text/html"==a?(this._.data[a]=this._stripHtml(b),this._.nativeHtmlCache=b):this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==a||"Text"==a)if("Text"==m&&"Text"==a&&(this.id=b),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(a,b);else try{this.$.setData(a,b)}catch(c){}},storeId:function(){"Text"!==m&&this.setData(m,this.id)},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==
a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(a){a=b._.normalizeType(a);var c=b.getData(a);"text/html"==a&&(b._.nativeHtmlCache=b.getData(a,!0),c=b._stripHtml(c));c&&(b._.data[a]=c)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this.$.types[c])}else a("Text"),a("URL");d=this._getImageFromClipboard();if(this.$&&this.$.files||
d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?this.$.files[a]:0===a?this._getImageFromClipboard():
void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(b){a[b]=1});if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;"Text"!=m&&(a[m]=0);for(b in a)if(a[b]&&""!==this.getData(b))return!1;return!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&
a.type)return a}catch(b){}},_stripHtml:function(a){if(a&&a.length){a=a.replace(this._.metaRegExp,"");var b=this._.bodyRegExp.exec(a);b&&b.length&&(a=b[1],a=a.replace(this._.fragmentRegExp,""))}return a}};CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(a){this._dataTransfer=a;this._customDataFallbackType="text/html"};CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null;CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[];CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype=
{isRequired:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer,b=this._dataTransfer.$;if(null===a._isCustomMimeTypeSupported)if(b){a._isCustomMimeTypeSupported=!1;if(CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{b.setData("cke/mimetypetest","cke test value"),a._isCustomMimeTypeSupported="cke test value"===b.getData("cke/mimetypetest"),b.clearData("cke/mimetypetest")}catch(c){}}else return!1;return!a._isCustomMimeTypeSupported},getData:function(a,b){var c=this._getData(this._customDataFallbackType,
!0);if(b)return c;var c=this._extractDataComment(c),d=null,d=a===this._customDataFallbackType?c.content:c.data&&c.data[a]?c.data[a]:this._getData(a,!0);return null!==d?d:""},setData:function(a,b){var c=a===this._customDataFallbackType;c&&(b=this._applyDataComment(b,this._getFallbackTypeData()));var d=b,g=this._dataTransfer.$;try{g.setData(a,d),c&&(this._dataTransfer._.nativeHtmlCache=d)}catch(h){if(this._isUnsupportedMimeTypeError(h)){c=CKEDITOR.plugins.clipboard.fallbackDataTransfer;-1===CKEDITOR.tools.indexOf(c._customTypes,
a)&&c._customTypes.push(a);var c=this._getFallbackTypeContent(),e=this._getFallbackTypeData();e[a]=d;try{d=this._applyDataComment(c,e),g.setData(this._customDataFallbackType,d),this._dataTransfer._.nativeHtmlCache=d}catch(f){d=""}}}return d},_getData:function(a,b){var c=this._dataTransfer._.data;if(!b&&c[a])return c[a];try{return this._dataTransfer.$.getData(a)}catch(d){return null}},_getFallbackTypeContent:function(){var a=this._dataTransfer._.data[this._customDataFallbackType];a||(a=this._extractDataComment(this._getData(this._customDataFallbackType,
!0)).content);return a},_getFallbackTypeData:function(){var a=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,b=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},c=this._dataTransfer._.data;CKEDITOR.tools.array.forEach(a,function(a){void 0!==c[a]?b[a]=c[a]:void 0!==b[a]&&(b[a]=b[a])},this);return b},_isUnsupportedMimeTypeError:function(a){return a.message&&-1!==a.message.search(/element not found/gi)},_extractDataComment:function(a){var b={data:null,content:a||
""};if(a&&16<a.length){var c;(c=/\x3c!--cke-data:(.*?)--\x3e/g.exec(a))&&c[1]&&(b.data=JSON.parse(decodeURIComponent(c[1])),b.content=a.replace(c[0],""))}return b},_applyDataComment:function(a,b){var c="";b&&CKEDITOR.tools.objectKeys(b).length&&(c="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(b))+"--\x3e");return c+(a&&a.length?a:"")}}})();CKEDITOR.config.clipboard_notificationDuration=1E4;(function(){function x(a,e,b){b=a.config.forceEnterMode||b;if("wysiwyg"==a.mode){e||(e=a.activeEnterMode);var g=a.elementPath();g&&!g.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,b=1);a.fire("saveSnapshot");e==CKEDITOR.ENTER_BR?u(a,e,null,b):r(a,e,null,b);a.fire("saveSnapshot")}}function y(a){a=a.getSelection().getRanges(!0);for(var e=a.length-1;0<e;e--)a[e].deleteContents();return a[0]}function z(a){var e=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"true"==a.getAttribute("contenteditable")},
!0);if(a.root.equals(e))return a;e=new CKEDITOR.dom.range(e);e.moveToRange(a);return e}CKEDITOR.plugins.add("enterkey",{init:function(a){a.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){x(a)}});a.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(a){x(a,a.activeShiftEnterMode,1)}});a.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var A=CKEDITOR.dom.walker.whitespaces(),B=CKEDITOR.dom.walker.bookmark(),v,u,r,w;CKEDITOR.plugins.enterkey=
{enterBlock:function(a,e,b,g){function m(a){var b;if(a===CKEDITOR.ENTER_BR||-1===CKEDITOR.tools.indexOf(["td","th"],p.lastElement.getName())||1!==p.lastElement.getChildCount())return!1;a=p.lastElement.getChild(0).clone(!0);(b=a.getBogus())&&b.remove();return a.getText().length?!1:!0}if(b=b||y(a)){b=z(b);var h=b.document,n=b.checkStartOfBlock(),f=b.checkEndOfBlock(),p=a.elementPath(b.startContainer),c=p.block,l=e==CKEDITOR.ENTER_DIV?"div":"p",d;if(n&&f){if(c&&(c.is("li")||c.getParent().is("li"))){c.is("li")||
(c=c.getParent());b=c.getParent();d=b.getParent();g=!c.hasPrevious();var f=!c.hasNext(),l=a.getSelection(),n=l.createBookmarks(),k=c.getDirection(1),t=c.getAttribute("class"),q=c.getAttribute("style"),r=d.getDirection(1)!=k;a=a.enterMode!=CKEDITOR.ENTER_BR||r||q||t;if(d.is("li"))g||f?(g&&f&&b.remove(),c[f?"insertAfter":"insertBefore"](d)):c.breakParent(d);else{if(a)if(p.block.is("li")?(d=h.createElement(e==CKEDITOR.ENTER_P?"p":"div"),r&&d.setAttribute("dir",k),q&&d.setAttribute("style",q),t&&d.setAttribute("class",
t),c.moveChildren(d)):d=p.block,g||f)d[g?"insertBefore":"insertAfter"](b);else c.breakParent(b),d.insertAfter(b);else if(c.appendBogus(!0),g||f)for(;h=c[g?"getFirst":"getLast"]();)h[g?"insertBefore":"insertAfter"](b);else for(c.breakParent(b);h=c.getLast();)h.insertAfter(b);c.remove()}l.selectBookmarks(n);return}if(c&&c.getParent().is("blockquote")){c.breakParent(c.getParent());c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove();c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||
c.getNext().remove();b.moveToElementEditStart(c);b.select();return}}else if(c&&c.is("pre")&&!f){u(a,e,b,g);return}if(q=b.splitBlock(l)){a=q.previousBlock;c=q.nextBlock;n=q.wasStartOfBlock;f=q.wasEndOfBlock;c?(k=c.getParent(),k.is("li")&&(c.breakParent(k),c.move(c.getNext(),1))):a&&(k=a.getParent())&&k.is("li")&&(a.breakParent(k),k=a.getNext(),b.moveToElementEditStart(k),a.move(a.getPrevious()));if(n||f)if(m(e))b.moveToElementEditStart(b.getTouchedStartNode());else{if(a){if(a.is("li")||!w.test(a.getName())&&
!a.is("pre"))d=a.clone()}else c&&(d=c.clone());d?g&&!d.is("li")&&d.renameNode(l):k&&k.is("li")?d=k:(d=h.createElement(l),a&&(t=a.getDirection())&&d.setAttribute("dir",t));if(h=q.elementPath)for(e=0,g=h.elements.length;e<g;e++){l=h.elements[e];if(l.equals(h.block)||l.equals(h.blockLimit))break;CKEDITOR.dtd.$removeEmpty[l.getName()]&&(l=l.clone(),d.moveChildren(l),d.append(l))}d.appendBogus();d.getParent()||b.insertNode(d);d.is("li")&&d.removeAttribute("value");!CKEDITOR.env.ie||!n||f&&a.getChildCount()||
(b.moveToElementEditStart(f?a:d),b.select());b.moveToElementEditStart(n&&!f?c:d)}else c.is("li")&&(d=b.clone(),d.selectNodeContents(c),d=new CKEDITOR.dom.walker(d),d.evaluator=function(a){return!(B(a)||A(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(k=d.next())&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?h.createElement("br"):h.createText("Â ")).insertBefore(k)),c&&b.moveToElementEditStart(c);b.select();
b.scrollIntoView()}}},enterBr:function(a,e,b,g){if(b=b||y(a)){var m=b.document,h=b.checkEndOfBlock(),n=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),f=n.block,p=f&&n.block.getName();g||"li"!=p?(!g&&h&&w.test(p)?(h=f.getDirection())?(m=m.createElement("div"),m.setAttribute("dir",h),m.insertAfter(f),b.setStart(m,0)):(m.createElement("br").insertAfter(f),CKEDITOR.env.gecko&&m.createText("").insertAfter(f),b.setStartAt(f.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):
(a="pre"==p&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?m.createText("\r"):m.createElement("br"),b.deleteContents(),b.insertNode(a),CKEDITOR.env.needsBrFiller?(m.createText("ï»¿").insertAfter(a),h&&(f||n.blockLimit).appendBogus(),a.getNext().$.nodeValue="",b.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):b.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),b.collapse(!0),b.select(),b.scrollIntoView()):r(a,e,b,g)}}};v=CKEDITOR.plugins.enterkey;u=v.enterBr;r=v.enterBlock;w=/^h[1-6]$/})();(function(){var b={canUndo:!1,exec:function(a){var b=a.document.createElement("hr");a.insertElement(b)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(a){a.blockless||(a.addCommand("horizontalrule",b),a.ui.addButton&&a.ui.addButton("HorizontalRule",{label:a.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})})();(function(){function m(a,b){var e,f;b.on("refresh",function(a){var b=[k],c;for(c in a.data.states)b.push(a.data.states[c]);this.setState(CKEDITOR.tools.search(b,p)?p:k)},b,null,100);b.on("exec",function(b){e=a.getSelection();f=e.createBookmarks(1);b.data||(b.data={});b.data.done=!1},b,null,0);b.on("exec",function(){a.forceNextSelectionCheck();e.selectBookmarks(f)},b,null,100)}var k=CKEDITOR.TRISTATE_DISABLED,p=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(a){var b=CKEDITOR.plugins.indent.genericDefinition;
m(a,a.addCommand("indent",new b(!0)));m(a,a.addCommand("outdent",new b));a.ui.addButton&&(a.ui.addButton("Indent",{label:a.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),a.ui.addButton("Outdent",{label:a.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"}));a.on("dirChanged",function(b){var f=a.createRange(),l=b.data.node;f.setStartBefore(l);f.setEndAfter(l);for(var n=new CKEDITOR.dom.walker(f),c;c=n.next();)if(c.type==CKEDITOR.NODE_ELEMENT)if(!c.equals(l)&&
c.getDirection())f.setStartAfter(c),n=new CKEDITOR.dom.walker(f);else{var d=a.config.indentClasses;if(d)for(var g="ltr"==b.data.dir?["_rtl",""]:["","_rtl"],h=0;h<d.length;h++)c.hasClass(d[h]+g[0])&&(c.removeClass(d[h]+g[0]),c.addClass(d[h]+g[1]));d=c.getStyle("margin-right");g=c.getStyle("margin-left");d?c.setStyle("margin-left",d):c.removeStyle("margin-left");g?c.setStyle("margin-right",g):c.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;
this.startDisabled=!this.isIndent},specificDefinition:function(a,b,e){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?"indent":"outdent";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on("pluginsLoaded",function(){for(var a in b)(function(a,b){var e=a.getCommand(b.relatedGlobal),c;for(c in b.jobs)e.on("exec",function(d){d.data.done||(a.fire("lockSnapshot"),b.execJob(a,c)&&(d.data.done=
!0),a.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,c),e.on("refresh",function(d){d.data.states||(d.data.states={});d.data.states[b.name+"@"+c]=b.refreshJob(a,c,d.data.path)},this,null,c);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var e=this.jobs[b];if(e.state!=k)return e.exec.call(this,a)},refreshJob:function(a,
b,e){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,e):b.state=k;return b.state},getContext:function(a){return a.contains(this.context)}}})();(function(){function f(b,c,a){if(!b.getCustomData("indent_processed")){var d=this.editor,l=this.isIndent;if(c){d=b.$.className.match(this.classNameRegex);a=0;d&&(d=d[1],a=CKEDITOR.tools.indexOf(c,d)+1);if(0>(a+=l?1:-1))return;a=Math.min(a,c.length);a=Math.max(a,0);b.$.className=CKEDITOR.tools.ltrim(b.$.className.replace(this.classNameRegex,""));0<a&&b.addClass(c[a-1])}else{c=m(b,a);a=parseInt(b.getStyle(c),10);var g=d.config.indentOffset||40;isNaN(a)&&(a=0);a+=(l?1:-1)*g;if(0>a)return;a=Math.max(a,
0);a=Math.ceil(a/g)*g;b.setStyle(c,a?a+(d.config.indentUnit||"px"):"");""===b.getAttribute("style")&&b.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,b,"indent_processed",1)}}function m(b,c){return"ltr"==(c||b.getComputedStyle("direction"))?"margin-left":"margin-right"}var h=CKEDITOR.dtd.$listItem,p=CKEDITOR.dtd.$list,k=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(b){function c(){a.specificDefinition.apply(this,
arguments);this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:d?null:"margin-left,margin-right",classes:d||null}};this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]];this.enterBr&&
(this.allowedContent.div=!0);this.requiredContent=(this.enterBr?"div":"p")+(d?"("+d.join(",")+")":"{margin-left}");this.jobs={20:{refresh:function(a,b){var e=b.block||b.blockLimit;if(!e.is(h))var c=e.getAscendant(h),e=c&&b.contains(c)||e;e.is(h)&&(e=e.getParent());if(this.enterBr||this.getContext(b)){if(d){var c=d,e=e.$.className.match(this.classNameRegex),f=this.isIndent,c=e?f?e[1]!=c.slice(-1):!0:f;return c?n:k}return this.isIndent?n:e?CKEDITOR[0>=(parseInt(e.getStyle(m(e)),10)||0)?"TRISTATE_DISABLED":
"TRISTATE_OFF"]:k}return k},exec:function(a){var b=a.getSelection(),b=b&&b.getRanges()[0],c;if(c=a.elementPath().contains(p))f.call(this,c,d);else for(b=b.createIterator(),a=a.config.enterMode,b.enforceRealBlocks=!0,b.enlargeBr=a!=CKEDITOR.ENTER_BR;c=b.getNextParagraph(a==CKEDITOR.ENTER_P?"p":"div");)c.isReadOnly()||f.call(this,c,d);return!0}}}}var a=CKEDITOR.plugins.indent,d=b.config.indentClasses;a.registerCommands(b,{indentblock:new c(b,"indentblock",!0),outdentblock:new c(b,"outdentblock")});
CKEDITOR.tools.extend(c.prototype,a.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:d?new RegExp("(?:^|\\s+)("+d.join("|")+")(?\x3d$|\\s)"):null})}})})();(function(){function w(f){function g(b){for(var e=c.startContainer,a=c.endContainer;e&&!e.getParent().equals(b);)e=e.getParent();for(;a&&!a.getParent().equals(b);)a=a.getParent();if(!e||!a)return!1;for(var d=[],h=!1;!h;)e.equals(a)&&(h=!0),d.push(e),e=e.getNext();if(1>d.length)return!1;e=b.getParents(!0);for(a=0;a<e.length;a++)if(e[a].getName&&p[e[a].getName()]){b=e[a];break}for(var e=k.isIndent?1:-1,a=d[0],d=d[d.length-1],h=CKEDITOR.plugins.list.listToArray(b,q),m=h[d.getCustomData("listarray_index")].indent,
a=a.getCustomData("listarray_index");a<=d.getCustomData("listarray_index");a++)if(h[a].indent+=e,0<e){for(var g=h[a].parent,n=a-1;0<=n;n--)if(h[n].indent===e){g=h[n].parent;break}h[a].parent=new CKEDITOR.dom.element(g.getName(),g.getDocument())}for(a=d.getCustomData("listarray_index")+1;a<h.length&&h[a].indent>m;a++)h[a].indent+=e;e=CKEDITOR.plugins.list.arrayToList(h,q,null,f.config.enterMode,b.getDirection());if(!k.isIndent){var t;if((t=b.getParent())&&t.is("li"))for(var d=e.listNode.getChildren(),
r=[],l,a=d.count()-1;0<=a;a--)(l=d.getItem(a))&&l.is&&l.is("li")&&r.push(l)}e&&e.listNode.replace(b);if(r&&r.length)for(a=0;a<r.length;a++){for(l=b=r[a];(l=l.getNext())&&l.is&&l.getName()in p;)CKEDITOR.env.needsNbspFiller&&!b.getFirst(x)&&b.append(c.document.createText("Â ")),b.append(l);b.insertAfter(t)}e&&f.fire("contentDomInvalidated");return!0}for(var k=this,q=this.database,p=this.context,c,m=f.getSelection(),m=(m&&m.getRanges()).createIterator();c=m.getNextRange();){for(var b=c.getCommonAncestor();b&&
(b.type!=CKEDITOR.NODE_ELEMENT||!p[b.getName()]);){if(f.editable().equals(b)){b=!1;break}b=b.getParent()}b||(b=c.startPath().contains(p))&&c.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);if(!b){var d=c.getEnclosedNode();d&&d.type==CKEDITOR.NODE_ELEMENT&&d.getName()in p&&(c.setStartAt(d,CKEDITOR.POSITION_AFTER_START),c.setEndAt(d,CKEDITOR.POSITION_BEFORE_END),b=d)}b&&c.startContainer.type==CKEDITOR.NODE_ELEMENT&&c.startContainer.getName()in p&&(d=new CKEDITOR.dom.walker(c),d.evaluator=n,c.startContainer=
d.next());b&&c.endContainer.type==CKEDITOR.NODE_ELEMENT&&c.endContainer.getName()in p&&(d=new CKEDITOR.dom.walker(c),d.evaluator=n,c.endContainer=d.previous());if(b)return g(b)}return 0}function n(f){return f.type==CKEDITOR.NODE_ELEMENT&&f.is("li")}function x(f){return y(f)&&z(f)}var y=CKEDITOR.dom.walker.whitespaces(!0),z=CKEDITOR.dom.walker.bookmark(!1,!0),u=CKEDITOR.TRISTATE_DISABLED,v=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(f){function g(f){k.specificDefinition.apply(this,
arguments);this.requiredContent=["ul","ol"];f.on("key",function(g){var c=f.elementPath();if("wysiwyg"==f.mode&&g.data.keyCode==this.indentKey&&c){var m=this.getContext(c);!m||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,m)||(f.execCommand(this.relatedGlobal),g.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(f,c){var g=this.getContext(c),b=CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,g);return g&&this.isIndent&&!b?v:u}:function(f,
c){return!this.getContext(c)||this.isIndent?u:v},exec:CKEDITOR.tools.bind(w,this)}}var k=CKEDITOR.plugins.indent;k.registerCommands(f,{indentlist:new g(f,"indentlist",!0),outdentlist:new g(f,"outdentlist")});CKEDITOR.tools.extend(g.prototype,k.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(f,g,k){var q=g.contains(n);k||(k=g.contains(f));return k&&q&&q.equals(k.getFirst(n))}})();(function(){function q(a,c){c=void 0===c||c;var b;if(c)b=a.getComputedStyle("text-align");else{for(;!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align");){b=a.getParent();if(!b)break;a=b}b=a.getStyle("text-align")||a.getAttribute("align")||""}b&&(b=b.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,""));!b&&c&&(b="rtl"==a.getComputedStyle("direction")?"right":"left");return b}function h(a,c,b){this.editor=a;this.name=c;this.value=b;this.context="p";c=a.config.justifyClasses;var f=a.config.enterMode==
CKEDITOR.ENTER_P?"p":"div";if(c){switch(b){case "left":this.cssClassName=c[0];break;case "center":this.cssClassName=c[1];break;case "right":this.cssClassName=c[2];break;case "justify":this.cssClassName=c[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+c.join("|")+")(?\x3d$|\\s)");this.requiredContent=f+"("+this.cssClassName+")"}else this.requiredContent=f+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",
classes:this.cssClassName||null}};a.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function m(a){var c=a.editor,b=c.createRange();b.setStartBefore(a.data.node);b.setEndAfter(a.data.node);for(var f=new CKEDITOR.dom.walker(b),d;d=f.next();)if(d.type==CKEDITOR.NODE_ELEMENT)if(!d.equals(a.data.node)&&d.getDirection())b.setStartAfter(d),f=new CKEDITOR.dom.walker(b);else{var e=c.config.justifyClasses;e&&(d.hasClass(e[0])?(d.removeClass(e[0]),d.addClass(e[2])):d.hasClass(e[2])&&(d.removeClass(e[2]),
d.addClass(e[0])));e=d.getStyle("text-align");"left"==e?d.setStyle("text-align","right"):"right"==e&&d.setStyle("text-align","left")}}h.prototype={exec:function(a){var c=a.getSelection(),b=a.config.enterMode;if(c){for(var f=c.createBookmarks(),d=c.getRanges(),e=this.cssClassName,h,g,k=a.config.useComputedState,k=void 0===k||k,n=d.length-1;0<=n;n--)for(h=d[n].createIterator(),h.enlargeBr=b!=CKEDITOR.ENTER_BR;g=h.getNextParagraph(b==CKEDITOR.ENTER_P?"p":"div");)if(!g.isReadOnly()){var l=g.getName(),
p;p=a.activeFilter.check(l+"{text-align}");if((l=a.activeFilter.check(l+"("+e+")"))||p){g.removeAttribute("align");g.removeStyle("text-align");var m=e&&(g.$.className=CKEDITOR.tools.ltrim(g.$.className.replace(this.cssClassRegex,""))),r=this.state==CKEDITOR.TRISTATE_OFF&&(!k||q(g,!0)!=this.value);e&&l?r?g.addClass(e):m||g.removeAttribute("class"):r&&p&&g.setStyle("text-align",this.value)}}a.focus();a.forceNextSelectionCheck();c.selectBookmarks(f)}},refresh:function(a,c){var b=c.block||c.blockLimit,
f=b.getName(),d=b.equals(a.editable()),f=this.cssClassName?a.activeFilter.check(f+"("+this.cssClassName+")"):a.activeFilter.check(f+"{text-align}");d&&1===c.elements.length?this.setState(CKEDITOR.TRISTATE_OFF):!d&&f?this.setState(q(b,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}};CKEDITOR.plugins.add("justify",{init:function(a){if(!a.blockless){var c=new h(a,"justifyleft","left"),b=new h(a,"justifycenter","center"),
f=new h(a,"justifyright","right"),d=new h(a,"justifyblock","justify");a.addCommand("justifyleft",c);a.addCommand("justifycenter",b);a.addCommand("justifyright",f);a.addCommand("justifyblock",d);a.ui.addButton&&(a.ui.addButton("JustifyLeft",{label:a.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),a.ui.addButton("JustifyCenter",{label:a.lang.common.center,command:"justifycenter",toolbar:"align,20"}),a.ui.addButton("JustifyRight",{label:a.lang.common.alignRight,command:"justifyright",
toolbar:"align,30"}),a.ui.addButton("JustifyBlock",{label:a.lang.common.justify,command:"justifyblock",toolbar:"align,40"}));a.on("dirChanged",m)}}})})();(function(){function I(b,m,e){function c(c){if(!(!(a=d[c?"getFirst":"getLast"]())||a.is&&a.isBlockBoundary()||!(p=m.root[c?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||p.is&&p.isBlockBoundary({br:1})))b.document.createElement("br")[c?"insertBefore":"insertAfter"](a)}for(var f=CKEDITOR.plugins.list.listToArray(m.root,e),g=[],k=0;k<m.contents.length;k++){var h=m.contents[k];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(g.push(h),CKEDITOR.dom.element.setMarker(e,
h,"list_item_processed",!0))}h=null;for(k=0;k<g.length;k++)h=g[k].getCustomData("listarray_index"),f[h].indent=-1;for(k=h+1;k<f.length;k++)if(f[k].indent>f[k-1].indent+1){g=f[k-1].indent+1-f[k].indent;for(h=f[k].indent;f[k]&&f[k].indent>=h;)f[k].indent+=g,k++;k--}var d=CKEDITOR.plugins.list.arrayToList(f,e,null,b.config.enterMode,m.root.getAttribute("dir")).listNode,a,p;c(!0);c();d.replace(m.root);b.fire("contentDomInvalidated")}function B(b,m){this.name=b;this.context=this.type=m;this.allowedContent=
m+" li";this.requiredContent=m}function E(b,m,e,c){for(var f,g;f=b[c?"getLast":"getFirst"](J);)(g=f.getDirection(1))!==m.getDirection(1)&&f.setAttribute("dir",g),f.remove(),e?f[c?"insertBefore":"insertAfter"](e):m.append(f,c)}function F(b){function m(e){var c=b[e?"getPrevious":"getNext"](u);c&&c.type==CKEDITOR.NODE_ELEMENT&&c.is(b.getName())&&(E(b,c,null,!e),b.remove(),b=c)}m();m(1)}function G(b){return b.type==CKEDITOR.NODE_ELEMENT&&(b.getName()in CKEDITOR.dtd.$block||b.getName()in CKEDITOR.dtd.$listItem)&&
CKEDITOR.dtd[b.getName()]["#"]}function C(b,m,e){b.fire("saveSnapshot");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var c=e.extractContents();m.trim(!1,!0);var f=m.createBookmark(),g=new CKEDITOR.dom.elementPath(m.startContainer),k=g.block,g=g.lastElement.getAscendant("li",1)||k,h=new CKEDITOR.dom.elementPath(e.startContainer),d=h.contains(CKEDITOR.dtd.$listItem),h=h.contains(CKEDITOR.dtd.$list);k?(k=k.getBogus())&&k.remove():h&&(k=h.getPrevious(u))&&z(k)&&k.remove();(k=c.getLast())&&k.type==CKEDITOR.NODE_ELEMENT&&
k.is("br")&&k.remove();(k=m.startContainer.getChild(m.startOffset))?c.insertBefore(k):m.startContainer.append(c);d&&(c=A(d))&&(g.contains(d)?(E(c,d.getParent(),d),c.remove()):g.append(c));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){h=e.startPath();c=h.block;if(!c)break;c.is("li")&&(g=c.getParent(),c.equals(g.getLast(u))&&c.equals(g.getFirst(u))&&(c=g));e.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START);c.remove()}e=e.clone();c=b.editable();e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);
e.evaluator=function(a){return u(a)&&!z(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&F(e);m.moveToBookmark(f);m.select();b.fire("saveSnapshot")}function A(b){return(b=b.getLast(u))&&b.type==CKEDITOR.NODE_ELEMENT&&b.getName()in v?b:null}var v={ol:1,ul:1},K=CKEDITOR.dom.walker.whitespaces(),H=CKEDITOR.dom.walker.bookmark(),u=function(b){return!(K(b)||H(b))},z=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(b,m,e,c,f){if(!v[b.getName()])return[];
c||(c=0);e||(e=[]);for(var g=0,k=b.getChildCount();g<k;g++){var h=b.getChild(g);h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(h,m,e,c+1);if("li"==h.$.nodeName.toLowerCase()){var d={parent:b,indent:c,element:h,contents:[]};f?d.grandparent=f:(d.grandparent=b.getParent(),d.grandparent&&"li"==d.grandparent.$.nodeName.toLowerCase()&&(d.grandparent=d.grandparent.getParent()));m&&CKEDITOR.dom.element.setMarker(m,h,"listarray_index",e.length);e.push(d);
for(var a=0,p=h.getChildCount(),l;a<p;a++)l=h.getChild(a),l.type==CKEDITOR.NODE_ELEMENT&&v[l.getName()]?CKEDITOR.plugins.list.listToArray(l,m,e,c+1,d.grandparent):d.contents.push(l)}}return e},arrayToList:function(b,m,e,c,f){e||(e=0);if(!b||b.length<e+1)return null;for(var g,k=b[e].parent.getDocument(),h=new CKEDITOR.dom.documentFragment(k),d=null,a=e,p=Math.max(b[e].indent,0),l=null,q,n,t=c==CKEDITOR.ENTER_P?"p":"div";;){var r=b[a];g=r.grandparent;q=r.element.getDirection(1);if(r.indent==p){d&&b[a].parent.getName()==
d.getName()||(d=b[a].parent.clone(!1,1),f&&d.setAttribute("dir",f),h.append(d));l=d.append(r.element.clone(0,1));q!=d.getDirection(1)&&l.setAttribute("dir",q);for(g=0;g<r.contents.length;g++)l.append(r.contents[g].clone(1,1));a++}else if(r.indent==Math.max(p,0)+1)r=b[a-1].element.getDirection(1),a=CKEDITOR.plugins.list.arrayToList(b,null,a,c,r!=q?q:null),!l.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=k.$.documentMode&&l.append(k.createText("Â ")),l.append(a.listNode),a=a.nextIndex;else if(-1==
r.indent&&!e&&g){v[g.getName()]?(l=r.element.clone(!1,!0),q!=g.getDirection(1)&&l.setAttribute("dir",q)):l=new CKEDITOR.dom.documentFragment(k);var d=g.getDirection(1)!=q,y=r.element,D=y.getAttribute("class"),z=y.getAttribute("style"),A=l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(c!=CKEDITOR.ENTER_BR||d||z||D),w,B=r.contents.length,x;for(g=0;g<B;g++)if(w=r.contents[g],H(w)&&1<B)A?x=w.clone(1,1):l.append(w.clone(1,1));else if(w.type==CKEDITOR.NODE_ELEMENT&&w.isBlockBoundary()){d&&!w.getDirection()&&
w.setAttribute("dir",q);n=w;var C=y.getAttribute("style");C&&n.setAttribute("style",C.replace(/([^;])$/,"$1;")+(n.getAttribute("style")||""));D&&w.addClass(D);n=null;x&&(l.append(x),x=null);l.append(w.clone(1,1))}else A?(n||(n=k.createElement(t),l.append(n),d&&n.setAttribute("dir",q)),z&&n.setAttribute("style",z),D&&n.setAttribute("class",D),x&&(n.append(x),x=null),n.append(w.clone(1,1))):l.append(w.clone(1,1));x&&((n||l).append(x),x=null);l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&a!=b.length-1&&(CKEDITOR.env.needsBrFiller&&
(q=l.getLast())&&q.type==CKEDITOR.NODE_ELEMENT&&q.is("br")&&q.remove(),(q=l.getLast(u))&&q.type==CKEDITOR.NODE_ELEMENT&&q.is(CKEDITOR.dtd.$block)||l.append(k.createElement("br")));q=l.$.nodeName.toLowerCase();"div"!=q&&"p"!=q||l.appendBogus();h.append(l);d=null;a++}else return null;n=null;if(b.length<=a||Math.max(b[a].indent,0)<p)break}if(m)for(b=h.getFirst();b;){if(b.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(m,b),b.getName()in CKEDITOR.dtd.$listItem&&(e=b,k=f=c=void 0,c=e.getDirection()))){for(f=
e.getParent();f&&!(k=f.getDirection());)f=f.getParent();c==k&&e.removeAttribute("dir")}b=b.getNextSourceNode()}return{listNode:h,nextIndex:a}}};var L=/^h[1-6]$/,J=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);B.prototype={exec:function(b){this.refresh(b,b.elementPath());var m=b.config,e=b.getSelection(),c=e&&e.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var f=b.editable();if(f.getFirst(u)){var g=1==c.length&&c[0];(m=g&&g.getEnclosedNode())&&m.is&&this.type==m.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else m.enterMode==
CKEDITOR.ENTER_BR?f.appendBogus():c[0].fixBlock(1,m.enterMode==CKEDITOR.ENTER_P?"p":"div"),e.selectRanges(c)}for(var m=e.createBookmarks(!0),f=[],k={},c=c.createIterator(),h=0;(g=c.getNextRange())&&++h;){var d=g.getBoundaryNodes(),a=d.startNode,p=d.endNode;a.type==CKEDITOR.NODE_ELEMENT&&"td"==a.getName()&&g.setStartAt(d.startNode,CKEDITOR.POSITION_AFTER_START);p.type==CKEDITOR.NODE_ELEMENT&&"td"==p.getName()&&g.setEndAt(d.endNode,CKEDITOR.POSITION_BEFORE_END);g=g.createIterator();for(g.forceBrBreak=
this.state==CKEDITOR.TRISTATE_OFF;d=g.getNextParagraph();)if(!d.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(k,d,"list_block",1);for(var l=b.elementPath(d),a=l.elements,p=0,l=l.blockLimit,q,n=a.length-1;0<=n&&(q=a[n]);n--)if(v[q.getName()]&&l.contains(q)){l.removeCustomData("list_group_object_"+h);(a=q.getCustomData("list_group_object"))?a.contents.push(d):(a={root:q,contents:[d]},f.push(a),CKEDITOR.dom.element.setMarker(k,q,"list_group_object",a));p=1;break}p||(p=l,p.getCustomData("list_group_object_"+
h)?p.getCustomData("list_group_object_"+h).contents.push(d):(a={root:p,contents:[d]},CKEDITOR.dom.element.setMarker(k,p,"list_group_object_"+h,a),f.push(a)))}}for(q=[];0<f.length;)if(a=f.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(v[a.root.getName()]){c=b;h=a;a=k;g=q;p=CKEDITOR.plugins.list.listToArray(h.root,a);l=[];for(d=0;d<h.contents.length;d++)n=h.contents[d],(n=n.getAscendant("li",!0))&&!n.getCustomData("list_item_processed")&&(l.push(n),CKEDITOR.dom.element.setMarker(a,n,"list_item_processed",
!0));for(var n=h.root.getDocument(),t=void 0,r=void 0,d=0;d<l.length;d++){var y=l[d].getCustomData("listarray_index"),t=p[y].parent;t.is(this.type)||(r=n.createElement(this.type),t.copyAttributes(r,{start:1,type:1}),r.removeStyle("list-style-type"),p[y].parent=r)}a=CKEDITOR.plugins.list.arrayToList(p,a,null,c.config.enterMode);p=void 0;l=a.listNode.getChildCount();for(d=0;d<l&&(p=a.listNode.getChild(d));d++)p.getName()==this.type&&g.push(p);a.listNode.replace(h.root);c.fire("contentDomInvalidated")}else{p=
b;g=a;d=q;l=g.contents;c=g.root.getDocument();h=[];1==l.length&&l[0].equals(g.root)&&(a=c.createElement("div"),l[0].moveChildren&&l[0].moveChildren(a),l[0].append(a),l[0]=a);g=g.contents[0].getParent();for(n=0;n<l.length;n++)g=g.getCommonAncestor(l[n].getParent());t=p.config.useComputedState;p=a=void 0;t=void 0===t||t;for(n=0;n<l.length;n++)for(r=l[n];y=r.getParent();){if(y.equals(g)){h.push(r);!p&&r.getDirection()&&(p=1);r=r.getDirection(t);null!==a&&(a=a&&a!=r?null:r);break}r=y}if(!(1>h.length)){l=
h[h.length-1].getNext();n=c.createElement(this.type);d.push(n);for(t=d=void 0;h.length;)d=h.shift(),t=c.createElement("li"),r=d,r.is("pre")||L.test(r.getName())||"false"==r.getAttribute("contenteditable")?d.appendTo(t):(d.copyAttributes(t),a&&d.getDirection()&&(t.removeStyle("direction"),t.removeAttribute("dir")),d.moveChildren(t),d.remove()),t.appendTo(n);a&&p&&n.setAttribute("dir",a);l?n.insertBefore(l):n.appendTo(g)}}else this.state==CKEDITOR.TRISTATE_ON&&v[a.root.getName()]&&I.call(this,b,a,k);
for(n=0;n<q.length;n++)F(q[n]);CKEDITOR.dom.element.clearAllMarkers(k);e.selectBookmarks(m);b.focus()},refresh:function(b,m){var e=m.contains(v,1),c=m.blockLimit||m.root;e&&c.contains(e)?this.setState(e.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(b){b.blockless||(b.addCommand("numberedlist",new B("numberedlist","ol")),b.addCommand("bulletedlist",new B("bulletedlist","ul")),b.ui.addButton&&
(b.ui.addButton("NumberedList",{label:b.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),b.ui.addButton("BulletedList",{label:b.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),b.on("key",function(m){var e=m.data.domEvent.getKey(),c;if("wysiwyg"==b.mode&&e in{8:1,46:1}){var f=b.getSelection().getRanges()[0],g=f&&f.startPath();if(f&&f.collapsed){var k=8==e,h=b.editable(),d=new CKEDITOR.dom.walker(f.clone());d.evaluator=function(a){return u(a)&&
!z(a)};d.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};e=f.clone();if(k){var a;(a=g.contains(v))&&f.checkBoundaryOfElement(a,CKEDITOR.START)&&(a=a.getParent())&&a.is("li")&&(a=A(a))?(c=a,a=a.getPrevious(u),e.moveToPosition(a&&z(a)?a:c,CKEDITOR.POSITION_BEFORE_START)):(d.range.setStartAt(h,CKEDITOR.POSITION_AFTER_START),d.range.setEnd(f.startContainer,f.startOffset),(a=d.previous())&&a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in v||a.is("li"))&&(a.is("li")||(d.range.selectNodeContents(a),
d.reset(),d.evaluator=G,a=d.previous()),c=a,e.moveToElementEditEnd(c),e.moveToPosition(e.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(c)C(b,e,f),m.cancel();else{var p=g.contains(v);p&&f.checkBoundaryOfElement(p,CKEDITOR.START)&&(c=p.getFirst(u),f.checkBoundaryOfElement(c,CKEDITOR.START)&&(a=p.getPrevious(u),A(c)?a&&(f.moveToElementEditEnd(a),f.select()):b.execCommand("outdent"),m.cancel()))}}else if(c=g.contains("li")){if(d.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),k=(h=c.getLast(u))&&
G(h)?h:c,g=0,(a=d.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in v&&a.equals(h)?(g=1,a=d.next()):f.checkBoundaryOfElement(k,CKEDITOR.END)&&(g=2),g&&a){f=f.clone();f.moveToElementEditStart(a);if(1==g&&(e.optimize(),!e.startContainer.equals(c))){for(c=e.startContainer;c.is(CKEDITOR.dtd.$inline);)p=c,c=c.getParent();p&&e.moveToPosition(p,CKEDITOR.POSITION_AFTER_END)}2==g&&(e.moveToPosition(e.endPath().block,CKEDITOR.POSITION_BEFORE_END),f.endPath().block&&f.moveToPosition(f.endPath().block,CKEDITOR.POSITION_AFTER_START));
C(b,e,f);m.cancel()}}else d.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),(a=d.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(v)&&(a=a.getFirst(u),g.block&&f.checkStartOfBlock()&&f.checkEndOfBlock()?(g.block.remove(),f.moveToElementEditStart(a),f.select()):A(a)?(f.moveToElementEditStart(a),f.select()):(f=f.clone(),f.moveToElementEditStart(a),C(b,e,f)),m.cancel());setTimeout(function(){b.selectionChange(1)})}}}))}})})();(function(){function l(a,f,e){var h=CKEDITOR.cleanWord;h?e():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||f+"filter/default.js"),CKEDITOR.scriptLoader.load(a,e,null,!0));return!h}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){function f(a){var b=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,c,d=[];if(b&&a.editor.filter.check("img[src]")&&(c=b.extractTagsFromHtml(a.data.dataValue),0!==c.length&&(b=b.extractFromRtf(a.data.dataTransfer["text/rtf"]),
0!==b.length&&(CKEDITOR.tools.array.forEach(b,function(a){d.push(a.type?"data:"+a.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(a.hex)):null)},this),c.length===d.length))))for(b=0;b<c.length;b++)0===c[b].indexOf("file://")&&d[b]&&(a.data.dataValue=a.data.dataValue.replace(c[b],d[b]))}var e=0,h=this.path,m=void 0===a.config.pasteFromWord_inlineImages?!0:a.config.pasteFromWord_inlineImages;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(a,
b){e=1;a.execCommand("paste",{type:"html",notification:b&&"undefined"!==typeof b.notification?b.notification:!0})}});CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});a.on("paste",function(f){var b=f.data,c=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?b.dataTransfer.getData("text/html",!0):null,d=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?b.dataTransfer.getData("text/rtf"):null,c=c||
b.dataValue,g={dataValue:c,dataTransfer:{"text/rtf":d}},d=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,d=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(c)||d.test(c);if(c&&(e||d)&&(!1!==a.fire("pasteFromWord",g)||e)){b.dontFilter=!0;var k=l(a,h,function(){if(k)a.fire("paste",b);else if(!a.config.pasteFromWordPromptCleanup||e||confirm(a.lang.pastefromword.confirmCleanup))g.dataValue=CKEDITOR.cleanWord(g.dataValue,a),a.fire("afterPasteFromWord",
g),b.dataValue=g.dataValue,!0===a.config.forcePasteAsPlainText?b.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==a.config.forcePasteAsPlainText||(b.type="html");e=0});k&&f.cancel()}},null,null,3);if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&m)a.on("afterPasteFromWord",f)}})})();CKEDITOR.plugins.add("removeformat",{init:function(a){a.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton("RemoveFormat",{label:a.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}});
CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var h=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),f=CKEDITOR.plugins.removeformat.filter,m=a.getSelection().getRanges(),n=m.createIterator(),p=function(a){return a.type==CKEDITOR.NODE_ELEMENT},c;c=n.getNextRange();){c.collapsed||c.enlarge(CKEDITOR.ENLARGE_ELEMENT);
var l=c.createBookmark(),b=l.startNode,d=l.endNode,k=function(b){for(var c=a.elementPath(b),e=c.elements,d=1,g;(g=e[d])&&!g.equals(c.block)&&!g.equals(c.blockLimit);d++)h.test(g.getName())&&f(a,g)&&b.breakParent(g)};k(b);if(d)for(k(d),b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);b&&!b.equals(d);)if(b.isReadOnly()){if(b.getPosition(d)&CKEDITOR.POSITION_CONTAINS)break;b=b.getNext(p)}else k=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==b.getName()&&b.data("cke-realelement")||!f(a,b)||(h.test(b.getName())?
b.remove(1):(b.removeAttributes(e),a.fire("removeFormatCleanup",b))),b=k;c.moveToBookmark(l)}a.forceNextSelectionCheck();a.getSelection().selectRanges(m)}}},filter:function(a,h){for(var e=a._.removeFormatFilters||[],f=0;f<e.length;f++)if(!1===e[f](h))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)};CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var";
CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";(function(){function k(c){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(d){if(d.editable().hasFocus){var e=d.getSelection(),b;if(b=(new CKEDITOR.dom.elementPath(e.getCommonAncestor(),e.root)).contains({td:1,th:1},1)){var e=d.createRange(),a=CKEDITOR.tools.tryThese(function(){var a=b.getParent().$.cells[b.$.cellIndex+(c?-1:1)];a.parentNode.parentNode;return a},function(){var a=b.getParent(),a=a.getAscendant("table").$.rows[a.$.rowIndex+(c?-1:1)];return a.cells[c?a.cells.length-1:
0]});if(a||c)if(a)a=new CKEDITOR.dom.element(a),e.moveToElementEditStart(a),e.checkStartOfBlock()&&e.checkEndOfBlock()||e.selectNodeContents(a);else return!0;else{for(var f=b.getAscendant("table").$,a=b.getParent().$.cells,f=new CKEDITOR.dom.element(f.insertRow(-1),d.document),g=0,h=a.length;g<h;g++)f.append((new CKEDITOR.dom.element(a[g],d.document)).clone(!1,!1)).appendBogus();e.moveToElementEditStart(f)}e.select(!0);return!0}}return!1}}}var h={editorFocus:!1,modes:{wysiwyg:1,source:1}},g={exec:function(c){c.container.focusNext(!0,
c.tabIndex)}},f={exec:function(c){c.container.focusPrevious(!0,c.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(c){for(var d=!1!==c.config.enableTabKeyTools,e=c.config.tabSpaces||0,b="";e--;)b+="Â ";if(b)c.on("key",function(a){9==a.data.keyCode&&(c.insertText(b),a.cancel())});if(d)c.on("key",function(a){(9==a.data.keyCode&&c.execCommand("selectNextCell")||a.data.keyCode==CKEDITOR.SHIFT+9&&c.execCommand("selectPreviousCell"))&&a.cancel()});c.addCommand("blur",CKEDITOR.tools.extend(g,h));c.addCommand("blurBack",
CKEDITOR.tools.extend(f,h));c.addCommand("selectNextCell",k());c.addCommand("selectPreviousCell",k(!0))}})})();
CKEDITOR.dom.element.prototype.focusNext=function(k,h){var g=void 0===h?this.getTabIndex():h,f,c,d,e,b,a;if(0>=g)for(b=this.getNextSourceNode(k,CKEDITOR.NODE_ELEMENT);b;){if(b.isVisible()&&0===b.getTabIndex()){d=b;break}b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(b=this.getDocument().getBody().getFirst();b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&b.equals(this)){if(c=!0,k){if(!(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(b)&&
(f=1);if(b.isVisible()&&!(0>(a=b.getTabIndex()))){if(f&&a==g){d=b;break}a>g&&(!d||!e||a<e)?(d=b,e=a):d||0!==a||(d=b,e=a)}}d&&d.focus()};
CKEDITOR.dom.element.prototype.focusPrevious=function(k,h){for(var g=void 0===h?this.getTabIndex():h,f,c,d,e=0,b,a=this.getDocument().getBody().getLast();a=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&a.equals(this)){if(c=!0,k){if(!(a=a.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(a)&&(f=1);if(a.isVisible()&&!(0>(b=a.getTabIndex())))if(0>=g){if(f&&0===b){d=a;break}b>e&&(d=a,e=b)}else{if(f&&b==g){d=a;break}b<g&&(!d||b>e)&&(d=a,e=b)}}d&&d.focus()};(function(){var g=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(a){function b(a){d.enabled&&!1!==a.data.command.canUndo&&d.save()}function c(){d.enabled=a.readOnly?!1:"wysiwyg"==a.mode;d.onChange()}var d=a.undoManager=new e(a),l=d.editingHandler=new k(d),f=a.addCommand("undo",{exec:function(){d.undo()&&(a.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),h=a.addCommand("redo",{exec:function(){d.redo()&&
(a.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});a.setKeystroke([[g[0],"undo"],[g[1],"redo"],[g[2],"redo"]]);d.onChange=function(){f.setState(d.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h.setState(d.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};a.on("beforeCommandExec",b);a.on("afterCommandExec",b);a.on("saveSnapshot",function(a){d.save(a.data&&a.data.contentOnly)});a.on("contentDom",l.attachListeners,l);a.on("instanceReady",function(){a.fire("saveSnapshot")});
a.on("beforeModeUnload",function(){"wysiwyg"==a.mode&&d.save(!0)});a.on("mode",c);a.on("readOnly",c);a.ui.addButton&&(a.ui.addButton("Undo",{label:a.lang.undo.undo,command:"undo",toolbar:"undo,10"}),a.ui.addButton("Redo",{label:a.lang.undo.redo,command:"redo",toolbar:"undo,20"}));a.resetUndo=function(){d.reset();a.fire("saveSnapshot")};a.on("updateSnapshot",function(){d.currentImage&&d.update()});a.on("lockSnapshot",function(a){a=a.data;d.lock(a&&a.dontUpdate,a&&a.forceUpdate)});a.on("unlockSnapshot",
d.unlock,d)}});CKEDITOR.plugins.undo={};var e=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};e.prototype={type:function(a,b){var c=e.getKeyGroup(a),d=this.strokesRecorded[c]+1;b=b||d>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());b?(d=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[c]=
d;this.previousKeyGroup=c},keyGroupChanged:function(a){return e.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,c){var d=this.editor;if(this.locked||
"ready"!=d.status||"wysiwyg"!=d.mode)return!1;var e=d.editable();if(!e||"ready"!=e.status)return!1;e=this.snapshots;b||(b=new f(d));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==c&&d.fire("change");e.splice(this.index+1,e.length-this.index-1);e.length==this.limit&&e.shift();this.index=e.push(b)-1;this.currentImage=b;!1!==c&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,
c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire("change")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=
d,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||
(a=new f(this.editor));for(var b=this.index,c=this.snapshots;0<b&&this.currentImage.equalsContent(c[b-1]);)--b;c.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var c=null;if(b)c=!0;else{var d=new f(this.editor,
!0);this.currentImage&&this.currentImage.equalsContent(d)&&(c=d)}this.locked={update:c,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new f(this.editor,!0);a.equalsContent(b)||this.update()}}}};e.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};e.keyGroups={PRINTABLE:0,FUNCTIONAL:1};e.isNavigationKey=function(a){return!!e.navigationKeyCodes[a]};e.getKeyGroup=function(a){var b=e.keyGroups;
return n[a]?b.FUNCTIONAL:b.PRINTABLE};e.getOppositeKeyGroup=function(a){var b=e.keyGroups;return a==b.FUNCTIONAL?b.PRINTABLE:b.FUNCTIONAL};e.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&e.getKeyGroup(a)==e.keyGroups.FUNCTIONAL};var f=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire("beforeUndoImage");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\s+data-cke-expando=".*?"/g,""));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire("afterUndoImage")},
h=/\b(?:href|src|name)="[^"]*?"/gi;f.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(h,""),a=a.replace(h,""));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,
e.end))return!1}}return!0}};var k=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new m;this.lastKeydownImage=null};k.prototype={onKeydown:function(a){var b=a.data.getKey();if(229!==b)if(-1<CKEDITOR.tools.indexOf(g,a.data.getKeystroke()))a.data.preventDefault();else if(this.keyEventsStack.cleanUp(a),a=this.undoManager,this.keyEventsStack.getLast(b)||this.keyEventsStack.push(b),this.lastKeydownImage=new f(a.editor),e.isNavigationKey(b)||
this.undoManager.keyGroupChanged(b))if(a.strokesRecorded[0]||a.strokesRecorded[1])a.save(!1,this.lastKeydownImage,!1),a.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var b=this.undoManager;
a=a.data.getKey();var c=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(e.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new f(b.editor,!0))))if(0<c)b.type(a);else if(e.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new f(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=
!1},attachListeners:function(){var a=this.undoManager.editor,b=a.editable(),c=this;b.attachListener(b,"keydown",function(a){c.onKeydown(a);if(e.ieFunctionalKeysBug(a.data.getKey()))c.onInput()},null,null,999);b.attachListener(b,CKEDITOR.env.ie?"keypress":"input",c.onInput,c,null,999);b.attachListener(b,"keyup",c.onKeyup,c,null,999);b.attachListener(b,"paste",c.ignoreInputEventListener,c,null,999);b.attachListener(b,"drop",c.ignoreInputEventListener,c,null,999);a.on("afterPaste",c.activateInputEventListener,
c,null,999);b.attachListener(b.isInline()?b:a.document.getDocumentElement(),"click",function(){c.onNavigationKey()},null,null,999);b.attachListener(this.undoManager.editor,"blur",function(){c.keyEventsStack.remove(9)},null,null,999)}};var m=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};m.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if("number"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==
a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if("number"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);
a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}})();(function(){function m(a,d){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},d,!0);this.inline=this.editable.isInline();this.inline||(this.frame=this.win.getFrame());this.target=this[this.inline?"editable":"doc"]}function n(a,d){CKEDITOR.tools.extend(this,d,{editor:a},!0)}function p(a,d){var b=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:b,inline:b.isInline(),doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},
d,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();var c=CKEDITOR.tools.bind(this.queryViewport,this),e=CKEDITOR.tools.bind(this.hideVisible,this),g=CKEDITOR.tools.bind(this.removeAll,this);b.attachListener(this.winTop,"resize",c);b.attachListener(this.winTop,"scroll",c);b.attachListener(this.winTop,"resize",e);b.attachListener(this.win,"scroll",e);b.attachListener(this.inline?b:this.frame,"mouseout",function(a){var b=a.data.$.clientX;a=a.data.$.clientY;
this.queryViewport();(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this);b.attachListener(a,"resize",c);b.attachListener(a,"mode",g);a.on("destroy",g);this.lineTpl=(new CKEDITOR.template('\x3cdiv data-cke-lineutils-line\x3d"1" class\x3d"cke_reset_all" style\x3d"{lineStyle}"\x3e\x3cspan style\x3d"{tipLeftStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3cspan style\x3d"{tipRightStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},
t,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function l(a){var d;if(d=a&&a.type==CKEDITOR.NODE_ELEMENT)d=!(r[a.getComputedStyle("float")]||r[a.getAttribute("align")]);return d&&
!u[a.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;m.prototype={start:function(a){var d=this,b=this.editor,c=this.doc,e,g,f,h,k=CKEDITOR.tools.eventsBuffer(50,function(){b.readOnly||"wysiwyg"!=b.mode||(d.relations={},(g=c.$.elementFromPoint(f,h))&&g.nodeType&&(e=new CKEDITOR.dom.element(g),d.traverseSearch(e),isNaN(f+h)||d.pixelSearch(e,f,h),a&&a(d.relations,f,h)))});this.listener=this.editable.attachListener(this.target,
"mousemove",function(a){f=a.data.$.clientX;h=a.data.$.clientY;k.input()});this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){k.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var a={};a[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;a[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;a[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(d){var b=this.editor.createRange();b.moveToPosition(this.relations[d.uid].element,
a[d.type]);return b}}(),store:function(){function a(a,b,c){var e=a.getUniqueId();e in c?c[e].type|=b:c[e]={element:a,type:b}}return function(d,b){var c;b&CKEDITOR.LINEUTILS_AFTER&&l(c=d.getNext())&&c.isVisible()&&(a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_AFTER);b&CKEDITOR.LINEUTILS_INSIDE&&l(c=d.getFirst())&&c.isVisible()&&(a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_INSIDE);a(d,b,this.relations)}}(),traverseSearch:function(a){var d,b,c;do if(c=a.$["data-cke-expando"],
!(c&&c in this.relations)){if(a.equals(this.editable))break;if(l(a))for(d in this.lookups)(b=this.lookups[d](a))&&this.store(a,b)}while((!a||a.type!=CKEDITOR.NODE_ELEMENT||"true"!=a.getAttribute("contenteditable"))&&(a=a.getParent()))},pixelSearch:function(){function a(a,c,e,g,f){for(var h=0,k;f(e);){e+=g;if(25==++h)break;if(k=this.doc.$.elementFromPoint(c,e))if(k==a)h=0;else if(d(a,k)&&(h=0,l(k=new CKEDITOR.dom.element(k))))return k}}var d=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,c){return a.contains(c)}:
function(a,c){return!!(a.compareDocumentPosition(c)&16)};return function(b,c,d){var g=this.win.getViewPaneSize().height,f=a.call(this,b.$,c,d,-1,function(a){return 0<a});c=a.call(this,b.$,c,d,1,function(a){return a<g});if(f)for(this.traverseSearch(f);!f.getParent().equals(b);)f=f.getParent();if(c)for(this.traverseSearch(c);!c.getParent().equals(b);)c=c.getParent();for(;f||c;){f&&(f=f.getNext(l));if(!f||f.equals(c))break;this.traverseSearch(f);c&&(c=c.getPrevious(l));if(!c||c.equals(f))break;this.traverseSearch(c)}}}(),
greedySearch:function(){this.relations={};for(var a=this.editable.getElementsByTag("*"),d=0,b,c,e;b=a.getItem(d++);)if(!b.equals(this.editable)&&b.type==CKEDITOR.NODE_ELEMENT&&(b.hasAttribute("contenteditable")||!b.isReadOnly())&&l(b)&&b.isVisible())for(e in this.lookups)(c=this.lookups[e](b))&&this.store(b,c);return this.relations}};n.prototype={locate:function(){function a(a,b){var c=a.element[b===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return c&&l(c)?(a.siblingRect=c.getClientRect(),
b==CKEDITOR.LINEUTILS_BEFORE?(a.siblingRect.bottom+a.elementRect.top)/2:(a.elementRect.bottom+a.siblingRect.top)/2):b==CKEDITOR.LINEUTILS_BEFORE?a.elementRect.top:a.elementRect.bottom}return function(d){var b;this.locations={};for(var c in d)b=d[c],b.elementRect=b.element.getClientRect(),b.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(c,CKEDITOR.LINEUTILS_BEFORE,a(b,CKEDITOR.LINEUTILS_BEFORE)),b.type&CKEDITOR.LINEUTILS_AFTER&&this.store(c,CKEDITOR.LINEUTILS_AFTER,a(b,CKEDITOR.LINEUTILS_AFTER)),b.type&
CKEDITOR.LINEUTILS_INSIDE&&this.store(c,CKEDITOR.LINEUTILS_INSIDE,(b.elementRect.top+b.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,d,b,c;return function(e,g){a=this.locations;d=[];for(var f in a)for(var h in a[f])if(b=Math.abs(e-a[f][h]),d.length){for(c=0;c<d.length;c++)if(b<d[c].dist){d.splice(c,0,{uid:+f,type:h,dist:b});break}c==d.length&&d.push({uid:+f,type:h,dist:b})}else d.push({uid:+f,type:h,dist:b});return"undefined"!=typeof g?d.slice(0,g):d}}(),store:function(a,
d,b){this.locations[a]||(this.locations[a]={});this.locations[a][d]=b}};var q={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},t={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};p.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),delete this.visible[a]},hideLine:function(a){var d=a.getUniqueId();
a.hide();this.hidden[d]=a;delete this.visible[d]},showLine:function(a){var d=a.getUniqueId();a.show();this.visible[d]=a;delete this.hidden[d]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,d){var b,c,e;if(b=this.getStyle(a.uid,a.type)){for(e in this.visible)if(this.visible[e].getCustomData("hash")!==this.hash){c=this.visible[e];break}if(!c)for(e in this.hidden)if(this.hidden[e].getCustomData("hash")!==this.hash){this.showLine(c=this.hidden[e]);
break}c||this.showLine(c=this.addLine());c.setCustomData("hash",this.hash);this.visible[c.getUniqueId()]=c;c.setStyles(b);d&&d(c)}},getStyle:function(a,d){var b=this.relations[a],c=this.locations[a][d],e={};e.width=b.siblingRect?Math.max(b.siblingRect.width,b.elementRect.width):b.elementRect.width;e.top=this.inline?c+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+c;if(e.top-this.winTopScroll.y<this.rect.top||e.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?
e.left=b.elementRect.left-this.rect.relativeX:(0<b.elementRect.left?e.left=this.rect.left+b.elementRect.left:(e.width+=b.elementRect.left,e.left=this.rect.left),0<(b=e.left+e.width-(this.rect.left+this.winPane.width))&&(e.width-=b));e.left+=this.winTopScroll.x;for(var g in e)e[g]=CKEDITOR.tools.cssLength(e[g]);return e},addLine:function(){var a=CKEDITOR.dom.element.createFromHtml(this.lineTpl);a.appendTo(this.container);return a},prepare:function(a,d){this.relations=a;this.locations=d;this.hash=Math.random()},
cleanup:function(){var a,d;for(d in this.visible)a=this.visible[d],a.getCustomData("hash")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(a){a=a.getClientRect();var d=this.container.getDocumentPosition(),b=this.container.getComputedStyle("position");a.relativeX=a.relativeY=
0;"static"!=b&&(a.relativeY=d.y,a.relativeX=d.x,a.top-=a.relativeY,a.bottom-=a.relativeY,a.left-=a.relativeX,a.right-=a.relativeX);return a}};var r={left:1,right:1,center:1},u={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:m,locator:n,liner:p}})();(function(){function e(a){return a.getName&&!a.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(a){if(CKEDITOR.env.webkit){var b=CKEDITOR.plugins.widgetselection;a.on("contentDom",function(a){a=a.editor;var c=a.editable();c.attachListener(c,"keydown",function(a){a.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){b.addFillers(c)||b.removeFillers(c)},0)},null,null,-1);a.on("selectionCheck",function(a){b.removeFillers(a.editor.editable())});
a.on("paste",function(a){a.data.dataValue=b.cleanPasteData(a.data.dataValue)});"selectall"in a.plugins&&b.addSelectAllIntegration(a)})}}});CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"\x26nbsp;",fillerTagName:"div",addFillers:function(a){var b=a.editor;if(!this.isWholeContentSelected(a)&&0<a.getChildCount()){var d=a.getFirst(e),c=a.getLast(e);d&&d.type==CKEDITOR.NODE_ELEMENT&&!d.isEditable()&&(this.startFiller=this.createFiller(),
a.append(this.startFiller,1));c&&c.type==CKEDITOR.NODE_ELEMENT&&!c.isEditable()&&(this.endFiller=this.createFiller(!0),a.append(this.endFiller,0));if(this.hasFiller(a))return b=b.createRange(),b.selectNodeContents(a),b.select(),!0}return!1},removeFillers:function(a){if(this.hasFiller(a)&&!this.isWholeContentSelected(a)){var b=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dstart]"),d=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dend]");this.startFiller&&b&&this.startFiller.equals(b)?
this.removeFiller(this.startFiller,a):this.startFiller=b;this.endFiller&&d&&this.endFiller.equals(d)?this.removeFiller(this.endFiller,a):this.endFiller=d}},cleanPasteData:function(a){a&&a.length&&(a=a.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),""));return a},isWholeContentSelected:function(a){var b=a.editor.getSelection().getRanges()[0];return!b||b&&b.collapsed?!1:(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(b&&a&&b.startContainer&&b.endContainer&&0===b.startOffset&&
b.endOffset===a.getChildCount()&&b.startContainer.equals(a)&&b.endContainer.equals(a)))},hasFiller:function(a){return 0<a.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(a){var b=new CKEDITOR.dom.element(this.fillerTagName);b.setHtml(this.fillerContent);b.setAttribute(this.fillerAttribute,a?"end":"start");b.setAttribute("data-cke-temp",1);b.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,
overflow:"hidden"});return b},removeFiller:function(a,b){if(a){var d=b.editor,c=b.editor.getSelection().getRanges()[0].startPath(),f=d.createRange(),g,e;c.contains(a)&&(g=a.getHtml(),e=!0);c="start"==a.getAttribute(this.fillerAttribute);a.remove();g&&0<g.length&&g!=this.fillerContent?(b.insertHtmlIntoRange(g,d.getSelection().getRanges()[0]),f.setStartAt(b.getChild(b.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),d.getSelection().selectRanges([f])):e&&(c?f.setStartAt(b.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):
f.setEndAt(b.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),b.editor.getSelection().selectRanges([f]))}},createFillerRegex:function(a){var b=this.createFiller(a).getOuterHtml().replace(/style="[^"]*"/gi,'style\x3d"[^"]*"').replace(/>[^<]*</gi,"\x3e[^\x3c]*\x3c");return new RegExp((a?"":"^")+b+(a?"$":""))},addSelectAllIntegration:function(a){var b=this;a.editable().attachListener(a,"beforeCommandExec",function(d){var c=a.editable();"selectAll"==d.data.name&&c&&b.addFillers(c)},null,null,9999)}}})();(function(){function p(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};I(this);J(this);this.on("checkWidgets",K);this.editor.on("contentDomInvalidated",this.checkWidgets,this);L(this);M(this);N(this);O(this);P(this)}function g(a,b,c,d,e){var f=a.editor;CKEDITOR.tools.extend(this,d,{editor:f,id:b,inline:"span"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},
"function"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:g.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&"string"==typeof d.downcast?d.downcasts[d.downcast]:d.downcast}},!0);a.fire("instanceCreated",this);Q(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(a)));e&&this.setData(e);this.data.classes||this.setData("classes",
this.getClasses());this.dataReady=!0;r(this);this.fire("data",this.data);this.isInited()&&f.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function q(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;this._={};b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function R(a,
b){a.addCommand(b.name,{exec:function(a,d){function e(){a.widgets.finalizeCreation(k)}var f=a.widgets.focused;if(f&&f.name==b.name)f.edit();else if(b.insert)b.insert({editor:a,commandData:d});else if(b.template){var f="function"==typeof b.defaults?b.defaults():b.defaults,f=CKEDITOR.dom.element.createFromHtml(b.template.output(f)),h,l=a.widgets.wrapElement(f,b.name),k=new CKEDITOR.dom.documentFragment(l.getDocument());k.append(l);(h=a.widgets.initOn(f,b,d&&d.startupData))?(f=h.once("edit",function(b){if(b.data.dialog)h.once("dialog",
function(b){b=b.data;var d,f;d=b.once("ok",e,null,null,20);f=b.once("cancel",function(b){b.data&&!1===b.data.hide||a.widgets.destroy(h,!0)});b.once("hide",function(){d.removeListener();f.removeListener()})});else e()},null,null,999),h.edit(),f.removeListener()):e()}},allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function S(a,b){function c(a,c){var d=b.upcast.split(","),e,f;for(f=0;f<d.length;f++)if(e=
d[f],e===a.name)return b.upcasts[e].call(this,a,c);return!1}function d(b,d,c){var e=CKEDITOR.tools.getIndex(a._.upcasts,function(a){return a[2]>c});0>e&&(e=a._.upcasts.length);a._.upcasts.splice(e,0,[CKEDITOR.tools.bind(b,d),d.name,c])}var e=b.upcast,f=b.upcastPriority||10;e&&("string"==typeof e?d(c,b,f):d(e,b,f))}function t(a,b){a.focused=null;if(b.isInited()){var c=b.editor.checkDirty();a.fire("widgetBlurred",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}function K(a){a=a.data;if("wysiwyg"==
this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e,f,h;if(b){for(d in c)c[d].isReady()&&!b.contains(c[d].wrapper)&&this.destroy(c[d],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var l=b.find(".cke_widget_wrapper"),c=[];d=0;for(e=l.count();d<e;d++){f=l.getItem(d);if(h=!this.getByElement(f,!0)){a:{h=T;for(var k=f;k=k.getParent();)if(h(k)){h=!0;break a}h=!1}h=!h}h&&b.contains(f)&&(f.addClass("cke_widget_new"),c.push(this.initOn(f.getFirst(g.isDomWidgetElement))))}}a&&a.focusInited&&
1==c.length&&c[0].focus()}}}function u(a){if("undefined"!=typeof a.attributes&&a.attributes["data-widget"]){var b=v(a),c=w(a),d=!1;b&&b.value&&b.value.match(/^\s/g)&&(b.parent.attributes["data-cke-white-space-first"]=1,b.value=b.value.replace(/^\s/g,"\x26nbsp;"),d=!0);c&&c.value&&c.value.match(/\s$/g)&&(c.parent.attributes["data-cke-white-space-last"]=1,c.value=c.value.replace(/\s$/g,"\x26nbsp;"),d=!0);d&&(a.attributes["data-cke-widget-white-space"]=1)}}function v(a){return a.find(function(a){return 3===
a.type},!0).shift()}function w(a){return a.find(function(a){return 3===a.type},!0).pop()}function x(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=this._.filters[a];d||(this._.filters[a]=d={});a=d[b];a||(a=c.allowedContent?new CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));return a}function U(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var f,h,l,k,m;if("data-cke-widget-wrapper"in
a.attributes)return(a=a.getFirst(g.isParserWidgetElement))&&b.push([a]),!1;if("data-widget"in a.attributes)return b.push([a]),!1;if(m=c.length){if(a.attributes["data-cke-widget-upcasted"])return!1;k=0;for(f=d.length;k<f;++k)if(!1===d[k](a))return;for(k=0;k<m;++k)if(f=c[k],l={},h=f[0](a,l))return h instanceof CKEDITOR.htmlParser.element&&(a=h),a.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(l)),a.attributes["data-cke-widget-upcasted"]=1,b.push([a,f[1]]),!1}}}}function y(a,b){return{tabindex:-1,
contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(a?"inline":"block")+(b?" cke_widget_"+b:"")}}function z(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||d.remove();return z(e,b,c)}}a.add(c,b)}function A(a,b){return"boolean"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function T(a){return a.hasAttribute("data-cke-temp")}
function n(a,b,c,d){var e=a.editor;e.fire("lockSnapshot");c?(d=c.data("cke-widget-editable"),d=b.editables[d],a.widgetHoldingFocusedEditable=b,b.focusedEditable=d,c.addClass("cke_widget_editable_focused"),d.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass("cke_widget_editable_focused"),b.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire("unlockSnapshot")}
function V(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire("contextMenu",{})})}function W(a,b){return CKEDITOR.tools.trim(b)}function O(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on("dragstart",function(d){var c=d.data.target;g.isDomDragHandler(c)&&(c=a.getByElement(c),d.data.dataTransfer.setData("cke/widget-id",c.id),b.focus(),c.focus())});b.on("drop",function(c){var e=c.data.dataTransfer,f=e.getData("cke/widget-id"),h=e.getTransferType(b),
e=b.createRange();""!==f&&h===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c.cancel():""!==f&&h==CKEDITOR.DATA_TRANSFER_INTERNAL&&(f=a.instances[f])&&(e.setStartBefore(f.wrapper),e.setEndAfter(f.wrapper),c.data.dragRange=e,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData("text/html",b.editable().getHtmlFromRange(e).getHtml()),b.widgets.destroy(f,!0))});b.on("contentDom",function(){var d=b.editable();CKEDITOR.tools.extend(a,
{finder:new c.finder(b,{lookups:{"default":function(b){if(!b.is(CKEDITOR.dtd.$listItem)&&b.is(CKEDITOR.dtd.$block)&&!g.isDomNestedEditable(b)&&!a._.draggedWidget.wrapper.contains(b)){var c=g.getNestedEditable(d,b);if(c){b=a._.draggedWidget;if(a.getByElement(c)==b)return;c=CKEDITOR.filter.instances[c.data("cke-filter")];b=b.requiredContent;if(c&&b&&!c.check(b))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:"move !important",
"border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function M(a){var b=a.editor;b.on("contentDom",function(){var c=b.editable(),d=c.isInline()?c:b.document,e,f;c.attachListener(d,"mousedown",function(c){var d=c.data.getTarget();e=d instanceof CKEDITOR.dom.element?a.getByElement(d):null;f=0;e&&(e.inline&&d.type==CKEDITOR.NODE_ELEMENT&&d.hasAttribute("data-cke-widget-drag-handler")?(f=1,a.focused!=e&&b.getSelection().removeAllRanges()):
g.getNestedEditable(e.wrapper,d)?e=null:(c.data.preventDefault(),CKEDITOR.env.ie||e.focus()))});c.attachListener(d,"mouseup",function(){f&&e&&e.wrapper&&(f=0,e.focus())});CKEDITOR.env.ie&&c.attachListener(d,"mouseup",function(){setTimeout(function(){e&&e.wrapper&&c.contains(e.wrapper)&&(e.focus(),e=null)})})});b.on("doubleclick",function(b){var d=a.getByElement(b.data.element);if(d&&!g.getNestedEditable(d.wrapper,b.data.element))return d.fire("doubleclick",{element:b.data.element})},null,null,1)}
function N(a){a.editor.on("key",function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire("key",{keyCode:b.data.keyCode}):d&&(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),d=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?"START":"END"]))):e=void 0);return e},null,
null,1)}function P(a){function b(b){a.focused&&B(a.focused,"cut"==b.name)}var c=a.editor;c.on("contentDom",function(){var a=c.editable();a.attachListener(a,"copy",b);a.attachListener(a,"cut",b)})}function L(a){var b=a.editor;b.on("selectionCheck",function(){a.fire("checkSelection")});a.on("checkSelection",a.checkSelection,a);b.on("selectionChange",function(c){var d=(c=g.getNestedEditable(b.editable(),c.data.selection.getStartElement()))&&a.getByElement(c),e=a.widgetHoldingFocusedEditable;e?e===d&&
e.focusedEditable.equals(c)||(n(a,e,null),d&&c&&n(a,d,c)):d&&c&&n(a,d,c)});b.on("dataReady",function(){C(a).commit()});b.on("blur",function(){var b;(b=a.focused)&&t(a,b);(b=a.widgetHoldingFocusedEditable)&&n(a,b,null)})}function J(a){var b=a.editor,c={};b.on("toDataFormat",function(b){var e=CKEDITOR.tools.getNextNumber(),f=[];b.data.downcastingSessionId=e;c[e]=f;b.data.dataValue.forEach(function(b){var c=b.attributes,d;if("data-cke-widget-white-space"in c){d=v(b);var e=w(b);d.parent.attributes["data-cke-white-space-first"]&&
(d.value=d.value.replace(/^&nbsp;/g," "));e.parent.attributes["data-cke-white-space-last"]&&(e.value=e.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in c){if(c=a.instances[c["data-cke-widget-id"]])d=b.getFirst(g.isParserWidgetElement),f.push({wrapper:b,element:d,widget:c,editables:{}}),"1"!=d.attributes["data-cke-widget-keep-attr"]&&delete d.attributes["data-widget"]}else if("data-cke-widget-editable"in c)return f[f.length-1].editables[c["data-cke-widget-editable"]]=b,!1},CKEDITOR.NODE_ELEMENT,
!0)},null,null,8);b.on("toDataFormat",function(a){if(a.data.downcastingSessionId){a=c[a.data.downcastingSessionId];for(var b,f,h,l,g,m;b=a.shift();){f=b.widget;h=b.element;l=f._.downcastFn&&f._.downcastFn.call(f,h);for(m in b.editables)g=b.editables[m],delete g.attributes.contenteditable,g.setHtml(f.editables[m].getData());l||(l=h);b.wrapper.replaceWith(l)}}},null,null,13);b.on("contentDomUnload",function(){a.destroyAll(!0)})}function I(a){var b=a.editor,c,d;b.on("toHtml",function(b){var d=U(a),h;
for(b.data.dataValue.forEach(d.iterator,CKEDITOR.NODE_ELEMENT,!0);h=d.toBeWrapped.pop();){var l=h[0],k=l.parent;k.type==CKEDITOR.NODE_ELEMENT&&k.attributes["data-cke-widget-wrapper"]&&k.replaceWith(l);a.wrapElement(h[0],h[1])}c=b.data.protectedWhitespaces?3==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[1]):1==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[0])},null,null,8);b.on("dataReady",function(){if(d)for(var c=b.editable().find(".cke_widget_wrapper"),
f,h,l=0,k=c.count();l<k;++l)f=c.getItem(l),h=f.getFirst(g.isDomWidgetElement),h.type==CKEDITOR.NODE_ELEMENT&&h.data("widget")?(h.replace(f),a.wrapElement(h)):f.remove();d=0;a.destroyAll(!0);a.initOnAll()});b.on("loadSnapshot",function(b){/data-cke-widget/.test(b.data)&&(d=1);a.destroyAll(!0)},null,null,9);b.on("paste",function(a){a=a.data;a.dataValue=a.dataValue.replace(X,W);a.range&&(a=g.getNestedEditable(b.editable(),a.range.startContainer))&&(a=CKEDITOR.filter.instances[a.data("cke-filter")])&&
b.setActiveFilter(a)});b.on("afterInsertHtml",function(d){d.data.intoRange?a.checkWidgets({initOnlyNew:!0}):(b.fire("lockSnapshot"),a.checkWidgets({initOnlyNew:!0,focusInited:c}),b.fire("unlockSnapshot"))})}function C(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},commit:function(){var f=a.focused!==e,h,g;a.editor.fire("lockSnapshot");for(f&&
(h=a.focused)&&t(a,h);h=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,h),1),h.isInited()&&(g=h.editor.checkDirty(),h.setSelected(!1),!g&&h.editor.resetDirty());f&&e&&(g=a.editor.checkDirty(),a.focused=e,a.fire("widgetFocused",{widget:e}),e.setFocused(!0),!g&&a.editor.resetDirty());for(;h=c.pop();)b.push(h),h.setSelected(!0);a.editor.fire("unlockSnapshot")}}}function D(a,b,c){var d=0;b=E(b);var e=a.data.classes||{},f;if(b){for(e=CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],
d=1);d&&a.setData("classes",e)}}function F(a){a.cancel()}function B(a,b){var c=a.editor,d=c.document,e=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!d.getById("cke_copybin")){var f=!c.blockless&&!CKEDITOR.env.ie||e?"div":"span",e=d.createElement(f),h=d.createElement(f),f=CKEDITOR.env.ie&&9>CKEDITOR.env.version;h.setAttributes({id:"cke_copybin","data-cke-temp":"1"});e.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"});e.setStyle("ltr"==c.config.contentsLangDirection?"left":
"right","-5000px");var g=c.createRange();g.setStartBefore(a.wrapper);g.setEndAfter(a.wrapper);e.setHtml('\x3cspan data-cke-copybin-start\x3d"1"\x3eâ\x3c/span\x3e'+c.editable().getHtmlFromRange(g).getHtml()+'\x3cspan data-cke-copybin-end\x3d"1"\x3eâ\x3c/span\x3e');c.fire("saveSnapshot");c.fire("lockSnapshot");h.append(e);c.editable().append(h);var k=c.on("selectionChange",F,null,null,0),m=a.repository.on("checkSelection",F,null,null,0);if(f)var n=d.getDocumentElement().$,p=n.scrollTop;g=c.createRange();
g.selectNodeContents(e);g.select();f&&(n.scrollTop=p);setTimeout(function(){b||a.focus();h.remove();k.removeListener();m.removeListener();c.fire("unlockSnapshot");b&&!c.readOnly&&(a.repository.del(a),c.fire("saveSnapshot"))},100)}}function E(a){return(a=(a=a.getDefinition().attributes)&&a["class"])?a.split(/\s+/):null}function G(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}function H(){CKEDITOR.env.gecko&&
this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function Y(a){var b=null;a.on("data",function(){var a=this.data.classes,d;if(b!=a){for(d in b)a&&a[d]||this.removeClass(d);for(d in a)this.addClass(d);b=a}})}function Z(a){a.on("data",function(){if(a.wrapper){var b=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());a.wrapper.setAttribute("role","region");a.wrapper.setAttribute("aria-label",
b)}},null,null,9999)}function aa(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(g.isDomDragHandlerContainer),d;c?d=c.findOne("img"):(c=new CKEDITOR.dom.element("span",b.document),c.setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+b.plugins.widget.path+"images/handle.png)"}),d=new CKEDITOR.dom.element("img",b.document),d.setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",
src:CKEDITOR.tools.transparentImageData,width:15,title:b.lang.widget.move,height:15,role:"presentation"}),a.inline&&d.setAttribute("draggable","true"),c.append(d),a.wrapper.append(c));a.wrapper.on("dragover",function(a){a.data.preventDefault()});a.wrapper.on("mouseenter",a.updateDragHandlerPosition,a);setTimeout(function(){a.on("data",a.updateDragHandlerPosition,a)},50);if(!a.inline&&(d.on("mousedown",ba,a),CKEDITOR.env.ie&&9>CKEDITOR.env.version))d.on("dragstart",function(a){a.data.preventDefault(!0)});
a.dragHandlerContainer=c}}function ba(a){function b(){var b;for(q.reset();b=g.pop();)b.removeListener();var c=k;b=a.sender;var d=this.repository.finder,e=this.repository.liner,f=this.editor,h=this.editor.editable();CKEDITOR.tools.isEmpty(e.visible)||(c=d.getRange(c[0]),this.focus(),f.fire("drop",{dropRange:c,target:c.startContainer}));h.removeClass("cke_widget_dragging");e.hideVisible();f.fire("dragend",{target:b})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var c=this.repository.finder,
d=this.repository.locator,e=this.repository.liner,f=this.editor,h=f.editable(),g=[],k=[],m,n;this.repository._.draggedWidget=this;var p=c.greedySearch(),q=CKEDITOR.tools.eventsBuffer(50,function(){m=d.locate(p);k=d.sort(n,1);k.length&&(e.prepare(p,m),e.placeLine(k[0]),e.cleanup())});h.addClass("cke_widget_dragging");g.push(h.on("mousemove",function(a){n=a.data.$.clientY;q.input()}));f.fire("dragstart",{target:a.sender});g.push(f.document.once("mouseup",b,this));h.isInline()||g.push(CKEDITOR.document.once("mouseup",
b,this))}}function ca(a){var b,c,d=a.editables;a.editables={};if(a.editables)for(b in d)c=d[b],a.initEditable(b,"string"==typeof c?{selector:c}:c)}function da(a){if(a.mask){var b=a.wrapper.findOne(".cke_widget_mask");b||(b=new CKEDITOR.dom.element("img",a.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),a.wrapper.append(b));a.mask=b}}function ea(a){if(a.parts){var b={},c,d;for(d in a.parts)c=a.wrapper.findOne(a.parts[d]),b[d]=c;a.parts=
b}}function Q(a,b){fa(a);ea(a);ca(a);da(a);aa(a);Y(a);Z(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on("dragstart",function(b){var d=b.data.getTarget();g.getNestedEditable(a,d)||a.inline&&g.isDomDragHandler(d)||b.data.preventDefault()});a.wrapper.removeClass("cke_widget_new");a.element.addClass("cke_widget_element");a.on("key",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){B(a,b==CKEDITOR.CTRL+88);return}if(b in ga||CKEDITOR.CTRL&b||CKEDITOR.ALT&
b)return}return!1},null,null,999);a.on("doubleclick",function(b){a.edit()&&b.cancel()});if(b.data)a.on("data",b.data);if(b.edit)a.on("edit",b.edit)}function fa(a){(a.wrapper=a.element.getParent()).setAttribute("data-cke-widget-id",a.id)}function r(a){a.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(a.data)))}function ha(){function a(){}function b(a,b,c){return c&&this.checkElement(a)?(a=c.widgets.getByElement(a,!0))&&a.checkStyleActive(this):!1}var c={};CKEDITOR.style.addCustomHandler({type:"widget",
setup:function(a){this.widget=a.widget;if(this.group="string"==typeof a.group?[a.group]:a.group){a=this.widget;var b;c[a]||(c[a]={});for(var f=0,h=this.group.length;f<h;f++)b=this.group[f],c[a][b]||(c[a][b]=[]),c[a][b].push(this)}},apply:function(a){var b;a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&(b=a.widgets.focused,this.group&&this.removeStylesFromSameGroup(a),b.applyStyle(this))},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),
a)&&a.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(a){var b,f,h=!1;if(!(a instanceof CKEDITOR.editor))return!1;f=a.elementPath();if(this.checkApplicable(f,a))for(var g=0,k=this.group.length;g<k;g++){b=c[this.widget][this.group[g]];for(var m=0;m<b.length;m++)b[m]!==this&&b[m].checkActive(f,a)&&(a.widgets.focused.removeStyle(b[m]),h=!0)}return h},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return b instanceof CKEDITOR.editor?
this.checkElement(a.lastElement):!1},checkElementMatch:b,checkElementRemovable:b,checkElement:function(a){return g.isDomWidgetWrapper(a)?(a=a.getFirst(g.isDomWidgetElement))&&a.data("widget")==this.widget:!1},buildPreview:function(a){return a||this._.definition.name},toAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];var b,c={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;c[a.styleableElements]={classes:b,propertiesOnly:!0};
return c}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes["class"];return a?CKEDITOR.tools.trim(a).split(/\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover\x3e.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused\x3e.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover\x3e.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"),
ha())},beforeInit:function(a){void 0!==CKEDITOR.document.$.querySelectorAll&&(a.widgets=new p(a))},afterInit:function(a){if(void 0!==CKEDITOR.document.$.querySelectorAll){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:"insert,10"});V(a)}}});p.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,b){b=CKEDITOR.tools.prototypedCopy(b);b.name=a;b._=b._||{};this.editor.fire("widgetDefinition",
b);b.template&&(b.template=new CKEDITOR.template(b.template));R(this.editor,b);S(this,b);return this.registered[a]=b},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},checkSelection:function(){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=C(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=g.isDomWidgetWrapper;b=a.next();)c.select(this.getByElement(b));
c.commit()},checkWidgets:function(a){this.fire("checkWidgets",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===a){var b=a.editor,c=b.createRange(),d;(d=c.moveToClosestEditablePosition(a.wrapper,!0))||(d=c.moveToClosestEditablePosition(a.wrapper,!1));d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&n(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire("instanceDestroyed",a)},destroyAll:function(a,
b){var c,d,e=this.instances;if(b&&!a){d=b.find(".cke_widget_wrapper");for(var e=d.count(),f=0;f<e;++f)(c=this.getByElement(d.getItem(f),!0))&&this.destroy(c)}else for(d in e)c=e[d],this.destroy(c,a)},finalizeCreation:function(a){(a=a.getFirst())&&g.isDomWidgetWrapper(a)&&(this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire("ready"),a.focus())},getByElement:function(){function a(a){return a.is(b)&&a.data("cke-widget-id")}var b={div:1,span:1};return function(b,d){if(!b)return null;
var e=a(b);if(!d&&!e){var f=this.editor.editable();do b=b.getParent();while(b&&!b.equals(f)&&!(e=a(b)))}return this.instances[e]||null}}(),initOn:function(a,b,c){b?"string"==typeof b&&(b=this.registered[b]):b=this.registered[a.data("widget")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass("cke_widget_new")?(a=new g(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){a=(a||this.editor.editable()).find(".cke_widget_new");
for(var b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(g.isDomWidgetElement)))&&b.push(c);return b},onWidget:function(a){var b=Array.prototype.slice.call(arguments);b.shift();for(var c in this.instances){var d=this.instances[c];d.name==a&&d.on.apply(d,b)}this.on("instanceCreated",function(c){c=c.data;c.name==a&&c.on.apply(c,b)})},parseElementClasses:function(a){if(!a)return null;a=CKEDITOR.tools.trim(a).split(/\s+/);for(var b,c={},d=0;b=a.pop();)-1==b.indexOf("cke_")&&(c[b]=d=1);return d?
c:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){b=b||a.data("widget");d=this.registered[b];if(!d)return null;if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data("cke-widget-wrapper"))return c;a.hasAttribute("data-cke-widget-keep-attr")||a.data("cke-widget-keep-attr",a.data("widget")?1:0);a.data("widget",b);(e=A(d,a.getName()))&&u(a);c=new CKEDITOR.dom.element(e?"span":"div");c.setAttributes(y(e,b));c.data("cke-display-name",d.pathName?d.pathName:a.getName());
a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes["data-widget"];d=this.registered[b];if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes["data-cke-widget-wrapper"])return c;"data-cke-widget-keep-attr"in a.attributes||(a.attributes["data-cke-widget-keep-attr"]=a.attributes["data-widget"]?1:0);b&&(a.attributes["data-widget"]=b);(e=A(d,a.name))&&u(a);c=new CKEDITOR.htmlParser.element(e?"span":"div",y(e,b));c.attributes["data-cke-display-name"]=
d.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&z(d,f,c)}return c},_tests_createEditableFilter:x};CKEDITOR.event.implementOn(p.prototype);g.prototype={addClass:function(a){this.element.addClass(a);this.wrapper.addClass(g.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){D(this,a,1)},checkStyleActive:function(a){a=E(a);var b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;return!0},destroy:function(a){this.fire("destroy");if(this.editables)for(var b in this.editables)this.destroyEditable(b,
a);a||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a],d=!0;c.removeListener("focus",H);c.removeListener("blur",G);this.editor.focusManager.remove(c);if(c.filter){for(var e in this.repository.instances){var f=this.repository.instances[e];
f.editables&&(f=f.editables[a])&&f!==c&&c.filter===f.filter&&(d=!1)}d&&(c.filter.destroy(),(d=this.repository._.filters[this.name])&&delete d[a])}b||(this.repository.destroyAll(!1,c),c.removeClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),c.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire("edit",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,
function(a){var d,e;!1!==b.fire("dialog",a)&&(d=a.on("show",function(){a.setupContent(b)}),e=a.on("ok",function(){var d,e=b.on("data",function(a){d=1;a.cancel()},null,null,0);b.editor.fire("saveSnapshot");a.commitContent(b);e.removeListener();d&&(b.fire("data",b.data),b.editor.fire("saveSnapshot"))}),a.once("hide",function(){d.removeListener();e.removeListener()}))});return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(a){return this.element.hasClass(a)},
initEditable:function(a,b){var c=this._findOneNotNested(b.selector);return c&&c.is(CKEDITOR.dtd.$editable)?(c=new q(this.editor,c,{filter:x.call(this.repository,this.name,a,b)}),this.editables[a]=c,c.setAttributes({contenteditable:"true","data-cke-widget-editable":a,"data-cke-enter-mode":c.enterMode}),c.filter&&c.data("cke-filter",c.filter.id),c.addClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),b.pathName&&c.data("cke-display-name",b.pathName),this.editor.focusManager.add(c),
c.on("focus",H,this),CKEDITOR.env.ie&&c.on("blur",G,this),c._.initialSetData=!0,c.setData(c.getHtml()),!0):!1},_findOneNotNested:function(a){a=this.wrapper.find(a);for(var b,c,d=0;d<a.count();d++)if(b=a.getItem(d),c=b.getAscendant(g.isDomWidgetWrapper),this.wrapper.equals(c))return b;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);
!b&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(a){this.element.removeClass(a);this.wrapper.removeClass(g.WRAPPER_CLASS_PREFIX+a)},removeStyle:function(a){D(this,a,0)},setData:function(a,b){var c=this.data,d=0;if("string"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=e[a])}d&&this.dataReady&&(r(this),this.fire("data",c));return this},setFocused:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_focused");this.fire(a?"focus":"blur");
return this},setSelected:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_selected");this.fire(a?"select":"deselect");return this},updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset,b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),a.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:b.y+"px",left:b.x+"px",display:"block"}),a.fire("unlockSnapshot"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};
CKEDITOR.event.implementOn(g.prototype);g.getNestedEditable=function(a,b){return!b||b.equals(a)?null:g.isDomNestedEditable(b)?b:g.getNestedEditable(a,b.getParent())};g.isDomDragHandler=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")};g.isDomDragHandlerContainer=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_widget_drag_handler_container")};g.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-editable")};
g.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-widget")};g.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-wrapper")};g.isDomWidget=function(a){return a?this.isDomWidgetWrapper(a)||this.isDomWidgetElement(a):!1};g.isParserWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-widget"]};g.isParserWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-cke-widget-wrapper"]};
g.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_";q.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){this._.initialSetData||this.editor.widgets.destroyAll(!1,this);this._.initialSetData=!1;a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),
filter:this.filter,enterMode:this.enterMode})}});var X=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,ga={37:1,38:1,39:1,40:1,8:1,46:1};CKEDITOR.plugins.widget=g;g.repository=p;g.nestedEditable=q})();CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function e(c){var a=this._;a.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(c),a.on?a.panel.hide():a.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(c){var a=c.panel||{};delete c.panel;this.base(c);this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.block={attributes:a.attributes};a.toolbarRelated=!0;this.hasArrow=
"listbox";this.click=e;this._={panelDefinition:a}},statics:{handler:{create:function(c){return new CKEDITOR.ui.panelButton(c)}}},proto:{createPanel:function(c){var a=this._;if(!a.panel){var f=this._.panelDefinition,e=this._.panelDefinition.block,g=f.parent||CKEDITOR.document.getBody(),d=this._.panel=new CKEDITOR.ui.floatPanel(c,g,f),f=d.addBlock(a.id,e),b=this;d.onShow=function(){b.className&&this.element.addClass(b.className+"_panel");b.setState(CKEDITOR.TRISTATE_ON);a.on=1;b.editorFocus&&c.focus();
if(b.onOpen)b.onOpen()};d.onHide=function(d){b.className&&this.element.getFirst().removeClass(b.className+"_panel");b.setState(b.modes&&b.modes[c.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);a.on=0;if(!d&&b.onClose)b.onClose()};d.onEscape=function(){d.hide(1);b.document.getById(a.id).focus()};if(this.onBlock)this.onBlock(d,f);f.onHide=function(){a.on=0;b.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}});
CKEDITOR.UI_PANELBUTTON="panelbutton";(function(){CKEDITOR.plugins.add("panel",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL="panel";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:"",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};var g=CKEDITOR.addTemplate("panel",
'\x3cdiv lang\x3d"{langCode}" id\x3d"{id}" dir\x3d{dir} class\x3d"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style\x3d"z-index:{z-index}" role\x3d"presentation"\x3e{frame}\x3c/div\x3e'),h=CKEDITOR.addTemplate("panel-frame",'\x3ciframe id\x3d"{id}" class\x3d"cke_panel_frame" role\x3d"presentation" frameborder\x3d"0" src\x3d"{src}"\x3e\x3c/iframe\x3e'),k=CKEDITOR.addTemplate("panel-frame-inner",'\x3c!DOCTYPE html\x3e\x3chtml class\x3d"cke_panel_container {env}" dir\x3d"{dir}" lang\x3d"{langCode}"\x3e\x3chead\x3e{css}\x3c/head\x3e\x3cbody class\x3d"cke_{dir}" style\x3d"margin:0;padding:0" onload\x3d"{onload}"\x3e\x3c/body\x3e\x3c/html\x3e');
CKEDITOR.ui.panel.prototype={render:function(a,b){var e={editorId:a.id,id:this.id,langCode:a.langCode,dir:a.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":a.config.baseFloatZIndex+1};this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+"_frame"),b=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&b.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"});b=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=
!0;if(this.onLoad)this.onLoad()},this));a.write(k.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+b+");"},e)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on("keydown",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute("dir");if("input"!==a.data.getTarget().getName()||37!==b&&39!==b)this._.onKeyDown&&!1===this._.onKeyDown(b)?"input"===a.data.getTarget().getName()&&32===b||a.data.preventDefault():
(27==b||b==("rtl"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(b)}else a=this.document.getById(this.id);this._.holder=a}return a};if(this.isFramed){var d=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";e.frame=h.output({id:this.id+"_frame",
src:d})}d=g.output(e);b&&b.push(d);return d},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),b);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,e=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire("ariaWidget",e);a._.focusIndex=
-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||
this.attributes["aria-label"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this._.getItems().getItem(this._.focusIndex=a),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))},markFirstDisplayed:function(a){for(var b=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"none"==a.getStyle("display")},e=this._.getItems(),d,c,f=e.count()-1;0<=f;f--)if(d=e.getItem(f),d.getAscendant(b)||(c=d,this._.focusIndex=
f),"true"==d.getAttribute("aria-selected")){c=d;this._.focusIndex=f;break}c&&(a&&a(),CKEDITOR.env.webkit&&c.getDocument().getWindow().focus(),c.focus(),this.onMark&&this.onMark(c))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(a,b){var e=this.keys[a];switch(e){case "next":for(var d=this._.focusIndex,e=this._.getItems(),
c;c=e.getItem(++d);)if(c.getAttribute("_cke_focus")&&c.$.offsetWidth){this._.focusIndex=d;c.focus(!0);break}return c||b?!1:(this._.focusIndex=-1,this.onKeyDown(a,1));case "prev":d=this._.focusIndex;for(e=this._.getItems();0<d&&(c=e.getItem(--d));){if(c.getAttribute("_cke_focus")&&c.$.offsetWidth){this._.focusIndex=d;c.focus(!0);break}c=null}return c||b?!1:(this._.focusIndex=e.count(),this.onKeyDown(a,1));case "click":case "mouseup":return d=this._.focusIndex,(c=0<=d&&this._.getItems().getItem(d))&&
(c.$[e]?c.$[e]():c.$["on"+e]()),!1}return!0}}})})();CKEDITOR.plugins.add("floatpanel",{requires:"panel"});
(function(){function v(a,b,c,m,h){h=CKEDITOR.tools.genKey(b.getUniqueId(),c.getUniqueId(),a.lang.dir,a.uiColor||"",m.css||"",h||"");var g=f[h];g||(g=f[h]=new CKEDITOR.ui.panel(b,m),g.element=c.append(CKEDITOR.dom.element.createFromHtml(g.render(a),b)),g.element.setStyles({display:"none",position:"absolute"}));return g}var f={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(a,b,c,m){function h(){e.hide()}c.forceIFrame=1;c.toolbarRelated&&a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&
(b=CKEDITOR.document.getById("cke_"+a.name));var g=b.getDocument();m=v(a,g,b,c,m||0);var n=m.element,k=n.getFirst(),e=this;n.disableContextMenu();this.element=n;this._={editor:a,panel:m,parentElement:b,definition:c,document:g,iframe:k,children:[],dir:a.lang.dir,showBlockParams:null,markFirst:void 0!==c.markFirst?c.markFirst:!0};a.on("mode",h);a.on("resize",h);g.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(a,b){return this._.panel.addBlock(a,b)},addListBlock:function(a,
b){return this._.panel.addListBlock(a,b)},getBlock:function(a){return this._.panel.getBlock(a)},showBlock:function(a,b,c,m,h,g){var n=this._.panel,k=n.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var e=this._.editor.editable();this._.returnFocus=e.hasFocus?e:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var l=this.element,e=this._.iframe,e=CKEDITOR.env.ie&&!CKEDITOR.env.edge?e:new CKEDITOR.dom.window(e.$.contentWindow),f=l.getDocument(),
r=this._.parentElement.getPositionedAncestor(),t=b.getDocumentPosition(f),f=r?r.getDocumentPosition(f):{x:0,y:0},q="rtl"==this._.dir,d=t.x+(m||0)-f.x,p=t.y+(h||0)-f.y;!q||1!=c&&4!=c?q||2!=c&&3!=c||(d+=b.$.offsetWidth-1):d+=b.$.offsetWidth;if(3==c||4==c)p+=b.$.offsetHeight-1;this._.panel._.offsetParentId=b.getId();l.setStyles({top:p+"px",left:0,display:""});l.setOpacity(0);l.getFirst().removeStyle("width");this._.editor.focusManager.add(e);this._.blurSet||(CKEDITOR.event.useCapture=!0,e.on("blur",
function(a){function u(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(u,0,this)):u.call(this))},this),e.on("focus",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(e.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),e.on("touchend",function(){this._.hideTimeout=
0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);n.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=l;a.removeStyle("width");if(k.autoSize){var b=k.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?k.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle("width",
b+10+"px");b=k.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||0)+3);a.setStyle("height",b+"px");n._.currentBlock.element.setStyle("display","none").removeStyle("display")}else a.removeStyle("height");q&&(d-=l.$.offsetWidth);l.setStyle("left",d+"px");var b=n.element.getWindow(),a=l.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,m=q?a.right:b.width-a.left,h=q?b.width-a.right:a.left;
q?m<c&&(d=h>c?d+c:b.width>c?d-a.left:d-a.right+b.width):m<c&&(d=h>c?d-c:b.width>c?d-a.right+b.width:d-a.left);c=a.top;b.height-a.top<e&&(p=c>e?p-e:b.height>e?p-a.bottom+b.height:p-a.top);CKEDITOR.env.ie&&!CKEDITOR.env.edge&&(b=a=new CKEDITOR.dom.element(l.$.offsetParent),"html"==b.getName()&&(b=b.getDocument().getBody()),"rtl"==b.getComputedStyle("direction")&&(d=CKEDITOR.env.ie8Compat?d-2*l.getDocument().getDocumentElement().$.scrollLeft:d-(a.$.scrollWidth-a.$.clientWidth)));var a=l.getFirst(),f;
(f=a.getCustomData("activePanel"))&&f.onHide&&f.onHide.call(this,1);a.setCustomData("activePanel",this);l.setStyles({top:p+"px",left:d+"px"});l.setOpacity(1);g&&g()},this);n.isLoaded?a():n.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();k.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){k.markFirstDisplayed?
k.markFirstDisplayed():k._.markFirstDisplayed()},0):k.markFirstDisplayed?k.markFirstDisplayed():k._.markFirstDisplayed());this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||
this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is("a")&&(this._.lastFocused=a)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle("display","none");this.visible=0;this.element.getFirst().removeCustomData("activePanel");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),
a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire("panelHide",this)}},allowBlur:function(a){var b=this._.panel;void 0!==a&&(b.allowBlur=a);return b.allowBlur},showAsChild:function(a,b,c,f,h,g){if(this._.activeChild!=a||a._.panel._.offsetParentId!=c.getId())this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(b,c,f,h,g),this.blur(),
(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=""},100)},hideChild:function(a){var b=this._.activeChild;b&&(delete b.onHide,delete this._.activeChild,b.hide(),a&&this.focus())}}});CKEDITOR.on("instanceDestroyed",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),b;for(b in f){var c=f[b];a?c.destroy():c.element.hide()}a&&(f={})})})();CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(e){function t(a,d,g,r,k){var p=new CKEDITOR.style(l["colorButton_"+d+"Style"]),m=CKEDITOR.tools.getNextId()+"_colorBox",q;k=k||{};e.ui.add(a,CKEDITOR.UI_PANELBUTTON,{label:g,title:g,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+r,allowedContent:p,requiredContent:p,contentTransformations:k.contentTransformations,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":h.panelTitle}},onBlock:function(a,
b){q=b;b.autoSize=!0;b.element.addClass("cke_colorblock");b.element.setHtml(y(a,d,m));b.element.getDocument().getBody().setStyle("overflow","hidden");CKEDITOR.ui.fire("ready",this);var c=b.keys,f="rtl"==e.lang.dir;c[f?37:39]="next";c[40]="next";c[9]="next";c[f?39:37]="prev";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[32]="click"},refresh:function(){e.activeFilter.check(p)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var a=e.getSelection(),b=a&&a.getStartElement(),c=e.elementPath(b);
if(c){b=c.block||c.blockLimit||e.document.getBody();do c=b&&b.getComputedStyle("back"==d?"background-color":"color")||"transparent";while("back"==d&&"transparent"==c&&b&&(b=b.getParent()));c&&"transparent"!=c||(c="#ffffff");!1!==l.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(m).setStyle("background-color",c);if(b=a&&a.getRanges()[0]){for(var a=new CKEDITOR.dom.walker(b),f=b.collapsed?b.startContainer:a.next(),b="";f;){f.type!==CKEDITOR.NODE_ELEMENT&&(f=f.getParent());
f=u(f.getComputedStyle("back"==d?"background-color":"color"));b=b||f;if(b!==f){b="";break}f=a.next()}a=b;b=q._.getItems();for(f=0;f<b.count();f++){var g=b.getItem(f);g.removeAttribute("aria-selected");a&&a==u(g.getAttribute("data-value"))&&g.setAttribute("aria-selected",!0)}}return c}}})}function y(a,d,g){a=[];var r=l.colorButton_colors.split(","),k=l.colorButton_colorsPerRow||6,p=e.plugins.colordialog&&!1!==l.colorButton_enableMore,m=r.length+(p?2:1),q=CKEDITOR.tools.addFunction(function(a,b){function c(a){var d=
l["colorButton_"+b+"Style"];e.removeStyle(new CKEDITOR.style(d,{color:"inherit"}));d.childRule="back"==b?function(a){return v(a)}:function(a){return!(a.is("a")||a.getElementsByTag("a").count())||v(a)};e.focus();a&&e.applyStyle(new CKEDITOR.style(d,{color:a}));e.fire("saveSnapshot")}e.focus();e.fire("saveSnapshot");if("?"==a)e.getColorFromDialog(function(a){if(a)return c(a)});else return c(a)});!1!==l.colorButton_enableAutomatic&&a.push('\x3ca class\x3d"cke_colorauto" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',
h.auto,'" onclick\x3d"CKEDITOR.tools.callFunction(',q,",null,'",d,"');return false;\" href\x3d\"javascript:void('",h.auto,'\')" role\x3d"option" aria-posinset\x3d"1" aria-setsize\x3d"',m,'"\x3e\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+k+'" align\x3d"center"\x3e\x3cspan class\x3d"cke_colorbox" id\x3d"',g,'"\x3e\x3c/span\x3e',h.auto,"\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/a\x3e");a.push('\x3ctable role\x3d"presentation" cellspacing\x3d0 cellpadding\x3d0 width\x3d"100%"\x3e');
for(g=0;g<r.length;g++){0===g%k&&a.push("\x3c/tr\x3e\x3ctr\x3e");var n=r[g].split("/"),b=n[0],c=n[1]||b;n[1]?n=b:(b="#"+b.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3"),n=e.lang.colorbutton.colors[c]||c);a.push('\x3ctd\x3e\x3ca class\x3d"cke_colorbox" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',n,'" onclick\x3d"CKEDITOR.tools.callFunction(',q,",'",b,"','",d,"'); return false;\" href\x3d\"javascript:void('",n,'\')" data-value\x3d"'+c+'" role\x3d"option" aria-posinset\x3d"',g+2,'" aria-setsize\x3d"',m,'"\x3e\x3cspan class\x3d"cke_colorbox" style\x3d"background-color:#',
c,'"\x3e\x3c/span\x3e\x3c/a\x3e\x3c/td\x3e')}p&&a.push('\x3c/tr\x3e\x3ctr\x3e\x3ctd colspan\x3d"'+k+'" align\x3d"center"\x3e\x3ca class\x3d"cke_colormore" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"',h.more,'" onclick\x3d"CKEDITOR.tools.callFunction(',q,",'?','",d,"');return false;\" href\x3d\"javascript:void('",h.more,"')\"",' role\x3d"option" aria-posinset\x3d"',m,'" aria-setsize\x3d"',m,'"\x3e',h.more,"\x3c/a\x3e\x3c/td\x3e");a.push("\x3c/tr\x3e\x3c/table\x3e");return a.join("")}function v(a){return"false"==
a.getAttribute("contentEditable")||a.getAttribute("data-nostyle")}function u(a){return CKEDITOR.tools.normalizeHex("#"+CKEDITOR.tools.convertRgbToHex(a||"")).replace(/#/g,"")}var l=e.config,h=e.lang.colorbutton;if(!CKEDITOR.env.hc){t("TextColor","fore",h.textColorTitle,10,{contentTransformations:[[{element:"font",check:"span{color}",left:function(a){return!!a.attributes.color},right:function(a){a.name="span";a.attributes.color&&(a.styles.color=a.attributes.color);delete a.attributes.color}}]]});var w=
{},x=e.config.colorButton_normalizeBackground;if(void 0===x||x)w.contentTransformations=[[{element:"span",left:function(a){var d=CKEDITOR.tools;if("span"!=a.name||!a.styles||!a.styles.background)return!1;a=d.style.parse.background(a.styles.background);return a.color&&1===d.objectKeys(a).length},right:function(a){var d=(new CKEDITOR.style(e.config.colorButton_backStyle,{color:a.styles.background})).getDefinition();a.name=d.element;a.styles=d.styles;a.attributes=d.attributes||{};return a}}]];t("BGColor",
"back",h.bgColorTitle,20,w)}}});CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000";CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]};CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}};CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var f=CKEDITOR.addTemplate("panel-list",'\x3cul role\x3d"presentation" class\x3d"cke_panel_list"\x3e{items}\x3c/ul\x3e'),g=CKEDITOR.addTemplate("panel-list-item",'\x3cli id\x3d"{id}" class\x3d"cke_panel_listItem" role\x3dpresentation\x3e\x3ca id\x3d"{id}_option" _cke_focus\x3d1 hidefocus\x3dtrue title\x3d"{title}" href\x3d"javascript:void(\'{val}\')"  {onclick}\x3d"CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role\x3d"option"\x3e{text}\x3c/a\x3e\x3c/li\x3e'),
h=CKEDITOR.addTemplate("panel-list-group",'\x3ch1 id\x3d"{id}" class\x3d"cke_panel_grouptitle" role\x3d"presentation" \x3e{label}\x3c/h1\x3e'),k=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c["aria-multiselectable"]=!0);!c.role&&
(c.role="listbox");this.base.apply(this,arguments);this.element.setAttribute("role",c.role);c=this.keys;c[40]="next";c[9]="next";c[38]="prev";c[CKEDITOR.SHIFT+9]="prev";c[32]=CKEDITOR.env.ie?"mouseup":"click";CKEDITOR.env.ie&&(c[13]="mouseup");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var a=f.output({items:this._.pendingList.join("")});this._.pendingList=[];this._.pendingHtml.push(a);delete this._.started}},getClick:function(){this._.click||
(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,c){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;var e;e=CKEDITOR.tools.htmlEncodeAttr(a).replace(k,"\\'");a={id:d,val:e,onclick:CKEDITOR.env.ie?'onclick\x3d"return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(c||a),text:b||a};
this._.pendingList.push(g.output(a))},startGroup:function(a){this._.close();var b=CKEDITOR.tools.getNextId();this._.groups[a]=b;this._.pendingHtml.push(h.output({id:b,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(""));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle("display",
"none"),b&&"ul"==b.getName()&&b.setStyle("display","none"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle("display","none")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle("display","");for(var e in b)a=c.getById(b[e]),d=a.getNext(),a.setStyle("display",""),d&&"ul"==d.getName()&&d.setStyle("display","")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);
b.addClass("cke_selected");this.element.getDocument().getById(a+"_option").setAttribute("aria-selected",!0);this.onMark&&this.onMark(b)},markFirstDisplayed:function(){var a=this;this._.markFirstDisplayed(function(){a.multiSelect||a.unmarkAll()})},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass("cke_selected");b.getById(a+"_option").removeAttribute("aria-selected");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),
c;for(c in a){var d=a[c];b.getById(d).removeClass("cke_selected");b.getById(d+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass("cke_selected")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag("a"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();
c&&setTimeout(function(){c.focus()},0)}}})}});CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(c){c.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}});
(function(){var c='\x3cspan id\x3d"{id}" class\x3d"cke_combo cke_combo__{name} {cls}" role\x3d"presentation"\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_combo_label"\x3e{label}\x3c/span\x3e\x3ca class\x3d"cke_combo_button" title\x3d"{title}" tabindex\x3d"-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-haspopup\x3d"listbox"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');
CKEDITOR.env.gecko&&(c+=' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var c=c+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick\x3d"return false;" onmouseup':"onclick")+'\x3d"CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan id\x3d"{id}_text" class\x3d"cke_combo_text cke_combo_inlinelabel"\x3e{label}\x3c/span\x3e\x3cspan class\x3d"cke_combo_open"\x3e\x3cspan class\x3d"cke_combo_arrow"\x3e'+
(CKEDITOR.env.hc?"\x26#9660;":CKEDITOR.env.air?"\x26nbsp;":"")+"\x3c/span\x3e\x3c/span\x3e\x3c/a\x3e\x3c/span\x3e"),k=CKEDITOR.addTemplate("combo",c);CKEDITOR.UI_RICHCOMBO="richcombo";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,a,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className="cke_combopanel";
a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{},listeners:[]}},proto:{renderHtml:function(a){var b=[];this.render(a,b);return b.join("")},render:function(a,b){function f(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var b=this.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(b=CKEDITOR.TRISTATE_DISABLED);this.setState(b);this.setValue("");b!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}
var c=CKEDITOR.env,h="cke_"+this.id,e=CKEDITOR.tools.addFunction(function(b){l&&(a.unlockSelection(1),l=0);g.execute(b)},this),d=this,g={id:h,combo:this,focus:function(){CKEDITOR.document.getById(h).getChild(1).focus()},execute:function(b){var c=d._;if(c.state!=CKEDITOR.TRISTATE_DISABLED)if(d.createPanel(a),c.on)c.panel.hide();else{d.commit();var f=d.getValue();f?c.list.mark(f):c.list.unmarkAll();c.panel.showBlock(d.id,new CKEDITOR.dom.element(b),4)}},clickFn:e};this._.listeners.push(a.on("activeFilterChange",
f,this));this._.listeners.push(a.on("mode",f,this));this._.listeners.push(a.on("selectionChange",f,this));!this.readOnly&&this._.listeners.push(a.on("readOnly",f,this));var m=CKEDITOR.tools.addFunction(function(a,b){a=new CKEDITOR.dom.event(a);var d=a.getKeystroke();switch(d){case 13:case 32:case 40:CKEDITOR.tools.callFunction(e,b);break;default:g.onkey(g,d)}a.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){g.onfocus&&g.onfocus()}),l=0;g.keyDownFn=m;c={id:h,name:this.name||this.command,
label:this.label,title:this.title,cls:this.className||"",titleJs:c.gecko&&!c.hc?"":(this.title||"").replace("'",""),keydownFn:m,focusFn:n,clickFn:e};k.output(c,b);if(this.onRender)this.onRender();return g},createPanel:function(a){if(!this._.panel){var b=this._.panelDefinition,c=this._.panelDefinition.block,k=b.parent||CKEDITOR.document.getBody(),h="cke_combopanel__"+this.name,e=new CKEDITOR.ui.floatPanel(a,k,b),b=e.addListBlock(this.id,c),d=this;e.onShow=function(){this.element.addClass(h);d.setState(CKEDITOR.TRISTATE_ON);
d._.on=1;d.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(d.onOpen)d.onOpen()};e.onHide=function(b){this.element.removeClass(h);d.setState(d.modes&&d.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);d._.on=0;if(!b&&d.onClose)d.onClose()};e.onEscape=function(){e.hide(1)};b.onClick=function(a,b){d.onClick&&d.onClick.call(d,a,b);e.hide()};this._.panel=e;this._.list=b;e.getBlock(this.id).onHide=function(){d._.on=0;d.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,
b){this._.value=a;var c=this.document.getById("cke_"+this.id+"_text");c&&(a||b?c.removeClass("cke_combo_inlinelabel"):(b=this.label,c.addClass("cke_combo_inlinelabel")),c.setText("undefined"!=typeof b?b:a))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},showAll:function(){this._.list.showAll()},add:function(a,b,c){this._.items[a]=
c||a;this._.list.add(a,b,c)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this));this._.committed=1},setState:function(a){if(this._.state!=a){var b=this.document.getById("cke_"+this.id);b.setState(a,"cke_combo");a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled");this._.state=a}},getState:function(){return this._.state},enable:function(){this._.state==
CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(a){a.removeListener()});this._.listeners=[]}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,b){this.add(a,CKEDITOR.UI_RICHCOMBO,b)}})();(function(){function p(b,f,e,d,r,p,t,x){var y=b.config,u=new CKEDITOR.style(t),g=r.split(";");r=[];for(var k={},l=0;l<g.length;l++){var m=g[l];if(m){var m=m.split("/"),w={},q=g[l]=m[0];w[e]=r[l]=m[1]||q;k[q]=new CKEDITOR.style(t,w);k[q]._.definition.name=q}else g.splice(l--,1)}b.ui.addRichCombo(f,{label:d.label,title:d.panelTitle,toolbar:"styles,"+x,defaultValue:"cke-default",allowedContent:u,requiredContent:u,contentTransformations:"span"===t.element?[[{element:"font",check:"span",left:function(a){return!!a.attributes.size||
!!a.attributes.align||!!a.attributes.face},right:function(a){var b=" x-small small medium large x-large xx-large 48px".split(" ");a.name="span";a.attributes.size&&(a.styles["font-size"]=b[a.attributes.size],delete a.attributes.size);a.attributes.align&&(a.styles["text-align"]=a.attributes.align,delete a.attributes.align);a.attributes.face&&(a.styles["font-family"]=a.attributes.face,delete a.attributes.face)}}]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(y.contentsCss),multiSelect:!1,
attributes:{"aria-label":d.panelTitle}},init:function(){var a;a="("+b.lang.common.optionDefault+")";this.startGroup(d.panelTitle);this.add(this.defaultValue,a,a);for(var c=0;c<g.length;c++)a=g[c],this.add(a,k[a].buildPreview(),a)},onClick:function(a){b.focus();b.fire("saveSnapshot");var c=this.getValue(),f=k[a],e,n,h,d,g;if(c&&a!=c)if(e=k[c],c=b.getSelection().getRanges()[0],c.collapsed){if(n=b.elementPath(),h=n.contains(function(a){return e.checkElementRemovable(a)})){d=c.checkBoundaryOfElement(h,
CKEDITOR.START);g=c.checkBoundaryOfElement(h,CKEDITOR.END);if(d&&g){for(d=c.createBookmark();n=h.getFirst();)n.insertBefore(h);h.remove();c.moveToBookmark(d)}else d||g?c.moveToPosition(h,d?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(c.splitElement(h),c.moveToPosition(h,CKEDITOR.POSITION_AFTER_END)),v(c,n.elements.slice(),h);b.getSelection().selectRanges([c])}}else b.removeStyle(e);a===this.defaultValue?e&&b.removeStyle(e):b.applyStyle(f);b.fire("saveSnapshot")},onRender:function(){b.on("selectionChange",
function(a){var c=this.getValue();a=a.data.path.elements;for(var d=0,f;d<a.length;d++){f=a[d];for(var e in k)if(k[e].checkElementMatch(f,!0,b)){e!=c&&this.setValue(e);return}}this.setValue("",p)},this)},refresh:function(){b.activeFilter.check(u)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function v(b,f,e){var d=f.pop();if(d){if(e)return v(b,f,d.equals(e)?null:e);e=d.clone();b.insertNode(e);b.moveToPosition(e,CKEDITOR.POSITION_AFTER_START);v(b,f)}}CKEDITOR.plugins.add("font",{requires:"richcombo",
init:function(b){var f=b.config;p(b,"Font","family",b.lang.font,f.font_names,f.font_defaultLabel,f.font_style,30);p(b,"FontSize","size",b.lang.font.fontSize,f.fontSize_sizes,f.fontSize_defaultLabel,f.fontSize_style,40)}})})();CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif";
CKEDITOR.config.font_defaultLabel="";CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]};CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px";CKEDITOR.config.fontSize_defaultLabel="";CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]};CKEDITOR.config.plugins='basicstyles,blockquote,dialogui,dialog,notification,button,toolbar,clipboard,enterkey,horizontalrule,indent,indentblock,indentlist,justify,list,pastefromword,removeformat,tab,undo,lineutils,widgetselection,widget,panelbutton,panel,floatpanel,colorbutton,listblock,richcombo,font';CKEDITOR.config.skin='moono';(function() {var setIcons = function(icons, strip) {var path = CKEDITOR.getUrl( 'plugins/' + strip );icons = icons.split( ',' );for ( var i = 0; i < icons.length; i++ )CKEDITOR.skin.icons[ icons[ i ] ] = { path: path, offset: -icons[ ++i ], bgsize : icons[ ++i ] };};if (CKEDITOR.env.hidpi) setIcons('bold,0,,italic,24,,strike,48,,subscript,72,,superscript,96,,underline,120,,blockquote,144,,copy-rtl,168,,copy,192,,cut-rtl,216,,cut,240,,paste-rtl,264,,paste,288,,horizontalrule,312,,indent-rtl,336,,indent,360,,outdent-rtl,384,,outdent,408,,justifyblock,432,,justifycenter,456,,justifyleft,480,,justifyright,504,,bulletedlist-rtl,528,,bulletedlist,552,,numberedlist-rtl,576,,numberedlist,600,,pastefromword-rtl,624,,pastefromword,648,,removeformat,672,,redo-rtl,696,,redo,720,,undo-rtl,744,,undo,768,,bgcolor,792,,textcolor,816,','icons_hidpi.png');else setIcons('bold,0,auto,italic,24,auto,strike,48,auto,subscript,72,auto,superscript,96,auto,underline,120,auto,blockquote,144,auto,copy-rtl,168,auto,copy,192,auto,cut-rtl,216,auto,cut,240,auto,paste-rtl,264,auto,paste,288,auto,horizontalrule,312,auto,indent-rtl,336,auto,indent,360,auto,outdent-rtl,384,auto,outdent,408,auto,justifyblock,432,auto,justifycenter,456,auto,justifyleft,480,auto,justifyright,504,auto,bulletedlist-rtl,528,auto,bulletedlist,552,auto,numberedlist-rtl,576,auto,numberedlist,600,auto,pastefromword-rtl,624,auto,pastefromword,648,auto,removeformat,672,auto,redo-rtl,696,auto,redo,720,auto,undo-rtl,744,auto,undo,768,auto,bgcolor,792,auto,textcolor,816,auto','icons.png');})();CKEDITOR.lang.languages={"af":1,"ar":1,"az":1,"bg":1,"bn":1,"bs":1,"ca":1,"cs":1,"cy":1,"da":1,"de":1,"de-ch":1,"el":1,"en":1,"en-au":1,"en-ca":1,"en-gb":1,"eo":1,"es":1,"et":1,"eu":1,"fa":1,"fi":1,"fo":1,"fr":1,"fr-ca":1,"gl":1,"gu":1,"he":1,"hi":1,"hr":1,"hu":1,"id":1,"is":1,"it":1,"ja":1,"ka":1,"km":1,"ko":1,"ku":1,"lt":1,"lv":1,"mk":1,"mn":1,"ms":1,"nb":1,"nl":1,"no":1,"oc":1,"pl":1,"pt":1,"pt-br":1,"ro":1,"ru":1,"si":1,"sk":1,"sl":1,"sq":1,"sr":1,"sr-latn":1,"sv":1,"th":1,"tr":1,"tt":1,"ug":1,"uk":1,"vi":1,"zh":1,"zh-cn":1};}());

/***/ }),

/***/ "./node_modules/create-react-class/factory.js":
/*!****************************************************!*\
  !*** ./node_modules/create-react-class/factory.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var _assign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

var emptyObject = __webpack_require__(/*! fbjs/lib/emptyObject */ "./node_modules/fbjs/lib/emptyObject.js");
var _invariant = __webpack_require__(/*! fbjs/lib/invariant */ "./node_modules/fbjs/lib/invariant.js");

if (true) {
  var warning = __webpack_require__(/*! fbjs/lib/warning */ "./node_modules/fbjs/lib/warning.js");
}

var MIXINS_KEY = 'mixins';

// Helper function to allow the creation of anonymous functions which do not
// have .name set to the name of the variable being assigned to.
function identity(fn) {
  return fn;
}

var ReactPropTypeLocationNames;
if (true) {
  ReactPropTypeLocationNames = {
    prop: 'prop',
    context: 'context',
    childContext: 'child context'
  };
} else {}

function factory(ReactComponent, isValidElement, ReactNoopUpdateQueue) {
  /**
   * Policies that describe methods in `ReactClassInterface`.
   */

  var injectedMixins = [];

  /**
   * Composite components are higher-level components that compose other composite
   * or host components.
   *
   * To create a new type of `ReactClass`, pass a specification of
   * your new class to `React.createClass`. The only requirement of your class
   * specification is that you implement a `render` method.
   *
   *   var MyComponent = React.createClass({
   *     render: function() {
   *       return <div>Hello World</div>;
   *     }
   *   });
   *
   * The class specification supports a specific protocol of methods that have
   * special meaning (e.g. `render`). See `ReactClassInterface` for
   * more the comprehensive protocol. Any other properties and methods in the
   * class specification will be available on the prototype.
   *
   * @interface ReactClassInterface
   * @internal
   */
  var ReactClassInterface = {
    /**
     * An array of Mixin objects to include when defining your component.
     *
     * @type {array}
     * @optional
     */
    mixins: 'DEFINE_MANY',

    /**
     * An object containing properties and methods that should be defined on
     * the component's constructor instead of its prototype (static methods).
     *
     * @type {object}
     * @optional
     */
    statics: 'DEFINE_MANY',

    /**
     * Definition of prop types for this component.
     *
     * @type {object}
     * @optional
     */
    propTypes: 'DEFINE_MANY',

    /**
     * Definition of context types for this component.
     *
     * @type {object}
     * @optional
     */
    contextTypes: 'DEFINE_MANY',

    /**
     * Definition of context types this component sets for its children.
     *
     * @type {object}
     * @optional
     */
    childContextTypes: 'DEFINE_MANY',

    // ==== Definition methods ====

    /**
     * Invoked when the component is mounted. Values in the mapping will be set on
     * `this.props` if that prop is not specified (i.e. using an `in` check).
     *
     * This method is invoked before `getInitialState` and therefore cannot rely
     * on `this.state` or use `this.setState`.
     *
     * @return {object}
     * @optional
     */
    getDefaultProps: 'DEFINE_MANY_MERGED',

    /**
     * Invoked once before the component is mounted. The return value will be used
     * as the initial value of `this.state`.
     *
     *   getInitialState: function() {
     *     return {
     *       isOn: false,
     *       fooBaz: new BazFoo()
     *     }
     *   }
     *
     * @return {object}
     * @optional
     */
    getInitialState: 'DEFINE_MANY_MERGED',

    /**
     * @return {object}
     * @optional
     */
    getChildContext: 'DEFINE_MANY_MERGED',

    /**
     * Uses props from `this.props` and state from `this.state` to render the
     * structure of the component.
     *
     * No guarantees are made about when or how often this method is invoked, so
     * it must not have side effects.
     *
     *   render: function() {
     *     var name = this.props.name;
     *     return <div>Hello, {name}!</div>;
     *   }
     *
     * @return {ReactComponent}
     * @required
     */
    render: 'DEFINE_ONCE',

    // ==== Delegate methods ====

    /**
     * Invoked when the component is initially created and about to be mounted.
     * This may have side effects, but any external subscriptions or data created
     * by this method must be cleaned up in `componentWillUnmount`.
     *
     * @optional
     */
    componentWillMount: 'DEFINE_MANY',

    /**
     * Invoked when the component has been mounted and has a DOM representation.
     * However, there is no guarantee that the DOM node is in the document.
     *
     * Use this as an opportunity to operate on the DOM when the component has
     * been mounted (initialized and rendered) for the first time.
     *
     * @param {DOMElement} rootNode DOM element representing the component.
     * @optional
     */
    componentDidMount: 'DEFINE_MANY',

    /**
     * Invoked before the component receives new props.
     *
     * Use this as an opportunity to react to a prop transition by updating the
     * state using `this.setState`. Current props are accessed via `this.props`.
     *
     *   componentWillReceiveProps: function(nextProps, nextContext) {
     *     this.setState({
     *       likesIncreasing: nextProps.likeCount > this.props.likeCount
     *     });
     *   }
     *
     * NOTE: There is no equivalent `componentWillReceiveState`. An incoming prop
     * transition may cause a state change, but the opposite is not true. If you
     * need it, you are probably looking for `componentWillUpdate`.
     *
     * @param {object} nextProps
     * @optional
     */
    componentWillReceiveProps: 'DEFINE_MANY',

    /**
     * Invoked while deciding if the component should be updated as a result of
     * receiving new props, state and/or context.
     *
     * Use this as an opportunity to `return false` when you're certain that the
     * transition to the new props/state/context will not require a component
     * update.
     *
     *   shouldComponentUpdate: function(nextProps, nextState, nextContext) {
     *     return !equal(nextProps, this.props) ||
     *       !equal(nextState, this.state) ||
     *       !equal(nextContext, this.context);
     *   }
     *
     * @param {object} nextProps
     * @param {?object} nextState
     * @param {?object} nextContext
     * @return {boolean} True if the component should update.
     * @optional
     */
    shouldComponentUpdate: 'DEFINE_ONCE',

    /**
     * Invoked when the component is about to update due to a transition from
     * `this.props`, `this.state` and `this.context` to `nextProps`, `nextState`
     * and `nextContext`.
     *
     * Use this as an opportunity to perform preparation before an update occurs.
     *
     * NOTE: You **cannot** use `this.setState()` in this method.
     *
     * @param {object} nextProps
     * @param {?object} nextState
     * @param {?object} nextContext
     * @param {ReactReconcileTransaction} transaction
     * @optional
     */
    componentWillUpdate: 'DEFINE_MANY',

    /**
     * Invoked when the component's DOM representation has been updated.
     *
     * Use this as an opportunity to operate on the DOM when the component has
     * been updated.
     *
     * @param {object} prevProps
     * @param {?object} prevState
     * @param {?object} prevContext
     * @param {DOMElement} rootNode DOM element representing the component.
     * @optional
     */
    componentDidUpdate: 'DEFINE_MANY',

    /**
     * Invoked when the component is about to be removed from its parent and have
     * its DOM representation destroyed.
     *
     * Use this as an opportunity to deallocate any external resources.
     *
     * NOTE: There is no `componentDidUnmount` since your component will have been
     * destroyed by that point.
     *
     * @optional
     */
    componentWillUnmount: 'DEFINE_MANY',

    /**
     * Replacement for (deprecated) `componentWillMount`.
     *
     * @optional
     */
    UNSAFE_componentWillMount: 'DEFINE_MANY',

    /**
     * Replacement for (deprecated) `componentWillReceiveProps`.
     *
     * @optional
     */
    UNSAFE_componentWillReceiveProps: 'DEFINE_MANY',

    /**
     * Replacement for (deprecated) `componentWillUpdate`.
     *
     * @optional
     */
    UNSAFE_componentWillUpdate: 'DEFINE_MANY',

    // ==== Advanced methods ====

    /**
     * Updates the component's currently mounted DOM representation.
     *
     * By default, this implements React's rendering and reconciliation algorithm.
     * Sophisticated clients may wish to override this.
     *
     * @param {ReactReconcileTransaction} transaction
     * @internal
     * @overridable
     */
    updateComponent: 'OVERRIDE_BASE'
  };

  /**
   * Similar to ReactClassInterface but for static methods.
   */
  var ReactClassStaticInterface = {
    /**
     * This method is invoked after a component is instantiated and when it
     * receives new props. Return an object to update state in response to
     * prop changes. Return null to indicate no change to state.
     *
     * If an object is returned, its keys will be merged into the existing state.
     *
     * @return {object || null}
     * @optional
     */
    getDerivedStateFromProps: 'DEFINE_MANY_MERGED'
  };

  /**
   * Mapping from class specification keys to special processing functions.
   *
   * Although these are declared like instance properties in the specification
   * when defining classes using `React.createClass`, they are actually static
   * and are accessible on the constructor instead of the prototype. Despite
   * being static, they must be defined outside of the "statics" key under
   * which all other static methods are defined.
   */
  var RESERVED_SPEC_KEYS = {
    displayName: function(Constructor, displayName) {
      Constructor.displayName = displayName;
    },
    mixins: function(Constructor, mixins) {
      if (mixins) {
        for (var i = 0; i < mixins.length; i++) {
          mixSpecIntoComponent(Constructor, mixins[i]);
        }
      }
    },
    childContextTypes: function(Constructor, childContextTypes) {
      if (true) {
        validateTypeDef(Constructor, childContextTypes, 'childContext');
      }
      Constructor.childContextTypes = _assign(
        {},
        Constructor.childContextTypes,
        childContextTypes
      );
    },
    contextTypes: function(Constructor, contextTypes) {
      if (true) {
        validateTypeDef(Constructor, contextTypes, 'context');
      }
      Constructor.contextTypes = _assign(
        {},
        Constructor.contextTypes,
        contextTypes
      );
    },
    /**
     * Special case getDefaultProps which should move into statics but requires
     * automatic merging.
     */
    getDefaultProps: function(Constructor, getDefaultProps) {
      if (Constructor.getDefaultProps) {
        Constructor.getDefaultProps = createMergedResultFunction(
          Constructor.getDefaultProps,
          getDefaultProps
        );
      } else {
        Constructor.getDefaultProps = getDefaultProps;
      }
    },
    propTypes: function(Constructor, propTypes) {
      if (true) {
        validateTypeDef(Constructor, propTypes, 'prop');
      }
      Constructor.propTypes = _assign({}, Constructor.propTypes, propTypes);
    },
    statics: function(Constructor, statics) {
      mixStaticSpecIntoComponent(Constructor, statics);
    },
    autobind: function() {}
  };

  function validateTypeDef(Constructor, typeDef, location) {
    for (var propName in typeDef) {
      if (typeDef.hasOwnProperty(propName)) {
        // use a warning instead of an _invariant so components
        // don't show up in prod but only in __DEV__
        if (true) {
          warning(
            typeof typeDef[propName] === 'function',
            '%s: %s type `%s` is invalid; it must be a function, usually from ' +
              'React.PropTypes.',
            Constructor.displayName || 'ReactClass',
            ReactPropTypeLocationNames[location],
            propName
          );
        }
      }
    }
  }

  function validateMethodOverride(isAlreadyDefined, name) {
    var specPolicy = ReactClassInterface.hasOwnProperty(name)
      ? ReactClassInterface[name]
      : null;

    // Disallow overriding of base class methods unless explicitly allowed.
    if (ReactClassMixin.hasOwnProperty(name)) {
      _invariant(
        specPolicy === 'OVERRIDE_BASE',
        'ReactClassInterface: You are attempting to override ' +
          '`%s` from your class specification. Ensure that your method names ' +
          'do not overlap with React methods.',
        name
      );
    }

    // Disallow defining methods more than once unless explicitly allowed.
    if (isAlreadyDefined) {
      _invariant(
        specPolicy === 'DEFINE_MANY' || specPolicy === 'DEFINE_MANY_MERGED',
        'ReactClassInterface: You are attempting to define ' +
          '`%s` on your component more than once. This conflict may be due ' +
          'to a mixin.',
        name
      );
    }
  }

  /**
   * Mixin helper which handles policy validation and reserved
   * specification keys when building React classes.
   */
  function mixSpecIntoComponent(Constructor, spec) {
    if (!spec) {
      if (true) {
        var typeofSpec = typeof spec;
        var isMixinValid = typeofSpec === 'object' && spec !== null;

        if (true) {
          warning(
            isMixinValid,
            "%s: You're attempting to include a mixin that is either null " +
              'or not an object. Check the mixins included by the component, ' +
              'as well as any mixins they include themselves. ' +
              'Expected object but got %s.',
            Constructor.displayName || 'ReactClass',
            spec === null ? null : typeofSpec
          );
        }
      }

      return;
    }

    _invariant(
      typeof spec !== 'function',
      "ReactClass: You're attempting to " +
        'use a component class or function as a mixin. Instead, just use a ' +
        'regular object.'
    );
    _invariant(
      !isValidElement(spec),
      "ReactClass: You're attempting to " +
        'use a component as a mixin. Instead, just use a regular object.'
    );

    var proto = Constructor.prototype;
    var autoBindPairs = proto.__reactAutoBindPairs;

    // By handling mixins before any other properties, we ensure the same
    // chaining order is applied to methods with DEFINE_MANY policy, whether
    // mixins are listed before or after these methods in the spec.
    if (spec.hasOwnProperty(MIXINS_KEY)) {
      RESERVED_SPEC_KEYS.mixins(Constructor, spec.mixins);
    }

    for (var name in spec) {
      if (!spec.hasOwnProperty(name)) {
        continue;
      }

      if (name === MIXINS_KEY) {
        // We have already handled mixins in a special case above.
        continue;
      }

      var property = spec[name];
      var isAlreadyDefined = proto.hasOwnProperty(name);
      validateMethodOverride(isAlreadyDefined, name);

      if (RESERVED_SPEC_KEYS.hasOwnProperty(name)) {
        RESERVED_SPEC_KEYS[name](Constructor, property);
      } else {
        // Setup methods on prototype:
        // The following member methods should not be automatically bound:
        // 1. Expected ReactClass methods (in the "interface").
        // 2. Overridden methods (that were mixed in).
        var isReactClassMethod = ReactClassInterface.hasOwnProperty(name);
        var isFunction = typeof property === 'function';
        var shouldAutoBind =
          isFunction &&
          !isReactClassMethod &&
          !isAlreadyDefined &&
          spec.autobind !== false;

        if (shouldAutoBind) {
          autoBindPairs.push(name, property);
          proto[name] = property;
        } else {
          if (isAlreadyDefined) {
            var specPolicy = ReactClassInterface[name];

            // These cases should already be caught by validateMethodOverride.
            _invariant(
              isReactClassMethod &&
                (specPolicy === 'DEFINE_MANY_MERGED' ||
                  specPolicy === 'DEFINE_MANY'),
              'ReactClass: Unexpected spec policy %s for key %s ' +
                'when mixing in component specs.',
              specPolicy,
              name
            );

            // For methods which are defined more than once, call the existing
            // methods before calling the new property, merging if appropriate.
            if (specPolicy === 'DEFINE_MANY_MERGED') {
              proto[name] = createMergedResultFunction(proto[name], property);
            } else if (specPolicy === 'DEFINE_MANY') {
              proto[name] = createChainedFunction(proto[name], property);
            }
          } else {
            proto[name] = property;
            if (true) {
              // Add verbose displayName to the function, which helps when looking
              // at profiling tools.
              if (typeof property === 'function' && spec.displayName) {
                proto[name].displayName = spec.displayName + '_' + name;
              }
            }
          }
        }
      }
    }
  }

  function mixStaticSpecIntoComponent(Constructor, statics) {
    if (!statics) {
      return;
    }

    for (var name in statics) {
      var property = statics[name];
      if (!statics.hasOwnProperty(name)) {
        continue;
      }

      var isReserved = name in RESERVED_SPEC_KEYS;
      _invariant(
        !isReserved,
        'ReactClass: You are attempting to define a reserved ' +
          'property, `%s`, that shouldn\'t be on the "statics" key. Define it ' +
          'as an instance property instead; it will still be accessible on the ' +
          'constructor.',
        name
      );

      var isAlreadyDefined = name in Constructor;
      if (isAlreadyDefined) {
        var specPolicy = ReactClassStaticInterface.hasOwnProperty(name)
          ? ReactClassStaticInterface[name]
          : null;

        _invariant(
          specPolicy === 'DEFINE_MANY_MERGED',
          'ReactClass: You are attempting to define ' +
            '`%s` on your component more than once. This conflict may be ' +
            'due to a mixin.',
          name
        );

        Constructor[name] = createMergedResultFunction(Constructor[name], property);

        return;
      }

      Constructor[name] = property;
    }
  }

  /**
   * Merge two objects, but throw if both contain the same key.
   *
   * @param {object} one The first object, which is mutated.
   * @param {object} two The second object
   * @return {object} one after it has been mutated to contain everything in two.
   */
  function mergeIntoWithNoDuplicateKeys(one, two) {
    _invariant(
      one && two && typeof one === 'object' && typeof two === 'object',
      'mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.'
    );

    for (var key in two) {
      if (two.hasOwnProperty(key)) {
        _invariant(
          one[key] === undefined,
          'mergeIntoWithNoDuplicateKeys(): ' +
            'Tried to merge two objects with the same key: `%s`. This conflict ' +
            'may be due to a mixin; in particular, this may be caused by two ' +
            'getInitialState() or getDefaultProps() methods returning objects ' +
            'with clashing keys.',
          key
        );
        one[key] = two[key];
      }
    }
    return one;
  }

  /**
   * Creates a function that invokes two functions and merges their return values.
   *
   * @param {function} one Function to invoke first.
   * @param {function} two Function to invoke second.
   * @return {function} Function that invokes the two argument functions.
   * @private
   */
  function createMergedResultFunction(one, two) {
    return function mergedResult() {
      var a = one.apply(this, arguments);
      var b = two.apply(this, arguments);
      if (a == null) {
        return b;
      } else if (b == null) {
        return a;
      }
      var c = {};
      mergeIntoWithNoDuplicateKeys(c, a);
      mergeIntoWithNoDuplicateKeys(c, b);
      return c;
    };
  }

  /**
   * Creates a function that invokes two functions and ignores their return vales.
   *
   * @param {function} one Function to invoke first.
   * @param {function} two Function to invoke second.
   * @return {function} Function that invokes the two argument functions.
   * @private
   */
  function createChainedFunction(one, two) {
    return function chainedFunction() {
      one.apply(this, arguments);
      two.apply(this, arguments);
    };
  }

  /**
   * Binds a method to the component.
   *
   * @param {object} component Component whose method is going to be bound.
   * @param {function} method Method to be bound.
   * @return {function} The bound method.
   */
  function bindAutoBindMethod(component, method) {
    var boundMethod = method.bind(component);
    if (true) {
      boundMethod.__reactBoundContext = component;
      boundMethod.__reactBoundMethod = method;
      boundMethod.__reactBoundArguments = null;
      var componentName = component.constructor.displayName;
      var _bind = boundMethod.bind;
      boundMethod.bind = function(newThis) {
        for (
          var _len = arguments.length,
            args = Array(_len > 1 ? _len - 1 : 0),
            _key = 1;
          _key < _len;
          _key++
        ) {
          args[_key - 1] = arguments[_key];
        }

        // User is trying to bind() an autobound method; we effectively will
        // ignore the value of "this" that the user is trying to use, so
        // let's warn.
        if (newThis !== component && newThis !== null) {
          if (true) {
            warning(
              false,
              'bind(): React component methods may only be bound to the ' +
                'component instance. See %s',
              componentName
            );
          }
        } else if (!args.length) {
          if (true) {
            warning(
              false,
              'bind(): You are binding a component method to the component. ' +
                'React does this for you automatically in a high-performance ' +
                'way, so you can safely remove this call. See %s',
              componentName
            );
          }
          return boundMethod;
        }
        var reboundMethod = _bind.apply(boundMethod, arguments);
        reboundMethod.__reactBoundContext = component;
        reboundMethod.__reactBoundMethod = method;
        reboundMethod.__reactBoundArguments = args;
        return reboundMethod;
      };
    }
    return boundMethod;
  }

  /**
   * Binds all auto-bound methods in a component.
   *
   * @param {object} component Component whose method is going to be bound.
   */
  function bindAutoBindMethods(component) {
    var pairs = component.__reactAutoBindPairs;
    for (var i = 0; i < pairs.length; i += 2) {
      var autoBindKey = pairs[i];
      var method = pairs[i + 1];
      component[autoBindKey] = bindAutoBindMethod(component, method);
    }
  }

  var IsMountedPreMixin = {
    componentDidMount: function() {
      this.__isMounted = true;
    }
  };

  var IsMountedPostMixin = {
    componentWillUnmount: function() {
      this.__isMounted = false;
    }
  };

  /**
   * Add more to the ReactClass base class. These are all legacy features and
   * therefore not already part of the modern ReactComponent.
   */
  var ReactClassMixin = {
    /**
     * TODO: This will be deprecated because state should always keep a consistent
     * type signature and the only use case for this, is to avoid that.
     */
    replaceState: function(newState, callback) {
      this.updater.enqueueReplaceState(this, newState, callback);
    },

    /**
     * Checks whether or not this composite component is mounted.
     * @return {boolean} True if mounted, false otherwise.
     * @protected
     * @final
     */
    isMounted: function() {
      if (true) {
        warning(
          this.__didWarnIsMounted,
          '%s: isMounted is deprecated. Instead, make sure to clean up ' +
            'subscriptions and pending requests in componentWillUnmount to ' +
            'prevent memory leaks.',
          (this.constructor && this.constructor.displayName) ||
            this.name ||
            'Component'
        );
        this.__didWarnIsMounted = true;
      }
      return !!this.__isMounted;
    }
  };

  var ReactClassComponent = function() {};
  _assign(
    ReactClassComponent.prototype,
    ReactComponent.prototype,
    ReactClassMixin
  );

  /**
   * Creates a composite component class given a class specification.
   * See https://facebook.github.io/react/docs/top-level-api.html#react.createclass
   *
   * @param {object} spec Class specification (which must define `render`).
   * @return {function} Component constructor function.
   * @public
   */
  function createClass(spec) {
    // To keep our warnings more understandable, we'll use a little hack here to
    // ensure that Constructor.name !== 'Constructor'. This makes sure we don't
    // unnecessarily identify a class without displayName as 'Constructor'.
    var Constructor = identity(function(props, context, updater) {
      // This constructor gets overridden by mocks. The argument is used
      // by mocks to assert on what gets mounted.

      if (true) {
        warning(
          this instanceof Constructor,
          'Something is calling a React component directly. Use a factory or ' +
            'JSX instead. See: https://fb.me/react-legacyfactory'
        );
      }

      // Wire up auto-binding
      if (this.__reactAutoBindPairs.length) {
        bindAutoBindMethods(this);
      }

      this.props = props;
      this.context = context;
      this.refs = emptyObject;
      this.updater = updater || ReactNoopUpdateQueue;

      this.state = null;

      // ReactClasses doesn't have constructors. Instead, they use the
      // getInitialState and componentWillMount methods for initialization.

      var initialState = this.getInitialState ? this.getInitialState() : null;
      if (true) {
        // We allow auto-mocks to proceed as if they're returning null.
        if (
          initialState === undefined &&
          this.getInitialState._isMockFunction
        ) {
          // This is probably bad practice. Consider warning here and
          // deprecating this convenience.
          initialState = null;
        }
      }
      _invariant(
        typeof initialState === 'object' && !Array.isArray(initialState),
        '%s.getInitialState(): must return an object or null',
        Constructor.displayName || 'ReactCompositeComponent'
      );

      this.state = initialState;
    });
    Constructor.prototype = new ReactClassComponent();
    Constructor.prototype.constructor = Constructor;
    Constructor.prototype.__reactAutoBindPairs = [];

    injectedMixins.forEach(mixSpecIntoComponent.bind(null, Constructor));

    mixSpecIntoComponent(Constructor, IsMountedPreMixin);
    mixSpecIntoComponent(Constructor, spec);
    mixSpecIntoComponent(Constructor, IsMountedPostMixin);

    // Initialize the defaultProps property after all mixins have been merged.
    if (Constructor.getDefaultProps) {
      Constructor.defaultProps = Constructor.getDefaultProps();
    }

    if (true) {
      // This is a tag to indicate that the use of these method names is ok,
      // since it's used with createClass. If it's not, then it's likely a
      // mistake so we'll warn you to use the static property, property
      // initializer or constructor respectively.
      if (Constructor.getDefaultProps) {
        Constructor.getDefaultProps.isReactClassApproved = {};
      }
      if (Constructor.prototype.getInitialState) {
        Constructor.prototype.getInitialState.isReactClassApproved = {};
      }
    }

    _invariant(
      Constructor.prototype.render,
      'createClass(...): Class specification must implement a `render` method.'
    );

    if (true) {
      warning(
        !Constructor.prototype.componentShouldUpdate,
        '%s has a method called ' +
          'componentShouldUpdate(). Did you mean shouldComponentUpdate()? ' +
          'The name is phrased as a question because the function is ' +
          'expected to return a value.',
        spec.displayName || 'A component'
      );
      warning(
        !Constructor.prototype.componentWillRecieveProps,
        '%s has a method called ' +
          'componentWillRecieveProps(). Did you mean componentWillReceiveProps()?',
        spec.displayName || 'A component'
      );
      warning(
        !Constructor.prototype.UNSAFE_componentWillRecieveProps,
        '%s has a method called UNSAFE_componentWillRecieveProps(). ' +
          'Did you mean UNSAFE_componentWillReceiveProps()?',
        spec.displayName || 'A component'
      );
    }

    // Reduce time spent doing lookups by setting these on the prototype.
    for (var methodName in ReactClassInterface) {
      if (!Constructor.prototype[methodName]) {
        Constructor.prototype[methodName] = null;
      }
    }

    return Constructor;
  }

  return createClass;
}

module.exports = factory;


/***/ }),

/***/ "./node_modules/create-react-class/index.js":
/*!**************************************************!*\
  !*** ./node_modules/create-react-class/index.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var React = __webpack_require__(/*! react */ "react");
var factory = __webpack_require__(/*! ./factory */ "./node_modules/create-react-class/factory.js");

if (typeof React === 'undefined') {
  throw Error(
    'create-react-class could not find the React object. If you are using script tags, ' +
      'make sure that React is being loaded before create-react-class.'
  );
}

// Hack to grab NoopUpdateQueue from isomorphic React
var ReactNoopUpdateQueue = new React.Component().updater;

module.exports = factory(
  React.Component,
  React.isValidElement,
  ReactNoopUpdateQueue
);


/***/ }),

/***/ "./node_modules/fbjs/lib/emptyFunction.js":
/*!************************************************!*\
  !*** ./node_modules/fbjs/lib/emptyFunction.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */

function makeEmptyFunction(arg) {
  return function () {
    return arg;
  };
}

/**
 * This function accepts and discards inputs; it has no side effects. This is
 * primarily useful idiomatically for overridable function endpoints which
 * always need to be callable, since JS lacks a null-call idiom ala Cocoa.
 */
var emptyFunction = function emptyFunction() {};

emptyFunction.thatReturns = makeEmptyFunction;
emptyFunction.thatReturnsFalse = makeEmptyFunction(false);
emptyFunction.thatReturnsTrue = makeEmptyFunction(true);
emptyFunction.thatReturnsNull = makeEmptyFunction(null);
emptyFunction.thatReturnsThis = function () {
  return this;
};
emptyFunction.thatReturnsArgument = function (arg) {
  return arg;
};

module.exports = emptyFunction;

/***/ }),

/***/ "./node_modules/fbjs/lib/emptyObject.js":
/*!**********************************************!*\
  !*** ./node_modules/fbjs/lib/emptyObject.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var emptyObject = {};

if (true) {
  Object.freeze(emptyObject);
}

module.exports = emptyObject;

/***/ }),

/***/ "./node_modules/fbjs/lib/invariant.js":
/*!********************************************!*\
  !*** ./node_modules/fbjs/lib/invariant.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



/**
 * Use invariant() to assert state which your program assumes to be true.
 *
 * Provide sprintf-style format (only %s is supported) and arguments
 * to provide information about what broke and what you were
 * expecting.
 *
 * The invariant message will be stripped in production, but the invariant
 * will remain to ensure logic does not differ in production.
 */

var validateFormat = function validateFormat(format) {};

if (true) {
  validateFormat = function validateFormat(format) {
    if (format === undefined) {
      throw new Error('invariant requires an error message argument');
    }
  };
}

function invariant(condition, format, a, b, c, d, e, f) {
  validateFormat(format);

  if (!condition) {
    var error;
    if (format === undefined) {
      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');
    } else {
      var args = [a, b, c, d, e, f];
      var argIndex = 0;
      error = new Error(format.replace(/%s/g, function () {
        return args[argIndex++];
      }));
      error.name = 'Invariant Violation';
    }

    error.framesToPop = 1; // we don't care about invariant's own frame
    throw error;
  }
}

module.exports = invariant;

/***/ }),

/***/ "./node_modules/fbjs/lib/warning.js":
/*!******************************************!*\
  !*** ./node_modules/fbjs/lib/warning.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */



var emptyFunction = __webpack_require__(/*! ./emptyFunction */ "./node_modules/fbjs/lib/emptyFunction.js");

/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var warning = emptyFunction;

if (true) {
  var printWarning = function printWarning(format) {
    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    var argIndex = 0;
    var message = 'Warning: ' + format.replace(/%s/g, function () {
      return args[argIndex++];
    });
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };

  warning = function warning(condition, format) {
    if (format === undefined) {
      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');
    }

    if (format.indexOf('Failed Composite propType: ') === 0) {
      return; // Ignore CompositeComponent proptype check.
    }

    if (!condition) {
      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        args[_key2 - 2] = arguments[_key2];
      }

      printWarning.apply(undefined, [format].concat(args));
    }
  };
}

module.exports = warning;

/***/ }),

/***/ "./node_modules/object-assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object-assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/


/* eslint-disable no-unused-vars */
var getOwnPropertySymbols = Object.getOwnPropertySymbols;
var hasOwnProperty = Object.prototype.hasOwnProperty;
var propIsEnumerable = Object.prototype.propertyIsEnumerable;

function toObject(val) {
	if (val === null || val === undefined) {
		throw new TypeError('Object.assign cannot be called with null or undefined');
	}

	return Object(val);
}

function shouldUseNative() {
	try {
		if (!Object.assign) {
			return false;
		}

		// Detect buggy property enumeration order in older V8 versions.

		// https://bugs.chromium.org/p/v8/issues/detail?id=4118
		var test1 = new String('abc');  // eslint-disable-line no-new-wrappers
		test1[5] = 'de';
		if (Object.getOwnPropertyNames(test1)[0] === '5') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test2 = {};
		for (var i = 0; i < 10; i++) {
			test2['_' + String.fromCharCode(i)] = i;
		}
		var order2 = Object.getOwnPropertyNames(test2).map(function (n) {
			return test2[n];
		});
		if (order2.join('') !== '0123456789') {
			return false;
		}

		// https://bugs.chromium.org/p/v8/issues/detail?id=3056
		var test3 = {};
		'abcdefghijklmnopqrst'.split('').forEach(function (letter) {
			test3[letter] = letter;
		});
		if (Object.keys(Object.assign({}, test3)).join('') !==
				'abcdefghijklmnopqrst') {
			return false;
		}

		return true;
	} catch (err) {
		// We don't expect any of the above to throw, but better to be safe.
		return false;
	}
}

module.exports = shouldUseNative() ? Object.assign : function (target, source) {
	var from;
	var to = toObject(target);
	var symbols;

	for (var s = 1; s < arguments.length; s++) {
		from = Object(arguments[s]);

		for (var key in from) {
			if (hasOwnProperty.call(from, key)) {
				to[key] = from[key];
			}
		}

		if (getOwnPropertySymbols) {
			symbols = getOwnPropertySymbols(from);
			for (var i = 0; i < symbols.length; i++) {
				if (propIsEnumerable.call(from, symbols[i])) {
					to[symbols[i]] = from[symbols[i]];
				}
			}
		}
	}

	return to;
};


/***/ }),

/***/ "./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var printWarning = function() {};

if (true) {
  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
  var loggedTypeFailures = {};

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (true) {
    for (var typeSpecName in typeSpecs) {
      if (typeSpecs.hasOwnProperty(typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          )

        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

module.exports = checkPropTypes;


/***/ }),

/***/ "./node_modules/prop-types/factoryWithTypeCheckers.js":
/*!************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var assign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
var checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ "./node_modules/prop-types/checkPropTypes.js");

var printWarning = function() {};

if (true) {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message) {
    this.message = message;
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if (true) {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if ("development" !== 'production' && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
       true ? printWarning('Invalid argument supplied to oneOf, expected an instance of array.') : undefined;
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues);
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (propValue.hasOwnProperty(key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : undefined;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {
          return null;
        }
      }

      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (!checker) {
          continue;
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from
      // props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),

/***/ "./node_modules/prop-types/index.js":
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (true) {
  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&
    Symbol.for &&
    Symbol.for('react.element')) ||
    0xeac7;

  var isValidElement = function(object) {
    return typeof object === 'object' &&
      object !== null &&
      object.$$typeof === REACT_ELEMENT_TYPE;
  };

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ "./node_modules/prop-types/factoryWithTypeCheckers.js")(isValidElement, throwOnDirectAccess);
} else {}


/***/ }),

/***/ "./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),

/***/ "./scripts/build/index.js":
/*!********************************!*\
  !*** ./scripts/build/index.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AlloyEditor = undefined;

__webpack_require__(/*! ../../lib/ckeditor/ckeditor.js */ "./lib/ckeditor/ckeditor.js");

var _main = __webpack_require__(/*! ../../src/adapter/main.js */ "./src/adapter/main.js");

var AlloyEditor = _interopRequireWildcard(_main);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

if (typeof window !== 'undefined') {
    window.CKEDITOR.disableAutoInline = true;
    window.AlloyEditor = AlloyEditor;
}

exports.AlloyEditor = AlloyEditor;
exports.default = AlloyEditor;

/***/ }),

/***/ "./src/adapter/core.js":
/*!*****************************!*\
  !*** ./src/adapter/core.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

__webpack_require__(/*! ../core */ "./src/core/index.js");

__webpack_require__(/*! ../plugins */ "./src/plugins/index.js");

__webpack_require__(/*! ../components/uibridge */ "./src/components/uibridge/index.js");

var _oop = __webpack_require__(/*! ../oop/oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

var _lang = __webpack_require__(/*! ../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _base = __webpack_require__(/*! ../oop/base */ "./src/oop/base.js");

var _base2 = _interopRequireDefault(_base);

var _selections = __webpack_require__(/*! ../selections/selections */ "./src/selections/selections.js");

var _selections2 = _interopRequireDefault(_selections);

var _main = __webpack_require__(/*! ../components/main.jsx */ "./src/components/main.jsx");

var _main2 = _interopRequireDefault(_main);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * AlloyEditor main class. Creates instance of the editor and provides the user configuration
 * to the UI.
 *
 * @class Core
 * @constructor
 */
function Core(config) {
    Core.superclass.constructor.call(this, config);
}

(0, _oop2.default)(Core, _base2.default, {
    /**
     * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor
     * instance, passing it the provided configuration attributes.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method initializer
     * @param config {Object} Configuration object literal for the editor.
     */
    initializer: function initializer(config) {
        var node = this.get('srcNode');

        if (this.get('enableContentEditable')) {
            node.setAttribute('contenteditable', 'true');
        }

        var editor = CKEDITOR.inline(node);

        editor.config.allowedContent = this.get('allowedContent');

        editor.config.toolbars = this.get('toolbars');

        editor.config.removePlugins = this.get('removePlugins');

        editor.config.extraPlugins = this.get('extraPlugins');

        editor.config.placeholderClass = this.get('placeholderClass');

        editor.config.pasteFromWordRemoveStyles = false;
        editor.config.pasteFromWordRemoveFontStyles = false;

        editor.config.selectionKeystrokes = this.get('selectionKeystrokes');

        _lang2.default.mix(editor.config, config);

        if (CKEDITOR.env.ie && !CKEDITOR.env.edge) {
            editor.config.extraPlugins = editor.config.extraPlugins.replace('ae_dragresize', 'ae_dragresize_ie');
            editor.config.removePlugins = editor.config.removePlugins.replace('ae_dragresize', 'ae_dragresize_ie');
        }

        editor.once('contentDom', function () {

            this._addReadOnlyLinkClickListener(editor);

            var editable = editor.editable();

            editable.addClass('ae-editable');
        }.bind(this));

        this._editor = editor;

        AlloyEditor.loadLanguageResources(this._renderUI.bind(this));
    },

    /**
     * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor
     * instance and destroys all created toolbars.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method destructor
     */
    destructor: function destructor() {
        this._destroyed = true;

        if (this._editorUIElement) {
            _reactDom2.default.unmountComponentAtNode(this._editorUIElement);
            this._editorUIElement.parentNode.removeChild(this._editorUIElement);
        }

        var nativeEditor = this.get('nativeEditor');

        if (nativeEditor) {
            var editable = nativeEditor.editable();

            if (editable) {
                editable.removeClass('ae-editable');

                if (this.get('enableContentEditable')) {
                    this.get('srcNode').setAttribute('contenteditable', 'false');
                }
            }

            this._clearSelections();

            nativeEditor.destroy();
        }
    },

    /**
     * Clear selections from window object
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _clearSelections
     */
    _clearSelections: function _clearSelections() {
        var nativeEditor = this.get('nativeEditor');
        var isMSSelection = typeof window.getSelection != 'function';

        if (isMSSelection) {
            nativeEditor.document.$.selection.empty();
        } else {
            nativeEditor.document.getWindow().$.getSelection().removeAllRanges();
        }
    },

    /**
     * Method to set default link behavior
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _addReadOnlyLinkClickListener
     * @param {Object} editor
     */
    _addReadOnlyLinkClickListener: function _addReadOnlyLinkClickListener(editor) {
        editor.editable().on('click', this._defaultReadOnlyClickFn, this, {
            editor: editor
        });
    },

    /**
     * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens
     * the link in a new window.
     *
     * @memberof Core
     * @instance
     * @event readOnlyClick
     * @protected
     * @method _defaultReadOnlyClickFn
     * @param {Object} event The fired `click` event payload
     */
    _defaultReadOnlyClickFn: function _defaultReadOnlyClickFn(event) {
        var mouseEvent = event.data.$;
        var hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;
        var shouldOpen = this._editor.config.readOnly || hasCtrlKey;

        mouseEvent.preventDefault();

        if (!shouldOpen) {
            return;
        }

        if (event.listenerData.editor.editable().editor.fire('readOnlyClick', event.data) !== false) {
            var ckElement = new CKEDITOR.dom.elementPath(event.data.getTarget(), this);
            var link = ckElement.lastElement;

            if (link) {
                var href = link.$.attributes.href ? link.$.attributes.href.value : null;
                var target = hasCtrlKey ? '_blank' : link.$.attributes.target ? link.$.attributes.target.value : null;
                this._redirectLink(href, target);
            }
        }
    },

    /**
     * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _getNativeEditor
     * @return {Object} The current instance of CKEditor.
     */
    _getNativeEditor: function _getNativeEditor() {
        return this._editor;
    },

    /**
     * Redirects the browser to a given link
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _redirectLink
     * @param {string} href The href to take the browser to
     * @param {string=} target Specifies where to display the link
     */
    _redirectLink: function _redirectLink(href, target) {
        if (target && href) {
            window.open(href, target);
        } else if (href) {
            window.location.href = href;
        }
    },

    /**
     * Renders the specified from the user toolbars.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _renderUI
     */
    _renderUI: function _renderUI() {
        if (!this._destroyed) {
            var editorUIElement = document.createElement('div');
            editorUIElement.className = 'ae-ui';

            var uiNode = this.get('uiNode') || document.body;

            uiNode.appendChild(editorUIElement);

            this._mainUI = _reactDom2.default.render(_react2.default.createElement(_main2.default, {
                editor: this,
                eventsDelay: this.get('eventsDelay'),
                toolbars: this.get('toolbars') }), editorUIElement);

            this._editorUIElement = editorUIElement;

            this.get('nativeEditor').fire('uiReady');
        }
    },

    /**
     * The function returns an HTML element from the passed value. If the passed value is a string, it should be
     * the Id of the element which have to be retrieved from the DOM.
     * If an HTML Element is passed, the element itself will be returned.
     *
     * @memberof Core
     * @instance
     * @method _toElement
     * @protected
     * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,
     * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.
     * @return {HTMLElement} An HTML element.
     */
    _toElement: function _toElement(value) {
        if (_lang2.default.isString(value)) {
            value = document.getElementById(value);
        }

        return value;
    },

    /**
     * Validates the allowed content attribute. Look
     * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the
     * supported values.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _validateAllowedContent
     * @param {Any} The value to be checked
     * @return {Boolean} True if the current value is valid configuration, false otherwise
     */
    _validateAllowedContent: function _validateAllowedContent(value) {
        return _lang2.default.isString(value) || _lang2.default.isObject(value) || _lang2.default.isBoolean(value);
    },

    /**
     * Validates the value of toolbars attribute
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _validateToolbars
     * @param {Any} The value to be checked
     * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise
     */
    _validateToolbars: function _validateToolbars(value) {
        return _lang2.default.isObject(value) || _lang2.default.isNull(value);
    }
}, {
    ATTRS: {
        /**
         * Configures the allowed content for the current instance of AlloyEditor.
         * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)
         * for more information about the valid values.
         *
         * @memberof Core
         * @instance
         * @property allowedContent
         * @default true
         * @writeOnce
         * @type {Boolean, String, Object}
         */
        allowedContent: {
            validator: '_validateAllowedContent',
            value: true,
            writeOnce: true
        },

        /**
         * Specifies whether AlloyEditor set the contenteditable attribute
         * to "true" on its srcNode.
         *
         * @memberof Core
         * @instance
         * @property enableContentEditable
         * @type Boolean
         * @default true
         * @writeOnce
         */
        enableContentEditable: {
            validator: _lang2.default.isBoolean,
            value: true,
            writeOnce: true
        },

        /**
         * The delay (timeout), in ms, after which events such like key or mouse events will be processed.
         *
         * @memberof Core
         * @instance
         * @property eventsDelay
         * @type {Number}
         */
        eventsDelay: {
            validator: _lang2.default.isNumber,
            value: 100
        },

        /**
         * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to
         * make AlloyEditor to work properly.
         *
         * @memberof Core
         * @instance
         * @property extraPlugins
         * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'
         * @writeOnce
         * @type {String}
         */
        extraPlugins: {
            validator: _lang2.default.isString,
            value: 'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' + 'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,' + 'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge,font,colorbutton',
            writeOnce: true
        },

        /**
         * Specifies the "mode" for alloy editor
         * @memberof Core
         * @instance
         * @property mode
         * @default 'simple'
         * @writeOnce
         * @type {String}
         */
        mode: {
            validator: _lang2.default.isString,
            value: 'simple'
        },

        /**
         * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.
         *
         * @memberof Core
         * @instance
         * @property nativeEditor
         * @readOnly
         * @type {Object}
         */
        nativeEditor: {
            getter: '_getNativeEditor',
            readOnly: true
        },

        /**
         * Specifies the class, which should be added by Placeholder plugin
         * {{#crossLink "CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}
         * when editor is not focused.
         *
         * @memberof Core
         * @instance
         * @property placeholderClass
         * @default 'ae-placeholder'
         * @writeOnce
         * @type {String}
         */
        placeholderClass: {
            validator: _lang2.default.isString,
            value: 'ae-placeholder',
            writeOnce: true
        },

        /**
         * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.
         * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor
         * comes with its own highly optimized copy of CKEditor (just customized via their official download page).
         * This version does not come with the unneeded plugins, so the value of this property won't be needed.
         * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the
         * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them
         * entirely from CKEditor. It just removes them from its current instance, in which you will use different
         * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same
         * page!
         *
         * @memberof Core
         * @instance
         * @property removePlugins
         * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'
         * @writeOnce
         * @type {String}
         */
        removePlugins: {
            validator: _lang2.default.isString,
            value: 'contextmenu,toolbar,elementspath,resize,liststyle,link',
            writeOnce: true
        },

        /**
         * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar
         * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke
         * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with
         * the selection name to trigger.
         *
         * @memberof Core
         * @instance
         * @property selectionKeystrokes
         * @type {Array}
         */
        selectionKeystrokes: {
            validator: _lang2.default.isArray,
            value: [{
                keys: CKEDITOR.CTRL + 76 /*L*/
                , selection: 'link'
            }, {
                keys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /*L*/
                , selection: 'embed'
            }]
        },

        /**
         * The Node ID or HTMl node, which AlloyEditor should use as an editable area.
         *
         * @memberof Core
         * @instance
         * @property srcNode
         * @type String | Node
         * @writeOnce
         */
        srcNode: {
            setter: '_toElement',
            writeOnce: true
        },

        /**
         * The toolbars configuration for this editor instance
         *
         * @memberof Core
         * @instance
         * @property {Object} toolbars
         */
        toolbars: {
            validator: '_validateToolbars',
            value: {
                add: {
                    buttons: ['image', 'embed', 'camera', 'hline', 'table'],
                    tabIndex: 2
                },
                styles: {
                    selections: _selections2.default,
                    tabIndex: 1
                }
            }
        },

        /**
         * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.
         *
         * @memberof Core
         * @instance
         * @property uiNode
         * @type String | Node
         * @writeOnce
         */
        uiNode: {
            setter: '_toElement',
            writeOnce: true
        }
    }
});

CKEDITOR.event.implementOn(Core);

exports.default = Core;

/***/ }),

/***/ "./src/adapter/main.js":
/*!*****************************!*\
  !*** ./src/adapter/main.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Toolbars = exports.SelectionTest = exports.SelectionSetPosition = exports.Selections = exports.SelectionGetArrowBoxClasses = exports.registerBridgeButton = exports.OOP = exports.loadLanguageResources = exports.Lang = exports.implementEventTarget = exports.getUrl = exports.getButtons = exports.getBasePath = exports.editable = exports.Core = exports.Buttons = exports.Attribute = undefined;

var _core = __webpack_require__(/*! ./core.js */ "./src/adapter/core.js");

var _core2 = _interopRequireDefault(_core);

var _lang = __webpack_require__(/*! ../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _buttons = __webpack_require__(/*! ../components/buttons */ "./src/components/buttons/index.js");

var _buttons2 = _interopRequireDefault(_buttons);

var _toolbars = __webpack_require__(/*! ../components/toolbars */ "./src/components/toolbars/index.js");

var _toolbars2 = _interopRequireDefault(_toolbars);

var _selectionArrowbox = __webpack_require__(/*! ../selections/selection-arrowbox */ "./src/selections/selection-arrowbox.js");

var _selectionArrowbox2 = _interopRequireDefault(_selectionArrowbox);

var _selections = __webpack_require__(/*! ../selections/selections */ "./src/selections/selections.js");

var _selections2 = _interopRequireDefault(_selections);

var _selectionPosition = __webpack_require__(/*! ../selections/selection-position */ "./src/selections/selection-position.js");

var _selectionPosition2 = _interopRequireDefault(_selectionPosition);

var _selectionTest = __webpack_require__(/*! ../selections/selection-test */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

var _attribute = __webpack_require__(/*! ../oop/attribute */ "./src/oop/attribute.js");

var _attribute2 = _interopRequireDefault(_attribute);

var _oop = __webpack_require__(/*! ../oop/oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

__webpack_require__(/*! ../plugins */ "./src/plugins/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// An object containing all currently registered plugins in AlloyEditor.
var BRIDGE_BUTTONS = {};

/**
 * Creates an instance of AlloyEditor.
 *
 * @memberof AlloyEditor
 * @method editable
 * @static
 * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.
 * @param {Object} config Configuration attributes for the current instance of AlloyEditor.
 * @return {Object} An instance of {{#crossLink "Core"}}{{/crossLink}}
 */
var editable = function editable(node, config) {
    config = config || {};
    config.srcNode = node;

    AlloyEditor.implementEventTarget();

    return new _core2.default(config);
};

/**
 * The full URL for the AlloyEditor installation directory.
 * It is possible to manually provide the base path by setting a
 * global variable named `ALLOYEDITOR_BASEPATH`. This global variable
 * must be set **before** the editor script loading.
 *
 * @memberof AlloyEditor
 * @method getBasePath
 * @static
 * @return {String} The found base path
 */
var getBasePath = function getBasePath() {
    // Find out the editor directory path, based on its <script> tag.
    var path = window.ALLOYEDITOR_BASEPATH || '';

    if (!path) {
        var scripts = document.getElementsByTagName('script');

        for (var i = 0; i < scripts.length; i++) {
            var match = scripts[i].src.match(AlloyEditor.regexBasePath);

            if (match) {
                path = match[1];
                break;
            }
        }
    }

    // In IE (only) the script.src string is the raw value entered in the
    // HTML source. Other browsers return the full resolved URL instead.
    if (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {
        // Absolute path.
        if (path.indexOf('/') === 0) {
            path = location.href.match(/^.*?:\/\/[^\/]*/)[0] + path;
        }
        // Relative path.
        else {
                path = location.href.match(/^[^\?]*\/(?:)/)[0] + path;
            }
    }

    if (!path) {
        throw 'The AlloyEditor installation path could not be automatically detected. Please set the global variable "ALLOYEDITOR_BASEPATH" before creating editor instances.';
    }

    return path;
};

/**
 * Detects and load the corresponding language file if AlloyEditor language strings are not already present.
 * The function fires a {{#crossLink "AlloyEditor/languageResourcesLoaded:event"}}{{/crossLink}} event
 *
 * @memberof AlloyEditor
 * @method loadLanguageResources
 * @static
 * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.
 */
var loadLanguageResources = function loadLanguageResources(callback) {
    AlloyEditor.implementEventTarget();

    if (_lang2.default.isFunction(callback)) {
        if (AlloyEditor.Strings) {
            setTimeout(callback, 0);
        } else {
            AlloyEditor.once('languageResourcesLoaded', function () {
                setTimeout(callback, 0);
            });
        }
    }

    if (!AlloyEditor._langResourceRequested) {
        AlloyEditor._langResourceRequested = true;

        var languages = ['af', 'ar', 'bg', 'bn', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en', 'eo', 'es', 'et', 'eu', 'fa', 'fi', 'fo', 'fr-ca', 'fr', 'gl', 'gu', 'he', 'hi', 'hr', 'hu', 'id', 'is', 'it', 'ja', 'ka', 'km', 'ko', 'ku', 'lt', 'lv', 'mk', 'mn', 'ms', 'nb', 'nl', 'no', 'pl', 'pt-br', 'pt', 'ro', 'ru', 'si', 'sk', 'sl', 'sq', 'sr-latn', 'sr', 'sv', 'th', 'tr', 'tt', 'ug', 'uk', 'vi', 'zh-cn', 'zh'];

        var userLanguage = navigator.language || navigator.userLanguage || 'en';

        var parts = userLanguage.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/);
        var lang = parts[1];
        var locale = parts[2];

        if (languages.indexOf(lang + '-' + locale) >= 0) {
            lang = lang + '-' + locale;
        } else if (languages.indexOf(lang) === -1) {
            lang = 'en';
        }

        CKEDITOR.scriptLoader.load(AlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'), function (loaded) {
            if (loaded) {
                AlloyEditor.fire('languageResourcesLoaded');
            }
        }, this);
    }
};

/**
 * Gets the full URL for AlloyEditor resources. By default, URLs
 * returned by this function contain a querystring parameter ("t")
 * set to the {@link CKEDITOR#timestamp} value.
 *
 * @memberof AlloyEditor
 * @method getUrl
 * @static
 * @param {String} resource The resource whose full URL we want to get.
 * It may be a full, absolute, or relative URL.
 * @return {String} The full URL.
 */
var getUrl = function getUrl(resource) {
    var basePath = AlloyEditor.getBasePath();

    // If this is not a full or absolute path.
    if (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {
        resource = basePath + resource;
    }

    // Add the timestamp, except for directories.
    if (CKEDITOR.timestamp && resource.charAt(resource.length - 1) !== '/' && !/[&?]t=/.test(resource)) {
        resource += (resource.indexOf('?') >= 0 ? '&' : '?') + 't=' + CKEDITOR.timestamp;
    }

    return resource;
};

/**
 * Implements event firing and subscribing via CKEDITOR.event.
 *
 * @memberof AlloyEditor
 * @method implementEventTarget
 * @static
 */
var implementEventTarget = function implementEventTarget() {
    if (!AlloyEditor.fire && !AlloyEditor.on) {
        CKEDITOR.event.implementOn(AlloyEditor);
    }
};

/**
 * Regular expression which should match the script which have been used to load AlloyEditor.
 *
 * @memberof AlloyEditor
 * @property regexBasePath
 * @type {RegExp}
 * @static
 */
var regexBasePath = /(^|.*[\\\/])(?:alloy-editor[^/]+|alloy-editor)\.js(?:\?.*|;.*)?$/i;

/**
 * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event
 * is fired, AlloyEditor.Strings will be populated with data.
 *
 * @event languageResourcesLoaded
 */

/**
 * Returns the required plugin names needed for a given plugin
 * if it is already registered or an empty array.
 *
 * @memberof AlloyEditor
 * @method getButtons
 * @param {Array} buttons An array of buttons or plugin names.
 * @return {Function} A function that can be invoked to resolve the requested button names.
 * @static
 */
var getButtons = function getButtons(buttons) {
    return function () {
        return buttons.reduce(function (acc, val) {
            val = BRIDGE_BUTTONS[val] || [val];
            return acc.concat(val);
        }, []);
    };
};

/**
 * Register a button and try to get its required plugins.
 *
 * @memberof AlloyEditor
 * @method registerBridgeButton
 * @param {String} buttonName The name of the button.
 * @param {String} pluginName The name of the plugin that registers the button.
 * @static
 */
var registerBridgeButton = function registerBridgeButton(buttonName, pluginName) {
    if (!BRIDGE_BUTTONS[pluginName]) {
        BRIDGE_BUTTONS[pluginName] = [];
    }

    BRIDGE_BUTTONS[pluginName].push(buttonName);
};

/**
 * @method OOP
 * @memberof AlloyEditor
 */
var OOP = {
    extend: _oop2.default
};

exports.Attribute = _attribute2.default;
exports.Buttons = _buttons2.default;
exports.Core = _core2.default;
exports.editable = editable;
exports.getBasePath = getBasePath;
exports.getButtons = getButtons;
exports.getUrl = getUrl;
exports.implementEventTarget = implementEventTarget;
exports.Lang = _lang2.default;
exports.loadLanguageResources = loadLanguageResources;
exports.OOP = OOP;
exports.registerBridgeButton = registerBridgeButton;
exports.SelectionGetArrowBoxClasses = _selectionArrowbox2.default;
exports.Selections = _selections2.default;
exports.SelectionSetPosition = _selectionPosition2.default;
exports.SelectionTest = _selectionTest2.default;
exports.Toolbars = _toolbars2.default;

/***/ }),

/***/ "./src/components/base/button-action-style.js":
/*!****************************************************!*\
  !*** ./src/components/base/button-action-style.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonActionStyle is a mixin that provides applying style implementation for a
 * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.
 *
 * To execute properly, the component has to expose the following methods which can be obtained
 * out of the box using the {{#crossLink "ButtonStyle"}}{{/crossLink}} mixin:
 * - `Function` {{#crossLink "ButtonStyle/isActive"}}{{/crossLink}} to check the active state
 * - `Function` {{#crossLink "ButtonStyle/getStyle"}}{{/crossLink}} to return the style that should be applied
 *
 * @class ButtonActionStyle
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'applyStyle',

            /**
             * Removes or applies the component style to the current selection.
             *
             * @instance
             * @memberof ButtonActionStyle
             * @method applyStyle
             */
            value: function applyStyle() {
                if (_lang2.default.isFunction(this.isActive) && _lang2.default.isFunction(this.getStyle)) {
                    var editor = this.props.editor.get('nativeEditor');

                    editor.getSelection().lock();

                    if (this.isActive()) {
                        editor.removeStyle(this.getStyle());
                    } else {
                        editor.applyStyle(this.getStyle());
                    }

                    editor.getSelection().unlock();

                    editor.fire('actionPerformed', this);
                }
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-command-active.js":
/*!******************************************************!*\
  !*** ./src/components/base/button-command-active.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonCommandActive is a mixin that provides an `isActive` method to determine if
 * a context-aware command is currently in an active state.
 *
 * @class ButtonCommandActive
 */
exports.default = function (WrappedComponent) {
  return function (_WrappedComponent) {
    _inherits(_class, _WrappedComponent);

    function _class() {
      _classCallCheck(this, _class);

      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
    }

    _createClass(_class, [{
      key: 'isActive',

      /**
       * Checks if the command is active in the current selection.
       *
       * @instance
       * @memberof ButtonCommandActive
       * @method isActive
       * @return {Boolean} True if the command is active, false otherwise.
       */
      value: function isActive() {
        var editor = this.props.editor.get('nativeEditor');

        var command = editor.getCommand(this.props.command);

        return command ? command.state === CKEDITOR.TRISTATE_ON : false;
      }
    }]);

    return _class;
  }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-command.js":
/*!***********************************************!*\
  !*** ./src/components/base/button-command.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonCommand is a mixin that executes a command via CKEDITOR's API.
 *
 * @class ButtonCommand
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'execCommand',

            /**
             * Executes a CKEditor command and fires `actionPerformed` event.
             *
             * @instance
             * @memberof ButtonCommand
             * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.
             * @method execCommand
             */
            value: function execCommand(data) {
                var editor = this.props.editor.get('nativeEditor');

                editor.execCommand(this.props.command, data);

                if (this.props.modifiesSelection) {
                    editor.selectionChange(true);
                }

                editor.fire('actionPerformed', this);
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-keystroke.js":
/*!*************************************************!*\
  !*** ./src/components/base/button-keystroke.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring
 * a function of the instance to be invoked upon the keystroke activation.
 *
 * @class ButtonKeystroke
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'componentWillMount',

            /**
             * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
             *
             * @instance
             * @memberof ButtonKeystroke
             * @method componentWillMount
             */
            value: function componentWillMount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this).call(this);
                }

                var nativeEditor = this.props.editor.get('nativeEditor');
                var keystroke = this.props.keystroke;

                var commandName = keystroke.name || (Math.random() * 1e9 >>> 0).toString();

                var command = nativeEditor.getCommand(commandName);

                if (!command) {
                    command = new CKEDITOR.command(nativeEditor, {
                        exec: function (editor) {
                            var keystrokeFn = keystroke.fn;

                            if (_lang2.default.isString(keystrokeFn)) {
                                this[keystrokeFn].call(this, editor);
                            } else if (_lang2.default.isFunction(keystrokeFn)) {
                                keystrokeFn.call(this, editor);
                            }
                        }.bind(this)
                    });

                    nativeEditor.addCommand(commandName, command);
                }

                this._defaultKeystrokeCommand = nativeEditor.keystrokeHandler.keystrokes[keystroke.keys];

                nativeEditor.setKeystroke(keystroke.keys, commandName);
            }

            /**
             * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
             *
             * @instance
             * @memberof ButtonKeystroke
             * @method componentWillUnmount
             */

        }, {
            key: 'componentWillUnmount',
            value: function componentWillUnmount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this).call(this);
                }

                this.props.editor.get('nativeEditor').setKeystroke(this.props.keystroke.keys, this._defaultKeystrokeCommand);
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-props.js":
/*!*********************************************!*\
  !*** ./src/components/base/button-props.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonCfgProps is a mixin that provides a style prop and some methods to apply the resulting
 * style and checking if it is present in a given path or selection.
 *
 * @class ButtonCfgProps
 */
exports.default = function (WrappedComponent) {
  return function (_WrappedComponent) {
    _inherits(_class, _WrappedComponent);

    function _class() {
      _classCallCheck(this, _class);

      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
    }

    _createClass(_class, [{
      key: 'mergeButtonCfgProps',

      /**
       * Merges the properties, passed to the current component with user's configuration
       * via `buttonCfg` property.
       *
       * @instance
       * @memberof ButtonCfgProps
       * @method mergeButtonCfgProps
       * @param {Object} props The properties to be merged with the provided configuration for this
       * button. If not passed, the user configuration will be merged with `this.props`
       * @return {Object} The merged properties
       */
      value: function mergeButtonCfgProps(props) {
        props = props || this.props;

        var nativeEditor = this.props.editor.get('nativeEditor');
        var buttonCfg = nativeEditor.config.buttonCfg || {};
        var result = CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);

        return result;
      }
    }]);

    return _class;
  }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-state-classes.js":
/*!*****************************************************!*\
  !*** ./src/components/base/button-state-classes.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonStateClasses is a mixin that decorates the domElement of a component
 * with different CSS classes based on the current state of the element.
 *
 * To check for state, the component can expose the following methods:
 * - `Function` **isActive** to check the active state
 * - `Function` **isDisabled** to check the disabled state
 *
 * @class ButtonStateClasses
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'getStateClasses',

            /**
             * Returns the list of state classes associated to the current element's state, according
             * to the results of the isActive and isDisabled methods.
             *
             * @instance
             * @memberof ButtonStateClasses
             * @method getStateClasses
             * @return {String} A string with the state CSS classes.
             */
            value: function getStateClasses() {
                var stateClasses = '';

                // Check for active state
                if (_lang2.default.isFunction(this.isActive) && this.isActive()) {
                    stateClasses += 'ae-button-pressed';
                }

                // Check for disabled state
                if (_lang2.default.isFunction(this.isDisabled) && this.isDisabled()) {
                    stateClasses += ' ae-button-disabled';
                }

                return stateClasses;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-style.js":
/*!*********************************************!*\
  !*** ./src/components/base/button-style.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting
 * style and checking if it is present in a given path or selection.
 *
 * @class ButtonStyle
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'componentWillMount',

            /**
             * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
             *
             * @instance
             * @memberof ButtonStyle
             * @method componentWillMount
             */
            value: function componentWillMount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this).call(this);
                }

                var style = this.props.style;

                if (_lang2.default.isString(style)) {
                    var parts = style.split('.');
                    var currentMember = this.props.editor.get('nativeEditor').config;
                    var property = parts.shift();

                    while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
                        currentMember = currentMember[property];
                        property = parts.shift();
                    }

                    if (_lang2.default.isObject(currentMember)) {
                        style = currentMember;
                    }
                }

                this._style = new CKEDITOR.style(style);
            }

            /**
             * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
             *
             * @instance
             * @memberof ButtonStyle
             * @method componentWillUnmount
             */

        }, {
            key: 'componentWillUnmount',
            value: function componentWillUnmount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this).call(this);
                }

                this._style = null;
            }

            /**
             * Returns instance of CKEDITOR.style which represents the current button style.
             *
             * @instance
             * @memberof ButtonStyle
             * @method getStyle
             * @return {CKEDITOR.style} The current style representation.
             */

        }, {
            key: 'getStyle',
            value: function getStyle() {
                return this._style;
            }

            /**
             * Checks if style is active in the current selection.
             *
             * @instance
             * @memberof ButtonStyle
             * @method isActive
             * @return {Boolean} True if style is active, false otherwise.
             */

        }, {
            key: 'isActive',
            value: function isActive() {
                var result;

                var editor = this.props.editor.get('nativeEditor');

                var elementPath = editor.elementPath();

                result = this.getStyle().checkActive(elementPath, editor);

                return result;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/toolbar-buttons.js":
/*!************************************************!*\
  !*** ./src/components/base/toolbar-buttons.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ToolbarButtons is a mixin which provides a list of buttons which have to be
 * displayed on the current toolbar depending on user preferences and given state.
 *
 * @class ToolbarButtons
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'getToolbarButtonGroups',

            /**
             * Analayses the current selection and returns the buttons or button groups to be rendered.
             *
             * @instance
             * @method getToolbarButtonGroups
             * @param {Array} buttons The buttons could be shown, prior to the state filtering.
             * @param {Object} additionalProps Additional props that should be passed down to the buttons.
             * @return {Array} An Array which contains the buttons or button groups that should be rendered.
             */
            value: function getToolbarButtonGroups(buttons, additionalProps) {
                var _this2 = this;

                if (_lang2.default.isFunction(buttons)) {
                    buttons = buttons.call(this) || [];
                }

                return buttons.reduce(function (list, button) {
                    if (Array.isArray(button)) {
                        list.push(_this2.getToolbarButtons(button, additionalProps));
                        return list;
                    } else {
                        return _this2.getToolbarButtons(buttons, additionalProps);
                    }
                }, []);
            }

            /**
             * Analyzes the current selection and the buttons exclusive mode value to figure out which
             * buttons should be present in a given state.
             *
             * @instance
             * @memberof ToolbarButtons
             * @method getToolbarButtons
             * @param {Array} buttons The buttons could be shown, prior to the state filtering.
             * @param {Object} additionalProps Additional props that should be passed down to the buttons.
             * @return {Array} An Array which contains the buttons that should be rendered.
             */

        }, {
            key: 'getToolbarButtons',
            value: function getToolbarButtons(buttons, additionalProps) {
                var buttonProps = {};

                var nativeEditor = this.props.editor.get('nativeEditor');
                var buttonCfg = nativeEditor.config.buttonCfg || {};

                if (_lang2.default.isFunction(buttons)) {
                    buttons = buttons.call(this) || [];
                }

                var toolbarButtons = this.filterExclusive(buttons.filter(function (button) {
                    return button && (AlloyEditor.Buttons[button] || AlloyEditor.Buttons[button.name]);
                }).map(function (button) {
                    if (_lang2.default.isString(button)) {
                        buttonProps[button] = buttonCfg[button];
                        button = AlloyEditor.Buttons[button];
                    } else if (_lang2.default.isString(button.name)) {
                        buttonProps[AlloyEditor.Buttons[button.name].key] = CKEDITOR.tools.merge(buttonCfg[button], button.cfg);
                        button = AlloyEditor.Buttons[button.name];
                    }

                    return button;
                })).map(function (button, index) {
                    var props = this.mergeExclusiveProps({
                        editor: this.props.editor,
                        key: button.key !== 'separator' ? button.key : button.key + '-' + index,
                        tabKey: button.key,
                        tabIndex: this.props.trigger && this.props.trigger.props.tabKey === button.key ? 0 : -1,
                        trigger: this.props.trigger
                    }, button.key);

                    props = this.mergeDropdownProps(props, button.key);

                    if (additionalProps) {
                        props = CKEDITOR.tools.merge(props, additionalProps);
                    }

                    props = CKEDITOR.tools.merge(props, buttonProps[button.key]);

                    return _react2.default.createElement(button, props);
                }, this);

                return toolbarButtons;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-arrow-box.js":
/*!*************************************************!*\
  !*** ./src/components/base/widget-arrow-box.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget
 * depending on the point of user interaction with the editor.
 *
 * @class WidgetArrowBox
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'getArrowBoxClasses',

            /**
             * Returns the list of arrow box classes associated to the current element's state. It relies
             * on the getInteractionPoint method to calculate the selection direction.
             *
             * @instance
             * @memberof WidgetArrowBox
             * @method getArrowBoxClasses
             * @return {String} A string with the arrow box CSS classes.
             */
            value: function getArrowBoxClasses() {
                var arrowBoxClasses = 'ae-arrow-box';

                if (_lang2.default.isFunction(this.getInteractionPoint) && this.getInteractionPoint()) {
                    if (this.getInteractionPoint().direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
                        arrowBoxClasses += ' ae-arrow-box-top';
                    } else {
                        arrowBoxClasses += ' ae-arrow-box-bottom';
                    }
                }

                return arrowBoxClasses;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-dropdown.js":
/*!************************************************!*\
  !*** ./src/components/base/widget-dropdown.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Provides functionality for managing different dropdowns inside a widget.
 *
 * @class WidgetDropdown
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class(props) {
            _classCallCheck(this, _class);

            var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

            _this.state = _extends({}, _this.state, {
                dropdownTrigger: null,
                itemDropdown: null
            });
            return _this;
        }

        /**
         * Lifecycle. Invoked when a component is receiving new props.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof WidgetDropdown
         * @method componentWillReceiveProps
         */


        _createClass(_class, [{
            key: 'componentWillReceiveProps',
            value: function componentWillReceiveProps(nextProps) {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this).call(this);
                }

                this.setState({
                    dropdownTrigger: null,
                    itemDropdown: null
                });
            }

            /**
             * Merges the provided object with two more properties:
             * - expanded - boolean flag which indicates if an widget should be rendered exclusively.
             * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.
             *
             * @instance
             * @memberof WidgetDropdown
             * @method mergeDropdownProps
             * @param {Object} obj The properties container which should be merged with the properties, related
             *    to dropdown state.
             * @param {Object} itemKey They key of an React Widget which contains the dropdown.
             * @return {Object} The merged object.
             */

        }, {
            key: 'mergeDropdownProps',
            value: function mergeDropdownProps(obj, itemKey) {
                return CKEDITOR.tools.merge(obj, {
                    expanded: this.state.itemDropdown === itemKey ? true : false,
                    tabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,
                    toggleDropdown: this.toggleDropdown.bind(this, itemKey)
                });
            }

            /**
             * Sets the active dropdown of the widget or discards the toggled item from the state.
             *
             * @instance
             * @memberof WidgetDropdown
             * @method toggleDropdown
             * @param {Object} itemDropdown The widget which requests to toggle its dropdown.
             * @param {Number} toggleDirection User movement direction when toggled via keyboard.
             */

        }, {
            key: 'toggleDropdown',
            value: function toggleDropdown(itemDropdown, toggleDirection) {
                this.setState({
                    dropdownTrigger: itemDropdown,
                    itemDropdown: itemDropdown !== this.state.itemDropdown ? itemDropdown : null
                }, function () {
                    if (!this.state.itemDropdown) {
                        if (this.moveFocus) {
                            this.moveFocus(toggleDirection);
                        } else {
                            _reactDom2.default.findDOMNode(this).focus();
                        }
                    }
                });
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-exclusive.js":
/*!*************************************************!*\
  !*** ./src/components/base/widget-exclusive.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Provides functionality for managing exclusive state of an widget.
 * The exclusive state means that a button may request to be the only rendered
 * widget in its parent container. WidgetExclusive will manage this state by
 * filtering and suppressing the other sibling widgets from displaying.
 *
 * @class WidgetExclusive
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'cancelExclusive',

            /**
             * Cancels the exclusive state of an widget.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method cancelExclusive
             * @param {Object} itemExclusive The widget which exclusive state should be canceled.
             */
            value: function cancelExclusive(itemExclusive) {
                if (this.state.itemExclusive === itemExclusive) {
                    this.setState({
                        itemExclusive: null
                    });
                }
            }

            /**
             * Lifecycle. Invoked when a component is receiving new props.
             * This method is not called for the initial render.
             * Calling this.setState() within this function will not trigger an additional render.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method componentWillReceiveProps
             * @param {Object} nextProps Object containing the current set of properties.
             */

        }, {
            key: 'componentWillReceiveProps',
            value: function componentWillReceiveProps(nextProps) {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this).call(this);
                }

                // Receiving properties means that the component is being re-rendered.
                // Re-rendering is triggered by editorInteraction, so we have to
                // reset the exclusive state and render the UI according to the new selection.
                this.setState({
                    itemExclusive: null
                });
            }

            /**
             * Filters the items and returns only those with exclusive state.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method filterExclusive
             * @param {Array} items The widgets to be filtered.
             * @return {Array|Object} The item with executive state.
             */

        }, {
            key: 'filterExclusive',
            value: function filterExclusive(items) {
                return items.filter(function (item) {
                    if (this.state.itemExclusive) {
                        if (this.state.itemExclusive === item.key) {
                            return item;
                        }
                    } else {
                        return item;
                    }
                }.bind(this));
            }

            /**
             * Merges the provided object with three more properties:
             * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.
             * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.
             * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method mergeExclusiveProps
             * @param {Object} obj The properties container which should be merged with the properties, related
             *    to exclusive state.
             * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.
             * @return {Object} The merged object.
             */

        }, {
            key: 'mergeExclusiveProps',
            value: function mergeExclusiveProps(obj, itemKey) {
                return CKEDITOR.tools.merge(obj, {
                    cancelExclusive: this.cancelExclusive.bind(this, itemKey),
                    renderExclusive: this.state.itemExclusive === itemKey,
                    requestExclusive: this.requestExclusive.bind(this, itemKey)
                });
            }

            /**
             * Requests and sets exclusive state of an widget.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method requestExclusive
             * @param {Object} itemExclusive The widget which requests exclusive state.
             */

        }, {
            key: 'requestExclusive',
            value: function requestExclusive(itemExclusive) {
                this.setState({
                    itemExclusive: itemExclusive
                });
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-focus-manager.js":
/*!*****************************************************!*\
  !*** ./src/components/base/widget-focus-manager.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DIRECTION_NONE = 0;
var DIRECTION_NEXT = 1;
var DIRECTION_PREV = -1;

var ACTION_NONE = 0;
var ACTION_MOVE_FOCUS = 1;
var ACTION_DISMISS_FOCUS = 2;

/**
 * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,
 * it exposes the following props and methods:
 *
 * @class WidgetFocusManager
 */

exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'componentDidMount',

            /**
             * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method componentDidMount
             */
            value: function componentDidMount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidMount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidMount', this).call(this);
                }

                this._refresh();
            }

            /**
             * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
             * Refreshes the descendants list.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method componentDidUpdate
             */

        }, {
            key: 'componentDidUpdate',
            value: function componentDidUpdate() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidUpdate', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidUpdate', this).call(this);
                }

                this._refresh();
            }

            /**
             * Focuses the current active descendant.
             *
             * Several Widgets can be nested in a component hierarchy by attaching this focus method to
             * the widget DOM node, transferring the DOM focus control to the inner FocusManager.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method focus
             */

        }, {
            key: 'focus',
            value: function focus(event) {
                if (!event || this._isValidTarget(event.target)) {
                    if (this._descendants && this._descendants.length) {
                        var activeDescendantEl = this._descendants[this._activeDescendant];
                        // When user clicks with the mouse, the activeElement is already set and there
                        // is no need to focus it. Focusing of the active descendant (usually some button) is required
                        // in case of keyboard navigation, because the focused element might be not the first button,
                        // but the div element, which contains the button.
                        if (document.activeElement !== activeDescendantEl && !this.props.focusFirstChild) {
                            if (this._descendants.indexOf(document.activeElement) === -1) {
                                activeDescendantEl.focus();
                            }
                        }

                        if (event) {
                            event.stopPropagation();
                            event.preventDefault();
                        }
                    }
                }
            }

            /**
             * Handles the key events on a DOM node to execute the appropriate navigation when needed.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @param {Object} event The Keyboard event that was detected on the widget DOM node.
             * @method handleKey
             */

        }, {
            key: 'handleKey',
            value: function handleKey(event) {
                if (this._isValidTarget(event.target) && this._descendants) {
                    var action = this._getFocusAction(event);

                    if (action.type) {
                        event.stopPropagation();
                        event.preventDefault();

                        if (action.type === ACTION_MOVE_FOCUS) {
                            this._moveFocus(action.direction);
                        }

                        if (action.type === ACTION_DISMISS_FOCUS) {
                            this.props.onDismiss(action.direction);
                        }
                    }
                }
            }

            /**
             * Moves the focus among descendants in the especified direction.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method moveFocus
             * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
             */

        }, {
            key: 'moveFocus',
            value: function moveFocus(direction) {
                direction = _lang2.default.isNumber(direction) ? direction : 0;

                this._moveFocus(direction);
            }

            /**
             * Returns the action, if any, that a keyboard event in the current focus manager state
             * should produce.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _getFocusAction
             * @param {object} event The Keyboard event.
             * @protected
             * @return {Object} An action object with type and direction properties.
             */

        }, {
            key: '_getFocusAction',
            value: function _getFocusAction(event) {
                var action = {
                    type: ACTION_NONE
                };

                if (this.props.keys) {
                    var direction = this._getFocusMoveDirection(event);

                    if (direction) {
                        action.direction = direction;
                        action.type = ACTION_MOVE_FOCUS;
                    }

                    var dismissAction = this._getFocusDismissAction(event, direction);

                    if (dismissAction.dismiss) {
                        action.direction = dismissAction.direction;
                        action.type = ACTION_DISMISS_FOCUS;
                    }
                }

                return action;
            }

            /**
             * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This
             * will happen in any of these scenarios if a dismiss callback has been specified:
             * - A dismiss key has been pressed
             * - In a non-circular focus manager, when:
             *     - The active descendant is the first one and a prev key has been pressed.
             *     - The active descendant is the last one and a next key has been pressed.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _getFocusDismissAction
             * @param {Number} focusMoveDirection The focus movement direction (if any).
             * @param {Object} event The Keyboard event.
             * @protected
             * @return {Object} A dismiss action with dismiss and direction properties.
             */

        }, {
            key: '_getFocusDismissAction',
            value: function _getFocusDismissAction(event, focusMoveDirection) {
                var dismissAction = {
                    direction: focusMoveDirection,
                    dismiss: false
                };

                if (this.props.onDismiss) {
                    if (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {
                        dismissAction.dismiss = true;
                    }
                    if (this._isValidKey(event.keyCode, this.props.keys.dismissNext)) {
                        dismissAction.dismiss = true;
                        dismissAction.direction = DIRECTION_NEXT;
                    }
                    if (this._isValidKey(event.keyCode, this.props.keys.dismissPrev)) {
                        dismissAction.dismiss = true;
                        dismissAction.direction = DIRECTION_PREV;
                    }

                    if (!dismissAction.dismiss && !this.props.circular && focusMoveDirection) {
                        dismissAction.dismiss = focusMoveDirection === DIRECTION_PREV && this._activeDescendant === 0 || focusMoveDirection === DIRECTION_NEXT && this._activeDescendant === this._descendants.length - 1;
                    }
                }

                return dismissAction;
            }

            /**
             * Returns the direction, if any, in which the focus should be moved. In presence of the
             * shift key modifier, the direction of the movement is inverted.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _getFocusMoveDirection
             * @param {Object} event The Keyboard event.
             * @protected
             * @return {Number} The computed direction of the expected focus movement.
             */

        }, {
            key: '_getFocusMoveDirection',
            value: function _getFocusMoveDirection(event) {
                var direction = DIRECTION_NONE;

                if (this._isValidKey(event.keyCode, this.props.keys.next)) {
                    direction = DIRECTION_NEXT;
                }
                if (this._isValidKey(event.keyCode, this.props.keys.prev)) {
                    direction = DIRECTION_PREV;
                }

                if (event.shifKey) {
                    direction *= -1;
                }

                return direction;
            }

            /**
             * Indicates if a given keyCode is valid for the given set of keys.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _isValidKey
             * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.
             * @param {Number} keyCode An event keyCode.
             * @protected
             * @return {Boolean} A boolean value indicating if the key is valid.
             */

        }, {
            key: '_isValidKey',
            value: function _isValidKey(keyCode, keys) {
                return _lang2.default.isArray(keys) ? keys.indexOf(keyCode) !== -1 : keyCode === keys;
            }

            /**
             * Indicates if a given element is valid for focus management. User input elements such as
             * input, select or textarea are excluded.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _isValidKey
             * @param {DOMNode} element A DOM element.
             * @protected
             * @return {Boolean} A boolean value indicating if the element is valid.
             */

        }, {
            key: '_isValidTarget',
            value: function _isValidTarget(element) {
                var tagName = element.tagName.toLowerCase();

                return tagName !== 'input' && tagName !== 'select' && tagName !== 'textarea';
            }

            /**
             * Moves the focus among descendants in the especified direction.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _moveFocus
             * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
             * @protected
             */

        }, {
            key: '_moveFocus',
            value: function _moveFocus(direction) {
                var numDescendants = this._descendants.length;

                var descendant = this._descendants[this._activeDescendant];

                descendant.setAttribute('tabIndex', -1);

                this._activeDescendant += direction;

                if (this.props.circular) {
                    // Calculate proper modulo result since remainder operator doesn't behave in the
                    // same way for negative numbers
                    this._activeDescendant = (this._activeDescendant % numDescendants + numDescendants) % numDescendants;
                } else {
                    this._activeDescendant = Math.max(Math.min(this._activeDescendant, numDescendants - 1), 0);
                }

                descendant = this._descendants[this._activeDescendant];

                descendant.setAttribute('tabIndex', 0);
                descendant.focus();
            }

            /**
             * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _refresh
             * @protected
             */

        }, {
            key: '_refresh',
            value: function _refresh() {
                var domNode = _reactDom2.default.findDOMNode(this);

                if (domNode) {
                    var descendants = domNode.querySelectorAll(this.props.descendants);

                    var priorityDescendants = [];

                    this._descendants = [];

                    Array.prototype.slice.call(descendants).forEach(function (item) {
                        var dataTabIndex = item.getAttribute('data-tabindex');

                        if (dataTabIndex) {
                            priorityDescendants.push(item);
                        } else {
                            this._descendants.push(item);
                        }
                    }.bind(this));

                    priorityDescendants = priorityDescendants.sort(function (a, b) {
                        return _lang2.default.toInt(a.getAttribute('data-tabindex')) > _lang2.default.toInt(b.getAttribute('data-tabindex'));
                    });

                    this._descendants = priorityDescendants.concat(this._descendants);

                    this._activeDescendant = 0;

                    this._descendants.some(function (item, index) {
                        if (item.getAttribute('tabindex') === '0') {
                            this._activeDescendant = index;
                            this.focus();

                            return true;
                        }
                    }.bind(this));
                }
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-position.js":
/*!************************************************!*\
  !*** ./src/components/base/widget-position.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Calculates the position where an Widget should be displayed based on the point
 * where user interacted with the editor.
 *
 * @class WidgetPosition
 */
exports.default = function (WrappedComponent) {
    var _class, _temp;

    return _temp = _class = function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'cancelAnimation',


            /**
             * Cancels an scheduled animation frame.
             *
             * @instance
             * @memberof WidgetPosition
             * @method cancelAnimation
             */
            value: function cancelAnimation() {
                if (window.cancelAnimationFrame) {
                    window.cancelAnimationFrame(this._animationFrameId);
                }
            }

            /**
             * Returns an object which contains the position of the element in page coordinates,
             * restricted to fit to given viewport.
             *
             * @instance
             * @memberof WidgetPosition
             * @method getConstrainedPosition
             * @param {Object} attrs The following properties, provided as numbers:
             * - height
             * - left
             * - top
             * - width
             * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:
             * - width
             * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the
             * element.
             */

            /**
             * Lifecycle. Returns the default values of the properties used in the widget.
             *
             * @instance
             * @memberof WidgetPosition
             * @method getDefaultProps
             */

        }, {
            key: 'getConstrainedPosition',
            value: function getConstrainedPosition(attrs, viewPaneSize) {
                viewPaneSize = viewPaneSize || new CKEDITOR.dom.window(window).getViewPaneSize();

                var x = attrs.left;
                var y = attrs.top;

                if (attrs.left + attrs.width > viewPaneSize.width) {
                    x -= attrs.left + attrs.width - viewPaneSize.width;
                }

                if (y < 0) {
                    y = 0;
                }

                return {
                    x: x,
                    y: y
                };
            }

            /**
             * Returns the position, in page coordinates, according to which a widget should appear.
             * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.
             *
             * It depends on the props editorEvent to analyze the following user-interaction parameters:
             * - {Object} selectionData The data about the selection in the editor as returned from
             * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
             * - {Number} pos Contains the coordinates of the position, considered as most appropriate.
             * This may be the point where the user released the mouse, or just the beginning or the end of
             * the selection.
             *
             * @instance
             * @memberof WidgetInteractionPoint
             * @method getInteractionPoint
             * @return {Object} An Object which contains the following properties:
             * direction, x, y, where x and y are in page coordinates and direction can be one of these:
             * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
             */

        }, {
            key: 'getInteractionPoint',
            value: function getInteractionPoint() {
                var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;

                if (!eventPayload) {
                    return;
                }

                var selectionData = eventPayload.selectionData;

                var nativeEvent = eventPayload.nativeEvent;

                var pos = {
                    x: eventPayload.nativeEvent.pageX,
                    y: selectionData.region.top
                };

                var direction = selectionData.region.direction;

                var endRect = selectionData.region.endRect;

                var startRect = selectionData.region.startRect;

                if (endRect && startRect && startRect.top === endRect.top) {
                    direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
                }

                var x;
                var y;

                // If we have the point where user released the mouse, show Toolbar at this point
                // otherwise show it on the middle of the selection.

                if (pos.x && pos.y) {
                    x = this._getXPoint(selectionData, pos.x);

                    if (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
                        y = Math.min(pos.y, selectionData.region.top);
                    } else {
                        y = Math.max(pos.y, this._getYPoint(selectionData, nativeEvent));
                    }
                } else {
                    x = selectionData.region.left + selectionData.region.width / 2;

                    if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {

                        y = this._getYPoint(selectionData, nativeEvent);
                    } else {
                        y = selectionData.region.top;
                    }
                }

                return {
                    direction: direction,
                    x: x,
                    y: y
                };
            }

            /**
             * Returns the position of the Widget.
             *
             * @instance
             * @memberof WidgetInteractionPoint
             * @method _getXPoint
             * @param {Object} eventX The X coordinate received from the native event (mouseup).
             * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
             * @protected
             * @return {Number} The calculated X point in page coordinates.
             */

        }, {
            key: '_getXPoint',
            value: function _getXPoint(selectionData, eventX) {
                var region = selectionData.region;

                var left = region.startRect ? region.startRect.left : region.left;
                var right = region.endRect ? region.endRect.right : region.right;

                var x;

                if (left < eventX && right > eventX) {
                    x = eventX;
                } else {
                    var leftDist = Math.abs(left - eventX);
                    var rightDist = Math.abs(right - eventX);

                    if (leftDist < rightDist) {
                        // user raised the mouse on left on the selection
                        x = left;
                    } else {
                        x = right;
                    }
                }

                return x;
            }

            /**
             * Returns the position of the Widget.
             *
             * @instance
             * @memberof WidgetInteractionPoint
             * @method _getYPoint
             * @param {Object} nativeEvent The data about event is fired
             * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
             * @protected
             * @return {Number} The calculated Y point in page coordinates.
             */

        }, {
            key: '_getYPoint',
            value: function _getYPoint(selectionData, nativeEvent) {
                var y = 0;

                if (selectionData && nativeEvent) {
                    var elementTarget = new CKEDITOR.dom.element(nativeEvent.target);

                    if (elementTarget.$ && elementTarget.getStyle('overflow') === 'auto') {
                        y = nativeEvent.target.offsetTop + nativeEvent.target.offsetHeight;
                    } else {
                        y = selectionData.region.bottom;
                    }
                }

                return y;
            }

            /**
             * Returns the position of the Widget taking in consideration the
             * {{#crossLink "WidgetPosition/gutter:attribute"}}{{/crossLink}} attribute.
             *
             * @instance
             * @memberof WidgetPosition
             * @protected
             * @method  getWidgetXYPoint
             * @param {Number} left The left offset in page coordinates where Toolbar should be shown.
             * @param {Number} top The top offset in page coordinates where Toolbar should be shown.
             * @param {Number} direction The direction of the selection. May be one of the following:
             * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
             * @return {Array} An Array with left and top offsets in page coordinates.
             */

        }, {
            key: 'getWidgetXYPoint',
            value: function getWidgetXYPoint(left, top, direction) {
                var domNode = _reactDom2.default.findDOMNode(this);

                var gutter = this.props.gutter;

                if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM || direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
                    left = left - gutter.left - domNode.offsetWidth / 2;

                    top = direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM ? top + gutter.top : top - domNode.offsetHeight - gutter.top;
                } else if (direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT || direction === CKEDITOR.SELECTION_RIGHT_TO_LEFT) {

                    left = direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT ? left + gutter.left + domNode.offsetHeight / 2 : left - 3 * domNode.offsetHeight / 2 - gutter.left;

                    top = top - gutter.top - domNode.offsetHeight / 2;
                }

                if (left < 0) {
                    left = 0;
                }

                if (top < 0) {
                    top = 0;
                }

                return [left, top];
            }

            /**
             * Returns true if the widget is visible, false otherwise
             *
             * @instance
             * @memberof WidgetPosition
             * @method isVisible
             * @return {Boolean} True if the widget is visible, false otherwise
             */

        }, {
            key: 'isVisible',
            value: function isVisible() {
                var domNode = _reactDom2.default.findDOMNode(this);

                if (domNode) {
                    var domElement = new CKEDITOR.dom.element(domNode);

                    return domElement.hasClass('alloy-editor-visible');
                }

                return false;
            }

            /**
             * Moves a widget from a starting point to a destination point.
             *
             * @instance
             * @memberof WidgetPosition
             * @method moveToPoint
             * @param  {Object} startPoint The starting point for the movement.
             * @param  {Object} endPoint The destination point for the movement.
             */

        }, {
            key: 'moveToPoint',
            value: function moveToPoint(startPoint, endPoint) {
                var domElement = new CKEDITOR.dom.element(_reactDom2.default.findDOMNode(this));

                domElement.setStyles({
                    left: startPoint[0] + 'px',
                    top: startPoint[1] + 'px',
                    opacity: 0
                });

                domElement.removeClass('alloy-editor-invisible');

                this._animate(function () {
                    domElement.addClass('ae-toolbar-transition');
                    domElement.addClass('alloy-editor-visible');
                    domElement.setStyles({
                        left: endPoint[0] + 'px',
                        top: endPoint[1] + 'px',
                        opacity: 1
                    });
                });
            }

            /**
             * Shows the widget with the default animation transition.
             *
             * @instance
             * @memberof WidgetPosition
             * @method show
             */

        }, {
            key: 'show',
            value: function show() {
                var domNode = _reactDom2.default.findDOMNode(this);
                var uiNode = this.props.editor.get('uiNode');

                var scrollTop = uiNode ? uiNode.scrollTop : 0;

                if (!this.isVisible() && domNode) {
                    var interactionPoint = this.getInteractionPoint();

                    if (interactionPoint) {
                        var domElement = new CKEDITOR.dom.element(domNode);

                        var finalX, finalY, initialX, initialY;

                        finalX = initialX = parseFloat(domElement.getStyle('left'));
                        finalY = initialY = parseFloat(domElement.getStyle('top'));

                        if (this.props.constrainToViewport) {
                            var res = this.getConstrainedPosition({
                                height: parseFloat(domNode.offsetHeight),
                                left: finalX,
                                top: finalY,
                                width: parseFloat(domNode.offsetWidth)
                            });

                            finalX = res.x;
                            finalY = res.y;
                        }

                        if (interactionPoint.direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
                            initialY = this.props.selectionData.region.bottom + scrollTop;
                        } else {
                            initialY = this.props.selectionData.region.top + scrollTop;
                        }

                        this.moveToPoint([initialX, initialY], [finalX, finalY]);
                    }
                }
            }

            /**
             * Updates the widget position based on the current interaction point.
             *
             * @instance
             * @memberof WidgetPosition
             * @method updatePosition
             */

        }, {
            key: 'updatePosition',
            value: function updatePosition() {
                var interactionPoint = this.getInteractionPoint();

                var domNode = _reactDom2.default.findDOMNode(this);

                if (interactionPoint && domNode) {
                    var uiNode = this.props.editor.get('uiNode') || document.body;
                    var uiNodeStyle = getComputedStyle(uiNode);
                    var uiNodeMarginLeft = parseInt(uiNodeStyle.getPropertyValue('margin-left'), 10);
                    var uiNodeMarginRight = parseInt(uiNodeStyle.getPropertyValue('margin-right'), 10);
                    var totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;

                    var scrollTop = uiNode ? uiNode.scrollTop : 0;

                    var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);
                    xy[1] += scrollTop;

                    if (xy[0] < 0) {
                        xy[0] = 0;
                    }
                    if (xy[0] > totalWidth - domNode.offsetWidth) {
                        xy[0] = totalWidth - domNode.offsetWidth;
                    }

                    new CKEDITOR.dom.element(domNode).setStyles({
                        left: xy[0] + 'px',
                        top: xy[1] + 'px'
                    });
                }
            }

            /**
             * Requests an animation frame, if possible, to simulate an animation.
             *
             * @instance
             * @memberof WidgetPosition
             * @method _animate
             * @param {Function} callback The function to be executed on the scheduled frame.
             * @protected
             */

        }, {
            key: '_animate',
            value: function _animate(callback) {
                if (window.requestAnimationFrame) {
                    this._animationFrameId = window.requestAnimationFrame(callback);
                } else {
                    callback();
                }
            }
        }]);

        return _class;
    }(WrappedComponent), _class.defaultProps = _extends({}, WrappedComponent.defaultProps, {
        gutter: {
            left: 0,
            top: 10
        },
        constrainToViewport: true }), _temp;
};

/***/ }),

/***/ "./src/components/buttons/button-bold.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-bold.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonBold class provides functionality for styling an selection with strong (bold) style.
 *
 * @class ButtonBold
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonBold = function (_React$Component) {
    _inherits(ButtonBold, _React$Component);

    function ButtonBold() {
        _classCallCheck(this, ButtonBold);

        return _possibleConstructorReturn(this, (ButtonBold.__proto__ || Object.getPrototypeOf(ButtonBold)).apply(this, arguments));
    }

    _createClass(ButtonBold, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonBold
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.bold, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-bold', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.bold },
                _react2.default.createElement('span', { className: 'ae-icon-bold' })
            );
        }
    }]);

    return ButtonBold;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default bold
 * @memberof ButtonBold
 * @property {String} key
 * @static
 */


ButtonBold.key = 'bold';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonBold
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonBold.defaultProps = {
    command: 'bold',
    keystroke: {
        fn: 'execCommand',
        keys: CKEDITOR.CTRL + 66 /*B*/
    },
    style: 'coreStyles_bold'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonBold))));

/***/ }),

/***/ "./src/components/buttons/button-camera-image.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-camera-image.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCameraImage class takes photo from camera and inserts it to the content.
 *
 * @class ButtonCameraImage
 */
var ButtonCameraImage = function (_React$Component) {
    _inherits(ButtonCameraImage, _React$Component);

    function ButtonCameraImage() {
        _classCallCheck(this, ButtonCameraImage);

        return _possibleConstructorReturn(this, (ButtonCameraImage.__proto__ || Object.getPrototypeOf(ButtonCameraImage)).apply(this, arguments));
    }

    _createClass(ButtonCameraImage, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * Focuses the take photo button.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this.refs.buttonTakePhoto).focus();
        }

        /**
         * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method componentWillUnmount
         */

    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            if (this._stream) {
                if (this._stream.stop) {
                    this._stream.stop();
                } else if (this._stream.getVideoTracks) {
                    this._stream.getVideoTracks().forEach(function (track) {
                        track.stop();
                    });
                }
                this._stream = null;
            }
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

            getUserMedia.call(navigator, {
                video: true,
                audio: false
            }, this._handleStreamSuccess.bind(this), this._handleStreamError.bind(this));

            return _react2.default.createElement(
                'div',
                { className: 'ae-camera' },
                _react2.default.createElement(
                    'video',
                    { ref: 'videoContainer' },
                    'Video stream not available.'
                ),
                _react2.default.createElement(
                    'button',
                    { className: 'ae-camera-shoot', onClick: this.takePhoto.bind(this), ref: 'buttonTakePhoto' },
                    'Take photo'
                ),
                _react2.default.createElement('canvas', { className: 'ae-camera-canvas', ref: 'canvasContainer' })
            );
        }

        /**
         * Takes photo from the video stream and inserts in into editor's content.
         *
         * @fires ButtonCameraImage#imageCameraAdd
         * @instance
         * @memberof ButtonCameraImage
         * @method takePhoto
         */

    }, {
        key: 'takePhoto',
        value: function takePhoto() {
            var videoEl = _reactDom2.default.findDOMNode(this.refs.videoContainer);
            var canvasEl = _reactDom2.default.findDOMNode(this.refs.canvasContainer);

            var context = canvasEl.getContext('2d');

            var height = this._videoHeight;
            var width = this.props.videoWidth;

            if (width && height) {
                canvasEl.width = width;
                canvasEl.height = height;

                context.drawImage(videoEl, 0, 0, width, height);

                var imgURL = canvasEl.toDataURL('image/png');

                var el = CKEDITOR.dom.element.createFromHtml('<img src="' + imgURL + '">');

                var editor = this.props.editor.get('nativeEditor');

                editor.insertElement(el);

                this.props.cancelExclusive();

                editor.fire('actionPerformed', this);

                editor.fire('imageCameraAdd', el);
            }
        }

        /**
         * Displays error message in case of video stream capturing failure.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method _handleStreamError
         * @param {Event} error The fired event in case of error.
         * @protected
         */

    }, {
        key: '_handleStreamError',
        value: function _handleStreamError(error) {
            window.alert('An error occurred! ' + error);
        }

        /**
         * Starts streaming video in the video element and sets width/height to the video
         * and canvas elements.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method _handleStreamSuccess
         * @param {Object} stream The video stream
         * @protected
         */

    }, {
        key: '_handleStreamSuccess',
        value: function _handleStreamSuccess(stream) {
            var videoEl = _reactDom2.default.findDOMNode(this.refs.videoContainer);
            var canvasEl = _reactDom2.default.findDOMNode(this.refs.canvasContainer);

            videoEl.addEventListener('canplay', function (event) {
                var height = videoEl.videoHeight / (videoEl.videoWidth / this.props.videoWidth);

                if (isNaN(height)) {
                    height = this.props.videoWidth / (4 / 3);
                }

                videoEl.setAttribute('width', this.props.videoWidth);
                videoEl.setAttribute('height', height);
                canvasEl.setAttribute('width', this.props.videoWidth);
                canvasEl.setAttribute('height', height);

                this._videoHeight = height;
            }.bind(this), false);

            this._stream = stream;

            if (navigator.mozGetUserMedia) {
                videoEl.mozSrcObject = stream;
            } else {
                videoEl.src = (window.URL || window.webkitURL).createObjectURL(stream);
            }

            videoEl.play();

            _reactDom2.default.findDOMNode(this.refs.buttonTakePhoto).disabled = false;
        }

        /**
         * Fired when an image is being taken from the camera and added as an element to the editor.
         *
         * @event ButtonCameraImage#imageCameraAdd
         * @memberof ButtonCameraImage
         * @param {CKEDITOR.dom.element} el The created img element in editor.
         */

    }]);

    return ButtonCameraImage;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default cameraImage
 * @memberof ButtonCameraImage
 * @property {String} key
 * @static
 */


ButtonCameraImage.key = 'cameraImage';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonCameraImage
 * @method getDefaultProps
 */
ButtonCameraImage.defaultProps = {
    videoWidth: 320
};

exports.default = ButtonCameraImage;

/***/ }),

/***/ "./src/components/buttons/button-camera.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-camera.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCameraImage = __webpack_require__(/*! ./button-camera-image.jsx */ "./src/components/buttons/button-camera-image.jsx");

var _buttonCameraImage2 = _interopRequireDefault(_buttonCameraImage);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCamera class renders in two different ways:
 *
 * - Normal: Just a button that allows to switch to the edition mode.
 * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.
 *
 * @class ButtonCamera
 */
var ButtonCamera = function (_React$Component) {
    _inherits(ButtonCamera, _React$Component);

    function ButtonCamera() {
        _classCallCheck(this, ButtonCamera);

        return _possibleConstructorReturn(this, (ButtonCamera.__proto__ || Object.getPrototypeOf(ButtonCamera)).apply(this, arguments));
    }

    _createClass(ButtonCamera, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCamera
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.renderExclusive) {
                return _react2.default.createElement(_buttonCameraImage2.default, this.props);
            } else {
                var disabled = !(navigator.getUserMedia || navigator.webkitGetUserMedia && location.protocol === 'https' || navigator.mozGetUserMedia || navigator.msGetUserMedia);

                var label = disabled ? AlloyEditor.Strings.cameraDisabled : AlloyEditor.Strings.camera;

                return _react2.default.createElement(
                    'button',
                    { 'aria-label': label, className: 'ae-button', 'data-type': 'button-image-camera', disabled: disabled, onClick: this.props.requestExclusive.bind(ButtonCamera.key), tabIndex: this.props.tabIndex, title: label },
                    _react2.default.createElement('span', { className: 'ae-icon-camera' })
                );
            }
        }
    }]);

    return ButtonCamera;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default camera
 * @memberof ButtonCamera
 * @property {String} key
 * @static
 */


ButtonCamera.key = 'camera';

exports.default = ButtonCamera;

/***/ }),

/***/ "./src/components/buttons/button-code.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-code.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCode class provides wraps a selection in `pre` element.
 *
 * @class ButtonCode
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonCode = function (_React$Component) {
    _inherits(ButtonCode, _React$Component);

    function ButtonCode() {
        _classCallCheck(this, ButtonCode);

        return _possibleConstructorReturn(this, (ButtonCode.__proto__ || Object.getPrototypeOf(ButtonCode)).apply(this, arguments));
    }

    _createClass(ButtonCode, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCode
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.code, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-code', onClick: this.applyStyle.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.code },
                _react2.default.createElement('span', { className: 'ae-icon-code' })
            );
        }
    }]);

    return ButtonCode;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default code
 * @memberof ButtonCode
 * @property {String} key
 * @static
 */


ButtonCode.key = 'code';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonCode
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonCode.defaultProps = {
    style: {
        element: 'pre'
    }
};

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonCode)));

/***/ }),

/***/ "./src/components/buttons/button-command-list-item.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-command-list-item.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside
 * a list as an item, with a string representation of its behaviour.
 *
 * @class ButtonCommandListItem
 * @uses ButtonCommand
 */
var ButtonCommandListItem = function (_React$Component) {
    _inherits(ButtonCommandListItem, _React$Component);

    function ButtonCommandListItem() {
        _classCallCheck(this, ButtonCommandListItem);

        return _possibleConstructorReturn(this, (ButtonCommandListItem.__proto__ || Object.getPrototypeOf(ButtonCommandListItem)).apply(this, arguments));
    }

    _createClass(ButtonCommandListItem, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCommandListItem
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'button',
                { 'aria-label': this.props.description, className: this._getClassName(), onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex },
                this.props.description
            );
        }

        /**
         * Returns the class name of Widget.
         *
         * @instance
         * @memberof ButtonCommandListItem
         * @method _getClassName
         * @protected
         * @return {String} The class name of the Widget.
         */

    }, {
        key: '_getClassName',
        value: function _getClassName() {
            var className = 'ae-container ae-toolbar-element';

            return className;
        }
    }]);

    return ButtonCommandListItem;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonCommandListItem
 * @memberof ButtonCommandListItem
 * @property {String} key
 * @static
 */


ButtonCommandListItem.key = 'buttonCommandListItem';

exports.default = (0, _buttonCommand2.default)(ButtonCommandListItem);

/***/ }),

/***/ "./src/components/buttons/button-commands-list.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-commands-list.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandListItem = __webpack_require__(/*! ./button-command-list-item.jsx */ "./src/components/buttons/button-command-list-item.jsx");

var _buttonCommandListItem2 = _interopRequireDefault(_buttonCommandListItem);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCommandsList class provides functionality for showing a list of commands that can be
 * executed to the current selection..
 *
 * @class ButtonCommandsList
 * @uses WidgetFocusManager
 */
var ButtonCommandsList = function (_React$Component) {
    _inherits(ButtonCommandsList, _React$Component);

    function ButtonCommandsList() {
        _classCallCheck(this, ButtonCommandsList);

        return _possibleConstructorReturn(this, (ButtonCommandsList.__proto__ || Object.getPrototypeOf(ButtonCommandsList)).apply(this, arguments));
    }

    _createClass(ButtonCommandsList, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * Focuses on the list node to allow keyboard interaction.
         *
         * @instance
         * @memberof ButtonCommandsList
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this).focus();
        }

        /**
         * Lifecycle. Renders the UI of the list.
         *
         * @instance
         * @memberof ButtonCommandsList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'ae-dropdown ae-arrow-box ae-arrow-box-top-left', onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), tabIndex: '0' },
                _react2.default.createElement(
                    'ul',
                    { className: 'ae-listbox', id: this.props.listId, role: 'listbox' },
                    this._renderActions(this.props.commands)
                )
            );
        }

        /**
         * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.
         *
         * @instance
         * @memberof ButtonCommandsList
         * @method _renderActions
         * @protected
         * @return {Array} Rendered instances of ButtonCommandListItem class
         */

    }, {
        key: '_renderActions',
        value: function _renderActions(commands) {
            var editor = this.props.editor;
            var items;

            if (commands && commands.length) {
                items = commands.map(function (item) {
                    return _react2.default.createElement(
                        'li',
                        { key: item.command, role: 'option' },
                        _react2.default.createElement(_buttonCommandListItem2.default, { command: item.command, description: typeof item.label === 'string' ? item.label : item.label(), icon: item.icon, editor: editor })
                    );
                });
            }

            return items;
        }
    }]);

    return ButtonCommandsList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonCommandsList
 * @memberof ButtonCommandsList
 * @property {String} key
 * @static
 */


ButtonCommandsList.key = 'buttonCommandsList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonCommandsList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonCommandsList.defaultProps = {
    circular: false,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonCommandsList);

/***/ }),

/***/ "./src/components/buttons/button-dropdown.jsx":
/*!****************************************************!*\
  !*** ./src/components/buttons/button-dropdown.jsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown
 * opened from a button.
 *
 * @class ButtonDropdown
 */
var ButtonDropdown = function (_React$Component) {
    _inherits(ButtonDropdown, _React$Component);

    function ButtonDropdown() {
        _classCallCheck(this, ButtonDropdown);

        return _possibleConstructorReturn(this, (ButtonDropdown.__proto__ || Object.getPrototypeOf(ButtonDropdown)).apply(this, arguments));
    }

    _createClass(ButtonDropdown, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonDropdown
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'ae-dropdown ae-arrow-box ae-arrow-box-top-left', onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), tabIndex: '0' },
                _react2.default.createElement(
                    'ul',
                    { className: 'ae-listbox', role: 'listbox' },
                    this.props.children
                )
            );
        }
    }]);

    return ButtonDropdown;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the dropdown in the configuration.
 *
 * @default dropdown
 * @memberof ButtonDropdown
 * @property {String} key
 * @static
 */


ButtonDropdown.key = 'dropdown';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonDropdown
 * @method getDefaultProps
 */
ButtonDropdown.defaultProps = {
    circular: false,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonDropdown);

/***/ }),

/***/ "./src/components/buttons/button-embed-edit.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-embed-edit.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var KEY_ENTER = 13;
var KEY_ESC = 27;

/**
 * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.
 * Provides UI for creating and editing an embed link.
 *
 * @class ButtonEmbedEdit
 */

var ButtonEmbedEdit = function (_React$Component) {
    _inherits(ButtonEmbedEdit, _React$Component);

    function ButtonEmbedEdit(props) {
        _classCallCheck(this, ButtonEmbedEdit);

        var _this = _possibleConstructorReturn(this, (ButtonEmbedEdit.__proto__ || Object.getPrototypeOf(ButtonEmbedEdit)).call(this, props));

        _this.linkInput = _react2.default.createRef();
        _this.state = _this.getInitialState();
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
     *
     * Focuses on the link input to immediately allow editing. This should only happen if the component
     * is rendered in exclusive mode to prevent aggressive focus stealing.
     *
     * @instance
     * @memberof ButtonEmbedEdit
     * @method componentDidMount
     */


    _createClass(ButtonEmbedEdit, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (this.props.renderExclusive || this.props.manualSelection) {
                // We need to wait for the next rendering cycle before focusing to avoid undesired
                // scrolls on the page
                if (window.requestAnimationFrame) {
                    window.requestAnimationFrame(this._focusLinkInput.bind(this));
                } else {
                    setTimeout(this._focusLinkInput.bind(this), 0);
                }
            }
        }

        /**
         * Lifecycle. Invoked when a component is receiving new props.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method componentWillReceiveProps
         */

    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps() {
            this.setState(this.getInitialState());
        }

        /**
         * Lifecycle. Invoked once before the component is mounted.
         * The return value will be used as the initial value of this.state.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method getInitialState
         */

    }, {
        key: 'getInitialState',
        value: function getInitialState() {
            var editor = this.props.editor.get('nativeEditor');
            var embed;

            var selection = editor.getSelection();

            if (selection) {
                var selectedElement = selection.getSelectedElement();

                if (selectedElement) {
                    embed = selectedElement.findOne('[data-widget="ae_embed"]');
                }
            }

            var href = embed ? embed.getAttribute('data-ae-embed-url') : '';

            return {
                element: embed,
                initialLink: {
                    href: href
                },
                linkHref: href
            };
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var clearLinkStyle = {
                opacity: this.state.linkHref ? 1 : 0
            };

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-link' },
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.deleteEmbed, className: 'ae-button', 'data-type': 'button-embed-remove', disabled: !this.state.element, onClick: this._removeEmbed.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.deleteEmbed },
                    _react2.default.createElement('span', { className: 'ae-icon-bin' })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input xxl' },
                    _react2.default.createElement('input', { className: 'ae-input', onChange: this._handleLinkHrefChange.bind(this), onKeyDown: this._handleKeyDown.bind(this), placeholder: AlloyEditor.Strings.editLink, ref: this.linkInput, type: 'text', value: this.state.linkHref }),
                    _react2.default.createElement('button', { 'aria-label': AlloyEditor.Strings.clearInput, className: 'ae-button ae-icon-remove', onClick: this._clearLink.bind(this), style: clearLinkStyle, title: AlloyEditor.Strings.clear })
                ),
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.confirm, className: 'ae-button', disabled: !this._isValidState(), onClick: this._embedLink.bind(this), title: AlloyEditor.Strings.confirm },
                    _react2.default.createElement('span', { className: 'ae-icon-ok' })
                )
            );
        }

        /**
         * Clears the link input. This only changes the component internal state, but does not
         * affect the link element of the editor. Only the _removeLink and _updateLink methods
         * are translated to the editor element.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _clearLink
         * @protected
         */

    }, {
        key: '_clearLink',
        value: function _clearLink() {
            this.setState({
                linkHref: ''
            });
        }

        /**
         * Triggers the embedUrl command to transform the link into an embed media object
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _embedLink
         * @protected
         */

    }, {
        key: '_embedLink',
        value: function _embedLink() {
            var nativeEditor = this.props.editor.get('nativeEditor');

            nativeEditor.execCommand('embedUrl', {
                url: this.state.linkHref
            });

            // We need to cancelExclusive with the bound parameters in case the button is used
            // inside another in exclusive mode (such is the case of the link button)
            this.props.cancelExclusive();
        }

        /**
         * Focuses the user cursor on the widget's input.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _focusLinkInput
         * @protected
         */

    }, {
        key: '_focusLinkInput',
        value: function _focusLinkInput() {
            this.linkInput.current.focus();
        }

        /**
         * Monitors key interaction inside the input element to respond to the keys:
         * - Enter: Creates/updates the link.
         * - Escape: Discards the changes.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _handleKeyDown
         * @param {SyntheticEvent} event The keyboard event.
         * @protected
         */

    }, {
        key: '_handleKeyDown',
        value: function _handleKeyDown(event) {
            if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
                event.preventDefault();
            }

            if (event.keyCode === KEY_ENTER) {
                this._embedLink();
            } else if (event.keyCode === KEY_ESC) {
                var editor = this.props.editor.get('nativeEditor');

                // We need to cancelExclusive with the bound parameters in case the button is used
                // inside another in exclusive mode (such is the case of the link button)
                this.props.cancelExclusive();

                editor.fire('actionPerformed', this);
            }
        }

        /**
         * Updates the component state when the link input changes on user interaction.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _handleLinkHrefChange
         * @param {SyntheticEvent} event The change event.
         * @protected
         */

    }, {
        key: '_handleLinkHrefChange',
        value: function _handleLinkHrefChange(event) {
            this.setState({
                linkHref: event.target.value
            });
        }

        /**
         * Verifies that the current link state is valid so the user can save the link. A valid state
         * means that we have a non-empty href that's different from the original one.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _isValidState
         * @protected
         * @return {Boolean} True if the state is valid, false otherwise
         */

    }, {
        key: '_isValidState',
        value: function _isValidState() {
            var validState = this.state.linkHref && this.state.linkHref !== this.state.initialLink.href;

            return validState;
        }

        /**
         * Removes the embed in the editor element.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _removeEmbed
         * @protected
         */

    }, {
        key: '_removeEmbed',
        value: function _removeEmbed() {
            var editor = this.props.editor.get('nativeEditor');

            var embedWrapper = this.state.element.getAscendant(function (element) {
                return element.hasClass('cke_widget_wrapper');
            });

            embedWrapper.remove();

            editor.fire('actionPerformed', this);
        }
    }]);

    return ButtonEmbedEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default embedEdit
 * @memberof ButtonEmbedEdit
 * @property {String} key
 * @static
 */


ButtonEmbedEdit.key = 'embedEdit';

exports.default = ButtonEmbedEdit;

/***/ }),

/***/ "./src/components/buttons/button-embed.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-embed.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonEmbedEdit = __webpack_require__(/*! ./button-embed-edit.jsx */ "./src/components/buttons/button-embed-edit.jsx");

var _buttonEmbedEdit2 = _interopRequireDefault(_buttonEmbedEdit);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.
 * ButtonEmbed renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.
 *
 * @class ButtonEmbed
 * @uses ButtonKeystroke
 */
var ButtonEmbed = function (_React$Component) {
    _inherits(ButtonEmbed, _React$Component);

    function ButtonEmbed() {
        _classCallCheck(this, ButtonEmbed);

        return _possibleConstructorReturn(this, (ButtonEmbed.__proto__ || Object.getPrototypeOf(ButtonEmbed)).apply(this, arguments));
    }

    _createClass(ButtonEmbed, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonEmbed
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.renderExclusive) {
                return _react2.default.createElement(_buttonEmbedEdit2.default, this.props);
            } else {
                return _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.link, className: 'ae-button', 'data-type': 'button-embed', onClick: this._requestExclusive.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.link },
                    _react2.default.createElement('span', { className: 'ae-icon-add' })
                );
            }
        }

        /**
         * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.
         *
         * @instance
         * @memberof ButtonEmbed
         * @method _requestExclusive
         * @protected
         */

    }, {
        key: '_requestExclusive',
        value: function _requestExclusive() {
            this.props.requestExclusive(ButtonEmbed.key);
        }
    }]);

    return ButtonEmbed;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default embed
 * @memberof ButtonEmbed
 * @property {String} key
 * @static
 */


ButtonEmbed.key = 'embed';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonEmbed
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonEmbed.defaultProps = {
    keystroke: {
        fn: '_requestExclusive',
        keys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /*L*/
    }
};

exports.default = (0, _buttonKeystroke2.default)(ButtonEmbed);

/***/ }),

/***/ "./src/components/buttons/button-h1.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-h1.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonH1 class provides wraps a selection in `h1` element.
 *
 * @class ButtonH1
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonH1 = function (_React$Component) {
    _inherits(ButtonH1, _React$Component);

    function ButtonH1() {
        _classCallCheck(this, ButtonH1);

        return _possibleConstructorReturn(this, (ButtonH1.__proto__ || Object.getPrototypeOf(ButtonH1)).apply(this, arguments));
    }

    _createClass(ButtonH1, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonH1
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.h1, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-h1', onClick: this.applyStyle.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.h1 },
                _react2.default.createElement('span', { className: 'ae-icon-h1' })
            );
        }
    }]);

    return ButtonH1;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default h1
 * @memberof ButtonH1
 * @property {String} key
 * @static
 */


ButtonH1.key = 'h1';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonH1
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonH1.defaultProps = {
    style: {
        element: 'h1'
    }
};

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonH1)));

/***/ }),

/***/ "./src/components/buttons/button-h2.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-h2.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonH2 class provides wraps a selection in `h2` element.
 *
 * @class ButtonH2
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonH2 = function (_React$Component) {
    _inherits(ButtonH2, _React$Component);

    function ButtonH2() {
        _classCallCheck(this, ButtonH2);

        return _possibleConstructorReturn(this, (ButtonH2.__proto__ || Object.getPrototypeOf(ButtonH2)).apply(this, arguments));
    }

    _createClass(ButtonH2, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonH2
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.h2, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-h2', onClick: this.applyStyle.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.h2 },
                _react2.default.createElement('span', { className: 'ae-icon-h2' })
            );
        }
    }]);

    return ButtonH2;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default h2
 * @memberof ButtonH2
 * @property {String} key
 * @static
 */


ButtonH2.key = 'h2';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonH2
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonH2.defaultProps = {
    style: {
        element: 'h2'
    }
};

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonH2)));

/***/ }),

/***/ "./src/components/buttons/button-hline.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-hline.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonHline class provides inserts horizontal line.
 *
 * @class ButtonHline
 * @uses ButtonCommand
 * @uses ButtonStyle
 */
var ButtonHline = function (_React$Component) {
    _inherits(ButtonHline, _React$Component);

    function ButtonHline() {
        _classCallCheck(this, ButtonHline);

        return _possibleConstructorReturn(this, (ButtonHline.__proto__ || Object.getPrototypeOf(ButtonHline)).apply(this, arguments));
    }

    _createClass(ButtonHline, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonHline
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.horizontalrule, className: 'ae-button', 'data-type': 'button-hline', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.horizontalrule },
                _react2.default.createElement('span', { className: 'ae-icon-separator' })
            );
        }
    }]);

    return ButtonHline;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default hline
 * @memberof ButtonHline
 * @property {String} key
 * @static
 */


ButtonHline.key = 'hline';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonHline
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonHline.defaultProps = {
    command: 'horizontalrule',
    style: {
        element: 'hr'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStyle2.default)(ButtonHline));

/***/ }),

/***/ "./src/components/buttons/button-image-align-center.jsx":
/*!**************************************************************!*\
  !*** ./src/components/buttons/button-image-align-center.jsx ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.
 *
 * @class ButtonImageAlignCenter
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignCenter = function (_React$Component) {
    _inherits(ButtonImageAlignCenter, _React$Component);

    function ButtonImageAlignCenter() {
        _classCallCheck(this, ButtonImageAlignCenter);

        return _possibleConstructorReturn(this, (ButtonImageAlignCenter.__proto__ || Object.getPrototypeOf(ButtonImageAlignCenter)).apply(this, arguments));
    }

    _createClass(ButtonImageAlignCenter, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonImageAlignCenter
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignCenter, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-image-align-center', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignCenter },
                _react2.default.createElement('span', { className: 'ae-icon-align-center' })
            );
        }
    }]);

    return ButtonImageAlignCenter;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default imageCenter
 * @memberof ButtonImageAlignCenter
 * @property {String} key
 * @static
 */


ButtonImageAlignCenter.key = 'imageCenter';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonImageAlignCenter
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonImageAlignCenter.defaultProps = {
    command: 'justifycenter'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignCenter)));

/***/ }),

/***/ "./src/components/buttons/button-image-align-left.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-image-align-left.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImageAlignLeft class provides functionality for aligning an image on left.
 *
 * @class ButtonImageAlignLeft
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignLeft = function (_React$Component) {
    _inherits(ButtonImageAlignLeft, _React$Component);

    function ButtonImageAlignLeft() {
        _classCallCheck(this, ButtonImageAlignLeft);

        return _possibleConstructorReturn(this, (ButtonImageAlignLeft.__proto__ || Object.getPrototypeOf(ButtonImageAlignLeft)).apply(this, arguments));
    }

    _createClass(ButtonImageAlignLeft, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonImageAlignLeft
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignLeft, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-image-align-left', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignLeft },
                _react2.default.createElement('span', { className: 'ae-icon-align-left' })
            );
        }
    }]);

    return ButtonImageAlignLeft;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default imageLeft
 * @memberof ButtonImageAlignLeft
 * @property {String} key
 * @static
 */


ButtonImageAlignLeft.key = 'imageLeft';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonImageAlignLeft
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonImageAlignLeft.defaultProps = {
    command: 'justifyleft'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignLeft)));

/***/ }),

/***/ "./src/components/buttons/button-image-align-right.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-image-align-right.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImageAlignRight class provides functionality for aligning an image on right.
 *
 * @class ButtonImageAlignRight
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignRight = function (_React$Component) {
    _inherits(ButtonImageAlignRight, _React$Component);

    function ButtonImageAlignRight() {
        _classCallCheck(this, ButtonImageAlignRight);

        return _possibleConstructorReturn(this, (ButtonImageAlignRight.__proto__ || Object.getPrototypeOf(ButtonImageAlignRight)).apply(this, arguments));
    }

    _createClass(ButtonImageAlignRight, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonImageAlignRight
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignRight, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-image-align-right', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignRight },
                _react2.default.createElement('span', { className: 'ae-icon-align-right' })
            );
        }
    }]);

    return ButtonImageAlignRight;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default imageRight
 * @memberof ButtonImageAlignRight
 * @property {String} key
 * @static
 */


ButtonImageAlignRight.key = 'imageRight';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonImageAlignRight
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonImageAlignRight.defaultProps = {
    command: 'justifyright'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignRight)));

/***/ }),

/***/ "./src/components/buttons/button-image.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-image.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImage class inserts an image to the content.
 *
 * @class ButtonImage
 */
var ButtonImage = function (_React$Component) {
    _inherits(ButtonImage, _React$Component);

    function ButtonImage(props) {
        _classCallCheck(this, ButtonImage);

        var _this = _possibleConstructorReturn(this, (ButtonImage.__proto__ || Object.getPrototypeOf(ButtonImage)).call(this, props));

        _this.fileInput = _react2.default.createRef();
        return _this;
    }

    /**
     * Lifecycle. Renders the UI of the button.
     *
     * @instance
     * @memberof ButtonImage
     * @method render
     * @return {Object} The content which should be rendered.
     */


    _createClass(ButtonImage, [{
        key: 'render',
        value: function render() {
            var inputSyle = { display: 'none' };

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.image, className: 'ae-button', 'data-type': 'button-image', onClick: this.handleClick.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.image },
                    _react2.default.createElement('span', { className: 'ae-icon-image' })
                ),
                _react2.default.createElement('input', { accept: 'image/*', onChange: this._onInputChange.bind(this), ref: this.fileInput, style: inputSyle, type: 'file' })
            );
        }

        /**
         * Simulates click on the input element. This will open browser's native file open dialog.
         *
         * @instance
         * @memberof ButtonImage
         * @method handleClick
         * @param {SyntheticEvent} event The received click event on the button.
         */

    }, {
        key: 'handleClick',
        value: function handleClick() {
            this.fileInput.current.click();
        }

        /**
         * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added
         * to the content. The image file will be passed in the `imageFiles` property.
         * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.
         * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.
         * The passed params will be:
         * - `el` - the created img element
         * - `file` - the original image file from the input element
         *
         * @fires ButtonImage#beforeImageAdd
         * @fires ButtonImage#imageAdd
         * @instance
         * @memberof ButtonImage
         * @method _onInputChange
         * @protected
         */

    }, {
        key: '_onInputChange',
        value: function _onInputChange() {
            var inputEl = this.fileInput.current;

            // On IE11 the function might be called with an empty array of
            // files. In such a case, no actions will be taken.
            if (!inputEl.files.length) {
                return;
            }

            var reader = new FileReader();
            var file = inputEl.files[0];

            reader.onload = function (event) {
                var editor = this.props.editor.get('nativeEditor');

                var result = editor.fire('beforeImageAdd', {
                    imageFiles: file
                });

                if (!!result) {
                    var el = CKEDITOR.dom.element.createFromHtml('<img src="' + event.target.result + '">');

                    editor.insertElement(el);

                    editor.fire('actionPerformed', this);

                    var imageData = {
                        el: el,
                        file: file
                    };

                    editor.fire('imageAdd', imageData);
                }
            }.bind(this);

            reader.readAsDataURL(file);

            inputEl.value = '';
        }
    }]);

    return ButtonImage;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default image
 * @memberof ButtonImage
 * @property {String} key
 * @static
 */


ButtonImage.key = 'image';

exports.default = ButtonImage;

/***/ }),

/***/ "./src/components/buttons/button-indent-block.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-indent-block.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonIndentBlock class provides functionality for indenting the selected blocks.
 *
 * @class ButtonIndentBlock
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonIndentBlock = function (_React$Component) {
    _inherits(ButtonIndentBlock, _React$Component);

    function ButtonIndentBlock() {
        _classCallCheck(this, ButtonIndentBlock);

        return _possibleConstructorReturn(this, (ButtonIndentBlock.__proto__ || Object.getPrototypeOf(ButtonIndentBlock)).apply(this, arguments));
    }

    _createClass(ButtonIndentBlock, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonIndentBlock
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.indent, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-indent-block', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.indent },
                _react2.default.createElement('span', { className: 'ae-icon-indent-block' })
            );
        }
    }]);

    return ButtonIndentBlock;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default indentBlock
 * @memberof ButtonIndentBlock
 * @property {String} key
 * @static
 */


ButtonIndentBlock.key = 'indentBlock';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonIndentBlock
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonIndentBlock.defaultProps = {
    command: 'indent'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonIndentBlock)));

/***/ }),

/***/ "./src/components/buttons/button-italic.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-italic.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonItalic class provides functionality for styling an selection with italic (em) style.
 *
 * @class ButtonItalic
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonItalic = function (_React$Component) {
    _inherits(ButtonItalic, _React$Component);

    function ButtonItalic() {
        _classCallCheck(this, ButtonItalic);

        return _possibleConstructorReturn(this, (ButtonItalic.__proto__ || Object.getPrototypeOf(ButtonItalic)).apply(this, arguments));
    }

    _createClass(ButtonItalic, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonItalic
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.italic, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-italic', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.italic },
                _react2.default.createElement('span', { className: 'ae-icon-italic' })
            );
        }
    }]);

    return ButtonItalic;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default italic
 * @memberof ButtonItalic
 * @property {String} key
 * @static
 */


ButtonItalic.key = 'italic';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonItalic
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonItalic.defaultProps = {
    command: 'italic',
    keystroke: {
        fn: 'execCommand',
        keys: CKEDITOR.CTRL + 73 /*I*/
    },
    style: 'coreStyles_italic'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonItalic))));

/***/ }),

/***/ "./src/components/buttons/button-link-autocomplete-list.jsx":
/*!******************************************************************!*\
  !*** ./src/components/buttons/button-link-autocomplete-list.jsx ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLinkAutocompleteList class provides functionality for showing a list of
 * items that can be selected for the link.
 *
 * @class ButtonLinkAutocompleteList
 * @uses WidgetFocusManager
 */
var ButtonLinkAutocompleteList = function (_React$Component) {
    _inherits(ButtonLinkAutocompleteList, _React$Component);

    function ButtonLinkAutocompleteList(props) {
        _classCallCheck(this, ButtonLinkAutocompleteList);

        var _this = _possibleConstructorReturn(this, (ButtonLinkAutocompleteList.__proto__ || Object.getPrototypeOf(ButtonLinkAutocompleteList)).call(this, props));

        _this.state = {
            items: []
        };
        return _this;
    }

    /**
     * Lifecycle. Invoked when a component is receiving new props.
     * This method is not called for the initial render.
     *
     * @instance
     * @memberof ButtonLinkAutocompleteList
     * @method componentWillReceiveProps
     */


    _createClass(ButtonLinkAutocompleteList, [{
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            if (!nextProps.term || nextProps.term !== this.props.term) {
                clearTimeout(this._timeout);

                if (nextProps.term) {
                    this._timeout = setTimeout(this._updateItems, this.props.delay);
                } else {
                    this.setState({
                        items: []
                    });
                }
            }

            if (nextProps.autocompleteSelected) {
                setTimeout(this.focus, 0);
                this.props.setAutocompleteState({
                    selected: false
                });
            }
        }

        /**
         * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method componentWillUnmount
         */

    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            clearTimeout(this._timeout);
        }

        /**
         * Lifecycle. Renders the UI of the list.
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            if (!this.props.expanded || !this.state.items.length) {
                return null;
            }

            return _react2.default.createElement(
                _buttonDropdown2.default,
                null,
                this._renderAutocompleteItems(this.state.items)
            );
        }

        /**
         * Lifecycle. Invoked before rendering when new props or state are being received.
         * This method is not called for the initial render or when forceUpdate is used.
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method  shouldComponentUpdate
         * @return {Boolean} Returns false when the transition to the new props and state will not
         * require a component update.
         */

    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            return nextProps.expanded !== this.props.expanded || nextProps.term !== this.props.term || nextState.items !== this.state.items;
        }

        /**
         * Renders a set of list items for the provided items
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method _renderAutocompleteItems
         * @param {Array} items List of autocomplete items to render
         * @protected
         * @return {Array} Rendered list item instances
         */

    }, {
        key: '_renderAutocompleteItems',
        value: function _renderAutocompleteItems(items) {
            items = items || [];

            var handleLinkAutocompleteClick = this.props.handleLinkAutocompleteClick;

            return items.map(function (item) {
                var className = this.props.term === item.url ? 'ae-toolbar-element active' : 'ae-toolbar-element';

                return _react2.default.createElement(
                    'li',
                    { key: item.url, role: 'option' },
                    _react2.default.createElement(
                        'button',
                        { className: className, onClick: handleLinkAutocompleteClick, 'data-value': item.url },
                        item.title
                    )
                );
            }.bind(this));
        }

        /**
         * Retrieves the data according to {this.props.term} and calls setState() with the returned data
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method _updateItems
         * @protected
         */

    }, {
        key: '_updateItems',
        value: function _updateItems() {
            var instance = this;

            if (!this.props.term) {
                return;
            }

            var promise = Promise.resolve(this.props.data(this.props.term));

            promise.then(function (items) {
                if (items.length) {
                    !instance.props.expanded && instance.props.toggleDropdown();
                }

                instance.setState({
                    items: items
                });
            });
        }
    }]);

    return ButtonLinkAutocompleteList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonLinkAutocompleteList
 * @memberof ButtonLinkAutocompleteList
 * @property {String} key
 * @static
 */


ButtonLinkAutocompleteList.key = 'buttonLinkAutocompleteList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonLinkAutocompleteList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonLinkAutocompleteList.defaultProps = {
    circular: false,
    data: [],
    delay: 100,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonLinkAutocompleteList);

/***/ }),

/***/ "./src/components/buttons/button-link-edit.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-link-edit.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonProps = __webpack_require__(/*! ../base/button-props.js */ "./src/components/base/button-props.js");

var _buttonProps2 = _interopRequireDefault(_buttonProps);

var _buttonLinkAutocompleteList = __webpack_require__(/*! ./button-link-autocomplete-list.jsx */ "./src/components/buttons/button-link-autocomplete-list.jsx");

var _buttonLinkAutocompleteList2 = _interopRequireDefault(_buttonLinkAutocompleteList);

var _buttonLinkTargetEdit = __webpack_require__(/*! ./button-link-target-edit.jsx */ "./src/components/buttons/button-link-target-edit.jsx");

var _buttonLinkTargetEdit2 = _interopRequireDefault(_buttonLinkTargetEdit);

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown.js */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.
 * Provides UI for creating, editing and removing a link.
 *
 * @class ButtonLinkEdit
 * @uses ButtonCfgProps
 * @uses WidgetDropdown
 * @uses WidgetFocusManager
 */
var ButtonLinkEdit = function (_React$Component) {
    _inherits(ButtonLinkEdit, _React$Component);

    function ButtonLinkEdit(props) {
        _classCallCheck(this, ButtonLinkEdit);

        var _this = _possibleConstructorReturn(this, (ButtonLinkEdit.__proto__ || Object.getPrototypeOf(ButtonLinkEdit)).call(this, props));

        _this.linkInput = _react2.default.createRef();
        _this.state = _this._getInitialState();
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
     *
     * Focuses on the link input to immediately allow editing. This should only happen if the component
     * is rendered in exclusive mode to prevent aggressive focus stealing.
     *
     * @instance
     * @memberof ButtonLinkEdit
     * @method componentDidMount
     */


    _createClass(ButtonLinkEdit, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (this.props.renderExclusive || this.props.manualSelection) {
                // We need to wait for the next rendering cycle before focusing to avoid undesired
                // scrolls on the page
                this._focusLinkInput();
            }
        }

        /**
         * Lifecycle. Invoked when a component is receiving new props.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method componentWillReceiveProps
         */

    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps() {
            this.setState(this._getInitialState());
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var targetSelector = {
                allowedTargets: this.props.allowedTargets,
                editor: this.props.editor,
                handleLinkTargetChange: this._handleLinkTargetChange.bind(this),
                selectedTarget: this.state.linkTarget || AlloyEditor.Strings.linkTargetDefault
            };

            targetSelector = this.mergeDropdownProps(targetSelector, _buttonLinkTargetEdit2.default.key);

            var autocompleteDropdown;

            if (this.props.data) {
                var dataFn = this.props.data;

                if (!_lang2.default.isFunction(dataFn)) {
                    var items = this.props.data;

                    dataFn = function dataFn() {
                        return items;
                    };
                }

                var autocompleteDropdownProps = {
                    autocompleteSelected: this.state.autocompleteSelected,
                    data: dataFn,
                    editor: this.props.editor,
                    handleLinkAutocompleteClick: this._handleLinkAutocompleteClick,
                    onDismiss: this.props.toggleDropdown,
                    setAutocompleteState: this._setAutocompleteState,
                    term: this.state.linkHref
                };

                autocompleteDropdownProps = this.mergeDropdownProps(autocompleteDropdownProps, _buttonLinkAutocompleteList2.default.key);

                autocompleteDropdown = _react2.default.createElement(_buttonLinkAutocompleteList2.default, autocompleteDropdownProps);
            }

            var buttonClearLink;

            if (this.state.linkHref) {
                buttonClearLink = _react2.default.createElement('button', { 'aria-label': AlloyEditor.Strings.clearInput, className: 'ae-button ae-icon-remove', onClick: this._clearLink.bind(this), title: AlloyEditor.Strings.clear });
            }

            var placeholderProp = {};

            if (!CKEDITOR.env.ie && AlloyEditor.Strings) {
                placeholderProp.placeholder = AlloyEditor.Strings.editLink;
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-link' },
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.removeLink, className: 'ae-button', disabled: !this.state.element, onClick: this._removeLink.bind(this), title: AlloyEditor.Strings.remove },
                    _react2.default.createElement('span', { className: 'ae-icon-unlink' })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input xxl' },
                    this.props.showTargetSelector && _react2.default.createElement(_buttonLinkTargetEdit2.default, targetSelector),
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container-input' },
                        _react2.default.createElement('input', _extends({ className: 'ae-input', onChange: this._handleLinkHrefChange.bind(this), onKeyDown: this._handleKeyDown.bind(this) }, placeholderProp, { ref: this.linkInput, type: 'text', value: this.state.linkHref })),
                        autocompleteDropdown
                    ),
                    buttonClearLink
                ),
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.confirm, className: 'ae-button', disabled: !this._isValidState(), onClick: this._updateLink.bind(this), title: AlloyEditor.Strings.confirm },
                    _react2.default.createElement('span', { className: 'ae-icon-ok' })
                )
            );
        }

        /**
         * The return value will be used as the initial value of this.state.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _getInitialState
         * @protected
         * @return {Object}
         */

    }, {
        key: '_getInitialState',
        value: function _getInitialState() {
            var _props = this.props,
                editor = _props.editor,
                defaultLinkTarget = _props.defaultLinkTarget;


            var link = new CKEDITOR.Link(editor.get('nativeEditor')).getFromSelection();
            var href = link ? link.getAttribute('href') : '';
            var target = link ? link.getAttribute('target') : defaultLinkTarget;

            return {
                autocompleteSelected: false,
                element: link,
                initialLink: {
                    href: href,
                    target: target
                },
                linkHref: href,
                linkTarget: target
            };
        }

        /**
         * Clears the link input. This only changes the component internal state, but does not
         * affect the link element of the editor. Only the _removeLink and _updateLink methods
         * are translated to the editor element.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _clearLink
         * @protected
         */

    }, {
        key: '_clearLink',
        value: function _clearLink() {
            this.setState({
                linkHref: ''
            });

            this._focusLinkInput();
        }

        /**
         * Focuses the user cursor on the widget's input.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _focusLinkInput
         * @protected
         */

    }, {
        key: '_focusLinkInput',
        value: function _focusLinkInput() {
            var instance = this;

            var focusLinkEl = function focusLinkEl() {
                instance.linkInput.current.focus();
            };

            if (window.requestAnimationFrame) {
                window.requestAnimationFrame(focusLinkEl);
            } else {
                setTimeout(focusLinkEl, 0);
            }
        }

        /**
         * Monitors key interaction inside the input element to respond to the keys:
         * - Enter: Creates/updates the link.
         * - Escape: Discards the changes.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleKeyDown
         * @param {SyntheticEvent} event The keyboard event.
         * @protected
         */

    }, {
        key: '_handleKeyDown',
        value: function _handleKeyDown(event) {
            if (event.keyCode === 13 || event.keyCode === 27) {
                event.preventDefault();
            }

            if (event.keyCode === 13) {
                this._updateLink();
            } else if (event.keyCode === 40) {
                this.setState({
                    autocompleteSelected: true
                });
            } else if (event.keyCode === 27) {
                var editor = this.props.editor.get('nativeEditor');

                new CKEDITOR.Link(editor).advanceSelection();

                this.props.editor.get('nativeEditor').fire('actionPerformed', this);
            }
        }

        /**
         * Updates the component state when the link input changes on user interaction.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleLinkHrefChange
         * @param {SyntheticEvent} event The change event.
         * @protected
         */

    }, {
        key: '_handleLinkHrefChange',
        value: function _handleLinkHrefChange(event) {
            this.setState({
                linkHref: event.target.value
            });

            this._focusLinkInput();
        }

        /**
         * Updates the component state when the link target changes on user interaction.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleLinkTargetChange
         * @param {SyntheticEvent} event The click event.
         * @protected
         */

    }, {
        key: '_handleLinkTargetChange',
        value: function _handleLinkTargetChange(event) {
            this.setState({
                itemDropdown: null,
                linkTarget: event.target.getAttribute('data-value')
            });

            this._focusLinkInput();
        }

        /**
         * Updates the component state when an autocomplete link result is selected by user interaction.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleLinkAutocompleteClick
         * @param {SyntheticEvent} event The click event.
         * @protected
         */

    }, {
        key: '_handleLinkAutocompleteClick',
        value: function _handleLinkAutocompleteClick(event) {
            this.setState({
                itemDropdown: null,
                linkHref: event.target.getAttribute('data-value')
            });

            this._focusLinkInput();
        }

        /**
         * Verifies that the current link state is valid so the user can save the link. A valid state
         * means that we have a non-empty href and that either that or the link target are different
         * from the original link.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _isValidState
         * @protected
         * @return {Boolean} [description]
         */

    }, {
        key: '_isValidState',
        value: function _isValidState() {
            var validState = this.state.linkHref && (this.state.linkHref !== this.state.initialLink.href || this.state.linkTarget !== this.state.initialLink.target);

            return validState;
        }

        /**
         * Removes the link in the editor element.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _removeLink
         * @protected
         */

    }, {
        key: '_removeLink',
        value: function _removeLink() {
            var editor = this.props.editor.get('nativeEditor');
            var linkUtils = new CKEDITOR.Link(editor);
            var selection = editor.getSelection();
            var bookmarks = selection.createBookmarks();

            linkUtils.remove(this.state.element, { advance: true });

            selection.selectBookmarks(bookmarks);

            // We need to cancelExclusive with the bound parameters in case the button is used
            // inside another in exclusive mode (such is the case of the link button)
            this.props.cancelExclusive();

            editor.fire('actionPerformed', this);
        }

        /**
         * Update autocompleteSelected state to focus and select autocompleteÂ´s dropdown
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _setAutocompleteState
         * @protected
         */

    }, {
        key: '_setAutocompleteState',
        value: function _setAutocompleteState(state) {
            this.setState({
                autocompleteSelected: state.selected
            });
        }

        /**
         * Updates the link in the editor element. If the element didn't exist previously, it will
         * create a new <a> element with the href specified in the link input.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _updateLink
         * @protected
         */

    }, {
        key: '_updateLink',
        value: function _updateLink() {
            var editor = this.props.editor.get('nativeEditor');
            var linkUtils = new CKEDITOR.Link(editor, { appendProtocol: this.props.appendProtocol });
            var linkAttrs = {
                target: this.state.linkTarget
            };
            var modifySelection = { advance: true };

            if (this.state.linkHref) {
                if (this.state.element) {
                    linkAttrs.href = this.state.linkHref;

                    linkUtils.update(linkAttrs, this.state.element, modifySelection);
                } else {
                    linkUtils.create(this.state.linkHref, linkAttrs, modifySelection);
                }

                editor.fire('actionPerformed', this);
            }

            // We need to cancelExclusive with the bound parameters in case the button is used
            // inside another in exclusive mode (such is the case of the link button)
            this.props.cancelExclusive();
        }
    }]);

    return ButtonLinkEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default linkEdit
 * @memberof ButtonLinkEdit
 * @property {String} key
 * @static
 */


ButtonLinkEdit.key = 'linkEdit';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonLinkEdit
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonLinkEdit.defaultProps = {
    appendProtocol: true,
    autocompleteUrl: '',
    circular: true,
    customIndexStart: true,
    defaultLinkTarget: '',
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    },
    showTargetSelector: true
};

exports.default = (0, _buttonProps2.default)((0, _widgetDropdown2.default)((0, _widgetFocusManager2.default)(ButtonLinkEdit)));

/***/ }),

/***/ "./src/components/buttons/button-link-target-edit.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-link-target-edit.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonTargetList = __webpack_require__(/*! ./button-target-list.jsx */ "./src/components/buttons/button-target-list.jsx");

var _buttonTargetList2 = _interopRequireDefault(_buttonTargetList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLinkTargetEdit class provides functionality for changing the target of a link
 * in the document.
 *
 * @class ButtonLinkTargetEdit
 */
var ButtonLinkTargetEdit = function (_React$Component) {
    _inherits(ButtonLinkTargetEdit, _React$Component);

    function ButtonLinkTargetEdit() {
        _classCallCheck(this, ButtonLinkTargetEdit);

        return _possibleConstructorReturn(this, (ButtonLinkTargetEdit.__proto__ || Object.getPrototypeOf(ButtonLinkTargetEdit)).apply(this, arguments));
    }

    _createClass(ButtonLinkTargetEdit, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonLinkTargetEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var handleLinkTargetChange = this.props.handleLinkTargetChange;
            var allowedLinkTargets = this.props.allowedTargets;

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-link-target ae-container-dropdown ae-container-dropdown-medium ae-has-dropdown', tabIndex: '0' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': this.props.selectedTarget, className: 'ae-toolbar-element', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: this.props.selectedTarget },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        _react2.default.createElement(
                            'span',
                            { className: 'ae-container-dropdown-selected-item' },
                            this.props.selectedTarget
                        ),
                        _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                    )
                ),
                this.props.expanded && _react2.default.createElement(_buttonTargetList2.default, { editor: this.props.editor, onDismiss: this.props.toggleDropdown, allowedLinkTargets: allowedLinkTargets, handleLinkTargetChange: handleLinkTargetChange, selectedTarget: this.props.selectedTarget })
            );
        }

        /**
         * Lifecycle. Invoked before rendering when new props or state are being received.
         * This method is not called for the initial render or when forceUpdate is used.
         *
         * @instance
         * @memberof ButtonLinkTargetEdit
         * @method  shouldComponentUpdate
         * @return {Boolean} Returns false when the transition to the new props and state will not
         * require a component update.
         */

    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps) {
            return nextProps.expanded !== this.props.expanded || nextProps.selectedTarget !== this.props.selectedTarget;
        }
    }]);

    return ButtonLinkTargetEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default linkTargetEdit
 * @memberof ButtonLinkTargetEdit
 * @property {String} key
 * @static
 */


ButtonLinkTargetEdit.key = 'linkTargetEdit';

exports.default = ButtonLinkTargetEdit;

/***/ }),

/***/ "./src/components/buttons/button-link.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-link.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonProps = __webpack_require__(/*! ../base/button-props.js */ "./src/components/base/button-props.js");

var _buttonProps2 = _interopRequireDefault(_buttonProps);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink
 * renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.
 *
 * @class ButtonLink
 * @uses ButtonCfgProps
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 */
var ButtonLink = function (_React$Component) {
    _inherits(ButtonLink, _React$Component);

    function ButtonLink() {
        _classCallCheck(this, ButtonLink);

        return _possibleConstructorReturn(this, (ButtonLink.__proto__ || Object.getPrototypeOf(ButtonLink)).apply(this, arguments));
    }

    _createClass(ButtonLink, [{
        key: 'isActive',

        /**
         * Checks if the current selection is contained within a link.
         *
         * @instance
         * @memberof ButtonLink
         * @method isActive
         * @return {Boolean} True if the selection is inside a link, false otherwise.
         */
        value: function isActive() {
            return new CKEDITOR.Link(this.props.editor.get('nativeEditor')).getFromSelection() !== null;
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonLink
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            if (this.props.renderExclusive) {
                var props = this.mergeButtonCfgProps();

                return _react2.default.createElement(_buttonLinkEdit2.default, props);
            } else {
                return _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.link, className: cssClass, 'data-type': 'button-link', onClick: this._requestExclusive.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.link },
                    _react2.default.createElement('span', { className: 'ae-icon-link' })
                );
            }
        }

        /**
         * Requests the link button to be rendered in exclusive mode to allow the creation of a link.
         *
         * @instance
         * @memberof ButtonLink
         * @method _requestExclusive
         * @protected
         */

    }, {
        key: '_requestExclusive',
        value: function _requestExclusive() {
            this.props.requestExclusive(ButtonLink.key);
        }
    }]);

    return ButtonLink;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default link
 * @memberof ButtonLink
 * @property {String} key
 * @static
 */


ButtonLink.key = 'link';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonLink
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonLink.defaultProps = {
    keystroke: {
        fn: '_requestExclusive',
        keys: CKEDITOR.CTRL + 76 /*L*/
    }
};

exports.default = (0, _buttonProps2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)(ButtonLink)));

/***/ }),

/***/ "./src/components/buttons/button-ol.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-ol.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.
 *
 * @class ButtonOrderedList
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonOrderedList = function (_React$Component) {
    _inherits(ButtonOrderedList, _React$Component);

    function ButtonOrderedList() {
        _classCallCheck(this, ButtonOrderedList);

        return _possibleConstructorReturn(this, (ButtonOrderedList.__proto__ || Object.getPrototypeOf(ButtonOrderedList)).apply(this, arguments));
    }

    _createClass(ButtonOrderedList, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonOrderedList
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.numberedlist, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-ol', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.numberedlist },
                _react2.default.createElement('span', { className: 'ae-icon-numbered-list' })
            );
        }
    }]);

    return ButtonOrderedList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default ol
 * @memberof ButtonOrderedList
 * @property {String} key
 * @static
 */


ButtonOrderedList.key = 'ol';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonOrderedList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonOrderedList.defaultProps = {
    command: 'numberedlist',
    style: {
        element: 'ol'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonOrderedList)));

/***/ }),

/***/ "./src/components/buttons/button-outdent-block.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-outdent-block.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonOutdentBlock class provides functionality for outdenting blocks.
 *
 * @class ButtonOutdentBlock
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonOutdentBlock = function (_React$Component) {
    _inherits(ButtonOutdentBlock, _React$Component);

    function ButtonOutdentBlock() {
        _classCallCheck(this, ButtonOutdentBlock);

        return _possibleConstructorReturn(this, (ButtonOutdentBlock.__proto__ || Object.getPrototypeOf(ButtonOutdentBlock)).apply(this, arguments));
    }

    _createClass(ButtonOutdentBlock, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonOutdentBlock
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.outdent, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-outdent-block', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.outdent },
                _react2.default.createElement('span', { className: 'ae-icon-outdent-block' })
            );
        }
    }]);

    return ButtonOutdentBlock;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default indentBlock
 * @memberof ButtonOutdentBlock
 * @property {String} key
 * @static
 */


ButtonOutdentBlock.key = 'outdentBlock';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonOutdentBlock
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonOutdentBlock.defaultProps = {
    command: 'outdent'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonOutdentBlock)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align-left.jsx":
/*!****************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align-left.jsx ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.
 *
 * @class ButtonParagraphAlignLeft
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphAlignLeft = function (_React$Component) {
    _inherits(ButtonParagraphAlignLeft, _React$Component);

    function ButtonParagraphAlignLeft() {
        _classCallCheck(this, ButtonParagraphAlignLeft);

        return _possibleConstructorReturn(this, (ButtonParagraphAlignLeft.__proto__ || Object.getPrototypeOf(ButtonParagraphAlignLeft)).apply(this, arguments));
    }

    _createClass(ButtonParagraphAlignLeft, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphAlignLeft
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignLeft, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-align-left', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignLeft },
                _react2.default.createElement('span', { className: 'ae-icon-align-left' })
            );
        }
    }]);

    return ButtonParagraphAlignLeft;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphLeft
 * @memberof ButtonParagraphAlignLeft
 * @property {String} key
 * @static
 */


ButtonParagraphAlignLeft.key = 'paragraphLeft';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphAlignLeft
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphAlignLeft.defaultProps = {
    command: 'justifyleft'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphAlignLeft)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align-right.jsx":
/*!*****************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align-right.jsx ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.
 *
 * @class ButtonParagraphAlignRight
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphAlignRight = function (_React$Component) {
    _inherits(ButtonParagraphAlignRight, _React$Component);

    function ButtonParagraphAlignRight() {
        _classCallCheck(this, ButtonParagraphAlignRight);

        return _possibleConstructorReturn(this, (ButtonParagraphAlignRight.__proto__ || Object.getPrototypeOf(ButtonParagraphAlignRight)).apply(this, arguments));
    }

    _createClass(ButtonParagraphAlignRight, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphAlignRight
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignRight, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-align-right', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignRight },
                _react2.default.createElement('span', { className: 'ae-icon-align-right' })
            );
        }
    }]);

    return ButtonParagraphAlignRight;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphRight
 * @memberof ButtonParagraphAlignRight
 * @property {String} key
 * @static
 */


ButtonParagraphAlignRight.key = 'paragraphRight';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphAlignRight
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphAlignRight.defaultProps = {
    command: 'justifyright'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphAlignRight)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-center.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-center.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphCenter class provides functionality for centering a paragraph.
 *
 * @class ButtonParagraphCenter
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphCenter = function (_React$Component) {
    _inherits(ButtonParagraphCenter, _React$Component);

    function ButtonParagraphCenter() {
        _classCallCheck(this, ButtonParagraphCenter);

        return _possibleConstructorReturn(this, (ButtonParagraphCenter.__proto__ || Object.getPrototypeOf(ButtonParagraphCenter)).apply(this, arguments));
    }

    _createClass(ButtonParagraphCenter, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphCenter
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignCenter, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-center', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignCenter },
                _react2.default.createElement('span', { className: 'ae-icon-align-center' })
            );
        }
    }]);

    return ButtonParagraphCenter;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphCenter
 * @memberof ButtonParagraphCenter
 * @property {String} key
 * @static
 */


ButtonParagraphCenter.key = 'paragraphCenter';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphCenter
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphCenter.defaultProps = {
    command: 'justifycenter'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphCenter)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-justify.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-justify.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphJustify class provides functionality for justfying a paragraph.
 *
 * @class ButtonParagraphJustify
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphJustify = function (_React$Component) {
    _inherits(ButtonParagraphJustify, _React$Component);

    function ButtonParagraphJustify() {
        _classCallCheck(this, ButtonParagraphJustify);

        return _possibleConstructorReturn(this, (ButtonParagraphJustify.__proto__ || Object.getPrototypeOf(ButtonParagraphJustify)).apply(this, arguments));
    }

    _createClass(ButtonParagraphJustify, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphJustify
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignJustify, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-justify', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignJustify },
                _react2.default.createElement('span', { className: 'ae-icon-align-justified' })
            );
        }
    }]);

    return ButtonParagraphJustify;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphJustify
 * @memberof ButtonParagraphJustify
 * @property {String} key
 * @static
 */


ButtonParagraphJustify.key = 'paragraphJustify';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphJustify
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphJustify.defaultProps = {
    command: 'justifyblock'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphJustify)));

/***/ }),

/***/ "./src/components/buttons/button-quote.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-quote.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonQuote class wraps a selection in `blockquote` element.
 *
 * @class ButtonQuote
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonQuote = function (_React$Component) {
    _inherits(ButtonQuote, _React$Component);

    function ButtonQuote() {
        _classCallCheck(this, ButtonQuote);

        return _possibleConstructorReturn(this, (ButtonQuote.__proto__ || Object.getPrototypeOf(ButtonQuote)).apply(this, arguments));
    }

    _createClass(ButtonQuote, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonQuote
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.quote, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-quote', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.quote },
                _react2.default.createElement('span', { className: 'ae-icon-quote' })
            );
        }
    }]);

    return ButtonQuote;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default quote
 * @memberof ButtonQuote
 * @property {String} key
 * @static
 */


ButtonQuote.key = 'quote';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonQuote
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonQuote.defaultProps = {
    command: 'blockquote',
    style: {
        element: 'blockquote'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonQuote)));

/***/ }),

/***/ "./src/components/buttons/button-remove-format.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-remove-format.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonRemoveFormat class removes style formatting.
 *
 * @class ButtonRemoveFormat
 * @uses ButtonCommand
 */
var ButtonRemoveFormat = function (_React$Component) {
    _inherits(ButtonRemoveFormat, _React$Component);

    function ButtonRemoveFormat() {
        _classCallCheck(this, ButtonRemoveFormat);

        return _possibleConstructorReturn(this, (ButtonRemoveFormat.__proto__ || Object.getPrototypeOf(ButtonRemoveFormat)).apply(this, arguments));
    }

    _createClass(ButtonRemoveFormat, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonRemoveFormat
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.removeformat, className: 'ae-button', 'data-type': 'button-removeformat', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.removeformat },
                _react2.default.createElement('span', { className: 'ae-icon-removeformat' })
            );
        }
    }]);

    return ButtonRemoveFormat;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default removeFormat
 * @memberof ButtonRemoveFormat
 * @property {String} key
 * @static
 */


ButtonRemoveFormat.key = 'removeFormat';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonRemoveFormat
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonRemoveFormat.defaultProps = {
    command: 'removeFormat'
};

exports.default = (0, _buttonCommand2.default)(ButtonRemoveFormat);

/***/ }),

/***/ "./src/components/buttons/button-separator.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-separator.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * The ButtonSeparator function renders a simple separator.
 */
function ButtonSeparator(props) {
  return _react2.default.createElement('span', { className: 'ae-separator' });
}

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default separator
 * @memberof ButtonSeparator
 * @property {String} key
 * @static
 */
ButtonSeparator.key = 'separator';

exports.default = ButtonSeparator;

/***/ }),

/***/ "./src/components/buttons/button-strike.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-strike.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStrike class styles a selection with strike style.
 *
 * @class ButtonStrike
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonStrike = function (_React$Component) {
    _inherits(ButtonStrike, _React$Component);

    function ButtonStrike() {
        _classCallCheck(this, ButtonStrike);

        return _possibleConstructorReturn(this, (ButtonStrike.__proto__ || Object.getPrototypeOf(ButtonStrike)).apply(this, arguments));
    }

    _createClass(ButtonStrike, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         * @instance
         * @memberof ButtonStrike
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.strike, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-strike', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.strike },
                _react2.default.createElement('span', { className: 'ae-icon-strike' })
            );
        }
    }]);

    return ButtonStrike;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default strike
 * @memberof ButtonStrike
 * @property {String} key
 * @static
 */


ButtonStrike.key = 'strike';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonStrike
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonStrike.defaultProps = {
    command: 'strike',
    style: 'coreStyles_strike'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonStrike)));

/***/ }),

/***/ "./src/components/buttons/button-styles-list-header.jsx":
/*!**************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-header.jsx ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonsStylesListHeader class provides the header of an list of style items.
 *
 * @class ButtonsStylesListHeader
 */
var ButtonsStylesListHeader = function (_React$Component) {
    _inherits(ButtonsStylesListHeader, _React$Component);

    function ButtonsStylesListHeader() {
        _classCallCheck(this, ButtonsStylesListHeader);

        return _possibleConstructorReturn(this, (ButtonsStylesListHeader.__proto__ || Object.getPrototypeOf(ButtonsStylesListHeader)).apply(this, arguments));
    }

    _createClass(ButtonsStylesListHeader, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonsStylesListHeader
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.styles && this.props.styles.length) {
                return _react2.default.createElement(
                    'span',
                    { className: 'ae-list-header' },
                    this.props.name
                );
            } else {
                return null;
            }
        }
    }]);

    return ButtonsStylesListHeader;
}(_react2.default.Component);

ButtonsStylesListHeader.key = 'buttonStylesListHeader';

exports.default = ButtonsStylesListHeader;

/***/ }),

/***/ "./src/components/buttons/button-styles-list-item-remove.jsx":
/*!*******************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-item-remove.jsx ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStylesListItemRemove class provides functionality for previewing a style definition
 * inside a list and applying it to the current editor selection.
 *
 * @class ButtonStylesListItemRemove
 */
var ButtonStylesListItemRemove = function (_React$Component) {
    _inherits(ButtonStylesListItemRemove, _React$Component);

    function ButtonStylesListItemRemove() {
        _classCallCheck(this, ButtonStylesListItemRemove);

        return _possibleConstructorReturn(this, (ButtonStylesListItemRemove.__proto__ || Object.getPrototypeOf(ButtonStylesListItemRemove)).apply(this, arguments));
    }

    _createClass(ButtonStylesListItemRemove, [{
        key: "render",

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonStylesListItemRemove
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                "li",
                { role: "option" },
                _react2.default.createElement(
                    "button",
                    { className: "ae-toolbar-element", onClick: this._removeStyles.bind(this), tabIndex: this.props.tabIndex },
                    AlloyEditor.Strings.normal
                )
            );
        }

        /**
         * Removes all inline styles and configured block elements applied to the current selection.
         *
         * @instance
         * @memberof ButtonStylesListItemRemove
         * @method _removeStyles
         * @protected
         */

    }, {
        key: "_removeStyles",
        value: function _removeStyles() {
            var editor = this.props.editor.get('nativeEditor');

            editor.execCommand('removeFormat');

            this.props.removeBlocks.forEach(function (blockItem) {
                var blockStyle = new CKEDITOR.style({ element: blockItem });

                editor.removeStyle(blockStyle);
            });

            editor.fire('actionPerformed', this);
        }
    }]);

    return ButtonStylesListItemRemove;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonStylesListItemRemove
 * @memberof ButtonStylesListItemRemove
 * @property {String} key
 * @static
 */


ButtonStylesListItemRemove.key = 'buttonStylesListItemRemove';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonStylesListItemRemove
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonStylesListItemRemove.defaultProps = {
    removeBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre']
};

exports.default = ButtonStylesListItemRemove;

/***/ }),

/***/ "./src/components/buttons/button-styles-list-item.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-item.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStylesListItem class provides functionality for previewing a style definition
 * inside a list and applying it to the current editor selection.
 *
 * @class ButtonStylesListItem
 * @uses ButtonActionStyle
 * @uses ButtonStyle
 */
var ButtonStylesListItem = function (_React$Component) {
    _inherits(ButtonStylesListItem, _React$Component);

    function ButtonStylesListItem() {
        _classCallCheck(this, ButtonStylesListItem);

        return _possibleConstructorReturn(this, (ButtonStylesListItem.__proto__ || Object.getPrototypeOf(ButtonStylesListItem)).apply(this, arguments));
    }

    _createClass(ButtonStylesListItem, [{
        key: 'componentWillMount',

        /**
         * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
         *
         * @instance
         * @memberof ButtonStylesListItem
         * @method componentWillMount
         */
        value: function componentWillMount() {
            // Styles with wildcard element (*) generate an empty tag in their preview < class="custom-class" />.
            // We default to element span and remove the margins to obtain a more consistent set of previews.
            var styleCfg = {
                element: 'span',
                styles: {
                    margin: 0
                }
            };

            styleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);

            this._preview = new CKEDITOR.style(styleCfg).buildPreview(this.props.name);
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonStylesListItem
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            // We need to use dangerouselySetInnterHTML since we're not in control of the style
            // preview that is generated by CKEditor.
            var className = this.props.name === this.props.activeStyle ? 'ae-toolbar-element active' : 'ae-toolbar-element';

            return _react2.default.createElement('button', { className: className, dangerouslySetInnerHTML: { __html: this._preview }, onClick: this._onClick.bind(this), tabIndex: this.props.tabIndex });
        }

        /**
         * Applies the item style to the editor selection.
         *
         * @instance
         * @memberof ButtonStylesListItem
         * @method _onClick
         * @protected
         */

    }, {
        key: '_onClick',
        value: function _onClick() {
            // Typically, we want the style to be the only one applied to the current selection, so
            // we execute the 'removeFormat' command first. Note that block styles won't be cleaned.
            // However, this is consistent with other editors implementations of this feature.
            this.props.editor.get('nativeEditor').execCommand('removeFormat');

            this.applyStyle();
        }
    }]);

    return ButtonStylesListItem;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonStylesListItem
 * @memberof ButtonStylesListItem
 * @property {String} key
 * @static
 */


ButtonStylesListItem.key = 'buttonStylesListItem';

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStyle2.default)(ButtonStylesListItem));

/***/ }),

/***/ "./src/components/buttons/button-styles-list.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-styles-list.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonStylesListItem = __webpack_require__(/*! ./button-styles-list-item.jsx */ "./src/components/buttons/button-styles-list-item.jsx");

var _buttonStylesListItem2 = _interopRequireDefault(_buttonStylesListItem);

var _buttonStylesListItemRemove = __webpack_require__(/*! ./button-styles-list-item-remove.jsx */ "./src/components/buttons/button-styles-list-item-remove.jsx");

var _buttonStylesListItemRemove2 = _interopRequireDefault(_buttonStylesListItemRemove);

var _buttonStylesListHeader = __webpack_require__(/*! ./button-styles-list-header.jsx */ "./src/components/buttons/button-styles-list-header.jsx");

var _buttonStylesListHeader2 = _interopRequireDefault(_buttonStylesListHeader);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStylesList class provides functionality for showing a list of styles that can be
 * applied to the current selection..
 *
 * @class ButtonStylesList
 * @uses WidgetFocusManager
 */
var ButtonStylesList = function (_React$Component) {
    _inherits(ButtonStylesList, _React$Component);

    function ButtonStylesList() {
        _classCallCheck(this, ButtonStylesList);

        return _possibleConstructorReturn(this, (ButtonStylesList.__proto__ || Object.getPrototypeOf(ButtonStylesList)).apply(this, arguments));
    }

    _createClass(ButtonStylesList, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * Focuses on the list node to allow keyboard interaction.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this).focus();
        }

        /**
         * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method componentWillMount
         */

    }, {
        key: 'componentWillMount',
        value: function componentWillMount() {
            var blockStyles = [];
            var inlineStyles = [];
            var objectStyles = [];

            this.props.styles.forEach(function (item) {
                var style = new CKEDITOR.style(item.style);

                if (style.type === CKEDITOR.STYLE_BLOCK) {
                    blockStyles.push(item);
                } else if (style.type === CKEDITOR.STYLE_INLINE) {
                    inlineStyles.push(item);
                } else if (style.type === CKEDITOR.STYLE_OBJECT) {
                    objectStyles.push(item);
                }
            });

            this._blockStyles = blockStyles;
            this._inlineStyles = inlineStyles;
            this._objectStyles = objectStyles;
        }

        /**
         * Lifecycle. Renders the UI of the list.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var removeStylesItem;

            if (this.props.showRemoveStylesItem) {
                removeStylesItem = _react2.default.createElement(_buttonStylesListItemRemove2.default, { editor: this.props.editor, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                _buttonDropdown2.default,
                this.props,
                removeStylesItem,
                _react2.default.createElement(_buttonStylesListHeader2.default, { name: AlloyEditor.Strings.blockStyles, styles: this._blockStyles }),
                this._renderStylesItems(this._blockStyles),
                _react2.default.createElement(_buttonStylesListHeader2.default, { name: AlloyEditor.Strings.inlineStyles, styles: this._inlineStyles }),
                this._renderStylesItems(this._inlineStyles),
                _react2.default.createElement(_buttonStylesListHeader2.default, { name: AlloyEditor.Strings.objectStyles, styles: this._objectStyles }),
                this._renderStylesItems(this._objectStyles)
            );
        }

        /**
         * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method _renderStylesItems
         * @param {Array} styles List of styles for which preview should be rendered.
         * @protected
         * @return {Array} Rendered instances of ButtonStylesListItem class
         */

    }, {
        key: '_renderStylesItems',
        value: function _renderStylesItems(styles) {
            var editor = this.props.editor;
            var items;

            if (styles && styles.length) {
                items = styles.map(function (item) {
                    return _react2.default.createElement(
                        'li',
                        { key: item.name, role: 'option' },
                        _react2.default.createElement(_buttonStylesListItem2.default, { activeStyle: this.props.activeStyle, editor: editor, name: item.name, style: item.style })
                    );
                }.bind(this));
            }

            return items;
        }
    }]);

    return ButtonStylesList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @memberof ButtonStylesList
 * @static
 * @property {String} key
 * @default buttonStylesList
 */


ButtonStylesList.key = 'buttonStylesList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonStylesList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonStylesList.defaultProps = {
    circular: false,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    },
    showRemoveStylesItem: true
};

exports.default = (0, _widgetFocusManager2.default)(ButtonStylesList);

/***/ }),

/***/ "./src/components/buttons/button-styles.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-styles.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStyles class provides functionality for styling a selection with a list of
 * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration
 * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)
 *
 * @class ButtonStyles
 */
var ButtonStyles = function (_React$Component) {
    _inherits(ButtonStyles, _React$Component);

    function ButtonStyles() {
        _classCallCheck(this, ButtonStyles);

        return _possibleConstructorReturn(this, (ButtonStyles.__proto__ || Object.getPrototypeOf(ButtonStyles)).apply(this, arguments));
    }

    _createClass(ButtonStyles, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonStyles
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var activeStyle = AlloyEditor.Strings.normal;

            var styles = this._getStyles();

            styles.forEach(function (item) {
                if (this._checkActive(item.style)) {
                    activeStyle = item.name;
                }
            }.bind(this));

            var buttonStylesList;

            if (this.props.expanded) {
                buttonStylesList = _react2.default.createElement(_buttonStylesList2.default, { activeStyle: activeStyle, editor: this.props.editor, onDismiss: this.props.toggleDropdown, showRemoveStylesItem: this.props.showRemoveStylesItem, styles: styles });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-dropdown ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.styles + ' ' + activeStyle, className: 'ae-toolbar-element', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.styles + ' ' + activeStyle },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        _react2.default.createElement(
                            'span',
                            { className: 'ae-container-dropdown-selected-item' },
                            activeStyle
                        ),
                        _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                    )
                ),
                buttonStylesList
            );
        }

        /**
         * Checks if the given style definition is applied to the current selection in the editor.
         *
         * @instance
         * @memberof ButtonStyles
         * @method _checkActive
         * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.
         * @protected
         * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.
         */

    }, {
        key: '_checkActive',
        value: function _checkActive(styleConfig) {
            var nativeEditor = this.props.editor.get('nativeEditor');

            // Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting
            // to a 'span' element works for most of those cases with no defined element.
            styleConfig = CKEDITOR.tools.merge({ element: 'span' }, styleConfig);

            var style = new CKEDITOR.style(styleConfig);

            return style.checkActive(nativeEditor.elementPath(), nativeEditor);
        }

        /**
         * Returns an array of styles. Each style consists from two properties:
         * - name - the style name, for example "h1"
         * - style - an object with one property, called `element` which value
         * represents the style which have to be applied to the element.
         *
         * @instance
         * @memberof ButtonStyles
         * @method _getStyles
         * @protected
         * @return {Array<object>} An array of objects containing the styles.
         */

    }, {
        key: '_getStyles',
        value: function _getStyles() {
            return this.props.styles || [{
                name: AlloyEditor.Strings.h1,
                style: {
                    element: 'h1'
                }
            }, {
                name: AlloyEditor.Strings.h2,
                style: {
                    element: 'h2'
                }
            }, {
                name: AlloyEditor.Strings.formatted,
                style: {
                    element: 'pre'
                }
            }, {
                name: AlloyEditor.Strings.cite,
                style: {
                    element: 'cite'
                }
            }, {
                name: AlloyEditor.Strings.code,
                style: {
                    element: 'code'
                }
            }];
        }
    }]);

    return ButtonStyles;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default styles
 * @memberof ButtonStyles
 * @property {String} key
 * @static
 */


ButtonStyles.key = 'styles';

exports.default = ButtonStyles;

/***/ }),

/***/ "./src/components/buttons/button-subscript.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-subscript.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonSubscript class provides functionality for applying subscript style to a text selection.
 *
 * @class ButtonSubscript
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonSubscript = function (_React$Component) {
    _inherits(ButtonSubscript, _React$Component);

    function ButtonSubscript() {
        _classCallCheck(this, ButtonSubscript);

        return _possibleConstructorReturn(this, (ButtonSubscript.__proto__ || Object.getPrototypeOf(ButtonSubscript)).apply(this, arguments));
    }

    _createClass(ButtonSubscript, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonSubscript
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.subscript, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-subscript', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.subscript },
                _react2.default.createElement('span', { className: 'ae-icon-subscript' })
            );
        }
    }]);

    return ButtonSubscript;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default subscript
 * @memberof ButtonSubscript
 * @property {String} key
 * @static
 */


ButtonSubscript.key = 'subscript';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonSubscript
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonSubscript.defaultProps = {
    command: 'subscript',
    style: 'coreStyles_subscript'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonSubscript)));

/***/ }),

/***/ "./src/components/buttons/button-superscript.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-superscript.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.
 *
 * @class ButtonSuperscript
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonSuperscript = function (_React$Component) {
    _inherits(ButtonSuperscript, _React$Component);

    function ButtonSuperscript() {
        _classCallCheck(this, ButtonSuperscript);

        return _possibleConstructorReturn(this, (ButtonSuperscript.__proto__ || Object.getPrototypeOf(ButtonSuperscript)).apply(this, arguments));
    }

    _createClass(ButtonSuperscript, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonSuperscript
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.superscript, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-superscript', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.superscript },
                _react2.default.createElement('span', { className: 'ae-icon-superscript' })
            );
        }
    }]);

    return ButtonSuperscript;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default superscript
 * @memberof ButtonSuperscript
 * @property {String} key
 * @static
 */


ButtonSuperscript.key = 'superscript';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonSuperscript
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonSuperscript.defaultProps = {
    command: 'superscript',
    style: 'coreStyles_superscript'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonSuperscript)));

/***/ }),

/***/ "./src/components/buttons/button-table-cell.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-table-cell.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableCell class provides functionality to work with table cells.
 *
 * @class ButtonTableCell
 */
var ButtonTableCell = function (_React$Component) {
    _inherits(ButtonTableCell, _React$Component);

    function ButtonTableCell() {
        _classCallCheck(this, ButtonTableCell);

        return _possibleConstructorReturn(this, (ButtonTableCell.__proto__ || Object.getPrototypeOf(ButtonTableCell)).apply(this, arguments));
    }

    _createClass(ButtonTableCell, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableCell
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList;
            var buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableCell.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.cell, 'aria-owns': buttonCommandsListId, className: 'ae-button', onClick: this.props.toggleDropdown.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.cell },
                    _react2.default.createElement('span', { className: 'ae-icon-cell' })
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableCell
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'cellInsertBefore',
                label: AlloyEditor.Strings.cellInsertBefore
            }, {
                command: 'cellInsertAfter',
                label: AlloyEditor.Strings.cellInsertAfter
            }, {
                command: 'cellDelete',
                label: AlloyEditor.Strings.cellDelete
            }, {
                command: 'cellMerge',
                label: AlloyEditor.Strings.cellMerge
            }, {
                command: 'cellMergeDown',
                label: AlloyEditor.Strings.cellMergeDown
            }, {
                command: 'cellMergeRight',
                label: AlloyEditor.Strings.cellMergeRight
            }, {
                command: 'cellHorizontalSplit',
                label: AlloyEditor.Strings.cellSplitHorizontal
            }, {
                command: 'cellVerticalSplit',
                label: AlloyEditor.Strings.cellSplitVertical
            }];
        }
    }]);

    return ButtonTableCell;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableCell
 * @memberof ButtonTableCell
 * @property {String} key
 * @static
 */


ButtonTableCell.key = 'tableCell';

exports.default = ButtonTableCell;

/***/ }),

/***/ "./src/components/buttons/button-table-column.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-table-column.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableColumn class provides functionality to work with table columns.
 *
 * @class ButtonTableColumn
 */
var ButtonTableColumn = function (_React$Component) {
    _inherits(ButtonTableColumn, _React$Component);

    function ButtonTableColumn() {
        _classCallCheck(this, ButtonTableColumn);

        return _possibleConstructorReturn(this, (ButtonTableColumn.__proto__ || Object.getPrototypeOf(ButtonTableColumn)).apply(this, arguments));
    }

    _createClass(ButtonTableColumn, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableColumn
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList, buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableColumn.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.column, 'aria-owns': buttonCommandsListId, className: 'ae-button', onClick: this.props.toggleDropdown.bind(this), role: 'listbox', tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.column },
                    _react2.default.createElement('span', { className: 'ae-icon-column' })
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableColumn
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'columnInsertBefore',
                label: AlloyEditor.Strings.columnInsertBefore
            }, {
                command: 'columnInsertAfter',
                label: AlloyEditor.Strings.columnInsertAfter
            }, {
                command: 'columnDelete',
                label: AlloyEditor.Strings.columnDelete
            }];
        }
    }]);

    return ButtonTableColumn;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableColumn
 * @memberof ButtonTableColumn
 * @property {String} key
 * @static
 */


ButtonTableColumn.key = 'tableColumn';

exports.default = ButtonTableColumn;

/***/ }),

/***/ "./src/components/buttons/button-table-edit.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-table-edit.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var KEY_ENTER = 13;
var KEY_ESC = 27;

/**
 * The ButtonTableEdit class provides functionality for creating and editing a table in a document.
 * Provides UI for creating a table.
 *
 * @class ButtonTableEdit
 */

var ButtonTableEdit = function (_React$Component) {
    _inherits(ButtonTableEdit, _React$Component);

    /**
     * Lifecycle. Invoked once before the component is mounted.
     *
     * @instance
     * @memberof ButtonTableEdit
     * @method getInitialState
     */
    function ButtonTableEdit(props) {
        _classCallCheck(this, ButtonTableEdit);

        var _this = _possibleConstructorReturn(this, (ButtonTableEdit.__proto__ || Object.getPrototypeOf(ButtonTableEdit)).call(this, props));

        _this.rowsRef = _react2.default.createRef();
        _this.colsRef = _react2.default.createRef();
        _this.state = {
            cols: 3,
            rows: 3
        };
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client (not on the server),
     * immediately after the initial rendering occurs.
     *
     * Focuses on the link input to immediately allow editing.
     *
     * @instance
     * @memberof ButtonTableEdit
     * @method componentDidMount
     */


    _createClass(ButtonTableEdit, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.rowsRef.current.focus();
        }

        /**
         * Creates a table.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method _createTable
         * @protected
         */

    }, {
        key: '_createTable',
        value: function _createTable() {
            var editor = this.props.editor.get('nativeEditor');
            var tableUtils = new CKEDITOR.Table(editor);

            tableUtils.create({
                attrs: this.props.tableAttributes,
                cols: this.state.cols,
                rows: this.state.rows
            });

            this.props.cancelExclusive();

            editor.fire('actionPerformed', this);
        }

        /**
         * Handles a change in input value. Sets the provided value from the user back to the input.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method _handleChange
         * @param {String} inputName The name of the input which value should be updated.
         * @param {SyntheticEvent} event The provided event.
         * @protected
         */

    }, {
        key: '_handleChange',
        value: function _handleChange(inputName, event) {
            var state = {};
            state[inputName] = event.target.value;

            this.setState(state);
        }

        /**
         * Monitors key interaction inside the input element to respond to the keys:
         * - Enter: Creates the table.
         * - Escape: Discards the changes.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method _handleKeyDown
         * @param {SyntheticEvent} event The keyboard event.
         * @protected
         */

    }, {
        key: '_handleKeyDown',
        value: function _handleKeyDown(event) {
            if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
                event.preventDefault();
            }

            if (event.keyCode === KEY_ENTER) {
                this._createTable();
            } else if (event.keyCode === KEY_ESC) {
                this.props.cancelExclusive();
            }
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var time = Date.now();
            var rowsId = time + 'rows';
            var colsId = time + 'cols';

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-table' },
                _react2.default.createElement(
                    'label',
                    { htmlFor: rowsId },
                    AlloyEditor.Strings.rows
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input small' },
                    _react2.default.createElement('input', { className: 'ae-input', id: rowsId, onChange: this._handleChange.bind(this, 'rows'), min: '1', onKeyDown: this._handleKeyDown.bind(this), placeholder: 'Rows', ref: this.rowsRef, type: 'number', value: this.state.rows })
                ),
                _react2.default.createElement(
                    'label',
                    { htmlFor: colsId },
                    AlloyEditor.Strings.columns
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input small' },
                    _react2.default.createElement('input', { className: 'ae-input', id: colsId, onChange: this._handleChange.bind(this, 'cols'), min: '1', onKeyDown: this._handleKeyDown.bind(this), placeholder: 'Colums', ref: this.colsRef, type: 'number', value: this.state.cols })
                ),
                _react2.default.createElement(
                    'button',
                    { 'aria-label': 'Confirm', className: 'ae-button', onClick: this._createTable.bind(this) },
                    _react2.default.createElement('span', { className: 'ae-icon-ok' })
                )
            );
        }
    }]);

    return ButtonTableEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableEdit
 * @memberof ButtonTableEdit
 * @property {String} key
 * @static
 */


ButtonTableEdit.key = 'tableEdit';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonTableEdit
 * @method getDefaultProps
 */
ButtonTableEdit.defaultProps = {
    tableAttributes: {
        border: 1,
        cellPadding: 0,
        cellSpacing: 0,
        style: 'width: 100%'
    }
};

exports.default = ButtonTableEdit;

/***/ }),

/***/ "./src/components/buttons/button-table-heading.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-table-heading.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableHeading class provides functionality to work with table heading.
 *
 * @class ButtonTableHeading
 */
var ButtonTableHeading = function (_React$Component) {
    _inherits(ButtonTableHeading, _React$Component);

    function ButtonTableHeading() {
        _classCallCheck(this, ButtonTableHeading);

        return _possibleConstructorReturn(this, (ButtonTableHeading.__proto__ || Object.getPrototypeOf(ButtonTableHeading)).apply(this, arguments));
    }

    _createClass(ButtonTableHeading, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableHeading
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList;
            var buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableHeading.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            var activeHeading = new CKEDITOR.Table(this.props.editor.get('nativeEditor')).getHeading();
            var activeHeadingIntro = AlloyEditor.Strings.headers + ':';
            var activeHeadingLabel = AlloyEditor.Strings['headers' + activeHeading];

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-dropdown-xl ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': '', className: 'ae-toolbar-element', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: '' },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        _react2.default.createElement(
                            'span',
                            { className: 'ae-container-dropdown-selected-item' },
                            activeHeadingIntro,
                            ' ',
                            _react2.default.createElement(
                                'strong',
                                null,
                                activeHeadingLabel
                            )
                        ),
                        _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                    )
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableHeading
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'tableHeadingNone',
                label: AlloyEditor.Strings.headersNone
            }, {
                command: 'tableHeadingRow',
                label: AlloyEditor.Strings.headersRow
            }, {
                command: 'tableHeadingColumn',
                label: AlloyEditor.Strings.headersColumn
            }, {
                command: 'tableHeadingBoth',
                label: AlloyEditor.Strings.headersBoth
            }];
        }
    }]);

    return ButtonTableHeading;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableRow
 * @memberof ButtonTableHeading
 * @property {String} key
 * @static
 */


ButtonTableHeading.key = 'tableHeading';

exports.default = ButtonTableHeading;

/***/ }),

/***/ "./src/components/buttons/button-table-remove.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-table-remove.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableRemove class provides functionality for removing a table
 *
 * @class ButtonTableRemove
 */
var ButtonTableRemove = function (_React$Component) {
    _inherits(ButtonTableRemove, _React$Component);

    function ButtonTableRemove() {
        _classCallCheck(this, ButtonTableRemove);

        return _possibleConstructorReturn(this, (ButtonTableRemove.__proto__ || Object.getPrototypeOf(ButtonTableRemove)).apply(this, arguments));
    }

    _createClass(ButtonTableRemove, [{
        key: "render",

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableRemove
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                "button",
                { "aria-label": AlloyEditor.Strings.deleteTable, className: "ae-button", "data-type": "button-table-remove", onClick: this._removeTable.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.deleteTable },
                _react2.default.createElement("span", { className: "ae-icon-bin" })
            );
        }

        /**
         * Removes the table in the editor element.
         *
         * @instance
         * @memberof ButtonTableRemove
         * @method _removeTable
         * @protected
         */

    }, {
        key: "_removeTable",
        value: function _removeTable() {
            var editor = this.props.editor.get('nativeEditor');
            var tableUtils = new CKEDITOR.Table(editor);

            tableUtils.remove();

            editor.fire('actionPerformed', this);
        }
    }]);

    return ButtonTableRemove;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableRemove
 * @memberof ButtonTableRemove
 * @property {String} key
 * @static
 */


ButtonTableRemove.key = 'tableRemove';

exports.default = ButtonTableRemove;

/***/ }),

/***/ "./src/components/buttons/button-table-row.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-table-row.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableRow class provides functionality to work with table rows.
 *
 * @class ButtonTableRow
 */
var ButtonTableRow = function (_React$Component) {
    _inherits(ButtonTableRow, _React$Component);

    function ButtonTableRow() {
        _classCallCheck(this, ButtonTableRow);

        return _possibleConstructorReturn(this, (ButtonTableRow.__proto__ || Object.getPrototypeOf(ButtonTableRow)).apply(this, arguments));
    }

    _createClass(ButtonTableRow, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableRow
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList;
            var buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableRow.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.row, 'aria-owns': buttonCommandsListId, className: 'ae-button', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.row },
                    _react2.default.createElement('span', { className: 'ae-icon-row' })
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableRow
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'rowInsertBefore',
                label: AlloyEditor.Strings.rowInsertBefore
            }, {
                command: 'rowInsertAfter',
                label: AlloyEditor.Strings.rowInsertAfter
            }, {
                command: 'rowDelete',
                label: AlloyEditor.Strings.rowDelete
            }];
        }
    }]);

    return ButtonTableRow;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableRow
 * @memberof ButtonTableRow
 * @property {String} key
 * @static
 */


ButtonTableRow.key = 'tableRow';

exports.default = ButtonTableRow;

/***/ }),

/***/ "./src/components/buttons/button-table.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-table.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonTableEdit = __webpack_require__(/*! ./button-table-edit.jsx */ "./src/components/buttons/button-table-edit.jsx");

var _buttonTableEdit2 = _interopRequireDefault(_buttonTableEdit);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable
 * renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonTableEdit UI with all the table edition controls.
 *
 * @class ButtonTable
 */
var ButtonTable = function (_React$Component) {
    _inherits(ButtonTable, _React$Component);

    function ButtonTable() {
        _classCallCheck(this, ButtonTable);

        return _possibleConstructorReturn(this, (ButtonTable.__proto__ || Object.getPrototypeOf(ButtonTable)).apply(this, arguments));
    }

    _createClass(ButtonTable, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTable
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.renderExclusive) {
                return _react2.default.createElement(_buttonTableEdit2.default, this.props);
            } else {
                return _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.table, className: 'ae-button', 'data-type': 'button-table', onClick: this.props.requestExclusive, tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.table },
                    _react2.default.createElement('span', { className: 'ae-icon-table' })
                );
            }
        }
    }]);

    return ButtonTable;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default table
 * @memberof ButtonTable
 * @property {String} key
 * @static
 */


ButtonTable.key = 'table';

exports.default = ButtonTable;

/***/ }),

/***/ "./src/components/buttons/button-target-list.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-target-list.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTargetList class provides functionality for changing the target of a link
 * in the document.
 *
 * @class ButtonTargetList
 * @uses WidgetFocusManager
 */
var ButtonTargetList = function (_React$Component) {
    _inherits(ButtonTargetList, _React$Component);

    function ButtonTargetList() {
        _classCallCheck(this, ButtonTargetList);

        return _possibleConstructorReturn(this, (ButtonTargetList.__proto__ || Object.getPrototypeOf(ButtonTargetList)).apply(this, arguments));
    }

    _createClass(ButtonTargetList, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this).focus();
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var listTargets = this._renderListTargets();

            return _react2.default.createElement(
                _buttonDropdown2.default,
                this.props,
                listTargets
            );
        }

        /**
         * Returns the the allowed link target items.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method _getAllowedTargetItems
         * @protected
         * @return {Array} The allowed target items.
         */

    }, {
        key: '_getAllowedTargetItems',
        value: function _getAllowedTargetItems() {
            return this.props.allowedLinkTargets || [{
                label: AlloyEditor.Strings.linkTargetDefault,
                value: ''
            }, {
                label: AlloyEditor.Strings.linkTargetSelf,
                value: '_self'
            }, {
                label: AlloyEditor.Strings.linkTargetBlank,
                value: '_blank'
            }, {
                label: AlloyEditor.Strings.linkTargetParent,
                value: '_parent'
            }, {
                label: AlloyEditor.Strings.linkTargetTop,
                value: '_top'
            }];
        }

        /**
         * Renders the allowed link target items.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method _renderListTargets
         * @protected
         * @return {Object} Returns the rendered link items
         */

    }, {
        key: '_renderListTargets',
        value: function _renderListTargets() {
            var targets = this._getAllowedTargetItems();

            var handleLinkTargetChange = this.props.handleLinkTargetChange;

            targets = targets.map(function (target) {
                var className = this.props.selectedTarget === target.value ? 'ae-toolbar-element active' : 'ae-toolbar-element';

                return _react2.default.createElement(
                    'li',
                    { key: target.value, role: 'option' },
                    _react2.default.createElement(
                        'button',
                        { className: className, 'data-value': target.value, onClick: handleLinkTargetChange },
                        target.label
                    )
                );
            }.bind(this));

            return targets;
        }
    }]);

    return ButtonTargetList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default linkTargetEdit
 * @memberof ButtonTargetList
 * @property {String} key
 * @static
 */


ButtonTargetList.key = 'targetList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonTargetList
 * @method getDefaultProps
 */
ButtonTargetList.defaultProps = {
    circular: true,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonTargetList);

/***/ }),

/***/ "./src/components/buttons/button-twitter.jsx":
/*!***************************************************!*\
  !*** ./src/components/buttons/button-twitter.jsx ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var MAX_TWEET_LENGTH = 280;

/**
 * The ButtonTwitter class provides functionality for creating a link which
 * allows people to tweet part of the content in the editor.
 *
 * @class ButtonTwitter
 * @uses ButtonStateClasses
 */

var ButtonTwitter = function (_React$Component) {
    _inherits(ButtonTwitter, _React$Component);

    function ButtonTwitter() {
        _classCallCheck(this, ButtonTwitter);

        return _possibleConstructorReturn(this, (ButtonTwitter.__proto__ || Object.getPrototypeOf(ButtonTwitter)).apply(this, arguments));
    }

    _createClass(ButtonTwitter, [{
        key: 'handleClick',

        /**
         * Creates or removes the twitter link on the selection.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method handleClick
         */
        value: function handleClick() {
            var editor = this.props.editor.get('nativeEditor');

            var linkUtils = new CKEDITOR.Link(editor);

            if (this.isActive()) {
                linkUtils.remove(linkUtils.getFromSelection());
            } else {
                linkUtils.create(this._getHref(), {
                    'class': 'ae-twitter-link',
                    'target': '_blank'
                });
            }

            editor.fire('actionPerformed', this);
        }

        /**
         * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method isActive
         * @return {Boolean} True if the selection is inside a twitter link, false otherwise.
         */

    }, {
        key: 'isActive',
        value: function isActive() {
            var link = new CKEDITOR.Link(this.props.editor.get('nativeEditor')).getFromSelection();

            return link && link.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1;
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.twitter, className: cssClass, 'data-type': 'button-twitter', onClick: this.handleClick.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.twitter },
                _react2.default.createElement('span', { className: 'ae-icon-twitter' })
            );
        }

        /**
         * Generates the appropriate twitter url based on the selected text and the configuration
         * options received via props.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method _getHref
         * @protected
         * @return {String} A valid twitter url with the selected text and given configuration.
         */

    }, {
        key: '_getHref',
        value: function _getHref() {
            var nativeEditor = this.props.editor.get('nativeEditor');
            var selectedText = nativeEditor.getSelection().getSelectedText().substring(0, MAX_TWEET_LENGTH);
            var url = this.props.url;
            var via = this.props.via;
            var twitterHref = 'https://twitter.com/intent/tweet?text=' + selectedText;

            if (url) {
                twitterHref += '&url=' + url;
            }

            if (via) {
                twitterHref += '&via=' + via;
            }

            return twitterHref;
        }
    }]);

    return ButtonTwitter;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default twitter
 * @memberof ButtonTwitter
 * @property {String} key
 * @static
 */


ButtonTwitter.key = 'twitter';

exports.default = (0, _buttonStateClasses2.default)(ButtonTwitter);

/***/ }),

/***/ "./src/components/buttons/button-ul.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-ul.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.
 *
 * @class ButtonUnorderedlist
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonUnorderedlist = function (_React$Component) {
    _inherits(ButtonUnorderedlist, _React$Component);

    function ButtonUnorderedlist() {
        _classCallCheck(this, ButtonUnorderedlist);

        return _possibleConstructorReturn(this, (ButtonUnorderedlist.__proto__ || Object.getPrototypeOf(ButtonUnorderedlist)).apply(this, arguments));
    }

    _createClass(ButtonUnorderedlist, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonUnorderedlist
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.bulletedlist, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-ul', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.bulletedlist },
                _react2.default.createElement('span', { className: 'ae-icon-bulleted-list' })
            );
        }
    }]);

    return ButtonUnorderedlist;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default ul
 * @memberof ButtonUnorderedlist
 * @property {String} key
 * @static
 */


ButtonUnorderedlist.key = 'ul';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonUnorderedlist
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonUnorderedlist.defaultProps = {
    command: 'bulletedlist',
    style: {
        element: 'ul'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonUnorderedlist)));

/***/ }),

/***/ "./src/components/buttons/button-underline.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-underline.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonUnderline class provides functionality for underlying a text selection.
 *
 * @class ButtonUnderline
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonUnderline = function (_React$Component) {
    _inherits(ButtonUnderline, _React$Component);

    function ButtonUnderline() {
        _classCallCheck(this, ButtonUnderline);

        return _possibleConstructorReturn(this, (ButtonUnderline.__proto__ || Object.getPrototypeOf(ButtonUnderline)).apply(this, arguments));
    }

    _createClass(ButtonUnderline, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonUnderline
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.underline, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-underline', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.underline },
                _react2.default.createElement('span', { className: 'ae-icon-underline' })
            );
        }
    }]);

    return ButtonUnderline;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default underline
 * @memberof ButtonUnderline
 * @property {String} key
 * @static
 */


ButtonUnderline.key = 'underline';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonUnderline
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonUnderline.defaultProps = {
    command: 'underline',
    keystroke: {
        fn: 'execCommand',
        keys: CKEDITOR.CTRL + 85 /*U*/
    },
    style: 'coreStyles_underline'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonUnderline))));

/***/ }),

/***/ "./src/components/buttons/index.js":
/*!*****************************************!*\
  !*** ./src/components/buttons/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _ButtonBold$key$Butto;

var _buttonBold = __webpack_require__(/*! ./button-bold.jsx */ "./src/components/buttons/button-bold.jsx");

var _buttonBold2 = _interopRequireDefault(_buttonBold);

var _buttonCameraImage = __webpack_require__(/*! ./button-camera-image.jsx */ "./src/components/buttons/button-camera-image.jsx");

var _buttonCameraImage2 = _interopRequireDefault(_buttonCameraImage);

var _buttonCamera = __webpack_require__(/*! ./button-camera.jsx */ "./src/components/buttons/button-camera.jsx");

var _buttonCamera2 = _interopRequireDefault(_buttonCamera);

var _buttonCode = __webpack_require__(/*! ./button-code.jsx */ "./src/components/buttons/button-code.jsx");

var _buttonCode2 = _interopRequireDefault(_buttonCode);

var _buttonCommandListItem = __webpack_require__(/*! ./button-command-list-item.jsx */ "./src/components/buttons/button-command-list-item.jsx");

var _buttonCommandListItem2 = _interopRequireDefault(_buttonCommandListItem);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonEmbedEdit = __webpack_require__(/*! ./button-embed-edit.jsx */ "./src/components/buttons/button-embed-edit.jsx");

var _buttonEmbedEdit2 = _interopRequireDefault(_buttonEmbedEdit);

var _buttonEmbed = __webpack_require__(/*! ./button-embed.jsx */ "./src/components/buttons/button-embed.jsx");

var _buttonEmbed2 = _interopRequireDefault(_buttonEmbed);

var _buttonH = __webpack_require__(/*! ./button-h1.jsx */ "./src/components/buttons/button-h1.jsx");

var _buttonH2 = _interopRequireDefault(_buttonH);

var _buttonH3 = __webpack_require__(/*! ./button-h2.jsx */ "./src/components/buttons/button-h2.jsx");

var _buttonH4 = _interopRequireDefault(_buttonH3);

var _buttonHline = __webpack_require__(/*! ./button-hline.jsx */ "./src/components/buttons/button-hline.jsx");

var _buttonHline2 = _interopRequireDefault(_buttonHline);

var _buttonImageAlignCenter = __webpack_require__(/*! ./button-image-align-center.jsx */ "./src/components/buttons/button-image-align-center.jsx");

var _buttonImageAlignCenter2 = _interopRequireDefault(_buttonImageAlignCenter);

var _buttonImageAlignLeft = __webpack_require__(/*! ./button-image-align-left.jsx */ "./src/components/buttons/button-image-align-left.jsx");

var _buttonImageAlignLeft2 = _interopRequireDefault(_buttonImageAlignLeft);

var _buttonImageAlignRight = __webpack_require__(/*! ./button-image-align-right.jsx */ "./src/components/buttons/button-image-align-right.jsx");

var _buttonImageAlignRight2 = _interopRequireDefault(_buttonImageAlignRight);

var _buttonImage = __webpack_require__(/*! ./button-image.jsx */ "./src/components/buttons/button-image.jsx");

var _buttonImage2 = _interopRequireDefault(_buttonImage);

var _buttonIndentBlock = __webpack_require__(/*! ./button-indent-block.jsx */ "./src/components/buttons/button-indent-block.jsx");

var _buttonIndentBlock2 = _interopRequireDefault(_buttonIndentBlock);

var _buttonItalic = __webpack_require__(/*! ./button-italic.jsx */ "./src/components/buttons/button-italic.jsx");

var _buttonItalic2 = _interopRequireDefault(_buttonItalic);

var _buttonLinkAutocompleteList = __webpack_require__(/*! ./button-link-autocomplete-list.jsx */ "./src/components/buttons/button-link-autocomplete-list.jsx");

var _buttonLinkAutocompleteList2 = _interopRequireDefault(_buttonLinkAutocompleteList);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

var _buttonLinkTargetEdit = __webpack_require__(/*! ./button-link-target-edit.jsx */ "./src/components/buttons/button-link-target-edit.jsx");

var _buttonLinkTargetEdit2 = _interopRequireDefault(_buttonLinkTargetEdit);

var _buttonLink = __webpack_require__(/*! ./button-link.jsx */ "./src/components/buttons/button-link.jsx");

var _buttonLink2 = _interopRequireDefault(_buttonLink);

var _buttonOl = __webpack_require__(/*! ./button-ol.jsx */ "./src/components/buttons/button-ol.jsx");

var _buttonOl2 = _interopRequireDefault(_buttonOl);

var _buttonOutdentBlock = __webpack_require__(/*! ./button-outdent-block.jsx */ "./src/components/buttons/button-outdent-block.jsx");

var _buttonOutdentBlock2 = _interopRequireDefault(_buttonOutdentBlock);

var _buttonParagraphAlignLeft = __webpack_require__(/*! ./button-paragraph-align-left.jsx */ "./src/components/buttons/button-paragraph-align-left.jsx");

var _buttonParagraphAlignLeft2 = _interopRequireDefault(_buttonParagraphAlignLeft);

var _buttonParagraphAlignRight = __webpack_require__(/*! ./button-paragraph-align-right.jsx */ "./src/components/buttons/button-paragraph-align-right.jsx");

var _buttonParagraphAlignRight2 = _interopRequireDefault(_buttonParagraphAlignRight);

var _buttonParagraphCenter = __webpack_require__(/*! ./button-paragraph-center.jsx */ "./src/components/buttons/button-paragraph-center.jsx");

var _buttonParagraphCenter2 = _interopRequireDefault(_buttonParagraphCenter);

var _buttonParagraphJustify = __webpack_require__(/*! ./button-paragraph-justify.jsx */ "./src/components/buttons/button-paragraph-justify.jsx");

var _buttonParagraphJustify2 = _interopRequireDefault(_buttonParagraphJustify);

var _buttonQuote = __webpack_require__(/*! ./button-quote.jsx */ "./src/components/buttons/button-quote.jsx");

var _buttonQuote2 = _interopRequireDefault(_buttonQuote);

var _buttonRemoveFormat = __webpack_require__(/*! ./button-remove-format.jsx */ "./src/components/buttons/button-remove-format.jsx");

var _buttonRemoveFormat2 = _interopRequireDefault(_buttonRemoveFormat);

var _buttonSeparator = __webpack_require__(/*! ./button-separator.jsx */ "./src/components/buttons/button-separator.jsx");

var _buttonSeparator2 = _interopRequireDefault(_buttonSeparator);

var _buttonStrike = __webpack_require__(/*! ./button-strike.jsx */ "./src/components/buttons/button-strike.jsx");

var _buttonStrike2 = _interopRequireDefault(_buttonStrike);

var _buttonStylesListHeader = __webpack_require__(/*! ./button-styles-list-header.jsx */ "./src/components/buttons/button-styles-list-header.jsx");

var _buttonStylesListHeader2 = _interopRequireDefault(_buttonStylesListHeader);

var _buttonStylesListItemRemove = __webpack_require__(/*! ./button-styles-list-item-remove.jsx */ "./src/components/buttons/button-styles-list-item-remove.jsx");

var _buttonStylesListItemRemove2 = _interopRequireDefault(_buttonStylesListItemRemove);

var _buttonStylesListItem = __webpack_require__(/*! ./button-styles-list-item.jsx */ "./src/components/buttons/button-styles-list-item.jsx");

var _buttonStylesListItem2 = _interopRequireDefault(_buttonStylesListItem);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

var _buttonStyles = __webpack_require__(/*! ./button-styles.jsx */ "./src/components/buttons/button-styles.jsx");

var _buttonStyles2 = _interopRequireDefault(_buttonStyles);

var _buttonSubscript = __webpack_require__(/*! ./button-subscript.jsx */ "./src/components/buttons/button-subscript.jsx");

var _buttonSubscript2 = _interopRequireDefault(_buttonSubscript);

var _buttonSuperscript = __webpack_require__(/*! ./button-superscript.jsx */ "./src/components/buttons/button-superscript.jsx");

var _buttonSuperscript2 = _interopRequireDefault(_buttonSuperscript);

var _buttonTableCell = __webpack_require__(/*! ./button-table-cell.jsx */ "./src/components/buttons/button-table-cell.jsx");

var _buttonTableCell2 = _interopRequireDefault(_buttonTableCell);

var _buttonTableColumn = __webpack_require__(/*! ./button-table-column.jsx */ "./src/components/buttons/button-table-column.jsx");

var _buttonTableColumn2 = _interopRequireDefault(_buttonTableColumn);

var _buttonTableEdit = __webpack_require__(/*! ./button-table-edit.jsx */ "./src/components/buttons/button-table-edit.jsx");

var _buttonTableEdit2 = _interopRequireDefault(_buttonTableEdit);

var _buttonTableHeading = __webpack_require__(/*! ./button-table-heading.jsx */ "./src/components/buttons/button-table-heading.jsx");

var _buttonTableHeading2 = _interopRequireDefault(_buttonTableHeading);

var _buttonTableRemove = __webpack_require__(/*! ./button-table-remove.jsx */ "./src/components/buttons/button-table-remove.jsx");

var _buttonTableRemove2 = _interopRequireDefault(_buttonTableRemove);

var _buttonTableRow = __webpack_require__(/*! ./button-table-row.jsx */ "./src/components/buttons/button-table-row.jsx");

var _buttonTableRow2 = _interopRequireDefault(_buttonTableRow);

var _buttonTable = __webpack_require__(/*! ./button-table.jsx */ "./src/components/buttons/button-table.jsx");

var _buttonTable2 = _interopRequireDefault(_buttonTable);

var _buttonTargetList = __webpack_require__(/*! ./button-target-list.jsx */ "./src/components/buttons/button-target-list.jsx");

var _buttonTargetList2 = _interopRequireDefault(_buttonTargetList);

var _buttonTwitter = __webpack_require__(/*! ./button-twitter.jsx */ "./src/components/buttons/button-twitter.jsx");

var _buttonTwitter2 = _interopRequireDefault(_buttonTwitter);

var _buttonUl = __webpack_require__(/*! ./button-ul.jsx */ "./src/components/buttons/button-ul.jsx");

var _buttonUl2 = _interopRequireDefault(_buttonUl);

var _buttonUnderline = __webpack_require__(/*! ./button-underline.jsx */ "./src/components/buttons/button-underline.jsx");

var _buttonUnderline2 = _interopRequireDefault(_buttonUnderline);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

exports.default = (_ButtonBold$key$Butto = {}, _defineProperty(_ButtonBold$key$Butto, _buttonBold2.default.key, _buttonBold2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCameraImage2.default.key, _buttonCameraImage2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCamera2.default.key, _buttonCamera2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCode2.default.key, _buttonCode2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCommandListItem2.default.key, _buttonCommandListItem2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCommandsList2.default.key, _buttonCommandsList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonDropdown2.default.key, _buttonDropdown2.default), _defineProperty(_ButtonBold$key$Butto, _buttonEmbedEdit2.default.key, _buttonEmbedEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonEmbed2.default.key, _buttonEmbed2.default), _defineProperty(_ButtonBold$key$Butto, _buttonH2.default.key, _buttonH2.default), _defineProperty(_ButtonBold$key$Butto, _buttonH4.default.key, _buttonH4.default), _defineProperty(_ButtonBold$key$Butto, _buttonHline2.default.key, _buttonHline2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImageAlignCenter2.default.key, _buttonImageAlignCenter2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImageAlignLeft2.default.key, _buttonImageAlignLeft2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImageAlignRight2.default.key, _buttonImageAlignRight2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImage2.default.key, _buttonImage2.default), _defineProperty(_ButtonBold$key$Butto, _buttonIndentBlock2.default.key, _buttonIndentBlock2.default), _defineProperty(_ButtonBold$key$Butto, _buttonItalic2.default.key, _buttonItalic2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLinkAutocompleteList2.default.key, _buttonLinkAutocompleteList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLinkEdit2.default.key, _buttonLinkEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLinkTargetEdit2.default.key, _buttonLinkTargetEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLink2.default.key, _buttonLink2.default), _defineProperty(_ButtonBold$key$Butto, _buttonOl2.default.key, _buttonOl2.default), _defineProperty(_ButtonBold$key$Butto, _buttonOutdentBlock2.default.key, _buttonOutdentBlock2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphAlignLeft2.default.key, _buttonParagraphAlignLeft2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphAlignRight2.default.key, _buttonParagraphAlignRight2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphCenter2.default.key, _buttonParagraphCenter2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphJustify2.default.key, _buttonParagraphJustify2.default), _defineProperty(_ButtonBold$key$Butto, _buttonQuote2.default.key, _buttonQuote2.default), _defineProperty(_ButtonBold$key$Butto, _buttonRemoveFormat2.default.key, _buttonRemoveFormat2.default), _defineProperty(_ButtonBold$key$Butto, _buttonSeparator2.default.key, _buttonSeparator2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStrike2.default.key, _buttonStrike2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesListHeader2.default.key, _buttonStylesListHeader2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesListItemRemove2.default.key, _buttonStylesListItemRemove2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesListItem2.default.key, _buttonStylesListItem2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesList2.default.key, _buttonStylesList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStyles2.default.key, _buttonStyles2.default), _defineProperty(_ButtonBold$key$Butto, _buttonSubscript2.default.key, _buttonSubscript2.default), _defineProperty(_ButtonBold$key$Butto, _buttonSuperscript2.default.key, _buttonSuperscript2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableCell2.default.key, _buttonTableCell2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableColumn2.default.key, _buttonTableColumn2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableEdit2.default.key, _buttonTableEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableHeading2.default.key, _buttonTableHeading2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableRemove2.default.key, _buttonTableRemove2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableRow2.default.key, _buttonTableRow2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTable2.default.key, _buttonTable2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTargetList2.default.key, _buttonTargetList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTwitter2.default.key, _buttonTwitter2.default), _defineProperty(_ButtonBold$key$Butto, _buttonUl2.default.key, _buttonUl2.default), _defineProperty(_ButtonBold$key$Butto, _buttonUnderline2.default.key, _buttonUnderline2.default), _ButtonBold$key$Butto);

/***/ }),

/***/ "./src/components/main.jsx":
/*!*********************************!*\
  !*** ./src/components/main.jsx ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetExclusive = __webpack_require__(/*! ./base/widget-exclusive.js */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ./base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).
 *
 * @class UI
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 */
var UI = function (_React$Component) {
    _inherits(UI, _React$Component);

    function UI(props) {
        _classCallCheck(this, UI);

        var _this = _possibleConstructorReturn(this, (UI.__proto__ || Object.getPrototypeOf(UI)).call(this, props));

        _this.state = {
            hidden: false
        };
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
     *
     * @instance
     * @memberof UI
     * @method componentDidMount
     */


    _createClass(UI, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            var editor = this.props.editor.get('nativeEditor');

            editor.on('editorInteraction', this._onEditorInteraction, this);
            editor.on('actionPerformed', this._onActionPerformed, this);
            editor.on('key', this._onEditorKey, this);

            // Set up events for hiding the UI when user stops interacting with the editor.
            // This may happen when he just clicks outside of the editor. However,
            // this does not include a situation when he clicks on some button, part of
            // editor's UI.

            // It is not easy to debounce _setUIHidden on mousedown, because if we
            // debounce it, when the handler is being invoked, the target might be no more part
            // of the editor's UI - onActionPerformed causes re-render.
            this._mousedownListener = function (event) {
                this._setUIHidden(event.target);
            }.bind(this);

            this._keyDownListener = CKEDITOR.tools.debounce(function (event) {
                this._setUIHidden(document.activeElement);
            }, this.props.eventsDelay, this);

            document.addEventListener('mousedown', this._mousedownListener);
            document.addEventListener('keydown', this._keyDownListener);
        }

        /**
         * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
         * Fires `ariaUpdate` event passing ARIA related messages.
         * Fires `editorUpdate` event passing the previous and current properties and state.
         *
         * @instance
         * @memberof UI
         * @method componentDidUpdate
         */

    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(prevProps, prevState) {
            var domNode = _reactDom2.default.findDOMNode(this);

            var editor = this.props.editor.get('nativeEditor');

            if (domNode) {
                editor.fire('ariaUpdate', {
                    message: this._getAvailableToolbarsMessage(domNode)
                });
            }

            editor.fire('editorUpdate', {
                prevProps: prevProps,
                prevState: prevState,
                props: this.props,
                state: this.state
            });
        }
    }, {
        key: '_getAriaUpdateTemplate',
        value: function _getAriaUpdateTemplate(ariaUpdate) {
            if (!this._ariaUpdateTemplates) {
                this._ariaUpdateTemplates = {};
            }

            if (!this._ariaUpdateTemplates[ariaUpdate]) {
                this._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(this._getAriaUpdates()[ariaUpdate]);
            }

            return this._ariaUpdateTemplates[ariaUpdate];
        }

        /**
         * Returns the templates for ARIA messages.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _getAriaUpdates
         * @return {Object} ARIA relates messages. Default:
         * {
         *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,
         *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,
         *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars
         *  }
         */

    }, {
        key: '_getAriaUpdates',
        value: function _getAriaUpdates() {
            return this.props.ariaUpdates || {
                noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,
                oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,
                manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars
            };
        }

        /**
         * Returns an ARIA message which represents the number of currently available toolbars.
         *
         * @instance
         * @memberof UI
         * @method _getAvailableToolbarsMessage
         * @protected
         * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.
         * @return {String} The ARIA message for the number of available toolbars
         */

    }, {
        key: '_getAvailableToolbarsMessage',
        value: function _getAvailableToolbarsMessage(domNode) {
            var toolbarsNodeList = domNode.querySelectorAll('[role="toolbar"]');

            if (!toolbarsNodeList.length) {
                return this._getAriaUpdates().noToolbar;
            } else {
                var toolbarNames = Array.prototype.slice.call(toolbarsNodeList).map(function (toolbar) {
                    return toolbar.getAttribute('aria-label');
                });

                var ariaUpdate = toolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';

                return this._getAriaUpdateTemplate(ariaUpdate).output({
                    toolbars: toolbarNames.join(',').replace(/,([^,]*)$/, ' and ' + '$1')
                });
            }
        }

        /**
         * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
         *
         * @instance
         * @memberof UI
         * @method componentWillUnmount
         */

    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            if (this._mousedownListener) {
                document.removeEventListener('mousedown', this._mousedownListener);
            }

            if (this._keyDownListener) {
                this._keyDownListener.detach();
                document.removeEventListener('keydown', this._keyDownListener);
            }
        }

        /**
         * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.
         * The editor's UI also takes care of rendering the items in exclusive mode.
         *
         * @instance
         * @memberof UI
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            if (this.state.hidden) {
                return null;
            }

            var toolbars = Object.keys(this.props.toolbars).map(function (toolbar) {
                return AlloyEditor.Toolbars[toolbar] || window[toolbar];
            });

            toolbars = this.filterExclusive(toolbars).map(function (toolbar) {
                var props = this.mergeExclusiveProps({
                    config: this.props.toolbars[toolbar.key],
                    editor: this.props.editor,
                    editorEvent: this.state.editorEvent,
                    key: toolbar.key,
                    onDismiss: this._onDismissToolbarFocus,
                    selectionData: this.state.selectionData
                }, toolbar.key);

                return _react2.default.createElement(toolbar, props);
            }.bind(this));

            return _react2.default.createElement(
                'div',
                { className: 'ae-toolbars', onKeyDown: this.handleKey.bind(this) },
                toolbars
            );
        }

        /**
         * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onActionPerformed
         * @param {SynteticEvent} event The provided event
         */

    }, {
        key: '_onActionPerformed',
        value: function _onActionPerformed(event) {
            var editor = this.props.editor.get('nativeEditor');

            editor.focus();

            this.setState({
                itemExclusive: null,
                selectionData: editor.getSelectionData()
            });
        }

        /**
         * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onDismissToolbarFocus
         */

    }, {
        key: '_onDismissToolbarFocus',
        value: function _onDismissToolbarFocus() {
            var editor = this.props.editor.get('nativeEditor');

            editor.focus();
        }

        /**
         * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and
         * provides it via component's state property.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onEditorInteraction
         * @param {SynteticEvent} event The provided event
         */

    }, {
        key: '_onEditorInteraction',
        value: function _onEditorInteraction(event) {
            this.setState({
                editorEvent: event,
                hidden: false,
                itemExclusive: null,
                selectionData: event.data.selectionData
            });
        }

        /**
         * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onEditorKey
         */

    }, {
        key: '_onEditorKey',
        value: function _onEditorKey(event) {
            var nativeEvent = event.data.domEvent.$;

            if (nativeEvent.altKey && nativeEvent.keyCode === 121) {
                this.focus();
            }
        }

        /**
         * Checks if the target with which the user interacted is part of editor's UI or it is
         * the editable area. If none of these, sets the state of editor's UI to be hidden.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _setUIHidden
         * @param {DOMElement} target The DOM element with which user interacted lastly.
         */

    }, {
        key: '_setUIHidden',
        value: function _setUIHidden(target) {
            var domNode = _reactDom2.default.findDOMNode(this);

            if (domNode) {
                var editable = this.props.editor.get('nativeEditor').editable();
                var parentNode = target.parentNode;
                var targetNode = new CKEDITOR.dom.node(target);

                if (!editable) {
                    this.setState({
                        hidden: true
                    });
                } else {
                    var res = editable.$ === target || editable.contains(targetNode) || new CKEDITOR.dom.element(domNode).contains(targetNode);

                    if (parentNode) {
                        res = res || parentNode.id === "ckimgrsz";
                    }

                    if (!res) {
                        this.setState({
                            hidden: true
                        });
                    }
                }
            }
        }
    }]);

    return UI;
}(_react2.default.Component);

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof UI
 * @method getDefaultProps
 * @return {Object} The default properties.
 */


UI.defaultProps = {
    circular: true,
    descendants: '[class^=ae-toolbar-]',
    eventsDelay: 0,
    keys: {
        next: 9
    }
};

/**
 * Fired when component updates and when it is rendered in the DOM.
 * The payload consists from a `message` property containing the ARIA message.
 *
 * @event ariaUpdate
 */

/**
 * Fired when component updates. The payload consists from an object with the following
 * properties:
 * - prevProps - The previous properties of the component
 * - prevState - The previous state of the component
 * - props - The current properties of the component
 * - state - The current state of the component
 *
 * @event ariaUpdate
 */

UI.propTypes = {
    /**
     * Localized messages for live aria updates. Should include the following messages:
     * - noToolbar: Notification for no available toolbar in the editor.
     * - oneToolbar: Notification for just one available toolbar in the editor.
     * - manyToolbars: Notification for more than one available toolbar in the editor.
     *
     * @instance
     * @memberof UI
     * @property {Object} ariaUpdates
     */
    ariaUpdates: _propTypes2.default.object,

    /**
     * The editor instance where the component is being used.
     *
     * @instance
     * @memberof UI
     * @property {Object} editor
     */
    editor: _propTypes2.default.object.isRequired,

    /**
     * The delay (ms), after which key or mouse events will be processed.
     *
     * @instance
     * @memberof UI
     * @property {Number} eventsDelay
     */
    eventsDelay: _propTypes2.default.number,

    /**
     * The toolbars configuration for this editor instance
     *
     * @instance
     * @memberof UI
     * @property {Object} toolbars
     */
    toolbars: _propTypes2.default.object.isRequired
};

exports.default = (0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)(UI));

/***/ }),

/***/ "./src/components/toolbars/index.js":
/*!******************************************!*\
  !*** ./src/components/toolbars/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _ToolbarAdd$key$Toolb;

var _toolbarAdd = __webpack_require__(/*! ./toolbar-add.jsx */ "./src/components/toolbars/toolbar-add.jsx");

var _toolbarAdd2 = _interopRequireDefault(_toolbarAdd);

var _toolbarStyles = __webpack_require__(/*! ./toolbar-styles.jsx */ "./src/components/toolbars/toolbar-styles.jsx");

var _toolbarStyles2 = _interopRequireDefault(_toolbarStyles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

exports.default = (_ToolbarAdd$key$Toolb = {}, _defineProperty(_ToolbarAdd$key$Toolb, _toolbarAdd2.default.key, _toolbarAdd2.default), _defineProperty(_ToolbarAdd$key$Toolb, _toolbarStyles2.default.key, _toolbarStyles2.default), _ToolbarAdd$key$Toolb);

/***/ }),

/***/ "./src/components/toolbars/toolbar-add.jsx":
/*!*************************************************!*\
  !*** ./src/components/toolbars/toolbar-add.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _toolbarButtons = __webpack_require__(/*! ../base/toolbar-buttons.js */ "./src/components/base/toolbar-buttons.js");

var _toolbarButtons2 = _interopRequireDefault(_toolbarButtons);

var _widgetArrowBox = __webpack_require__(/*! ../base/widget-arrow-box.js */ "./src/components/base/widget-arrow-box.js");

var _widgetArrowBox2 = _interopRequireDefault(_widgetArrowBox);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown.js */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetExclusive = __webpack_require__(/*! ../base/widget-exclusive.js */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _widgetPosition = __webpack_require__(/*! ../base/widget-position.js */ "./src/components/base/widget-position.js");

var _widgetPosition2 = _interopRequireDefault(_widgetPosition);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var POSITION_LEFT = 1;
var POSITION_RIGHT = 2;

/**
 * The ToolbarAdd class provides functionality for adding content to the editor.
 *
 * @class ToolbarAdd
 * @uses ToolbarButtons
 * @uses WidgetArrowBox
 * @uses WidgetDropdown
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 * @uses WidgetPosition
 */

var ToolbarAdd = function (_React$Component) {
    _inherits(ToolbarAdd, _React$Component);

    function ToolbarAdd(props) {
        _classCallCheck(this, ToolbarAdd);

        var _this = _possibleConstructorReturn(this, (ToolbarAdd.__proto__ || Object.getPrototypeOf(ToolbarAdd)).call(this, props));

        _this.state = {};
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client (not on the server),
     * immediately after the initial rendering occurs.
     *
     * @instance
     * @memberof ToolbarAdd
     * @method componentDidMount
     */


    _createClass(ToolbarAdd, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this._updatePosition();
        }

        /**
         * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method componentDidUpdate
         * @param {Object} prevProps The previous state of the component's properties.
         * @param {Object} prevState Component's previous state.
         */

    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(prevProps, prevState) {
            this._updatePosition();

            // In case of exclusive rendering, focus the first descendant (button)
            // so the user will be able to start interacting with the buttons immediately.
            if (this.props.renderExclusive) {
                this.focus();
            }
        }

        /**
         * Lifecycle. Renders the buttons for adding content or hides the toolbar
         * if user interacted with a non-editable element.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method render
         * @return {Object|null} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            // Some operations such as `requestExclusive` may force editor to blur which will
            // invalidate the `props.editorEvent` stored value, without causing a `props` change.
            // For example, if the editor is empty, `ae_placeholder` plugin will remove
            // the target from the DOM and will prevent `add` toolbar from rendering.
            //
            // It should be safe to assume that if you have been able to render the toolbar
            // and request the exclusive mode, then rendering might be kept until the exclusive mode is left.
            if (!this.state.itemExclusive && this.props.editorEvent && this.props.editorEvent.data.nativeEvent.target && !this.props.editorEvent.data.nativeEvent.target.isContentEditable) {
                return null;
            }

            var buttons = this._getButtons();
            var className = this._getToolbarClassName();

            return _react2.default.createElement(
                'div',
                { 'aria-label': AlloyEditor.Strings.add, className: className, 'data-tabindex': this.props.config.tabIndex || 0, onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), role: 'toolbar', tabIndex: '-1' },
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container' },
                    buttons
                )
            );
        }

        /**
         * Returns a list of buttons that will eventually render to HTML.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method _getButtons
         * @protected
         * @return {Object} The buttons which have to be rendered.
         */

    }, {
        key: '_getButtons',
        value: function _getButtons() {
            var buttons;

            if (this.props.renderExclusive) {
                buttons = this.getToolbarButtons(this.props.config.buttons);
            } else {
                if (this.props.selectionData && this.props.selectionData.region) {
                    buttons = _react2.default.createElement(
                        'button',
                        { 'aria-label': AlloyEditor.Strings.add, className: 'ae-button ae-button-add', onClick: this.props.requestExclusive.bind(this, ToolbarAdd.key), title: AlloyEditor.Strings.add },
                        _react2.default.createElement('span', { className: 'ae-icon-add' })
                    );
                }
            }

            return buttons;
        }

        /**
         * Returns the class name of the toolbar in case of both exclusive and normal mode.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method _getToolbarClassName
         * @protected
         * @return {String} The class name which have to be applied to the DOM element.
         */

    }, {
        key: '_getToolbarClassName',
        value: function _getToolbarClassName() {
            var cssClass = 'ae-toolbar-add';

            if (this.props.renderExclusive) {
                cssClass = 'ae-toolbar ' + this.getArrowBoxClasses();
            }

            return cssClass;
        }

        /**
         * Calculates and sets the position of the toolbar in exclusive or normal mode.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method _updatePosition
         * @protected
         */

    }, {
        key: '_updatePosition',
        value: function _updatePosition() {
            var region;

            // If component is not mounted, there is nothing to do
            if (!_reactDom2.default.findDOMNode(this)) {
                return;
            }

            if (this.props.renderExclusive) {
                this.updatePosition();
                this.show();
            } else {
                if (this.props.selectionData) {
                    region = this.props.selectionData.region;
                }

                if (region) {
                    var domNode = _reactDom2.default.findDOMNode(this);

                    var domElement = new CKEDITOR.dom.element(domNode);

                    var startRect = region.startRect || region;

                    var nativeEditor = this.props.editor.get('nativeEditor');

                    var clientRect = nativeEditor.editable().getClientRect();

                    var offsetLeft;

                    var position = this.props.config.position || this.props.position;

                    if (position === POSITION_LEFT) {
                        offsetLeft = clientRect.left - domNode.offsetWidth - this.props.gutterExclusive.left + 'px';
                    } else {
                        offsetLeft = clientRect.right + this.props.gutterExclusive.left + 'px';
                    }

                    domNode.style.left = offsetLeft;

                    domNode.style.top = Math.floor((region.bottom + region.top) / 2) + 'px';

                    var uiNode = this.props.editor.get('uiNode');

                    var scrollTop = uiNode ? uiNode.scrollTop : 0;

                    if (nativeEditor.element.getStyle('overflow') !== 'auto') {
                        domNode.style.top = Math.floor(region.top - domNode.offsetHeight / 2 + startRect.height / 2 + scrollTop) + 'px';
                    } else {
                        domNode.style.top = Math.floor(nativeEditor.element.$.offsetTop + startRect.height / 2 - domNode.offsetHeight / 2) + 'px';
                    }

                    domNode.style.opacity = 1;

                    domElement.removeClass('ae-arrow-box');

                    this.cancelAnimation();
                }
            }
        }
    }]);

    return ToolbarAdd;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default add
 * @memberof ToolbarAdd
 * @property {String} key
 * @static
 */


ToolbarAdd.key = 'add';

/**
 * Defines the constant for positioning the Toolbar on left of the editable area.
 *
 * @default 1
 * @memberof ToolbarAdd
 * @property {String} left
 * @static
 */
ToolbarAdd.left = POSITION_LEFT;

/**
 * Defines the constant for positioning the Toolbar on right of the editable area.
 *
 * @default 2
 * @memberof ToolbarAdd
 * @property {String} right
 * @static
 */
ToolbarAdd.right = POSITION_RIGHT;

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ToolbarAdd
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ToolbarAdd.defaultProps = {
    circular: true,
    descendants: '.ae-button',
    gutterExclusive: {
        left: 10,
        top: 0
    },
    keys: {
        dismiss: [27],
        next: [39, 40],
        prev: [37, 38]
    },
    position: POSITION_LEFT
};

exports.default = (0, _widgetArrowBox2.default)((0, _widgetDropdown2.default)((0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)((0, _widgetPosition2.default)((0, _toolbarButtons2.default)(ToolbarAdd))))));

/***/ }),

/***/ "./src/components/toolbars/toolbar-styles.jsx":
/*!****************************************************!*\
  !*** ./src/components/toolbars/toolbar-styles.jsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _toolbarButtons = __webpack_require__(/*! ../base/toolbar-buttons.js */ "./src/components/base/toolbar-buttons.js");

var _toolbarButtons2 = _interopRequireDefault(_toolbarButtons);

var _widgetArrowBox = __webpack_require__(/*! ../base/widget-arrow-box.js */ "./src/components/base/widget-arrow-box.js");

var _widgetArrowBox2 = _interopRequireDefault(_widgetArrowBox);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown.js */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetExclusive = __webpack_require__(/*! ../base/widget-exclusive.js */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _widgetPosition = __webpack_require__(/*! ../base/widget-position.js */ "./src/components/base/widget-position.js");

var _widgetPosition2 = _interopRequireDefault(_widgetPosition);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ToolbarStyles class hosts the buttons for styling a text selection.
 *
 * @class ToolbarStyles
 * @uses ToolbarButtons
 * @uses WidgetArrowBox
 * @uses WidgetDropdown
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 * @uses WidgetPosition
 */
var ToolbarStyles = function (_React$Component) {
    _inherits(ToolbarStyles, _React$Component);

    function ToolbarStyles(props) {
        _classCallCheck(this, ToolbarStyles);

        var _this = _possibleConstructorReturn(this, (ToolbarStyles.__proto__ || Object.getPrototypeOf(ToolbarStyles)).call(this, props));

        _this.state = {};
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client (not on the server),
     * immediately after the initial rendering occurs.
     *
     * @instance
     * @memberof ToolbarStyles
     * @method componentDidMount
     */


    _createClass(ToolbarStyles, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this._updatePosition();
        }

        /**
         * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method componentDidUpdate
         * @param {Object} prevProps The previous state of the component's properties.
         * @param {Object} prevState Component's previous state.
         */

    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(prevProps, prevState) {
            this._updatePosition();
        }

        /**
         * Lifecycle. Renders the buttons for adding content or hides the toolbar
         * if user interacted with a non-editable element.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method render
         * @return {Object|null} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var currentSelection = this._getCurrentSelection();

            if (currentSelection) {
                var getArrowBoxClassesFn = this._getSelectionFunction(currentSelection.getArrowBoxClasses);
                var arrowBoxClasses;

                if (getArrowBoxClassesFn) {
                    arrowBoxClasses = getArrowBoxClassesFn();
                } else {
                    arrowBoxClasses = this.getArrowBoxClasses();
                }

                var cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;

                var buttons = currentSelection.buttons;

                if ((typeof buttons === 'undefined' ? 'undefined' : _typeof(buttons)) === 'object' && !Array.isArray(buttons)) {
                    buttons = buttons[this.props.editor.get('mode')] || buttons['simple'];
                }

                var buttonsGroup = this.getToolbarButtonGroups(buttons, {
                    manualSelection: this.props.editorEvent ? this.props.editorEvent.data.manualSelection : null,
                    selectionType: currentSelection.name
                });

                var hasGroups = buttonsGroup.filter(function (button) {
                    return Array.isArray(button);
                }).length > 0;

                var className = 'ae-container';

                if (hasGroups) {
                    className += ' ae-container-column';
                }

                return _react2.default.createElement(
                    'div',
                    { 'aria-label': AlloyEditor.Strings.styles, className: cssClasses, 'data-tabindex': this.props.config.tabIndex || 0, onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), role: 'toolbar', tabIndex: '-1' },
                    _react2.default.createElement(
                        'div',
                        { className: className },
                        buttonsGroup.map(function (value, index) {
                            if (Array.isArray(value)) {
                                return _react2.default.createElement(
                                    'div',
                                    { className: 'ae-row', key: index },
                                    value.map(function (button) {
                                        return button;
                                    })
                                );
                            } else {
                                return value;
                            }
                        })
                    )
                );
            }

            return null;
        }

        /**
         * Retrieve a function from String. It converts a fully qualified string into the mapped function.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method _getSelectionFunction
         * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').
         * @protected
         * @return {Function} The mapped function.
         */

    }, {
        key: '_getSelectionFunction',
        value: function _getSelectionFunction(selectionFn) {
            var selectionFunction;

            if (_lang2.default.isFunction(selectionFn)) {
                selectionFunction = selectionFn;
            } else if (_lang2.default.isString(selectionFn)) {
                var parts = selectionFn.split('.');
                var currentMember = window;
                var property = parts.shift();

                while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
                    currentMember = currentMember[property];
                    property = parts.shift();
                }

                if (_lang2.default.isFunction(currentMember)) {
                    selectionFunction = currentMember;
                }
            }

            return selectionFunction;
        }

        /**
         * Analyzes the current editor selection and returns the selection configuration that matches.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method _getCurrentSelection
         * @protected
         * @return {Object} The matched selection configuration.
         */

    }, {
        key: '_getCurrentSelection',
        value: function _getCurrentSelection() {
            var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;
            var selection;

            if (eventPayload) {
                this.props.config.selections.some(function (item) {
                    var testFn = this._getSelectionFunction(item.test);
                    var result;

                    if (testFn) {
                        result = eventPayload.manualSelection === item.name || testFn({
                            data: eventPayload,
                            editor: this.props.editor
                        });
                    }

                    if (result) {
                        selection = item;
                    }

                    return result;
                }, this);
            }

            return selection;
        }

        /**
         * Calculates and sets the position of the toolbar.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method _updatePosition
         * @protected
         */

    }, {
        key: '_updatePosition',
        value: function _updatePosition() {
            // If component is not mounted, there is nothing to do
            if (!_reactDom2.default.findDOMNode(this)) {
                return;
            }

            var currentSelection = this._getCurrentSelection();
            var result;

            // If current selection has a function called `setPosition`, call it
            // and check the returned value. If false, fallback to the default positioning logic.
            if (currentSelection) {
                var setPositionFn = this._getSelectionFunction(currentSelection.setPosition);

                if (setPositionFn) {
                    result = setPositionFn.call(this, {
                        editor: this.props.editor,
                        editorEvent: this.props.editorEvent,
                        selectionData: this.props.selectionData
                    });
                }
            }

            if (!result) {
                this.updatePosition();
                this.show();
            }
        }
    }]);

    return ToolbarStyles;
}(_react2.default.Component);

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ToolbarStyles
 * @method getDefaultProps
 * @return {Object} The default properties.
 */


ToolbarStyles.defaultProps = {
    circular: true,
    descendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',
    keys: {
        dismiss: [27],
        next: [39, 40],
        prev: [37, 38]
    }
};

/**
* The name which will be used as an alias of the button in the configuration.
*
* @default styles
* @memberof ToolbarStyles
* @property {String} key
* @static
*/
ToolbarStyles.key = 'styles';

exports.default = (0, _widgetArrowBox2.default)((0, _widgetDropdown2.default)((0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)((0, _widgetPosition2.default)((0, _toolbarButtons2.default)(ToolbarStyles))))));

/***/ }),

/***/ "./src/components/uibridge/button.jsx":
/*!********************************************!*\
  !*** ./src/components/uibridge/button.jsx ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _createReactClass = __webpack_require__(/*! create-react-class */ "./node_modules/create-react-class/index.js");

var _createReactClass2 = _interopRequireDefault(_createReactClass);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_buttonbridge')) {
        return;
    }

    /* istanbul ignore next */
    function noop() {}

    // API not yet implemented inside the button bridge. By mocking the unsupported methods, we
    // prevent plugins from crashing if they make use of them.
    //
    // Some methods like `getState` and `setState` clash with React's own state methods. For them,
    // unsupported means that we don't account for the different meaning in the passed or returned
    // arguments.
    var UNSUPPORTED_BUTTON_API = {
        //getState: function() {},
        //setState: function(state) {},
        toFeature: noop
    };

    var BUTTON_DEFS = {};

    /**
     * Generates a ButtonBridge React class for a given button definition if it has not been
     * already created based on the button name and definition.
     *
     * @private
     * @method generateButtonBridge
     * @param {String} buttonName The button's name
     * @param {Object} buttonDefinition The button's definition
     * @return {Object} The generated or already existing React Button Class
     */

    function generateButtonBridge(buttonName, buttonDefinition, editor) {
        var ButtonBridge = AlloyEditor.Buttons[buttonName];

        BUTTON_DEFS[editor.name] = BUTTON_DEFS[editor.name] || {};
        BUTTON_DEFS[editor.name][buttonName] = BUTTON_DEFS[editor.name][buttonName] || buttonDefinition;

        if (!ButtonBridge) {
            ButtonBridge = (0, _createReactClass2.default)(CKEDITOR.tools.merge(UNSUPPORTED_BUTTON_API, {
                displayName: buttonName,

                statics: {
                    key: buttonName
                },

                render: function render() {
                    var editor = this.props.editor.get('nativeEditor');

                    var buttonClassName = 'ae-button ae-button-bridge';

                    var buttonDisplayName = BUTTON_DEFS[editor.name][buttonName].name || BUTTON_DEFS[editor.name][buttonName].command || buttonName;

                    var buttonLabel = BUTTON_DEFS[editor.name][buttonName].label;

                    var buttonType = 'button-' + buttonDisplayName;

                    var iconClassName = 'ae-icon-' + buttonDisplayName;

                    var iconStyle = {};

                    var cssStyle = CKEDITOR.skin.getIconStyle(buttonDisplayName);

                    if (cssStyle) {
                        var cssStyleParts = cssStyle.split(';');

                        iconStyle.backgroundImage = cssStyleParts[0].substring(cssStyleParts[0].indexOf(':') + 1);
                        iconStyle.backgroundPosition = cssStyleParts[1].substring(cssStyleParts[1].indexOf(':') + 1);
                        iconStyle.backgroundSize = cssStyleParts[2].substring(cssStyleParts[2].indexOf(':') + 1);
                    }

                    return _react2.default.createElement(
                        'button',
                        { 'aria-label': buttonLabel, className: buttonClassName, 'data-type': buttonType, onClick: this._handleClick, tabIndex: this.props.tabIndex, title: buttonLabel },
                        _react2.default.createElement('span', { className: iconClassName, style: iconStyle })
                    );
                },

                _handleClick: function _handleClick(event) {
                    var editor = this.props.editor.get('nativeEditor');

                    var buttonCommand = BUTTON_DEFS[editor.name][buttonName].command;

                    var buttonOnClick = BUTTON_DEFS[editor.name][buttonName].onClick;

                    if (buttonOnClick) {
                        buttonOnClick.call(this);
                    } else {
                        editor.execCommand(buttonCommand);
                    }

                    editor.fire('actionPerformed', this);
                }
            }));

            AlloyEditor.Buttons[buttonName] = ButtonBridge;
        }

        return ButtonBridge;
    }

    /* istanbul ignore else */
    if (!CKEDITOR.plugins.get('button')) {
        CKEDITOR.UI_BUTTON = 'button';

        CKEDITOR.plugins.add('button', {});
    }

    /**
     * CKEditor plugin that bridges the support offered by CKEditor Button plugin. It takes over the
     * responsibility of registering and creating buttons via:
     * - editor.ui.addButton(name, definition)
     * - editor.ui.add(name, CKEDITOR.UI_BUTTON, definition)
     *
     * @class CKEDITOR.plugins.ae_buttonbridge
     * @requires CKEDITOR.plugins.ae_uibridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_buttonbridge', {
        requires: ['ae_uibridge'],

        /**
         * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override
         * the one in the native plugin in case it's present.
         *
         * @method init
         * @param {Object} editor The CKEditor instance being initialized
         */
        beforeInit: function beforeInit(editor) {
            editor.ui.addButton = function (buttonName, buttonDefinition) {
                this.add(buttonName, CKEDITOR.UI_BUTTON, buttonDefinition);
            };

            editor.ui.addHandler(CKEDITOR.UI_BUTTON, {
                add: generateButtonBridge,
                create: function create(buttonDefinition) {
                    var buttonName = 'buttonBridge' + (Math.random() * 1e9 >>> 0);
                    var ButtonBridge = generateButtonBridge(buttonName, buttonDefinition);

                    return new ButtonBridge();
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/components/uibridge/index.js":
/*!******************************************!*\
  !*** ./src/components/uibridge/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.uibridge = exports.richcombo = exports.panelMenuButton = exports.menu = exports.menuButton = exports.button = undefined;

var _button = __webpack_require__(/*! ./button.jsx */ "./src/components/uibridge/button.jsx");

var _button2 = _interopRequireDefault(_button);

var _menuButton = __webpack_require__(/*! ./menu-button.jsx */ "./src/components/uibridge/menu-button.jsx");

var _menuButton2 = _interopRequireDefault(_menuButton);

var _menu = __webpack_require__(/*! ./menu.jsx */ "./src/components/uibridge/menu.jsx");

var _menu2 = _interopRequireDefault(_menu);

var _panelMenuButton = __webpack_require__(/*! ./panel-menu-button.jsx */ "./src/components/uibridge/panel-menu-button.jsx");

var _panelMenuButton2 = _interopRequireDefault(_panelMenuButton);

var _richcombo = __webpack_require__(/*! ./richcombo.jsx */ "./src/components/uibridge/richcombo.jsx");

var _richcombo2 = _interopRequireDefault(_richcombo);

var _uibridge = __webpack_require__(/*! ./uibridge */ "./src/components/uibridge/uibridge.js");

var _uibridge2 = _interopRequireDefault(_uibridge);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.button = _button2.default;
exports.menuButton = _menuButton2.default;
exports.menu = _menu2.default;
exports.panelMenuButton = _panelMenuButton2.default;
exports.richcombo = _richcombo2.default;
exports.uibridge = _uibridge2.default;

/***/ }),

/***/ "./src/components/uibridge/menu-button.jsx":
/*!*************************************************!*\
  !*** ./src/components/uibridge/menu-button.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _buttonDropdown = __webpack_require__(/*! ../buttons/button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _createReactClass = __webpack_require__(/*! create-react-class */ "./node_modules/create-react-class/index.js");

var _createReactClass2 = _interopRequireDefault(_createReactClass);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_menubuttonbridge')) {
        return;
    }

    /* istanbul ignore next */
    function noop() {}

    // API not yet implemented inside the menubutton bridge. By mocking the unsupported methods, we
    // prevent plugins from crashing if they make use of them.
    //
    // Some methods like `getState` and `setState` clash with React's own state methods. For them,
    // unsupported means that we don't account for the different meaning in the passed or returned
    // arguments.
    var UNSUPPORTED_MENUBUTTON_API = {
        //getState: function() {},
        //setState: function(state) {},
        toFeature: noop
    };

    var MENUBUTTON_DEFS = {};

    /**
     * Generates a MenuButtonBridge React class for a given menuButton definition if it has not been
     * already created based on the button name and definition.
     *
     * @private
     * @method generateMenuButtonBridge
     * @param {String} menuButtonName The menuButton's name
     * @param {Object} menuButtonDefinition The menuButton's definition
     * @return {Object} The generated or already existing React MenuButton Class
     */
    function generateMenuButtonBridge(menuButtonName, menuButtonDefinition, editor) {
        var MenuButtonBridge = AlloyEditor.Buttons[menuButtonName];

        MENUBUTTON_DEFS[editor.name] = MENUBUTTON_DEFS[editor.name] || {};
        MENUBUTTON_DEFS[editor.name][menuButtonName] = MENUBUTTON_DEFS[editor.name][menuButtonName] || menuButtonDefinition;

        if (!MenuButtonBridge) {
            MenuButtonBridge = (0, _createReactClass2.default)(CKEDITOR.tools.merge(UNSUPPORTED_MENUBUTTON_API, {
                displayName: menuButtonName,

                statics: {
                    key: menuButtonName
                },

                render: function render() {
                    var editor = this.props.editor.get('nativeEditor');

                    var panelMenuButtonDisplayName = MENUBUTTON_DEFS[editor.name][menuButtonName].name || MENUBUTTON_DEFS[editor.name][menuButtonName].command || menuButtonName;

                    var buttonClassName = 'ae-button ae-button-bridge';

                    var iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;

                    var iconStyle = {};

                    var cssStyle = CKEDITOR.skin.getIconStyle(panelMenuButtonDisplayName);

                    if (cssStyle) {
                        var cssStyleParts = cssStyle.split(';');

                        iconStyle.backgroundImage = cssStyleParts[0].substring(cssStyleParts[0].indexOf(':') + 1);
                        iconStyle.backgroundPosition = cssStyleParts[1].substring(cssStyleParts[1].indexOf(':') + 1);
                        iconStyle.backgroundSize = cssStyleParts[2].substring(cssStyleParts[2].indexOf(':') + 1);
                    }

                    return _react2.default.createElement(
                        'div',
                        { className: 'ae-container ae-has-dropdown' },
                        _react2.default.createElement(
                            'button',
                            { 'aria-expanded': this.props.expanded, 'aria-label': MENUBUTTON_DEFS[editor.name][menuButtonName].label, className: buttonClassName, onClick: this.props.toggleDropdown, role: 'combobox', tabIndex: this.props.tabIndex, title: MENUBUTTON_DEFS[editor.name][menuButtonName].label },
                            _react2.default.createElement('span', { className: iconClassName, style: iconStyle })
                        ),
                        this.props.expanded && _react2.default.createElement(
                            _buttonDropdown2.default,
                            { onDismiss: this.props.toggleDropdown },
                            this._getMenuItems()
                        )
                    );
                },

                _getMenuItems: function _getMenuItems() {
                    var editor = this.props.editor.get('nativeEditor');
                    var items = menuButtonDefinition.onMenu();
                    var menuItems = Object.keys(items).map(function (key) {
                        var menuItem = editor.getMenuItem(key);

                        if (!menuItem) {
                            return null;
                        }

                        var menuItemDefinition = menuItem.definition || menuItem;
                        var menuItemState = items[key];

                        var className = 'ae-toolbar-element ' + (menuItemState === CKEDITOR.TRISTATE_ON ? 'active' : '');
                        var disabled = menuItemState === CKEDITOR.TRISTATE_DISABLED;
                        var onClick = function onClick() {
                            if (menuItemDefinition.command) {
                                editor.execCommand(menuItemDefinition.command);
                            } else if (menuItemDefinition.onClick) {
                                menuItemDefinition.onClick.apply(menuItemDefinition);
                            }
                        };

                        return _react2.default.createElement(
                            'li',
                            { key: menuItem.name, role: 'option' },
                            _react2.default.createElement(
                                'button',
                                { className: className, disabled: disabled, onClick: onClick },
                                menuItemDefinition.label
                            )
                        );
                    }.bind(this));

                    return menuItems;
                }
            }));

            AlloyEditor.Buttons[menuButtonName] = MenuButtonBridge;
        }

        return MenuButtonBridge;
    }

    /* istanbul ignore else */
    if (!CKEDITOR.plugins.get('menubutton')) {
        CKEDITOR.UI_MENU_BUTTON = 'menubutton';

        CKEDITOR.plugins.add('menubutton', {});
    }

    /**
     * CKEditor plugin that bridges the support offered by CKEditor MenuButton plugin. It takes over the
     * responsibility of registering and creating menuButtons via:
     * - editor.ui.addMenuButton(name, definition)
     * - editor.ui.add(name, CKEDITOR.UI_MENUBUTTON, definition)
     *
     * @class CKEDITOR.plugins.ae_menubuttonbridge
     * @requires CKEDITOR.plugins.ae_uibridge
     * @requires CKEDITOR.plugins.ae_menubridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_menubuttonbridge', {
        requires: ['ae_uibridge', 'ae_menubridge'],

        /**
         * Set the add handler for UI_MENUBUTTON to our own. We do this in the init phase to override
         * the one in the native plugin in case it's present.
         *
         * @method init
         * @param {Object} editor The CKEditor instance being initialized
         */
        beforeInit: function beforeInit(editor) {
            editor.ui.addMenuButton = function (menuButtonName, menuButtonDefinition) {
                this.add(menuButtonName, CKEDITOR.UI_MENUBUTTON, menuButtonDefinition);
            };

            editor.ui.addHandler(CKEDITOR.UI_MENUBUTTON, {
                add: generateMenuButtonBridge,
                create: function create(menuButtonDefinition) {
                    var menuButtonName = 'buttonBridge' + (Math.random() * 1e9 >>> 0);
                    var MenuButtonBridge = generateMenuButtonBridge(menuButtonName, menuButtonDefinition);

                    return new MenuButtonBridge();
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/components/uibridge/menu.jsx":
/*!******************************************!*\
  !*** ./src/components/uibridge/menu.jsx ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_menubridge')) {
        return;
    }

    /**
     * CKEditor plugin that bridges the support offered by CKEditor Menu plugin. It takes over the
     * responsibility of adding, removing and retrieving menu groups and items
     * - editor.addMenuGroup(name, order)
     * - editor.addMenuItem(name, definition)
     * - editor.addMenuItems(definitions)
     * - editor.getMenuItem(name)
     * - editor.removeMenuItem(name)
     *
     * @class CKEDITOR.plugins.ae_menubridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_menubridge', {
        /**
         * Set the add handler for UI_BUTTON to our own. We do this in the init phase to override
         * the one in the native plugin in case it's present.
         *
         * @method init
         * @param {Object} editor The CKEditor instance being initialized
         */
        beforeInit: function beforeInit(editor) {
            // Do nothing if the real menu plugin is present
            if (CKEDITOR.plugins.get('menu')) {
                return;
            }

            var groups = [];
            var groupsOrder = editor._.menuGroups = {};
            var menuItems = editor._.menuItems = {};

            for (var i = 0; i < groups.length; i++) {
                groupsOrder[groups[i]] = i + 1;
            }

            /**
             * Registers an item group to the editor context menu in order to make it
             * possible to associate it with menu items later.
             *
             * @method addMenuGroup
             * @param {String} name Specify a group name.
             * @param {Number} [order=100] Define the display sequence of this group
             * inside the menu. A smaller value gets displayed first.
             */
            editor.addMenuGroup = function (name, order) {
                groupsOrder[name] = order || 100;
            };

            /**
             * Adds an item from the specified definition to the editor context menu.
             *
             * @method addMenuItem
             * @param {String} name The menu item name.
             * @param {Object} definition The menu item definition.
             */
            editor.addMenuItem = function (name, definition) {
                if (groupsOrder[definition.group]) {
                    menuItems[name] = {
                        name: name,
                        definition: definition
                    };
                }
            };

            /**
             * Adds one or more items from the specified definition object to the editor context menu.
             *
             * @method addMenuItems
             * @param {Object} definitions Object where keys are used as itemName and corresponding values as definition for a {@link #addMenuItem} call.
             */
            editor.addMenuItems = function (definitions) {
                for (var itemName in definitions) {
                    this.addMenuItem(itemName, definitions[itemName]);
                }
            };

            /**
             * Retrieves a particular menu item definition from the editor context menu.
             *
             * @method getMenuItem
             * @param {String} name The name of the desired menu item.
             * @return {Object}
             */
            editor.getMenuItem = function (name) {
                return menuItems[name];
            };

            /**
             * Removes a particular menu item added before from the editor context menu.
             *
             * @method  removeMenuItem
             * @param {String} name The name of the desired menu item.
             */
            editor.removeMenuItem = function (name) {
                delete menuItems[name];
            };
        }
    });
})();

/***/ }),

/***/ "./src/components/uibridge/panel-menu-button.jsx":
/*!*******************************************************!*\
  !*** ./src/components/uibridge/panel-menu-button.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _buttonDropdown = __webpack_require__(/*! ../buttons/button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _createReactClass = __webpack_require__(/*! create-react-class */ "./node_modules/create-react-class/index.js");

var _createReactClass2 = _interopRequireDefault(_createReactClass);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_panelmenubuttonbridge')) {
        return;
    }

    /* istanbul ignore next */
    function noop() {}

    // API not yet implemented inside the panel menu button bridge. By mocking the unsupported methods, we
    // prevent plugins from crashing if they make use of them.
    var UNSUPPORTED_PANEL_MENU_BUTTON_API = {
        createPanel: noop
    };

    var PANEL_MENU_DEFS = {};

    /**
     * Generates a PanelMenuButtonBridge React class for a given panelmenubutton definition if it has not been
     * already created based on the panelmenubutton name and definition.
     *
     * @private
     * @method generatePanelMenuButtonBridge
     * @param {String} panelMenuButtonName The panel button name
     * @param {Object} panelMenuButtonDefinition The panel button definition
     * @return {Object} The generated or already existing React PanelMenuButton Class
     */
    var generatePanelMenuButtonBridge = function generatePanelMenuButtonBridge(panelMenuButtonName, panelMenuButtonDefinition, editor) {
        var PanelMenuButtonBridge = AlloyEditor.Buttons[panelMenuButtonName];

        PANEL_MENU_DEFS[editor.name] = PANEL_MENU_DEFS[editor.name] || {};
        PANEL_MENU_DEFS[editor.name][panelMenuButtonName] = PANEL_MENU_DEFS[editor.name][panelMenuButtonName] || panelMenuButtonDefinition;

        if (!PanelMenuButtonBridge) {
            PanelMenuButtonBridge = (0, _createReactClass2.default)(CKEDITOR.tools.merge(UNSUPPORTED_PANEL_MENU_BUTTON_API, {
                displayName: panelMenuButtonName,

                statics: {
                    key: panelMenuButtonName
                },

                render: function render() {
                    var editor = this.props.editor.get('nativeEditor');

                    var panelMenuButtonDisplayName = PANEL_MENU_DEFS[editor.name][panelMenuButtonName].name || PANEL_MENU_DEFS[editor.name][panelMenuButtonName].command || panelMenuButtonName;

                    var buttonClassName = 'ae-button ae-button-bridge';

                    var iconClassName = 'ae-icon-' + panelMenuButtonDisplayName;

                    var iconStyle = {};

                    var cssStyle = CKEDITOR.skin.getIconStyle(panelMenuButtonDisplayName);

                    if (cssStyle) {
                        var cssStyleParts = cssStyle.split(';');

                        iconStyle.backgroundImage = cssStyleParts[0].substring(cssStyleParts[0].indexOf(':') + 1);
                        iconStyle.backgroundPosition = cssStyleParts[1].substring(cssStyleParts[1].indexOf(':') + 1);
                        iconStyle.backgroundSize = cssStyleParts[2].substring(cssStyleParts[2].indexOf(':') + 1);
                    }

                    var panel;

                    if (this.props.expanded) {
                        panel = this._getPanel();
                    }

                    return _react2.default.createElement(
                        'div',
                        { className: 'ae-container ae-has-dropdown' },
                        _react2.default.createElement(
                            'button',
                            { 'aria-expanded': this.props.expanded, 'aria-label': PANEL_MENU_DEFS[editor.name][panelMenuButtonName].label, className: buttonClassName, onClick: this.props.toggleDropdown, role: 'combobox', tabIndex: this.props.tabIndex, title: PANEL_MENU_DEFS[editor.name][panelMenuButtonName].label },
                            _react2.default.createElement('span', { className: iconClassName, style: iconStyle })
                        ),
                        panel
                    );
                },

                _getPanel: function _getPanel() {
                    var editor = this.props.editor.get('nativeEditor');

                    var panelMenuButtonOnBlock = PANEL_MENU_DEFS[editor.name][panelMenuButtonName].onBlock;

                    var panel = {
                        hide: this.props.toggleDropdown,
                        show: this.props.toggleDropdown
                    };

                    var blockElement = new CKEDITOR.dom.element('div');

                    var block = {
                        element: blockElement,
                        keys: {}
                    };

                    /* istanbul ignore else */
                    if (panelMenuButtonOnBlock) {
                        panelMenuButtonOnBlock.call(this, panel, block);
                    }

                    // TODO
                    // Use block.keys to configure the panel keyboard navigation

                    return _react2.default.createElement(
                        _buttonDropdown2.default,
                        { onDismiss: this.props.toggleDropdown },
                        _react2.default.createElement('div', { className: blockElement.getAttribute('class'), dangerouslySetInnerHTML: { __html: blockElement.getHtml() } })
                    );
                }
            }));

            AlloyEditor.Buttons[panelMenuButtonName] = PanelMenuButtonBridge;
        }

        return PanelMenuButtonBridge;
    };

    /* istanbul ignore else */
    if (!CKEDITOR.plugins.get('panelmenubutton')) {
        CKEDITOR.UI_PANELBUTTON = 'panelmenubutton';

        CKEDITOR.plugins.add('panelmenubutton', {});
    }

    /* istanbul ignore else */
    if (!CKEDITOR.plugins.get('panelbutton')) {
        CKEDITOR.UI_PANELBUTTON = 'panelbutton';

        CKEDITOR.plugins.add('panelbutton', {});
    }

    /**
     * CKEditor plugin that bridges the support offered by CKEditor PanelButton plugin. It takes over the
     * responsibility of registering and creating buttons via:
     * - editor.ui.addPanelMenuButton(name, definition)
     * - editor.ui.add(name, CKEDITOR.UI_PANELBUTTON, definition)
     *
     * @class CKEDITOR.plugins.ae_panelmenubuttonbridge
     * @requires CKEDITOR.plugins.ae_uibridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_panelmenubuttonbridge', {
        requires: ['ae_uibridge'],

        /**
         * Set the add handler for UI_PANELBUTTON to our own. We do this in the init phase to override
         * the one in the native plugin in case it's present
         *
         * @method init
         * @param {Object} editor The CKEditor instance being initialized
         */
        beforeInit: function beforeInit(editor) {
            editor.ui.addPanelMenuButton = function (panelMenuButtonName, panelMenuButtonDefinition) {
                this.add(panelMenuButtonName, CKEDITOR.UI_PANELBUTTON, panelMenuButtonDefinition);
            };

            editor.ui.addHandler(CKEDITOR.UI_PANELBUTTON, {
                add: generatePanelMenuButtonBridge,
                create: function create(panelMenuButtonDefinition) {
                    var panelMenuButtonName = 'panelMenuButtonBridge' + (Math.random() * 1e9 >>> 0);
                    var PanelMenuButtonBridge = generatePanelMenuButtonBridge(panelMenuButtonName, panelMenuButtonDefinition);

                    return new PanelMenuButtonBridge();
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/components/uibridge/richcombo.jsx":
/*!***********************************************!*\
  !*** ./src/components/uibridge/richcombo.jsx ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _buttonDropdown = __webpack_require__(/*! ../buttons/button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _createReactClass = __webpack_require__(/*! create-react-class */ "./node_modules/create-react-class/index.js");

var _createReactClass2 = _interopRequireDefault(_createReactClass);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_richcombobridge')) {
        return;
    }

    /* istanbul ignore next */
    function noop() {}

    // API not yet implemented inside the richcombo bridge. By mocking the unsupported methods, we
    // prevent plugins from crashing if they make use of them.
    //
    // Some methods like `setState` clash with React's own state methods. For them, unsupported means
    // that we don't account for the different meaning in the passed or returned arguments.
    var UNSUPPORTED_RICHCOMBO_API = {
        commit: noop,
        createPanel: noop,
        disable: noop,
        enable: noop,
        getState: noop,
        hideGroup: noop,
        hideItem: noop,
        mark: noop,
        //setState: noop,
        showAll: noop,
        startGroup: noop,
        unmarkAll: noop
    };

    var RICH_COMBO_DEFS = {};

    /**
     * Generates a RichComboBridge React class for a given richcombo definition if it has not been
     * already created based on the richcombo name and definition.
     *
     * @method generateRichComboBridge
     * @private
     * @param {String} richComboName The rich combo name
     * @param {Object} richComboDefinition The rich combo definition
     * @return {Object} The generated or already existing React RichCombo Class
     */
    var generateRichComboBridge = function generateRichComboBridge(richComboName, richComboDefinition, editor) {
        var RichComboBridge = AlloyEditor.Buttons[richComboName];

        RICH_COMBO_DEFS[editor.name] = RICH_COMBO_DEFS[editor.name] || {};
        RICH_COMBO_DEFS[editor.name][richComboName] = RICH_COMBO_DEFS[editor.name][richComboName] || richComboDefinition;
        RICH_COMBO_DEFS[editor.name][richComboName].currentValue = undefined;

        if (!RichComboBridge) {
            RichComboBridge = (0, _createReactClass2.default)(CKEDITOR.tools.merge(UNSUPPORTED_RICHCOMBO_API, {
                displayName: richComboName,

                statics: {
                    key: richComboName
                },

                add: function add(value, preview, title) {
                    this._items.push({
                        preview: preview,
                        title: title,
                        value: value
                    });
                },

                componentWillMount: function componentWillMount() {
                    var editor = this.props.editor.get('nativeEditor');

                    var editorCombo = RICH_COMBO_DEFS[editor.name][richComboName];

                    this._items = [];

                    this.setValue = this._setValue;

                    if (editorCombo.init) {
                        editorCombo.init.call(this);
                    }

                    if (editorCombo.onRender) {
                        editorCombo.onRender.call(this);
                    }
                },

                componentWillUnmount: function componentWillUnmount() {
                    this._cacheValue(this.state.value);

                    this.setValue = this._cacheValue;
                },

                getInitialState: function getInitialState() {
                    return {
                        value: RICH_COMBO_DEFS[editor.name][richComboName].currentValue
                    };
                },

                getValue: function getValue() {
                    return this.state.value;
                },

                render: function render() {
                    var editor = this.props.editor.get('nativeEditor');

                    var richComboLabel = RICH_COMBO_DEFS[editor.name][richComboName].currentValue || richComboDefinition.label;

                    return _react2.default.createElement(
                        'div',
                        { className: 'ae-container-dropdown ae-has-dropdown' },
                        _react2.default.createElement(
                            'button',
                            { 'aria-expanded': this.props.expanded, 'aria-label': richComboLabel, className: 'ae-toolbar-element', onClick: this.props.toggleDropdown, role: 'combobox', tabIndex: this.props.tabIndex, title: richComboLabel },
                            _react2.default.createElement(
                                'div',
                                { className: 'ae-container' },
                                _react2.default.createElement(
                                    'span',
                                    { className: 'ae-container-dropdown-selected-item' },
                                    richComboLabel
                                ),
                                _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                            )
                        ),
                        this.props.expanded && _react2.default.createElement(
                            _buttonDropdown2.default,
                            { onDismiss: this.props.toggleDropdown },
                            this._getItems()
                        )
                    );
                },

                _cacheValue: function _cacheValue(value) {
                    var editor = this.props.editor.get('nativeEditor');

                    RICH_COMBO_DEFS[editor.name][richComboName].currentValue = value;
                },

                _getItems: function _getItems() {
                    var richCombo = this;

                    var items = this._items.map(function (item) {

                        var className = 'ae-toolbar-element ' + (item.value === this.state.value ? 'active' : '');

                        return _react2.default.createElement(
                            'li',
                            { key: item.title, role: 'option' },
                            _react2.default.createElement('button', { className: className, dangerouslySetInnerHTML: { __html: item.preview }, 'data-value': item.value, onClick: richCombo._onClick })
                        );
                    }.bind(this));

                    return items;
                },

                _onClick: function _onClick(event) {
                    var editor = this.props.editor.get('nativeEditor');

                    var editorCombo = RICH_COMBO_DEFS[editor.name][richComboName];

                    if (editorCombo.onClick) {
                        var newValue = event.currentTarget.getAttribute('data-value');

                        editorCombo.onClick.call(this, newValue);

                        RICH_COMBO_DEFS[editor.name][richComboName].currentValue = newValue;

                        editor.fire('actionPerformed', this);
                    }
                },

                _setValue: function _setValue(value) {
                    this._cacheValue(value);

                    this.setState({
                        value: value
                    });
                }
            }));

            AlloyEditor.Buttons[richComboName] = RichComboBridge;
        }

        return RichComboBridge;
    };

    /* istanbul ignore else */
    if (!CKEDITOR.plugins.get('richcombo')) {
        CKEDITOR.UI_RICHCOMBO = 'richcombo';

        CKEDITOR.plugins.add('richcombo', {});
    }

    /**
     * CKEditor plugin that bridges the support offered by CKEditor RichCombo plugin. It takes over the
     * responsibility of registering and creating rich combo elements via:
     * - editor.ui.addRichCombo(name, definition)
     * - editor.ui.add(name, CKEDITOR.UI_RICHCOMBO, definition)
     *
     * @class CKEDITOR.plugins.ae_richcombobridge
     * @requires CKEDITOR.plugins.ae_uibridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_richcombobridge', {
        requires: ['ae_uibridge'],

        /**
         * Set the add handler for UI_RICHCOMBO to our own. We do this in the init phase to override
         * the one in the original plugin in case it's present
         *
         * @method init
         * @param {Object} editor The CKEditor instance being initialized
         */
        beforeInit: function beforeInit(editor) {
            editor.ui.addRichCombo = function (richComboName, richComboDefinition) {
                this.add(richComboName, CKEDITOR.UI_RICHCOMBO, richComboDefinition);
            };

            editor.ui.addHandler(CKEDITOR.UI_RICHCOMBO, {
                add: generateRichComboBridge,
                create: function create(richComboDefinition) {
                    var richComboName = 'richComboBridge' + (Math.random() * 1e9 >>> 0);
                    var RichComboBridge = generateRichComboBridge(richComboName, richComboDefinition);

                    return new RichComboBridge();
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/components/uibridge/uibridge.js":
/*!*********************************************!*\
  !*** ./src/components/uibridge/uibridge.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_uibridge')) {
        return;
    }

    /**
     * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified
     * on top of the original ones. It bridges the calls to add components via:
     * - editor.ui.add(name, type, definition)
     *
     * @class CKEDITOR.plugins.ae_uibridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_uibridge', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         *
         * @method beforeInit
         * @param {Object} editor The current editor instance
         */
        beforeInit: function beforeInit(editor) {
            var originalUIAddFn = editor.ui.add;

            editor.ui.add = function (name, type, definition) {
                originalUIAddFn.apply(this, arguments);

                var typeHandler = this._.handlers[type];

                if (typeHandler && typeHandler.add) {
                    typeHandler.add(name, definition, editor);
                    AlloyEditor.registerBridgeButton(name, editor.__processingPlugin__.plugin.name);
                }
            };
        }
    });
})();

/***/ }),

/***/ "./src/core/debounce.js":
/*!******************************!*\
  !*** ./src/core/debounce.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /**
     * Debounce util function. If a function execution is expensive, it might be debounced. This means
     * that it will be executed after some amount of time after its last call. For example, if we attach a
     * a function on scroll event, it might be called hundreds times per second. In this case it may be
     * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last
     * scroll event.
     *
     * @memberof CKEDITOR.tools
     * @method debounce
     * @param {Array} args An array of arguments which the callback will receive.
     * @param {Function} callback The callback which has to be called after given timeout.
     * @param {Number} timeout Timeout in milliseconds after which the callback will be called.
     * @param {Object} context The context in which the callback will be called. This argument is optional.
     * @static
     */

    CKEDITOR.tools.debounce = CKEDITOR.tools.debounce || function (callback, timeout, context, args) {
        var debounceHandle;

        var callFn = function callFn() {
            var callContext = context || this;

            clearTimeout(debounceHandle);

            var result = [];

            for (var len = arguments.length, startIndex = 0; startIndex < len; ++startIndex) {
                result.push(arguments[startIndex]);
            }

            var callArgs = result.concat(args || []);

            debounceHandle = setTimeout(function () {
                callback.apply(callContext, callArgs);
            }, timeout);
        };

        callFn.detach = function () {
            clearTimeout(debounceHandle);
        };

        return callFn;
    };
})();

/***/ }),

/***/ "./src/core/index.js":
/*!***************************!*\
  !*** ./src/core/index.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.uicore = exports.tools = exports.table = exports.selectionRegion = exports.plugins = exports.link = exports.debounce = undefined;

var _debounce = __webpack_require__(/*! ./debounce */ "./src/core/debounce.js");

var _debounce2 = _interopRequireDefault(_debounce);

var _link = __webpack_require__(/*! ./link */ "./src/core/link.js");

var _link2 = _interopRequireDefault(_link);

var _plugins = __webpack_require__(/*! ./plugins */ "./src/core/plugins.js");

var _plugins2 = _interopRequireDefault(_plugins);

var _selectionRegion = __webpack_require__(/*! ./selection-region */ "./src/core/selection-region.js");

var _selectionRegion2 = _interopRequireDefault(_selectionRegion);

var _table = __webpack_require__(/*! ./table */ "./src/core/table.js");

var _table2 = _interopRequireDefault(_table);

var _tools = __webpack_require__(/*! ./tools */ "./src/core/tools.js");

var _tools2 = _interopRequireDefault(_tools);

var _uicore = __webpack_require__(/*! ./uicore */ "./src/core/uicore.js");

var _uicore2 = _interopRequireDefault(_uicore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.debounce = _debounce2.default;
exports.link = _link2.default;
exports.plugins = _plugins2.default;
exports.selectionRegion = _selectionRegion2.default;
exports.table = _table2.default;
exports.tools = _tools2.default;
exports.uicore = _uicore2.default;

/***/ }),

/***/ "./src/core/link.js":
/*!**************************!*\
  !*** ./src/core/link.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function () {
    'use strict';

    var REGEX_BOOKMARK_SCHEME = /^#.*/i;
    var REGEX_EMAIL_SCHEME = /^[a-z0-9\u0430-\u044F\._-]+@/i;
    var REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\-.]*)\:|^\//i;

    /**
     * Link class utility. Provides methods for create, delete and update links.
     *
     * @class CKEDITOR.Link
     * @constructor
     * @param {Object} editor The CKEditor instance.
     */
    function Link(editor, config) {
        this._editor = editor;
        this.appendProtocol = config && config.appendProtocol === false ? false : true;
    }

    Link.prototype = {
        constructor: Link,

        /**
         * Advances the editor selection to the next available position after a
         * given link or the one in the current selection.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method advanceSelection
         * @param {CKEDITOR.dom.element} link The link element which link style should be removed.
         */
        advanceSelection: function advanceSelection(link) {
            link = link || this.getFromSelection();

            var range = this._editor.getSelection().getRanges()[0];

            if (link) {
                range.moveToElementEditEnd(link);

                var nextNode = range.getNextEditableNode();

                if (nextNode && !this._editor.element.equals(nextNode.getCommonAncestor(link))) {
                    var whitespace = /\s/.exec(nextNode.getText());

                    var offset = whitespace ? whitespace.index + 1 : 0;

                    range.setStart(nextNode, offset);
                    range.setEnd(nextNode, offset);
                }
            }

            this._editor.getSelection().selectRanges([range]);
        },

        /**
         * Create a link with given URI as href.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method create
         * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.
         * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
         * @param {String} URI The URI of the link.
         */
        create: function create(URI, attrs, modifySelection) {
            var selection = this._editor.getSelection();

            var range = selection.getRanges()[0];

            if (range.collapsed) {
                var text = new CKEDITOR.dom.text(URI, this._editor.document);
                range.insertNode(text);
                range.selectNodeContents(text);
            }

            URI = this._getCompleteURI(URI);

            var linkAttrs = CKEDITOR.tools.merge({
                'data-cke-saved-href': URI,
                href: URI
            }, attrs);

            var style = new CKEDITOR.style({
                attributes: linkAttrs,
                element: 'a'
            });

            style.type = CKEDITOR.STYLE_INLINE;
            style.applyToRange(range, this._editor);

            if (modifySelection && modifySelection.advance) {
                this.advanceSelection();
            } else {
                range.select();
            }
        },

        /**
         * Retrieves a link from the current selection.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method getFromSelection
         * @return {CKEDITOR.dom.element} The retrieved link or null if not found.
         */
        getFromSelection: function getFromSelection() {
            var selection = this._editor.getSelection();

            var selectedElement = selection.getSelectedElement();

            if (selectedElement && selectedElement.is('a')) {
                return selectedElement;
            }

            if (selectedElement && CKEDITOR.env.ie) {
                var children = selectedElement.getChildren();

                var count = children.count();

                for (var i = 0; i < count; i++) {
                    var node = children.getItem(i);

                    if (node.is('a')) {
                        return node;
                    }
                }
            }

            var range = selection.getRanges()[0];

            if (range) {
                range.shrink(CKEDITOR.SHRINK_TEXT);

                return this._editor.elementPath(range.getCommonAncestor()).contains('a', 1);
            }

            return null;
        },

        /**
         * Removes a link from the editor.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method remove
         * @param {CKEDITOR.dom.element} link The link element which link style should be removed.
         * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
         */
        remove: function remove(link, modifySelection) {
            var editor = this._editor;

            if (link) {
                if (modifySelection && modifySelection.advance) {
                    this.advanceSelection();
                }

                link.remove(editor);
            } else {
                var style = new CKEDITOR.style({
                    alwaysRemoveElement: 1,
                    element: 'a',
                    type: CKEDITOR.STYLE_INLINE
                });

                // 'removeStyle()' removes the style from the editor's current selection.
                //  We need to force the selection to be the whole link element
                //  to remove it properly.

                var selection = editor.getSelection();
                selection.selectElement(selection.getStartElement());

                editor.removeStyle(style);
            }
        },

        /**
         * Updates the href of an already existing link.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method update
         * @param {CKEDITOR.dom.element} link The link element which href should be removed.
         * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.
         * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
         */
        update: function update(attrs, link, modifySelection) {
            var instance = this;

            link = link || this.getFromSelection();

            if (typeof attrs === 'string') {
                var uri = instance._getCompleteURI(attrs);

                link.setAttributes({
                    'data-cke-saved-href': uri,
                    href: uri
                });
            } else if ((typeof attrs === 'undefined' ? 'undefined' : _typeof(attrs)) === 'object') {
                var removeAttrs = [];

                var setAttrs = {};

                Object.keys(attrs).forEach(function (key) {
                    if (attrs[key] === null) {
                        if (key === 'href') {
                            removeAttrs.push('data-cke-saved-href');
                        }

                        removeAttrs.push(key);
                    } else {
                        if (key === 'href') {
                            var uri = instance._getCompleteURI(attrs[key]);

                            setAttrs['data-cke-saved-href'] = uri;
                            setAttrs[key] = uri;
                        } else {
                            setAttrs[key] = attrs[key];
                        }
                    }
                });

                link.removeAttributes(removeAttrs);
                link.setAttributes(setAttrs);
            }

            if (modifySelection && modifySelection.advance) {
                this.advanceSelection(link);
            }
        },

        /**
         * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.
         * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI
         * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.
         * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with
         * hierarchical path '//' is added to the URI.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method _getCompleteURI
         * @param {String} URI The URI of the link.
         * @protected
         * @return {String} The URI updated with the protocol.
         */
        _getCompleteURI: function _getCompleteURI(URI) {
            if (REGEX_BOOKMARK_SCHEME.test(URI)) {
                return URI;
            } else if (REGEX_EMAIL_SCHEME.test(URI)) {
                URI = 'mailto:' + URI;
            } else if (!REGEX_URI_SCHEME.test(URI)) {
                URI = this.appendProtocol ? 'http://' + URI : URI;
            }

            return URI;
        }
    };

    CKEDITOR.Link = CKEDITOR.Link || Link;
})();

/***/ }),

/***/ "./src/core/plugins.js":
/*!*****************************!*\
  !*** ./src/core/plugins.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    // Wraps each of the plugin lifecycle methods in a closure that will
    // set up the editor.__processingPlugin__ variable so it can be globally
    // accessed exposing the plugin being processed and the lifecycle phase
    // in which it is happening
    //
    // @param {Object} plugin The plugin to wrap lifecycle methods

    var wrapPluginLifecycle = function wrapPluginLifecycle(plugin) {
        var methods = ['beforeInit', 'init', 'afterInit'];

        methods.forEach(function (methodName) {
            if (plugin[methodName]) {
                plugin[methodName] = CKEDITOR.tools.override(plugin[methodName], function (originalPluginMethod) {
                    var payload = {
                        phase: methodName,
                        plugin: plugin
                    };

                    return function (editor) {
                        editor.__processingPlugin__ = payload;

                        originalPluginMethod.call(this, editor);

                        editor.__processingPlugin__ = null;
                    };
                });
            }
        });
    };

    // Filters the requires object to remove unwanted dependencies. At this point
    // only 'toolbar' has been identified, but more can appear. An unwanted plugin
    // dependency is one that prevents a necessary plugin from being removed
    //
    // @param {string|Array<string>} requires The requires object
    // @return {string} The filtered requires object
    var filterUnwantedDependencies = function filterUnwantedDependencies(requires) {
        if (typeof requires === 'string') {
            requires = requires.split(',');
        }

        return requires.filter(function (require) {
            return require !== 'toolbar';
        });
    };

    /**
     * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.
     *
     * @class CKEDITOR.plugins
     */

    /**
     * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of
     * the loaded plugins to add some metainformation about the plugin being processed
     *
    * @param {String/Array} names The name of the resource to load. It may be a
    * string with a single resource name, or an array with several names.
    * @param {Function} callback A function to be called when all resources
    * are loaded. The callback will receive an array containing all loaded names.
    * @param {Object} [scope] The scope object to be used for the callback call.
     * @memberof CKEDITOR.plugins
     * @method load
     * @static
     */
    CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function (pluginsLoad) {
        // Wrap original load function so we can transform the plugin input parameter
        // before passing it down to the original callback
        return function (names, callback, scope) {
            pluginsLoad.call(this, names, function (plugins) {
                if (callback) {
                    Object.keys(plugins).forEach(function (pluginName) {
                        var plugin = plugins[pluginName];

                        if (plugin.requires) {
                            plugin.requires = filterUnwantedDependencies(plugin.requires);
                        }

                        wrapPluginLifecycle(plugin);
                    });

                    callback.call(scope, plugins);
                }
            });
        };
    });
})();

/***/ }),

/***/ "./src/core/selection-region.js":
/*!**************************************!*\
  !*** ./src/core/selection-region.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_selectionregion')) {
        return;
    }

    CKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;
    CKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;
    CKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;
    CKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;

    /**
     * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end
     * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will
     * be merged into each editor instance, so the developer may use them directly via the editor, without making
     * an instance of this class**.
     *
     * @class SelectionRegion
     * @constructor
     */
    function SelectionRegion() {}

    SelectionRegion.prototype = {
        constructor: SelectionRegion,

        /**
         * Creates selection from two points in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method createSelectionFromPoint
         * @param {Number} x X point in page coordinates.
         * @param {Number} y Y point in page coordinates.
         */
        createSelectionFromPoint: function createSelectionFromPoint(x, y) {
            this.createSelectionFromRange(x, y, x, y);
        },

        /**
         * Creates selection from range. A range consists from two points in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method createSelectionFromRange
         * @param {Number} startX X coordinate of the first point.
         * @param {Number} startY Y coordinate of the first point.
         * @param {Number} endX X coordinate of the second point.
         * @param {Number} endY Y coordinate of the second point.
         */
        createSelectionFromRange: function createSelectionFromRange(startX, startY, endX, endY) {
            var end;
            var endContainer;
            var endOffset;
            var range;
            var start;
            var startContainer;
            var startOffset;

            if (typeof document.caretPositionFromPoint === 'function') {
                start = document.caretPositionFromPoint(startX, startY);
                end = document.caretPositionFromPoint(endX, endY);

                startContainer = start.offsetNode;
                endContainer = end.offsetNode;

                startOffset = start.offset;
                endOffset = end.offset;

                range = this.createRange();
            } else if (typeof document.caretRangeFromPoint === 'function') {
                start = document.caretRangeFromPoint(startX, startY);
                end = document.caretRangeFromPoint(endX, endY);

                startContainer = start.startContainer;
                endContainer = end.startContainer;

                startOffset = start.startOffset;
                endOffset = end.startOffset;

                range = this.createRange();
            }

            if (range && document.getSelection) {
                range.setStart(new CKEDITOR.dom.node(startContainer), startOffset);
                range.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);

                this.getSelection().selectRanges([range]);
            } else if (typeof document.body.createTextRange === 'function') {
                var selection = this.getSelection();

                selection.unlock();

                range = document.body.createTextRange();
                range.moveToPoint(startX, startY);

                var endRange = range.duplicate();
                endRange.moveToPoint(endX, endY);

                range.setEndPoint('EndToEnd', endRange);
                range.select();

                this.getSelection().lock();
            }
        },

        /**
         * Returns the region of the current position of the caret. The points are in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getCaretRegion
         * @return {Object} Returns object with the following properties:
         * - bottom
         * - left
         * - right
         * - top
         */
        getCaretRegion: function getCaretRegion() {
            var selection = this.getSelection();

            var region = {
                bottom: 0,
                left: 0,
                right: 0,
                top: 0
            };

            var bookmarks = selection.createBookmarks();

            if (!bookmarks.length) {
                return region;
            }

            var bookmarkNodeEl = bookmarks[0].startNode.$;

            bookmarkNodeEl.style.display = 'inline-block';

            region = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();

            bookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);

            var scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();

            region.bottom = scrollPos.y + region.bottom;
            region.left = scrollPos.x + region.left;
            region.right = scrollPos.x + region.right;
            region.top = scrollPos.y + region.top;

            return region;
        },

        /**
         * Returns data for the current selection.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getSelectionData
         * @return {Object|null} Returns an object with the following data:
         * - element - The currently selected element, if any
         * - text - The selected text
         * - region - The data, returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method"}}{{/crossLink}}
         */
        getSelectionData: function getSelectionData() {
            var selection = this.getSelection();

            if (!selection.getNative()) {
                return null;
            }

            var result = {
                element: selection.getSelectedElement(),
                text: selection.getSelectedText()
            };

            result.region = this.getSelectionRegion(selection);

            return result;
        },

        /**
         * Returns the region of the current selection.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getSelectionRegion
         * @return {Object} Returns object which is being returned from
         * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method"}}{{/crossLink}} with three more properties:
         * - direction - the direction of the selection. Can be one of these:
         *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM
         *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP
         * - height - The height of the selection region
         * - width - The width of the selection region
         */
        getSelectionRegion: function getSelectionRegion() {
            var region = this.getClientRectsRegion();

            region.direction = this.getSelectionDirection();

            region.height = region.bottom - region.top;
            region.width = region.right - region.left;

            return region;
        },

        /**
         * Returns true if the current selection is empty, false otherwise.
         *
         * @instance
         * @memberof SelectionRegion
         * @method isSelectionEmpty
         * @return {Boolean} Returns true if the current selection is empty, false otherwise.
         */
        isSelectionEmpty: function isSelectionEmpty() {
            var ranges;

            var selection = this.getSelection();

            return selection.getType() === CKEDITOR.SELECTION_NONE || (ranges = selection.getRanges()) && ranges.length === 1 && ranges[0].collapsed;
        },

        /**
         * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,
         * normalized across browses. All offsets below are in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getClientRectsRegion
         * @return {Object} Returns object with the following data:
         * - bottom - bottom offset of all client rectangles
         * - left - left offset of all client rectangles
         * - right - right offset of all client rectangles
         * - top - top offset of all client rectangles
         * - startRect - An Object, which contains the following information:
         *     + bottom - bottom offset
         *     + height - the height of the rectangle
         *     + left - left offset of the selection
         *     + right - right offset of the selection
         *     + top - top offset of the selection
         *     + width - the width of the rectangle
         * - endRect - An Object, which contains the following information:
         *     + bottom - bottom offset
         *     + height - the height of the rectangle
         *     + left - left offset of the selection
         *     + right - right offset of the selection
         *     + top - top offset of the selection
         *     + width - the width of the rectangle
         *
         * If there is no native selection, the objects will be filled with 0.
         */
        getClientRectsRegion: function getClientRectsRegion() {
            var selection = this.getSelection();
            var nativeSelection = selection.getNative();

            var defaultRect = {
                bottom: 0,
                height: 0,
                left: 0,
                right: 0,
                top: 0,
                width: 0
            };

            var region = {
                bottom: 0,
                endRect: defaultRect,
                left: 0,
                right: 0,
                top: 0,
                startRect: defaultRect
            };

            if (!nativeSelection) {
                return region;
            }

            var bottom = 0;
            var clientRects;
            var left = Infinity;
            var rangeCount;
            var right = -Infinity;
            var top = Infinity;

            if (nativeSelection.createRange) {
                clientRects = nativeSelection.createRange().getClientRects();
            } else {
                rangeCount = nativeSelection.rangeCount;
                clientRects = nativeSelection.rangeCount > 0 ? nativeSelection.getRangeAt(0).getClientRects() : [];
            }

            if (clientRects.length === 0) {
                region = this.getCaretRegion();
            } else {
                for (var i = 0, length = clientRects.length; i < length; i++) {
                    var item = clientRects[i];

                    if (item.left < left) {
                        left = item.left;
                    }

                    if (item.right > right) {
                        right = item.right;
                    }

                    if (item.top < top) {
                        top = item.top;
                    }

                    if (item.bottom > bottom) {
                        bottom = item.bottom;
                    }
                }

                var scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();

                region.bottom = scrollPos.y + bottom;
                region.left = scrollPos.x + left;
                region.right = scrollPos.x + right;
                region.top = scrollPos.y + top;

                if (clientRects.length) {
                    var endRect = clientRects[clientRects.length - 1];
                    var startRect = clientRects[0];

                    region.endRect = {
                        bottom: scrollPos.y + endRect.bottom,
                        height: endRect.height,
                        left: scrollPos.x + endRect.left,
                        right: scrollPos.x + endRect.right,
                        top: scrollPos.y + endRect.top,
                        width: endRect.width
                    };

                    region.startRect = {
                        bottom: scrollPos.y + startRect.bottom,
                        height: startRect.height,
                        left: scrollPos.x + startRect.left,
                        right: scrollPos.x + startRect.right,
                        top: scrollPos.y + startRect.top,
                        width: startRect.width
                    };
                }
            }

            return region;
        },

        /**
         * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.
         * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getSelectionDirection
         * @return {Number} Returns a number which represents selection direction. It might be one of these:
         * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;
         * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;
         */
        getSelectionDirection: function getSelectionDirection() {
            var direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;
            var selection = this.getSelection();
            var nativeSelection = selection.getNative();

            if (!nativeSelection) {
                return direction;
            }

            var anchorNode;

            if ((anchorNode = nativeSelection.anchorNode) && anchorNode.compareDocumentPosition) {
                var position = anchorNode.compareDocumentPosition(nativeSelection.focusNode);

                if (!position && nativeSelection.anchorOffset > nativeSelection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {
                    direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
                }
            }

            return direction;
        }
    };

    CKEDITOR.plugins.add('ae_selectionregion', {
        init: function init(editor) {
            var attr, hasOwnProperty;

            hasOwnProperty = Object.prototype.hasOwnProperty;

            for (attr in SelectionRegion.prototype) {
                if (hasOwnProperty.call(SelectionRegion.prototype, attr) && typeof editor[attr] === 'undefined') {
                    editor[attr] = SelectionRegion.prototype[attr];
                }
            }
        }
    });
})();

/***/ }),

/***/ "./src/core/table.js":
/*!***************************!*\
  !*** ./src/core/table.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    var IE_NON_DIRECTLY_EDITABLE_ELEMENT = {
        'table': 1,
        'col': 1,
        'colgroup': 1,
        'tbody': 1,
        'td': 1,
        'tfoot': 1,
        'th': 1,
        'thead': 1,
        'tr': 1
    };

    /**
     * Table class utility. Provides methods for create, delete and update tables.
     *
     * @class CKEDITOR.Table
     * @constructor
     * @param {Object} editor The CKEditor instance.
     */

    function Table(editor) {
        this._editor = editor;
    }

    Table.HEADING_BOTH = 'Both';
    Table.HEADING_COL = 'Column';
    Table.HEADING_NONE = 'None';
    Table.HEADING_ROW = 'Row';

    Table.prototype = {
        constructor: Table,

        /**
         * Creates a table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method create
         * @param {Object} config Table configuration object
         * @return {Object} The created table
         */
        create: function create(config) {
            var editor = this._editor;
            var table = this._createElement('table');

            config = config || {};

            // Generate the rows and cols.
            var tbody = table.append(this._createElement('tbody'));
            var rows = config.rows || 1;
            var cols = config.cols || 1;

            for (var i = 0; i < rows; i++) {
                var row = tbody.append(this._createElement('tr'));
                for (var j = 0; j < cols; j++) {
                    var cell = row.append(this._createElement('td'));

                    cell.appendBogus();
                }
            }

            this.setAttributes(table, config.attrs);
            this.setHeading(table, config.heading);

            // Insert the table element if we're creating one.
            editor.insertElement(table);

            var firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);
            var range = editor.createRange();
            range.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);
            range.select();

            return table;
        },

        /**
         * Retrieves a table from the current selection.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method getFromSelection
         * @return {CKEDITOR.dom.element} The retrieved table or null if not found.
         */
        getFromSelection: function getFromSelection() {
            var table;
            var selection = this._editor.getSelection();
            var selected = selection.getSelectedElement();

            if (selected && selected.is('table')) {
                table = selected;
            } else {
                var ranges = selection.getRanges();

                if (ranges.length > 0) {
                    // Webkit could report the following range on cell selection (#4948):
                    // <table><tr><td>[&nbsp;</td></tr></table>]

                    /* istanbul ignore else */
                    if (CKEDITOR.env.webkit) {
                        ranges[0].shrink(CKEDITOR.NODE_ELEMENT);
                    }

                    table = this._editor.elementPath(ranges[0].getCommonAncestor(true)).contains('table', 1);
                }
            }

            return table;
        },

        /**
         * Checks if a given table can be considered as editable. This method
         * workarounds a limitation of IE where for some elements (like table),
         * `isContentEditable` returns always false. This is because IE does not support
         * `contenteditable` on such elements. However, despite such elements
         * cannot be set as content editable directly, a content editable SPAN,
         * or DIV element can be placed inside the individual table cells.
         * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method isEditable
         * @param {CKEDITOR.dom.element} el The table element to test if editable
         * @return {Boolean}
         */
        isEditable: function isEditable(el) {
            if (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {
                return !el.isReadOnly();
            }

            if (el.hasAttribute('contenteditable')) {
                return el.getAttribute('contenteditable') !== 'false';
            }

            return this.isEditable(el.getParent());
        },

        /**
         * Returns which heading style is set for the given table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method getHeading
         * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.
         * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.
         */
        getHeading: function getHeading(table) {
            table = table || this.getFromSelection();

            if (!table) {
                return null;
            }

            var rowHeadingSettings = table.$.tHead !== null;

            var colHeadingSettings = true;

            // Check if all of the first cells in every row are TH
            for (var row = 0; row < table.$.rows.length; row++) {
                // If just one cell isn't a TH then it isn't a header column
                var cell = table.$.rows[row].cells[0];

                if (cell && cell.nodeName.toLowerCase() !== 'th') {
                    colHeadingSettings = false;
                    break;
                }
            }

            var headingSettings = Table.HEADING_NONE;

            if (rowHeadingSettings) {
                headingSettings = Table.HEADING_ROW;
            }

            if (colHeadingSettings) {
                headingSettings = headingSettings === Table.HEADING_ROW ? Table.HEADING_BOTH : Table.HEADING_COL;
            }

            return headingSettings;
        },

        /**
         * Removes a table from the editor.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method remove
         * @param {CKEDITOR.dom.element} table The table element which table style should be removed.
         */
        remove: function remove(table) {
            var editor = this._editor;

            if (table) {
                table.remove();
            } else {
                table = editor.elementPath().contains('table', 1);

                if (table) {
                    // If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)
                    var parent = table.getParent();
                    var editable = editor.editable();

                    if (parent.getChildCount() === 1 && !parent.is('td', 'th') && !parent.equals(editable)) {
                        table = parent;
                    }

                    var range = editor.createRange();
                    range.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);
                    table.remove();
                    range.select();
                }
            }
        },

        /**
         * Assigns provided attributes to a table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method setAttributes
         * @param {Object} table The table to which the attributes should be assigned
         * @param {Object} attrs The attributes which have to be assigned to the table
         */
        setAttributes: function setAttributes(table, attrs) {
            if (attrs) {
                Object.keys(attrs).forEach(function (attr) {
                    table.setAttribute(attr, attrs[attr]);
                });
            }
        },

        /**
         * Sets the appropriate table heading style to a table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method setHeading
         * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.
         * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.
         */
        setHeading: function setHeading(table, heading) {
            table = table || this.getFromSelection();

            var i, newCell;
            var tableHead;
            var tableBody = table.getElementsByTag('tbody').getItem(0);

            var tableHeading = this.getHeading(table);
            var hadColHeading = tableHeading === Table.HEADING_COL || tableHeading === Table.HEADING_BOTH;

            var needColHeading = heading === Table.HEADING_COL || heading === Table.HEADING_BOTH;
            var needRowHeading = heading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;

            // If we need row heading and don't have a <thead> element yet, move the
            // first row of the table to the head and convert the nodes to <th> ones.
            if (!table.$.tHead && needRowHeading) {
                var tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);
                var tableFirstRowChildCount = tableFirstRow.getChildCount();

                // Change TD to TH:
                for (i = 0; i < tableFirstRowChildCount; i++) {
                    var cell = tableFirstRow.getChild(i);

                    // Skip bookmark nodes. (#6155)
                    if (cell.type === CKEDITOR.NODE_ELEMENT && !cell.data('cke-bookmark')) {
                        cell.renameNode('th');
                        cell.setAttribute('scope', 'col');
                    }
                }

                tableHead = this._createElement(table.$.createTHead());
                tableHead.append(tableFirstRow.remove());
            }

            // If we don't need row heading and we have a <thead> element, move the
            // row out of there and into the <tbody> element.
            if (table.$.tHead !== null && !needRowHeading) {
                // Move the row out of the THead and put it in the TBody:
                tableHead = this._createElement(table.$.tHead);

                var previousFirstRow = tableBody.getFirst();

                while (tableHead.getChildCount() > 0) {
                    var newFirstRow = tableHead.getFirst();
                    var newFirstRowChildCount = newFirstRow.getChildCount();

                    for (i = 0; i < newFirstRowChildCount; i++) {
                        newCell = newFirstRow.getChild(i);

                        if (newCell.type === CKEDITOR.NODE_ELEMENT) {
                            newCell.renameNode('td');
                            newCell.removeAttribute('scope');
                        }
                    }

                    newFirstRow.insertBefore(previousFirstRow);
                }

                tableHead.remove();
            }

            tableHeading = this.getHeading(table);
            var hasColHeading = tableHeading === Table.HEADING_COL || tableHeading === Table.HEADING_BOTH;

            // If we need column heading and the table doesn't have it, convert every first cell in
            // every row into a `<th scope="row">` element.
            if (!hasColHeading && needColHeading) {
                for (i = 0; i < table.$.rows.length; i++) {
                    if (table.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th') {
                        newCell = new CKEDITOR.dom.element(table.$.rows[i].cells[0]);
                        newCell.renameNode('th');
                        newCell.setAttribute('scope', 'row');
                    }
                }
            }

            // If we don't need column heading but the table has it, convert every first cell in every
            // row back into a `<td>` element.
            if (hadColHeading && !needColHeading) {
                for (i = 0; i < table.$.rows.length; i++) {
                    var row = new CKEDITOR.dom.element(table.$.rows[i]);

                    if (row.getParent().getName() === 'tbody') {
                        newCell = new CKEDITOR.dom.element(row.$.cells[0]);
                        newCell.renameNode('td');
                        newCell.removeAttribute('scope');
                    }
                }
            }
        },

        /**
         * Creates a new CKEDITOR.dom.element using the passed tag name.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @protected
         * @method _createElement
         * @param {String} name The tag name from which an element should be created
         * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class
         */
        _createElement: function _createElement(name) {
            return new CKEDITOR.dom.element(name, this._editor.document);
        }
    };

    CKEDITOR.on('instanceReady', function (event) {
        var headingCommands = [Table.HEADING_NONE, Table.HEADING_ROW, Table.HEADING_COL, Table.HEADING_BOTH];

        var tableUtils = new Table(event.editor);

        headingCommands.forEach(function (heading) {
            event.editor.addCommand('tableHeading' + heading, {
                exec: function exec(editor) {
                    tableUtils.setHeading(null, heading);
                }
            });
        });
    });

    CKEDITOR.Table = CKEDITOR.Table || Table;
})();

/***/ }),

/***/ "./src/core/tools.js":
/*!***************************!*\
  !*** ./src/core/tools.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /**
     * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.
     *
     * @class CKEDITOR.tools
     */

    /**
     * Sends a request using the JSONP technique.
     *
     * @memberof CKEDITOR.tools
     * @method jsonp
     * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.
     * @param {Function} callback A function to be called in case of success.
     * @param {Function} errorCallback A function to be called in case of failure.
     * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.
     * @return {Object} An object with the following properties:
     *  - id: the transaction ID
     *  - a `cancel()` method
     * @static
     */

    CKEDITOR.tools.jsonp = function (urlTemplate, urlParams, callback, errorCallback) {
        var callbackKey = CKEDITOR.tools.getNextNumber();

        urlParams = urlParams || {};
        urlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';

        if (!CKEDITOR._.jsonpCallbacks) {
            CKEDITOR._.jsonpCallbacks = {};
        }

        CKEDITOR._.jsonpCallbacks[callbackKey] = function (response) {
            setTimeout(function () {
                cleanUp();

                callback(response);
            });
        };

        var scriptElement = new CKEDITOR.dom.element('script');
        scriptElement.setAttribute('src', urlTemplate.output(urlParams));
        scriptElement.on('error', function () {
            cleanUp();

            if (errorCallback) {
                errorCallback();
            }
        });

        function cleanUp() {
            if (scriptElement) {
                scriptElement.remove();
                delete CKEDITOR._.jsonpCallbacks[callbackKey];
                scriptElement = null;
            }
        }

        CKEDITOR.document.getBody().append(scriptElement);

        return {
            cancel: cleanUp,
            id: callbackKey
        };
    };

    /**
     * Returns a new object containing all of the properties of all the supplied
     * objects. The properties from later objects will overwrite those in earlier
     * objects.
     *
     * Passing in a single object will create a shallow copy of it.
     *
     * @memberof CKEDITOR.tools
     * @method merge
     * @param {Object} objects* One or more objects to merge.
     * @return {Object} A new merged object.
     * @static
     */
    CKEDITOR.tools.merge = CKEDITOR.tools.merge || function () {
        var result = {};

        for (var i = 0; i < arguments.length; ++i) {
            var obj = arguments[i];

            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) {
                    result[key] = obj[key];
                }
            }
        }

        return result;
    };

    /**
     * Simulates event on a DOM element.
     *
     * @memberof CKEDITOR.tools
     * @method simulate
     * @param {DOMElement} element The element on which the event shoud be simualted.
     * @param {String} event The name of the event which have to be simulated.
     * @static
     */
    CKEDITOR.tools.simulate = function (element, event) {
        var eventInstance = document.createEvent('Events');
        eventInstance.initEvent(event, true, false);
        element.dispatchEvent(eventInstance);
    };
})();

/***/ }),

/***/ "./src/core/uicore.js":
/*!****************************!*\
  !*** ./src/core/uicore.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_uicore')) {
        return;
    }

    /**
     * UICore class which will handle user interactions with the editor. These interactions
     * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via
     * CKEditor's event system - "editorInteraction". The UI may listen to this event and
     * execute some actions - for example to show/hide toolbars.
     *
     * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed
     * by setting {{#crossLink "CKEDITOR.plugins.ae_uicore/allowEsc:attribute"}}{{/crossLink}} config property in editor's configuration to true.
     *
     * @class ae_uicore
     */

    /**
     * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,
     * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout
     * is 50ms. This value can be overwritten via {{#crossLink "CKEDITOR.plugins.ae_uicore/timeout:attribute"}}{{/crossLink}}
     * property of editor's configuration, like: editor.config.uicore.timeout = 100
     *
     * @memberof ae_uicore
     * @event ae_uicore#editorInteraction
     * @param {Object} data An object which contains the following properties:
     * - nativeEvent - The event as received from CKEditor.
     * - selectionData - The data, returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
     */

    /**
     * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.
     *
     * @memberof ae_uicore
     * @event ae_uicore#ariaUpdate
     * @param {Object} data An object which contains the following properties:
     * - message - The provided message from the UI element.
     */

    /**
     * If set to true, the editor will still fire {{#crossLink "CKEDITOR.plugins.ae_uicore/editorInteraction:event"}}{{/crossLink}} event,
     * if user presses Esc key.
     *
     * @memberof ae_uicore
     * @attribute allowEsc
     * @default false
     * @type Boolean
     */

    /**
     * Specifies the default timeout after which the {{#crossLink "CKEDITOR.plugins.ae_uicore/editorInteraction:event"}}{{/crossLink}} event
     * will be fired.
     *
     * @memberof ae_uicore
     * @attribute timeout
     * @default 50 (ms)
     * @type Number
     */

    CKEDITOR.plugins.add('ae_uicore', {
        /**
         * Initializer lifecycle implementation for the UICore plugin.
         *
         * @memberof ae_uicore
         * @method init
         * @param {Object} editor The current CKEditor instance.
         * @protected
         */
        init: function init(editor) {
            var ariaState = [];

            var ariaElement = this._createAriaElement(editor.id);

            var uiTasksTimeout = editor.config.uicore ? editor.config.uicore.timeout : 50;

            var handleUI = CKEDITOR.tools.debounce(function (event) {
                ariaState = [];

                if (event.name !== 'keyup' || event.data.$.keyCode !== 27 || editor.config.allowEsc) {
                    var selectionData = editor.getSelectionData();

                    if (selectionData) {
                        editor.fire('editorInteraction', {
                            nativeEvent: event.data.$,
                            selectionData: selectionData
                        });
                    }
                }
            }, uiTasksTimeout);

            var handleAria = CKEDITOR.tools.debounce(function (event) {
                ariaElement.innerHTML = ariaState.join('. ');
            }, uiTasksTimeout);

            var handleMouseLeave = CKEDITOR.tools.debounce(function (event) {
                var aeUINodes = document.querySelectorAll('.ae-ui');

                var found;

                for (var i = 0; i < aeUINodes.length; i++) {
                    if (aeUINodes[i].contains(event.data.$.relatedTarget)) {
                        found = true;
                        break;
                    }
                }

                if (!found) {
                    handleUI(event);
                }
            }, uiTasksTimeout);

            editor.on('ariaUpdate', function (event) {
                // handleAria is debounced function, so if it is being called multiple times, it will
                // be canceled until some time passes.
                // For that reason here we explicitly append the current message to the list of messages
                // and call handleAria. Since it is debounced, when some timeout passes,
                // all the messages will be applied to the live region and not only the last one.

                ariaState.push(event.data.message);

                handleAria();
            });

            editor.once('contentDom', function () {
                var editable = editor.editable();

                var focusHandler = editable.attachListener(editable, 'focus', function (event) {
                    focusHandler.removeListener();

                    editable.attachListener(editable, 'keyup', handleUI);
                    editable.attachListener(editable, 'mouseup', handleUI);
                    editable.attachListener(editable, 'mouseleave', handleMouseLeave);

                    handleUI(event);
                });
            });

            editor.on('destroy', function (event) {
                ariaElement.parentNode.removeChild(ariaElement);

                handleUI.detach();
            });
        },

        /**
         * Creates and applies an HTML element to the body of the document which will contain ARIA messages.
         *
         * @memberof ae_uicore
         * @method _createAriaElement
         * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.
         * @protected
         * @return {HTMLElement} The created and applied to DOM element.
         */
        _createAriaElement: function _createAriaElement(id) {
            var statusElement = document.createElement('div');

            statusElement.className = 'ae-sr-only';

            statusElement.setAttribute('aria-live', 'polite');
            statusElement.setAttribute('role', 'status');
            statusElement.setAttribute('id', id + 'LiveRegion');

            document.body.appendChild(statusElement);

            return statusElement;
        }
    });
})();

/***/ }),

/***/ "./src/oop/attribute.js":
/*!******************************!*\
  !*** ./src/oop/attribute.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lang = __webpack_require__(/*! ./lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Attribute implementation.
 *
 * @class Attribute
 * @constructor
*/
function Attribute(config) {
    this.__config__ = config || {};
    this.__ATTRS__ = {};
}

Attribute.prototype = {
    constructor: Attribute,

    /**
     * Retrieves the value of an attribute.
     *
     * @instance
     * @memberof Attribute
     * @method get
     * @param {String} attr The attribute which value should be retrieved.
     * @return {Any} The value of the attribute.
     */
    get: function get(attr) {
        var currentAttr = this.constructor.ATTRS[attr];

        if (!currentAttr) {
            return;
        }

        if (!this._isInitialized(attr)) {
            this._init(attr);
        }

        var curValue = this.__ATTRS__[attr];

        if (currentAttr.getter) {
            curValue = this._callStringOrFunction(currentAttr.getter, curValue);
        }

        return curValue;
    },

    /**
     * Sets the value of an attribute.
     *
     * @instance
     * @memberof Attribute
     * @method set
     * @param {String} attr The attribute which value should be set.
     * @param {Any} value The value which should be set to the attribute.
     */
    set: function set(attr, value) {
        var currentAttr = this.constructor.ATTRS[attr];

        if (!currentAttr) {
            return;
        }

        if (!this._isInitialized(attr)) {
            this._init(attr);
        }

        if (currentAttr.readOnly) {
            return;
        }

        if (currentAttr.writeOnce && this._isInitialized(attr)) {
            return;
        }

        if (currentAttr.validator && !this._callStringOrFunction(currentAttr.validator, value)) {
            return;
        }

        if (currentAttr.setter) {
            value = this._callStringOrFunction(currentAttr.setter, value);
        }

        this.__ATTRS__[attr] = value;
    },

    /**
     * Calls the provided param as function with the supplied arguments.
     * If param provided as string, a corresponding function in this object will
     * be called. If provided param is a function, it will be directly called.
     *
     * @instance
     * @memberof Attribute
     * @method _callStringOrFunction
     * @param  {Any|Array} args The arguments which will be provided to the called function
     * @param  {String|Function} stringOrFunction The function which should be called
     * @protected
     * @return {Any} The returned value from the called function
     */
    _callStringOrFunction: function _callStringOrFunction(stringOrFunction, args) {
        var result = null;

        if (!_lang2.default.isArray(args)) {
            args = [args];
        }

        if (_lang2.default.isString(stringOrFunction) && _lang2.default.isFunction(this[stringOrFunction])) {
            result = this[stringOrFunction].apply(this, args);
        } else if (_lang2.default.isFunction(stringOrFunction)) {
            result = stringOrFunction.apply(this, args);
        }

        return result;
    },

    /**
     * Initializes an attribute. Sets its default value depending on the flags of the
     * attribute and the passed configuration object to the constructor.
     *
     * @instance
     * @memberof Attribute
     * @method _init
     * @param {String} attr The name of the attribute which have to be initialized.
     * @protected
     */
    _init: function _init(attr) {
        var value;

        var currentAttr = this.constructor.ATTRS[attr];

        // Check if there is default value or passed one via configuration object
        var hasDefaultValue = Object.prototype.hasOwnProperty.call(currentAttr, 'value');
        var hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(this.__config__, attr);

        // If there is valueFn, set the value to be the result of invocation of this function
        if (currentAttr.valueFn) {
            value = this._callStringOrFunction(currentAttr.valueFn, value);

            this.__ATTRS__[attr] = value;
        }
        // else if the attribute has readOnly flag, set the default value from the attribute,
        // regardless if there is value or not
        else if (currentAttr.readOnly) {
                value = currentAttr.value;
            }
            // else if the attribute has writeOnce value, set it from the passed configuration or from the
            // default value, in this order. Otherwise, return miserable.
            else if (currentAttr.writeOnce) {
                    if (hasPassedValueViaConfig) {
                        value = this.__config__[attr];
                    } else if (hasDefaultValue) {
                        value = currentAttr.value;
                    } else {
                        return;
                    }
                }
                // These two cases below are easy - set the value to be from the passed config or
                // from the default value, in this order.
                else if (hasPassedValueViaConfig) {
                        value = this.__config__[attr];
                    } else if (hasDefaultValue) {
                        value = currentAttr.value;
                    }

        // If there is validator, and user passed config object - check the returned value.
        // If it is false, then set as initial value the default one.
        // However, if there is no default value, just return.
        if (currentAttr.validator && hasPassedValueViaConfig && !this._callStringOrFunction(currentAttr.validator, value)) {
            if (hasDefaultValue) {
                value = currentAttr.value;
            } else {
                return;
            }
        }

        // If there is setter and user passed config object - pass the value thought the setter.
        // The value might be one from defaultFn, default value or provided from the config.
        if (currentAttr.setter && hasPassedValueViaConfig) {
            value = this._callStringOrFunction(currentAttr.setter, value);
        }

        // Finally, set the value as initial value to the storage with values.
        this.__ATTRS__[attr] = value;
    },

    /**
     * Checks if an attribute is initialized. An attribute is considered as initialized
     * when there is an own property with this name in the local collection of attribute values
     * for the current instance.
     *
     * @instance
     * @memberof Attribute
     * @method _isInitialized
     * @param {String} attr The attribute which should be checked if it is initialized.
     * @protected
     * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.
     */
    _isInitialized: function _isInitialized(attr) {
        return Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);
    }
};

exports.default = Attribute;

/***/ }),

/***/ "./src/oop/base.js":
/*!*************************!*\
  !*** ./src/oop/base.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _attribute = __webpack_require__(/*! ./attribute.js */ "./src/oop/attribute.js");

var _attribute2 = _interopRequireDefault(_attribute);

var _lang = __webpack_require__(/*! ./lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _oop = __webpack_require__(/*! ./oop.js */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Quick and dirty impl of Base class.
 *
 * @class Base
 * @constructor
 */
function Base(config) {
    Base.superclass.constructor.call(this, config);

    this.init(config);
}

(0, _oop2.default)(Base, _attribute2.default, {
    /**
     * Calls the `initializer` method of each class which extends Base starting from the parent to the child.
     * Will pass the configuration object to each initializer method.
     *
     * @instance
     * @memberof Base
     * @method init
     * @param {Object} config Configuration object
     */
    init: function init(config) {
        this._callChain('initializer', config);
    },

    /**
     * Calls the `destructor` method of each class which extends Base starting from the parent to the child.
     *
     * @instance
     * @memberof Base
     * @method destroy
     */
    destroy: function destroy() {
        this._callChain('destructor');
    },

    /**
     * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.
     *
     * @instance
     * @memberof Base
     * @method _callChain
     * @param {Object|Array} args The arguments with which the method should be invoked
     * @param {String} wat  The method, which should be invoked
     * @protected
     */
    _callChain: function _callChain(wat, args) {
        var arr = [];

        var ctor = this.constructor;

        while (ctor) {
            if (_lang2.default.isFunction(ctor.prototype[wat])) {
                arr.push(ctor.prototype[wat]);
            }

            ctor = ctor.superclass ? ctor.superclass.constructor : null;
        }

        arr = arr.reverse();

        args = _lang2.default.isArray(args) ? args : [args];

        for (var i = 0; i < arr.length; i++) {
            var item = arr[i];

            item.apply(this, args);
        }
    }
});

exports.default = Base;

/***/ }),

/***/ "./src/oop/lang.js":
/*!*************************!*\
  !*** ./src/oop/lang.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/**
 * Provides core language utilities.
 *
 * @class Lang
 */
var Lang = {
    /**
     * Check if the passed value is an array.
     *
     * @memberof Lang
     * @method isArray
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is an array, false otherwise.
     * @static
     */
    isArray: function isArray(value) {
        return Object.prototype.toString.call(value) === '[object Array]';
    },

    /**
     * Check if the passed value is boolean.
     *
     * @memberof Lang
     * @method isBoolean
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is boolean, false otherwise.
     * @static
     */
    isBoolean: function isBoolean(value) {
        return typeof value === 'boolean';
    },

    /**
     * Check if the passed value is a function.
     *
     * @memberof Lang
     * @method isFunction
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is a function, false otherwise.
     * @static
     */
    isFunction: function isFunction(value) {
        return typeof value === 'function';
    },

    /**
     * Check if the passed value is NULL.
     *
     * @memberof Lang
     * @method isNull
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is NULL, false otherwise.
     * @static
     */
    isNull: function isNull(value) {
        return value === null;
    },

    /**
     * Check if the passed value is number.
     *
     * @memberof Lang
     * @method isNumber
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is number, false otherwise.
     * @static
     */
    isNumber: function isNumber(value) {
        return typeof value === 'number' && isFinite(value);
    },

    /**
     * Check if the passed value is an object
     *
     * @memberof Lang
     * @method isObject
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is an object, false otherwise.
     * @static
     */
    isObject: function isObject(value) {
        var valueType = typeof value === 'undefined' ? 'undefined' : _typeof(value);

        return value && (valueType === 'object' || Lang.isFunction(value));
    },

    /**
     * Check if the passed value is a string.
     *
     * @memberof Lang
     * @method isString
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is a string, false otherwise.
     * @static
     */
    isString: function isString(value) {
        return typeof value === 'string';
    },

    /**
     * Adds all properties from the supplier to the receiver.
     * The function will add all properties, not only these owned by the supplier.
     *
     * @memberof Lang
     * @method mix
     * @param {Object} receiver The object which will receive properties.
     * @param {Object} supplier The object which provides properties.
     * @return {Object} The modified receiver.
     * @static
     */
    mix: function mix(receiver, supplier) {
        var hasOwnProperty = Object.prototype.hasOwnProperty;

        for (var key in supplier) {
            if (hasOwnProperty.call(supplier, key)) {
                receiver[key] = supplier[key];
            }
        }
    },

    /**
     * Converts value to Integer.
     *
     * @memberof Lang
     * @method toInt
     * @param {Any} value The value which have to be converted to Integer.
     * @return {Integer} The converted value.
     * @static
     */
    toInt: function toInt(value) {
        return parseInt(value, 10);
    }
};

exports.default = Lang;

/***/ }),

/***/ "./src/oop/oop.js":
/*!************************!*\
  !*** ./src/oop/oop.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lang = __webpack_require__(/*! ./lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Sets the prototype, constructor and superclass properties to support an inheritance strategy
 * that can chain constructors and methods. Static members will not be inherited.
 *
 * @memberof OOP
 * @method extend
 * @param {Function} receiver The class which will extend another class.
 * @param {Function} supplier The class which will provide the properties the child class.
 * @param {Object} protoProps Prototype properties to add/override.
 * @param {Object} staticProps Static properties to add/overwrite.
 * @return {Function} The extended class.
 * @static
 */
var extend = function extend(receiver, supplier, protoProps, staticProps) {
    if (!supplier || !receiver) {
        throw 'extend failed, verify dependencies';
    }

    var supplierProto = supplier.prototype,
        receiverProto = Object.create(supplierProto);
    receiver.prototype = receiverProto;

    receiverProto.constructor = receiver;
    receiver.superclass = supplierProto;

    // assign constructor property
    if (supplier !== Object && supplierProto.constructor === Object.prototype.constructor) {
        supplierProto.constructor = supplier;
    }

    // add prototype overrides
    if (protoProps) {
        _lang2.default.mix(receiverProto, protoProps);
    }

    // add object overrides
    if (staticProps) {
        _lang2.default.mix(receiver, staticProps);
    }

    return receiver;
};

exports.default = extend;

/***/ }),

/***/ "./src/plugins/addimages.js":
/*!**********************************!*\
  !*** ./src/plugins/addimages.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    var isIE = CKEDITOR.env.ie;

    if (CKEDITOR.plugins.get('ae_addimages')) {
        return;
    }

    /**
     * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded
     * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners
     * returns `false` or cancels the event, the images won't be added to the content. Otherwise,
     * an event `imageAdd` will be fired with the inserted element into the editable area.
     *
     * @class CKEDITOR.plugins.ae_addimages
     */

    /**
     * Fired before adding images to the editor.
     *
     * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd
     * @instance
     * @memberof CKEDITOR.plugins.ae_addimages
     * @param {Array} imageFiles Array of image files
     */

    /**
     * Fired when an image is being added to the editor successfully.
     *
     * @event CKEDITOR.plugins.ae_addimages#imageAdd
     * @instance
     * @memberof CKEDITOR.plugins.ae_addimages
     * @param {CKEDITOR.dom.element} el The created image with src as Data URI
     * @param {File} file The image file
     */

    CKEDITOR.plugins.add('ae_addimages', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'dragenter', this._onDragEnter, this, {
                    editor: editor
                });

                editable.attachListener(editable, 'dragover', this._onDragOver, this, {
                    editor: editor
                });

                editable.attachListener(editable, 'drop', this._onDragDrop, this, {
                    editor: editor
                });

                editable.attachListener(editable, 'paste', this._onPaste, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further
         * processing to {{#crossLink "CKEDITOR.plugins.ae_addimages/_processFile:method"}}{{/crossLink}}
         *
         * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _handleFiles
         * @param {Array} files Array of dropped files. Only the images from this list will be processed.
         * @param {Object} editor The current editor instance
         * @protected
         */
        _handleFiles: function _handleFiles(files, editor) {
            var file;
            var i;

            var imageFiles = [];

            for (i = 0; i < files.length; i++) {
                file = files[i];

                if (file.type.indexOf('image') === 0) {
                    imageFiles.push(file);
                }
            }

            var result = editor.fire('beforeImageAdd', {
                imageFiles: imageFiles
            });

            if (!!result) {
                for (i = 0; i < imageFiles.length; i++) {
                    file = imageFiles[i];

                    this._processFile(file, editor);
                }
            }

            return false;
        },

        /**
         * Handles drag drop event. The function will create a selection from the current
         * point and will send a list of files to be processed to
         * {{#crossLink "CKEDITOR.plugins.ae_addimages/_handleFiles:method"}}{{/crossLink}} method.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onDragDrop
         * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor
         * @protected
         */
        _onDragDrop: function _onDragDrop(event) {
            var nativeEvent = event.data.$;

            var transferFiles = nativeEvent.dataTransfer.files;

            if (transferFiles.length > 0) {
                new CKEDITOR.dom.event(nativeEvent).preventDefault();

                var editor = event.listenerData.editor;

                event.listenerData.editor.createSelectionFromPoint(nativeEvent.clientX, nativeEvent.clientY);

                this._handleFiles(transferFiles, editor);
            }
        },

        /**
         * Handles drag enter event. In case of IE, this function will prevent the event.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onDragEnter
         * @param {DOM event} event dragenter event, as received natively from CKEditor
         * @protected
         */
        _onDragEnter: function _onDragEnter(event) {
            if (isIE) {
                this._preventEvent(event);
            }
        },

        /**
         * Handles drag over event. In case of IE, this function will prevent the event.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onDragOver
         * @param {DOM event} event dragover event, as received natively from CKEditor
         * @protected
         */
        _onDragOver: function _onDragOver(event) {
            if (isIE) {
                this._preventEvent(event);
            }
        },

        /**
         * Checks if the pasted data is image and passes it to
         * {{#crossLink "CKEDITOR.plugins.ae_addimages/_processFile:method"}}{{/crossLink}} for processing.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onPaste
         * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor
         * @protected
         */
        _onPaste: function _onPaste(event) {
            if (event.data && event.data.$ && event.data.$.clipboardData && event.data.$.clipboardData.items && event.data.$.clipboardData.items.length > 0) {
                var pastedData = event.data.$.clipboardData.items[0];

                if (pastedData.type.indexOf('image') === 0) {
                    var imageFile = pastedData.getAsFile();

                    this._processFile(imageFile, event.listenerData.editor);
                }
            }
        },

        /**
         * Prevents a native event.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _preventEvent
         * @param {DOM event} event The event to be prevented.
         * @protected
         */
        _preventEvent: function _preventEvent(event) {
            event = new CKEDITOR.dom.event(event.data.$);

            event.preventDefault();
            event.stopPropagation();
        },

        /**
         * Processes an image file. The function creates an img element and sets as source
         * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.
         *
         * @fires CKEDITOR.plugins.ae_addimages#imageAdd
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _preventEvent
         * @param {DOM event} event The event to be prevented.
         * @protected
         */
        _processFile: function _processFile(file, editor) {
            var reader = new FileReader();

            reader.addEventListener('loadend', function () {
                var bin = reader.result;

                var el = CKEDITOR.dom.element.createFromHtml('<img src="' + bin + '">');

                editor.insertElement(el);

                var imageData = {
                    el: el,
                    file: file
                };

                editor.fire('imageAdd', imageData);
            });

            reader.readAsDataURL(file);
        }
    });
})();

/***/ }),

/***/ "./src/plugins/autolink.js":
/*!*********************************!*\
  !*** ./src/plugins/autolink.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_autolink')) {
        return;
    }

    // Disables the auto URL detection feature in IE, their lacks functionality:
    // They convert the links only on space. We do on space, comma, semicolon and Enter.
    if (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {
        document.execCommand('AutoUrlDetect', false, false);
    }

    var KEY_BACK = 8;

    var KEY_COMMA = 188;

    var KEY_ENTER = 13;

    var KEY_SEMICOLON = 186;

    var KEY_SPACE = 32;

    var DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];

    var REGEX_LAST_WORD = /[^\s]+/gim;

    var REGEX_URL = /((([A - Za - z]{ 3, 9}: (?: \/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(https?\:\/\/|www.|[-;:&=.\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))((.*):(\d*)\/?(.*))?)/i;

    var REGEX_EMAIL = /[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}/i;

    /**
     * CKEditor plugin which automatically generates links when user types text which looks like URL.
     *
     * @class CKEDITOR.plugins.ae_autolink
     * @constructor
     */
    CKEDITOR.plugins.add('ae_autolink', {

        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers the `keyup` event on the editing area.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'keyup', this._onKeyUp, this, {
                    editor: editor
                });
            }.bind(this));

            editor.on('paste', function (event) {
                if (event.data.method === 'paste') {

                    if (event.data.dataValue.indexOf('<') > -1 || event.data.dataValue.indexOf('&lt;') > -1) {
                        if (event.data.dataValue.indexOf('<u><font color=\"') > -1) {
                            event.data.dataValue = event.data.dataValue.replace(/<u><font color=\"#(.*?)\">|<\/font><\/u>/g, '');
                        }
                        return;
                    }

                    var instance = this;

                    event.data.dataValue = event.data.dataValue.replace(RegExp(REGEX_URL, 'gim'), function (url) {
                        if (instance._isValidURL(url)) {
                            if (instance._isValidEmail(url)) {
                                return '<a href=\"mailto:' + url + '\">' + url + '</a>';
                            } else {
                                return '<a href=\"' + url + '\">' + url + '</a>';
                            }
                        }
                    });
                }
            }.bind(this));
        },

        /**
         * Retrieves the last word introduced by the user. Reads from the current
         * caret position backwards until it finds the first white space.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _getLastWord
         * @protected
         * @return {String} The last word introduced by user
         */
        _getLastWord: function _getLastWord(editor) {
            var range = editor.getSelection().getRanges()[0];

            var offset = range.startOffset;

            var previousText = '';

            // The user pressed Enter, so we have to look on the previous node
            if (this._currentKeyCode === KEY_ENTER) {
                var previousNode = range.startContainer.getPrevious();

                var lastChild;

                if (previousNode) {
                    // If previous node is a SPACE, (it does not have 'getLast' method),
                    // ignore it and find the previous text node
                    while (!previousNode.getLast) {
                        previousNode = previousNode.getPrevious();
                    }

                    lastChild = previousNode.getLast();

                    // Depending on the browser, the last child node may be a <BR>
                    // (which does not have 'getText' method),
                    // so ignore it and find the previous text node
                    while (lastChild && !lastChild.getText()) {
                        lastChild = lastChild.getPrevious();
                    }
                }

                // Check if the lastChild is already a link
                if (!(lastChild && lastChild.$.href)) {
                    this._startContainer = lastChild;
                    previousText = lastChild ? lastChild.getText() : '';
                    this._offset = previousText.length;
                }
            } else {
                this._startContainer = range.startContainer;

                // Last character is the delimiter, ignore it
                previousText = this._startContainer.getText().substring(0, offset - 1);

                this._offset = offset - 1;
            }

            var lastWord = '';

            var match = previousText.match(REGEX_LAST_WORD);

            if (match) {
                lastWord = match.pop();
            }

            return lastWord;
        },

        /**
         * Checks if the given link is a valid Email.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method isValidEmail
         * @param {String} link The email we want to know if it is a valid Email
         * @protected
         * @return {Boolean} Returns true if the email is a valid Email, false otherwise
         */
        _isValidEmail: function _isValidEmail(email) {
            return REGEX_EMAIL.test(email);
        },

        /**
         * Checks if the given link is a valid URL.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method isValidURL
         * @param {String} link The link we want to know if it is a valid URL
         * @protected
         * @return {Boolean} Returns true if the link is a valid URL, false otherwise
         */
        _isValidURL: function _isValidURL(link) {
            return REGEX_URL.test(link);
        },

        /**
         * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously
         * created link.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _onKeyDown
         * @param {EventFacade} event EventFacade object
         * @protected
         */
        _onKeyDown: function _onKeyDown(event) {
            var nativeEvent = event.data.$;

            var editor = event.listenerData.editor;

            var editable = editor.editable();

            editable.removeListener('keydown', this._onKeyDown);

            if (nativeEvent.keyCode === KEY_BACK) {
                event.cancel();
                event.data.preventDefault();

                this._removeLink(editor);
            }

            this._ckLink = null;
        },

        /**
         * Listens to the `Enter` and `Space` key events in order to check if the last word
         * introduced by the user should be replaced by a link element.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _onKeyUp
         * @param {EventFacade} event EventFacade object
         * @protected
         */
        _onKeyUp: function _onKeyUp(event) {
            var nativeEvent = event.data.$;

            this._currentKeyCode = nativeEvent.keyCode;

            if (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {
                var editor = event.listenerData.editor;

                var lastWord = this._getLastWord(editor);

                if (this._isValidURL(lastWord)) {
                    this._replaceContentByLink(editor, lastWord);
                }
            }
        },

        /**
         * Replaces content by a link element.
         *
         * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _replaceContentByLink
         * @param {String} content The text that has to be replaced by an link element
         * @protected
         */
        _replaceContentByLink: function _replaceContentByLink(editor, content) {
            var range = editor.createRange();
            var node = CKEDITOR.dom.element.get(this._startContainer);
            var offset = this._offset;

            // Select the content, so CKEDITOR.Link can properly replace it
            range.setStart(node, offset - content.length);
            range.setEnd(node, offset);
            range.select();

            var ckLink = new CKEDITOR.Link(editor);
            ckLink.create(content);
            this._ckLink = ckLink;

            var linkNode = ckLink.getFromSelection();
            editor.fire('autolinkAdd', linkNode);

            this._subscribeToKeyEvent(editor);

            // Now range is on the link and it is selected. We have to
            // return focus to the caret position.
            range = editor.getSelection().getRanges()[0];

            // If user pressed `Enter`, get the next editable node at position 0,
            // otherwise set the cursor at the next character of the link (the white space)
            if (this._currentKeyCode === KEY_ENTER) {
                var nextEditableNode = range.getNextEditableNode();

                range.setStart(nextEditableNode, 0);
                range.setEnd(nextEditableNode, 0);
            } else {
                var nextNode = range.getNextNode();

                range.setStart(nextNode, 1);
                range.setEnd(nextNode, 1);
            }

            range.select();
        },

        /**
         * Fired when a URL is detected in text and converted to a link.
         *
         * @event CKEDITOR.plugins.ae_autolink#autolinkAdd
         * @memberof CKEDITOR.plugins.ae_autolink
         * @param {CKEDITOR.dom.element} el Node of the created link.
         */

        /**
         * Removes the created link element, and replaces it by its text.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _removeLink
         * @protected
         */
        _removeLink: function _removeLink(editor) {
            var range = editor.getSelection().getRanges()[0];
            var caretOffset = range.startOffset;

            // Select the link, so CKEDITOR.Link can properly remove it
            var linkNode = this._startContainer.getNext() || this._startContainer;

            var newRange = editor.createRange();
            newRange.setStart(linkNode, 0);
            newRange.setEndAfter(linkNode);
            newRange.select();

            this._ckLink.remove();

            // Return focus to the caret position
            range.setEnd(range.startContainer, caretOffset);
            range.setStart(range.startContainer, caretOffset);

            range.select();
        },

        /**
         * Subscribe to a key event of the editable aria.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _subscribeToKeyEvent
         * @protected
         */
        _subscribeToKeyEvent: function _subscribeToKeyEvent(editor) {
            var editable = editor.editable();

            // Change the priority of keydown listener - 1 means the highest priority.
            // In Chrome on pressing `Enter` the listener is not being invoked.
            // See http://dev.ckeditor.com/ticket/11861 for more information.
            editable.attachListener(editable, 'keydown', this._onKeyDown, this, {
                editor: editor
            }, 1);
        }
    });
})();

/***/ }),

/***/ "./src/plugins/autolist.js":
/*!*********************************!*\
  !*** ./src/plugins/autolist.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_autolist')) {
        return;
    }

    var KEY_BACK = 8;

    var KEY_SPACE = 32;

    var DEFAULT_CONFIG = [{
        regex: /^\*$/,
        type: 'bulletedlist'
    }, {
        regex: /^1\.$/,
        type: 'numberedlist'
    }];

    /**
        * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.
        *
        * @class CKEDITOR.plugins.ae_autolist
        * @constructor
        */
    CKEDITOR.plugins.add('ae_autolist', {

        /**
         * Initialization of the plugin, part of CKeditor plugin lifecycle.
         * The function registers the `keydown` event on the content editing area.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolist
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'keydown', this._onKeyDown, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * Checks for pressing the `Backspace` key in order to undo the list creation.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolist
         * @method _checkForBackspaceAndUndo
         * @param {Event} event Event object
         * @protected
         */
        _checkForBackspaceAndUndo: function _checkForBackspaceAndUndo(event) {
            var editor = event.listenerData.editor;

            var nativeEvent = event.data.$;

            var editable = editor.editable();

            editable.removeListener('keydown', this._checkForBackspaceAndUndo);

            if (nativeEvent.keyCode === KEY_BACK) {
                editor.execCommand('undo');
                editor.insertHtml(event.listenerData.bullet + '&nbsp;');
                event.data.preventDefault();
            }
        },

        /**
         * Checks current line to find match with MATCHES object to create OL or UL.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolist
         * @method _checkLine
         * @param {editor} Editor object
         * @protected
         * @return {Object|null} Returns an object which contains the detected list config if any
         */
        _getListConfig: function _getListConfig(editor) {
            var configRegex = editor.config.autolist || DEFAULT_CONFIG;

            var range = editor.getSelection().getRanges()[0];

            var textContainer = range.endContainer.getText();

            var bullet = textContainer.substring(0, range.startOffset);

            var text = textContainer.substring(range.startOffset, textContainer.length);

            var index = 0;

            var regexLen = configRegex.length;

            var autolistCfg = null;

            while (!autolistCfg && regexLen > index) {
                var regexItem = configRegex[index];

                if (regexItem.regex.test(bullet)) {
                    autolistCfg = {
                        bullet: bullet,
                        editor: editor,
                        text: text,
                        type: regexItem.type
                    };

                    break;
                }

                index++;
            }

            return autolistCfg;
        },

        /**
                  * Create list with different types: Bulleted or Numbered list
                  *
                  * @instance
                  * @memberof CKEDITOR.plugins.ae_autolist
                  * @method _createList
                  * @param {Object} listConfig Object that contains bullet, text and type for creating the list
                  * @protected
         */
        _createList: function _createList(listConfig) {
            var editor = listConfig.editor;

            var range = editor.getSelection().getRanges()[0];

            range.endContainer.setText(listConfig.text);
            editor.execCommand(listConfig.type);

            var editable = editor.editable();

            // Subscribe to keydown in order to check if the next key press is `Backspace`.
            // If so, the creation of the list will be discarded.
            editable.attachListener(editable, 'keydown', this._checkForBackspaceAndUndo, this, {
                editor: editor,
                bullet: listConfig.bullet
            }, 1);
        },

        /**
                  * Listens to the `Space` key events to check if the last word
                  * introduced by the user should be replaced by a list (OL or UL)
                  *
                  * @instance
                  * @memberof CKEDITOR.plugins.ae_autolist
                  * @method _onKeyDown
                  * @param {Event} event Event object
                  * @protected
                  */
        _onKeyDown: function _onKeyDown(event) {
            var nativeEvent = event.data.$;

            if (nativeEvent.keyCode === KEY_SPACE) {
                var listConfig = this._getListConfig(event.listenerData.editor);

                if (listConfig) {
                    event.data.preventDefault();
                    this._createList(listConfig);
                }
            }
        }
    });
})();

/***/ }),

/***/ "./src/plugins/dragresize.js":
/*!***********************************!*\
  !*** ./src/plugins/dragresize.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * CKEditor plugin: Dragable image resizing
 * https://github.com/sstur/ck-dragresize
 * - Shows semi-transparent overlay while resizing
 * - Enforces Aspect Ratio (unless holding shift)
 * - Snap to size of other images in editor
 * - Escape while dragging cancels resize
 */
(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_dragresize')) {
        return;
    }

    var IMAGE_HANDLES = {
        both: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],
        height: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],
        scale: ['tl', 'tr', 'bl', 'br'],
        width: ['tl', 'tr', 'lm', 'rm', 'bl', 'br']
    };

    var POSITION_ELEMENT_FN = {
        bl: function bl(handle, left, top, box) {
            positionElement(handle, -3 + left, box.height - 4 + top);
        },
        bm: function bm(handle, left, top, box) {
            positionElement(handle, Math.round(box.width / 2) - 3 + left, box.height - 4 + top);
        },
        br: function br(handle, left, top, box) {
            positionElement(handle, box.width - 4 + left, box.height - 4 + top);
        },
        lm: function lm(handle, left, top, box) {
            positionElement(handle, -3 + left, Math.round(box.height / 2) - 3 + top);
        },
        tl: function tl(handle, left, top, box) {
            positionElement(handle, left - 3, top - 3);
        },
        tm: function tm(handle, left, top, box) {
            positionElement(handle, Math.round(box.width / 2) - 3 + left, -3 + top);
        },
        tr: function tr(handle, left, top, box) {
            positionElement(handle, box.width - 4 + left, -3 + top);
        },
        rm: function rm(handle, left, top, box) {
            positionElement(handle, box.width - 4 + left, Math.round(box.height / 2) - 3 + top);
        }
    };

    var IMAGE_SNAP_TO_SIZE = 7;

    var isFirefox = 'MozAppearance' in document.documentElement.style;

    var isWebKit = 'WebkitAppearance' in document.documentElement.style;

    var enablePlugin = isWebKit || isFirefox;

    if (enablePlugin) {
        // CSS is added in a compressed form
        CKEDITOR.addCss('img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}');
    }

    /**
     * Initializes the plugin
     */
    CKEDITOR.plugins.add('ae_dragresize', {
        onLoad: function onLoad() {
            if (!enablePlugin) {
                return;
            }
        },
        init: function init(editor) {
            if (!enablePlugin) {
                return;
            }

            editor.once('contentDom', function (evt) {
                _init(editor);
            });
        }
    });

    function _init(editor) {
        var window = editor.window.$,
            document = editor.document.$;

        if (isFirefox) {
            // Disable the native image resizing
            document.execCommand('enableObjectResizing', false, false);
        }

        var snapToSize = typeof IMAGE_SNAP_TO_SIZE === 'undefined' ? null : IMAGE_SNAP_TO_SIZE;

        editor.config.imageScaleResize = editor.config.imageScaleResize || 'both';

        var resizer = new Resizer(editor, {
            imageScaleResize: editor.config.imageScaleResize,
            snapToSize: snapToSize
        });

        var mouseDownListener = function mouseDownListener(e) {
            if (resizer.isHandle(e.target)) {
                resizer.initDrag(e);
            }
        };

        document.addEventListener('mousedown', mouseDownListener, false);

        function selectionChange() {
            var selection = editor.getSelection();

            if (!selection) return;
            // If an element is selected and that element is an IMG
            if (selection.getType() !== CKEDITOR.SELECTION_NONE && selection.getStartElement().is('img')) {
                // And we're not right or middle clicking on the image
                if (!window.event || !window.event.button || window.event.button === 0) {
                    resizer.show(selection.getStartElement().$);
                }
            } else {
                resizer.hide();
            }
        }

        editor.on('selectionChange', selectionChange);

        editor.on('getData', function (e) {
            var html = e.data.dataValue || '';
            html = html.replace(/<div id="ckimgrsz"([\s\S]*?)<\/div>/i, '');
            html = html.replace(/\b(ckimgrsz)\b/g, '');
            e.data.dataValue = html;
        });

        editor.on('beforeUndoImage', function () {
            // Remove the handles before undo images are saved
            resizer.hide();
        });

        editor.on('afterUndoImage', function () {
            // Restore the handles after undo images are saved
            selectionChange();
        });

        editor.on('blur', function () {
            // Remove the handles when editor loses focus
            resizer.hide();
        });

        editor.on('beforeModeUnload', function self() {
            editor.removeListener('beforeModeUnload', self);
            resizer.hide();
        });

        editor.on('destroy', function () {
            var resizeElement = document.getElementById('ckimgrsz');

            if (resizeElement) {
                resizeElement.remove();
            }

            if (isFirefox) {
                document.execCommand('enableObjectResizing', false, true);
            }

            document.removeEventListener('mousedown', mouseDownListener);
        });

        // Update the selection when the browser window is resized
        var resizeTimeout;
        editor.window.on('resize', function () {
            // Cancel any resize waiting to happen
            clearTimeout(resizeTimeout);
            // Delay resize to "debounce"
            resizeTimeout = setTimeout(selectionChange, 50);
        });
    }

    function Resizer(editor, cfg) {
        this.editor = editor;
        this.window = editor.window.$;
        this.document = editor.document.$;
        this.cfg = cfg || {};
        this.init();
    }

    Resizer.prototype = {
        init: function init() {
            var instance = this;

            var container = this.container = this.document.createElement('div');

            container.id = 'ckimgrsz';
            this.preview = this.document.createElement('span');
            container.appendChild(this.preview);

            var handles = this.handles = {};

            IMAGE_HANDLES[this.cfg.imageScaleResize].forEach(function (handleName, index) {
                handles[handleName] = instance.handles[handleName] = instance.createHandle(handleName);
            });

            for (var n in handles) {
                container.appendChild(handles[n]);
            }
        },
        createHandle: function createHandle(name) {
            var el = this.document.createElement('i');
            el.classList.add(name);
            return el;
        },
        isHandle: function isHandle(el) {
            var handles = this.handles;
            for (var n in handles) {
                if (handles[n] === el) {
                    return true;
                }
            }
            return false;
        },
        show: function show(el) {
            var uiNode = this.editor.config.uiNode;

            var scrollTop = uiNode ? uiNode.scrollTop : 0;

            this.el = el;
            if (this.cfg.snapToSize) {
                this.otherImages = toArray(this.document.getElementsByTagName('img'));
                this.otherImages.splice(this.otherImages.indexOf(el), 1);
            }
            var box = this.box = getBoundingBox(this.window, el);
            positionElement(this.container, box.left, box.top + scrollTop);

            uiNode = uiNode || document.body;

            uiNode.appendChild(this.container);

            this.el.classList.add('ckimgrsz');
            this.showHandles();
        },
        hide: function hide() {
            // Remove class from all img.ckimgrsz
            var elements = this.document.getElementsByClassName('ckimgrsz');
            for (var i = 0; i < elements.length; ++i) {
                elements[i].classList.remove('ckimgrsz');
            }
            this.hideHandles();
            if (this.container.parentNode) {
                this.container.parentNode.removeChild(this.container);
            }
        },
        initDrag: function initDrag(e) {
            if (e.button !== 0) {
                //right-click or middle-click
                return;
            }
            var resizer = this;
            var drag = new DragEvent(this.window, this.document);
            drag.onStart = function () {
                resizer.showPreview();
                resizer.isDragging = true;
                resizer.editor.getSelection().lock();
            };
            drag.onDrag = function () {
                resizer.calculateSize(this);
                resizer.updatePreview();
                var box = resizer.previewBox;
                resizer.updateHandles(box, box.left, box.top);
            };
            drag.onRelease = function () {
                resizer.isDragging = false;
                resizer.hidePreview();
                resizer.hide();
                resizer.editor.getSelection().unlock();
                // Save an undo snapshot before the image is permanently changed
                resizer.editor.fire('saveSnapshot');
            };
            drag.onComplete = function () {
                resizer.resizeComplete();
                // Save another snapshot after the image is changed
                resizer.editor.fire('saveSnapshot');
            };
            drag.start(e);
        },
        updateHandles: function updateHandles(box, left, top) {
            left = left || 0;
            top = top || 0;
            var handles = this.handles;

            for (var handle in handles) {
                POSITION_ELEMENT_FN[handle](handles[handle], left, top, box);
            }
        },
        showHandles: function showHandles() {
            var handles = this.handles;
            this.updateHandles(this.box);
            for (var n in handles) {
                handles[n].style.display = 'block';
            }
        },
        hideHandles: function hideHandles() {
            var handles = this.handles;
            for (var n in handles) {
                handles[n].style.display = 'none';
            }
        },
        showPreview: function showPreview() {
            this.preview.style.backgroundImage = 'url("' + this.el.src + '")';
            this.calculateSize();
            this.updatePreview();
            this.preview.style.display = 'block';
        },
        updatePreview: function updatePreview() {
            var box = this.previewBox;
            positionElement(this.preview, box.left, box.top);
            this.preview.style.width = this.previewBox.width + 'px';
            this.preview.style.height = this.previewBox.height + 'px';
        },
        hidePreview: function hidePreview() {
            var box = getBoundingBox(this.window, this.preview);
            this.result = {
                width: box.width,
                height: box.height
            };
            this.preview.style.display = 'none';
        },
        calculateSize: function calculateSize(data) {
            var box = this.previewBox = {
                top: 0,
                left: 0,
                width: this.box.width,
                height: this.box.height
            };

            if (!data) return;

            var attr = data.target.className;

            if (~attr.indexOf('r')) {
                box.width = Math.max(32, this.box.width + data.delta.x);
            }
            if (~attr.indexOf('b')) {
                box.height = Math.max(32, this.box.height + data.delta.y);
            }
            if (~attr.indexOf('l')) {
                box.width = Math.max(32, this.box.width - data.delta.x);
            }
            if (~attr.indexOf('t')) {
                box.height = Math.max(32, this.box.height - data.delta.y);
            }
            //if dragging corner, enforce aspect ratio (unless shift key is being held)
            if (attr.indexOf('m') < 0 && !data.keys.shift) {
                var ratio = this.box.width / this.box.height;
                if (box.width / box.height > ratio) {
                    box.height = Math.round(box.width / ratio);
                } else {
                    box.width = Math.round(box.height * ratio);
                }
            }

            var snapToSize = this.cfg.snapToSize;

            if (snapToSize) {
                var others = this.otherImages;
                for (var i = 0; i < others.length; i++) {
                    var other = getBoundingBox(this.window, others[i]);
                    if (Math.abs(box.width - other.width) <= snapToSize && Math.abs(box.height - other.height) <= snapToSize) {
                        box.width = other.width;
                        box.height = other.height;
                        break;
                    }
                }
            }

            //recalculate left or top position
            if (~attr.indexOf('l')) {
                box.left = this.box.width - box.width;
            }
            if (~attr.indexOf('t')) {
                box.top = this.box.height - box.height;
            }
        },
        resizeComplete: function resizeComplete() {
            resizeElement.call(this, this.el, this.result.width, this.result.height);
        }
    };

    function DragEvent(window, document) {
        this.window = window;
        this.document = document;
        this.events = {
            mousemove: bind(this.mousemove, this),
            keydown: bind(this.keydown, this),
            mouseup: bind(this.mouseup, this)
        };
    }

    DragEvent.prototype = {
        start: function start(e) {
            e.preventDefault();
            e.stopPropagation();
            this.target = e.target;
            this.attr = e.target.className;
            this.startPos = {
                x: e.clientX,
                y: e.clientY
            };
            this.update(e);
            var events = this.events;
            this.document.addEventListener('mousemove', events.mousemove, false);
            this.document.addEventListener('keydown', events.keydown, false);
            this.document.addEventListener('mouseup', events.mouseup, false);
            this.document.body.classList.add('dragging-' + this.attr);
            this.onStart && this.onStart();
        },
        update: function update(e) {
            this.currentPos = {
                x: e.clientX,
                y: e.clientY
            };
            this.delta = {
                x: e.clientX - this.startPos.x,
                y: e.clientY - this.startPos.y
            };
            this.keys = {
                shift: e.shiftKey,
                ctrl: e.ctrlKey,
                alt: e.altKey
            };
        },
        mousemove: function mousemove(e) {
            this.update(e);
            this.onDrag && this.onDrag();
            if (e.which === 0) {
                //mouse button released outside window; mouseup wasn't fired (Chrome)
                this.mouseup(e);
            }
        },
        keydown: function keydown(e) {
            //escape key cancels dragging
            if (e.keyCode === 27) {
                this.release();
            }
        },
        mouseup: function mouseup(e) {
            this.update(e);
            this.release();
            this.onComplete && this.onComplete();
        },
        release: function release() {
            this.document.body.classList.remove('dragging-' + this.attr);
            var events = this.events;
            this.document.removeEventListener('mousemove', events.mousemove, false);
            this.document.removeEventListener('keydown', events.keydown, false);
            this.document.removeEventListener('mouseup', events.mouseup, false);
            this.onRelease && this.onRelease();
        }
    };

    //helper functions
    function toArray(obj) {
        var len = obj.length,
            arr = new Array(len);
        for (var i = 0; i < len; i++) {
            arr[i] = obj[i];
        }
        return arr;
    }

    function bind(fn, ctx) {
        if (fn.bind) {
            return fn.bind(ctx);
        }
        return function () {
            fn.apply(ctx, arguments);
        };
    }

    function positionElement(el, left, top) {
        el.style.left = String(left) + 'px';
        el.style.top = String(top) + 'px';
    }

    function resizeElement(el, width, height) {
        var imageScaleResize = this.editor.config.imageScaleResize;
        if (imageScaleResize === 'both') {
            el.style.width = String(width) + 'px';
            el.style.height = String(height) + 'px';
        } else if (imageScaleResize === 'width' || imageScaleResize === 'scale') {
            el.style.height = 'auto';
            el.style.width = String(width) + 'px';
        } else if (imageScaleResize === 'height') {
            el.style.height = String(height) + 'px';
            el.style.width = 'auto';
        }
    }

    function getBoundingBox(window, el) {
        var rect = el.getBoundingClientRect();
        return {
            left: rect.left + window.pageXOffset,
            top: rect.top + window.pageYOffset,
            width: rect.width,
            height: rect.height
        };
    }
})();

/***/ }),

/***/ "./src/plugins/dragresize_ie.js":
/*!**************************************!*\
  !*** ./src/plugins/dragresize_ie.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * CKEditor plugin: Image2
 * - Show gripper to resize images on IE
 */
(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_dragresize_ie')) {
        return;
    }

    var alignmentsObj = {
        center: 1,
        left: 0,
        right: 2
    };

    /*
     * Set cursor css depend on imageScaleResize config
     **/

    var cursor = {
        both: 'nwse-resize',
        height: 'ns-resize',
        scale: 'nwse-resize',
        width: 'ew-resize'
    };

    var regexPercent = /^\s*(\d+\%)\s*$/i;

    var template = '<img alt="" src="" />';

    CKEDITOR.plugins.add('ae_dragresize_ie', {
        hidpi: true,

        icons: 'image',

        init: function init(editor) {
            var image = widgetDef(editor);

            // Register the widget.
            editor.widgets.add('image', image);
        },

        onLoad: function onLoad() {
            CKEDITOR.addCss('.cke_image_resizer_nwse-resize{' + 'cursor: nwse-resize;' + '}' + '.cke_image_resizer_ns-resize{' + 'cursor: ns-resize;' + '}' + '.cke_image_resizer_nwse-resize{' + 'cursor: nwse-resize;' + '}' + '.cke_image_resizer_ew-resize{' + 'cursor: ew-resize;' + '}' + '.cke_image_nocaption{' +
            // This is to remove unwanted space so resize
            // wrapper is displayed property.
            'line-height:0' + '}' + '.cke_image_resizer{' + 'display:none;' + 'position:absolute;' + 'width:10px;' + 'height:10px;' + 'bottom:-5px;' + 'right:-5px;' + 'background:#000;' + 'outline:1px solid #fff;' +
            // Prevent drag handler from being misplaced (#11207).
            'line-height:0;' + 'cursor:nwse-resize;' + '}' + '.cke_image_resizer_wrapper{' + 'position:relative;' + 'display:inline-block;' + 'line-height:0;' + '}' + '.cke_widget_wrapper:hover .cke_image_resizer,' + '.cke_image_resizer.cke_image_resizing{' + 'display:block' + '}');
        },

        requires: 'widget'
    });

    // Wiget states (forms) depending on alignment and configuration.
    //
    // Non-captioned widget (inline styles)
    // 		ââââââââ¬ââââââââââââââââââââââââââââââââ¬ââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                  âData                         â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                      â<img />                      â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper style=âfloat:leftâ>   â<img style=âfloat:leftâ />   â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper>                      â<p style=âtext-align:centerâ>â
    // 		â      â <p style=âtext-align:centerâ> â  <img />                    â
    // 		â      â   <img />                     â</p>                         â
    // 		â      â </p>                          â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper style=âfloat:rightâ>  â<img style=âfloat:rightâ />  â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ´ââââââââââââââââââââââââââââââââ´ââââââââââââââââââââââââââââââ
    //
    // Non-captioned widget (config.image2_alignClasses defined)
    // 		ââââââââ¬ââââââââââââââââââââââââââââââââ¬ââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                  âData                         â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                      â<img />                      â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper class=âleftâ>         â<img class=âleftâ />         â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper>                      â<p class=âcenterâ>           â
    // 		â      â <p class=âcenterâ>            â <img />                     â
    // 		â      â   <img />                     â</p>                         â
    // 		â      â </p>                          â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper class=ârightâ>        â<img class=ârightâ />        â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ´ââââââââââââââââââââââââââââââââ´ââââââââââââââââââââââââââââââ
    //
    // Captioned widget (inline styles)
    // 		ââââââââ¬âââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                           âData                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                               â<figure />                              â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper style=âfloat:leftâ>            â<figure style=âfloat:leftâ />           â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper style=âtext-align:centerâ>     â<div style=âtext-align:centerâ>         â
    // 		â      â <figure style=âdisplay:inline-blockâ />â <figure style=âdisplay:inline-blockâ />â
    // 		â      â</wrapper>                              â</p>                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper style=âfloat:rightâ>           â<figure style=âfloat:rightâ />          â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ´âââââââââââââââââââââââââââââââââââââââââ´âââââââââââââââââââââââââââââââââââââââââ
    //
    // Captioned widget (config.image2_alignClasses defined)
    // 		ââââââââ¬âââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                           âData                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                               â<figure />                              â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper class=âleftâ>                  â<figure class=âleftâ />                 â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper class=âcenterâ>                â<div class=âcenterâ>                    â
    // 		â      â <figure />                             â <figure />                             â
    // 		â      â</wrapper>                              â</p>                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper class=ârightâ>                 â<figure class=ârightâ />                â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ´âââââââââââââââââââââââââââââââââââââââââ´âââââââââââââââââââââââââââââââââââââââââ
    //
    // @param {CKEDITOR.editor}
    // @returns {Object}
    function widgetDef(editor) {
        editor.config.imageScaleResize = editor.config.imageScaleResize || 'both';

        editor.on('imageAdd', function (imageData) {
            editor.widgets.initOn(imageData.data.el, 'image');
        });

        var alignClasses = editor.config.image2_alignClasses;

        var captionedClass = editor.config.image2_captionedClass;

        return {
            init: function init() {
                var helpers = CKEDITOR.plugins.image2;

                var image = this.parts.image;

                var data = {
                    alt: image.getAttribute('alt') || '',
                    hasCaption: !!this.parts.caption,
                    height: image.getAttribute('height') || '',
                    // Lock ratio is on by default (#10833).
                    lock: this.ready ? helpers.checkHasNaturalRatio(image) : true,
                    src: image.getAttribute('src'),
                    width: image.getAttribute('width') || ''
                };

                // If we used 'a' in widget#parts definition, it could happen that
                // selected element is a child of widget.parts#caption. Since there's no clever
                // way to solve it with CSS selectors, it's done like that. (#11783).
                var link = image.getAscendant('a');

                if (link && this.wrapper.contains(link)) {
                    this.parts.link = link;
                }

                // Depending on configuration, read style/class from element and
                // then remove it. Removed style/class will be set on wrapper in #data listener.
                // Note: Center alignment is detected during upcast, so only left/right cases
                // are checked below.
                if (!data.align) {
                    var alignElement = data.hasCaption ? this.element : image;

                    // Read the initial left/right alignment from the class set on element.
                    if (alignClasses) {
                        if (alignElement.hasClass(alignClasses[0])) {
                            data.align = 'left';
                        } else if (alignElement.hasClass(alignClasses[2])) {
                            data.align = 'right';
                        }

                        if (data.align) {
                            alignElement.removeClass(alignClasses[alignmentsObj[data.align]]);
                        } else {
                            data.align = 'none';
                        }
                    }
                    // Read initial float style from figure/image and then remove it.
                    else {
                            data.align = alignElement.getStyle('float') || 'none';
                            alignElement.removeStyle('float');
                        }
                }

                // Get rid of extra vertical space when there's no caption.
                // It will improve the look of the resizer.
                this.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class']('cke_image_nocaption');

                this.setData(data);

                if (editor.config.image2_disableResizer !== true) {
                    setupResizer(this);
                }
            },

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#addClass
            addClass: function addClass(className) {
                getStyleableElement(this).addClass(className);
            },

            allowedContent: getWidgetAllowedContent(editor),

            // This widget converts style-driven dimensions to attributes.
            contentTransformations: [['img[width]: sizeToAttribute']],

            data: function data() {
                var features = this.features;

                // Image can't be captioned when figcaption is disallowed (#11004).
                if (this.data.hasCaption && !editor.filter.checkFeature(features.caption)) {
                    this.data.hasCaption = false;
                }

                // Image can't be aligned when floating is disallowed (#11004).
                if (this.data.align != 'none' && !editor.filter.checkFeature(features.align)) {
                    this.data.align = 'none';
                }

                // Update widget.parts.link since it will not auto-update unless widget
                // is destroyed and re-inited.
                if (!this.data.link) {
                    if (this.parts.link) {
                        delete this.parts.link;
                    }
                } else {
                    if (!this.parts.link) {
                        this.parts.link = this.parts.image.getParent();
                    }
                }

                this.parts.image.setAttributes({
                    alt: this.data.alt,

                    contenteditable: this.parts.image.getAttribute('contenteditable') ? this.parts.image.getAttribute('contenteditable') : true,

                    // This internal is required by the editor.
                    'data-cke-saved-src': this.data.src,

                    src: this.data.src
                });

                // If shifting non-captioned -> captioned, remove classes
                // related to styles from <img/>.
                if (this.oldData && !this.oldData.hasCaption && this.data.hasCaption) {
                    for (var c in this.data.classes) {
                        this.parts.image.removeClass(c);
                    }
                }

                // Set dimensions of the image according to gathered data.
                // Do it only when the attributes are allowed (#11004).
                if (editor.filter.checkFeature(features.dimension)) {
                    setDimensions(this);
                }

                // Cache current data.
                this.oldData = CKEDITOR.tools.extend({}, this.data);
            },

            downcast: downcastWidgetElement(editor),

            draggable: false,

            // This widget has an editable caption.
            editables: {
                caption: {
                    selector: 'figcaption',
                    allowedContent: 'br em strong sub sup u s; a[!href,target]'
                }
            },

            features: getWidgetFeatures(editor),

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#getClasses
            getClasses: function () {
                var classRegex = new RegExp('^(' + [].concat(captionedClass, alignClasses).join('|') + ')$');

                return function () {
                    var classes = this.repository.parseElementClasses(getStyleableElement(this).getAttribute('class'));

                    // Neither config.image2_captionedClass nor config.image2_alignClasses
                    // do not belong to style classes.
                    for (var c in classes) {
                        if (classRegex.test(c)) {
                            delete classes[c];
                        }
                    }

                    return classes;
                };
            }(),

            getLabel: function getLabel() {
                var label = (this.data.alt || '') + ' ' + this.pathName;

                return label;
            },

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#hasClass
            hasClass: function hasClass(className) {
                return getStyleableElement(this).hasClass(className);
            },

            parts: {
                caption: 'figcaption',
                image: 'img'
            },

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#removeClass
            removeClass: function removeClass(className) {
                getStyleableElement(this).removeClass(className);
            },

            requiredContent: 'img[src,alt]',

            styleableElements: 'img figure',

            // Template of the widget: plain image.
            template: template,

            upcast: upcastWidgetElement(editor)
        };
    }

    /**
     * A set of Enhanced Image (image2) plugin helpers.
     *
     * @class
     * @singleton
     */
    CKEDITOR.plugins.image2 = {
        /**
         * Checks whether the current image ratio matches the natural one
         * by comparing dimensions.
         *
         * @param {CKEDITOR.dom.element} image
         * @returns {Boolean}
         */
        checkHasNaturalRatio: function checkHasNaturalRatio(image) {
            var $ = image.$,
                natural = this.getNatural(image);

            // The reason for two alternative comparisons is that the rounding can come from
            // both dimensions, e.g. there are two cases:
            // 	1. height is computed as a rounded relation of the real height and the value of width,
            //	2. width is computed as a rounded relation of the real width and the value of heigh.
            return Math.round($.clientWidth / natural.width * natural.height) == $.clientHeight || Math.round($.clientHeight / natural.height * natural.width) == $.clientWidth;
        },

        /**
         * Returns natural dimensions of the image. For modern browsers
         * it uses natural(Width|Height). For old ones (IE8) it creates
         * a new image and reads the dimensions.
         *
         * @param {CKEDITOR.dom.element} image
         * @returns {Object}
         */
        getNatural: function getNatural(image) {
            var dimensions;

            if (image.$.naturalWidth) {
                dimensions = {
                    height: image.$.naturalHeigh,
                    width: image.$.naturalWidth
                };
            } else {
                var img = new Image();

                img.src = image.getAttribute('src');

                dimensions = {
                    height: img.heigh,
                    width: img.width
                };
            }

            return dimensions;
        }
    };

    // Returns a function that creates widgets from all <img> and
    // <figure class="{config.image2_captionedClass}"> elements.
    //
    // @param {CKEDITOR.editor} editor
    // @returns {Function}
    function upcastWidgetElement(editor) {
        var isCenterWrapper = centerWrapperChecker(editor);

        var captionedClass = editor.config.image2_captionedClass;

        // @param {CKEDITOR.htmlParser.element} el
        // @param {Object} data
        return function (el, data) {
            var dimensions = {
                height: 1,
                width: 1
            };

            var name = el.name;

            var image;

            // #11110 Don't initialize on pasted fake objects.
            if (el.attributes['data-cke-realelement']) {
                return;
            }

            // If a center wrapper is found, there are 3 possible cases:
            //
            // 1. <div style="text-align:center"><figure>...</figure></div>.
            //    In this case centering is done with a class set on widget.wrapper.
            //    Simply replace centering wrapper with figure (it's no longer necessary).
            //
            // 2. <p style="text-align:center"><img/></p>.
            //    Nothing to do here: <p> remains for styling purposes.
            //
            // 3. <div style="text-align:center"><img/></div>.
            //    Nothing to do here (2.) but that case is only possible in enterMode different
            //    than ENTER_P.
            if (isCenterWrapper(el)) {
                if (name == 'div') {
                    var figure = el.getFirst('figure');

                    // Case #1.
                    if (figure) {
                        el.replaceWith(figure);
                        el = figure;
                    }
                }
                // Cases #2 and #3 (handled transparently)

                // If there's a centering wrapper, save it in data.
                data.align = 'center';

                // Image can be wrapped in link <a><img/></a>.
                image = el.getFirst('img') || el.getFirst('a').getFirst('img');
            }

            // No center wrapper has been found.
            else if (name == 'figure' && el.hasClass(captionedClass)) {
                    image = el.getFirst('img') || el.getFirst('a').getFirst('img');

                    // Upcast linked image like <a><img/></a>.
                } else if (isLinkedOrStandaloneImage(el)) {
                    image = el.name == 'a' ? el.children[0] : el;
                }

            if (!image) {
                return;
            }

            // If there's an image, then cool, we got a widget.
            // Now just remove dimension attributes expressed with %.
            for (var d in dimensions) {
                var dimension = image.attributes[d];

                if (dimension && dimension.match(regexPercent)) {
                    delete image.attributes[d];
                }
            }

            return el;
        };
    }

    // Returns a function which transforms the widget to the external format
    // according to the current configuration.
    //
    // @param {CKEDITOR.editor}
    function downcastWidgetElement(editor) {
        var alignClasses = editor.config.image2_alignClasses;

        // @param {CKEDITOR.htmlParser.element} el
        return function (el) {
            // In case of <a><img/></a>, <img/> is the element to hold
            // inline styles or classes (image2_alignClasses).
            var attrsHolder = el.name == 'a' ? el.getFirst() : el;

            delete attrsHolder.attributes.contenteditable;

            var attrs = attrsHolder.attributes;

            var align = this.data.align;

            // De-wrap the image from resize handle wrapper.
            // Only block widgets have one.
            if (!this.inline) {
                var resizeWrapper = el.getFirst('span');

                if (resizeWrapper) {
                    resizeWrapper.replaceWith(resizeWrapper.getFirst({
                        a: 1,
                        img: 1
                    }));
                }
            }

            if (align && align != 'none') {
                var styles = CKEDITOR.tools.parseCssText(attrs.style || '');

                // When the widget is captioned (<figure>) and internally centering is done
                // with widget's wrapper style/class, in the external data representation,
                // <figure> must be wrapped with an element holding an style/class:
                //
                // 	<div style="text-align:center">
                // 		<figure class="image" style="display:inline-block">...</figure>
                // 	</div>
                // or
                // 	<div class="some-center-class">
                // 		<figure class="image">...</figure>
                // 	</div>
                //
                if (align == 'center' && el.name == 'figure') {
                    el = el.wrapWith(new CKEDITOR.htmlParser.element('div', alignClasses ? {
                        'class': alignClasses[1]
                    } : {
                        style: 'text-align:center'
                    }));
                }

                // If left/right, add float style to the downcasted element.
                else if (align in {
                        left: 1,
                        right: 1
                    }) {
                        if (alignClasses) {
                            attrsHolder.addClass(alignClasses[alignmentsObj[align]]);
                        } else {
                            styles['float'] = align;
                        }
                    }

                // Update element styles.
                if (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {
                    attrs.style = CKEDITOR.tools.writeCssText(styles);
                }
            }

            return el;
        };
    }

    // Returns a function that checks if an element is a centering wrapper.
    //
    // @param {CKEDITOR.editor} editor
    // @returns {Function}
    function centerWrapperChecker(editor) {
        var captionedClass = editor.config.image2_captionedClass;

        var alignClasses = editor.config.image2_alignClasses;

        var validChildren = {
            a: 1,
            figure: 1,
            img: 1
        };

        return function (el) {
            // Wrapper must be either <div> or <p>.
            if (!(el.name in {
                div: 1,
                p: 1
            })) {
                return false;
            }

            var children = el.children;

            // Centering wrapper can have only one child.
            if (children.length !== 1) {
                return false;
            }

            var child = children[0];

            // Only <figure> or <img /> can be first (only) child of centering wrapper,
            // regardless of its type.
            if (!(child.name in validChildren)) {
                return false;
            }

            // If centering wrapper is <p>, only <img /> can be the child.
            //   <p style="text-align:center"><img /></p>
            if (el.name == 'p') {
                if (!isLinkedOrStandaloneImage(child)) {
                    return false;
                }
            }
            // Centering <div> can hold <img/> or <figure>, depending on enterMode.
            else {
                    // If a <figure> is the first (only) child, it must have a class.
                    //   <div style="text-align:center"><figure>...</figure><div>
                    if (child.name == 'figure') {
                        if (!child.hasClass(captionedClass)) {
                            return false;
                        }
                    } else {
                        // Centering <div> can hold <img/> or <a><img/></a> only when enterMode
                        // is ENTER_(BR|DIV).
                        //   <div style="text-align:center"><img /></div>
                        //   <div style="text-align:center"><a><img /></a></div>
                        if (editor.enterMode == CKEDITOR.ENTER_P) {
                            return false;
                        }

                        // Regardless of enterMode, a child which is not <figure> must be
                        // either <img/> or <a><img/></a>.
                        if (!isLinkedOrStandaloneImage(child)) {
                            return false;
                        }
                    }
                }

            // Centering wrapper got to be... centering. If image2_alignClasses are defined,
            // check for centering class. Otherwise, check the style.
            if (alignClasses ? el.hasClass(alignClasses[1]) : CKEDITOR.tools.parseCssText(el.attributes.style || '', true)['text-align'] == 'center') {
                return true;
            }

            return false;
        };
    }

    // Checks whether element is <img/> or <a><img/></a>.
    //
    // @param {CKEDITOR.htmlParser.element}
    function isLinkedOrStandaloneImage(el) {
        if (el.name == 'img') {
            return true;
        } else if (el.name == 'a') {
            return el.children.length == 1 && el.getFirst('img');
        }

        return false;
    }

    // Sets width and height of the widget image according to current widget data.
    //
    // @param {CKEDITOR.plugins.widget} widget
    function setDimensions(widget) {
        var data = widget.data;

        var dimensions = {
            height: data.height,
            width: data.width
        };

        var image = widget.parts.image;

        for (var d in dimensions) {
            if (dimensions[d]) {
                image.setAttribute(d, dimensions[d]);
            } else {
                image.removeAttribute(d);
            }
        }
    }

    // Defines all features related to drag-driven image resizing.
    //
    // @param {CKEDITOR.plugins.widget} widget
    function setupResizer(widget) {
        var editor = widget.editor;

        var editable = editor.editable();

        var doc = editor.document;

        // Store the resizer in a widget for testing (#11004).
        var resizer = widget.resizer = doc.createElement('span');

        resizer.addClass('cke_image_resizer');
        resizer.addClass('cke_image_resizer_' + cursor[editor.config.imageScaleResize]);
        resizer.append(new CKEDITOR.dom.text('\u200B', doc));

        // Inline widgets don't need a resizer wrapper as an image spans the entire widget.
        if (!widget.inline) {
            var imageOrLink = widget.parts.link || widget.parts.image;

            var oldResizeWrapper = imageOrLink.getParent();

            var resizeWrapper = doc.createElement('span');

            resizeWrapper.addClass('cke_image_resizer_wrapper');
            resizeWrapper.append(imageOrLink);
            resizeWrapper.append(resizer);
            widget.element.append(resizeWrapper, true);

            // Remove the old wrapper which could came from e.g. pasted HTML
            // and which could be corrupted (e.g. resizer span has been lost).
            if (oldResizeWrapper.is('span')) {
                oldResizeWrapper.remove();
            }
        } else {
            widget.wrapper.append(resizer);
        }

        // Calculate values of size variables and mouse offsets.
        resizer.on('mousedown', function (evt) {
            var image = widget.parts.image;

            // "factor" can be either 1 or -1. I.e.: For right-aligned images, we need to
            // subtract the difference to get proper width, etc. Without "factor",
            // resizer starts working the opposite way.
            var factor = widget.data.align == 'right' ? -1 : 1;

            // The x-coordinate of the mouse relative to the screen
            // when button gets pressed.
            var startX = evt.data.$.screenX;

            var startY = evt.data.$.screenY;

            // The initial dimensions and aspect ratio of the image.
            var startWidth = image.$.clientWidth;

            var startHeight = image.$.clientHeight;

            var listeners = [];

            // A class applied to editable during resizing.
            var cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');

            var nativeEvt, newWidth, newHeight, updateData;

            var moveDiffX, moveDiffY, moveRatio;

            // Save the undo snapshot first: before resizing.
            editor.fire('saveSnapshot');

            // Mousemove listeners are removed on mouseup.
            attachToDocuments('mousemove', onMouseMove, listeners);

            // Clean up the mousemove listener. Update widget data if valid.
            attachToDocuments('mouseup', onMouseUp, listeners);

            // The entire editable will have the special cursor while resizing goes on.
            editable.addClass(cursorClass);

            // This is to always keep the resizer element visible while resizing.
            resizer.addClass('cke_image_resizing');

            // Attaches an event to a global document if inline editor.
            // Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.
            function attachToDocuments(name, callback, collection) {
                var globalDoc = CKEDITOR.document;

                var listeners = [];

                if (!doc.equals(globalDoc)) {
                    listeners.push(globalDoc.on(name, callback));
                }

                listeners.push(doc.on(name, callback));

                if (collection) {
                    for (var i = listeners.length; i--;) {
                        collection.push(listeners.pop());
                    }
                }
            }

            // This is how variables refer to the geometry.
            // Note: x corresponds to moveOffset, this is the position of mouse
            // Note: o corresponds to [startX, startY].
            //
            // 	+--------------+--------------+
            // 	|              |              |
            // 	|      I       |      II      |
            // 	|              |              |
            // 	+------------- o -------------+ _ _ _
            // 	|              |              |      ^

            // 	|      VI      |     III      |      | moveDiffY
            // 	|              |         x _ _ _ _ _ v
            // 	+--------------+---------|----+
            // 	               |         |
            // 	                <------->
            // 	                moveDiffX
            function onMouseMove(evt) {
                var imageScaleResize = editor.config.imageScaleResize;

                nativeEvt = evt.data.$;

                // This is how far the mouse is from the point the button was pressed.
                moveDiffX = nativeEvt.screenX - startX;
                moveDiffY = startY - nativeEvt.screenY;

                // This is the aspect ratio of the move difference.
                moveRatio = Math.abs(moveDiffX / moveDiffY);

                if (imageScaleResize === 'width' || imageScaleResize === 'both' || imageScaleResize === 'scale') {
                    newWidth = startWidth + factor * moveDiffX;
                }

                if (imageScaleResize === 'height' || imageScaleResize === 'both') {
                    newHeight = startHeight - moveDiffY;
                }

                if (imageScaleResize === 'scale') {
                    newHeight = 'auto';
                }

                newWidth = newWidth || startWidth;
                newHeight = newHeight || startHeight;

                // Don't update attributes if less than 10.
                // This is to prevent images to visually disappear.
                if (newWidth >= 15 && (newHeight >= 15 || newHeight === 'auto')) {
                    image.$.style.width = newWidth + 'px';
                    image.$.style.height = newHeight + 'px';

                    updateData = true;
                } else {
                    updateData = false;
                }
            }

            function onMouseUp() {
                var l;

                while (l = listeners.pop()) {
                    l.removeListener();
                }

                // Restore default cursor by removing special class.
                editable.removeClass(cursorClass);

                // This is to bring back the regular behaviour of the resizer.
                resizer.removeClass('cke_image_resizing');

                if (updateData) {
                    widget.element.$.style.width = newWidth + 'px';
                    widget.element.$.style.height = newHeight + 'px';

                    // Save another undo snapshot: after resizing.
                    editor.fire('saveSnapshot');
                }

                // Don't update data twice or more.
                updateData = false;
            }
        });

        // Change the position of the widget resizer when data changes.
        widget.on('data', function () {
            resizer[widget.data.align == 'right' ? 'addClass' : 'removeClass']('cke_image_resizer_left');
        });

        widget.parts.image.on('click', function () {
            var selection = editor.getSelection();

            if (selection) {
                var element = selection.getStartElement();

                if (element) {
                    var widgetElement = element.findOne('img');

                    if (widgetElement) {
                        var region = element.getClientRect();

                        var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
                        region.left -= scrollPosition.x;
                        region.top += scrollPosition.y;

                        region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

                        editor.fire('editorInteraction', {
                            nativeEvent: event,
                            selectionData: {
                                element: widgetElement,
                                region: region
                            }
                        });
                    }
                }
            }
        });
    }

    // Returns a set of widget allowedContent rules, depending
    // on configurations like config#image2_alignClasses or
    // config#image2_captionedClass.
    //
    // @param {CKEDITOR.editor}
    // @returns {Object}
    function getWidgetAllowedContent(editor) {
        var rules = {
            figcaption: true,
            figure: {
                classes: '!' + editor.config.image2_captionedClass
            },
            img: {
                attributes: '!src,alt,width,height'
            }
        };

        return rules;
    }

    // Returns a set of widget feature rules, depending
    // on editor configuration. Note that the following may not cover
    // all the possible cases since requiredContent supports a single
    // tag only.
    //
    // @param {CKEDITOR.editor}
    // @returns {Object}
    function getWidgetFeatures(editor) {
        var alignClasses = editor.config.image2_alignClasses;

        var features = {
            align: {
                requiredContent: 'img' + (alignClasses ? '(' + alignClasses[0] + ')' : '{float}')
            },
            caption: {
                requiredContent: 'figcaption'
            },
            dimension: {
                requiredContent: 'img[width,height]'
            }
        };

        return features;
    }

    // Returns element which is styled, considering current
    // state of the widget.
    //
    // @see CKEDITOR.plugins.widget#applyStyle
    // @param {CKEDITOR.plugins.widget} widget
    // @returns {CKEDITOR.dom.element}
    function getStyleableElement(widget) {
        return widget.data.hasCaption ? widget.element : widget.parts.image;
    }
})();

CKEDITOR.config.image2_captionedClass = 'image';

/***/ }),

/***/ "./src/plugins/embed.js":
/*!******************************!*\
  !*** ./src/plugins/embed.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_embed')) {
        return;
    }

    var REGEX_HTTP = /^https?/;

    var REGEX_DEFAULT_LINK = /<a href=/;

    var PROVIDERS = ['youtube', 'twitter'];

    CKEDITOR.DEFAULT_AE_EMBED_URL_TPL = 'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';
    CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL = '<div data-ae-embed-url="{url}"></div>';
    CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href="{url}">{url}</a>';
    /**
     * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed
     * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly
     * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to
     * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint
     * may be restricted per domain due to significant traffic.
     *
     * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it
     * to an embedded content.
     *
     * @class CKEDITOR.plugins.ae_embed
     */
    CKEDITOR.plugins.add('ae_embed', {
        requires: 'widget',
        init: function init(editor) {
            var AE_EMBED_URL_TPL = new CKEDITOR.template(editor.config.embedUrlTemplate || CKEDITOR.DEFAULT_AE_EMBED_URL_TPL);
            var AE_EMBED_WIDGET_TPL = new CKEDITOR.template(editor.config.embedWidgetTpl || CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL);
            var AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(editor.config.embedLinkDefaultTpl || CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL);

            // Default function to upcast DOM elements to embed widgets.
            // It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL
            var defaultEmbedWidgetUpcastFn = function defaultEmbedWidgetUpcastFn(element, data) {
                if (element.name === 'div' && element.attributes['data-ae-embed-url']) {
                    data.url = element.attributes['data-ae-embed-url'];

                    return true;
                }
            };

            // Create a embedUrl command that can be invoked to easily embed media URLs
            editor.addCommand('embedUrl', {
                exec: function exec(editor, data) {
                    editor.insertHtml(AE_EMBED_WIDGET_TPL.output({
                        url: data.url
                    }));
                }
            });

            // Create a widget to properly handle embed operations
            editor.widgets.add('ae_embed', {

                mask: true,
                requiredContent: 'div[data-ae-embed-url]',

                /**
                 * Listener to be executed every time the widget's data changes. It takes care of
                 * requesting the embed object to the configured oembed service and render it in
                 * the editor
                 *
                 * @method data
                 * @param {event} event Data change event
                 */
                data: function data(event) {
                    var widget = this;

                    var url = event.data.url;

                    if (url) {
                        CKEDITOR.tools.jsonp(AE_EMBED_URL_TPL, {
                            url: encodeURIComponent(url)
                        }, function (response) {
                            if (response.html) {
                                if (REGEX_DEFAULT_LINK.test(response.html)) {
                                    widget.createATag(url);
                                } else {
                                    widget.element.setHtml(response.html);
                                }
                            } else {
                                widget.createATag(url);
                            }
                        }, function (msg) {
                            widget.createATag(url);
                        });
                    }
                },

                createATag: function createATag(url) {
                    this.editor.execCommand('undo');

                    var currentSelection = this.editor.getSelection().getSelectedElement();

                    var aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({
                        url: url
                    });

                    this.editor.insertHtml(aTagHtml);
                    this.editor.fire('actionPerformed', this);
                },

                /**
                 * Function used to upcast an element to ae_embed widgets.
                 *
                 * @method upcast
                 * @param {CKEDITOR.htmlParser.element} element The element to be checked
                 * @param {Object} data The object that will be passed to the widget
                 */
                upcast: function upcast(element, data) {
                    var embedWidgetUpcastFn = editor.config.embedWidgetUpcastFn || defaultEmbedWidgetUpcastFn;

                    return embedWidgetUpcastFn(element, data);
                }
            });

            // Add a listener to handle paste events and turn links into embed objects
            editor.once('contentDom', function () {
                editor.on('paste', function (event) {
                    var link = event.data.dataValue;

                    if (REGEX_HTTP.test(link)) {
                        event.stop();

                        editor.execCommand('embedUrl', {
                            url: event.data.dataValue
                        });
                    }
                });
            });

            // Add a listener to handle selection change events and properly detect editor
            // interactions on the widgets without messing with widget native selection
            editor.on('selectionChange', function (event) {
                var selection = editor.getSelection();

                if (selection) {
                    var element = selection.getSelectedElement();

                    if (element) {
                        var widgetElement = element.findOne('[data-widget="ae_embed"]');

                        if (widgetElement) {
                            var region = element.getClientRect();

                            var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
                            region.left -= scrollPosition.x;
                            region.top += scrollPosition.y;

                            region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

                            editor.fire('editorInteraction', {
                                nativeEvent: {},
                                selectionData: {
                                    element: widgetElement,
                                    region: region
                                }
                            });
                        }
                    }
                }
            });

            // Add a filter to skip filtering widget elements
            editor.filter.addElementCallback(function (element) {
                if ('data-ae-embed-url' in element.attributes) {
                    return CKEDITOR.FILTER_SKIP_TREE;
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/plugins/imagealignment.js":
/*!***************************************!*\
  !*** ./src/plugins/imagealignment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _selectionTest = __webpack_require__(/*! ../selections/selection-test.js */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_imagealignment')) {
        return;
    }

    /**
     * Enum for supported image alignments
     * @type {Object}
     */
    var IMAGE_ALIGNMENT = {
        CENTER: 'center',
        LEFT: 'left',
        RIGHT: 'right'
    };

    /**
     * Enum values for supported image alignments
     * @type {Array}
     */
    var ALIGN_VALUES = [IMAGE_ALIGNMENT.LEFT, IMAGE_ALIGNMENT.RIGHT, IMAGE_ALIGNMENT.CENTER];

    /**
     * Necessary styles for the center alignment
     * @type {Array.<Object>}
     */
    var CENTERED_IMAGE_STYLE = [{
        name: 'display',
        value: 'block'
    }, {
        name: 'margin-left',
        value: 'auto'
    }, {
        name: 'margin-right',
        value: 'auto'
    }];

    /**
     * Retrieves the alignment value of an image.
     *
     * @param {CKEDITOR.dom.element} image The image element
     * @return {String} The alignment value
     */
    var getImageAlignment = function getImageAlignment(image) {
        var imageAlignment = image.getStyle('float');

        if (!imageAlignment || imageAlignment === 'inherit' || imageAlignment === 'none') {
            imageAlignment = image.getAttribute('align');
        }

        if (!imageAlignment) {
            var centeredImage = CENTERED_IMAGE_STYLE.every(function (style) {
                var styleCheck = image.getStyle(style.name) === style.value;

                if (!styleCheck && style.vendorPrefixes) {
                    styleCheck = style.vendorPrefixes.some(function (vendorPrefix) {
                        return image.getStyle(vendorPrefix + style.name) === style.value;
                    });
                }

                return styleCheck;
            });

            if (!imageAlignment) {
                var imageContainer = image.$.parentNode;

                if (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {
                    CENTERED_IMAGE_STYLE.forEach(function (style) {
                        image.setStyle(style.name, style.value);

                        if (style.vendorPrefixes) {
                            style.vendorPrefixes.forEach(function (vendorPrefix) {
                                image.setStyle(vendorPrefix + style.name, style.value);
                            });
                        }
                    });
                    centeredImage = true;
                }
            }

            imageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;
        }

        return imageAlignment;
    };

    /**
     * Removes the alignment value of an image
     *
     * @param {CKEDITOR.dom.element} image The image element
     * @param {String} imageAlignment The image alignment value to be removed
     */
    var removeImageAlignment = function removeImageAlignment(image, imageAlignment) {
        if (imageAlignment === IMAGE_ALIGNMENT.LEFT || imageAlignment === IMAGE_ALIGNMENT.RIGHT) {
            image.removeStyle('float');

            if (imageAlignment === getImageAlignment(image)) {
                image.removeAttribute('align');
            }
        } else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {
            CENTERED_IMAGE_STYLE.forEach(function (style) {
                image.removeStyle(style.name);

                if (style.vendorPrefixes) {
                    style.vendorPrefixes.forEach(function (vendorPrefix) {
                        image.removeStyle(vendorPrefix + style.name);
                    });
                }
            });

            var imageContainer = image.$.parentNode;

            if (imageContainer.style.textAlign == IMAGE_ALIGNMENT.CENTER) {
                imageContainer.style.textAlign = '';
            }
        }
    };

    /**
     * Sets the alignment value of an image
     *
     * @param {CKEDITOR.dom.element} image The image element
     * @param {String} imageAlignment The image alignment value to be set
     */
    var setImageAlignment = function setImageAlignment(image, imageAlignment) {
        removeImageAlignment(image, getImageAlignment(image));

        if (imageAlignment === IMAGE_ALIGNMENT.LEFT || imageAlignment === IMAGE_ALIGNMENT.RIGHT) {
            image.setStyle('float', imageAlignment);
        } else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {
            CENTERED_IMAGE_STYLE.forEach(function (style) {
                image.setStyle(style.name, style.value);

                if (style.vendorPrefixes) {
                    style.vendorPrefixes.forEach(function (vendorPrefix) {
                        image.setStyle(vendorPrefix + style.name, style.value);
                    });
                }
            });

            var imageContainer = image.$.parentNode;

            imageContainer.style.textAlign = IMAGE_ALIGNMENT.CENTER;
        }
    };

    /**
     * CKEditor plugin which modifies the justify commands to properly align images. This
     * plugin is an excerpt of CKEditor's original image one that can be found at
     * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js
     *
     * @class CKEDITOR.plugins.ae_imagealignment
     */
    CKEDITOR.plugins.add('ae_imagealignment', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'paste' event on the editing area.
         *
         * @method afterInit
         * @param {Object} editor The current editor instance
         */
        afterInit: function afterInit(editor) {
            var self = this;

            ALIGN_VALUES.forEach(function (value) {
                var command = editor.getCommand('justify' + value);

                if (command) {
                    command.on('exec', function (event) {
                        var selectionData = editor.getSelectionData();

                        if (selectionData && _selectionTest2.default.image({ data: { selectionData: selectionData } })) {
                            var image = selectionData.element;

                            var imageAlignment = getImageAlignment(image);

                            if (imageAlignment === value) {
                                removeImageAlignment(image, value);
                            } else {
                                setImageAlignment(image, value);
                            }

                            event.cancel();

                            self.refreshCommands(editor, new CKEDITOR.dom.elementPath(image));
                        }
                    });

                    command.on('refresh', function (event) {
                        var selectionData = {
                            element: event.data.path.lastElement
                        };

                        if (_selectionTest2.default.image({ data: { selectionData: selectionData } })) {
                            var imageAlignment = getImageAlignment(selectionData.element);

                            this.setState(imageAlignment === value ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);

                            event.cancel();
                        }
                    });
                }
            });
        },

        /**
         * Forces a refresh of the modified justify commands. This is needed because the applied changes
         * do not modify the selection, so the refresh is never triggered and the UI does not update
         * properly until the next selectionChange event.
         *
         * @param {CKEDITOR.editor} editor The editor instance
         * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image
         */
        refreshCommands: function refreshCommands(editor, elementPath) {
            ALIGN_VALUES.forEach(function (value) {
                var command = editor.getCommand('justify' + value);

                if (command) {
                    command.refresh(editor, elementPath);
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/plugins/index.js":
/*!******************************!*\
  !*** ./src/plugins/index.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.tabletools = exports.tableresize = exports.selectionkeystrokes = exports.placeholder = exports.pasteimages = exports.imagealignment = exports.embed = exports.dragresizeie = exports.dragresize = exports.autolist = exports.autolink = exports.addimages = undefined;

var _addimages = __webpack_require__(/*! ./addimages */ "./src/plugins/addimages.js");

var _addimages2 = _interopRequireDefault(_addimages);

var _autolink = __webpack_require__(/*! ./autolink */ "./src/plugins/autolink.js");

var _autolink2 = _interopRequireDefault(_autolink);

var _autolist = __webpack_require__(/*! ./autolist */ "./src/plugins/autolist.js");

var _autolist2 = _interopRequireDefault(_autolist);

var _dragresize = __webpack_require__(/*! ./dragresize */ "./src/plugins/dragresize.js");

var _dragresize2 = _interopRequireDefault(_dragresize);

var _dragresize_ie = __webpack_require__(/*! ./dragresize_ie */ "./src/plugins/dragresize_ie.js");

var _dragresize_ie2 = _interopRequireDefault(_dragresize_ie);

var _embed = __webpack_require__(/*! ./embed */ "./src/plugins/embed.js");

var _embed2 = _interopRequireDefault(_embed);

var _imagealignment = __webpack_require__(/*! ./imagealignment */ "./src/plugins/imagealignment.js");

var _imagealignment2 = _interopRequireDefault(_imagealignment);

var _pasteimages = __webpack_require__(/*! ./pasteimages */ "./src/plugins/pasteimages.js");

var _pasteimages2 = _interopRequireDefault(_pasteimages);

var _placeholder = __webpack_require__(/*! ./placeholder */ "./src/plugins/placeholder.js");

var _placeholder2 = _interopRequireDefault(_placeholder);

var _selectionkeystrokes = __webpack_require__(/*! ./selectionkeystrokes */ "./src/plugins/selectionkeystrokes.js");

var _selectionkeystrokes2 = _interopRequireDefault(_selectionkeystrokes);

var _tableresize = __webpack_require__(/*! ./tableresize */ "./src/plugins/tableresize.js");

var _tableresize2 = _interopRequireDefault(_tableresize);

var _tabletools = __webpack_require__(/*! ./tabletools */ "./src/plugins/tabletools.js");

var _tabletools2 = _interopRequireDefault(_tabletools);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.addimages = _addimages2.default;
exports.autolink = _autolink2.default;
exports.autolist = _autolist2.default;
exports.dragresize = _dragresize2.default;
exports.dragresizeie = _dragresize_ie2.default;
exports.embed = _embed2.default;
exports.imagealignment = _imagealignment2.default;
exports.pasteimages = _pasteimages2.default;
exports.placeholder = _placeholder2.default;
exports.selectionkeystrokes = _selectionkeystrokes2.default;
exports.tableresize = _tableresize2.default;
exports.tabletools = _tabletools2.default;

/***/ }),

/***/ "./src/plugins/pasteimages.js":
/*!************************************!*\
  !*** ./src/plugins/pasteimages.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_pasteimages')) {
        return;
    }

    /**
     * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded
     * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners
     * returns `false` or cancels the event, the images won't be added to the content. Otherwise,
     * an event `imageAdd` will be fired with the inserted element into the editable area.
     *
     * @class CKEDITOR.plugins.ae_pasteimages
     */

    /**
     * Fired before adding images to the editor.
     * @event beforeImageAdd
     * @param {Array} imageFiles Array of image files
     */

    /**
     * Fired when an image is being added to the editor successfully.
     *
     * @event imageAdd
     * @param {CKEDITOR.dom.element} el The created image with src as Data URI
     * @param {File} file The image file
     */

    CKEDITOR.plugins.add('ae_pasteimages', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'paste' event on the editing area.
         *
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'paste', this._onPaste, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * The function creates an img element with src the image data as Data URI.
         * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed
         * params will be:
         * - `el` - the created img element
         * - `file` - the original pasted data
         *
         * @method _onPaste
         * @protected
         * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor
         */
        _onPaste: function _onPaste(event) {
            if (event.data.$.clipboardData) {
                var pastedData = event.data.$.clipboardData.items[0];
                var editor = event.listenerData.editor;

                if (pastedData.type.indexOf('image') === 0) {
                    var reader = new FileReader();
                    var imageFile = pastedData.getAsFile();

                    reader.onload = function (event) {
                        var result = editor.fire('beforeImageAdd', {
                            imageFiles: imageFile
                        });

                        if (!!result) {
                            var el = CKEDITOR.dom.element.createFromHtml('<img src="' + event.target.result + '">');

                            editor.insertElement(el);

                            var imageData = {
                                el: el,
                                file: imageFile
                            };

                            editor.fire('imageAdd', imageData);
                        }
                    }.bind(this);

                    reader.readAsDataURL(imageFile);
                }
            }
        }
    });
})();

/***/ }),

/***/ "./src/plugins/placeholder.js":
/*!************************************!*\
  !*** ./src/plugins/placeholder.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_placeholder')) {
        return;
    }

    /**
     * CKEDITOR enterMode config set the behavior of paragraphs
     * When the content is empty CKEDITOR keeps the enterMode string
     * into the content
     * @property
     * @type {string}
     */
    var brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';

    var enterModeEmptyValue = {
        1: ['<p>' + brFiller + '</p>'],
        2: ['', ' ', brFiller],
        3: ['<div>' + brFiller + '</div>']
    };

    /**
     * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there
     * is no content to the editor, there will be hint to the user.
     *
     * @class CKEDITOR.plugins.ae_placeholder
     */

    /**
     * Specifies the placeholder class which have to be aded to editor when editor is not focused.
     *
     * @attribute placeholderClass
     * @default ae_placeholder
     * @type String
     */

    CKEDITOR.plugins.add('ae_placeholder', {

        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'blur' and 'contentDom' event listeners.
         *
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.on('blur', this._checkEmptyData, this);
            editor.on('change', this._checkEmptyData, this);
            editor.on('focus', this._removePlaceholderClass, this);
            editor.once('contentDom', this._checkEmptyData, this);
        },

        /**
         * Removes any data from the content and adds a class,
         * specified by the "placeholderClass" config attribute.
         *
         * @protected
         * @method _checkEmptyData
         * @param {CKEDITOR.dom.event} editor event, fired from CKEditor
         */
        _checkEmptyData: function _checkEmptyData(event) {
            var editor = event.editor;

            var editableNode = editor.editable();

            var innerHtml = editableNode.$.innerHTML.trim();

            var isEmpty = enterModeEmptyValue[editor.config.enterMode].some(function (element) {
                return innerHtml === element;
            });

            if (isEmpty) {
                editableNode.addClass(editor.config.placeholderClass);
            } else {
                editableNode.removeClass(editor.config.placeholderClass);
            }
        },

        /**
         * Remove placeholder class when input is focused
         *
         * @protected
         * @method _removePlaceholderClass
         + @param {CKEDITOR.dom.event} editor event, fired from CKEditor
         */
        _removePlaceholderClass: function _removePlaceholderClass(event) {
            var editor = event.editor;

            var editorNode = new CKEDITOR.dom.element(editor.element.$);

            editorNode.removeClass(editor.config.placeholderClass);
        }
    });
})();

/***/ }),

/***/ "./src/plugins/selectionkeystrokes.js":
/*!********************************************!*\
  !*** ./src/plugins/selectionkeystrokes.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_selectionkeystrokes')) {
        return;
    }

    /**
     * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This
     * can be used to trigger different reactions in the editor.
     *
     * @class CKEDITOR.plugins.ae_selectionkeystrokes
     */
    CKEDITOR.plugins.add('ae_selectionkeystrokes', {
        requires: 'ae_selectionregion',

        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function adds a command to the editor for every defined selectionKeystroke
         * in the configuration and maps it to the specified keystroke.
         *
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            if (editor.config.selectionKeystrokes) {
                editor.config.selectionKeystrokes.forEach(function (selectionKeystroke) {
                    var command = new CKEDITOR.command(editor, {
                        exec: function exec(editor) {
                            editor.fire('editorInteraction', {
                                manualSelection: selectionKeystroke.selection,
                                nativeEvent: {},
                                selectionData: editor.getSelectionData()
                            });
                        }
                    });

                    var commandName = 'selectionKeystroke' + selectionKeystroke.selection;

                    editor.addCommand(commandName, command);
                    editor.setKeystroke(selectionKeystroke.keys, commandName);
                });
            }
        }
    });
})();

/***/ }),

/***/ "./src/plugins/tableresize.js":
/*!************************************!*\
  !*** ./src/plugins/tableresize.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_tableresize')) {
        return;
    }

    var pxUnit = CKEDITOR.tools.cssLength;

    function getWidth(el) {
        return CKEDITOR.env.ie ? el.$.clientWidth : parseInt(el.getComputedStyle('width'), 10);
    }

    function getBorderWidth(element, side) {
        var computed = element.getComputedStyle('border-' + side + '-width'),
            borderMap = {
            thin: '0px',
            medium: '1px',
            thick: '2px'
        };

        if (computed.indexOf('px') < 0) {
            // look up keywords
            if (computed in borderMap && element.getComputedStyle('border-style') != 'none') {
                computed = borderMap[computed];
            } else {
                computed = 0;
            }
        }

        return parseInt(computed, 10);
    }

    // Gets the table row that contains the most columns.
    function getMasterPillarRow(table) {
        var $rows = table.$.rows,
            maxCells = 0,
            cellsCount,
            $elected,
            $tr;

        for (var i = 0, len = $rows.length; i < len; i++) {
            $tr = $rows[i];
            cellsCount = $tr.cells.length;

            if (cellsCount > maxCells) {
                maxCells = cellsCount;
                $elected = $tr;
            }
        }

        return $elected;
    }

    function buildTableColumnPillars(table) {
        var pillars = [],
            pillarIndex = -1,
            rtl = table.getComputedStyle('direction') === 'rtl';

        // Get the raw row element that cointains the most columns.
        var $tr = getMasterPillarRow(table);

        // Get the tbody element and position, which will be used to set the
        // top and bottom boundaries.
        var tbody = new CKEDITOR.dom.element(table.$.tBodies[0]),
            tbodyPosition = tbody.getDocumentPosition();

        // Loop thorugh all cells, building pillars after each one of them.
        for (var i = 0, len = $tr.cells.length; i < len; i++) {
            // Both the current cell and the successive one will be used in the
            // pillar size calculation.
            var td = new CKEDITOR.dom.element($tr.cells[i]),
                nextTd = $tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);

            pillarIndex += td.$.colSpan || 1;

            // Calculate the pillar boundary positions.
            var pillarLeft, pillarRight, pillarWidth;

            var x = td.getDocumentPosition().x;

            // Calculate positions based on the current cell.
            rtl ? pillarRight = x + getBorderWidth(td, 'left') : pillarLeft = x + td.$.offsetWidth - getBorderWidth(td, 'right');

            // Calculate positions based on the next cell, if available.
            if (nextTd) {
                x = nextTd.getDocumentPosition().x;

                rtl ? pillarLeft = x + nextTd.$.offsetWidth - getBorderWidth(nextTd, 'right') : pillarRight = x + getBorderWidth(nextTd, 'left');
            }
            // Otherwise calculate positions based on the table (for last cell).
            else {
                    x = table.getDocumentPosition().x;

                    rtl ? pillarLeft = x : pillarRight = x + table.$.offsetWidth;
                }

            pillarWidth = Math.max(pillarRight - pillarLeft, 4);

            // The pillar should reflects exactly the shape of the hovered
            // column border line.
            pillars.push({
                table: table,
                index: pillarIndex,
                x: pillarLeft,
                y: tbodyPosition.y,
                width: pillarWidth,
                height: tbody.$.offsetHeight,
                rtl: rtl
            });
        }

        return pillars;
    }

    function getPillarAtPosition(pillars, positionX) {
        for (var i = 0, len = pillars.length; i < len; i++) {
            var pillar = pillars[i];

            if (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {
                return pillar;
            }
        }

        return null;
    }

    function cancel(evt) {
        (evt.data || evt).preventDefault();
    }

    function columnResizer(editor, pillar) {
        var document, resizer, resizing, startOffset, currentShift;

        var leftSideCells, rightSideCells, leftShiftBoundary, rightShiftBoundary;

        function detach() {
            resizer.removeListener('mouseup', onMouseUp);
            resizer.removeListener('mousedown', onMouseDown);
            resizer.removeListener('mousemove', onMouseMove);
        }

        function resizeStart() {
            // Before starting to resize, figure out which cells to change
            // and the boundaries of this resizing shift.

            var columnIndex = pillar.index,
                map = CKEDITOR.tools.buildTableMap(pillar.table),
                leftColumnCells = [],
                rightColumnCells = [],
                leftMinSize = Number.MAX_VALUE,
                rightMinSize = leftMinSize,
                rtl = pillar.rtl;

            for (var i = 0, len = map.length; i < len; i++) {
                var row = map[i],
                    leftCell = row[columnIndex + (rtl ? 1 : 0)],
                    rightCell = row[columnIndex + (rtl ? 0 : 1)];

                leftCell = leftCell && new CKEDITOR.dom.element(leftCell);
                rightCell = rightCell && new CKEDITOR.dom.element(rightCell);

                if (!leftCell || !rightCell || !leftCell.equals(rightCell)) {
                    leftCell && (leftMinSize = Math.min(leftMinSize, getWidth(leftCell)));
                    rightCell && (rightMinSize = Math.min(rightMinSize, getWidth(rightCell)));

                    leftColumnCells.push(leftCell);
                    rightColumnCells.push(rightCell);
                }
            }

            // Cache the list of cells to be resized.
            leftSideCells = leftColumnCells;
            rightSideCells = rightColumnCells;

            // Cache the resize limit boundaries.
            leftShiftBoundary = pillar.x - leftMinSize;
            rightShiftBoundary = pillar.x + rightMinSize;

            resizer.setOpacity(0.5);
            startOffset = parseInt(resizer.getStyle('left'), 10);
            currentShift = 0;
            resizing = 1;

            resizer.on('mousemove', onMouseMove);

            // Prevent the native drag behavior otherwise 'mousemove' won't fire.
            document.on('dragstart', cancel);
        }

        function resizeEnd() {
            resizing = 0;

            resizer.setOpacity(0);

            currentShift && resizeColumn();

            var table = pillar.table;
            setTimeout(function () {
                table.removeCustomData('_cke_table_pillars');
            }, 0);

            document.removeListener('dragstart', cancel);
        }

        function resizeColumn() {
            var rtl = pillar.rtl,
                cellsCount = rtl ? rightSideCells.length : leftSideCells.length;

            // Perform the actual resize to table cells, only for those by side of the pillar.
            for (var i = 0; i < cellsCount; i++) {
                var leftCell = leftSideCells[i],
                    rightCell = rightSideCells[i],
                    table = pillar.table;

                // Defer the resizing to avoid any interference among cells.
                CKEDITOR.tools.setTimeout(function (leftCell, leftOldWidth, rightCell, rightOldWidth, tableWidth, sizeShift) {
                    // 1px is the minimum valid width (#11626).
                    leftCell && leftCell.setStyle('width', pxUnit(Math.max(leftOldWidth + sizeShift, 1)));
                    rightCell && rightCell.setStyle('width', pxUnit(Math.max(rightOldWidth - sizeShift, 1)));

                    // If we're in the last cell, we need to resize the table as well
                    if (tableWidth) {
                        table.setStyle('width', pxUnit(tableWidth + sizeShift * (rtl ? -1 : 1)));
                    }
                }, 0, this, [leftCell, leftCell && getWidth(leftCell), rightCell, rightCell && getWidth(rightCell), (!leftCell || !rightCell) && getWidth(table) + getBorderWidth(table, 'left') + getBorderWidth(table, 'right'), currentShift]);
            }
        }

        function onMouseDown(evt) {
            cancel(evt);

            resizeStart();

            document.on('mouseup', onMouseUp, this);
        }

        function onMouseUp(evt) {
            evt.removeListener();

            resizeEnd();
        }

        function onMouseMove(evt) {
            move(evt.data.getPageOffset().x);
        }

        document = editor.document;

        resizer = CKEDITOR.dom.element.createFromHtml('<div data-cke-temp=1 contenteditable=false unselectable=on ' + 'style="position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' + 'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10"></div>', document);

        // Clean DOM when editor is destroyed.
        editor.on('destroy', function () {
            detach();

            resizer.remove();
        });

        // Place the resizer after body to prevent it
        // from being editable.
        document.getDocumentElement().append(resizer);

        resizer.setStyles({
            width: pxUnit(pillar.width),
            height: pxUnit(pillar.height),
            left: pxUnit(pillar.x),
            top: pxUnit(pillar.y)
        });

        resizer.on('mousedown', onMouseDown, this);

        document.getBody().setStyle('cursor', 'col-resize');

        // Display the resizer to receive events but don't show it,
        // only change the cursor to resizable shape.
        resizer.show();

        var move = this.move = function (posX) {
            var resizerNewPosition = posX - Math.round(resizer.$.offsetWidth / 2);

            if (isResizing) {
                if (resizerNewPosition === leftShiftBoundary || resizerNewPosition === rightShiftBoundary) {
                    return;
                }

                resizerNewPosition = Math.max(resizerNewPosition, leftShiftBoundary);
                resizerNewPosition = Math.min(resizerNewPosition, rightShiftBoundary);

                currentShift = resizerNewPosition - startOffset;
            }

            resizer.setStyle('left', pxUnit(resizerNewPosition));
        };

        var destroy = this.destroy = function () {
            detach();

            document.getBody().setStyle('cursor', 'auto');

            resizer.remove();
        };

        var isResizing = this.isResizing = function () {
            return resizing;
        };
    }

    function clearPillarsCache(evt) {
        var target = evt.data.getTarget();

        if (evt.name === 'mouseout') {
            // Bypass interal mouse move.
            if (!target.is('table')) {
                return;
            }

            var dest = new CKEDITOR.dom.element(evt.data.$.relatedTarget || evt.data.$.toElement);
            while (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {
                dest = dest.getParent();
            }
            if (!dest || dest.equals(target)) {
                return;
            }
        }

        target.getAscendant('table', 1).removeCustomData('_cke_table_pillars');
        evt.removeListener();
    }

    CKEDITOR.plugins.add('ae_tableresize', {
        requires: 'ae_tabletools',

        init: function init(editor) {
            editor.on('contentDom', function () {
                var resizer,
                    editable = editor.editable();

                // In Classic editor it is better to use document
                // instead of editable so event will work below body.
                editable.attachListener(editable.isInline() ? editable : editor.document, 'mousemove', function (evt) {
                    evt = evt.data;

                    var target = evt.getTarget();

                    // FF may return document and IE8 some UFO (object with no nodeType property...)
                    // instead of an element (#11823).
                    if (target.type !== CKEDITOR.NODE_ELEMENT) {
                        return;
                    }

                    var pageX = evt.getPageOffset().x;

                    // If we're already attached to a pillar, simply move the
                    // resizer.
                    if (resizer) {
                        if (resizer.isResizing()) {
                            resizer.move(pageX);

                            cancel(evt);

                            return;
                        } else {
                            resizer.destroy();

                            resizer = null;
                        }
                    }

                    // Considering table, tr, td, tbody but nothing else.
                    var table, pillars;

                    if (!target.is('table') && !target.getAscendant('tbody', 1)) {
                        return;
                    }

                    table = target.getAscendant('table', 1);

                    // Make sure the table we found is inside the container
                    // (eg. we should not use tables the editor is embedded within)
                    if (!editor.editable().contains(table)) {
                        return;
                    }

                    if (!(pillars = table.getCustomData('_cke_table_pillars'))) {
                        // Cache table pillars calculation result.
                        table.setCustomData('_cke_table_pillars', pillars = buildTableColumnPillars(table));
                        table.on('mouseout', clearPillarsCache);
                        table.on('mousedown', clearPillarsCache);
                    }

                    var pillar = getPillarAtPosition(pillars, pageX);

                    if (pillar) {
                        resizer = new columnResizer(editor, pillar);
                    }
                });
            });
        }
    });
})();

/***/ }),

/***/ "./src/plugins/tabletools.js":
/*!***********************************!*\
  !*** ./src/plugins/tabletools.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

(function () {
	'use strict';

	if (CKEDITOR.plugins.get('ae_tabletools')) {
		return;
	}

	var cellNodeRegex = /^(?:td|th)$/;

	function getSelectedCells(selection) {
		var ranges = selection.getRanges();
		var retval = [];
		var database = {};

		function moveOutOfCellGuard(node) {
			// Apply to the first cell only.
			if (retval.length > 0) return;

			// If we are exiting from the first </td>, then the td should definitely be
			// included.
			if (node.type == CKEDITOR.NODE_ELEMENT && cellNodeRegex.test(node.getName()) && !node.getCustomData('selected_cell')) {
				CKEDITOR.dom.element.setMarker(database, node, 'selected_cell', true);
				retval.push(node);
			}
		}

		for (var i = 0; i < ranges.length; i++) {
			var range = ranges[i];

			if (range.collapsed) {
				// Walker does not handle collapsed ranges yet - fall back to old API.
				var startNode = range.getCommonAncestor();
				var nearestCell = startNode.getAscendant('td', true) || startNode.getAscendant('th', true);
				if (nearestCell) retval.push(nearestCell);
			} else {
				var walker = new CKEDITOR.dom.walker(range);
				var node;
				walker.guard = moveOutOfCellGuard;

				while (node = walker.next()) {
					// If may be possible for us to have a range like this:
					// <td>^1</td><td>^2</td>
					// The 2nd td shouldn't be included.
					//
					// So we have to take care to include a td we've entered only when we've
					// walked into its children.

					if (node.type != CKEDITOR.NODE_ELEMENT || !node.is(CKEDITOR.dtd.table)) {
						var parent = node.getAscendant('td', true) || node.getAscendant('th', true);
						if (parent && !parent.getCustomData('selected_cell')) {
							CKEDITOR.dom.element.setMarker(database, parent, 'selected_cell', true);
							retval.push(parent);
						}
					}
				}
			}
		}

		CKEDITOR.dom.element.clearAllMarkers(database);

		return retval;
	}

	function getFocusElementAfterDelCells(cellsToDelete) {
		var i = 0,
		    last = cellsToDelete.length - 1,
		    database = {},
		    cell,
		    focusedCell,
		    tr;

		while (cell = cellsToDelete[i++]) {
			CKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);
		} // 1.first we check left or right side focusable cell row by row;
		i = 0;
		while (cell = cellsToDelete[i++]) {
			if ((focusedCell = cell.getPrevious()) && !focusedCell.getCustomData('delete_cell') || (focusedCell = cell.getNext()) && !focusedCell.getCustomData('delete_cell')) {
				CKEDITOR.dom.element.clearAllMarkers(database);
				return focusedCell;
			}
		}

		CKEDITOR.dom.element.clearAllMarkers(database);

		// 2. then we check the toppest row (outside the selection area square) focusable cell
		tr = cellsToDelete[0].getParent();
		if (tr = tr.getPrevious()) return tr.getLast();

		// 3. last we check the lowerest  row focusable cell
		tr = cellsToDelete[last].getParent();
		if (tr = tr.getNext()) return tr.getChild(0);

		return null;
	}

	function insertRow(selection, insertBefore) {
		var cells = getSelectedCells(selection),
		    firstCell = cells[0],
		    table = firstCell.getAscendant('table'),
		    doc = firstCell.getDocument(),
		    startRow = cells[0].getParent(),
		    startRowIndex = startRow.$.rowIndex,
		    lastCell = cells[cells.length - 1],
		    endRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1,
		    endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]),
		    rowIndex = insertBefore ? startRowIndex : endRowIndex,
		    row = insertBefore ? startRow : endRow;

		var map = CKEDITOR.tools.buildTableMap(table),
		    cloneRow = map[rowIndex],
		    nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1],
		    width = map[0].length;

		var newRow = doc.createElement('tr');
		for (var i = 0; cloneRow[i] && i < width; i++) {
			var cell;
			// Check whether there's a spanning row here, do not break it.
			if (cloneRow[i].rowSpan > 1 && nextRow && cloneRow[i] == nextRow[i]) {
				cell = cloneRow[i];
				cell.rowSpan += 1;
			} else {
				cell = new CKEDITOR.dom.element(cloneRow[i]).clone();
				cell.removeAttribute('rowSpan');
				cell.appendBogus();
				newRow.append(cell);
				cell = cell.$;
			}

			i += cell.colSpan - 1;
		}

		insertBefore ? newRow.insertBefore(row) : newRow.insertAfter(row);
	}

	function deleteRows(selectionOrRow) {
		if (selectionOrRow instanceof CKEDITOR.dom.selection) {
			var cells = getSelectedCells(selectionOrRow),
			    firstCell = cells[0],
			    table = firstCell.getAscendant('table'),
			    map = CKEDITOR.tools.buildTableMap(table),
			    startRow = cells[0].getParent(),
			    startRowIndex = startRow.$.rowIndex,
			    lastCell = cells[cells.length - 1],
			    endRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1,
			    rowsToDelete = [];

			// Delete cell or reduce cell spans by checking through the table map.
			for (var i = startRowIndex; i <= endRowIndex; i++) {
				var mapRow = map[i],
				    row = new CKEDITOR.dom.element(table.$.rows[i]);

				for (var j = 0; j < mapRow.length; j++) {
					var cell = new CKEDITOR.dom.element(mapRow[j]),
					    cellRowIndex = cell.getParent().$.rowIndex;

					if (cell.$.rowSpan == 1) cell.remove();
					// Row spanned cell.
					else {
							// Span row of the cell, reduce spanning.
							cell.$.rowSpan -= 1;
							// Root row of the cell, root cell to next row.
							if (cellRowIndex == i) {
								var nextMapRow = map[i + 1];
								nextMapRow[j - 1] ? cell.insertAfter(new CKEDITOR.dom.element(nextMapRow[j - 1])) : new CKEDITOR.dom.element(table.$.rows[i + 1]).append(cell, 1);
							}
						}

					j += cell.$.colSpan - 1;
				}

				rowsToDelete.push(row);
			}

			var rows = table.$.rows;

			// Where to put the cursor after rows been deleted?
			// 1. Into next sibling row if any;
			// 2. Into previous sibling row if any;
			// 3. Into table's parent element if it's the very last row.
			var cursorPosition = new CKEDITOR.dom.element(rows[endRowIndex + 1] || (startRowIndex > 0 ? rows[startRowIndex - 1] : null) || table.$.parentNode);

			for (i = rowsToDelete.length; i >= 0; i--) {
				deleteRows(rowsToDelete[i]);
			}return cursorPosition;
		} else if (selectionOrRow instanceof CKEDITOR.dom.element) {
			table = selectionOrRow.getAscendant('table');

			if (table.$.rows.length == 1) table.remove();else selectionOrRow.remove();
		}

		return null;
	}

	function getCellColIndex(cell, isStart) {
		var row = cell.getParent(),
		    rowCells = row.$.cells;

		var colIndex = 0;
		for (var i = 0; i < rowCells.length; i++) {
			var mapCell = rowCells[i];
			colIndex += isStart ? 1 : mapCell.colSpan;
			if (mapCell == cell.$) break;
		}

		return colIndex - 1;
	}

	function getColumnsIndices(cells, isStart) {
		var retval = isStart ? Infinity : 0;
		for (var i = 0; i < cells.length; i++) {
			var colIndex = getCellColIndex(cells[i], isStart);
			if (isStart ? colIndex < retval : colIndex > retval) retval = colIndex;
		}
		return retval;
	}

	function insertColumn(selection, insertBefore) {
		var cells = getSelectedCells(selection),
		    firstCell = cells[0],
		    table = firstCell.getAscendant('table'),
		    startCol = getColumnsIndices(cells, 1),
		    lastCol = getColumnsIndices(cells),
		    colIndex = insertBefore ? startCol : lastCol;

		var map = CKEDITOR.tools.buildTableMap(table),
		    cloneCol = [],
		    nextCol = [],
		    height = map.length;

		for (var i = 0; i < height; i++) {
			cloneCol.push(map[i][colIndex]);
			var nextCell = insertBefore ? map[i][colIndex - 1] : map[i][colIndex + 1];
			nextCol.push(nextCell);
		}

		for (i = 0; i < height; i++) {
			var cell;

			if (!cloneCol[i]) continue;

			// Check whether there's a spanning column here, do not break it.
			if (cloneCol[i].colSpan > 1 && nextCol[i] == cloneCol[i]) {
				cell = cloneCol[i];
				cell.colSpan += 1;
			} else {
				cell = new CKEDITOR.dom.element(cloneCol[i]).clone();
				cell.removeAttribute('colSpan');
				cell.appendBogus();
				cell[insertBefore ? 'insertBefore' : 'insertAfter'].call(cell, new CKEDITOR.dom.element(cloneCol[i]));
				cell = cell.$;
			}

			i += cell.rowSpan - 1;
		}
	}

	function deleteColumns(selectionOrCell) {
		var cells = getSelectedCells(selectionOrCell),
		    firstCell = cells[0],
		    lastCell = cells[cells.length - 1],
		    table = firstCell.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    startColIndex,
		    endColIndex,
		    rowsToDelete = [];

		// Figure out selected cells' column indices.
		for (var i = 0, rows = map.length; i < rows; i++) {
			for (var j = 0, cols = map[i].length; j < cols; j++) {
				if (map[i][j] == firstCell.$) startColIndex = j;
				if (map[i][j] == lastCell.$) endColIndex = j;
			}
		}

		// Delete cell or reduce cell spans by checking through the table map.
		for (i = startColIndex; i <= endColIndex; i++) {
			for (j = 0; j < map.length; j++) {
				var mapRow = map[j],
				    row = new CKEDITOR.dom.element(table.$.rows[j]),
				    cell = new CKEDITOR.dom.element(mapRow[i]);

				if (cell.$) {
					if (cell.$.colSpan == 1) cell.remove();
					// Reduce the col spans.
					else cell.$.colSpan -= 1;

					j += cell.$.rowSpan - 1;

					if (!row.$.cells.length) rowsToDelete.push(row);
				}
			}
		}

		var firstRowCells = table.$.rows[0] && table.$.rows[0].cells;

		// Where to put the cursor after columns been deleted?
		// 1. Into next cell of the first row if any;
		// 2. Into previous cell of the first row if any;
		// 3. Into table's parent element;
		var cursorPosition = new CKEDITOR.dom.element(firstRowCells[startColIndex] || (startColIndex ? firstRowCells[startColIndex - 1] : table.$.parentNode));

		// Delete table rows only if all columns are gone (do not remove empty row).
		if (rowsToDelete.length == rows) table.remove();

		return cursorPosition;
	}

	function insertCell(selection, insertBefore) {
		var startElement = selection.getStartElement();
		var cell = startElement.getAscendant('td', 1) || startElement.getAscendant('th', 1);

		if (!cell) return;

		// Create the new cell element to be added.
		var newCell = cell.clone();
		newCell.appendBogus();

		if (insertBefore) newCell.insertBefore(cell);else newCell.insertAfter(cell);
	}

	function deleteCells(selectionOrCell) {
		if (selectionOrCell instanceof CKEDITOR.dom.selection) {
			var cellsToDelete = getSelectedCells(selectionOrCell);
			var table = cellsToDelete[0] && cellsToDelete[0].getAscendant('table');
			var cellToFocus = getFocusElementAfterDelCells(cellsToDelete);

			for (var i = cellsToDelete.length - 1; i >= 0; i--) {
				deleteCells(cellsToDelete[i]);
			}if (cellToFocus) placeCursorInCell(cellToFocus, true);else if (table) table.remove();
		} else if (selectionOrCell instanceof CKEDITOR.dom.element) {
			var tr = selectionOrCell.getParent();
			if (tr.getChildCount() == 1) tr.remove();else selectionOrCell.remove();
		}
	}

	// Remove filler at end and empty spaces around the cell content.
	function trimCell(cell) {
		var bogus = cell.getBogus();
		bogus && bogus.remove();
		cell.trim();
	}

	function placeCursorInCell(cell, placeAtEnd) {
		var docInner = cell.getDocument(),
		    docOuter = CKEDITOR.document;

		// Fixing "Unspecified error" thrown in IE10 by resetting
		// selection the dirty and shameful way (#10308).
		// We can not apply this hack to IE8 because
		// it causes error (#11058).
		if (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {
			docOuter.focus();
			docInner.focus();
		}

		var range = new CKEDITOR.dom.range(docInner);
		if (!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)) {
			range.selectNodeContents(cell);
			range.collapse(placeAtEnd ? false : true);
		}
		range.select(true);
	}

	function cellInRow(tableMap, rowIndex, cell) {
		var oRow = tableMap[rowIndex];
		if (typeof cell == 'undefined') return oRow;

		for (var c = 0; oRow && c < oRow.length; c++) {
			if (cell.is && oRow[c] == cell.$) return c;else if (c == cell) return new CKEDITOR.dom.element(oRow[c]);
		}
		return cell.is ? -1 : null;
	}

	function cellInCol(tableMap, colIndex) {
		var oCol = [];
		for (var r = 0; r < tableMap.length; r++) {
			var row = tableMap[r];
			oCol.push(row[colIndex]);

			// Avoid adding duplicate cells.
			if (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;
		}
		return oCol;
	}

	function mergeCells(selection, mergeDirection, isDetect) {
		var cells = getSelectedCells(selection);

		// Invalid merge request if:
		// 1. In batch mode despite that less than two selected.
		// 2. In solo mode while not exactly only one selected.
		// 3. Cells distributed in different table groups (e.g. from both thead and tbody).
		var commonAncestor;
		if ((mergeDirection ? cells.length != 1 : cells.length < 2) || (commonAncestor = selection.getCommonAncestor()) && commonAncestor.type == CKEDITOR.NODE_ELEMENT && commonAncestor.is('table')) return false;

		var cell,
		    firstCell = cells[0],
		    table = firstCell.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    mapHeight = map.length,
		    mapWidth = map[0].length,
		    startRow = firstCell.getParent().$.rowIndex,
		    startColumn = cellInRow(map, startRow, firstCell);

		if (mergeDirection) {
			var targetCell;
			try {
				var rowspan = parseInt(firstCell.getAttribute('rowspan'), 10) || 1;
				var colspan = parseInt(firstCell.getAttribute('colspan'), 10) || 1;

				targetCell = map[mergeDirection == 'up' ? startRow - rowspan : mergeDirection == 'down' ? startRow + rowspan : startRow][mergeDirection == 'left' ? startColumn - colspan : mergeDirection == 'right' ? startColumn + colspan : startColumn];
			} catch (er) {
				return false;
			}

			// 1. No cell could be merged.
			// 2. Same cell actually.
			if (!targetCell || firstCell.$ == targetCell) return false;

			// Sort in map order regardless of the DOM sequence.
			cells[mergeDirection == 'up' || mergeDirection == 'left' ? 'unshift' : 'push'](new CKEDITOR.dom.element(targetCell));
		}

		// Start from here are merging way ignorance (merge up/right, batch merge).
		var doc = firstCell.getDocument(),
		    lastRowIndex = startRow,
		    totalRowSpan = 0,
		    totalColSpan = 0,

		// Use a documentFragment as buffer when appending cell contents.
		frag = !isDetect && new CKEDITOR.dom.documentFragment(doc),
		    dimension = 0;

		for (var i = 0; i < cells.length; i++) {
			cell = cells[i];

			var tr = cell.getParent(),
			    cellFirstChild = cell.getFirst(),
			    colSpan = cell.$.colSpan,
			    rowSpan = cell.$.rowSpan,
			    rowIndex = tr.$.rowIndex,
			    colIndex = cellInRow(map, rowIndex, cell);

			// Accumulated the actual places taken by all selected cells.
			dimension += colSpan * rowSpan;
			// Accumulated the maximum virtual spans from column and row.
			totalColSpan = Math.max(totalColSpan, colIndex - startColumn + colSpan);
			totalRowSpan = Math.max(totalRowSpan, rowIndex - startRow + rowSpan);

			if (!isDetect) {
				// Trim all cell fillers and check to remove empty cells.
				if (trimCell(cell), cell.getChildren().count()) {
					// Merge vertically cells as two separated paragraphs.
					if (rowIndex != lastRowIndex && cellFirstChild && !(cellFirstChild.isBlockBoundary && cellFirstChild.isBlockBoundary({ br: 1 }))) {
						var last = frag.getLast(CKEDITOR.dom.walker.whitespaces(true));
						if (last && !(last.is && last.is('br'))) frag.append('br');
					}

					cell.moveChildren(frag);
				}
				i ? cell.remove() : cell.setHtml('');
			}
			lastRowIndex = rowIndex;
		}

		if (!isDetect) {
			frag.moveChildren(firstCell);

			firstCell.appendBogus();

			if (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');else firstCell.$.rowSpan = totalRowSpan;

			if (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');else firstCell.$.colSpan = totalColSpan;

			// Swip empty <tr> left at the end of table due to the merging.
			var trs = new CKEDITOR.dom.nodeList(table.$.rows),
			    count = trs.count();

			for (i = count - 1; i >= 0; i--) {
				var tailTr = trs.getItem(i);
				if (!tailTr.$.cells.length) {
					tailTr.remove();
					count++;
					continue;
				}
			}

			return firstCell;
		}
		// Be able to merge cells only if actual dimension of selected
		// cells equals to the caculated rectangle.
		else {
				return totalRowSpan * totalColSpan == dimension;
			}
	}

	function verticalSplitCell(selection, isDetect) {
		var cells = getSelectedCells(selection);
		if (cells.length > 1) return false;else if (isDetect) return true;

		var cell = cells[0],
		    tr = cell.getParent(),
		    table = tr.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    rowIndex = tr.$.rowIndex,
		    colIndex = cellInRow(map, rowIndex, cell),
		    rowSpan = cell.$.rowSpan,
		    newCell,
		    newRowSpan,
		    newCellRowSpan,
		    newRowIndex;

		if (rowSpan > 1) {
			newRowSpan = Math.ceil(rowSpan / 2);
			newCellRowSpan = Math.floor(rowSpan / 2);
			newRowIndex = rowIndex + newRowSpan;
			var newCellTr = new CKEDITOR.dom.element(table.$.rows[newRowIndex]),
			    newCellRow = cellInRow(map, newRowIndex),
			    candidateCell;

			newCell = cell.clone();

			// Figure out where to insert the new cell by checking the vitual row.
			for (var c = 0; c < newCellRow.length; c++) {
				candidateCell = newCellRow[c];
				// Catch first cell actually following the column.
				if (candidateCell.parentNode == newCellTr.$ && c > colIndex) {
					newCell.insertBefore(new CKEDITOR.dom.element(candidateCell));
					break;
				} else {
					candidateCell = null;
				}
			}

			// The destination row is empty, append at will.
			if (!candidateCell) newCellTr.append(newCell);
		} else {
			newCellRowSpan = newRowSpan = 1;

			newCellTr = tr.clone();
			newCellTr.insertAfter(tr);
			newCellTr.append(newCell = cell.clone());

			var cellsInSameRow = cellInRow(map, rowIndex);
			for (var i = 0; i < cellsInSameRow.length; i++) {
				cellsInSameRow[i].rowSpan++;
			}
		}

		newCell.appendBogus();

		cell.$.rowSpan = newRowSpan;
		newCell.$.rowSpan = newCellRowSpan;
		if (newRowSpan == 1) cell.removeAttribute('rowSpan');
		if (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');

		return newCell;
	}

	function horizontalSplitCell(selection, isDetect) {
		var cells = getSelectedCells(selection);
		if (cells.length > 1) return false;else if (isDetect) return true;

		var cell = cells[0],
		    tr = cell.getParent(),
		    table = tr.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    rowIndex = tr.$.rowIndex,
		    colIndex = cellInRow(map, rowIndex, cell),
		    colSpan = cell.$.colSpan,
		    newCell,
		    newColSpan,
		    newCellColSpan;

		if (colSpan > 1) {
			newColSpan = Math.ceil(colSpan / 2);
			newCellColSpan = Math.floor(colSpan / 2);
		} else {
			newCellColSpan = newColSpan = 1;
			var cellsInSameCol = cellInCol(map, colIndex);
			for (var i = 0; i < cellsInSameCol.length; i++) {
				cellsInSameCol[i].colSpan++;
			}
		}
		newCell = cell.clone();
		newCell.insertAfter(cell);
		newCell.appendBogus();

		cell.$.colSpan = newColSpan;
		newCell.$.colSpan = newCellColSpan;
		if (newColSpan == 1) cell.removeAttribute('colSpan');
		if (newCellColSpan == 1) newCell.removeAttribute('colSpan');

		return newCell;
	}

	CKEDITOR.plugins.add('ae_tabletools', {
		init: function init(editor) {
			var lang = editor.lang.table;

			function createDef(def) {
				return CKEDITOR.tools.extend(def || {}, {
					contextSensitive: 1,
					refresh: function refresh(editor, path) {
						this.setState(path.contains({ td: 1, th: 1 }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
					}
				});
			}
			function addCmd(name, def) {
				var cmd = editor.getCommand(name);

				if (cmd) {
					return;
				}

				cmd = editor.addCommand(name, def);
				editor.addFeature(cmd);
			}

			addCmd('rowDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					placeCursorInCell(deleteRows(selection));
				}
			}));

			addCmd('rowInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertRow(selection, true);
				}
			}));

			addCmd('rowInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertRow(selection);
				}
			}));

			addCmd('columnDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					var element = deleteColumns(selection);
					element && placeCursorInCell(element, true);
				}
			}));

			addCmd('columnInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertColumn(selection, true);
				}
			}));

			addCmd('columnInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertColumn(selection);
				}
			}));

			addCmd('cellDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					deleteCells(selection);
				}
			}));

			addCmd('cellMerge', createDef({
				allowedContent: 'td[colspan,rowspan]',
				requiredContent: 'td[colspan,rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection()), true);
				}
			}));

			addCmd('cellMergeRight', createDef({
				allowedContent: 'td[colspan]',
				requiredContent: 'td[colspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection(), 'right'), true);
				}
			}));

			addCmd('cellMergeDown', createDef({
				allowedContent: 'td[rowspan]',
				requiredContent: 'td[rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection(), 'down'), true);
				}
			}));

			addCmd('cellVerticalSplit', createDef({
				allowedContent: 'td[rowspan]',
				requiredContent: 'td[rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(verticalSplitCell(editor.getSelection()));
				}
			}));

			addCmd('cellHorizontalSplit', createDef({
				allowedContent: 'td[colspan]',
				requiredContent: 'td[colspan]',
				exec: function exec(editor) {
					placeCursorInCell(horizontalSplitCell(editor.getSelection()));
				}
			}));

			addCmd('cellInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertCell(selection, true);
				}
			}));

			addCmd('cellInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertCell(selection);
				}
			}));
		},

		getSelectedCells: getSelectedCells

	});
})();

/**
 * Create a two-dimension array that reflects the actual layout of table cells,
 * with cell spans, with mappings to the original td elements.
 *
 * @param {CKEDITOR.dom.element} table
 * @member CKEDITOR.tools
 */
CKEDITOR.tools.buildTableMap = function (table) {
	var aRows = table.$.rows;

	// Row and Column counters.
	var r = -1;

	var aMap = [];

	for (var i = 0; i < aRows.length; i++) {
		r++;
		!aMap[r] && (aMap[r] = []);

		var c = -1;

		for (var j = 0; j < aRows[i].cells.length; j++) {
			var oCell = aRows[i].cells[j];

			c++;
			while (aMap[r][c]) {
				c++;
			}var iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;
			var iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;

			for (var rs = 0; rs < iRowSpan; rs++) {
				if (!aMap[r + rs]) aMap[r + rs] = [];

				for (var cs = 0; cs < iColSpan; cs++) {
					aMap[r + rs][c + cs] = aRows[i].cells[j];
				}
			}

			c += iColSpan - 1;
		}
	}
	return aMap;
};

/***/ }),

/***/ "./src/selections/selection-arrowbox.js":
/*!**********************************************!*\
  !*** ./src/selections/selection-arrowbox.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tableSelectionGetArrowBoxClasses = function tableSelectionGetArrowBoxClasses() {
    return 'ae-arrow-box ae-arrow-box-bottom';
};

var SelectionGetArrowBoxClasses = {
    table: tableSelectionGetArrowBoxClasses
};

exports.default = SelectionGetArrowBoxClasses;

/***/ }),

/***/ "./src/selections/selection-position.js":
/*!**********************************************!*\
  !*** ./src/selections/selection-position.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Default gutter value for toolbar positioning
var DEFAULT_GUTTER = {
    left: 0,
    top: 0
};

/**
 * Centers a Toolbar according to given rectangle
 *
 * @method centerToolbar
 * @param {Object} toolbar The toolbar to be centered
 * @param {Object} rect The rectangle according to which the Toolbar will be centered
 */
var centerToolbar = function centerToolbar(toolbar, rect) {
    var toolbarNode = _reactDom2.default.findDOMNode(toolbar);

    var nativeEditor = toolbar.props.editor.get('nativeEditor');
    var uiNode = nativeEditor.config.uiNode || document.body;
    var uiNodeStyle = getComputedStyle(uiNode);
    var uiNodeMarginLeft = parseInt(uiNodeStyle.getPropertyValue('margin-left'), 10);
    var uiNodeMarginRight = parseInt(uiNodeStyle.getPropertyValue('margin-right'), 10);
    var totalWidth = uiNodeMarginLeft + uiNode.clientWidth + uiNodeMarginRight;

    var halfNodeWidth = toolbarNode.offsetWidth / 2;
    var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();

    var gutter = toolbar.props.gutter || DEFAULT_GUTTER;

    var widgetXY = toolbar.getWidgetXYPoint(rect.left + rect.width / 2 - scrollPosition.x, rect.top + scrollPosition.y, CKEDITOR.SELECTION_BOTTOM_TO_TOP);

    var endPosition = [rect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x, rect.top - toolbarNode.offsetHeight + scrollPosition.y - gutter.top];

    if (endPosition[0] < 0) {
        endPosition[0] = 0;
    } else if (endPosition[0] > totalWidth - toolbarNode.offsetWidth) {
        endPosition[0] = totalWidth - toolbarNode.offsetWidth;
    }

    toolbar.moveToPoint(widgetXY, endPosition);
};

/**
 * Sets the position of a toolbar according to the position of the selected image
 *
 * @method imageSelectionSetPosition
 * @param {Object} payload Payload, should contain the selection data for retrieving the
 * client rectangle of the selected image
 * @return {Boolean} True, in all cases
 */
var imageSelectionSetPosition = function imageSelectionSetPosition(payload) {
    var selectionData = payload.selectionData ? payload.selectionData : payload.editorEvent ? payload.editorEvent.data.selectionData : null;

    if (selectionData && selectionData.element) {
        centerToolbar(this, selectionData.element.getClientRect());

        return true;
    }
};

/**
 * Sets the position of a toolbar according to the position of the selected image
 *
 * @method tableSelectionSetPosition
 * @param {Object} payload Object, which contains the selection data for retrieving the
 * client rectangle of the selected table
 * @return {Boolean} True, in all cases
 */
var tableSelectionSetPosition = function tableSelectionSetPosition(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');
    var uiNode = nativeEditor.config.uiNode;

    var scrollTop = uiNode ? uiNode.scrollTop : 0;

    var table = new CKEDITOR.Table(nativeEditor).getFromSelection();
    var rect = table.getClientRect();
    rect.top += scrollTop;

    centerToolbar(this, rect);

    return true;
};

var SelectionSetPosition = {
    image: imageSelectionSetPosition,
    table: tableSelectionSetPosition
};

exports.default = SelectionSetPosition;

/***/ }),

/***/ "./src/selections/selection-test.js":
/*!******************************************!*\
  !*** ./src/selections/selection-test.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var _isRangeAtElementEnd = function _isRangeAtElementEnd(range, element) {
    // Finding if a range is at the end of an element is somewhat tricky due to how CKEditor handles
    // ranges. It might depend on wether a source node inside the element is selected or not. For now,
    // we need to cover the following cases:
    //
    // - The text length of the element is the same as the endOffset of the range
    // - Both start and end containers match the element and the start and end offsets are 1

    return element.getText().length === range.endOffset || element.equals(range.startContainer) && element.equals(range.endContainer) && range.startOffset === range.endOffset && range.endOffset === 1;
};

var embedSelectionTest = function embedSelectionTest(payload) {
    var selectionData = payload.data.selectionData;

    return !!(selectionData.element && selectionData.element.getAttribute('data-widget') === 'ae_embed');
};

var linkSelectionTest = function linkSelectionTest(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');
    var range = nativeEditor.getSelection().getRanges()[0];

    var element;

    return !!(nativeEditor.isSelectionEmpty() && (element = new CKEDITOR.Link(nativeEditor).getFromSelection()) && element.getText().length !== range.endOffset && !element.isReadOnly() && !_isRangeAtElementEnd(range, element));
};

var imageSelectionTest = function imageSelectionTest(payload) {
    var selectionData = payload.data.selectionData;

    return !!(selectionData.element && selectionData.element.getName() === 'img' && !selectionData.element.isReadOnly());
};

var textSelectionTest = function textSelectionTest(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');

    var selectionEmpty = nativeEditor.isSelectionEmpty();

    var selectionData = payload.data.selectionData;

    return !!(!selectionData.element && selectionData.region && !selectionEmpty && !nativeEditor.getSelection().getCommonAncestor().isReadOnly());
};

var tableSelectionTest = function tableSelectionTest(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');

    var table = new CKEDITOR.Table(nativeEditor);
    var element = table.getFromSelection();

    return !!(element && table.isEditable(element));
};

var SelectionTest = {
    embed: embedSelectionTest,
    image: imageSelectionTest,
    link: linkSelectionTest,
    table: tableSelectionTest,
    text: textSelectionTest
};

exports.default = SelectionTest;

/***/ }),

/***/ "./src/selections/selections.js":
/*!**************************************!*\
  !*** ./src/selections/selections.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _selectionArrowbox = __webpack_require__(/*! ./selection-arrowbox.js */ "./src/selections/selection-arrowbox.js");

var _selectionArrowbox2 = _interopRequireDefault(_selectionArrowbox);

var _selectionPosition = __webpack_require__(/*! ./selection-position.js */ "./src/selections/selection-position.js");

var _selectionPosition2 = _interopRequireDefault(_selectionPosition);

var _selectionTest = __webpack_require__(/*! ./selection-test.js */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Selections = [{
    name: 'embed',
    buttons: ['embedRemove', 'embedEdit'],
    test: _selectionTest2.default.embed
}, {
    name: 'link',
    buttons: ['linkEdit'],
    test: _selectionTest2.default.link
}, {
    name: 'image',
    buttons: ['imageLeft', 'imageCenter', 'imageRight'],
    setPosition: _selectionPosition2.default.image,
    test: _selectionTest2.default.image
}, {
    name: 'text',
    buttons: {
        full: [['Font', 'FontSize', 'separator', 'bold', 'italic', 'underline', 'strike', 'separator', 'link'], ['paragraphAlign', 'separator', 'ul', 'ol', 'separator', 'h1', 'h2', 'separator', 'indentBlock', 'outdentBlock', 'separator', 'TextColor', 'BGColor', 'separator', 'code', 'quote', 'separator', 'removeFormat']],
        simple: ['styles', 'bold', 'italic', 'underline', 'link']
    },
    test: _selectionTest2.default.text
}, {
    name: 'table',
    buttons: ['tableHeading', 'tableRow', 'tableColumn', 'tableCell', 'tableRemove'],
    getArrowBoxClasses: _selectionArrowbox2.default.table,
    setPosition: _selectionPosition2.default.table,
    test: _selectionTest2.default.table
}];

exports.default = Selections;

/***/ }),

/***/ "react":
/*!****************************************************************************************************!*\
  !*** external {"root":"React","commonjs2":"react","commonjs":"react","amd":"react","umd":"react"} ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_react__;

/***/ }),

/***/ "react-dom":
/*!***********************************************************************************************************************!*\
  !*** external {"root":"ReactDOM","commonjs2":"react-dom","commonjs":"react-dom","amd":"react-dom","umd":"react-dom"} ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BbGxveUVkaXRvci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9saWIvY2tlZGl0b3IvY2tlZGl0b3IuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9ub2RlX21vZHVsZXMvY3JlYXRlLXJlYWN0LWNsYXNzL2ZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9ub2RlX21vZHVsZXMvY3JlYXRlLXJlYWN0LWNsYXNzL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL2VtcHR5RnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvZW1wdHlPYmplY3QuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaW52YXJpYW50LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vbm9kZV9tb2R1bGVzL2ZianMvbGliL3dhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9ub2RlX21vZHVsZXMvb2JqZWN0LWFzc2lnbi9pbmRleC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2NoZWNrUHJvcFR5cGVzLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvZmFjdG9yeVdpdGhUeXBlQ2hlY2tlcnMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NjcmlwdHMvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvYWRhcHRlci9jb3JlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2FkYXB0ZXIvbWFpbi5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLWFjdGlvbi1zdHlsZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9idXR0b24tY29tbWFuZC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLWtleXN0cm9rZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLXByb3BzLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLXN0eWxlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYmFzZS90b29sYmFyLWJ1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL3dpZGdldC1hcnJvdy1ib3guanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL3dpZGdldC1kcm9wZG93bi5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2Uvd2lkZ2V0LWV4Y2x1c2l2ZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL3dpZGdldC1wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWJvbGQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tY2FtZXJhLWltYWdlLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWNhbWVyYS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1jb2RlLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWNvbW1hbmQtbGlzdC1pdGVtLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tZHJvcGRvd24uanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tZW1iZWQtZWRpdC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1lbWJlZC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1oMS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1oMi5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1obGluZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1pbWFnZS1hbGlnbi1jZW50ZXIuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW1hZ2UtYWxpZ24tbGVmdC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1pbWFnZS1hbGlnbi1yaWdodC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1pbWFnZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1pbmRlbnQtYmxvY2suanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taXRhbGljLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstYXV0b2NvbXBsZXRlLWxpc3QuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tbGluay1lZGl0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstdGFyZ2V0LWVkaXQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tbGluay5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1vbC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1vdXRkZW50LWJsb2NrLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1sZWZ0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1yaWdodC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1wYXJhZ3JhcGgtY2VudGVyLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXBhcmFncmFwaC1qdXN0aWZ5LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXF1b3RlLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXJlbW92ZS1mb3JtYXQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc2VwYXJhdG9yLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXN0cmlrZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC1oZWFkZXIuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3R5bGVzLWxpc3QtaXRlbS1yZW1vdmUuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3R5bGVzLWxpc3QtaXRlbS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3Vic2NyaXB0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXN1cGVyc2NyaXB0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLWNlbGwuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtY29sdW1uLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLWVkaXQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtaGVhZGluZy5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi10YWJsZS1yZW1vdmUuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtcm93LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhcmdldC1saXN0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXR3aXR0ZXIuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdWwuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdW5kZXJsaW5lLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9tYWluLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL3Rvb2xiYXJzL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhcnMvdG9vbGJhci1hZGQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhcnMvdG9vbGJhci1zdHlsZXMuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdWlicmlkZ2UvYnV0dG9uLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL3VpYnJpZGdlL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdWlicmlkZ2UvbWVudS1idXR0b24uanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdWlicmlkZ2UvbWVudS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy91aWJyaWRnZS9wYW5lbC1tZW51LWJ1dHRvbi5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy91aWJyaWRnZS9yaWNoY29tYm8uanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdWlicmlkZ2UvdWlicmlkZ2UuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29yZS9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb3JlL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvcmUvbGluay5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb3JlL3BsdWdpbnMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29yZS9zZWxlY3Rpb24tcmVnaW9uLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvcmUvdGFibGUuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29yZS90b29scy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb3JlL3VpY29yZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9vb3AvYXR0cmlidXRlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL29vcC9iYXNlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL29vcC9sYW5nLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL29vcC9vb3AuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9hZGRpbWFnZXMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9hdXRvbGluay5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL2F1dG9saXN0LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvZHJhZ3Jlc2l6ZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL2RyYWdyZXNpemVfaWUuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9lbWJlZC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL2ltYWdlYWxpZ25tZW50LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9wYXN0ZWltYWdlcy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL3BsYWNlaG9sZGVyLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvc2VsZWN0aW9ua2V5c3Ryb2tlcy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL3RhYmxlcmVzaXplLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvdGFibGV0b29scy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi1hcnJvd2JveC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi1wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi10ZXN0LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3NlbGVjdGlvbnMvc2VsZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCIsXCJ1bWRcIjpcInJlYWN0XCJ9Iiwid2VicGFjazovL0FsbG95RWRpdG9yL2V4dGVybmFsIHtcInJvb3RcIjpcIlJlYWN0RE9NXCIsXCJjb21tb25qczJcIjpcInJlYWN0LWRvbVwiLFwiY29tbW9uanNcIjpcInJlYWN0LWRvbVwiLFwiYW1kXCI6XCJyZWFjdC1kb21cIixcInVtZFwiOlwicmVhY3QtZG9tXCJ9Il0sIm5hbWVzIjpbIkFsbG95RWRpdG9yIiwid2luZG93IiwiQ0tFRElUT1IiLCJkaXNhYmxlQXV0b0lubGluZSIsIkNvcmUiLCJjb25maWciLCJzdXBlcmNsYXNzIiwiY29uc3RydWN0b3IiLCJjYWxsIiwiaW5pdGlhbGl6ZXIiLCJub2RlIiwiZ2V0Iiwic2V0QXR0cmlidXRlIiwiZWRpdG9yIiwiaW5saW5lIiwiYWxsb3dlZENvbnRlbnQiLCJ0b29sYmFycyIsInJlbW92ZVBsdWdpbnMiLCJleHRyYVBsdWdpbnMiLCJwbGFjZWhvbGRlckNsYXNzIiwicGFzdGVGcm9tV29yZFJlbW92ZVN0eWxlcyIsInBhc3RlRnJvbVdvcmRSZW1vdmVGb250U3R5bGVzIiwic2VsZWN0aW9uS2V5c3Ryb2tlcyIsIm1peCIsImVudiIsImllIiwiZWRnZSIsInJlcGxhY2UiLCJvbmNlIiwiX2FkZFJlYWRPbmx5TGlua0NsaWNrTGlzdGVuZXIiLCJlZGl0YWJsZSIsImFkZENsYXNzIiwiYmluZCIsIl9lZGl0b3IiLCJsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMiLCJfcmVuZGVyVUkiLCJkZXN0cnVjdG9yIiwiX2Rlc3Ryb3llZCIsIl9lZGl0b3JVSUVsZW1lbnQiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibmF0aXZlRWRpdG9yIiwicmVtb3ZlQ2xhc3MiLCJfY2xlYXJTZWxlY3Rpb25zIiwiZGVzdHJveSIsImlzTVNTZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJkb2N1bWVudCIsIiQiLCJzZWxlY3Rpb24iLCJlbXB0eSIsImdldFdpbmRvdyIsInJlbW92ZUFsbFJhbmdlcyIsIm9uIiwiX2RlZmF1bHRSZWFkT25seUNsaWNrRm4iLCJldmVudCIsIm1vdXNlRXZlbnQiLCJkYXRhIiwiaGFzQ3RybEtleSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hvdWxkT3BlbiIsInJlYWRPbmx5IiwicHJldmVudERlZmF1bHQiLCJsaXN0ZW5lckRhdGEiLCJmaXJlIiwiY2tFbGVtZW50IiwiZG9tIiwiZWxlbWVudFBhdGgiLCJnZXRUYXJnZXQiLCJsaW5rIiwibGFzdEVsZW1lbnQiLCJocmVmIiwiYXR0cmlidXRlcyIsInZhbHVlIiwidGFyZ2V0IiwiX3JlZGlyZWN0TGluayIsIl9nZXROYXRpdmVFZGl0b3IiLCJvcGVuIiwibG9jYXRpb24iLCJlZGl0b3JVSUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidWlOb2RlIiwiYm9keSIsImFwcGVuZENoaWxkIiwiX21haW5VSSIsInJlbmRlciIsIl90b0VsZW1lbnQiLCJpc1N0cmluZyIsImdldEVsZW1lbnRCeUlkIiwiX3ZhbGlkYXRlQWxsb3dlZENvbnRlbnQiLCJpc09iamVjdCIsImlzQm9vbGVhbiIsIl92YWxpZGF0ZVRvb2xiYXJzIiwiaXNOdWxsIiwiQVRUUlMiLCJ2YWxpZGF0b3IiLCJ3cml0ZU9uY2UiLCJlbmFibGVDb250ZW50RWRpdGFibGUiLCJldmVudHNEZWxheSIsImlzTnVtYmVyIiwibW9kZSIsImdldHRlciIsImlzQXJyYXkiLCJrZXlzIiwiQ1RSTCIsIlNISUZUIiwic3JjTm9kZSIsInNldHRlciIsImFkZCIsImJ1dHRvbnMiLCJ0YWJJbmRleCIsInN0eWxlcyIsInNlbGVjdGlvbnMiLCJpbXBsZW1lbnRPbiIsIkJSSURHRV9CVVRUT05TIiwiaW1wbGVtZW50RXZlbnRUYXJnZXQiLCJnZXRCYXNlUGF0aCIsInBhdGgiLCJBTExPWUVESVRPUl9CQVNFUEFUSCIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJtYXRjaCIsInNyYyIsInJlZ2V4QmFzZVBhdGgiLCJpbmRleE9mIiwic2xpY2UiLCJjYWxsYmFjayIsImlzRnVuY3Rpb24iLCJTdHJpbmdzIiwic2V0VGltZW91dCIsIl9sYW5nUmVzb3VyY2VSZXF1ZXN0ZWQiLCJsYW5ndWFnZXMiLCJ1c2VyTGFuZ3VhZ2UiLCJuYXZpZ2F0b3IiLCJsYW5ndWFnZSIsInBhcnRzIiwidG9Mb3dlckNhc2UiLCJsYW5nIiwibG9jYWxlIiwic2NyaXB0TG9hZGVyIiwibG9hZCIsImdldFVybCIsImxvYWRlZCIsInJlc291cmNlIiwiYmFzZVBhdGgiLCJ0aW1lc3RhbXAiLCJjaGFyQXQiLCJ0ZXN0IiwiZ2V0QnV0dG9ucyIsInJlZHVjZSIsImFjYyIsInZhbCIsImNvbmNhdCIsInJlZ2lzdGVyQnJpZGdlQnV0dG9uIiwiYnV0dG9uTmFtZSIsInBsdWdpbk5hbWUiLCJwdXNoIiwiT09QIiwiZXh0ZW5kIiwiQXR0cmlidXRlIiwiQnV0dG9ucyIsIkxhbmciLCJTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMiLCJTZWxlY3Rpb25zIiwiU2VsZWN0aW9uU2V0UG9zaXRpb24iLCJTZWxlY3Rpb25UZXN0IiwiVG9vbGJhcnMiLCJpc0FjdGl2ZSIsImdldFN0eWxlIiwicHJvcHMiLCJsb2NrIiwicmVtb3ZlU3R5bGUiLCJhcHBseVN0eWxlIiwidW5sb2NrIiwiV3JhcHBlZENvbXBvbmVudCIsImNvbW1hbmQiLCJnZXRDb21tYW5kIiwic3RhdGUiLCJUUklTVEFURV9PTiIsImV4ZWNDb21tYW5kIiwibW9kaWZpZXNTZWxlY3Rpb24iLCJzZWxlY3Rpb25DaGFuZ2UiLCJrZXlzdHJva2UiLCJjb21tYW5kTmFtZSIsIm5hbWUiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJleGVjIiwia2V5c3Ryb2tlRm4iLCJmbiIsImFkZENvbW1hbmQiLCJfZGVmYXVsdEtleXN0cm9rZUNvbW1hbmQiLCJrZXlzdHJva2VIYW5kbGVyIiwia2V5c3Ryb2tlcyIsInNldEtleXN0cm9rZSIsImJ1dHRvbkNmZyIsInJlc3VsdCIsInRvb2xzIiwibWVyZ2UiLCJzdGF0ZUNsYXNzZXMiLCJpc0Rpc2FibGVkIiwic3R5bGUiLCJzcGxpdCIsImN1cnJlbnRNZW1iZXIiLCJwcm9wZXJ0eSIsInNoaWZ0IiwiX3N0eWxlIiwiY2hlY2tBY3RpdmUiLCJhZGRpdGlvbmFsUHJvcHMiLCJsaXN0IiwiYnV0dG9uIiwiQXJyYXkiLCJnZXRUb29sYmFyQnV0dG9ucyIsImJ1dHRvblByb3BzIiwidG9vbGJhckJ1dHRvbnMiLCJmaWx0ZXJFeGNsdXNpdmUiLCJmaWx0ZXIiLCJtYXAiLCJrZXkiLCJjZmciLCJpbmRleCIsIm1lcmdlRXhjbHVzaXZlUHJvcHMiLCJ0YWJLZXkiLCJ0cmlnZ2VyIiwibWVyZ2VEcm9wZG93blByb3BzIiwiYXJyb3dCb3hDbGFzc2VzIiwiZ2V0SW50ZXJhY3Rpb25Qb2ludCIsImRpcmVjdGlvbiIsIlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NIiwiZHJvcGRvd25UcmlnZ2VyIiwiaXRlbURyb3Bkb3duIiwibmV4dFByb3BzIiwic2V0U3RhdGUiLCJvYmoiLCJpdGVtS2V5IiwiZXhwYW5kZWQiLCJ0b2dnbGVEcm9wZG93biIsInRvZ2dsZURpcmVjdGlvbiIsIm1vdmVGb2N1cyIsImZpbmRET01Ob2RlIiwiZm9jdXMiLCJpdGVtRXhjbHVzaXZlIiwiaXRlbXMiLCJpdGVtIiwiY2FuY2VsRXhjbHVzaXZlIiwicmVuZGVyRXhjbHVzaXZlIiwicmVxdWVzdEV4Y2x1c2l2ZSIsIkRJUkVDVElPTl9OT05FIiwiRElSRUNUSU9OX05FWFQiLCJESVJFQ1RJT05fUFJFViIsIkFDVElPTl9OT05FIiwiQUNUSU9OX01PVkVfRk9DVVMiLCJBQ1RJT05fRElTTUlTU19GT0NVUyIsIl9yZWZyZXNoIiwiX2lzVmFsaWRUYXJnZXQiLCJfZGVzY2VuZGFudHMiLCJhY3RpdmVEZXNjZW5kYW50RWwiLCJfYWN0aXZlRGVzY2VuZGFudCIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1c0ZpcnN0Q2hpbGQiLCJzdG9wUHJvcGFnYXRpb24iLCJhY3Rpb24iLCJfZ2V0Rm9jdXNBY3Rpb24iLCJ0eXBlIiwiX21vdmVGb2N1cyIsIm9uRGlzbWlzcyIsIl9nZXRGb2N1c01vdmVEaXJlY3Rpb24iLCJkaXNtaXNzQWN0aW9uIiwiX2dldEZvY3VzRGlzbWlzc0FjdGlvbiIsImRpc21pc3MiLCJmb2N1c01vdmVEaXJlY3Rpb24iLCJfaXNWYWxpZEtleSIsImtleUNvZGUiLCJkaXNtaXNzTmV4dCIsImRpc21pc3NQcmV2IiwiY2lyY3VsYXIiLCJuZXh0IiwicHJldiIsInNoaWZLZXkiLCJlbGVtZW50IiwidGFnTmFtZSIsIm51bURlc2NlbmRhbnRzIiwiZGVzY2VuZGFudCIsIm1heCIsIm1pbiIsImRvbU5vZGUiLCJkZXNjZW5kYW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcmlvcml0eURlc2NlbmRhbnRzIiwicHJvdG90eXBlIiwiZm9yRWFjaCIsImRhdGFUYWJJbmRleCIsImdldEF0dHJpYnV0ZSIsInNvcnQiLCJhIiwiYiIsInRvSW50Iiwic29tZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiX2FuaW1hdGlvbkZyYW1lSWQiLCJhdHRycyIsInZpZXdQYW5lU2l6ZSIsImdldFZpZXdQYW5lU2l6ZSIsIngiLCJsZWZ0IiwieSIsInRvcCIsIndpZHRoIiwiZXZlbnRQYXlsb2FkIiwiZWRpdG9yRXZlbnQiLCJzZWxlY3Rpb25EYXRhIiwibmF0aXZlRXZlbnQiLCJwb3MiLCJwYWdlWCIsInJlZ2lvbiIsImVuZFJlY3QiLCJzdGFydFJlY3QiLCJTRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCIsIl9nZXRYUG9pbnQiLCJfZ2V0WVBvaW50IiwiZXZlbnRYIiwicmlnaHQiLCJsZWZ0RGlzdCIsImFicyIsInJpZ2h0RGlzdCIsImVsZW1lbnRUYXJnZXQiLCJvZmZzZXRUb3AiLCJvZmZzZXRIZWlnaHQiLCJib3R0b20iLCJndXR0ZXIiLCJvZmZzZXRXaWR0aCIsIlNFTEVDVElPTl9MRUZUX1RPX1JJR0hUIiwiU0VMRUNUSU9OX1JJR0hUX1RPX0xFRlQiLCJkb21FbGVtZW50IiwiaGFzQ2xhc3MiLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJzZXRTdHlsZXMiLCJvcGFjaXR5IiwiX2FuaW1hdGUiLCJzY3JvbGxUb3AiLCJpc1Zpc2libGUiLCJpbnRlcmFjdGlvblBvaW50IiwiZmluYWxYIiwiZmluYWxZIiwiaW5pdGlhbFgiLCJpbml0aWFsWSIsInBhcnNlRmxvYXQiLCJjb25zdHJhaW5Ub1ZpZXdwb3J0IiwicmVzIiwiZ2V0Q29uc3RyYWluZWRQb3NpdGlvbiIsImhlaWdodCIsIm1vdmVUb1BvaW50IiwidWlOb2RlU3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwidWlOb2RlTWFyZ2luTGVmdCIsInBhcnNlSW50IiwiZ2V0UHJvcGVydHlWYWx1ZSIsInVpTm9kZU1hcmdpblJpZ2h0IiwidG90YWxXaWR0aCIsImNsaWVudFdpZHRoIiwieHkiLCJnZXRXaWRnZXRYWVBvaW50IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZGVmYXVsdFByb3BzIiwiQnV0dG9uQm9sZCIsImNzc0NsYXNzIiwiZ2V0U3RhdGVDbGFzc2VzIiwiYm9sZCIsIkNvbXBvbmVudCIsIkJ1dHRvbkNhbWVyYUltYWdlIiwicmVmcyIsImJ1dHRvblRha2VQaG90byIsIl9zdHJlYW0iLCJzdG9wIiwiZ2V0VmlkZW9UcmFja3MiLCJ0cmFjayIsImdldFVzZXJNZWRpYSIsIndlYmtpdEdldFVzZXJNZWRpYSIsIm1vekdldFVzZXJNZWRpYSIsIm1zR2V0VXNlck1lZGlhIiwidmlkZW8iLCJhdWRpbyIsIl9oYW5kbGVTdHJlYW1TdWNjZXNzIiwiX2hhbmRsZVN0cmVhbUVycm9yIiwidGFrZVBob3RvIiwidmlkZW9FbCIsInZpZGVvQ29udGFpbmVyIiwiY2FudmFzRWwiLCJjYW52YXNDb250YWluZXIiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsIl92aWRlb0hlaWdodCIsInZpZGVvV2lkdGgiLCJkcmF3SW1hZ2UiLCJpbWdVUkwiLCJ0b0RhdGFVUkwiLCJlbCIsImNyZWF0ZUZyb21IdG1sIiwiaW5zZXJ0RWxlbWVudCIsImVycm9yIiwiYWxlcnQiLCJzdHJlYW0iLCJhZGRFdmVudExpc3RlbmVyIiwidmlkZW9IZWlnaHQiLCJpc05hTiIsIm1velNyY09iamVjdCIsIlVSTCIsIndlYmtpdFVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInBsYXkiLCJkaXNhYmxlZCIsIkJ1dHRvbkNhbWVyYSIsInByb3RvY29sIiwibGFiZWwiLCJjYW1lcmFEaXNhYmxlZCIsImNhbWVyYSIsIkJ1dHRvbkNvZGUiLCJjb2RlIiwiQnV0dG9uQ29tbWFuZExpc3RJdGVtIiwiZGVzY3JpcHRpb24iLCJfZ2V0Q2xhc3NOYW1lIiwiQnV0dG9uQ29tbWFuZHNMaXN0IiwiaGFuZGxlS2V5IiwibGlzdElkIiwiX3JlbmRlckFjdGlvbnMiLCJjb21tYW5kcyIsImljb24iLCJCdXR0b25Ecm9wZG93biIsImNoaWxkcmVuIiwiS0VZX0VOVEVSIiwiS0VZX0VTQyIsIkJ1dHRvbkVtYmVkRWRpdCIsImxpbmtJbnB1dCIsImNyZWF0ZVJlZiIsImdldEluaXRpYWxTdGF0ZSIsIm1hbnVhbFNlbGVjdGlvbiIsIl9mb2N1c0xpbmtJbnB1dCIsImVtYmVkIiwic2VsZWN0ZWRFbGVtZW50IiwiZ2V0U2VsZWN0ZWRFbGVtZW50IiwiZmluZE9uZSIsImluaXRpYWxMaW5rIiwibGlua0hyZWYiLCJjbGVhckxpbmtTdHlsZSIsImRlbGV0ZUVtYmVkIiwiX3JlbW92ZUVtYmVkIiwiX2hhbmRsZUxpbmtIcmVmQ2hhbmdlIiwiX2hhbmRsZUtleURvd24iLCJlZGl0TGluayIsImNsZWFySW5wdXQiLCJfY2xlYXJMaW5rIiwiY2xlYXIiLCJjb25maXJtIiwiX2lzVmFsaWRTdGF0ZSIsIl9lbWJlZExpbmsiLCJ1cmwiLCJjdXJyZW50IiwidmFsaWRTdGF0ZSIsImVtYmVkV3JhcHBlciIsImdldEFzY2VuZGFudCIsInJlbW92ZSIsIkJ1dHRvbkVtYmVkIiwiX3JlcXVlc3RFeGNsdXNpdmUiLCJCdXR0b25IMSIsImgxIiwiQnV0dG9uSDIiLCJoMiIsIkJ1dHRvbkhsaW5lIiwiaG9yaXpvbnRhbHJ1bGUiLCJCdXR0b25JbWFnZUFsaWduQ2VudGVyIiwiYWxpZ25DZW50ZXIiLCJCdXR0b25JbWFnZUFsaWduTGVmdCIsImFsaWduTGVmdCIsIkJ1dHRvbkltYWdlQWxpZ25SaWdodCIsImFsaWduUmlnaHQiLCJCdXR0b25JbWFnZSIsImZpbGVJbnB1dCIsImlucHV0U3lsZSIsImRpc3BsYXkiLCJpbWFnZSIsImhhbmRsZUNsaWNrIiwiX29uSW5wdXRDaGFuZ2UiLCJjbGljayIsImlucHV0RWwiLCJmaWxlcyIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJmaWxlIiwib25sb2FkIiwiaW1hZ2VGaWxlcyIsImltYWdlRGF0YSIsInJlYWRBc0RhdGFVUkwiLCJCdXR0b25JbmRlbnRCbG9jayIsImluZGVudCIsIkJ1dHRvbkl0YWxpYyIsIml0YWxpYyIsIkJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IiwidGVybSIsImNsZWFyVGltZW91dCIsIl90aW1lb3V0IiwiX3VwZGF0ZUl0ZW1zIiwiZGVsYXkiLCJhdXRvY29tcGxldGVTZWxlY3RlZCIsInNldEF1dG9jb21wbGV0ZVN0YXRlIiwic2VsZWN0ZWQiLCJfcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXMiLCJuZXh0U3RhdGUiLCJoYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2siLCJ0aXRsZSIsImluc3RhbmNlIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidGhlbiIsIkJ1dHRvbkxpbmtFZGl0IiwiX2dldEluaXRpYWxTdGF0ZSIsInRhcmdldFNlbGVjdG9yIiwiYWxsb3dlZFRhcmdldHMiLCJoYW5kbGVMaW5rVGFyZ2V0Q2hhbmdlIiwiX2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2UiLCJzZWxlY3RlZFRhcmdldCIsImxpbmtUYXJnZXQiLCJsaW5rVGFyZ2V0RGVmYXVsdCIsImF1dG9jb21wbGV0ZURyb3Bkb3duIiwiZGF0YUZuIiwiYXV0b2NvbXBsZXRlRHJvcGRvd25Qcm9wcyIsIl9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2siLCJfc2V0QXV0b2NvbXBsZXRlU3RhdGUiLCJidXR0b25DbGVhckxpbmsiLCJwbGFjZWhvbGRlclByb3AiLCJwbGFjZWhvbGRlciIsInJlbW92ZUxpbmsiLCJfcmVtb3ZlTGluayIsInNob3dUYXJnZXRTZWxlY3RvciIsIl91cGRhdGVMaW5rIiwiZGVmYXVsdExpbmtUYXJnZXQiLCJMaW5rIiwiZ2V0RnJvbVNlbGVjdGlvbiIsImZvY3VzTGlua0VsIiwiYWR2YW5jZVNlbGVjdGlvbiIsImxpbmtVdGlscyIsImJvb2ttYXJrcyIsImNyZWF0ZUJvb2ttYXJrcyIsImFkdmFuY2UiLCJzZWxlY3RCb29rbWFya3MiLCJhcHBlbmRQcm90b2NvbCIsImxpbmtBdHRycyIsIm1vZGlmeVNlbGVjdGlvbiIsInVwZGF0ZSIsImNyZWF0ZSIsImF1dG9jb21wbGV0ZVVybCIsImN1c3RvbUluZGV4U3RhcnQiLCJCdXR0b25MaW5rVGFyZ2V0RWRpdCIsImFsbG93ZWRMaW5rVGFyZ2V0cyIsIkJ1dHRvbkxpbmsiLCJtZXJnZUJ1dHRvbkNmZ1Byb3BzIiwiQnV0dG9uT3JkZXJlZExpc3QiLCJudW1iZXJlZGxpc3QiLCJCdXR0b25PdXRkZW50QmxvY2siLCJvdXRkZW50IiwiQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0IiwiQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodCIsIkJ1dHRvblBhcmFncmFwaENlbnRlciIsIkJ1dHRvblBhcmFncmFwaEp1c3RpZnkiLCJhbGlnbkp1c3RpZnkiLCJCdXR0b25RdW90ZSIsInF1b3RlIiwiQnV0dG9uUmVtb3ZlRm9ybWF0IiwicmVtb3ZlZm9ybWF0IiwiQnV0dG9uU2VwYXJhdG9yIiwiQnV0dG9uU3RyaWtlIiwic3RyaWtlIiwiQnV0dG9uc1N0eWxlc0xpc3RIZWFkZXIiLCJCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSIsIl9yZW1vdmVTdHlsZXMiLCJub3JtYWwiLCJyZW1vdmVCbG9ja3MiLCJibG9ja0l0ZW0iLCJibG9ja1N0eWxlIiwiQnV0dG9uU3R5bGVzTGlzdEl0ZW0iLCJzdHlsZUNmZyIsIm1hcmdpbiIsIl9wcmV2aWV3IiwiYnVpbGRQcmV2aWV3IiwiYWN0aXZlU3R5bGUiLCJfX2h0bWwiLCJfb25DbGljayIsIkJ1dHRvblN0eWxlc0xpc3QiLCJibG9ja1N0eWxlcyIsImlubGluZVN0eWxlcyIsIm9iamVjdFN0eWxlcyIsIlNUWUxFX0JMT0NLIiwiU1RZTEVfSU5MSU5FIiwiU1RZTEVfT0JKRUNUIiwiX2Jsb2NrU3R5bGVzIiwiX2lubGluZVN0eWxlcyIsIl9vYmplY3RTdHlsZXMiLCJyZW1vdmVTdHlsZXNJdGVtIiwic2hvd1JlbW92ZVN0eWxlc0l0ZW0iLCJfcmVuZGVyU3R5bGVzSXRlbXMiLCJCdXR0b25TdHlsZXMiLCJfZ2V0U3R5bGVzIiwiX2NoZWNrQWN0aXZlIiwiYnV0dG9uU3R5bGVzTGlzdCIsInN0eWxlQ29uZmlnIiwiZm9ybWF0dGVkIiwiY2l0ZSIsIkJ1dHRvblN1YnNjcmlwdCIsInN1YnNjcmlwdCIsIkJ1dHRvblN1cGVyc2NyaXB0Iiwic3VwZXJzY3JpcHQiLCJCdXR0b25UYWJsZUNlbGwiLCJidXR0b25Db21tYW5kc0xpc3QiLCJidXR0b25Db21tYW5kc0xpc3RJZCIsIl9nZXRDb21tYW5kcyIsImNlbGwiLCJjZWxsSW5zZXJ0QmVmb3JlIiwiY2VsbEluc2VydEFmdGVyIiwiY2VsbERlbGV0ZSIsImNlbGxNZXJnZSIsImNlbGxNZXJnZURvd24iLCJjZWxsTWVyZ2VSaWdodCIsImNlbGxTcGxpdEhvcml6b250YWwiLCJjZWxsU3BsaXRWZXJ0aWNhbCIsIkJ1dHRvblRhYmxlQ29sdW1uIiwiY29sdW1uIiwiY29sdW1uSW5zZXJ0QmVmb3JlIiwiY29sdW1uSW5zZXJ0QWZ0ZXIiLCJjb2x1bW5EZWxldGUiLCJCdXR0b25UYWJsZUVkaXQiLCJyb3dzUmVmIiwiY29sc1JlZiIsImNvbHMiLCJyb3dzIiwidGFibGVVdGlscyIsIlRhYmxlIiwidGFibGVBdHRyaWJ1dGVzIiwiaW5wdXROYW1lIiwiX2NyZWF0ZVRhYmxlIiwidGltZSIsIkRhdGUiLCJub3ciLCJyb3dzSWQiLCJjb2xzSWQiLCJfaGFuZGxlQ2hhbmdlIiwiY29sdW1ucyIsImJvcmRlciIsImNlbGxQYWRkaW5nIiwiY2VsbFNwYWNpbmciLCJCdXR0b25UYWJsZUhlYWRpbmciLCJhY3RpdmVIZWFkaW5nIiwiZ2V0SGVhZGluZyIsImFjdGl2ZUhlYWRpbmdJbnRybyIsImhlYWRlcnMiLCJhY3RpdmVIZWFkaW5nTGFiZWwiLCJoZWFkZXJzTm9uZSIsImhlYWRlcnNSb3ciLCJoZWFkZXJzQ29sdW1uIiwiaGVhZGVyc0JvdGgiLCJCdXR0b25UYWJsZVJlbW92ZSIsImRlbGV0ZVRhYmxlIiwiX3JlbW92ZVRhYmxlIiwiQnV0dG9uVGFibGVSb3ciLCJyb3ciLCJyb3dJbnNlcnRCZWZvcmUiLCJyb3dJbnNlcnRBZnRlciIsInJvd0RlbGV0ZSIsIkJ1dHRvblRhYmxlIiwidGFibGUiLCJCdXR0b25UYXJnZXRMaXN0IiwibGlzdFRhcmdldHMiLCJfcmVuZGVyTGlzdFRhcmdldHMiLCJsaW5rVGFyZ2V0U2VsZiIsImxpbmtUYXJnZXRCbGFuayIsImxpbmtUYXJnZXRQYXJlbnQiLCJsaW5rVGFyZ2V0VG9wIiwidGFyZ2V0cyIsIl9nZXRBbGxvd2VkVGFyZ2V0SXRlbXMiLCJNQVhfVFdFRVRfTEVOR1RIIiwiQnV0dG9uVHdpdHRlciIsIl9nZXRIcmVmIiwidHdpdHRlciIsInNlbGVjdGVkVGV4dCIsImdldFNlbGVjdGVkVGV4dCIsInN1YnN0cmluZyIsInZpYSIsInR3aXR0ZXJIcmVmIiwiQnV0dG9uVW5vcmRlcmVkbGlzdCIsImJ1bGxldGVkbGlzdCIsIkJ1dHRvblVuZGVybGluZSIsInVuZGVybGluZSIsIlVJIiwiaGlkZGVuIiwiX29uRWRpdG9ySW50ZXJhY3Rpb24iLCJfb25BY3Rpb25QZXJmb3JtZWQiLCJfb25FZGl0b3JLZXkiLCJfbW91c2Vkb3duTGlzdGVuZXIiLCJfc2V0VUlIaWRkZW4iLCJfa2V5RG93bkxpc3RlbmVyIiwiZGVib3VuY2UiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJtZXNzYWdlIiwiX2dldEF2YWlsYWJsZVRvb2xiYXJzTWVzc2FnZSIsImFyaWFVcGRhdGUiLCJfYXJpYVVwZGF0ZVRlbXBsYXRlcyIsInRlbXBsYXRlIiwiX2dldEFyaWFVcGRhdGVzIiwiYXJpYVVwZGF0ZXMiLCJub1Rvb2xiYXIiLCJhcmlhVXBkYXRlTm9Ub29sYmFyIiwib25lVG9vbGJhciIsImFyaWFVcGRhdGVPbmVUb29sYmFyIiwibWFueVRvb2xiYXJzIiwiYXJpYVVwZGF0ZU1hbnlUb29sYmFycyIsInRvb2xiYXJzTm9kZUxpc3QiLCJ0b29sYmFyTmFtZXMiLCJ0b29sYmFyIiwiX2dldEFyaWFVcGRhdGVUZW1wbGF0ZSIsIm91dHB1dCIsImpvaW4iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoIiwiT2JqZWN0IiwiX29uRGlzbWlzc1Rvb2xiYXJGb2N1cyIsImdldFNlbGVjdGlvbkRhdGEiLCJkb21FdmVudCIsImFsdEtleSIsInRhcmdldE5vZGUiLCJjb250YWlucyIsImlkIiwicHJvcFR5cGVzIiwib2JqZWN0IiwiaXNSZXF1aXJlZCIsIm51bWJlciIsIlBPU0lUSU9OX0xFRlQiLCJQT1NJVElPTl9SSUdIVCIsIlRvb2xiYXJBZGQiLCJfdXBkYXRlUG9zaXRpb24iLCJpc0NvbnRlbnRFZGl0YWJsZSIsIl9nZXRCdXR0b25zIiwiX2dldFRvb2xiYXJDbGFzc05hbWUiLCJnZXRBcnJvd0JveENsYXNzZXMiLCJ1cGRhdGVQb3NpdGlvbiIsInNob3ciLCJjbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdCIsIm9mZnNldExlZnQiLCJwb3NpdGlvbiIsImd1dHRlckV4Y2x1c2l2ZSIsImZsb29yIiwiY2FuY2VsQW5pbWF0aW9uIiwiVG9vbGJhclN0eWxlcyIsImN1cnJlbnRTZWxlY3Rpb24iLCJfZ2V0Q3VycmVudFNlbGVjdGlvbiIsImdldEFycm93Qm94Q2xhc3Nlc0ZuIiwiX2dldFNlbGVjdGlvbkZ1bmN0aW9uIiwiY3NzQ2xhc3NlcyIsImJ1dHRvbnNHcm91cCIsImdldFRvb2xiYXJCdXR0b25Hcm91cHMiLCJzZWxlY3Rpb25UeXBlIiwiaGFzR3JvdXBzIiwic2VsZWN0aW9uRm4iLCJzZWxlY3Rpb25GdW5jdGlvbiIsInRlc3RGbiIsInNldFBvc2l0aW9uRm4iLCJzZXRQb3NpdGlvbiIsInBsdWdpbnMiLCJub29wIiwiVU5TVVBQT1JURURfQlVUVE9OX0FQSSIsInRvRmVhdHVyZSIsIkJVVFRPTl9ERUZTIiwiZ2VuZXJhdGVCdXR0b25CcmlkZ2UiLCJidXR0b25EZWZpbml0aW9uIiwiQnV0dG9uQnJpZGdlIiwiZGlzcGxheU5hbWUiLCJzdGF0aWNzIiwiYnV0dG9uQ2xhc3NOYW1lIiwiYnV0dG9uRGlzcGxheU5hbWUiLCJidXR0b25MYWJlbCIsImJ1dHRvblR5cGUiLCJpY29uQ2xhc3NOYW1lIiwiaWNvblN0eWxlIiwiY3NzU3R5bGUiLCJza2luIiwiZ2V0SWNvblN0eWxlIiwiY3NzU3R5bGVQYXJ0cyIsImJhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRQb3NpdGlvbiIsImJhY2tncm91bmRTaXplIiwiX2hhbmRsZUNsaWNrIiwiYnV0dG9uQ29tbWFuZCIsImJ1dHRvbk9uQ2xpY2siLCJvbkNsaWNrIiwiVUlfQlVUVE9OIiwicmVxdWlyZXMiLCJiZWZvcmVJbml0IiwidWkiLCJhZGRCdXR0b24iLCJhZGRIYW5kbGVyIiwibWVudUJ1dHRvbiIsIm1lbnUiLCJwYW5lbE1lbnVCdXR0b24iLCJyaWNoY29tYm8iLCJ1aWJyaWRnZSIsIlVOU1VQUE9SVEVEX01FTlVCVVRUT05fQVBJIiwiTUVOVUJVVFRPTl9ERUZTIiwiZ2VuZXJhdGVNZW51QnV0dG9uQnJpZGdlIiwibWVudUJ1dHRvbk5hbWUiLCJtZW51QnV0dG9uRGVmaW5pdGlvbiIsIk1lbnVCdXR0b25CcmlkZ2UiLCJwYW5lbE1lbnVCdXR0b25EaXNwbGF5TmFtZSIsIl9nZXRNZW51SXRlbXMiLCJvbk1lbnUiLCJtZW51SXRlbXMiLCJtZW51SXRlbSIsImdldE1lbnVJdGVtIiwibWVudUl0ZW1EZWZpbml0aW9uIiwiZGVmaW5pdGlvbiIsIm1lbnVJdGVtU3RhdGUiLCJUUklTVEFURV9ESVNBQkxFRCIsImFwcGx5IiwiVUlfTUVOVV9CVVRUT04iLCJhZGRNZW51QnV0dG9uIiwiVUlfTUVOVUJVVFRPTiIsImdyb3VwcyIsImdyb3Vwc09yZGVyIiwiXyIsIm1lbnVHcm91cHMiLCJhZGRNZW51R3JvdXAiLCJvcmRlciIsImFkZE1lbnVJdGVtIiwiZ3JvdXAiLCJhZGRNZW51SXRlbXMiLCJkZWZpbml0aW9ucyIsIml0ZW1OYW1lIiwicmVtb3ZlTWVudUl0ZW0iLCJVTlNVUFBPUlRFRF9QQU5FTF9NRU5VX0JVVFRPTl9BUEkiLCJjcmVhdGVQYW5lbCIsIlBBTkVMX01FTlVfREVGUyIsImdlbmVyYXRlUGFuZWxNZW51QnV0dG9uQnJpZGdlIiwicGFuZWxNZW51QnV0dG9uTmFtZSIsInBhbmVsTWVudUJ1dHRvbkRlZmluaXRpb24iLCJQYW5lbE1lbnVCdXR0b25CcmlkZ2UiLCJwYW5lbCIsIl9nZXRQYW5lbCIsInBhbmVsTWVudUJ1dHRvbk9uQmxvY2siLCJvbkJsb2NrIiwiaGlkZSIsImJsb2NrRWxlbWVudCIsImJsb2NrIiwiZ2V0SHRtbCIsIlVJX1BBTkVMQlVUVE9OIiwiYWRkUGFuZWxNZW51QnV0dG9uIiwiVU5TVVBQT1JURURfUklDSENPTUJPX0FQSSIsImNvbW1pdCIsImRpc2FibGUiLCJlbmFibGUiLCJnZXRTdGF0ZSIsImhpZGVHcm91cCIsImhpZGVJdGVtIiwibWFyayIsInNob3dBbGwiLCJzdGFydEdyb3VwIiwidW5tYXJrQWxsIiwiUklDSF9DT01CT19ERUZTIiwiZ2VuZXJhdGVSaWNoQ29tYm9CcmlkZ2UiLCJyaWNoQ29tYm9OYW1lIiwicmljaENvbWJvRGVmaW5pdGlvbiIsIlJpY2hDb21ib0JyaWRnZSIsImN1cnJlbnRWYWx1ZSIsInVuZGVmaW5lZCIsInByZXZpZXciLCJfaXRlbXMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJlZGl0b3JDb21ibyIsInNldFZhbHVlIiwiX3NldFZhbHVlIiwiaW5pdCIsIm9uUmVuZGVyIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJfY2FjaGVWYWx1ZSIsImdldFZhbHVlIiwicmljaENvbWJvTGFiZWwiLCJfZ2V0SXRlbXMiLCJyaWNoQ29tYm8iLCJuZXdWYWx1ZSIsImN1cnJlbnRUYXJnZXQiLCJVSV9SSUNIQ09NQk8iLCJhZGRSaWNoQ29tYm8iLCJvcmlnaW5hbFVJQWRkRm4iLCJhcmd1bWVudHMiLCJ0eXBlSGFuZGxlciIsImhhbmRsZXJzIiwiX19wcm9jZXNzaW5nUGx1Z2luX18iLCJwbHVnaW4iLCJ0aW1lb3V0IiwiYXJncyIsImRlYm91bmNlSGFuZGxlIiwiY2FsbEZuIiwiY2FsbENvbnRleHQiLCJsZW4iLCJzdGFydEluZGV4IiwiY2FsbEFyZ3MiLCJzZWxlY3Rpb25SZWdpb24iLCJ1aWNvcmUiLCJSRUdFWF9CT09LTUFSS19TQ0hFTUUiLCJSRUdFWF9FTUFJTF9TQ0hFTUUiLCJSRUdFWF9VUklfU0NIRU1FIiwicmFuZ2UiLCJnZXRSYW5nZXMiLCJtb3ZlVG9FbGVtZW50RWRpdEVuZCIsIm5leHROb2RlIiwiZ2V0TmV4dEVkaXRhYmxlTm9kZSIsImVxdWFscyIsImdldENvbW1vbkFuY2VzdG9yIiwid2hpdGVzcGFjZSIsImdldFRleHQiLCJvZmZzZXQiLCJzZXRTdGFydCIsInNldEVuZCIsInNlbGVjdFJhbmdlcyIsIlVSSSIsImNvbGxhcHNlZCIsInRleHQiLCJpbnNlcnROb2RlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiX2dldENvbXBsZXRlVVJJIiwiYXBwbHlUb1JhbmdlIiwic2VsZWN0IiwiaXMiLCJnZXRDaGlsZHJlbiIsImNvdW50IiwiZ2V0SXRlbSIsInNocmluayIsIlNIUklOS19URVhUIiwiYWx3YXlzUmVtb3ZlRWxlbWVudCIsInNlbGVjdEVsZW1lbnQiLCJnZXRTdGFydEVsZW1lbnQiLCJ1cmkiLCJzZXRBdHRyaWJ1dGVzIiwicmVtb3ZlQXR0cnMiLCJzZXRBdHRycyIsInJlbW92ZUF0dHJpYnV0ZXMiLCJ3cmFwUGx1Z2luTGlmZWN5Y2xlIiwibWV0aG9kcyIsIm1ldGhvZE5hbWUiLCJvdmVycmlkZSIsIm9yaWdpbmFsUGx1Z2luTWV0aG9kIiwicGF5bG9hZCIsInBoYXNlIiwiZmlsdGVyVW53YW50ZWREZXBlbmRlbmNpZXMiLCJyZXF1aXJlIiwicGx1Z2luc0xvYWQiLCJuYW1lcyIsInNjb3BlIiwiU2VsZWN0aW9uUmVnaW9uIiwiY3JlYXRlU2VsZWN0aW9uRnJvbVBvaW50IiwiY3JlYXRlU2VsZWN0aW9uRnJvbVJhbmdlIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJlbmQiLCJlbmRDb250YWluZXIiLCJlbmRPZmZzZXQiLCJzdGFydCIsInN0YXJ0Q29udGFpbmVyIiwic3RhcnRPZmZzZXQiLCJjYXJldFBvc2l0aW9uRnJvbVBvaW50Iiwib2Zmc2V0Tm9kZSIsImNyZWF0ZVJhbmdlIiwiY2FyZXRSYW5nZUZyb21Qb2ludCIsImNyZWF0ZVRleHRSYW5nZSIsImVuZFJhbmdlIiwiZHVwbGljYXRlIiwic2V0RW5kUG9pbnQiLCJnZXRDYXJldFJlZ2lvbiIsImJvb2ttYXJrTm9kZUVsIiwic3RhcnROb2RlIiwic2Nyb2xsUG9zIiwiZ2V0U2Nyb2xsUG9zaXRpb24iLCJnZXROYXRpdmUiLCJnZXRTZWxlY3Rpb25SZWdpb24iLCJnZXRDbGllbnRSZWN0c1JlZ2lvbiIsImdldFNlbGVjdGlvbkRpcmVjdGlvbiIsImlzU2VsZWN0aW9uRW1wdHkiLCJyYW5nZXMiLCJnZXRUeXBlIiwiU0VMRUNUSU9OX05PTkUiLCJuYXRpdmVTZWxlY3Rpb24iLCJkZWZhdWx0UmVjdCIsImNsaWVudFJlY3RzIiwiSW5maW5pdHkiLCJyYW5nZUNvdW50IiwiZ2V0Q2xpZW50UmVjdHMiLCJnZXRSYW5nZUF0IiwiYW5jaG9yTm9kZSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiZm9jdXNOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNPZmZzZXQiLCJOb2RlIiwiRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HIiwiYXR0ciIsImhhc093blByb3BlcnR5IiwiSUVfTk9OX0RJUkVDVExZX0VESVRBQkxFX0VMRU1FTlQiLCJIRUFESU5HX0JPVEgiLCJIRUFESU5HX0NPTCIsIkhFQURJTkdfTk9ORSIsIkhFQURJTkdfUk9XIiwiX2NyZWF0ZUVsZW1lbnQiLCJ0Ym9keSIsImFwcGVuZCIsImoiLCJhcHBlbmRCb2d1cyIsInNldEhlYWRpbmciLCJoZWFkaW5nIiwiZmlyc3RDZWxsIiwiY2VsbHMiLCJtb3ZlVG9Qb3NpdGlvbiIsIlBPU0lUSU9OX0FGVEVSX1NUQVJUIiwid2Via2l0IiwiTk9ERV9FTEVNRU5UIiwiaXNFZGl0YWJsZSIsImlzUmVhZE9ubHkiLCJoYXNBdHRyaWJ1dGUiLCJnZXRQYXJlbnQiLCJyb3dIZWFkaW5nU2V0dGluZ3MiLCJ0SGVhZCIsImNvbEhlYWRpbmdTZXR0aW5ncyIsIm5vZGVOYW1lIiwiaGVhZGluZ1NldHRpbmdzIiwicGFyZW50IiwiZ2V0Q2hpbGRDb3VudCIsIlBPU0lUSU9OX0JFRk9SRV9TVEFSVCIsIm5ld0NlbGwiLCJ0YWJsZUhlYWQiLCJ0YWJsZUJvZHkiLCJnZXRFbGVtZW50c0J5VGFnIiwidGFibGVIZWFkaW5nIiwiaGFkQ29sSGVhZGluZyIsIm5lZWRDb2xIZWFkaW5nIiwibmVlZFJvd0hlYWRpbmciLCJ0YWJsZUZpcnN0Um93IiwidGFibGVGaXJzdFJvd0NoaWxkQ291bnQiLCJnZXRDaGlsZCIsInJlbmFtZU5vZGUiLCJjcmVhdGVUSGVhZCIsInByZXZpb3VzRmlyc3RSb3ciLCJnZXRGaXJzdCIsIm5ld0ZpcnN0Um93IiwibmV3Rmlyc3RSb3dDaGlsZENvdW50IiwicmVtb3ZlQXR0cmlidXRlIiwiaW5zZXJ0QmVmb3JlIiwiaGFzQ29sSGVhZGluZyIsImdldE5hbWUiLCJoZWFkaW5nQ29tbWFuZHMiLCJqc29ucCIsInVybFRlbXBsYXRlIiwidXJsUGFyYW1zIiwiZXJyb3JDYWxsYmFjayIsImNhbGxiYWNrS2V5IiwiZ2V0TmV4dE51bWJlciIsImpzb25wQ2FsbGJhY2tzIiwicmVzcG9uc2UiLCJjbGVhblVwIiwic2NyaXB0RWxlbWVudCIsImdldEJvZHkiLCJjYW5jZWwiLCJzaW11bGF0ZSIsImV2ZW50SW5zdGFuY2UiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJhcmlhU3RhdGUiLCJhcmlhRWxlbWVudCIsIl9jcmVhdGVBcmlhRWxlbWVudCIsInVpVGFza3NUaW1lb3V0IiwiaGFuZGxlVUkiLCJhbGxvd0VzYyIsImhhbmRsZUFyaWEiLCJpbm5lckhUTUwiLCJoYW5kbGVNb3VzZUxlYXZlIiwiYWVVSU5vZGVzIiwiZm91bmQiLCJyZWxhdGVkVGFyZ2V0IiwiZm9jdXNIYW5kbGVyIiwiYXR0YWNoTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsInN0YXR1c0VsZW1lbnQiLCJfX2NvbmZpZ19fIiwiX19BVFRSU19fIiwiY3VycmVudEF0dHIiLCJfaXNJbml0aWFsaXplZCIsIl9pbml0IiwiY3VyVmFsdWUiLCJfY2FsbFN0cmluZ09yRnVuY3Rpb24iLCJzZXQiLCJzdHJpbmdPckZ1bmN0aW9uIiwiaGFzRGVmYXVsdFZhbHVlIiwiaGFzUGFzc2VkVmFsdWVWaWFDb25maWciLCJ2YWx1ZUZuIiwiQmFzZSIsIl9jYWxsQ2hhaW4iLCJ3YXQiLCJhcnIiLCJjdG9yIiwicmV2ZXJzZSIsImlzRmluaXRlIiwidmFsdWVUeXBlIiwicmVjZWl2ZXIiLCJzdXBwbGllciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInN1cHBsaWVyUHJvdG8iLCJyZWNlaXZlclByb3RvIiwiaXNJRSIsIl9vbkRyYWdFbnRlciIsIl9vbkRyYWdPdmVyIiwiX29uRHJhZ0Ryb3AiLCJfb25QYXN0ZSIsIl9oYW5kbGVGaWxlcyIsIl9wcm9jZXNzRmlsZSIsInRyYW5zZmVyRmlsZXMiLCJkYXRhVHJhbnNmZXIiLCJjbGllbnRYIiwiY2xpZW50WSIsIl9wcmV2ZW50RXZlbnQiLCJjbGlwYm9hcmREYXRhIiwicGFzdGVkRGF0YSIsImltYWdlRmlsZSIsImdldEFzRmlsZSIsImJpbiIsInVzZXJBZ2VudCIsIktFWV9CQUNLIiwiS0VZX0NPTU1BIiwiS0VZX1NFTUlDT0xPTiIsIktFWV9TUEFDRSIsIkRFTElNSVRFUlMiLCJSRUdFWF9MQVNUX1dPUkQiLCJSRUdFWF9VUkwiLCJSRUdFWF9FTUFJTCIsIl9vbktleVVwIiwibWV0aG9kIiwiZGF0YVZhbHVlIiwiUmVnRXhwIiwiX2lzVmFsaWRVUkwiLCJfaXNWYWxpZEVtYWlsIiwiX2dldExhc3RXb3JkIiwicHJldmlvdXNUZXh0IiwiX2N1cnJlbnRLZXlDb2RlIiwicHJldmlvdXNOb2RlIiwiZ2V0UHJldmlvdXMiLCJsYXN0Q2hpbGQiLCJnZXRMYXN0IiwiX3N0YXJ0Q29udGFpbmVyIiwiX29mZnNldCIsImxhc3RXb3JkIiwicG9wIiwiZW1haWwiLCJfb25LZXlEb3duIiwiX2NrTGluayIsIl9yZXBsYWNlQ29udGVudEJ5TGluayIsImNvbnRlbnQiLCJja0xpbmsiLCJsaW5rTm9kZSIsIl9zdWJzY3JpYmVUb0tleUV2ZW50IiwibmV4dEVkaXRhYmxlTm9kZSIsImdldE5leHROb2RlIiwiY2FyZXRPZmZzZXQiLCJnZXROZXh0IiwibmV3UmFuZ2UiLCJzZXRFbmRBZnRlciIsIkRFRkFVTFRfQ09ORklHIiwicmVnZXgiLCJfY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvIiwiaW5zZXJ0SHRtbCIsImJ1bGxldCIsIl9nZXRMaXN0Q29uZmlnIiwiY29uZmlnUmVnZXgiLCJhdXRvbGlzdCIsInRleHRDb250YWluZXIiLCJyZWdleExlbiIsImF1dG9saXN0Q2ZnIiwicmVnZXhJdGVtIiwiX2NyZWF0ZUxpc3QiLCJsaXN0Q29uZmlnIiwic2V0VGV4dCIsIklNQUdFX0hBTkRMRVMiLCJib3RoIiwic2NhbGUiLCJQT1NJVElPTl9FTEVNRU5UX0ZOIiwiYmwiLCJoYW5kbGUiLCJib3giLCJwb3NpdGlvbkVsZW1lbnQiLCJibSIsInJvdW5kIiwiYnIiLCJsbSIsInRsIiwidG0iLCJ0ciIsInJtIiwiSU1BR0VfU05BUF9UT19TSVpFIiwiaXNGaXJlZm94IiwiZG9jdW1lbnRFbGVtZW50IiwiaXNXZWJLaXQiLCJlbmFibGVQbHVnaW4iLCJhZGRDc3MiLCJvbkxvYWQiLCJldnQiLCJzbmFwVG9TaXplIiwiaW1hZ2VTY2FsZVJlc2l6ZSIsInJlc2l6ZXIiLCJSZXNpemVyIiwibW91c2VEb3duTGlzdGVuZXIiLCJlIiwiaXNIYW5kbGUiLCJpbml0RHJhZyIsImh0bWwiLCJzZWxmIiwicmVzaXplRWxlbWVudCIsInJlc2l6ZVRpbWVvdXQiLCJjb250YWluZXIiLCJoYW5kbGVzIiwiaGFuZGxlTmFtZSIsImNyZWF0ZUhhbmRsZSIsIm4iLCJjbGFzc0xpc3QiLCJvdGhlckltYWdlcyIsInRvQXJyYXkiLCJzcGxpY2UiLCJnZXRCb3VuZGluZ0JveCIsInNob3dIYW5kbGVzIiwiZWxlbWVudHMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaGlkZUhhbmRsZXMiLCJkcmFnIiwiRHJhZ0V2ZW50Iiwib25TdGFydCIsInNob3dQcmV2aWV3IiwiaXNEcmFnZ2luZyIsIm9uRHJhZyIsImNhbGN1bGF0ZVNpemUiLCJ1cGRhdGVQcmV2aWV3IiwicHJldmlld0JveCIsInVwZGF0ZUhhbmRsZXMiLCJvblJlbGVhc2UiLCJoaWRlUHJldmlldyIsIm9uQ29tcGxldGUiLCJyZXNpemVDb21wbGV0ZSIsImRlbHRhIiwicmF0aW8iLCJvdGhlcnMiLCJvdGhlciIsImV2ZW50cyIsIm1vdXNlbW92ZSIsImtleWRvd24iLCJtb3VzZXVwIiwic3RhcnRQb3MiLCJjdXJyZW50UG9zIiwic2hpZnRLZXkiLCJjdHJsIiwiYWx0Iiwid2hpY2giLCJyZWxlYXNlIiwiY3R4IiwiU3RyaW5nIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJhbGlnbm1lbnRzT2JqIiwiY2VudGVyIiwiY3Vyc29yIiwicmVnZXhQZXJjZW50IiwiaGlkcGkiLCJpY29ucyIsIndpZGdldERlZiIsIndpZGdldHMiLCJpbml0T24iLCJhbGlnbkNsYXNzZXMiLCJpbWFnZTJfYWxpZ25DbGFzc2VzIiwiY2FwdGlvbmVkQ2xhc3MiLCJpbWFnZTJfY2FwdGlvbmVkQ2xhc3MiLCJoZWxwZXJzIiwiaW1hZ2UyIiwiaGFzQ2FwdGlvbiIsImNhcHRpb24iLCJyZWFkeSIsImNoZWNrSGFzTmF0dXJhbFJhdGlvIiwid3JhcHBlciIsImFsaWduIiwiYWxpZ25FbGVtZW50Iiwic2V0RGF0YSIsImltYWdlMl9kaXNhYmxlUmVzaXplciIsInNldHVwUmVzaXplciIsImdldFN0eWxlYWJsZUVsZW1lbnQiLCJnZXRXaWRnZXRBbGxvd2VkQ29udGVudCIsImNvbnRlbnRUcmFuc2Zvcm1hdGlvbnMiLCJmZWF0dXJlcyIsImNoZWNrRmVhdHVyZSIsImNvbnRlbnRlZGl0YWJsZSIsIm9sZERhdGEiLCJjIiwiY2xhc3NlcyIsImRpbWVuc2lvbiIsInNldERpbWVuc2lvbnMiLCJkb3duY2FzdCIsImRvd25jYXN0V2lkZ2V0RWxlbWVudCIsImRyYWdnYWJsZSIsImVkaXRhYmxlcyIsInNlbGVjdG9yIiwiZ2V0V2lkZ2V0RmVhdHVyZXMiLCJnZXRDbGFzc2VzIiwiY2xhc3NSZWdleCIsInJlcG9zaXRvcnkiLCJwYXJzZUVsZW1lbnRDbGFzc2VzIiwiZ2V0TGFiZWwiLCJwYXRoTmFtZSIsInJlcXVpcmVkQ29udGVudCIsInN0eWxlYWJsZUVsZW1lbnRzIiwidXBjYXN0IiwidXBjYXN0V2lkZ2V0RWxlbWVudCIsIm5hdHVyYWwiLCJnZXROYXR1cmFsIiwiY2xpZW50SGVpZ2h0IiwiZGltZW5zaW9ucyIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaCIsImltZyIsIkltYWdlIiwiaGVpZ2giLCJpc0NlbnRlcldyYXBwZXIiLCJjZW50ZXJXcmFwcGVyQ2hlY2tlciIsImZpZ3VyZSIsInJlcGxhY2VXaXRoIiwiaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZSIsImQiLCJhdHRyc0hvbGRlciIsInJlc2l6ZVdyYXBwZXIiLCJwYXJzZUNzc1RleHQiLCJ3cmFwV2l0aCIsImh0bWxQYXJzZXIiLCJpc0VtcHR5Iiwid3JpdGVDc3NUZXh0IiwidmFsaWRDaGlsZHJlbiIsImRpdiIsInAiLCJjaGlsZCIsImVudGVyTW9kZSIsIkVOVEVSX1AiLCJ3aWRnZXQiLCJkb2MiLCJpbWFnZU9yTGluayIsIm9sZFJlc2l6ZVdyYXBwZXIiLCJmYWN0b3IiLCJzY3JlZW5YIiwic2NyZWVuWSIsInN0YXJ0V2lkdGgiLCJzdGFydEhlaWdodCIsImxpc3RlbmVycyIsImN1cnNvckNsYXNzIiwibmF0aXZlRXZ0IiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJ1cGRhdGVEYXRhIiwibW92ZURpZmZYIiwibW92ZURpZmZZIiwibW92ZVJhdGlvIiwiYXR0YWNoVG9Eb2N1bWVudHMiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VVcCIsImNvbGxlY3Rpb24iLCJnbG9iYWxEb2MiLCJsIiwid2lkZ2V0RWxlbWVudCIsInNjcm9sbFBvc2l0aW9uIiwicnVsZXMiLCJmaWdjYXB0aW9uIiwiUkVHRVhfSFRUUCIsIlJFR0VYX0RFRkFVTFRfTElOSyIsIlBST1ZJREVSUyIsIkRFRkFVTFRfQUVfRU1CRURfVVJMX1RQTCIsIkRFRkFVTFRfQUVfRU1CRURfV0lER0VUX1RQTCIsIkRFRkFVTFRfQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTCIsIkFFX0VNQkVEX1VSTF9UUEwiLCJlbWJlZFVybFRlbXBsYXRlIiwiQUVfRU1CRURfV0lER0VUX1RQTCIsImVtYmVkV2lkZ2V0VHBsIiwiQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTCIsImVtYmVkTGlua0RlZmF1bHRUcGwiLCJkZWZhdWx0RW1iZWRXaWRnZXRVcGNhc3RGbiIsIm1hc2siLCJlbmNvZGVVUklDb21wb25lbnQiLCJjcmVhdGVBVGFnIiwic2V0SHRtbCIsIm1zZyIsImFUYWdIdG1sIiwiZW1iZWRXaWRnZXRVcGNhc3RGbiIsImFkZEVsZW1lbnRDYWxsYmFjayIsIkZJTFRFUl9TS0lQX1RSRUUiLCJJTUFHRV9BTElHTk1FTlQiLCJDRU5URVIiLCJMRUZUIiwiUklHSFQiLCJBTElHTl9WQUxVRVMiLCJDRU5URVJFRF9JTUFHRV9TVFlMRSIsImdldEltYWdlQWxpZ25tZW50IiwiaW1hZ2VBbGlnbm1lbnQiLCJjZW50ZXJlZEltYWdlIiwiZXZlcnkiLCJzdHlsZUNoZWNrIiwidmVuZG9yUHJlZml4ZXMiLCJ2ZW5kb3JQcmVmaXgiLCJpbWFnZUNvbnRhaW5lciIsInRleHRBbGlnbiIsInNldFN0eWxlIiwicmVtb3ZlSW1hZ2VBbGlnbm1lbnQiLCJzZXRJbWFnZUFsaWdubWVudCIsImFmdGVySW5pdCIsInJlZnJlc2hDb21tYW5kcyIsIlRSSVNUQVRFX09GRiIsInJlZnJlc2giLCJhZGRpbWFnZXMiLCJhdXRvbGluayIsImRyYWdyZXNpemUiLCJkcmFncmVzaXplaWUiLCJpbWFnZWFsaWdubWVudCIsInBhc3RlaW1hZ2VzIiwic2VsZWN0aW9ua2V5c3Ryb2tlcyIsInRhYmxlcmVzaXplIiwidGFibGV0b29scyIsImJyRmlsbGVyIiwibmVlZHNCckZpbGxlciIsImVudGVyTW9kZUVtcHR5VmFsdWUiLCJfY2hlY2tFbXB0eURhdGEiLCJfcmVtb3ZlUGxhY2Vob2xkZXJDbGFzcyIsImVkaXRhYmxlTm9kZSIsImlubmVySHRtbCIsInRyaW0iLCJlZGl0b3JOb2RlIiwic2VsZWN0aW9uS2V5c3Ryb2tlIiwicHhVbml0IiwiY3NzTGVuZ3RoIiwiZ2V0V2lkdGgiLCJnZXRCb3JkZXJXaWR0aCIsInNpZGUiLCJjb21wdXRlZCIsImJvcmRlck1hcCIsInRoaW4iLCJtZWRpdW0iLCJ0aGljayIsImdldE1hc3RlclBpbGxhclJvdyIsIiRyb3dzIiwibWF4Q2VsbHMiLCJjZWxsc0NvdW50IiwiJGVsZWN0ZWQiLCIkdHIiLCJidWlsZFRhYmxlQ29sdW1uUGlsbGFycyIsInBpbGxhcnMiLCJwaWxsYXJJbmRleCIsInJ0bCIsInRCb2RpZXMiLCJ0Ym9keVBvc2l0aW9uIiwiZ2V0RG9jdW1lbnRQb3NpdGlvbiIsInRkIiwibmV4dFRkIiwiY29sU3BhbiIsInBpbGxhckxlZnQiLCJwaWxsYXJSaWdodCIsInBpbGxhcldpZHRoIiwiZ2V0UGlsbGFyQXRQb3NpdGlvbiIsInBvc2l0aW9uWCIsInBpbGxhciIsImNvbHVtblJlc2l6ZXIiLCJyZXNpemluZyIsImN1cnJlbnRTaGlmdCIsImxlZnRTaWRlQ2VsbHMiLCJyaWdodFNpZGVDZWxscyIsImxlZnRTaGlmdEJvdW5kYXJ5IiwicmlnaHRTaGlmdEJvdW5kYXJ5Iiwib25Nb3VzZURvd24iLCJyZXNpemVTdGFydCIsImNvbHVtbkluZGV4IiwiYnVpbGRUYWJsZU1hcCIsImxlZnRDb2x1bW5DZWxscyIsInJpZ2h0Q29sdW1uQ2VsbHMiLCJsZWZ0TWluU2l6ZSIsIk51bWJlciIsIk1BWF9WQUxVRSIsInJpZ2h0TWluU2l6ZSIsImxlZnRDZWxsIiwicmlnaHRDZWxsIiwic2V0T3BhY2l0eSIsInJlc2l6ZUVuZCIsInJlc2l6ZUNvbHVtbiIsInJlbW92ZUN1c3RvbURhdGEiLCJsZWZ0T2xkV2lkdGgiLCJyaWdodE9sZFdpZHRoIiwidGFibGVXaWR0aCIsInNpemVTaGlmdCIsIm1vdmUiLCJnZXRQYWdlT2Zmc2V0IiwiZ2V0RG9jdW1lbnRFbGVtZW50IiwicG9zWCIsInJlc2l6ZXJOZXdQb3NpdGlvbiIsImlzUmVzaXppbmciLCJjbGVhclBpbGxhcnNDYWNoZSIsImRlc3QiLCJ0b0VsZW1lbnQiLCJpc0lubGluZSIsImdldEN1c3RvbURhdGEiLCJzZXRDdXN0b21EYXRhIiwiY2VsbE5vZGVSZWdleCIsImdldFNlbGVjdGVkQ2VsbHMiLCJyZXR2YWwiLCJkYXRhYmFzZSIsIm1vdmVPdXRPZkNlbGxHdWFyZCIsInNldE1hcmtlciIsIm5lYXJlc3RDZWxsIiwid2Fsa2VyIiwiZ3VhcmQiLCJkdGQiLCJjbGVhckFsbE1hcmtlcnMiLCJnZXRGb2N1c0VsZW1lbnRBZnRlckRlbENlbGxzIiwiY2VsbHNUb0RlbGV0ZSIsImxhc3QiLCJmb2N1c2VkQ2VsbCIsImluc2VydFJvdyIsImdldERvY3VtZW50Iiwic3RhcnRSb3ciLCJzdGFydFJvd0luZGV4Iiwicm93SW5kZXgiLCJsYXN0Q2VsbCIsImVuZFJvd0luZGV4Iiwicm93U3BhbiIsImVuZFJvdyIsImNsb25lUm93IiwibmV4dFJvdyIsIm5ld1JvdyIsImNsb25lIiwiaW5zZXJ0QWZ0ZXIiLCJkZWxldGVSb3dzIiwic2VsZWN0aW9uT3JSb3ciLCJyb3dzVG9EZWxldGUiLCJtYXBSb3ciLCJjZWxsUm93SW5kZXgiLCJuZXh0TWFwUm93IiwiY3Vyc29yUG9zaXRpb24iLCJnZXRDZWxsQ29sSW5kZXgiLCJpc1N0YXJ0Iiwicm93Q2VsbHMiLCJjb2xJbmRleCIsIm1hcENlbGwiLCJnZXRDb2x1bW5zSW5kaWNlcyIsImluc2VydENvbHVtbiIsInN0YXJ0Q29sIiwibGFzdENvbCIsImNsb25lQ29sIiwibmV4dENvbCIsIm5leHRDZWxsIiwiZGVsZXRlQ29sdW1ucyIsInNlbGVjdGlvbk9yQ2VsbCIsInN0YXJ0Q29sSW5kZXgiLCJlbmRDb2xJbmRleCIsImZpcnN0Um93Q2VsbHMiLCJpbnNlcnRDZWxsIiwic3RhcnRFbGVtZW50IiwiZGVsZXRlQ2VsbHMiLCJjZWxsVG9Gb2N1cyIsInBsYWNlQ3Vyc29ySW5DZWxsIiwidHJpbUNlbGwiLCJib2d1cyIsImdldEJvZ3VzIiwicGxhY2VBdEVuZCIsImRvY0lubmVyIiwiZG9jT3V0ZXIiLCJ2ZXJzaW9uIiwiY29sbGFwc2UiLCJjZWxsSW5Sb3ciLCJ0YWJsZU1hcCIsIm9Sb3ciLCJjZWxsSW5Db2wiLCJvQ29sIiwiciIsIm1lcmdlQ2VsbHMiLCJtZXJnZURpcmVjdGlvbiIsImlzRGV0ZWN0IiwiY29tbW9uQW5jZXN0b3IiLCJtYXBIZWlnaHQiLCJtYXBXaWR0aCIsInN0YXJ0Q29sdW1uIiwidGFyZ2V0Q2VsbCIsInJvd3NwYW4iLCJjb2xzcGFuIiwiZXIiLCJsYXN0Um93SW5kZXgiLCJ0b3RhbFJvd1NwYW4iLCJ0b3RhbENvbFNwYW4iLCJmcmFnIiwiZG9jdW1lbnRGcmFnbWVudCIsImNlbGxGaXJzdENoaWxkIiwiaXNCbG9ja0JvdW5kYXJ5Iiwid2hpdGVzcGFjZXMiLCJtb3ZlQ2hpbGRyZW4iLCJ0cnMiLCJub2RlTGlzdCIsInRhaWxUciIsInZlcnRpY2FsU3BsaXRDZWxsIiwibmV3Um93U3BhbiIsIm5ld0NlbGxSb3dTcGFuIiwibmV3Um93SW5kZXgiLCJjZWlsIiwibmV3Q2VsbFRyIiwibmV3Q2VsbFJvdyIsImNhbmRpZGF0ZUNlbGwiLCJjZWxsc0luU2FtZVJvdyIsImhvcml6b250YWxTcGxpdENlbGwiLCJuZXdDb2xTcGFuIiwibmV3Q2VsbENvbFNwYW4iLCJjZWxsc0luU2FtZUNvbCIsImNyZWF0ZURlZiIsImRlZiIsImNvbnRleHRTZW5zaXRpdmUiLCJ0aCIsImFkZENtZCIsImNtZCIsImFkZEZlYXR1cmUiLCJhUm93cyIsImFNYXAiLCJvQ2VsbCIsImlDb2xTcGFuIiwiaVJvd1NwYW4iLCJycyIsImNzIiwidGFibGVTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMiLCJERUZBVUxUX0dVVFRFUiIsImNlbnRlclRvb2xiYXIiLCJ0b29sYmFyTm9kZSIsImhhbGZOb2RlV2lkdGgiLCJ3aWRnZXRYWSIsImVuZFBvc2l0aW9uIiwiaW1hZ2VTZWxlY3Rpb25TZXRQb3NpdGlvbiIsInRhYmxlU2VsZWN0aW9uU2V0UG9zaXRpb24iLCJfaXNSYW5nZUF0RWxlbWVudEVuZCIsImVtYmVkU2VsZWN0aW9uVGVzdCIsImxpbmtTZWxlY3Rpb25UZXN0IiwiaW1hZ2VTZWxlY3Rpb25UZXN0IiwidGV4dFNlbGVjdGlvblRlc3QiLCJzZWxlY3Rpb25FbXB0eSIsInRhYmxlU2VsZWN0aW9uVGVzdCIsImZ1bGwiLCJzaW1wbGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx5REFBaUQsY0FBYztBQUMvRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7O0FBR0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwrQ0FBK0MsNkNBQTZDLHdDQUF3QyxXQUFXLDhGQUE4RixnQ0FBZ0MsdUNBQXVDLG1DQUFtQyw0REFBNEQsV0FBVyxLQUFLLHdCQUF3QixNQUFNLE9BQU8sT0FBTztBQUMzZCw2Q0FBNkMsc0tBQXNLLFNBQVMsc0JB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHVCQUF1QixtQkFBbUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FB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QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7Ozs7Ozs7Ozs7Ozs7QUM3NUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQzNCQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0I7Ozs7Ozs7Ozs7OztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNkI7Ozs7Ozs7Ozs7OztBQ2hCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZCQUE2QjtBQUM3QixRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsS0FBSztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULDRCQUE0QjtBQUM1QixPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsc0JBQXNCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLDJCQUEyQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGdDQUFnQztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUIsZ0NBQWdDO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7QUMxaUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLFFBSUQ7Ozs7Ozs7Ozs7Ozs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1hBOztBQUVBOztJQUFZQSxX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a0UsSUFEbEUsRUFFSSxXQUZKLEVBRWlCLGFBRmpCLEVBRWdDLGNBRmhDLEVBRWdELFdBRmhELEVBR0ksV0FISixFQUdpQixTQUhqQixFQUc0QixXQUg1QixFQUd5QyxNQUh6QyxFQUdpRCxPQUhqRCxFQUcwRCxXQUgxRCxFQUd1RSxjQUh2RSxDQUxFLENBREQ7QUFZTEMsZ0JBQVEsQ0FBQyxRQUFELEVBQVcsTUFBWCxFQUFtQixRQUFuQixFQUE2QixXQUE3QixFQUEwQyxNQUExQztBQVpILEtBRlY7QUFnQkN0K0MsVUFBTSx3QkFBYzJ3QjtBQWhCckIsQ0FiZ0IsRUE4QmhCO0FBQ0N0dUIsVUFBTSxPQURQO0FBRUM3RSxhQUFTLENBQUMsY0FBRCxFQUFpQixVQUFqQixFQUE2QixhQUE3QixFQUE0QyxXQUE1QyxFQUF5RCxhQUF6RCxDQUZWO0FBR0M2bkIsd0JBQW9CLDRCQUE0QjFFLEtBSGpEO0FBSUNrRyxpQkFBYSw0QkFBcUJsRyxLQUpuQztBQUtDM2dCLFVBQU0sd0JBQWMyZ0I7QUFMckIsQ0E5QmdCLENBQW5COztrQkFzQ2UzZixVOzs7Ozs7Ozs7OztBQzFDZixtRDs7Ozs7Ozs7Ozs7QUNBQSx1RCIsImZpbGUiOiJhbGxveS1lZGl0b3Itbm8tcmVhY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCJyZWFjdFwiKSwgcmVxdWlyZShcInJlYWN0LWRvbVwiKSk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXCJyZWFjdFwiLCBcInJlYWN0LWRvbVwiXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJBbGxveUVkaXRvclwiXSA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJBbGxveUVkaXRvclwiXSA9IGZhY3Rvcnkocm9vdFtcIlJlYWN0XCJdLCByb290W1wiUmVhY3RET01cIl0pO1xufSkod2luZG93LCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX3JlYWN0X18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfZG9tX18pIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9zY3JpcHRzL2J1aWxkL2luZGV4LmpzXCIpO1xuIiwi77u/LypcbkNvcHlyaWdodCAoYykgMjAwMy0yMDE4LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cHM6Ly9ja2VkaXRvci5jb20vbGVnYWwvY2tlZGl0b3Itb3NzLWxpY2Vuc2VcbiovXG4oZnVuY3Rpb24oKXtpZih3aW5kb3cuQ0tFRElUT1ImJndpbmRvdy5DS0VESVRPUi5kb20pcmV0dXJuO3dpbmRvdy5DS0VESVRPUnx8KHdpbmRvdy5DS0VESVRPUj1mdW5jdGlvbigpe3ZhciBhPS8oXnwuKltcXFxcXFwvXSlja2VkaXRvclxcLmpzKD86XFw/Lip8Oy4qKT8kL2ksZD17dGltZXN0YW1wOlwiSUE4RlwiLHZlcnNpb246XCI0LjExLjFcIixyZXZpc2lvbjpcImMyNjRjYWNcIixybmQ6TWF0aC5mbG9vcig5MDAqTWF0aC5yYW5kb20oKSkrMTAwLF86e3BlbmRpbmc6W10sYmFzZVBhdGhTcmNQYXR0ZXJuOmF9LHN0YXR1czpcInVubG9hZGVkXCIsYmFzZVBhdGg6ZnVuY3Rpb24oKXt2YXIgYj13aW5kb3cuQ0tFRElUT1JfQkFTRVBBVEh8fFwiXCI7aWYoIWIpZm9yKHZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGg9Y1tkXS5zcmMubWF0Y2goYSk7aWYoaCl7Yj1oWzFdO2JyZWFrfX0tMT09Yi5pbmRleE9mKFwiOi9cIikmJlwiLy9cIiE9Yi5zbGljZSgwLDIpJiYoYj0wPT09Yi5pbmRleE9mKFwiL1wiKT9sb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXStcbmI6bG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0rYik7aWYoIWIpdGhyb3cnVGhlIENLRWRpdG9yIGluc3RhbGxhdGlvbiBwYXRoIGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGRldGVjdGVkLiBQbGVhc2Ugc2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgXCJDS0VESVRPUl9CQVNFUEFUSFwiIGJlZm9yZSBjcmVhdGluZyBlZGl0b3IgaW5zdGFuY2VzLic7cmV0dXJuIGJ9KCksZ2V0VXJsOmZ1bmN0aW9uKGEpey0xPT1hLmluZGV4T2YoXCI6L1wiKSYmMCE9PWEuaW5kZXhPZihcIi9cIikmJihhPXRoaXMuYmFzZVBhdGgrYSk7dGhpcy50aW1lc3RhbXAmJlwiL1wiIT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmIS9bJj9ddD0vLnRlc3QoYSkmJihhKz0oMDw9YS5pbmRleE9mKFwiP1wiKT9cIlxceDI2XCI6XCI/XCIpK1widFxceDNkXCIrdGhpcy50aW1lc3RhbXApO3JldHVybiBhfSxkb21SZWFkeTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0cnl7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixcbmEsITEpLGIoKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJlwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJihkb2N1bWVudC5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEpLGIoKSl9Y2F0Y2goYyl7fX1mdW5jdGlvbiBiKCl7Zm9yKHZhciBhO2E9Yy5zaGlmdCgpOylhKCl9dmFyIGM9W107cmV0dXJuIGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIHAoKXt0cnl7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKFwibGVmdFwiKX1jYXRjaChiKXtzZXRUaW1lb3V0KHAsMSk7cmV0dXJufWEoKX1jLnB1c2goYik7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmc2V0VGltZW91dChhLDEpO2lmKDE9PWMubGVuZ3RoKWlmKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIpZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixhLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixhLCExKTtlbHNlIGlmKGRvY3VtZW50LmF0dGFjaEV2ZW50KXtkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLFxuYSk7d2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsYSk7Yj0hMTt0cnl7Yj0hd2luZG93LmZyYW1lRWxlbWVudH1jYXRjaChkKXt9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZiJiZwKCl9fX0oKX0sYj13aW5kb3cuQ0tFRElUT1JfR0VUVVJMO2lmKGIpe3ZhciBjPWQuZ2V0VXJsO2QuZ2V0VXJsPWZ1bmN0aW9uKGEpe3JldHVybiBiLmNhbGwoZCxhKXx8Yy5jYWxsKGQsYSl9fXJldHVybiBkfSgpKTtcbkNLRURJVE9SLmV2ZW50fHwoQ0tFRElUT1IuZXZlbnQ9ZnVuY3Rpb24oKXt9LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uPWZ1bmN0aW9uKGEpe3ZhciBkPUNLRURJVE9SLmV2ZW50LnByb3RvdHlwZSxiO2ZvcihiIGluIGQpbnVsbD09YVtiXSYmKGFbYl09ZFtiXSl9LENLRURJVE9SLmV2ZW50LnByb3RvdHlwZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGY9ZCh0aGlzKTtyZXR1cm4gZlthXXx8KGZbYV09bmV3IGIoYSkpfXZhciBkPWZ1bmN0aW9uKGEpe2E9YS5nZXRQcml2YXRlJiZhLmdldFByaXZhdGUoKXx8YS5ffHwoYS5fPXt9KTtyZXR1cm4gYS5ldmVudHN8fChhLmV2ZW50cz17fSl9LGI9ZnVuY3Rpb24oYSl7dGhpcy5uYW1lPWE7dGhpcy5saXN0ZW5lcnM9W119O2IucHJvdG90eXBlPXtnZXRMaXN0ZW5lckluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGQ9dGhpcy5saXN0ZW5lcnM7YjxkLmxlbmd0aDtiKyspaWYoZFtiXS5mbj09YSlyZXR1cm4gYjtyZXR1cm4tMX19O1xucmV0dXJue2RlZmluZTpmdW5jdGlvbihiLGQpe3ZhciBnPWEuY2FsbCh0aGlzLGIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChnLGQsITApfSxvbjpmdW5jdGlvbihiLGQsZyxrLGgpe2Z1bmN0aW9uIHAoYSx4LHcsZSl7YT17bmFtZTpiLHNlbmRlcjp0aGlzLGVkaXRvcjphLGRhdGE6eCxsaXN0ZW5lckRhdGE6ayxzdG9wOncsY2FuY2VsOmUscmVtb3ZlTGlzdGVuZXI6cX07cmV0dXJuITE9PT1kLmNhbGwoZyxhKT8hMTphLmRhdGF9ZnVuY3Rpb24gcSgpe3gucmVtb3ZlTGlzdGVuZXIoYixkKX12YXIgZT1hLmNhbGwodGhpcyxiKTtpZigwPmUuZ2V0TGlzdGVuZXJJbmRleChkKSl7ZT1lLmxpc3RlbmVycztnfHwoZz10aGlzKTtpc05hTihoKSYmKGg9MTApO3ZhciB4PXRoaXM7cC5mbj1kO3AucHJpb3JpdHk9aDtmb3IodmFyIHc9ZS5sZW5ndGgtMTswPD13O3ctLSlpZihlW3ddLnByaW9yaXR5PD1oKXJldHVybiBlLnNwbGljZSh3KzEsMCxwKSx7cmVtb3ZlTGlzdGVuZXI6cX07ZS51bnNoaWZ0KHApfXJldHVybntyZW1vdmVMaXN0ZW5lcjpxfX0sXG5vbmNlOmZ1bmN0aW9uKCl7dmFyIGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxiPWFbMV07YVsxXT1mdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdGhpcy5vbi5hcHBseSh0aGlzLGEpfSxjYXB0dXJlOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xO3ZhciBhPXRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpO0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MDtyZXR1cm4gYX0sZmlyZTpmdW5jdGlvbigpe3ZhciBhPTAsYj1mdW5jdGlvbigpe2E9MX0sZz0wLGs9ZnVuY3Rpb24oKXtnPTF9O3JldHVybiBmdW5jdGlvbihoLHAscSl7dmFyIGU9ZCh0aGlzKVtoXTtoPWE7dmFyIHg9ZzthPWc9MDtpZihlKXt2YXIgdz1lLmxpc3RlbmVycztpZih3Lmxlbmd0aClmb3IodmFyIHc9dy5zbGljZSgwKSx6LEY9MDtGPHcubGVuZ3RoO0YrKyl7aWYoZS5lcnJvclByb29mKXRyeXt6PVxud1tGXS5jYWxsKHRoaXMscSxwLGIsayl9Y2F0Y2godil7fWVsc2Ugej13W0ZdLmNhbGwodGhpcyxxLHAsYixrKTshMT09PXo/Zz0xOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB6JiYocD16KTtpZihhfHxnKWJyZWFrfX1wPWc/ITE6XCJ1bmRlZmluZWRcIj09dHlwZW9mIHA/ITA6cDthPWg7Zz14O3JldHVybiBwfX0oKSxmaXJlT25jZTpmdW5jdGlvbihhLGIsZyl7Yj10aGlzLmZpcmUoYSxiLGcpO2RlbGV0ZSBkKHRoaXMpW2FdO3JldHVybiBifSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhLGIpe3ZhciBnPWQodGhpcylbYV07aWYoZyl7dmFyIGs9Zy5nZXRMaXN0ZW5lckluZGV4KGIpOzA8PWsmJmcubGlzdGVuZXJzLnNwbGljZShrLDEpfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9ZCh0aGlzKSxiO2ZvcihiIGluIGEpZGVsZXRlIGFbYl19LGhhc0xpc3RlbmVyczpmdW5jdGlvbihhKXtyZXR1cm4oYT1kKHRoaXMpW2FdKSYmMDxhLmxpc3RlbmVycy5sZW5ndGh9fX0oKSk7XG5DS0VESVRPUi5lZGl0b3J8fChDS0VESVRPUi5lZGl0b3I9ZnVuY3Rpb24oKXtDS0VESVRPUi5fLnBlbmRpbmcucHVzaChbdGhpcyxhcmd1bWVudHNdKTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpfSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oYSxkKXthIGlue2luc3RhbmNlUmVhZHk6MSxsb2FkZWQ6MX0mJih0aGlzW2FdPSEwKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmUuY2FsbCh0aGlzLGEsZCx0aGlzKX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5maXJlT25jZT1mdW5jdGlvbihhLGQpe2EgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYV09ITApO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUuZmlyZU9uY2UuY2FsbCh0aGlzLGEsZCx0aGlzKX0sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSkpO1xuQ0tFRElUT1IuZW52fHwoQ0tFRElUT1IuZW52PWZ1bmN0aW9uKCl7dmFyIGE9bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGQ9YS5tYXRjaCgvZWRnZVsgXFwvXShcXGQrLj9cXGQqKS8pLGI9LTE8YS5pbmRleE9mKFwidHJpZGVudC9cIiksYj0hKCFkJiYhYiksYj17aWU6YixlZGdlOiEhZCx3ZWJraXQ6IWImJi0xPGEuaW5kZXhPZihcIiBhcHBsZXdlYmtpdC9cIiksYWlyOi0xPGEuaW5kZXhPZihcIiBhZG9iZWFpci9cIiksbWFjOi0xPGEuaW5kZXhPZihcIm1hY2ludG9zaFwiKSxxdWlya3M6XCJCYWNrQ29tcGF0XCI9PWRvY3VtZW50LmNvbXBhdE1vZGUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMD5kb2N1bWVudC5kb2N1bWVudE1vZGUpLG1vYmlsZTotMTxhLmluZGV4T2YoXCJtb2JpbGVcIiksaU9TOi8oaXBhZHxpcGhvbmV8aXBvZCkvLnRlc3QoYSksaXNDdXN0b21Eb21haW46ZnVuY3Rpb24oKXtpZighdGhpcy5pZSlyZXR1cm4hMTt2YXIgYT1kb2N1bWVudC5kb21haW4sYj13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7XG5yZXR1cm4gYSE9YiYmYSE9XCJbXCIrYitcIl1cIn0sc2VjdXJlOlwiaHR0cHM6XCI9PWxvY2F0aW9uLnByb3RvY29sfTtiLmdlY2tvPVwiR2Vja29cIj09bmF2aWdhdG9yLnByb2R1Y3QmJiFiLndlYmtpdCYmIWIuaWU7Yi53ZWJraXQmJigtMTxhLmluZGV4T2YoXCJjaHJvbWVcIik/Yi5jaHJvbWU9ITA6Yi5zYWZhcmk9ITApO3ZhciBjPTA7Yi5pZSYmKGM9ZD9wYXJzZUZsb2F0KGRbMV0pOmIucXVpcmtzfHwhZG9jdW1lbnQuZG9jdW1lbnRNb2RlP3BhcnNlRmxvYXQoYS5tYXRjaCgvbXNpZSAoXFxkKykvKVsxXSk6ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGIuaWU5Q29tcGF0PTk9PWMsYi5pZThDb21wYXQ9OD09YyxiLmllN0NvbXBhdD03PT1jLGIuaWU2Q29tcGF0PTc+Y3x8Yi5xdWlya3MpO2IuZ2Vja28mJihkPWEubWF0Y2goL3J2OihbXFxkXFwuXSspLykpJiYoZD1kWzFdLnNwbGl0KFwiLlwiKSxjPTFFNCpkWzBdKzEwMCooZFsxXXx8MCkrMSooZFsyXXx8MCkpO2IuYWlyJiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhZG9iZWFpclxcLyhcXGQrKS8pWzFdKSk7XG5iLndlYmtpdCYmKGM9cGFyc2VGbG9hdChhLm1hdGNoKC8gYXBwbGV3ZWJraXRcXC8oXFxkKykvKVsxXSkpO2IudmVyc2lvbj1jO2IuaXNDb21wYXRpYmxlPSEoYi5pZSYmNz5jKSYmIShiLmdlY2tvJiY0RTQ+YykmJiEoYi53ZWJraXQmJjUzND5jKTtiLmhpZHBpPTI8PXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO2IubmVlZHNCckZpbGxlcj1iLmdlY2tvfHxiLndlYmtpdHx8Yi5pZSYmMTA8YztiLm5lZWRzTmJzcEZpbGxlcj1iLmllJiYxMT5jO2IuY3NzQ2xhc3M9XCJja2VfYnJvd3Nlcl9cIisoYi5pZT9cImllXCI6Yi5nZWNrbz9cImdlY2tvXCI6Yi53ZWJraXQ/XCJ3ZWJraXRcIjpcInVua25vd25cIik7Yi5xdWlya3MmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9xdWlya3NcIik7Yi5pZSYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2llXCIrKGIucXVpcmtzP1wiNiBja2VfYnJvd3Nlcl9pZXF1aXJrc1wiOmIudmVyc2lvbikpO2IuYWlyJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfYWlyXCIpO1xuYi5pT1MmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pb3NcIik7Yi5oaWRwaSYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9oaWRwaVwiKTtyZXR1cm4gYn0oKSk7XG5cInVubG9hZGVkXCI9PUNLRURJVE9SLnN0YXR1cyYmZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUik7Q0tFRElUT1IubG9hZEZ1bGxDb3JlPWZ1bmN0aW9uKCl7aWYoXCJiYXNpY19yZWFkeVwiIT1DS0VESVRPUi5zdGF0dXMpQ0tFRElUT1IubG9hZEZ1bGxDb3JlLl9sb2FkPTE7ZWxzZXtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7YS50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI7YS5zcmM9Q0tFRElUT1IuYmFzZVBhdGgrXCJja2VkaXRvci5qc1wiO2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXS5hcHBlbmRDaGlsZChhKX19O0NLRURJVE9SLmxvYWRGdWxsQ29yZVRpbWVvdXQ9MDtDS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYSl7KHRoaXMuXy5wZW5kaW5nfHwodGhpcy5fLnBlbmRpbmc9W10pKS5wdXNoKGEpfTsoZnVuY3Rpb24oKXtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpe3ZhciBhPVxuQ0tFRElUT1IubG9hZEZ1bGxDb3JlLGQ9Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dDthJiYoQ0tFRElUT1Iuc3RhdHVzPVwiYmFzaWNfcmVhZHlcIixhJiZhLl9sb2FkP2EoKTpkJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IubG9hZEZ1bGxDb3JlJiZDS0VESVRPUi5sb2FkRnVsbENvcmUoKX0sMUUzKmQpKX0pfSkoKTtDS0VESVRPUi5zdGF0dXM9XCJiYXNpY19sb2FkZWRcIn0oKTtcInVzZSBzdHJpY3RcIjtDS0VESVRPUi5WRVJCT1NJVFlfV0FSTj0xO0NLRURJVE9SLlZFUkJPU0lUWV9FUlJPUj0yO0NLRURJVE9SLnZlcmJvc2l0eT1DS0VESVRPUi5WRVJCT1NJVFlfV0FSTnxDS0VESVRPUi5WRVJCT1NJVFlfRVJST1I7Q0tFRElUT1Iud2Fybj1mdW5jdGlvbihhLGQpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfV0FSTiYmQ0tFRElUT1IuZmlyZShcImxvZ1wiLHt0eXBlOlwid2FyblwiLGVycm9yQ29kZTphLGFkZGl0aW9uYWxEYXRhOmR9KX07XG5DS0VESVRPUi5lcnJvcj1mdW5jdGlvbihhLGQpe0NLRURJVE9SLnZlcmJvc2l0eSZDS0VESVRPUi5WRVJCT1NJVFlfRVJST1ImJkNLRURJVE9SLmZpcmUoXCJsb2dcIix7dHlwZTpcImVycm9yXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6ZH0pfTtcbkNLRURJVE9SLm9uKFwibG9nXCIsZnVuY3Rpb24oYSl7aWYod2luZG93LmNvbnNvbGUmJndpbmRvdy5jb25zb2xlLmxvZyl7dmFyIGQ9Y29uc29sZVthLmRhdGEudHlwZV0/YS5kYXRhLnR5cGU6XCJsb2dcIixiPWEuZGF0YS5lcnJvckNvZGU7aWYoYT1hLmRhdGEuYWRkaXRpb25hbERhdGEpY29uc29sZVtkXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrYitcIi5cIixhKTtlbHNlIGNvbnNvbGVbZF0oXCJbQ0tFRElUT1JdIEVycm9yIGNvZGU6IFwiK2IrXCIuXCIpO2NvbnNvbGVbZF0oXCJbQ0tFRElUT1JdIEZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoaXMgZXJyb3IgZ28gdG8gaHR0cHM6Ly9ja2VkaXRvci5jb20vZG9jcy9ja2VkaXRvcjQvbGF0ZXN0L2d1aWRlL2Rldl9lcnJvcnMuaHRtbCNcIitiKX19LG51bGwsbnVsbCw5OTkpO0NLRURJVE9SLmRvbT17fTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGUpe3RoaXMuX21pbkludGVydmFsPWE7dGhpcy5fY29udGV4dD1lO3RoaXMuX2xhc3RPdXRwdXQ9dGhpcy5fc2NoZWR1bGVkVGltZXI9MDt0aGlzLl9vdXRwdXQ9Q0tFRElUT1IudG9vbHMuYmluZChiLGV8fHt9KTt2YXIgYz10aGlzO3RoaXMuaW5wdXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Yy5fbGFzdE91dHB1dD0obmV3IERhdGUpLmdldFRpbWUoKTtjLl9zY2hlZHVsZWRUaW1lcj0wO2MuX2NhbGwoKX1pZighYy5fc2NoZWR1bGVkVGltZXJ8fCExIT09Yy5fcmVzY2hlZHVsZSgpKXt2YXIgeD0obmV3IERhdGUpLmdldFRpbWUoKS1jLl9sYXN0T3V0cHV0O3g8Yy5fbWluSW50ZXJ2YWw/Yy5fc2NoZWR1bGVkVGltZXI9c2V0VGltZW91dChhLGMuX21pbkludGVydmFsLXgpOmEoKX19fWZ1bmN0aW9uIGQoeCxiLGUpe2EuY2FsbCh0aGlzLHgsYixlKTt0aGlzLl9hcmdzPVtdO3ZhciBjPXRoaXM7dGhpcy5pbnB1dD1DS0VESVRPUi50b29scy5vdmVycmlkZSh0aGlzLmlucHV0LFxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7Yy5fYXJncz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO2EuY2FsbCh0aGlzKX19KX12YXIgYj1bXSxjPUNLRURJVE9SLmVudi5nZWNrbz9cIi1tb3otXCI6Q0tFRElUT1IuZW52LndlYmtpdD9cIi13ZWJraXQtXCI6Q0tFRElUT1IuZW52LmllP1wiLW1zLVwiOlwiXCIsZj0vJi9nLGc9Lz4vZyxrPS88L2csaD0vXCIvZyxwPS8mKGx0fGd0fGFtcHxxdW90fG5ic3B8c2h5fCNcXGR7MSw1fSk7L2cscT17bHQ6XCJcXHgzY1wiLGd0OlwiXFx4M2VcIixhbXA6XCJcXHgyNlwiLHF1b3Q6J1wiJyxuYnNwOlwiwqBcIixzaHk6XCLCrVwifSxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuXCIjXCI9PWJbMF0/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChiLnNsaWNlKDEpLDEwKSk6cVtiXX07Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7Yj1bXX0pO0NLRURJVE9SLnRvb2xzPXthcnJheUNvbXBhcmU6ZnVuY3Rpb24oYSxiKXtpZighYSYmIWIpcmV0dXJuITA7XG5pZighYXx8IWJ8fGEubGVuZ3RoIT1iLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKylpZihhW2VdIT1iW2VdKXJldHVybiExO3JldHVybiEwfSxnZXRJbmRleDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7KytlKWlmKGIoYVtlXSkpcmV0dXJuIGU7cmV0dXJuLTF9LGNsb25lOmZ1bmN0aW9uKGEpe3ZhciBiO2lmKGEmJmEgaW5zdGFuY2VvZiBBcnJheSl7Yj1bXTtmb3IodmFyIGU9MDtlPGEubGVuZ3RoO2UrKyliW2VdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbZV0pO3JldHVybiBifWlmKG51bGw9PT1hfHxcIm9iamVjdFwiIT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW58fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgUmVnRXhwfHxhLm5vZGVUeXBlfHxhLndpbmRvdz09PWEpcmV0dXJuIGE7Yj1uZXcgYS5jb25zdHJ1Y3Rvcjtmb3IoZSBpbiBhKWJbZV09XG5DS0VESVRPUi50b29scy5jbG9uZShhW2VdKTtyZXR1cm4gYn0sY2FwaXRhbGl6ZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKyhiP2Euc2xpY2UoMSk6YS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cy5sZW5ndGgsZSxjO1wiYm9vbGVhblwiPT10eXBlb2YoZT1hcmd1bWVudHNbYi0xXSk/Yi0tOlwiYm9vbGVhblwiPT10eXBlb2YoZT1hcmd1bWVudHNbYi0yXSkmJihjPWFyZ3VtZW50c1tiLTFdLGItPTIpO2Zvcih2YXIgaD0xO2g8YjtoKyspe3ZhciBtPWFyZ3VtZW50c1toXSxkO2ZvcihkIGluIG0paWYoITA9PT1lfHxudWxsPT1hW2RdKWlmKCFjfHxkIGluIGMpYVtkXT1tW2RdfXJldHVybiBhfSxwcm90b3R5cGVkQ29weTpmdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbigpe307Yi5wcm90b3R5cGU9YTtyZXR1cm4gbmV3IGJ9LGNvcHk6ZnVuY3Rpb24oYSl7dmFyIGI9e30sZTtmb3IoZSBpbiBhKWJbZV09XG5hW2VdO3JldHVybiBifSxpc0FycmF5OmZ1bmN0aW9uKGEpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoYikpcmV0dXJuITE7cmV0dXJuITB9LGNzc1ZlbmRvclByZWZpeDpmdW5jdGlvbihhLGIsZSl7aWYoZSlyZXR1cm4gYythK1wiOlwiK2IrXCI7XCIrYStcIjpcIitiO2U9e307ZVthXT1iO2VbYythXT1iO3JldHVybiBlfSxjc3NTdHlsZVRvRG9tU3R5bGU6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY3NzRmxvYXQ/XCJjc3NGbG9hdFwiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnN0eWxlRmxvYXQ/XCJzdHlsZUZsb2F0XCI6XCJmbG9hdFwiO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm5cImZsb2F0XCI9PWE/YjphLnJlcGxhY2UoLy0uL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3Vic3RyKDEpLnRvVXBwZXJDYXNlKCl9KX19KCksXG5idWlsZFN0eWxlSHRtbDpmdW5jdGlvbihhKXthPVtdLmNvbmNhdChhKTtmb3IodmFyIGIsZT1bXSxjPTA7YzxhLmxlbmd0aDtjKyspaWYoYj1hW2NdKS9AaW1wb3J0fFt7fV0vLnRlc3QoYik/ZS5wdXNoKFwiXFx4M2NzdHlsZVxceDNlXCIrYitcIlxceDNjL3N0eWxlXFx4M2VcIik6ZS5wdXNoKCdcXHgzY2xpbmsgdHlwZVxceDNkXCJ0ZXh0L2Nzc1wiIHJlbFxceDNkc3R5bGVzaGVldCBocmVmXFx4M2RcIicrYisnXCJcXHgzZScpO3JldHVybiBlLmpvaW4oXCJcIil9LGh0bWxFbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PT1hP1wiXCI6U3RyaW5nKGEpLnJlcGxhY2UoZixcIlxceDI2YW1wO1wiKS5yZXBsYWNlKGcsXCJcXHgyNmd0O1wiKS5yZXBsYWNlKGssXCJcXHgyNmx0O1wiKX0saHRtbERlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHAsZSl9LGh0bWxFbmNvZGVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEpLnJlcGxhY2UoaCxcIlxceDI2cXVvdDtcIil9LFxuaHRtbERlY29kZUF0dHI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmh0bWxEZWNvZGUoYSl9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBlPWI9PUNLRURJVE9SLkVOVEVSX0JSLGM9dGhpcy5odG1sRW5jb2RlKGEucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikpLGM9Yy5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIiksaD1iPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7aWYoIWUpe3ZhciBtPS9cXG57Mn0vZztpZihtLnRlc3QoYykpdmFyIGQ9XCJcXHgzY1wiK2grXCJcXHgzZVwiLHA9XCJcXHgzYy9cIitoK1wiXFx4M2VcIixjPWQrYy5yZXBsYWNlKG0sZnVuY3Rpb24oKXtyZXR1cm4gcCtkfSkrcH1jPWMucmVwbGFjZSgvXFxuL2csXCJcXHgzY2JyXFx4M2VcIik7ZXx8KGM9Yy5yZXBsYWNlKG5ldyBSZWdFeHAoXCJcXHgzY2JyXFx4M2UoP1xceDNkXFx4M2MvXCIraCtcIlxceDNlKVwiKSxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KGEsXG4yKX0pKTtjPWMucmVwbGFjZSgvXiB8ICQvZyxcIlxceDI2bmJzcDtcIik7cmV0dXJuIGM9Yy5yZXBsYWNlKC8oPnxcXHMpIC9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIrXCJcXHgyNm5ic3A7XCJ9KS5yZXBsYWNlKC8gKD89PCkvZyxcIlxceDI2bmJzcDtcIil9LGdldE5leHROdW1iZXI6ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybisrYX19KCksZ2V0TmV4dElkOmZ1bmN0aW9uKCl7cmV0dXJuXCJja2VfXCIrdGhpcy5nZXROZXh0TnVtYmVyKCl9LGdldFVuaXF1ZUlkOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiZVwiLGI9MDs4PmI7YisrKWErPU1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7cmV0dXJuIGF9LG92ZXJyaWRlOmZ1bmN0aW9uKGEsYil7dmFyIGU9YihhKTtlLnByb3RvdHlwZT1hLnByb3RvdHlwZTtyZXR1cm4gZX0sc2V0VGltZW91dDpmdW5jdGlvbihhLGIsZSxjLGgpe2h8fChoPXdpbmRvdyk7ZXx8KGU9XG5oKTtyZXR1cm4gaC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yz9hLmFwcGx5KGUsW10uY29uY2F0KGMpKTphLmFwcGx5KGUpfSxifHwwKX0sdGhyb3R0bGU6ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBuZXcgdGhpcy5idWZmZXJzLnRocm90dGxlKGEsYixlKX0sdHJpbTpmdW5jdGlvbigpe3ZhciBhPS8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2c7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnJlcGxhY2UoYSxcIlwiKX19KCksbHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vXlsgXFx0XFxuXFxyXSsvZztyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIucmVwbGFjZShhLFwiXCIpfX0oKSxydHJpbTpmdW5jdGlvbigpe3ZhciBhPS9bIFxcdFxcblxccl0rJC9nO3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYi5yZXBsYWNlKGEsXCJcIil9fSgpLGluZGV4T2Y6ZnVuY3Rpb24oYSxiKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBiKWZvcih2YXIgZT0wLGM9YS5sZW5ndGg7ZTxjO2UrKyl7aWYoYihhW2VdKSlyZXR1cm4gZX1lbHNle2lmKGEuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGIpO1xuZT0wO2ZvcihjPWEubGVuZ3RoO2U8YztlKyspaWYoYVtlXT09PWIpcmV0dXJuIGV9cmV0dXJuLTF9LHNlYXJjaDpmdW5jdGlvbihhLGIpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYSxiKTtyZXR1cm4gMDw9ZT9hW2VdOm51bGx9LGJpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fSxjcmVhdGVDbGFzczpmdW5jdGlvbihhKXt2YXIgYj1hLiQsZT1hLmJhc2UsYz1hLnByaXZhdGVzfHxhLl8saD1hLnByb3RvO2E9YS5zdGF0aWNzOyFiJiYoYj1mdW5jdGlvbigpe2UmJnRoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtpZihjKXZhciBtPWIsYj1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX3x8KHRoaXMuXz17fSksYjtmb3IoYiBpbiBjKXt2YXIgZT1jW2JdO2FbYl09XCJmdW5jdGlvblwiPT10eXBlb2YgZT9DS0VESVRPUi50b29scy5iaW5kKGUsdGhpcyk6ZX1tLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZSYmXG4oYi5wcm90b3R5cGU9dGhpcy5wcm90b3R5cGVkQ29weShlLnByb3RvdHlwZSksYi5wcm90b3R5cGUuY29uc3RydWN0b3I9YixiLmJhc2U9ZSxiLmJhc2VQcm90bz1lLnByb3RvdHlwZSxiLnByb3RvdHlwZS5iYXNlPWZ1bmN0aW9uKCl7dGhpcy5iYXNlPWUucHJvdG90eXBlLmJhc2U7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5iYXNlPWFyZ3VtZW50cy5jYWxsZWV9KTtoJiZ0aGlzLmV4dGVuZChiLnByb3RvdHlwZSxoLCEwKTthJiZ0aGlzLmV4dGVuZChiLGEsITApO3JldHVybiBifSxhZGRGdW5jdGlvbjpmdW5jdGlvbihhLGUpe3JldHVybiBiLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShlfHx0aGlzLGFyZ3VtZW50cyl9KS0xfSxyZW1vdmVGdW5jdGlvbjpmdW5jdGlvbihhKXtiW2FdPW51bGx9LGNhbGxGdW5jdGlvbjpmdW5jdGlvbihhKXt2YXIgZT1iW2FdO3JldHVybiBlJiZlLmFwcGx5KHdpbmRvdyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsXG4xKSl9LGNzc0xlbmd0aDpmdW5jdGlvbigpe3ZhciBhPS9eLT9cXGQrXFwuP1xcZCpweCQvLGI7cmV0dXJuIGZ1bmN0aW9uKGUpe2I9Q0tFRElUT1IudG9vbHMudHJpbShlK1wiXCIpK1wicHhcIjtyZXR1cm4gYS50ZXN0KGIpP2I6ZXx8XCJcIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oYil7YXx8KGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweDttYXJnaW46MHB4O3BhZGRpbmc6MHB4O2JvcmRlcjowcHg7XCJcXHgzZVxceDNjL2RpdlxceDNlJyxDS0VESVRPUi5kb2N1bWVudCksQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChhKSk7aWYoIS8lJC8udGVzdChiKSl7dmFyIGU9MD5wYXJzZUZsb2F0KGIpO2UmJihiPWIucmVwbGFjZShcIi1cIixcIlwiKSk7YS5zZXRTdHlsZShcIndpZHRoXCIsYik7Yj1hLiQuY2xpZW50V2lkdGg7XG5yZXR1cm4gZT8tYjpifXJldHVybiBifX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQXJyYXkoYisxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiPTAsZT1hcmd1bWVudHMubGVuZ3RoO2I8ZTtiKyspe3ZhciBjPWFyZ3VtZW50c1tiXTt0cnl7YT1jKCk7YnJlYWt9Y2F0Y2goaCl7fX1yZXR1cm4gYX0sZ2VuS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykuam9pbihcIi1cIil9LGRlZmVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cyxlPXRoaXM7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmFwcGx5KGUsYil9LDApfX0sbm9ybWFsaXplQ3NzVGV4dDpmdW5jdGlvbihhLGIpe3ZhciBlPVtdLGMsaD1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYSwhMCxiKTtmb3IoYyBpbiBoKWUucHVzaChjK1wiOlwiK2hbY10pO2Uuc29ydCgpO3JldHVybiBlLmxlbmd0aD9cbmUuam9pbihcIjtcIikrXCI7XCI6XCJcIn0sY29udmVydFJnYlRvSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyg/OnJnYlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpKS9naSxmdW5jdGlvbihhLGIsZSxjKXthPVtiLGUsY107Zm9yKGI9MDszPmI7YisrKWFbYl09KFwiMFwiK3BhcnNlSW50KGFbYl0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO3JldHVyblwiI1wiK2Euam9pbihcIlwiKX0pfSxub3JtYWxpemVIZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvIygoWzAtOWEtZl17M30pezEsMn0pKCR8O3xcXHMrKS9naSxmdW5jdGlvbihhLGIsZSxjKXthPWIudG9Mb3dlckNhc2UoKTszPT1hLmxlbmd0aCYmKGE9YS5zcGxpdChcIlwiKSxhPVthWzBdLGFbMF0sYVsxXSxhWzFdLGFbMl0sYVsyXV0uam9pbihcIlwiKSk7cmV0dXJuXCIjXCIrYStjfSl9LHBhcnNlQ3NzVGV4dDpmdW5jdGlvbihhLGIsZSl7dmFyIGM9e307ZSYmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIikpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXG5hKS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIik7YSYmKGE9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplSGV4KENLRURJVE9SLnRvb2xzLmNvbnZlcnRSZ2JUb0hleChhKSkpO2lmKCFhfHxcIjtcIj09YSlyZXR1cm4gYzthLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW146O1xcc10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLGZ1bmN0aW9uKGEsZSx4KXtiJiYoZT1lLnRvTG93ZXJDYXNlKCksXCJmb250LWZhbWlseVwiPT1lJiYoeD14LnJlcGxhY2UoL1xccyosXFxzKi9nLFwiLFwiKSkseD1DS0VESVRPUi50b29scy50cmltKHgpKTtjW2VdPXh9KTtyZXR1cm4gY30sd3JpdGVDc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGUsYz1bXTtmb3IoZSBpbiBhKWMucHVzaChlK1wiOlwiK2FbZV0pO2ImJmMuc29ydCgpO3JldHVybiBjLmpvaW4oXCI7IFwiKX0sb2JqZWN0Q29tcGFyZTpmdW5jdGlvbihhLGIsZSl7dmFyIGM7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYilyZXR1cm4hMTtcbmZvcihjIGluIGEpaWYoYVtjXSE9YltjXSlyZXR1cm4hMTtpZighZSlmb3IoYyBpbiBiKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9LG9iamVjdEtleXM6ZnVuY3Rpb24oYSl7dmFyIGI9W10sZTtmb3IoZSBpbiBhKWIucHVzaChlKTtyZXR1cm4gYn0sY29udmVydEFycmF5VG9PYmplY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgZT17fTsxPT1hcmd1bWVudHMubGVuZ3RoJiYoYj0hMCk7Zm9yKHZhciBjPTAsaD1hLmxlbmd0aDtjPGg7KytjKWVbYVtjXV09YjtyZXR1cm4gZX0sZml4RG9tYWluOmZ1bmN0aW9uKCl7Zm9yKHZhciBhOzspdHJ5e2E9d2luZG93LnBhcmVudC5kb2N1bWVudC5kb21haW47YnJlYWt9Y2F0Y2goYil7YT1hP2EucmVwbGFjZSgvLis/KD86XFwufCQpLyxcIlwiKTpkb2N1bWVudC5kb21haW47aWYoIWEpYnJlYWs7ZG9jdW1lbnQuZG9tYWluPWF9cmV0dXJuISFhfSxldmVudHNCdWZmZXI6ZnVuY3Rpb24oYSxiLGUpe3JldHVybiBuZXcgdGhpcy5idWZmZXJzLmV2ZW50KGEsXG5iLGUpfSxlbmFibGVIdG1sNUVsZW1lbnRzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPVwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0aW1lIHZpZGVvXCIuc3BsaXQoXCIgXCIpLGM9ZS5sZW5ndGgsaDtjLS07KWg9YS5jcmVhdGVFbGVtZW50KGVbY10pLGImJmEuYXBwZW5kQ2hpbGQoaCl9LGNoZWNrSWZBbnlBcnJheUl0ZW1NYXRjaGVzOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPTAsYz1hLmxlbmd0aDtlPGM7KytlKWlmKGFbZV0ubWF0Y2goYikpcmV0dXJuITA7cmV0dXJuITF9LGNoZWNrSWZBbnlPYmplY3RQcm9wZXJ0eU1hdGNoZXM6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGUgaW4gYSlpZihlLm1hdGNoKGIpKXJldHVybiEwO3JldHVybiExfSxrZXlzdHJva2VUb1N0cmluZzpmdW5jdGlvbihhLFxuYil7dmFyIGU9dGhpcy5rZXlzdHJva2VUb0FycmF5KGEsYik7ZS5kaXNwbGF5PWUuZGlzcGxheS5qb2luKFwiK1wiKTtlLmFyaWE9ZS5hcmlhLmpvaW4oXCIrXCIpO3JldHVybiBlfSxrZXlzdHJva2VUb0FycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGU9YiYxNjcxMTY4MCxjPWImNjU1MzUsaD1DS0VESVRPUi5lbnYubWFjLG09W10sZD1bXTtlJkNLRURJVE9SLkNUUkwmJihtLnB1c2goaD9cIuKMmFwiOmFbMTddKSxkLnB1c2goaD9hWzIyNF06YVsxN10pKTtlJkNLRURJVE9SLkFMVCYmKG0ucHVzaChoP1wi4oylXCI6YVsxOF0pLGQucHVzaChhWzE4XSkpO2UmQ0tFRElUT1IuU0hJRlQmJihtLnB1c2goaD9cIuKHp1wiOmFbMTZdKSxkLnB1c2goYVsxNl0pKTtjJiYoYVtjXT8obS5wdXNoKGFbY10pLGQucHVzaChhW2NdKSk6KG0ucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGMpKSxkLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShjKSkpKTtyZXR1cm57ZGlzcGxheTptLGFyaWE6ZH19LHRyYW5zcGFyZW50SW1hZ2VEYXRhOlwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFQQUJBUC8vL3dBQUFDSDVCQUVLQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3dcXHgzZFxceDNkXCIsXG5nZXRDb29raWU6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBiPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksZSxjLGg9MDtoPGIubGVuZ3RoO2grKylpZihlPWJbaF0uc3BsaXQoXCJcXHgzZFwiKSxjPWRlY29kZVVSSUNvbXBvbmVudChDS0VESVRPUi50b29scy50cmltKGVbMF0pLnRvTG93ZXJDYXNlKCkpLGM9PT1hKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoMTxlLmxlbmd0aD9lWzFdOlwiXCIpO3JldHVybiBudWxsfSxzZXRDb29raWU6ZnVuY3Rpb24oYSxiKXtkb2N1bWVudC5jb29raWU9ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiXFx4M2RcIitlbmNvZGVVUklDb21wb25lbnQoYikrXCI7cGF0aFxceDNkL1wifSxnZXRDc3JmVG9rZW46ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5nZXRDb29raWUoXCJja0NzcmZUb2tlblwiKTtpZighYXx8NDAhPWEubGVuZ3RoKXt2YXIgYT1bXSxiPVwiXCI7aWYod2luZG93LmNyeXB0byYmd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpYT1cbm5ldyBVaW50OEFycmF5KDQwKSx3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhKTtlbHNlIGZvcih2YXIgZT0wOzQwPmU7ZSsrKWEucHVzaChNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSk7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKyl2YXIgYz1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLmNoYXJBdChhW2VdJTM2KSxiPWIrKC41PE1hdGgucmFuZG9tKCk/Yy50b1VwcGVyQ2FzZSgpOmMpO2E9YjtDS0VESVRPUi50b29scy5zZXRDb29raWUoXCJja0NzcmZUb2tlblwiLGEpfXJldHVybiBhfSxlc2NhcGVDc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/d2luZG93LkNTUyYmQ1NTLmVzY2FwZT9DU1MuZXNjYXBlKGEpOmlzTmFOKHBhcnNlSW50KGEuY2hhckF0KDApLDEwKSk/YTpcIlxcXFwzXCIrYS5jaGFyQXQoMCkrXCIgXCIrYS5zdWJzdHJpbmcoMSxhLmxlbmd0aCk6XCJcIn0sZ2V0TW91c2VCdXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9KGE9YS5kYXRhKSYmYS4kO3JldHVybiBhJiZcbmI/Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPzQ9PT1iLmJ1dHRvbj9DS0VESVRPUi5NT1VTRV9CVVRUT05fTUlERExFOjE9PT1iLmJ1dHRvbj9DS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVDpDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQ6Yi5idXR0b246ITF9LGNvbnZlcnRIZXhTdHJpbmdUb0J5dGVzOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGU9YS5sZW5ndGgvMixjO2ZvcihjPTA7YzxlO2MrKyliLnB1c2gocGFyc2VJbnQoYS5zdWJzdHIoMipjLDIpLDE2KSk7cmV0dXJuIGJ9LGNvbnZlcnRCeXRlc1RvQmFzZTY0OmZ1bmN0aW9uKGEpe3ZhciBiPVwiXCIsZT1hLmxlbmd0aCxjO2ZvcihjPTA7YzxlO2MrPTMpe3ZhciBoPWEuc2xpY2UoYyxjKzMpLG09aC5sZW5ndGgsZD1bXSxwO2lmKDM+bSlmb3IocD1tOzM+cDtwKyspaFtwXT0wO2RbMF09KGhbMF0mMjUyKT4+MjtkWzFdPShoWzBdJjMpPDw0fGhbMV0+PjQ7ZFsyXT0oaFsxXSYxNSk8PDJ8KGhbMl0mMTkyKT4+XG42O2RbM109aFsyXSY2Mztmb3IocD0wOzQ+cDtwKyspYj1wPD1tP2IrXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuY2hhckF0KGRbcF0pOmIrXCJcXHgzZFwifXJldHVybiBifSxzdHlsZTp7cGFyc2U6e19jb2xvcnM6e2FsaWNlYmx1ZTpcIiNGMEY4RkZcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsYXF1YTpcIiMwMEZGRkZcIixhcXVhbWFyaW5lOlwiIzdGRkZENFwiLGF6dXJlOlwiI0YwRkZGRlwiLGJlaWdlOlwiI0Y1RjVEQ1wiLGJpc3F1ZTpcIiNGRkU0QzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNGRkVCQ0RcIixibHVlOlwiIzAwMDBGRlwiLGJsdWV2aW9sZXQ6XCIjOEEyQkUyXCIsYnJvd246XCIjQTUyQTJBXCIsYnVybHl3b29kOlwiI0RFQjg4N1wiLGNhZGV0Ymx1ZTpcIiM1RjlFQTBcIixjaGFydHJldXNlOlwiIzdGRkYwMFwiLGNob2NvbGF0ZTpcIiNEMjY5MUVcIixjb3JhbDpcIiNGRjdGNTBcIixjb3JuZmxvd2VyYmx1ZTpcIiM2NDk1RURcIixcbmNvcm5zaWxrOlwiI0ZGRjhEQ1wiLGNyaW1zb246XCIjREMxNDNDXCIsY3lhbjpcIiMwMEZGRkZcIixkYXJrYmx1ZTpcIiMwMDAwOEJcIixkYXJrY3lhbjpcIiMwMDhCOEJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLGRhcmtncmF5OlwiI0E5QTlBOVwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixkYXJrZ3JleTpcIiNBOUE5QTlcIixkYXJra2hha2k6XCIjQkRCNzZCXCIsZGFya21hZ2VudGE6XCIjOEIwMDhCXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsZGFya29yYW5nZTpcIiNGRjhDMDBcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLGRhcmtyZWQ6XCIjOEIwMDAwXCIsZGFya3NhbG1vbjpcIiNFOTk2N0FcIixkYXJrc2VhZ3JlZW46XCIjOEZCQzhGXCIsZGFya3NsYXRlYmx1ZTpcIiM0ODNEOEJcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGRhcmtzbGF0ZWdyZXk6XCIjMkY0RjRGXCIsZGFya3R1cnF1b2lzZTpcIiMwMENFRDFcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLFxuZGltZ3JheTpcIiM2OTY5NjlcIixkaW1ncmV5OlwiIzY5Njk2OVwiLGRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsZmlyZWJyaWNrOlwiI0IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI0ZGRkFGMFwiLGZvcmVzdGdyZWVuOlwiIzIyOEIyMlwiLGZ1Y2hzaWE6XCIjRkYwMEZGXCIsZ2FpbnNib3JvOlwiI0RDRENEQ1wiLGdob3N0d2hpdGU6XCIjRjhGOEZGXCIsZ29sZDpcIiNGRkQ3MDBcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixncmVlbnllbGxvdzpcIiNBREZGMkZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI0YwRkZGMFwiLGhvdHBpbms6XCIjRkY2OUI0XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLGluZGlnbzpcIiM0QjAwODJcIixpdm9yeTpcIiNGRkZGRjBcIixraGFraTpcIiNGMEU2OENcIixsYXZlbmRlcjpcIiNFNkU2RkFcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLGxhd25ncmVlbjpcIiM3Q0ZDMDBcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsbGlnaHRibHVlOlwiI0FERDhFNlwiLGxpZ2h0Y29yYWw6XCIjRjA4MDgwXCIsXG5saWdodGN5YW46XCIjRTBGRkZGXCIsbGlnaHRnb2xkZW5yb2R5ZWxsb3c6XCIjRkFGQUQyXCIsbGlnaHRncmF5OlwiI0QzRDNEM1wiLGxpZ2h0Z3JlZW46XCIjOTBFRTkwXCIsbGlnaHRncmV5OlwiI0QzRDNEM1wiLGxpZ2h0cGluazpcIiNGRkI2QzFcIixsaWdodHNhbG1vbjpcIiNGRkEwN0FcIixsaWdodHNlYWdyZWVuOlwiIzIwQjJBQVwiLGxpZ2h0c2t5Ymx1ZTpcIiM4N0NFRkFcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixsaWdodHNsYXRlZ3JleTpcIiM3Nzg4OTlcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixsaWdodHllbGxvdzpcIiNGRkZGRTBcIixsaW1lOlwiIzAwRkYwMFwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixsaW5lbjpcIiNGQUYwRTZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Q0RBQVwiLG1lZGl1bWJsdWU6XCIjMDAwMENEXCIsbWVkaXVtb3JjaGlkOlwiI0JBNTVEM1wiLG1lZGl1bXB1cnBsZTpcIiM5MzcwREJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIixcbm1lZGl1bXNsYXRlYmx1ZTpcIiM3QjY4RUVcIixtZWRpdW1zcHJpbmdncmVlbjpcIiMwMEZBOUFcIixtZWRpdW10dXJxdW9pc2U6XCIjNDhEMUNDXCIsbWVkaXVtdmlvbGV0cmVkOlwiI0M3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIiMxOTE5NzBcIixtaW50Y3JlYW06XCIjRjVGRkZBXCIsbWlzdHlyb3NlOlwiI0ZGRTRFMVwiLG1vY2Nhc2luOlwiI0ZGRTRCNVwiLG5hdmFqb3doaXRlOlwiI0ZGREVBRFwiLG5hdnk6XCIjMDAwMDgwXCIsb2xkbGFjZTpcIiNGREY1RTZcIixvbGl2ZTpcIiM4MDgwMDBcIixvbGl2ZWRyYWI6XCIjNkI4RTIzXCIsb3JhbmdlOlwiI0ZGQTUwMFwiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIixvcmNoaWQ6XCIjREE3MEQ2XCIscGFsZWdvbGRlbnJvZDpcIiNFRUU4QUFcIixwYWxlZ3JlZW46XCIjOThGQjk4XCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixwYWxldmlvbGV0cmVkOlwiI0RCNzA5M1wiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIscGVhY2hwdWZmOlwiI0ZGREFCOVwiLHBlcnU6XCIjQ0Q4NTNGXCIscGluazpcIiNGRkMwQ0JcIixwbHVtOlwiI0REQTBERFwiLFxucG93ZGVyYmx1ZTpcIiNCMEUwRTZcIixwdXJwbGU6XCIjODAwMDgwXCIscmViZWNjYXB1cnBsZTpcIiM2NjMzOTlcIixyZWQ6XCIjRkYwMDAwXCIscm9zeWJyb3duOlwiI0JDOEY4RlwiLHJveWFsYmx1ZTpcIiM0MTY5RTFcIixzYWRkbGVicm93bjpcIiM4QjQ1MTNcIixzYWxtb246XCIjRkE4MDcyXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIixzZWFncmVlbjpcIiMyRThCNTdcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixzaWVubmE6XCIjQTA1MjJEXCIsc2lsdmVyOlwiI0MwQzBDMFwiLHNreWJsdWU6XCIjODdDRUVCXCIsc2xhdGVibHVlOlwiIzZBNUFDRFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNEOEJGRDhcIix0b21hdG86XCIjRkY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwRTBEMFwiLHZpb2xldDpcIiNFRTgyRUVcIix3aGVhdDpcIiNGNURFQjNcIix3aGl0ZTpcIiNGRkZGRkZcIixcbndoaXRlc21va2U6XCIjRjVGNUY1XCIseWVsbG93OlwiI0ZGRkYwMFwiLHllbGxvd2dyZWVuOlwiIzlBQ0QzMlwifSxfYm9yZGVyU3R5bGU6XCJub25lIGhpZGRlbiBkb3R0ZWQgZGFzaGVkIHNvbGlkIGRvdWJsZSBncm9vdmUgcmlkZ2UgaW5zZXQgb3V0c2V0XCIuc3BsaXQoXCIgXCIpLF93aWR0aFJlZ0V4cDovXih0aGlufG1lZGl1bXx0aGlja3xbXFwrLV0/XFxkKyhcXC5cXGQrKT9bYS16JV0rfFtcXCstXT8wKyhcXC4wKyk/fFxcLlxcZCtbYS16JV0rKSQvLF9yZ2JhUmVnRXhwOi9yZ2JhP1xcKFxccypcXGQrJT9cXHMqLFxccypcXGQrJT9cXHMqLFxccypcXGQrJT9cXHMqKD86LFxccypbMC05Ll0rXFxzKik/XFwpL2dpLF9oc2xhUmVnRXhwOi9oc2xhP1xcKFxccypbMC05Ll0rXFxzKixcXHMqXFxkKyVcXHMqLFxccypcXGQrJVxccyooPzosXFxzKlswLTkuXStcXHMqKT9cXCkvZ2ksYmFja2dyb3VuZDpmdW5jdGlvbihhKXt2YXIgYj17fSxlPXRoaXMuX2ZpbmRDb2xvcihhKTtlLmxlbmd0aCYmKGIuY29sb3I9ZVswXSxDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGUsXG5mdW5jdGlvbihiKXthPWEucmVwbGFjZShiLFwiXCIpfSkpO2lmKGE9Q0tFRElUT1IudG9vbHMudHJpbShhKSliLnVucHJvY2Vzc2VkPWE7cmV0dXJuIGJ9LG1hcmdpbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2UudG9wPWNbYVswXV07ZS5yaWdodD1jW2FbMV1dO2UuYm90dG9tPWNbYVsyXV07ZS5sZWZ0PWNbYVszXV19dmFyIGU9e30sYz1hLm1hdGNoKC8oPzpcXC0/W1xcLlxcZF0rKD86JXxcXHcqKXxhdXRvfGluaGVyaXR8aW5pdGlhbHx1bnNldCkvZyl8fFtcIjBweFwiXTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTpiKFswLDAsMCwwXSk7YnJlYWs7Y2FzZSAyOmIoWzAsMSwwLDFdKTticmVhaztjYXNlIDM6YihbMCwxLDIsMV0pO2JyZWFrO2Nhc2UgNDpiKFswLDEsMiwzXSl9cmV0dXJuIGV9LGJvcmRlcjpmdW5jdGlvbihhKXt2YXIgYj17fSxlPWEuc3BsaXQoL1xccysvZyk7YT1DS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fZmluZENvbG9yKGEpO2EubGVuZ3RoJiYoYi5jb2xvcj1hWzBdKTtcbkNLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goZSxmdW5jdGlvbihhKXtiLnN0eWxlfHwtMT09PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX2JvcmRlclN0eWxlLGEpPyFiLndpZHRoJiZDS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fd2lkdGhSZWdFeHAudGVzdChhKSYmKGIud2lkdGg9YSk6Yi5zdHlsZT1hfSk7cmV0dXJuIGJ9LF9maW5kQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9W10sZT1DS0VESVRPUi50b29scy5hcnJheSxiPWIuY29uY2F0KGEubWF0Y2godGhpcy5fcmdiYVJlZ0V4cCl8fFtdKSxiPWIuY29uY2F0KGEubWF0Y2godGhpcy5faHNsYVJlZ0V4cCl8fFtdKTtyZXR1cm4gYj1iLmNvbmNhdChlLmZpbHRlcihhLnNwbGl0KC9cXHMrLyksZnVuY3Rpb24oYSl7cmV0dXJuIGEubWF0Y2goL15cXCNbYS1mMC05XXszfSg/OlthLWYwLTldezN9KT8kL2dpKT8hMDphLnRvTG93ZXJDYXNlKClpbiBDS0VESVRPUi50b29scy5zdHlsZS5wYXJzZS5fY29sb3JzfSkpfX19LFxuYXJyYXk6e2ZpbHRlcjpmdW5jdGlvbihhLGIsZSl7dmFyIGM9W107dGhpcy5mb3JFYWNoKGEsZnVuY3Rpb24oaCxkKXtiLmNhbGwoZSxoLGQsYSkmJmMucHVzaChoKX0pO3JldHVybiBjfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYixlKXt2YXIgYz1hLmxlbmd0aCxoO2ZvcihoPTA7aDxjO2grKyliLmNhbGwoZSxhW2hdLGgsYSl9LG1hcDpmdW5jdGlvbihhLGIsZSl7Zm9yKHZhciBjPVtdLGg9MDtoPGEubGVuZ3RoO2grKyljLnB1c2goYi5jYWxsKGUsYVtoXSxoLGEpKTtyZXR1cm4gY30scmVkdWNlOmZ1bmN0aW9uKGEsYixlLGMpe2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7aCsrKWU9Yi5jYWxsKGMsZSxhW2hdLGgsYSk7cmV0dXJuIGV9LGV2ZXJ5OmZ1bmN0aW9uKGEsYixlKXtpZighYS5sZW5ndGgpcmV0dXJuITA7Yj10aGlzLmZpbHRlcihhLGIsZSk7cmV0dXJuIGEubGVuZ3RoPT09Yi5sZW5ndGh9fSxvYmplY3Q6e2ZpbmRLZXk6ZnVuY3Rpb24oYSxiKXtpZihcIm9iamVjdFwiIT09dHlwZW9mIGEpcmV0dXJuIG51bGw7XG5mb3IodmFyIGUgaW4gYSlpZihhW2VdPT09YilyZXR1cm4gZTtyZXR1cm4gbnVsbH0sbWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgZT1DS0VESVRPUi50b29scyxjPWUuY2xvbmUoYSksaD1lLmNsb25lKGIpO2UuYXJyYXkuZm9yRWFjaChlLm9iamVjdEtleXMoaCksZnVuY3Rpb24oYSl7Y1thXT1cIm9iamVjdFwiPT09dHlwZW9mIGhbYV0mJlwib2JqZWN0XCI9PT10eXBlb2YgY1thXT9lLm9iamVjdC5tZXJnZShjW2FdLGhbYV0pOmhbYV19KTtyZXR1cm4gY319LGdldEFic29sdXRlUmVjdFBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZShhKXtpZihhKXt2YXIgYj1hLmdldENsaWVudFJlY3QoKTtjLnRvcCs9Yi50b3A7Yy5sZWZ0Kz1iLmxlZnQ7XCJ4XCJpbiBjJiZcInlcImluIGMmJihjLngrPWIueCxjLnkrPWIueSk7ZShhLmdldFdpbmRvdygpLmdldEZyYW1lKCkpfX12YXIgYz1DS0VESVRPUi50b29scy5jb3B5KGIpO2UoYS5nZXRGcmFtZSgpKTt2YXIgaD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuYy50b3ArPWgueTtjLmxlZnQrPWgueDtcInhcImluIGMmJlwieVwiaW4gYyYmKGMueSs9aC55LGMueCs9aC54KTtjLnJpZ2h0PWMubGVmdCtjLndpZHRoO2MuYm90dG9tPWMudG9wK2MuaGVpZ2h0O3JldHVybiBjfX07YS5wcm90b3R5cGU9e3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fbGFzdE91dHB1dD0wO3RoaXMuX2NsZWFyVGltZXIoKX0sX3Jlc2NoZWR1bGU6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sX2NhbGw6ZnVuY3Rpb24oKXt0aGlzLl9vdXRwdXQoKX0sX2NsZWFyVGltZXI6ZnVuY3Rpb24oKXt0aGlzLl9zY2hlZHVsZWRUaW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuX3NjaGVkdWxlZFRpbWVyKTt0aGlzLl9zY2hlZHVsZWRUaW1lcj0wfX07ZC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoYS5wcm90b3R5cGUpO2QucHJvdG90eXBlLl9yZXNjaGVkdWxlPWZ1bmN0aW9uKCl7dGhpcy5fc2NoZWR1bGVkVGltZXImJnRoaXMuX2NsZWFyVGltZXIoKX07ZC5wcm90b3R5cGUuX2NhbGw9XG5mdW5jdGlvbigpe3RoaXMuX291dHB1dC5hcHBseSh0aGlzLl9jb250ZXh0LHRoaXMuX2FyZ3MpfTtDS0VESVRPUi50b29scy5idWZmZXJzPXt9O0NLRURJVE9SLnRvb2xzLmJ1ZmZlcnMuZXZlbnQ9YTtDS0VESVRPUi50b29scy5idWZmZXJzLnRocm90dGxlPWQ7Q0tFRElUT1IudG9vbHMuYXJyYXkuaW5kZXhPZj1DS0VESVRPUi50b29scy5pbmRleE9mO0NLRURJVE9SLnRvb2xzLmFycmF5LmlzQXJyYXk9Q0tFRElUT1IudG9vbHMuaXNBcnJheTtDS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVD0wO0NLRURJVE9SLk1PVVNFX0JVVFRPTl9NSURETEU9MTtDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQ9Mn0pKCk7XG5DS0VESVRPUi5kdGQ9ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQsZD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1DS0VESVRPUi50b29scy5jbG9uZShhKSxoPTE7aDxhcmd1bWVudHMubGVuZ3RoO2grKyl7Yj1hcmd1bWVudHNbaF07Zm9yKHZhciBkIGluIGIpZGVsZXRlIGNbZF19cmV0dXJuIGN9LGI9e30sYz17fSxmPXthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGRldGFpbHM6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxnPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGs9e30saD17XCIjXCI6MX0scD17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07XG5hKGIse2E6MSxhYmJyOjEsYXJlYToxLGF1ZGlvOjEsYjoxLGJkaToxLGJkbzoxLGJyOjEsYnV0dG9uOjEsY2FudmFzOjEsY2l0ZToxLGNvZGU6MSxjb21tYW5kOjEsZGF0YWxpc3Q6MSxkZWw6MSxkZm46MSxlbToxLGVtYmVkOjEsaToxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsaW5zOjEsa2JkOjEsa2V5Z2VuOjEsbGFiZWw6MSxtYXA6MSxtYXJrOjEsbWV0ZXI6MSxub3NjcmlwdDoxLG9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0saCx7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTthKGMsZixiLHApO2Q9e2E6ZChiLHthOjEsYnV0dG9uOjF9KSxhYmJyOmIsYWRkcmVzczpjLFxuYXJlYTprLGFydGljbGU6Yyxhc2lkZTpjLGF1ZGlvOmEoe3NvdXJjZToxLHRyYWNrOjF9LGMpLGI6YixiYXNlOmssYmRpOmIsYmRvOmIsYmxvY2txdW90ZTpjLGJvZHk6YyxicjprLGJ1dHRvbjpkKGIse2E6MSxidXR0b246MX0pLGNhbnZhczpiLGNhcHRpb246YyxjaXRlOmIsY29kZTpiLGNvbDprLGNvbGdyb3VwOntjb2w6MX0sY29tbWFuZDprLGRhdGFsaXN0OmEoe29wdGlvbjoxfSxiKSxkZDpjLGRlbDpiLGRldGFpbHM6YSh7c3VtbWFyeToxfSxjKSxkZm46YixkaXY6YyxkbDp7ZHQ6MSxkZDoxfSxkdDpjLGVtOmIsZW1iZWQ6ayxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxnKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjprLGh0bWw6YSh7aGVhZDoxLFxuYm9keToxfSxjLGcpLGk6YixpZnJhbWU6aCxpbWc6ayxpbnB1dDprLGluczpiLGtiZDpiLGtleWdlbjprLGxhYmVsOmIsbGVnZW5kOmIsbGk6YyxsaW5rOmssbWFpbjpjLG1hcDpjLG1hcms6YixtZW51OmEoe2xpOjF9LGMpLG1ldGE6ayxtZXRlcjpkKGIse21ldGVyOjF9KSxuYXY6Yyxub3NjcmlwdDphKHtsaW5rOjEsbWV0YToxLHN0eWxlOjF9LGIpLG9iamVjdDphKHtwYXJhbToxfSxiKSxvbDp7bGk6MX0sb3B0Z3JvdXA6e29wdGlvbjoxfSxvcHRpb246aCxvdXRwdXQ6YixwOmIscGFyYW06ayxwcmU6Yixwcm9ncmVzczpkKGIse3Byb2dyZXNzOjF9KSxxOmIscnA6YixydDpiLHJ1Ynk6YSh7cnA6MSxydDoxfSxiKSxzOmIsc2FtcDpiLHNjcmlwdDpoLHNlY3Rpb246YyxzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmIsc291cmNlOmssc3BhbjpiLHN0cm9uZzpiLHN0eWxlOmgsc3ViOmIsc3VtbWFyeTphKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sYiksXG5zdXA6Yix0YWJsZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsdGhlYWQ6MSx0Zm9vdDoxLHRib2R5OjEsdHI6MX0sdGJvZHk6e3RyOjF9LHRkOmMsdGV4dGFyZWE6aCx0Zm9vdDp7dHI6MX0sdGg6Yyx0aGVhZDp7dHI6MX0sdGltZTpkKGIse3RpbWU6MX0pLHRpdGxlOmgsdHI6e3RoOjEsdGQ6MX0sdHJhY2s6ayx1OmIsdWw6e2xpOjF9LFwidmFyXCI6Yix2aWRlbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSx3YnI6ayxhY3JvbnltOmIsYXBwbGV0OmEoe3BhcmFtOjF9LGMpLGJhc2Vmb250OmssYmlnOmIsY2VudGVyOmMsZGlhbG9nOmssZGlyOntsaToxfSxmb250OmIsaXNpbmRleDprLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShkLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZixwKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLFxuZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxtZW51OjEsbmF2OjEsb2w6MSxzZWN0aW9uOjEsdGFibGU6MSx0ZDoxLHRoOjEsdHI6MSx1bDoxLHZpZGVvOjF9LCRjZGF0YTp7c2NyaXB0OjEsc3R5bGU6MX0sJGVkaXRhYmxlOnthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGJvZHk6MSxkZXRhaWxzOjEsZGl2OjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLFxudHJhY2s6MSx3YnI6MX0sJGlubGluZTpiLCRsaXN0OntkbDoxLG9sOjEsdWw6MX0sJGxpc3RJdGVtOntkZDoxLGR0OjEsbGk6MX0sJG5vbkJvZHlDb250ZW50OmEoe2JvZHk6MSxoZWFkOjEsaHRtbDoxfSxkLmhlYWQpLCRub25FZGl0YWJsZTp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxlbWJlZDoxLGlmcmFtZToxLG1hcDoxLG9iamVjdDoxLG9wdGlvbjoxLHBhcmFtOjEsc2NyaXB0OjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkb2JqZWN0OnthcHBsZXQ6MSxhdWRpbzoxLGJ1dHRvbjoxLGhyOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsXG5zOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRpbWU6MSx0dDoxLHU6MSxcInZhclwiOjF9LCR0YWJJbmRleDp7YToxLGFyZWE6MSxidXR0b246MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LCR0YWJsZUNvbnRlbnQ6e2NhcHRpb246MSxjb2w6MSxjb2xncm91cDoxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfSwkdHJhbnNwYXJlbnQ6e2E6MSxhdWRpbzoxLGNhbnZhczoxLGRlbDoxLGluczoxLG1hcDoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZH0oKTtcbkNLRURJVE9SLmRvbS5ldmVudD1mdW5jdGlvbihhKXt0aGlzLiQ9YX07XG5DS0VESVRPUi5kb20uZXZlbnQucHJvdG90eXBlPXtnZXRLZXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmtleUNvZGV8fHRoaXMuJC53aGljaH0sZ2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRLZXkoKTtpZih0aGlzLiQuY3RybEtleXx8dGhpcy4kLm1ldGFLZXkpYSs9Q0tFRElUT1IuQ1RSTDt0aGlzLiQuc2hpZnRLZXkmJihhKz1DS0VESVRPUi5TSElGVCk7dGhpcy4kLmFsdEtleSYmKGErPUNLRURJVE9SLkFMVCk7cmV0dXJuIGF9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJDtkLnByZXZlbnREZWZhdWx0P2QucHJldmVudERlZmF1bHQoKTpkLnJldHVyblZhbHVlPSExO2EmJnRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDthLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOmEuY2FuY2VsQnViYmxlPSEwfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuJC50YXJnZXR8fHRoaXMuJC5zcmNFbGVtZW50O3JldHVybiBhP25ldyBDS0VESVRPUi5kb20ubm9kZShhKTpudWxsfSxnZXRQaGFzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuZXZlbnRQaGFzZXx8Mn0sZ2V0UGFnZU9mZnNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VGFyZ2V0KCkuZ2V0RG9jdW1lbnQoKS4kO3JldHVybnt4OnRoaXMuJC5wYWdlWHx8dGhpcy4kLmNsaWVudFgrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGEuYm9keS5zY3JvbGxMZWZ0KSx5OnRoaXMuJC5wYWdlWXx8dGhpcy4kLmNsaWVudFkrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8YS5ib2R5LnNjcm9sbFRvcCl9fX07Q0tFRElUT1IuQ1RSTD0xMTE0MTEyO0NLRURJVE9SLlNISUZUPTIyMjgyMjQ7Q0tFRElUT1IuQUxUPTQ0NTY0NDg7Q0tFRElUT1IuRVZFTlRfUEhBU0VfQ0FQVFVSSU5HPTE7Q0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUPTI7XG5DS0VESVRPUi5FVkVOVF9QSEFTRV9CVUJCTElORz0zO0NLRURJVE9SLmRvbS5kb21PYmplY3Q9ZnVuY3Rpb24oYSl7YSYmKHRoaXMuJD1hKX07XG5DS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYS5maXJlKGIsbmV3IENLRURJVE9SLmRvbS5ldmVudChjKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBhOyhhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9cIikpfHx0aGlzLnNldEN1c3RvbURhdGEoXCJfXCIsYT17fSk7cmV0dXJuIGF9LG9uOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIpO2J8fChiPXt9LHRoaXMuc2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIsYikpO2JbZF18fChiPWJbZF09YSh0aGlzLGQpLHRoaXMuJC5hZGRFdmVudExpc3RlbmVyP3RoaXMuJC5hZGRFdmVudExpc3RlbmVyKGQsYiwhIUNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmUpOnRoaXMuJC5hdHRhY2hFdmVudCYmdGhpcy4kLmF0dGFjaEV2ZW50KFwib25cIitcbmQsYikpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmhhc0xpc3RlbmVycyhhKSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksYz1iJiZiW2FdO2MmJih0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcj90aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITEpOnRoaXMuJC5kZXRhY2hFdmVudCYmdGhpcy4kLmRldGFjaEV2ZW50KFwib25cIithLGMpLGRlbGV0ZSBiW2FdKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIpLGI7Zm9yKGIgaW4gYSl7dmFyIGM9YVtiXTt0aGlzLiQuZGV0YWNoRXZlbnQ/dGhpcy4kLmRldGFjaEV2ZW50KFwib25cIitcbmIsYyk6dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSk7ZGVsZXRlIGFbYl19Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCk7XG4oZnVuY3Rpb24oYSl7dmFyIGQ9e307Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7ZD17fX0pO2EuZXF1YWxzPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYSYmYS4kPT09dGhpcy4kfWNhdGNoKGMpe3JldHVybiExfX07YS5zZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEsYyl7dmFyIGY9dGhpcy5nZXRVbmlxdWVJZCgpOyhkW2ZdfHwoZFtmXT17fSkpW2FdPWM7cmV0dXJuIHRoaXN9O2EuZ2V0Q3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO3JldHVybihjPWMmJmRbY10pJiZhIGluIGM/Y1thXTpudWxsfTthLnJlbW92ZUN1c3RvbURhdGE9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXSxjPWMmJmRbY10sZixnO2MmJihmPWNbYV0sZz1hIGluIGMsZGVsZXRlIGNbYV0pO3JldHVybiBnP2Y6bnVsbH07YS5jbGVhckN1c3RvbURhdGE9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO3ZhciBhPVxudGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTthJiZkZWxldGUgZFthXX07YS5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdfHwodGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpfTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihhKX0pKENLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlKTtcbkNLRURJVE9SLmRvbS5ub2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyBDS0VESVRPUi5kb21bYS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9cImRvY3VtZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP1wiZWxlbWVudFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cInRleHRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/XCJjb21tZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9cImRvY3VtZW50RnJhZ21lbnRcIjpcImRvbU9iamVjdFwiXShhKTp0aGlzfTtDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7Q0tFRElUT1IuTk9ERV9FTEVNRU5UPTE7Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD05O0NLRURJVE9SLk5PREVfVEVYVD0zO0NLRURJVE9SLk5PREVfQ09NTUVOVD04O0NLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ9MTE7XG5DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw9MDtDS0VESVRPUi5QT1NJVElPTl9ESVNDT05ORUNURUQ9MTtDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc9MjtDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc9NDtDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQ9ODtDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz0xNjtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGEsZCl7YS5hcHBlbmQodGhpcyxkKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBiKGMpe2NbXCJkYXRhLWNrZS1leHBhbmRvXCJdJiYoY1tcImRhdGEtY2tlLWV4cGFuZG9cIl09ITEpO2lmKGMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVClpZihkfHxjLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwhMSksYSl7Yz1jLmNoaWxkTm9kZXM7Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspYihjW2ZdKX19ZnVuY3Rpb24gYyhiKXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXtpZihiLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBkPVxuYi5nZXROYW1lKCk7XCI6XCI9PWRbMF0mJmIucmVuYW1lTm9kZShkLnN1YnN0cmluZygxKSl9aWYoYSlmb3IoZD0wO2Q8Yi5nZXRDaGlsZENvdW50KCk7ZCsrKWMoYi5nZXRDaGlsZChkKSl9fXZhciBmPXRoaXMuJC5jbG9uZU5vZGUoYSk7YihmKTtmPW5ldyBDS0VESVRPUi5kb20ubm9kZShmKTtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8dGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKSYmYyhmKTtyZXR1cm4gZn0saGFzUHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5wcmV2aW91c1NpYmxpbmd9LGhhc05leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5uZXh0U2libGluZ30saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7YS4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLiQubmV4dFNpYmxpbmcpO3JldHVybiBhfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSl7YS4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxcbmEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsdGhpcy4kKTtyZXR1cm4gYX0sZ2V0QWRkcmVzczpmdW5jdGlvbihhKXtmb3IodmFyIGQ9W10sYj10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsYz10aGlzLiQ7YyYmYyE9Yjspe3ZhciBmPWMucGFyZW50Tm9kZTtmJiZkLnVuc2hpZnQodGhpcy5nZXRJbmRleC5jYWxsKHskOmN9LGEpKTtjPWZ9cmV0dXJuIGR9LGdldERvY3VtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQodGhpcy4kLm93bmVyRG9jdW1lbnR8fHRoaXMuJC5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQpfSxnZXRJbmRleDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEsYyl7dmFyIHA9Yz9hLm5leHRTaWJsaW5nOmEucHJldmlvdXNTaWJsaW5nO3JldHVybiBwJiZwLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/YihwKT9kKHAsXG5jKTpwOm51bGx9ZnVuY3Rpb24gYihhKXtyZXR1cm4hYS5ub2RlVmFsdWV8fGEubm9kZVZhbHVlPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX12YXIgYz10aGlzLiQsZj0tMSxnO2lmKCF0aGlzLiQucGFyZW50Tm9kZXx8YSYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZiKGMpJiYhZChjKSYmIWQoYywhMCkpcmV0dXJuLTE7ZG8gYSYmYyE9dGhpcy4kJiZjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnfHxiKGMpKXx8KGYrKyxnPWMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCk7d2hpbGUoYz1jLnByZXZpb3VzU2libGluZyk7cmV0dXJuIGZ9LGdldE5leHRTb3VyY2VOb2RlOmZ1bmN0aW9uKGEsZCxiKXtpZihiJiYhYi5jYWxsKXt2YXIgYz1iO2I9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGMpfX1hPSFhJiZ0aGlzLmdldEZpcnN0JiZ0aGlzLmdldEZpcnN0KCk7dmFyIGY7aWYoIWEpe2lmKHRoaXMudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihmPShmfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiYhMT09PWIoZiwhMCkpcmV0dXJuIG51bGw7YT1mLmdldE5leHQoKX1yZXR1cm4hYXx8YiYmITE9PT1iKGEpP251bGw6ZCYmZCE9YS50eXBlP2EuZ2V0TmV4dFNvdXJjZU5vZGUoITEsZCxiKTphfSxnZXRQcmV2aW91c1NvdXJjZU5vZGU6ZnVuY3Rpb24oYSxkLGIpe2lmKGImJiFiLmNhbGwpe3ZhciBjPWI7Yj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYyl9fWE9IWEmJnRoaXMuZ2V0TGFzdCYmdGhpcy5nZXRMYXN0KCk7dmFyIGY7aWYoIWEpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiJiYhMT09PWIodGhpcywhMCkpcmV0dXJuIG51bGw7YT10aGlzLmdldFByZXZpb3VzKCl9Zm9yKDshYSYmKGY9KGZ8fHRoaXMpLmdldFBhcmVudCgpKTspe2lmKGImJiExPT09XG5iKGYsITApKXJldHVybiBudWxsO2E9Zi5nZXRQcmV2aW91cygpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDpkJiZhLnR5cGUhPWQ/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZCxiKTphfSxnZXRQcmV2aW91czpmdW5jdGlvbihhKXt2YXIgZD10aGlzLiQsYjtkbyBiPShkPWQucHJldmlvdXNTaWJsaW5nKSYmMTAhPWQubm9kZVR5cGUmJm5ldyBDS0VESVRPUi5kb20ubm9kZShkKTt3aGlsZShiJiZhJiYhYShiKSk7cmV0dXJuIGJ9LGdldE5leHQ6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy4kLGI7ZG8gYj0oZD1kLm5leHRTaWJsaW5nKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGQpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0UGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJC5wYXJlbnROb2RlO3JldHVybiBkJiYoZC5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhJiZkLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKT9cbm5ldyBDS0VESVRPUi5kb20ubm9kZShkKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMsYj1bXTtkbyBiW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGQpO3doaWxlKGQ9ZC5nZXRQYXJlbnQoKSk7cmV0dXJuIGJ9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe2lmKGEuZXF1YWxzKHRoaXMpKXJldHVybiB0aGlzO2lmKGEuY29udGFpbnMmJmEuY29udGFpbnModGhpcykpcmV0dXJuIGE7dmFyIGQ9dGhpcy5jb250YWlucz90aGlzOnRoaXMuZ2V0UGFyZW50KCk7ZG8gaWYoZC5jb250YWlucyhhKSlyZXR1cm4gZDt3aGlsZShkPWQuZ2V0UGFyZW50KCkpO3JldHVybiBudWxsfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgZD10aGlzLiQsYj1hLiQ7aWYoZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKTtpZihkPT1iKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw7aWYodGhpcy50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGQuY29udGFpbnMpe2lmKGQuY29udGFpbnMoYikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORztpZihiLmNvbnRhaW5zKGQpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWlmKFwic291cmNlSW5kZXhcImluIGQpcmV0dXJuIDA+ZC5zb3VyY2VJbmRleHx8MD5iLnNvdXJjZUluZGV4P0NLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRDpkLnNvdXJjZUluZGV4PGIuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HOkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR31kPXRoaXMuZ2V0QWRkcmVzcygpO2E9YS5nZXRBZGRyZXNzKCk7Zm9yKHZhciBiPU1hdGgubWluKGQubGVuZ3RoLGEubGVuZ3RoKSxjPTA7YzxiO2MrKylpZihkW2NdIT1cbmFbY10pcmV0dXJuIGRbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBkLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEK0NLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR30sZ2V0QXNjZW5kYW50OmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy4kLGMsZjtkfHwoYj1iLnBhcmVudE5vZGUpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGE/KGY9ITAsYz1hKTooZj0hMSxjPWZ1bmN0aW9uKGIpe2I9XCJzdHJpbmdcIj09dHlwZW9mIGIubm9kZU5hbWU/Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOlwiXCI7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/Yj09YTpiIGluIGF9KTtmb3IoO2I7KXtpZihjKGY/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOmIpKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik7XG50cnl7Yj1iLnBhcmVudE5vZGV9Y2F0Y2goZyl7Yj1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy4kO2R8fChiPWIucGFyZW50Tm9kZSk7Zm9yKDtiOyl7aWYoYi5ub2RlTmFtZSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT1hKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiExfSxtb3ZlOmZ1bmN0aW9uKGEsZCl7YS5hcHBlbmQodGhpcy5yZW1vdmUoKSxkKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJCxiPWQucGFyZW50Tm9kZTtpZihiKXtpZihhKWZvcig7YT1kLmZpcnN0Q2hpbGQ7KWIuaW5zZXJ0QmVmb3JlKGQucmVtb3ZlQ2hpbGQoYSksZCk7Yi5yZW1vdmVDaGlsZChkKX1yZXR1cm4gdGhpc30scmVwbGFjZTpmdW5jdGlvbihhKXt0aGlzLmluc2VydEJlZm9yZShhKTthLnJlbW92ZSgpfSx0cmltOmZ1bmN0aW9uKCl7dGhpcy5sdHJpbSgpO3RoaXMucnRyaW0oKX0sbHRyaW06ZnVuY3Rpb24oKXtmb3IodmFyIGE7dGhpcy5nZXRGaXJzdCYmXG4oYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZClkLmxlbmd0aDxiJiYoYS5zcGxpdChiLWQubGVuZ3RoKSx0aGlzLiQucmVtb3ZlQ2hpbGQodGhpcy4kLmZpcnN0Q2hpbGQpKTtlbHNle2EucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfX0scnRyaW06ZnVuY3Rpb24oKXtmb3IodmFyIGE7dGhpcy5nZXRMYXN0JiYoYT10aGlzLmdldExhc3QoKSk7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGQ9Q0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpLGI9YS5nZXRMZW5ndGgoKTtpZihkKWQubGVuZ3RoPGImJihhLnNwbGl0KGQubGVuZ3RoKSx0aGlzLiQubGFzdENoaWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kLmxhc3RDaGlsZCkpO2Vsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJlxuKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZD10aGlzO3RoaXMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZD10aGlzLmdldFBhcmVudCgpKTtDS0VESVRPUi5lbnYuZWRnZSYmZCYmZC5pcyhcInRleHRhcmVhXCIsXCJpbnB1dFwiKSYmKGE9ITApO2lmKCFhJiZkJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZC4kLmlzQ29udGVudEVkaXRhYmxlKXJldHVybiEoZC4kLmlzQ29udGVudEVkaXRhYmxlfHxkLmRhdGEoXCJja2UtZWRpdGFibGVcIikpO2Zvcig7ZDspe2lmKGQuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4hMTtpZihkLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm5cImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO2Q9ZC5nZXRQYXJlbnQoKX1yZXR1cm4hMH19KTtcbkNLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9O0NLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0O1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlLHtmb2N1czpmdW5jdGlvbigpe3RoaXMuJC5mb2N1cygpfSxnZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZD1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZD9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZD9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fFxuYS5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSk7Q0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfTtDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0O1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVCxhcHBlbmRTdHlsZVNoZWV0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KGEpO2Vsc2V7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwibGlua1wiKTtkLnNldEF0dHJpYnV0ZXMoe3JlbDpcInN0eWxlc2hlZXRcIix0eXBlOlwidGV4dC9jc3NcIixocmVmOmF9KTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZCl9fSxhcHBlbmRTdHlsZVRleHQ6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpe3ZhciBkPXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2QuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGIpfXJldHVybiBkfHxcbmIuJC5zaGVldH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhLGQpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLHRoaXMpO2QmJihkLmF0dHJpYnV0ZXMmJmIuc2V0QXR0cmlidXRlcyhkLmF0dHJpYnV0ZXMpLGQuc3R5bGVzJiZiLnNldFN0eWxlcyhkLnN0eWxlcykpO3JldHVybiBifSxjcmVhdGVUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9LGdldEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBhO3RyeXthPXRoaXMuJC5hY3RpdmVFbGVtZW50fWNhdGNoKGQpe3JldHVybiBudWxsfXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSl9LGdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBiPVxudGhpcy4kLmRvY3VtZW50RWxlbWVudCxjPTA7YiYmYzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY107aWYoZClmb3IodmFyIGc9LTEsaz0wO2s8Yi5jaGlsZE5vZGVzLmxlbmd0aDtrKyspe3ZhciBoPWIuY2hpbGROb2Rlc1trXTtpZighMCE9PWR8fDMhPWgubm9kZVR5cGV8fCFoLnByZXZpb3VzU2libGluZ3x8MyE9aC5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUpaWYoZysrLGc9PWYpe2I9aDticmVha319ZWxzZSBiPWIuY2hpbGROb2Rlc1tmXX1yZXR1cm4gYj9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6bnVsbH0sZ2V0RWxlbWVudHNCeVRhZzpmdW5jdGlvbihhLGQpe0NLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhZHx8KGE9ZCtcIjpcIithKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcbnJldHVybiBhPWE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOnRoaXMuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImhlYWRcIiksITApfSxnZXRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLiQuYm9keSl9LGdldERvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmRvY3VtZW50RWxlbWVudCl9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLiQub3BlbihcInRleHQvaHRtbFwiLFwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytcbkNLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcXHgzYy9zY3JpcHRcXHgzZVwiKSk7dGhpcy4kLndyaXRlKGEpO3RoaXMuJC5jbG9zZSgpfSxmaW5kOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGEpKX0sZmluZE9uZTpmdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLiQucXVlcnlTZWxlY3RvcihhKSk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LF9nZXRIdG1sNVNoaXZGcmFnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiKTthfHwoYT10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLENLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYSwhMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KTtDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9O1xuQ0tFRElUT1IuZG9tLm5vZGVMaXN0LnByb3RvdHlwZT17Y291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmxlbmd0aH0sZ2V0SXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gMD5hfHxhPj10aGlzLiQubGVuZ3RoP251bGw6KGE9dGhpcy4kW2FdKT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk6bnVsbH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5tYXAodGhpcy4kLGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSl9KX19O0NLRURJVE9SLmRvbS5lbGVtZW50PWZ1bmN0aW9uKGEsZCl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShkP2QuJDpkb2N1bWVudCkuY3JlYXRlRWxlbWVudChhKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9O1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPVwic3RyaW5nXCI9PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShhKVswXTphKSYmKGEuJD9hOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKSl9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGU7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWw9ZnVuY3Rpb24oYSxkKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIixkKTtiLnNldEh0bWwoYSk7cmV0dXJuIGIuZ2V0Rmlyc3QoKS5yZW1vdmUoKX07XG5DS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXI9ZnVuY3Rpb24oYSxkLGIsYyl7dmFyIGY9ZC5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIil8fGQuc2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIsQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpKS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIiksZz1kLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKXx8ZC5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIix7fSkuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2FbZl09ZDtnW2JdPTE7cmV0dXJuIGQuc2V0Q3VzdG9tRGF0YShiLGMpfTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkIGluIGEpQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGEsYVtkXSwxKX07XG5DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnM9ZnVuY3Rpb24oYSxkLGIpe3ZhciBjPWQuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpLGY9ZC5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIiksZztmb3IoZyBpbiBjKWQucmVtb3ZlQ3VzdG9tRGF0YShnKTtkLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKTtiJiYoZC5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIiksZGVsZXRlIGFbZl0pfTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4tMTwoXCIgXCIrYStcIiBcIikucmVwbGFjZShnLFwiIFwiKS5pbmRleE9mKFwiIFwiK2IrXCIgXCIpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9ITA7YS4kLmlkfHwoYS4kLmlkPVwiY2tlX3RtcF9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksYj0hMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Ynx8YS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19ZnVuY3Rpb24gYihhLGIpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmVzY2FwZUNzcyhhLiQuaWQpO3JldHVyblwiI1wiK2MrXCIgXCIrYi5zcGxpdCgvLFxccyovKS5qb2luKFwiLCAjXCIrYytcIiBcIil9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGI9MCxjPTAsZT1rW2FdLmxlbmd0aDtjPGU7YysrKWIrPXBhcnNlRmxvYXQodGhpcy5nZXRDb21wdXRlZFN0eWxlKGtbYV1bY10pfHwwLDEwKXx8MDtyZXR1cm4gYn12YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKS5jbGFzc0xpc3QsZj1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGYmJlxubnVsbCE9PVN0cmluZyhmLmFkZCkubWF0Y2goL1xcW05hdGl2ZSBjb2RlXFxdL2dpKSxnPS9bXFxuXFx0XFxyXS9nO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZENsYXNzOmY/ZnVuY3Rpb24oYSl7dGhpcy4kLmNsYXNzTGlzdC5hZGQoYSk7cmV0dXJuIHRoaXN9OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJC5jbGFzc05hbWU7YyYmKGEoYyxiKXx8KGMrPVwiIFwiK2IpKTt0aGlzLiQuY2xhc3NOYW1lPWN8fGI7cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmY/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kO2IuY2xhc3NMaXN0LnJlbW92ZShhKTtiLmNsYXNzTmFtZXx8Yi5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtyZXR1cm4gdGhpc306ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtjJiZhKGMsYikmJigoYz1jLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiK1xuYitcIig/XFx4M2RcXFxcc3wkKVwiKSxcIlwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpP3RoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixjKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpKTtyZXR1cm4gdGhpc30saGFzQ2xhc3M6ZnVuY3Rpb24oYil7cmV0dXJuIGEodGhpcy4kLmNsYXNzTmFtZSxiKX0sYXBwZW5kOmZ1bmN0aW9uKGEsYil7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KGEpKTtiP3RoaXMuJC5pbnNlcnRCZWZvcmUoYS4kLHRoaXMuJC5maXJzdENoaWxkKTp0aGlzLiQuYXBwZW5kQ2hpbGQoYS4kKTtyZXR1cm4gYX0sYXBwZW5kSHRtbDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiLHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yi5zZXRIdG1sKGEpO2IubW92ZUNoaWxkcmVuKHRoaXMpfWVsc2UgdGhpcy5zZXRIdG1sKGEpfSxhcHBlbmRUZXh0OmZ1bmN0aW9uKGEpe251bGwhPVxudGhpcy4kLnRleHQmJkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj90aGlzLiQudGV4dCs9YTp0aGlzLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSkpfSxhcHBlbmRCb2d1czpmdW5jdGlvbihhKXtpZihhfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcil7Zm9yKGE9dGhpcy5nZXRMYXN0KCk7YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSk7KWE9YS5nZXRQcmV2aW91cygpO2EmJmEuaXMmJmEuaXMoXCJiclwiKXx8KGE9dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSxDS0VESVRPUi5lbnYuZ2Vja28mJmEuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiX21velwiKSx0aGlzLmFwcGVuZChhKSl9fSxicmVha1BhcmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5nZXREb2N1bWVudCgpKTtjLnNldFN0YXJ0QWZ0ZXIodGhpcyk7Yy5zZXRFbmRBZnRlcihhKTtcbnZhciBlPWMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxkO2MuaW5zZXJ0Tm9kZSh0aGlzLnJlbW92ZSgpKTtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZSl7Zm9yKGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2Q9ZS5nZXRGaXJzdCgpOylkLiQuc3R5bGUuYmFja2dyb3VuZENvbG9yJiYoZC4kLnN0eWxlLmJhY2tncm91bmRDb2xvcj1kLiQuc3R5bGUuYmFja2dyb3VuZENvbG9yKSxjLmFwcGVuZChkKTtjLmluc2VydEFmdGVyKHRoaXMpO2MucmVtb3ZlKCEwKX1lbHNlIGUuaW5zZXJ0QWZ0ZXJOb2RlKHRoaXMpfSxjb250YWluczpkb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhKXtyZXR1cm4hISh0aGlzLiQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYS4kKSYxNil9OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJDtyZXR1cm4gYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Yi5jb250YWlucyhhLmdldFBhcmVudCgpLiQpOlxuYiE9YS4kJiZiLmNvbnRhaW5zKGEuJCl9LGZvY3VzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXt0aGlzLiQuZm9jdXMoKX1jYXRjaChiKXt9fXJldHVybiBmdW5jdGlvbihiKXtiP0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYSwxMDAsdGhpcyk6YS5jYWxsKHRoaXMpfX0oKSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmlubmVySFRNTDtyZXR1cm4gQ0tFRElUT1IuZW52LmllP2EucmVwbGFjZSgvPFxcP1tePl0qPi9nLFwiXCIpOmF9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe2lmKHRoaXMuJC5vdXRlckhUTUwpcmV0dXJuIHRoaXMuJC5vdXRlckhUTUwucmVwbGFjZSgvPFxcP1tePl0qPi8sXCJcIik7dmFyIGE9dGhpcy4kLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmFwcGVuZENoaWxkKHRoaXMuJC5jbG9uZU5vZGUoITApKTtyZXR1cm4gYS5pbm5lckhUTUx9LGdldENsaWVudFJlY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LFxudGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTshYi53aWR0aCYmKGIud2lkdGg9Yi5yaWdodC1iLmxlZnQpOyFiLmhlaWdodCYmKGIuaGVpZ2h0PWIuYm90dG9tLWIudG9wKTtyZXR1cm4gYT9DS0VESVRPUi50b29scy5nZXRBYnNvbHV0ZVJlY3RQb3NpdGlvbih0aGlzLmdldFdpbmRvdygpLGIpOmJ9LHNldEh0bWw6Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP2Z1bmN0aW9uKGEpe3RyeXt2YXIgYj10aGlzLiQ7aWYodGhpcy5nZXRQYXJlbnQoKSlyZXR1cm4gYi5pbm5lckhUTUw9YTt2YXIgYz10aGlzLmdldERvY3VtZW50KCkuX2dldEh0bWw1U2hpdkZyYWcoKTtjLmFwcGVuZENoaWxkKGIpO2IuaW5uZXJIVE1MPWE7Yy5yZW1vdmVDaGlsZChiKTtyZXR1cm4gYX1jYXRjaChlKXt0aGlzLiQuaW5uZXJIVE1MPVwiXCI7Yj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIsdGhpcy5nZXREb2N1bWVudCgpKTtiLiQuaW5uZXJIVE1MPWE7Zm9yKGI9Yi5nZXRDaGlsZHJlbigpO2IuY291bnQoKTspdGhpcy5hcHBlbmQoYi5nZXRJdGVtKDApKTtcbnJldHVybiBhfX06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5pbm5lckhUTUw9YX0sc2V0VGV4dDpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2EuaW5uZXJIVE1MPVwieFwiO2E9YS50ZXh0Q29udGVudDtyZXR1cm4gZnVuY3Rpb24oYil7dGhpcy4kW2E/XCJ0ZXh0Q29udGVudFwiOlwiaW5uZXJUZXh0XCJdPWJ9fSgpLGdldEF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuZ2V0QXR0cmlidXRlKGEsMil9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihhKXtzd2l0Y2goYSl7Y2FzZSBcImNsYXNzXCI6YT1cImNsYXNzTmFtZVwiO2JyZWFrO2Nhc2UgXCJodHRwLWVxdWl2XCI6YT1cImh0dHBFcXVpdlwiO2JyZWFrO2Nhc2UgXCJuYW1lXCI6cmV0dXJuIHRoaXMuJC5uYW1lO2Nhc2UgXCJ0YWJpbmRleFwiOnJldHVybiBhPXRoaXMuJC5nZXRBdHRyaWJ1dGUoYSxcbjIpLDAhPT1hJiYwPT09dGhpcy4kLnRhYkluZGV4JiYoYT1udWxsKSxhO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuIGE9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpLChhLnNwZWNpZmllZD9hLm5vZGVWYWx1ZTp0aGlzLiQuY2hlY2tlZCk/XCJjaGVja2VkXCI6bnVsbDtjYXNlIFwiaHNwYWNlXCI6Y2FzZSBcInZhbHVlXCI6cmV0dXJuIHRoaXMuJFthXTtjYXNlIFwic3R5bGVcIjpyZXR1cm4gdGhpcy4kLnN0eWxlLmNzc1RleHQ7Y2FzZSBcImNvbnRlbnRlZGl0YWJsZVwiOmNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpyZXR1cm4gdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiY29udGVudEVkaXRhYmxlXCIpLnNwZWNpZmllZD90aGlzLiQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpOm51bGx9cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX06YX0oKSxnZXRBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM9dGhpcy4kLmF0dHJpYnV0ZXMsZTthPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSk/XG5hOltdO2ZvcihlPTA7ZTxjLmxlbmd0aDtlKyspLTE9PT1DS0VESVRPUi50b29scy5pbmRleE9mKGEsY1tlXS5uYW1lKSYmKGJbY1tlXS5uYW1lXT1jW2VdLnZhbHVlKTtyZXR1cm4gYn0sZ2V0Q2hpbGRyZW46ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuY2hpbGROb2Rlcyl9LGdldENvbXB1dGVkU3R5bGU6ZG9jdW1lbnQuZGVmYXVsdFZpZXcmJmRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRXaW5kb3coKS4kLmdldENvbXB1dGVkU3R5bGUodGhpcy4kLG51bGwpO3JldHVybiBiP2IuZ2V0UHJvcGVydHlWYWx1ZShhKTpcIlwifTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmN1cnJlbnRTdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxnZXREdGQ6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kdGRbdGhpcy5nZXROYW1lKCldO3RoaXMuZ2V0RHRkPVxuZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGF9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLGdldFRhYkluZGV4OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhYkluZGV4O3JldHVybiAwIT09YXx8Q0tFRElUT1IuZHRkLiR0YWJJbmRleFt0aGlzLmdldE5hbWUoKV18fDA9PT1wYXJzZUludCh0aGlzLmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLDEwKT9hOi0xfSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC50ZXh0Q29udGVudHx8dGhpcy4kLmlubmVyVGV4dHx8XCJcIn0sZ2V0V2luZG93OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKX0sZ2V0SWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmlkfHxudWxsfSxnZXROYW1lQXR0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5uYW1lfHxudWxsfSxnZXROYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5pZihDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSl7dmFyIGI9dGhpcy4kLnNjb3BlTmFtZTtcIkhUTUxcIiE9YiYmKGE9Yi50b0xvd2VyQ2FzZSgpK1wiOlwiK2EpfXRoaXMuZ2V0TmFtZT1mdW5jdGlvbigpe3JldHVybiBhfTtyZXR1cm4gdGhpcy5nZXROYW1lKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC52YWx1ZX0sZ2V0Rmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmZpcnN0Q2hpbGQ7KGI9YiYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKSYmYSYmIWEoYikmJihiPWIuZ2V0TmV4dChhKSk7cmV0dXJuIGJ9LGdldExhc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLmxhc3RDaGlsZDsoYj1iJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpJiZhJiYhYShiKSYmKGI9Yi5nZXRQcmV2aW91cyhhKSk7cmV0dXJuIGJ9LGdldFN0eWxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXX0sXG5pczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmFtZSgpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pcmV0dXJuISFhcmd1bWVudHNbMF1bYV07Zm9yKHZhciBiPTA7Yjxhcmd1bWVudHMubGVuZ3RoO2IrKylpZihhcmd1bWVudHNbYl09PWEpcmV0dXJuITA7cmV0dXJuITF9LGlzRWRpdGFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXROYW1lKCk7cmV0dXJuIHRoaXMuaXNSZWFkT25seSgpfHxcIm5vbmVcIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8XCJoaWRkZW5cIj09dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKXx8Q0tFRElUT1IuZHRkLiRub25FZGl0YWJsZVtiXXx8Q0tFRElUT1IuZHRkLiRlbXB0eVtiXXx8dGhpcy5pcyhcImFcIikmJih0aGlzLmRhdGEoXCJja2Utc2F2ZWQtbmFtZVwiKXx8dGhpcy5oYXNBdHRyaWJ1dGUoXCJuYW1lXCIpKSYmIXRoaXMuZ2V0Q2hpbGRDb3VudCgpPyExOiExIT09YT8oYT1DS0VESVRPUi5kdGRbYl18fFxuQ0tFRElUT1IuZHRkLnNwYW4sISghYXx8IWFbXCIjXCJdKSk6ITB9LGlzSWRlbnRpY2FsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoMCwxKTthPWEuY2xvbmUoMCwxKTtiLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7YS5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2lmKGIuJC5pc0VxdWFsTm9kZSlyZXR1cm4gYi4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChiLiQuc3R5bGUuY3NzVGV4dCksYS4kLnN0eWxlLmNzc1RleHQ9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChhLiQuc3R5bGUuY3NzVGV4dCksYi4kLmlzRXF1YWxOb2RlKGEuJCk7Yj1iLmdldE91dGVySHRtbCgpO2E9XG5hLmdldE91dGVySHRtbCgpO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5pcyhcImFcIikpe3ZhciBjPXRoaXMuZ2V0UGFyZW50KCk7Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPWMuY2xvbmUoKSxjLnNldEh0bWwoYiksYj1jLmdldEh0bWwoKSxjLnNldEh0bWwoYSksYT1jLmdldEh0bWwoKSl9cmV0dXJuIGI9PWF9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3ZhciBhPSh0aGlzLiQub2Zmc2V0SGVpZ2h0fHx0aGlzLiQub2Zmc2V0V2lkdGgpJiZcImhpZGRlblwiIT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpLGIsYzthJiZDS0VESVRPUi5lbnYud2Via2l0JiYoYj10aGlzLmdldFdpbmRvdygpLCFiLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSkmJihjPWIuJC5mcmFtZUVsZW1lbnQpJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGMpKS5pc1Zpc2libGUoKSkpO3JldHVybiEhYX0saXNFbXB0eUlubGluZVJlbW92ZWFibGU6ZnVuY3Rpb24oKXtpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV0pcmV0dXJuITE7XG5mb3IodmFyIGE9dGhpcy5nZXRDaGlsZHJlbigpLGI9MCxjPWEuY291bnQoKTtiPGM7YisrKXt2YXIgZT1hLmdldEl0ZW0oYik7aWYoZS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFlLmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFlLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGUuZ2V0VGV4dCgpKSlyZXR1cm4hMX1yZXR1cm4hMH0saGFzQXR0cmlidXRlczpDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLiQuYXR0cmlidXRlcyxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07c3dpdGNoKGMubm9kZU5hbWUpe2Nhc2UgXCJjbGFzc1wiOmlmKHRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikpcmV0dXJuITA7Y2FzZSBcImRhdGEtY2tlLWV4cGFuZG9cIjpjb250aW51ZTtcbmRlZmF1bHQ6aWYoYy5zcGVjaWZpZWQpcmV0dXJuITB9fXJldHVybiExfTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9YS5sZW5ndGgsYz17XCJkYXRhLWNrZS1leHBhbmRvXCI6MSxfbW96X2RpcnR5OjF9O3JldHVybiAwPGImJigyPGJ8fCFjW2FbMF0ubm9kZU5hbWVdfHwyPT1iJiYhY1thWzFdLm5vZGVOYW1lXSl9LGhhc0F0dHJpYnV0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGM9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGIpO2lmKFwiaW5wdXRcIj09dGhpcy5nZXROYW1lKCkpc3dpdGNoKGIpe2Nhc2UgXCJjbGFzc1wiOnJldHVybiAwPHRoaXMuJC5jbGFzc05hbWUubGVuZ3RoO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuISF0aGlzLiQuY2hlY2tlZDtjYXNlIFwidmFsdWVcIjpyZXR1cm4gYj10aGlzLmdldEF0dHJpYnV0ZShcInR5cGVcIiksXCJjaGVja2JveFwiPT1ifHxcInJhZGlvXCI9PWI/XCJvblwiIT10aGlzLiQudmFsdWU6ISF0aGlzLiQudmFsdWV9cmV0dXJuIGM/XG5jLnNwZWNpZmllZDohMX1yZXR1cm4gQ0tFRElUT1IuZW52LmllPzg+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oYil7cmV0dXJuXCJuYW1lXCI9PWI/ISF0aGlzLiQubmFtZTphLmNhbGwodGhpcyxiKX06YTpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKX19KCksaGlkZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxtb3ZlQ2hpbGRyZW46ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQ7YT1hLiQ7aWYoYyE9YSl7dmFyIGU7aWYoYilmb3IoO2U9Yy5sYXN0Q2hpbGQ7KWEuaW5zZXJ0QmVmb3JlKGMucmVtb3ZlQ2hpbGQoZSksYS5maXJzdENoaWxkKTtlbHNlIGZvcig7ZT1jLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoYy5yZW1vdmVDaGlsZChlKSl9fSxtZXJnZVNpYmxpbmdzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMsZSl7aWYoYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2Zvcih2YXIgZD1cbltdO2MuZGF0YShcImNrZS1ib29rbWFya1wiKXx8Yy5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpOylpZihkLnB1c2goYyksYz1lP2MuZ2V0TmV4dCgpOmMuZ2V0UHJldmlvdXMoKSwhY3x8Yy50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuO2lmKGIuaXNJZGVudGljYWwoYykpe2Zvcih2YXIgaD1lP2IuZ2V0TGFzdCgpOmIuZ2V0Rmlyc3QoKTtkLmxlbmd0aDspZC5zaGlmdCgpLm1vdmUoYiwhZSk7Yy5tb3ZlQ2hpbGRyZW4oYiwhZSk7Yy5yZW1vdmUoKTtoJiZoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5tZXJnZVNpYmxpbmdzKCl9fX1yZXR1cm4gZnVuY3Rpb24oYil7aWYoITE9PT1ifHxDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXXx8dGhpcy5pcyhcImFcIikpYSh0aGlzLHRoaXMuZ2V0TmV4dCgpLCEwKSxhKHRoaXMsdGhpcy5nZXRQcmV2aW91cygpKX19KCksc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKHtkaXNwbGF5OlwiXCIsXG52aXNpYmlsaXR5OlwiXCJ9KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc2V0QXR0cmlidXRlKGEsYik7cmV0dXJuIHRoaXN9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihiLGMpe1wiY2xhc3NcIj09Yj90aGlzLiQuY2xhc3NOYW1lPWM6XCJzdHlsZVwiPT1iP3RoaXMuJC5zdHlsZS5jc3NUZXh0PWM6XCJ0YWJpbmRleFwiPT1iP3RoaXMuJC50YWJJbmRleD1jOlwiY2hlY2tlZFwiPT1iP3RoaXMuJC5jaGVja2VkPWM6XCJjb250ZW50ZWRpdGFibGVcIj09Yj9hLmNhbGwodGhpcyxcImNvbnRlbnRFZGl0YWJsZVwiLGMpOmEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTpDS0VESVRPUi5lbnYuaWU4Q29tcGF0JiZDS0VESVRPUi5lbnYuc2VjdXJlP2Z1bmN0aW9uKGIsYyl7aWYoXCJzcmNcIj09YiYmYy5tYXRjaCgvXmh0dHA6XFwvXFwvLykpdHJ5e2EuYXBwbHkodGhpcyxcbmFyZ3VtZW50cyl9Y2F0Y2goZSl7fWVsc2UgYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OmF9KCksc2V0QXR0cmlidXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLnNldEF0dHJpYnV0ZShiLGFbYl0pO3JldHVybiB0aGlzfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLiQudmFsdWU9YTtyZXR1cm4gdGhpc30scmVtb3ZlQXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGEpe1wiY2xhc3NcIj09YT9hPVwiY2xhc3NOYW1lXCI6XCJ0YWJpbmRleFwiPT1hP2E9XCJ0YWJJbmRleFwiOlwiY29udGVudGVkaXRhYmxlXCI9PWEmJihhPVwiY29udGVudEVkaXRhYmxlXCIpO3RoaXMuJC5yZW1vdmVBdHRyaWJ1dGUoYSl9OmF9KCkscmVtb3ZlQXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKWZvcih2YXIgYj1cbjA7YjxhLmxlbmd0aDtiKyspdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYVtiXSk7ZWxzZSBmb3IoYiBpbiBhPWF8fHRoaXMuZ2V0QXR0cmlidXRlcygpLGEpYS5oYXNPd25Qcm9wZXJ0eShiKSYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYil9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJC5zdHlsZTtpZihiLnJlbW92ZVByb3BlcnR5fHxcImJvcmRlclwiIT1hJiZcIm1hcmdpblwiIT1hJiZcInBhZGRpbmdcIiE9YSliLnJlbW92ZVByb3BlcnR5P2IucmVtb3ZlUHJvcGVydHkoYSk6Yi5yZW1vdmVBdHRyaWJ1dGUoQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpKSx0aGlzLiQuc3R5bGUuY3NzVGV4dHx8dGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtlbHNle3ZhciBjPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXSxlO1wiYm9yZGVyXCI9PWEmJihlPVtcImNvbG9yXCIsXCJzdHlsZVwiLFwid2lkdGhcIl0pO2Zvcih2YXIgYj1bXSxkPTA7ZDxjLmxlbmd0aDtkKyspaWYoZSlmb3IodmFyIHc9XG4wO3c8ZS5sZW5ndGg7dysrKWIucHVzaChbYSxjW2RdLGVbd11dLmpvaW4oXCItXCIpKTtlbHNlIGIucHVzaChbYSxjW2RdXS5qb2luKFwiLVwiKSk7Zm9yKGE9MDthPGIubGVuZ3RoO2ErKyl0aGlzLnJlbW92ZVN0eWxlKGJbYV0pfX0sc2V0U3R5bGU6ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXT1iO3JldHVybiB0aGlzfSxzZXRTdHlsZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRTdHlsZShiLGFbYl0pO3JldHVybiB0aGlzfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKGEpe0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj8oYT1NYXRoLnJvdW5kKDEwMCphKSx0aGlzLnNldFN0eWxlKFwiZmlsdGVyXCIsMTAwPD1hP1wiXCI6XCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eVxceDNkXCIrYStcIilcIikpOnRoaXMuc2V0U3R5bGUoXCJvcGFjaXR5XCIsYSl9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXG5cIm5vbmVcIikpO2lmKENLRURJVE9SLmVudi5pZSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpO2Zvcih2YXIgYSxiPXRoaXMuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksYz0wLGU9Yi5jb3VudCgpO2M8ZTtjKyspYT1iLmdldEl0ZW0oYyksYS5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIixcIm9uXCIpfX0sZ2V0UG9zaXRpb25lZEFuY2VzdG9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXM7XCJodG1sXCIhPWEuZ2V0TmFtZSgpOyl7aWYoXCJzdGF0aWNcIiE9YS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIikpcmV0dXJuIGE7YT1hLmdldFBhcmVudCgpfXJldHVybiBudWxsfSxnZXREb2N1bWVudFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPTAsYz0wLGU9dGhpcy5nZXREb2N1bWVudCgpLGQ9ZS5nZXRCb2R5KCksdz1cIkJhY2tDb21wYXRcIj09ZS4kLmNvbXBhdE1vZGU7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCYmKENLRURJVE9SLmVudi5pZT9cbjghPT1DS0VESVRPUi5lbnYudmVyc2lvbjoxKSl7dmFyIGY9dGhpcy4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGc9ZS4kLmRvY3VtZW50RWxlbWVudCx2PWcuY2xpZW50VG9wfHxkLiQuY2xpZW50VG9wfHwwLG09Zy5jbGllbnRMZWZ0fHxkLiQuY2xpZW50TGVmdHx8MCxrPSEwO0NLRURJVE9SLmVudi5pZSYmKGs9ZS5nZXREb2N1bWVudEVsZW1lbnQoKS5jb250YWlucyh0aGlzKSxlPWUuZ2V0Qm9keSgpLmNvbnRhaW5zKHRoaXMpLGs9dyYmZXx8IXcmJmspO2smJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuaWUmJjEyPD1DS0VESVRPUi5lbnYudmVyc2lvbj8oYj1kLiQuc2Nyb2xsTGVmdHx8Zy5zY3JvbGxMZWZ0LGM9ZC4kLnNjcm9sbFRvcHx8Zy5zY3JvbGxUb3ApOihjPXc/ZC4kOmcsYj1jLnNjcm9sbExlZnQsYz1jLnNjcm9sbFRvcCksYj1mLmxlZnQrYi1tLGM9Zi50b3ArYy12KX1lbHNlIGZvcih2PXRoaXMsbT1udWxsO3YmJlwiYm9keVwiIT12LmdldE5hbWUoKSYmXG5cImh0bWxcIiE9di5nZXROYW1lKCk7KXtiKz12LiQub2Zmc2V0TGVmdC12LiQuc2Nyb2xsTGVmdDtjKz12LiQub2Zmc2V0VG9wLXYuJC5zY3JvbGxUb3A7di5lcXVhbHModGhpcyl8fChiKz12LiQuY2xpZW50TGVmdHx8MCxjKz12LiQuY2xpZW50VG9wfHwwKTtmb3IoO20mJiFtLmVxdWFscyh2KTspYi09bS4kLnNjcm9sbExlZnQsYy09bS4kLnNjcm9sbFRvcCxtPW0uZ2V0UGFyZW50KCk7bT12O3Y9KGY9di4kLm9mZnNldFBhcmVudCk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYpOm51bGx9YSYmKGY9dGhpcy5nZXRXaW5kb3coKSx2PWEuZ2V0V2luZG93KCksIWYuZXF1YWxzKHYpJiZmLiQuZnJhbWVFbGVtZW50JiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5mcmFtZUVsZW1lbnQpKS5nZXREb2N1bWVudFBvc2l0aW9uKGEpLGIrPWEueCxjKz1hLnkpKTtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0fHwhQ0tFRElUT1IuZW52LmdlY2tvfHxcbnd8fChiKz10aGlzLiQuY2xpZW50TGVmdD8xOjAsYys9dGhpcy4kLmNsaWVudFRvcD8xOjApO3JldHVybnt4OmIseTpjfX0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRQYXJlbnQoKTtpZihiKXtkbyBpZigoYi4kLmNsaWVudFdpZHRoJiZiLiQuY2xpZW50V2lkdGg8Yi4kLnNjcm9sbFdpZHRofHxiLiQuY2xpZW50SGVpZ2h0JiZiLiQuY2xpZW50SGVpZ2h0PGIuJC5zY3JvbGxIZWlnaHQpJiYhYi5pcyhcImJvZHlcIikmJnRoaXMuc2Nyb2xsSW50b1BhcmVudChiLGEsMSksYi5pcyhcImh0bWxcIikpe3ZhciBjPWIuZ2V0V2luZG93KCk7dHJ5e3ZhciBlPWMuJC5mcmFtZUVsZW1lbnQ7ZSYmKGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGUpKX1jYXRjaChkKXt9fXdoaWxlKGI9Yi5nZXRQYXJlbnQoKSl9fSxzY3JvbGxJbnRvUGFyZW50OmZ1bmN0aW9uKGEsYixjKXt2YXIgZSxkLHcsZjtmdW5jdGlvbiBnKGIsYyl7L2JvZHl8aHRtbC8udGVzdChhLmdldE5hbWUoKSk/XG5hLmdldFdpbmRvdygpLiQuc2Nyb2xsQnkoYixjKTooYS4kLnNjcm9sbExlZnQrPWIsYS4kLnNjcm9sbFRvcCs9Yyl9ZnVuY3Rpb24gdihhLGIpe3ZhciBjPXt4OjAseTowfTtpZighYS5pcyhrP1wiYm9keVwiOlwiaHRtbFwiKSl7dmFyIGU9YS4kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2MueD1lLmxlZnQ7Yy55PWUudG9wfWU9YS5nZXRXaW5kb3coKTtlLmVxdWFscyhiKXx8KGU9dihDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZS4kLmZyYW1lRWxlbWVudCksYiksYy54Kz1lLngsYy55Kz1lLnkpO3JldHVybiBjfWZ1bmN0aW9uIG0oYSxiKXtyZXR1cm4gcGFyc2VJbnQoYS5nZXRDb21wdXRlZFN0eWxlKFwibWFyZ2luLVwiK2IpfHwwLDEwKXx8MH0hYSYmKGE9dGhpcy5nZXRXaW5kb3coKSk7dz1hLmdldERvY3VtZW50KCk7dmFyIGs9XCJCYWNrQ29tcGF0XCI9PXcuJC5jb21wYXRNb2RlO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ud2luZG93JiYoYT1rP3cuZ2V0Qm9keSgpOncuZ2V0RG9jdW1lbnRFbGVtZW50KCkpO1xuQ0tFRElUT1IuZW52LndlYmtpdCYmKHc9dGhpcy5nZXRFZGl0b3IoITEpKSYmKHcuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsKTt3PWEuZ2V0V2luZG93KCk7ZD12KHRoaXMsdyk7dmFyIHU9dihhLHcpLEg9dGhpcy4kLm9mZnNldEhlaWdodDtlPXRoaXMuJC5vZmZzZXRXaWR0aDt2YXIgbj1hLiQuY2xpZW50SGVpZ2h0LHI9YS4kLmNsaWVudFdpZHRoO3c9ZC54LW0odGhpcyxcImxlZnRcIiktdS54fHwwO2Y9ZC55LW0odGhpcyxcInRvcFwiKS11Lnl8fDA7ZT1kLngrZSttKHRoaXMsXCJyaWdodFwiKS0odS54K3IpfHwwO2Q9ZC55K0grbSh0aGlzLFwiYm90dG9tXCIpLSh1Lnkrbil8fDA7KDA+Znx8MDxkKSYmZygwLCEwPT09Yj9mOiExPT09Yj9kOjA+Zj9mOmQpO2MmJigwPnd8fDA8ZSkmJmcoMD53P3c6ZSwwKX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSxiLGMpe2I9Ynx8XCJja2VcIjtzd2l0Y2goYSl7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9PTjp0aGlzLmFkZENsYXNzKGIrXCJfb25cIik7dGhpcy5yZW1vdmVDbGFzcyhiK1xuXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDp0aGlzLmFkZENsYXNzKGIrXCJfZGlzYWJsZWRcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIik7YyYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpO2JyZWFrO2RlZmF1bHQ6dGhpcy5hZGRDbGFzcyhiK1wiX29mZlwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb25cIiksdGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpLGMmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLGMmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKX19LFxuZ2V0RnJhbWVEb2N1bWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fWNhdGNoKGIpe2Euc3JjPWEuc3JjfXJldHVybiBhJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGEuY29udGVudFdpbmRvdy5kb2N1bWVudCl9LGNvcHlBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kLmF0dHJpYnV0ZXM7Yj1ifHx7fTtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGQ9Y1tlXSx3PWQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmO2lmKCEodyBpbiBiKSlpZihcImNoZWNrZWRcIj09dyYmKGY9dGhpcy5nZXRBdHRyaWJ1dGUodykpKWEuc2V0QXR0cmlidXRlKHcsZik7ZWxzZSBpZighQ0tFRElUT1IuZW52LmllfHx0aGlzLmhhc0F0dHJpYnV0ZSh3KSlmPXRoaXMuZ2V0QXR0cmlidXRlKHcpLG51bGw9PT1mJiYoZj1kLm5vZGVWYWx1ZSksYS5zZXRBdHRyaWJ1dGUodyxmKX1cIlwiIT09dGhpcy4kLnN0eWxlLmNzc1RleHQmJlxuKGEuJC5zdHlsZS5jc3NUZXh0PXRoaXMuJC5zdHlsZS5jc3NUZXh0KX0scmVuYW1lTm9kZTpmdW5jdGlvbihhKXtpZih0aGlzLmdldE5hbWUoKSE9YSl7dmFyIGI9dGhpcy5nZXREb2N1bWVudCgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEsYik7dGhpcy5jb3B5QXR0cmlidXRlcyhhKTt0aGlzLm1vdmVDaGlsZHJlbihhKTt0aGlzLmdldFBhcmVudCghMCkmJnRoaXMuJC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLiQsdGhpcy4kKTthLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07dGhpcy4kPWEuJDtkZWxldGUgdGhpcy5nZXROYW1lfX0sZ2V0Q2hpbGQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGU9Yi5jaGlsZE5vZGVzO2lmKDA8PWMmJmM8ZS5sZW5ndGgpcmV0dXJuIGVbY119cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJDtpZihiLnNsaWNlKWZvcihiPWIuc2xpY2UoKTswPGIubGVuZ3RoJiZjOyljPWEoYyxcbmIuc2hpZnQoKSk7ZWxzZSBjPWEoYyxiKTtyZXR1cm4gYz9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYyk6bnVsbH19KCksZ2V0Q2hpbGRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGh9LGRpc2FibGVDb250ZXh0TWVudTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0NsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIil9dGhpcy5vbihcImNvbnRleHRtZW51XCIsZnVuY3Rpb24oYil7Yi5kYXRhLmdldFRhcmdldCgpLmdldEFzY2VuZGFudChhLCEwKXx8Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9KX0sZ2V0RGlyZWN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXREaXJlY3Rpb24oKXx8dGhpcy5nZXRQYXJlbnQoKSYmdGhpcy5nZXRQYXJlbnQoKS5nZXREaXJlY3Rpb24oMSl8fHRoaXMuZ2V0RG9jdW1lbnQoKS4kLmRpcnx8XG5cImx0clwiOnRoaXMuZ2V0U3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0QXR0cmlidXRlKFwiZGlyXCIpfSxkYXRhOmZ1bmN0aW9uKGEsYil7YT1cImRhdGEtXCIrYTtpZih2b2lkIDA9PT1iKXJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShhKTshMT09PWI/dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYSk6dGhpcy5zZXRBdHRyaWJ1dGUoYSxiKTtyZXR1cm4gbnVsbH0sZ2V0RWRpdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmluc3RhbmNlcyxjLGUsZDthPWF8fHZvaWQgMD09PWE7Zm9yKGMgaW4gYilpZihlPWJbY10sZS5lbGVtZW50LmVxdWFscyh0aGlzKSYmZS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHwhYSYmKGQ9ZS5lZGl0YWJsZSgpKSYmKGQuZXF1YWxzKHRoaXMpfHxkLmNvbnRhaW5zKHRoaXMpKSlyZXR1cm4gZTtyZXR1cm4gbnVsbH0sZmluZDpmdW5jdGlvbihhKXt2YXIgYz1kKHRoaXMpO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChiKHRoaXMsXG5hKSkpO2MoKTtyZXR1cm4gYX0sZmluZE9uZTpmdW5jdGlvbihhKXt2YXIgYz1kKHRoaXMpO2E9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYih0aGlzLGEpKTtjKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZT1hKHRoaXMpO2lmKCExIT09ZSl7Yz10aGlzLmdldENoaWxkcmVuKCk7Zm9yKHZhciBkPTA7ZDxjLmNvdW50KCk7ZCsrKWU9Yy5nZXRJdGVtKGQpLGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2UuZm9yRWFjaChhLGIpOmImJmUudHlwZSE9Ynx8YShlKX19fSk7dmFyIGs9e3dpZHRoOltcImJvcmRlci1sZWZ0LXdpZHRoXCIsXCJib3JkZXItcmlnaHQtd2lkdGhcIixcInBhZGRpbmctbGVmdFwiLFwicGFkZGluZy1yaWdodFwiXSxoZWlnaHQ6W1wiYm9yZGVyLXRvcC13aWR0aFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFwicGFkZGluZy10b3BcIixcInBhZGRpbmctYm90dG9tXCJdfTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGEsYixkKXtcIm51bWJlclwiPT10eXBlb2YgYiYmKCFkfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3N8fChiLT1jLmNhbGwodGhpcyxhKSksdGhpcy5zZXRTdHlsZShhLGIrXCJweFwiKSl9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKGEsYil7dmFyIGQ9TWF0aC5tYXgodGhpcy4kW1wib2Zmc2V0XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0sdGhpcy4kW1wiY2xpZW50XCIrQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZShhKV0pfHwwO2ImJihkLT1jLmNhbGwodGhpcyxhKSk7cmV0dXJuIGR9fSkoKTtDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudD1mdW5jdGlvbihhKXthPWF8fENLRURJVE9SLmRvY3VtZW50O3RoaXMuJD1hLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlQ/YS4kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTphfTtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudC5wcm90b3R5cGUsQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQsaW5zZXJ0QWZ0ZXJOb2RlOmZ1bmN0aW9uKGEpe2E9YS4kO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEubmV4dFNpYmxpbmcpfSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO3RoaXMuY2xvbmUoMSwxKS5hcHBlbmRUbyhhKTtyZXR1cm4gYS5nZXRIdG1sKCkucmVwbGFjZSgvXFxzKmRhdGEtY2tlLWV4cGFuZG89XCIuKj9cIi9nLFwiXCIpfX0sITAse2FwcGVuZDoxLGFwcGVuZEJvZ3VzOjEsY2xvbmU6MSxnZXRGaXJzdDoxLGdldEh0bWw6MSxnZXRMYXN0OjEsZ2V0UGFyZW50OjEsZ2V0TmV4dDoxLGdldFByZXZpb3VzOjEsYXBwZW5kVG86MSxtb3ZlQ2hpbGRyZW46MSxpbnNlcnRCZWZvcmU6MSxcbmluc2VydEFmdGVyTm9kZToxLHJlcGxhY2U6MSx0cmltOjEsdHlwZToxLGx0cmltOjEscnRyaW06MSxnZXREb2N1bWVudDoxLGdldENoaWxkQ291bnQ6MSxnZXRDaGlsZDoxLGdldENoaWxkcmVuOjF9KTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz10aGlzLnJhbmdlO2lmKHRoaXMuXy5lbmQpcmV0dXJuIG51bGw7aWYoIXRoaXMuXy5zdGFydCl7dGhpcy5fLnN0YXJ0PTE7aWYoYy5jb2xsYXBzZWQpcmV0dXJuIHRoaXMuZW5kKCksbnVsbDtjLm9wdGltaXplKCl9dmFyIGUsZD1jLnN0YXJ0Q29udGFpbmVyO2U9Yy5lbmRDb250YWluZXI7dmFyIGY9Yy5zdGFydE9mZnNldCx4PWMuZW5kT2Zmc2V0LGcsbj10aGlzLmd1YXJkLHI9dGhpcy50eXBlLEM9YT9cImdldFByZXZpb3VzU291cmNlTm9kZVwiOlwiZ2V0TmV4dFNvdXJjZU5vZGVcIjtpZighYSYmIXRoaXMuXy5ndWFyZExUUil7dmFyIEw9ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZTplLmdldFBhcmVudCgpLEQ9ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZS5nZXRDaGlsZCh4KTplLmdldE5leHQoKTt0aGlzLl8uZ3VhcmRMVFI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIWJ8fCFMLmVxdWFscyhhKSkmJighRHx8XG4hYS5lcXVhbHMoRCkpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoYy5yb290KSl9fWlmKGEmJiF0aGlzLl8uZ3VhcmRSVEwpe3ZhciBoPWQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2Q6ZC5nZXRQYXJlbnQoKSx0PWQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2Y/ZC5nZXRDaGlsZChmLTEpOm51bGw6ZC5nZXRQcmV2aW91cygpO3RoaXMuXy5ndWFyZFJUTD1mdW5jdGlvbihhLGIpe3JldHVybighYnx8IWguZXF1YWxzKGEpKSYmKCF0fHwhYS5lcXVhbHModCkpJiYoYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFifHwhYS5lcXVhbHMoYy5yb290KSl9fXZhciBFPWE/dGhpcy5fLmd1YXJkUlRMOnRoaXMuXy5ndWFyZExUUjtnPW4/ZnVuY3Rpb24oYSxiKXtyZXR1cm4hMT09PUUoYSxiKT8hMTpuKGEsYil9OkU7dGhpcy5jdXJyZW50P2U9dGhpcy5jdXJyZW50W0NdKCExLHIsZyk6KGE/ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuKGU9MDx4P2UuZ2V0Q2hpbGQoeC0xKTohMT09PWcoZSwhMCk/bnVsbDplLmdldFByZXZpb3VzU291cmNlTm9kZSghMCxyLGcpKTooZT1kLGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoKGU9ZS5nZXRDaGlsZChmKSl8fChlPSExPT09ZyhkLCEwKT9udWxsOmQuZ2V0TmV4dFNvdXJjZU5vZGUoITAscixnKSkpKSxlJiYhMT09PWcoZSkmJihlPW51bGwpKTtmb3IoO2UmJiF0aGlzLl8uZW5kOyl7dGhpcy5jdXJyZW50PWU7aWYoIXRoaXMuZXZhbHVhdG9yfHwhMSE9PXRoaXMuZXZhbHVhdG9yKGUpKXtpZighYilyZXR1cm4gZX1lbHNlIGlmKGImJnRoaXMuZXZhbHVhdG9yKXJldHVybiExO2U9ZVtDXSghMSxyLGcpfXRoaXMuZW5kKCk7cmV0dXJuIHRoaXMuY3VycmVudD1udWxsfWZ1bmN0aW9uIGQoYil7Zm9yKHZhciBjLGU9bnVsbDtjPWEuY2FsbCh0aGlzLGIpOyllPWM7cmV0dXJuIGV9Q0tFRElUT1IuZG9tLndhbGtlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXt0aGlzLnJhbmdlPVxuYTt0aGlzLl89e319LHByb3RvOntlbmQ6ZnVuY3Rpb24oKXt0aGlzLl8uZW5kPTF9LG5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMpfSxwcmV2aW91czpmdW5jdGlvbigpe3JldHVybiBhLmNhbGwodGhpcywxKX0sY2hlY2tGb3J3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuITEhPT1hLmNhbGwodGhpcywwLDEpfSxjaGVja0JhY2t3YXJkOmZ1bmN0aW9uKCl7cmV0dXJuITEhPT1hLmNhbGwodGhpcywxLDEpfSxsYXN0Rm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcyl9LGxhc3RCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiBkLmNhbGwodGhpcywxKX0scmVzZXQ6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jdXJyZW50O3RoaXMuXz17fX19fSk7dmFyIGI9e2Jsb2NrOjEsXCJsaXN0LWl0ZW1cIjoxLHRhYmxlOjEsXCJ0YWJsZS1yb3ctZ3JvdXBcIjoxLFwidGFibGUtaGVhZGVyLWdyb3VwXCI6MSxcInRhYmxlLWZvb3Rlci1ncm91cFwiOjEsXCJ0YWJsZS1yb3dcIjoxLFwidGFibGUtY29sdW1uLWdyb3VwXCI6MSxcblwidGFibGUtY29sdW1uXCI6MSxcInRhYmxlLWNlbGxcIjoxLFwidGFibGUtY2FwdGlvblwiOjF9LGM9e2Fic29sdXRlOjEsZml4ZWQ6MX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmlzQmxvY2tCb3VuZGFyeT1mdW5jdGlvbihhKXtyZXR1cm5cIm5vbmVcIiE9dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZmxvYXRcIil8fHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpaW4gY3x8IWJbdGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKV0/ISEodGhpcy5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKXx8YSYmdGhpcy5pcyhhKSk6ITB9O0NLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIShiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5pc0Jsb2NrQm91bmRhcnkoYSkpfX07Q0tFRElUT1IuZG9tLndhbGtlci5saXN0SXRlbUJvdW5kYXJ5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tCb3VuZGFyeSh7YnI6MX0pfTtcbkNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcms9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhJiZhLmdldE5hbWUmJlwic3BhblwiPT1hLmdldE5hbWUoKSYmYS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpfXJldHVybiBmdW5jdGlvbihlKXt2YXIgZCxmO2Q9ZSYmZS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmPWUuZ2V0UGFyZW50KCkpJiZjKGYpO2Q9YT9kOmR8fGMoZSk7cmV0dXJuISEoYl5kKX19O0NLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjO2ImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYz0hQ0tFRElUT1IudG9vbHMudHJpbShiLmdldFRleHQoKSl8fENLRURJVE9SLmVudi53ZWJraXQmJmIuZ2V0VGV4dCgpPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSk7cmV0dXJuISEoYV5jKX19O0NLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlPVxuZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGM9Q0tFRElUT1IuZW52LndlYmtpdD8xOjA7cmV0dXJuIGZ1bmN0aW9uKGUpe2IoZSk/ZT0xOihlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGU9ZS5nZXRQYXJlbnQoKSksZT1lLiQub2Zmc2V0V2lkdGg8PWMpO3JldHVybiEhKGFeZSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3JldHVybiEhKGJeYy50eXBlPT1hKX19O0NLRURJVE9SLmRvbS53YWxrZXIuYm9ndXM9ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4hZyhhKSYmIWsoYSl9cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBlPUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP2MuaXMmJmMuaXMoXCJiclwiKTpjLmdldFRleHQmJmYudGVzdChjLmdldFRleHQoKSk7ZSYmKGU9Yy5nZXRQYXJlbnQoKSxjPWMuZ2V0TmV4dChiKSxlPWUuaXNCbG9ja0JvdW5kYXJ5KCkmJlxuKCFjfHxjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5pc0Jsb2NrQm91bmRhcnkoKSkpO3JldHVybiEhKGFeZSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLnRlbXA9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2IudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj1iLmdldFBhcmVudCgpKTtiPWImJmIuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiKTtyZXR1cm4hIShhXmIpfX07dmFyIGY9L15bXFx0XFxyXFxuIF0qKD86Jm5ic3A7fFxceGEwKSQvLGc9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGs9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpLGg9Q0tFRElUT1IuZG9tLndhbGtlci50ZW1wKCkscD1mdW5jdGlvbihhKXtyZXR1cm4gayhhKXx8ZyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoQ0tFRElUT1IuZHRkLiRpbmxpbmUpJiYhYS5pcyhDS0VESVRPUi5kdGQuJGVtcHR5KX07Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9ZyhiKXx8ayhiKXx8aChiKTtyZXR1cm4hIShhXmIpfX07dmFyIHE9Q0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkKCk7Q0tFRElUT1IuZG9tLndhbGtlci5lbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPTAsZT1iLmdldENoaWxkQ291bnQoKTtjPGU7KytjKWlmKCFxKGIuZ2V0Q2hpbGQoYykpKXJldHVybiEhYTtyZXR1cm4hYX19O3ZhciBlPUNLRURJVE9SLmRvbS53YWxrZXIuZW1wdHkoKSx4PUNLRURJVE9SLmRvbS53YWxrZXIudmFsaWRFbXB0eUJsb2NrQ29udGFpbmVycz1DS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oYSl7dmFyIGI9e30sYztmb3IoYyBpbiBhKUNLRURJVE9SLmR0ZFtjXVtcIiNcIl0mJihiW2NdPTEpO3JldHVybiBifShDS0VESVRPUi5kdGQuJGJsb2NrKSx7Y2FwdGlvbjoxLHRkOjEsdGg6MX0pO0NLRURJVE9SLmRvbS53YWxrZXIuZWRpdGFibGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9XG5xKGIpPyExOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuaXMoQ0tFRElUT1IuZHRkLiRpbmxpbmUpfHxiLmlzKFwiaHJcIil8fFwiZmFsc2VcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil8fCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmYi5pcyh4KSYmZShiKSk/ITA6ITE7cmV0dXJuISEoYV5iKX19O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5nZXRCb2d1cz1mdW5jdGlvbigpe3ZhciBhPXRoaXM7ZG8gYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO3doaWxlKHAoYSkpO3JldHVybiBhJiYoQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/YS5pcyYmYS5pcyhcImJyXCIpOmEuZ2V0VGV4dCYmZi50ZXN0KGEuZ2V0VGV4dCgpKSk/YTohMX19KSgpO1xuQ0tFRElUT1IuZG9tLnJhbmdlPWZ1bmN0aW9uKGEpe3RoaXMuZW5kT2Zmc2V0PXRoaXMuZW5kQ29udGFpbmVyPXRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5zdGFydENvbnRhaW5lcj1udWxsO3RoaXMuY29sbGFwc2VkPSEwO3ZhciBkPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQ7dGhpcy5kb2N1bWVudD1kP2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1kP2EuZ2V0Qm9keSgpOmF9O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthLmNvbGxhcHNlZD1hLnN0YXJ0Q29udGFpbmVyJiZhLmVuZENvbnRhaW5lciYmYS5zdGFydENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpJiZhLnN0YXJ0T2Zmc2V0PT1hLmVuZE9mZnNldH1mdW5jdGlvbiBkKGEsYixjLGQsZil7ZnVuY3Rpb24gZyhhLGIsYyxlKXt2YXIgRz1jP2EuZ2V0UHJldmlvdXMoKTphLmdldE5leHQoKTtpZihlJiZrKXJldHVybiBHO258fGU/Yi5hcHBlbmQoYS5jbG9uZSghMCxmKSxjKTooYS5yZW1vdmUoKSxxJiZiLmFwcGVuZChhLGMpKTtyZXR1cm4gR31mdW5jdGlvbiBtKCl7dmFyIGEsYixjLGU9TWF0aC5taW4oTy5sZW5ndGgsbC5sZW5ndGgpO2ZvcihhPTA7YTxlO2ErKylpZihiPU9bYV0sYz1sW2FdLCFiLmVxdWFscyhjKSlyZXR1cm4gYTtyZXR1cm4gYS0xfWZ1bmN0aW9uIGgoKXt2YXIgYj1LLTEsYz1FJiZ5JiYhci5lcXVhbHMoQyk7YjxCLTF8fGI8QS0xfHxjPyhjP2EubW92ZVRvUG9zaXRpb24oQyxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk6QT09YisxJiZ0P2EubW92ZVRvUG9zaXRpb24obFtiXSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTphLm1vdmVUb1Bvc2l0aW9uKGxbYisxXSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQmJihiPU9bYisxXSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGRhdGEtY2tlLWJvb2ttYXJrXFx4M2RcIjFcIiBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScsYS5kb2N1bWVudCksYy5pbnNlcnRBZnRlcihiKSxiLm1lcmdlU2libGluZ3MoITEpLGEubW92ZVRvQm9va21hcmsoe3N0YXJ0Tm9kZTpjfSkpKTphLmNvbGxhcHNlKCEwKX1hLm9wdGltaXplQm9va21hcmsoKTt2YXIgaz0wPT09YixxPTE9PWIsbj0yPT1iO2I9bnx8cTt2YXIgcj1hLnN0YXJ0Q29udGFpbmVyLEM9YS5lbmRDb250YWluZXIsXG5MPWEuc3RhcnRPZmZzZXQsRD1hLmVuZE9mZnNldCxOLHQsRSx5LEksUDtpZihuJiZDLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKHIuZXF1YWxzKEMpfHxyLnR5cGU9PT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnIuZ2V0Rmlyc3QoKS5lcXVhbHMoQykpKWMuYXBwZW5kKGEuZG9jdW1lbnQuY3JlYXRlVGV4dChDLnN1YnN0cmluZyhMLEQpKSk7ZWxzZXtDLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9uP1A9ITA6Qz1DLnNwbGl0KEQpOjA8Qy5nZXRDaGlsZENvdW50KCk/RD49Qy5nZXRDaGlsZENvdW50KCk/KEM9Qy5nZXRDaGlsZChELTEpLHQ9ITApOkM9Qy5nZXRDaGlsZChEKTp5PXQ9ITA7ci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/bj9JPSEwOnIuc3BsaXQoTCk6MDxyLmdldENoaWxkQ291bnQoKT8wPT09TD8ocj1yLmdldENoaWxkKEwpLE49ITApOnI9ci5nZXRDaGlsZChMLTEpOkU9Tj0hMDtmb3IodmFyIE89ci5nZXRQYXJlbnRzKCksbD1DLmdldFBhcmVudHMoKSxLPW0oKSxcbkI9Ty5sZW5ndGgtMSxBPWwubGVuZ3RoLTEsSj1jLEcsWCxWLGRhPS0xLFE9SztRPD1CO1ErKyl7WD1PW1FdO1Y9WC5nZXROZXh0KCk7Zm9yKFEhPUJ8fFguZXF1YWxzKGxbUV0pJiZCPEE/YiYmKEc9Si5hcHBlbmQoWC5jbG9uZSgwLGYpKSk6Tj9nKFgsSiwhMSxFKTpJJiZKLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoWC5zdWJzdHJpbmcoTCkpKTtWOyl7aWYoVi5lcXVhbHMobFtRXSkpe2RhPVE7YnJlYWt9Vj1nKFYsSil9Sj1HfUo9Yztmb3IoUT1LO1E8PUE7USsrKWlmKGM9bFtRXSxWPWMuZ2V0UHJldmlvdXMoKSxjLmVxdWFscyhPW1FdKSliJiYoSj1KLmdldENoaWxkKDApKTtlbHNle1EhPUF8fGMuZXF1YWxzKE9bUV0pJiZBPEI/YiYmKEc9Si5hcHBlbmQoYy5jbG9uZSgwLGYpKSk6dD9nKGMsSiwhMSx5KTpQJiZKLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoYy5zdWJzdHJpbmcoMCxEKSkpO2lmKFE+ZGEpZm9yKDtWOylWPWcoVixKLCEwKTtKPUd9bnx8aCgpfX1cbmZ1bmN0aW9uIGIoKXt2YXIgYT0hMSxiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITApLGQ9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4gYyhmKXx8YihmKT8hMDpkKGYpJiYhYT9hPSEwOmYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZi5oYXNBc2NlbmRhbnQoXCJwcmVcIil8fENLRURJVE9SLnRvb2xzLnRyaW0oZi5nZXRUZXh0KCkpLmxlbmd0aCl8fGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZi5pcyhnKT8hMTohMH19ZnVuY3Rpb24gYyhhKXt2YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDEpO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gYyhkKXx8YihkKT8hMDohYSYmayhkKXx8ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXMoQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eSl9fVxuZnVuY3Rpb24gZihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYjtyZXR1cm4gdGhpc1thP1wiZ2V0UHJldmlvdXNOb2RlXCI6XCJnZXROZXh0Tm9kZVwiXShmdW5jdGlvbihhKXshYiYmcShhKSYmKGI9YSk7cmV0dXJuIHAoYSkmJiEoayhhKSYmYS5lcXVhbHMoYikpfSl9fXZhciBnPXthYmJyOjEsYWNyb255bToxLGI6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLHE6MSxzYW1wOjEsc21hbGw6MSxzcGFuOjEsc3RyaWtlOjEsc3Ryb25nOjEsc3ViOjEsc3VwOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSxrPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKSxoPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxwPUNLRURJVE9SLmRvbS53YWxrZXIuZWRpdGFibGUoKSxxPUNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZCghMCk7Q0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZT17Y2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1cbm5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTthLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLnN0YXJ0Q29udGFpbmVyKTthLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQ7YS5fc2V0RW5kQ29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKTthLmVuZE9mZnNldD10aGlzLmVuZE9mZnNldDthLmNvbGxhcHNlZD10aGlzLmNvbGxhcHNlZDtyZXR1cm4gYX0sY29sbGFwc2U6ZnVuY3Rpb24oYSl7YT8odGhpcy5fc2V0RW5kQ29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpLHRoaXMuZW5kT2Zmc2V0PXRoaXMuc3RhcnRPZmZzZXQpOih0aGlzLl9zZXRTdGFydENvbnRhaW5lcih0aGlzLmVuZENvbnRhaW5lciksdGhpcy5zdGFydE9mZnNldD10aGlzLmVuZE9mZnNldCk7dGhpcy5jb2xsYXBzZWQ9ITB9LGNsb25lQ29udGVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KHRoaXMuZG9jdW1lbnQpO3RoaXMuY29sbGFwc2VkfHxcbmQodGhpcywyLGIsITEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGE/ITA6YSk7cmV0dXJuIGJ9LGRlbGV0ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuY29sbGFwc2VkfHxkKHRoaXMsMCxudWxsLGEpfSxleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQodGhpcy5kb2N1bWVudCk7dGhpcy5jb2xsYXBzZWR8fGQodGhpcywxLGMsYSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYj8hMDpiKTtyZXR1cm4gY30sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGYsZz10aGlzLmNvbGxhcHNlZDtiPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7Yi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIsMSk7Yi5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7Yi5zZXRIdG1sKFwiXFx4MjZuYnNwO1wiKTthJiYoZD1cImNrZV9ibV9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLFxuZCsoZz9cIkNcIjpcIlNcIikpKTtnfHwoYz1iLmNsb25lKCksYy5zZXRIdG1sKFwiXFx4MjZuYnNwO1wiKSxhJiZjLnNldEF0dHJpYnV0ZShcImlkXCIsZCtcIkVcIiksZj10aGlzLmNsb25lKCksZi5jb2xsYXBzZSgpLGYuaW5zZXJ0Tm9kZShjKSk7Zj10aGlzLmNsb25lKCk7Zi5jb2xsYXBzZSghMCk7Zi5pbnNlcnROb2RlKGIpO2M/KHRoaXMuc2V0U3RhcnRBZnRlcihiKSx0aGlzLnNldEVuZEJlZm9yZShjKSk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJue3N0YXJ0Tm9kZTphP2QrKGc/XCJDXCI6XCJTXCIpOmIsZW5kTm9kZTphP2QrXCJFXCI6YyxzZXJpYWxpemFibGU6YSxjb2xsYXBzZWQ6Z319LGNyZWF0ZUJvb2ttYXJrMjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dmFyIGU9Yi5jb250YWluZXIsZD1iLm9mZnNldCxtO209ZTt2YXIgZj1kO209bS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fDA9PT1mfHxmPT1tLmdldENoaWxkQ291bnQoKT9cbjA6bS5nZXRDaGlsZChmLTEpLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmbS5nZXRDaGlsZChmKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7bSYmKGU9ZS5nZXRDaGlsZChkLTEpLGQ9ZS5nZXRMZW5ndGgoKSk7aWYoZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJjA8ZCl7YTp7Zm9yKG09ZTtkLS07KWlmKGY9bS5nZXRDaGlsZChkKS5nZXRJbmRleCghMCksMDw9Zil7ZD1mO2JyZWFrIGF9ZD0tMX1kKz0xfWlmKGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXttPWU7Zm9yKGY9MDsobT1tLmdldFByZXZpb3VzKCkpJiZtLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDspZis9bS5nZXRUZXh0KCkucmVwbGFjZShDS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRSxcIlwiKS5sZW5ndGg7bT1mO2UuZ2V0VGV4dCgpP2QrPW06KGY9ZS5nZXRQcmV2aW91cyhjKSxtPyhkPW0sZT1mP2YuZ2V0TmV4dCgpOmUuZ2V0UGFyZW50KCkuZ2V0Rmlyc3QoKSk6KGU9XG5lLmdldFBhcmVudCgpLGQ9Zj9mLmdldEluZGV4KCEwKSsxOjApKX1iLmNvbnRhaW5lcj1lO2Iub2Zmc2V0PWR9ZnVuY3Rpb24gYihhLGMpe3ZhciBlPWMuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihlKXt2YXIgZD1hLmNvbnRhaW5lcjtlLmVxdWFscyhkKSYmKGEub2Zmc2V0LT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRS5sZW5ndGgsMD49YS5vZmZzZXQmJihhLm9mZnNldD1kLmdldEluZGV4KCksYS5jb250YWluZXI9ZC5nZXRQYXJlbnQoKSkpfX12YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfVEVYVCwhMCk7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuY29sbGFwc2VkLGY9e2NvbnRhaW5lcjp0aGlzLnN0YXJ0Q29udGFpbmVyLG9mZnNldDp0aGlzLnN0YXJ0T2Zmc2V0fSxtPXtjb250YWluZXI6dGhpcy5lbmRDb250YWluZXIsb2Zmc2V0OnRoaXMuZW5kT2Zmc2V0fTtjJiYoYShmKSxcbmIoZix0aGlzLnJvb3QpLGR8fChhKG0pLGIobSx0aGlzLnJvb3QpKSk7cmV0dXJue3N0YXJ0OmYuY29udGFpbmVyLmdldEFkZHJlc3MoYyksZW5kOmQ/bnVsbDptLmNvbnRhaW5lci5nZXRBZGRyZXNzKGMpLHN0YXJ0T2Zmc2V0OmYub2Zmc2V0LGVuZE9mZnNldDptLm9mZnNldCxub3JtYWxpemVkOmMsY29sbGFwc2VkOmQsaXMyOiEwfX19KCksbW92ZVRvQm9va21hcms6ZnVuY3Rpb24oYSl7aWYoYS5pczIpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuc3RhcnQsYS5ub3JtYWxpemVkKSxjPWEuc3RhcnRPZmZzZXQsZD1hLmVuZCYmdGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5lbmQsYS5ub3JtYWxpemVkKTthPWEuZW5kT2Zmc2V0O3RoaXMuc2V0U3RhcnQoYixjKTtkP3RoaXMuc2V0RW5kKGQsYSk6dGhpcy5jb2xsYXBzZSghMCl9ZWxzZSBiPShjPWEuc2VyaWFsaXphYmxlKT90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5zdGFydE5vZGUpOmEuc3RhcnROb2RlLFxuYT1jP3RoaXMuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZSx0aGlzLnNldFN0YXJ0QmVmb3JlKGIpLGIucmVtb3ZlKCksYT8odGhpcy5zZXRFbmRCZWZvcmUoYSksYS5yZW1vdmUoKSk6dGhpcy5jb2xsYXBzZSghMCl9LGdldEJvdW5kYXJ5Tm9kZXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0LGQ9dGhpcy5lbmRPZmZzZXQsZjtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihmPWEuZ2V0Q2hpbGRDb3VudCgpLGY+YylhPWEuZ2V0Q2hpbGQoYyk7ZWxzZSBpZigxPmYpYT1hLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGE9YS4kO2EubGFzdENoaWxkOylhPWEubGFzdENoaWxkO2E9bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpO2E9YS5nZXROZXh0U291cmNlTm9kZSgpfHxhfWlmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGY9Yi5nZXRDaGlsZENvdW50KCksXG5mPmQpYj1iLmdldENoaWxkKGQpLmdldFByZXZpb3VzU291cmNlTm9kZSghMCk7ZWxzZSBpZigxPmYpYj1iLmdldFByZXZpb3VzU291cmNlTm9kZSgpO2Vsc2V7Zm9yKGI9Yi4kO2IubGFzdENoaWxkOyliPWIubGFzdENoaWxkO2I9bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpfWEuZ2V0UG9zaXRpb24oYikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYoYT1iKTtyZXR1cm57c3RhcnROb2RlOmEsZW5kTm9kZTpifX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5lbmRDb250YWluZXIsYz1jLmVxdWFscyhkKT9hJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5lbmRPZmZzZXQtMT9jLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpOmM6Yy5nZXRDb21tb25BbmNlc3RvcihkKTtyZXR1cm4gYiYmIWMuaXM/Yy5nZXRQYXJlbnQoKTpjfSxvcHRpbWl6ZTpmdW5jdGlvbigpe3ZhciBhPVxudGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuc3RhcnRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0U3RhcnRBZnRlcihhKTp0aGlzLnNldFN0YXJ0QmVmb3JlKGEpKTthPXRoaXMuZW5kQ29udGFpbmVyO2I9dGhpcy5lbmRPZmZzZXQ7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiP2I+PWEuZ2V0TGVuZ3RoKCkmJnRoaXMuc2V0RW5kQWZ0ZXIoYSk6dGhpcy5zZXRFbmRCZWZvcmUoYSkpfSxvcHRpbWl6ZUJvb2ttYXJrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyO2EuaXMmJmEuaXMoXCJzcGFuXCIpJiZhLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7YiYmYi5pcyYmYi5pcyhcInNwYW5cIikmJmIuZGF0YShcImNrZS1ib29rbWFya1wiKSYmdGhpcy5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9LFxudHJpbTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLnN0YXJ0T2Zmc2V0LGY9dGhpcy5jb2xsYXBzZWQ7aWYoKCFhfHxmKSYmYyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2lmKGQpaWYoZD49Yy5nZXRMZW5ndGgoKSlkPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTtlbHNle3ZhciBnPWMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSxjPWMuZ2V0UGFyZW50KCk7dGhpcy5zdGFydENvbnRhaW5lci5lcXVhbHModGhpcy5lbmRDb250YWluZXIpP3RoaXMuc2V0RW5kKGcsdGhpcy5lbmRPZmZzZXQtdGhpcy5zdGFydE9mZnNldCk6Yy5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiYodGhpcy5lbmRPZmZzZXQrPTEpfWVsc2UgZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpO3RoaXMuc2V0U3RhcnQoYyxkKTtpZihmKXt0aGlzLmNvbGxhcHNlKCEwKTtyZXR1cm59fWM9dGhpcy5lbmRDb250YWluZXI7ZD10aGlzLmVuZE9mZnNldDtcbmJ8fGZ8fCFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8KGQ/KGQ+PWMuZ2V0TGVuZ3RoKCl8fGMuc3BsaXQoZCksZD1jLmdldEluZGV4KCkrMSk6ZD1jLmdldEluZGV4KCksYz1jLmdldFBhcmVudCgpLHRoaXMuc2V0RW5kKGMsZCkpfSxlbmxhcmdlOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP251bGw6YX12YXIgZD1uZXcgUmVnRXhwKC9bXlxcc1xcdWZlZmZdLyk7c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU6dmFyIGY9MTtjYXNlIENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVDp2YXIgZz1mdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoaCk7Yy5zZXRTdGFydChhLGIpO2Muc2V0RW5kQXQoaCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxcbmU7Zm9yKGMuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIShhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0Jsb2NrQm91bmRhcnkoKSl9O2U9Yy5uZXh0KCk7KXtpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVClyZXR1cm4hMTtOPWUhPWE/ZS5nZXRUZXh0KCk6ZS5zdWJzdHJpbmcoYik7aWYoZC50ZXN0KE4pKXJldHVybiExfXJldHVybiEwfTtpZih0aGlzLmNvbGxhcHNlZClicmVhazt2YXIgbT10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksaD10aGlzLnJvb3QsayxxLG4scixDLEw9ITEsRCxOO0Q9dGhpcy5zdGFydENvbnRhaW5lcjt2YXIgdD10aGlzLnN0YXJ0T2Zmc2V0O0QudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUPyh0JiYoRD0hQ0tFRElUT1IudG9vbHMudHJpbShELnN1YnN0cmluZygwLHQpKS5sZW5ndGgmJkQsTD0hIUQpLEQmJigocj1ELmdldFByZXZpb3VzKCkpfHwobj1ELmdldFBhcmVudCgpKSkpOih0JiYocj1ELmdldENoaWxkKHQtMSl8fEQuZ2V0TGFzdCgpKSxcbnJ8fChuPUQpKTtmb3Iobj1jKG4pO258fHI7KXtpZihuJiYhcil7IUMmJm4uZXF1YWxzKG0pJiYoQz0hMCk7aWYoZj9uLmlzQmxvY2tCb3VuZGFyeSgpOiFoLmNvbnRhaW5zKG4pKWJyZWFrO0wmJlwiaW5saW5lXCI9PW4uZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fChMPSExLEM/az1uOnRoaXMuc2V0U3RhcnRCZWZvcmUobikpO3I9bi5nZXRQcmV2aW91cygpfWZvcig7cjspaWYoRD0hMSxyLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVClyPXIuZ2V0UHJldmlvdXMoKTtlbHNle2lmKHIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKU49ci5nZXRUZXh0KCksZC50ZXN0KE4pJiYocj1udWxsKSxEPS9bXFxzXFx1ZmVmZl0kLy50ZXN0KE4pO2Vsc2UgaWYoKHIuJC5vZmZzZXRXaWR0aD4oQ0tFRElUT1IuZW52LndlYmtpdD8xOjApfHxiJiZyLmlzKFwiYnJcIikpJiYhci5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKEwmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbci5nZXROYW1lKCldKXtOPVxuci5nZXRUZXh0KCk7aWYoZC50ZXN0KE4pKXI9bnVsbDtlbHNlIGZvcih2YXIgdD1yLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEU9MCx5O3k9dFtFKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt5Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXtyPW51bGw7YnJlYWt9ciYmKEQ9ISFOLmxlbmd0aCl9ZWxzZSByPW51bGw7RCYmKEw/Qz9rPW46biYmdGhpcy5zZXRTdGFydEJlZm9yZShuKTpMPSEwKTtpZihyKXtEPXIuZ2V0UHJldmlvdXMoKTtpZighbiYmIUQpe249cjtyPW51bGw7YnJlYWt9cj1EfWVsc2Ugbj1udWxsfW4mJihuPWMobi5nZXRQYXJlbnQoKSkpfUQ9dGhpcy5lbmRDb250YWluZXI7dD10aGlzLmVuZE9mZnNldDtuPXI9bnVsbDtDPUw9ITE7RC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/Q0tFRElUT1IudG9vbHMudHJpbShELnN1YnN0cmluZyh0KSkubGVuZ3RoP0w9ITA6KEw9IUQuZ2V0TGVuZ3RoKCksdD09RC5nZXRMZW5ndGgoKT8ocj1ELmdldE5leHQoKSl8fFxuKG49RC5nZXRQYXJlbnQoKSk6ZyhELHQpJiYobj1ELmdldFBhcmVudCgpKSk6KHI9RC5nZXRDaGlsZCh0KSl8fChuPUQpO2Zvcig7bnx8cjspe2lmKG4mJiFyKXshQyYmbi5lcXVhbHMobSkmJihDPSEwKTtpZihmP24uaXNCbG9ja0JvdW5kYXJ5KCk6IWguY29udGFpbnMobikpYnJlYWs7TCYmXCJpbmxpbmVcIj09bi5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8KEw9ITEsQz9xPW46biYmdGhpcy5zZXRFbmRBZnRlcihuKSk7cj1uLmdldE5leHQoKX1mb3IoO3I7KXtEPSExO2lmKHIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKU49ci5nZXRUZXh0KCksZyhyLDApfHwocj1udWxsKSxEPS9eW1xcc1xcdWZlZmZdLy50ZXN0KE4pO2Vsc2UgaWYoci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKCgwPHIuJC5vZmZzZXRXaWR0aHx8YiYmci5pcyhcImJyXCIpKSYmIXIuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZihMJiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3IuZ2V0TmFtZSgpXSl7Tj1cbnIuZ2V0VGV4dCgpO2lmKGQudGVzdChOKSlyPW51bGw7ZWxzZSBmb3IodD1yLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLEU9MDt5PXRbRSsrXTspaWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbeS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7cj1udWxsO2JyZWFrfXImJihEPSEhTi5sZW5ndGgpfWVsc2Ugcj1udWxsfWVsc2UgRD0xO0QmJkwmJihDP3E9bjp0aGlzLnNldEVuZEFmdGVyKG4pKTtpZihyKXtEPXIuZ2V0TmV4dCgpO2lmKCFuJiYhRCl7bj1yO3I9bnVsbDticmVha31yPUR9ZWxzZSBuPW51bGx9biYmKG49YyhuLmdldFBhcmVudCgpKSl9ayYmcSYmKG09ay5jb250YWlucyhxKT9xOmssdGhpcy5zZXRTdGFydEJlZm9yZShtKSx0aGlzLnNldEVuZEFmdGVyKG0pKTticmVhaztjYXNlIENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFM6Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzpuPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtcbmg9dGhpcy5yb290O24uc2V0U3RhcnRBdChoLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtuLnNldEVuZCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMuc3RhcnRPZmZzZXQpO249bmV3IENLRURJVE9SLmRvbS53YWxrZXIobik7dmFyIEksUCxPPUNLRURJVE9SLmRvbS53YWxrZXIuYmxvY2tCb3VuZGFyeShhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz97YnI6MX06bnVsbCksbD1udWxsLEs9ZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpaWYobCl7aWYobC5lcXVhbHMoYSkpe2w9bnVsbDtyZXR1cm59fWVsc2UgbD1hO2Vsc2UgaWYobClyZXR1cm47dmFyIGI9TyhhKTtifHwoST1hKTtyZXR1cm4gYn0sZj1mdW5jdGlvbihhKXt2YXIgYj1LKGEpOyFiJiZhLmlzJiZhLmlzKFwiYnJcIikmJihQPWEpO3JldHVybiBifTtuLmd1YXJkPUs7bj1uLmxhc3RCYWNrd2FyZCgpO1xuST1JfHxoO3RoaXMuc2V0U3RhcnRBdChJLCFJLmlzKFwiYnJcIikmJighbiYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpfHxuJiZJLmNvbnRhaW5zKG4pKT9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO2lmKGE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKXtuPXRoaXMuY2xvbmUoKTtuPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKG4pO3ZhciBCPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxBPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKTtuLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4hQihhKSYmIUEoYSl9O2lmKChuPW4ucHJldmlvdXMoKSkmJm4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZuLmlzKFwiYnJcIikpYnJlYWt9bj10aGlzLmNsb25lKCk7bi5jb2xsYXBzZSgpO24uc2V0RW5kQXQoaCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtuPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKG4pO1xubi5ndWFyZD1hPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUz9mOks7ST1sPVA9bnVsbDtuPW4ubGFzdEZvcndhcmQoKTtJPUl8fGg7dGhpcy5zZXRFbmRBdChJLCFuJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpfHxuJiZJLmNvbnRhaW5zKG4pP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtQJiZ0aGlzLnNldEVuZEFmdGVyKFApfX0sc2hyaW5rOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1cImJvb2xlYW5cIj09PXR5cGVvZiBjP2M6YyYmXCJib29sZWFuXCI9PT10eXBlb2YgYy5zaHJpbmtPbkJsb2NrQm91bmRhcnk/Yy5zaHJpbmtPbkJsb2NrQm91bmRhcnk6ITAsZj1jJiZjLnNraXBCb2d1cztpZighdGhpcy5jb2xsYXBzZWQpe2E9YXx8Q0tFRElUT1IuU0hSSU5LX1RFWFQ7dmFyIGc9dGhpcy5jbG9uZSgpLG09dGhpcy5zdGFydENvbnRhaW5lcixoPXRoaXMuZW5kQ29udGFpbmVyLGs9dGhpcy5zdGFydE9mZnNldCxcbnE9dGhpcy5lbmRPZmZzZXQsbj1jPTE7bSYmbS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihrP2s+PW0uZ2V0TGVuZ3RoKCk/Zy5zZXRTdGFydEFmdGVyKG0pOihnLnNldFN0YXJ0QmVmb3JlKG0pLGM9MCk6Zy5zZXRTdGFydEJlZm9yZShtKSk7aCYmaC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihxP3E+PWguZ2V0TGVuZ3RoKCk/Zy5zZXRFbmRBZnRlcihoKTooZy5zZXRFbmRBZnRlcihoKSxuPTApOmcuc2V0RW5kQmVmb3JlKGgpKTt2YXIgZz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihnKSxyPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxDPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtnLmV2YWx1YXRvcj1mdW5jdGlvbihiKXtyZXR1cm4gYi50eXBlPT0oYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/Q0tFRElUT1IuTk9ERV9FTEVNRU5UOkNLRURJVE9SLk5PREVfVEVYVCl9O3ZhciBMO2cuZ3VhcmQ9ZnVuY3Rpb24oYixjKXtpZihmJiZDKGIpfHxyKGIpKXJldHVybiEwO1xuaWYoYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxjJiZiLmVxdWFscyhMKXx8ITE9PT1kJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5pc0Jsb2NrQm91bmRhcnkoKXx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiExO2N8fGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwoTD1iKTtyZXR1cm4hMH07YyYmKG09Z1thPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9cImxhc3RGb3J3YXJkXCI6XCJuZXh0XCJdKCkpJiZ0aGlzLnNldFN0YXJ0QXQobSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7biYmKGcucmVzZXQoKSwoZz1nW2E9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP1wibGFzdEJhY2t3YXJkXCI6XCJwcmV2aW91c1wiXSgpKSYmdGhpcy5zZXRFbmRBdChnLGI/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpcbkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO3JldHVybiEoIWMmJiFuKX19LGluc2VydE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5vcHRpbWl6ZUJvb2ttYXJrKCk7dGhpcy50cmltKCExLCEwKTt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGM9Yi5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KTtjP2EuaW5zZXJ0QmVmb3JlKGMpOmIuYXBwZW5kKGEpO2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKSYmdGhpcy5lbmRPZmZzZXQrKzt0aGlzLnNldFN0YXJ0QmVmb3JlKGEpfSxtb3ZlVG9Qb3NpdGlvbjpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhcnRBdChhLGIpO3RoaXMuY29sbGFwc2UoITApfSxtb3ZlVG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuc3RhcnRDb250YWluZXIsYS5zdGFydE9mZnNldCk7dGhpcy5zZXRFbmQoYS5lbmRDb250YWluZXIsYS5lbmRPZmZzZXQpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLFxuMCk7dGhpcy5zZXRFbmQoYSxhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9hLmdldExlbmd0aCgpOmEuZ2V0Q2hpbGRDb3VudCgpKX0sc2V0U3RhcnQ6ZnVuY3Rpb24oYixjKXtiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRlbXB0eVtiLmdldE5hbWUoKV0mJihjPWIuZ2V0SW5kZXgoKSxiPWIuZ2V0UGFyZW50KCkpO3RoaXMuX3NldFN0YXJ0Q29udGFpbmVyKGIpO3RoaXMuc3RhcnRPZmZzZXQ9Yzt0aGlzLmVuZENvbnRhaW5lcnx8KHRoaXMuX3NldEVuZENvbnRhaW5lcihiKSx0aGlzLmVuZE9mZnNldD1jKTthKHRoaXMpfSxzZXRFbmQ6ZnVuY3Rpb24oYixjKXtiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRlbXB0eVtiLmdldE5hbWUoKV0mJihjPWIuZ2V0SW5kZXgoKSsxLGI9Yi5nZXRQYXJlbnQoKSk7dGhpcy5fc2V0RW5kQ29udGFpbmVyKGIpO3RoaXMuZW5kT2Zmc2V0PWM7dGhpcy5zdGFydENvbnRhaW5lcnx8XG4odGhpcy5fc2V0U3RhcnRDb250YWluZXIoYiksdGhpcy5zdGFydE9mZnNldD1jKTthKHRoaXMpfSxzZXRTdGFydEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldFN0YXJ0QmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkpfSxzZXRFbmRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSsxKX0sc2V0RW5kQmVmb3JlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0RW5kKGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0U3RhcnRBdDpmdW5jdGlvbihiLGMpe3N3aXRjaChjKXtjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOnRoaXMuc2V0U3RhcnQoYiwwKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dGhpcy5zZXRTdGFydChiLFxuYi5nZXRMZW5ndGgoKSk6dGhpcy5zZXRTdGFydChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldFN0YXJ0QmVmb3JlKGIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0U3RhcnRBZnRlcihiKX1hKHRoaXMpfSxzZXRFbmRBdDpmdW5jdGlvbihiLGMpe3N3aXRjaChjKXtjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOnRoaXMuc2V0RW5kKGIsMCk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0RW5kKGIsYi5nZXRMZW5ndGgoKSk6dGhpcy5zZXRFbmQoYixiLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRFbmRCZWZvcmUoYik7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6dGhpcy5zZXRFbmRBZnRlcihiKX1hKHRoaXMpfSxcbmZpeEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpO3RoaXMuY29sbGFwc2UoYSk7dGhpcy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3RoaXMuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCk7ZC50cmltKCk7dGhpcy5pbnNlcnROb2RlKGQpO3ZhciBmPWQuZ2V0Qm9ndXMoKTtmJiZmLnJlbW92ZSgpO2QuYXBwZW5kQm9ndXMoKTt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpO3JldHVybiBkfSxzcGxpdEJsb2NrOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCksZj1jLmJsb2NrLGc9ZC5ibG9jayxtPW51bGw7aWYoIWMuYmxvY2tMaW1pdC5lcXVhbHMoZC5ibG9ja0xpbWl0KSlyZXR1cm4gbnVsbDtcblwiYnJcIiE9YSYmKGZ8fChmPXRoaXMuZml4QmxvY2soITAsYSksZz0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpKS5ibG9jayksZ3x8KGc9dGhpcy5maXhCbG9jayghMSxhKSkpO2M9ZiYmdGhpcy5jaGVja1N0YXJ0T2ZCbG9jaygpO2Q9ZyYmdGhpcy5jaGVja0VuZE9mQmxvY2soKTt0aGlzLmRlbGV0ZUNvbnRlbnRzKCk7ZiYmZi5lcXVhbHMoZykmJihkPyhtPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLHRoaXMubW92ZVRvUG9zaXRpb24oZyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGc9bnVsbCk6Yz8obT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxmPW51bGwpOihnPXRoaXMuc3BsaXRFbGVtZW50KGYsXG5ifHwhMSksZi5pcyhcInVsXCIsXCJvbFwiKXx8Zi5hcHBlbmRCb2d1cygpKSk7cmV0dXJue3ByZXZpb3VzQmxvY2s6ZixuZXh0QmxvY2s6Zyx3YXNTdGFydE9mQmxvY2s6Yyx3YXNFbmRPZkJsb2NrOmQsZWxlbWVudFBhdGg6bX19LHNwbGl0RWxlbWVudDpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmNvbGxhcHNlZClyZXR1cm4gbnVsbDt0aGlzLnNldEVuZEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dmFyIGM9dGhpcy5leHRyYWN0Q29udGVudHMoITEsYnx8ITEpLGQ9YS5jbG9uZSghMSxifHwhMSk7Yy5hcHBlbmRUbyhkKTtkLmluc2VydEFmdGVyKGEpO3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybiBkfSxyZW1vdmVFbXB0eUJsb2Nrc0F0RW5kOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuIGIoYSl8fGMoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlKCl8fFxuZS5pcyhcInRhYmxlXCIpJiZhLmlzKFwiY2FwdGlvblwiKT8hMTohMH19dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSk7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz10aGlzLmNyZWF0ZUJvb2ttYXJrKCksZD10aGlzW2I/XCJlbmRQYXRoXCI6XCJzdGFydFBhdGhcIl0oKSxtPWQuYmxvY2t8fGQuYmxvY2tMaW1pdCxmO20mJiFtLmVxdWFscyhkLnJvb3QpJiYhbS5nZXRGaXJzdChhKG0pKTspZj1tLmdldFBhcmVudCgpLHRoaXNbYj9cInNldEVuZEF0XCI6XCJzZXRTdGFydEF0XCJdKG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxtLnJlbW92ZSgxKSxtPWY7dGhpcy5tb3ZlVG9Cb29rbWFyayhjKX19KCksc3RhcnRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpfSxlbmRQYXRoOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsXG50aGlzLnJvb3QpfSxjaGVja0JvdW5kYXJ5T2ZFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9Yj09Q0tFRElUT1IuU1RBUlQsZj10aGlzLmNsb25lKCk7Zi5jb2xsYXBzZShkKTtmW2Q/XCJzZXRTdGFydEF0XCI6XCJzZXRFbmRBdFwiXShhLGQ/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Zj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKTtmLmV2YWx1YXRvcj1jKGQpO3JldHVybiBmW2Q/XCJjaGVja0JhY2t3YXJkXCI6XCJjaGVja0ZvcndhcmRcIl0oKX0sY2hlY2tTdGFydE9mQmxvY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGM9dGhpcy5zdGFydE9mZnNldDtDS0VESVRPUi5lbnYuaWUmJmMmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhLnN1YnN0cmluZygwLGMpKSxoLnRlc3QoYSkmJnRoaXMudHJpbSgwLDEpKTt0aGlzLnRyaW0oKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcixcbnRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZSghMCk7Yy5zZXRTdGFydEF0KGEuYmxvY2t8fGEuYmxvY2tMaW1pdCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7YT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTthLmV2YWx1YXRvcj1iKCk7cmV0dXJuIGEuY2hlY2tCYWNrd2FyZCgpfSxjaGVja0VuZE9mQmxvY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVuZENvbnRhaW5lcixjPXRoaXMuZW5kT2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPUNLRURJVE9SLnRvb2xzLnJ0cmltKGEuc3Vic3RyaW5nKGMpKSxoLnRlc3QoYSkmJnRoaXMudHJpbSgxLDApKTt0aGlzLnRyaW0oKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KTtjPXRoaXMuY2xvbmUoKTtjLmNvbGxhcHNlKCExKTtjLnNldEVuZEF0KGEuYmxvY2t8fGEuYmxvY2tMaW1pdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtcbmE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7YS5ldmFsdWF0b3I9YigpO3JldHVybiBhLmNoZWNrRm9yd2FyZCgpfSxnZXRQcmV2aW91c05vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKDEpO2Quc2V0U3RhcnRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2M9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCk7Yy5ldmFsdWF0b3I9YTtjLmd1YXJkPWI7cmV0dXJuIGMucHJldmlvdXMoKX0sZ2V0TmV4dE5vZGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY2xvbmUoKTtkLmNvbGxhcHNlKCk7ZC5zZXRFbmRBdChjfHx0aGlzLnJvb3QsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtjLmV2YWx1YXRvcj1hO2MuZ3VhcmQ9YjtyZXR1cm4gYy5uZXh0KCl9LGNoZWNrUmVhZE9ubHk6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7Zm9yKDtiOyl7aWYoYi50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJmYWxzZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmIWIuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4gMDtpZihiLmlzKFwiaHRtbFwiKXx8XCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiYoYi5jb250YWlucyhjKXx8Yi5lcXVhbHMoYykpKWJyZWFrfWI9Yi5nZXRQYXJlbnQoKX1yZXR1cm4gMX1yZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGM9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIShhKGIsYykmJmEoYyxiKSl9fSgpLG1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzRWRpdGFibGUoITEpKXJldHVybiB0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcbiEwO2Zvcih2YXIgYz0wO2E7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7YiYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkmJmgudGVzdChhLmdldFRleHQoKSk/dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk6dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7Yz0xO2JyZWFrfWlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGEuaXNFZGl0YWJsZSgpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGM9MTtlbHNlIGlmKGImJmEuaXMoXCJiclwiKSYmdGhpcy5lbmRDb250YWluZXImJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG5lbHNlIGlmKFwiZmFsc2VcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmEuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykpcmV0dXJuIHRoaXMuc2V0U3RhcnRCZWZvcmUoYSksdGhpcy5zZXRFbmRBZnRlcihhKSwhMDt2YXIgZD1hLGY9YyxnPXZvaWQgMDtkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0VkaXRhYmxlKCExKSYmKGc9ZFtiP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0ocSkpO2Z8fGd8fChnPWRbYj9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKHEpKTthPWd9cmV0dXJuISFjfSxtb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9MCxmLGcsbT1bQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5ELENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVF07YT8oYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksYy5tb3ZlVG9Qb3NpdGlvbihhLG1bYj8wOjFdKSk6Yz10aGlzLmNsb25lKCk7aWYoYSYmXG4hYS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSlkPTE7ZWxzZSBpZihmPWNbYj9cImdldE5leHRFZGl0YWJsZU5vZGVcIjpcImdldFByZXZpb3VzRWRpdGFibGVOb2RlXCJdKCkpZD0xLChnPWYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKSYmZi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmXCJmYWxzZVwiPT1mLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT8oYy5zZXRTdGFydEF0KGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxjLnNldEVuZEF0KGYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6IUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZnJiZmLmlzKENLRURJVE9SLmRvbS53YWxrZXIudmFsaWRFbXB0eUJsb2NrQ29udGFpbmVycyk/KGMuc2V0RW5kKGYsMCksYy5jb2xsYXBzZSgpKTpjLm1vdmVUb1Bvc2l0aW9uKGYsbVtiPzE6MF0pO2QmJnRoaXMubW92ZVRvUmFuZ2UoYyk7cmV0dXJuISFkfSxtb3ZlVG9FbGVtZW50RWRpdFN0YXJ0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEpfSxcbm1vdmVUb0VsZW1lbnRFZGl0RW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGEsITApfSxnZXRFbmNsb3NlZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNsb25lKCk7YS5vcHRpbWl6ZSgpO2lmKGEuc3RhcnRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhLmVuZENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSksYj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxjPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO2EuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBjKGEpJiZiKGEpfTt2YXIgZD1hLm5leHQoKTthLnJlc2V0KCk7cmV0dXJuIGQmJmQuZXF1YWxzKGEucHJldmlvdXMoKSk/ZDpudWxsfSxnZXRUb3VjaGVkU3RhcnROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcjtcbnJldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpfHxhfSxnZXRUb3VjaGVkRW5kTm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZW5kQ29udGFpbmVyO3JldHVybiB0aGlzLmNvbGxhcHNlZHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/YTphLmdldENoaWxkKHRoaXMuZW5kT2Zmc2V0LTEpfHxhfSxnZXROZXh0RWRpdGFibGVOb2RlOmYoKSxnZXRQcmV2aW91c0VkaXRhYmxlTm9kZTpmKDEpLF9nZXRUYWJsZUVsZW1lbnQ6ZnVuY3Rpb24oYSl7YT1hfHx7dGQ6MSx0aDoxLHRyOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjEsdGFibGU6MX07dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuZW5kQ29udGFpbmVyLGQ9Yi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxmPWMuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCk7cmV0dXJuIENLRURJVE9SLmVudi5zYWZhcmkmJmQmJmMuZXF1YWxzKHRoaXMucm9vdCk/XG5iLmdldEFzY2VuZGFudChhLCEwKTp0aGlzLmdldEVuY2xvc2VkTm9kZSgpP3RoaXMuZ2V0RW5jbG9zZWROb2RlKCkuZ2V0QXNjZW5kYW50KGEsITApOmQmJmYmJihkLmVxdWFscyhmKXx8ZC5jb250YWlucyhmKXx8Zi5jb250YWlucyhkKSk/Yi5nZXRBc2NlbmRhbnQoYSwhMCk6bnVsbH0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIix0aGlzLmRvY3VtZW50KSxiLGMsZCxmPXRoaXMuY2xvbmUoKTtmLm9wdGltaXplKCk7KGQ9Zi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpPyhjPWYuc3RhcnRDb250YWluZXIuZ2V0VGV4dCgpLGI9Zi5zdGFydENvbnRhaW5lci5zcGxpdChmLnN0YXJ0T2Zmc2V0KSxhLmluc2VydEFmdGVyKGYuc3RhcnRDb250YWluZXIpKTpmLmluc2VydE5vZGUoYSk7YS5zY3JvbGxJbnRvVmlldygpO1xuZCYmKGYuc3RhcnRDb250YWluZXIuc2V0VGV4dChjKSxiLnJlbW92ZSgpKTthLnJlbW92ZSgpfSxnZXRDbGllbnRSZWN0czpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZD1DS0VESVRPUi50b29scy5hcnJheS5tYXAoYixmdW5jdGlvbihhKXtyZXR1cm4gYX0pLGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjLnJvb3QpLGYsZyxuO2Muc3RhcnRDb250YWluZXIgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCYmKGc9MD09PWMuc3RhcnRPZmZzZXQmJmMuc3RhcnRDb250YWluZXIuaGFzQXR0cmlidXRlKFwiZGF0YS13aWRnZXRcIikpO2MuZW5kQ29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihuPShuPWMuZW5kT2Zmc2V0PT09KGMuZW5kQ29udGFpbmVyLmdldENoaWxkQ291bnQ/Yy5lbmRDb250YWluZXIuZ2V0Q2hpbGRDb3VudCgpOmMuZW5kQ29udGFpbmVyLmxlbmd0aCkpJiZjLmVuZENvbnRhaW5lci5oYXNBdHRyaWJ1dGUoXCJkYXRhLXdpZGdldFwiKSk7XG5nJiZlLnNldFN0YXJ0KGMuc3RhcnRDb250YWluZXIuZ2V0UGFyZW50KCksYy5zdGFydENvbnRhaW5lci5nZXRJbmRleCgpKTtuJiZlLnNldEVuZChjLmVuZENvbnRhaW5lci5nZXRQYXJlbnQoKSxjLmVuZENvbnRhaW5lci5nZXRJbmRleCgpKzEpO2lmKGd8fG4pYz1lO2U9Yy5jbG9uZUNvbnRlbnRzKCk7ZT1DS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLmZpbmQuY2FsbChlLFwiW2RhdGEtY2tlLXdpZGdldC1pZF1cIikudG9BcnJheSgpO2lmKGU9Q0tFRElUT1IudG9vbHMuYXJyYXkubWFwKGUsZnVuY3Rpb24oYSl7dmFyIGI9Yy5yb290LmVkaXRvcjthPWEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWlkXCIpO3JldHVybiBiLndpZGdldHMuaW5zdGFuY2VzW2FdLmVsZW1lbnR9KSlyZXR1cm4gZT1DS0VESVRPUi50b29scy5hcnJheS5tYXAoZSxmdW5jdGlvbihhKXt2YXIgYjtiPWEuZ2V0UGFyZW50KCkuaGFzQ2xhc3MoXCJja2Vfd2lkZ2V0X3dyYXBwZXJcIik/YS5nZXRQYXJlbnQoKTpcbmE7Zj10aGlzLnJvb3QuZ2V0RG9jdW1lbnQoKS4kLmNyZWF0ZVJhbmdlKCk7Zi5zZXRTdGFydChiLmdldFBhcmVudCgpLiQsYi5nZXRJbmRleCgpKTtmLnNldEVuZChiLmdldFBhcmVudCgpLiQsYi5nZXRJbmRleCgpKzEpO2I9Zi5nZXRDbGllbnRSZWN0cygpO2Iud2lkZ2V0UmVjdD1hLmdldENsaWVudFJlY3QoKTtyZXR1cm4gYn0sYyksQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChlLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZSl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChkLGZ1bmN0aW9uKGIsZil7dmFyIG49Q0tFRElUT1IudG9vbHMub2JqZWN0Q29tcGFyZShhW2VdLGIpO258fChuPUNLRURJVE9SLnRvb2xzLm9iamVjdENvbXBhcmUoYS53aWRnZXRSZWN0LGIpKTtuJiYoQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGQsZixhLmxlbmd0aC1lLGEud2lkZ2V0UmVjdCksYz0hMCl9KTtjfHwoZTxkLmxlbmd0aC0xP2IoZSsxKTpkLnB1c2goYS53aWRnZXRSZWN0KSl9XG52YXIgYztiKDApfSksZH1mdW5jdGlvbiBiKGEsYyxlKXt2YXIgZjtjLmNvbGxhcHNlZD9lLnN0YXJ0Q29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/KGE9ZS5jaGVja1N0YXJ0T2ZCbG9jaygpLGY9bmV3IENLRURJVE9SLmRvbS50ZXh0KFwi4oCLXCIpLGE/ZS5zdGFydENvbnRhaW5lci5hcHBlbmQoZiwhMCk6MD09PWUuc3RhcnRPZmZzZXQ/Zi5pbnNlcnRCZWZvcmUoZS5zdGFydENvbnRhaW5lci5nZXRGaXJzdCgpKTooZT1lLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkcmVuKCkuZ2V0SXRlbShlLnN0YXJ0T2Zmc2V0LTEpLGYuaW5zZXJ0QWZ0ZXIoZSkpLGMuc2V0U3RhcnQoZi4kLDApLGMuc2V0RW5kKGYuJCwwKSxhPWMuZ2V0Q2xpZW50UmVjdHMoKSxmLnJlbW92ZSgpKTplLnN0YXJ0Q29udGFpbmVyIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnRleHQmJihcIlwiPT09ZS5zdGFydENvbnRhaW5lci5nZXRUZXh0KCk/KGUuc3RhcnRDb250YWluZXIuc2V0VGV4dChcIuKAi1wiKSxcbmE9Yy5nZXRDbGllbnRSZWN0cygpLGUuc3RhcnRDb250YWluZXIuc2V0VGV4dChcIlwiKSk6YT1bZChlLmNyZWF0ZUJvb2ttYXJrKCkpXSk6YT1bZChlLmNyZWF0ZUJvb2ttYXJrKCkpXTtyZXR1cm4gYX1mdW5jdGlvbiBjKGEsYixkKXthPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhKTtiJiYoYT1DS0VESVRPUi50b29scy5nZXRBYnNvbHV0ZVJlY3RQb3NpdGlvbihkLmRvY3VtZW50LmdldFdpbmRvdygpLGEpKTshYS53aWR0aCYmKGEud2lkdGg9YS5yaWdodC1hLmxlZnQpOyFhLmhlaWdodCYmKGEuaGVpZ2h0PWEuYm90dG9tLWEudG9wKTtyZXR1cm4gYX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuc3RhcnROb2RlO2E9YS5lbmROb2RlO3ZhciBjO2Iuc2V0VGV4dChcIuKAi1wiKTtiLnJlbW92ZVN0eWxlKFwiZGlzcGxheVwiKTthPyhhLnNldFRleHQoXCLigItcIiksYS5yZW1vdmVTdHlsZShcImRpc3BsYXlcIiksYz1bYi5nZXRDbGllbnRSZWN0KCksYS5nZXRDbGllbnRSZWN0KCldLGEucmVtb3ZlKCkpOmM9XG5bYi5nZXRDbGllbnRSZWN0KCksYi5nZXRDbGllbnRSZWN0KCldO2IucmVtb3ZlKCk7cmV0dXJue3JpZ2h0Ok1hdGgubWF4KGNbMF0ucmlnaHQsY1sxXS5yaWdodCksYm90dG9tOk1hdGgubWF4KGNbMF0uYm90dG9tLGNbMV0uYm90dG9tKSxsZWZ0Ok1hdGgubWluKGNbMF0ubGVmdCxjWzFdLmxlZnQpLHRvcDpNYXRoLm1pbihjWzBdLnRvcCxjWzFdLnRvcCksd2lkdGg6TWF0aC5hYnMoY1swXS5sZWZ0LWNbMV0ubGVmdCksaGVpZ2h0Ok1hdGgubWF4KGNbMF0uYm90dG9tLGNbMV0uYm90dG9tKS1NYXRoLm1pbihjWzBdLnRvcCxjWzFdLnRvcCl9fXJldHVybiB2b2lkIDAhPT10aGlzLmRvY3VtZW50LmdldFNlbGVjdGlvbj9mdW5jdGlvbihkKXt2YXIgZj10aGlzLnJvb3QuZ2V0RG9jdW1lbnQoKS4kLmNyZWF0ZVJhbmdlKCksbTtmLnNldFN0YXJ0KHRoaXMuc3RhcnRDb250YWluZXIuJCx0aGlzLnN0YXJ0T2Zmc2V0KTtmLnNldEVuZCh0aGlzLmVuZENvbnRhaW5lci4kLHRoaXMuZW5kT2Zmc2V0KTtcbm09Zi5nZXRDbGllbnRSZWN0cygpO209YShtLHRoaXMpO20ubGVuZ3RofHwobT1iKG0sZix0aGlzKSk7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5Lm1hcChtLGZ1bmN0aW9uKGEpe3JldHVybiBjKGEsZCx0aGlzKX0sdGhpcyl9OmZ1bmN0aW9uKGEpe3JldHVybltjKGQodGhpcy5jcmVhdGVCb29rbWFyaygpKSxhLHRoaXMpXX19KCksX3NldFN0YXJ0Q29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRDb250YWluZXI9YX0sX3NldEVuZENvbnRhaW5lcjpmdW5jdGlvbihhKXt0aGlzLmVuZENvbnRhaW5lcj1hfSxfZmluZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxkPXRoaXMuZ2V0Qm91bmRhcnlOb2RlcygpLGY9W10sZyxtLGgsaztpZihjJiZjLmZpbmQpZm9yKG09Yy5maW5kKGEpLGc9MDtnPG0uY291bnQoKTtnKyspaWYoYz1tLmdldEl0ZW0oZyksYnx8IWMuaXNSZWFkT25seSgpKWg9Yy5nZXRQb3NpdGlvbihkLnN0YXJ0Tm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfHxcbmQuc3RhcnROb2RlLmVxdWFscyhjKSxrPWMuZ2V0UG9zaXRpb24oZC5lbmROb2RlKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcrQ0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEfHxkLmVuZE5vZGUuZXF1YWxzKGMpLGgmJmsmJmYucHVzaChjKTtyZXR1cm4gZn19O0NLRURJVE9SLmRvbS5yYW5nZS5tZXJnZVJhbmdlcz1mdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGEsZnVuY3Rpb24oYSxiKXt2YXIgYz1hW2EubGVuZ3RoLTFdLGQ9ITE7Yj1iLmNsb25lKCk7Yi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7aWYoYyl7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiLnJvb3QpLGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSksZj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCk7ZS5zZXRTdGFydChjLmVuZENvbnRhaW5lcixjLmVuZE9mZnNldCk7ZS5zZXRFbmQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KTtcbmZvcihlPWQubmV4dCgpO2YoZSl8fGIuZW5kQ29udGFpbmVyLmVxdWFscyhlKTspZT1kLm5leHQoKTtkPSFlfWQ/Yy5zZXRFbmQoYi5lbmRDb250YWluZXIsYi5lbmRPZmZzZXQpOmEucHVzaChiKTtyZXR1cm4gYX0sW10pfX0pKCk7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MTtDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTI7Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTM7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQ7Q0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPTE7Q0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUz0yO0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTPTM7Q0tFRElUT1IuRU5MQVJHRV9JTkxJTkU9NDtDS0VESVRPUi5TVEFSVD0xO0NLRURJVE9SLkVORD0yO0NLRURJVE9SLlNIUklOS19FTEVNRU5UPTE7Q0tFRElUT1IuU0hSSU5LX1RFWFQ9MjtcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7MT5hcmd1bWVudHMubGVuZ3RofHwodGhpcy5yYW5nZT1hLHRoaXMuZm9yY2VCckJyZWFrPTAsdGhpcy5lbmxhcmdlQnI9MSx0aGlzLmVuZm9yY2VSZWFsQmxvY2tzPTAsdGhpcy5ffHwodGhpcy5fPXt9KSl9ZnVuY3Rpb24gZChhKXt2YXIgYj1bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZixnKXthOntudWxsPT1nJiYoZz1kKGYpKTtmb3IodmFyIGg7aD1nLnNoaWZ0KCk7KWlmKGguZ2V0RHRkKCkucCl7Zz17ZWxlbWVudDpoLHJlbWFpbmluZzpnfTticmVhayBhfWc9bnVsbH1pZighZylyZXR1cm4gMDtpZigoaD1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW2cuZWxlbWVudC5kYXRhKFwiY2tlLWZpbHRlclwiKV0pJiYhaC5jaGVjayhjKSlyZXR1cm4gYihhLFxuYyxmLGcucmVtYWluaW5nKTtjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZy5lbGVtZW50KTtjLnNlbGVjdE5vZGVDb250ZW50cyhnLmVsZW1lbnQpO2M9Yy5jcmVhdGVJdGVyYXRvcigpO2MuZW5sYXJnZUJyPWEuZW5sYXJnZUJyO2MuZW5mb3JjZVJlYWxCbG9ja3M9YS5lbmZvcmNlUmVhbEJsb2NrcztjLmFjdGl2ZUZpbHRlcj1jLmZpbHRlcj1oO2EuXy5uZXN0ZWRFZGl0YWJsZT17ZWxlbWVudDpnLmVsZW1lbnQsY29udGFpbmVyOmYscmVtYWluaW5nOmcucmVtYWluaW5nLGl0ZXJhdG9yOmN9O3JldHVybiAxfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKCFiKXJldHVybiExO2E9YS5jbG9uZSgpO2EuY29sbGFwc2UoIWMpO3JldHVybiBhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCl9dmFyIGY9L15bXFxyXFxuXFx0IF0rJC8sZz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxrPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLFxuaD1mdW5jdGlvbihhKXtyZXR1cm4gZyhhKSYmayhhKX0scD17ZGQ6MSxkdDoxLGxpOjF9O2EucHJvdG90eXBlPXtnZXROZXh0UGFyYWdyYXBoOmZ1bmN0aW9uKGEpe3ZhciBkLGssdyx6LEY7YT1hfHxcInBcIjtpZih0aGlzLl8ubmVzdGVkRWRpdGFibGUpe2lmKGQ9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoYSkpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsZDt0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLmZpbHRlcjtpZihiKHRoaXMsYSx0aGlzLl8ubmVzdGVkRWRpdGFibGUuY29udGFpbmVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5yZW1haW5pbmcpKXJldHVybiB0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuYWN0aXZlRmlsdGVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5nZXROZXh0UGFyYWdyYXBoKGEpO3RoaXMuXy5uZXN0ZWRFZGl0YWJsZT1cbm51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVthXSlyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0ZWQpe3ZhciB2PXRoaXMucmFuZ2UuY2xvbmUoKTtrPXYuc3RhcnRQYXRoKCk7dmFyIG09di5lbmRQYXRoKCksTT0hdi5jb2xsYXBzZWQmJmModixrLmJsb2NrKSx1PSF2LmNvbGxhcHNlZCYmYyh2LG0uYmxvY2ssMSk7di5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApO00mJnYuc2V0U3RhcnRBdChrLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3UmJnYuc2V0RW5kQXQobS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7az12LmVuZENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCl8fHYuc3RhcnRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsITApO3YuZW5sYXJnZSh0aGlzLmZvcmNlQnJCcmVhayYmIWt8fCF0aGlzLmVubGFyZ2VCcj9DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzpDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTtcbnYuY29sbGFwc2VkfHwoaz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih2LmNsb25lKCkpLG09Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCwhMCksay5ldmFsdWF0b3I9bSx0aGlzLl8ubmV4dE5vZGU9ay5uZXh0KCksaz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih2LmNsb25lKCkpLGsuZXZhbHVhdG9yPW0saz1rLnByZXZpb3VzKCksdGhpcy5fLmxhc3ROb2RlPWsuZ2V0TmV4dFNvdXJjZU5vZGUoITAsbnVsbCx2LnJvb3QpLHRoaXMuXy5sYXN0Tm9kZSYmdGhpcy5fLmxhc3ROb2RlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0odGhpcy5fLmxhc3ROb2RlLmdldFRleHQoKSkmJnRoaXMuXy5sYXN0Tm9kZS5nZXRQYXJlbnQoKS5pc0Jsb2NrQm91bmRhcnkoKSYmKG09dGhpcy5yYW5nZS5jbG9uZSgpLG0ubW92ZVRvUG9zaXRpb24odGhpcy5fLmxhc3ROb2RlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksbS5jaGVja0VuZE9mQmxvY2soKSYmXG4obT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKG0uZW5kQ29udGFpbmVyLG0ucm9vdCksdGhpcy5fLmxhc3ROb2RlPShtLmJsb2NrfHxtLmJsb2NrTGltaXQpLmdldE5leHRTb3VyY2VOb2RlKCEwKSkpLHRoaXMuXy5sYXN0Tm9kZSYmdi5yb290LmNvbnRhaW5zKHRoaXMuXy5sYXN0Tm9kZSl8fCh0aGlzLl8ubGFzdE5vZGU9dGhpcy5fLmRvY0VuZE1hcmtlcj12LmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksdGhpcy5fLmxhc3ROb2RlLmluc2VydEFmdGVyKGspKSx2PW51bGwpO3RoaXMuXy5zdGFydGVkPTE7az12fW09dGhpcy5fLm5leHROb2RlO3Y9dGhpcy5fLmxhc3ROb2RlO2Zvcih0aGlzLl8ubmV4dE5vZGU9bnVsbDttOyl7dmFyIE09MCx1PW0uaGFzQXNjZW5kYW50KFwicHJlXCIpLEg9bS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQsbj0wO2lmKEgpbS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmYudGVzdChtLmdldFRleHQoKSkmJihIPTApO2Vsc2V7dmFyIHI9bS5nZXROYW1lKCk7XG5pZihDS0VESVRPUi5kdGQuJGJsb2NrW3JdJiZcImZhbHNlXCI9PW0uZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtkPW07Yih0aGlzLGEsZCk7YnJlYWt9ZWxzZSBpZihtLmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXUmJnticjoxfSkpe2lmKFwiYnJcIj09cilIPTE7ZWxzZSBpZighayYmIW0uZ2V0Q2hpbGRDb3VudCgpJiZcImhyXCIhPXIpe2Q9bTt3PW0uZXF1YWxzKHYpO2JyZWFrfWsmJihrLnNldEVuZEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcImJyXCIhPXImJih0aGlzLl8ubmV4dE5vZGU9bSkpO009MX1lbHNle2lmKG0uZ2V0Rmlyc3QoKSl7a3x8KGs9dGhpcy5yYW5nZS5jbG9uZSgpLGsuc2V0U3RhcnRBdChtLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO209bS5nZXRGaXJzdCgpO2NvbnRpbnVlfUg9MX19SCYmIWsmJihrPXRoaXMucmFuZ2UuY2xvbmUoKSxrLnNldFN0YXJ0QXQobSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTtcbnc9KCFNfHxIKSYmbS5lcXVhbHModik7aWYoayYmIU0pZm9yKDshbS5nZXROZXh0KGgpJiYhdzspe3I9bS5nZXRQYXJlbnQoKTtpZihyLmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXUmJnticjoxfSkpe009MTtIPTA7d3x8ci5lcXVhbHModik7ay5zZXRFbmRBdChyLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2JyZWFrfW09cjtIPTE7dz1tLmVxdWFscyh2KTtuPTF9SCYmay5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7bT10aGlzLl9nZXROZXh0U291cmNlTm9kZShtLG4sdik7aWYoKHc9IW0pfHxNJiZrKWJyZWFrfWlmKCFkKXtpZighaylyZXR1cm4gdGhpcy5fLmRvY0VuZE1hcmtlciYmdGhpcy5fLmRvY0VuZE1hcmtlci5yZW1vdmUoKSx0aGlzLl8ubmV4dE5vZGU9bnVsbDtkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoay5zdGFydENvbnRhaW5lcixrLnJvb3QpO209ZC5ibG9ja0xpbWl0O009e2RpdjoxLHRoOjEsdGQ6MX07XG5kPWQuYmxvY2s7IWQmJm0mJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZNW20uZ2V0TmFtZSgpXSYmay5jaGVja1N0YXJ0T2ZCbG9jaygpJiZrLmNoZWNrRW5kT2ZCbG9jaygpJiYhbS5lcXVhbHMoay5yb290KT9kPW06IWR8fHRoaXMuZW5mb3JjZVJlYWxCbG9ja3MmJmQuaXMocCk/KGQ9dGhpcy5yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGsuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCksZC50cmltKCksay5pbnNlcnROb2RlKGQpLHo9Rj0hMCk6XCJsaVwiIT1kLmdldE5hbWUoKT9rLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmsuY2hlY2tFbmRPZkJsb2NrKCl8fChkPWQuY2xvbmUoITEpLGsuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCksZC50cmltKCksRj1rLnNwbGl0QmxvY2soKSx6PSFGLndhc1N0YXJ0T2ZCbG9jayxGPSFGLndhc0VuZE9mQmxvY2ssay5pbnNlcnROb2RlKGQpKTp3fHwodGhpcy5fLm5leHROb2RlPWQuZXF1YWxzKHYpP251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoay5nZXRCb3VuZGFyeU5vZGVzKCkuZW5kTm9kZSxcbjEsdikpfXomJih6PWQuZ2V0UHJldmlvdXMoKSkmJnoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT16LmdldE5hbWUoKT96LnJlbW92ZSgpOnouZ2V0TGFzdCgpJiZcImJyXCI9PXouZ2V0TGFzdCgpLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmei5nZXRMYXN0KCkucmVtb3ZlKCkpO0YmJih6PWQuZ2V0TGFzdCgpKSYmei50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09ei5nZXROYW1lKCkmJighQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fHouZ2V0UHJldmlvdXMoZyl8fHouZ2V0TmV4dChnKSkmJnoucmVtb3ZlKCk7dGhpcy5fLm5leHROb2RlfHwodGhpcy5fLm5leHROb2RlPXd8fGQuZXF1YWxzKHYpfHwhdj9udWxsOnRoaXMuX2dldE5leHRTb3VyY2VOb2RlKGQsMSx2KSk7cmV0dXJuIGR9LF9nZXROZXh0U291cmNlTm9kZTpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4hKGEuZXF1YWxzKGMpfHxhLmVxdWFscyhmKSl9dmFyIGY9XG50aGlzLnJhbmdlLnJvb3Q7Zm9yKGE9YS5nZXROZXh0U291cmNlTm9kZShiLG51bGwsZCk7IWcoYSk7KWE9YS5nZXROZXh0U291cmNlTm9kZShiLG51bGwsZCk7cmV0dXJuIGF9fTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLmNyZWF0ZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMpfX0pKCk7XG5DS0VESVRPUi5jb21tYW5kPWZ1bmN0aW9uKGEsZCl7dGhpcy51aUl0ZW1zPVtdO3RoaXMuZXhlYz1mdW5jdGlvbihiKXtpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRHx8IXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5lZGl0b3JGb2N1cyYmYS5mb2N1cygpO3JldHVybiExPT09dGhpcy5maXJlKFwiZXhlY1wiKT8hMDohMSE9PWQuZXhlYy5jYWxsKHRoaXMsYSxiKX07dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMucmVhZE9ubHkmJmEucmVhZE9ubHkpcmV0dXJuITA7aWYodGhpcy5jb250ZXh0JiYhYi5pc0NvbnRleHRGb3IodGhpcy5jb250ZXh0KXx8IXRoaXMuY2hlY2tBbGxvd2VkKCEwKSlyZXR1cm4gdGhpcy5kaXNhYmxlKCksITA7dGhpcy5zdGFydERpc2FibGVkfHx0aGlzLmVuYWJsZSgpO3RoaXMubW9kZXMmJiF0aGlzLm1vZGVzW2EubW9kZV0mJnRoaXMuZGlzYWJsZSgpO3JldHVybiExPT09dGhpcy5maXJlKFwicmVmcmVzaFwiLFxue2VkaXRvcjphLHBhdGg6Yn0pPyEwOmQucmVmcmVzaCYmITEhPT1kLnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYjt0aGlzLmNoZWNrQWxsb3dlZD1mdW5jdGlvbihjKXtyZXR1cm4gY3x8XCJib29sZWFuXCIhPXR5cGVvZiBiP2I9YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpOmJ9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGQse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjEsY29udGV4dFNlbnNpdGl2ZTohIWQuY29udGV4dCxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH0pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9O1xuQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9e2VuYWJsZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLmNoZWNrQWxsb3dlZCgpJiZ0aGlzLnNldFN0YXRlKHRoaXMucHJlc2VydmVTdGF0ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMucHJldmlvdXNTdGF0ZT90aGlzLnByZXZpb3VzU3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlPT1hfHxhIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmIXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5wcmV2aW91c1N0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1hO3RoaXMuZmlyZShcInN0YXRlXCIpO3JldHVybiEwfSx0b2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9cbnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZSk7Q0tFRElUT1IuRU5URVJfUD0xO0NLRURJVE9SLkVOVEVSX0JSPTI7Q0tFRElUT1IuRU5URVJfRElWPTM7XG5DS0VESVRPUi5jb25maWc9e2N1c3RvbUNvbmZpZzpcImNvbmZpZy5qc1wiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOlwiXCIsZGVmYXVsdExhbmd1YWdlOlwiZW5cIixjb250ZW50c0xhbmdEaXJlY3Rpb246XCJcIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOlwiXFx4M2MhRE9DVFlQRSBodG1sXFx4M2VcIixib2R5SWQ6XCJcIixib2R5Q2xhc3M6XCJcIixmdWxsUGFnZTohMSxoZWlnaHQ6MjAwLGNvbnRlbnRzQ3NzOkNLRURJVE9SLmdldFVybChcImNvbnRlbnRzLmNzc1wiKSxleHRyYVBsdWdpbnM6XCJcIixyZW1vdmVQbHVnaW5zOlwiXCIscHJvdGVjdGVkU291cmNlOltdLHRhYkluZGV4OjAsd2lkdGg6XCJcIixiYXNlRmxvYXRaSW5kZXg6MUU0LGJsb2NrZWRLZXlzdHJva2VzOltDS0VESVRPUi5DVFJMKzY2LENLRURJVE9SLkNUUkwrNzMsQ0tFRElUT1IuQ1RSTCs4NV19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyxkLGUpe3ZhciBmLG47YT1bXTtmb3IoZiBpbiBiKXtuPWJbZl07bj1cImJvb2xlYW5cIj09dHlwZW9mIG4/e306XCJmdW5jdGlvblwiPT10eXBlb2Ygbj97bWF0Y2g6bn06RShuKTtcIiRcIiE9Zi5jaGFyQXQoMCkmJihuLmVsZW1lbnRzPWYpO2MmJihuLmZlYXR1cmVOYW1lPWMudG9Mb3dlckNhc2UoKSk7dmFyIGw9bjtsLmVsZW1lbnRzPWsobC5lbGVtZW50cywvXFxzKy8pfHxudWxsO2wucHJvcGVydGllc09ubHk9bC5wcm9wZXJ0aWVzT25seXx8ITA9PT1sLmVsZW1lbnRzO3ZhciBtPS9cXHMqLFxccyovLGc9dm9pZCAwO2ZvcihnIGluIFApe2xbZ109ayhsW2ddLG0pfHxudWxsO3ZhciByPWwsdD1PW2ddLHk9ayhsW09bZ11dLG0pLEI9bFtnXSxoPVtdLEE9ITAsQz12b2lkIDA7eT9BPSExOnk9e307Zm9yKEMgaW4gQilcIiFcIj09Qy5jaGFyQXQoMCkmJihDPUMuc2xpY2UoMSksaC5wdXNoKEMpLHlbQ109ITAsQT0hMSk7Zm9yKDtDPWgucG9wKCk7KUJbQ109XG5CW1wiIVwiK0NdLGRlbGV0ZSBCW1wiIVwiK0NdO3JbdF09KEE/ITE6eSl8fG51bGx9bC5tYXRjaD1sLm1hdGNofHxudWxsO2QucHVzaChuKTthLnB1c2gobil9Yj1lLmVsZW1lbnRzO2U9ZS5nZW5lcmljO3ZhciBJO2M9MDtmb3IoZD1hLmxlbmd0aDtjPGQ7KytjKXtmPUUoYVtjXSk7bj0hMD09PWYuY2xhc3Nlc3x8ITA9PT1mLnN0eWxlc3x8ITA9PT1mLmF0dHJpYnV0ZXM7bD1mO2c9dD1tPXZvaWQgMDtmb3IobSBpbiBQKWxbbV09TShsW21dKTtyPSEwO2ZvcihnIGluIE8pe209T1tnXTt0PWxbbV07eT1bXTtCPXZvaWQgMDtmb3IoQiBpbiB0KS0xPEIuaW5kZXhPZihcIipcIik/eS5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrQi5yZXBsYWNlKC9cXCovZyxcIi4qXCIpK1wiJFwiKSk6eS5wdXNoKEIpO3Q9eTt0Lmxlbmd0aCYmKGxbbV09dCxyPSExKX1sLm5vdGhpbmdSZXF1aXJlZD1yO2wubm9Qcm9wZXJ0aWVzPSEobC5hdHRyaWJ1dGVzfHxsLmNsYXNzZXN8fGwuc3R5bGVzKTtpZighMD09PWYuZWxlbWVudHN8fFxubnVsbD09PWYuZWxlbWVudHMpZVtuP1widW5zaGlmdFwiOlwicHVzaFwiXShmKTtlbHNlIGZvcihJIGluIGw9Zi5lbGVtZW50cyxkZWxldGUgZi5lbGVtZW50cyxsKWlmKGJbSV0pYltJXVtuP1widW5zaGlmdFwiOlwicHVzaFwiXShmKTtlbHNlIGJbSV09W2ZdfX1mdW5jdGlvbiBkKGEsYyxkLGUpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGMpKWlmKGV8fGgoYSxjKSlpZihhLnByb3BlcnRpZXNPbmx5fHwoZC52YWxpZD0hMCksZC5hbGxBdHRyaWJ1dGVzfHwoZC5hbGxBdHRyaWJ1dGVzPWIoYS5hdHRyaWJ1dGVzLGMuYXR0cmlidXRlcyxkLnZhbGlkQXR0cmlidXRlcykpLGQuYWxsU3R5bGVzfHwoZC5hbGxTdHlsZXM9YihhLnN0eWxlcyxjLnN0eWxlcyxkLnZhbGlkU3R5bGVzKSksIWQuYWxsQ2xhc3Nlcyl7YT1hLmNsYXNzZXM7Yz1jLmNsYXNzZXM7ZT1kLnZhbGlkQ2xhc3NlcztpZihhKWlmKCEwPT09YSlhPSEwO2Vsc2V7Zm9yKHZhciBmPTAsbj1jLmxlbmd0aCxsO2Y8bjsrK2YpbD1jW2ZdLGVbbF18fFxuKGVbbF09YShsKSk7YT0hMX1lbHNlIGE9ITE7ZC5hbGxDbGFzc2VzPWF9fWZ1bmN0aW9uIGIoYSxiLGMpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDtmb3IodmFyIGQgaW4gYiljW2RdfHwoY1tkXT1hKGQpKTtyZXR1cm4hMX1mdW5jdGlvbiBjKGEsYixjKXtpZighYS5tYXRjaHx8YS5tYXRjaChiKSl7aWYoYS5ub1Byb3BlcnRpZXMpcmV0dXJuITE7Yy5oYWRJbnZhbGlkQXR0cmlidXRlPWYoYS5hdHRyaWJ1dGVzLGIuYXR0cmlidXRlcyl8fGMuaGFkSW52YWxpZEF0dHJpYnV0ZTtjLmhhZEludmFsaWRTdHlsZT1mKGEuc3R5bGVzLGIuc3R5bGVzKXx8Yy5oYWRJbnZhbGlkU3R5bGU7YT1hLmNsYXNzZXM7Yj1iLmNsYXNzZXM7aWYoYSl7Zm9yKHZhciBkPSExLGU9ITA9PT1hLGw9Yi5sZW5ndGg7bC0tOylpZihlfHxhKGJbbF0pKWIuc3BsaWNlKGwsMSksZD0hMDthPWR9ZWxzZSBhPSExO2MuaGFkSW52YWxpZENsYXNzPWF8fGMuaGFkSW52YWxpZENsYXNzfX1mdW5jdGlvbiBmKGEsXG5iKXtpZighYSlyZXR1cm4hMTt2YXIgYz0hMSxkPSEwPT09YSxlO2ZvcihlIGluIGIpaWYoZHx8YShlKSlkZWxldGUgYltlXSxjPSEwO3JldHVybiBjfWZ1bmN0aW9uIGcoYSxiLGMpe2lmKGEuZGlzYWJsZWR8fGEuY3VzdG9tQ29uZmlnJiYhY3x8IWIpcmV0dXJuITE7YS5fLmNhY2hlZENoZWNrcz17fTtyZXR1cm4hMH1mdW5jdGlvbiBrKGEsYil7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiBhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXJldHVybiBhPXkoYSksXCIqXCI9PWE/ITA6Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYS5zcGxpdChiKSk7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlyZXR1cm4gYS5sZW5ndGg/Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYSk6ITE7dmFyIGM9e30sZD0wLGU7Zm9yKGUgaW4gYSljW2VdPWFbZV0sZCsrO3JldHVybiBkP2M6ITF9ZnVuY3Rpb24gaChhLGIpe2lmKGEubm90aGluZ1JlcXVpcmVkKXJldHVybiEwO1xudmFyIGMsZCxlLGY7aWYoZT1hLnJlcXVpcmVkQ2xhc3Nlcylmb3IoZj1iLmNsYXNzZXMsYz0wO2M8ZS5sZW5ndGg7KytjKWlmKGQ9ZVtjXSxcInN0cmluZ1wiPT10eXBlb2YgZCl7aWYoLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZixkKSlyZXR1cm4hMX1lbHNlIGlmKCFDS0VESVRPUi50b29scy5jaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlcyhmLGQpKXJldHVybiExO3JldHVybiBwKGIuc3R5bGVzLGEucmVxdWlyZWRTdHlsZXMpJiZwKGIuYXR0cmlidXRlcyxhLnJlcXVpcmVkQXR0cmlidXRlcyl9ZnVuY3Rpb24gcChhLGIpe2lmKCFiKXJldHVybiEwO2Zvcih2YXIgYz0wLGQ7YzxiLmxlbmd0aDsrK2MpaWYoZD1iW2NdLFwic3RyaW5nXCI9PXR5cGVvZiBkKXtpZighKGQgaW4gYSkpcmV0dXJuITF9ZWxzZSBpZighQ0tFRElUT1IudG9vbHMuY2hlY2tJZkFueU9iamVjdFByb3BlcnR5TWF0Y2hlcyhhLGQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHEoYSl7aWYoIWEpcmV0dXJue307XG5hPWEuc3BsaXQoL1xccyosXFxzKi8pLnNvcnQoKTtmb3IodmFyIGI9e307YS5sZW5ndGg7KWJbYS5zaGlmdCgpXT1cImNrZS10ZXN0XCI7cmV0dXJuIGJ9ZnVuY3Rpb24gZShhKXt2YXIgYixjLGQsZSxmPXt9LG49MTtmb3IoYT15KGEpO2I9YS5tYXRjaChsKTspKGM9YlsyXSk/KGQ9eChjLFwic3R5bGVzXCIpLGU9eChjLFwiYXR0cnNcIiksYz14KGMsXCJjbGFzc2VzXCIpKTpkPWU9Yz1udWxsLGZbXCIkXCIrbisrXT17ZWxlbWVudHM6YlsxXSxjbGFzc2VzOmMsc3R5bGVzOmQsYXR0cmlidXRlczplfSxhPWEuc2xpY2UoYlswXS5sZW5ndGgpO3JldHVybiBmfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz1hLm1hdGNoKEtbYl0pO3JldHVybiBjP3koY1sxXSk6bnVsbH1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuc3R5bGVCYWNrdXA9YS5hdHRyaWJ1dGVzLnN0eWxlLGM9YS5jbGFzc0JhY2t1cD1hLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTthLnN0eWxlc3x8KGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChifHxcblwiXCIsMSkpO2EuY2xhc3Nlc3x8KGEuY2xhc3Nlcz1jP2Muc3BsaXQoL1xccysvKTpbXSl9ZnVuY3Rpb24geihhLGIsZSxmKXt2YXIgbD0wLG47Zi50b0h0bWwmJihiLm5hbWU9Yi5uYW1lLnJlcGxhY2UoQixcIiQxXCIpKTtpZihmLmRvQ2FsbGJhY2tzJiZhLmVsZW1lbnRDYWxsYmFja3Mpe2E6e249YS5lbGVtZW50Q2FsbGJhY2tzO2Zvcih2YXIgZz0wLHQ9bi5sZW5ndGgsRTtnPHQ7KytnKWlmKEU9bltnXShiKSl7bj1FO2JyZWFrIGF9bj12b2lkIDB9aWYobilyZXR1cm4gbn1pZihmLmRvVHJhbnNmb3JtJiYobj1hLl8udHJhbnNmb3JtYXRpb25zW2IubmFtZV0pKXt3KGIpO2ZvcihnPTA7ZzxuLmxlbmd0aDsrK2cpcihhLGIsbltnXSk7dihiKX1pZihmLmRvRmlsdGVyKXthOntnPWIubmFtZTt0PWEuXzthPXQuYWxsb3dlZFJ1bGVzLmVsZW1lbnRzW2ddO249dC5hbGxvd2VkUnVsZXMuZ2VuZXJpYztnPXQuZGlzYWxsb3dlZFJ1bGVzLmVsZW1lbnRzW2ddO3Q9dC5kaXNhbGxvd2VkUnVsZXMuZ2VuZXJpYztcbkU9Zi5za2lwUmVxdWlyZWQ7dmFyIHk9e3ZhbGlkOiExLHZhbGlkQXR0cmlidXRlczp7fSx2YWxpZENsYXNzZXM6e30sdmFsaWRTdHlsZXM6e30sYWxsQXR0cmlidXRlczohMSxhbGxDbGFzc2VzOiExLGFsbFN0eWxlczohMSxoYWRJbnZhbGlkQXR0cmlidXRlOiExLGhhZEludmFsaWRDbGFzczohMSxoYWRJbnZhbGlkU3R5bGU6ITF9LGssQztpZihhfHxuKXt3KGIpO2lmKGcpZm9yKGs9MCxDPWcubGVuZ3RoO2s8QzsrK2spaWYoITE9PT1jKGdba10sYix5KSl7YT1udWxsO2JyZWFrIGF9aWYodClmb3Ioaz0wLEM9dC5sZW5ndGg7azxDOysrayljKHRba10sYix5KTtpZihhKWZvcihrPTAsQz1hLmxlbmd0aDtrPEM7KytrKWQoYVtrXSxiLHksRSk7aWYobilmb3Ioaz0wLEM9bi5sZW5ndGg7azxDOysraylkKG5ba10sYix5LEUpO2E9eX1lbHNlIGE9bnVsbH1pZighYXx8IWEudmFsaWQpcmV0dXJuIGUucHVzaChiKSwxO0M9YS52YWxpZEF0dHJpYnV0ZXM7dmFyIGg9YS52YWxpZFN0eWxlcztcbm49YS52YWxpZENsYXNzZXM7dmFyIGc9Yi5hdHRyaWJ1dGVzLEk9Yi5zdHlsZXMsdD1iLmNsYXNzZXM7RT1iLmNsYXNzQmFja3VwO3ZhciBMPWIuc3R5bGVCYWNrdXAsSyxELE89W10seT1bXSxKPS9eZGF0YS1ja2UtLztrPSExO2RlbGV0ZSBnLnN0eWxlO2RlbGV0ZSBnW1wiY2xhc3NcIl07ZGVsZXRlIGIuY2xhc3NCYWNrdXA7ZGVsZXRlIGIuc3R5bGVCYWNrdXA7aWYoIWEuYWxsQXR0cmlidXRlcylmb3IoSyBpbiBnKUNbS118fChKLnRlc3QoSyk/Sz09KEQ9Sy5yZXBsYWNlKC9eZGF0YS1ja2Utc2F2ZWQtLyxcIlwiKSl8fENbRF18fChkZWxldGUgZ1tLXSxrPSEwKTooZGVsZXRlIGdbS10saz0hMCkpO2lmKCFhLmFsbFN0eWxlc3x8YS5oYWRJbnZhbGlkU3R5bGUpe2ZvcihLIGluIEkpYS5hbGxTdHlsZXN8fGhbS10/Ty5wdXNoKEsrXCI6XCIrSVtLXSk6az0hMDtPLmxlbmd0aCYmKGcuc3R5bGU9Ty5zb3J0KCkuam9pbihcIjsgXCIpKX1lbHNlIEwmJihnLnN0eWxlPUwpO2lmKCFhLmFsbENsYXNzZXN8fFxuYS5oYWRJbnZhbGlkQ2xhc3Mpe2ZvcihLPTA7Szx0Lmxlbmd0aDsrK0spKGEuYWxsQ2xhc3Nlc3x8blt0W0tdXSkmJnkucHVzaCh0W0tdKTt5Lmxlbmd0aCYmKGdbXCJjbGFzc1wiXT15LnNvcnQoKS5qb2luKFwiIFwiKSk7RSYmeS5sZW5ndGg8RS5zcGxpdCgvXFxzKy8pLmxlbmd0aCYmKGs9ITApfWVsc2UgRSYmKGdbXCJjbGFzc1wiXT1FKTtrJiYobD0xKTtpZighZi5za2lwRmluYWxWYWxpZGF0aW9uJiYhbShiKSlyZXR1cm4gZS5wdXNoKGIpLDF9Zi50b0h0bWwmJihiLm5hbWU9Yi5uYW1lLnJlcGxhY2UoQSxcImNrZTokMVwiKSk7cmV0dXJuIGx9ZnVuY3Rpb24gRihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEpLTE8Yy5pbmRleE9mKFwiKlwiKSYmYi5wdXNoKGMucmVwbGFjZSgvXFwqL2csXCIuKlwiKSk7cmV0dXJuIGIubGVuZ3RoP25ldyBSZWdFeHAoXCJeKD86XCIrYi5qb2luKFwifFwiKStcIikkXCIpOm51bGx9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmF0dHJpYnV0ZXMsYztkZWxldGUgYi5zdHlsZTtkZWxldGUgYltcImNsYXNzXCJdO1xuaWYoYz1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoYS5zdHlsZXMsITApKWIuc3R5bGU9YzthLmNsYXNzZXMubGVuZ3RoJiYoYltcImNsYXNzXCJdPWEuY2xhc3Nlcy5zb3J0KCkuam9pbihcIiBcIikpfWZ1bmN0aW9uIG0oYSl7c3dpdGNoKGEubmFtZSl7Y2FzZSBcImFcIjppZighKGEuY2hpbGRyZW4ubGVuZ3RofHxhLmF0dHJpYnV0ZXMubmFtZXx8YS5hdHRyaWJ1dGVzLmlkKSlyZXR1cm4hMTticmVhaztjYXNlIFwiaW1nXCI6aWYoIWEuYXR0cmlidXRlcy5zcmMpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gTShhKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuITA7dmFyIGI9RihhKTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW4gYXx8YiYmYy5tYXRjaChiKX19ZnVuY3Rpb24gdSgpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIil9ZnVuY3Rpb24gSChhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcImJyXCI9PVxuYS5uYW1lfHx0LiRibG9ja1thLm5hbWVdKX1mdW5jdGlvbiBuKGEsYixjKXt2YXIgZD1hLm5hbWU7aWYodC4kZW1wdHlbZF18fCFhLmNoaWxkcmVuLmxlbmd0aClcImhyXCI9PWQmJlwiYnJcIj09Yj9hLnJlcGxhY2VXaXRoKHUoKSk6KGEucGFyZW50JiZjLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVtb3ZlKCkpO2Vsc2UgaWYodC4kYmxvY2tbZF18fFwidHJcIj09ZClpZihcImJyXCI9PWIpYS5wcmV2aW91cyYmIUgoYS5wcmV2aW91cykmJihiPXUoKSxiLmluc2VydEJlZm9yZShhKSksYS5uZXh0JiYhSChhLm5leHQpJiYoYj11KCksYi5pbnNlcnRBZnRlcihhKSksYS5yZXBsYWNlV2l0aENoaWxkcmVuKCk7ZWxzZXt2YXIgZD1hLmNoaWxkcmVuLGU7Yjp7ZT10W2JdO2Zvcih2YXIgZj0wLG49ZC5sZW5ndGgsbDtmPG47KytmKWlmKGw9ZFtmXSxsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWVbbC5uYW1lXSl7ZT0hMTticmVhayBifWU9ITB9aWYoZSlhLm5hbWU9YixhLmF0dHJpYnV0ZXM9XG57fSxjLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDphfSk7ZWxzZXtlPWEucGFyZW50O2Zvcih2YXIgZj1lLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fFwiYm9keVwiPT1lLm5hbWUsZyxtLG49ZC5sZW5ndGg7MDxuOylsPWRbLS1uXSxmJiYobC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0LiRpbmxpbmVbbC5uYW1lXSk/KGd8fChnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoYiksZy5pbnNlcnRBZnRlcihhKSxjLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDpnfSkpLGcuYWRkKGwsMCkpOihnPW51bGwsbT10W2UubmFtZV18fHQuc3BhbixsLmluc2VydEFmdGVyKGEpLGUudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8bC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fG1bbC5uYW1lXXx8Yy5wdXNoKHtjaGVjazpcImVsLXVwXCIsZWw6bH0pKTthLnJlbW92ZSgpfX1lbHNlIGQgaW5cbntzdHlsZToxLHNjcmlwdDoxfT9hLnJlbW92ZSgpOihhLnBhcmVudCYmYy5wdXNoKHtjaGVjazpcIml0XCIsZWw6YS5wYXJlbnR9KSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSl9ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQsZTtmb3IoZD0wO2Q8Yy5sZW5ndGg7KytkKWlmKGU9Y1tkXSwhKGUuY2hlY2smJiFhLmNoZWNrKGUuY2hlY2ssITEpfHxlLmxlZnQmJiFlLmxlZnQoYikpKXtlLnJpZ2h0KGIsSik7YnJlYWt9fWZ1bmN0aW9uIEMoYSxiKXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuYXR0cmlidXRlcyxlPWMuc3R5bGVzLGYsbixsLGc7aWYoYS5uYW1lIT1jLmVsZW1lbnQpcmV0dXJuITE7Zm9yKGYgaW4gZClpZihcImNsYXNzXCI9PWYpZm9yKGM9ZFtmXS5zcGxpdCgvXFxzKy8pLGw9YS5jbGFzc2VzLmpvaW4oXCJ8XCIpO2c9Yy5wb3AoKTspe2lmKC0xPT1sLmluZGV4T2YoZykpcmV0dXJuITF9ZWxzZSBpZihhLmF0dHJpYnV0ZXNbZl0hPWRbZl0pcmV0dXJuITE7Zm9yKG4gaW4gZSlpZihhLnN0eWxlc1tuXSE9XG5lW25dKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEwoYSxiKXt2YXIgYyxkO1wic3RyaW5nXCI9PXR5cGVvZiBhP2M9YTphIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGU/ZD1hOihjPWFbMF0sZD1hWzFdKTtyZXR1cm5be2VsZW1lbnQ6YyxsZWZ0OmQscmlnaHQ6ZnVuY3Rpb24oYSxjKXtjLnRyYW5zZm9ybShhLGIpfX1dfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBDKGIsYSl9fWZ1bmN0aW9uIE4oYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7Y1thXShiKX19dmFyIHQ9Q0tFRElUT1IuZHRkLEU9Q0tFRElUT1IudG9vbHMuY29weSx5PUNLRURJVE9SLnRvb2xzLnRyaW0sST1bXCJcIixcInBcIixcImJyXCIsXCJkaXZcIl07Q0tFRElUT1IuRklMVEVSX1NLSVBfVFJFRT0yO0NLRURJVE9SLmZpbHRlcj1mdW5jdGlvbihhLGIpe3RoaXMuYWxsb3dlZENvbnRlbnQ9W107dGhpcy5kaXNhbGxvd2VkQ29udGVudD1bXTt0aGlzLmVsZW1lbnRDYWxsYmFja3M9bnVsbDt0aGlzLmRpc2FibGVkPVxuITE7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLl89e2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sZGlzYWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxnZW5lcmljOltdfSx0cmFuc2Zvcm1hdGlvbnM6e30sY2FjaGVkVGVzdHM6e30sY2FjaGVkQ2hlY2tzOnt9fTtDS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW3RoaXMuaWRdPXRoaXM7dmFyIGM9dGhpcy5lZGl0b3I9YSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRvcj9hOm51bGw7aWYoYyYmIWIpe3RoaXMuY3VzdG9tQ29uZmlnPSEwO3ZhciBkPWMuY29uZmlnLmFsbG93ZWRDb250ZW50OyEwPT09ZD90aGlzLmRpc2FibGVkPSEwOihkfHwodGhpcy5jdXN0b21Db25maWc9ITEpLHRoaXMuYWxsb3coZCxcImNvbmZpZ1wiLDEpLHRoaXMuYWxsb3coYy5jb25maWcuZXh0cmFBbGxvd2VkQ29udGVudCxcImV4dHJhXCIsMSksdGhpcy5hbGxvdyhJW2MuZW50ZXJNb2RlXStcblwiIFwiK0lbYy5zaGlmdEVudGVyTW9kZV0sXCJkZWZhdWx0XCIsMSksdGhpcy5kaXNhbGxvdyhjLmNvbmZpZy5kaXNhbGxvd2VkQ29udGVudCkpfWVsc2UgdGhpcy5jdXN0b21Db25maWc9ITEsdGhpcy5hbGxvdyhifHxhLFwiZGVmYXVsdFwiLDEpfTtDS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzPXt9O0NLRURJVE9SLmZpbHRlci5wcm90b3R5cGU9e2FsbG93OmZ1bmN0aW9uKGIsYyxkKXtpZighZyh0aGlzLGIsZCkpcmV0dXJuITE7dmFyIGYsbjtpZihcInN0cmluZ1wiPT10eXBlb2YgYiliPWUoYik7ZWxzZSBpZihiIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUpe2lmKGIudG9BbGxvd2VkQ29udGVudFJ1bGVzKXJldHVybiB0aGlzLmFsbG93KGIudG9BbGxvd2VkQ29udGVudFJ1bGVzKHRoaXMuZWRpdG9yKSxjLGQpO2Y9Yi5nZXREZWZpbml0aW9uKCk7Yj17fTtkPWYuYXR0cmlidXRlcztiW2YuZWxlbWVudF09Zj17c3R5bGVzOmYuc3R5bGVzLHJlcXVpcmVkU3R5bGVzOmYuc3R5bGVzJiZDS0VESVRPUi50b29scy5vYmplY3RLZXlzKGYuc3R5bGVzKX07XG5kJiYoZD1FKGQpLGYuY2xhc3Nlcz1kW1wiY2xhc3NcIl0/ZFtcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6bnVsbCxmLnJlcXVpcmVkQ2xhc3Nlcz1mLmNsYXNzZXMsZGVsZXRlIGRbXCJjbGFzc1wiXSxmLmF0dHJpYnV0ZXM9ZCxmLnJlcXVpcmVkQXR0cmlidXRlcz1kJiZDS0VESVRPUi50b29scy5vYmplY3RLZXlzKGQpKX1lbHNlIGlmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYikpe2ZvcihmPTA7ZjxiLmxlbmd0aDsrK2Ypbj10aGlzLmFsbG93KGJbZl0sYyxkKTtyZXR1cm4gbn1hKHRoaXMsYixjLHRoaXMuYWxsb3dlZENvbnRlbnQsdGhpcy5fLmFsbG93ZWRSdWxlcyk7cmV0dXJuITB9LGFwcGx5VG86ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5kaXNhYmxlZClyZXR1cm4hMTt2YXIgZT10aGlzLGY9W10sbD10aGlzLmVkaXRvciYmdGhpcy5lZGl0b3IuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxnLHI9ITEsRT17ZG9GaWx0ZXI6IWMsZG9UcmFuc2Zvcm06ITAsZG9DYWxsYmFja3M6ITAsdG9IdG1sOmJ9O1xuYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihcIm9mZlwiPT1hLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1maWx0ZXJcIl0pcmV0dXJuITE7aWYoIWJ8fFwic3BhblwiIT1hLm5hbWV8fCF+Q0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhhLmF0dHJpYnV0ZXMpLmpvaW4oXCJ8XCIpLmluZGV4T2YoXCJkYXRhLWNrZS1cIikpaWYoZz16KGUsYSxmLEUpLGcmMSlyPSEwO2Vsc2UgaWYoZyYyKXJldHVybiExfWVsc2UgaWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQmJmEudmFsdWUubWF0Y2goL15cXHtja2VfcHJvdGVjdGVkXFx9KD8hXFx7Q1xcfSkvKSl7dmFyIGM7YTp7dmFyIGQ9ZGVjb2RlVVJJQ29tcG9uZW50KGEudmFsdWUucmVwbGFjZSgvXlxce2NrZV9wcm90ZWN0ZWRcXH0vLFwiXCIpKTtjPVtdO3ZhciBuLEcsbTtpZihsKWZvcihHPTA7RzxsLmxlbmd0aDsrK0cpaWYoKG09ZC5tYXRjaChsW0ddKSkmJm1bMF0ubGVuZ3RoPT1kLmxlbmd0aCl7Yz0hMDtcbmJyZWFrIGF9ZD1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGQpOzE9PWQuY2hpbGRyZW4ubGVuZ3RoJiYobj1kLmNoaWxkcmVuWzBdKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnooZSxuLGMsRSk7Yz0hYy5sZW5ndGh9Y3x8Zi5wdXNoKGEpfX0sbnVsbCwhMCk7Zi5sZW5ndGgmJihyPSEwKTt2YXIgeTthPVtdO2Q9SVtkfHwodGhpcy5lZGl0b3I/dGhpcy5lZGl0b3IuZW50ZXJNb2RlOkNLRURJVE9SLkVOVEVSX1ApXTtmb3IodmFyIGs7Yz1mLnBvcCgpOyljLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9uKGMsZCxhKTpjLnJlbW92ZSgpO2Zvcig7eT1hLnBvcCgpOylpZihjPXkuZWwsYy5wYXJlbnQpc3dpdGNoKGs9dFtjLnBhcmVudC5uYW1lXXx8dC5zcGFuLHkuY2hlY2spe2Nhc2UgXCJpdFwiOnQuJHJlbW92ZUVtcHR5W2MubmFtZV0mJiFjLmNoaWxkcmVuLmxlbmd0aD9uKGMsZCxhKTptKGMpfHxuKGMsZCxhKTticmVhaztjYXNlIFwiZWwtdXBcIjpjLnBhcmVudC50eXBlPT1cbkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fGtbYy5uYW1lXXx8bihjLGQsYSk7YnJlYWs7Y2FzZSBcInBhcmVudC1kb3duXCI6Yy5wYXJlbnQudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8a1tjLm5hbWVdfHxuKGMucGFyZW50LGQsYSl9cmV0dXJuIHJ9LGNoZWNrRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmRpc2FibGVkfHwhYSlyZXR1cm4hMDthLnRvRmVhdHVyZSYmKGE9YS50b0ZlYXR1cmUodGhpcy5lZGl0b3IpKTtyZXR1cm4hYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD0hMH0sZGlzYWxsb3c6ZnVuY3Rpb24oYil7aWYoIWcodGhpcyxiLCEwKSlyZXR1cm4hMTtcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9ZShiKSk7YSh0aGlzLGIsbnVsbCx0aGlzLmRpc2FsbG93ZWRDb250ZW50LHRoaXMuXy5kaXNhbGxvd2VkUnVsZXMpO3JldHVybiEwfSxcbmFkZENvbnRlbnRGb3JtczpmdW5jdGlvbihhKXtpZighdGhpcy5kaXNhYmxlZCYmYSl7dmFyIGIsYyxkPVtdLGU7Zm9yKGI9MDtiPGEubGVuZ3RoJiYhZTsrK2IpYz1hW2JdLChcInN0cmluZ1wiPT10eXBlb2YgY3x8YyBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKSYmdGhpcy5jaGVjayhjKSYmKGU9Yyk7aWYoZSl7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYilkLnB1c2goTChhW2JdLGUpKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhkKX19fSxhZGRFbGVtZW50Q2FsbGJhY2s6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50Q2FsbGJhY2tzfHwodGhpcy5lbGVtZW50Q2FsbGJhY2tzPVtdKTt0aGlzLmVsZW1lbnRDYWxsYmFja3MucHVzaChhKX0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLmRpc2FibGVkfHwhYSlyZXR1cm4hMDthLnRvRmVhdHVyZSYmKGE9YS50b0ZlYXR1cmUodGhpcy5lZGl0b3IpKTt0aGlzLmFsbG93KGEuYWxsb3dlZENvbnRlbnQsYS5uYW1lKTt0aGlzLmFkZFRyYW5zZm9ybWF0aW9ucyhhLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnMpO1xudGhpcy5hZGRDb250ZW50Rm9ybXMoYS5jb250ZW50Rm9ybXMpO3JldHVybiBhLnJlcXVpcmVkQ29udGVudCYmKHRoaXMuY3VzdG9tQ29uZmlnfHx0aGlzLmRpc2FsbG93ZWRDb250ZW50Lmxlbmd0aCk/dGhpcy5jaGVjayhhLnJlcXVpcmVkQ29udGVudCk6ITB9LGFkZFRyYW5zZm9ybWF0aW9uczpmdW5jdGlvbihhKXt2YXIgYixjO2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgZD10aGlzLl8udHJhbnNmb3JtYXRpb25zLGU7Zm9yKGU9MDtlPGEubGVuZ3RoOysrZSl7Yj1hW2VdO3ZhciBmPXZvaWQgMCxuPXZvaWQgMCxsPXZvaWQgMCxnPXZvaWQgMCxtPXZvaWQgMCx0PXZvaWQgMDtjPVtdO2ZvcihuPTA7bjxiLmxlbmd0aDsrK24pbD1iW25dLFwic3RyaW5nXCI9PXR5cGVvZiBsPyhsPWwuc3BsaXQoL1xccyo6XFxzKi8pLGc9bFswXSxtPW51bGwsdD1sWzFdKTooZz1sLmNoZWNrLG09bC5sZWZ0LHQ9bC5yaWdodCksZnx8KGY9bCxmPWYuZWxlbWVudD9mLmVsZW1lbnQ6Zz9nLm1hdGNoKC9eKFthLXowLTldKykvaSlbMF06XG5mLmxlZnQuZ2V0RGVmaW5pdGlvbigpLmVsZW1lbnQpLG0gaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSYmKG09RChtKSksYy5wdXNoKHtjaGVjazpnPT1mP251bGw6ZyxsZWZ0Om0scmlnaHQ6XCJzdHJpbmdcIj09dHlwZW9mIHQ/Tih0KTp0fSk7Yj1mO2RbYl18fChkW2JdPVtdKTtkW2JdLnB1c2goYyl9fX0sY2hlY2s6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuZGlzYWJsZWQpcmV0dXJuITA7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSl7Zm9yKHZhciBkPWEubGVuZ3RoO2QtLTspaWYodGhpcy5jaGVjayhhW2RdLGIsYykpcmV0dXJuITA7cmV0dXJuITF9dmFyIGYsbjtpZihcInN0cmluZ1wiPT10eXBlb2YgYSl7bj1hK1wiXFx4M2NcIisoITE9PT1iP1wiMFwiOlwiMVwiKSsoYz9cIjFcIjpcIjBcIikrXCJcXHgzZVwiO2lmKG4gaW4gdGhpcy5fLmNhY2hlZENoZWNrcylyZXR1cm4gdGhpcy5fLmNhY2hlZENoZWNrc1tuXTtmPWUoYSkuJDE7dmFyIGw9Zi5zdHlsZXMsZD1mLmNsYXNzZXM7Zi5uYW1lPWYuZWxlbWVudHM7XG5mLmNsYXNzZXM9ZD1kP2Quc3BsaXQoL1xccyosXFxzKi8pOltdO2Yuc3R5bGVzPXEobCk7Zi5hdHRyaWJ1dGVzPXEoZi5hdHRyaWJ1dGVzKTtmLmNoaWxkcmVuPVtdO2QubGVuZ3RoJiYoZi5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09ZC5qb2luKFwiIFwiKSk7bCYmKGYuYXR0cmlidXRlcy5zdHlsZT1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoZi5zdHlsZXMpKX1lbHNlIGY9YS5nZXREZWZpbml0aW9uKCksbD1mLnN0eWxlcyxkPWYuYXR0cmlidXRlc3x8e30sbCYmIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkobCk/KGw9RShsKSxkLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChsLCEwKSk6bD17fSxmPXtuYW1lOmYuZWxlbWVudCxhdHRyaWJ1dGVzOmQsY2xhc3NlczpkW1wiY2xhc3NcIl0/ZFtcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6W10sc3R5bGVzOmwsY2hpbGRyZW46W119O3ZhciBsPUNLRURJVE9SLnRvb2xzLmNsb25lKGYpLGc9W10sbTtpZighMSE9PWImJihtPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnNbZi5uYW1lXSkpe2ZvcihkPVxuMDtkPG0ubGVuZ3RoOysrZClyKHRoaXMsZixtW2RdKTt2KGYpfXoodGhpcyxsLGcse2RvRmlsdGVyOiEwLGRvVHJhbnNmb3JtOiExIT09Yixza2lwUmVxdWlyZWQ6IWMsc2tpcEZpbmFsVmFsaWRhdGlvbjohY30pOzA8Zy5sZW5ndGg/Yz0hMTooKGI9Zi5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0pJiYoZi5hdHRyaWJ1dGVzW1wiY2xhc3NcIl09Zi5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpLnNvcnQoKS5qb2luKFwiIFwiKSksYz1DS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGYuYXR0cmlidXRlcyxsLmF0dHJpYnV0ZXMsITApLGImJihmLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iKSk7XCJzdHJpbmdcIj09dHlwZW9mIGEmJih0aGlzLl8uY2FjaGVkQ2hlY2tzW25dPWMpO3JldHVybiBjfSxnZXRBbGxvd2VkRW50ZXJNb2RlOmZ1bmN0aW9uKCl7dmFyIGE9W1wicFwiLFwiZGl2XCIsXCJiclwiXSxiPXtwOkNLRURJVE9SLkVOVEVSX1AsZGl2OkNLRURJVE9SLkVOVEVSX0RJVixicjpDS0VESVRPUi5FTlRFUl9CUn07XG5yZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZj1hLnNsaWNlKCksZTtpZih0aGlzLmNoZWNrKElbY10pKXJldHVybiBjO2ZvcihkfHwoZj1mLnJldmVyc2UoKSk7ZT1mLnBvcCgpOylpZih0aGlzLmNoZWNrKGUpKXJldHVybiBiW2VdO3JldHVybiBDS0VESVRPUi5FTlRFUl9CUn19KCksY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZmlsdGVyLGI9Q0tFRElUT1IudG9vbHMuY2xvbmU7YS5hbGxvd2VkQ29udGVudD1iKHRoaXMuYWxsb3dlZENvbnRlbnQpO2EuXy5hbGxvd2VkUnVsZXM9Yih0aGlzLl8uYWxsb3dlZFJ1bGVzKTthLmRpc2FsbG93ZWRDb250ZW50PWIodGhpcy5kaXNhbGxvd2VkQ29udGVudCk7YS5fLmRpc2FsbG93ZWRSdWxlcz1iKHRoaXMuXy5kaXNhbGxvd2VkUnVsZXMpO2EuXy50cmFuc2Zvcm1hdGlvbnM9Yih0aGlzLl8udHJhbnNmb3JtYXRpb25zKTthLmRpc2FibGVkPXRoaXMuZGlzYWJsZWQ7YS5lZGl0b3I9dGhpcy5lZGl0b3I7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtcbmRlbGV0ZSB0aGlzLl87ZGVsZXRlIHRoaXMuYWxsb3dlZENvbnRlbnQ7ZGVsZXRlIHRoaXMuZGlzYWxsb3dlZENvbnRlbnR9fTt2YXIgUD17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sTz17c3R5bGVzOlwicmVxdWlyZWRTdHlsZXNcIixhdHRyaWJ1dGVzOlwicmVxdWlyZWRBdHRyaWJ1dGVzXCIsY2xhc3NlczpcInJlcXVpcmVkQ2xhc3Nlc1wifSxsPS9eKFthLXowLTlcXC0qXFxzXSspKCg/OlxccypcXHtbIVxcd1xcLSxcXHNcXCpdK1xcfVxccyp8XFxzKlxcW1shXFx3XFwtLFxcc1xcKl0rXFxdXFxzKnxcXHMqXFwoWyFcXHdcXC0sXFxzXFwqXStcXClcXHMqKXswLDN9KSg/OjtcXHMqfCQpL2ksSz17c3R5bGVzOi97KFtefV0rKX0vLGF0dHJzOi9cXFsoW15cXF1dKylcXF0vLGNsYXNzZXM6L1xcKChbXlxcKV0rKVxcKS99LEI9L15ja2U6KG9iamVjdHxlbWJlZHxwYXJhbSkkLyxBPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxKO0o9Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcblwid2lkdGhcIik7dGhpcy5sZW5ndGhUb1N0eWxlKGEsXCJoZWlnaHRcIil9LHNpemVUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJ3aWR0aFwiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJoZWlnaHRcIil9LGxlbmd0aFRvU3R5bGU6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8YjtpZighKGMgaW4gYS5zdHlsZXMpKXt2YXIgZD1hLmF0dHJpYnV0ZXNbYl07ZCYmKC9eXFxkKyQvLnRlc3QoZCkmJihkKz1cInB4XCIpLGEuc3R5bGVzW2NdPWQpfWRlbGV0ZSBhLmF0dHJpYnV0ZXNbYl19LGxlbmd0aFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuYXR0cmlidXRlcykpe3ZhciBkPWEuc3R5bGVzW2JdLGY9ZCYmZC5tYXRjaCgvXihcXGQrKSg/OlxcLlxcZCopP3B4JC8pO2Y/YS5hdHRyaWJ1dGVzW2NdPWZbMV06XCJja2UtdGVzdFwiPT1kJiYoYS5hdHRyaWJ1dGVzW2NdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW5cbmEuc3R5bGVzKSl7dmFyIGI9YS5hdHRyaWJ1dGVzLmFsaWduO2lmKFwibGVmdFwiPT1ifHxcInJpZ2h0XCI9PWIpYS5zdHlsZXNbXCJmbG9hdFwiXT1ifWRlbGV0ZSBhLmF0dHJpYnV0ZXMuYWxpZ259LGFsaWdubWVudFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEpe2lmKCEoXCJhbGlnblwiaW4gYS5hdHRyaWJ1dGVzKSl7dmFyIGI9YS5zdHlsZXNbXCJmbG9hdFwiXTtpZihcImxlZnRcIj09Ynx8XCJyaWdodFwiPT1iKWEuYXR0cmlidXRlcy5hbGlnbj1ifWRlbGV0ZSBhLnN0eWxlc1tcImZsb2F0XCJdfSxzcGxpdEJvcmRlclNob3J0aGFuZDpmdW5jdGlvbihhKXtpZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBiPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLmJvcmRlcihhLnN0eWxlcy5ib3JkZXIpO2IuY29sb3ImJihhLnN0eWxlc1tcImJvcmRlci1jb2xvclwiXT1iLmNvbG9yKTtiLnN0eWxlJiYoYS5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl09Yi5zdHlsZSk7Yi53aWR0aCYmKGEuc3R5bGVzW1wiYm9yZGVyLXdpZHRoXCJdPWIud2lkdGgpO1xuZGVsZXRlIGEuc3R5bGVzLmJvcmRlcn19LGxpc3RUeXBlVG9TdHlsZTpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXMudHlwZSlzd2l0Y2goYS5hdHRyaWJ1dGVzLnR5cGUpe2Nhc2UgXCJhXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJBXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJpXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1yb21hblwiO2JyZWFrO2Nhc2UgXCJJXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1yb21hblwiO2JyZWFrO2Nhc2UgXCIxXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJkZWNpbWFsXCI7YnJlYWs7ZGVmYXVsdDphLnN0eWxlc1tcImxpc3Qtc3R5bGUtdHlwZVwiXT1hLmF0dHJpYnV0ZXMudHlwZX19LHNwbGl0TWFyZ2luU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7YS5zdHlsZXNbXCJtYXJnaW4tdG9wXCJdPVxuY1tkWzBdXTthLnN0eWxlc1tcIm1hcmdpbi1yaWdodFwiXT1jW2RbMV1dO2Euc3R5bGVzW1wibWFyZ2luLWJvdHRvbVwiXT1jW2RbMl1dO2Euc3R5bGVzW1wibWFyZ2luLWxlZnRcIl09Y1tkWzNdXX1pZihhLnN0eWxlcy5tYXJnaW4pe3ZhciBjPWEuc3R5bGVzLm1hcmdpbi5tYXRjaCgvKFxcLT9bXFwuXFxkXStcXHcrKS9nKXx8W1wiMHB4XCJdO3N3aXRjaChjLmxlbmd0aCl7Y2FzZSAxOmIoWzAsMCwwLDBdKTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1kZWxldGUgYS5zdHlsZXMubWFyZ2lufX0sbWF0Y2hlc1N0eWxlOkMsdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYS5uYW1lPWI7ZWxzZXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuc3R5bGVzLGY9Yy5hdHRyaWJ1dGVzLGUsbCxuLGc7YS5uYW1lPWMuZWxlbWVudDtmb3IoZSBpbiBmKWlmKFwiY2xhc3NcIj09ZSlmb3IoYz1cbmEuY2xhc3Nlcy5qb2luKFwifFwiKSxuPWZbZV0uc3BsaXQoL1xccysvKTtnPW4ucG9wKCk7KS0xPT1jLmluZGV4T2YoZykmJmEuY2xhc3Nlcy5wdXNoKGcpO2Vsc2UgYS5hdHRyaWJ1dGVzW2VdPWZbZV07Zm9yKGwgaW4gZClhLnN0eWxlc1tsXT1kW2xdfX19fSkoKTtcbihmdW5jdGlvbigpe0NLRURJVE9SLmZvY3VzTWFuYWdlcj1mdW5jdGlvbihhKXtpZihhLmZvY3VzTWFuYWdlcilyZXR1cm4gYS5mb2N1c01hbmFnZXI7dGhpcy5oYXNGb2N1cz0hMTt0aGlzLmN1cnJlbnRBY3RpdmU9bnVsbDt0aGlzLl89e2VkaXRvcjphfTtyZXR1cm4gdGhpc307Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl89e2JsdXJEZWxheToyMDB9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5wcm90b3R5cGU9e2ZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7YSYmKHRoaXMuY3VycmVudEFjdGl2ZT1hKTt0aGlzLmhhc0ZvY3VzfHx0aGlzLl8ubG9ja2VkfHwoKGE9Q0tFRElUT1IuY3VycmVudEluc3RhbmNlKSYmYS5mb2N1c01hbmFnZXIuYmx1cigxKSx0aGlzLmhhc0ZvY3VzPSEwLChhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyKSYmYS5hZGRDbGFzcyhcImNrZV9mb2N1c1wiKSx0aGlzLl8uZWRpdG9yLmZpcmUoXCJmb2N1c1wiKSl9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLl8ubG9ja2VkPVxuMX0sdW5sb2NrOmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy5sb2NrZWR9LGJsdXI6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZCgpe2lmKHRoaXMuaGFzRm9jdXMpe3RoaXMuaGFzRm9jdXM9ITE7dmFyIGE9dGhpcy5fLmVkaXRvci5jb250YWluZXI7YSYmYS5yZW1vdmVDbGFzcyhcImNrZV9mb2N1c1wiKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJibHVyXCIpfX1pZighdGhpcy5fLmxvY2tlZCl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTt2YXIgYj1DS0VESVRPUi5mb2N1c01hbmFnZXIuXy5ibHVyRGVsYXk7YXx8IWI/ZC5jYWxsKHRoaXMpOnRoaXMuXy50aW1lcj1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuXy50aW1lcjtkLmNhbGwodGhpcyl9LGIsdGhpcyl9fSxhZGQ6ZnVuY3Rpb24oYSxkKXt2YXIgYj1hLmdldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7aWYoIWJ8fGIhPXRoaXMpe2ImJmIucmVtb3ZlKGEpO3ZhciBiPVxuXCJmb2N1c1wiLGM9XCJibHVyXCI7ZCYmKENLRURJVE9SLmVudi5pZT8oYj1cImZvY3VzaW5cIixjPVwiZm9jdXNvdXRcIik6Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xKTt2YXIgZj17Ymx1cjpmdW5jdGlvbigpe2EuZXF1YWxzKHRoaXMuY3VycmVudEFjdGl2ZSkmJnRoaXMuYmx1cigpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZm9jdXMoYSl9fTthLm9uKGIsZi5mb2N1cyx0aGlzKTthLm9uKGMsZi5ibHVyLHRoaXMpO2QmJihDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTApO2Euc2V0Q3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiLHRoaXMpO2Euc2V0Q3VzdG9tRGF0YShcImZvY3VzbWFuYWdlcl9oYW5kbGVyc1wiLGYpfX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2EucmVtb3ZlQ3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiKTt2YXIgZD1hLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIik7YS5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIixkLmJsdXIpO2EucmVtb3ZlTGlzdGVuZXIoXCJmb2N1c1wiLFxuZC5mb2N1cyl9fX0pKCk7Q0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcj1mdW5jdGlvbihhKXtpZihhLmtleXN0cm9rZUhhbmRsZXIpcmV0dXJuIGEua2V5c3Ryb2tlSGFuZGxlcjt0aGlzLmtleXN0cm9rZXM9e307dGhpcy5ibG9ja2VkS2V5c3Ryb2tlcz17fTt0aGlzLl89e2VkaXRvcjphfTtyZXR1cm4gdGhpc307XG4oZnVuY3Rpb24oKXt2YXIgYSxkPWZ1bmN0aW9uKGIpe2I9Yi5kYXRhO3ZhciBkPWIuZ2V0S2V5c3Ryb2tlKCksZz10aGlzLmtleXN0cm9rZXNbZF0saz10aGlzLl8uZWRpdG9yO2E9ITE9PT1rLmZpcmUoXCJrZXlcIix7a2V5Q29kZTpkLGRvbUV2ZW50OmJ9KTthfHwoZyYmKGE9ITEhPT1rLmV4ZWNDb21tYW5kKGcse2Zyb206XCJrZXlzdHJva2VIYW5kbGVyXCJ9KSksYXx8KGE9ISF0aGlzLmJsb2NrZWRLZXlzdHJva2VzW2RdKSk7YSYmYi5wcmV2ZW50RGVmYXVsdCghMCk7cmV0dXJuIWF9LGI9ZnVuY3Rpb24oYil7YSYmKGE9ITEsYi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKSl9O0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIucHJvdG90eXBlPXthdHRhY2g6ZnVuY3Rpb24oYSl7YS5vbihcImtleWRvd25cIixkLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYylhLm9uKFwia2V5cHJlc3NcIixiLHRoaXMpfX19KSgpO1xuKGZ1bmN0aW9uKCl7Q0tFRElUT1IubGFuZz17bGFuZ3VhZ2VzOnthZjoxLGFyOjEsYXo6MSxiZzoxLGJuOjEsYnM6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxcImVuLWF1XCI6MSxcImVuLWNhXCI6MSxcImVuLWdiXCI6MSxlbjoxLGVvOjEsZXM6MSxcImVzLW14XCI6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsXCJmci1jYVwiOjEsZnI6MSxnbDoxLGd1OjEsaGU6MSxoaToxLGhyOjEsaHU6MSxpZDoxLGlzOjEsaXQ6MSxqYToxLGthOjEsa206MSxrbzoxLGt1OjEsbHQ6MSxsdjoxLG1rOjEsbW46MSxtczoxLG5iOjEsbmw6MSxubzoxLG9jOjEscGw6MSxcInB0LWJyXCI6MSxwdDoxLHJvOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLFwic3ItbGF0blwiOjEsc3I6MSxzdjoxLHRoOjEsdHI6MSx0dDoxLHVnOjEsdWs6MSx2aToxLFwiemgtY25cIjoxLHpoOjF9LHJ0bDp7YXI6MSxmYToxLGhlOjEsa3U6MSx1ZzoxfSxsb2FkOmZ1bmN0aW9uKGEsZCxiKXthJiZDS0VESVRPUi5sYW5nLmxhbmd1YWdlc1thXXx8XG4oYT10aGlzLmRldGVjdChkLGEpKTt2YXIgYz10aGlzO2Q9ZnVuY3Rpb24oKXtjW2FdLmRpcj1jLnJ0bFthXT9cInJ0bFwiOlwibHRyXCI7YihhLGNbYV0pfTt0aGlzW2FdP2QoKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoXCJsYW5nL1wiK2ErXCIuanNcIiksZCx0aGlzKX0sZGV0ZWN0OmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy5sYW5ndWFnZXM7ZD1kfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3IubGFuZ3VhZ2V8fGE7dmFyIGM9ZC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oW2Etel0rKSg/Oi0oW2Etel0rKSk/LyksZj1jWzFdLGM9Y1syXTtiW2YrXCItXCIrY10/Zj1mK1wiLVwiK2M6YltmXXx8KGY9bnVsbCk7Q0tFRElUT1IubGFuZy5kZXRlY3Q9Zj9mdW5jdGlvbigpe3JldHVybiBmfTpmdW5jdGlvbihhKXtyZXR1cm4gYX07cmV0dXJuIGZ8fGF9fX0pKCk7XG5DS0VESVRPUi5zY3JpcHRMb2FkZXI9ZnVuY3Rpb24oKXt2YXIgYT17fSxkPXt9O3JldHVybntsb2FkOmZ1bmN0aW9uKGIsYyxmLGcpe3ZhciBrPVwic3RyaW5nXCI9PXR5cGVvZiBiO2smJihiPVtiXSk7Znx8KGY9Q0tFRElUT1IpO3ZhciBoPWIubGVuZ3RoLHA9W10scT1bXSxlPWZ1bmN0aW9uKGEpe2MmJihrP2MuY2FsbChmLGEpOmMuY2FsbChmLHAscSkpfTtpZigwPT09aCllKCEwKTtlbHNle3ZhciB4PWZ1bmN0aW9uKGEsYil7KGI/cDpxKS5wdXNoKGEpOzA+PS0taCYmKGcmJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnJlbW92ZVN0eWxlKFwiY3Vyc29yXCIpLGUoYikpfSx3PWZ1bmN0aW9uKGIsYyl7YVtiXT0xO3ZhciBmPWRbYl07ZGVsZXRlIGRbYl07Zm9yKHZhciBlPTA7ZTxmLmxlbmd0aDtlKyspZltlXShiLGMpfSx6PWZ1bmN0aW9uKGIpe2lmKGFbYl0peChiLCEwKTtlbHNle3ZhciBmPWRbYl18fChkW2JdPVtdKTtmLnB1c2goeCk7aWYoISgxPGYubGVuZ3RoKSl7dmFyIGU9XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzY3JpcHRcIik7ZS5zZXRBdHRyaWJ1dGVzKHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCIsc3JjOmJ9KTtjJiYoQ0tFRElUT1IuZW52LmllJiYoOD49Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5pZTlDb21wYXQpP2UuJC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpZihcImxvYWRlZFwiPT1lLiQucmVhZHlTdGF0ZXx8XCJjb21wbGV0ZVwiPT1lLiQucmVhZHlTdGF0ZSllLiQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdyhiLCEwKX06KGUuJC5vbmxvYWQ9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dyhiLCEwKX0sMCl9LGUuJC5vbmVycm9yPWZ1bmN0aW9uKCl7dyhiLCExKX0pKTtlLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSl9fX07ZyYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuc2V0U3R5bGUoXCJjdXJzb3JcIixcIndhaXRcIik7Zm9yKHZhciBGPTA7RjxoO0YrKyl6KGJbRl0pfX0sXG5xdWV1ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYjsoYj1jWzBdKSYmdGhpcy5sb2FkKGIuc2NyaXB0VXJsLGIuY2FsbGJhY2ssQ0tFRElUT1IsMCl9dmFyIGM9W107cmV0dXJuIGZ1bmN0aW9uKGQsZyl7dmFyIGs9dGhpcztjLnB1c2goe3NjcmlwdFVybDpkLGNhbGxiYWNrOmZ1bmN0aW9uKCl7ZyYmZy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yy5zaGlmdCgpO2EuY2FsbChrKX19KTsxPT1jLmxlbmd0aCYmYS5jYWxsKHRoaXMpfX0oKX19KCk7Q0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyPWZ1bmN0aW9uKGEsZCl7dGhpcy5iYXNlUGF0aD1hO3RoaXMuZmlsZU5hbWU9ZDt0aGlzLnJlZ2lzdGVyZWQ9e307dGhpcy5sb2FkZWQ9e307dGhpcy5leHRlcm5hbHM9e307dGhpcy5fPXt3YWl0aW5nTGlzdDp7fX19O1xuQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsZCl7aWYodGhpcy5yZWdpc3RlcmVkW2FdKXRocm93IEVycm9yKCdbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmFkZF0gVGhlIHJlc291cmNlIG5hbWUgXCInK2ErJ1wiIGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4nKTt2YXIgYj10aGlzLnJlZ2lzdGVyZWRbYV09ZHx8e307Yi5uYW1lPWE7Yi5wYXRoPXRoaXMuZ2V0UGF0aChhKTtDS0VESVRPUi5maXJlKGErQ0tFRElUT1IudG9vbHMuY2FwaXRhbGl6ZSh0aGlzLmZpbGVOYW1lKStcIlJlYWR5XCIsYik7cmV0dXJuIHRoaXMuZ2V0KGEpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucmVnaXN0ZXJlZFthXXx8bnVsbH0sZ2V0UGF0aDpmdW5jdGlvbihhKXt2YXIgZD10aGlzLmV4dGVybmFsc1thXTtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGQmJmQuZGlyfHx0aGlzLmJhc2VQYXRoK2ErXCIvXCIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihhKXt2YXIgZD10aGlzLmV4dGVybmFsc1thXTtcbnJldHVybiBDS0VESVRPUi5nZXRVcmwodGhpcy5nZXRQYXRoKGEpKyhkP2QuZmlsZTp0aGlzLmZpbGVOYW1lK1wiLmpzXCIpKX0sYWRkRXh0ZXJuYWw6ZnVuY3Rpb24oYSxkLGIpe2E9YS5zcGxpdChcIixcIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY107Ynx8KGQ9ZC5yZXBsYWNlKC9bXlxcL10rJC8sZnVuY3Rpb24oYSl7Yj1hO3JldHVyblwiXCJ9KSk7dGhpcy5leHRlcm5hbHNbZl09e2RpcjpkLGZpbGU6Ynx8dGhpcy5maWxlTmFtZStcIi5qc1wifX19LGxvYWQ6ZnVuY3Rpb24oYSxkLGIpe0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSl8fChhPWE/W2FdOltdKTtmb3IodmFyIGM9dGhpcy5sb2FkZWQsZj10aGlzLnJlZ2lzdGVyZWQsZz1bXSxrPXt9LGg9e30scD0wO3A8YS5sZW5ndGg7cCsrKXt2YXIgcT1hW3BdO2lmKHEpaWYoY1txXXx8ZltxXSloW3FdPXRoaXMuZ2V0KHEpO2Vsc2V7dmFyIGU9dGhpcy5nZXRGaWxlUGF0aChxKTtnLnB1c2goZSk7ZSBpbiBrfHwoa1tlXT1cbltdKTtrW2VdLnB1c2gocSl9fUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGcsZnVuY3Rpb24oYSxlKXtpZihlLmxlbmd0aCl0aHJvdyBFcnJvcignW0NLRURJVE9SLnJlc291cmNlTWFuYWdlci5sb2FkXSBSZXNvdXJjZSBuYW1lIFwiJytrW2VbMF1dLmpvaW4oXCIsXCIpKydcIiB3YXMgbm90IGZvdW5kIGF0IFwiJytlWzBdKydcIi4nKTtmb3IodmFyIGY9MDtmPGEubGVuZ3RoO2YrKylmb3IodmFyIGc9a1thW2ZdXSxwPTA7cDxnLmxlbmd0aDtwKyspe3ZhciBtPWdbcF07aFttXT10aGlzLmdldChtKTtjW21dPTF9ZC5jYWxsKGIsaCl9LHRoaXMpfX07Q0tFRElUT1IucGx1Z2lucz1uZXcgQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyKFwicGx1Z2lucy9cIixcInBsdWdpblwiKTtcbkNLRURJVE9SLnBsdWdpbnMubG9hZD1DS0VESVRPUi50b29scy5vdmVycmlkZShDS0VESVRPUi5wbHVnaW5zLmxvYWQsZnVuY3Rpb24oYSl7dmFyIGQ9e307cmV0dXJuIGZ1bmN0aW9uKGIsYyxmKXt2YXIgZz17fSxrPWZ1bmN0aW9uKGIpe2EuY2FsbCh0aGlzLGIsZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGcsYSk7dmFyIGI9W10sZTtmb3IoZSBpbiBhKXt2YXIgaD1hW2VdLHc9aCYmaC5yZXF1aXJlcztpZighZFtlXSl7aWYoaC5pY29ucylmb3IodmFyIHo9aC5pY29ucy5zcGxpdChcIixcIiksRj16Lmxlbmd0aDtGLS07KUNLRURJVE9SLnNraW4uYWRkSWNvbih6W0ZdLGgucGF0aCtcImljb25zL1wiKyhDS0VESVRPUi5lbnYuaGlkcGkmJmguaGlkcGk/XCJoaWRwaS9cIjpcIlwiKSt6W0ZdK1wiLnBuZ1wiKTtkW2VdPTF9aWYodylmb3Iody5zcGxpdCYmKHc9dy5zcGxpdChcIixcIikpLGg9MDtoPHcubGVuZ3RoO2grKylnW3dbaF1dfHxiLnB1c2god1toXSl9aWYoYi5sZW5ndGgpay5jYWxsKHRoaXMsXG5iKTtlbHNle2ZvcihlIGluIGcpaD1nW2VdLGgub25Mb2FkJiYhaC5vbkxvYWQuX2NhbGxlZCYmKCExPT09aC5vbkxvYWQoKSYmZGVsZXRlIGdbZV0saC5vbkxvYWQuX2NhbGxlZD0xKTtjJiZjLmNhbGwoZnx8d2luZG93LGcpfX0sdGhpcyl9O2suY2FsbCh0aGlzLGIpfX0pO0NLRURJVE9SLnBsdWdpbnMuc2V0TGFuZz1mdW5jdGlvbihhLGQsYil7dmFyIGM9dGhpcy5nZXQoYSk7YT1jLmxhbmdFbnRyaWVzfHwoYy5sYW5nRW50cmllcz17fSk7Yz1jLmxhbmd8fChjLmxhbmc9W10pO2Muc3BsaXQmJihjPWMuc3BsaXQoXCIsXCIpKTstMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihjLGQpJiZjLnB1c2goZCk7YVtkXT1ifTtDS0VESVRPUi51aT1mdW5jdGlvbihhKXtpZihhLnVpKXJldHVybiBhLnVpO3RoaXMuaXRlbXM9e307dGhpcy5pbnN0YW5jZXM9e307dGhpcy5lZGl0b3I9YTt0aGlzLl89e2hhbmRsZXJzOnt9fTtyZXR1cm4gdGhpc307XG5DS0VESVRPUi51aS5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGQsYil7Yi5uYW1lPWEudG9Mb3dlckNhc2UoKTt2YXIgYz10aGlzLml0ZW1zW2FdPXt0eXBlOmQsY29tbWFuZDpiLmNvbW1hbmR8fG51bGwsYXJnczpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMil9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChjLGIpfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5zdGFuY2VzW2FdfSxjcmVhdGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5pdGVtc1thXSxiPWQmJnRoaXMuXy5oYW5kbGVyc1tkLnR5cGVdLGM9ZCYmZC5jb21tYW5kJiZ0aGlzLmVkaXRvci5nZXRDb21tYW5kKGQuY29tbWFuZCksYj1iJiZiLmNyZWF0ZS5hcHBseSh0aGlzLGQuYXJncyk7dGhpcy5pbnN0YW5jZXNbYV09YjtjJiZjLnVpSXRlbXMucHVzaChiKTtiJiYhYi50eXBlJiYoYi50eXBlPWQudHlwZSk7cmV0dXJuIGJ9LGFkZEhhbmRsZXI6ZnVuY3Rpb24oYSxkKXt0aGlzLl8uaGFuZGxlcnNbYV09XG5kfSxzcGFjZTpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLnNwYWNlSWQoYSkpfSxzcGFjZUlkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVkaXRvci5pZCtcIl9cIithfX07Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IudWkpO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGUsZil7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTthPWEmJkNLRURJVE9SLnRvb2xzLmNsb25lKGEpO2lmKHZvaWQgMCE9PWUpe2lmKCEoZSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50KSl0aHJvdyBFcnJvcihcIkV4cGVjdCBlbGVtZW50IG9mIHR5cGUgQ0tFRElUT1IuZG9tLmVsZW1lbnQuXCIpO2lmKCFmKXRocm93IEVycm9yKFwiT25lIG9mIHRoZSBlbGVtZW50IG1vZGVzIG11c3QgYmUgc3BlY2lmaWVkLlwiKTtpZihDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmY9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpdGhyb3cgRXJyb3IoXCJJbmxpbmUgZWxlbWVudCBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQgb24gSUUgcXVpcmtzLlwiKTtpZighYihlLGYpKXRocm93IEVycm9yKCdUaGUgc3BlY2lmaWVkIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIGVsZW1lbnQ6IFwiJytlLmdldE5hbWUoKSsnXCIuJyk7XG50aGlzLmVsZW1lbnQ9ZTt0aGlzLmVsZW1lbnRNb2RlPWY7dGhpcy5uYW1lPXRoaXMuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyYmKGUuZ2V0SWQoKXx8ZS5nZXROYW1lQXR0KCkpfWVsc2UgdGhpcy5lbGVtZW50TW9kZT1DS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORTt0aGlzLl89e307dGhpcy5jb21tYW5kcz17fTt0aGlzLnRlbXBsYXRlcz17fTt0aGlzLm5hbWU9dGhpcy5uYW1lfHxkKCk7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLnN0YXR1cz1cInVubG9hZGVkXCI7dGhpcy5jb25maWc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoQ0tFRElUT1IuY29uZmlnKTt0aGlzLnVpPW5ldyBDS0VESVRPUi51aSh0aGlzKTt0aGlzLmZvY3VzTWFuYWdlcj1uZXcgQ0tFRElUT1IuZm9jdXNNYW5hZ2VyKHRoaXMpO3RoaXMua2V5c3Ryb2tlSGFuZGxlcj1uZXcgQ0tFRElUT1Iua2V5c3Ryb2tlSGFuZGxlcih0aGlzKTt0aGlzLm9uKFwicmVhZE9ubHlcIixcbmMpO3RoaXMub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihhKXtnKHRoaXMsYS5kYXRhLnBhdGgpfSk7dGhpcy5vbihcImFjdGl2ZUZpbHRlckNoYW5nZVwiLGZ1bmN0aW9uKCl7Zyh0aGlzLHRoaXMuZWxlbWVudFBhdGgoKSwhMCl9KTt0aGlzLm9uKFwibW9kZVwiLGMpO3RoaXMub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtpZih0aGlzLmNvbmZpZy5zdGFydHVwRm9jdXMpe2lmKFwiZW5kXCI9PT10aGlzLmNvbmZpZy5zdGFydHVwRm9jdXMpe3ZhciBhPXRoaXMuY3JlYXRlUmFuZ2UoKTthLnNlbGVjdE5vZGVDb250ZW50cyh0aGlzLmVkaXRhYmxlKCkpO2Euc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwKTthLmNvbGxhcHNlKCk7dGhpcy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2FdKX10aGlzLmZvY3VzKCl9fSk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLG51bGwsdGhpcyk7Q0tFRElUT1IuYWRkKHRoaXMpO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtcImRlc3Ryb3llZFwiIT09XG50aGlzLnN0YXR1cz9oKHRoaXMsYSk6Q0tFRElUT1Iud2FybihcImVkaXRvci1pbmNvcnJlY3QtZGVzdHJveVwiKX0sMCx0aGlzKX1mdW5jdGlvbiBkKCl7ZG8gdmFyIGE9XCJlZGl0b3JcIisgKytGO3doaWxlKENLRURJVE9SLmluc3RhbmNlc1thXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuaXMoQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSl8fGEuaXMoXCJ0ZXh0YXJlYVwiKTpiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8hYS5pcyhDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50KToxfWZ1bmN0aW9uIGMoKXt2YXIgYT10aGlzLmNvbW1hbmRzLGI7Zm9yKGIgaW4gYSlmKHRoaXMsYVtiXSl9ZnVuY3Rpb24gZihhLGIpe2JbYi5zdGFydERpc2FibGVkP1wiZGlzYWJsZVwiOmEucmVhZE9ubHkmJiFiLnJlYWRPbmx5P1wiZGlzYWJsZVwiOmIubW9kZXNbYS5tb2RlXT9cImVuYWJsZVwiOlwiZGlzYWJsZVwiXSgpfWZ1bmN0aW9uIGcoYSxcbmIsYyl7aWYoYil7dmFyIGQsZSxmPWEuY29tbWFuZHM7Zm9yKGUgaW4gZilkPWZbZV0sKGN8fGQuY29udGV4dFNlbnNpdGl2ZSkmJmQucmVmcmVzaChhLGIpfX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4hMTt2YXIgYj1DS0VESVRPUi5nZXRVcmwoYiksYz12W2JdfHwodltiXT17fSk7Yy5mbj8oYy5mbi5jYWxsKGEsYS5jb25maWcpLENLRURJVE9SLmdldFVybChhLmNvbmZpZy5jdXN0b21Db25maWcpIT1iJiZrKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIucXVldWUoYixmdW5jdGlvbigpe2MuZm49Q0tFRElUT1IuZWRpdG9yQ29uZmlnP0NLRURJVE9SLmVkaXRvckNvbmZpZzpmdW5jdGlvbigpe307ayhhKX0pO3JldHVybiEwfWZ1bmN0aW9uIGgoYSxiKXthLm9uKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIsZnVuY3Rpb24oKXtpZihiKXtpZihiLm9uKWZvcih2YXIgYyBpbiBiLm9uKWEub24oYyxcbmIub25bY10pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNvbmZpZyxiLCEwKTtkZWxldGUgYS5jb25maWcub259Yz1hLmNvbmZpZzthLnJlYWRPbmx5PWMucmVhZE9ubHk/ITA6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKT9hLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIil8fGEuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTphLmVsZW1lbnQuaXNSZWFkT25seSgpOmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOiExO2EuYmxvY2tsZXNzPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/IShhLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKXx8Q0tFRElUT1IuZHRkW2EuZWxlbWVudC5nZXROYW1lKCldLnApOlxuITE7YS50YWJJbmRleD1jLnRhYkluZGV4fHxhLmVsZW1lbnQmJmEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8MDthLmFjdGl2ZUVudGVyTW9kZT1hLmVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLmVudGVyTW9kZTthLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWEuc2hpZnRFbnRlck1vZGU9YS5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yy5zaGlmdEVudGVyTW9kZTtjLnNraW4mJihDS0VESVRPUi5za2luTmFtZT1jLnNraW4pO2EuZmlyZU9uY2UoXCJjb25maWdMb2FkZWRcIik7YS5kYXRhUHJvY2Vzc29yPW5ldyBDS0VESVRPUi5odG1sRGF0YVByb2Nlc3NvcihhKTthLmZpbHRlcj1hLmFjdGl2ZUZpbHRlcj1uZXcgQ0tFRElUT1IuZmlsdGVyKGEpO3AoYSl9KTtiJiZudWxsIT1iLmN1c3RvbUNvbmZpZyYmKGEuY29uZmlnLmN1c3RvbUNvbmZpZz1iLmN1c3RvbUNvbmZpZyk7ayhhKXx8YS5maXJlT25jZShcImN1c3RvbUNvbmZpZ0xvYWRlZFwiKX1cbmZ1bmN0aW9uIHAoYSl7Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImVkaXRvclwiLGZ1bmN0aW9uKCl7cShhKX0pfWZ1bmN0aW9uIHEoYSl7Q0tFRElUT1IubGFuZy5sb2FkKGEuY29uZmlnLmxhbmd1YWdlLGEuY29uZmlnLmRlZmF1bHRMYW5ndWFnZSxmdW5jdGlvbihiLGMpe3ZhciBkPWEuY29uZmlnLnRpdGxlO2EubGFuZ0NvZGU9YjthLmxhbmc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoYyk7YS50aXRsZT1cInN0cmluZ1wiPT10eXBlb2YgZHx8ITE9PT1kP2Q6W2EubGFuZy5lZGl0b3IsYS5uYW1lXS5qb2luKFwiLCBcIik7YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9ufHwoYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5lbGVtZW50LmdldERpcmVjdGlvbigxKTphLmxhbmcuZGlyKTthLmZpcmUoXCJsYW5nTG9hZGVkXCIpO2UoYSl9KX1mdW5jdGlvbiBlKGEpe2EuZ2V0U3R5bGVzU2V0KGZ1bmN0aW9uKGIpe2Eub25jZShcImxvYWRlZFwiLFxuZnVuY3Rpb24oKXthLmZpcmUoXCJzdHlsZXNTZXRcIix7c3R5bGVzOmJ9KX0sbnVsbCxudWxsLDEpO3goYSl9KX1mdW5jdGlvbiB4KGEpe2Z1bmN0aW9uIGIoYSl7aWYoIWEpcmV0dXJuXCJcIjtDS0VESVRPUi50b29scy5pc0FycmF5KGEpJiYoYT1hLmpvaW4oXCIsXCIpKTtyZXR1cm4gYS5yZXBsYWNlKC9cXHMvZyxcIlwiKX12YXIgYz1hLmNvbmZpZyxkPWIoYy5wbHVnaW5zKSxlPWIoYy5leHRyYVBsdWdpbnMpLGY9YihjLnJlbW92ZVBsdWdpbnMpO2lmKGUpdmFyIGc9bmV3IFJlZ0V4cChcIig/Ol58LCkoPzpcIitlLnJlcGxhY2UoLywvZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksZD1kLnJlcGxhY2UoZyxcIlwiKSxkPWQrKFwiLFwiK2UpO2lmKGYpdmFyIGs9bmV3IFJlZ0V4cChcIig/Ol58LCkoPzpcIitmLnJlcGxhY2UoLywvZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksZD1kLnJlcGxhY2UoayxcIlwiKTtDS0VESVRPUi5lbnYuYWlyJiYoZCs9XCIsYWRvYmVhaXJcIik7Q0tFRElUT1IucGx1Z2lucy5sb2FkKGQuc3BsaXQoXCIsXCIpLFxuZnVuY3Rpb24oYil7dmFyIGQ9W10sZT1bXSxmPVtdO2EucGx1Z2lucz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYS5wbHVnaW5zLGIpO2Zvcih2YXIgbiBpbiBiKXt2YXIgZz1iW25dLHI9Zy5sYW5nLGg9bnVsbCxsPWcucmVxdWlyZXMsQztDS0VESVRPUi50b29scy5pc0FycmF5KGwpJiYobD1sLmpvaW4oXCIsXCIpKTtpZihsJiYoQz1sLm1hdGNoKGspKSlmb3IoO2w9Qy5wb3AoKTspQ0tFRElUT1IuZXJyb3IoXCJlZGl0b3ItcGx1Z2luLXJlcXVpcmVkXCIse3BsdWdpbjpsLnJlcGxhY2UoXCIsXCIsXCJcIikscmVxdWlyZWRCeTpufSk7ciYmIWEubGFuZ1tuXSYmKHIuc3BsaXQmJihyPXIuc3BsaXQoXCIsXCIpKSwwPD1DS0VESVRPUi50b29scy5pbmRleE9mKHIsYS5sYW5nQ29kZSk/aD1hLmxhbmdDb2RlOihoPWEubGFuZ0NvZGUucmVwbGFjZSgvLS4qLyxcIlwiKSxoPWghPWEubGFuZ0NvZGUmJjA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YocixoKT9oOjA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YocixcblwiZW5cIik/XCJlblwiOnJbMF0pLGcubGFuZ0VudHJpZXMmJmcubGFuZ0VudHJpZXNbaF0/KGEubGFuZ1tuXT1nLmxhbmdFbnRyaWVzW2hdLGg9bnVsbCk6Zi5wdXNoKENLRURJVE9SLmdldFVybChnLnBhdGgrXCJsYW5nL1wiK2grXCIuanNcIikpKTtlLnB1c2goaCk7ZC5wdXNoKGcpfUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGYsZnVuY3Rpb24oKXtmb3IodmFyIGI9W1wiYmVmb3JlSW5pdFwiLFwiaW5pdFwiLFwiYWZ0ZXJJbml0XCJdLGY9MDtmPGIubGVuZ3RoO2YrKylmb3IodmFyIGw9MDtsPGQubGVuZ3RoO2wrKyl7dmFyIG49ZFtsXTswPT09ZiYmZVtsXSYmbi5sYW5nJiZuLmxhbmdFbnRyaWVzJiYoYS5sYW5nW24ubmFtZV09bi5sYW5nRW50cmllc1tlW2xdXSk7aWYobltiW2ZdXSluW2JbZl1dKGEpfWEuZmlyZU9uY2UoXCJwbHVnaW5zTG9hZGVkXCIpO2Mua2V5c3Ryb2tlcyYmYS5zZXRLZXlzdHJva2UoYS5jb25maWcua2V5c3Ryb2tlcyk7Zm9yKGw9MDtsPGEuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzLmxlbmd0aDtsKyspYS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzW2EuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzW2xdXT1cbjE7YS5zdGF0dXM9XCJsb2FkZWRcIjthLmZpcmVPbmNlKFwibG9hZGVkXCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUxvYWRlZFwiLG51bGwsYSl9KX0pfWZ1bmN0aW9uIHcoKXt2YXIgYT10aGlzLmVsZW1lbnQ7aWYoYSYmdGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKXt2YXIgYj10aGlzLmdldERhdGEoKTt0aGlzLmNvbmZpZy5odG1sRW5jb2RlT3V0cHV0JiYoYj1DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIpKTthLmlzKFwidGV4dGFyZWFcIik/YS5zZXRWYWx1ZShiKTphLnNldEh0bWwoYik7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24geihhLGIpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9YS5zdGFydENvbnRhaW5lcixkPWEuZW5kQ29udGFpbmVyO3JldHVybiBiLmlzJiYoYi5pcyhcInRyXCIpfHxiLmlzKFwidGRcIikmJmIuZXF1YWxzKGQpJiZhLmVuZE9mZnNldD09PWIuZ2V0Q2hpbGRDb3VudCgpKT8hMDohMX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXI7XG5yZXR1cm4gYi5pcyhcInRyXCIpP2EuY2xvbmVDb250ZW50cygpOmIuY2xvbmUoITApfWZvcih2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZixnLGssaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgTj1hW2hdLHQ9Ti5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoXCJ0clwiLCEwKTtjKE4pPyhmfHwoZj10LmdldEFzY2VuZGFudChcInRhYmxlXCIpLmNsb25lKCksZi5hcHBlbmQodC5nZXRBc2NlbmRhbnQoe3RoZWFkOjEsdGJvZHk6MSx0Zm9vdDoxfSkuY2xvbmUoKSksZS5hcHBlbmQoZiksZj1mLmZpbmRPbmUoXCJ0aGVhZCwgdGJvZHksIHRmb290XCIpKSxnJiZnLmVxdWFscyh0KXx8KGc9dCxrPXQuY2xvbmUoKSxmLmFwcGVuZChrKSksay5hcHBlbmQoZChOKSkpOmUuYXBwZW5kKE4uY2xvbmVDb250ZW50cygpKX1yZXR1cm4gZj9lOmIuZ2V0SHRtbEZyb21SYW5nZShhWzBdKX1hLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1cbmE7dmFyIEY9MCx2PXt9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtwbHVnaW5zOntkZXRlY3RDb25mbGljdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKHRoaXNbZF0pcmV0dXJuIENLRURJVE9SLndhcm4oXCJlZGl0b3ItcGx1Z2luLWNvbmZsaWN0XCIse3BsdWdpbjphLHJlcGxhY2VkV2l0aDpkfSksITB9cmV0dXJuITF9fSxhZGRDb21tYW5kOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPWEudG9Mb3dlckNhc2UoKTt2YXIgYz1iIGluc3RhbmNlb2YgQ0tFRElUT1IuY29tbWFuZD9iOm5ldyBDS0VESVRPUi5jb21tYW5kKHRoaXMsYik7dGhpcy5tb2RlJiZmKHRoaXMsYyk7cmV0dXJuIHRoaXMuY29tbWFuZHNbYV09Y30sX2F0dGFjaFRvRm9ybTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yy51cGRhdGVFbGVtZW50KCk7Yy5fLnJlcXVpcmVkJiYhZC5nZXRWYWx1ZSgpJiYhMT09PWMuZmlyZShcInJlcXVpcmVkXCIpJiZcbmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGIoYSl7cmV0dXJuISEoYSYmYS5jYWxsJiZhLmFwcGx5KX12YXIgYz10aGlzLGQ9Yy5lbGVtZW50LGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQuJC5mb3JtKTtkLmlzKFwidGV4dGFyZWFcIikmJmYmJihmLm9uKFwic3VibWl0XCIsYSksYihmLiQuc3VibWl0KSYmKGYuJC5zdWJtaXQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoZi4kLnN1Ym1pdCxmdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXthKCk7Yi5hcHBseT9iLmFwcGx5KHRoaXMpOmIoKX19KSksYy5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2YucmVtb3ZlTGlzdGVuZXIoXCJzdWJtaXRcIixhKX0pKX0sZGVzdHJveTpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzLGM9dGhpczt0aGlzLmZpcmUoXCJiZWZvcmVEZXN0cm95XCIpOyFhJiZ3LmNhbGwodGhpcyk7dGhpcy5lZGl0YWJsZShudWxsKTt0aGlzLmZpbHRlciYmZGVsZXRlIHRoaXMuZmlsdGVyO1xuQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChDS0VESVRPUi50b29scy5vYmplY3RLZXlzKGIpLGZ1bmN0aW9uKGEpe2E9YlthXTtjPT09YS5lZGl0b3ImJmEuZGVzdHJveSgpfSk7ZGVsZXRlIHRoaXMuYWN0aXZlRmlsdGVyO3RoaXMuc3RhdHVzPVwiZGVzdHJveWVkXCI7dGhpcy5maXJlKFwiZGVzdHJveVwiKTt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO0NLRURJVE9SLnJlbW92ZSh0aGlzKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixudWxsLHRoaXMpfSxlbGVtZW50UGF0aDpmdW5jdGlvbihhKXtpZighYSl7YT10aGlzLmdldFNlbGVjdGlvbigpO2lmKCFhKXJldHVybiBudWxsO2E9YS5nZXRTdGFydEVsZW1lbnQoKX1yZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEsdGhpcy5lZGl0YWJsZSgpKTpudWxsfSxjcmVhdGVSYW5nZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdGFibGUoKTtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpOlxubnVsbH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1hbmQoYSksZD17bmFtZTphLGNvbW1hbmREYXRhOmJ8fHt9LGNvbW1hbmQ6Y307cmV0dXJuIGMmJmMuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhMSE9PXRoaXMuZmlyZShcImJlZm9yZUNvbW1hbmRFeGVjXCIsZCkmJihkLnJldHVyblZhbHVlPWMuZXhlYyhkLmNvbW1hbmREYXRhKSwhYy5hc3luYyYmITEhPT10aGlzLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIsZCkpP2QucmV0dXJuVmFsdWU6ITF9LGdldENvbW1hbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29tbWFuZHNbYV19LGdldERhdGE6ZnVuY3Rpb24oYSl7IWEmJnRoaXMuZmlyZShcImJlZm9yZUdldERhdGFcIik7dmFyIGI9dGhpcy5fLmRhdGE7XCJzdHJpbmdcIiE9dHlwZW9mIGImJihiPShiPXRoaXMuZWxlbWVudCkmJnRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2IuaXMoXCJ0ZXh0YXJlYVwiKT9cbmIuZ2V0VmFsdWUoKTpiLmdldEh0bWwoKTpcIlwiKTtiPXtkYXRhVmFsdWU6Yn07IWEmJnRoaXMuZmlyZShcImdldERhdGFcIixiKTtyZXR1cm4gYi5kYXRhVmFsdWV9LGdldFNuYXBzaG90OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maXJlKFwiZ2V0U25hcHNob3RcIik7XCJzdHJpbmdcIiE9dHlwZW9mIGEmJihhPShhPXRoaXMuZWxlbWVudCkmJnRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2EuaXMoXCJ0ZXh0YXJlYVwiKT9hLmdldFZhbHVlKCk6YS5nZXRIdG1sKCk6XCJcIik7cmV0dXJuIGF9LGxvYWRTbmFwc2hvdDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJsb2FkU25hcHNob3RcIixhKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9ITAsZj1iO2ImJlwib2JqZWN0XCI9PXR5cGVvZiBiJiYoYz1iLmludGVybmFsLGY9Yi5jYWxsYmFjayxkPSFiLm5vU25hcHNob3QpOyFjJiZkJiZ0aGlzLmZpcmUoXCJzYXZlU25hcHNob3RcIik7aWYoZnx8IWMpdGhpcy5vbmNlKFwiZGF0YVJlYWR5XCIsXG5mdW5jdGlvbihhKXshYyYmZCYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2YmJmYuY2FsbChhLmVkaXRvcil9KTthPXtkYXRhVmFsdWU6YX07IWMmJnRoaXMuZmlyZShcInNldERhdGFcIixhKTt0aGlzLl8uZGF0YT1hLmRhdGFWYWx1ZTshYyYmdGhpcy5maXJlKFwiYWZ0ZXJTZXREYXRhXCIsYSl9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe2E9bnVsbD09YXx8YTt0aGlzLnJlYWRPbmx5IT1hJiYodGhpcy5yZWFkT25seT1hLHRoaXMua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT0rYSx0aGlzLmVkaXRhYmxlKCkuc2V0UmVhZE9ubHkoYSksdGhpcy5maXJlKFwicmVhZE9ubHlcIikpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKGEsYixjKXt0aGlzLmZpcmUoXCJpbnNlcnRIdG1sXCIse2RhdGFWYWx1ZTphLG1vZGU6YixyYW5nZTpjfSl9LGluc2VydFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiaW5zZXJ0VGV4dFwiLGEpfSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydEVsZW1lbnRcIixcbmEpfSxnZXRTZWxlY3RlZEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0YWJsZSgpLGM9dGhpcy5nZXRTZWxlY3Rpb24oKSxjPWMmJmMuZ2V0UmFuZ2VzKCk7aWYoIWJ8fCFjfHwwPT09Yy5sZW5ndGgpcmV0dXJuIG51bGw7Yj16KGMsYik7cmV0dXJuIGE/Yi5nZXRIdG1sKCk6Yn0sZXh0cmFjdFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRpdGFibGUoKSxkPXRoaXMuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZTtpZighY3x8MD09PWQubGVuZ3RoKXJldHVybiBudWxsO2ZvcihlPTA7ZTxkLmxlbmd0aDtlKyspZi5hcHBlbmQoYy5leHRyYWN0SHRtbEZyb21SYW5nZShkW2VdLGIpKTtifHx0aGlzLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZFswXV0pO3JldHVybiBhP2YuZ2V0SHRtbCgpOmZ9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5maXJlKFwiYmVmb3JlRm9jdXNcIil9LGNoZWNrRGlydHk6ZnVuY3Rpb24oKXtyZXR1cm5cInJlYWR5XCI9PVxudGhpcy5zdGF0dXMmJnRoaXMuXy5wcmV2aW91c1ZhbHVlIT09dGhpcy5nZXRTbmFwc2hvdCgpfSxyZXNldERpcnR5OmZ1bmN0aW9uKCl7dGhpcy5fLnByZXZpb3VzVmFsdWU9dGhpcy5nZXRTbmFwc2hvdCgpfSx1cGRhdGVFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHcuY2FsbCh0aGlzKX0sc2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzLGI9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhcmd1bWVudHNbMF0pP2FyZ3VtZW50c1swXTpbW10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCldLGMsZCxmPWIubGVuZ3RoO2YtLTspYz1iW2ZdLGQ9MCxDS0VESVRPUi50b29scy5pc0FycmF5KGMpJiYoZD1jWzFdLGM9Y1swXSksZD9hW2NdPWQ6ZGVsZXRlIGFbY119LGdldENvbW1hbmRLZXlzdHJva2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1cInN0cmluZ1wiPT09dHlwZW9mIGE/dGhpcy5nZXRDb21tYW5kKGEpOmEsZD1bXTtpZihjKXt2YXIgZj1cbkNLRURJVE9SLnRvb2xzLm9iamVjdC5maW5kS2V5KHRoaXMuY29tbWFuZHMsYyksZT10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcztpZihjLmZha2VLZXlzdHJva2UpZC5wdXNoKGMuZmFrZUtleXN0cm9rZSk7ZWxzZSBmb3IodmFyIGcgaW4gZSllW2ddPT09ZiYmZC5wdXNoKGcpfXJldHVybiBiP2Q6ZFswXXx8bnVsbH0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXIuYWRkRmVhdHVyZShhKX0sc2V0QWN0aXZlRmlsdGVyOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMuZmlsdGVyKTt0aGlzLmFjdGl2ZUZpbHRlciE9PWEmJih0aGlzLmFjdGl2ZUZpbHRlcj1hLHRoaXMuZmlyZShcImFjdGl2ZUZpbHRlckNoYW5nZVwiKSxhPT09dGhpcy5maWx0ZXI/dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUobnVsbCxudWxsKTp0aGlzLnNldEFjdGl2ZUVudGVyTW9kZShhLmdldEFsbG93ZWRFbnRlck1vZGUodGhpcy5lbnRlck1vZGUpLGEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLnNoaWZ0RW50ZXJNb2RlLFxuITApKSl9LHNldEFjdGl2ZUVudGVyTW9kZTpmdW5jdGlvbihhLGIpe2E9YT90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjphOnRoaXMuZW50ZXJNb2RlO2I9Yj90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpiOnRoaXMuc2hpZnRFbnRlck1vZGU7aWYodGhpcy5hY3RpdmVFbnRlck1vZGUhPWF8fHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGUhPWIpdGhpcy5hY3RpdmVFbnRlck1vZGU9YSx0aGlzLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWIsdGhpcy5maXJlKFwiYWN0aXZlRW50ZXJNb2RlQ2hhbmdlXCIpfSxzaG93Tm90aWZpY2F0aW9uOmZ1bmN0aW9uKGEpe2FsZXJ0KGEpfX0pfSkoKTtDS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORT0wO0NLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPTE7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTI7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT0zO1xuQ0tFRElUT1IuaHRtbFBhcnNlcj1mdW5jdGlvbigpe3RoaXMuXz17aHRtbFBhcnRzUmVnZXg6LzwoPzooPzpcXC8oW14+XSspPil8KD86IS0tKFtcXFN8XFxzXSo/KS0tXFx4M2UpfCg/OihbXlxcL1xccz5dKykoKD86XFxzK1tcXHdcXC06Ll0rKD86XFxzKj1cXHMqPyg/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfFteXFxzXCInXFwvPl0rKSk/KSopW1xcU1xcc10qPyhcXC8/KT4pKS9nfX07XG4oZnVuY3Rpb24oKXt2YXIgYT0vKFtcXHdcXC06Ll0rKSg/Oig/Olxccyo9XFxzKig/Oig/OlwiKFteXCJdKilcIil8KD86JyhbXiddKiknKXwoW15cXHM+XSspKSl8KD89XFxzfCQpKS9nLGQ9e2NoZWNrZWQ6MSxjb21wYWN0OjEsZGVjbGFyZToxLGRlZmVyOjEsZGlzYWJsZWQ6MSxpc21hcDoxLG11bHRpcGxlOjEsbm9ocmVmOjEsbm9yZXNpemU6MSxub3NoYWRlOjEsbm93cmFwOjEscmVhZG9ubHk6MSxzZWxlY3RlZDoxfTtDS0VESVRPUi5odG1sUGFyc2VyLnByb3RvdHlwZT17b25UYWdPcGVuOmZ1bmN0aW9uKCl7fSxvblRhZ0Nsb3NlOmZ1bmN0aW9uKCl7fSxvblRleHQ6ZnVuY3Rpb24oKXt9LG9uQ0RBVEE6ZnVuY3Rpb24oKXt9LG9uQ29tbWVudDpmdW5jdGlvbigpe30scGFyc2U6ZnVuY3Rpb24oYil7Zm9yKHZhciBjLGYsZz0wLGs7Yz10aGlzLl8uaHRtbFBhcnRzUmVnZXguZXhlYyhiKTspe2Y9Yy5pbmRleDtpZihmPmcpaWYoZz1iLnN1YnN0cmluZyhnLGYpLGspay5wdXNoKGcpO2Vsc2UgdGhpcy5vblRleHQoZyk7XG5nPXRoaXMuXy5odG1sUGFydHNSZWdleC5sYXN0SW5kZXg7aWYoZj1jWzFdKWlmKGY9Zi50b0xvd2VyQ2FzZSgpLGsmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZl0mJih0aGlzLm9uQ0RBVEEoay5qb2luKFwiXCIpKSxrPW51bGwpLCFrKXt0aGlzLm9uVGFnQ2xvc2UoZik7Y29udGludWV9aWYoaylrLnB1c2goY1swXSk7ZWxzZSBpZihmPWNbM10pe2lmKGY9Zi50b0xvd2VyQ2FzZSgpLCEvPVwiLy50ZXN0KGYpKXt2YXIgaD17fSxwLHE9Y1s0XTtjPSEhY1s1XTtpZihxKWZvcig7cD1hLmV4ZWMocSk7KXt2YXIgZT1wWzFdLnRvTG93ZXJDYXNlKCk7cD1wWzJdfHxwWzNdfHxwWzRdfHxcIlwiO2hbZV09IXAmJmRbZV0/ZTpDS0VESVRPUi50b29scy5odG1sRGVjb2RlQXR0cihwKX10aGlzLm9uVGFnT3BlbihmLGgsYyk7IWsmJkNLRURJVE9SLmR0ZC4kY2RhdGFbZl0mJihrPVtdKX19ZWxzZSBpZihmPWNbMl0pdGhpcy5vbkNvbW1lbnQoZil9aWYoYi5sZW5ndGg+Zyl0aGlzLm9uVGV4dChiLnN1YnN0cmluZyhnLFxuYi5sZW5ndGgpKX19fSkoKTtcbkNLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oKXt0aGlzLl89e291dHB1dDpbXX19LHByb3RvOntvcGVuVGFnOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjXCIsYSl9LG9wZW5UYWdDbG9zZTpmdW5jdGlvbihhLGQpe2Q/dGhpcy5fLm91dHB1dC5wdXNoKFwiIC9cXHgzZVwiKTp0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKX0sYXR0cmlidXRlOmZ1bmN0aW9uKGEsZCl7XCJzdHJpbmdcIj09dHlwZW9mIGQmJihkPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGQpKTt0aGlzLl8ub3V0cHV0LnB1c2goXCIgXCIsYSwnXFx4M2RcIicsZCwnXCInKX0sY2xvc2VUYWc6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MvXCIsYSxcIlxceDNlXCIpfSx0ZXh0OmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzYyEtLVwiLGEsXG5cIi0tXFx4M2VcIil9LHdyaXRlOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChhKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8ub3V0cHV0PVtdO3RoaXMuXy5pbmRlbnQ9ITF9LGdldEh0bWw6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5fLm91dHB1dC5qb2luKFwiXCIpO2EmJnRoaXMucmVzZXQoKTtyZXR1cm4gZH19fSk7XCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGU9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZS5wcm90b3R5cGU9e3JlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50LmNoaWxkcmVuLGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLHRoaXMpLGI9dGhpcy5wcmV2aW91cyxjPXRoaXMubmV4dDtiJiYoYi5uZXh0PWMpO2MmJihjLnByZXZpb3VzPWIpO2Euc3BsaWNlKGQsMSk7dGhpcy5wYXJlbnQ9bnVsbH0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGQsdGhpcyksYz1hLnByZXZpb3VzPXRoaXMucHJldmlvdXMsZj1hLm5leHQ9dGhpcy5uZXh0O2MmJihjLm5leHQ9YSk7ZiYmKGYucHJldmlvdXM9YSk7ZFtiXT1hO2EucGFyZW50PXRoaXMucGFyZW50O3RoaXMucGFyZW50PW51bGx9LGluc2VydEFmdGVyOmZ1bmN0aW9uKGEpe3ZhciBkPWEucGFyZW50LmNoaWxkcmVuLFxuYj1DS0VESVRPUi50b29scy5pbmRleE9mKGQsYSksYz1hLm5leHQ7ZC5zcGxpY2UoYisxLDAsdGhpcyk7dGhpcy5uZXh0PWEubmV4dDt0aGlzLnByZXZpb3VzPWE7YS5uZXh0PXRoaXM7YyYmKGMucHJldmlvdXM9dGhpcyk7dGhpcy5wYXJlbnQ9YS5wYXJlbnR9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXt2YXIgZD1hLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZCxhKTtkLnNwbGljZShiLDAsdGhpcyk7dGhpcy5uZXh0PWE7KHRoaXMucHJldmlvdXM9YS5wcmV2aW91cykmJihhLnByZXZpb3VzLm5leHQ9dGhpcyk7YS5wcmV2aW91cz10aGlzO3RoaXMucGFyZW50PWEucGFyZW50fSxnZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSl7dmFyIGQ9XCJmdW5jdGlvblwiPT10eXBlb2YgYT9hOlwic3RyaW5nXCI9PXR5cGVvZiBhP2Z1bmN0aW9uKGIpe3JldHVybiBiLm5hbWU9PWF9OmZ1bmN0aW9uKGIpe3JldHVybiBiLm5hbWUgaW4gYX0sYj10aGlzLnBhcmVudDtmb3IoO2ImJlxuYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ7KXtpZihkKGIpKXJldHVybiBiO2I9Yi5wYXJlbnR9cmV0dXJuIG51bGx9LHdyYXBXaXRoOmZ1bmN0aW9uKGEpe3RoaXMucmVwbGFjZVdpdGgoYSk7YS5hZGQodGhpcyk7cmV0dXJuIGF9LGdldEluZGV4OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5wYXJlbnQuY2hpbGRyZW4sdGhpcyl9LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fHt9fX19KSgpO1widXNlIHN0cmljdFwiO0NLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudD1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWE7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMX19O1xuQ0tFRElUT1IuaHRtbFBhcnNlci5jb21tZW50LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZmlsdGVyOmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy52YWx1ZTtpZighKGI9YS5vbkNvbW1lbnQoZCxiLHRoaXMpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMTtpZihcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChiKSwhMTt0aGlzLnZhbHVlPWI7cmV0dXJuITB9LHdyaXRlSHRtbDpmdW5jdGlvbihhLGQpe2QmJnRoaXMuZmlsdGVyKGQpO2EuY29tbWVudCh0aGlzLnZhbHVlKX19KTtcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dD1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWE7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMX19O0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULGZpbHRlcjpmdW5jdGlvbihhLGQpe2lmKCEodGhpcy52YWx1ZT1hLm9uVGV4dChkLHRoaXMudmFsdWUsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExfSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxkKXtkJiZ0aGlzLmZpbHRlcihkKTthLnRleHQodGhpcy52YWx1ZSl9fSl9KSgpO1widXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YT1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWF9O0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oKXt9LHdyaXRlSHRtbDpmdW5jdGlvbihhKXthLndyaXRlKHRoaXMudmFsdWUpfX0pfSkoKTtcInVzZSBzdHJpY3RcIjtDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbj1bXTt0aGlzLnBhcmVudD1udWxsO3RoaXMuXz17aXNCbG9ja0xpa2U6ITAsaGFzSW5saW5lU3RhcnRlZDohMX19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utc3Vydml2ZVwiXT8hMTpcImFcIj09YS5uYW1lJiZhLmF0dHJpYnV0ZXMuaHJlZnx8Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVthLm5hbWVdfXZhciBkPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7dGFibGU6MSx1bDoxLG9sOjEsZGw6MX0sQ0tFRElUT1IuZHRkLnRhYmxlLENLRURJVE9SLmR0ZC51bCxDS0VESVRPUi5kdGQub2wsQ0tFRElUT1IuZHRkLmRsKSxiPXtvbDoxLHVsOjF9LGM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHtodG1sOjF9LENLRURJVE9SLmR0ZC5odG1sLENLRURJVE9SLmR0ZC5ib2R5LENLRURJVE9SLmR0ZC5oZWFkLHtzdHlsZToxLHNjcmlwdDoxfSksZj17dWw6XCJsaVwiLG9sOlwibGlcIixkbDpcImRkXCIsdGFibGU6XCJ0Ym9keVwiLHRib2R5OlwidHJcIix0aGVhZDpcInRyXCIsdGZvb3Q6XCJ0clwiLHRyOlwidGRcIn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbD1cbmZ1bmN0aW9uKGcsayxoKXtmdW5jdGlvbiBwKGEpe3ZhciBiO2lmKDA8bS5sZW5ndGgpZm9yKHZhciBjPTA7YzxtLmxlbmd0aDtjKyspe3ZhciBkPW1bY10sZj1kLm5hbWUsZT1DS0VESVRPUi5kdGRbZl0sbj11Lm5hbWUmJkNLRURJVE9SLmR0ZFt1Lm5hbWVdO24mJiFuW2ZdfHxhJiZlJiYhZVthXSYmQ0tFRElUT1IuZHRkW2FdP2Y9PXUubmFtZSYmKHgodSx1LnBhcmVudCwxKSxjLS0pOihifHwocSgpLGI9MSksZD1kLmNsb25lKCksZC5wYXJlbnQ9dSx1PWQsbS5zcGxpY2UoYywxKSxjLS0pfX1mdW5jdGlvbiBxKCl7Zm9yKDtNLmxlbmd0aDspeChNLnNoaWZ0KCksdSl9ZnVuY3Rpb24gZShhKXtpZihhLl8uaXNCbG9ja0xpa2UmJlwicHJlXCIhPWEubmFtZSYmXCJ0ZXh0YXJlYVwiIT1hLm5hbWUpe3ZhciBiPWEuY2hpbGRyZW4ubGVuZ3RoLGM9YS5jaGlsZHJlbltiLTFdLGQ7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJigoZD1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSk/XG5jLnZhbHVlPWQ6YS5jaGlsZHJlbi5sZW5ndGg9Yi0xKX19ZnVuY3Rpb24geChiLGMsZCl7Yz1jfHx1fHx2O3ZhciBmPXU7dm9pZCAwPT09Yi5wcmV2aW91cyYmKHcoYyxiKSYmKHU9YyxGLm9uVGFnT3BlbihoLHt9KSxiLnJldHVyblBvaW50PWM9dSksZShiKSxhKGIpJiYhYi5jaGlsZHJlbi5sZW5ndGh8fGMuYWRkKGIpLFwicHJlXCI9PWIubmFtZSYmKG49ITEpLFwidGV4dGFyZWFcIj09Yi5uYW1lJiYoSD0hMSkpO2IucmV0dXJuUG9pbnQ/KHU9Yi5yZXR1cm5Qb2ludCxkZWxldGUgYi5yZXR1cm5Qb2ludCk6dT1kP2M6Zn1mdW5jdGlvbiB3KGEsYil7aWYoKGE9PXZ8fFwiYm9keVwiPT1hLm5hbWUpJiZoJiYoIWEubmFtZXx8Q0tFRElUT1IuZHRkW2EubmFtZV1baF0pKXt2YXIgYyxkO3JldHVybihjPWIuYXR0cmlidXRlcyYmKGQ9Yi5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcmVhbC1lbGVtZW50LXR5cGVcIl0pP2Q6Yi5uYW1lKSYmYyBpbiBDS0VESVRPUi5kdGQuJGlubGluZSYmIShjIGluIENLRURJVE9SLmR0ZC5oZWFkKSYmXG4hYi5pc09ycGhhbnx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR9fWZ1bmN0aW9uIHooYSxiKXtyZXR1cm4gYSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtfHxhIGluIENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50P2E9PWJ8fFwiZHRcIj09YSYmXCJkZFwiPT1ifHxcImRkXCI9PWEmJlwiZHRcIj09YjohMX12YXIgRj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlcix2PWsgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/azpcInN0cmluZ1wiPT10eXBlb2Ygaz9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGspOm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LG09W10sTT1bXSx1PXYsSD1cInRleHRhcmVhXCI9PXYubmFtZSxuPVwicHJlXCI9PXYubmFtZTtGLm9uVGFnT3Blbj1mdW5jdGlvbihmLGUsZyxrKXtlPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZixlKTtlLmlzVW5rbm93biYmZyYmKGUuaXNFbXB0eT0hMCk7ZS5pc09wdGlvbmFsQ2xvc2U9aztcbmlmKGEoZSkpbS5wdXNoKGUpO2Vsc2V7aWYoXCJwcmVcIj09ZiluPSEwO2Vsc2V7aWYoXCJiclwiPT1mJiZuKXt1LmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiXFxuXCIpKTtyZXR1cm59XCJ0ZXh0YXJlYVwiPT1mJiYoSD0hMCl9aWYoXCJiclwiPT1mKU0ucHVzaChlKTtlbHNle2Zvcig7IShrPShnPXUubmFtZSk/Q0tFRElUT1IuZHRkW2ddfHwodS5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmMsZS5pc1Vua25vd258fHUuaXNVbmtub3dufHxrW2ZdKTspaWYodS5pc09wdGlvbmFsQ2xvc2UpRi5vblRhZ0Nsb3NlKGcpO2Vsc2UgaWYoZiBpbiBiJiZnIGluIGIpZz11LmNoaWxkcmVuLChnPWdbZy5sZW5ndGgtMV0pJiZcImxpXCI9PWcubmFtZXx8eChnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJsaVwiKSx1KSwhZS5yZXR1cm5Qb2ludCYmKGUucmV0dXJuUG9pbnQ9dSksdT1nO2Vsc2UgaWYoZiBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiZcbiF6KGYsZykpRi5vblRhZ09wZW4oXCJsaVwiPT1mP1widWxcIjpcImRsXCIse30sMCwxKTtlbHNlIGlmKGcgaW4gZCYmIXooZixnKSkhZS5yZXR1cm5Qb2ludCYmKGUucmV0dXJuUG9pbnQ9dSksdT11LnBhcmVudDtlbHNlIGlmKGcgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJm0udW5zaGlmdCh1KSx1LnBhcmVudCl4KHUsdS5wYXJlbnQsMSk7ZWxzZXtlLmlzT3JwaGFuPTE7YnJlYWt9cChmKTtxKCk7ZS5wYXJlbnQ9dTtlLmlzRW1wdHk/eChlKTp1PWV9fX07Ri5vblRhZ0Nsb3NlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1tLmxlbmd0aC0xOzA8PWI7Yi0tKWlmKGE9PW1bYl0ubmFtZSl7bS5zcGxpY2UoYiwxKTtyZXR1cm59Zm9yKHZhciBjPVtdLGQ9W10sZj11O2YhPXYmJmYubmFtZSE9YTspZi5fLmlzQmxvY2tMaWtlfHxkLnVuc2hpZnQoZiksYy5wdXNoKGYpLGY9Zi5yZXR1cm5Qb2ludHx8Zi5wYXJlbnQ7aWYoZiE9dil7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7dmFyIGU9Y1tiXTt4KGUsZS5wYXJlbnQpfXU9XG5mO2YuXy5pc0Jsb2NrTGlrZSYmcSgpO3goZixmLnBhcmVudCk7Zj09dSYmKHU9dS5wYXJlbnQpO209bS5jb25jYXQoZCl9XCJib2R5XCI9PWEmJihoPSExKX07Ri5vblRleHQ9ZnVuY3Rpb24oYSl7aWYoISh1Ll8uaGFzSW5saW5lU3RhcnRlZCYmIU0ubGVuZ3RofHxufHxIKSYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYSksMD09PWEubGVuZ3RoKSlyZXR1cm47dmFyIGI9dS5uYW1lLGU9Yj9DS0VESVRPUi5kdGRbYl18fCh1Ll8uaXNCbG9ja0xpa2U/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YztpZighSCYmIWVbXCIjXCJdJiZiIGluIGQpRi5vblRhZ09wZW4oZltiXXx8XCJcIiksRi5vblRleHQoYSk7ZWxzZXtxKCk7cCgpO258fEh8fChhPWEucmVwbGFjZSgvW1xcdFxcclxcbiBdezIsfXxbXFx0XFxyXFxuXS9nLFwiIFwiKSk7YT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEpO2lmKHcodSxhKSl0aGlzLm9uVGFnT3BlbihoLHt9LDAsMSk7dS5hZGQoYSl9fTtGLm9uQ0RBVEE9XG5mdW5jdGlvbihhKXt1LmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YShhKSl9O0Yub25Db21tZW50PWZ1bmN0aW9uKGEpe3EoKTtwKCk7dS5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudChhKSl9O0YucGFyc2UoZyk7Zm9yKHEoKTt1IT12Oyl4KHUsdS5wYXJlbnQsMSk7ZSh2KTtyZXR1cm4gdn07Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU9e3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCxhZGQ6ZnVuY3Rpb24oYSxiKXtpc05hTihiKSYmKGI9dGhpcy5jaGlsZHJlbi5sZW5ndGgpO3ZhciBjPTA8Yj90aGlzLmNoaWxkcmVuW2ItMV06bnVsbDtpZihjKXtpZihhLl8uaXNCbG9ja0xpa2UmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYy52YWx1ZT1DS0VESVRPUi50b29scy5ydHJpbShjLnZhbHVlKSwwPT09Yy52YWx1ZS5sZW5ndGgpKXt0aGlzLmNoaWxkcmVuLnBvcCgpO3RoaXMuYWRkKGEpO3JldHVybn1jLm5leHQ9XG5hfWEucHJldmlvdXM9YzthLnBhcmVudD10aGlzO3RoaXMuY2hpbGRyZW4uc3BsaWNlKGIsMCxhKTt0aGlzLl8uaGFzSW5saW5lU3RhcnRlZHx8KHRoaXMuXy5oYXNJbmxpbmVTdGFydGVkPWEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuXy5pc0Jsb2NrTGlrZSl9LGZpbHRlcjpmdW5jdGlvbihhLGIpe2I9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGIpO2Eub25Sb290KGIsdGhpcyk7dGhpcy5maWx0ZXJDaGlsZHJlbihhLCExLGIpfSxmaWx0ZXJDaGlsZHJlbjpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5jaGlsZHJlbkZpbHRlcmVkQnkhPWEuaWQpe2M9dGhpcy5nZXRGaWx0ZXJDb250ZXh0KGMpO2lmKGImJiF0aGlzLnBhcmVudClhLm9uUm9vdChjLHRoaXMpO3RoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5PWEuaWQ7Zm9yKGI9MDtiPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO2IrKykhMT09PXRoaXMuY2hpbGRyZW5bYl0uZmlsdGVyKGEsXG5jKSYmYi0tfX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsYil7YiYmdGhpcy5maWx0ZXIoYik7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKX0sd3JpdGVDaGlsZHJlbkh0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZ2V0RmlsdGVyQ29udGV4dCgpO2lmKGMmJiF0aGlzLnBhcmVudCYmYiliLm9uUm9vdChkLHRoaXMpO2ImJnRoaXMuZmlsdGVyQ2hpbGRyZW4oYiwhMSxkKTtiPTA7Yz10aGlzLmNoaWxkcmVuO2ZvcihkPWMubGVuZ3RoO2I8ZDtiKyspY1tiXS53cml0ZUh0bWwoYSl9LGZvckVhY2g6ZnVuY3Rpb24oYSxiLGMpe2lmKCEoY3x8YiYmdGhpcy50eXBlIT1iKSl2YXIgZD1hKHRoaXMpO2lmKCExIT09ZCl7Yz10aGlzLmNoaWxkcmVuO2Zvcih2YXIgZj0wO2Y8Yy5sZW5ndGg7ZisrKWQ9Y1tmXSxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kLmZvckVhY2goYSxiKTpiJiZkLnR5cGUhPWJ8fGEoZCl9fSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhfHxcbnt9fX19KSgpO1widXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RoaXMucnVsZXM9W119ZnVuY3Rpb24gZChiLGMsZCxnKXt2YXIgayxoO2ZvcihrIGluIGMpKGg9YltrXSl8fChoPWJba109bmV3IGEpLGguYWRkKGNba10sZCxnKX1DS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiKXt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLmVsZW1lbnROYW1lUnVsZXM9bmV3IGE7dGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXM9bmV3IGE7dGhpcy5lbGVtZW50c1J1bGVzPXt9O3RoaXMuYXR0cmlidXRlc1J1bGVzPXt9O3RoaXMudGV4dFJ1bGVzPW5ldyBhO3RoaXMuY29tbWVudFJ1bGVzPW5ldyBhO3RoaXMucm9vdFJ1bGVzPW5ldyBhO2ImJnRoaXMuYWRkUnVsZXMoYiwxMCl9LHByb3RvOnthZGRSdWxlczpmdW5jdGlvbihhLGMpe3ZhciBmO1wibnVtYmVyXCI9PXR5cGVvZiBjP2Y9YzpjJiZcInByaW9yaXR5XCJpbiBjJiYoZj1cbmMucHJpb3JpdHkpO1wibnVtYmVyXCIhPXR5cGVvZiBmJiYoZj0xMCk7XCJvYmplY3RcIiE9dHlwZW9mIGMmJihjPXt9KTthLmVsZW1lbnROYW1lcyYmdGhpcy5lbGVtZW50TmFtZVJ1bGVzLmFkZE1hbnkoYS5lbGVtZW50TmFtZXMsZixjKTthLmF0dHJpYnV0ZU5hbWVzJiZ0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5hZGRNYW55KGEuYXR0cmlidXRlTmFtZXMsZixjKTthLmVsZW1lbnRzJiZkKHRoaXMuZWxlbWVudHNSdWxlcyxhLmVsZW1lbnRzLGYsYyk7YS5hdHRyaWJ1dGVzJiZkKHRoaXMuYXR0cmlidXRlc1J1bGVzLGEuYXR0cmlidXRlcyxmLGMpO2EudGV4dCYmdGhpcy50ZXh0UnVsZXMuYWRkKGEudGV4dCxmLGMpO2EuY29tbWVudCYmdGhpcy5jb21tZW50UnVsZXMuYWRkKGEuY29tbWVudCxmLGMpO2Eucm9vdCYmdGhpcy5yb290UnVsZXMuYWRkKGEucm9vdCxmLGMpfSxhcHBseVRvOmZ1bmN0aW9uKGEpe2EuZmlsdGVyKHRoaXMpfSxvbkVsZW1lbnROYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuZWxlbWVudE5hbWVSdWxlcy5leGVjT25OYW1lKGEsXG5jKX0sb25BdHRyaWJ1dGVOYW1lOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuYXR0cmlidXRlTmFtZVJ1bGVzLmV4ZWNPbk5hbWUoYSxjKX0sb25UZXh0OmZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy50ZXh0UnVsZXMuZXhlYyhhLGMsZCl9LG9uQ29tbWVudDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMuY29tbWVudFJ1bGVzLmV4ZWMoYSxjLGQpfSxvblJvb3Q6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5yb290UnVsZXMuZXhlYyhhLGMpfSxvbkVsZW1lbnQ6ZnVuY3Rpb24oYSxjKXtmb3IodmFyIGQ9W3RoaXMuZWxlbWVudHNSdWxlc1tcIl5cIl0sdGhpcy5lbGVtZW50c1J1bGVzW2MubmFtZV0sdGhpcy5lbGVtZW50c1J1bGVzLiRdLGcsaz0wOzM+aztrKyspaWYoZz1kW2tdKXtnPWcuZXhlYyhhLGMsdGhpcyk7aWYoITE9PT1nKXJldHVybiBudWxsO2lmKGcmJmchPWMpcmV0dXJuIHRoaXMub25Ob2RlKGEsZyk7aWYoYy5wYXJlbnQmJiFjLm5hbWUpYnJlYWt9cmV0dXJuIGN9LFxub25Ob2RlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy50eXBlO3JldHVybiBkPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/dGhpcy5vbkVsZW1lbnQoYSxjKTpkPT1DS0VESVRPUi5OT0RFX1RFWFQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCh0aGlzLm9uVGV4dChhLGMudmFsdWUpKTpkPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudCh0aGlzLm9uQ29tbWVudChhLGMudmFsdWUpKTpudWxsfSxvbkF0dHJpYnV0ZTpmdW5jdGlvbihhLGMsZCxnKXtyZXR1cm4oZD10aGlzLmF0dHJpYnV0ZXNSdWxlc1tkXSk/ZC5leGVjKGEsZyxjLHRoaXMpOmd9fX0pO0NLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyUnVsZXNHcm91cD1hO2EucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxjLGQpe3RoaXMucnVsZXMuc3BsaWNlKHRoaXMuZmluZEluZGV4KGMpLDAse3ZhbHVlOmEscHJpb3JpdHk6YyxvcHRpb25zOmR9KX0sYWRkTWFueTpmdW5jdGlvbihhLFxuYyxkKXtmb3IodmFyIGc9W3RoaXMuZmluZEluZGV4KGMpLDBdLGs9MCxoPWEubGVuZ3RoO2s8aDtrKyspZy5wdXNoKHt2YWx1ZTphW2tdLHByaW9yaXR5OmMsb3B0aW9uczpkfSk7dGhpcy5ydWxlcy5zcGxpY2UuYXBwbHkodGhpcy5ydWxlcyxnKX0sZmluZEluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz10aGlzLnJ1bGVzLGQ9Yy5sZW5ndGgtMTswPD1kJiZhPGNbZF0ucHJpb3JpdHk7KWQtLTtyZXR1cm4gZCsxfSxleGVjOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIubm9kZXx8YyBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaz10aGlzLnJ1bGVzLGg9ay5sZW5ndGgscCxxLGUseDtmb3IoeD0wO3g8aDt4KyspaWYoZCYmKHA9Yy50eXBlLHE9Yy5uYW1lKSxlPWtbeF0sIShhLm5vbkVkaXRhYmxlJiYhZS5vcHRpb25zLmFwcGx5VG9BbGx8fFxuYS5uZXN0ZWRFZGl0YWJsZSYmZS5vcHRpb25zLmV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZSkpe2U9ZS52YWx1ZS5hcHBseShudWxsLGcpO2lmKCExPT09ZXx8ZCYmZSYmKGUubmFtZSE9cXx8ZS50eXBlIT1wKSlyZXR1cm4gZTtudWxsIT1lJiYoZ1swXT1jPWUpfXJldHVybiBjfSxleGVjT25OYW1lOmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPTAsZz10aGlzLnJ1bGVzLGs9Zy5sZW5ndGgsaDtjJiZkPGs7ZCsrKWg9Z1tkXSxhLm5vbkVkaXRhYmxlJiYhaC5vcHRpb25zLmFwcGx5VG9BbGx8fGEubmVzdGVkRWRpdGFibGUmJmgub3B0aW9ucy5leGNsdWRlTmVzdGVkRWRpdGFibGV8fChjPWMucmVwbGFjZShoLnZhbHVlWzBdLGgudmFsdWVbMV0pKTtyZXR1cm4gY319fSkoKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkKXtmdW5jdGlvbiBlKGEpe3JldHVybiBhfHxDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCLCoFwiKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIix7XCJkYXRhLWNrZS1ib2d1c1wiOjF9KX1mdW5jdGlvbiBsKGEsZCl7cmV0dXJuIGZ1bmN0aW9uKGYpe2lmKGYudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGw9W10sbj1iKGYpLEUsRztpZihuKWZvcih0KG4sMSkmJmwucHVzaChuKTtuOylnKG4pJiYoRT1jKG4pKSYmdChFKSYmKChHPWMoRSkpJiYhZyhHKT9sLnB1c2goRSk6KGUoeSkuaW5zZXJ0QWZ0ZXIoRSksRS5yZW1vdmUoKSkpLG49bi5wcmV2aW91cztmb3Iobj0wO248bC5sZW5ndGg7bisrKWxbbl0ucmVtb3ZlKCk7aWYobD0hYXx8ITEhPT0oXCJmdW5jdGlvblwiPT10eXBlb2YgZD9kKGYpOmQpKXl8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHxcbmYudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD95fHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ISg3PGRvY3VtZW50LmRvY3VtZW50TW9kZXx8Zi5uYW1lIGluIENLRURJVE9SLmR0ZC50cnx8Zi5uYW1lIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pPyhsPWIoZiksbD0hbHx8XCJmb3JtXCI9PWYubmFtZSYmXCJpbnB1dFwiPT1sLm5hbWUpOmw9ITE6bD0hMTtsJiZmLmFkZChlKGEpKX19fWZ1bmN0aW9uIHQoYSxiKXtpZigoIXl8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09YS5uYW1lJiYhYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZW9sXCJdKXJldHVybiEwO3ZhciBjO3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGM9YS52YWx1ZS5tYXRjaCh1KSkmJihjLmluZGV4JiYoKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYS52YWx1ZS5zdWJzdHJpbmcoMCxjLmluZGV4KSkpLmluc2VydEJlZm9yZShhKSxcbmEudmFsdWU9Y1swXSksIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZ5JiYoIWJ8fGEucGFyZW50Lm5hbWUgaW4gQil8fCF5JiYoKGM9YS5wcmV2aW91cykmJlwiYnJcIj09Yy5uYW1lfHwhY3x8ZyhjKSkpPyEwOiExfXZhciBFPXtlbGVtZW50czp7fX0seT1cImh0bWxcIj09ZCxCPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxDKSxoO2ZvcihoIGluIEIpXCIjXCJpbiBuW2hdfHxkZWxldGUgQltoXTtmb3IoaCBpbiBCKUUuZWxlbWVudHNbaF09bCh5LGEuY29uZmlnLmZpbGxFbXB0eUJsb2Nrcyk7RS5yb290PWwoeSwhMSk7RS5lbGVtZW50cy5icj1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7aWYoYi5wYXJlbnQudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGQ9Yi5hdHRyaWJ1dGVzO2lmKFwiZGF0YS1ja2UtYm9ndXNcImluIGR8fFwiZGF0YS1ja2UtZW9sXCJpbiBkKWRlbGV0ZSBkW1wiZGF0YS1ja2UtYm9ndXNcIl07ZWxzZXtmb3IoZD1iLm5leHQ7ZCYmZihkKTspZD1cbmQubmV4dDt2YXIgbD1jKGIpOyFkJiZnKGIucGFyZW50KT9rKGIucGFyZW50LGUoYSkpOmcoZCkmJmwmJiFnKGwpJiZlKGEpLmluc2VydEJlZm9yZShkKX19fX0oeSk7cmV0dXJuIEV9ZnVuY3Rpb24gZChhLGIpe3JldHVybiBhIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1iP2E9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOiExfWZ1bmN0aW9uIGIoYSl7Zm9yKGE9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthJiZmKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhKXtmb3IoYT1hLnByZXZpb3VzO2EmJmYoYSk7KWE9YS5wcmV2aW91cztyZXR1cm4gYX1mdW5jdGlvbiBmKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0oYS52YWx1ZSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1ib29rbWFya1wiXX1mdW5jdGlvbiBnKGEpe3JldHVybiBhJiZcbihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5uYW1lIGluIEN8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YS5jaGlsZHJlbi5wdXNoKGIpO2IucGFyZW50PWE7YyYmKGMubmV4dD1iLGIucHJldmlvdXM9Yyl9ZnVuY3Rpb24gaChhKXthPWEuYXR0cmlidXRlcztcImZhbHNlXCIhPWEuY29udGVudGVkaXRhYmxlJiYoYVtcImRhdGEtY2tlLWVkaXRhYmxlXCJdPWEuY29udGVudGVkaXRhYmxlP1widHJ1ZVwiOjEpO2EuY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIn1mdW5jdGlvbiBwKGEpe2E9YS5hdHRyaWJ1dGVzO3N3aXRjaChhW1wiZGF0YS1ja2UtZWRpdGFibGVcIl0pe2Nhc2UgXCJ0cnVlXCI6YS5jb250ZW50ZWRpdGFibGU9XCJ0cnVlXCI7YnJlYWs7Y2FzZSBcIjFcIjpkZWxldGUgYS5jb250ZW50ZWRpdGFibGV9fWZ1bmN0aW9uIHEoYSl7cmV0dXJuIGEucmVwbGFjZShFLFxuZnVuY3Rpb24oYSxiLGMpe3JldHVyblwiXFx4M2NcIitiK2MucmVwbGFjZSh5LGZ1bmN0aW9uKGEsYil7cmV0dXJuIEkudGVzdChiKSYmLTE9PWMuaW5kZXhPZihcImRhdGEtY2tlLXNhdmVkLVwiK2IpP1wiIGRhdGEtY2tlLXNhdmVkLVwiK2ErXCIgZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiK2E6YX0pK1wiXFx4M2VcIn0pfWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGMpezA9PT1hLmluZGV4T2YoXCJcXHgzY3RleHRhcmVhXCIpJiYoYT1iK3YoYykucmVwbGFjZSgvPC9nLFwiXFx4MjZsdDtcIikucmVwbGFjZSgvPi9nLFwiXFx4MjZndDtcIikrXCJcXHgzYy90ZXh0YXJlYVxceDNlXCIpO3JldHVyblwiXFx4M2Nja2U6ZW5jb2RlZFxceDNlXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiXFx4M2MvY2tlOmVuY29kZWRcXHgzZVwifSl9ZnVuY3Rpb24geChhKXtyZXR1cm4gYS5yZXBsYWNlKGwsZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLSg/IXtja2VfcHJvdGVjdGVkfSlbXFxzXFxTXSs/LS1cXHgzZS9nLFxuZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLVwiK0grXCJ7Q31cIitlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pfWZ1bmN0aW9uIHooYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZShhLnNwbGl0KFwiXCIpLGZ1bmN0aW9uKGEsYil7dmFyIGM9Yi50b0xvd2VyQ2FzZSgpLGQ9Yi50b1VwcGVyQ2FzZSgpLGU9RihjKTtjIT09ZCYmKGUrPVwifFwiK0YoZCkpO3JldHVybiBhKyhcIihcIitlK1wiKVwiKX0sXCJcIil9ZnVuY3Rpb24gRihhKXt2YXIgYjtiPWEuY2hhckNvZGVBdCgwKTt2YXIgYz1iLnRvU3RyaW5nKDE2KTtiPXtodG1sQ29kZTpcIlxceDI2I1wiK2IrXCI7P1wiLGhleDpcIlxceDI2I3gwKlwiK2MrXCI7P1wiLGVudGl0eTp7XCJcXHgzY1wiOlwiXFx4MjZsdDtcIixcIlxceDNlXCI6XCJcXHgyNmd0O1wiLFwiOlwiOlwiXFx4MjZjb2xvbjtcIn1bYV19O2Zvcih2YXIgZCBpbiBiKWJbZF0mJihhKz1cInxcIitiW2RdKTtyZXR1cm4gYX1mdW5jdGlvbiB2KGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfVxce0NcXH0oW1xcc1xcU10rPyktLVxceDNlL2csXG5mdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiBtKGEsYil7dmFyIGM9Yi5fLmRhdGFTdG9yZTtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH0oW1xcc1xcU10rPyktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSkucmVwbGFjZSgvXFx7Y2tlX3Byb3RlY3RlZF8oXFxkKylcXH0vZyxmdW5jdGlvbihhLGIpe3JldHVybiBjJiZjW2JdfHxcIlwifSl9ZnVuY3Rpb24gTShhLGIpe3ZhciBjPVtdLGQ9Yi5jb25maWcucHJvdGVjdGVkU291cmNlLGU9Yi5fLmRhdGFTdG9yZXx8KGIuXy5kYXRhU3RvcmU9e2lkOjF9KSxmPS88XFwhLS1cXHtja2VfdGVtcChjb21tZW50KT9cXH0oXFxkKj8pLS1cXHgzZS9nLGQ9Wy88c2NyaXB0W1xcc1xcU10qPyg8XFwvc2NyaXB0PnwkKS9naSwvPG5vc2NyaXB0W1xcc1xcU10qPzxcXC9ub3NjcmlwdD4vZ2ksLzxtZXRhW1xcc1xcU10qP1xcLz8+L2dpXS5jb25jYXQoZCk7YT1hLnJlcGxhY2UoL1xceDNjIS0tW1xcc1xcU10qPy0tXFx4M2UvZyxcbmZ1bmN0aW9uKGEpe3JldHVyblwiXFx4M2MhLS17Y2tlX3RlbXBjb21tZW50fVwiKyhjLnB1c2goYSktMSkrXCItLVxceDNlXCJ9KTtmb3IodmFyIGw9MDtsPGQubGVuZ3RoO2wrKylhPWEucmVwbGFjZShkW2xdLGZ1bmN0aW9uKGEpe2E9YS5yZXBsYWNlKGYsZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjW2RdfSk7cmV0dXJuL2NrZV90ZW1wKGNvbW1lbnQpPy8udGVzdChhKT9hOlwiXFx4M2MhLS17Y2tlX3RlbXB9XCIrKGMucHVzaChhKS0xKStcIi0tXFx4M2VcIn0pO2E9YS5yZXBsYWNlKGYsZnVuY3Rpb24oYSxiLGQpe3JldHVyblwiXFx4M2MhLS1cIitIKyhiP1wie0N9XCI6XCJcIikrZW5jb2RlVVJJQ29tcG9uZW50KGNbZF0pLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZSgvPFxcdysoPzpcXHMrKD86KD86W15cXHM9Pl0rXFxzKj1cXHMqKD86W14nXCJcXHM+XSt8J1teJ10qJ3xcIlteXCJdKlwiKSl8W15cXHM9XFwvPl0rKSkrXFxzKlxcLz8+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtePl0qKS0tXFx4M2UvZyxcbmZ1bmN0aW9uKGEsYil7ZVtlLmlkXT1kZWNvZGVVUklDb21wb25lbnQoYik7cmV0dXJuXCJ7Y2tlX3Byb3RlY3RlZF9cIitlLmlkKysgK1wifVwifSl9KTtyZXR1cm4gYT1hLnJlcGxhY2UoLzwodGl0bGV8aWZyYW1lfHRleHRhcmVhKShbXj5dKik+KFtcXHNcXFNdKj8pPFxcL1xcMT4vZyxmdW5jdGlvbihhLGMsZCxlKXtyZXR1cm5cIlxceDNjXCIrYytkK1wiXFx4M2VcIittKHYoZSksYikrXCJcXHgzYy9cIitjK1wiXFx4M2VcIn0pfUNLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yPWZ1bmN0aW9uKGIpe3ZhciBjLGYsbD10aGlzO3RoaXMuZWRpdG9yPWI7dGhpcy5kYXRhRmlsdGVyPWM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMuaHRtbEZpbHRlcj1mPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLndyaXRlcj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFkZFJ1bGVzKEwpO2MuYWRkUnVsZXMoRCx7YXBwbHlUb0FsbDohMH0pO2MuYWRkUnVsZXMoYShiLFwiZGF0YVwiKSxcbnthcHBseVRvQWxsOiEwfSk7Zi5hZGRSdWxlcyhOKTtmLmFkZFJ1bGVzKHQse2FwcGx5VG9BbGw6ITB9KTtmLmFkZFJ1bGVzKGEoYixcImh0bWxcIikse2FwcGx5VG9BbGw6ITB9KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGM9YS5kYXRhVmFsdWUsZixjPWMucmVwbGFjZShLLFwiXCIpLGM9TShjLGIpLGM9ZShjLE8pLGM9cShjKSxjPWUoYyxQKSxjPWMucmVwbGFjZShCLFwiJDFja2U6JDJcIiksYz1jLnJlcGxhY2UoSixcIlxceDNjY2tlOiQxJDJcXHgzZVxceDNjL2NrZTokMVxceDNlXCIpLGM9Yy5yZXBsYWNlKC8oPHByZVxcYltePl0qPikoXFxyXFxufFxcbikvZyxcIiQxJDIkMlwiKSxjPWMucmVwbGFjZSgvKFteYS16MC05PFxcLV0pKG9uXFx3ezMsfSkoPyE+KS9naSxcIiQxZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLSQyXCIpO2Y9YS5jb250ZXh0fHxiLmVkaXRhYmxlKCkuZ2V0TmFtZSgpO3ZhciBsO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmXCJwcmVcIj09XG5mJiYoZj1cImRpdlwiLGM9XCJcXHgzY3ByZVxceDNlXCIrYytcIlxceDNjL3ByZVxceDNlXCIsbD0xKTtmPWIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChmKTtmLnNldEh0bWwoXCJhXCIrYyk7Yz1mLmdldEh0bWwoKS5zdWJzdHIoMSk7Yz1jLnJlcGxhY2UobmV3IFJlZ0V4cChcImRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi1cIixcImlnXCIpLFwiXCIpO2wmJihjPWMucmVwbGFjZSgvXjxwcmU+fDxcXC9wcmU+JC9naSxcIlwiKSk7Yz1jLnJlcGxhY2UoQSxcIiQxJDJcIik7Yz14KGMpO2M9dihjKTtmPSExPT09YS5maXhGb3JCb2R5PyExOmQoYS5lbnRlck1vZGUsYi5jb25maWcuYXV0b1BhcmFncmFwaCk7Yz1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMsYS5jb250ZXh0LGYpO2YmJihsPWMsIWwuY2hpbGRyZW4ubGVuZ3RoJiZDS0VESVRPUi5kdGRbbC5uYW1lXVtmXSYmKGY9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChmKSxsLmFkZChmKSkpO2EuZGF0YVZhbHVlPWN9LG51bGwsbnVsbCxcbjUpO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthLmRhdGEuZmlsdGVyLmFwcGx5VG8oYS5kYXRhLmRhdGFWYWx1ZSwhMCxhLmRhdGEuZG9udEZpbHRlcixhLmRhdGEuZW50ZXJNb2RlKSYmYi5maXJlKFwiZGF0YUZpbHRlcmVkXCIpfSxudWxsLG51bGwsNik7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4obC5kYXRhRmlsdGVyLCEwKX0sbnVsbCxudWxsLDEwKTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGI9YS5kYXRhVmFsdWUsYz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtiLndyaXRlQ2hpbGRyZW5IdG1sKGMpO2I9Yy5nZXRIdG1sKCEwKTthLmRhdGFWYWx1ZT13KGIpfSxudWxsLG51bGwsMTUpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEuZGF0YVZhbHVlO2EuZGF0YS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoYz1jLnJlcGxhY2UoL148YnIgKlxcLz8+L2ksXG5cIlwiKSk7YS5kYXRhLmRhdGFWYWx1ZT1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMsYS5kYXRhLmNvbnRleHQsZChhLmRhdGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpKX0sbnVsbCxudWxsLDUpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlLmZpbHRlckNoaWxkcmVuKGwuaHRtbEZpbHRlciwhMCl9LG51bGwsbnVsbCwxMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLCExLCEwKX0sbnVsbCxudWxsLDExKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmRhdGFWYWx1ZSxkPWwud3JpdGVyO2QucmVzZXQoKTtjLndyaXRlQ2hpbGRyZW5IdG1sKGQpO2M9ZC5nZXRIdG1sKCEwKTtjPXYoYyk7Yz1tKGMsYik7YS5kYXRhLmRhdGFWYWx1ZT1jfSxudWxsLG51bGwsMTUpfTtDS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvci5wcm90b3R5cGU9XG57dG9IdG1sOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBmPXRoaXMuZWRpdG9yLGUsbCxuLGc7YiYmXCJvYmplY3RcIj09dHlwZW9mIGI/KGU9Yi5jb250ZXh0LGM9Yi5maXhGb3JCb2R5LGQ9Yi5kb250RmlsdGVyLGw9Yi5maWx0ZXIsbj1iLmVudGVyTW9kZSxnPWIucHJvdGVjdGVkV2hpdGVzcGFjZXMpOmU9YjtlfHxudWxsPT09ZXx8KGU9Zi5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIGYuZmlyZShcInRvSHRtbFwiLHtkYXRhVmFsdWU6YSxjb250ZXh0OmUsZml4Rm9yQm9keTpjLGRvbnRGaWx0ZXI6ZCxmaWx0ZXI6bHx8Zi5maWx0ZXIsZW50ZXJNb2RlOm58fGYuZW50ZXJNb2RlLHByb3RlY3RlZFdoaXRlc3BhY2VzOmd9KS5kYXRhVmFsdWV9LHRvRGF0YUZvcm1hdDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZjtiJiYoYz1iLmNvbnRleHQsZD1iLmZpbHRlcixmPWIuZW50ZXJNb2RlKTtjfHxudWxsPT09Y3x8KGM9dGhpcy5lZGl0b3IuZWRpdGFibGUoKS5nZXROYW1lKCkpO3JldHVybiB0aGlzLmVkaXRvci5maXJlKFwidG9EYXRhRm9ybWF0XCIsXG57ZGF0YVZhbHVlOmEsZmlsdGVyOmR8fHRoaXMuZWRpdG9yLmZpbHRlcixjb250ZXh0OmMsZW50ZXJNb2RlOmZ8fHRoaXMuZWRpdG9yLmVudGVyTW9kZX0pLmRhdGFWYWx1ZX19O3ZhciB1PS8oPzombmJzcDt8XFx4YTApJC8sSD1cIntja2VfcHJvdGVjdGVkfVwiLG49Q0tFRElUT1IuZHRkLHI9XCJjYXB0aW9uIGNvbGdyb3VwIGNvbCB0aGVhZCB0Zm9vdCB0Ym9keVwiLnNwbGl0KFwiIFwiKSxDPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxuLiRibG9ja0xpbWl0LG4uJGJsb2NrKSxMPXtlbGVtZW50czp7aW5wdXQ6aCx0ZXh0YXJlYTpofX0sRD17YXR0cmlidXRlTmFtZXM6W1svXm9uLyxcImRhdGEtY2tlLXBhLW9uXCJdLFsvXnNyY2RvYy8sXCJkYXRhLWNrZS1wYS1zcmNkb2NcIl0sWy9eZGF0YS1ja2UtZXhwYW5kbyQvLFwiXCJdXSxlbGVtZW50czp7aWZyYW1lOmZ1bmN0aW9uKGEpe2lmKGEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnNyYyl7dmFyIGI9YS5hdHRyaWJ1dGVzLnNyYy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teYS16XS9naSxcblwiXCIpO2lmKDA9PT1iLmluZGV4T2YoXCJqYXZhc2NyaXB0XCIpfHwwPT09Yi5pbmRleE9mKFwiZGF0YVwiKSlhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1wYS1zcmNcIl09YS5hdHRyaWJ1dGVzLnNyYyxkZWxldGUgYS5hdHRyaWJ1dGVzLnNyY319fX0sTj17ZWxlbWVudHM6e2VtYmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50O2lmKGImJlwib2JqZWN0XCI9PWIubmFtZSl7dmFyIGM9Yi5hdHRyaWJ1dGVzLndpZHRoLGI9Yi5hdHRyaWJ1dGVzLmhlaWdodDtjJiYoYS5hdHRyaWJ1dGVzLndpZHRoPWMpO2ImJihhLmF0dHJpYnV0ZXMuaGVpZ2h0PWIpfX0sYTpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoIShhLmNoaWxkcmVuLmxlbmd0aHx8Yi5uYW1lfHxiLmlkfHxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKSlyZXR1cm4hMX19fSx0PXtlbGVtZW50TmFtZXM6W1svXmNrZTovLFwiXCJdLFsvXlxcP3htbDpuYW1lc3BhY2UkLyxcIlwiXV0sYXR0cmlidXRlTmFtZXM6W1svXmRhdGEtY2tlLShzYXZlZHxwYSktLyxcblwiXCJdLFsvXmRhdGEtY2tlLS4qLyxcIlwiXSxbXCJoaWRlZm9jdXNcIixcIlwiXV0sZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKGIpe2lmKGJbXCJkYXRhLWNrZS10ZW1wXCJdKXJldHVybiExO2Zvcih2YXIgYz1bXCJuYW1lXCIsXCJocmVmXCIsXCJzcmNcIl0sZCxmPTA7ZjxjLmxlbmd0aDtmKyspZD1cImRhdGEtY2tlLXNhdmVkLVwiK2NbZl0sZCBpbiBiJiZkZWxldGUgYltjW2ZdXX1yZXR1cm4gYX0sdGFibGU6ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbi5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGMsZDthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi50eXBlPT1hLnR5cGUmJihjPUNLRURJVE9SLnRvb2xzLmluZGV4T2YocixhLm5hbWUpLGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihyLGIubmFtZSkpOy0xPGMmJi0xPGQmJmMhPWR8fChjPWEucGFyZW50P2EuZ2V0SW5kZXgoKTotMSxkPWIucGFyZW50P2IuZ2V0SW5kZXgoKTotMSk7cmV0dXJuIGM+ZD9cbjE6LTF9KX0scGFyYW06ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbj1bXTthLmlzRW1wdHk9ITA7cmV0dXJuIGF9LHNwYW46ZnVuY3Rpb24oYSl7XCJBcHBsZS1zdHlsZS1zcGFuXCI9PWEuYXR0cmlidXRlc1tcImNsYXNzXCJdJiZkZWxldGUgYS5uYW1lfSxodG1sOmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlO2RlbGV0ZSBhLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXX0sYm9keTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9LHN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07YiYmYi52YWx1ZSYmKGIudmFsdWU9Q0tFRElUT1IudG9vbHMudHJpbShiLnZhbHVlKSk7YS5hdHRyaWJ1dGVzLnR5cGV8fChhLmF0dHJpYnV0ZXMudHlwZT1cInRleHQvY3NzXCIpfSx0aXRsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdOyFiJiZrKGEsYj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KTtcbmIudmFsdWU9YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtdGl0bGVcIl18fFwiXCJ9LGlucHV0OnAsdGV4dGFyZWE6cH0sYXR0cmlidXRlczp7XCJjbGFzc1wiOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5sdHJpbShhLnJlcGxhY2UoLyg/Ol58XFxzKylja2VfW15cXHNdKi9nLFwiXCIpKXx8ITF9fX07Q0tFRElUT1IuZW52LmllJiYodC5hdHRyaWJ1dGVzLnN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyhefDspKFteXFw6XSspL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pfSk7dmFyIEU9LzwoYXxhcmVhfGltZ3xpbnB1dHxzb3VyY2UpXFxiKFtePl0qKT4vZ2kseT0vKFtcXHctOl0rKVxccyo9XFxzKig/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfCg/OlteIFwiJz5dKykpL2dpLEk9L14oaHJlZnxzcmN8bmFtZSkkL2ksUD0vKD86PHN0eWxlKD89WyA+XSlbXj5dKj5bXFxzXFxTXSo/PFxcL3N0eWxlPil8KD86PCg6P2xpbmt8bWV0YXxiYXNlKVtePl0qPikvZ2ksXG5PPS8oPHRleHRhcmVhKD89WyA+XSlbXj5dKj4pKFtcXHNcXFNdKj8pKD86PFxcL3RleHRhcmVhPikvZ2ksbD0vPGNrZTplbmNvZGVkPihbXjxdKik8XFwvY2tlOmVuY29kZWQ+L2dpLEs9bmV3IFJlZ0V4cChcIihcIit6KFwiXFx4M2Nja2U6ZW5jb2RlZFxceDNlXCIpK1wiKC4qPylcIit6KFwiXFx4M2MvY2tlOmVuY29kZWRcXHgzZVwiKStcIil8KFwiK3ooXCJcXHgzY1wiKSt6KFwiL1wiKStcIj9cIit6KFwiY2tlOmVuY29kZWRcXHgzZVwiKStcIilcIixcImdpXCIpLEI9Lyg8XFwvPykoKD86b2JqZWN0fGVtYmVkfHBhcmFtfGh0bWx8Ym9keXxoZWFkfHRpdGxlKShbXFxzXVtePl0qKT8+KS9naSxBPS8oPFxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLEo9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXFwvPz4oPyFcXHMqPFxcL2NrZTpcXDEpL2dpfSkoKTtcInVzZSBzdHJpY3RcIjtcbkNLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD1mdW5jdGlvbihhLGQpe3RoaXMubmFtZT1hO3RoaXMuYXR0cmlidXRlcz1kfHx7fTt0aGlzLmNoaWxkcmVuPVtdO3ZhciBiPWF8fFwiXCIsYz1iLm1hdGNoKC9eY2tlOiguKikvKTtjJiYoYj1jWzFdKTtiPSEhKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kYmxvY2tbYl18fENLRURJVE9SLmR0ZC4kbGlzdEl0ZW1bYl18fENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50W2JdfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxcImJyXCI9PWIpO3RoaXMuaXNFbXB0eT0hIUNLRURJVE9SLmR0ZC4kZW1wdHlbYV07dGhpcy5pc1Vua25vd249IUNLRURJVE9SLmR0ZFthXTt0aGlzLl89e2lzQmxvY2tMaWtlOmIsaGFzSW5saW5lU3RhcnRlZDp0aGlzLmlzRW1wdHl8fCFifX07XG5DS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlPWZ1bmN0aW9uKGEpe3ZhciBkPXt9OygoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU6YSl8fFwiXCIpLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW14gOjtdKylcXHMqOlxccyooW147XSspXFxzKig/PTt8JCkvZyxmdW5jdGlvbihhLGMsZil7XCJmb250LWZhbWlseVwiPT1jJiYoZj1mLnJlcGxhY2UoL1tcIiddL2csXCJcIikpO2RbYy50b0xvd2VyQ2FzZSgpXT1mfSk7cmV0dXJue3J1bGVzOmQscG9wdWxhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy50b1N0cmluZygpO2MmJihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlPWM6YS5zdHlsZT1jKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXSxjO1xuZm9yKGMgaW4gZClkW2NdJiZhLnB1c2goYyxcIjpcIixkW2NdLFwiO1wiKTtyZXR1cm4gYS5qb2luKFwiXCIpfX19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJzdHJpbmdcIj09dHlwZW9mIGE/Yi5uYW1lPT1hOmIubmFtZSBpbiBhKX19dmFyIGQ9ZnVuY3Rpb24oYSxiKXthPWFbMF07Yj1iWzBdO3JldHVybiBhPGI/LTE6YT5iPzE6MH0sYj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZTtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGQ6Yi5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxrLGg7Yj1kLmdldEZpbHRlckNvbnRleHQoYik7aWYoIWQucGFyZW50KWEub25Sb290KGIsXG5kKTtmb3IoOzspe2s9ZC5uYW1lO2lmKCEoaD1hLm9uRWxlbWVudE5hbWUoYixrKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7ZC5uYW1lPWg7aWYoIShkPWEub25FbGVtZW50KGIsZCkpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKGQhPT10aGlzKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGQpLCExO2lmKGQubmFtZT09aylicmVhaztpZihkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChkKSwhMTtpZighZC5uYW1lKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSwhMX1rPWQuYXR0cmlidXRlczt2YXIgcCxxO2ZvcihwIGluIGspe2ZvcihoPWtbcF07OylpZihxPWEub25BdHRyaWJ1dGVOYW1lKGIscCkpaWYocSE9cClkZWxldGUga1twXSxwPXE7ZWxzZSBicmVhaztlbHNle2RlbGV0ZSBrW3BdO2JyZWFrfXEmJighMT09PShoPWEub25BdHRyaWJ1dGUoYixkLHEsaCkpP2RlbGV0ZSBrW3FdOmtbcV09aCl9ZC5pc0VtcHR5fHxcbnRoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxiKTtyZXR1cm4hMH0sZmlsdGVyQ2hpbGRyZW46Yi5maWx0ZXJDaGlsZHJlbix3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt2YXIgZz10aGlzLm5hbWUsaz1bXSxoPXRoaXMuYXR0cmlidXRlcyxwLHE7YS5vcGVuVGFnKGcsaCk7Zm9yKHAgaW4gaClrLnB1c2goW3AsaFtwXV0pO2Euc29ydEF0dHJpYnV0ZXMmJmsuc29ydChkKTtwPTA7Zm9yKHE9ay5sZW5ndGg7cDxxO3ArKyloPWtbcF0sYS5hdHRyaWJ1dGUoaFswXSxoWzFdKTthLm9wZW5UYWdDbG9zZShnLHRoaXMuaXNFbXB0eSk7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTt0aGlzLmlzRW1wdHl8fGEuY2xvc2VUYWcoZyl9LHdyaXRlQ2hpbGRyZW5IdG1sOmIud3JpdGVDaGlsZHJlbkh0bWwscmVwbGFjZVdpdGhDaGlsZHJlbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuLGI9YS5sZW5ndGg7YjspYVstLWJdLmluc2VydEFmdGVyKHRoaXMpO1xudGhpcy5yZW1vdmUoKX0sZm9yRWFjaDpiLmZvckVhY2gsZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7aWYoIWIpcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY2hpbGRyZW5bMF06bnVsbDtcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiYoYj1hKGIpKTtmb3IodmFyIGQ9MCxnPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2Q8ZzsrK2QpaWYoYih0aGlzLmNoaWxkcmVuW2RdKSlyZXR1cm4gdGhpcy5jaGlsZHJlbltkXTtyZXR1cm4gbnVsbH0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzZXRIdG1sOmZ1bmN0aW9uKGEpe2E9dGhpcy5jaGlsZHJlbj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpLmNoaWxkcmVuO2Zvcih2YXIgYj0wLGQ9YS5sZW5ndGg7YjxkOysrYilhW2JdLnBhcmVudD10aGlzfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1cbm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVIdG1sKGEpO3JldHVybiBhLmdldEh0bWwoKX0sc3BsaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsdGhpcy5jaGlsZHJlbi5sZW5ndGgtYSksZD10aGlzLmNsb25lKCksaz0wO2s8Yi5sZW5ndGg7KytrKWJba10ucGFyZW50PWQ7ZC5jaGlsZHJlbj1iO2JbMF0mJihiWzBdLnByZXZpb3VzPW51bGwpOzA8YSYmKHRoaXMuY2hpbGRyZW5bYS0xXS5uZXh0PW51bGwpO3RoaXMucGFyZW50LmFkZChkLHRoaXMuZ2V0SW5kZXgoKSsxKTtyZXR1cm4gZH0sZmluZDpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPSExKTt2YXIgZD1bXSxrO2ZvcihrPTA7azx0aGlzLmNoaWxkcmVuLmxlbmd0aDtrKyspe3ZhciBoPXRoaXMuY2hpbGRyZW5ba107XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYShoKT9kLnB1c2goaCk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJmgubmFtZT09PWEmJmQucHVzaChoKTtcbmImJmguZmluZCYmKGQ9ZC5jb25jYXQoaC5maW5kKGEsYikpKX1yZXR1cm4gZH0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFzQ2xhc3MoYSkpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdfHxcIlwiO3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWIrKGI/XCIgXCI6XCJcIikrYX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO2ImJigoYj1DS0VESVRPUi50b29scy50cmltKGIucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XFxcXHMrfF4pXCIrYStcIig/OlxcXFxzK3wkKVwiKSxcIiBcIikpKT90aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iOmRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO3JldHVybiBiPyhuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithK1wiKD9cXHgzZFxcXFxzfCQpXCIpKS50ZXN0KGIpOiExfSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPVxuW107YXx8KGE9e25vbkVkaXRhYmxlOiExLG5lc3RlZEVkaXRhYmxlOiExfSk7YS5ub25FZGl0YWJsZXx8XCJmYWxzZVwiIT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlP2Eubm9uRWRpdGFibGUmJiFhLm5lc3RlZEVkaXRhYmxlJiZcInRydWVcIj09dGhpcy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZSYmYi5wdXNoKFwibmVzdGVkRWRpdGFibGVcIiwhMCk6Yi5wdXNoKFwibm9uRWRpdGFibGVcIiwhMCk7aWYoYi5sZW5ndGgpe2E9Q0tFRElUT1IudG9vbHMuY29weShhKTtmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrPTIpYVtiW2RdXT1iW2QrMV19cmV0dXJuIGF9fSwhMCl9KSgpO1xuKGZ1bmN0aW9uKCl7dmFyIGE9L3soW159XSspfS9nO0NLRURJVE9SLnRlbXBsYXRlPWZ1bmN0aW9uKGEpe3RoaXMuc291cmNlPVN0cmluZyhhKX07Q0tFRElUT1IudGVtcGxhdGUucHJvdG90eXBlLm91dHB1dD1mdW5jdGlvbihkLGIpe3ZhciBjPXRoaXMuc291cmNlLnJlcGxhY2UoYSxmdW5jdGlvbihhLGIpe3JldHVybiB2b2lkIDAhPT1kW2JdP2RbYl06YX0pO3JldHVybiBiP2IucHVzaChjKTpjfX0pKCk7ZGVsZXRlIENLRURJVE9SLmxvYWRGdWxsQ29yZTtDS0VESVRPUi5pbnN0YW5jZXM9e307Q0tFRElUT1IuZG9jdW1lbnQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChkb2N1bWVudCk7XG5DS0VESVRPUi5hZGQ9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuaW5zdGFuY2VzW2EubmFtZV09YTthLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe0NLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSE9YSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1hLENLRURJVE9SLmZpcmUoXCJjdXJyZW50SW5zdGFuY2VcIikpfSk7YS5vbihcImJsdXJcIixmdW5jdGlvbigpe0NLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT09YSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1udWxsLENLRURJVE9SLmZpcmUoXCJjdXJyZW50SW5zdGFuY2VcIikpfSk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlXCIsbnVsbCxhKX07Q0tFRElUT1IucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSBDS0VESVRPUi5pbnN0YW5jZXNbYS5uYW1lXX07XG4oZnVuY3Rpb24oKXt2YXIgYT17fTtDS0VESVRPUi5hZGRUZW1wbGF0ZT1mdW5jdGlvbihkLGIpe3ZhciBjPWFbZF07aWYoYylyZXR1cm4gYztjPXtuYW1lOmQsc291cmNlOmJ9O0NLRURJVE9SLmZpcmUoXCJ0ZW1wbGF0ZVwiLGMpO3JldHVybiBhW2RdPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShjLnNvdXJjZSl9O0NLRURJVE9SLmdldFRlbXBsYXRlPWZ1bmN0aW9uKGQpe3JldHVybiBhW2RdfX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGE9W107Q0tFRElUT1IuYWRkQ3NzPWZ1bmN0aW9uKGQpe2EucHVzaChkKX07Q0tFRElUT1IuZ2V0Q3NzPWZ1bmN0aW9uKCl7cmV0dXJuIGEuam9pbihcIlxcblwiKX19KSgpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmlzRW1wdHkodGhpcy5pbnN0YW5jZXMpJiZDS0VESVRPUi5maXJlKFwicmVzZXRcIil9KTtDS0VESVRPUi5UUklTVEFURV9PTj0xO0NLRURJVE9SLlRSSVNUQVRFX09GRj0yO1xuQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ9MDtcbihmdW5jdGlvbigpe0NLRURJVE9SLmlubGluZT1mdW5jdGlvbihhLGQpe2lmKCFDS0VESVRPUi5lbnYuaXNDb21wYXRpYmxlKXJldHVybiBudWxsO2E9Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpO2lmKGEuZ2V0RWRpdG9yKCkpdGhyb3cnVGhlIGVkaXRvciBpbnN0YW5jZSBcIicrYS5nZXRFZGl0b3IoKS5uYW1lKydcIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50Lic7dmFyIGI9bmV3IENLRURJVE9SLmVkaXRvcihkLGEsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSksYz1hLmlzKFwidGV4dGFyZWFcIik/YTpudWxsO2M/KGIuc2V0RGF0YShjLmdldFZhbHVlKCksbnVsbCwhMCksYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgY29udGVudGVkaXRhYmxlXFx4M2RcIicrISFiLnJlYWRPbmx5KydcIiBjbGFzc1xceDNkXCJja2VfdGV4dGFyZWFfaW5saW5lXCJcXHgzZScrYy5nZXRWYWx1ZSgpK1wiXFx4M2MvZGl2XFx4M2VcIixDS0VESVRPUi5kb2N1bWVudCksXG5hLmluc2VydEFmdGVyKGMpLGMuaGlkZSgpLGMuJC5mb3JtJiZiLl9hdHRhY2hUb0Zvcm0oKSk6Yi5zZXREYXRhKGEuZ2V0SHRtbCgpLG51bGwsITApO2Iub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2IuZmlyZShcInVpUmVhZHlcIik7Yi5lZGl0YWJsZShhKTtiLmNvbnRhaW5lcj1hO2IudWkuY29udGVudHNFbGVtZW50PWE7Yi5zZXREYXRhKGIuZ2V0RGF0YSgxKSk7Yi5yZXNldERpcnR5KCk7Yi5maXJlKFwiY29udGVudERvbVwiKTtiLm1vZGU9XCJ3eXNpd3lnXCI7Yi5maXJlKFwibW9kZVwiKTtiLnN0YXR1cz1cInJlYWR5XCI7Yi5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLGIpfSxudWxsLG51bGwsMUU0KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7YyYmKGIuY29udGFpbmVyLmNsZWFyQ3VzdG9tRGF0YSgpLGIuY29udGFpbmVyLnJlbW92ZSgpLGMuc2hvdygpKTtiLmVsZW1lbnQuY2xlYXJDdXN0b21EYXRhKCk7ZGVsZXRlIGIuZWxlbWVudH0pO1xucmV0dXJuIGJ9O0NLRURJVE9SLmlubGluZUFsbD1mdW5jdGlvbigpe3ZhciBhLGQsYjtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGVkaXRhYmxlKWZvcih2YXIgYz1DS0VESVRPUi5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGIpLGY9MCxnPWMuY291bnQoKTtmPGc7ZisrKWE9Yy5nZXRJdGVtKGYpLFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmKGQ9e2VsZW1lbnQ6YSxjb25maWc6e319LCExIT09Q0tFRElUT1IuZmlyZShcImlubGluZVwiLGQpJiZDS0VESVRPUi5pbmxpbmUoYSxkLmNvbmZpZykpfTtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpeyFDS0VESVRPUi5kaXNhYmxlQXV0b0lubGluZSYmQ0tFRElUT1IuaW5saW5lQWxsKCl9KX0pKCk7Q0tFRElUT1IucmVwbGFjZUNsYXNzPVwiY2tlZGl0b3JcIjtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxmLGcsayl7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlIFwiJythLmdldEVkaXRvcigpLm5hbWUrJ1wiIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgaD1uZXcgQ0tFRElUT1IuZWRpdG9yKGYsYSxrKTtrPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGEuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksaC5fLnJlcXVpcmVkPWEuaGFzQXR0cmlidXRlKFwicmVxdWlyZWRcIiksYS5yZW1vdmVBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSk7ZyYmaC5zZXREYXRhKGcsbnVsbCwhMCk7aC5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YihoKTtrPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmaC5jb25maWcuYXV0b1VwZGF0ZUVsZW1lbnQmJlxuYS4kLmZvcm0mJmguX2F0dGFjaFRvRm9ybSgpO2guc2V0TW9kZShoLmNvbmZpZy5zdGFydHVwTW9kZSxmdW5jdGlvbigpe2gucmVzZXREaXJ0eSgpO2guc3RhdHVzPVwicmVhZHlcIjtoLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VSZWFkeVwiLG51bGwsaCl9KX0pO2gub24oXCJkZXN0cm95XCIsZCk7cmV0dXJuIGh9ZnVuY3Rpb24gZCgpe3ZhciBhPXRoaXMuY29udGFpbmVyLGI9dGhpcy5lbGVtZW50O2EmJihhLmNsZWFyQ3VzdG9tRGF0YSgpLGEucmVtb3ZlKCkpO2ImJihiLmNsZWFyQ3VzdG9tRGF0YSgpLHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYi5zaG93KCksdGhpcy5fLnJlcXVpcmVkJiZiLnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsXCJyZXF1aXJlZFwiKSksZGVsZXRlIHRoaXMuZWxlbWVudCl9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLm5hbWUsZD1hLmVsZW1lbnQsaz1hLmVsZW1lbnRNb2RlLGg9XG5hLmZpcmUoXCJ1aVNwYWNlXCIse3NwYWNlOlwidG9wXCIsaHRtbDpcIlwifSkuaHRtbCxwPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJib3R0b21cIixodG1sOlwiXCJ9KS5odG1sLHE9bmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY3tvdXRlckVsfSBpZFxceDNkXCJja2Vfe25hbWV9XCIgY2xhc3NcXHgzZFwie2lkfSBja2UgY2tlX3Jlc2V0IGNrZV9jaHJvbWUgY2tlX2VkaXRvcl97bmFtZX0gY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnXCIgIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImFwcGxpY2F0aW9uXCInKyhhLnRpdGxlPycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiJzpcIlwiKStcIlxceDNlXCIrKGEudGl0bGU/J1xceDNjc3BhbiBpZFxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNle3ZvaWNlTGFiZWx9XFx4M2Mvc3BhblxceDNlJzpcIlwiKSsnXFx4M2N7b3V0ZXJFbH0gY2xhc3NcXHgzZFwiY2tlX2lubmVyIGNrZV9yZXNldFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZXt0b3BIdG1sfVxceDNje291dGVyRWx9IGlkXFx4M2RcIntjb250ZW50SWR9XCIgY2xhc3NcXHgzZFwiY2tlX2NvbnRlbnRzIGNrZV9yZXNldFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3tvdXRlckVsfVxceDNle2JvdHRvbUh0bWx9XFx4M2Mve291dGVyRWx9XFx4M2VcXHgzYy97b3V0ZXJFbH1cXHgzZScpLFxuYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChxLm91dHB1dCh7aWQ6YS5pZCxuYW1lOmIsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsdm9pY2VMYWJlbDphLnRpdGxlLHRvcEh0bWw6aD8nXFx4M2NzcGFuIGlkXFx4M2RcIicrYS51aS5zcGFjZUlkKFwidG9wXCIpKydcIiBjbGFzc1xceDNkXCJja2VfdG9wIGNrZV9yZXNldF9hbGxcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIHN0eWxlXFx4M2RcImhlaWdodDphdXRvXCJcXHgzZScraCtcIlxceDNjL3NwYW5cXHgzZVwiOlwiXCIsY29udGVudElkOmEudWkuc3BhY2VJZChcImNvbnRlbnRzXCIpLGJvdHRvbUh0bWw6cD8nXFx4M2NzcGFuIGlkXFx4M2RcIicrYS51aS5zcGFjZUlkKFwiYm90dG9tXCIpKydcIiBjbGFzc1xceDNkXCJja2VfYm90dG9tIGNrZV9yZXNldF9hbGxcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnK3ArXCJcXHgzYy9zcGFuXFx4M2VcIjpcIlwiLG91dGVyRWw6Q0tFRElUT1IuZW52LmllP1wic3BhblwiOlwiZGl2XCJ9KSk7az09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/XG4oZC5oaWRlKCksYi5pbnNlcnRBZnRlcihkKSk6ZC5hcHBlbmQoYik7YS5jb250YWluZXI9YjthLnVpLmNvbnRlbnRzRWxlbWVudD1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7aCYmYS51aS5zcGFjZShcInRvcFwiKS51bnNlbGVjdGFibGUoKTtwJiZhLnVpLnNwYWNlKFwiYm90dG9tXCIpLnVuc2VsZWN0YWJsZSgpO2Q9YS5jb25maWcud2lkdGg7az1hLmNvbmZpZy5oZWlnaHQ7ZCYmYi5zZXRTdHlsZShcIndpZHRoXCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGQpKTtrJiZhLnVpLnNwYWNlKFwiY29udGVudHNcIikuc2V0U3R5bGUoXCJoZWlnaHRcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoaykpO2IuZGlzYWJsZUNvbnRleHRNZW51KCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXthLmZvY3VzKCl9KTthLmZpcmVPbmNlKFwidWlSZWFkeVwiKX1DS0VESVRPUi5yZXBsYWNlPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEoYixkLG51bGwsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UpfTtcbkNLRURJVE9SLmFwcGVuZFRvPWZ1bmN0aW9uKGIsZCxnKXtyZXR1cm4gYShiLGQsZyxDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pfTtDS0VESVRPUi5yZXBsYWNlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIiksYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgZD1udWxsLGs9YVtiXTtpZihrLm5hbWV8fGsuaWQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe2lmKCEobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIrYXJndW1lbnRzWzBdK1wiKD86JHxcXFxccylcIikpLnRlc3Qoay5jbGFzc05hbWUpKWNvbnRpbnVlfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiYoZD17fSwhMT09PWFyZ3VtZW50c1swXShrLGQpKSljb250aW51ZTt0aGlzLnJlcGxhY2UoayxkKX19fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZE1vZGU9ZnVuY3Rpb24oYSxiKXsodGhpcy5fLm1vZGVzfHwodGhpcy5fLm1vZGVzPVxue30pKVthXT1ifTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNldE1vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGs9dGhpcy5fLm1vZGVzO2lmKGEhPWQubW9kZSYmayYma1thXSl7ZC5maXJlKFwiYmVmb3JlU2V0TW9kZVwiLGEpO2lmKGQubW9kZSl7dmFyIGg9ZC5jaGVja0RpcnR5KCksaz1kLl8ucHJldmlvdXNNb2RlRGF0YSxwLHE9MDtkLmZpcmUoXCJiZWZvcmVNb2RlVW5sb2FkXCIpO2QuZWRpdGFibGUoMCk7ZC5fLnByZXZpb3VzTW9kZT1kLm1vZGU7ZC5fLnByZXZpb3VzTW9kZURhdGE9cD1kLmdldERhdGEoMSk7XCJzb3VyY2VcIj09ZC5tb2RlJiZrPT1wJiYoZC5maXJlKFwibG9ja1NuYXBzaG90XCIse2ZvcmNlVXBkYXRlOiEwfSkscT0xKTtkLnVpLnNwYWNlKFwiY29udGVudHNcIikuc2V0SHRtbChcIlwiKTtkLm1vZGU9XCJcIn1lbHNlIGQuXy5wcmV2aW91c01vZGVEYXRhPWQuZ2V0RGF0YSgxKTt0aGlzLl8ubW9kZXNbYV0oZnVuY3Rpb24oKXtkLm1vZGU9YTt2b2lkIDAhPT1oJiYhaCYmXG5kLnJlc2V0RGlydHkoKTtxP2QuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOlwid3lzaXd5Z1wiPT1hJiZkLmZpcmUoXCJzYXZlU25hcHNob3RcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2QuZmlyZShcIm1vZGVcIik7YiYmYi5jYWxsKGQpfSwwKX0pfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYSxiLGQsayl7dmFyIGg9dGhpcy5jb250YWluZXIscD10aGlzLnVpLnNwYWNlKFwiY29udGVudHNcIikscT1DS0VESVRPUi5lbnYud2Via2l0JiZ0aGlzLmRvY3VtZW50JiZ0aGlzLmRvY3VtZW50LmdldFdpbmRvdygpLiQuZnJhbWVFbGVtZW50O2s9az90aGlzLmNvbnRhaW5lci5nZXRGaXJzdChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQ2xhc3MoXCJja2VfaW5uZXJcIil9KTpoO2suc2V0U2l6ZShcIndpZHRoXCIsYSwhMCk7cSYmKHEuc3R5bGUud2lkdGg9XCIxJVwiKTt2YXIgZT0oay4kLm9mZnNldEhlaWdodHx8MCktKHAuJC5jbGllbnRIZWlnaHR8fFxuMCksaD1NYXRoLm1heChiLShkPzA6ZSksMCk7Yj1kP2IrZTpiO3Auc2V0U3R5bGUoXCJoZWlnaHRcIixoK1wicHhcIik7cSYmKHEuc3R5bGUud2lkdGg9XCIxMDAlXCIpO3RoaXMuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDpiLGNvbnRlbnRzSGVpZ2h0Omgsb3V0ZXJXaWR0aDphfHxrLmdldFNpemUoXCJ3aWR0aFwiKX0pfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFJlc2l6YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLnVpLnNwYWNlKFwiY29udGVudHNcIik6dGhpcy5jb250YWluZXJ9O0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7Q0tFRElUT1IucmVwbGFjZUNsYXNzJiZDS0VESVRPUi5yZXBsYWNlQWxsKENLRURJVE9SLnJlcGxhY2VDbGFzcyl9KX0pKCk7Q0tFRElUT1IuY29uZmlnLnN0YXJ0dXBNb2RlPVwid3lzaXd5Z1wiO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgYj1hLmVkaXRvcixlPWEuZGF0YS5wYXRoLGY9ZS5ibG9ja0xpbWl0LGc9YS5kYXRhLnNlbGVjdGlvbixoPWcuZ2V0UmFuZ2VzKClbMF0sdDtpZihDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpaWYoZz1kKGcsZSkpZy5hcHBlbmRCb2d1cygpLHQ9Q0tFRElUT1IuZW52LmllO2soYixlLmJsb2NrLGYpJiZoLmNvbGxhcHNlZCYmIWguZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KCkmJihlPWguY2xvbmUoKSxlLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyksZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihlKSxmLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiFjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVHx8YS5pc1JlYWRPbmx5KCl9LCFmLmNoZWNrRm9yd2FyZCgpfHxlLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCkpJiZcbihiPWguZml4QmxvY2soITAsYi5hY3RpdmVFbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8KGI9Yi5nZXRGaXJzdChjKSkmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZDS0VESVRPUi50b29scy50cmltKGIuZ2V0VGV4dCgpKS5tYXRjaCgvXig/OiZuYnNwO3xcXHhhMCkkLykmJmIucmVtb3ZlKCksdD0xLGEuY2FuY2VsKCkpO3QmJmguc2VsZWN0KCl9ZnVuY3Rpb24gZChhLGIpe2lmKGEuaXNGYWtlKXJldHVybiAwO3ZhciBkPWIuYmxvY2t8fGIuYmxvY2tMaW1pdCxlPWQmJmQuZ2V0TGFzdChjKTtpZighKCFkfHwhZC5pc0Jsb2NrQm91bmRhcnkoKXx8ZSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuaXNCbG9ja0JvdW5kYXJ5KCl8fGQuaXMoXCJwcmVcIil8fGQuZ2V0Qm9ndXMoKSkpcmV0dXJuIGR9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7Yi5pcyhcImlucHV0XCIpJiZcbihiPWIuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcInN1Ym1pdFwiIT1iJiZcInJlc2V0XCIhPWJ8fGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX1mdW5jdGlvbiBjKGEpe3JldHVybiBlKGEpJiZ4KGEpfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLiQudG9FbGVtZW50fHxjLmRhdGEuJC5mcm9tRWxlbWVudHx8Yy5kYXRhLiQucmVsYXRlZFRhcmdldDsoZD1kJiZkLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQpOm51bGwpJiYoYi5lcXVhbHMoZCl8fGIuY29udGFpbnMoZCkpfHxhLmNhbGwodGhpcyxjKX19ZnVuY3Rpb24gZyhhKXtmdW5jdGlvbiBiKGEpe3JldHVybiBmdW5jdGlvbihiLGUpe2UmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzKGYpJiYoZD1iKTtpZighKGV8fCFjKGIpfHxhJiZ6KGIpKSlyZXR1cm4hMX19dmFyIGQsZT1hLmdldFJhbmdlcygpWzBdO2E9YS5yb290O1xudmFyIGY9e3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9O2lmKGUuc3RhcnRQYXRoKCkuY29udGFpbnMoZikpe3ZhciBnPWUuY2xvbmUoKTtnLmNvbGxhcHNlKDEpO2cuc2V0U3RhcnRBdChhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGcpO2EuZ3VhcmQ9YigpO2EuY2hlY2tCYWNrd2FyZCgpO2lmKGQpcmV0dXJuIGc9ZS5jbG9uZSgpLGcuY29sbGFwc2UoKSxnLnNldEVuZEF0KGQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGcpLGEuZ3VhcmQ9YighMCksZD0hMSxhLmNoZWNrRm9yd2FyZCgpLGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gayhhLGIsYyl7cmV0dXJuITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoJiZhLmFjdGl2ZUVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihhLmVkaXRhYmxlKCkuZXF1YWxzKGMpJiYhYnx8YiYmXCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX1cbmZ1bmN0aW9uIGgoYSl7cmV0dXJuIGEuYWN0aXZlRW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1hLmNvbmZpZy5hdXRvUGFyYWdyYXBoP2EuYWN0aXZlRW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIjohMX1mdW5jdGlvbiBwKGEpe3ZhciBiPWEuZWRpdG9yO2IuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSwwKX1mdW5jdGlvbiBxKGEsYixjKXt2YXIgZD1hLmdldENvbW1vbkFuY2VzdG9yKGIpO2ZvcihiPWE9Yz9iOmE7KGE9YS5nZXRQYXJlbnQoKSkmJiFkLmVxdWFscyhhKSYmMT09YS5nZXRDaGlsZENvdW50KCk7KWI9YTtiLnJlbW92ZSgpfXZhciBlLHgsdyx6LEYsdixtLE0sdSxIO0NLRURJVE9SLmVkaXRhYmxlPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLmRvbS5lbGVtZW50LCQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2UoYi4kfHxcbmIpO3RoaXMuZWRpdG9yPWE7dGhpcy5zdGF0dXM9XCJ1bmxvYWRlZFwiO3RoaXMuaGFzRm9jdXM9ITE7dGhpcy5zZXR1cCgpfSxwcm90bzp7Zm9jdXM6ZnVuY3Rpb24oKXt2YXIgYTtpZihDS0VESVRPUi5lbnYud2Via2l0JiYhdGhpcy5oYXNGb2N1cyYmKGE9dGhpcy5lZGl0b3IuXy5wcmV2aW91c0FjdGl2ZXx8dGhpcy5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpLHRoaXMuY29udGFpbnMoYSkpKXthLmZvY3VzKCk7cmV0dXJufUNLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbiYmIXRoaXMuaGFzRm9jdXMmJnRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYodGhpcy5lZGl0b3IuXy5wcmV2aW91c1Njcm9sbFRvcD10aGlzLiQuc2Nyb2xsVG9wKTt0cnl7aWYoIUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9ufHwhdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCkpaWYoQ0tFRElUT1IuZW52LmNocm9tZSl7dmFyIGI9XG50aGlzLiQuc2Nyb2xsVG9wO3RoaXMuJC5mb2N1cygpO3RoaXMuJC5zY3JvbGxUb3A9Yn1lbHNlIHRoaXMuJC5mb2N1cygpO2Vsc2UgdGhpcy4kLnNldEFjdGl2ZSgpfWNhdGNoKGMpe2lmKCFDS0VESVRPUi5lbnYuaWUpdGhyb3cgYzt9Q0tFRElUT1IuZW52LnNhZmFyaSYmIXRoaXMuaXNJbmxpbmUoKSYmKGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCksYS5lcXVhbHModGhpcy5nZXRXaW5kb3coKS5nZXRGcmFtZSgpKXx8dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpKX0sb246ZnVuY3Rpb24oYSxiKXt2YXIgYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Q0tFRElUT1IuZW52LmllJiYvXmZvY3VzfGJsdXIkLy5leGVjKGEpJiYoYT1cImZvY3VzXCI9PWE/XCJmb2N1c2luXCI6XCJmb2N1c291dFwiLGI9ZihiLHRoaXMpLGNbMF09YSxjWzFdPWIpO3JldHVybiBDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxjKX0sYXR0YWNoTGlzdGVuZXI6ZnVuY3Rpb24oYSl7IXRoaXMuXy5saXN0ZW5lcnMmJlxuKHRoaXMuXy5saXN0ZW5lcnM9W10pO3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxiPWEub24uYXBwbHkoYSxiKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYik7cmV0dXJuIGJ9LGNsZWFyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmxpc3RlbmVyczt0cnl7Zm9yKDthLmxlbmd0aDspYS5wb3AoKS5yZW1vdmVMaXN0ZW5lcigpfWNhdGNoKGIpe319LHJlc3RvcmVBdHRyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5hdHRyQ2hhbmdlcyxiLGM7Zm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiYoYj1hW2NdLG51bGwhPT1iP3RoaXMuc2V0QXR0cmlidXRlKGMsYik6dGhpcy5yZW1vdmVBdHRyaWJ1dGUoYykpfSxhdHRhY2hDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIpO3RoaXMuaGFzQ2xhc3MoYSl8fCghYiYmKGI9W10pLGIucHVzaChhKSx0aGlzLnNldEN1c3RvbURhdGEoXCJjbGFzc2VzXCIsXG5iKSx0aGlzLmFkZENsYXNzKGEpKX0sY2hhbmdlQXR0cjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0QXR0cmlidXRlKGEpO2IhPT1jJiYoIXRoaXMuXy5hdHRyQ2hhbmdlcyYmKHRoaXMuXy5hdHRyQ2hhbmdlcz17fSksYSBpbiB0aGlzLl8uYXR0ckNoYW5nZXN8fCh0aGlzLl8uYXR0ckNoYW5nZXNbYV09YyksdGhpcy5zZXRBdHRyaWJ1dGUoYSxiKSl9LGluc2VydFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5lZGl0b3IuZm9jdXMoKTt0aGlzLmluc2VydEh0bWwodGhpcy50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoYSksXCJ0ZXh0XCIpfSx0cmFuc2Zvcm1QbGFpblRleHRUb0h0bWw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkuaGFzQXNjZW5kYW50KFwicHJlXCIsITApP0NLRURJVE9SLkVOVEVSX0JSOnRoaXMuZWRpdG9yLmFjdGl2ZUVudGVyTW9kZTtyZXR1cm4gQ0tFRElUT1IudG9vbHMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEsXG5iKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5lZGl0b3I7ZC5mb2N1cygpO2QuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtjfHwoYz1kLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKTt2KHRoaXMsYnx8XCJodG1sXCIsYSxjKTtjLnNlbGVjdCgpO3AodGhpcyk7dGhpcy5lZGl0b3IuZmlyZShcImFmdGVySW5zZXJ0SHRtbFwiLHt9KX0saW5zZXJ0SHRtbEludG9SYW5nZTpmdW5jdGlvbihhLGIsYyl7dih0aGlzLGN8fFwiaHRtbFwiLGEsYik7dGhpcy5lZGl0b3IuZmlyZShcImFmdGVySW5zZXJ0SHRtbFwiLHtpbnRvUmFuZ2U6Yn0pfSxpbnNlcnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcy5lZGl0b3I7ZC5mb2N1cygpO2QuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgZT1kLmFjdGl2ZUVudGVyTW9kZSxkPWQuZ2V0U2VsZWN0aW9uKCksZj1hLmdldE5hbWUoKSxmPUNLRURJVE9SLmR0ZC4kYmxvY2tbZl07Ynx8KGI9ZC5nZXRSYW5nZXMoKVswXSk7dGhpcy5pbnNlcnRFbGVtZW50SW50b1JhbmdlKGEsXG5iKSYmKGIubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGYmJigoZj1hLmdldE5leHQoZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJiF6KGEpfSkpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKT9mLmdldER0ZCgpW1wiI1wiXT9iLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZik6Yi5tb3ZlVG9FbGVtZW50RWRpdEVuZChhKTpmfHxlPT1DS0VESVRPUi5FTlRFUl9CUnx8KGY9Yi5maXhCbG9jayghMCxlPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIiksYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGYpKSkpO2Quc2VsZWN0UmFuZ2VzKFtiXSk7cCh0aGlzKX0saW5zZXJ0RWxlbWVudEludG9TZWxlY3Rpb246ZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEpfSxpbnNlcnRFbGVtZW50SW50b1JhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0b3IsZD1jLmNvbmZpZy5lbnRlck1vZGUsXG5lPWEuZ2V0TmFtZSgpLGY9Q0tFRElUT1IuZHRkLiRibG9ja1tlXTtpZihiLmNoZWNrUmVhZE9ubHkoKSlyZXR1cm4hMTtiLmRlbGV0ZUNvbnRlbnRzKDEpO2Iuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYi5zdGFydENvbnRhaW5lci5pcyh7dHI6MSx0YWJsZToxLHRib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSk/bShiKTpiLnN0YXJ0Q29udGFpbmVyLmlzKENLRURJVE9SLmR0ZC4kbGlzdCkmJk0oYikpO3ZhciB0LGc7aWYoZilmb3IoOyh0PWIuZ2V0Q29tbW9uQW5jZXN0b3IoMCwxKSkmJihnPUNLRURJVE9SLmR0ZFt0LmdldE5hbWUoKV0pJiYoIWd8fCFnW2VdKTspdC5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuc3Bhbj9iLnNwbGl0RWxlbWVudCh0KTpiLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmIuY2hlY2tFbmRPZkJsb2NrKCk/KGIuc2V0U3RhcnRCZWZvcmUodCksYi5jb2xsYXBzZSghMCksdC5yZW1vdmUoKSk6Yi5zcGxpdEJsb2NrKGQ9PUNLRURJVE9SLkVOVEVSX0RJVj9cblwiZGl2XCI6XCJwXCIsYy5lZGl0YWJsZSgpKTtiLmluc2VydE5vZGUoYSk7cmV0dXJuITB9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXtifHwoYT10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChhKSk7dGhpcy5zZXRIdG1sKGEpO3RoaXMuZml4SW5pdGlhbFNlbGVjdGlvbigpO1widW5sb2FkZWRcIj09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1cInJlYWR5XCIpO3RoaXMuZWRpdG9yLmZpcmUoXCJkYXRhUmVhZHlcIil9LGdldERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRIdG1sKCk7YXx8KGI9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQoYikpO3JldHVybiBifSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXt0aGlzLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFhKX0sZGV0YWNoOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTt0aGlzLnN0YXR1cz1cImRldGFjaGVkXCI7dmFyIGE9dGhpcy5lZGl0b3I7dGhpcy5fLmRldGFjaCgpO1xuZGVsZXRlIGEuZG9jdW1lbnQ7ZGVsZXRlIGEud2luZG93fSxpc0lubGluZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KX0sZml4SW5pdGlhbFNlbGVjdGlvbjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt2YXIgYj1jLmdldERvY3VtZW50KCkuJCxkPWIuZ2V0U2VsZWN0aW9uKCksZTthOmlmKGQuYW5jaG9yTm9kZSYmZC5hbmNob3JOb2RlPT1jLiQpZT0hMDtlbHNle2lmKENLRURJVE9SLmVudi53ZWJraXQmJihlPWMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKSkmJmUuZXF1YWxzKGMpJiYhZC5hbmNob3JOb2RlKXtlPSEwO2JyZWFrIGF9ZT12b2lkIDB9ZSYmKGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxlLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyksYj1iLmNyZWF0ZVJhbmdlKCksYi5zZXRTdGFydChlLnN0YXJ0Q29udGFpbmVyLiQsZS5zdGFydE9mZnNldCksYi5jb2xsYXBzZSghMCksZC5yZW1vdmVBbGxSYW5nZXMoKSxcbmQuYWRkUmFuZ2UoYikpfWZ1bmN0aW9uIGIoKXt2YXIgYT1jLmdldERvY3VtZW50KCkuJCxkPWEuc2VsZWN0aW9uLGU9Yy5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpO1wiTm9uZVwiPT1kLnR5cGUmJmUuZXF1YWxzKGMpJiYoZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGMpLGE9YS5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpLGQubW92ZVRvRWxlbWVudEVkaXRTdGFydChjKSxkPWQuc3RhcnRDb250YWluZXIsZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihkPWQuZ2V0UGFyZW50KCkpLGEubW92ZVRvRWxlbWVudFRleHQoZC4kKSxhLmNvbGxhcHNlKCEwKSxhLnNlbGVjdCgpKX12YXIgYz10aGlzO2lmKENLRURJVE9SLmVudi5pZSYmKDk+Q0tFRElUT1IuZW52LnZlcnNpb258fENLRURJVE9SLmVudi5xdWlya3MpKXRoaXMuaGFzRm9jdXMmJih0aGlzLmZvY3VzKCksYigpKTtlbHNlIGlmKHRoaXMuaGFzRm9jdXMpdGhpcy5mb2N1cygpLGEoKTtlbHNlIHRoaXMub25jZShcImZvY3VzXCIsXG5mdW5jdGlvbigpe2EoKX0sbnVsbCxudWxsLC05OTkpfSxnZXRIdG1sRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe2lmKGEuY29sbGFwc2VkKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5kb2N1bWVudCk7YT17ZG9jOnRoaXMuZ2V0RG9jdW1lbnQoKSxyYW5nZTphLmNsb25lKCl9O3UuZW9sLmRldGVjdChhLHRoaXMpO3UuYm9ndXMuZXhjbHVkZShhKTt1LmNlbGwuc2hyaW5rKGEpO2EuZnJhZ21lbnQ9YS5yYW5nZS5jbG9uZUNvbnRlbnRzKCk7dS50cmVlLnJlYnVpbGQoYSx0aGlzKTt1LmVvbC5maXgoYSx0aGlzKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGEuZnJhZ21lbnQuJCl9LGV4dHJhY3RIdG1sRnJvbVJhbmdlOmZ1bmN0aW9uKGEsYil7dmFyIGM9SCxkPXtyYW5nZTphLGRvYzphLmRvY3VtZW50fSxlPXRoaXMuZ2V0SHRtbEZyb21SYW5nZShhKTtpZihhLmNvbGxhcHNlZClyZXR1cm4gYS5vcHRpbWl6ZSgpLGU7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLFxuMSk7Yy50YWJsZS5kZXRlY3RQdXJnZShkKTtkLmJvb2ttYXJrPWEuY3JlYXRlQm9va21hcmsoKTtkZWxldGUgZC5yYW5nZTt2YXIgZj10aGlzLmVkaXRvci5jcmVhdGVSYW5nZSgpO2YubW92ZVRvUG9zaXRpb24oZC5ib29rbWFyay5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtkLnRhcmdldEJvb2ttYXJrPWYuY3JlYXRlQm9va21hcmsoKTtjLmxpc3QuZGV0ZWN0TWVyZ2UoZCx0aGlzKTtjLnRhYmxlLmRldGVjdFJhbmdlcyhkLHRoaXMpO2MuYmxvY2suZGV0ZWN0TWVyZ2UoZCx0aGlzKTtkLnRhYmxlQ29udGVudHNSYW5nZXM/KGMudGFibGUuZGVsZXRlUmFuZ2VzKGQpLGEubW92ZVRvQm9va21hcmsoZC5ib29rbWFyayksZC5yYW5nZT1hKTooYS5tb3ZlVG9Cb29rbWFyayhkLmJvb2ttYXJrKSxkLnJhbmdlPWEsYS5leHRyYWN0Q29udGVudHMoYy5kZXRlY3RFeHRyYWN0TWVyZ2UoZCkpKTthLm1vdmVUb0Jvb2ttYXJrKGQudGFyZ2V0Qm9va21hcmspO2Eub3B0aW1pemUoKTtcbmMuZml4VW5lZGl0YWJsZVJhbmdlUG9zaXRpb24oYSk7Yy5saXN0Lm1lcmdlKGQsdGhpcyk7Yy50YWJsZS5wdXJnZShkLHRoaXMpO2MuYmxvY2subWVyZ2UoZCx0aGlzKTtpZihiKXtjPWEuc3RhcnRQYXRoKCk7aWYoZD1hLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmEuY2hlY2tFbmRPZkJsb2NrKCkmJmMuYmxvY2smJiFhLnJvb3QuZXF1YWxzKGMuYmxvY2spKXthOnt2YXIgZD1jLmJsb2NrLmdldEVsZW1lbnRzQnlUYWcoXCJzcGFuXCIpLGY9MCx0O2lmKGQpZm9yKDt0PWQuZ2V0SXRlbShmKyspOylpZigheCh0KSl7ZD0hMDticmVhayBhfWQ9ITF9ZD0hZH1kJiYoYS5tb3ZlVG9Qb3NpdGlvbihjLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5ibG9jay5yZW1vdmUoKSl9ZWxzZSBjLmF1dG9QYXJhZ3JhcGgodGhpcy5lZGl0b3IsYSksdyhhLnN0YXJ0Q29udGFpbmVyKSYmYS5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2Euc3RhcnRDb250YWluZXIubWVyZ2VTaWJsaW5ncygpO1xucmV0dXJuIGV9LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3I7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlR2V0RGF0YVwiLGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5nZXREYXRhKCk7dGhpcy5pcyhcInRleHRhcmVhXCIpfHwhMSE9PWEuY29uZmlnLmlnbm9yZUVtcHR5UGFyYWdyYXBoJiYoYj1iLnJlcGxhY2UoRixmdW5jdGlvbihhLGIpe3JldHVybiBifSkpO2Euc2V0RGF0YShiLG51bGwsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImdldFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7YS5kYXRhPXRoaXMuZ2V0RGF0YSgxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiYWZ0ZXJTZXREYXRhXCIsZnVuY3Rpb24oKXt0aGlzLnNldERhdGEoYS5nZXREYXRhKDEpKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYSl7dGhpcy5zZXREYXRhKGEuZGF0YSwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFxuXCJiZWZvcmVGb2N1c1wiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKTsoYj1iJiZiLmdldE5hdGl2ZSgpKSYmXCJDb250cm9sXCI9PWIudHlwZXx8dGhpcy5mb2N1cygpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRIdG1sXCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRIdG1sKGEuZGF0YS5kYXRhVmFsdWUsYS5kYXRhLm1vZGUsYS5kYXRhLnJhbmdlKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0RWxlbWVudChhLmRhdGEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRUZXh0XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRUZXh0KGEuZGF0YSl9LHRoaXMpO3RoaXMuc2V0UmVhZE9ubHkoYS5yZWFkT25seSk7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZVwiKTthLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfaW5saW5lXCIpOlxuYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUT3x8dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZV90aGVtZWRcIik7dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9jb250ZW50c19cIithLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24pO2Eua2V5c3Ryb2tlSGFuZGxlci5ibG9ja2VkS2V5c3Ryb2tlc1s4XT0rYS5yZWFkT25seTthLmtleXN0cm9rZUhhbmRsZXIuYXR0YWNoKHRoaXMpO3RoaXMub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmhhc0ZvY3VzPSExfSxudWxsLG51bGwsLTEpO3RoaXMub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz0hMH0sbnVsbCxudWxsLC0xKTtpZihDS0VESVRPUi5lbnYud2Via2l0KXRoaXMub24oXCJzY3JvbGxcIixmdW5jdGlvbigpe2EuXy5wcmV2aW91c1Njcm9sbFRvcD1hLmVkaXRhYmxlKCkuJC5zY3JvbGxUb3B9LG51bGwsXG5udWxsLC0xKTtpZihDS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb24pe3ZhciBkPWZ1bmN0aW9uKCl7dmFyIGI9YS5lZGl0YWJsZSgpO251bGwhPWEuXy5wcmV2aW91c1Njcm9sbFRvcCYmYi5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCkmJihiLiQuc2Nyb2xsVG9wPWEuXy5wcmV2aW91c1Njcm9sbFRvcCxhLl8ucHJldmlvdXNTY3JvbGxUb3A9bnVsbCx0aGlzLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsZCkpfTt0aGlzLm9uKFwic2Nyb2xsXCIsZCl9YS5mb2N1c01hbmFnZXIuYWRkKHRoaXMpO3RoaXMuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpKSYmKHRoaXMuaGFzRm9jdXM9ITAsYS5vbmNlKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7YS5mb2N1c01hbmFnZXIuZm9jdXModGhpcyl9LHRoaXMpKTt0aGlzLmlzSW5saW5lKCkmJnRoaXMuY2hhbmdlQXR0cihcInRhYmluZGV4XCIsYS50YWJJbmRleCk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YS5kb2N1bWVudD1cbnRoaXMuZ2V0RG9jdW1lbnQoKTthLndpbmRvdz10aGlzLmdldFdpbmRvdygpO3ZhciBmPWEuZG9jdW1lbnQ7dGhpcy5jaGFuZ2VBdHRyKFwic3BlbGxjaGVja1wiLCFhLmNvbmZpZy5kaXNhYmxlTmF0aXZlU3BlbGxDaGVja2VyKTt2YXIgaD1hLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb247dGhpcy5nZXREaXJlY3Rpb24oMSkhPWgmJnRoaXMuY2hhbmdlQXR0cihcImRpclwiLGgpO3ZhciBrPUNLRURJVE9SLmdldENzcygpO2lmKGspe3ZhciBoPWYuZ2V0SGVhZCgpLG09aC5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKTttP2shPW0uZ2V0VGV4dCgpJiYoQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP20uJC5zdHlsZVNoZWV0LmNzc1RleHQ9azptLnNldFRleHQoaykpOihrPWYuYXBwZW5kU3R5bGVUZXh0KGspLGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGsub3duZXJOb2RlfHxrLm93bmluZ0VsZW1lbnQpLGguc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIixcbmspLGsuZGF0YShcImNrZS10ZW1wXCIsMSkpfWg9Zi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIil8fDA7Zi5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIixoKzEpO3RoaXMuc2V0Q3VzdG9tRGF0YShcImNrZV9pbmNsdWRlUmVhZG9ubHlcIiwhYS5jb25maWcuZGlzYWJsZVJlYWRvbmx5U3R5bGluZyk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYj0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLmdldFRhcmdldCgpLHRoaXMpKS5jb250YWlucyhcImFcIik7YiYmMiE9YS4kLmJ1dHRvbiYmYi5pc1JlYWRPbmx5KCkmJmEucHJldmVudERlZmF1bHQoKX0pO3ZhciB0PXs4OjEsNDY6MX07dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDt2YXIgYz1iLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksZDtiPWEuZ2V0U2VsZWN0aW9uKCk7aWYoMCE9PWIuZ2V0UmFuZ2VzKCkubGVuZ3RoKXtpZihjIGluXG50KXt2YXIgZixrPWIuZ2V0UmFuZ2VzKClbMF0sbD1rLnN0YXJ0UGF0aCgpLGgsQixBLGM9OD09YztDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZj1iLmdldFNlbGVjdGVkRWxlbWVudCgpKXx8KGY9ZyhiKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxrLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxmLnJlbW92ZSgpLGsuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6ay5jb2xsYXBzZWQmJigoaD1sLmJsb2NrKSYmKEE9aFtjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZSkpJiZBLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQS5pcyhcInRhYmxlXCIpJiZrW2M/XCJjaGVja1N0YXJ0T2ZCbG9ja1wiOlwiY2hlY2tFbmRPZkJsb2NrXCJdKCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxrW2M/XCJjaGVja0VuZE9mQmxvY2tcIjpcImNoZWNrU3RhcnRPZkJsb2NrXCJdKCkmJmgucmVtb3ZlKCksa1tcIm1vdmVUb0VsZW1lbnRFZGl0XCIrXG4oYz9cIkVuZFwiOlwiU3RhcnRcIildKEEpLGsuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6bC5ibG9ja0xpbWl0JiZsLmJsb2NrTGltaXQuaXMoXCJ0ZFwiKSYmKEI9bC5ibG9ja0xpbWl0LmdldEFzY2VuZGFudChcInRhYmxlXCIpKSYmay5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KEIsYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYoQT1CW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShlKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxrW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKEEpLGsuY2hlY2tTdGFydE9mQmxvY2soKSYmay5jaGVja0VuZE9mQmxvY2soKT9BLnJlbW92ZSgpOmsuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6KEI9bC5jb250YWlucyhbXCJ0ZFwiLFwidGhcIixcImNhcHRpb25cIl0pKSYmay5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KEIsYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYoZD0xKSl9cmV0dXJuIWR9fSk7XG5hLmJsb2NrbGVzcyYmQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5dXBcIixmdW5jdGlvbihiKXtiLmRhdGEuZ2V0S2V5c3Ryb2tlKClpbiB0JiYhdGhpcy5nZXRGaXJzdChjKSYmKHRoaXMuYXBwZW5kQm9ndXMoKSxiPWEuY3JlYXRlUmFuZ2UoKSxiLm1vdmVUb1Bvc2l0aW9uKHRoaXMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGIuc2VsZWN0KCkpfSk7dGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiZGJsY2xpY2tcIixmdW5jdGlvbihiKXtpZihhLnJlYWRPbmx5KXJldHVybiExO2I9e2VsZW1lbnQ6Yi5kYXRhLmdldFRhcmdldCgpfTthLmZpcmUoXCJkb3VibGVjbGlja1wiLGIpfSk7Q0tFRElUT1IuZW52LmllJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGIpO0NLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlfHx0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZWRvd25cIixcbmZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YS5nZXRUYXJnZXQoKTtjLmlzKFwiaW1nXCIsXCJoclwiLFwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJiFjLmlzUmVhZE9ubHkoKSYmKGEuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudChjKSxjLmlzKFwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pO0NLRURJVE9SLmVudi5lZGdlJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYil7KGI9Yi5kYXRhLmdldFRhcmdldCgpKSYmYi5pcyhcImltZ1wiKSYmIWIuaXNSZWFkT25seSgpJiZhLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYil9KTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXtpZigyPT1iLmRhdGEuJC5idXR0b24mJihiPWIuZGF0YS5nZXRUYXJnZXQoKSwhYi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSYmIWIuZ2V0T3V0ZXJIdG1sKCkucmVwbGFjZShGLFxuXCJcIikpKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIpO2Muc2VsZWN0KCEwKX19KTtDS0VESVRPUi5lbnYud2Via2l0JiYodGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwiY2xpY2tcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJpbnB1dFwiLFwic2VsZWN0XCIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0pLHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0VGFyZ2V0KCkuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSkpO0NLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImtleVwiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITA7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpO2lmKGMgaW4gdCYmKGI9YS5nZXRTZWxlY3Rpb24oKSwwIT09Yi5nZXRSYW5nZXMoKS5sZW5ndGgpKXt2YXIgYz1cbjg9PWMsZD1iLmdldFJhbmdlcygpWzBdO2I9ZC5zdGFydFBhdGgoKTtpZihkLmNvbGxhcHNlZClhOnt2YXIgZT1iLmJsb2NrO2lmKGUmJmRbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKSYmZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihlLCFjKSYmZC5jb2xsYXBzZWQpe2lmKGQuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgZj1kLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGQuc3RhcnRPZmZzZXQtKGM/MTowKSk7aWYoZiYmZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuaXMoXCJoclwiKSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2YucmVtb3ZlKCk7Yj0hMDticmVhayBhfX1kPWQuc3RhcnRQYXRoKCkuYmxvY2s7aWYoIWR8fGQmJmQuY29udGFpbnMoZSkpYj12b2lkIDA7ZWxzZXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7dmFyIGw7KGw9KGM/ZDplKS5nZXRCb2d1cygpKSYmbC5yZW1vdmUoKTtcbmw9YS5nZXRTZWxlY3Rpb24oKTtmPWwuY3JlYXRlQm9va21hcmtzKCk7KGM/ZTpkKS5tb3ZlQ2hpbGRyZW4oYz9kOmUsITEpO2IubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpO3EoZSxkLCFjKTtsLnNlbGVjdEJvb2ttYXJrcyhmKTtiPSEwfX1lbHNlIGI9ITF9ZWxzZSBjPWQsbD1iLmJsb2NrLGQ9Yy5lbmRQYXRoKCkuYmxvY2ssbCYmZCYmIWwuZXF1YWxzKGQpPyhhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksKGU9bC5nZXRCb2d1cygpKSYmZS5yZW1vdmUoKSxjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUpLGMuZGVsZXRlQ29udGVudHMoKSxkLmdldFBhcmVudCgpJiYoZC5tb3ZlQ2hpbGRyZW4obCwhMSksYi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCkscShsLGQsITApKSxjPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0sYy5jb2xsYXBzZSgxKSxjLm9wdGltaXplKCksXCJcIj09PWMuc3RhcnRDb250YWluZXIuZ2V0SHRtbCgpJiZjLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCksXG5jLnNlbGVjdCgpLGI9ITApOmI9ITE7aWYoIWIpcmV0dXJuO2EuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fSx0aGlzLG51bGwsMTAwKX19fSxfOntkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZXREYXRhKHRoaXMuZWRpdG9yLmdldERhdGEoKSwwLDEpO3RoaXMuY2xlYXJMaXN0ZW5lcnMoKTt0aGlzLnJlc3RvcmVBdHRycygpO3ZhciBhO2lmKGE9dGhpcy5yZW1vdmVDdXN0b21EYXRhKFwiY2xhc3Nlc1wiKSlmb3IoO2EubGVuZ3RoOyl0aGlzLnJlbW92ZUNsYXNzKGEucG9wKCkpO2lmKCF0aGlzLmlzKFwidGV4dGFyZWFcIikpe2E9dGhpcy5nZXREb2N1bWVudCgpO3ZhciBiPWEuZ2V0SGVhZCgpO2lmKGIuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikpe3ZhciBjPWEuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpOy0tYz9hLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiLGMpOihhLnJlbW92ZUN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiKSxcbmIucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikucmVtb3ZlKCkpfX10aGlzLmVkaXRvci5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTtkZWxldGUgdGhpcy5lZGl0b3J9fX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLmVkaXRhYmxlO2lmKGImJmEpcmV0dXJuIDA7YXJndW1lbnRzLmxlbmd0aCYmKGI9dGhpcy5fLmVkaXRhYmxlPWE/YSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlP2E6bmV3IENLRURJVE9SLmVkaXRhYmxlKHRoaXMsYSk6KGImJmIuZGV0YWNoKCksbnVsbCkpO3JldHVybiBifTtDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3I7Yy5vbihcImluc2VydEVsZW1lbnRcIixmdW5jdGlvbihhKXthPWEuZGF0YTthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGEuaXMoXCJpbnB1dFwiKXx8YS5pcyhcInRleHRhcmVhXCIpKSYmKFwiZmFsc2VcIiE9YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJlxuYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIsYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XCJ0cnVlXCI6XCIxXCIpLGEuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpKX0pO2Mub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXtpZighYy5yZWFkT25seSl7dmFyIGQ9Yy5nZXRTZWxlY3Rpb24oKTtkJiYhZC5pc0xvY2tlZCYmKGQ9Yy5jaGVja0RpcnR5KCksYy5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEoYiksYy5maXJlKFwidW5sb2NrU25hcHNob3RcIiksIWQmJmMucmVzZXREaXJ0eSgpKX19KX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcIm1vZGVcIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihhJiZhLmlzSW5saW5lKCkpe3ZhciBjPWIudGl0bGU7YS5jaGFuZ2VBdHRyKFwicm9sZVwiLFwidGV4dGJveFwiKTthLmNoYW5nZUF0dHIoXCJhcmlhLW11bHRpbGluZVwiLFwidHJ1ZVwiKTthLmNoYW5nZUF0dHIoXCJhcmlhLWxhYmVsXCIsXG5jKTtjJiZhLmNoYW5nZUF0dHIoXCJ0aXRsZVwiLGMpO3ZhciBkPWIuZmlyZShcImFyaWFFZGl0b3JIZWxwTGFiZWxcIix7fSkubGFiZWw7aWYoZCYmKGM9dGhpcy51aS5zcGFjZSh0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP1widG9wXCI6XCJjb250ZW50c1wiKSkpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGQ9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBpZFxceDNkXCInK2UrJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnK2QrXCJcXHgzYy9zcGFuXFx4M2VcIik7Yy5hcHBlbmQoZCk7YS5jaGFuZ2VBdHRyKFwiYXJpYS1kZXNjcmliZWRieVwiLGUpfX19KX0pO0NLRURJVE9SLmFkZENzcyhcIi5ja2VfZWRpdGFibGV7Y3Vyc29yOnRleHR9LmNrZV9lZGl0YWJsZSBpbWcsLmNrZV9lZGl0YWJsZSBpbnB1dCwuY2tlX2VkaXRhYmxlIHRleHRhcmVhe2N1cnNvcjpkZWZhdWx0fVwiKTtlPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO1xueD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKTt3PUNLRURJVE9SLmRvbS53YWxrZXIuZW1wdHkoKTt6PUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtGPS8oXnw8Ym9keVxcYltePl0qPilcXHMqPChwfGRpdnxhZGRyZXNzfGhcXGR8Y2VudGVyfHByZSlbXj5dKj5cXHMqKD86PGJyW14+XSo+fCZuYnNwO3xcXHUwMEEwfCYjMTYwOyk/XFxzKig6PzxcXC9cXDI+KT9cXHMqKD89JHw8XFwvYm9keT4pL2dpO3Y9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH1mdW5jdGlvbiBiKGMsZCl7dmFyIGUsZixnLHQsaz1bXSx5PWQucmFuZ2Uuc3RhcnRDb250YWluZXI7ZT1kLnJhbmdlLnN0YXJ0UGF0aCgpO2Zvcih2YXIgeT1FW3kuZ2V0TmFtZSgpXSxoPTAsST1jLmdldENoaWxkcmVuKCksbT1JLmNvdW50KCkscT0tMSxwPS0xLFA9MCxEPWUuY29udGFpbnMoRS4kbGlzdCk7aDxtOysraCllPUkuZ2V0SXRlbShoKSxhKGUpPyhnPVxuZS5nZXROYW1lKCksRCYmZyBpbiBDS0VESVRPUi5kdGQuJGxpc3Q/az1rLmNvbmNhdChiKGUsZCkpOih0PSEheVtnXSxcImJyXCIhPWd8fCFlLmRhdGEoXCJja2UtZW9sXCIpfHxoJiZoIT1tLTF8fChQPShmPWg/a1toLTFdLm5vZGU6SS5nZXRJdGVtKGgrMSkpJiYoIWEoZil8fCFmLmlzKFwiYnJcIikpLGY9ZiYmYShmKSYmRS4kYmxvY2tbZi5nZXROYW1lKCldKSwtMSE9cXx8dHx8KHE9aCksdHx8KHA9aCksay5wdXNoKHtpc0VsZW1lbnQ6MSxpc0xpbmVCcmVhazpQLGlzQmxvY2s6ZS5pc0Jsb2NrQm91bmRhcnkoKSxoYXNCbG9ja1NpYmxpbmc6Zixub2RlOmUsbmFtZTpnLGFsbG93ZWQ6dH0pLGY9UD0wKSk6ay5wdXNoKHtpc0VsZW1lbnQ6MCxub2RlOmUsYWxsb3dlZDoxfSk7LTE8cSYmKGtbcV0uZmlyc3ROb3RBbGxvd2VkPTEpOy0xPHAmJihrW3BdLmxhc3ROb3RBbGxvd2VkPTEpO3JldHVybiBrfWZ1bmN0aW9uIGQoYixjKXt2YXIgZT1bXSxmPWIuZ2V0Q2hpbGRyZW4oKSxnPWYuY291bnQoKSxcbnQsaz0wLHk9RVtjXSxoPSFiLmlzKEUuJGlubGluZSl8fGIuaXMoXCJiclwiKTtmb3IoaCYmZS5wdXNoKFwiIFwiKTtrPGc7aysrKXQ9Zi5nZXRJdGVtKGspLGEodCkmJiF0LmlzKHkpP2U9ZS5jb25jYXQoZCh0LGMpKTplLnB1c2godCk7aCYmZS5wdXNoKFwiIFwiKTtyZXR1cm4gZX1mdW5jdGlvbiBlKGIpe3JldHVybiBhKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSl9ZnVuY3Rpb24gZihiKXtyZXR1cm4gYiYmYShiKSYmKGIuaXMoRS4kcmVtb3ZlRW1wdHkpfHxiLmlzKFwiYVwiKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCkpfWZ1bmN0aW9uIGcoYixjLGQsZSl7dmFyIGY9Yi5jbG9uZSgpLHQsaztmLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7KHQ9KG5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpKS5uZXh0KCkpJiZhKHQpJiZ5W3QuZ2V0TmFtZSgpXSYmKGs9dC5nZXRQcmV2aW91cygpKSYmYShrKSYmIWsuZ2V0UGFyZW50KCkuZXF1YWxzKGIuc3RhcnRDb250YWluZXIpJiZcbmQuY29udGFpbnMoaykmJmUuY29udGFpbnModCkmJnQuaXNJZGVudGljYWwoaykmJih0Lm1vdmVDaGlsZHJlbihrKSx0LnJlbW92ZSgpLGcoYixjLGQsZSkpfWZ1bmN0aW9uIHQoYixjKXtmdW5jdGlvbiBkKGIsYyl7aWYoYy5pc0Jsb2NrJiZjLmlzRWxlbWVudCYmIWMubm9kZS5pcyhcImJyXCIpJiZhKGIpJiZiLmlzKFwiYnJcIikpcmV0dXJuIGIucmVtb3ZlKCksMX12YXIgZT1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldCksZj1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldC0xKTtlJiZkKGUsYltiLmxlbmd0aC0xXSk7ZiYmZChmLGJbMF0pJiYoYy5zZXRFbmQoYy5lbmRDb250YWluZXIsYy5lbmRPZmZzZXQtMSksYy5jb2xsYXBzZSgpKX12YXIgRT1DS0VESVRPUi5kdGQseT17cDoxLGRpdjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLHVsOjEsb2w6MSxsaToxLHByZToxLGRsOjEsYmxvY2txdW90ZToxfSxJPXtwOjEsZGl2OjEsaDE6MSxoMjoxLFxuaDM6MSxoNDoxLGg1OjEsaDY6MX0sbT1DS0VESVRPUi50b29scy5leHRlbmQoe30sRS4kaW5saW5lKTtkZWxldGUgbS5icjtyZXR1cm4gZnVuY3Rpb24oeSxsLEssQil7dmFyIEE9eS5lZGl0b3IsSj0hMTtcInVuZmlsdGVyZWRfaHRtbFwiPT1sJiYobD1cImh0bWxcIixKPSEwKTtpZighQi5jaGVja1JlYWRPbmx5KCkpe3ZhciBHPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKEIuc3RhcnRDb250YWluZXIsQi5yb290KSkuYmxvY2tMaW1pdHx8Qi5yb290O3k9e3R5cGU6bCxkb250RmlsdGVyOkosZWRpdGFibGU6eSxlZGl0b3I6QSxyYW5nZTpCLGJsb2NrTGltaXQ6RyxtZXJnZUNhbmRpZGF0ZXM6W10sem9tYmllczpbXX07bD15LnJhbmdlO0I9eS5tZXJnZUNhbmRpZGF0ZXM7dmFyIHEscDtcInRleHRcIj09eS50eXBlJiZsLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCwhMSkmJihxPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFwiXFx4M2NzcGFuXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXCIsXG5sLmRvY3VtZW50KSxsLmluc2VydE5vZGUocSksbC5zZXRTdGFydEFmdGVyKHEpKTtKPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgobC5zdGFydENvbnRhaW5lcik7eS5lbmRQYXRoPUc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChsLmVuZENvbnRhaW5lcik7aWYoIWwuY29sbGFwc2VkKXt2YXIgQT1HLmJsb2NrfHxHLmJsb2NrTGltaXQsdz1sLmdldENvbW1vbkFuY2VzdG9yKCk7QSYmIUEuZXF1YWxzKHcpJiYhQS5jb250YWlucyh3KSYmbC5jaGVja0VuZE9mQmxvY2soKSYmeS56b21iaWVzLnB1c2goQSk7bC5kZWxldGVDb250ZW50cygpfWZvcig7KHA9ZShsKSkmJmEocCkmJnAuaXNCbG9ja0JvdW5kYXJ5KCkmJkouY29udGFpbnMocCk7KWwubW92ZVRvUG9zaXRpb24ocCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtnKGwseS5ibG9ja0xpbWl0LEosRyk7cSYmKGwuc2V0RW5kQmVmb3JlKHEpLGwuY29sbGFwc2UoKSxxLnJlbW92ZSgpKTtxPWwuc3RhcnRQYXRoKCk7XG5pZihBPXEuY29udGFpbnMoZiwhMSwxKSlsLnNwbGl0RWxlbWVudChBKSx5LmlubGluZVN0eWxlc1Jvb3Q9QSx5LmlubGluZVN0eWxlc1BlYWs9cS5sYXN0RWxlbWVudDtxPWwuY3JlYXRlQm9va21hcmsoKTsoQT1xLnN0YXJ0Tm9kZS5nZXRQcmV2aW91cyhjKSkmJmEoQSkmJmYoQSkmJkIucHVzaChBKTsoQT1xLnN0YXJ0Tm9kZS5nZXROZXh0KGMpKSYmYShBKSYmZihBKSYmQi5wdXNoKEEpO2ZvcihBPXEuc3RhcnROb2RlOyhBPUEuZ2V0UGFyZW50KCkpJiZmKEEpOylCLnB1c2goQSk7bC5tb3ZlVG9Cb29rbWFyayhxKTtpZihxPUspe3E9eS5yYW5nZTtpZihcInRleHRcIj09eS50eXBlJiZ5LmlubGluZVN0eWxlc1Jvb3Qpe3A9eS5pbmxpbmVTdHlsZXNQZWFrO2w9cC5nZXREb2N1bWVudCgpLmNyZWF0ZVRleHQoXCJ7Y2tlLXBlYWt9XCIpO2ZvcihCPXkuaW5saW5lU3R5bGVzUm9vdC5nZXRQYXJlbnQoKTshcC5lcXVhbHMoQik7KWw9bC5hcHBlbmRUbyhwLmNsb25lKCkpLHA9cC5nZXRQYXJlbnQoKTtcbks9bC5nZXRPdXRlckh0bWwoKS5zcGxpdChcIntja2UtcGVha31cIikuam9pbihLKX1wPXkuYmxvY2tMaW1pdC5nZXROYW1lKCk7aWYoL15cXHMrfFxccyskLy50ZXN0KEspJiZcInNwYW5cImluIENLRURJVE9SLmR0ZFtwXSl7dmFyIHY9J1xceDNjc3BhbiBkYXRhLWNrZS1tYXJrZXJcXHgzZFwiMVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJztLPXYrSyt2fUs9eS5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoSyx7Y29udGV4dDpudWxsLGZpeEZvckJvZHk6ITEscHJvdGVjdGVkV2hpdGVzcGFjZXM6ISF2LGRvbnRGaWx0ZXI6eS5kb250RmlsdGVyLGZpbHRlcjp5LmVkaXRvci5hY3RpdmVGaWx0ZXIsZW50ZXJNb2RlOnkuZWRpdG9yLmFjdGl2ZUVudGVyTW9kZX0pO3A9cS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtwLnNldEh0bWwoSyk7diYmKHAuZ2V0Rmlyc3QoKS5yZW1vdmUoKSxwLmdldExhc3QoKS5yZW1vdmUoKSk7aWYoKHY9cS5zdGFydFBhdGgoKS5ibG9jaykmJigxIT1cbnYuZ2V0Q2hpbGRDb3VudCgpfHwhdi5nZXRCb2d1cygpKSlhOnt2YXIgeDtpZigxPT1wLmdldENoaWxkQ291bnQoKSYmYSh4PXAuZ2V0Rmlyc3QoKSkmJnguaXMoSSkmJiF4Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl7dj14LmdldEVsZW1lbnRzQnlUYWcoXCIqXCIpO3E9MDtmb3IoQj12LmNvdW50KCk7cTxCO3ErKylpZihsPXYuZ2V0SXRlbShxKSwhbC5pcyhtKSlicmVhayBhO3gubW92ZUNoaWxkcmVuKHguZ2V0UGFyZW50KDEpKTt4LnJlbW92ZSgpfX15LmRhdGFXcmFwcGVyPXA7cT1LfWlmKHEpe3g9eS5yYW5nZTtxPXguZG9jdW1lbnQ7dmFyIHU7cD15LmJsb2NrTGltaXQ7Qj0wO3ZhciB6LHY9W10sRixUO0s9QT0wO3ZhciBILE07bD14LnN0YXJ0Q29udGFpbmVyO3ZhciBKPXkuZW5kUGF0aC5lbGVtZW50c1swXSxXLEc9Si5nZXRQb3NpdGlvbihsKSx3PSEhSi5nZXRDb21tb25BbmNlc3RvcihsKSYmRyE9Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMJiYhKEcmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMrXG5DS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQpO2w9Yih5LmRhdGFXcmFwcGVyLHkpO2Zvcih0KGwseCk7QjxsLmxlbmd0aDtCKyspe0c9bFtCXTtpZih1PUcuaXNMaW5lQnJlYWspe3U9eDtIPXA7dmFyIFM9dm9pZCAwLFk9dm9pZCAwO0cuaGFzQmxvY2tTaWJsaW5nP3U9MTooUz11LnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChFLiRibG9jaywxKSkmJlMuaXMoe2RpdjoxLHA6MX0pPyhZPVMuZ2V0UG9zaXRpb24oSCksWT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfHxZPT1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz91PTA6KEg9dS5zcGxpdEVsZW1lbnQoUyksdS5tb3ZlVG9Qb3NpdGlvbihILENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSx1PTEpKTp1PTB9aWYodSlLPTA8QjtlbHNle3U9eC5zdGFydFBhdGgoKTshRy5pc0Jsb2NrJiZrKHkuZWRpdG9yLHUuYmxvY2ssdS5ibG9ja0xpbWl0KSYmKFQ9aCh5LmVkaXRvcikpJiYoVD1xLmNyZWF0ZUVsZW1lbnQoVCksXG5ULmFwcGVuZEJvZ3VzKCkseC5pbnNlcnROb2RlKFQpLENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiYoej1ULmdldEJvZ3VzKCkpJiZ6LnJlbW92ZSgpLHgubW92ZVRvUG9zaXRpb24oVCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSk7aWYoKHU9eC5zdGFydFBhdGgoKS5ibG9jaykmJiF1LmVxdWFscyhGKSl7aWYoej11LmdldEJvZ3VzKCkpei5yZW1vdmUoKSx2LnB1c2godSk7Rj11fUcuZmlyc3ROb3RBbGxvd2VkJiYoQT0xKTtpZihBJiZHLmlzRWxlbWVudCl7dT14LnN0YXJ0Q29udGFpbmVyO2ZvcihIPW51bGw7dSYmIUVbdS5nZXROYW1lKCldW0cubmFtZV07KXtpZih1LmVxdWFscyhwKSl7dT1udWxsO2JyZWFrfUg9dTt1PXUuZ2V0UGFyZW50KCl9aWYodSlIJiYoTT14LnNwbGl0RWxlbWVudChIKSx5LnpvbWJpZXMucHVzaChNKSx5LnpvbWJpZXMucHVzaChIKSk7ZWxzZXtIPXAuZ2V0TmFtZSgpO1c9IUI7dT1CPT1sLmxlbmd0aC0xO0g9ZChHLm5vZGUsSCk7Zm9yKHZhciBTPVxuW10sWT1ILmxlbmd0aCxaPTAsYmE9dm9pZCAwLGNhPTAsVT0tMTtaPFk7WisrKWJhPUhbWl0sXCIgXCI9PWJhPyhjYXx8VyYmIVp8fChTLnB1c2gobmV3IENLRURJVE9SLmRvbS50ZXh0KFwiIFwiKSksVT1TLmxlbmd0aCksY2E9MSk6KFMucHVzaChiYSksY2E9MCk7dSYmVT09Uy5sZW5ndGgmJlMucG9wKCk7Vz1TfX1pZihXKXtmb3IoO3U9Vy5wb3AoKTspeC5pbnNlcnROb2RlKHUpO1c9MH1lbHNlIHguaW5zZXJ0Tm9kZShHLm5vZGUpO0cubGFzdE5vdEFsbG93ZWQmJkI8bC5sZW5ndGgtMSYmKChNPXc/SjpNKSYmeC5zZXRFbmRBdChNLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxBPTApO3guY29sbGFwc2UoKX19MSE9bC5sZW5ndGg/ej0hMTooej1sWzBdLHo9ei5pc0VsZW1lbnQmJlwiZmFsc2VcIj09ei5ub2RlLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7eiYmKEs9ITAsdT1sWzBdLm5vZGUseC5zZXRTdGFydEF0KHUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcbnguc2V0RW5kQXQodSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTt5LmRvbnRNb3ZlQ2FyZXQ9Szt5LmJvZ3VzTmVlZGVkQmxvY2tzPXZ9ej15LnJhbmdlO3ZhciBSO009eS5ib2d1c05lZWRlZEJsb2Nrcztmb3IoVz16LmNyZWF0ZUJvb2ttYXJrKCk7Rj15LnpvbWJpZXMucG9wKCk7KUYuZ2V0UGFyZW50KCkmJihUPXouY2xvbmUoKSxULm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoRiksVC5yZW1vdmVFbXB0eUJsb2Nrc0F0RW5kKCkpO2lmKE0pZm9yKDtGPU0ucG9wKCk7KUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP0YuYXBwZW5kQm9ndXMoKTpGLmFwcGVuZCh6LmRvY3VtZW50LmNyZWF0ZVRleHQoXCLCoFwiKSk7Zm9yKDtGPXkubWVyZ2VDYW5kaWRhdGVzLnBvcCgpOylGLm1lcmdlU2libGluZ3MoKTt6Lm1vdmVUb0Jvb2ttYXJrKFcpO2lmKCF5LmRvbnRNb3ZlQ2FyZXQpe2ZvcihGPWUoeik7RiYmYShGKSYmIUYuaXMoRS4kZW1wdHkpOyl7aWYoRi5pc0Jsb2NrQm91bmRhcnkoKSl6Lm1vdmVUb1Bvc2l0aW9uKEYsXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlbHNle2lmKGYoRikmJkYuZ2V0SHRtbCgpLm1hdGNoKC8oXFxzfCZuYnNwOykkL2cpKXtSPW51bGw7YnJlYWt9Uj16LmNsb25lKCk7Ui5tb3ZlVG9Qb3NpdGlvbihGLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpfUY9Ri5nZXRMYXN0KGMpfVImJnoubW92ZVRvUmFuZ2UoUil9fX19KCk7bT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKTtiLmd1YXJkPWZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4hMTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH07cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZCl7Yz1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChjKTthLmFwcGVuZChjLGQpO3JldHVybiBjfVxuZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmNvdW50KCksZDtmb3IoYjswPGItLTspZD1hLmdldEl0ZW0oYiksQ0tFRElUT1IudG9vbHMudHJpbShkLmdldEh0bWwoKSl8fChkLmFwcGVuZEJvZ3VzKCksQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiZkLmdldENoaWxkQ291bnQoKSYmZC5nZXRGaXJzdCgpLnJlbW92ZSgpKX1yZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZC5zdGFydENvbnRhaW5lcixmPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwxKSx0PSExO2MoZi5nZXRFbGVtZW50c0J5VGFnKFwidGRcIikpO2MoZi5nZXRFbGVtZW50c0J5VGFnKFwidGhcIikpO2Y9ZC5jbG9uZSgpO2Yuc2V0U3RhcnQoZSwwKTtmPWEoZikubGFzdEJhY2t3YXJkKCk7Znx8KGY9ZC5jbG9uZSgpLGYuc2V0RW5kQXQoZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxmPWEoZikubGFzdEZvcndhcmQoKSx0PSEwKTtmfHwoZj1lKTtmLmlzKFwidGFibGVcIik/KGQuc2V0U3RhcnRBdChmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksXG5kLmNvbGxhcHNlKCEwKSxmLnJlbW92ZSgpKTooZi5pcyh7dGJvZHk6MSx0aGVhZDoxLHRmb290OjF9KSYmKGY9YihmLFwidHJcIix0KSksZi5pcyhcInRyXCIpJiYoZj1iKGYsZi5nZXRQYXJlbnQoKS5pcyhcInRoZWFkXCIpP1widGhcIjpcInRkXCIsdCkpLChlPWYuZ2V0Qm9ndXMoKSkmJmUucmVtb3ZlKCksZC5tb3ZlVG9Qb3NpdGlvbihmLHQ/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpfX0oKTtNPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiExO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBhLmlzKENLRURJVE9SLmR0ZC4kbGlzdCl8fGEuaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5hLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pfTtyZXR1cm4gYn1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5zdGFydENvbnRhaW5lcixkPSExLGU7ZT1iLmNsb25lKCk7ZS5zZXRTdGFydChjLDApO2U9YShlKS5sYXN0QmFja3dhcmQoKTtlfHwoZT1iLmNsb25lKCksZS5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGU9YShlKS5sYXN0Rm9yd2FyZCgpLGQ9ITApO2V8fChlPWMpO2UuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KT8oYi5zZXRTdGFydEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxiLmNvbGxhcHNlKCEwKSxlLnJlbW92ZSgpKTooKGM9ZS5nZXRCb2d1cygpKSYmYy5yZW1vdmUoKSxiLm1vdmVUb1Bvc2l0aW9uKGUsZD9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxiLnNlbGVjdCgpKX19KCk7dT17ZW9sOntkZXRlY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJhbmdlLFxuZD1jLmNsb25lKCksZT1jLmNsb25lKCksZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuc3RhcnRDb250YWluZXIsYiksdD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuZW5kQ29udGFpbmVyLGIpO2QuY29sbGFwc2UoMSk7ZS5jb2xsYXBzZSgpO2YuYmxvY2smJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChmLmJsb2NrLENLRURJVE9SLkVORCkmJihjLnNldFN0YXJ0QWZ0ZXIoZi5ibG9jayksYS5wcmVwZW5kRW9sQnI9MSk7dC5ibG9jayYmZS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KHQuYmxvY2ssQ0tFRElUT1IuU1RBUlQpJiYoYy5zZXRFbmRCZWZvcmUodC5ibG9jayksYS5hcHBlbmRFb2xCcj0xKX0sZml4OmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXREb2N1bWVudCgpLGQ7YS5hcHBlbmRFb2xCciYmKGQ9dGhpcy5jcmVhdGVFb2xCcihjKSxhLmZyYWdtZW50LmFwcGVuZChkKSk7IWEucHJlcGVuZEVvbEJyfHxkJiYhZC5nZXRQcmV2aW91cygpfHxhLmZyYWdtZW50LmFwcGVuZCh0aGlzLmNyZWF0ZUVvbEJyKGMpLFxuMSl9LGNyZWF0ZUVvbEJyOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNyZWF0ZUVsZW1lbnQoXCJiclwiLHthdHRyaWJ1dGVzOntcImRhdGEtY2tlLWVvbFwiOjF9fSl9fSxib2d1czp7ZXhjbHVkZTpmdW5jdGlvbihhKXt2YXIgYj1hLnJhbmdlLmdldEJvdW5kYXJ5Tm9kZXMoKSxjPWIuc3RhcnROb2RlLGI9Yi5lbmROb2RlOyFifHwheihiKXx8YyYmYy5lcXVhbHMoYil8fGEucmFuZ2Uuc2V0RW5kQmVmb3JlKGIpfX0sdHJlZTp7cmVidWlsZDpmdW5jdGlvbihhLGIpe3ZhciBjPWEucmFuZ2UsZD1jLmdldENvbW1vbkFuY2VzdG9yKCksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYiksZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuc3RhcnRDb250YWluZXIsYiksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuZW5kQ29udGFpbmVyLGIpLHQ7ZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihkPWQuZ2V0UGFyZW50KCkpO2lmKGUuYmxvY2tMaW1pdC5pcyh7dHI6MSxcbnRhYmxlOjF9KSl7dmFyIGc9ZS5jb250YWlucyhcInRhYmxlXCIpLmdldFBhcmVudCgpO3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGcpfX1lbHNlIGlmKGUuYmxvY2smJmUuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJihmPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxjPWMuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSwhZi5lcXVhbHMoYykpKXt2YXIgeT1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCkuZ2V0UGFyZW50KCk7dD1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoeSl9fXR8fCh0PWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhlLmJsb2NrKSYmIWEuZXF1YWxzKGUuYmxvY2tMaW1pdCl9KTt0aGlzLnJlYnVpbGRGcmFnbWVudChhLGIsZCx0KX0scmVidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZTtjJiYhYy5lcXVhbHMoYikmJmQoYyk7KWU9Yy5jbG9uZSgwLDEpLGEuZnJhZ21lbnQuYXBwZW5kVG8oZSksXG5hLmZyYWdtZW50PWUsYz1jLmdldFBhcmVudCgpfX0sY2VsbDp7c2hyaW5rOmZ1bmN0aW9uKGEpe2E9YS5yYW5nZTt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyLGM9YS5lbmRDb250YWluZXIsZD1hLnN0YXJ0T2Zmc2V0LGU9YS5lbmRPZmZzZXQ7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuZXF1YWxzKGMpJiZiLmlzKFwidHJcIikmJisrZD09ZSYmYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpfX19O0g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGQ9Yi5nZXRQYXJlbnQoKTtpZihkLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSliW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGQpfWZ1bmN0aW9uIGIoYyxkLGUpe2EoZCk7YShlLDEpO2Zvcih2YXIgZjtmPWUuZ2V0TmV4dCgpOylmLmluc2VydEFmdGVyKGQpLGQ9Zjt3KGMpJiZjLnJlbW92ZSgpfWZ1bmN0aW9uIGMoYSxiKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpO2Quc2V0U3RhcnRBZnRlcihiLnN0YXJ0Tm9kZSk7XG5kLnNldEVuZEJlZm9yZShiLmVuZE5vZGUpO3JldHVybiBkfXJldHVybntsaXN0OntkZXRlY3RNZXJnZTpmdW5jdGlvbihhLGIpe3ZhciBkPWMoYixhLmJvb2ttYXJrKSxlPWQuc3RhcnRQYXRoKCksZj1kLmVuZFBhdGgoKSxnPWUuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxrPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTthLm1lcmdlTGlzdD1nJiZrJiZnLmdldFBhcmVudCgpLmVxdWFscyhrLmdldFBhcmVudCgpKSYmIWcuZXF1YWxzKGspO2EubWVyZ2VMaXN0SXRlbXM9ZS5ibG9jayYmZi5ibG9jayYmZS5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmZi5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKTtpZihhLm1lcmdlTGlzdHx8YS5tZXJnZUxpc3RJdGVtcylkPWQuY2xvbmUoKSxkLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKSxkLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSksYS5tZXJnZUxpc3RCb29rbWFyaz1cbmQuY3JlYXRlQm9va21hcmsoKX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXtpZihhLm1lcmdlTGlzdEJvb2ttYXJrKXt2YXIgZD1hLm1lcmdlTGlzdEJvb2ttYXJrLnN0YXJ0Tm9kZSxlPWEubWVyZ2VMaXN0Qm9va21hcmsuZW5kTm9kZSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZCxjKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZSxjKTtpZihhLm1lcmdlTGlzdCl7dmFyIGs9Zi5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLGg9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2suZXF1YWxzKGgpfHwoaC5tb3ZlQ2hpbGRyZW4oayksaC5yZW1vdmUoKSl9YS5tZXJnZUxpc3RJdGVtcyYmKGY9Zi5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxnPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZi5lcXVhbHMoZyl8fGIoZyxkLGUpKTtkLnJlbW92ZSgpO2UucmVtb3ZlKCl9fX0sYmxvY2s6e2RldGVjdE1lcmdlOmZ1bmN0aW9uKGEsXG5iKXtpZighYS50YWJsZUNvbnRlbnRzUmFuZ2VzJiYhYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiKTtjLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKTtjLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSk7YS5tZXJnZUJsb2NrQm9va21hcms9Yy5jcmVhdGVCb29rbWFyaygpfX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXtpZihhLm1lcmdlQmxvY2tCb29rbWFyayYmIWEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgZD1hLm1lcmdlQmxvY2tCb29rbWFyay5zdGFydE5vZGUsZT1hLm1lcmdlQmxvY2tCb29rbWFyay5lbmROb2RlLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGMpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLGMpLGY9Zi5ibG9jayxnPWcuYmxvY2s7ZiYmZyYmIWYuZXF1YWxzKGcpJiZiKGcsZCxlKTtkLnJlbW92ZSgpO2UucmVtb3ZlKCl9fX0sdGFibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe3ZhciBlPVxuW10sZixnPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpLGs9Yy5zdGFydFBhdGgoKS5jb250YWlucyhkKSxoPWMuZW5kUGF0aCgpLmNvbnRhaW5zKGQpLGw9e307Zy5ndWFyZD1mdW5jdGlvbihhLGcpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgQT1cInZpc2l0ZWRfXCIrKGc/XCJvdXRcIjpcImluXCIpO2lmKGEuZ2V0Q3VzdG9tRGF0YShBKSlyZXR1cm47Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsYSxBLDEpfWlmKGcmJmsmJmEuZXF1YWxzKGspKWY9Yy5jbG9uZSgpLGYuc2V0RW5kQXQoayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxlLnB1c2goZik7ZWxzZSBpZighZyYmaCYmYS5lcXVhbHMoaCkpZj1jLmNsb25lKCksZi5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGUucHVzaChmKTtlbHNle2lmKEE9IWcpQT1hLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhkKSYmKCFrfHxiKGEsaykpJiYoIWh8fFxuYihhLGgpKTtpZighQSYmKEE9ZykpaWYoYS5pcyhkKSl2YXIgQT1rJiZrLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLEk9aCYmaC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxtPWEuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksQT1BJiZBLmNvbnRhaW5zKG0pfHxJJiZJLmNvbnRhaW5zKG0pO2Vsc2UgQT12b2lkIDA7QSYmKGY9Yy5jbG9uZSgpLGYuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGUucHVzaChmKSl9fTtnLmxhc3RGb3J3YXJkKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGwpO3JldHVybiBlfWZ1bmN0aW9uIGIoYSxjKXt2YXIgZD1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsZT1hLmdldFBvc2l0aW9uKGMpO3JldHVybiBlPT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMPyExOjA9PT0oZSZkKX12YXIgZD17dGQ6MSx0aDoxLGNhcHRpb246MX07cmV0dXJue2RldGVjdFB1cmdlOmZ1bmN0aW9uKGEpe3ZhciBiPVxuYS5yYW5nZSxjPWIuY2xvbmUoKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxlPTA7Yy5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZCkmJisrZX07Yy5jaGVja0ZvcndhcmQoKTtpZigxPGUpe3ZhciBjPWIuc3RhcnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKSxmPWIuZW5kUGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIik7YyYmZiYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsQ0tFRElUT1IuU1RBUlQpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZixDS0VESVRPUi5FTkQpJiYoYj1hLnJhbmdlLmNsb25lKCksYi5zZXRTdGFydEJlZm9yZShjKSxiLnNldEVuZEFmdGVyKGYpLGEucHVyZ2VUYWJsZUJvb2ttYXJrPWIuY3JlYXRlQm9va21hcmsoKSl9fSxkZXRlY3RSYW5nZXM6ZnVuY3Rpb24oZSxmKXt2YXIgZz1jKGYsZS5ib29rbWFyayksaz1nLmNsb25lKCksXG5oLG0sbD1nLmdldENvbW1vbkFuY2VzdG9yKCk7bC5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCkmJiFsLmlzKGQpJiYobD1sLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApKTttPWw7bD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGcuc3RhcnRDb250YWluZXIsbSk7bT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGcuZW5kQ29udGFpbmVyLG0pO2w9bC5jb250YWlucyhcInRhYmxlXCIpO209bS5jb250YWlucyhcInRhYmxlXCIpO2lmKGx8fG0pbCYmbSYmYihsLG0pPyhlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1rLGsuc2V0U3RhcnRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksay5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksaz1nLmNsb25lKCksay5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksaD1nLmNsb25lKCksaC5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcbmg9YShrKS5jb25jYXQoYShoKSkpOmw/bXx8KGUudGFibGVTdXJyb3VuZGluZ1JhbmdlPWssay5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxnLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6KGUudGFibGVTdXJyb3VuZGluZ1JhbmdlPWssay5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZy5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKSxlLnRhYmxlQ29udGVudHNSYW5nZXM9aD9oOmEoZyl9LGRlbGV0ZVJhbmdlczpmdW5jdGlvbihhKXtmb3IodmFyIGI7Yj1hLnRhYmxlQ29udGVudHNSYW5nZXMucG9wKCk7KWIuZXh0cmFjdENvbnRlbnRzKCksdyhiLnN0YXJ0Q29udGFpbmVyKSYmYi5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2EudGFibGVTdXJyb3VuZGluZ1JhbmdlJiZhLnRhYmxlU3Vycm91bmRpbmdSYW5nZS5leHRyYWN0Q29udGVudHMoKX0scHVyZ2U6ZnVuY3Rpb24oYSl7aWYoYS5wdXJnZVRhYmxlQm9va21hcmspe3ZhciBiPVxuYS5kb2MsYz1hLnJhbmdlLmNsb25lKCksYj1iLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2IuaW5zZXJ0QmVmb3JlKGEucHVyZ2VUYWJsZUJvb2ttYXJrLnN0YXJ0Tm9kZSk7Yy5tb3ZlVG9Cb29rbWFyayhhLnB1cmdlVGFibGVCb29rbWFyayk7Yy5kZWxldGVDb250ZW50cygpO2EucmFuZ2UubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCl9fX19KCksZGV0ZWN0RXh0cmFjdE1lcmdlOmZ1bmN0aW9uKGEpe3JldHVybiEoYS5yYW5nZS5zdGFydFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYS5yYW5nZS5lbmRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpfSxmaXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbjpmdW5jdGlvbihhKXthLnN0YXJ0Q29udGFpbmVyLmdldER0ZCgpW1wiI1wiXXx8YS5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihudWxsLCEwKX0sYXV0b1BhcmFncmFwaDpmdW5jdGlvbihhLGIpe3ZhciBjPVxuYi5zdGFydFBhdGgoKSxkO2soYSxjLmJsb2NrLGMuYmxvY2tMaW1pdCkmJihkPWgoYSkpJiYoZD1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZCksZC5hcHBlbmRCb2d1cygpLGIuaW5zZXJ0Tm9kZShkKSxiLm1vdmVUb1Bvc2l0aW9uKGQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKX19fSgpfSkoKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0JiZDS0VESVRPUi5wbHVnaW5zLndpZGdldC5pc0RvbVdpZGdldChhKX1mdW5jdGlvbiBkKGIsYyl7aWYoMD09PWIubGVuZ3RofHxhKGJbMF0uZ2V0RW5jbG9zZWROb2RlKCkpKXJldHVybiExO3ZhciBkLGU7aWYoKGQ9IWMmJjE9PT1iLmxlbmd0aCkmJiEoZD1iWzBdLmNvbGxhcHNlZCkpe3ZhciBmPWJbMF07ZD1mLnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCk7dmFyIGc9Zi5lbmRDb250YWluZXIuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKTtlPUNLRURJVE9SLnRvb2xzLnRyaW07ZCYmZC5lcXVhbHMoZykmJiFkLmZpbmRPbmUoXCJ0ZCwgdGgsIHRyLCB0Ym9keSwgdGFibGVcIik/KGY9Zi5jbG9uZUNvbnRlbnRzKCksZD1mLmdldEZpcnN0KCk/ZShmLmdldEZpcnN0KCkuZ2V0VGV4dCgpKSE9PWUoZC5nZXRUZXh0KCkpOiEwKTpkPSExfWlmKGQpcmV0dXJuITE7XG5mb3IoZT0wO2U8Yi5sZW5ndGg7ZSsrKWlmKGQ9YltlXS5fZ2V0VGFibGVFbGVtZW50KCksIWQpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gYihhKXtmdW5jdGlvbiBiKGEpe2E9YS5maW5kKFwidGQsIHRoXCIpO3ZhciBjPVtdLGQ7Zm9yKGQ9MDtkPGEuY291bnQoKTtkKyspYy5wdXNoKGEuZ2V0SXRlbShkKSk7cmV0dXJuIGN9dmFyIGM9W10sZCxlO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspZD1hW2VdLl9nZXRUYWJsZUVsZW1lbnQoKSxkLmlzJiZkLmlzKHt0ZDoxLHRoOjF9KT9jLnB1c2goZCk6Yz1jLmNvbmNhdChiKGQpKTtyZXR1cm4gY31mdW5jdGlvbiBjKGEpe2E9YihhKTt2YXIgYz1cIlwiLGQ9W10sZSxmO2ZvcihmPTA7ZjxhLmxlbmd0aDtmKyspZSYmIWUuZXF1YWxzKGFbZl0uZ2V0QXNjZW5kYW50KFwidHJcIikpPyhjKz1kLmpvaW4oXCJcXHRcIikrXCJcXG5cIixlPWFbZl0uZ2V0QXNjZW5kYW50KFwidHJcIiksZD1bXSk6MD09PWYmJihlPWFbZl0uZ2V0QXNjZW5kYW50KFwidHJcIikpLGQucHVzaChhW2ZdLmdldFRleHQoKSk7XG5yZXR1cm4gYys9ZC5qb2luKFwiXFx0XCIpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9dGhpcy5yb290LmVkaXRvcixkPWIuZ2V0U2VsZWN0aW9uKDEpO3RoaXMucmVzZXQoKTtuPSEwO2Qucm9vdC5vbmNlKFwic2VsZWN0aW9uY2hhbmdlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2Quc2VsZWN0UmFuZ2VzKFthWzBdXSk7ZD10aGlzLl8uY2FjaGU7ZC5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoYSk7ZC50eXBlPUNLRURJVE9SLlNFTEVDVElPTl9URVhUO2Quc2VsZWN0ZWRFbGVtZW50PWFbMF0uX2dldFRhYmxlRWxlbWVudCgpO2Quc2VsZWN0ZWRUZXh0PWMoYSk7ZC5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzRmFrZT0xO3RoaXMucmV2PU0rKztiLl8uZmFrZVNlbGVjdGlvbj10aGlzO249ITE7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9ZnVuY3Rpb24gZygpe3ZhciBiPXRoaXMuXy5mYWtlU2VsZWN0aW9uLGM7aWYoYil7Yz10aGlzLmdldFNlbGVjdGlvbigxKTtcbnZhciBlO2lmKCEoZT0hYykmJihlPSFjLmlzSGlkZGVuKCkpKXtlPWI7dmFyIGY9Yy5nZXRSYW5nZXMoKSxnPWUuZ2V0UmFuZ2VzKCksaz1mLmxlbmd0aCYmZlswXS5fZ2V0VGFibGVFbGVtZW50KCkmJmZbMF0uX2dldFRhYmxlRWxlbWVudCgpLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLGw9Zy5sZW5ndGgmJmdbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxoPTE9PT1mLmxlbmd0aCYmZlswXS5fZ2V0VGFibGVFbGVtZW50KCkmJmZbMF0uX2dldFRhYmxlRWxlbWVudCgpLmlzKFwidGFibGVcIiksQj0xPT09Zy5sZW5ndGgmJmdbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5pcyhcInRhYmxlXCIpO2lmKGEoZS5nZXRTZWxlY3RlZEVsZW1lbnQoKSkpZT0hMTtlbHNle3ZhciBBPTE9PT1mLmxlbmd0aCYmZlswXS5jb2xsYXBzZWQsZz1kKGYsISFDS0VESVRPUi5lbnYud2Via2l0KSYmXG5kKGcpO2s9ayYmbD9rLmVxdWFscyhsKXx8bC5jb250YWlucyhrKTohMTtrJiYoQXx8Zyk/KGgmJiFCJiZlLnNlbGVjdFJhbmdlcyhmKSxlPSEwKTplPSExfWU9IWV9ZSYmKGIucmVzZXQoKSxiPTApfWlmKCFiJiYoYj1jfHx0aGlzLmdldFNlbGVjdGlvbigxKSwhYnx8Yi5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FKSlyZXR1cm47dGhpcy5maXJlKFwic2VsZWN0aW9uQ2hlY2tcIixiKTtjPXRoaXMuZWxlbWVudFBhdGgoKTtjLmNvbXBhcmUodGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aCl8fChlPXRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgmJnRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGguYmxvY2tMaW1pdC5lcXVhbHMoYy5ibG9ja0xpbWl0KSwhQ0tFRElUT1IuZW52LndlYmtpdCYmIUNLRURJVE9SLmVudi5nZWNrb3x8ZXx8KHRoaXMuXy5wcmV2aW91c0FjdGl2ZT10aGlzLmRvY3VtZW50LmdldEFjdGl2ZSgpKSx0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoPVxuYyx0aGlzLmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIix7c2VsZWN0aW9uOmIscGF0aDpjfSkpfWZ1bmN0aW9uIGsoKXtDPSEwO3J8fChoLmNhbGwodGhpcykscj1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGgsMjAwLHRoaXMpKX1mdW5jdGlvbiBoKCl7cj1udWxsO0MmJihDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGcsMCx0aGlzKSxDPSExKX1mdW5jdGlvbiBwKGEpe3JldHVybiBMKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSk/ITA6ITF9ZnVuY3Rpb24gcShhKXtmdW5jdGlvbiBiKGMsZCl7cmV0dXJuIGMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP2EuY2xvbmUoKVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGQ/XCJFbmRcIjpcIlN0YXJ0XCIpXShjKTohMX1pZighKGEucm9vdCBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRhYmxlKSlyZXR1cm4hMTt2YXIgYz1hLnN0YXJ0Q29udGFpbmVyLGQ9YS5nZXRQcmV2aW91c05vZGUocCxcbm51bGwsYyksZT1hLmdldE5leHROb2RlKHAsbnVsbCxjKTtyZXR1cm4gYihkKXx8YihlLDEpfHwhKGR8fGV8fGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmlzQmxvY2tCb3VuZGFyeSgpJiZjLmdldEJvZ3VzKCkpPyEwOiExfWZ1bmN0aW9uIGUoYSl7eChhLCExKTt2YXIgYj1hLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dCh1KTthLnNldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIixiKTtyZXR1cm4gYn1mdW5jdGlvbiB4KGEsYil7dmFyIGM9YSYmYS5yZW1vdmVDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2lmKGMpe2lmKCExIT09Yil7dmFyIGQ9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGU9ZCYmXCJOb25lXCIhPWQudHlwZSYmZC5nZXRSYW5nZUF0KDApLGY9dS5sZW5ndGg7aWYoYy5nZXRMZW5ndGgoKT5mJiZlJiZlLmludGVyc2VjdHNOb2RlKGMuJCkpe3ZhciBsPVt7bm9kZTpkLmFuY2hvck5vZGUsb2Zmc2V0OmQuYW5jaG9yT2Zmc2V0fSxcbntub2RlOmQuZm9jdXNOb2RlLG9mZnNldDpkLmZvY3VzT2Zmc2V0fV07ZC5hbmNob3JOb2RlPT1jLiQmJmQuYW5jaG9yT2Zmc2V0PmYmJihsWzBdLm9mZnNldC09Zik7ZC5mb2N1c05vZGU9PWMuJCYmZC5mb2N1c09mZnNldD5mJiYobFsxXS5vZmZzZXQtPWYpfX1jLnNldFRleHQodyhjLmdldFRleHQoKSwxKSk7bCYmKGM9YS5nZXREb2N1bWVudCgpLiQsZD1jLmdldFNlbGVjdGlvbigpLGM9Yy5jcmVhdGVSYW5nZSgpLGMuc2V0U3RhcnQobFswXS5ub2RlLGxbMF0ub2Zmc2V0KSxjLmNvbGxhcHNlKCEwKSxkLnJlbW92ZUFsbFJhbmdlcygpLGQuYWRkUmFuZ2UoYyksZC5leHRlbmQobFsxXS5ub2RlLGxbMV0ub2Zmc2V0KSl9fWZ1bmN0aW9uIHcoYSxiKXtyZXR1cm4gYj9hLnJlcGxhY2UoSCxmdW5jdGlvbihhLGIpe3JldHVybiBiP1wiwqBcIjpcIlwifSk6YS5yZXBsYWNlKHUsXCJcIil9ZnVuY3Rpb24geihhLGIpe3ZhciBjPWImJkNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYil8fFwiXFx4MjZuYnNwO1wiLFxuYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgZGF0YS1ja2UtaGlkZGVuLXNlbFxceDNkXCIxXCIgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCIgc3R5bGVcXHgzZFwiJysoQ0tFRElUT1IuZW52LmllJiYxND5DS0VESVRPUi5lbnYudmVyc2lvbj9cImRpc3BsYXk6bm9uZVwiOlwicG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDotMTAwMHB4O3dpZHRoOjA7aGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVuO1wiKSsnXCJcXHgzZScrYytcIlxceDNjL2RpdlxceDNlXCIsYS5kb2N1bWVudCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2EuZWRpdGFibGUoKS5hcHBlbmQoYyk7dmFyIGQ9YS5nZXRTZWxlY3Rpb24oMSksZT1hLmNyZWF0ZVJhbmdlKCksZj1kLnJvb3Qub24oXCJzZWxlY3Rpb25jaGFuZ2VcIixmdW5jdGlvbihhKXthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7ZS5zZXRTdGFydEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2Uuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtcbmQuc2VsZWN0UmFuZ2VzKFtlXSk7Zi5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpO2EuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI9Y31mdW5jdGlvbiBGKGEpe3ZhciBiPXszNzoxLDM5OjEsODoxLDQ2OjF9O3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoYltkXSl7dmFyIGU9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxmPWVbMF07MT09ZS5sZW5ndGgmJmYuY29sbGFwc2VkJiYoZD1mWzM4PmQ/XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiOlwiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiXSgpKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihhLmdldFNlbGVjdGlvbigpLmZha2UoZCksYy5kYXRhLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWwoKSl9fX1mdW5jdGlvbiB2KGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1cbmFbYl07Yy5nZXRDb21tb25BbmNlc3RvcigpLmlzUmVhZE9ubHkoKSYmYS5zcGxpY2UoYiwxKTtpZighYy5jb2xsYXBzZWQpe2lmKGMuc3RhcnRDb250YWluZXIuaXNSZWFkT25seSgpKWZvcih2YXIgZD1jLnN0YXJ0Q29udGFpbmVyLGU7ZCYmISgoZT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmQuaXMoXCJib2R5XCIpfHwhZC5pc1JlYWRPbmx5KCkpOyllJiZcImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZjLnNldFN0YXJ0QWZ0ZXIoZCksZD1kLmdldFBhcmVudCgpO2Q9Yy5zdGFydENvbnRhaW5lcjtlPWMuZW5kQ29udGFpbmVyO3ZhciBmPWMuc3RhcnRPZmZzZXQsbD1jLmVuZE9mZnNldCxnPWMuY2xvbmUoKTtkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGY+PWQuZ2V0TGVuZ3RoKCk/Zy5zZXRTdGFydEFmdGVyKGQpOmcuc2V0U3RhcnRCZWZvcmUoZCkpO2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYobD9nLnNldEVuZEFmdGVyKGUpOlxuZy5zZXRFbmRCZWZvcmUoZSkpO2Q9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZyk7ZC5ldmFsdWF0b3I9ZnVuY3Rpb24oZCl7aWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNSZWFkT25seSgpKXt2YXIgZT1jLmNsb25lKCk7Yy5zZXRFbmRCZWZvcmUoZCk7Yy5jb2xsYXBzZWQmJmEuc3BsaWNlKGItLSwxKTtkLmdldFBvc2l0aW9uKGcuZW5kQ29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOU3x8KGUuc2V0U3RhcnRBZnRlcihkKSxlLmNvbGxhcHNlZHx8YS5zcGxpY2UoYisxLDAsZSkpO3JldHVybiEwfXJldHVybiExfTtkLm5leHQoKX19cmV0dXJuIGF9dmFyIG09XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbixNPTEsdT1DS0VESVRPUi50b29scy5yZXBlYXQoXCLigItcIiw3KSxIPW5ldyBSZWdFeHAodStcIiggKT9cIixcImdcIiksbixyLEMsTD1DS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSxEPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGM9XG5hLmVkaXRvci5jcmVhdGVSYW5nZSgpO2MubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS5zZWxlY3RlZCxiKSYmYS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7cmV0dXJuITF9fWZ1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuZWRpdG9yLGQ9Yy5jcmVhdGVSYW5nZSgpLGU7aWYoIWMucmVhZE9ubHkpcmV0dXJuKGU9ZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLGEpKXx8KGU9ZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLCFhKSksZSYmYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKSxjLmZpcmUoXCJzYXZlU25hcHNob3RcIiksYi5zZWxlY3RlZC5yZW1vdmUoKSxlfHwoZC5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihjLmVkaXRhYmxlKCkpLGMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtkXSkpLGMuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxcbiExfX12YXIgYz1hKCksZD1hKDEpO3JldHVybnszNzpjLDM4OmMsMzk6ZCw0MDpkLDg6YigpLDQ2OmIoMSl9fSgpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uKCk7YSYmYS5yZW1vdmVBbGxSYW5nZXMoKX12YXIgYz1hLmVkaXRvcjtjLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3A9bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYy5nZXRTZWxlY3Rpb24oKSk7cC5sb2NrKCl9ZnVuY3Rpb24gYigpe2YucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYik7bi5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixiKTt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC4kLnNlbGVjdGlvbixjPWEuY3JlYXRlUmFuZ2UoKTtcIk5vbmVcIiE9YS50eXBlJiZjLnBhcmVudEVsZW1lbnQoKSYmYy5wYXJlbnRFbGVtZW50KCkub3duZXJEb2N1bWVudD09ZS4kJiZjLnNlbGVjdCgpfWZ1bmN0aW9uIGQoYSl7YT1cbmEuZ2V0UmFuZ2VzKClbMF07cmV0dXJuIGE/KGE9YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0sITApKSYmXCJmYWxzZVwiPT09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/YTpudWxsOm51bGx9dmFyIGU9Yy5kb2N1bWVudCxmPUNLRURJVE9SLmRvY3VtZW50LGg9Yy5lZGl0YWJsZSgpLHQ9ZS5nZXRCb2R5KCksbj1lLmdldERvY3VtZW50RWxlbWVudCgpLEU9aC5pc0lubGluZSgpLHEscDtDS0VESVRPUi5lbnYuZ2Vja28mJmguYXR0YWNoTGlzdGVuZXIoaCxcImZvY3VzXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpOzAhPT1xJiYoYT1jLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpKSYmYS5pc0NvbGxhcHNlZCYmYS5hbmNob3JOb2RlPT1oLiQmJihhPWMuY3JlYXRlUmFuZ2UoKSxhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaCksXG5hLnNlbGVjdCgpKX0sbnVsbCxudWxsLC0yKTtoLmF0dGFjaExpc3RlbmVyKGgsQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvP1wiZm9jdXNpblwiOlwiZm9jdXNcIixmdW5jdGlvbigpe2lmKHEmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28pKXtxPWMuXy5wcmV2aW91c0FjdGl2ZSYmYy5fLnByZXZpb3VzQWN0aXZlLmVxdWFscyhlLmdldEFjdGl2ZSgpKTt2YXIgYT1udWxsIT1jLl8ucHJldmlvdXNTY3JvbGxUb3AmJmMuXy5wcmV2aW91c1Njcm9sbFRvcCE9aC4kLnNjcm9sbFRvcDtDS0VESVRPUi5lbnYud2Via2l0JiZxJiZhJiYoaC4kLnNjcm9sbFRvcD1jLl8ucHJldmlvdXNTY3JvbGxUb3ApfWMudW5sb2NrU2VsZWN0aW9uKHEpO3E9MH0sbnVsbCxudWxsLC0xKTtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3E9MH0pO2lmKENLRURJVE9SLmVudi5pZXx8RSltP2guYXR0YWNoTGlzdGVuZXIoaCxcImJlZm9yZWRlYWN0aXZhdGVcIixcbmEsbnVsbCxudWxsLC0xKTpoLmF0dGFjaExpc3RlbmVyKGMsXCJzZWxlY3Rpb25DaGVja1wiLGEsbnVsbCxudWxsLC0xKSxoLmF0dGFjaExpc3RlbmVyKGgsQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvP1wiZm9jdXNvdXRcIjpcImJsdXJcIixmdW5jdGlvbigpe2MubG9ja1NlbGVjdGlvbihwKTtxPTF9LG51bGwsbnVsbCwtMSksaC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtxPTB9KTtpZihDS0VESVRPUi5lbnYuaWUmJiFFKXt2YXIgdztoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJigoYT1jLmRvY3VtZW50LmdldFNlbGVjdGlvbigpKSYmYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FfHwodz1jLndpbmRvdy5nZXRTY3JvbGxQb3NpdGlvbigpKSl9KTtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7Mj09YS5kYXRhLiQuYnV0dG9uJiZcbncmJihjLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9dy54LGMuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXcueSk7dz1udWxsfSk7aWYoXCJCYWNrQ29tcGF0XCIhPWUuJC5jb21wYXRNb2RlKXtpZihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgcix1O24ub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYocil7dmFyIGM9dC4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtjLm1vdmVUb1BvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfWNhdGNoKGQpe31yLnNldEVuZFBvaW50KDA+dS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYyk/XCJFbmRUb0VuZFwiOlwiU3RhcnRUb1N0YXJ0XCIsYyk7ci5zZWxlY3QoKX19ZnVuY3Rpb24gYygpe24ucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtmLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO24ucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsXG5jKTtyLnNlbGVjdCgpfWE9YS5kYXRhO2lmKGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZhLiQueTxuLiQuY2xpZW50SGVpZ2h0JiZhLiQueDxuLiQuY2xpZW50V2lkdGgpe3I9dC4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtyLm1vdmVUb1BvaW50KGEuJC5jbGllbnRYLGEuJC5jbGllbnRZKX1jYXRjaChkKXt9dT1yLmR1cGxpY2F0ZSgpO24ub24oXCJtb3VzZW1vdmVcIixiKTtmLm9uKFwibW91c2V1cFwiLGMpO24ub24oXCJtb3VzZXVwXCIsYyl9fSl9aWYoNzxDS0VESVRPUi5lbnYudmVyc2lvbiYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pbi5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJihmLm9uKFwibW91c2V1cFwiLGIpLG4ub24oXCJtb3VzZXVwXCIsYikpfSl9fWguYXR0YWNoTGlzdGVuZXIoaCxcInNlbGVjdGlvbmNoYW5nZVwiLGcsYyk7aC5hdHRhY2hMaXN0ZW5lcihoLFwia2V5dXBcIixrLGMpO2guYXR0YWNoTGlzdGVuZXIoaCxcInRvdWNoc3RhcnRcIixcbmssYyk7aC5hdHRhY2hMaXN0ZW5lcihoLFwidG91Y2hlbmRcIixrLGMpO0NLRURJVE9SLmVudi5pZSYmaC5hdHRhY2hMaXN0ZW5lcihoLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0aW9uKDEpLGM9ZChiKTtjJiYhYy5lcXVhbHMoaCkmJihiLnNlbGVjdEVsZW1lbnQoYyksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSxjKTtoLmF0dGFjaExpc3RlbmVyKGgsQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvP1wiZm9jdXNpblwiOlwiZm9jdXNcIixmdW5jdGlvbigpe2MuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtjLnNlbGVjdGlvbkNoYW5nZSgxKX0pO2lmKEUmJihDS0VESVRPUi5lbnYud2Via2l0fHxDS0VESVRPUi5lbnYuZ2Vja28pKXt2YXIgdjtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3Y9MX0pO2guYXR0YWNoTGlzdGVuZXIoZS5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixmdW5jdGlvbigpe3YmJlxuay5jYWxsKGMpO3Y9MH0pfWVsc2UgaC5hdHRhY2hMaXN0ZW5lcihDS0VESVRPUi5lbnYuaWU/aDplLmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGssYyk7Q0tFRElUT1IuZW52LndlYmtpdCYmaC5hdHRhY2hMaXN0ZW5lcihlLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmRhdGEuZ2V0S2V5KCkpe2Nhc2UgMTM6Y2FzZSAzMzpjYXNlIDM0OmNhc2UgMzU6Y2FzZSAzNjpjYXNlIDM3OmNhc2UgMzk6Y2FzZSA4OmNhc2UgNDU6Y2FzZSA0NjpoLmhhc0ZvY3VzJiZ4KGgpfX0sbnVsbCxudWxsLC0xKTtoLmF0dGFjaExpc3RlbmVyKGgsXCJrZXlkb3duXCIsRihjKSxudWxsLG51bGwsLTEpfSk7Yy5vbihcInNldERhdGFcIixmdW5jdGlvbigpe2MudW5sb2NrU2VsZWN0aW9uKCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYigpfSk7Yy5vbihcImNvbnRlbnREb21VbmxvYWRcIixmdW5jdGlvbigpe2MudW5sb2NrU2VsZWN0aW9uKCl9KTtpZihDS0VESVRPUi5lbnYuaWU5Q29tcGF0KWMub24oXCJiZWZvcmVEZXN0cm95XCIsXG5iLG51bGwsbnVsbCw5KTtjLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtkZWxldGUgYy5fLmZha2VTZWxlY3Rpb247ZGVsZXRlIGMuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7Yy5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtjLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCksYj1jLmVkaXRhYmxlKCkuZ2V0TGFzdChhKTtiJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLWhpZGRlbi1zZWxcIikmJihiLnJlbW92ZSgpLENLRURJVE9SLmVudi5nZWNrbyYmKGE9Yy5lZGl0YWJsZSgpLmdldEZpcnN0KGEpKSYmYS5pcyhcImJyXCIpJiZhLmdldEF0dHJpYnV0ZShcIl9tb3pfZWRpdG9yX2JvZ3VzX25vZGVcIikmJmEucmVtb3ZlKCkpfSxudWxsLG51bGwsMTAwKTtjLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7aWYoXCJ3eXNpd3lnXCI9PWMubW9kZSl7dmFyIGI9Yy5nZXRTZWxlY3Rpb24oKTtpZihiLmlzRmFrZSl7dmFyIGQ9XG5EW2EuZGF0YS5rZXlDb2RlXTtpZihkKXJldHVybiBkKHtlZGl0b3I6YyxzZWxlY3RlZDpiLmdldFNlbGVjdGVkRWxlbWVudCgpLHNlbGVjdGlvbjpiLGtleUV2ZW50OmF9KX19fSl9KTtpZihDS0VESVRPUi5lbnYud2Via2l0KUNLRURJVE9SLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBhPWIuZWRpdGFibGUoKSxjPWEuZ2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtjJiYoYy5nZXRDdXN0b21EYXRhKFwicmVhZHlcIik/KHgoYSksYS5lZGl0b3IuZmlyZShcInNlbGVjdGlvbkNoZWNrXCIpKTpjLnNldEN1c3RvbURhdGEoXCJyZWFkeVwiLDEpKX0sbnVsbCxudWxsLC0xKTtiLm9uKFwiYmVmb3JlU2V0TW9kZVwiLGZ1bmN0aW9uKCl7eChiLmVkaXRhYmxlKCkpfSxudWxsLG51bGwsLTEpO2Iub24oXCJnZXRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YSYmKGEuZGF0YT13KGEuZGF0YSkpfSxcbmIsbnVsbCwyMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWU9dyhhLmRhdGEuZGF0YVZhbHVlKX0sbnVsbCxudWxsLDApfSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5zZWxlY3Rpb25DaGFuZ2U9ZnVuY3Rpb24oYSl7KGE/ZzprKS5jYWxsKHRoaXMpfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5fLnNhdmVkU2VsZWN0aW9uJiYhdGhpcy5fLmZha2VTZWxlY3Rpb258fGE/KGE9dGhpcy5lZGl0YWJsZSgpKSYmXCJ3eXNpd3lnXCI9PXRoaXMubW9kZT9uZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbihhKTpudWxsOnRoaXMuXy5zYXZlZFNlbGVjdGlvbnx8dGhpcy5fLmZha2VTZWxlY3Rpb259O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXthPWF8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpO3JldHVybiBhLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU/XG4oIWEuaXNMb2NrZWQmJmEubG9jaygpLHRoaXMuXy5zYXZlZFNlbGVjdGlvbj1hLCEwKTohMX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS51bmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnNhdmVkU2VsZWN0aW9uO3JldHVybiBiPyhiLnVubG9jayhhKSxkZWxldGUgdGhpcy5fLnNhdmVkU2VsZWN0aW9uLCEwKTohMX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRofTtDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLmdldFNlbGVjdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbih0aGlzKX07Q0tFRElUT1IuZG9tLnJhbmdlLnByb3RvdHlwZS5zZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZT90aGlzLnJvb3QuZWRpdG9yLmdldFNlbGVjdGlvbigpOlxubmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24odGhpcy5yb290KTthLnNlbGVjdFJhbmdlcyhbdGhpc10pO3JldHVybiBhfTtDS0VESVRPUi5TRUxFQ1RJT05fTk9ORT0xO0NLRURJVE9SLlNFTEVDVElPTl9URVhUPTI7Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ9MztDS0VESVRPUi5kb20uc2VsZWN0aW9uPWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKXt2YXIgYj1hO2E9YS5yb290fXZhciBjPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudDt0aGlzLnJldj1iP2IucmV2Ok0rKzt0aGlzLmRvY3VtZW50PWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQ/YTphLmdldERvY3VtZW50KCk7dGhpcy5yb290PWM/YTp0aGlzLmRvY3VtZW50LmdldEJvZHkoKTt0aGlzLmlzTG9ja2VkPTA7dGhpcy5fPXtjYWNoZTp7fX07aWYoYilyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMuXy5jYWNoZSxiLl8uY2FjaGUpLFxudGhpcy5pc0Zha2U9Yi5pc0Zha2UsdGhpcy5pc0xvY2tlZD1iLmlzTG9ja2VkLHRoaXM7YT10aGlzLmdldE5hdGl2ZSgpO3ZhciBkLGU7aWYoYSlpZihhLmdldFJhbmdlQXQpZD0oZT1hLnJhbmdlQ291bnQmJmEuZ2V0UmFuZ2VBdCgwKSkmJm5ldyBDS0VESVRPUi5kb20ubm9kZShlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyKTtlbHNle3RyeXtlPWEuY3JlYXRlUmFuZ2UoKX1jYXRjaChmKXt9ZD1lJiZDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZS5pdGVtJiZlLml0ZW0oMCl8fGUucGFyZW50RWxlbWVudCgpKX1pZighZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUfHwhdGhpcy5yb290LmVxdWFscyhkKSYmIXRoaXMucm9vdC5jb250YWlucyhkKSl0aGlzLl8uY2FjaGUudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSx0aGlzLl8uY2FjaGUuc3RhcnRFbGVtZW50PW51bGwsdGhpcy5fLmNhY2hlLnNlbGVjdGVkRWxlbWVudD1cbm51bGwsdGhpcy5fLmNhY2hlLnNlbGVjdGVkVGV4dD1cIlwiLHRoaXMuXy5jYWNoZS5yYW5nZXM9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3Q7cmV0dXJuIHRoaXN9O3ZhciBOPXtpbWc6MSxocjoxLGxpOjEsdGFibGU6MSx0cjoxLHRkOjEsdGg6MSxlbWJlZDoxLG9iamVjdDoxLG9sOjEsdWw6MSxhOjEsaW5wdXQ6MSxmb3JtOjEsc2VsZWN0OjEsdGV4dGFyZWE6MSxidXR0b246MSxmaWVsZHNldDoxLHRoZWFkOjEsdGZvb3Q6MX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5zZWxlY3Rpb24se19yZW1vdmVGaWxsaW5nQ2hhclNlcXVlbmNlU3RyaW5nOncsX2NyZWF0ZUZpbGxpbmdDaGFyU2VxdWVuY2VOb2RlOmUsRklMTElOR19DSEFSX1NFUVVFTkNFOnV9KTtDS0VESVRPUi5kb20uc2VsZWN0aW9uLnByb3RvdHlwZT17Z2V0TmF0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuXy5jYWNoZS5uYXRpdmVTZWw/dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbDp0aGlzLl8uY2FjaGUubmF0aXZlU2VsPVxubT90aGlzLmRvY3VtZW50LiQuc2VsZWN0aW9uOnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5nZXRTZWxlY3Rpb24oKX0sZ2V0VHlwZTptP2Z1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO3RyeXt2YXIgYz10aGlzLmdldE5hdGl2ZSgpLGQ9Yy50eXBlO1wiVGV4dFwiPT1kJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCk7XCJDb250cm9sXCI9PWQmJihiPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKTtjLmNyZWF0ZVJhbmdlKCkucGFyZW50RWxlbWVudCgpJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVCl9Y2F0Y2goZSl7fXJldHVybiBhLnR5cGU9Yn06ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS50eXBlKXJldHVybiBhLnR5cGU7dmFyIGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQsYz10aGlzLmdldE5hdGl2ZSgpO2lmKCFjfHwhYy5yYW5nZUNvdW50KWI9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU7XG5lbHNlIGlmKDE9PWMucmFuZ2VDb3VudCl7dmFyIGM9Yy5nZXRSYW5nZUF0KDApLGQ9Yy5zdGFydENvbnRhaW5lcjtkPT1jLmVuZENvbnRhaW5lciYmMT09ZC5ub2RlVHlwZSYmMT09Yy5lbmRPZmZzZXQtYy5zdGFydE9mZnNldCYmTltkLmNoaWxkTm9kZXNbYy5zdGFydE9mZnNldF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0mJihiPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UKX1yZXR1cm4gYS50eXBlPWJ9LGdldFJhbmdlczpmdW5jdGlvbigpe3ZhciBhPW0/ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybihuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpLmdldEluZGV4KCl9dmFyIGI9ZnVuY3Rpb24oYixjKXtiPWIuZHVwbGljYXRlKCk7Yi5jb2xsYXBzZShjKTt2YXIgZD1iLnBhcmVudEVsZW1lbnQoKTtpZighZC5oYXNDaGlsZE5vZGVzKCkpcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDowfTtmb3IodmFyIGU9ZC5jaGlsZHJlbixmLGcsaD1iLmR1cGxpY2F0ZSgpLGs9MCxcbm09ZS5sZW5ndGgtMSxuPS0xLHQscTtrPD1tOylpZihuPU1hdGguZmxvb3IoKGsrbSkvMiksZj1lW25dLGgubW92ZVRvRWxlbWVudFRleHQoZiksdD1oLmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvU3RhcnRcIixiKSwwPHQpbT1uLTE7ZWxzZSBpZigwPnQpaz1uKzE7ZWxzZSByZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZil9O2lmKC0xPT1ufHxuPT1lLmxlbmd0aC0xJiYwPnQpe2gubW92ZVRvRWxlbWVudFRleHQoZCk7aC5zZXRFbmRQb2ludChcIlN0YXJ0VG9TdGFydFwiLGIpO2g9aC50ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLmxlbmd0aDtlPWQuY2hpbGROb2RlcztpZighaClyZXR1cm4gZj1lW2UubGVuZ3RoLTFdLGYubm9kZVR5cGUhPUNLRURJVE9SLk5PREVfVEVYVD97Y29udGFpbmVyOmQsb2Zmc2V0OmUubGVuZ3RofTp7Y29udGFpbmVyOmYsb2Zmc2V0OmYubm9kZVZhbHVlLmxlbmd0aH07Zm9yKGQ9ZS5sZW5ndGg7MDxoJiYwPGQ7KWc9ZVstLWRdLGcubm9kZVR5cGU9PVxuQ0tFRElUT1IuTk9ERV9URVhUJiYocT1nLGgtPWcubm9kZVZhbHVlLmxlbmd0aCk7cmV0dXJue2NvbnRhaW5lcjpxLG9mZnNldDotaH19aC5jb2xsYXBzZSgwPHQ/ITA6ITEpO2guc2V0RW5kUG9pbnQoMDx0P1wiU3RhcnRUb1N0YXJ0XCI6XCJFbmRUb1N0YXJ0XCIsYik7aD1oLnRleHQucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIikubGVuZ3RoO2lmKCFoKXJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6YShmKSsoMDx0PzA6MSl9O2Zvcig7MDxoOyl0cnl7Zz1mWzA8dD9cInByZXZpb3VzU2libGluZ1wiOlwibmV4dFNpYmxpbmdcIl0sZy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoaC09Zy5ub2RlVmFsdWUubGVuZ3RoLHE9ZyksZj1nfWNhdGNoKHApe3JldHVybntjb250YWluZXI6ZCxvZmZzZXQ6YShmKX19cmV0dXJue2NvbnRhaW5lcjpxLG9mZnNldDowPHQ/LWg6cS5ub2RlVmFsdWUubGVuZ3RoK2h9fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpLGM9YSYmXG5hLmNyZWF0ZVJhbmdlKCksZD10aGlzLmdldFR5cGUoKTtpZighYSlyZXR1cm5bXTtpZihkPT1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVClyZXR1cm4gYT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCksZD1iKGMsITApLGEuc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGQuY29udGFpbmVyKSxkLm9mZnNldCksZD1iKGMpLGEuc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpLGEuZW5kQ29udGFpbmVyLmdldFBvc2l0aW9uKGEuc3RhcnRDb250YWluZXIpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORyYmYS5lbmRPZmZzZXQ8PWEuc3RhcnRDb250YWluZXIuZ2V0SW5kZXgoKSYmYS5jb2xsYXBzZSgpLFthXTtpZihkPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl7Zm9yKHZhciBkPVtdLGU9MDtlPGMubGVuZ3RoO2UrKyl7Zm9yKHZhciBmPWMuaXRlbShlKSxnPWYucGFyZW50Tm9kZSxoPTAsYT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7aDxcbmcuY2hpbGROb2Rlcy5sZW5ndGgmJmcuY2hpbGROb2Rlc1toXSE9ZjtoKyspO2Euc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKGcpLGgpO2Euc2V0RW5kKG5ldyBDS0VESVRPUi5kb20ubm9kZShnKSxoKzEpO2QucHVzaChhKX1yZXR1cm4gZH1yZXR1cm5bXX19KCk6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGM9dGhpcy5nZXROYXRpdmUoKTtpZighYylyZXR1cm4gYTtmb3IodmFyIGQ9MDtkPGMucmFuZ2VDb3VudDtkKyspe3ZhciBlPWMuZ2V0UmFuZ2VBdChkKTtiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShlLnN0YXJ0Q29udGFpbmVyKSxlLnN0YXJ0T2Zmc2V0KTtiLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5lbmRDb250YWluZXIpLGUuZW5kT2Zmc2V0KTthLnB1c2goYil9cmV0dXJuIGF9O3JldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLl8uY2FjaGUsZD1jLnJhbmdlcztkfHwoYy5yYW5nZXM9XG5kPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEuY2FsbCh0aGlzKSkpO3JldHVybiBiP3YobmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoZC5zbGljZSgpKSk6ZH19KCksZ2V0U3RhcnRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc3RhcnRFbGVtZW50KXJldHVybiBhLnN0YXJ0RWxlbWVudDt2YXIgYjtzd2l0Y2godGhpcy5nZXRUeXBlKCkpe2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQ6cmV0dXJuIHRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7Y2FzZSBDS0VESVRPUi5TRUxFQ1RJT05fVEVYVDp2YXIgYz10aGlzLmdldFJhbmdlcygpWzBdO2lmKGMpe2lmKGMuY29sbGFwc2VkKWI9Yy5zdGFydENvbnRhaW5lcixiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSk7ZWxzZXtmb3IoYy5vcHRpbWl6ZSgpO2I9Yy5zdGFydENvbnRhaW5lcixjLnN0YXJ0T2Zmc2V0PT0oYi5nZXRDaGlsZENvdW50P1xuYi5nZXRDaGlsZENvdW50KCk6Yi5nZXRMZW5ndGgoKSkmJiFiLmlzQmxvY2tCb3VuZGFyeSgpOyljLnNldFN0YXJ0QWZ0ZXIoYik7Yj1jLnN0YXJ0Q29udGFpbmVyO2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBiLmdldFBhcmVudCgpO2lmKChiPWIuZ2V0Q2hpbGQoYy5zdGFydE9mZnNldCkpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClmb3IoYz1iLmdldEZpcnN0KCk7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ7KWI9YyxjPWMuZ2V0Rmlyc3QoKTtlbHNlIGI9Yy5zdGFydENvbnRhaW5lcn1iPWIuJH19cmV0dXJuIGEuc3RhcnRFbGVtZW50PWI/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIpOm51bGx9LGdldFNlbGVjdGVkRWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnNlbGVjdGVkRWxlbWVudClyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ7dmFyIGI9dGhpcyxjPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKS5pdGVtKDApfSxcbmZ1bmN0aW9uKCl7Zm9yKHZhciBhPWIuZ2V0UmFuZ2VzKClbMF0uY2xvbmUoKSxjLGQsZT0yO2UmJiEoKGM9YS5nZXRFbmNsb3NlZE5vZGUoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZOW2MuZ2V0TmFtZSgpXSYmKGQ9YykpO2UtLSlhLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCk7cmV0dXJuIGQmJmQuJH0pO3JldHVybiBhLnNlbGVjdGVkRWxlbWVudD1jP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKTpudWxsfSxnZXRTZWxlY3RlZFRleHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zZWxlY3RlZFRleHQpcmV0dXJuIGEuc2VsZWN0ZWRUZXh0O3ZhciBiPXRoaXMuZ2V0TmF0aXZlKCksYj1tP1wiQ29udHJvbFwiPT1iLnR5cGU/XCJcIjpiLmNyZWF0ZVJhbmdlKCkudGV4dDpiLnRvU3RyaW5nKCk7cmV0dXJuIGEuc2VsZWN0ZWRUZXh0PWJ9LGxvY2s6ZnVuY3Rpb24oKXt0aGlzLmdldFJhbmdlcygpO3RoaXMuZ2V0U3RhcnRFbGVtZW50KCk7XG50aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO3RoaXMuZ2V0U2VsZWN0ZWRUZXh0KCk7dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNMb2NrZWQ9MX0sdW5sb2NrOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNMb2NrZWQpe2lmKGEpdmFyIGI9dGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKSxjPXRoaXMuZ2V0UmFuZ2VzKCksZT10aGlzLmlzRmFrZTt0aGlzLmlzTG9ja2VkPTA7dGhpcy5yZXNldCgpO2EmJihhPWJ8fGNbMF0mJmNbMF0uZ2V0Q29tbW9uQW5jZXN0b3IoKSkmJmEuZ2V0QXNjZW5kYW50KFwiYm9keVwiLDEpJiYoZChjKT9mLmNhbGwodGhpcyxjKTplP3RoaXMuZmFrZShiKTpiP3RoaXMuc2VsZWN0RWxlbWVudChiKTp0aGlzLnNlbGVjdFJhbmdlcyhjKSl9fSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5jYWNoZT17fTt0aGlzLmlzRmFrZT0wO3ZhciBhPXRoaXMucm9vdC5lZGl0b3I7aWYoYSYmYS5fLmZha2VTZWxlY3Rpb24paWYodGhpcy5yZXY9PWEuXy5mYWtlU2VsZWN0aW9uLnJldil7ZGVsZXRlIGEuXy5mYWtlU2VsZWN0aW9uO1xudmFyIGI9YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjtpZihiKXt2YXIgYz1hLmNoZWNrRGlydHkoKTthLmZpcmUoXCJsb2NrU25hcHNob3RcIik7Yi5yZW1vdmUoKTthLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTshYyYmYS5yZXNldERpcnR5KCl9ZGVsZXRlIGEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXJ9ZWxzZSBDS0VESVRPUi53YXJuKFwic2VsZWN0aW9uLWZha2UtcmVzZXRcIik7dGhpcy5yZXY9TSsrfSxzZWxlY3RFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtiLnNldFN0YXJ0QmVmb3JlKGEpO2Iuc2V0RW5kQWZ0ZXIoYSk7dGhpcy5zZWxlY3RSYW5nZXMoW2JdKX0sc2VsZWN0UmFuZ2VzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucm9vdC5lZGl0b3IsYz1iJiZiLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO3RoaXMucmVzZXQoKTtpZihjKWZvcih2YXIgYz10aGlzLnJvb3QsZyxoPTA7aDxhLmxlbmd0aDsrK2gpZz1cbmFbaF0sZy5lbmRDb250YWluZXIuZXF1YWxzKGMpJiYoZy5lbmRPZmZzZXQ9TWF0aC5taW4oZy5lbmRPZmZzZXQsYy5nZXRDaGlsZENvdW50KCkpKTtpZihhLmxlbmd0aClpZih0aGlzLmlzTG9ja2VkKXt2YXIgaz1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTt0aGlzLnVubG9jaygpO3RoaXMuc2VsZWN0UmFuZ2VzKGEpO3RoaXMubG9jaygpO2smJiFrLmVxdWFscyh0aGlzLnJvb3QpJiZrLmZvY3VzKCl9ZWxzZXt2YXIgbDthOnt2YXIgcCxCO2lmKDE9PWEubGVuZ3RoJiYhKEI9YVswXSkuY29sbGFwc2VkJiYobD1CLmdldEVuY2xvc2VkTm9kZSgpKSYmbC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihCPUIuY2xvbmUoKSxCLnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCksKHA9Qi5nZXRFbmNsb3NlZE5vZGUoKSkmJnAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYobD1wKSxcImZhbHNlXCI9PWwuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSlicmVhayBhO1xubD12b2lkIDB9aWYobCl0aGlzLmZha2UobCk7ZWxzZSBpZihiJiZiLnBsdWdpbnMudGFibGVzZWxlY3Rpb24mJkNLRURJVE9SLnBsdWdpbnMudGFibGVzZWxlY3Rpb24uaXNTdXBwb3J0ZWRFbnZpcm9ubWVudCYmZChhKSYmIW4pZi5jYWxsKHRoaXMsYSk7ZWxzZXtpZihtKXtwPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApO2w9L1xcdWZlZmZ8XFx1MDBhMC87Qj17dGFibGU6MSx0Ym9keToxLHRyOjF9OzE8YS5sZW5ndGgmJihiPWFbYS5sZW5ndGgtMV0sYVswXS5zZXRFbmQoYi5lbmRDb250YWluZXIsYi5lbmRPZmZzZXQpKTtiPWFbMF07YT1iLmNvbGxhcHNlZDt2YXIgQSxKLEc7aWYoKGM9Yi5nZXRFbmNsb3NlZE5vZGUoKSkmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmdldE5hbWUoKWluIE4mJighYy5pcyhcImFcIil8fCFjLmdldFRleHQoKSkpdHJ5e0c9Yy4kLmNyZWF0ZUNvbnRyb2xSYW5nZSgpO0cuYWRkRWxlbWVudChjLiQpO0cuc2VsZWN0KCk7cmV0dXJufWNhdGNoKHcpe31pZihiLnN0YXJ0Q29udGFpbmVyLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLnN0YXJ0Q29udGFpbmVyLmdldE5hbWUoKWluIEJ8fGIuZW5kQ29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5lbmRDb250YWluZXIuZ2V0TmFtZSgpaW4gQiliLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApLGE9Yi5jb2xsYXBzZWQ7Rz1iLmNyZWF0ZUJvb2ttYXJrKCk7Qj1HLnN0YXJ0Tm9kZTthfHwoaz1HLmVuZE5vZGUpO0c9Yi5kb2N1bWVudC4kLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7Ry5tb3ZlVG9FbGVtZW50VGV4dChCLiQpO0cubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsMSk7az8obD1iLmRvY3VtZW50LiQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxsLm1vdmVUb0VsZW1lbnRUZXh0KGsuJCksRy5zZXRFbmRQb2ludChcIkVuZFRvRW5kXCIsbCksRy5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsLTEpKTooQT1CLmdldE5leHQocCksSj1CLmhhc0FzY2VuZGFudChcInByZVwiKSxBPSEoQSYmQS5nZXRUZXh0JiZBLmdldFRleHQoKS5tYXRjaChsKSkmJlxuKEp8fCFCLmhhc1ByZXZpb3VzKCl8fEIuZ2V0UHJldmlvdXMoKS5pcyYmQi5nZXRQcmV2aW91cygpLmlzKFwiYnJcIikpLEo9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKSxKLnNldEh0bWwoXCJcXHgyNiM2NTI3OTtcIiksSi5pbnNlcnRCZWZvcmUoQiksQSYmYi5kb2N1bWVudC5jcmVhdGVUZXh0KFwi77u/XCIpLmluc2VydEJlZm9yZShCKSk7Yi5zZXRTdGFydEJlZm9yZShCKTtCLnJlbW92ZSgpO2E/KEE/KEcubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLTEpLEcuc2VsZWN0KCksYi5kb2N1bWVudC4kLnNlbGVjdGlvbi5jbGVhcigpKTpHLnNlbGVjdCgpLGIubW92ZVRvUG9zaXRpb24oSixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLEoucmVtb3ZlKCkpOihiLnNldEVuZEJlZm9yZShrKSxrLnJlbW92ZSgpLEcuc2VsZWN0KCkpfWVsc2V7az10aGlzLmdldE5hdGl2ZSgpO2lmKCFrKXJldHVybjt0aGlzLnJlbW92ZUFsbFJhbmdlcygpO2ZvcihHPTA7RzxhLmxlbmd0aDtHKyspe2lmKEc8XG5hLmxlbmd0aC0xJiYoQT1hW0ddLEo9YVtHKzFdLGw9QS5jbG9uZSgpLGwuc2V0U3RhcnQoQS5lbmRDb250YWluZXIsQS5lbmRPZmZzZXQpLGwuc2V0RW5kKEouc3RhcnRDb250YWluZXIsSi5zdGFydE9mZnNldCksIWwuY29sbGFwc2VkJiYobC5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKSxiPWwuZ2V0Q29tbW9uQW5jZXN0b3IoKSxsPWwuZ2V0RW5jbG9zZWROb2RlKCksYi5pc1JlYWRPbmx5KCl8fGwmJmwuaXNSZWFkT25seSgpKSkpe0ouc2V0U3RhcnQoQS5zdGFydENvbnRhaW5lcixBLnN0YXJ0T2Zmc2V0KTthLnNwbGljZShHLS0sMSk7Y29udGludWV9Yj1hW0ddO0o9dGhpcy5kb2N1bWVudC4kLmNyZWF0ZVJhbmdlKCk7Yi5jb2xsYXBzZWQmJkNLRURJVE9SLmVudi53ZWJraXQmJnEoYikmJihsPWUodGhpcy5yb290KSxiLmluc2VydE5vZGUobCksKEE9bC5nZXROZXh0KCkpJiYhbC5nZXRQcmV2aW91cygpJiZBLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJiclwiPT1cbkEuZ2V0TmFtZSgpPyh4KHRoaXMucm9vdCksYi5tb3ZlVG9Qb3NpdGlvbihBLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpOmIubW92ZVRvUG9zaXRpb24obCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTtKLnNldFN0YXJ0KGIuc3RhcnRDb250YWluZXIuJCxiLnN0YXJ0T2Zmc2V0KTt0cnl7Si5zZXRFbmQoYi5lbmRDb250YWluZXIuJCxiLmVuZE9mZnNldCl9Y2F0Y2gocil7aWYoMDw9ci50b1N0cmluZygpLmluZGV4T2YoXCJOU19FUlJPUl9JTExFR0FMX1ZBTFVFXCIpKWIuY29sbGFwc2UoMSksSi5zZXRFbmQoYi5lbmRDb250YWluZXIuJCxiLmVuZE9mZnNldCk7ZWxzZSB0aHJvdyByO31rLmFkZFJhbmdlKEopfX10aGlzLnJlc2V0KCk7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9fX0sZmFrZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMucm9vdC5lZGl0b3I7dm9pZCAwPT09YiYmYS5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpJiYoYj1hLmdldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIikpO1xudGhpcy5yZXNldCgpO3ooYyxiKTt2YXIgZD10aGlzLl8uY2FjaGUsZT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7ZS5zZXRTdGFydEJlZm9yZShhKTtlLnNldEVuZEFmdGVyKGEpO2QucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGUpO2Quc2VsZWN0ZWRFbGVtZW50PWQuc3RhcnRFbGVtZW50PWE7ZC50eXBlPUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UO2Quc2VsZWN0ZWRUZXh0PWQubmF0aXZlU2VsPW51bGw7dGhpcy5pc0Zha2U9MTt0aGlzLnJldj1NKys7Yy5fLmZha2VTZWxlY3Rpb249dGhpczt0aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX0saXNIaWRkZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldENvbW1vbkFuY2VzdG9yKCk7YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPWEuZ2V0UGFyZW50KCkpO3JldHVybiEoIWF8fCFhLmRhdGEoXCJja2UtaGlkZGVuLXNlbFwiKSl9LGlzSW5UYWJsZTpmdW5jdGlvbihhKXtyZXR1cm4gZCh0aGlzLmdldFJhbmdlcygpLFxuYSl9LGlzQ29sbGFwc2VkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSYW5nZXMoKTtyZXR1cm4gMT09PWEubGVuZ3RoJiZhWzBdLmNvbGxhcHNlZH0sY3JlYXRlQm9va21hcmtzOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MoYSk7dGhpcy5pc0Zha2UmJihhLmlzRmFrZT0xKTtyZXR1cm4gYX0sY3JlYXRlQm9va21hcmtzMjpmdW5jdGlvbihhKXthPXRoaXMuZ2V0UmFuZ2VzKCkuY3JlYXRlQm9va21hcmtzMihhKTt0aGlzLmlzRmFrZSYmKGEuaXNGYWtlPTEpO3JldHVybiBhfSxzZWxlY3RCb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGMsZT0wO2U8YS5sZW5ndGg7ZSsrKXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Zi5tb3ZlVG9Cb29rbWFyayhhW2VdKTtiLnB1c2goZil9YS5pc0Zha2UmJihjPWQoYik/YlswXS5fZ2V0VGFibGVFbGVtZW50KCk6YlswXS5nZXRFbmNsb3NlZE5vZGUoKSxjJiZjLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UfHwoQ0tFRElUT1Iud2FybihcInNlbGVjdGlvbi1ub3QtZmFrZVwiKSxhLmlzRmFrZT0wKSk7YS5pc0Zha2UmJiFkKGIpP3RoaXMuZmFrZShjKTp0aGlzLnNlbGVjdFJhbmdlcyhiKTtyZXR1cm4gdGhpc30sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJhbmdlcygpO3JldHVybiBhLmxlbmd0aD9hWzBdLnN0YXJ0Q29udGFpbmVyLmdldENvbW1vbkFuY2VzdG9yKGFbYS5sZW5ndGgtMV0uZW5kQ29udGFpbmVyKTpudWxsfSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbigpe3RoaXMudHlwZSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUmJnRoaXMuZ2V0UmFuZ2VzKClbMF0uc2Nyb2xsSW50b1ZpZXcoKX0scmVtb3ZlQWxsUmFuZ2VzOmZ1bmN0aW9uKCl7aWYodGhpcy5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FKXt2YXIgYT10aGlzLmdldE5hdGl2ZSgpO3RyeXthJiZhW20/XCJlbXB0eVwiOlwicmVtb3ZlQWxsUmFuZ2VzXCJdKCl9Y2F0Y2goYil7fXRoaXMucmVzZXQoKX19fX0pKCk7XG5cInVzZSBzdHJpY3RcIjtDS0VESVRPUi5TVFlMRV9CTE9DSz0xO0NLRURJVE9SLlNUWUxFX0lOTElORT0yO0NLRURJVE9SLlNUWUxFX09CSkVDVD0zO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Zvcih2YXIgYyxkOyhhPWEuZ2V0UGFyZW50KCkpJiYhYS5lcXVhbHMoYik7KWlmKGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpKWM9YTtlbHNlIGlmKCFkKXt2YXIgZT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKTtcImZhbHNlXCI9PWU/Yz1hOlwidHJ1ZVwiPT1lJiYoZD0xKX1yZXR1cm4gY31mdW5jdGlvbiBkKGEsYixjLGQpe3JldHVybihhLmdldFBvc2l0aW9uKGIpfGQpPT1kJiYoIWMuY2hpbGRSdWxlfHxjLmNoaWxkUnVsZShhKSl9ZnVuY3Rpb24gYihjKXt2YXIgZT1jLmRvY3VtZW50O2lmKGMuY29sbGFwc2VkKWU9TSh0aGlzLGUpLGMuaW5zZXJ0Tm9kZShlKSxjLm1vdmVUb1Bvc2l0aW9uKGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZWxzZXt2YXIgZz10aGlzLmVsZW1lbnQsaD10aGlzLl8uZGVmaW5pdGlvbixrLG09aC5pZ25vcmVSZWFkb25seSxuPW18fGguaW5jbHVkZVJlYWRvbmx5O251bGw9PVxubiYmKG49Yy5yb290LmdldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIpKTt2YXIgcT1DS0VESVRPUi5kdGRbZ107cXx8KGs9ITAscT1DS0VESVRPUi5kdGQuc3Bhbik7Yy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLDEpO2MudHJpbSgpO3ZhciBwPWMuY3JlYXRlQm9va21hcmsoKSx0PXAuc3RhcnROb2RlLHc9cC5lbmROb2RlLHI9dCx4O2lmKCFtKXt2YXIgdT1jLmdldENvbW1vbkFuY2VzdG9yKCksbT1hKHQsdSksdT1hKHcsdSk7bSYmKHI9bS5nZXROZXh0U291cmNlTm9kZSghMCkpO3UmJih3PXUpfWZvcihyLmdldFBvc2l0aW9uKHcpPT1DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkcmJihyPTApO3I7KXttPSExO2lmKHIuZXF1YWxzKHcpKXI9bnVsbCxtPSEwO2Vsc2V7dmFyIHY9ci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ci5nZXROYW1lKCk6bnVsbCx1PXYmJlwiZmFsc2VcIj09ci5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiksej12JiZcbnIuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpO2lmKHYmJnIuZGF0YShcImNrZS1ib29rbWFya1wiKXx8ci50eXBlPT09Q0tFRElUT1IuTk9ERV9DT01NRU5UKXtyPXIuZ2V0TmV4dFNvdXJjZU5vZGUoITApO2NvbnRpbnVlfWlmKHUmJm4mJkNLRURJVE9SLmR0ZC4kYmxvY2tbdl0pZm9yKHZhciBDPXIsRD1mKEMpLEU9dm9pZCAwLEg9RC5sZW5ndGgsST0wLEM9SCYmbmV3IENLRURJVE9SLmRvbS5yYW5nZShDLmdldERvY3VtZW50KCkpO0k8SDsrK0kpe3ZhciBFPURbSV0sTD1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW0UuZGF0YShcImNrZS1maWx0ZXJcIildO2lmKEw/TC5jaGVjayh0aGlzKToxKUMuc2VsZWN0Tm9kZUNvbnRlbnRzKEUpLGIuY2FsbCh0aGlzLEMpfUQ9dj8hcVt2XXx8ej8wOnUmJiFuPzA6ZChyLHcsaCxQKToxO2lmKEQpaWYoRT1yLmdldFBhcmVudCgpLEQ9aCxIPWcsST1rLCFFfHwhKEUuZ2V0RHRkKCl8fENLRURJVE9SLmR0ZC5zcGFuKVtIXSYmIUl8fEQucGFyZW50UnVsZSYmXG4hRC5wYXJlbnRSdWxlKEUpKW09ITA7ZWxzZXtpZih4fHx2JiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3ZdJiYoci5nZXRQb3NpdGlvbih3KXxQKSE9UHx8KHg9Yy5jbG9uZSgpLHguc2V0U3RhcnRCZWZvcmUocikpLHY9ci50eXBlLHY9PUNLRURJVE9SLk5PREVfVEVYVHx8dXx8dj09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhci5nZXRDaGlsZENvdW50KCkpe2Zvcih2YXIgdj1yLE47KG09IXYuZ2V0TmV4dCh5KSkmJihOPXYuZ2V0UGFyZW50KCkscVtOLmdldE5hbWUoKV0pJiZkKE4sdCxoLE8pOyl2PU47eC5zZXRFbmRBZnRlcih2KX19ZWxzZSBtPSEwO3I9ci5nZXROZXh0U291cmNlTm9kZSh6fHx1KX1pZihtJiZ4JiYheC5jb2xsYXBzZWQpe2Zvcih2YXIgbT1NKHRoaXMsZSksdT1tLmhhc0F0dHJpYnV0ZXMoKSx6PXguZ2V0Q29tbW9uQW5jZXN0b3IoKSx2PXt9LEQ9e30sRT17fSxIPXt9LFUsUixhYTttJiZ6Oyl7aWYoei5nZXROYW1lKCk9PWcpe2ZvcihVIGluIGguYXR0cmlidXRlcykhSFtVXSYmXG4oYWE9ei5nZXRBdHRyaWJ1dGUoUikpJiYobS5nZXRBdHRyaWJ1dGUoVSk9PWFhP0RbVV09MTpIW1VdPTEpO2ZvcihSIGluIGguc3R5bGVzKSFFW1JdJiYoYWE9ei5nZXRTdHlsZShSKSkmJihtLmdldFN0eWxlKFIpPT1hYT92W1JdPTE6RVtSXT0xKX16PXouZ2V0UGFyZW50KCl9Zm9yKFUgaW4gRCltLnJlbW92ZUF0dHJpYnV0ZShVKTtmb3IoUiBpbiB2KW0ucmVtb3ZlU3R5bGUoUik7dSYmIW0uaGFzQXR0cmlidXRlcygpJiYobT1udWxsKTttPyh4LmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKG0pLHguaW5zZXJ0Tm9kZShtKSxGLmNhbGwodGhpcyxtKSxtLm1lcmdlU2libGluZ3MoKSxDS0VESVRPUi5lbnYuaWV8fG0uJC5ub3JtYWxpemUoKSk6KG09bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSx4LmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKG0pLHguaW5zZXJ0Tm9kZShtKSxGLmNhbGwodGhpcyxtKSxtLnJlbW92ZSghMCkpO3g9bnVsbH19Yy5tb3ZlVG9Cb29rbWFyayhwKTtcbmMuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKTtjLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfX1mdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGIoKXtmb3IodmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLmdldFBhcmVudCgpKSxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgocS5nZXRQYXJlbnQoKSksZT1udWxsLGY9bnVsbCxnPTA7ZzxhLmVsZW1lbnRzLmxlbmd0aDtnKyspe3ZhciBsPWEuZWxlbWVudHNbZ107aWYobD09YS5ibG9ja3x8bD09YS5ibG9ja0xpbWl0KWJyZWFrO3AuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGwsITApJiYoZT1sKX1mb3IoZz0wO2c8Yy5lbGVtZW50cy5sZW5ndGg7ZysrKXtsPWMuZWxlbWVudHNbZ107aWYobD09Yy5ibG9ja3x8bD09Yy5ibG9ja0xpbWl0KWJyZWFrO3AuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGwsITApJiYoZj1sKX1mJiZxLmJyZWFrUGFyZW50KGYpO2UmJmQuYnJlYWtQYXJlbnQoZSl9YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfSU5MSU5FLFxuMSk7dmFyIGM9YS5jcmVhdGVCb29rbWFyaygpLGQ9Yy5zdGFydE5vZGUsZT10aGlzLl8uZGVmaW5pdGlvbi5hbHdheXNSZW1vdmVFbGVtZW50O2lmKGEuY29sbGFwc2VkKXtmb3IodmFyIGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLmdldFBhcmVudCgpLGEucm9vdCksZyxoPTAsaztoPGYuZWxlbWVudHMubGVuZ3RoJiYoaz1mLmVsZW1lbnRzW2hdKSYmayE9Zi5ibG9jayYmayE9Zi5ibG9ja0xpbWl0O2grKylpZih0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShrKSl7dmFyIG07IWUmJmEuY29sbGFwc2VkJiYoYS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssQ0tFRElUT1IuRU5EKXx8KG09YS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssQ0tFRElUT1IuU1RBUlQpKSk/KGc9ayxnLm1hdGNoPW0/XCJzdGFydFwiOlwiZW5kXCIpOihrLm1lcmdlU2libGluZ3MoKSxrLmlzKHRoaXMuZWxlbWVudCk/ei5jYWxsKHRoaXMsayk6dihrLG4odGhpcylbay5nZXROYW1lKCldKSl9aWYoZyl7ZT1cbmQ7Zm9yKGg9MDs7aCsrKXtrPWYuZWxlbWVudHNbaF07aWYoay5lcXVhbHMoZykpYnJlYWs7ZWxzZSBpZihrLm1hdGNoKWNvbnRpbnVlO2Vsc2Ugaz1rLmNsb25lKCk7ay5hcHBlbmQoZSk7ZT1rfWVbXCJzdGFydFwiPT1nLm1hdGNoP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShnKX19ZWxzZXt2YXIgcT1jLmVuZE5vZGUscD10aGlzO2IoKTtmb3IoZj1kOyFmLmVxdWFscyhxKTspZz1mLmdldE5leHRTb3VyY2VOb2RlKCksZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGYpJiYoZi5nZXROYW1lKCk9PXRoaXMuZWxlbWVudD96LmNhbGwodGhpcyxmKTp2KGYsbih0aGlzKVtmLmdldE5hbWUoKV0pLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZnLmNvbnRhaW5zKGQpJiYoYigpLGc9ZC5nZXROZXh0KCkpKSxmPWd9YS5tb3ZlVG9Cb29rbWFyayhjKTthLnNocmluayhDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfWZ1bmN0aW9uIGYoYSl7dmFyIGI9XG5bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhhKXt2YXIgYj1hLmdldEVuY2xvc2VkTm9kZSgpfHxhLmdldENvbW1vbkFuY2VzdG9yKCExLCEwKTsoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSkmJiFhLmlzUmVhZE9ubHkoKSYmdShhLHRoaXMpfWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5nZXRDb21tb25BbmNlc3RvcighMCwhMCk7aWYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLGEucm9vdCkpLmNvbnRhaW5zKHRoaXMuZWxlbWVudCwxKSl7dmFyIGI9dGhpcy5fLmRlZmluaXRpb24sYz1iLmF0dHJpYnV0ZXM7aWYoYylmb3IodmFyIGQgaW4gYylhLnJlbW92ZUF0dHJpYnV0ZShkLGNbZF0pO2lmKGIuc3R5bGVzKWZvcih2YXIgZSBpbiBiLnN0eWxlcyliLnN0eWxlcy5oYXNPd25Qcm9wZXJ0eShlKSYmXG5hLnJlbW92ZVN0eWxlKGUpfX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoITApLGM9YS5jcmVhdGVJdGVyYXRvcigpO2MuZW5mb3JjZVJlYWxCbG9ja3M9ITA7dGhpcy5fLmVudGVyTW9kZSYmKGMuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSKTtmb3IodmFyIGQsZT1hLmRvY3VtZW50LGY7ZD1jLmdldE5leHRQYXJhZ3JhcGgoKTspIWQuaXNSZWFkT25seSgpJiYoYy5hY3RpdmVGaWx0ZXI/Yy5hY3RpdmVGaWx0ZXIuY2hlY2sodGhpcyk6MSkmJihmPU0odGhpcyxlLGQpLHEoZCxmKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBwKGEpe3ZhciBiPWEuY3JlYXRlQm9va21hcmsoMSksYz1hLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmZvcmNlUmVhbEJsb2Nrcz0hMDtjLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtmb3IodmFyIGQsZTtkPWMuZ2V0TmV4dFBhcmFncmFwaCgpOyl0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShkKSYmXG4oZC5pcyhcInByZVwiKT8oKGU9dGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/bnVsbDphLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSkmJmQuY29weUF0dHJpYnV0ZXMoZSkscShkLGUpKTp6LmNhbGwodGhpcyxkKSk7YS5tb3ZlVG9Cb29rbWFyayhiKX1mdW5jdGlvbiBxKGEsYil7dmFyIGM9IWI7YyYmKGI9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksYS5jb3B5QXR0cmlidXRlcyhiKSk7dmFyIGQ9YiYmYi5pcyhcInByZVwiKSxmPWEuaXMoXCJwcmVcIiksZz0hZCYmZjtpZihkJiYhZil7Zj1iOyhnPWEuZ2V0Qm9ndXMoKSkmJmcucmVtb3ZlKCk7Zz1hLmdldEh0bWwoKTtnPXgoZywvKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nLFwiXCIpO2c9Zy5yZXBsYWNlKC9bIFxcdFxcclxcbl0qKDxicltePl0qPilbIFxcdFxcclxcbl0qL2dpLFwiJDFcIik7Zz1nLnJlcGxhY2UoLyhbIFxcdFxcblxccl0rfCZuYnNwOykvZyxcblwiIFwiKTtnPWcucmVwbGFjZSgvPGJyXFxiW14+XSo+L2dpLFwiXFxuXCIpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGg9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aC5hcHBlbmQoZik7Zi4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitnK1wiXFx4M2MvcHJlXFx4M2VcIjtmLmNvcHlBdHRyaWJ1dGVzKGguZ2V0Rmlyc3QoKSk7Zj1oLmdldEZpcnN0KCkucmVtb3ZlKCl9ZWxzZSBmLnNldEh0bWwoZyk7Yj1mfWVsc2UgZz9iPXcoYz9bYS5nZXRIdG1sKCldOmUoYSksYik6YS5tb3ZlQ2hpbGRyZW4oYik7Yi5yZXBsYWNlKGEpO2lmKGQpe3ZhciBjPWIsazsoaz1jLmdldFByZXZpb3VzKEkpKSYmay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuaXMoXCJwcmVcIikmJihkPXgoay5nZXRIdG1sKCksL1xcbiQvLFwiXCIpK1wiXFxuXFxuXCIreChjLmdldEh0bWwoKSwvXlxcbi8sXCJcIiksQ0tFRElUT1IuZW52LmllP2MuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZCtcIlxceDNjL3ByZVxceDNlXCI6XG5jLnNldEh0bWwoZCksay5yZW1vdmUoKSl9ZWxzZSBjJiZtKGIpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9W107eChhLmdldE91dGVySHRtbCgpLC8oXFxTXFxzKilcXG4oPzpcXHN8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KSkqXFxuKD8hJCkvZ2ksZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiK1wiXFx4M2MvcHJlXFx4M2VcIitjK1wiXFx4M2NwcmVcXHgzZVwifSkucmVwbGFjZSgvPHByZVxcYi4qPz4oW1xcc1xcU10qPyk8XFwvcHJlPi9naSxmdW5jdGlvbihhLGMpe2IucHVzaChjKX0pO3JldHVybiBifWZ1bmN0aW9uIHgoYSxiLGMpe3ZhciBkPVwiXCIsZT1cIlwiO2E9YS5yZXBsYWNlKC8oXjxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+KXwoPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4kKS9naSxmdW5jdGlvbihhLGIsYyl7YiYmKGQ9Yik7YyYmKGU9Yyk7cmV0dXJuXCJcIn0pO3JldHVybiBkK2EucmVwbGFjZShiLGMpK2V9ZnVuY3Rpb24gdyhhLGIpe3ZhciBjO1xuMTxhLmxlbmd0aCYmKGM9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGIuZ2V0RG9jdW1lbnQoKSkpO2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZT1hW2RdLGU9ZS5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKSxlPXgoZSwvXlsgXFx0XSpcXG4vLFwiXCIpLGU9eChlLC9cXG4kLyxcIlwiKSxlPXgoZSwvXlsgXFx0XSt8WyBcXHRdKyQvZyxmdW5jdGlvbihhLGIpe3JldHVybiAxPT1hLmxlbmd0aD9cIlxceDI2bmJzcDtcIjpiP1wiIFwiK0NLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixhLmxlbmd0aC0xKTpDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSkrXCIgXCJ9KSxlPWUucmVwbGFjZSgvXFxuL2csXCJcXHgzY2JyXFx4M2VcIiksZT1lLnJlcGxhY2UoL1sgXFx0XXsyLH0vZyxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpK1wiIFwifSk7aWYoYyl7dmFyIGY9Yi5jbG9uZSgpO2Yuc2V0SHRtbChlKTtcbmMuYXBwZW5kKGYpfWVsc2UgYi5zZXRIdG1sKGUpfXJldHVybiBjfHxifWZ1bmN0aW9uIHooYSxiKXt2YXIgYz10aGlzLl8uZGVmaW5pdGlvbixkPWMuYXR0cmlidXRlcyxjPWMuc3R5bGVzLGU9bih0aGlzKVthLmdldE5hbWUoKV0sZj1DS0VESVRPUi50b29scy5pc0VtcHR5KGQpJiZDS0VESVRPUi50b29scy5pc0VtcHR5KGMpLGc7Zm9yKGcgaW4gZClpZihcImNsYXNzXCIhPWcmJiF0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2h8fGEuZ2V0QXR0cmlidXRlKGcpPT1yKGcsZFtnXSkpYiYmXCJkYXRhLVwiPT1nLnNsaWNlKDAsNSl8fChmPWEuaGFzQXR0cmlidXRlKGcpLGEucmVtb3ZlQXR0cmlidXRlKGcpKTtmb3IodmFyIGggaW4gYyl0aGlzLl8uZGVmaW5pdGlvbi5mdWxsTWF0Y2gmJmEuZ2V0U3R5bGUoaCkhPXIoaCxjW2hdLCEwKXx8KGY9Znx8ISFhLmdldFN0eWxlKGgpLGEucmVtb3ZlU3R5bGUoaCkpO3YoYSxlLERbYS5nZXROYW1lKCldKTtmJiYodGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudD9cbm0oYSwxKTohQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV18fHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSJiYhYS5oYXNBdHRyaWJ1dGVzKCk/bShhKTphLnJlbmFtZU5vZGUodGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSl9ZnVuY3Rpb24gRihhKXtmb3IodmFyIGI9bih0aGlzKSxjPWEuZ2V0RWxlbWVudHNCeVRhZyh0aGlzLmVsZW1lbnQpLGQsZT1jLmNvdW50KCk7MDw9LS1lOylkPWMuZ2V0SXRlbShlKSxkLmlzUmVhZE9ubHkoKXx8ei5jYWxsKHRoaXMsZCwhMCk7Zm9yKHZhciBmIGluIGIpaWYoZiE9dGhpcy5lbGVtZW50KWZvcihjPWEuZ2V0RWxlbWVudHNCeVRhZyhmKSxlPWMuY291bnQoKS0xOzA8PWU7ZS0tKWQ9Yy5nZXRJdGVtKGUpLGQuaXNSZWFkT25seSgpfHx2KGQsYltmXSl9ZnVuY3Rpb24gdihhLGIsYyl7aWYoYj1iJiZiLmF0dHJpYnV0ZXMpZm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF1bMF0sXG5mO2lmKGY9YS5nZXRBdHRyaWJ1dGUoZSkpe3ZhciBnPWJbZF1bMV07KG51bGw9PT1nfHxnLnRlc3QmJmcudGVzdChmKXx8XCJzdHJpbmdcIj09dHlwZW9mIGcmJmY9PWcpJiZhLnJlbW92ZUF0dHJpYnV0ZShlKX19Y3x8bShhKX1mdW5jdGlvbiBtKGEsYil7aWYoIWEuaGFzQXR0cmlidXRlcygpfHxiKWlmKENLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldKXt2YXIgYz1hLmdldFByZXZpb3VzKEkpLGQ9YS5nZXROZXh0KEkpOyFjfHxjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmYy5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8YS5hcHBlbmQoXCJiclwiLDEpOyFkfHxkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVCYmZC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8YS5hcHBlbmQoXCJiclwiKTthLnJlbW92ZSghMCl9ZWxzZSBjPWEuZ2V0Rmlyc3QoKSxkPWEuZ2V0TGFzdCgpLGEucmVtb3ZlKCEwKSxjJiYoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMubWVyZ2VTaWJsaW5ncygpLFxuZCYmIWMuZXF1YWxzKGQpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5tZXJnZVNpYmxpbmdzKCkpfWZ1bmN0aW9uIE0oYSxiLGMpe3ZhciBkO2Q9YS5lbGVtZW50O1wiKlwiPT1kJiYoZD1cInNwYW5cIik7ZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCxiKTtjJiZjLmNvcHlBdHRyaWJ1dGVzKGQpO2Q9dShkLGEpO2IuZ2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpJiZkLmhhc0F0dHJpYnV0ZShcImlkXCIpP2QucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik6Yi5zZXRDdXN0b21EYXRhKFwiZG9jX3Byb2Nlc3Npbmdfc3R5bGVcIiwxKTtyZXR1cm4gZH1mdW5jdGlvbiB1KGEsYil7dmFyIGM9Yi5fLmRlZmluaXRpb24sZD1jLmF0dHJpYnV0ZXMsYz1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYyk7aWYoZClmb3IodmFyIGUgaW4gZClhLnNldEF0dHJpYnV0ZShlLGRbZV0pO2MmJmEuc2V0QXR0cmlidXRlKFwic3R5bGVcIixjKTthLmdldERvY3VtZW50KCkucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpO1xucmV0dXJuIGF9ZnVuY3Rpb24gSChhLGIpe2Zvcih2YXIgYyBpbiBhKWFbY109YVtjXS5yZXBsYWNlKEUsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYltjXX0pfWZ1bmN0aW9uIG4oYSl7aWYoYS5fLm92ZXJyaWRlcylyZXR1cm4gYS5fLm92ZXJyaWRlczt2YXIgYj1hLl8ub3ZlcnJpZGVzPXt9LGM9YS5fLmRlZmluaXRpb24ub3ZlcnJpZGVzO2lmKGMpe0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYyl8fChjPVtjXSk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZixnO1wic3RyaW5nXCI9PXR5cGVvZiBlP2Y9ZS50b0xvd2VyQ2FzZSgpOihmPWUuZWxlbWVudD9lLmVsZW1lbnQudG9Mb3dlckNhc2UoKTphLmVsZW1lbnQsZz1lLmF0dHJpYnV0ZXMpO2U9YltmXXx8KGJbZl09e30pO2lmKGcpe3ZhciBlPWUuYXR0cmlidXRlcz1lLmF0dHJpYnV0ZXN8fFtdLGg7Zm9yKGggaW4gZyllLnB1c2goW2gudG9Mb3dlckNhc2UoKSxnW2hdXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiByKGEsXG5iLGMpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIik7ZFtjP1wic2V0U3R5bGVcIjpcInNldEF0dHJpYnV0ZVwiXShhLGIpO3JldHVybiBkW2M/XCJnZXRTdHlsZVwiOlwiZ2V0QXR0cmlidXRlXCJdKGEpfWZ1bmN0aW9uIEMoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuXCJmb250LWZhbWlseVwiPT1iLnRvTG93ZXJDYXNlKCk/YS5yZXBsYWNlKC9bXCInXS9nLFwiXCIpOmF9XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhKSk7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChiLCEwKSk7Zm9yKHZhciBkIGluIGEpaWYoIShkIGluIGIpfHxjKGJbZF0sZCkhPWMoYVtkXSxkKSYmXCJpbmhlcml0XCIhPWFbZF0mJlwiaW5oZXJpdFwiIT1iW2RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEwoYSxiLGMpe3ZhciBkPWEuZ2V0UmFuZ2VzKCk7Yj1iP3RoaXMucmVtb3ZlRnJvbVJhbmdlOnRoaXMuYXBwbHlUb1JhbmdlO1xudmFyIGUsZjtpZihhLmlzRmFrZSYmYS5pc0luVGFibGUoKSlmb3IoZT1bXSxmPTA7ZjxkLmxlbmd0aDtmKyspZS5wdXNoKGRbZl0uY2xvbmUoKSk7Zm9yKHZhciBnPWQuY3JlYXRlSXRlcmF0b3IoKTtmPWcuZ2V0TmV4dFJhbmdlKCk7KWIuY2FsbCh0aGlzLGYsYyk7YS5zZWxlY3RSYW5nZXMoZXx8ZCl9dmFyIEQ9e2FkZHJlc3M6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxwOjEscHJlOjEsc2VjdGlvbjoxLGhlYWRlcjoxLGZvb3RlcjoxLG5hdjoxLGFydGljbGU6MSxhc2lkZToxLGZpZ3VyZToxLGRpYWxvZzoxLGhncm91cDoxLHRpbWU6MSxtZXRlcjoxLG1lbnU6MSxjb21tYW5kOjEsa2V5Z2VuOjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxkZXRhaWxzOjEsZGF0YWdyaWQ6MSxkYXRhbGlzdDoxfSxOPXthOjEsYmxvY2txdW90ZToxLGVtYmVkOjEsaHI6MSxpbWc6MSxsaToxLG9iamVjdDoxLG9sOjEsdGFibGU6MSx0ZDoxLHRyOjEsdGg6MSx1bDoxLGRsOjEsZHQ6MSxcbmRkOjEsZm9ybToxLGF1ZGlvOjEsdmlkZW86MX0sdD0vXFxzKig/OjtcXHMqfCQpLyxFPS8jXFwoKC4rPylcXCkvZyx5PUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMCwxKSxJPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoMSk7Q0tFRElUT1Iuc3R5bGU9ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS50eXBlKXJldHVybiBuZXcgQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbYS50eXBlXShhKTt2YXIgYz1hLmF0dHJpYnV0ZXM7YyYmYy5zdHlsZSYmKGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnN0eWxlcyxDS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYy5zdHlsZSkpLGRlbGV0ZSBjLnN0eWxlKTtiJiYoYT1DS0VESVRPUi50b29scy5jbG9uZShhKSxIKGEuYXR0cmlidXRlcyxiKSxIKGEuc3R5bGVzLGIpKTtjPXRoaXMuZWxlbWVudD1hLmVsZW1lbnQ/XCJzdHJpbmdcIj09dHlwZW9mIGEuZWxlbWVudD9hLmVsZW1lbnQudG9Mb3dlckNhc2UoKTpcbmEuZWxlbWVudDpcIipcIjt0aGlzLnR5cGU9YS50eXBlfHwoRFtjXT9DS0VESVRPUi5TVFlMRV9CTE9DSzpOW2NdP0NLRURJVE9SLlNUWUxFX09CSkVDVDpDS0VESVRPUi5TVFlMRV9JTkxJTkUpO1wib2JqZWN0XCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQmJih0aGlzLnR5cGU9Q0tFRElUT1IuU1RZTEVfT0JKRUNUKTt0aGlzLl89e2RlZmluaXRpb246YX19O0NLRURJVE9SLnN0eWxlLnByb3RvdHlwZT17YXBwbHk6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4gTC5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTtMLmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDAsYSk7dGhpcy5fLmVudGVyTW9kZT1ifX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZlxuQ0tFRElUT1IuZG9tLmRvY3VtZW50KXJldHVybiBMLmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDEpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSl7dmFyIGI9dGhpcy5fLmVudGVyTW9kZTtifHwodGhpcy5fLmVudGVyTW9kZT1hLmFjdGl2ZUVudGVyTW9kZSk7TC5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxLGEpO3RoaXMuXy5lbnRlck1vZGU9Yn19LGFwcGx5VG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLmFwcGx5VG9SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9iOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/aDp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9nOm51bGw7cmV0dXJuIHRoaXMuYXBwbHlUb1JhbmdlKGEpfSxyZW1vdmVGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVGcm9tUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yzp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP1xucDp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9rOm51bGw7cmV0dXJuIHRoaXMucmVtb3ZlRnJvbVJhbmdlKGEpfSxhcHBseVRvT2JqZWN0OmZ1bmN0aW9uKGEpe3UoYSx0aGlzKX0sY2hlY2tBY3RpdmU6ZnVuY3Rpb24oYSxiKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiB0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShhLmJsb2NrfHxhLmJsb2NrTGltaXQsITAsYik7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Y2FzZSBDS0VESVRPUi5TVFlMRV9JTkxJTkU6Zm9yKHZhciBjPWEuZWxlbWVudHMsZD0wLGU7ZDxjLmxlbmd0aDtkKyspaWYoZT1jW2RdLHRoaXMudHlwZSE9Q0tFRElUT1IuU1RZTEVfSU5MSU5FfHxlIT1hLmJsb2NrJiZlIT1hLmJsb2NrTGltaXQpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUKXt2YXIgZj1lLmdldE5hbWUoKTtpZighKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/XG5mPT10aGlzLmVsZW1lbnQ6ZiBpbiB0aGlzLmVsZW1lbnQpKWNvbnRpbnVlfWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGUsITAsYikpcmV0dXJuITB9fXJldHVybiExfSxjaGVja0FwcGxpY2FibGU6ZnVuY3Rpb24oYSxiLGMpe2ImJmIgaW5zdGFuY2VvZiBDS0VESVRPUi5maWx0ZXImJihjPWIpO2lmKGMmJiFjLmNoZWNrKHRoaXMpKXJldHVybiExO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOnJldHVybiEhYS5jb250YWlucyh0aGlzLmVsZW1lbnQpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuISFhLmJsb2NrTGltaXQuZ2V0RHRkKClbdGhpcy5lbGVtZW50XX1yZXR1cm4hMH0sY2hlY2tFbGVtZW50TWF0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl8uZGVmaW5pdGlvbjtpZighYXx8IWMuaWdub3JlUmVhZG9ubHkmJmEuaXNSZWFkT25seSgpKXJldHVybiExO3ZhciBkPWEuZ2V0TmFtZSgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/XG5kPT10aGlzLmVsZW1lbnQ6ZCBpbiB0aGlzLmVsZW1lbnQpe2lmKCFiJiYhYS5oYXNBdHRyaWJ1dGVzKCkpcmV0dXJuITA7aWYoZD1jLl9BQyljPWQ7ZWxzZXt2YXIgZD17fSxlPTAsZj1jLmF0dHJpYnV0ZXM7aWYoZilmb3IodmFyIGcgaW4gZillKyssZFtnXT1mW2ddO2lmKGc9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpKWQuc3R5bGV8fGUrKyxkLnN0eWxlPWc7ZC5fbGVuZ3RoPWU7Yz1jLl9BQz1kfWlmKGMuX2xlbmd0aCl7Zm9yKHZhciBoIGluIGMpaWYoXCJfbGVuZ3RoXCIhPWgpaWYoZD1hLmdldEF0dHJpYnV0ZShoKXx8XCJcIixcInN0eWxlXCI9PWg/QyhjW2hdLGQpOmNbaF09PWQpe2lmKCFiKXJldHVybiEwfWVsc2UgaWYoYilyZXR1cm4hMTtpZihiKXJldHVybiEwfWVsc2UgcmV0dXJuITB9cmV0dXJuITF9LGNoZWNrRWxlbWVudFJlbW92YWJsZTpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5jaGVja0VsZW1lbnRNYXRjaChhLGIsYykpcmV0dXJuITA7aWYoYj1uKHRoaXMpW2EuZ2V0TmFtZSgpXSl7dmFyIGQ7XG5pZighKGI9Yi5hdHRyaWJ1dGVzKSlyZXR1cm4hMDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGQ9YltjXVswXSxkPWEuZ2V0QXR0cmlidXRlKGQpKXt2YXIgZT1iW2NdWzFdO2lmKG51bGw9PT1lKXJldHVybiEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihkPT1lKXJldHVybiEwfWVsc2UgaWYoZS50ZXN0KGQpKXJldHVybiEwfX1yZXR1cm4hMX0sYnVpbGRQcmV2aWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLGM9W10sZD1iLmVsZW1lbnQ7XCJiZG9cIj09ZCYmKGQ9XCJzcGFuXCIpO3ZhciBjPVtcIlxceDNjXCIsZF0sZT1iLmF0dHJpYnV0ZXM7aWYoZSlmb3IodmFyIGYgaW4gZSljLnB1c2goXCIgXCIsZiwnXFx4M2RcIicsZVtmXSwnXCInKTsoZT1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYikpJiZjLnB1c2goJyBzdHlsZVxceDNkXCInLGUsJ1wiJyk7Yy5wdXNoKFwiXFx4M2VcIixhfHxiLm5hbWUsXCJcXHgzYy9cIixkLFwiXFx4M2VcIik7cmV0dXJuIGMuam9pbihcIlwiKX0sZ2V0RGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGVmaW5pdGlvbn19O1xuQ0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuX1NUO2lmKGIpcmV0dXJuIGI7dmFyIGI9YS5zdHlsZXMsYz1hLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5zdHlsZXx8XCJcIixkPVwiXCI7Yy5sZW5ndGgmJihjPWMucmVwbGFjZSh0LFwiO1wiKSk7Zm9yKHZhciBlIGluIGIpe3ZhciBmPWJbZV0sZz0oZStcIjpcIitmKS5yZXBsYWNlKHQsXCI7XCIpO1wiaW5oZXJpdFwiPT1mP2QrPWc6Yys9Z31jLmxlbmd0aCYmKGM9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChjLCEwKSk7cmV0dXJuIGEuX1NUPWMrZH07Q0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnM9e307Q0tFRElUT1Iuc3R5bGUuYWRkQ3VzdG9tSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbihhKXt0aGlzLl89e2RlZmluaXRpb246YX07dGhpcy5zZXR1cCYmdGhpcy5zZXR1cChhKX07Yi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLnN0eWxlLnByb3RvdHlwZSksXG57YXNzaWduZWRUbzpDS0VESVRPUi5TVFlMRV9PQkpFQ1R9LGEsITApO3JldHVybiB0aGlzLmN1c3RvbUhhbmRsZXJzW2EudHlwZV09Yn07dmFyIFA9Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsTz1DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRH0pKCk7Q0tFRElUT1Iuc3R5bGVDb21tYW5kPWZ1bmN0aW9uKGEsZCl7dGhpcy5yZXF1aXJlZENvbnRlbnQ9dGhpcy5hbGxvd2VkQ29udGVudD10aGlzLnN0eWxlPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZCwhMCl9O1xuQ0tFRElUT1Iuc3R5bGVDb21tYW5kLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGEpe2EuZm9jdXMoKTt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/YS5hcHBseVN0eWxlKHRoaXMuc3R5bGUpOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZhLnJlbW92ZVN0eWxlKHRoaXMuc3R5bGUpfTtDS0VESVRPUi5zdHlsZXNTZXQ9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcIlwiLFwic3R5bGVzU2V0XCIpO0NLRURJVE9SLmFkZFN0eWxlc1NldD1DS0VESVRPUi50b29scy5iaW5kKENLRURJVE9SLnN0eWxlc1NldC5hZGQsQ0tFRElUT1Iuc3R5bGVzU2V0KTtDS0VESVRPUi5sb2FkU3R5bGVzU2V0PWZ1bmN0aW9uKGEsZCxiKXtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYSxkLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGEsYil9O1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse2F0dGFjaFN0eWxlU3RhdGVDaGFuZ2U6ZnVuY3Rpb24oYSxkKXt2YXIgYj10aGlzLl8uc3R5bGVTdGF0ZUNoYW5nZUNhbGxiYWNrcztifHwoYj10aGlzLl8uc3R5bGVTdGF0ZUNoYW5nZUNhbGxiYWNrcz1bXSx0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBnPWJbZF0saz1nLnN0eWxlLmNoZWNrQWN0aXZlKGEuZGF0YS5wYXRoLHRoaXMpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRjtnLmZuLmNhbGwodGhpcyxrKX19KSk7Yi5wdXNoKHtzdHlsZTphLGZuOmR9KX0sYXBwbHlTdHlsZTpmdW5jdGlvbihhKXthLmFwcGx5KHRoaXMpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXthLnJlbW92ZSh0aGlzKX0sZ2V0U3R5bGVzU2V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucylhKHRoaXMuXy5zdHlsZXNEZWZpbml0aW9ucyk7XG5lbHNle3ZhciBkPXRoaXMsYj1kLmNvbmZpZy5zdHlsZXNDb21ib19zdHlsZXNTZXR8fGQuY29uZmlnLnN0eWxlc1NldDtpZighMT09PWIpYShudWxsKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBBcnJheSlkLl8uc3R5bGVzRGVmaW5pdGlvbnM9YixhKGIpO2Vsc2V7Ynx8KGI9XCJkZWZhdWx0XCIpO3ZhciBiPWIuc3BsaXQoXCI6XCIpLGM9YlswXTtDS0VESVRPUi5zdHlsZXNTZXQuYWRkRXh0ZXJuYWwoYyxiWzFdP2Iuc2xpY2UoMSkuam9pbihcIjpcIik6Q0tFRElUT1IuZ2V0VXJsKFwic3R5bGVzLmpzXCIpLFwiXCIpO0NLRURJVE9SLnN0eWxlc1NldC5sb2FkKGMsZnVuY3Rpb24oYil7ZC5fLnN0eWxlc0RlZmluaXRpb25zPWJbY107YShkLl8uc3R5bGVzRGVmaW5pdGlvbnMpfSl9fX19KTtcbkNLRURJVE9SLmRvbS5jb21tZW50PWZ1bmN0aW9uKGEsZCl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShkP2QuJDpkb2N1bWVudCkuY3JlYXRlQ29tbWVudChhKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9O0NLRURJVE9SLmRvbS5jb21tZW50LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGU7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5jb21tZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuXCJcXHgzYyEtLVwiK3RoaXMuJC5ub2RlVmFsdWUrXCItLVxceDNlXCJ9fSk7XCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24oKXt2YXIgYT17fSxkPXt9LGI7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0KWIgaW4gQ0tFRElUT1IuZHRkLiRsaXN0fHwoYVtiXT0xKTtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGJsb2NrKWIgaW4gQ0tFRElUT1IuZHRkLiRibG9ja0xpbWl0fHxiIGluIENLRURJVE9SLmR0ZC4kZW1wdHl8fChkW2JdPTEpO0NLRURJVE9SLmRvbS5lbGVtZW50UGF0aD1mdW5jdGlvbihiLGYpe3ZhciBnPW51bGwsaz1udWxsLGg9W10scD1iLHE7Zj1mfHxiLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpO3B8fChwPWYpO2RvIGlmKHAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtoLnB1c2gocCk7aWYoIXRoaXMubGFzdEVsZW1lbnQmJih0aGlzLmxhc3RFbGVtZW50PXAscC5pcyhDS0VESVRPUi5kdGQuJG9iamVjdCl8fFwiZmFsc2VcIj09cC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpKWNvbnRpbnVlO2lmKHAuZXF1YWxzKGYpKWJyZWFrO2lmKCFrJiYocT1wLmdldE5hbWUoKSxcblwidHJ1ZVwiPT1wLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9rPXA6IWcmJmRbcV0mJihnPXApLGFbcV0pKXtpZihxPSFnJiZcImRpdlwiPT1xKXthOntxPXAuZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGU9MCx4PXEuY291bnQoKTtlPHg7ZSsrKXt2YXIgdz1xLmdldEl0ZW0oZSk7aWYody50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kYmxvY2tbdy5nZXROYW1lKCldKXtxPSEwO2JyZWFrIGF9fXE9ITF9cT0hcX1xP2c9cDprPXB9fXdoaWxlKHA9cC5nZXRQYXJlbnQoKSk7a3x8KGs9Zik7dGhpcy5ibG9jaz1nO3RoaXMuYmxvY2tMaW1pdD1rO3RoaXMucm9vdD1mO3RoaXMuZWxlbWVudHM9aH19KSgpO1xuQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoLnByb3RvdHlwZT17Y29tcGFyZTpmdW5jdGlvbihhKXt2YXIgZD10aGlzLmVsZW1lbnRzO2E9YSYmYS5lbGVtZW50cztpZighYXx8ZC5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYj0wO2I8ZC5sZW5ndGg7YisrKWlmKCFkW2JdLmVxdWFscyhhW2JdKSlyZXR1cm4hMTtyZXR1cm4hMH0sY29udGFpbnM6ZnVuY3Rpb24oYSxkLGIpe3ZhciBjPTAsZjtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGY9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0TmFtZSgpPT1hfSk7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2Y9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZXF1YWxzKGEpfTpDS0VESVRPUi50b29scy5pc0FycmF5KGEpP2Y9ZnVuY3Rpb24oYil7cmV0dXJuLTE8Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGIuZ2V0TmFtZSgpKX06XCJmdW5jdGlvblwiPT10eXBlb2YgYT9mPWE6XCJvYmplY3RcIj09dHlwZW9mIGEmJihmPWZ1bmN0aW9uKGIpe3JldHVybiBiLmdldE5hbWUoKWluXG5hfSk7dmFyIGc9dGhpcy5lbGVtZW50cyxrPWcubGVuZ3RoO2QmJihiP2MrPTE6LS1rKTtiJiYoZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChnLDApLGcucmV2ZXJzZSgpKTtmb3IoO2M8aztjKyspaWYoZihnW2NdKSlyZXR1cm4gZ1tjXTtyZXR1cm4gbnVsbH0saXNDb250ZXh0Rm9yOmZ1bmN0aW9uKGEpe3ZhciBkO3JldHVybiBhIGluIENLRURJVE9SLmR0ZC4kYmxvY2s/KGQ9dGhpcy5jb250YWlucyhDS0VESVRPUi5kdGQuJGludGVybWVkaWF0ZSl8fHRoaXMucm9vdC5lcXVhbHModGhpcy5ibG9jaykmJnRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdCwhIWQuZ2V0RHRkKClbYV0pOiEwfSxkaXJlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5ibG9ja3x8dGhpcy5ibG9ja0xpbWl0fHx0aGlzLnJvb3QpLmdldERpcmVjdGlvbigxKX19O1xuQ0tFRElUT1IuZG9tLnRleHQ9ZnVuY3Rpb24oYSxkKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9KGQ/ZC4kOmRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShhKSk7dGhpcy4kPWF9O0NLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGU7XG5DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLnRleHQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxnZXRMZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZS5sZW5ndGh9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5vZGVWYWx1ZX0sc2V0VGV4dDpmdW5jdGlvbihhKXt0aGlzLiQubm9kZVZhbHVlPWF9LHNwbGl0OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJC5wYXJlbnROb2RlLGI9ZC5jaGlsZE5vZGVzLmxlbmd0aCxjPXRoaXMuZ2V0TGVuZ3RoKCksZj10aGlzLmdldERvY3VtZW50KCksZz1uZXcgQ0tFRElUT1IuZG9tLnRleHQodGhpcy4kLnNwbGl0VGV4dChhKSxmKTtkLmNoaWxkTm9kZXMubGVuZ3RoPT1iJiYoYT49Yz8oZz1mLmNyZWF0ZVRleHQoXCJcIiksZy5pbnNlcnRBZnRlcih0aGlzKSk6KGE9Zi5jcmVhdGVUZXh0KFwiXCIpLGEuaW5zZXJ0QWZ0ZXIoZyksYS5yZW1vdmUoKSkpO3JldHVybiBnfSxzdWJzdHJpbmc6ZnVuY3Rpb24oYSxcbmQpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBkP3RoaXMuJC5ub2RlVmFsdWUuc3Vic3RyKGEpOnRoaXMuJC5ub2RlVmFsdWUuc3Vic3RyaW5nKGEsZCl9fSk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxkKXt2YXIgZz1hLnNlcmlhbGl6YWJsZSxrPWNbZD9cImVuZENvbnRhaW5lclwiOlwic3RhcnRDb250YWluZXJcIl0saD1kP1wiZW5kT2Zmc2V0XCI6XCJzdGFydE9mZnNldFwiLHA9Zz9jLmRvY3VtZW50LmdldEJ5SWQoYS5zdGFydE5vZGUpOmEuc3RhcnROb2RlO2E9Zz9jLmRvY3VtZW50LmdldEJ5SWQoYS5lbmROb2RlKTphLmVuZE5vZGU7ay5lcXVhbHMocC5nZXRQcmV2aW91cygpKT8oYy5zdGFydE9mZnNldD1jLnN0YXJ0T2Zmc2V0LWsuZ2V0TGVuZ3RoKCktYS5nZXRQcmV2aW91cygpLmdldExlbmd0aCgpLGs9YS5nZXROZXh0KCkpOmsuZXF1YWxzKGEuZ2V0UHJldmlvdXMoKSkmJihjLnN0YXJ0T2Zmc2V0LT1rLmdldExlbmd0aCgpLGs9YS5nZXROZXh0KCkpO2suZXF1YWxzKHAuZ2V0UGFyZW50KCkpJiZjW2hdKys7ay5lcXVhbHMoYS5nZXRQYXJlbnQoKSkmJmNbaF0rKztjW2Q/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdPWs7cmV0dXJuIGN9XG5DS0VESVRPUi5kb20ucmFuZ2VMaXN0PWZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KXJldHVybiBhO2E/YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5yYW5nZSYmKGE9W2FdKTphPVtdO3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoYSxkKX07dmFyIGQ9e2NyZWF0ZUl0ZXJhdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxkPVtdLGc7cmV0dXJue2dldE5leHRSYW5nZTpmdW5jdGlvbihrKXtnPXZvaWQgMD09PWc/MDpnKzE7dmFyIGg9YVtnXTtpZihoJiYxPGEubGVuZ3RoKXtpZighZylmb3IodmFyIHA9YS5sZW5ndGgtMTswPD1wO3AtLSlkLnVuc2hpZnQoYVtwXS5jcmVhdGVCb29rbWFyayghMCkpO2lmKGspZm9yKHZhciBxPTA7YVtnK3ErMV07KXt2YXIgZT1oLmRvY3VtZW50O2s9MDtwPWUuZ2V0QnlJZChkW3FdLmVuZE5vZGUpO2ZvcihlPWUuZ2V0QnlJZChkW3ErMV0uc3RhcnROb2RlKTs7KXtwPVxucC5nZXROZXh0U291cmNlTm9kZSghMSk7aWYoZS5lcXVhbHMocCkpaz0xO2Vsc2UgaWYoYyhwKXx8cC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnAuaXNCbG9ja0JvdW5kYXJ5KCkpY29udGludWU7YnJlYWt9aWYoIWspYnJlYWs7cSsrfWZvcihoLm1vdmVUb0Jvb2ttYXJrKGQuc2hpZnQoKSk7cS0tOylwPWFbKytnXSxwLm1vdmVUb0Jvb2ttYXJrKGQuc2hpZnQoKSksaC5zZXRFbmQocC5lbmRDb250YWluZXIscC5lbmRPZmZzZXQpfXJldHVybiBofX19LGNyZWF0ZUJvb2ttYXJrczpmdW5jdGlvbihiKXtmb3IodmFyIGM9W10sZCxnPTA7Zzx0aGlzLmxlbmd0aDtnKyspe2MucHVzaChkPXRoaXNbZ10uY3JlYXRlQm9va21hcmsoYiwhMCkpO2Zvcih2YXIgaz1nKzE7azx0aGlzLmxlbmd0aDtrKyspdGhpc1trXT1hKGQsdGhpc1trXSksdGhpc1trXT1hKGQsdGhpc1trXSwhMCl9cmV0dXJuIGN9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVtdLGQ9MDtkPFxudGhpcy5sZW5ndGg7ZCsrKWMucHVzaCh0aGlzW2RdLmNyZWF0ZUJvb2ttYXJrMihhKSk7cmV0dXJuIGN9LG1vdmVUb0Jvb2ttYXJrczpmdW5jdGlvbihhKXtmb3IodmFyIGM9MDtjPHRoaXMubGVuZ3RoO2MrKyl0aGlzW2NdLm1vdmVUb0Jvb2ttYXJrKGFbY10pfX19KSgpO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3JldHVybiBDS0VESVRPUi5nZXRVcmwoQ0tFRElUT1Iuc2tpbk5hbWUuc3BsaXQoXCIsXCIpWzFdfHxcInNraW5zL1wiK0NLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXStcIi9cIil9ZnVuY3Rpb24gZChiKXt2YXIgYz1DS0VESVRPUi5za2luW1widWFfXCIrYl0sZD1DS0VESVRPUi5lbnY7aWYoYylmb3IodmFyIGM9Yy5zcGxpdChcIixcIikuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhPmI/LTE6MX0pLGY9MCxnO2Y8Yy5sZW5ndGg7ZisrKWlmKGc9Y1tmXSxkLmllJiYoZy5yZXBsYWNlKC9eaWUvLFwiXCIpPT1kLnZlcnNpb258fGQucXVpcmtzJiZcImllcXVpcmtzXCI9PWcpJiYoZz1cImllXCIpLGRbZ10pe2IrPVwiX1wiK2NbZl07YnJlYWt9cmV0dXJuIENLRURJVE9SLmdldFVybChhKCkrYitcIi5jc3NcIil9ZnVuY3Rpb24gYihhLGIpe2dbYV18fChDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KGQoYSkpLGdbYV09MSk7YiYmYigpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9XG5hLmdldEJ5SWQoayk7Ynx8KGI9YS5nZXRIZWFkKCkuYXBwZW5kKFwic3R5bGVcIiksYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLGspLGIuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwidGV4dC9jc3NcIikpO3JldHVybiBifWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkLGYsZztpZihDS0VESVRPUi5lbnYud2Via2l0KWZvcihiPWIuc3BsaXQoXCJ9XCIpLnNsaWNlKDAsLTEpLGY9MDtmPGIubGVuZ3RoO2YrKyliW2ZdPWJbZl0uc3BsaXQoXCJ7XCIpO2Zvcih2YXIgaD0wO2g8YS5sZW5ndGg7aCsrKWlmKENLRURJVE9SLmVudi53ZWJraXQpZm9yKGY9MDtmPGIubGVuZ3RoO2YrKyl7Zz1iW2ZdWzFdO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspZz1nLnJlcGxhY2UoY1tkXVswXSxjW2RdWzFdKTthW2hdLiQuc2hlZXQuYWRkUnVsZShiW2ZdWzBdLGcpfWVsc2V7Zz1iO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspZz1nLnJlcGxhY2UoY1tkXVswXSxjW2RdWzFdKTtDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uP1xuYVtoXS4kLnN0eWxlU2hlZXQuY3NzVGV4dCs9ZzphW2hdLiQuaW5uZXJIVE1MKz1nfX12YXIgZz17fTtDS0VESVRPUi5za2luPXtwYXRoOmEsbG9hZFBhcnQ6ZnVuY3Rpb24oYyxkKXtDS0VESVRPUi5za2luLm5hbWUhPUNLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVswXT9DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChDS0VESVRPUi5nZXRVcmwoYSgpK1wic2tpbi5qc1wiKSxmdW5jdGlvbigpe2IoYyxkKX0pOmIoYyxkKX0sZ2V0UGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKGQoYSkpfSxpY29uczp7fSxhZGRJY29uOmZ1bmN0aW9uKGEsYixjLGQpe2E9YS50b0xvd2VyQ2FzZSgpO3RoaXMuaWNvbnNbYV18fCh0aGlzLmljb25zW2FdPXtwYXRoOmIsb2Zmc2V0OmN8fDAsYmdzaXplOmR8fFwiMTZweFwifSl9LGdldEljb25TdHlsZTpmdW5jdGlvbihhLGIsYyxkLGYpe3ZhciBnO2EmJihhPWEudG9Mb3dlckNhc2UoKSxiJiYoZz10aGlzLmljb25zW2ErXCItcnRsXCJdKSxcbmd8fChnPXRoaXMuaWNvbnNbYV0pKTthPWN8fGcmJmcucGF0aHx8XCJcIjtkPWR8fGcmJmcub2Zmc2V0O2Y9Znx8ZyYmZy5iZ3NpemV8fFwiMTZweFwiO2EmJihhPWEucmVwbGFjZSgvJy9nLFwiXFxcXCdcIikpO3JldHVybiBhJiZcImJhY2tncm91bmQtaW1hZ2U6dXJsKCdcIitDS0VESVRPUi5nZXRVcmwoYSkrXCInKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgXCIrZCtcInB4O2JhY2tncm91bmQtc2l6ZTpcIitmK1wiO1wifX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse2dldFVpQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aUNvbG9yfSxzZXRVaUNvbG9yOmZ1bmN0aW9uKGEpe3ZhciBiPWMoQ0tFRElUT1IuZG9jdW1lbnQpO3JldHVybih0aGlzLnNldFVpQ29sb3I9ZnVuY3Rpb24oYSl7dGhpcy51aUNvbG9yPWE7dmFyIGM9Q0tFRElUT1Iuc2tpbi5jaGFtZWxlb24sZD1cIlwiLGc9XCJcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYoZD1jKHRoaXMsXCJlZGl0b3JcIiksZz1cbmModGhpcyxcInBhbmVsXCIpKTthPVtbcCxhXV07ZihbYl0sZCxhKTtmKGgsZyxhKX0pLmNhbGwodGhpcyxhKX19KTt2YXIgaz1cImNrZV91aV9jb2xvclwiLGg9W10scD0vXFwkY29sb3IvZztDS0VESVRPUi5vbihcImluc3RhbmNlTG9hZGVkXCIsZnVuY3Rpb24oYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8IUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBiPWEuZWRpdG9yO2E9ZnVuY3Rpb24oYSl7YT0oYS5kYXRhWzBdfHxhLmRhdGEpLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImlmcmFtZVwiKS5nZXRJdGVtKDApLmdldEZyYW1lRG9jdW1lbnQoKTtpZighYS5nZXRCeUlkKFwiY2tlX3VpX2NvbG9yXCIpKXthPWMoYSk7aC5wdXNoKGEpO3ZhciBkPWIuZ2V0VWlDb2xvcigpO2QmJmYoW2FdLENLRURJVE9SLnNraW4uY2hhbWVsZW9uKGIsXCJwYW5lbFwiKSxbW3AsZF1dKX19O2Iub24oXCJwYW5lbFNob3dcIixhKTtiLm9uKFwibWVudVNob3dcIixhKTtiLmNvbmZpZy51aUNvbG9yJiZiLnNldFVpQ29sb3IoYi5jb25maWcudWlDb2xvcil9fSl9KSgpO1xuKGZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5lbnYuaGM9ITE7ZWxzZXt2YXIgYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgc3R5bGVcXHgzZFwid2lkdGg6MDtoZWlnaHQ6MDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0xMDAwMHB4O2JvcmRlcjoxcHggc29saWQ7Ym9yZGVyLWNvbG9yOnJlZCBibHVlXCJcXHgzZVxceDNjL2RpdlxceDNlJyxDS0VESVRPUi5kb2N1bWVudCk7YS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpO3RyeXt2YXIgZD1hLmdldENvbXB1dGVkU3R5bGUoXCJib3JkZXItdG9wLWNvbG9yXCIpLGI9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIpO0NLRURJVE9SLmVudi5oYz0hKCFkfHxkIT1iKX1jYXRjaChjKXtDS0VESVRPUi5lbnYuaGM9ITF9YS5yZW1vdmUoKX1DS0VESVRPUi5lbnYuaGMmJihDS0VESVRPUi5lbnYuY3NzQ2xhc3MrPVwiIGNrZV9oY1wiKTtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVRleHQoXCIuY2tle3Zpc2liaWxpdHk6aGlkZGVuO31cIik7XG5DS0VESVRPUi5zdGF0dXM9XCJsb2FkZWRcIjtDS0VESVRPUi5maXJlT25jZShcImxvYWRlZFwiKTtpZihhPUNLRURJVE9SLl8ucGVuZGluZylmb3IoZGVsZXRlIENLRURJVE9SLl8ucGVuZGluZyxkPTA7ZDxhLmxlbmd0aDtkKyspQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseShhW2RdWzBdLGFbZF1bMV0pLENLRURJVE9SLmFkZChhW2RdWzBdKX0pKCk7LypcbiBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxOCwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwczovL2NrZWRpdG9yLmNvbS9sZWdhbC9ja2VkaXRvci1vc3MtbGljZW5zZVxuKi9cbkNLRURJVE9SLnNraW4ubmFtZT1cIm1vb25vXCI7Q0tFRElUT1Iuc2tpbi51YV9lZGl0b3I9XCJpZSxpZXF1aXJrcyxpZTcsaWU4LGdlY2tvXCI7Q0tFRElUT1Iuc2tpbi51YV9kaWFsb2c9XCJpZSxpZXF1aXJrcyxpZTcsaWU4XCI7XG5DS0VESVRPUi5za2luLmNoYW1lbGVvbj1mdW5jdGlvbigpe3ZhciBiPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7Zm9yKHZhciBhPWIubWF0Y2goL1teI10uL2cpLGM9MDszPmM7YysrKXt2YXIgZj1jLGQ7ZD1wYXJzZUludChhW2NdLDE2KTtkPShcIjBcIisoMD5lPzB8ZCooMStlKTowfGQrKDI1NS1kKSplKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTthW2ZdPWR9cmV0dXJuXCIjXCIrYS5qb2luKFwiXCIpfX0oKSxjPWZ1bmN0aW9uKCl7dmFyIGI9bmV3IENLRURJVE9SLnRlbXBsYXRlKFwiYmFja2dyb3VuZDoje3RvfTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0byBib3R0b20se2Zyb219LHt0b30pO2ZpbHRlcjpwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuZ3JhZGllbnQoZ3JhZGllbnRUeXBlXFx4M2QwLHN0YXJ0Q29sb3JzdHJcXHgzZCd7ZnJvbX0nLGVuZENvbG9yc3RyXFx4M2Qne3RvfScpO1wiKTtyZXR1cm4gZnVuY3Rpb24oYyxhKXtyZXR1cm4gYi5vdXRwdXQoe2Zyb206YyxcbnRvOmF9KX19KCksZj17ZWRpdG9yOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIntpZH0uY2tlX2Nocm9tZSBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV90b3AgWyB7ZGVmYXVsdEdyYWRpZW50fWJvcmRlci1ib3R0b20tY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2JvdHRvbSBbe2RlZmF1bHRHcmFkaWVudH1ib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9yZXNpemVyIFtib3JkZXItcmlnaHQtY29sb3I6e2NrZVJlc2l6ZXJ9XSB7aWR9IC5ja2VfZGlhbG9nX3RpdGxlIFt7ZGVmYXVsdEdyYWRpZW50fWJvcmRlci1ib3R0b20tY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ19mb290ZXIgW3tkZWZhdWx0R3JhZGllbnR9b3V0bGluZS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07Ym9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYiBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiOmhvdmVyIFt7bWVkaXVtR3JhZGllbnR9XSB7aWR9IC5ja2VfZGlhbG9nX2NvbnRlbnRzIFtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkLCB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZDpob3ZlciBbYmFja2dyb3VuZDp7ZGlhbG9nVGFiU2VsZWN0ZWR9O2JvcmRlci1ib3R0b20tY29sb3I6e2RpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfYm9keSBbYmFja2dyb3VuZDp7ZGlhbG9nQm9keX07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV90b29sZ3JvdXAgW3tsaWdodEdyYWRpZW50fWJvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6aG92ZXIsIHtpZH0gYS5ja2VfYnV0dG9uX29mZjpmb2N1cywge2lkfSBhLmNrZV9idXR0b25fb2ZmOmFjdGl2ZSBbe21lZGl1bUdyYWRpZW50fV0ge2lkfSAuY2tlX2J1dHRvbl9vbiBbe2NrZUJ1dHRvbk9ufV0ge2lkfSAuY2tlX3Rvb2xiYXJfc2VwYXJhdG9yIFtiYWNrZ3JvdW5kLWNvbG9yOiB7Y2tlVG9vbGJhclNlcGFyYXRvcn07XSB7aWR9IC5ja2VfY29tYm9fYnV0dG9uIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O3tsaWdodEdyYWRpZW50fV0ge2lkfSBhLmNrZV9jb21ib19idXR0b246aG92ZXIsIHtpZH0gYS5ja2VfY29tYm9fYnV0dG9uOmZvY3VzLCB7aWR9IC5ja2VfY29tYm9fb24gYS5ja2VfY29tYm9fYnV0dG9uIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O3ttZWRpdW1HcmFkaWVudH1dIHtpZH0gLmNrZV9wYXRoX2l0ZW0gW2NvbG9yOntlbGVtZW50c1BhdGhDb2xvcn07XSB7aWR9IGEuY2tlX3BhdGhfaXRlbTpob3Zlciwge2lkfSBhLmNrZV9wYXRoX2l0ZW06Zm9jdXMsIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7ZWxlbWVudHNQYXRoQmd9O10ge2lkfS5ja2VfcGFuZWwgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIiksXG5wYW5lbDpuZXcgQ0tFRElUT1IudGVtcGxhdGUoXCIuY2tlX3BhbmVsX2dyb3VwdGl0bGUgW3tsaWdodEdyYWRpZW50fWJvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gLmNrZV9tZW51YnV0dG9uOmhvdmVyIC5ja2VfbWVudWJ1dHRvbl9pY29uLCAuY2tlX21lbnVidXR0b246Zm9jdXMgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjphY3RpdmUgLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29uSG92ZXJ9O10gLmNrZV9tZW51c2VwYXJhdG9yIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSBhOmhvdmVyLmNrZV9jb2xvcmJveCwgYTpmb2N1cy5ja2VfY29sb3Jib3gsIGE6YWN0aXZlLmNrZV9jb2xvcmJveCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIGE6aG92ZXIuY2tlX2NvbG9yYXV0bywgYTpob3Zlci5ja2VfY29sb3Jtb3JlLCBhOmZvY3VzLmNrZV9jb2xvcmF1dG8sIGE6Zm9jdXMuY2tlX2NvbG9ybW9yZSwgYTphY3RpdmUuY2tlX2NvbG9yYXV0bywgYTphY3RpdmUuY2tlX2NvbG9ybW9yZSBbYmFja2dyb3VuZC1jb2xvcjp7Y2tlQ29sb3JhdXRvfTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gXCIpfTtcbnJldHVybiBmdW5jdGlvbihnLGUpe3ZhciBhPWcudWlDb2xvcixhPXtpZDpcIi5cIitnLmlkLGRlZmF1bHRCb3JkZXI6YihhLC0uMSksZGVmYXVsdEdyYWRpZW50OmMoYihhLC45KSxhKSxsaWdodEdyYWRpZW50OmMoYihhLDEpLGIoYSwuNykpLG1lZGl1bUdyYWRpZW50OmMoYihhLC44KSxiKGEsLjUpKSxja2VCdXR0b25PbjpjKGIoYSwuNiksYihhLC43KSksY2tlUmVzaXplcjpiKGEsLS40KSxja2VUb29sYmFyU2VwYXJhdG9yOmIoYSwuNSksY2tlQ29sb3JhdXRvOmIoYSwuOCksZGlhbG9nQm9keTpiKGEsLjcpLGRpYWxvZ1RhYlNlbGVjdGVkOmMoXCIjRkZGRkZGXCIsXCIjRkZGRkZGXCIpLGRpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyOlwiI0ZGRlwiLGVsZW1lbnRzUGF0aENvbG9yOmIoYSwtLjYpLGVsZW1lbnRzUGF0aEJnOmEsbWVudWJ1dHRvbkljb246YihhLC41KSxtZW51YnV0dG9uSWNvbkhvdmVyOmIoYSwuMyl9O3JldHVybiBmW2VdLm91dHB1dChhKS5yZXBsYWNlKC9cXFsvZyxcIntcIikucmVwbGFjZSgvXFxdL2csXG5cIn1cIil9fSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmFzaWNzdHlsZXNcIix7aW5pdDpmdW5jdGlvbihjKXt2YXIgZT0wLGQ9ZnVuY3Rpb24oZyxkLGIsYSl7aWYoYSl7YT1uZXcgQ0tFRElUT1Iuc3R5bGUoYSk7dmFyIGY9aFtiXTtmLnVuc2hpZnQoYSk7Yy5hdHRhY2hTdHlsZVN0YXRlQ2hhbmdlKGEsZnVuY3Rpb24oYSl7IWMucmVhZE9ubHkmJmMuZ2V0Q29tbWFuZChiKS5zZXRTdGF0ZShhKX0pO2MuYWRkQ29tbWFuZChiLG5ldyBDS0VESVRPUi5zdHlsZUNvbW1hbmQoYSx7Y29udGVudEZvcm1zOmZ9KSk7Yy51aS5hZGRCdXR0b24mJmMudWkuYWRkQnV0dG9uKGcse2xhYmVsOmQsY29tbWFuZDpiLHRvb2xiYXI6XCJiYXNpY3N0eWxlcyxcIisoZSs9MTApfSl9fSxoPXtib2xkOltcInN0cm9uZ1wiLFwiYlwiLFtcInNwYW5cIixmdW5jdGlvbihhKXthPWEuc3R5bGVzW1wiZm9udC13ZWlnaHRcIl07cmV0dXJuXCJib2xkXCI9PWF8fDcwMDw9K2F9XV0saXRhbGljOltcImVtXCIsXCJpXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwiaXRhbGljXCI9PVxuYS5zdHlsZXNbXCJmb250LXN0eWxlXCJdfV1dLHVuZGVybGluZTpbXCJ1XCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwidW5kZXJsaW5lXCI9PWEuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdfV1dLHN0cmlrZTpbXCJzXCIsXCJzdHJpa2VcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJsaW5lLXRocm91Z2hcIj09YS5zdHlsZXNbXCJ0ZXh0LWRlY29yYXRpb25cIl19XV0sc3Vic2NyaXB0OltcInN1YlwiXSxzdXBlcnNjcmlwdDpbXCJzdXBcIl19LGI9Yy5jb25maWcsYT1jLmxhbmcuYmFzaWNzdHlsZXM7ZChcIkJvbGRcIixhLmJvbGQsXCJib2xkXCIsYi5jb3JlU3R5bGVzX2JvbGQpO2QoXCJJdGFsaWNcIixhLml0YWxpYyxcIml0YWxpY1wiLGIuY29yZVN0eWxlc19pdGFsaWMpO2QoXCJVbmRlcmxpbmVcIixhLnVuZGVybGluZSxcInVuZGVybGluZVwiLGIuY29yZVN0eWxlc191bmRlcmxpbmUpO2QoXCJTdHJpa2VcIixhLnN0cmlrZSxcInN0cmlrZVwiLGIuY29yZVN0eWxlc19zdHJpa2UpO2QoXCJTdWJzY3JpcHRcIixhLnN1YnNjcmlwdCxcblwic3Vic2NyaXB0XCIsYi5jb3JlU3R5bGVzX3N1YnNjcmlwdCk7ZChcIlN1cGVyc2NyaXB0XCIsYS5zdXBlcnNjcmlwdCxcInN1cGVyc2NyaXB0XCIsYi5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0KTtjLnNldEtleXN0cm9rZShbW0NLRURJVE9SLkNUUkwrNjYsXCJib2xkXCJdLFtDS0VESVRPUi5DVFJMKzczLFwiaXRhbGljXCJdLFtDS0VESVRPUi5DVFJMKzg1LFwidW5kZXJsaW5lXCJdXSl9fSk7Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfYm9sZD17ZWxlbWVudDpcInN0cm9uZ1wiLG92ZXJyaWRlczpcImJcIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfaXRhbGljPXtlbGVtZW50OlwiZW1cIixvdmVycmlkZXM6XCJpXCJ9O0NLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3VuZGVybGluZT17ZWxlbWVudDpcInVcIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfc3RyaWtlPXtlbGVtZW50Olwic1wiLG92ZXJyaWRlczpcInN0cmlrZVwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdWJzY3JpcHQ9e2VsZW1lbnQ6XCJzdWJcIn07XG5DS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdXBlcnNjcmlwdD17ZWxlbWVudDpcInN1cFwifTsoZnVuY3Rpb24oKXt2YXIgbT17ZXhlYzpmdW5jdGlvbihnKXt2YXIgYT1nLmdldENvbW1hbmQoXCJibG9ja3F1b3RlXCIpLnN0YXRlLGs9Zy5nZXRTZWxlY3Rpb24oKSxjPWsmJmsuZ2V0UmFuZ2VzKClbMF07aWYoYyl7dmFyIGg9ay5jcmVhdGVCb29rbWFya3MoKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBlPWhbMF0uc3RhcnROb2RlLGI9aFswXS5lbmROb2RlLGQ7aWYoZSYmXCJibG9ja3F1b3RlXCI9PWUuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKWZvcihkPWU7ZD1kLmdldE5leHQoKTspaWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNCbG9ja0JvdW5kYXJ5KCkpe2UubW92ZShkLCEwKTticmVha31pZihiJiZcImJsb2NrcXVvdGVcIj09Yi5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGQ9YjtkPWQuZ2V0UHJldmlvdXMoKTspaWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNCbG9ja0JvdW5kYXJ5KCkpe2IubW92ZShkKTticmVha319dmFyIGY9Yy5jcmVhdGVJdGVyYXRvcigpO1xuZi5lbmxhcmdlQnI9Zy5jb25maWcuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUjtpZihhPT1DS0VESVRPUi5UUklTVEFURV9PRkYpe2ZvcihlPVtdO2E9Zi5nZXROZXh0UGFyYWdyYXBoKCk7KWUucHVzaChhKTsxPmUubGVuZ3RoJiYoYT1nLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZy5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLGI9aC5zaGlmdCgpLGMuaW5zZXJ0Tm9kZShhKSxhLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoXCLvu79cIixnLmRvY3VtZW50KSksYy5tb3ZlVG9Cb29rbWFyayhiKSxjLnNlbGVjdE5vZGVDb250ZW50cyhhKSxjLmNvbGxhcHNlKCEwKSxiPWMuY3JlYXRlQm9va21hcmsoKSxlLnB1c2goYSksaC51bnNoaWZ0KGIpKTtkPWVbMF0uZ2V0UGFyZW50KCk7Yz1bXTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKWE9ZVtiXSxkPWQuZ2V0Q29tbW9uQW5jZXN0b3IoYS5nZXRQYXJlbnQoKSk7Zm9yKGE9e3RhYmxlOjEsdGJvZHk6MSxcbnRyOjEsb2w6MSx1bDoxfTthW2QuZ2V0TmFtZSgpXTspZD1kLmdldFBhcmVudCgpO2ZvcihiPW51bGw7MDxlLmxlbmd0aDspe2ZvcihhPWUuc2hpZnQoKTshYS5nZXRQYXJlbnQoKS5lcXVhbHMoZCk7KWE9YS5nZXRQYXJlbnQoKTthLmVxdWFscyhiKXx8Yy5wdXNoKGEpO2I9YX1mb3IoOzA8Yy5sZW5ndGg7KWlmKGE9Yy5zaGlmdCgpLFwiYmxvY2txdW90ZVwiPT1hLmdldE5hbWUoKSl7Zm9yKGI9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGcuZG9jdW1lbnQpO2EuZ2V0Rmlyc3QoKTspYi5hcHBlbmQoYS5nZXRGaXJzdCgpLnJlbW92ZSgpKSxlLnB1c2goYi5nZXRMYXN0KCkpO2IucmVwbGFjZShhKX1lbHNlIGUucHVzaChhKTtjPWcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJsb2NrcXVvdGVcIik7Zm9yKGMuaW5zZXJ0QmVmb3JlKGVbMF0pOzA8ZS5sZW5ndGg7KWE9ZS5zaGlmdCgpLGMuYXBwZW5kKGEpfWVsc2UgaWYoYT09Q0tFRElUT1IuVFJJU1RBVEVfT04pe2I9W107XG5mb3IoZD17fTthPWYuZ2V0TmV4dFBhcmFncmFwaCgpOyl7Zm9yKGU9Yz1udWxsO2EuZ2V0UGFyZW50KCk7KXtpZihcImJsb2NrcXVvdGVcIj09YS5nZXRQYXJlbnQoKS5nZXROYW1lKCkpe2M9YS5nZXRQYXJlbnQoKTtlPWE7YnJlYWt9YT1hLmdldFBhcmVudCgpfWMmJmUmJiFlLmdldEN1c3RvbURhdGEoXCJibG9ja3F1b3RlX21vdmVvdXRcIikmJihiLnB1c2goZSksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGQsZSxcImJsb2NrcXVvdGVfbW92ZW91dFwiLCEwKSl9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGQpO2E9W107ZT1bXTtmb3IoZD17fTswPGIubGVuZ3RoOylmPWIuc2hpZnQoKSxjPWYuZ2V0UGFyZW50KCksZi5nZXRQcmV2aW91cygpP2YuZ2V0TmV4dCgpPyhmLmJyZWFrUGFyZW50KGYuZ2V0UGFyZW50KCkpLGUucHVzaChmLmdldE5leHQoKSkpOmYucmVtb3ZlKCkuaW5zZXJ0QWZ0ZXIoYyk6Zi5yZW1vdmUoKS5pbnNlcnRCZWZvcmUoYyksYy5nZXRDdXN0b21EYXRhKFwiYmxvY2txdW90ZV9wcm9jZXNzZWRcIil8fFxuKGUucHVzaChjKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxjLFwiYmxvY2txdW90ZV9wcm9jZXNzZWRcIiwhMCkpLGEucHVzaChmKTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZCk7Zm9yKGI9ZS5sZW5ndGgtMTswPD1iO2ItLSl7Yz1lW2JdO2E6e2Q9Yztmb3IodmFyIGY9MCxtPWQuZ2V0Q2hpbGRDb3VudCgpLGw9dm9pZCAwO2Y8bSYmKGw9ZC5nZXRDaGlsZChmKSk7ZisrKWlmKGwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZsLmlzQmxvY2tCb3VuZGFyeSgpKXtkPSExO2JyZWFrIGF9ZD0hMH1kJiZjLnJlbW92ZSgpfWlmKGcuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlIpZm9yKGM9ITA7YS5sZW5ndGg7KWlmKGY9YS5zaGlmdCgpLFwiZGl2XCI9PWYuZ2V0TmFtZSgpKXtiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChnLmRvY3VtZW50KTshY3x8IWYuZ2V0UHJldmlvdXMoKXx8Zi5nZXRQcmV2aW91cygpLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmdldFByZXZpb3VzKCkuaXNCbG9ja0JvdW5kYXJ5KCl8fGIuYXBwZW5kKGcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtmb3IoYz1mLmdldE5leHQoKSYmIShmLmdldE5leHQoKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuZ2V0TmV4dCgpLmlzQmxvY2tCb3VuZGFyeSgpKTtmLmdldEZpcnN0KCk7KWYuZ2V0Rmlyc3QoKS5yZW1vdmUoKS5hcHBlbmRUbyhiKTtjJiZiLmFwcGVuZChnLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKSk7Yi5yZXBsYWNlKGYpO2M9ITF9fWsuc2VsZWN0Qm9va21hcmtzKGgpO2cuZm9jdXMoKX19LHJlZnJlc2g6ZnVuY3Rpb24oZyxhKXt0aGlzLnNldFN0YXRlKGcuZWxlbWVudFBhdGgoYS5ibG9ja3x8YS5ibG9ja0xpbWl0KS5jb250YWlucyhcImJsb2NrcXVvdGVcIiwxKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkYpfSxjb250ZXh0OlwiYmxvY2txdW90ZVwiLGFsbG93ZWRDb250ZW50OlwiYmxvY2txdW90ZVwiLFxucmVxdWlyZWRDb250ZW50OlwiYmxvY2txdW90ZVwifTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImJsb2NrcXVvdGVcIix7aW5pdDpmdW5jdGlvbihnKXtnLmJsb2NrbGVzc3x8KGcuYWRkQ29tbWFuZChcImJsb2NrcXVvdGVcIixtKSxnLnVpLmFkZEJ1dHRvbiYmZy51aS5hZGRCdXR0b24oXCJCbG9ja3F1b3RlXCIse2xhYmVsOmcubGFuZy5ibG9ja3F1b3RlLnRvb2xiYXIsY29tbWFuZDpcImJsb2NrcXVvdGVcIix0b29sYmFyOlwiYmxvY2tzLDEwXCJ9KSl9fSl9KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9ndWlcIix7b25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGg9ZnVuY3Rpb24oYil7dGhpcy5ffHwodGhpcy5fPXt9KTt0aGlzLl9bXCJkZWZhdWx0XCJdPXRoaXMuXy5pbml0VmFsdWU9YltcImRlZmF1bHRcIl18fFwiXCI7dGhpcy5fLnJlcXVpcmVkPWIucmVxdWlyZWR8fCExO2Zvcih2YXIgYT1bdGhpcy5fXSxkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKylhLnB1c2goYXJndW1lbnRzW2RdKTthLnB1c2goITApO0NLRURJVE9SLnRvb2xzLmV4dGVuZC5hcHBseShDS0VESVRPUi50b29scyxhKTtyZXR1cm4gdGhpcy5ffSxyPXtidWlsZDpmdW5jdGlvbihiLGEsZCl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0KGIsYSxkKX19LG49e2J1aWxkOmZ1bmN0aW9uKGIsYSxkKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1thLnR5cGVdKGIsYSxkKX19LHE9e2lzQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCkhPVxudGhpcy5nZXRJbml0VmFsdWUoKX0scmVzZXQ6ZnVuY3Rpb24oYil7dGhpcy5zZXRWYWx1ZSh0aGlzLmdldEluaXRWYWx1ZSgpLGIpfSxzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuZ2V0VmFsdWUoKX0scmVzZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLl8uaW5pdFZhbHVlPXRoaXMuX1tcImRlZmF1bHRcIl19LGdldEluaXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uaW5pdFZhbHVlfX0sdj1DS0VESVRPUi50b29scy5leHRlbmQoe30sQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGUuZXZlbnRQcm9jZXNzb3JzLHtvbkNoYW5nZTpmdW5jdGlvbihiLGEpe3RoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWR8fChiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7Yi5wYXJ0cy5kaWFsb2cuaXNWaXNpYmxlKCkmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTp0aGlzLmdldFZhbHVlKCl9KX0sXG50aGlzKX0sdGhpcyksdGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZD0hMCk7dGhpcy5vbihcImNoYW5nZVwiLGEpfX0sITApLHg9L15vbihbQS1aXVxcdyspLyx0PWZ1bmN0aW9uKGIpe2Zvcih2YXIgYSBpbiBiKSh4LnRlc3QoYSl8fFwidGl0bGVcIj09YXx8XCJ0eXBlXCI9PWEpJiZkZWxldGUgYlthXTtyZXR1cm4gYn0sdz1mdW5jdGlvbihiKXtiPWIuZGF0YS5nZXRLZXlzdHJva2UoKTtiPT1DS0VESVRPUi5TSElGVCtDS0VESVRPUi5BTFQrMzY/dGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoXCJsdHJcIik6Yj09Q0tFRElUT1IuU0hJRlQrQ0tFRElUT1IuQUxUKzM1JiZ0aGlzLnNldERpcmVjdGlvbk1hcmtlcihcInJ0bFwiKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnVpLmRpYWxvZyx7bGFiZWxlZEVsZW1lbnQ6ZnVuY3Rpb24oYixhLGQsZil7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgYz1oLmNhbGwodGhpcyxhKTtjLmxhYmVsSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXG5cIl9sYWJlbFwiO3RoaXMuXy5jaGlsZHJlbj1bXTt2YXIgZT17cm9sZTphLnJvbGV8fFwicHJlc2VudGF0aW9uXCJ9O2EuaW5jbHVkZUxhYmVsJiYoZVtcImFyaWEtbGFiZWxsZWRieVwiXT1jLmxhYmVsSWQpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLFwiZGl2XCIsbnVsbCxlLGZ1bmN0aW9uKCl7dmFyIGU9W10sZz1hLnJlcXVpcmVkP1wiIGNrZV9yZXF1aXJlZFwiOlwiXCI7XCJob3Jpem9udGFsXCIhPWEubGFiZWxMYXlvdXQ/ZS5wdXNoKCdcXHgzY2xhYmVsIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9sYWJlbCcrZysnXCIgJywnIGlkXFx4M2RcIicrYy5sYWJlbElkKydcIicsYy5pbnB1dElkPycgZm9yXFx4M2RcIicrYy5pbnB1dElkKydcIic6XCJcIiwoYS5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJythLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsYS5sYWJlbCxcIlxceDNjL2xhYmVsXFx4M2VcIiwnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2NvbnRlbnRcIicsXG5hLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYS5jb250cm9sU3R5bGUrJ1wiJzpcIlwiLCcgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyxmLmNhbGwodGhpcyxiLGEpLFwiXFx4M2MvZGl2XFx4M2VcIik6KGc9e3R5cGU6XCJoYm94XCIsd2lkdGhzOmEud2lkdGhzLHBhZGRpbmc6MCxjaGlsZHJlbjpbe3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2crJ1wiIGlkXFx4M2RcIicrYy5sYWJlbElkKydcIiBmb3JcXHgzZFwiJytjLmlucHV0SWQrJ1wiJysoYS5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJythLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKStcIlxceDNjL2xhYmVsXFx4M2VcIn0se3R5cGU6XCJodG1sXCIsaHRtbDonXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInKyhhLmNvbnRyb2xTdHlsZT8nIHN0eWxlXFx4M2RcIicrYS5jb250cm9sU3R5bGUrXG4nXCInOlwiXCIpK1wiXFx4M2VcIitmLmNhbGwodGhpcyxiLGEpK1wiXFx4M2Mvc3BhblxceDNlXCJ9XX0sQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMuaGJveC5idWlsZChiLGcsZSkpO3JldHVybiBlLmpvaW4oXCJcIil9KX19LHRleHRJbnB1dDpmdW5jdGlvbihiLGEsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXtoLmNhbGwodGhpcyxhKTt2YXIgZj10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl90ZXh0SW5wdXRcIixjPXtcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X1wiK2EudHlwZSxpZDpmLHR5cGU6YS50eXBlfTthLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1hLnZhbGlkYXRlKTthLm1heExlbmd0aCYmKGMubWF4bGVuZ3RoPWEubWF4TGVuZ3RoKTthLnNpemUmJihjLnNpemU9YS5zaXplKTthLmlucHV0U3R5bGUmJihjLnN0eWxlPWEuaW5wdXRTdHlsZSk7dmFyIGU9dGhpcyxtPSExO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtlLmdldElucHV0RWxlbWVudCgpLm9uKFwia2V5ZG93blwiLFxuZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmKG09ITApfSk7ZS5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsZnVuY3Rpb24oYSl7MTM9PWEuZGF0YS5nZXRLZXlzdHJva2UoKSYmbSYmKGIuZ2V0QnV0dG9uKFwib2tcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmdldEJ1dHRvbihcIm9rXCIpLmNsaWNrKCl9LDApLG09ITEpO2UuYmlkaSYmdy5jYWxsKGUsYSl9LG51bGwsbnVsbCwxRTMpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGEsZCxmdW5jdGlvbigpe3ZhciBiPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF8nLGEudHlwZSwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiddO2Eud2lkdGgmJmIucHVzaCgnc3R5bGVcXHgzZFwid2lkdGg6JythLndpZHRoKydcIiAnKTtiLnB1c2goXCJcXHgzZVxceDNjaW5wdXQgXCIpO2NbXCJhcmlhLWxhYmVsbGVkYnlcIl09dGhpcy5fLmxhYmVsSWQ7dGhpcy5fLnJlcXVpcmVkJiZcbihjW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO2Zvcih2YXIgZSBpbiBjKWIucHVzaChlKydcXHgzZFwiJytjW2VdKydcIiAnKTtiLnB1c2goXCIgL1xceDNlXFx4M2MvZGl2XFx4M2VcIik7cmV0dXJuIGIuam9pbihcIlwiKX0pfX0sdGV4dGFyZWE6ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7aC5jYWxsKHRoaXMsYSk7dmFyIGY9dGhpcyxjPXRoaXMuXy5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3RleHRhcmVhXCIsZT17fTthLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1hLnZhbGlkYXRlKTtlLnJvd3M9YS5yb3dzfHw1O2UuY29scz1hLmNvbHN8fDIwO2VbXCJjbGFzc1wiXT1cImNrZV9kaWFsb2dfdWlfaW5wdXRfdGV4dGFyZWEgXCIrKGFbXCJjbGFzc1wiXXx8XCJcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuaW5wdXRTdHlsZSYmKGUuc3R5bGU9YS5pbnB1dFN0eWxlKTthLmRpciYmKGUuZGlyPWEuZGlyKTtpZihmLmJpZGkpYi5vbihcImxvYWRcIixcbmZ1bmN0aW9uKCl7Zi5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleXVwXCIsdyl9LGYpO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsZnVuY3Rpb24oKXtlW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPXRoaXMuXy5sYWJlbElkO3RoaXMuXy5yZXF1aXJlZCYmKGVbXCJhcmlhLXJlcXVpcmVkXCJdPXRoaXMuXy5yZXF1aXJlZCk7dmFyIGE9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0X3RleHRhcmVhXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0ZXh0YXJlYSBpZFxceDNkXCInLGMsJ1wiICddLGI7Zm9yKGIgaW4gZSlhLnB1c2goYisnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlW2JdKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGYuX1tcImRlZmF1bHRcIl0pLFwiXFx4M2MvdGV4dGFyZWFcXHgzZVxceDNjL2RpdlxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LGNoZWNrYm94OmZ1bmN0aW9uKGIsXG5hLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGY9aC5jYWxsKHRoaXMsYSx7XCJkZWZhdWx0XCI6ISFhW1wiZGVmYXVsdFwiXX0pO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsaWRhdGUpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYSxkLFwic3BhblwiLG51bGwsbnVsbCxmdW5jdGlvbigpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLHtpZDphLmlkP2EuaWQrXCJfY2hlY2tib3hcIjpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9jaGVja2JveFwifSwhMCksZT1bXSxkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCIsZz17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9jaGVja2JveF9pbnB1dFwiLHR5cGU6XCJjaGVja2JveFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6ZH07dChjKTthW1wiZGVmYXVsdFwiXSYmKGcuY2hlY2tlZD1cImNoZWNrZWRcIik7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGMuaW5wdXRTdHlsZSYmKGMuc3R5bGU9Yy5pbnB1dFN0eWxlKTtcbmYuY2hlY2tib3g9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixjLGUsXCJpbnB1dFwiLG51bGwsZyk7ZS5wdXNoKCcgXFx4M2NsYWJlbCBpZFxceDNkXCInLGQsJ1wiIGZvclxceDNkXCInLGcuaWQsJ1wiJysoYS5sYWJlbFN0eWxlPycgc3R5bGVcXHgzZFwiJythLmxhYmVsU3R5bGUrJ1wiJzpcIlwiKStcIlxceDNlXCIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKSxcIlxceDNjL2xhYmVsXFx4M2VcIik7cmV0dXJuIGUuam9pbihcIlwiKX0pfX0scmFkaW86ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7aC5jYWxsKHRoaXMsYSk7dGhpcy5fW1wiZGVmYXVsdFwiXXx8KHRoaXMuX1tcImRlZmF1bHRcIl09dGhpcy5fLmluaXRWYWx1ZT1hLml0ZW1zWzBdWzFdKTthLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1hLnZhbGlkYXRlKTt2YXIgZj1bXSxjPXRoaXM7YS5yb2xlPVwicmFkaW9ncm91cFwiO2EuaW5jbHVkZUxhYmVsPSEwO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsXG5iLGEsZCxmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxkPVtdLGc9KGEuaWQ/YS5pZDpDS0VESVRPUi50b29scy5nZXROZXh0SWQoKSkrXCJfcmFkaW9cIixrPTA7azxhLml0ZW1zLmxlbmd0aDtrKyspe3ZhciBsPWEuaXRlbXNba10saD12b2lkIDAhPT1sWzJdP2xbMl06bFswXSxuPXZvaWQgMCE9PWxbMV0/bFsxXTpsWzBdLHA9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfcmFkaW9faW5wdXRcIixxPXArXCJfbGFiZWxcIixwPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLHtpZDpwLHRpdGxlOm51bGwsdHlwZTpudWxsfSwhMCksaD1DS0VESVRPUi50b29scy5leHRlbmQoe30scCx7dGl0bGU6aH0sITApLHI9e3R5cGU6XCJyYWRpb1wiLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfcmFkaW9faW5wdXRcIixuYW1lOmcsdmFsdWU6bixcImFyaWEtbGFiZWxsZWRieVwiOnF9LHU9W107Yy5fW1wiZGVmYXVsdFwiXT09biYmKHIuY2hlY2tlZD1cImNoZWNrZWRcIik7dChwKTt0KGgpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBwLmlucHV0U3R5bGUmJlxuKHAuc3R5bGU9cC5pbnB1dFN0eWxlKTtwLmtleWJvYXJkRm9jdXNhYmxlPSEwO2YucHVzaChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLHAsdSxcImlucHV0XCIsbnVsbCxyKSk7dS5wdXNoKFwiIFwiKTtuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudChiLGgsdSxcImxhYmVsXCIsbnVsbCx7aWQ6cSxcImZvclwiOnIuaWR9LGxbMF0pO2UucHVzaCh1LmpvaW4oXCJcIikpfW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveChiLGYsZSxkKTtyZXR1cm4gZC5qb2luKFwiXCIpfSk7dGhpcy5fLmNoaWxkcmVuPWZ9fSxidXR0b246ZnVuY3Rpb24oYixhLGQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihhPWEoYi5nZXRQYXJlbnRFZGl0b3IoKSkpO2guY2FsbCh0aGlzLGEse2Rpc2FibGVkOmEuZGlzYWJsZWR8fCExfSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dmFyIGY9dGhpcztiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7XG4oZnVuY3Rpb24oKXthLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXtmLmNsaWNrKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjF9JiYoZi5jbGljaygpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0pfSkoKTthLnVuc2VsZWN0YWJsZSgpfSx0aGlzKTt2YXIgYz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYSk7ZGVsZXRlIGMuc3R5bGU7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfbGFiZWxcIjtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxcImFcIixudWxsLHtzdHlsZTphLnN0eWxlLGhyZWY6XCJqYXZhc2NyaXB0OnZvaWQoMClcIix0aXRsZTphLmxhYmVsLGhpZGVmb2N1czpcInRydWVcIixcImNsYXNzXCI6YVtcImNsYXNzXCJdLHJvbGU6XCJidXR0b25cIixcImFyaWEtbGFiZWxsZWRieVwiOmV9LCdcXHgzY3NwYW4gaWRcXHgzZFwiJytlKydcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiXFx4M2UnK1xuQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKStcIlxceDNjL3NwYW5cXHgzZVwiKX19LHNlbGVjdDpmdW5jdGlvbihiLGEsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt2YXIgZj1oLmNhbGwodGhpcyxhKTthLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1hLnZhbGlkYXRlKTtmLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCI7Q0tFRElUT1IudWkuZGlhbG9nLmxhYmVsZWRFbGVtZW50LmNhbGwodGhpcyxiLGEsZCxmdW5jdGlvbigpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLHtpZDphLmlkP2EuaWQrXCJfc2VsZWN0XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfc2VsZWN0XCJ9LCEwKSxlPVtdLGQ9W10sZz17aWQ6Zi5pbnB1dElkLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfaW5wdXRfc2VsZWN0XCIsXCJhcmlhLWxhYmVsbGVkYnlcIjp0aGlzLl8ubGFiZWxJZH07ZS5wdXNoKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0XycsXG5hLnR5cGUsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCInKTthLndpZHRoJiZlLnB1c2goJ3N0eWxlXFx4M2RcIndpZHRoOicrYS53aWR0aCsnXCIgJyk7ZS5wdXNoKFwiXFx4M2VcIik7dm9pZCAwIT09YS5zaXplJiYoZy5zaXplPWEuc2l6ZSk7dm9pZCAwIT09YS5tdWx0aXBsZSYmKGcubXVsdGlwbGU9YS5tdWx0aXBsZSk7dChjKTtmb3IodmFyIGs9MCxsO2s8YS5pdGVtcy5sZW5ndGgmJihsPWEuaXRlbXNba10pO2srKylkLnB1c2goJ1xceDNjb3B0aW9uIHZhbHVlXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSh2b2lkIDAhPT1sWzFdP2xbMV06bFswXSkucmVwbGFjZSgvXCIvZyxcIlxceDI2cXVvdDtcIiksJ1wiIC9cXHgzZSAnLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUobFswXSkpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjLmlucHV0U3R5bGUmJihjLnN0eWxlPWMuaW5wdXRTdHlsZSk7Zi5zZWxlY3Q9bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixjLGUsXCJzZWxlY3RcIixudWxsLFxuZyxkLmpvaW4oXCJcIikpO2UucHVzaChcIlxceDNjL2RpdlxceDNlXCIpO3JldHVybiBlLmpvaW4oXCJcIil9KX19LGZpbGU6ZnVuY3Rpb24oYixhLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dm9pZCAwPT09YVtcImRlZmF1bHRcIl0mJihhW1wiZGVmYXVsdFwiXT1cIlwiKTt2YXIgZj1DS0VESVRPUi50b29scy5leHRlbmQoaC5jYWxsKHRoaXMsYSkse2RlZmluaXRpb246YSxidXR0b25zOltdfSk7YS52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9YS52YWxpZGF0ZSk7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZi5mcmFtZUlkKS5nZXRQYXJlbnQoKS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixhLGQsZnVuY3Rpb24oKXtmLmZyYW1lSWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfZmlsZUlucHV0XCI7dmFyIGI9WydcXHgzY2lmcmFtZSBmcmFtZWJvcmRlclxceDNkXCIwXCIgYWxsb3d0cmFuc3BhcmVuY3lcXHgzZFwiMFwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfZmlsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgaWRcXHgzZFwiJyxcbmYuZnJhbWVJZCwnXCIgdGl0bGVcXHgzZFwiJyxhLmxhYmVsLCdcIiBzcmNcXHgzZFwiamF2YXNjcmlwdDp2b2lkKCddO2IucHVzaChDS0VESVRPUi5lbnYuaWU/XCIoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0pKClcIjpcIjBcIik7Yi5wdXNoKCcpXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7cmV0dXJuIGIuam9pbihcIlwiKX0pfX0sZmlsZUJ1dHRvbjpmdW5jdGlvbihiLGEsZCl7dmFyIGY9dGhpcztpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2guY2FsbCh0aGlzLGEpO2EudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWEudmFsaWRhdGUpO3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhKSxlPWMub25DbGljaztjLmNsYXNzTmFtZT0oYy5jbGFzc05hbWU/Yy5jbGFzc05hbWUrXCIgXCI6XCJcIikrXCJja2VfZGlhbG9nX3VpX2J1dHRvblwiO2Mub25DbGljaz1mdW5jdGlvbihjKXt2YXIgZD1cbmFbXCJmb3JcIl07Yz1lP2UuY2FsbCh0aGlzLGMpOiExOyExIT09YyYmKFwieGhyXCIhPT1jJiZiLmdldENvbnRlbnRFbGVtZW50KGRbMF0sZFsxXSkuc3VibWl0KCksdGhpcy5kaXNhYmxlKCkpfTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5nZXRDb250ZW50RWxlbWVudChhW1wiZm9yXCJdWzBdLGFbXCJmb3JcIl1bMV0pLl8uYnV0dG9ucy5wdXNoKGYpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbi5jYWxsKHRoaXMsYixjLGQpfX0saHRtbDpmdW5jdGlvbigpe3ZhciBiPS9eXFxzKjxbXFx3Ol0rXFxzKyhbXj5dKik/Pi8sYT0vXihcXHMqPFtcXHc6XSsoPzpcXHMrW14+XSopPykoKD86LnxcXHJ8XFxuKSspJC8sZD0vXFwvJC87cmV0dXJuIGZ1bmN0aW9uKGYsYyxlKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBtPVtdLGc9Yy5odG1sO1wiXFx4M2NcIiE9Zy5jaGFyQXQoMCkmJihnPVwiXFx4M2NzcGFuXFx4M2VcIitnK1wiXFx4M2Mvc3BhblxceDNlXCIpO3ZhciBrPWMuZm9jdXM7aWYoayl7dmFyIGw9dGhpcy5mb2N1cztcbnRoaXMuZm9jdXM9ZnVuY3Rpb24oKXsoXCJmdW5jdGlvblwiPT10eXBlb2Ygaz9rOmwpLmNhbGwodGhpcyk7dGhpcy5maXJlKFwiZm9jdXNcIil9O2MuaXNGb2N1c2FibGUmJih0aGlzLmlzRm9jdXNhYmxlPXRoaXMuaXNGb2N1c2FibGUpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGU9ITB9Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsZixjLG0sXCJzcGFuXCIsbnVsbCxudWxsLFwiXCIpO209bS5qb2luKFwiXCIpLm1hdGNoKGIpO2c9Zy5tYXRjaChhKXx8W1wiXCIsXCJcIixcIlwiXTtkLnRlc3QoZ1sxXSkmJihnWzFdPWdbMV0uc2xpY2UoMCwtMSksZ1syXT1cIi9cIitnWzJdKTtlLnB1c2goW2dbMV0sXCIgXCIsbVsxXXx8XCJcIixnWzJdXS5qb2luKFwiXCIpKX19fSgpLGZpZWxkc2V0OmZ1bmN0aW9uKGIsYSxkLGYsYyl7dmFyIGU9Yy5sYWJlbDt0aGlzLl89e2NoaWxkcmVuOmF9O0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGIsYyxmLFwiZmllbGRzZXRcIixudWxsLG51bGwsZnVuY3Rpb24oKXt2YXIgYT1cbltdO2UmJmEucHVzaChcIlxceDNjbGVnZW5kXCIrKGMubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK2UrXCJcXHgzYy9sZWdlbmRcXHgzZVwiKTtmb3IodmFyIGI9MDtiPGQubGVuZ3RoO2IrKylhLnB1c2goZFtiXSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5odG1sLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0TGFiZWw6ZnVuY3Rpb24oYil7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7MT5hLmdldENoaWxkQ291bnQoKT8obmV3IENLRURJVE9SLmRvbS50ZXh0KGIsQ0tFRElUT1IuZG9jdW1lbnQpKS5hcHBlbmRUbyhhKTphLmdldENoaWxkKDApLiQubm9kZVZhbHVlPVxuYjtyZXR1cm4gdGhpc30sZ2V0TGFiZWw6ZnVuY3Rpb24oKXt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTtyZXR1cm4hYnx8MT5iLmdldENoaWxkQ291bnQoKT9cIlwiOmIuZ2V0Q2hpbGQoMCkuZ2V0VGV4dCgpfSxldmVudFByb2Nlc3NvcnM6dn0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Y2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpc2FibGVkPyExOnRoaXMuZmlyZShcImNsaWNrXCIse2RpYWxvZzp0aGlzLl8uZGlhbG9nfSl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMTt2YXIgYj10aGlzLmdldEVsZW1lbnQoKTtiJiZiLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLmRpc2FibGVkPSEwO3RoaXMuZ2V0RWxlbWVudCgpLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxcbmlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLmlzVmlzaWJsZSgpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fLmRpc2FibGVkfSxldmVudFByb2Nlc3NvcnM6Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DbGljazpmdW5jdGlvbihiLGEpe3RoaXMub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX19LCEwKSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuY2xpY2soKX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlucHV0SWQpfSxcbmZvY3VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zZWxlY3RQYXJlbnRUYWIoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLiQuZm9jdXMoKX0sMCl9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBhPWIuZ2V0SW5wdXRFbGVtZW50KCk7YSYmKGEuJC5mb2N1cygpLGEuJC5zZWxlY3QoKSl9LDApfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGIpe2lmKHRoaXMuYmlkaSl7dmFyIGE9YiYmYi5jaGFyQXQoMCk7KGE9XCLigKpcIj09YT9cImx0clwiOlwi4oCrXCI9PWE/XCJydGxcIjpudWxsKSYmKGI9Yi5zbGljZSgxKSk7dGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoYSl9Ynx8KGI9XCJcIik7cmV0dXJuIENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLnNldFZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sXG5nZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBiPUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmdldFZhbHVlLmNhbGwodGhpcyk7aWYodGhpcy5iaWRpJiZiKXt2YXIgYT10aGlzLmdldERpcmVjdGlvbk1hcmtlcigpO2EmJihiPShcImx0clwiPT1hP1wi4oCqXCI6XCLigKtcIikrYil9cmV0dXJuIGJ9LHNldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpO2I/YS5zZXRBdHRyaWJ1dGVzKHtkaXI6YixcImRhdGEtY2tlLWRpci1tYXJrZXJcIjpifSk6dGhpcy5nZXREaXJlY3Rpb25NYXJrZXIoKSYmYS5yZW1vdmVBdHRyaWJ1dGVzKFtcImRpclwiLFwiZGF0YS1ja2UtZGlyLW1hcmtlclwiXSl9LGdldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmRhdGEoXCJja2UtZGlyLW1hcmtlclwiKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LHEsITApO0NLRURJVE9SLnVpLmRpYWxvZy50ZXh0YXJlYS5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dDtDS0VESVRPUi51aS5kaWFsb2cuc2VsZWN0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zZWxlY3QuZ2V0RWxlbWVudCgpfSxhZGQ6ZnVuY3Rpb24oYixhLGQpe3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcIm9wdGlvblwiLHRoaXMuZ2V0RGlhbG9nKCkuZ2V0UGFyZW50RWRpdG9yKCkuZG9jdW1lbnQpLGM9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kO2YuJC50ZXh0PWI7Zi4kLnZhbHVlPXZvaWQgMD09PWF8fG51bGw9PT1hP2I6YTt2b2lkIDA9PT1kfHxudWxsPT09ZD9DS0VESVRPUi5lbnYuaWU/Yy5hZGQoZi4kKTpjLmFkZChmLiQsbnVsbCk6Yy5hZGQoZi4kLGQpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLnJlbW92ZShiKTtcbnJldHVybiB0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7MDxiLmxlbmd0aDspYi5yZW1vdmUoMCk7cmV0dXJuIHRoaXN9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxxLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuY2hlY2tib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGIsYSl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWQ9YjshYSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmJ9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWR9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dGhpcy5zZXRWYWx1ZSghdGhpcy5nZXRWYWx1ZSgpKX0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihiLFxuYSl7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gdi5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCk7YS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEuJDtcImNoZWNrZWRcIj09Yi5wcm9wZXJ0eU5hbWUmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphLiQuY2hlY2tlZH0pfSx0aGlzKX0sdGhpcyk7dGhpcy5vbihcImNoYW5nZVwiLGEpO3JldHVybiBudWxsfX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LHEsITApO0NLRURJVE9SLnVpLmRpYWxvZy5yYWRpby5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtzZXRWYWx1ZTpmdW5jdGlvbihiLGEpe2Zvcih2YXIgZD10aGlzLl8uY2hpbGRyZW4sZixjPTA7YzxkLmxlbmd0aCYmKGY9ZFtjXSk7YysrKWYuZ2V0RWxlbWVudCgpLiQuY2hlY2tlZD1cbmYuZ2V0VmFsdWUoKT09YjshYSYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmJ9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGI9dGhpcy5fLmNoaWxkcmVuLGE9MDthPGIubGVuZ3RoO2ErKylpZihiW2FdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpcmV0dXJuIGJbYV0uZ2V0VmFsdWUoKTtyZXR1cm4gbnVsbH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl8uY2hpbGRyZW4sYTtmb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKWlmKGJbYV0uZ2V0RWxlbWVudCgpLiQuY2hlY2tlZCl7YlthXS5nZXRFbGVtZW50KCkuZm9jdXMoKTtyZXR1cm59YlswXS5nZXRFbGVtZW50KCkuZm9jdXMoKX0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihiLGEpe2lmKCFDS0VESVRPUi5lbnYuaWV8fDg8Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuIHYub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGE9XG50aGlzLl8uY2hpbGRyZW4sYj10aGlzLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdLmdldEVsZW1lbnQoKS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDtcImNoZWNrZWRcIj09YS5wcm9wZXJ0eU5hbWUmJnRoaXMuJC5jaGVja2VkJiZiLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfSl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixhKTtyZXR1cm4gbnVsbH19fSxxLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZS5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQscSx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpO3JldHVybiAwPGIuJC5mb3Jtcy5sZW5ndGg/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGIuJC5mb3Jtc1swXS5lbGVtZW50c1swXSk6XG50aGlzLmdldEVsZW1lbnQoKX0sc3VibWl0OmZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLnN1Ym1pdCgpO3JldHVybiB0aGlzfSxnZXRBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLmFjdGlvbn0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYil7dmFyIGE9L15vbihbQS1aXVxcdyspLyxkLGY9ZnVuY3Rpb24oYSxiLGMsZCl7YS5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxkLGEpfSl9LGM7Zm9yKGMgaW4gYilpZihkPWMubWF0Y2goYSkpdGhpcy5ldmVudFByb2Nlc3NvcnNbY10/dGhpcy5ldmVudFByb2Nlc3NvcnNbY10uY2FsbCh0aGlzLHRoaXMuXy5kaWFsb2csYltjXSk6Zih0aGlzLHRoaXMuXy5kaWFsb2csZFsxXS50b0xvd2VyQ2FzZSgpLGJbY10pO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXtkLiQub3BlbigpO1xudmFyIGI9XCJcIjtmLnNpemUmJihiPWYuc2l6ZS0oQ0tFRElUT1IuZW52LmllPzc6MCkpO3ZhciBoPWEuZnJhbWVJZCtcIl9pbnB1dFwiO2QuJC53cml0ZShbJ1xceDNjaHRtbCBkaXJcXHgzZFwiJytnKydcIiBsYW5nXFx4M2RcIicraysnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXCJtYXJnaW46IDA7IG92ZXJmbG93OiBoaWRkZW47IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1wiXFx4M2UnLCdcXHgzY2Zvcm0gZW5jdHlwZVxceDNkXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgbWV0aG9kXFx4M2RcIlBPU1RcIiBkaXJcXHgzZFwiJytnKydcIiBsYW5nXFx4M2RcIicraysnXCIgYWN0aW9uXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShmLmFjdGlvbiksJ1wiXFx4M2VcXHgzY2xhYmVsIGlkXFx4M2RcIicsYS5sYWJlbElkLCdcIiBmb3JcXHgzZFwiJyxoLCdcIiBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGYubGFiZWwpLFxuJ1xceDNjL2xhYmVsXFx4M2VcXHgzY2lucHV0IHN0eWxlXFx4M2RcIndpZHRoOjEwMCVcIiBpZFxceDNkXCInLGgsJ1wiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGEubGFiZWxJZCwnXCIgdHlwZVxceDNkXCJmaWxlXCIgbmFtZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZi5pZHx8XCJja2VfdXBsb2FkXCIpLCdcIiBzaXplXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSgwPGI/YjpcIlwiKSwnXCIgL1xceDNlXFx4M2MvZm9ybVxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXFx4M2NzY3JpcHRcXHgzZScsQ0tFRElUT1IuZW52LmllP1wiKFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcIjpcIlwiLFwid2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrZStcIik7XCIsXCJ3aW5kb3cub25iZWZvcmV1bmxvYWQgXFx4M2QgZnVuY3Rpb24oKSB7d2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrbStcIil9XCIsXCJcXHgzYy9zY3JpcHRcXHgzZVwiXS5qb2luKFwiXCIpKTtcbmQuJC5jbG9zZSgpO2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspY1tiXS5lbmFibGUoKX12YXIgYT10aGlzLl8sZD1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpLGY9YS5kZWZpbml0aW9uLGM9YS5idXR0b25zLGU9dGhpcy5mb3JtTG9hZGVkTnVtYmVyLG09dGhpcy5mb3JtVW5sb2FkTnVtYmVyLGc9YS5kaWFsb2cuXy5lZGl0b3IubGFuZy5kaXIsaz1hLmRpYWxvZy5fLmVkaXRvci5sYW5nQ29kZTtlfHwoZT10aGlzLmZvcm1Mb2FkZWROdW1iZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJmb3JtTG9hZGVkXCIpfSx0aGlzKSxtPXRoaXMuZm9ybVVubG9hZE51bWJlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuY2xlYXJDdXN0b21EYXRhKCl9LHRoaXMpLHRoaXMuZ2V0RGlhbG9nKCkuXy5lZGl0b3Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihlKTtcbkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKG0pfSkpO0NLRURJVE9SLmVudi5nZWNrbz9zZXRUaW1lb3V0KGIsNTAwKTpiKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZXx8XCJcIn0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT1cIlwifSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8KHRoaXMub24oXCJmb3JtTG9hZGVkXCIsZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRWYWx1ZSgpfSl9LHRoaXMpfSx0aGlzKSx0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkPSEwKTt0aGlzLm9uKFwiY2hhbmdlXCIsYSl9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5maWxlQnV0dG9uLnByb3RvdHlwZT1cbm5ldyBDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uO0NLRURJVE9SLnVpLmRpYWxvZy5maWVsZHNldC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoQ0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dFwiLHIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJwYXNzd29yZFwiLHIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZWxcIixyKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dGFyZWFcIixuKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiY2hlY2tib3hcIixuKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwicmFkaW9cIixuKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiYnV0dG9uXCIsbik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcInNlbGVjdFwiLG4pO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJmaWxlXCIsbik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpbGVCdXR0b25cIixcbm4pO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJodG1sXCIsbik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpZWxkc2V0XCIse2J1aWxkOmZ1bmN0aW9uKGIsYSxkKXtmb3IodmFyIGY9YS5jaGlsZHJlbixjLGU9W10saD1bXSxnPTA7ZzxmLmxlbmd0aCYmKGM9ZltnXSk7ZysrKXt2YXIgaz1bXTtlLnB1c2goayk7aC5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2MudHlwZV0uYnVpbGQoYixjLGspKX1yZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1thLnR5cGVdKGIsaCxlLGQsYSl9fSl9fSk7Q0tFRElUT1IuRElBTE9HX1JFU0laRV9OT05FPTA7Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSD0xO0NLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUPTI7Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RIPTM7Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEU9MTtDS0VESVRPUi5ESUFMT0dfU1RBVEVfQlVTWT0yO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24geCgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSthLGM9Yi0xO2M+Yi1hO2MtLSlpZih0aGlzLl8udGFic1t0aGlzLl8udGFiSWRMaXN0W2MlYV1dWzBdLiQub2Zmc2V0SGVpZ2h0KXJldHVybiB0aGlzLl8udGFiSWRMaXN0W2MlYV07cmV0dXJuIG51bGx9ZnVuY3Rpb24gQSgpe2Zvcih2YXIgYT10aGlzLl8udGFiSWRMaXN0Lmxlbmd0aCxiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5fLnRhYklkTGlzdCx0aGlzLl8uY3VycmVudFRhYklkKSxjPWIrMTtjPGIrYTtjKyspaWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtjJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtjJWFdO3JldHVybiBudWxsfWZ1bmN0aW9uIEsoYSxiKXtmb3IodmFyIGM9YS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW5wdXRcIiksXG5lPTAsZD1jLmxlbmd0aDtlPGQ7ZSsrKXt2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoY1tlXSk7XCJ0ZXh0XCI9PWYuZ2V0QXR0cmlidXRlKFwidHlwZVwiKS50b0xvd2VyQ2FzZSgpJiYoYj8oZi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLGYuZ2V0Q3VzdG9tRGF0YShcImZha2VfdmFsdWVcIil8fFwiXCIpLGYucmVtb3ZlQ3VzdG9tRGF0YShcImZha2VfdmFsdWVcIikpOihmLnNldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIsZi5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSksZi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLFwiXCIpKSl9fWZ1bmN0aW9uIFQoYSxiKXt2YXIgYz10aGlzLmdldElucHV0RWxlbWVudCgpO2MmJihhP2MucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpOmMuc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsITApKTthfHwodGhpcy5zZWxlY3Q/dGhpcy5zZWxlY3QoKTp0aGlzLmZvY3VzKCkpO2ImJmFsZXJ0KGIpO3RoaXMuZmlyZShcInZhbGlkYXRlZFwiLHt2YWxpZDphLG1zZzpifSl9XG5mdW5jdGlvbiBVKCl7dmFyIGE9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTthJiZhLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKX1mdW5jdGlvbiBWKGEpe3ZhciBiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKENLRURJVE9SLmFkZFRlbXBsYXRlKFwiZGlhbG9nXCIsVykub3V0cHV0KHtpZDpDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksZWRpdG9ySWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxlZGl0b3JEaWFsb2dDbGFzczpcImNrZV9lZGl0b3JfXCIrYS5uYW1lLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikrXCJfZGlhbG9nXCIsY2xvc2VUaXRsZTphLmxhbmcuY29tbW9uLmNsb3NlLGhpZHBpOkNLRURJVE9SLmVudi5oaWRwaT9cImNrZV9oaWRwaVwiOlwiXCJ9KSksYz1iLmdldENoaWxkKFswLDAsMCwwLDBdKSxlPWMuZ2V0Q2hpbGQoMCksZD1jLmdldENoaWxkKDEpO2EucGx1Z2lucy5jbGlwYm9hcmQmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudChjKTtcbiFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5xdWlya3N8fENLRURJVE9SLmVudi5lZGdlfHwoYT1cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBmcmFtZUJvcmRlclxceDNkXCIwXCIgY2xhc3NcXHgzZFwiY2tlX2lmcmFtZV9zaGltXCIgc3JjXFx4M2RcIicrYSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKS5hcHBlbmRUbyhjLmdldFBhcmVudCgpKSk7ZS51bnNlbGVjdGFibGUoKTtkLnVuc2VsZWN0YWJsZSgpO3JldHVybntlbGVtZW50OmIscGFydHM6e2RpYWxvZzpiLmdldENoaWxkKDApLHRpdGxlOmUsY2xvc2U6ZCx0YWJzOmMuZ2V0Q2hpbGQoMiksY29udGVudHM6Yy5nZXRDaGlsZChbMywwLDAsMF0pLFxuZm9vdGVyOmMuZ2V0Q2hpbGQoWzMsMCwxLDBdKX19fWZ1bmN0aW9uIEwoYSxiLGMpe3RoaXMuZWxlbWVudD1iO3RoaXMuZm9jdXNJbmRleD1jO3RoaXMudGFiSW5kZXg9MDt0aGlzLmlzRm9jdXNhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIWIuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikmJmIuaXNWaXNpYmxlKCl9O3RoaXMuZm9jdXM9ZnVuY3Rpb24oKXthLl8uY3VycmVudEZvY3VzSW5kZXg9dGhpcy5mb2N1c0luZGV4O3RoaXMuZWxlbWVudC5mb2N1cygpfTtiLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRLZXlzdHJva2UoKWluezMyOjEsMTM6MX0mJnRoaXMuZmlyZShcImNsaWNrXCIpfSk7Yi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJtb3VzZW92ZXJcIil9KTtiLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwibW91c2VvdXRcIil9KX1mdW5jdGlvbiBYKGEpe2Z1bmN0aW9uIGIoKXthLmxheW91dCgpfXZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpO1xuYy5vbihcInJlc2l6ZVwiLGIpO2Eub24oXCJoaWRlXCIsZnVuY3Rpb24oKXtjLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsYil9KX1mdW5jdGlvbiBNKGEsYil7dGhpcy5fPXtkaWFsb2c6YX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9ZnVuY3Rpb24gWShhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPWEuZ2V0U2l6ZSgpLGs9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkscT1iLmRhdGEuJC5zY3JlZW5YLG49Yi5kYXRhLiQuc2NyZWVuWSxyPXEtZS54LGw9bi1lLnk7ZT17eDpxLHk6bn07ZC54Kz1yO2QueSs9bDthLm1vdmUoZC54K2hbM108Zz8taFszXTpkLngtaFsxXT5rLndpZHRoLWMud2lkdGgtZz9rLndpZHRoLWMud2lkdGgrKFwicnRsXCI9PWYubGFuZy5kaXI/MDpoWzFdKTpkLngsZC55K2hbMF08Zz8taFswXTpkLnktaFsyXT5rLmhlaWdodC1jLmhlaWdodC1nP2suaGVpZ2h0LWMuaGVpZ2h0K2hbMl06ZC55LDEpO2IuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfVxuZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGE9dS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyl9fXZhciBlPW51bGwsZD1udWxsLGY9YS5nZXRQYXJlbnRFZGl0b3IoKSxnPWYuY29uZmlnLmRpYWxvZ19tYWduZXREaXN0YW5jZSxoPUNLRURJVE9SLnNraW4ubWFyZ2luc3x8WzAsMCwwLDBdO1widW5kZWZpbmVkXCI9PXR5cGVvZiBnJiYoZz0yMCk7YS5wYXJ0cy50aXRsZS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGcpe2U9e3g6Zy5kYXRhLiQuc2NyZWVuWCx5OmcuZGF0YS4kLnNjcmVlbll9O0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsYik7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsXG5jKTtkPWEuZ2V0UG9zaXRpb24oKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgZj11LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTtmLm9uKFwibW91c2Vtb3ZlXCIsYik7Zi5vbihcIm1vdXNldXBcIixjKX1nLmRhdGEucHJldmVudERlZmF1bHQoKX0sYSl9ZnVuY3Rpb24gWihhKXtmdW5jdGlvbiBiKGIpe3ZhciBjPVwicnRsXCI9PWYubGFuZy5kaXIsbj1rLndpZHRoLHE9ay5oZWlnaHQsRz1uKyhiLmRhdGEuJC5zY3JlZW5YLW0ueCkqKGM/LTE6MSkqKGEuXy5tb3ZlZD8xOjIpLEg9cSsoYi5kYXRhLiQuc2NyZWVuWS1tLnkpKihhLl8ubW92ZWQ/MToyKSxCPWEuXy5lbGVtZW50LmdldEZpcnN0KCksQj1jJiZCLmdldENvbXB1dGVkU3R5bGUoXCJyaWdodFwiKSxDPWEuZ2V0UG9zaXRpb24oKTtDLnkrSD5wLmhlaWdodCYmKEg9cC5oZWlnaHQtQy55KTsoYz9COkMueCkrRz5wLndpZHRoJiYoRz1wLndpZHRoLShjP0I6Qy54KSk7aWYoZD09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9XSURUSHx8XG5kPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpbj1NYXRoLm1heChlLm1pbldpZHRofHwwLEctZyk7aWYoZD09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFR8fGQ9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USClxPU1hdGgubWF4KGUubWluSGVpZ2h0fHwwLEgtaCk7YS5yZXNpemUobixxKTthLl8ubW92ZWR8fGEubGF5b3V0KCk7Yi5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYygpe0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYik7cSYmKHEucmVtb3ZlKCkscT1udWxsKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgYT11LmdldENoaWxkKDApLmdldEZyYW1lRG9jdW1lbnQoKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKX19dmFyIGU9YS5kZWZpbml0aW9uLGQ9ZS5yZXNpemFibGU7XG5pZihkIT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkUpe3ZhciBmPWEuZ2V0UGFyZW50RWRpdG9yKCksZyxoLHAsbSxrLHEsbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihkKXtrPWEuZ2V0U2l6ZSgpO3ZhciBlPWEucGFydHMuY29udGVudHM7ZS4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpLmxlbmd0aCYmKHE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfcmVzaXplX2NvdmVyXCIgc3R5bGVcXHgzZFwiaGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlO1wiXFx4M2VcXHgzYy9kaXZcXHgzZScpLGUuYXBwZW5kKHEpKTtoPWsuaGVpZ2h0LWEucGFydHMuY29udGVudHMuZ2V0U2l6ZShcImhlaWdodFwiLCEoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MpKTtnPWsud2lkdGgtYS5wYXJ0cy5jb250ZW50cy5nZXRTaXplKFwid2lkdGhcIixcbjEpO209e3g6ZC5zY3JlZW5YLHk6ZC5zY3JlZW5ZfTtwPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsYik7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsYyk7Q0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGU9dS5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCksZS5vbihcIm1vdXNlbW92ZVwiLGIpLGUub24oXCJtb3VzZXVwXCIsYykpO2QucHJldmVudERlZmF1bHQmJmQucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj1cIlwiO2Q9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEg/Yj1cIiBja2VfcmVzaXplcl9ob3Jpem9udGFsXCI6ZD09Q0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQmJihiPVwiIGNrZV9yZXNpemVyX3ZlcnRpY2FsXCIpO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9yZXNpemVyJytcbmIrXCIgY2tlX3Jlc2l6ZXJfXCIrZi5sYW5nLmRpcisnXCIgdGl0bGVcXHgzZFwiJytDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGYubGFuZy5jb21tb24ucmVzaXplKSsnXCIgb25tb3VzZWRvd25cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrbisnLCBldmVudCApXCJcXHgzZScrKFwibHRyXCI9PWYubGFuZy5kaXI/XCLil6JcIjpcIuKXo1wiKStcIlxceDNjL2RpdlxceDNlXCIpO2EucGFydHMuZm9vdGVyLmFwcGVuZChiLDEpfSk7Zi5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKG4pfSl9fWZ1bmN0aW9uIEkoYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpfWZ1bmN0aW9uIE4oYSl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYz1hLmNvbmZpZyxlPUNLRURJVE9SLnNraW5OYW1lfHxhLmNvbmZpZy5za2luLGQ9Yy5kaWFsb2dfYmFja2dyb3VuZENvdmVyQ29sb3J8fChcIm1vb25vLWxpc2FcIj09ZT9cImJsYWNrXCI6XCJ3aGl0ZVwiKSxlPWMuZGlhbG9nX2JhY2tncm91bmRDb3Zlck9wYWNpdHksXG5mPWMuYmFzZUZsb2F0WkluZGV4LGM9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGQsZSxmKSxnPXpbY107Zz9nLnNob3coKTooZj1bJ1xceDNjZGl2IHRhYkluZGV4XFx4M2RcIi0xXCIgc3R5bGVcXHgzZFwicG9zaXRpb246ICcsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLFwiOyB6LWluZGV4OiBcIixmLFwiOyB0b3A6IDBweDsgbGVmdDogMHB4OyBcIixDS0VESVRPUi5lbnYuaWU2Q29tcGF0P1wiXCI6XCJiYWNrZ3JvdW5kLWNvbG9yOiBcIitkLCdcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2JhY2tncm91bmRfY292ZXJcIlxceDNlJ10sQ0tFRElUT1IuZW52LmllNkNvbXBhdCYmKGQ9XCJcXHgzY2h0bWxcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXFxcXCdiYWNrZ3JvdW5kLWNvbG9yOlwiK2QrXCI7XFxcXCdcXHgzZVxceDNjL2JvZHlcXHgzZVxceDNjL2h0bWxcXHgzZVwiLGYucHVzaCgnXFx4M2NpZnJhbWUgaGlkZWZvY3VzXFx4M2RcInRydWVcIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgaWRcXHgzZFwiY2tlX2RpYWxvZ19iYWNrZ3JvdW5kX2lmcmFtZVwiIHNyY1xceDNkXCJqYXZhc2NyaXB0OicpLFxuZi5wdXNoKFwidm9pZCgoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC53cml0ZSggJ1wiK2QrXCInICk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpKVwiKSxmLnB1c2goJ1wiIHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDogMTAwJTtmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2QwKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpKSxmLnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKSxnPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGYuam9pbihcIlwiKSksZy5zZXRPcGFjaXR5KHZvaWQgMCE9PWU/ZTouNSksZy5vbihcImtleWRvd25cIixJKSxnLm9uKFwia2V5cHJlc3NcIixJKSxnLm9uKFwia2V5dXBcIixJKSxnLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSksXG56W2NdPWcpO2EuZm9jdXNNYW5hZ2VyLmFkZChnKTt1PWc7YT1mdW5jdGlvbigpe3ZhciBhPWIuZ2V0Vmlld1BhbmVTaXplKCk7Zy5zZXRTdHlsZXMoe3dpZHRoOmEud2lkdGgrXCJweFwiLGhlaWdodDphLmhlaWdodCtcInB4XCJ9KX07dmFyIGg9ZnVuY3Rpb24oKXt2YXIgYT1iLmdldFNjcm9sbFBvc2l0aW9uKCksYz1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wO2cuc2V0U3R5bGVzKHtsZWZ0OmEueCtcInB4XCIsdG9wOmEueStcInB4XCJ9KTtpZihjKXtkbyBhPWMuZ2V0UG9zaXRpb24oKSxjLm1vdmUoYS54LGEueSk7d2hpbGUoYz1jLl8ucGFyZW50RGlhbG9nKX19O0o9YTtiLm9uKFwicmVzaXplXCIsYSk7YSgpO0NLRURJVE9SLmVudi5tYWMmJkNLRURJVE9SLmVudi53ZWJraXR8fGcuZm9jdXMoKTtpZihDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgcD1mdW5jdGlvbigpe2goKTthcmd1bWVudHMuY2FsbGVlLnByZXZTY3JvbGxIYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Yi4kLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtwLnByZXZTY3JvbGxIYW5kbGVyPVxud2luZG93Lm9uc2Nyb2xsfHxmdW5jdGlvbigpe307d2luZG93Lm9uc2Nyb2xsPXB9LDApO2goKX19ZnVuY3Rpb24gTyhhKXt1JiYoYS5mb2N1c01hbmFnZXIucmVtb3ZlKHUpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksdS5oaWRlKCksYS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLEopLENLRURJVE9SLmVudi5pZTZDb21wYXQmJmEuJC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7d2luZG93Lm9uc2Nyb2xsPXdpbmRvdy5vbnNjcm9sbCYmd2luZG93Lm9uc2Nyb2xsLnByZXZTY3JvbGxIYW5kbGVyfHxudWxsfSwwKSxKPW51bGwpfXZhciB2PUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxXPSdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0ge2VkaXRvckRpYWxvZ0NsYXNzfSB7aGlkcGl9XCIgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiZGlhbG9nXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiXFx4M2VcXHgzY3RhYmxlIGNsYXNzXFx4M2RcImNrZV9kaWFsb2cgJytcbkNLRURJVE9SLmVudi5jc3NDbGFzcysnIGNrZV97bGFuZ0Rpcn1cIiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19ib2R5XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NkaXYgaWRcXHgzZFwiY2tlX2RpYWxvZ190aXRsZV97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190aXRsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2NhIGlkXFx4M2RcImNrZV9kaWFsb2dfY2xvc2VfYnV0dG9uX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvblwiIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCIgdGl0bGVcXHgzZFwie2Nsb3NlVGl0bGV9XCIgcm9sZVxceDNkXCJidXR0b25cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9sYWJlbFwiXFx4M2VYXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2NkaXYgaWRcXHgzZFwiY2tlX2RpYWxvZ190YWJzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3RhYnNcIiByb2xlXFx4M2RcInRhYmxpc3RcIlxceDNlXFx4M2MvZGl2XFx4M2VcXHgzY3RhYmxlIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIGlkXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfY29udGVudHNfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2Zvb3Rlcl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2MvdGFibGVcXHgzZVxceDNjL2RpdlxceDNlJztcbkNLRURJVE9SLmRpYWxvZz1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1sLl8uZm9jdXNMaXN0O2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnRhYkluZGV4IT1iLnRhYkluZGV4P2IudGFiSW5kZXgtYS50YWJJbmRleDphLmZvY3VzSW5kZXgtYi5mb2N1c0luZGV4fSk7Zm9yKHZhciBiPWEubGVuZ3RoLGM9MDtjPGI7YysrKWFbY10uZm9jdXNJbmRleD1jfWZ1bmN0aW9uIGUoYSl7dmFyIGI9bC5fLmZvY3VzTGlzdDthPWF8fDA7aWYoISgxPmIubGVuZ3RoKSl7dmFyIGM9bC5fLmN1cnJlbnRGb2N1c0luZGV4O2wuXy50YWJCYXJNb2RlJiYwPmEmJihjPTApO3RyeXtiW2NdLmdldElucHV0RWxlbWVudCgpLiQuYmx1cigpfWNhdGNoKGQpe312YXIgZT1jLGc9MTxsLl8ucGFnZUNvdW50O2Rve2UrPWE7aWYoZyYmIWwuXy50YWJCYXJNb2RlJiYoZT09Yi5sZW5ndGh8fC0xPT1lKSl7bC5fLnRhYkJhck1vZGU9ITA7bC5fLnRhYnNbbC5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKTtcbmwuXy5jdXJyZW50Rm9jdXNJbmRleD0tMTtyZXR1cm59ZT0oZStiLmxlbmd0aCklYi5sZW5ndGg7aWYoZT09YylicmVha313aGlsZShhJiYhYltlXS5pc0ZvY3VzYWJsZSgpKTtiW2VdLmZvY3VzKCk7XCJ0ZXh0XCI9PWJbZV0udHlwZSYmYltlXS5zZWxlY3QoKX19ZnVuY3Rpb24gZChiKXtpZihsPT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wKXt2YXIgYz1iLmRhdGEuZ2V0S2V5c3Ryb2tlKCksZD1cInJ0bFwiPT1hLmxhbmcuZGlyLGc9WzM3LDM4LDM5LDQwXTtxPW49MDtpZig5PT1jfHxjPT1DS0VESVRPUi5TSElGVCs5KWUoYz09Q0tFRElUT1IuU0hJRlQrOT8tMToxKSxxPTE7ZWxzZSBpZihjPT1DS0VESVRPUi5BTFQrMTIxJiYhbC5fLnRhYkJhck1vZGUmJjE8bC5nZXRQYWdlQ291bnQoKSlsLl8udGFiQmFyTW9kZT0hMCxsLl8udGFic1tsLl8uY3VycmVudFRhYklkXVswXS5mb2N1cygpLGwuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxxPTE7ZWxzZSBpZigtMSE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihnLFxuYykmJmwuXy50YWJCYXJNb2RlKWM9LTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoW2Q/Mzk6MzcsMzhdLGMpP3guY2FsbChsKTpBLmNhbGwobCksbC5zZWxlY3RQYWdlKGMpLGwuXy50YWJzW2NdWzBdLmZvY3VzKCkscT0xO2Vsc2UgaWYoMTMhPWMmJjMyIT1jfHwhbC5fLnRhYkJhck1vZGUpaWYoMTM9PWMpYz1iLmRhdGEuZ2V0VGFyZ2V0KCksYy5pcyhcImFcIixcImJ1dHRvblwiLFwic2VsZWN0XCIsXCJ0ZXh0YXJlYVwiKXx8Yy5pcyhcImlucHV0XCIpJiZcImJ1dHRvblwiPT1jLiQudHlwZXx8KChjPXRoaXMuZ2V0QnV0dG9uKFwib2tcIikpJiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGMuY2xpY2ssMCxjKSxxPTEpLG49MTtlbHNlIGlmKDI3PT1jKShjPXRoaXMuZ2V0QnV0dG9uKFwiY2FuY2VsXCIpKT9DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGMuY2xpY2ssMCxjKTohMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCksbj0xO2Vsc2UgcmV0dXJuO2Vsc2UgdGhpcy5zZWxlY3RQYWdlKHRoaXMuXy5jdXJyZW50VGFiSWQpLFxudGhpcy5fLnRhYkJhck1vZGU9ITEsdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PS0xLGUoMSkscT0xO2YoYil9fWZ1bmN0aW9uIGYoYSl7cT9hLmRhdGEucHJldmVudERlZmF1bHQoMSk6biYmYS5kYXRhLnN0b3BQcm9wYWdhdGlvbigpfXZhciBnPUNLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2JdLGg9Q0tFRElUT1IudG9vbHMuY2xvbmUoYWEpLHA9YS5jb25maWcuZGlhbG9nX2J1dHRvbnNPcmRlcnx8XCJPU1wiLG09YS5sYW5nLmRpcixrPXt9LHEsbjsoXCJPU1wiPT1wJiZDS0VESVRPUi5lbnYubWFjfHxcInJ0bFwiPT1wJiZcImx0clwiPT1tfHxcImx0clwiPT1wJiZcInJ0bFwiPT1tKSYmaC5idXR0b25zLnJldmVyc2UoKTtnPUNLRURJVE9SLnRvb2xzLmV4dGVuZChnKGEpLGgpO2c9Q0tFRElUT1IudG9vbHMuY2xvbmUoZyk7Zz1uZXcgUCh0aGlzLGcpO2g9VihhKTt0aGlzLl89e2VkaXRvcjphLGVsZW1lbnQ6aC5lbGVtZW50LG5hbWU6Yixjb250ZW50U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sXG5zaXplOnt3aWR0aDowLGhlaWdodDowfSxjb250ZW50czp7fSxidXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sY3VycmVudEZvY3VzSW5kZXg6MCxoYXNGb2N1czohMX07dGhpcy5wYXJ0cz1oLnBhcnRzO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcy5wYXJ0cy5jb250ZW50cyl9LDAsdGhpcyk7aD17cG9zaXRpb246Q0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLHRvcDowLHZpc2liaWxpdHk6XCJoaWRkZW5cIn07aFtcInJ0bFwiPT1tP1wicmlnaHRcIjpcImxlZnRcIl09MDt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZXMoaCk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTt0aGlzLmRlZmluaXRpb249Zz1DS0VESVRPUi5maXJlKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxue25hbWU6YixkZWZpbml0aW9uOmd9LGEpLmRlZmluaXRpb247aWYoIShcInJlbW92ZURpYWxvZ1RhYnNcImluIGEuXykmJmEuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMpe2g9YS5jb25maWcucmVtb3ZlRGlhbG9nVGFicy5zcGxpdChcIjtcIik7Zm9yKG09MDttPGgubGVuZ3RoO20rKylpZihwPWhbbV0uc3BsaXQoXCI6XCIpLDI9PXAubGVuZ3RoKXt2YXIgcj1wWzBdO2tbcl18fChrW3JdPVtdKTtrW3JdLnB1c2gocFsxXSl9YS5fLnJlbW92ZURpYWxvZ1RhYnM9a31pZihhLl8ucmVtb3ZlRGlhbG9nVGFicyYmKGs9YS5fLnJlbW92ZURpYWxvZ1RhYnNbYl0pKWZvcihtPTA7bTxrLmxlbmd0aDttKyspZy5yZW1vdmVDb250ZW50cyhrW21dKTtpZihnLm9uTG9hZCl0aGlzLm9uKFwibG9hZFwiLGcub25Mb2FkKTtpZihnLm9uU2hvdyl0aGlzLm9uKFwic2hvd1wiLGcub25TaG93KTtpZihnLm9uSGlkZSl0aGlzLm9uKFwiaGlkZVwiLGcub25IaWRlKTtpZihnLm9uT2spdGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYil7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuc2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCk7ITE9PT1nLm9uT2suY2FsbCh0aGlzLGIpJiYoYi5kYXRhLmhpZGU9ITEpfSk7dGhpcy5zdGF0ZT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRTtpZihnLm9uQ2FuY2VsKXRoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXshMT09PWcub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIGw9dGhpcyx0PWZ1bmN0aW9uKGEpe3ZhciBiPWwuXy5jb250ZW50cyxjPSExLGQ7Zm9yKGQgaW4gYilmb3IodmFyIGUgaW4gYltkXSlpZihjPWEuY2FsbCh0aGlzLGJbZF1bZV0pKXJldHVybn07dGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7dChmdW5jdGlvbihiKXtpZihiLnZhbGlkYXRlKXt2YXIgYz1iLnZhbGlkYXRlKHRoaXMpLGQ9XCJzdHJpbmdcIj09dHlwZW9mIGN8fCExPT09YztkJiYoYS5kYXRhLmhpZGU9ITEsYS5zdG9wKCkpO1QuY2FsbChiLCFkLFwic3RyaW5nXCI9PXR5cGVvZiBjP1xuYzp2b2lkIDApO3JldHVybiBkfX0pfSx0aGlzLG51bGwsMCk7dGhpcy5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGIpe3QoZnVuY3Rpb24oYyl7aWYoYy5pc0NoYW5nZWQoKSlyZXR1cm4gYS5jb25maWcuZGlhbG9nX25vQ29uZmlybUNhbmNlbHx8Y29uZmlybShhLmxhbmcuY29tbW9uLmNvbmZpcm1DYW5jZWwpfHwoYi5kYXRhLmhpZGU9ITEpLCEwfSl9LHRoaXMsbnVsbCwwKTt0aGlzLnBhcnRzLmNsb3NlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXshMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9ZTt2YXIgeT10aGlzLl8uZWxlbWVudDthLmZvY3VzTWFuYWdlci5hZGQoeSwxKTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7eS5vbihcImtleWRvd25cIixkLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbyl5Lm9uKFwia2V5cHJlc3NcIixmLHRoaXMpfSk7dGhpcy5vbihcImhpZGVcIixcbmZ1bmN0aW9uKCl7eS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixkKTtDS0VESVRPUi5lbnYuZ2Vja28mJnkucmVtb3ZlTGlzdGVuZXIoXCJrZXlwcmVzc1wiLGYpO3QoZnVuY3Rpb24oYSl7VS5hcHBseShhKX0pfSk7dGhpcy5vbihcImlmcmFtZUFkZGVkXCIsZnVuY3Rpb24oYSl7KG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5kYXRhLmlmcmFtZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpKS5vbihcImtleWRvd25cIixkLHRoaXMsbnVsbCwwKX0pO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtjKCk7dmFyIGI9MTxsLl8ucGFnZUNvdW50O2EuY29uZmlnLmRpYWxvZ19zdGFydHVwRm9jdXNUYWImJmI/KGwuXy50YWJCYXJNb2RlPSEwLGwuXy50YWJzW2wuXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCksbC5fLmN1cnJlbnRGb2N1c0luZGV4PS0xKTp0aGlzLl8uaGFzRm9jdXN8fCh0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9Yj8tMTp0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aC0xLGcub25Gb2N1cz9cbihiPWcub25Gb2N1cy5jYWxsKHRoaXMpKSYmYi5mb2N1cygpOmUoMSkpfSx0aGlzLG51bGwsNDI5NDk2NzI5NSk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl0aGlzLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCksYj1hLmdldEZpcnN0KCk7Yi5yZW1vdmUoKTtiLmFwcGVuZFRvKGEpfSx0aGlzKTtZKHRoaXMpO1oodGhpcyk7KG5ldyBDS0VESVRPUi5kb20udGV4dChnLnRpdGxlLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSk7Zm9yKG09MDttPGcuY29udGVudHMubGVuZ3RoO20rKykoaz1nLmNvbnRlbnRzW21dKSYmdGhpcy5hZGRQYWdlKGspO3RoaXMucGFydHMudGFicy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2IuaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYlwiKSYmKGI9Yi4kLmlkLHRoaXMuc2VsZWN0UGFnZShiLnN1YnN0cmluZyg0LGIubGFzdEluZGV4T2YoXCJfXCIpKSksXG50aGlzLl8udGFiQmFyTW9kZSYmKHRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxlKDEpKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LHRoaXMpO209W107az1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKHRoaXMse3R5cGU6XCJoYm94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19mb290ZXJfYnV0dG9uc1wiLHdpZHRoczpbXSxjaGlsZHJlbjpnLmJ1dHRvbnN9LG0pLmdldENoaWxkKCk7dGhpcy5wYXJ0cy5mb290ZXIuc2V0SHRtbChtLmpvaW4oXCJcIikpO2ZvcihtPTA7bTxrLmxlbmd0aDttKyspdGhpcy5fLmJ1dHRvbnNba1ttXS5pZF09a1ttXX07Q0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpO3RoaXMuXy5lbGVtZW50LnJlbW92ZSgpfSxyZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aD09XG5hJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0PT1ifHwoQ0tFRElUT1IuZGlhbG9nLmZpcmUoXCJyZXNpemVcIix7ZGlhbG9nOnRoaXMsd2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvciksdGhpcy5maXJlKFwicmVzaXplXCIse3dpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpLHRoaXMucGFydHMuY29udGVudHMuc2V0U3R5bGVzKHt3aWR0aDphK1wicHhcIixoZWlnaHQ6YitcInB4XCJ9KSxcInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyJiZ0aGlzLl8ucG9zaXRpb24mJih0aGlzLl8ucG9zaXRpb24ueD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC10aGlzLl8uY29udGVudFNpemUud2lkdGgtcGFyc2VJbnQodGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5nZXRTdHlsZShcInJpZ2h0XCIpLDEwKSksdGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifSl9fSgpLGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpO1xucmV0dXJue3dpZHRoOmEuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6YS4kLm9mZnNldEhlaWdodHx8MH19LG1vdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZD1cInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyLGY9XCJmaXhlZFwiPT1lLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTtDS0VESVRPUi5lbnYuaWUmJmUuc2V0U3R5bGUoXCJ6b29tXCIsXCIxMDAlXCIpO2YmJnRoaXMuXy5wb3NpdGlvbiYmdGhpcy5fLnBvc2l0aW9uLng9PWEmJnRoaXMuXy5wb3NpdGlvbi55PT1ifHwodGhpcy5fLnBvc2l0aW9uPXt4OmEseTpifSxmfHwoZj1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGErPWYueCxiKz1mLnkpLGQmJihmPXRoaXMuZ2V0U2l6ZSgpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkud2lkdGgtZi53aWR0aC1hKSxiPXt0b3A6KDA8Yj9iOjApK1wicHhcIn0sXG5iW2Q/XCJyaWdodFwiOlwibGVmdFwiXT0oMDxhP2E6MCkrXCJweFwiLGUuc2V0U3R5bGVzKGIpLGMmJih0aGlzLl8ubW92ZWQ9MSkpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLnBvc2l0aW9uKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LGI9dGhpcy5kZWZpbml0aW9uO2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSk/YS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpOmEuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKTt0aGlzLnJlc2l6ZSh0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aHx8Yi53aWR0aHx8Yi5taW5XaWR0aCx0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHR8fGIuaGVpZ2h0fHxiLm1pbkhlaWdodCk7dGhpcy5yZXNldCgpO251bGw9PT1cbnRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZSh0aGlzLmRlZmluaXRpb24uY29udGVudHNbMF0uaWQpO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4JiYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD10aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgpO3RoaXMuXy5lbGVtZW50LmdldEZpcnN0KCkuc2V0U3R5bGUoXCJ6LWluZGV4XCIsQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleCs9MTApO251bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPyhDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMsdGhpcy5fLnBhcmVudERpYWxvZz1udWxsLE4odGhpcy5fLmVkaXRvcikpOih0aGlzLl8ucGFyZW50RGlhbG9nPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3AsdGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS4kLnN0eWxlLnpJbmRleC09TWF0aC5mbG9vcih0aGlzLl8uZWRpdG9yLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgvXG4yKSxDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMpO2Eub24oXCJrZXlkb3duXCIsUSk7YS5vbihcImtleXVwXCIsUik7dGhpcy5fLmhhc0ZvY3VzPSExO2Zvcih2YXIgYyBpbiBiLmNvbnRlbnRzKWlmKGIuY29udGVudHNbY10pe3ZhciBhPWIuY29udGVudHNbY10sZT10aGlzLl8udGFic1thLmlkXSxkPWEucmVxdWlyZWRDb250ZW50LGY9MDtpZihlKXtmb3IodmFyIGcgaW4gdGhpcy5fLmNvbnRlbnRzW2EuaWRdKXt2YXIgaD10aGlzLl8uY29udGVudHNbYS5pZF1bZ107XCJoYm94XCIhPWgudHlwZSYmXCJ2Ym94XCIhPWgudHlwZSYmaC5nZXRJbnB1dEVsZW1lbnQoKSYmKGgucmVxdWlyZWRDb250ZW50JiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soaC5yZXF1aXJlZENvbnRlbnQpP2guZGlzYWJsZSgpOihoLmVuYWJsZSgpLGYrKykpfSFmfHxkJiYhdGhpcy5fLmVkaXRvci5hY3RpdmVGaWx0ZXIuY2hlY2soZCk/ZVswXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpOlxuZVswXS5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpfX1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5sYXlvdXQoKTtYKHRoaXMpO3RoaXMucGFydHMuZGlhbG9nLnNldFN0eWxlKFwidmlzaWJpbGl0eVwiLFwiXCIpO3RoaXMuZmlyZU9uY2UoXCJsb2FkXCIse30pO0NLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpO3RoaXMuZmlyZShcInNob3dcIix7fSk7dGhpcy5fLmVkaXRvci5maXJlKFwiZGlhbG9nU2hvd1wiLHRoaXMpO3RoaXMuXy5wYXJlbnREaWFsb2d8fHRoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmxvY2soKTt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYSl7YS5zZXRJbml0VmFsdWUmJmEuc2V0SW5pdFZhbHVlKCl9KX0sMTAwLHRoaXMpfSxsYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcnRzLmRpYWxvZyxiPXRoaXMuZ2V0U2l6ZSgpLGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCksZT1cbihjLndpZHRoLWIud2lkdGgpLzIsZD0oYy5oZWlnaHQtYi5oZWlnaHQpLzI7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGIuaGVpZ2h0KygwPGQ/ZDowKT5jLmhlaWdodHx8Yi53aWR0aCsoMDxlP2U6MCk+Yy53aWR0aD9hLnNldFN0eWxlKFwicG9zaXRpb25cIixcImFic29sdXRlXCIpOmEuc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiZml4ZWRcIikpO3RoaXMubW92ZSh0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLng6ZSx0aGlzLl8ubW92ZWQ/dGhpcy5fLnBvc2l0aW9uLnk6ZCl9LGZvcmVhY2g6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHRoaXMuXy5jb250ZW50cylmb3IodmFyIGMgaW4gdGhpcy5fLmNvbnRlbnRzW2JdKWEuY2FsbCh0aGlzLHRoaXMuXy5jb250ZW50c1tiXVtjXSk7cmV0dXJuIHRoaXN9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7YS5yZXNldCYmYS5yZXNldCgxKX07cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5mb3JlYWNoKGEpO3JldHVybiB0aGlzfX0oKSxcbnNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LGNvbW1pdENvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGIpe0NLRURJVE9SLmVudi5pZSYmdGhpcy5fLmN1cnJlbnRGb2N1c0luZGV4PT1iLmZvY3VzSW5kZXgmJmIuZ2V0SW5wdXRFbGVtZW50KCkuJC5ibHVyKCk7Yi5jb21taXQmJmIuY29tbWl0LmFwcGx5KGIsYSl9KX0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpKXt0aGlzLmZpcmUoXCJoaWRlXCIse30pO3RoaXMuXy5lZGl0b3IuZmlyZShcImRpYWxvZ0hpZGVcIix0aGlzKTt0aGlzLnNlbGVjdFBhZ2UodGhpcy5fLnRhYklkTGlzdFswXSk7dmFyIGE9dGhpcy5fLmVsZW1lbnQ7YS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXG5cImhpZGRlblwiKTtmb3IoYmEodGhpcyk7Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCE9dGhpczspQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcC5oaWRlKCk7aWYodGhpcy5fLnBhcmVudERpYWxvZyl7dmFyIGI9dGhpcy5fLnBhcmVudERpYWxvZy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKTtiLnNldFN0eWxlKFwiei1pbmRleFwiLHBhcnNlSW50KGIuJC5zdHlsZS56SW5kZXgsMTApK01hdGguZmxvb3IodGhpcy5fLmVkaXRvci5jb25maWcuYmFzZUZsb2F0WkluZGV4LzIpKX1lbHNlIE8odGhpcy5fLmVkaXRvcik7aWYoQ0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcD10aGlzLl8ucGFyZW50RGlhbG9nKUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgtPTEwO2Vsc2V7Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFpJbmRleD1udWxsO2EucmVtb3ZlTGlzdGVuZXIoXCJrZXlkb3duXCIsUSk7YS5yZW1vdmVMaXN0ZW5lcihcImtleXVwXCIsUik7dmFyIGM9dGhpcy5fLmVkaXRvcjtcbmMuZm9jdXMoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mb2N1c01hbmFnZXIudW5sb2NrKCk7Q0tFRElUT1IuZW52LmlPUyYmYy53aW5kb3cuZm9jdXMoKX0sMCl9ZGVsZXRlIHRoaXMuXy5wYXJlbnREaWFsb2c7dGhpcy5mb3JlYWNoKGZ1bmN0aW9uKGEpe2EucmVzZXRJbml0VmFsdWUmJmEucmVzZXRJbml0VmFsdWUoKX0pO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUpfX0sYWRkUGFnZTpmdW5jdGlvbihhKXtpZighYS5yZXF1aXJlZENvbnRlbnR8fHRoaXMuXy5lZGl0b3IuZmlsdGVyLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KSl7Zm9yKHZhciBiPVtdLGM9YS5sYWJlbD8nIHRpdGxlXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhLmxhYmVsKSsnXCInOlwiXCIsZT1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy52Ym94LmJ1aWxkKHRoaXMse3R5cGU6XCJ2Ym94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19wYWdlX2NvbnRlbnRzXCIsXG5jaGlsZHJlbjphLmVsZW1lbnRzLGV4cGFuZDohIWEuZXhwYW5kLHBhZGRpbmc6YS5wYWRkaW5nLHN0eWxlOmEuc3R5bGV8fFwid2lkdGg6IDEwMCU7XCJ9LGIpLGQ9dGhpcy5fLmNvbnRlbnRzW2EuaWRdPXt9LGY9ZS5nZXRDaGlsZCgpLGc9MDtlPWYuc2hpZnQoKTspZS5ub3RBbGxvd2VkfHxcImhib3hcIj09ZS50eXBlfHxcInZib3hcIj09ZS50eXBlfHxnKyssZFtlLmlkXT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0Q2hpbGQmJmYucHVzaC5hcHBseShmLGUuZ2V0Q2hpbGQoKSk7Z3x8KGEuaGlkZGVuPSEwKTtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIuam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKTtlPUNLRURJVE9SLmVudjtkPVwiY2tlX1wiK2EuaWQrXCJfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO2M9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoWydcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190YWJcIicsXG4wPHRoaXMuXy5wYWdlQ291bnQ/XCIgY2tlX2xhc3RcIjpcImNrZV9maXJzdFwiLGMsYS5oaWRkZW4/JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIic6XCJcIiwnIGlkXFx4M2RcIicsZCwnXCInLGUuZ2Vja28mJiFlLmhjP1wiXCI6JyBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiJywnIHRhYkluZGV4XFx4M2RcIi0xXCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcInRhYlwiXFx4M2UnLGEubGFiZWwsXCJcXHgzYy9hXFx4M2VcIl0uam9pbihcIlwiKSk7Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsbGVkYnlcIixkKTt0aGlzLl8udGFic1thLmlkXT1bYyxiXTt0aGlzLl8udGFiSWRMaXN0LnB1c2goYS5pZCk7IWEuaGlkZGVuJiZ0aGlzLl8ucGFnZUNvdW50Kys7dGhpcy5fLmxhc3RUYWI9Yzt0aGlzLnVwZGF0ZVN0eWxlKCk7Yi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsYS5pZCk7Yi5hcHBlbmRUbyh0aGlzLnBhcnRzLmNvbnRlbnRzKTtjLnVuc2VsZWN0YWJsZSgpO3RoaXMucGFydHMudGFicy5hcHBlbmQoYyk7YS5hY2Nlc3NLZXkmJlxuKFModGhpcyx0aGlzLFwiQ1RSTCtcIithLmFjY2Vzc0tleSxjYSxkYSksdGhpcy5fLmFjY2Vzc0tleU1hcFtcIkNUUkwrXCIrYS5hY2Nlc3NLZXldPWEuaWQpfX0sc2VsZWN0UGFnZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uY3VycmVudFRhYklkIT1hJiYhdGhpcy5fLnRhYnNbYV1bMF0uaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKSYmITEhPT10aGlzLmZpcmUoXCJzZWxlY3RQYWdlXCIse3BhZ2U6YSxjdXJyZW50UGFnZTp0aGlzLl8uY3VycmVudFRhYklkfSkpe2Zvcih2YXIgYiBpbiB0aGlzLl8udGFicyl7dmFyIGM9dGhpcy5fLnRhYnNbYl1bMF0sZT10aGlzLl8udGFic1tiXVsxXTtiIT1hJiYoYy5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkXCIpLGUuaGlkZSgpKTtlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsYiE9YSl9dmFyIGQ9dGhpcy5fLnRhYnNbYV07ZFswXS5hZGRDbGFzcyhcImNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkXCIpO0NLRURJVE9SLmVudi5pZTZDb21wYXR8fFxuQ0tFRElUT1IuZW52LmllN0NvbXBhdD8oSyhkWzFdKSxkWzFdLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7SyhkWzFdLDEpfSwwKSk6ZFsxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sdXBkYXRlU3R5bGU6ZnVuY3Rpb24oKXt0aGlzLnBhcnRzLmRpYWxvZ1soMT09PXRoaXMuXy5wYWdlQ291bnQ/XCJhZGRcIjpcInJlbW92ZVwiKStcIkNsYXNzXCJdKFwiY2tlX3NpbmdsZV9wYWdlXCIpfSxoaWRlUGFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8udGFic1thXSYmdGhpcy5fLnRhYnNbYV1bMF07YiYmMSE9dGhpcy5fLnBhZ2VDb3VudCYmYi5pc1Zpc2libGUoKSYmKGE9PXRoaXMuXy5jdXJyZW50VGFiSWQmJnRoaXMuc2VsZWN0UGFnZSh4LmNhbGwodGhpcykpLGIuaGlkZSgpLHRoaXMuXy5wYWdlQ291bnQtLSx0aGlzLnVwZGF0ZVN0eWxlKCkpfSxzaG93UGFnZTpmdW5jdGlvbihhKXtpZihhPVxudGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdKWEuc2hvdygpLHRoaXMuXy5wYWdlQ291bnQrKyx0aGlzLnVwZGF0ZVN0eWxlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVsZW1lbnR9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLm5hbWV9LGdldENvbnRlbnRFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmNvbnRlbnRzW2FdO3JldHVybiBjJiZjW2JdfSxnZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0Q29udGVudEVsZW1lbnQoYSxiKS5nZXRWYWx1ZSgpfSxzZXRWYWx1ZU9mOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5nZXRDb250ZW50RWxlbWVudChhLGIpLnNldFZhbHVlKGMpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5idXR0b25zW2FdfSxjbGljazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uY2xpY2soKX0sZGlzYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZGlzYWJsZSgpfSxcbmVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LGdldFBhZ2VDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ucGFnZUNvdW50fSxnZXRQYXJlbnRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVkaXRvcn0sZ2V0U2VsZWN0ZWRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50RWRpdG9yKCkuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCl9LGFkZEZvY3VzYWJsZTpmdW5jdGlvbihhLGIpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiKWI9dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGgsdGhpcy5fLmZvY3VzTGlzdC5wdXNoKG5ldyBMKHRoaXMsYSxiKSk7ZWxzZXt0aGlzLl8uZm9jdXNMaXN0LnNwbGljZShiLDAsbmV3IEwodGhpcyxhLGIpKTtmb3IodmFyIGM9YisxO2M8dGhpcy5fLmZvY3VzTGlzdC5sZW5ndGg7YysrKXRoaXMuXy5mb2N1c0xpc3RbY10uZm9jdXNJbmRleCsrfX0sXG5zZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlIT1hKXt0aGlzLnN0YXRlPWE7aWYoYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1kpe2lmKCF0aGlzLnBhcnRzLnNwaW5uZXIpe3ZhciBiPXRoaXMuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXIsYz17YXR0cmlidXRlczp7XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ19zcGlubmVyXCJ9LHN0eWxlczp7XCJmbG9hdFwiOlwicnRsXCI9PWI/XCJyaWdodFwiOlwibGVmdFwifX07Yy5zdHlsZXNbXCJtYXJnaW4tXCIrKFwicnRsXCI9PWI/XCJsZWZ0XCI6XCJyaWdodFwiKV09XCI4cHhcIjt0aGlzLnBhcnRzLnNwaW5uZXI9Q0tFRElUT1IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiLGMpO3RoaXMucGFydHMuc3Bpbm5lci5zZXRIdG1sKFwiXFx4MjYjODk4NztcIik7dGhpcy5wYXJ0cy5zcGlubmVyLmFwcGVuZFRvKHRoaXMucGFydHMudGl0bGUsMSl9dGhpcy5wYXJ0cy5zcGlubmVyLnNob3coKTt0aGlzLmdldEJ1dHRvbihcIm9rXCIpLmRpc2FibGUoKX1lbHNlIGE9PVxuQ0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUmJih0aGlzLnBhcnRzLnNwaW5uZXImJnRoaXMucGFydHMuc3Bpbm5lci5oaWRlKCksdGhpcy5nZXRCdXR0b24oXCJva1wiKS5lbmFibGUoKSk7dGhpcy5maXJlKFwic3RhdGVcIixhKX19fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZGlhbG9nLHthZGQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGJ8fCh0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09Yil9LGV4aXN0czpmdW5jdGlvbihhKXtyZXR1cm4hIXRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXX0sZ2V0Q3VycmVudDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wfSxpc1RhYkVuYWJsZWQ6ZnVuY3Rpb24oYSxiLGMpe2E9YS5jb25maWcucmVtb3ZlRGlhbG9nVGFicztyZXR1cm4hKGEmJmEubWF0Y2gobmV3IFJlZ0V4cChcIig/Ol58OylcIitiK1wiOlwiK2MrXCIoPzokfDspXCIsXG5cImlcIikpKX0sb2tCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGMpe2M9Y3x8e307cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7aWQ6XCJva1wiLHR5cGU6XCJidXR0b25cIixsYWJlbDphLmxhbmcuY29tbW9uLm9rLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX29rXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJva1wiLHtoaWRlOiEwfSkuaGlkZSYmYS5oaWRlKCl9fSxjLCEwKX07YS50eXBlPVwiYnV0dG9uXCI7YS5vdmVycmlkZT1mdW5jdGlvbihiKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGMpe3JldHVybiBhKGMsYil9LHt0eXBlOlwiYnV0dG9uXCJ9LCEwKX07cmV0dXJuIGF9KCksY2FuY2VsQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxjKXtjPWN8fHt9O3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe2lkOlwiY2FuY2VsXCIsdHlwZTpcImJ1dHRvblwiLGxhYmVsOmEubGFuZy5jb21tb24uY2FuY2VsLFxuXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9idXR0b25fY2FuY2VsXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYywhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihjKXtyZXR1cm4gYShjLGIpfSx7dHlwZTpcImJ1dHRvblwifSwhMCl9O3JldHVybiBhfSgpLGFkZFVJRWxlbWVudDpmdW5jdGlvbihhLGIpe3RoaXMuXy51aUVsZW1lbnRCdWlsZGVyc1thXT1ifX0pO0NLRURJVE9SLmRpYWxvZy5fPXt1aUVsZW1lbnRCdWlsZGVyczp7fSxkaWFsb2dEZWZpbml0aW9uczp7fSxjdXJyZW50VG9wOm51bGwsY3VycmVudFpJbmRleDpudWxsfTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5kaWFsb2cpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmRpYWxvZy5wcm90b3R5cGUpO1xudmFyIGFhPXtyZXNpemFibGU6Q0tFRElUT1IuRElBTE9HX1JFU0laRV9CT1RILG1pbldpZHRoOjYwMCxtaW5IZWlnaHQ6NDAwLGJ1dHRvbnM6W0NLRURJVE9SLmRpYWxvZy5va0J1dHRvbixDS0VESVRPUi5kaWFsb2cuY2FuY2VsQnV0dG9uXX0sRD1mdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBlPTAsZDtkPWFbZV07ZSsrKWlmKGQuaWQ9PWJ8fGMmJmRbY10mJihkPUQoZFtjXSxiLGMpKSlyZXR1cm4gZDtyZXR1cm4gbnVsbH0sRT1mdW5jdGlvbihhLGIsYyxlLGQpe2lmKGMpe2Zvcih2YXIgZj0wLGc7Zz1hW2ZdO2YrKyl7aWYoZy5pZD09YylyZXR1cm4gYS5zcGxpY2UoZiwwLGIpLGI7aWYoZSYmZ1tlXSYmKGc9RShnW2VdLGIsYyxlLCEwKSkpcmV0dXJuIGd9aWYoZClyZXR1cm4gbnVsbH1hLnB1c2goYik7cmV0dXJuIGJ9LEY9ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZT0wLGQ7ZD1hW2VdO2UrKyl7aWYoZC5pZD09YilyZXR1cm4gYS5zcGxpY2UoZSwxKTtpZihjJiZkW2NdJiYoZD1GKGRbY10sXG5iLGMpKSlyZXR1cm4gZH1yZXR1cm4gbnVsbH0sUD1mdW5jdGlvbihhLGIpe3RoaXMuZGlhbG9nPWE7Zm9yKHZhciBjPWIuY29udGVudHMsZT0wLGQ7ZD1jW2VdO2UrKyljW2VdPWQmJm5ldyBNKGEsZCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYil9O1AucHJvdG90eXBlPXtnZXRDb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gRCh0aGlzLmNvbnRlbnRzLGEpfSxnZXRCdXR0b246ZnVuY3Rpb24oYSl7cmV0dXJuIEQodGhpcy5idXR0b25zLGEpfSxhZGRDb250ZW50czpmdW5jdGlvbihhLGIpe3JldHVybiBFKHRoaXMuY29udGVudHMsYSxiKX0sYWRkQnV0dG9uOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEUodGhpcy5idXR0b25zLGEsYil9LHJlbW92ZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe0YodGhpcy5jb250ZW50cyxhKX0scmVtb3ZlQnV0dG9uOmZ1bmN0aW9uKGEpe0YodGhpcy5idXR0b25zLGEpfX07TS5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gRCh0aGlzLmVsZW1lbnRzLFxuYSxcImNoaWxkcmVuXCIpfSxhZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRSh0aGlzLmVsZW1lbnRzLGEsYixcImNoaWxkcmVuXCIpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Rih0aGlzLmVsZW1lbnRzLGEsXCJjaGlsZHJlblwiKX19O3ZhciBKLHo9e30sdSx3PXt9LFE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQubWV0YUtleSxjPWEuZGF0YS4kLmFsdEtleSxlPWEuZGF0YS4kLnNoaWZ0S2V5LGQ9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTsoYj13WyhiP1wiQ1RSTCtcIjpcIlwiKSsoYz9cIkFMVCtcIjpcIlwiKSsoZT9cIlNISUZUK1wiOlwiXCIpK2RdKSYmYi5sZW5ndGgmJihiPWJbYi5sZW5ndGgtMV0sYi5rZXlkb3duJiZiLmtleWRvd24uY2FsbChiLnVpRWxlbWVudCxiLmRpYWxvZyxiLmtleSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSxSPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLm1ldGFLZXksYz1hLmRhdGEuJC5hbHRLZXksXG5lPWEuZGF0YS4kLnNoaWZ0S2V5LGQ9U3RyaW5nLmZyb21DaGFyQ29kZShhLmRhdGEuJC5rZXlDb2RlKTsoYj13WyhiP1wiQ1RSTCtcIjpcIlwiKSsoYz9cIkFMVCtcIjpcIlwiKSsoZT9cIlNISUZUK1wiOlwiXCIpK2RdKSYmYi5sZW5ndGgmJihiPWJbYi5sZW5ndGgtMV0sYi5rZXl1cCYmKGIua2V5dXAuY2FsbChiLnVpRWxlbWVudCxiLmRpYWxvZyxiLmtleSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpKX0sUz1mdW5jdGlvbihhLGIsYyxlLGQpeyh3W2NdfHwod1tjXT1bXSkpLnB1c2goe3VpRWxlbWVudDphLGRpYWxvZzpiLGtleTpjLGtleXVwOmR8fGEuYWNjZXNzS2V5VXAsa2V5ZG93bjplfHxhLmFjY2Vzc0tleURvd259KX0sYmE9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIHcpe2Zvcih2YXIgYz13W2JdLGU9Yy5sZW5ndGgtMTswPD1lO2UtLSljW2VdLmRpYWxvZyE9YSYmY1tlXS51aUVsZW1lbnQhPWF8fGMuc3BsaWNlKGUsMSk7MD09PWMubGVuZ3RoJiZkZWxldGUgd1tiXX19LGRhPWZ1bmN0aW9uKGEsXG5iKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9LGNhPWZ1bmN0aW9uKCl7fTsoZnVuY3Rpb24oKXtDS0VESVRPUi51aS5kaWFsb2c9e3VpRWxlbWVudDpmdW5jdGlvbihhLGIsYyxlLGQsZixnKXtpZighKDQ+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBoPShlLmNhbGw/ZShiKTplKXx8XCJkaXZcIixwPVtcIlxceDNjXCIsaCxcIiBcIl0sbT0oZCYmZC5jYWxsP2QoYik6ZCl8fHt9LGs9KGYmJmYuY2FsbD9mKGIpOmYpfHx7fSxxPShnJiZnLmNhbGw/Zy5jYWxsKHRoaXMsYSxiKTpnKXx8XCJcIixuPXRoaXMuZG9tSWQ9ay5pZHx8Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdWlFbGVtZW50XCI7Yi5yZXF1aXJlZENvbnRlbnQmJiFhLmdldFBhcmVudEVkaXRvcigpLmZpbHRlci5jaGVjayhiLnJlcXVpcmVkQ29udGVudCkmJihtLmRpc3BsYXk9XCJub25lXCIsdGhpcy5ub3RBbGxvd2VkPSEwKTtrLmlkPW47dmFyIHI9e307Yi50eXBlJiYocltcImNrZV9kaWFsb2dfdWlfXCIrXG5iLnR5cGVdPTEpO2IuY2xhc3NOYW1lJiYocltiLmNsYXNzTmFtZV09MSk7Yi5kaXNhYmxlZCYmKHIuY2tlX2Rpc2FibGVkPTEpO2Zvcih2YXIgbD1rW1wiY2xhc3NcIl0mJmtbXCJjbGFzc1wiXS5zcGxpdD9rW1wiY2xhc3NcIl0uc3BsaXQoXCIgXCIpOltdLG49MDtuPGwubGVuZ3RoO24rKylsW25dJiYocltsW25dXT0xKTtsPVtdO2ZvcihuIGluIHIpbC5wdXNoKG4pO2tbXCJjbGFzc1wiXT1sLmpvaW4oXCIgXCIpO2IudGl0bGUmJihrLnRpdGxlPWIudGl0bGUpO3I9KGIuc3R5bGV8fFwiXCIpLnNwbGl0KFwiO1wiKTtiLmFsaWduJiYobD1iLmFsaWduLG1bXCJtYXJnaW4tbGVmdFwiXT1cImxlZnRcIj09bD8wOlwiYXV0b1wiLG1bXCJtYXJnaW4tcmlnaHRcIl09XCJyaWdodFwiPT1sPzA6XCJhdXRvXCIpO2ZvcihuIGluIG0pci5wdXNoKG4rXCI6XCIrbVtuXSk7Yi5oaWRkZW4mJnIucHVzaChcImRpc3BsYXk6bm9uZVwiKTtmb3Iobj1yLmxlbmd0aC0xOzA8PW47bi0tKVwiXCI9PT1yW25dJiZyLnNwbGljZShuLDEpOzA8ci5sZW5ndGgmJihrLnN0eWxlPVxuKGsuc3R5bGU/ay5zdHlsZStcIjsgXCI6XCJcIikrci5qb2luKFwiOyBcIikpO2ZvcihuIGluIGspcC5wdXNoKG4rJ1xceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoa1tuXSkrJ1wiICcpO3AucHVzaChcIlxceDNlXCIscSxcIlxceDNjL1wiLGgsXCJcXHgzZVwiKTtjLnB1c2gocC5qb2luKFwiXCIpKTsodGhpcy5ffHwodGhpcy5fPXt9KSkuZGlhbG9nPWE7XCJib29sZWFuXCI9PXR5cGVvZiBiLmlzQ2hhbmdlZCYmKHRoaXMuaXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIGIuaXNDaGFuZ2VkfSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5pc0NoYW5nZWQmJih0aGlzLmlzQ2hhbmdlZD1iLmlzQ2hhbmdlZCk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5zZXRWYWx1ZSYmKHRoaXMuc2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5zZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YS5jYWxsKHRoaXMsYi5zZXRWYWx1ZS5jYWxsKHRoaXMsYykpfX0pKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmdldFZhbHVlJiZcbih0aGlzLmdldFZhbHVlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuZ2V0VmFsdWUsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGIuZ2V0VmFsdWUuY2FsbCh0aGlzLGEuY2FsbCh0aGlzKSl9fSkpO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3RoaXMucmVnaXN0ZXJFdmVudHMoYik7dGhpcy5hY2Nlc3NLZXlVcCYmdGhpcy5hY2Nlc3NLZXlEb3duJiZiLmFjY2Vzc0tleSYmUyh0aGlzLGEsXCJDVFJMK1wiK2IuYWNjZXNzS2V5KTt2YXIgdD10aGlzO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXt2YXIgYj10LmdldElucHV0RWxlbWVudCgpO2lmKGIpe3ZhciBjPXQudHlwZSBpbntjaGVja2JveDoxLHJhdGlvOjF9JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJja2VfZGlhbG9nX3VpX2ZvY3VzZWRcIjpcIlwiO2Iub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YS5fLnRhYkJhck1vZGU9ITE7YS5fLmhhc0ZvY3VzPSEwO3QuZmlyZShcImZvY3VzXCIpO1xuYyYmdGhpcy5hZGRDbGFzcyhjKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt0LmZpcmUoXCJibHVyXCIpO2MmJnRoaXMucmVtb3ZlQ2xhc3MoYyl9KX19KTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKTt0aGlzLmtleWJvYXJkRm9jdXNhYmxlJiYodGhpcy50YWJJbmRleD1iLnRhYkluZGV4fHwwLHRoaXMuZm9jdXNJbmRleD1hLl8uZm9jdXNMaXN0LnB1c2godGhpcyktMSx0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy5jdXJyZW50Rm9jdXNJbmRleD10LmZvY3VzSW5kZXh9KSl9fSxoYm94OmZ1bmN0aW9uKGEsYixjLGUsZCl7aWYoISg0PmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBmPXRoaXMuXy5jaGlsZHJlbj1iLGc9ZCYmZC53aWR0aHN8fG51bGwsaD1kJiZkLmhlaWdodHx8bnVsbCxwLG09e3JvbGU6XCJwcmVzZW50YXRpb25cIn07ZCYmZC5hbGlnbiYmKG0uYWxpZ249ZC5hbGlnbik7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsXG5hLGR8fHt0eXBlOlwiaGJveFwifSxlLFwidGFibGVcIix7fSxtLGZ1bmN0aW9uKCl7dmFyIGE9WydcXHgzY3Rib2R5XFx4M2VcXHgzY3RyIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaGJveFwiXFx4M2UnXTtmb3IocD0wO3A8Yy5sZW5ndGg7cCsrKXt2YXIgYj1cImNrZV9kaWFsb2dfdWlfaGJveF9jaGlsZFwiLGU9W107MD09PXAmJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2ZpcnN0XCIpO3A9PWMubGVuZ3RoLTEmJihiPVwiY2tlX2RpYWxvZ191aV9oYm94X2xhc3RcIik7YS5wdXNoKCdcXHgzY3RkIGNsYXNzXFx4M2RcIicsYiwnXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtnP2dbcF0mJmUucHVzaChcIndpZHRoOlwiK3YoZ1twXSkpOmUucHVzaChcIndpZHRoOlwiK01hdGguZmxvb3IoMTAwL2MubGVuZ3RoKStcIiVcIik7aCYmZS5wdXNoKFwiaGVpZ2h0OlwiK3YoaCkpO2QmJnZvaWQgMCE9PWQucGFkZGluZyYmZS5wdXNoKFwicGFkZGluZzpcIit2KGQucGFkZGluZykpO0NLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmXG5mW3BdLmFsaWduJiZlLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2ZbcF0uYWxpZ24pOzA8ZS5sZW5ndGgmJmEucHVzaCgnc3R5bGVcXHgzZFwiJytlLmpvaW4oXCI7IFwiKSsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcIixjW3BdLFwiXFx4M2MvdGRcXHgzZVwiKX1hLnB1c2goXCJcXHgzYy90clxceDNlXFx4M2MvdGJvZHlcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx2Ym94OmZ1bmN0aW9uKGEsYixjLGUsZCl7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXt0aGlzLl98fCh0aGlzLl89e30pO3ZhciBmPXRoaXMuXy5jaGlsZHJlbj1iLGc9ZCYmZC53aWR0aHx8bnVsbCxoPWQmJmQuaGVpZ2h0c3x8bnVsbDtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxhLGR8fHt0eXBlOlwidmJveFwifSxlLFwiZGl2XCIsbnVsbCx7cm9sZTpcInByZXNlbnRhdGlvblwifSxmdW5jdGlvbigpe3ZhciBiPVsnXFx4M2N0YWJsZSByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGNlbGxzcGFjaW5nXFx4M2RcIjBcIiBib3JkZXJcXHgzZFwiMFwiICddO1xuYi5wdXNoKCdzdHlsZVxceDNkXCInKTtkJiZkLmV4cGFuZCYmYi5wdXNoKFwiaGVpZ2h0OjEwMCU7XCIpO2IucHVzaChcIndpZHRoOlwiK3YoZ3x8XCIxMDAlXCIpLFwiO1wiKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLnB1c2goXCJmbG9hdDpub25lO1wiKTtiLnB1c2goJ1wiJyk7Yi5wdXNoKCdhbGlnblxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZCYmZC5hbGlnbnx8KFwibHRyXCI9PWEuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXI/XCJsZWZ0XCI6XCJyaWdodFwiKSksJ1wiICcpO2IucHVzaChcIlxceDNlXFx4M2N0Ym9keVxceDNlXCIpO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgaz1bXTtiLnB1c2goJ1xceDNjdHJcXHgzZVxceDNjdGQgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiAnKTtnJiZrLnB1c2goXCJ3aWR0aDpcIit2KGd8fFwiMTAwJVwiKSk7aD9rLnB1c2goXCJoZWlnaHQ6XCIrdihoW2VdKSk6ZCYmZC5leHBhbmQmJmsucHVzaChcImhlaWdodDpcIitNYXRoLmZsb29yKDEwMC9jLmxlbmd0aCkrXCIlXCIpO1xuZCYmdm9pZCAwIT09ZC5wYWRkaW5nJiZrLnB1c2goXCJwYWRkaW5nOlwiK3YoZC5wYWRkaW5nKSk7Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZmW2VdLmFsaWduJiZrLnB1c2goXCJ0ZXh0LWFsaWduOlwiK2ZbZV0uYWxpZ24pOzA8ay5sZW5ndGgmJmIucHVzaCgnc3R5bGVcXHgzZFwiJyxrLmpvaW4oXCI7IFwiKSwnXCIgJyk7Yi5wdXNoKCcgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV92Ym94X2NoaWxkXCJcXHgzZScsY1tlXSxcIlxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXCIpfWIucHVzaChcIlxceDNjL3Rib2R5XFx4M2VcXHgzYy90YWJsZVxceDNlXCIpO3JldHVybiBiLmpvaW4oXCJcIil9KX19fX0pKCk7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5wcm90b3R5cGU9e2dldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmRvbUlkKX0sZ2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RWxlbWVudCgpfSxnZXREaWFsb2c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpYWxvZ30sXG5zZXRWYWx1ZTpmdW5jdGlvbihhLGIpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0VmFsdWUoYSk7IWImJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphfSk7cmV0dXJuIHRoaXN9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuZ2V0VmFsdWUoKX0saXNDaGFuZ2VkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LHNlbGVjdFBhcmVudFRhYjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpOyhhPWEuZ2V0UGFyZW50KCkpJiYtMT09YS4kLmNsYXNzTmFtZS5zZWFyY2goXCJja2VfZGlhbG9nX3BhZ2VfY29udGVudHNcIik7KTtpZighYSlyZXR1cm4gdGhpczthPWEuZ2V0QXR0cmlidXRlKFwibmFtZVwiKTt0aGlzLl8uZGlhbG9nLl8uY3VycmVudFRhYklkIT1hJiZ0aGlzLl8uZGlhbG9nLnNlbGVjdFBhZ2UoYSk7cmV0dXJuIHRoaXN9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RQYXJlbnRUYWIoKS5nZXRJbnB1dEVsZW1lbnQoKS5mb2N1cygpO1xucmV0dXJuIHRoaXN9LHJlZ2lzdGVyRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPS9eb24oW0EtWl1cXHcrKS8sYyxlPWZ1bmN0aW9uKGEsYixjLGQpe2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXthLmdldElucHV0RWxlbWVudCgpLm9uKGMsZCxhKX0pfSxkO2ZvcihkIGluIGEpaWYoYz1kLm1hdGNoKGIpKXRoaXMuZXZlbnRQcm9jZXNzb3JzW2RdP3RoaXMuZXZlbnRQcm9jZXNzb3JzW2RdLmNhbGwodGhpcyx0aGlzLl8uZGlhbG9nLGFbZF0pOmUodGhpcyx0aGlzLl8uZGlhbG9nLGNbMV0udG9Mb3dlckNhc2UoKSxhW2RdKTtyZXR1cm4gdGhpc30sZXZlbnRQcm9jZXNzb3JzOntvbkxvYWQ6ZnVuY3Rpb24oYSxiKXthLm9uKFwibG9hZFwiLGIsdGhpcyl9LG9uU2hvdzpmdW5jdGlvbihhLGIpe2Eub24oXCJzaG93XCIsYix0aGlzKX0sb25IaWRlOmZ1bmN0aW9uKGEsYil7YS5vbihcImhpZGVcIixiLHRoaXMpfX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt9LFxuZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIixcInRydWVcIik7YS5hZGRDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTthLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5nZXRFbGVtZW50KCkuaGFzQ2xhc3MoXCJja2VfZGlzYWJsZWRcIil9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmlzVmlzaWJsZSgpfSxpc0ZvY3VzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzVmlzaWJsZSgpPyEwOiExfX07Q0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCxcbntnZXRDaGlsZDpmdW5jdGlvbihhKXtpZigxPmFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuXy5jaGlsZHJlbi5jb25jYXQoKTthLnNwbGljZXx8KGE9W2FdKTtyZXR1cm4gMj5hLmxlbmd0aD90aGlzLl8uY2hpbGRyZW5bYVswXV06dGhpcy5fLmNoaWxkcmVuW2FbMF1dJiZ0aGlzLl8uY2hpbGRyZW5bYVswXV0uZ2V0Q2hpbGQ/dGhpcy5fLmNoaWxkcmVuW2FbMF1dLmdldENoaWxkKGEuc2xpY2UoMSxhLmxlbmd0aCkpOm51bGx9fSwhMCk7Q0tFRElUT1IudWkuZGlhbG9nLnZib3gucHJvdG90eXBlPW5ldyBDS0VESVRPUi51aS5kaWFsb2cuaGJveDsoZnVuY3Rpb24oKXt2YXIgYT17YnVpbGQ6ZnVuY3Rpb24oYSxjLGUpe2Zvcih2YXIgZD1jLmNoaWxkcmVuLGYsZz1bXSxoPVtdLHA9MDtwPGQubGVuZ3RoJiYoZj1kW3BdKTtwKyspe3ZhciBtPVtdO2cucHVzaChtKTtoLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbZi50eXBlXS5idWlsZChhLGYsbSkpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2MudHlwZV0oYSxcbmgsZyxlLGMpfX07Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImhib3hcIixhKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidmJveFwiLGEpfSkoKTtDS0VESVRPUi5kaWFsb2dDb21tYW5kPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2dOYW1lPWE7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYiwhMCl9O0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudGFiSWQ7YS5vcGVuRGlhbG9nKHRoaXMuZGlhbG9nTmFtZSxmdW5jdGlvbihhKXtiJiZhLnNlbGVjdFBhZ2UoYil9KX0sY2FuVW5kbzohMSxlZGl0b3JGb2N1czoxfTsoZnVuY3Rpb24oKXt2YXIgYT0vXihbYV18W15hXSkrJC8sYj0vXlxcZCokLyxjPS9eXFxkKig/OlxcLlxcZCspPyQvLGU9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fFxcJSk/KT8kLyxkPS9eKCgoXFxkKihcXC5cXGQrKSl8KFxcZCopKShweHxlbXxleHxpbnxjbXxtbXxwdHxwY3xcXCUpPyk/JC9pLFxuZj0vXihcXHMqW1xcdy1dK1xccyo6XFxzKlteOjtdKyg/Ojt8JCkpKiQvO0NLRURJVE9SLlZBTElEQVRFX09SPTE7Q0tFRElUT1IuVkFMSURBVEVfQU5EPTI7Q0tFRElUT1IuZGlhbG9nLnZhbGlkYXRlPXtmdW5jdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYT1hcmd1bWVudHM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6YVswXSxjLGQ9Q0tFRElUT1IuVkFMSURBVEVfQU5ELGU9W10sZjtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZl0pZS5wdXNoKGFbZl0pO2Vsc2UgYnJlYWs7ZjxhLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGFbZl0mJihjPWFbZl0sZisrKTtmPGEubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgYVtmXSYmKGQ9YVtmXSk7dmFyIG49ZD09Q0tFRElUT1IuVkFMSURBVEVfQU5EPyEwOiExO2ZvcihmPTA7ZjxlLmxlbmd0aDtmKyspbj1kPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/biYmXG5lW2ZdKGIpOm58fGVbZl0oYik7cmV0dXJuIG4/ITA6Y319LHJlZ2V4OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2M9dGhpcyYmdGhpcy5nZXRWYWx1ZT90aGlzLmdldFZhbHVlKCk6YztyZXR1cm4gYS50ZXN0KGMpPyEwOmJ9fSxub3RFbXB0eTpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZWdleChhLGIpfSxpbnRlZ2VyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2V4KGIsYSl9LG51bWJlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChjLGEpfSxjc3NMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBkLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxodG1sTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZS50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saW5saW5lU3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBmLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LFxuYSl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihiKXtyZXR1cm4gYj09YX0sYil9LG5vdEVxdWFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGIpe3JldHVybiBiIT1hfSxiKX19O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0VtcHR5KENLRURJVE9SLmluc3RhbmNlcykpe2Zvcih2YXIgYjtiPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7KWIuaGlkZSgpO2Zvcih2YXIgYyBpbiB6KXpbY10ucmVtb3ZlKCk7ej17fX1hPWEuZWRpdG9yLl8uc3RvcmVkRGlhbG9ncztmb3IodmFyIGQgaW4gYSlhW2RdLmRlc3Ryb3koKX0pfSkoKTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7b3BlbkRpYWxvZzpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGwsZT1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXTtcbm51bGw9PT1DS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wJiZOKHRoaXMpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpYz10aGlzLl8uc3RvcmVkRGlhbG9nc3x8KHRoaXMuXy5zdG9yZWREaWFsb2dzPXt9KSxjPWNbYV18fChjW2FdPW5ldyBDS0VESVRPUi5kaWFsb2codGhpcyxhKSksYiYmYi5jYWxsKGMsYyksYy5zaG93KCk7ZWxzZXtpZihcImZhaWxlZFwiPT1lKXRocm93IE8odGhpcyksRXJyb3IoJ1tDS0VESVRPUi5kaWFsb2cub3BlbkRpYWxvZ10gRGlhbG9nIFwiJythKydcIiBmYWlsZWQgd2hlbiBsb2FkaW5nIGRlZmluaXRpb24uJyk7XCJzdHJpbmdcIj09dHlwZW9mIGUmJkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChlKSxmdW5jdGlvbigpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiYoQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09XCJmYWlsZWRcIik7dGhpcy5vcGVuRGlhbG9nKGEsXG5iKX0sdGhpcywwLDEpfUNLRURJVE9SLnNraW4ubG9hZFBhcnQoXCJkaWFsb2dcIik7cmV0dXJuIGN9fSl9KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9nXCIse3JlcXVpcmVzOlwiZGlhbG9ndWlcIixpbml0OmZ1bmN0aW9uKHgpe3gub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKEEpe0EuZGF0YS5kaWFsb2cmJngub3BlbkRpYWxvZyhBLmRhdGEuZGlhbG9nKX0sbnVsbCxudWxsLDk5OSl9fSk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcShiLGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse2VkaXRvcjpiLGlkOlwiY2tlLVwiK0NLRURJVE9SLnRvb2xzLmdldFVuaXF1ZUlkKCksYXJlYTpiLl8ubm90aWZpY2F0aW9uQXJlYX0pO2EudHlwZXx8KHRoaXMudHlwZT1cImluZm9cIik7dGhpcy5lbGVtZW50PXRoaXMuX2NyZWF0ZUVsZW1lbnQoKTtiLnBsdWdpbnMuY2xpcGJvYXJkJiZDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQodGhpcy5lbGVtZW50KX1mdW5jdGlvbiByKGIpe3ZhciBhPXRoaXM7dGhpcy5lZGl0b3I9Yjt0aGlzLm5vdGlmaWNhdGlvbnM9W107dGhpcy5lbGVtZW50PXRoaXMuX2NyZWF0ZUVsZW1lbnQoKTt0aGlzLl91aUJ1ZmZlcj1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoMTAsdGhpcy5fbGF5b3V0LHRoaXMpO3RoaXMuX2NoYW5nZUJ1ZmZlcj1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAwLHRoaXMuX2xheW91dCxcbnRoaXMpO2Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXthLl9yZW1vdmVMaXN0ZW5lcnMoKTthLmVsZW1lbnQucmVtb3ZlKCl9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIm5vdGlmaWNhdGlvblwiLHtpbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGEoYil7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2Euc2V0U3R5bGVzKHtwb3NpdGlvbjpcImZpeGVkXCIsXCJtYXJnaW4tbGVmdFwiOlwiLTk5OTlweFwifSk7YS5zZXRBdHRyaWJ1dGVzKHtcImFyaWEtbGl2ZVwiOlwiYXNzZXJ0aXZlXCIsXCJhcmlhLWF0b21pY1wiOlwidHJ1ZVwifSk7YS5zZXRUZXh0KGIpO0NLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoYSk7c2V0VGltZW91dChmdW5jdGlvbigpe2EucmVtb3ZlKCl9LDEwMCl9Yi5fLm5vdGlmaWNhdGlvbkFyZWE9bmV3IHIoYik7Yi5zaG93Tm90aWZpY2F0aW9uPWZ1bmN0aW9uKGEsZCxlKXt2YXIgZixsO1wicHJvZ3Jlc3NcIj09ZD9mPWU6bD1lO2E9bmV3IENLRURJVE9SLnBsdWdpbnMubm90aWZpY2F0aW9uKGIsXG57bWVzc2FnZTphLHR5cGU6ZCxwcm9ncmVzczpmLGR1cmF0aW9uOmx9KTthLnNob3coKTtyZXR1cm4gYX07Yi5vbihcImtleVwiLGZ1bmN0aW9uKGMpe2lmKDI3PT1jLmRhdGEua2V5Q29kZSl7dmFyIGQ9Yi5fLm5vdGlmaWNhdGlvbkFyZWEubm90aWZpY2F0aW9ucztkLmxlbmd0aCYmKGEoYi5sYW5nLm5vdGlmaWNhdGlvbi5jbG9zZWQpLGRbZC5sZW5ndGgtMV0uaGlkZSgpLGMuY2FuY2VsKCkpfX0pfX0pO3EucHJvdG90eXBlPXtzaG93OmZ1bmN0aW9uKCl7ITEhPT10aGlzLmVkaXRvci5maXJlKFwibm90aWZpY2F0aW9uU2hvd1wiLHtub3RpZmljYXRpb246dGhpc30pJiYodGhpcy5hcmVhLmFkZCh0aGlzKSx0aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCkpfSx1cGRhdGU6ZnVuY3Rpb24oYil7dmFyIGE9ITA7ITE9PT10aGlzLmVkaXRvci5maXJlKFwibm90aWZpY2F0aW9uVXBkYXRlXCIse25vdGlmaWNhdGlvbjp0aGlzLG9wdGlvbnM6Yn0pJiYoYT0hMSk7dmFyIGM9dGhpcy5lbGVtZW50LGQ9Yy5maW5kT25lKFwiLmNrZV9ub3RpZmljYXRpb25fbWVzc2FnZVwiKSxcbmU9Yy5maW5kT25lKFwiLmNrZV9ub3RpZmljYXRpb25fcHJvZ3Jlc3NcIiksZj1iLnR5cGU7Yy5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpO2IucHJvZ3Jlc3MmJlwicHJvZ3Jlc3NcIiE9dGhpcy50eXBlJiYoZj1cInByb2dyZXNzXCIpO2YmJihjLnJlbW92ZUNsYXNzKHRoaXMuX2dldENsYXNzKCkpLGMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSx0aGlzLnR5cGU9ZixjLmFkZENsYXNzKHRoaXMuX2dldENsYXNzKCkpLGMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMudHlwZSksXCJwcm9ncmVzc1wiIT10aGlzLnR5cGV8fGU/XCJwcm9ncmVzc1wiIT10aGlzLnR5cGUmJmUmJmUucmVtb3ZlKCk6KGU9dGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCksZS5pbnNlcnRCZWZvcmUoZCkpKTt2b2lkIDAhPT1iLm1lc3NhZ2UmJih0aGlzLm1lc3NhZ2U9Yi5tZXNzYWdlLGQuc2V0SHRtbCh0aGlzLm1lc3NhZ2UpKTt2b2lkIDAhPT1iLnByb2dyZXNzJiYodGhpcy5wcm9ncmVzcz1iLnByb2dyZXNzLFxuZSYmZS5zZXRTdHlsZShcIndpZHRoXCIsdGhpcy5fZ2V0UGVyY2VudGFnZVByb2dyZXNzKCkpKTthJiZiLmltcG9ydGFudCYmKGMuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksdGhpcy5pc1Zpc2libGUoKXx8dGhpcy5hcmVhLmFkZCh0aGlzKSk7dGhpcy5kdXJhdGlvbj1iLmR1cmF0aW9uO3RoaXMuX2hpZGVBZnRlclRpbWVvdXQoKX0saGlkZTpmdW5jdGlvbigpeyExIT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvbkhpZGVcIix7bm90aWZpY2F0aW9uOnRoaXN9KSYmdGhpcy5hcmVhLnJlbW92ZSh0aGlzKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIDA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5hcmVhLm5vdGlmaWNhdGlvbnMsdGhpcyl9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhLGMsZD10aGlzLmVkaXRvci5sYW5nLmNvbW1vbi5jbG9zZTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTthLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvblwiKTtcbmEuYWRkQ2xhc3ModGhpcy5fZ2V0Q2xhc3MoKSk7YS5zZXRBdHRyaWJ1dGVzKHtpZDp0aGlzLmlkLHJvbGU6XCJhbGVydFwiLFwiYXJpYS1sYWJlbFwiOnRoaXMudHlwZX0pO1wicHJvZ3Jlc3NcIj09dGhpcy50eXBlJiZhLmFwcGVuZCh0aGlzLl9jcmVhdGVQcm9ncmVzc0VsZW1lbnQoKSk7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJwXCIpO2MuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uX21lc3NhZ2VcIik7Yy5zZXRIdG1sKHRoaXMubWVzc2FnZSk7YS5hcHBlbmQoYyk7Yz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NhIGNsYXNzXFx4M2RcImNrZV9ub3RpZmljYXRpb25fY2xvc2VcIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiIHRpdGxlXFx4M2RcIicrZCsnXCIgcm9sZVxceDNkXCJidXR0b25cIiB0YWJpbmRleFxceDNkXCItMVwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2xhYmVsXCJcXHgzZVhcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2UnKTthLmFwcGVuZChjKTtjLm9uKFwiY2xpY2tcIixcbmZ1bmN0aW9uKCl7Yi5lZGl0b3IuZm9jdXMoKTtiLmhpZGUoKX0pO3JldHVybiBhfSxfZ2V0Q2xhc3M6ZnVuY3Rpb24oKXtyZXR1cm5cInByb2dyZXNzXCI9PXRoaXMudHlwZT9cImNrZV9ub3RpZmljYXRpb25faW5mb1wiOlwiY2tlX25vdGlmaWNhdGlvbl9cIit0aGlzLnR5cGV9LF9jcmVhdGVQcm9ncmVzc0VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO2IuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uX3Byb2dyZXNzXCIpO2Iuc2V0U3R5bGUoXCJ3aWR0aFwiLHRoaXMuX2dldFBlcmNlbnRhZ2VQcm9ncmVzcygpKTtyZXR1cm4gYn0sX2dldFBlcmNlbnRhZ2VQcm9ncmVzczpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKDEwMCoodGhpcy5wcm9ncmVzc3x8MCkpK1wiJVwifSxfaGlkZUFmdGVyVGltZW91dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTt0aGlzLl9oaWRlVGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXRJZCk7XG5pZihcIm51bWJlclwiPT10eXBlb2YgdGhpcy5kdXJhdGlvbilhPXRoaXMuZHVyYXRpb247ZWxzZSBpZihcImluZm9cIj09dGhpcy50eXBlfHxcInN1Y2Nlc3NcIj09dGhpcy50eXBlKWE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZWRpdG9yLmNvbmZpZy5ub3RpZmljYXRpb25fZHVyYXRpb24/dGhpcy5lZGl0b3IuY29uZmlnLm5vdGlmaWNhdGlvbl9kdXJhdGlvbjo1RTM7YSYmKGIuX2hpZGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IuaGlkZSgpfSxhKSl9fTtyLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGIpe3RoaXMubm90aWZpY2F0aW9ucy5wdXNoKGIpO3RoaXMuZWxlbWVudC5hcHBlbmQoYi5lbGVtZW50KTsxPT10aGlzLmVsZW1lbnQuZ2V0Q2hpbGRDb3VudCgpJiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZCh0aGlzLmVsZW1lbnQpLHRoaXMuX2F0dGFjaExpc3RlbmVycygpKTt0aGlzLl9sYXlvdXQoKX0scmVtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5ub3RpZmljYXRpb25zLFxuYik7MD5hfHwodGhpcy5ub3RpZmljYXRpb25zLnNwbGljZShhLDEpLGIuZWxlbWVudC5yZW1vdmUoKSx0aGlzLmVsZW1lbnQuZ2V0Q2hpbGRDb3VudCgpfHwodGhpcy5fcmVtb3ZlTGlzdGVuZXJzKCksdGhpcy5lbGVtZW50LnJlbW92ZSgpKSl9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lZGl0b3IsYT1iLmNvbmZpZyxjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtjLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbnNfYXJlYVwiKTtjLnNldEF0dHJpYnV0ZShcImlkXCIsXCJja2Vfbm90aWZpY2F0aW9uc19hcmVhX1wiK2IubmFtZSk7Yy5zZXRTdHlsZShcInotaW5kZXhcIixhLmJhc2VGbG9hdFpJbmRleC0yKTtyZXR1cm4gY30sX2F0dGFjaExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGE9dGhpcy5lZGl0b3I7Yi5vbihcInNjcm9sbFwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtiLm9uKFwicmVzaXplXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO1xuYS5vbihcImNoYW5nZVwiLHRoaXMuX2NoYW5nZUJ1ZmZlci5pbnB1dCk7YS5vbihcImZsb2F0aW5nU3BhY2VMYXlvdXRcIix0aGlzLl9sYXlvdXQsdGhpcyxudWxsLDIwKTthLm9uKFwiYmx1clwiLHRoaXMuX2xheW91dCx0aGlzLG51bGwsMjApfSxfcmVtb3ZlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYT10aGlzLmVkaXRvcjtiLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO2IucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7YS5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuX2NoYW5nZUJ1ZmZlci5pbnB1dCk7YS5yZW1vdmVMaXN0ZW5lcihcImZsb2F0aW5nU3BhY2VMYXlvdXRcIix0aGlzLl9sYXlvdXQpO2EucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsdGhpcy5fbGF5b3V0KX0sX2xheW91dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXthLnNldFN0eWxlKFwibGVmdFwiLFxuayhuK2Qud2lkdGgtZy1oKSl9dmFyIGE9dGhpcy5lbGVtZW50LGM9dGhpcy5lZGl0b3IsZD1jLnVpLmNvbnRlbnRzRWxlbWVudC5nZXRDbGllbnRSZWN0KCksZT1jLnVpLmNvbnRlbnRzRWxlbWVudC5nZXREb2N1bWVudFBvc2l0aW9uKCksZixsLHU9YS5nZXRDbGllbnRSZWN0KCksbSxnPXRoaXMuX25vdGlmaWNhdGlvbldpZHRoLGg9dGhpcy5fbm90aWZpY2F0aW9uTWFyZ2luO209Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7dmFyIHA9bS5nZXRTY3JvbGxQb3NpdGlvbigpLHQ9bS5nZXRWaWV3UGFuZVNpemUoKSxxPUNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSxyPXEuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGs9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoO2cmJmh8fChtPXRoaXMuZWxlbWVudC5nZXRDaGlsZCgwKSxnPXRoaXMuX25vdGlmaWNhdGlvbldpZHRoPW0uZ2V0Q2xpZW50UmVjdCgpLndpZHRoLGg9dGhpcy5fbm90aWZpY2F0aW9uTWFyZ2luPXBhcnNlSW50KG0uZ2V0Q29tcHV0ZWRTdHlsZShcIm1hcmdpbi1sZWZ0XCIpLFxuMTApK3BhcnNlSW50KG0uZ2V0Q29tcHV0ZWRTdHlsZShcIm1hcmdpbi1yaWdodFwiKSwxMCkpO2MudG9vbGJhciYmKGY9Yy51aS5zcGFjZShcInRvcFwiKSxsPWYuZ2V0Q2xpZW50UmVjdCgpKTtmJiZmLmlzVmlzaWJsZSgpJiZsLmJvdHRvbT5kLnRvcCYmbC5ib3R0b208ZC5ib3R0b20tdS5oZWlnaHQ/YS5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6ayhsLmJvdHRvbSl9KTowPGQudG9wP2Euc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmsoZS55KX0pOmUueStkLmhlaWdodC11LmhlaWdodD5wLnk/YS5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MH0pOmEuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmsoZS55K2QuaGVpZ2h0LXUuaGVpZ2h0KX0pO3ZhciBuPVwiZml4ZWRcIj09YS5nZXRTdHlsZShcInBvc2l0aW9uXCIpP2QubGVmdDpcInN0YXRpY1wiIT1xLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKT9lLngtci54OmUueDtkLndpZHRoPFxuZytoP2UueCtnK2g+cC54K3Qud2lkdGg/YigpOmEuc2V0U3R5bGUoXCJsZWZ0XCIsayhuKSk6ZS54K2craD5wLngrdC53aWR0aD9hLnNldFN0eWxlKFwibGVmdFwiLGsobikpOmUueCtkLndpZHRoLzIrZy8yK2g+cC54K3Qud2lkdGg/YS5zZXRTdHlsZShcImxlZnRcIixrKG4tZS54K3AueCt0LndpZHRoLWctaCkpOjA+ZC5sZWZ0K2Qud2lkdGgtZy1oP2IoKTowPmQubGVmdCtkLndpZHRoLzItZy8yP2Euc2V0U3R5bGUoXCJsZWZ0XCIsayhuLWUueCtwLngpKTphLnNldFN0eWxlKFwibGVmdFwiLGsobitkLndpZHRoLzItZy8yLWgvMikpfX07Q0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb249cX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGM9J1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbiBja2VfYnV0dG9uX197bmFtZX0gY2tlX2J1dHRvbl97c3RhdGV9IHtjbHN9XCInKyhDS0VESVRPUi5lbnYuZ2Vja28mJiFDS0VESVRPUi5lbnYuaGM/XCJcIjpcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCd7dGl0bGVKc30nKVxcXCJcIikrJyB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwiYnV0dG9uXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIntpZH1fbGFiZWxcIiBhcmlhLWRlc2NyaWJlZGJ5XFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNBcnJvd31cIiBhcmlhLWRpc2FibGVkXFx4M2RcInthcmlhRGlzYWJsZWR9XCInO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYyYmKGMrPScgb25rZXlwcmVzc1xceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtDS0VESVRPUi5lbnYuZ2Vja28mJihjKz1cbicgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYz1jKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50KTtcIiBvbmZvY3VzXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTtcIiAnKyhDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2ljb24gY2tlX2J1dHRvbl9fe2ljb25OYW1lfV9pY29uXCIgc3R5bGVcXHgzZFwie3N0eWxlfVwiJyksYz1jKydcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV9idXR0b25fbGFiZWwgY2tlX2J1dHRvbl9fe25hbWV9X2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXR9XFx4M2Mvc3BhblxceDNle2Fycm93SHRtbH1cXHgzYy9hXFx4M2UnLFxudj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvbkFycm93XCIsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2Fycm93XCJcXHgzZScrKENLRURJVE9SLmVudi5oYz9cIlxceDI2Izk2NjA7XCI6XCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcIiksdz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvblwiLGMpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYnV0dG9uXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX0JVVFRPTixDS0VESVRPUi51aS5idXR0b24uaGFuZGxlcil9fSk7Q0tFRElUT1IuVUlfQlVUVE9OPVwiYnV0dG9uXCI7Q0tFRElUT1IudWkuYnV0dG9uPWZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse3RpdGxlOmEubGFiZWwsY2xpY2s6YS5jbGlja3x8ZnVuY3Rpb24oYil7Yi5leGVjQ29tbWFuZChhLmNvbW1hbmQpfX0pO3RoaXMuXz17fX07Q0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLmJ1dHRvbihhKX19O1xuQ0tFRElUT1IudWkuYnV0dG9uLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe3ZhciBmPWEubW9kZTtmJiYoZj10aGlzLm1vZGVzW2ZdP3ZvaWQgMCE9PW5bZl0/bltmXTpDS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsZj1hLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpmLHRoaXMuc2V0U3RhdGUoZiksdGhpcy5yZWZyZXNoJiZ0aGlzLnJlZnJlc2goKSl9dmFyIG49bnVsbCxwPUNLRURJVE9SLmVudixxPXRoaXMuXy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxnPVwiXCIsZD10aGlzLmNvbW1hbmQsdCxrLGw7dGhpcy5fLmVkaXRvcj1hO3ZhciBlPXtpZDpxLGJ1dHRvbjp0aGlzLGVkaXRvcjphLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChxKS5mb2N1cygpfSxleGVjdXRlOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soYSl9LFxuYXR0YWNoOmZ1bmN0aW9uKGEpe3RoaXMuYnV0dG9uLmF0dGFjaChhKX19LHg9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7aWYoZS5vbmtleSlyZXR1cm4gYT1uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGEpLCExIT09ZS5vbmtleShlLGEuZ2V0S2V5c3Ryb2tlKCkpfSkseT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYjtlLm9uZm9jdXMmJihiPSExIT09ZS5vbmZvY3VzKGUsbmV3IENLRURJVE9SLmRvbS5ldmVudChhKSkpO3JldHVybiBifSksdT0wO2UuY2xpY2tGbj10PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7dSYmKGEudW5sb2NrU2VsZWN0aW9uKDEpLHU9MCk7ZS5leGVjdXRlKCk7cC5pT1MmJmEuZm9jdXMoKX0pO3RoaXMubW9kZXM/KG49e30sYS5vbihcImJlZm9yZU1vZGVVbmxvYWRcIixmdW5jdGlvbigpe2EubW9kZSYmdGhpcy5fLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKG5bYS5tb2RlXT1cbnRoaXMuXy5zdGF0ZSl9LHRoaXMpLGEub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixjLHRoaXMpLGEub24oXCJtb2RlXCIsYyx0aGlzKSwhdGhpcy5yZWFkT25seSYmYS5vbihcInJlYWRPbmx5XCIsYyx0aGlzKSk6ZCYmKGQ9YS5nZXRDb21tYW5kKGQpKSYmKGQub24oXCJzdGF0ZVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShkLnN0YXRlKX0sdGhpcyksZys9ZC5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJvblwiOmQuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiKTt2YXIgbTtpZih0aGlzLmRpcmVjdGlvbmFsKWEub24oXCJjb250ZW50RGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKSxkPWMuZ2V0Rmlyc3QoKTtiPWIuZGF0YTtiIT1hLmxhbmcuZGlyP2MuYWRkQ2xhc3MoXCJja2VfXCIrYik6Yy5yZW1vdmVDbGFzcyhcImNrZV9sdHJcIikucmVtb3ZlQ2xhc3MoXCJja2VfcnRsXCIpO2Quc2V0QXR0cmlidXRlKFwic3R5bGVcIixcbkNLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKG0sXCJydGxcIj09Yix0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSl9LHRoaXMpO2Q/KGs9YS5nZXRDb21tYW5kS2V5c3Ryb2tlKGQpKSYmKGw9Q0tFRElUT1IudG9vbHMua2V5c3Ryb2tlVG9TdHJpbmcoYS5sYW5nLmNvbW1vbi5rZXlib2FyZCxrKSk6Zys9XCJvZmZcIjtrPXRoaXMubmFtZXx8dGhpcy5jb21tYW5kO3ZhciBoPW51bGwscj10aGlzLmljb247bT1rO3RoaXMuaWNvbiYmIS9cXC4vLnRlc3QodGhpcy5pY29uKT8obT10aGlzLmljb24scj1udWxsKToodGhpcy5pY29uJiYoaD10aGlzLmljb24pLENLRURJVE9SLmVudi5oaWRwaSYmdGhpcy5pY29uSGlEcGkmJihoPXRoaXMuaWNvbkhpRHBpKSk7aD8oQ0tFRElUT1Iuc2tpbi5hZGRJY29uKGgsaCkscj1udWxsKTpoPW07Zz17aWQ6cSxuYW1lOmssaWNvbk5hbWU6bSxsYWJlbDp0aGlzLmxhYmVsLGNsczoodGhpcy5oYXNBcnJvdz9cImNrZV9idXR0b25fZXhwYW5kYWJsZSBcIjpcIlwiKSsodGhpcy5jbGFzc05hbWV8fFxuXCJcIiksc3RhdGU6ZyxhcmlhRGlzYWJsZWQ6XCJkaXNhYmxlZFwiPT1nP1widHJ1ZVwiOlwiZmFsc2VcIix0aXRsZTp0aGlzLnRpdGxlKyhsP1wiIChcIitsLmRpc3BsYXkrXCIpXCI6XCJcIiksYXJpYVNob3J0Y3V0Omw/YS5sYW5nLmNvbW1vbi5rZXlib2FyZFNob3J0Y3V0K1wiIFwiK2wuYXJpYTpcIlwiLHRpdGxlSnM6cC5nZWNrbyYmIXAuaGM/XCJcIjoodGhpcy50aXRsZXx8XCJcIikucmVwbGFjZShcIidcIixcIlwiKSxoYXNBcnJvdzpcInN0cmluZ1wiPT09dHlwZW9mIHRoaXMuaGFzQXJyb3cmJnRoaXMuaGFzQXJyb3d8fCh0aGlzLmhhc0Fycm93P1widHJ1ZVwiOlwiZmFsc2VcIiksa2V5ZG93bkZuOngsZm9jdXNGbjp5LGNsaWNrRm46dCxzdHlsZTpDS0VESVRPUi5za2luLmdldEljb25TdHlsZShoLFwicnRsXCI9PWEubGFuZy5kaXIscix0aGlzLmljb25PZmZzZXQpLGFycm93SHRtbDp0aGlzLmhhc0Fycm93P3Yub3V0cHV0KCk6XCJcIn07dy5vdXRwdXQoZyxiKTtpZih0aGlzLm9uUmVuZGVyKXRoaXMub25SZW5kZXIoKTtyZXR1cm4gZX0sXG5zZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGU9PWEpcmV0dXJuITE7dGhpcy5fLnN0YXRlPWE7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQpO3JldHVybiBiPyhiLnNldFN0YXRlKGEsXCJja2VfYnV0dG9uXCIpLGIuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLGE9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKSx0aGlzLmhhc0Fycm93P2Iuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLGE9PUNLRURJVE9SLlRSSVNUQVRFX09OKTphPT09Q0tFRElUT1IuVFJJU1RBVEVfT04/Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwhMCk6Yi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksITApOiExfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc3RhdGV9LHRvRmVhdHVyZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uZmVhdHVyZSlyZXR1cm4gdGhpcy5fLmZlYXR1cmU7dmFyIGI9dGhpczt0aGlzLmFsbG93ZWRDb250ZW50fHxcbnRoaXMucmVxdWlyZWRDb250ZW50fHwhdGhpcy5jb21tYW5kfHwoYj1hLmdldENvbW1hbmQodGhpcy5jb21tYW5kKXx8Yik7cmV0dXJuIHRoaXMuXy5mZWF0dXJlPWJ9fTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hZGQoYSxDS0VESVRPUi5VSV9CVVRUT04sYil9fSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBEKGEpe2Z1bmN0aW9uIGQoKXtmb3IodmFyIGI9ZigpLGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoYS5jb25maWcudG9vbGJhckdyb3Vwcyl8fHYoYSksbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgZz1lW25dO2lmKFwiL1wiIT1nKXtcInN0cmluZ1wiPT10eXBlb2YgZyYmKGc9ZVtuXT17bmFtZTpnfSk7dmFyIGwsZD1nLmdyb3VwcztpZihkKWZvcih2YXIgaD0wO2g8ZC5sZW5ndGg7aCsrKWw9ZFtoXSwobD1iW2xdKSYmYyhnLGwpOyhsPWJbZy5uYW1lXSkmJmMoZyxsKX19cmV0dXJuIGV9ZnVuY3Rpb24gZigpe3ZhciBiPXt9LGMsZSxnO2ZvcihjIGluIGEudWkuaXRlbXMpZT1hLnVpLml0ZW1zW2NdLGc9ZS50b29sYmFyfHxcIm90aGVyc1wiLGc9Zy5zcGxpdChcIixcIiksZT1nWzBdLGc9cGFyc2VJbnQoZ1sxXXx8LTEsMTApLGJbZV18fChiW2VdPVtdKSxiW2VdLnB1c2goe25hbWU6YyxvcmRlcjpnfSk7Zm9yKGUgaW4gYiliW2VdPWJbZV0uc29ydChmdW5jdGlvbihiLFxuYSl7cmV0dXJuIGIub3JkZXI9PWEub3JkZXI/MDowPmEub3JkZXI/LTE6MD5iLm9yZGVyPzE6Yi5vcmRlcjxhLm9yZGVyPy0xOjF9KTtyZXR1cm4gYn1mdW5jdGlvbiBjKGMsZSl7aWYoZS5sZW5ndGgpe2MuaXRlbXM/Yy5pdGVtcy5wdXNoKGEudWkuY3JlYXRlKFwiLVwiKSk6Yy5pdGVtcz1bXTtmb3IodmFyIGQ7ZD1lLnNoaWZ0KCk7KWQ9XCJzdHJpbmdcIj09dHlwZW9mIGQ/ZDpkLm5hbWUsYiYmLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYixkKXx8KGQ9YS51aS5jcmVhdGUoZCkpJiZhLmFkZEZlYXR1cmUoZCkmJmMuaXRlbXMucHVzaChkKX19ZnVuY3Rpb24gaChiKXt2YXIgYT1bXSxlLGQsaDtmb3IoZT0wO2U8Yi5sZW5ndGg7KytlKWQ9YltlXSxoPXt9LFwiL1wiPT1kP2EucHVzaChkKTpDS0VESVRPUi50b29scy5pc0FycmF5KGQpPyhjKGgsQ0tFRElUT1IudG9vbHMuY2xvbmUoZCkpLGEucHVzaChoKSk6ZC5pdGVtcyYmKGMoaCxDS0VESVRPUi50b29scy5jbG9uZShkLml0ZW1zKSksXG5oLm5hbWU9ZC5uYW1lLGEucHVzaChoKSk7cmV0dXJuIGF9dmFyIGI9YS5jb25maWcucmVtb3ZlQnV0dG9ucyxiPWImJmIuc3BsaXQoXCIsXCIpLGU9YS5jb25maWcudG9vbGJhcjtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9YS5jb25maWdbXCJ0b29sYmFyX1wiK2VdKTtyZXR1cm4gYS50b29sYmFyPWU/aChlKTpkKCl9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fChhLl8udG9vbGJhckdyb3Vwcz1be25hbWU6XCJkb2N1bWVudFwiLGdyb3VwczpbXCJtb2RlXCIsXCJkb2N1bWVudFwiLFwiZG9jdG9vbHNcIl19LHtuYW1lOlwiY2xpcGJvYXJkXCIsZ3JvdXBzOltcImNsaXBib2FyZFwiLFwidW5kb1wiXX0se25hbWU6XCJlZGl0aW5nXCIsZ3JvdXBzOltcImZpbmRcIixcInNlbGVjdGlvblwiLFwic3BlbGxjaGVja2VyXCJdfSx7bmFtZTpcImZvcm1zXCJ9LFwiL1wiLHtuYW1lOlwiYmFzaWNzdHlsZXNcIixncm91cHM6W1wiYmFzaWNzdHlsZXNcIixcImNsZWFudXBcIl19LHtuYW1lOlwicGFyYWdyYXBoXCIsZ3JvdXBzOltcImxpc3RcIixcblwiaW5kZW50XCIsXCJibG9ja3NcIixcImFsaWduXCIsXCJiaWRpXCJdfSx7bmFtZTpcImxpbmtzXCJ9LHtuYW1lOlwiaW5zZXJ0XCJ9LFwiL1wiLHtuYW1lOlwic3R5bGVzXCJ9LHtuYW1lOlwiY29sb3JzXCJ9LHtuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciB6PWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXTt0aGlzLmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSExfTt6LnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGQ7ZD10aGlzLnRvb2xiYXJzW2ErK107KWZvcih2YXIgZj0wLGM7Yz1kLml0ZW1zW2YrK107KWlmKGMuZm9jdXMpe2MuZm9jdXMoKTtyZXR1cm59fTt2YXIgRT17bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe2EudG9vbGJveCYmKGEudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZD0hMCxDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXI/c2V0VGltZW91dChmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSxcbjEwMCk6YS50b29sYm94LmZvY3VzKCkpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0b29sYmFyXCIse3JlcXVpcmVzOlwiYnV0dG9uXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZCxmPWZ1bmN0aW9uKGMsaCl7dmFyIGIsZT1cInJ0bFwiPT1hLmxhbmcuZGlyLGs9YS5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyxxPWU/Mzc6MzksZT1lPzM5OjM3LGs9dm9pZCAwPT09a3x8aztzd2l0Y2goaCl7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFifHwhYi5pdGVtcy5sZW5ndGg7KWlmKGI9OT09aD8oYj9iLm5leHQ6Yy50b29sYmFyLm5leHQpfHxhLnRvb2xib3gudG9vbGJhcnNbMF06KGI/Yi5wcmV2aW91czpjLnRvb2xiYXIucHJldmlvdXMpfHxhLnRvb2xib3gudG9vbGJhcnNbYS50b29sYm94LnRvb2xiYXJzLmxlbmd0aC0xXSxiLml0ZW1zLmxlbmd0aClmb3IoYz1iLml0ZW1zW2Q/Yi5pdGVtcy5sZW5ndGgtMTowXTtjJiYhYy5mb2N1czspKGM9ZD9jLnByZXZpb3VzOmMubmV4dCl8fFxuKGI9MCk7YyYmYy5mb2N1cygpO3JldHVybiExO2Nhc2UgcTpiPWM7ZG8gYj1iLm5leHQsIWImJmsmJihiPWMudG9vbGJhci5pdGVtc1swXSk7d2hpbGUoYiYmIWIuZm9jdXMpO2I/Yi5mb2N1cygpOmYoYyw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBjLmJ1dHRvbiYmYy5idXR0b24uaGFzQXJyb3c/Yy5leGVjdXRlKCk6ZihjLDQwPT1oP3E6ZSksITE7Y2FzZSBlOmNhc2UgMzg6Yj1jO2RvIGI9Yi5wcmV2aW91cywhYiYmayYmKGI9Yy50b29sYmFyLml0ZW1zW2MudG9vbGJhci5pdGVtcy5sZW5ndGgtMV0pO3doaWxlKGImJiFiLmZvY3VzKTtiP2IuZm9jdXMoKTooZD0xLGYoYyxDS0VESVRPUi5TSElGVCs5KSxkPTApO3JldHVybiExO2Nhc2UgMjc6cmV0dXJuIGEuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMuZXhlY3V0ZSgpLCExfXJldHVybiEwfTthLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGMpe2lmKGMuZGF0YS5zcGFjZT09YS5jb25maWcudG9vbGJhckxvY2F0aW9uKXtjLnJlbW92ZUxpc3RlbmVyKCk7XG5hLnRvb2xib3g9bmV3IHo7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksYj1bJ1xceDNjc3BhbiBpZFxceDNkXCInLGQsJ1wiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnLGEubGFuZy50b29sYmFyLnRvb2xiYXJzLFwiXFx4M2Mvc3BhblxceDNlXCIsJ1xceDNjc3BhbiBpZFxceDNkXCInK2EudWkuc3BhY2VJZChcInRvb2xib3hcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYm94XCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGQsJ1wiIG9ubW91c2Vkb3duXFx4M2RcInJldHVybiBmYWxzZTtcIlxceDNlJ10sZD0hMSE9PWEuY29uZmlnLnRvb2xiYXJTdGFydHVwRXhwYW5kZWQsZSxrO2EuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmYi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfbWFpblwiJysoZD9cIlxceDNlXCI6JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJykpO1xuZm9yKHZhciBxPWEudG9vbGJveC50b29sYmFycyxuPUQoYSksZz1uLmxlbmd0aCxsPTA7bDxnO2wrKyl7dmFyIHIsbT0wLHcscD1uW2xdLHY9XCIvXCIhPT1wJiYoXCIvXCI9PT1uW2wrMV18fGw9PWctMSkseDtpZihwKWlmKGUmJihiLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksaz1lPTApLFwiL1wiPT09cCliLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9icmVha1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtlbHNle3g9cC5pdGVtc3x8cDtmb3IodmFyIHk9MDt5PHgubGVuZ3RoO3krKyl7dmFyIHQ9eFt5XSxBO2lmKHQpe3ZhciBCPWZ1bmN0aW9uKGMpe2M9Yy5yZW5kZXIoYSxiKTt1PW0uaXRlbXMucHVzaChjKS0xOzA8dSYmKGMucHJldmlvdXM9bS5pdGVtc1t1LTFdLGMucHJldmlvdXMubmV4dD1jKTtjLnRvb2xiYXI9bTtjLm9ua2V5PWY7Yy5vbmZvY3VzPWZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkfHxhLmZvY3VzKCl9fTtpZih0LnR5cGU9PUNLRURJVE9SLlVJX1NFUEFSQVRPUilrPVxuZSYmdDtlbHNle0E9ITEhPT10LmNhbkdyb3VwO2lmKCFtKXtyPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO209e2lkOnIsaXRlbXM6W119O3c9cC5uYW1lJiYoYS5sYW5nLnRvb2xiYXIudG9vbGJhckdyb3Vwc1twLm5hbWVdfHxwLm5hbWUpO2IucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsciwnXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXInKyh2PycgY2tlX3Rvb2xiYXJfbGFzdFwiJzonXCInKSx3PycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicrcisnX2xhYmVsXCInOlwiXCIsJyByb2xlXFx4M2RcInRvb2xiYXJcIlxceDNlJyk7dyYmYi5wdXNoKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyxyLCdfbGFiZWxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJyx3LFwiXFx4M2Mvc3BhblxceDNlXCIpO2IucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX3N0YXJ0XCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO3ZhciB1PXEucHVzaChtKS0xOzA8dSYmKG0ucHJldmlvdXM9cVt1LTFdLG0ucHJldmlvdXMubmV4dD1cbm0pfUE/ZXx8KGIucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sZ3JvdXBcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnKSxlPTEpOmUmJihiLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksZT0wKTtrJiYoQihrKSxrPTApO0IodCl9fX1lJiYoYi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLGs9ZT0wKTttJiZiLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9lbmRcIlxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyl9fWEuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmYi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpO2lmKGEuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIEM9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXthLmV4ZWNDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIpfSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKEMpfSk7XG5hLmFkZENvbW1hbmQoXCJ0b29sYmFyQ29sbGFwc2VcIix7cmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGIpe3ZhciBhPWIudWkuc3BhY2UoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSxjPWEuZ2V0UHJldmlvdXMoKSxkPWIudWkuc3BhY2UoXCJjb250ZW50c1wiKSxlPWMuZ2V0UGFyZW50KCksaD1wYXJzZUludChkLiQuc3R5bGUuaGVpZ2h0LDEwKSxnPWUuJC5vZmZzZXRIZWlnaHQsZj1hLmhhc0NsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtmPyhjLnNob3coKSxhLnJlbW92ZUNsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxhLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYi5sYW5nLnRvb2xiYXIudG9vbGJhckNvbGxhcHNlKSk6KGMuaGlkZSgpLGEuYWRkQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpLGEuc2V0QXR0cmlidXRlKFwidGl0bGVcIixiLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSk7YS5nZXRGaXJzdCgpLnNldFRleHQoZj9cIuKWslwiOlwi4peAXCIpO2Quc2V0U3R5bGUoXCJoZWlnaHRcIixcbmgtKGUuJC5vZmZzZXRIZWlnaHQtZykrXCJweFwiKTtiLmZpcmUoXCJyZXNpemVcIix7b3V0ZXJIZWlnaHQ6Yi5jb250YWluZXIuJC5vZmZzZXRIZWlnaHQsY29udGVudHNIZWlnaHQ6ZC4kLm9mZnNldEhlaWdodCxvdXRlcldpZHRoOmIuY29udGFpbmVyLiQub2Zmc2V0V2lkdGh9KX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19KTthLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD8xODk6MTA5KSxcInRvb2xiYXJDb2xsYXBzZVwiKTtiLnB1c2goJ1xceDNjYSB0aXRsZVxceDNkXCInKyhkP2EubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZTphLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSsnXCIgaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJveF9jb2xsYXBzZXInKTtkfHxiLnB1c2goXCIgY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtcbmIucHVzaCgnXCIgb25jbGlja1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJytDKycpXCJcXHgzZScsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYXJyb3dcIlxceDNlXFx4MjYjOTY1MDtcXHgzYy9zcGFuXFx4M2UnLFwiXFx4M2MvYVxceDNlXCIpfWIucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtjLmRhdGEuaHRtbCs9Yi5qb2luKFwiXCIpfX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtpZih0aGlzLnRvb2xib3gpe3ZhciBhLGQ9MCxiLGUsZjtmb3IoYT10aGlzLnRvb2xib3gudG9vbGJhcnM7ZDxhLmxlbmd0aDtkKyspZm9yKGU9YVtkXS5pdGVtcyxiPTA7YjxlLmxlbmd0aDtiKyspZj1lW2JdLGYuY2xpY2tGbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZi5jbGlja0ZuKSxmLmtleURvd25GbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZi5rZXlEb3duRm4pfX0pO2Eub24oXCJ1aVJlYWR5XCIsZnVuY3Rpb24oKXt2YXIgYz1hLnVpLnNwYWNlKFwidG9vbGJveFwiKTtjJiZhLmZvY3VzTWFuYWdlci5hZGQoYyxcbjEpfSk7YS5hZGRDb21tYW5kKFwidG9vbGJhckZvY3VzXCIsRSk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzEyMSxcInRvb2xiYXJGb2N1c1wiKTthLnVpLmFkZChcIi1cIixDS0VESVRPUi5VSV9TRVBBUkFUT1Ise30pO2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9TRVBBUkFUT1Ise2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybntyZW5kZXI6ZnVuY3Rpb24oYSxkKXtkLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zZXBhcmF0b3JcIiByb2xlXFx4M2RcInNlcGFyYXRvclwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtyZXR1cm57fX19fX0pfX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRUb29sYmFyR3JvdXA9ZnVuY3Rpb24oYSxkLGYpe3ZhciBjPXYodGhpcy5lZGl0b3IpLGg9MD09PWQsYj17bmFtZTphfTtpZihmKXtpZihmPUNLRURJVE9SLnRvb2xzLnNlYXJjaChjLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWZ9KSl7IWYuZ3JvdXBzJiYoZi5ncm91cHM9W10pO2lmKGQmJlxuKGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihmLmdyb3VwcyxkKSwwPD1kKSl7Zi5ncm91cHMuc3BsaWNlKGQrMSwwLGEpO3JldHVybn1oP2YuZ3JvdXBzLnNwbGljZSgwLDAsYSk6Zi5ncm91cHMucHVzaChhKTtyZXR1cm59ZD1udWxsfWQmJihkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1kfSkpO2g/Yy5zcGxpY2UoMCwwLGEpOlwibnVtYmVyXCI9PXR5cGVvZiBkP2Muc3BsaWNlKGQrMSwwLGIpOmMucHVzaChhKX19KSgpO0NLRURJVE9SLlVJX1NFUEFSQVRPUj1cInNlcGFyYXRvclwiO0NLRURJVE9SLmNvbmZpZy50b29sYmFyTG9jYXRpb249XCJ0b3BcIjsoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGEsYixjKXtiLnR5cGV8fChiLnR5cGU9XCJhdXRvXCIpO2lmKGMmJiExPT09YS5maXJlKFwiYmVmb3JlUGFzdGVcIixiKXx8IWIuZGF0YVZhbHVlJiZiLmRhdGFUcmFuc2Zlci5pc0VtcHR5KCkpcmV0dXJuITE7Yi5kYXRhVmFsdWV8fChiLmRhdGFWYWx1ZT1cIlwiKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJlwiZHJvcFwiPT1iLm1ldGhvZCYmYS50b29sYm94KWEub25jZShcImFmdGVyUGFzdGVcIixmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSk7cmV0dXJuIGEuZmlyZShcInBhc3RlXCIsYil9ZnVuY3Rpb24geChhKXtmdW5jdGlvbiBiKCl7dmFyIGI9YS5lZGl0YWJsZSgpO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZCl7dmFyIGM9ZnVuY3Rpb24oYil7YS5nZXRTZWxlY3Rpb24oKS5pc0NvbGxhcHNlZCgpfHwoYS5yZWFkT25seSYmXCJjdXRcIj09Yi5uYW1lfHxwLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihiLFxuYSksYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfTtiLm9uKFwiY29weVwiLGMpO2Iub24oXCJjdXRcIixjKTtiLm9uKFwiY3V0XCIsZnVuY3Rpb24oKXthLnJlYWRPbmx5fHxhLmV4dHJhY3RTZWxlY3RlZEh0bWwoKX0sbnVsbCxudWxsLDk5OSl9Yi5vbihwLm1haW5QYXN0ZUV2ZW50LGZ1bmN0aW9uKGEpe1wiYmVmb3JlcGFzdGVcIj09cC5tYWluUGFzdGVFdmVudCYmbXx8ayhhKX0pO1wiYmVmb3JlcGFzdGVcIj09cC5tYWluUGFzdGVFdmVudCYmKGIub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGEpe3V8fChnKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCksayhhKSxlKFwicGFzdGVcIikpfSksYi5vbihcImNvbnRleHRtZW51XCIsaCxudWxsLG51bGwsMCksYi5vbihcImJlZm9yZXBhc3RlXCIsZnVuY3Rpb24oYSl7IWEuZGF0YXx8YS5kYXRhLiQuY3RybEtleXx8YS5kYXRhLiQuc2hpZnRLZXl8fGgoKX0sbnVsbCxudWxsLDApKTtiLm9uKFwiYmVmb3JlY3V0XCIsZnVuY3Rpb24oKXshbSYmZihhKX0pO3ZhciBkO2IuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP1xuYjphLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dCgpfSwwKX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9KTtiLm9uKFwia2V5dXBcIix0KX1mdW5jdGlvbiBjKGIpe3JldHVybnt0eXBlOmIsY2FuVW5kbzpcImN1dFwiPT1iLHN0YXJ0RGlzYWJsZWQ6ITAsZmFrZUtleXN0cm9rZTpcImN1dFwiPT1iP0NLRURJVE9SLkNUUkwrODg6Q0tFRElUT1IuQ1RSTCs2NyxleGVjOmZ1bmN0aW9uKCl7XCJjdXRcIj09dGhpcy50eXBlJiZmKCk7dmFyIGI7dmFyIGM9dGhpcy50eXBlO2lmKENLRURJVE9SLmVudi5pZSliPWUoYyk7ZWxzZSB0cnl7Yj1hLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoYywhMSxudWxsKX1jYXRjaChkKXtiPSExfWJ8fGEuc2hvd05vdGlmaWNhdGlvbihhLmxhbmcuY2xpcGJvYXJkW3RoaXMudHlwZStcIkVycm9yXCJdKTtyZXR1cm4gYn19fWZ1bmN0aW9uIGQoKXtyZXR1cm57Y2FuVW5kbzohMSxcbmFzeW5jOiEwLGZha2VLZXlzdHJva2U6Q0tFRElUT1IuQ1RSTCs4NixleGVjOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhiLGgpe2g9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBoP2g6ITA7Yj8oYi5tZXRob2Q9XCJwYXN0ZVwiLGIuZGF0YVRyYW5zZmVyfHwoYi5kYXRhVHJhbnNmZXI9cC5pbml0UGFzdGVEYXRhVHJhbnNmZXIoKSkscihhLGIsaCkpOmUmJiFhLl8uZm9yY2VQYXN0ZURpYWxvZyYmYS5zaG93Tm90aWZpY2F0aW9uKG4sXCJpbmZvXCIsYS5jb25maWcuY2xpcGJvYXJkX25vdGlmaWNhdGlvbkR1cmF0aW9uKTthLl8uZm9yY2VQYXN0ZURpYWxvZz0hMTthLmZpcmUoXCJhZnRlckNvbW1hbmRFeGVjXCIse25hbWU6XCJwYXN0ZVwiLGNvbW1hbmQ6ZCxyZXR1cm5WYWx1ZTohIWJ9KX1iPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYiYmbnVsbCE9PWI/Yjp7fTt2YXIgZD10aGlzLGU9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiLm5vdGlmaWNhdGlvbj9iLm5vdGlmaWNhdGlvbjohMCxoPWIudHlwZSxmPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGEubGFuZy5jb21tb24ua2V5Ym9hcmQsXG5hLmdldENvbW1hbmRLZXlzdHJva2UodGhpcykpLG49XCJzdHJpbmdcIj09PXR5cGVvZiBlP2U6YS5sYW5nLmNsaXBib2FyZC5wYXN0ZU5vdGlmaWNhdGlvbi5yZXBsYWNlKC8lMS8sJ1xceDNja2JkIGFyaWEtbGFiZWxcXHgzZFwiJytmLmFyaWErJ1wiXFx4M2UnK2YuZGlzcGxheStcIlxceDNjL2tiZFxceDNlXCIpLGY9XCJzdHJpbmdcIj09PXR5cGVvZiBiP2I6Yi5kYXRhVmFsdWU7aCYmITAhPT1hLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQmJlwiYWxsb3ctd29yZFwiIT09YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2EuXy5uZXh0UGFzdGVUeXBlPWg6ZGVsZXRlIGEuXy5uZXh0UGFzdGVUeXBlO1wic3RyaW5nXCI9PT10eXBlb2YgZj9jKHtkYXRhVmFsdWU6Zn0pOmEuZ2V0Q2xpcGJvYXJkRGF0YShjKX19fWZ1bmN0aW9uIGcoKXt1PTE7c2V0VGltZW91dChmdW5jdGlvbigpe3U9MH0sMTAwKX1mdW5jdGlvbiBoKCl7bT0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXttPTB9LDEwKX1mdW5jdGlvbiBlKGIpe3ZhciBjPVxuYS5kb2N1bWVudCxkPWMuZ2V0Qm9keSgpLGU9ITEsaD1mdW5jdGlvbigpe2U9ITB9O2Qub24oYixoKTs3PENLRURJVE9SLmVudi52ZXJzaW9uP2MuJC5leGVjQ29tbWFuZChiKTpjLiQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZXhlY0NvbW1hbmQoYik7ZC5yZW1vdmVMaXN0ZW5lcihiLGgpO3JldHVybiBlfWZ1bmN0aW9uIGYoKXtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLGMsZCxlO2IuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCYmKGM9Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSkmJihkPWIuZ2V0UmFuZ2VzKClbMF0sZT1hLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksZS5pbnNlcnRCZWZvcmUoYyksZC5zZXRTdGFydEJlZm9yZShlKSxkLnNldEVuZEFmdGVyKGMpLGIuc2VsZWN0UmFuZ2VzKFtkXSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2V0UGFyZW50KCkmJihlLnJlbW92ZSgpLGIuc2VsZWN0RWxlbWVudChjKSl9LFxuMCkpfX1mdW5jdGlvbiBsKGIsYyl7dmFyIGQ9YS5kb2N1bWVudCxlPWEuZWRpdGFibGUoKSxoPWZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LGY7aWYoIWQuZ2V0QnlJZChcImNrZV9wYXN0ZWJpblwiKSl7dmFyIG49YS5nZXRTZWxlY3Rpb24oKSxnPW4uY3JlYXRlQm9va21hcmtzKCk7Q0tFRElUT1IuZW52LmllJiZuLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKTt2YXIgaz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIUNLRURJVE9SLmVudi53ZWJraXQmJiFlLmlzKFwiYm9keVwiKXx8Q0tFRElUT1IuZW52LmllP1wiZGl2XCI6XCJib2R5XCIsZCk7ay5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9wYXN0ZWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSk7dmFyIGw9MCxkPWQuZ2V0V2luZG93KCk7Q0tFRElUT1IuZW52LndlYmtpdD8oZS5hcHBlbmQoayksay5hZGRDbGFzcyhcImNrZV9lZGl0YWJsZVwiKSxlLmlzKFwiYm9keVwiKXx8KGw9XCJzdGF0aWNcIiE9ZS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/XG5lOkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChlLiQub2Zmc2V0UGFyZW50KSxsPWwuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnkpKTplLmdldEFzY2VuZGFudChDS0VESVRPUi5lbnYuaWU/XCJib2R5XCI6XCJodG1sXCIsMSkuYXBwZW5kKGspO2suc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmQuZ2V0U2Nyb2xsUG9zaXRpb24oKS55LWwrMTArXCJweFwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0Ok1hdGgubWF4KDEsZC5nZXRWaWV3UGFuZVNpemUoKS5oZWlnaHQtMjApK1wicHhcIixvdmVyZmxvdzpcImhpZGRlblwiLG1hcmdpbjowLHBhZGRpbmc6MH0pO0NLRURJVE9SLmVudi5zYWZhcmkmJmsuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJ0ZXh0XCIpKTsobD1rLmdldFBhcmVudCgpLmlzUmVhZE9ubHkoKSk/KGsuc2V0T3BhY2l0eSgwKSxrLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKSk6ay5zZXRTdHlsZShcImx0clwiPT1hLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XG5cImxlZnRcIjpcInJpZ2h0XCIsXCItMTAwMDBweFwiKTthLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsaCxudWxsLG51bGwsMCk7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvKWY9ZS5vbmNlKFwiYmx1clwiLGgsbnVsbCxudWxsLC0xMDApO2wmJmsuZm9jdXMoKTtsPW5ldyBDS0VESVRPUi5kb20ucmFuZ2Uoayk7bC5zZWxlY3ROb2RlQ29udGVudHMoayk7dmFyIHQ9bC5zZWxlY3QoKTtDS0VESVRPUi5lbnYuaWUmJihmPWUub25jZShcImJsdXJcIixmdW5jdGlvbigpe2EubG9ja1NlbGVjdGlvbih0KX0pKTt2YXIgcT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7c2V0VGltZW91dChmdW5jdGlvbigpe0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9cSk7ZiYmZi5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmZS5mb2N1cygpO24uc2VsZWN0Qm9va21hcmtzKGcpO1xuay5yZW1vdmUoKTt2YXIgYjtDS0VESVRPUi5lbnYud2Via2l0JiYoYj1rLmdldEZpcnN0KCkpJiZiLmlzJiZiLmhhc0NsYXNzKFwiQXBwbGUtc3R5bGUtc3BhblwiKSYmKGs9Yik7YS5yZW1vdmVMaXN0ZW5lcihcInNlbGVjdGlvbkNoYW5nZVwiLGgpO2Moay5nZXRIdG1sKCkpfSwwKX19ZnVuY3Rpb24geSgpe2lmKFwicGFzdGVcIj09cC5tYWluUGFzdGVFdmVudClyZXR1cm4gYS5maXJlKFwiYmVmb3JlUGFzdGVcIix7dHlwZTpcImF1dG9cIixtZXRob2Q6XCJwYXN0ZVwifSksITE7YS5mb2N1cygpO2coKTt2YXIgYj1hLmZvY3VzTWFuYWdlcjtiLmxvY2soKTtpZihhLmVkaXRhYmxlKCkuZmlyZShwLm1haW5QYXN0ZUV2ZW50KSYmIWUoXCJwYXN0ZVwiKSlyZXR1cm4gYi51bmxvY2soKSwhMTtiLnVubG9jaygpO3JldHVybiEwfWZ1bmN0aW9uIG4oYil7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSlzd2l0Y2goYi5kYXRhLmtleUNvZGUpe2Nhc2UgQ0tFRElUT1IuQ1RSTCs4NjpjYXNlIENLRURJVE9SLlNISUZUKzQ1OmI9XG5hLmVkaXRhYmxlKCk7ZygpO1wicGFzdGVcIj09cC5tYWluUGFzdGVFdmVudCYmYi5maXJlKFwiYmVmb3JlcGFzdGVcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5DVFJMKzg4OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDY6YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDUwKX19ZnVuY3Rpb24gayhiKXt2YXIgYz17dHlwZTpcImF1dG9cIixtZXRob2Q6XCJwYXN0ZVwiLGRhdGFUcmFuc2ZlcjpwLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihiKX07Yy5kYXRhVHJhbnNmZXIuY2FjaGVEYXRhKCk7dmFyIGQ9ITEhPT1hLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGMpO2QmJnAuY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkKGMuZGF0YVRyYW5zZmVyLGEpPyhiLmRhdGEucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cihhLGMpfSwwKSk6bChiLGZ1bmN0aW9uKGIpe2MuZGF0YVZhbHVlPWIucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFxuXCJcIik7ZCYmcihhLGMpfSl9ZnVuY3Rpb24gdCgpe2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpe3ZhciBiPXEoXCJwYXN0ZVwiKTthLmdldENvbW1hbmQoXCJjdXRcIikuc2V0U3RhdGUocShcImN1dFwiKSk7YS5nZXRDb21tYW5kKFwiY29weVwiKS5zZXRTdGF0ZShxKFwiY29weVwiKSk7YS5nZXRDb21tYW5kKFwicGFzdGVcIikuc2V0U3RhdGUoYik7YS5maXJlKFwicGFzdGVTdGF0ZVwiLGIpfX1mdW5jdGlvbiBxKGIpe2lmKHYmJmIgaW57cGFzdGU6MSxjdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKFwicGFzdGVcIj09YilyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfT0ZGO2I9YS5nZXRTZWxlY3Rpb24oKTt2YXIgYz1iLmdldFJhbmdlcygpO3JldHVybiBiLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fDE9PWMubGVuZ3RoJiZjWzBdLmNvbGxhcHNlZD9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpDS0VESVRPUi5UUklTVEFURV9PRkZ9dmFyIHA9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsXG5tPTAsdT0wLHY9MDsoZnVuY3Rpb24oKXthLm9uKFwia2V5XCIsbik7YS5vbihcImNvbnRlbnREb21cIixiKTthLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7dj1hLmRhdGEuc2VsZWN0aW9uLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTt0KCl9KTtpZihhLmNvbnRleHRNZW51KXthLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGEsYil7dj1iLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtyZXR1cm57Y3V0OnEoXCJjdXRcIiksY29weTpxKFwiY29weVwiKSxwYXN0ZTpxKFwicGFzdGVcIil9fSk7dmFyIGM9bnVsbDthLm9uKFwibWVudVNob3dcIixmdW5jdGlvbigpe2MmJihjLnJlbW92ZUxpc3RlbmVyKCksYz1udWxsKTt2YXIgYj1hLmNvbnRleHRNZW51LmZpbmRJdGVtQnlDb21tYW5kTmFtZShcInBhc3RlXCIpO2ImJmIuZWxlbWVudCYmKGM9Yi5lbGVtZW50Lm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe2EuXy5mb3JjZVBhc3RlRGlhbG9nPSEwfSkpfSl9aWYoYS51aS5hZGRCdXR0b24pYS5vbmNlKFwiaW5zdGFuY2VSZWFkeVwiLFxuZnVuY3Rpb24oKXthLl8ucGFzdGVCdXR0b25zJiZDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGEuXy5wYXN0ZUJ1dHRvbnMsZnVuY3Rpb24oYil7aWYoYj1hLnVpLmdldChiKSlpZihiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYi5fLmlkKSliLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe2EuXy5mb3JjZVBhc3RlRGlhbG9nPSEwfSl9KX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGMsZCxlLGgsZil7dmFyIG49YS5sYW5nLmNsaXBib2FyZFtkXTthLmFkZENvbW1hbmQoZCxlKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oYyx7bGFiZWw6bixjb21tYW5kOmQsdG9vbGJhcjpcImNsaXBib2FyZCxcIitofSk7YS5hZGRNZW51SXRlbXMmJmEuYWRkTWVudUl0ZW0oZCx7bGFiZWw6bixjb21tYW5kOmQsZ3JvdXA6XCJjbGlwYm9hcmRcIixvcmRlcjpmfSl9YihcIkN1dFwiLFwiY3V0XCIsYyhcImN1dFwiKSwxMCwxKTtiKFwiQ29weVwiLFwiY29weVwiLGMoXCJjb3B5XCIpLDIwLDQpO2IoXCJQYXN0ZVwiLFxuXCJwYXN0ZVwiLGQoKSwzMCw4KTthLl8ucGFzdGVCdXR0b25zfHwoYS5fLnBhc3RlQnV0dG9ucz1bXSk7YS5fLnBhc3RlQnV0dG9ucy5wdXNoKFwiUGFzdGVcIil9KSgpO2EuZ2V0Q2xpcGJvYXJkRGF0YT1mdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuY2FuY2VsKCk7YyhhLmRhdGEpfWZ1bmN0aW9uIGUoYSl7YS5yZW1vdmVMaXN0ZW5lcigpO2EuY2FuY2VsKCk7Yyh7dHlwZTpmLGRhdGFWYWx1ZTphLmRhdGEuZGF0YVZhbHVlLGRhdGFUcmFuc2ZlcjphLmRhdGEuZGF0YVRyYW5zZmVyLG1ldGhvZDpcInBhc3RlXCJ9KX12YXIgaD0hMSxmPVwiYXV0b1wiO2N8fChjPWIsYj1udWxsKTthLm9uKFwiYmVmb3JlUGFzdGVcIixmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7aD0hMDtmPWEuZGF0YS50eXBlfSxudWxsLG51bGwsMUUzKTthLm9uKFwicGFzdGVcIixkLG51bGwsbnVsbCwwKTshMT09PXkoKSYmKGEucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZVwiLGQpLGEuXy5mb3JjZVBhc3RlRGlhbG9nJiZcbmgmJmEuZmlyZShcInBhc3RlRGlhbG9nXCIpPyhhLm9uKFwicGFzdGVEaWFsb2dDb21taXRcIixlKSxhLm9uKFwiZGlhbG9nSGlkZVwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmRhdGEucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZURpYWxvZ0NvbW1pdFwiLGUpO2EuZGF0YS5fLmNvbW1pdHRlZHx8YyhudWxsKX0pKTpjKG51bGwpKX19ZnVuY3Rpb24geihhKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXtpZighYS5tYXRjaCgvXltePF0qJC9nKSYmIWEubWF0Y2goL14oPGRpdj48YnIoID9cXC8pPz48XFwvZGl2Pnw8ZGl2PltePF0qPFxcL2Rpdj4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmllKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkmJiFhLm1hdGNoKC9eKDxwPihbXjxdfDxiciggP1xcLyk/PikqPFxcL3A+fChcXHJcXG4pKSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIGlmKENLRURJVE9SLmVudi5nZWNrbyl7aWYoIWEubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgcmV0dXJuXCJodG1sXCI7XG5yZXR1cm5cImh0bWxpZmllZHRleHRcIn1mdW5jdGlvbiBBKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4M2MvcFxceDNlXFx4M2NwXFx4M2VcIix+fihhLzIpKSsoMT09YSUyP1wiXFx4M2NiclxceDNlXCI6XCJcIil9Yj1iLnJlcGxhY2UoLyg/IVxcdTMwMDApXFxzKy9nLFwiIFwiKS5yZXBsYWNlKC8+ICs8L2csXCJcXHgzZVxceDNjXCIpLnJlcGxhY2UoLzxiciA/XFwvPi9naSxcIlxceDNjYnJcXHgzZVwiKTtiPWIucmVwbGFjZSgvPFxcLz9bQS1aXSs+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pO2lmKGIubWF0Y2goL15bXjxdJC8pKXJldHVybiBiO0NLRURJVE9SLmVudi53ZWJraXQmJi0xPGIuaW5kZXhPZihcIlxceDNjZGl2XFx4M2VcIikmJihiPWIucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XFwvZGl2PikpL2csXCJcXHgzY2JyXFx4M2VcIikucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2Pil7Mn0oPyEkKS9nLFwiXFx4M2NkaXZcXHgzZVxceDNjL2RpdlxceDNlXCIpLFxuYi5tYXRjaCgvPGRpdj4oPGJyPnwpPFxcL2Rpdj4vKSYmKGI9XCJcXHgzY3BcXHgzZVwiK2IucmVwbGFjZSgvKDxkaXY+KDxicj58KTxcXC9kaXY+KSsvZyxmdW5jdGlvbihhKXtyZXR1cm4gYyhhLnNwbGl0KFwiXFx4M2MvZGl2XFx4M2VcXHgzY2RpdlxceDNlXCIpLmxlbmd0aCsxKX0pK1wiXFx4M2MvcFxceDNlXCIpLGI9Yi5yZXBsYWNlKC88XFwvZGl2PjxkaXY+L2csXCJcXHgzY2JyXFx4M2VcIiksYj1iLnJlcGxhY2UoLzxcXC8/ZGl2Pi9nLFwiXCIpKTtDS0VESVRPUi5lbnYuZ2Vja28mJmEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKENLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC9ePGJyPjxicj4kLyxcIlxceDNjYnJcXHgzZVwiKSksLTE8Yi5pbmRleE9mKFwiXFx4M2NiclxceDNlXFx4M2NiclxceDNlXCIpJiYoYj1cIlxceDNjcFxceDNlXCIrYi5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5sZW5ndGgvNCl9KStcIlxceDNjL3BcXHgzZVwiKSk7cmV0dXJuIEIoYSxiKX1mdW5jdGlvbiBDKGEpe2Z1bmN0aW9uIGIoKXt2YXIgYT1cbnt9LGI7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkKVwiJFwiIT1iLmNoYXJBdCgwKSYmXCJkaXZcIiE9YiYmXCJzcGFuXCIhPWImJihhW2JdPTEpO3JldHVybiBhfXZhciBjPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oZCl7cmV0dXJuXCJwbGFpbi10ZXh0XCI9PWQ/Yy5wbGFpblRleHR8fChjLnBsYWluVGV4dD1uZXcgQ0tFRElUT1IuZmlsdGVyKGEsXCJiclwiKSk6XCJzZW1hbnRpYy1jb250ZW50XCI9PWQ/KChkPWMuc2VtYW50aWNDb250ZW50KXx8KGQ9bmV3IENLRURJVE9SLmZpbHRlcihhLHt9KSxkLmFsbG93KHskMTp7ZWxlbWVudHM6YigpLGF0dHJpYnV0ZXM6ITAsc3R5bGVzOiExLGNsYXNzZXM6ITF9fSksZD1jLnNlbWFudGljQ29udGVudD1kKSxkKTpkP25ldyBDS0VESVRPUi5maWx0ZXIoYSxkKTpudWxsfX19ZnVuY3Rpb24gdyhhLGIsYyl7Yj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGIpO3ZhciBkPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2MuYXBwbHlUbyhiLFxuITAsITEsYS5hY3RpdmVFbnRlck1vZGUpO2Iud3JpdGVIdG1sKGQpO3JldHVybiBkLmdldEh0bWwoKX1mdW5jdGlvbiBCKGEsYil7YS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2I9Yi5yZXBsYWNlKC8oPFxcL3A+PHA+KSsvZyxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4M2NiclxceDNlXCIsYS5sZW5ndGgvNyoyKX0pLnJlcGxhY2UoLzxcXC8/cD4vZyxcIlwiKTphLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWJiYoYj1iLnJlcGxhY2UoLzwoXFwvKT9wPi9nLFwiXFx4M2MkMWRpdlxceDNlXCIpKTtyZXR1cm4gYn1mdW5jdGlvbiBEKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2EuZGF0YS4kLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0PVwibm9uZVwifWZ1bmN0aW9uIEUoYSl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQ7YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYixjLGQpe2Muc2VsZWN0KCk7cihhLHtkYXRhVHJhbnNmZXI6ZCxcbm1ldGhvZDpcImRyb3BcIn0sMSk7ZC5zb3VyY2VFZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtkLnNvdXJjZUVkaXRvci5lZGl0YWJsZSgpLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGIpO2Quc291cmNlRWRpdG9yLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbYl0pO2Quc291cmNlRWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gZChjLGQpe2Muc2VsZWN0KCk7cihhLHtkYXRhVHJhbnNmZXI6ZCxtZXRob2Q6XCJkcm9wXCJ9LDEpO2IucmVzZXREcmFnRGF0YVRyYW5zZmVyKCl9ZnVuY3Rpb24gZyhiLGMsZCl7dmFyIGU9eyQ6Yi5kYXRhLiQsdGFyZ2V0OmIuZGF0YS5nZXRUYXJnZXQoKX07YyYmKGUuZHJhZ1JhbmdlPWMpO2QmJihlLmRyb3BSYW5nZT1kKTshMT09PWEuZmlyZShiLm5hbWUsZSkmJmIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGgoYSl7YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhPWEuZ2V0UGFyZW50KCkpO3JldHVybiBhLmdldENoaWxkQ291bnQoKX1cbnZhciBlPWEuZWRpdGFibGUoKSxmPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmdldERyb3BUYXJnZXQoYSksbD1hLnVpLnNwYWNlKFwidG9wXCIpLG09YS51aS5zcGFjZShcImJvdHRvbVwiKTtiLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudChsKTtiLnByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudChtKTtlLmF0dGFjaExpc3RlbmVyKGYsXCJkcmFnc3RhcnRcIixnKTtlLmF0dGFjaExpc3RlbmVyKGEsXCJkcmFnc3RhcnRcIixiLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixiLG51bGwsMSk7ZS5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oYyl7Yi5pbml0RHJhZ0RhdGFUcmFuc2ZlcihjLGEpfSxudWxsLG51bGwsMik7ZS5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oKXt2YXIgYz1iLmRyYWdSYW5nZT1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO0NLRURJVE9SLmVudi5pZSYmMTA+Q0tFRElUT1IuZW52LnZlcnNpb24mJihiLmRyYWdTdGFydENvbnRhaW5lckNoaWxkQ291bnQ9XG5jP2goYy5zdGFydENvbnRhaW5lcik6bnVsbCxiLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50PWM/aChjLmVuZENvbnRhaW5lcik6bnVsbCl9LG51bGwsbnVsbCwxMDApO2UuYXR0YWNoTGlzdGVuZXIoZixcImRyYWdlbmRcIixnKTtlLmF0dGFjaExpc3RlbmVyKGEsXCJkcmFnZW5kXCIsYi5pbml0RHJhZ0RhdGFUcmFuc2ZlcixiLG51bGwsMSk7ZS5hdHRhY2hMaXN0ZW5lcihhLFwiZHJhZ2VuZFwiLGIucmVzZXREcmFnRGF0YVRyYW5zZmVyLGIsbnVsbCwxMDApO2UuYXR0YWNoTGlzdGVuZXIoZixcImRyYWdvdmVyXCIsZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IuZW52LmVkZ2UpYS5kYXRhLnByZXZlbnREZWZhdWx0KCk7ZWxzZXt2YXIgYj1hLmRhdGEuZ2V0VGFyZ2V0KCk7YiYmYi5pcyYmYi5pcyhcImh0bWxcIik/YS5kYXRhLnByZXZlbnREZWZhdWx0KCk6Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0ZpbGVBcGlTdXBwb3J0ZWQmJmEuZGF0YS4kLmRhdGFUcmFuc2Zlci50eXBlcy5jb250YWlucyhcIkZpbGVzXCIpJiZcbmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfX0pO2UuYXR0YWNoTGlzdGVuZXIoZixcImRyb3BcIixmdW5jdGlvbihjKXtpZighYy5kYXRhLiQuZGVmYXVsdFByZXZlbnRlZCl7Yy5kYXRhLnByZXZlbnREZWZhdWx0KCk7dmFyIGQ9Yy5kYXRhLmdldFRhcmdldCgpO2lmKCFkLmlzUmVhZE9ubHkoKXx8ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXMoXCJodG1sXCIpKXt2YXIgZD1iLmdldFJhbmdlQXREcm9wUG9zaXRpb24oYyxhKSxlPWIuZHJhZ1JhbmdlO2QmJmcoYyxlLGQpfX19LG51bGwsbnVsbCw5OTk5KTtlLmF0dGFjaExpc3RlbmVyKGEsXCJkcm9wXCIsYi5pbml0RHJhZ0RhdGFUcmFuc2ZlcixiLG51bGwsMSk7ZS5hdHRhY2hMaXN0ZW5lcihhLFwiZHJvcFwiLGZ1bmN0aW9uKGUpe2lmKGU9ZS5kYXRhKXt2YXIgaD1lLmRyb3BSYW5nZSxmPWUuZHJhZ1JhbmdlLGc9ZS5kYXRhVHJhbnNmZXI7Zy5nZXRUcmFuc2ZlclR5cGUoYSk9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw/XG5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5pbnRlcm5hbERyb3AoZixoLGcsYSl9LDApOmcuZ2V0VHJhbnNmZXJUeXBlKGEpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM/YyhmLGgsZyk6ZChoLGcpfX0sbnVsbCxudWxsLDk5OTkpfSl9dmFyIG07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJjbGlwYm9hcmRcIix7cmVxdWlyZXM6XCJkaWFsb2csbm90aWZpY2F0aW9uLHRvb2xiYXJcIixpbml0OmZ1bmN0aW9uKGEpe3ZhciBiLGM9QyhhKTthLmNvbmZpZy5mb3JjZVBhc3RlQXNQbGFpblRleHQ/Yj1cInBsYWluLXRleHRcIjphLmNvbmZpZy5wYXN0ZUZpbHRlcj9iPWEuY29uZmlnLnBhc3RlRmlsdGVyOiFDS0VESVRPUi5lbnYud2Via2l0fHxcInBhc3RlRmlsdGVyXCJpbiBhLmNvbmZpZ3x8KGI9XCJzZW1hbnRpYy1jb250ZW50XCIpO2EucGFzdGVGaWx0ZXI9Yy5nZXQoYik7eChhKTtFKGEpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJwYXN0ZVwiLENLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXG5cImRpYWxvZ3MvcGFzdGUuanNcIikpO2lmKENLRURJVE9SLmVudi5nZWNrbyl7dmFyIGQ9W1wiaW1hZ2UvcG5nXCIsXCJpbWFnZS9qcGVnXCIsXCJpbWFnZS9naWZcIl0sZzthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEsZj1jLmRhdGFUcmFuc2ZlcjtpZighYy5kYXRhVmFsdWUmJlwicGFzdGVcIj09Yy5tZXRob2QmJmYmJjE9PWYuZ2V0RmlsZXNDb3VudCgpJiZnIT1mLmlkJiYoZj1mLmdldEZpbGUoMCksLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZCxmLnR5cGUpKSl7dmFyIGw9bmV3IEZpbGVSZWFkZXI7bC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5kYXRhLmRhdGFWYWx1ZT0nXFx4M2NpbWcgc3JjXFx4M2RcIicrbC5yZXN1bHQrJ1wiIC9cXHgzZSc7YS5maXJlKFwicGFzdGVcIixiLmRhdGEpfSwhMSk7bC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmdW5jdGlvbigpe2EuZmlyZShcInBhc3RlXCIsYi5kYXRhKX0sITEpO2wuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsXG5mdW5jdGlvbigpe2EuZmlyZShcInBhc3RlXCIsYi5kYXRhKX0sITEpO2wucmVhZEFzRGF0YVVSTChmKTtnPWMuZGF0YVRyYW5zZmVyLmlkO2Iuc3RvcCgpfX0sbnVsbCxudWxsLDEpfWEub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5kYXRhVHJhbnNmZXJ8fChiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgYz1iLmRhdGEuZGF0YVRyYW5zZmVyLGQ9Yy5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGQpYi5kYXRhLmRhdGFWYWx1ZT1kLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoZD1jLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChkKSxiLmRhdGEudHlwZT1cInRleHRcIn19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLFxuYz1DS0VESVRPUi5kdGQuJGJsb2NrOy0xPGIuaW5kZXhPZihcIkFwcGxlLVwiKSYmKGI9Yi5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwiPiZuYnNwOzxcXC9zcGFuPi9naSxcIiBcIiksXCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtdGFiLXNwYW5cIltePl0qPihbXjxdKik8XFwvc3Bhbj4vZ2ksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXCJcIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz1cIkFwcGxlLVteXCJdKlwiL2dpLFwiJDFcIikpO1xuaWYoYi5tYXRjaCgvXjxbXjxdK2NrZV8oZWRpdGFibGV8Y29udGVudHMpL2kpKXt2YXIgZCxnLG49bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2ZvcihuLnNldEh0bWwoYik7MT09bi5nZXRDaGlsZENvdW50KCkmJihkPW4uZ2V0Rmlyc3QoKSkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZC5oYXNDbGFzcyhcImNrZV9lZGl0YWJsZVwiKXx8ZC5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KW49Zz1kO2cmJihiPWcuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixkKXtyZXR1cm4gZC50b0xvd2VyQ2FzZSgpaW4gYz8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitkKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQgaW5cbmM/KGEuZGF0YS5lbmRzV2l0aEVPTD0xLFwiXFx4M2MvXCIrZCtcIlxceDNlXCIpOmJ9KTpDS0VESVRPUi5lbnYuZ2Vja28mJihiPWIucmVwbGFjZSgvKFxccyk8YnI+JC8sXCIkMVwiKSk7YS5kYXRhLmRhdGFWYWx1ZT1ifSxudWxsLG51bGwsMyk7YS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGQ9YS5fLm5leHRQYXN0ZVR5cGV8fGIudHlwZSxmPWIuZGF0YVZhbHVlLGcsbT1hLmNvbmZpZy5jbGlwYm9hcmRfZGVmYXVsdENvbnRlbnRUeXBlfHxcImh0bWxcIixuPWIuZGF0YVRyYW5zZmVyLmdldFRyYW5zZmVyVHlwZShhKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTCxrPSEwPT09YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0O2c9XCJodG1sXCI9PWR8fFwiaHRtbFwiPT1iLnByZVNuaWZmaW5nP1wiaHRtbFwiOnooZik7ZGVsZXRlIGEuXy5uZXh0UGFzdGVUeXBlO1wiaHRtbGlmaWVkdGV4dFwiPT1nJiYoZj1BKGEuY29uZmlnLGYpKTtpZihcInRleHRcIj09ZCYmXCJodG1sXCI9PWcpZj1cbncoYSxmLGMuZ2V0KFwicGxhaW4tdGV4dFwiKSk7ZWxzZSBpZihuJiZhLnBhc3RlRmlsdGVyJiYhYi5kb250RmlsdGVyfHxrKWY9dyhhLGYsYS5wYXN0ZUZpbHRlcik7Yi5zdGFydHNXaXRoRU9MJiYoZj0nXFx4M2NiciBkYXRhLWNrZS1lb2xcXHgzZFwiMVwiXFx4M2UnK2YpO2IuZW5kc1dpdGhFT0wmJihmKz0nXFx4M2NiciBkYXRhLWNrZS1lb2xcXHgzZFwiMVwiXFx4M2UnKTtcImF1dG9cIj09ZCYmKGQ9XCJodG1sXCI9PWd8fFwiaHRtbFwiPT1tP1wiaHRtbFwiOlwidGV4dFwiKTtiLnR5cGU9ZDtiLmRhdGFWYWx1ZT1mO2RlbGV0ZSBiLnByZVNuaWZmaW5nO2RlbGV0ZSBiLnN0YXJ0c1dpdGhFT0w7ZGVsZXRlIGIuZW5kc1dpdGhFT0x9LG51bGwsbnVsbCw2KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiPWIuZGF0YTtiLmRhdGFWYWx1ZSYmKGEuaW5zZXJ0SHRtbChiLmRhdGFWYWx1ZSxiLnR5cGUsYi5yYW5nZSksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcImFmdGVyUGFzdGVcIil9LDApKX0sbnVsbCxudWxsLFxuMUUzKTthLm9uKFwicGFzdGVEaWFsb2dcIixmdW5jdGlvbihiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5vcGVuRGlhbG9nKFwicGFzdGVcIixiLmRhdGEpfSwwKX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkPXtpc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQ6KCFDS0VESVRPUi5lbnYuaWV8fDE2PD1DS0VESVRPUi5lbnYudmVyc2lvbikmJiFDS0VESVRPUi5lbnYuaU9TLGlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkOiFDS0VESVRPUi5lbnYuaWV8fDE2PD1DS0VESVRPUi5lbnYudmVyc2lvbixpc0ZpbGVBcGlTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZXx8OTxDS0VESVRPUi5lbnYudmVyc2lvbixtYWluUGFzdGVFdmVudDpDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9cImJlZm9yZXBhc3RlXCI6XCJwYXN0ZVwiLGFkZFBhc3RlQnV0dG9uOmZ1bmN0aW9uKGEsYixjKXthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKGIsYyksYS5fLnBhc3RlQnV0dG9uc3x8XG4oYS5fLnBhc3RlQnV0dG9ucz1bXSksYS5fLnBhc3RlQnV0dG9ucy5wdXNoKGIpKX0sY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ2V0VHJhbnNmZXJUeXBlKGIpIT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMfHxDS0VESVRPUi5lbnYuY2hyb21lJiYhYS5pc0VtcHR5KCl8fENLRURJVE9SLmVudi5nZWNrbyYmKGEuZ2V0RGF0YShcInRleHQvaHRtbFwiKXx8YS5nZXRGaWxlc0NvdW50KCkpfHxDS0VESVRPUi5lbnYuc2FmYXJpJiY2MDM8PUNLRURJVE9SLmVudi52ZXJzaW9uJiYhQ0tFRElUT1IuZW52LmlPU3x8Q0tFRElUT1IuZW52LmVkZ2UmJjE2PD1DS0VESVRPUi5lbnYudmVyc2lvbj8hMDohMX0sZ2V0RHJvcFRhcmdldDpmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRhYmxlKCk7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8Yi5pc0lubGluZSgpP2I6YS5kb2N1bWVudH0sZml4U3BsaXROb2Rlc0FmdGVyRHJvcDpmdW5jdGlvbihhLFxuYixjLGQpe2Z1bmN0aW9uIGcoYSxjLGQpe3ZhciBnPWE7Zy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnPWEuZ2V0UGFyZW50KCkpO2lmKGcuZXF1YWxzKGMpJiZkIT1jLmdldENoaWxkQ291bnQoKSlyZXR1cm4gYT1iLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSksYz1iLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQpLGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGQ9YS5nZXRMZW5ndGgoKSxhLnNldFRleHQoYS5nZXRUZXh0KCkrYy5nZXRUZXh0KCkpLGMucmVtb3ZlKCksYi5zZXRTdGFydChhLGQpLGIuY29sbGFwc2UoITApKSwhMH12YXIgaD1iLnN0YXJ0Q29udGFpbmVyO1wibnVtYmVyXCI9PXR5cGVvZiBkJiZcIm51bWJlclwiPT10eXBlb2YgYyYmaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihnKGEuc3RhcnRDb250YWluZXIsaCxjKXx8ZyhhLmVuZENvbnRhaW5lcixcbmgsZCkpfSxpc0Ryb3BSYW5nZUFmZmVjdGVkQnlEcmFnUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLnN0YXJ0Q29udGFpbmVyLGQ9Yi5lbmRPZmZzZXQ7cmV0dXJuIGEuZW5kQ29udGFpbmVyLmVxdWFscyhjKSYmYS5lbmRPZmZzZXQ8PWR8fGEuc3RhcnRDb250YWluZXIuZ2V0UGFyZW50KCkuZXF1YWxzKGMpJiZhLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCk8ZHx8YS5lbmRDb250YWluZXIuZ2V0UGFyZW50KCkuZXF1YWxzKGMpJiZhLmVuZENvbnRhaW5lci5nZXRJbmRleCgpPGQ/ITA6ITF9LGludGVybmFsRHJvcDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxoPWQuZWRpdGFibGUoKSxlLGY7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2QuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtkb250VXBkYXRlOjF9KTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiZ0aGlzLmZpeFNwbGl0Tm9kZXNBZnRlckRyb3AoYSxiLGcuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudCxcbmcuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQpOyhmPXRoaXMuaXNEcm9wUmFuZ2VBZmZlY3RlZEJ5RHJhZ1JhbmdlKGEsYikpfHwoZT1hLmNyZWF0ZUJvb2ttYXJrKCExKSk7Zz1iLmNsb25lKCkuY3JlYXRlQm9va21hcmsoITEpO2YmJihlPWEuY3JlYXRlQm9va21hcmsoITEpKTthPWUuc3RhcnROb2RlO2I9ZS5lbmROb2RlO2Y9Zy5zdGFydE5vZGU7YiYmYS5nZXRQb3NpdGlvbihmKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmIuZ2V0UG9zaXRpb24oZikmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiZmLmluc2VydEJlZm9yZShhKTthPWQuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb0Jvb2ttYXJrKGUpO2guZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYSwxKTtiPWQuY3JlYXRlUmFuZ2UoKTtiLm1vdmVUb0Jvb2ttYXJrKGcpO3IoZCx7ZGF0YVRyYW5zZmVyOmMsbWV0aG9kOlwiZHJvcFwiLHJhbmdlOmJ9LDEpO2QuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfSxnZXRSYW5nZUF0RHJvcFBvc2l0aW9uOmZ1bmN0aW9uKGEsXG5iKXt2YXIgYz1hLmRhdGEuJCxkPWMuY2xpZW50WCxnPWMuY2xpZW50WSxoPWIuZ2V0U2VsZWN0aW9uKCEwKS5nZXRSYW5nZXMoKVswXSxlPWIuY3JlYXRlUmFuZ2UoKTtpZihhLmRhdGEudGVzdFJhbmdlKXJldHVybiBhLmRhdGEudGVzdFJhbmdlO2lmKGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQmJmIuZG9jdW1lbnQuJC5jYXJldFJhbmdlRnJvbVBvaW50KGQsZykpYz1iLmRvY3VtZW50LiQuY2FyZXRSYW5nZUZyb21Qb2ludChkLGcpLGUuc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5zdGFydENvbnRhaW5lciksYy5zdGFydE9mZnNldCksZS5jb2xsYXBzZSghMCk7ZWxzZSBpZihjLnJhbmdlUGFyZW50KWUuc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5yYW5nZVBhcmVudCksYy5yYW5nZU9mZnNldCksZS5jb2xsYXBzZSghMCk7ZWxzZXtpZihDS0VESVRPUi5lbnYuaWUmJjg8Q0tFRElUT1IuZW52LnZlcnNpb24mJmgmJmIuZWRpdGFibGUoKS5oYXNGb2N1cylyZXR1cm4gaDtcbmlmKGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKXtiLmZvY3VzKCk7Yz1iLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtmb3IodmFyIGY9ITEsbD0wOzIwPmwmJiFmO2wrKyl7aWYoIWYpdHJ5e2MubW92ZVRvUG9pbnQoZCxnLWwpLGY9ITB9Y2F0Y2gobSl7fWlmKCFmKXRyeXtjLm1vdmVUb1BvaW50KGQsZytsKSxmPSEwfWNhdGNoKG4pe319aWYoZil7dmFyIGs9XCJja2UtdGVtcC1cIisobmV3IERhdGUpLmdldFRpbWUoKTtjLnBhc3RlSFRNTCgnXFx4M2NzcGFuIGlkXFx4M2RcIicraysnXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO3ZhciB0PWIuZG9jdW1lbnQuZ2V0QnlJZChrKTtlLm1vdmVUb1Bvc2l0aW9uKHQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTt0LnJlbW92ZSgpfWVsc2V7dmFyIHE9Yi5kb2N1bWVudC4kLmVsZW1lbnRGcm9tUG9pbnQoZCxnKSxwPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChxKSxyO2lmKHAuZXF1YWxzKGIuZWRpdGFibGUoKSl8fFxuXCJodG1sXCI9PXAuZ2V0TmFtZSgpKXJldHVybiBoJiZoLnN0YXJ0Q29udGFpbmVyJiYhaC5zdGFydENvbnRhaW5lci5lcXVhbHMoYi5lZGl0YWJsZSgpKT9oOm51bGw7cj1wLmdldENsaWVudFJlY3QoKTtkPHIubGVmdD9lLnNldFN0YXJ0QXQocCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk6ZS5zZXRTdGFydEF0KHAsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZS5jb2xsYXBzZSghMCl9fWNhdGNoKHUpe3JldHVybiBudWxsfX1lbHNlIHJldHVybiBudWxsfXJldHVybiBlfSxpbml0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbihhLGIpe3ZhciBjPWEuZGF0YS4kP2EuZGF0YS4kLmRhdGFUcmFuc2ZlcjpudWxsLGQ9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGMsYik7XCJkcmFnc3RhcnRcIj09PWEubmFtZSYmZC5zdG9yZUlkKCk7Yz90aGlzLmRyYWdEYXRhJiZkLmlkPT10aGlzLmRyYWdEYXRhLmlkP2Q9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPWQ6dGhpcy5kcmFnRGF0YT9cbmQ9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPWQ7YS5kYXRhLmRhdGFUcmFuc2Zlcj1kfSxyZXNldERyYWdEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oKXt0aGlzLmRyYWdEYXRhPW51bGx9LGluaXRQYXN0ZURhdGFUcmFuc2ZlcjpmdW5jdGlvbihhLGIpe2lmKHRoaXMuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkKXtpZihhJiZhLmRhdGEmJmEuZGF0YS4kKXt2YXIgYz1hLmRhdGEuJC5jbGlwYm9hcmREYXRhLGQ9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGMsYik7XCJjb3B5XCIhPT1hLm5hbWUmJlwiY3V0XCIhPT1hLm5hbWV8fGQuc3RvcmVJZCgpO3RoaXMuY29weUN1dERhdGEmJmQuaWQ9PXRoaXMuY29weUN1dERhdGEuaWQ/KGQ9dGhpcy5jb3B5Q3V0RGF0YSxkLiQ9Yyk6dGhpcy5jb3B5Q3V0RGF0YT1kO3JldHVybiBkfXJldHVybiBuZXcgdGhpcy5kYXRhVHJhbnNmZXIobnVsbCxiKX1yZXR1cm4gbmV3IHRoaXMuZGF0YVRyYW5zZmVyKENLRURJVE9SLmVudi5lZGdlJiZhJiZhLmRhdGEuJCYmXG5hLmRhdGEuJC5jbGlwYm9hcmREYXRhfHxudWxsLGIpfSxwcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQ6ZnVuY3Rpb24oYSl7YSYmYS5vbihcImRyYWdvdmVyXCIsRCl9fTttPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkP1wiY2tlL2lkXCI6XCJUZXh0XCI7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyPWZ1bmN0aW9uKGEsYil7YSYmKHRoaXMuJD1hKTt0aGlzLl89e21ldGFSZWdFeHA6L148bWV0YS4qPz4vaSxib2R5UmVnRXhwOi88Ym9keSg/OltcXHNcXFNdKj8pPihbXFxzXFxTXSopPFxcL2JvZHk+L2ksZnJhZ21lbnRSZWdFeHA6L1xceDNjIS0tKD86U3RhcnR8RW5kKUZyYWdtZW50LS1cXHgzZS9nLGRhdGE6e30sZmlsZXM6W10sbmF0aXZlSHRtbENhY2hlOlwiXCIsbm9ybWFsaXplVHlwZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtyZXR1cm5cInRleHRcIj09YXx8XCJ0ZXh0L3BsYWluXCI9PWE/XCJUZXh0XCI6XCJ1cmxcIj09YT9cblwiVVJMXCI6YX19O3RoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlcj1uZXcgQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIodGhpcyk7dGhpcy5pZD10aGlzLmdldERhdGEobSk7dGhpcy5pZHx8KHRoaXMuaWQ9XCJUZXh0XCI9PW0/XCJcIjpcImNrZS1cIitDS0VESVRPUi50b29scy5nZXRVbmlxdWVJZCgpKTtiJiYodGhpcy5zb3VyY2VFZGl0b3I9Yix0aGlzLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixiLmdldFNlbGVjdGVkSHRtbCgxKSksXCJUZXh0XCI9PW18fHRoaXMuZ2V0RGF0YShcInRleHQvcGxhaW5cIil8fHRoaXMuc2V0RGF0YShcInRleHQvcGxhaW5cIixiLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpKSl9O0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw9MTtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM9MjtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMPTM7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyLnByb3RvdHlwZT1cbntnZXREYXRhOmZ1bmN0aW9uKGEsYil7YT10aGlzLl8ubm9ybWFsaXplVHlwZShhKTt2YXIgYz1cInRleHQvaHRtbFwiPT1hJiZiP3RoaXMuXy5uYXRpdmVIdG1sQ2FjaGU6dGhpcy5fLmRhdGFbYV07aWYodm9pZCAwPT09Y3x8bnVsbD09PWN8fFwiXCI9PT1jKXtpZih0aGlzLl8uZmFsbGJhY2tEYXRhVHJhbnNmZXIuaXNSZXF1aXJlZCgpKWM9dGhpcy5fLmZhbGxiYWNrRGF0YVRyYW5zZmVyLmdldERhdGEoYSxiKTtlbHNlIHRyeXtjPXRoaXMuJC5nZXREYXRhKGEpfHxcIlwifWNhdGNoKGQpe2M9XCJcIn1cInRleHQvaHRtbFwiIT1hfHxifHwoYz10aGlzLl9zdHJpcEh0bWwoYykpfVwiVGV4dFwiPT1hJiZDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZ2V0RmlsZXNDb3VudCgpJiZcImZpbGU6Ly9cIj09Yy5zdWJzdHJpbmcoMCw3KSYmKGM9XCJcIik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBjKXZhciBnPWMuaW5kZXhPZihcIlxceDNjL2h0bWxcXHgzZVwiKSxjPS0xIT09Zz9jLnN1YnN0cmluZygwLGcrNyk6YztyZXR1cm4gY30sXG5zZXREYXRhOmZ1bmN0aW9uKGEsYil7YT10aGlzLl8ubm9ybWFsaXplVHlwZShhKTtcInRleHQvaHRtbFwiPT1hPyh0aGlzLl8uZGF0YVthXT10aGlzLl9zdHJpcEh0bWwoYiksdGhpcy5fLm5hdGl2ZUh0bWxDYWNoZT1iKTp0aGlzLl8uZGF0YVthXT1iO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkfHxcIlVSTFwiPT1hfHxcIlRleHRcIj09YSlpZihcIlRleHRcIj09bSYmXCJUZXh0XCI9PWEmJih0aGlzLmlkPWIpLHRoaXMuXy5mYWxsYmFja0RhdGFUcmFuc2Zlci5pc1JlcXVpcmVkKCkpdGhpcy5fLmZhbGxiYWNrRGF0YVRyYW5zZmVyLnNldERhdGEoYSxiKTtlbHNlIHRyeXt0aGlzLiQuc2V0RGF0YShhLGIpfWNhdGNoKGMpe319LHN0b3JlSWQ6ZnVuY3Rpb24oKXtcIlRleHRcIiE9PW0mJnRoaXMuc2V0RGF0YShtLHRoaXMuaWQpfSxnZXRUcmFuc2ZlclR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc291cmNlRWRpdG9yP3RoaXMuc291cmNlRWRpdG9yPT1cbmE/Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTDpDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTH0sY2FjaGVEYXRhOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthPWIuXy5ub3JtYWxpemVUeXBlKGEpO3ZhciBjPWIuZ2V0RGF0YShhKTtcInRleHQvaHRtbFwiPT1hJiYoYi5fLm5hdGl2ZUh0bWxDYWNoZT1iLmdldERhdGEoYSwhMCksYz1iLl9zdHJpcEh0bWwoYykpO2MmJihiLl8uZGF0YVthXT1jKX1pZih0aGlzLiQpe3ZhciBiPXRoaXMsYyxkO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkKXtpZih0aGlzLiQudHlwZXMpZm9yKGM9MDtjPHRoaXMuJC50eXBlcy5sZW5ndGg7YysrKWEodGhpcy4kLnR5cGVzW2NdKX1lbHNlIGEoXCJUZXh0XCIpLGEoXCJVUkxcIik7ZD10aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKTtpZih0aGlzLiQmJnRoaXMuJC5maWxlc3x8XG5kKXt0aGlzLl8uZmlsZXM9W107aWYodGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoKWZvcihjPTA7Yzx0aGlzLiQuZmlsZXMubGVuZ3RoO2MrKyl0aGlzLl8uZmlsZXMucHVzaCh0aGlzLiQuZmlsZXNbY10pOzA9PT10aGlzLl8uZmlsZXMubGVuZ3RoJiZkJiZ0aGlzLl8uZmlsZXMucHVzaChkKX19fSxnZXRGaWxlc0NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5maWxlcy5sZW5ndGg/dGhpcy5fLmZpbGVzLmxlbmd0aDp0aGlzLiQmJnRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aD90aGlzLiQuZmlsZXMubGVuZ3RoOnRoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpPzE6MH0sZ2V0RmlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmZpbGVzLmxlbmd0aD90aGlzLl8uZmlsZXNbYV06dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/dGhpcy4kLmZpbGVzW2FdOjA9PT1hP3RoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpOlxudm9pZCAwfSxpc0VtcHR5OmZ1bmN0aW9uKCl7dmFyIGE9e30sYjtpZih0aGlzLmdldEZpbGVzQ291bnQoKSlyZXR1cm4hMTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKENLRURJVE9SLnRvb2xzLm9iamVjdEtleXModGhpcy5fLmRhdGEpLGZ1bmN0aW9uKGIpe2FbYl09MX0pO2lmKHRoaXMuJClpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcih2YXIgYz0wO2M8dGhpcy4kLnR5cGVzLmxlbmd0aDtjKyspYVt0aGlzLiQudHlwZXNbY11dPTF9ZWxzZSBhLlRleHQ9MSxhLlVSTD0xO1wiVGV4dFwiIT1tJiYoYVttXT0wKTtmb3IoYiBpbiBhKWlmKGFbYl0mJlwiXCIhPT10aGlzLmdldERhdGEoYikpcmV0dXJuITE7cmV0dXJuITB9LF9nZXRJbWFnZUZyb21DbGlwYm9hcmQ6ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLiQmJnRoaXMuJC5pdGVtcyYmdGhpcy4kLml0ZW1zWzBdKXRyeXtpZigoYT10aGlzLiQuaXRlbXNbMF0uZ2V0QXNGaWxlKCkpJiZcbmEudHlwZSlyZXR1cm4gYX1jYXRjaChiKXt9fSxfc3RyaXBIdG1sOmZ1bmN0aW9uKGEpe2lmKGEmJmEubGVuZ3RoKXthPWEucmVwbGFjZSh0aGlzLl8ubWV0YVJlZ0V4cCxcIlwiKTt2YXIgYj10aGlzLl8uYm9keVJlZ0V4cC5leGVjKGEpO2ImJmIubGVuZ3RoJiYoYT1iWzFdLGE9YS5yZXBsYWNlKHRoaXMuXy5mcmFnbWVudFJlZ0V4cCxcIlwiKSl9cmV0dXJuIGF9fTtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlcj1mdW5jdGlvbihhKXt0aGlzLl9kYXRhVHJhbnNmZXI9YTt0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlPVwidGV4dC9odG1sXCJ9O0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkPW51bGw7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIuX2N1c3RvbVR5cGVzPVtdO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmZhbGxiYWNrRGF0YVRyYW5zZmVyLnByb3RvdHlwZT1cbntpc1JlcXVpcmVkOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZmFsbGJhY2tEYXRhVHJhbnNmZXIsYj10aGlzLl9kYXRhVHJhbnNmZXIuJDtpZihudWxsPT09YS5faXNDdXN0b21NaW1lVHlwZVN1cHBvcnRlZClpZihiKXthLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkPSExO2lmKENLRURJVE9SLmVudi5lZGdlJiYxNzw9Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuITA7dHJ5e2Iuc2V0RGF0YShcImNrZS9taW1ldHlwZXRlc3RcIixcImNrZSB0ZXN0IHZhbHVlXCIpLGEuX2lzQ3VzdG9tTWltZVR5cGVTdXBwb3J0ZWQ9XCJja2UgdGVzdCB2YWx1ZVwiPT09Yi5nZXREYXRhKFwiY2tlL21pbWV0eXBldGVzdFwiKSxiLmNsZWFyRGF0YShcImNrZS9taW1ldHlwZXRlc3RcIil9Y2F0Y2goYyl7fX1lbHNlIHJldHVybiExO3JldHVybiFhLl9pc0N1c3RvbU1pbWVUeXBlU3VwcG9ydGVkfSxnZXREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZ2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLFxuITApO2lmKGIpcmV0dXJuIGM7dmFyIGM9dGhpcy5fZXh0cmFjdERhdGFDb21tZW50KGMpLGQ9bnVsbCxkPWE9PT10aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlP2MuY29udGVudDpjLmRhdGEmJmMuZGF0YVthXT9jLmRhdGFbYV06dGhpcy5fZ2V0RGF0YShhLCEwKTtyZXR1cm4gbnVsbCE9PWQ/ZDpcIlwifSxzZXREYXRhOmZ1bmN0aW9uKGEsYil7dmFyIGM9YT09PXRoaXMuX2N1c3RvbURhdGFGYWxsYmFja1R5cGU7YyYmKGI9dGhpcy5fYXBwbHlEYXRhQ29tbWVudChiLHRoaXMuX2dldEZhbGxiYWNrVHlwZURhdGEoKSkpO3ZhciBkPWIsZz10aGlzLl9kYXRhVHJhbnNmZXIuJDt0cnl7Zy5zZXREYXRhKGEsZCksYyYmKHRoaXMuX2RhdGFUcmFuc2Zlci5fLm5hdGl2ZUh0bWxDYWNoZT1kKX1jYXRjaChoKXtpZih0aGlzLl9pc1Vuc3VwcG9ydGVkTWltZVR5cGVFcnJvcihoKSl7Yz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2ZlcjstMT09PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYy5fY3VzdG9tVHlwZXMsXG5hKSYmYy5fY3VzdG9tVHlwZXMucHVzaChhKTt2YXIgYz10aGlzLl9nZXRGYWxsYmFja1R5cGVDb250ZW50KCksZT10aGlzLl9nZXRGYWxsYmFja1R5cGVEYXRhKCk7ZVthXT1kO3RyeXtkPXRoaXMuX2FwcGx5RGF0YUNvbW1lbnQoYyxlKSxnLnNldERhdGEodGhpcy5fY3VzdG9tRGF0YUZhbGxiYWNrVHlwZSxkKSx0aGlzLl9kYXRhVHJhbnNmZXIuXy5uYXRpdmVIdG1sQ2FjaGU9ZH1jYXRjaChmKXtkPVwiXCJ9fX1yZXR1cm4gZH0sX2dldERhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9kYXRhVHJhbnNmZXIuXy5kYXRhO2lmKCFiJiZjW2FdKXJldHVybiBjW2FdO3RyeXtyZXR1cm4gdGhpcy5fZGF0YVRyYW5zZmVyLiQuZ2V0RGF0YShhKX1jYXRjaChkKXtyZXR1cm4gbnVsbH19LF9nZXRGYWxsYmFja1R5cGVDb250ZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YVRyYW5zZmVyLl8uZGF0YVt0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlXTthfHwoYT10aGlzLl9leHRyYWN0RGF0YUNvbW1lbnQodGhpcy5fZ2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLFxuITApKS5jb250ZW50KTtyZXR1cm4gYX0sX2dldEZhbGxiYWNrVHlwZURhdGE6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5mYWxsYmFja0RhdGFUcmFuc2Zlci5fY3VzdG9tVHlwZXMsYj10aGlzLl9leHRyYWN0RGF0YUNvbW1lbnQodGhpcy5fZ2V0RGF0YSh0aGlzLl9jdXN0b21EYXRhRmFsbGJhY2tUeXBlLCEwKSkuZGF0YXx8e30sYz10aGlzLl9kYXRhVHJhbnNmZXIuXy5kYXRhO0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goYSxmdW5jdGlvbihhKXt2b2lkIDAhPT1jW2FdP2JbYV09Y1thXTp2b2lkIDAhPT1iW2FdJiYoYlthXT1iW2FdKX0sdGhpcyk7cmV0dXJuIGJ9LF9pc1Vuc3VwcG9ydGVkTWltZVR5cGVFcnJvcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5tZXNzYWdlJiYtMSE9PWEubWVzc2FnZS5zZWFyY2goL2VsZW1lbnQgbm90IGZvdW5kL2dpKX0sX2V4dHJhY3REYXRhQ29tbWVudDpmdW5jdGlvbihhKXt2YXIgYj17ZGF0YTpudWxsLGNvbnRlbnQ6YXx8XG5cIlwifTtpZihhJiYxNjxhLmxlbmd0aCl7dmFyIGM7KGM9L1xceDNjIS0tY2tlLWRhdGE6KC4qPyktLVxceDNlL2cuZXhlYyhhKSkmJmNbMV0mJihiLmRhdGE9SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoY1sxXSkpLGIuY29udGVudD1hLnJlcGxhY2UoY1swXSxcIlwiKSl9cmV0dXJuIGJ9LF9hcHBseURhdGFDb21tZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9XCJcIjtiJiZDS0VESVRPUi50b29scy5vYmplY3RLZXlzKGIpLmxlbmd0aCYmKGM9XCJcXHgzYyEtLWNrZS1kYXRhOlwiK2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShiKSkrXCItLVxceDNlXCIpO3JldHVybiBjKyhhJiZhLmxlbmd0aD9hOlwiXCIpfX19KSgpO0NLRURJVE9SLmNvbmZpZy5jbGlwYm9hcmRfbm90aWZpY2F0aW9uRHVyYXRpb249MUU0OyhmdW5jdGlvbigpe2Z1bmN0aW9uIHgoYSxlLGIpe2I9YS5jb25maWcuZm9yY2VFbnRlck1vZGV8fGI7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSl7ZXx8KGU9YS5hY3RpdmVFbnRlck1vZGUpO3ZhciBnPWEuZWxlbWVudFBhdGgoKTtnJiYhZy5pc0NvbnRleHRGb3IoXCJwXCIpJiYoZT1DS0VESVRPUi5FTlRFUl9CUixiPTEpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtlPT1DS0VESVRPUi5FTlRFUl9CUj91KGEsZSxudWxsLGIpOnIoYSxlLG51bGwsYik7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfX1mdW5jdGlvbiB5KGEpe2E9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApO2Zvcih2YXIgZT1hLmxlbmd0aC0xOzA8ZTtlLS0pYVtlXS5kZWxldGVDb250ZW50cygpO3JldHVybiBhWzBdfWZ1bmN0aW9uIHooYSl7dmFyIGU9YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil9LFxuITApO2lmKGEucm9vdC5lcXVhbHMoZSkpcmV0dXJuIGE7ZT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGUpO2UubW92ZVRvUmFuZ2UoYSk7cmV0dXJuIGV9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRlcmtleVwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcImVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYSl7eChhKX19KTthLmFkZENvbW1hbmQoXCJzaGlmdEVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYSl7eChhLGEuYWN0aXZlU2hpZnRFbnRlck1vZGUsMSl9fSk7YS5zZXRLZXlzdHJva2UoW1sxMyxcImVudGVyXCJdLFtDS0VESVRPUi5TSElGVCsxMyxcInNoaWZ0RW50ZXJcIl1dKX19KTt2YXIgQT1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksQj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksdix1LHIsdztDS0VESVRPUi5wbHVnaW5zLmVudGVya2V5PVxue2VudGVyQmxvY2s6ZnVuY3Rpb24oYSxlLGIsZyl7ZnVuY3Rpb24gbShhKXt2YXIgYjtpZihhPT09Q0tFRElUT1IuRU5URVJfQlJ8fC0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihbXCJ0ZFwiLFwidGhcIl0scC5sYXN0RWxlbWVudC5nZXROYW1lKCkpfHwxIT09cC5sYXN0RWxlbWVudC5nZXRDaGlsZENvdW50KCkpcmV0dXJuITE7YT1wLmxhc3RFbGVtZW50LmdldENoaWxkKDApLmNsb25lKCEwKTsoYj1hLmdldEJvZ3VzKCkpJiZiLnJlbW92ZSgpO3JldHVybiBhLmdldFRleHQoKS5sZW5ndGg/ITE6ITB9aWYoYj1ifHx5KGEpKXtiPXooYik7dmFyIGg9Yi5kb2N1bWVudCxuPWIuY2hlY2tTdGFydE9mQmxvY2soKSxmPWIuY2hlY2tFbmRPZkJsb2NrKCkscD1hLmVsZW1lbnRQYXRoKGIuc3RhcnRDb250YWluZXIpLGM9cC5ibG9jayxsPWU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiLGQ7aWYobiYmZil7aWYoYyYmKGMuaXMoXCJsaVwiKXx8Yy5nZXRQYXJlbnQoKS5pcyhcImxpXCIpKSl7Yy5pcyhcImxpXCIpfHxcbihjPWMuZ2V0UGFyZW50KCkpO2I9Yy5nZXRQYXJlbnQoKTtkPWIuZ2V0UGFyZW50KCk7Zz0hYy5oYXNQcmV2aW91cygpO3ZhciBmPSFjLmhhc05leHQoKSxsPWEuZ2V0U2VsZWN0aW9uKCksbj1sLmNyZWF0ZUJvb2ttYXJrcygpLGs9Yy5nZXREaXJlY3Rpb24oMSksdD1jLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLHE9Yy5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxyPWQuZ2V0RGlyZWN0aW9uKDEpIT1rO2E9YS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSfHxyfHxxfHx0O2lmKGQuaXMoXCJsaVwiKSlnfHxmPyhnJiZmJiZiLnJlbW92ZSgpLGNbZj9cImluc2VydEFmdGVyXCI6XCJpbnNlcnRCZWZvcmVcIl0oZCkpOmMuYnJlYWtQYXJlbnQoZCk7ZWxzZXtpZihhKWlmKHAuYmxvY2suaXMoXCJsaVwiKT8oZD1oLmNyZWF0ZUVsZW1lbnQoZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxyJiZkLnNldEF0dHJpYnV0ZShcImRpclwiLGspLHEmJmQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixxKSx0JiZkLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsXG50KSxjLm1vdmVDaGlsZHJlbihkKSk6ZD1wLmJsb2NrLGd8fGYpZFtnP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShiKTtlbHNlIGMuYnJlYWtQYXJlbnQoYiksZC5pbnNlcnRBZnRlcihiKTtlbHNlIGlmKGMuYXBwZW5kQm9ndXMoITApLGd8fGYpZm9yKDtoPWNbZz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCk7KWhbZz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oYik7ZWxzZSBmb3IoYy5icmVha1BhcmVudChiKTtoPWMuZ2V0TGFzdCgpOyloLmluc2VydEFmdGVyKGIpO2MucmVtb3ZlKCl9bC5zZWxlY3RCb29rbWFya3Mobik7cmV0dXJufWlmKGMmJmMuZ2V0UGFyZW50KCkuaXMoXCJibG9ja3F1b3RlXCIpKXtjLmJyZWFrUGFyZW50KGMuZ2V0UGFyZW50KCkpO2MuZ2V0UHJldmlvdXMoKS5nZXRGaXJzdChDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSl8fGMuZ2V0UHJldmlvdXMoKS5yZW1vdmUoKTtjLmdldE5leHQoKS5nZXRGaXJzdChDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSl8fFxuYy5nZXROZXh0KCkucmVtb3ZlKCk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpO2Iuc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKGMmJmMuaXMoXCJwcmVcIikmJiFmKXt1KGEsZSxiLGcpO3JldHVybn1pZihxPWIuc3BsaXRCbG9jayhsKSl7YT1xLnByZXZpb3VzQmxvY2s7Yz1xLm5leHRCbG9jaztuPXEud2FzU3RhcnRPZkJsb2NrO2Y9cS53YXNFbmRPZkJsb2NrO2M/KGs9Yy5nZXRQYXJlbnQoKSxrLmlzKFwibGlcIikmJihjLmJyZWFrUGFyZW50KGspLGMubW92ZShjLmdldE5leHQoKSwxKSkpOmEmJihrPWEuZ2V0UGFyZW50KCkpJiZrLmlzKFwibGlcIikmJihhLmJyZWFrUGFyZW50KGspLGs9YS5nZXROZXh0KCksYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGspLGEubW92ZShhLmdldFByZXZpb3VzKCkpKTtpZihufHxmKWlmKG0oZSkpYi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIuZ2V0VG91Y2hlZFN0YXJ0Tm9kZSgpKTtlbHNle2lmKGEpe2lmKGEuaXMoXCJsaVwiKXx8IXcudGVzdChhLmdldE5hbWUoKSkmJlxuIWEuaXMoXCJwcmVcIikpZD1hLmNsb25lKCl9ZWxzZSBjJiYoZD1jLmNsb25lKCkpO2Q/ZyYmIWQuaXMoXCJsaVwiKSYmZC5yZW5hbWVOb2RlKGwpOmsmJmsuaXMoXCJsaVwiKT9kPWs6KGQ9aC5jcmVhdGVFbGVtZW50KGwpLGEmJih0PWEuZ2V0RGlyZWN0aW9uKCkpJiZkLnNldEF0dHJpYnV0ZShcImRpclwiLHQpKTtpZihoPXEuZWxlbWVudFBhdGgpZm9yKGU9MCxnPWguZWxlbWVudHMubGVuZ3RoO2U8ZztlKyspe2w9aC5lbGVtZW50c1tlXTtpZihsLmVxdWFscyhoLmJsb2NrKXx8bC5lcXVhbHMoaC5ibG9ja0xpbWl0KSlicmVhaztDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W2wuZ2V0TmFtZSgpXSYmKGw9bC5jbG9uZSgpLGQubW92ZUNoaWxkcmVuKGwpLGQuYXBwZW5kKGwpKX1kLmFwcGVuZEJvZ3VzKCk7ZC5nZXRQYXJlbnQoKXx8Yi5pbnNlcnROb2RlKGQpO2QuaXMoXCJsaVwiKSYmZC5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTshQ0tFRElUT1IuZW52LmllfHwhbnx8ZiYmYS5nZXRDaGlsZENvdW50KCl8fFxuKGIubW92ZVRvRWxlbWVudEVkaXRTdGFydChmP2E6ZCksYi5zZWxlY3QoKSk7Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KG4mJiFmP2M6ZCl9ZWxzZSBjLmlzKFwibGlcIikmJihkPWIuY2xvbmUoKSxkLnNlbGVjdE5vZGVDb250ZW50cyhjKSxkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpLGQuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiEoQihhKXx8QShhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGVtcHR5KSl9LChrPWQubmV4dCgpKSYmay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsuaXMoXCJ1bFwiLFwib2xcIikmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9oLmNyZWF0ZUVsZW1lbnQoXCJiclwiKTpoLmNyZWF0ZVRleHQoXCLCoFwiKSkuaW5zZXJ0QmVmb3JlKGspKSxjJiZiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyk7Yi5zZWxlY3QoKTtcbmIuc2Nyb2xsSW50b1ZpZXcoKX19fSxlbnRlckJyOmZ1bmN0aW9uKGEsZSxiLGcpe2lmKGI9Ynx8eShhKSl7dmFyIG09Yi5kb2N1bWVudCxoPWIuY2hlY2tFbmRPZkJsb2NrKCksbj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkpLGY9bi5ibG9jayxwPWYmJm4uYmxvY2suZ2V0TmFtZSgpO2d8fFwibGlcIiE9cD8oIWcmJmgmJncudGVzdChwKT8oaD1mLmdldERpcmVjdGlvbigpKT8obT1tLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksbS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixoKSxtLmluc2VydEFmdGVyKGYpLGIuc2V0U3RhcnQobSwwKSk6KG0uY3JlYXRlRWxlbWVudChcImJyXCIpLmluc2VydEFmdGVyKGYpLENLRURJVE9SLmVudi5nZWNrbyYmbS5jcmVhdGVUZXh0KFwiXCIpLmluc2VydEFmdGVyKGYpLGIuc2V0U3RhcnRBdChmLmdldE5leHQoKSxDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6XG4oYT1cInByZVwiPT1wJiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/bS5jcmVhdGVUZXh0KFwiXFxyXCIpOm0uY3JlYXRlRWxlbWVudChcImJyXCIpLGIuZGVsZXRlQ29udGVudHMoKSxiLmluc2VydE5vZGUoYSksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/KG0uY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRBZnRlcihhKSxoJiYoZnx8bi5ibG9ja0xpbWl0KS5hcHBlbmRCb2d1cygpLGEuZ2V0TmV4dCgpLiQubm9kZVZhbHVlPVwiXCIsYi5zZXRTdGFydEF0KGEuZ2V0TmV4dCgpLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6Yi5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksYi5jb2xsYXBzZSghMCksYi5zZWxlY3QoKSxiLnNjcm9sbEludG9WaWV3KCkpOnIoYSxlLGIsZyl9fX07dj1DS0VESVRPUi5wbHVnaW5zLmVudGVya2V5O3U9di5lbnRlckJyO3I9di5lbnRlckJsb2NrO3c9L15oWzEtNl0kL30pKCk7KGZ1bmN0aW9uKCl7dmFyIGI9e2NhblVuZG86ITEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoclwiKTthLmluc2VydEVsZW1lbnQoYil9LGFsbG93ZWRDb250ZW50OlwiaHJcIixyZXF1aXJlZENvbnRlbnQ6XCJoclwifTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImhvcml6b250YWxydWxlXCIse2luaXQ6ZnVuY3Rpb24oYSl7YS5ibG9ja2xlc3N8fChhLmFkZENvbW1hbmQoXCJob3Jpem9udGFscnVsZVwiLGIpLGEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIkhvcml6b250YWxSdWxlXCIse2xhYmVsOmEubGFuZy5ob3Jpem9udGFscnVsZS50b29sYmFyLGNvbW1hbmQ6XCJob3Jpem9udGFscnVsZVwiLHRvb2xiYXI6XCJpbnNlcnQsNDBcIn0pKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShhLGIpe3ZhciBlLGY7Yi5vbihcInJlZnJlc2hcIixmdW5jdGlvbihhKXt2YXIgYj1ba10sYztmb3IoYyBpbiBhLmRhdGEuc3RhdGVzKWIucHVzaChhLmRhdGEuc3RhdGVzW2NdKTt0aGlzLnNldFN0YXRlKENLRURJVE9SLnRvb2xzLnNlYXJjaChiLHApP3A6ayl9LGIsbnVsbCwxMDApO2Iub24oXCJleGVjXCIsZnVuY3Rpb24oYil7ZT1hLmdldFNlbGVjdGlvbigpO2Y9ZS5jcmVhdGVCb29rbWFya3MoMSk7Yi5kYXRhfHwoYi5kYXRhPXt9KTtiLmRhdGEuZG9uZT0hMX0sYixudWxsLDApO2Iub24oXCJleGVjXCIsZnVuY3Rpb24oKXthLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7ZS5zZWxlY3RCb29rbWFya3MoZil9LGIsbnVsbCwxMDApfXZhciBrPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHA9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaW5kZW50XCIse2luaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuZ2VuZXJpY0RlZmluaXRpb247XG5tKGEsYS5hZGRDb21tYW5kKFwiaW5kZW50XCIsbmV3IGIoITApKSk7bShhLGEuYWRkQ29tbWFuZChcIm91dGRlbnRcIixuZXcgYikpO2EudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oXCJJbmRlbnRcIix7bGFiZWw6YS5sYW5nLmluZGVudC5pbmRlbnQsY29tbWFuZDpcImluZGVudFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJpbmRlbnQsMjBcIn0pLGEudWkuYWRkQnV0dG9uKFwiT3V0ZGVudFwiLHtsYWJlbDphLmxhbmcuaW5kZW50Lm91dGRlbnQsY29tbWFuZDpcIm91dGRlbnRcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDEwXCJ9KSk7YS5vbihcImRpckNoYW5nZWRcIixmdW5jdGlvbihiKXt2YXIgZj1hLmNyZWF0ZVJhbmdlKCksbD1iLmRhdGEubm9kZTtmLnNldFN0YXJ0QmVmb3JlKGwpO2Yuc2V0RW5kQWZ0ZXIobCk7Zm9yKHZhciBuPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpLGM7Yz1uLm5leHQoKTspaWYoYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoIWMuZXF1YWxzKGwpJiZcbmMuZ2V0RGlyZWN0aW9uKCkpZi5zZXRTdGFydEFmdGVyKGMpLG49bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZik7ZWxzZXt2YXIgZD1hLmNvbmZpZy5pbmRlbnRDbGFzc2VzO2lmKGQpZm9yKHZhciBnPVwibHRyXCI9PWIuZGF0YS5kaXI/W1wiX3J0bFwiLFwiXCJdOltcIlwiLFwiX3J0bFwiXSxoPTA7aDxkLmxlbmd0aDtoKyspYy5oYXNDbGFzcyhkW2hdK2dbMF0pJiYoYy5yZW1vdmVDbGFzcyhkW2hdK2dbMF0pLGMuYWRkQ2xhc3MoZFtoXStnWzFdKSk7ZD1jLmdldFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpO2c9Yy5nZXRTdHlsZShcIm1hcmdpbi1sZWZ0XCIpO2Q/Yy5zZXRTdHlsZShcIm1hcmdpbi1sZWZ0XCIsZCk6Yy5yZW1vdmVTdHlsZShcIm1hcmdpbi1sZWZ0XCIpO2c/Yy5zZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiLGcpOmMucmVtb3ZlU3R5bGUoXCJtYXJnaW4tcmlnaHRcIil9fSl9fSk7Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQ9e2dlbmVyaWNEZWZpbml0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaXNJbmRlbnQ9ISFhO1xudGhpcy5zdGFydERpc2FibGVkPSF0aGlzLmlzSW5kZW50fSxzcGVjaWZpY0RlZmluaXRpb246ZnVuY3Rpb24oYSxiLGUpe3RoaXMubmFtZT1iO3RoaXMuZWRpdG9yPWE7dGhpcy5qb2JzPXt9O3RoaXMuZW50ZXJCcj1hLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSO3RoaXMuaXNJbmRlbnQ9ISFlO3RoaXMucmVsYXRlZEdsb2JhbD1lP1wiaW5kZW50XCI6XCJvdXRkZW50XCI7dGhpcy5pbmRlbnRLZXk9ZT85OkNLRURJVE9SLlNISUZUKzk7dGhpcy5kYXRhYmFzZT17fX0scmVnaXN0ZXJDb21tYW5kczpmdW5jdGlvbihhLGIpe2Eub24oXCJwbHVnaW5zTG9hZGVkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gYikoZnVuY3Rpb24oYSxiKXt2YXIgZT1hLmdldENvbW1hbmQoYi5yZWxhdGVkR2xvYmFsKSxjO2ZvcihjIGluIGIuam9icyllLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGQpe2QuZGF0YS5kb25lfHwoYS5maXJlKFwibG9ja1NuYXBzaG90XCIpLGIuZXhlY0pvYihhLGMpJiYoZC5kYXRhLmRvbmU9XG4hMCksYS5maXJlKFwidW5sb2NrU25hcHNob3RcIiksQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGIuZGF0YWJhc2UpKX0sdGhpcyxudWxsLGMpLGUub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24oZCl7ZC5kYXRhLnN0YXRlc3x8KGQuZGF0YS5zdGF0ZXM9e30pO2QuZGF0YS5zdGF0ZXNbYi5uYW1lK1wiQFwiK2NdPWIucmVmcmVzaEpvYihhLGMsZC5kYXRhLnBhdGgpfSx0aGlzLG51bGwsYyk7YS5hZGRGZWF0dXJlKGIpfSkodGhpcyxiW2FdKX0pfX07Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuZ2VuZXJpY0RlZmluaXRpb24ucHJvdG90eXBlPXtjb250ZXh0OlwicFwiLGV4ZWM6ZnVuY3Rpb24oKXt9fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudC5zcGVjaWZpY0RlZmluaXRpb24ucHJvdG90eXBlPXtleGVjSm9iOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5qb2JzW2JdO2lmKGUuc3RhdGUhPWspcmV0dXJuIGUuZXhlYy5jYWxsKHRoaXMsYSl9LHJlZnJlc2hKb2I6ZnVuY3Rpb24oYSxcbmIsZSl7Yj10aGlzLmpvYnNbYl07YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpP2Iuc3RhdGU9Yi5yZWZyZXNoLmNhbGwodGhpcyxhLGUpOmIuc3RhdGU9aztyZXR1cm4gYi5zdGF0ZX0sZ2V0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyh0aGlzLmNvbnRleHQpfX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGYoYixjLGEpe2lmKCFiLmdldEN1c3RvbURhdGEoXCJpbmRlbnRfcHJvY2Vzc2VkXCIpKXt2YXIgZD10aGlzLmVkaXRvcixsPXRoaXMuaXNJbmRlbnQ7aWYoYyl7ZD1iLiQuY2xhc3NOYW1lLm1hdGNoKHRoaXMuY2xhc3NOYW1lUmVnZXgpO2E9MDtkJiYoZD1kWzFdLGE9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihjLGQpKzEpO2lmKDA+KGErPWw/MTotMSkpcmV0dXJuO2E9TWF0aC5taW4oYSxjLmxlbmd0aCk7YT1NYXRoLm1heChhLDApO2IuJC5jbGFzc05hbWU9Q0tFRElUT1IudG9vbHMubHRyaW0oYi4kLmNsYXNzTmFtZS5yZXBsYWNlKHRoaXMuY2xhc3NOYW1lUmVnZXgsXCJcIikpOzA8YSYmYi5hZGRDbGFzcyhjW2EtMV0pfWVsc2V7Yz1tKGIsYSk7YT1wYXJzZUludChiLmdldFN0eWxlKGMpLDEwKTt2YXIgZz1kLmNvbmZpZy5pbmRlbnRPZmZzZXR8fDQwO2lzTmFOKGEpJiYoYT0wKTthKz0obD8xOi0xKSpnO2lmKDA+YSlyZXR1cm47YT1NYXRoLm1heChhLFxuMCk7YT1NYXRoLmNlaWwoYS9nKSpnO2Iuc2V0U3R5bGUoYyxhP2ErKGQuY29uZmlnLmluZGVudFVuaXR8fFwicHhcIik6XCJcIik7XCJcIj09PWIuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikmJmIucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIil9Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKHRoaXMuZGF0YWJhc2UsYixcImluZGVudF9wcm9jZXNzZWRcIiwxKX19ZnVuY3Rpb24gbShiLGMpe3JldHVyblwibHRyXCI9PShjfHxiLmdldENvbXB1dGVkU3R5bGUoXCJkaXJlY3Rpb25cIikpP1wibWFyZ2luLWxlZnRcIjpcIm1hcmdpbi1yaWdodFwifXZhciBoPUNLRURJVE9SLmR0ZC4kbGlzdEl0ZW0scD1DS0VESVRPUi5kdGQuJGxpc3Qsaz1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxuPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudGJsb2NrXCIse3JlcXVpcmVzOlwiaW5kZW50XCIsaW5pdDpmdW5jdGlvbihiKXtmdW5jdGlvbiBjKCl7YS5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxcbmFyZ3VtZW50cyk7dGhpcy5hbGxvd2VkQ29udGVudD17XCJkaXYgaDEgaDIgaDMgaDQgaDUgaDYgb2wgcCBwcmUgdWxcIjp7cHJvcGVydGllc09ubHk6ITAsc3R5bGVzOmQ/bnVsbDpcIm1hcmdpbi1sZWZ0LG1hcmdpbi1yaWdodFwiLGNsYXNzZXM6ZHx8bnVsbH19O3RoaXMuY29udGVudFRyYW5zZm9ybWF0aW9ucz1bW1wiZGl2OiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJoMTogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wiaDI6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcImgzOiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJoNDogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wiaDU6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcImg2OiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJvbDogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wicDogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wicHJlOiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJ1bDogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl1dO3RoaXMuZW50ZXJCciYmXG4odGhpcy5hbGxvd2VkQ29udGVudC5kaXY9ITApO3RoaXMucmVxdWlyZWRDb250ZW50PSh0aGlzLmVudGVyQnI/XCJkaXZcIjpcInBcIikrKGQ/XCIoXCIrZC5qb2luKFwiLFwiKStcIilcIjpcInttYXJnaW4tbGVmdH1cIik7dGhpcy5qb2JzPXsyMDp7cmVmcmVzaDpmdW5jdGlvbihhLGIpe3ZhciBlPWIuYmxvY2t8fGIuYmxvY2tMaW1pdDtpZighZS5pcyhoKSl2YXIgYz1lLmdldEFzY2VuZGFudChoKSxlPWMmJmIuY29udGFpbnMoYyl8fGU7ZS5pcyhoKSYmKGU9ZS5nZXRQYXJlbnQoKSk7aWYodGhpcy5lbnRlckJyfHx0aGlzLmdldENvbnRleHQoYikpe2lmKGQpe3ZhciBjPWQsZT1lLiQuY2xhc3NOYW1lLm1hdGNoKHRoaXMuY2xhc3NOYW1lUmVnZXgpLGY9dGhpcy5pc0luZGVudCxjPWU/Zj9lWzFdIT1jLnNsaWNlKC0xKTohMDpmO3JldHVybiBjP246a31yZXR1cm4gdGhpcy5pc0luZGVudD9uOmU/Q0tFRElUT1JbMD49KHBhcnNlSW50KGUuZ2V0U3R5bGUobShlKSksMTApfHwwKT9cIlRSSVNUQVRFX0RJU0FCTEVEXCI6XG5cIlRSSVNUQVRFX09GRlwiXTprfXJldHVybiBrfSxleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCksYj1iJiZiLmdldFJhbmdlcygpWzBdLGM7aWYoYz1hLmVsZW1lbnRQYXRoKCkuY29udGFpbnMocCkpZi5jYWxsKHRoaXMsYyxkKTtlbHNlIGZvcihiPWIuY3JlYXRlSXRlcmF0b3IoKSxhPWEuY29uZmlnLmVudGVyTW9kZSxiLmVuZm9yY2VSZWFsQmxvY2tzPSEwLGIuZW5sYXJnZUJyPWEhPUNLRURJVE9SLkVOVEVSX0JSO2M9Yi5nZXROZXh0UGFyYWdyYXBoKGE9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIik7KWMuaXNSZWFkT25seSgpfHxmLmNhbGwodGhpcyxjLGQpO3JldHVybiEwfX19fXZhciBhPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50LGQ9Yi5jb25maWcuaW5kZW50Q2xhc3NlczthLnJlZ2lzdGVyQ29tbWFuZHMoYix7aW5kZW50YmxvY2s6bmV3IGMoYixcImluZGVudGJsb2NrXCIsITApLG91dGRlbnRibG9jazpuZXcgYyhiLFwib3V0ZGVudGJsb2NrXCIpfSk7XG5DS0VESVRPUi50b29scy5leHRlbmQoYy5wcm90b3R5cGUsYS5zcGVjaWZpY0RlZmluaXRpb24ucHJvdG90eXBlLHtjb250ZXh0OntkaXY6MSxkbDoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLHVsOjEsb2w6MSxwOjEscHJlOjEsdGFibGU6MX0sY2xhc3NOYW1lUmVnZXg6ZD9uZXcgUmVnRXhwKFwiKD86XnxcXFxccyspKFwiK2Quam9pbihcInxcIikrXCIpKD9cXHgzZCR8XFxcXHMpXCIpOm51bGx9KX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdyhmKXtmdW5jdGlvbiBnKGIpe2Zvcih2YXIgZT1jLnN0YXJ0Q29udGFpbmVyLGE9Yy5lbmRDb250YWluZXI7ZSYmIWUuZ2V0UGFyZW50KCkuZXF1YWxzKGIpOyllPWUuZ2V0UGFyZW50KCk7Zm9yKDthJiYhYS5nZXRQYXJlbnQoKS5lcXVhbHMoYik7KWE9YS5nZXRQYXJlbnQoKTtpZighZXx8IWEpcmV0dXJuITE7Zm9yKHZhciBkPVtdLGg9ITE7IWg7KWUuZXF1YWxzKGEpJiYoaD0hMCksZC5wdXNoKGUpLGU9ZS5nZXROZXh0KCk7aWYoMT5kLmxlbmd0aClyZXR1cm4hMTtlPWIuZ2V0UGFyZW50cyghMCk7Zm9yKGE9MDthPGUubGVuZ3RoO2ErKylpZihlW2FdLmdldE5hbWUmJnBbZVthXS5nZXROYW1lKCldKXtiPWVbYV07YnJlYWt9Zm9yKHZhciBlPWsuaXNJbmRlbnQ/MTotMSxhPWRbMF0sZD1kW2QubGVuZ3RoLTFdLGg9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGIscSksbT1oW2QuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKV0uaW5kZW50LFxuYT1hLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIik7YTw9ZC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO2ErKylpZihoW2FdLmluZGVudCs9ZSwwPGUpe2Zvcih2YXIgZz1oW2FdLnBhcmVudCxuPWEtMTswPD1uO24tLSlpZihoW25dLmluZGVudD09PWUpe2c9aFtuXS5wYXJlbnQ7YnJlYWt9aFthXS5wYXJlbnQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGcuZ2V0TmFtZSgpLGcuZ2V0RG9jdW1lbnQoKSl9Zm9yKGE9ZC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpKzE7YTxoLmxlbmd0aCYmaFthXS5pbmRlbnQ+bTthKyspaFthXS5pbmRlbnQrPWU7ZT1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoaCxxLG51bGwsZi5jb25maWcuZW50ZXJNb2RlLGIuZ2V0RGlyZWN0aW9uKCkpO2lmKCFrLmlzSW5kZW50KXt2YXIgdDtpZigodD1iLmdldFBhcmVudCgpKSYmdC5pcyhcImxpXCIpKWZvcih2YXIgZD1lLmxpc3ROb2RlLmdldENoaWxkcmVuKCksXG5yPVtdLGwsYT1kLmNvdW50KCktMTswPD1hO2EtLSkobD1kLmdldEl0ZW0oYSkpJiZsLmlzJiZsLmlzKFwibGlcIikmJnIucHVzaChsKX1lJiZlLmxpc3ROb2RlLnJlcGxhY2UoYik7aWYociYmci5sZW5ndGgpZm9yKGE9MDthPHIubGVuZ3RoO2ErKyl7Zm9yKGw9Yj1yW2FdOyhsPWwuZ2V0TmV4dCgpKSYmbC5pcyYmbC5nZXROYW1lKClpbiBwOylDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiYhYi5nZXRGaXJzdCh4KSYmYi5hcHBlbmQoYy5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpLGIuYXBwZW5kKGwpO2IuaW5zZXJ0QWZ0ZXIodCl9ZSYmZi5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO3JldHVybiEwfWZvcih2YXIgaz10aGlzLHE9dGhpcy5kYXRhYmFzZSxwPXRoaXMuY29udGV4dCxjLG09Zi5nZXRTZWxlY3Rpb24oKSxtPShtJiZtLmdldFJhbmdlcygpKS5jcmVhdGVJdGVyYXRvcigpO2M9bS5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgYj1jLmdldENvbW1vbkFuY2VzdG9yKCk7YiYmXG4oYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFwW2IuZ2V0TmFtZSgpXSk7KXtpZihmLmVkaXRhYmxlKCkuZXF1YWxzKGIpKXtiPSExO2JyZWFrfWI9Yi5nZXRQYXJlbnQoKX1ifHwoYj1jLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKHApKSYmYy5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKCFiKXt2YXIgZD1jLmdldEVuY2xvc2VkTm9kZSgpO2QmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmdldE5hbWUoKWluIHAmJihjLnNldFN0YXJ0QXQoZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYy5zZXRFbmRBdChkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGI9ZCl9YiYmYy5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gcCYmKGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksZC5ldmFsdWF0b3I9bixjLnN0YXJ0Q29udGFpbmVyPVxuZC5uZXh0KCkpO2ImJmMuZW5kQ29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5lbmRDb250YWluZXIuZ2V0TmFtZSgpaW4gcCYmKGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksZC5ldmFsdWF0b3I9bixjLmVuZENvbnRhaW5lcj1kLnByZXZpb3VzKCkpO2lmKGIpcmV0dXJuIGcoYil9cmV0dXJuIDB9ZnVuY3Rpb24gbihmKXtyZXR1cm4gZi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuaXMoXCJsaVwiKX1mdW5jdGlvbiB4KGYpe3JldHVybiB5KGYpJiZ6KGYpfXZhciB5PUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLHo9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksdT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx2PUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudGxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRcIixpbml0OmZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGcoZil7ay5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxcbmFyZ3VtZW50cyk7dGhpcy5yZXF1aXJlZENvbnRlbnQ9W1widWxcIixcIm9sXCJdO2Yub24oXCJrZXlcIixmdW5jdGlvbihnKXt2YXIgYz1mLmVsZW1lbnRQYXRoKCk7aWYoXCJ3eXNpd3lnXCI9PWYubW9kZSYmZy5kYXRhLmtleUNvZGU9PXRoaXMuaW5kZW50S2V5JiZjKXt2YXIgbT10aGlzLmdldENvbnRleHQoYyk7IW18fHRoaXMuaXNJbmRlbnQmJkNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGMsbSl8fChmLmV4ZWNDb21tYW5kKHRoaXMucmVsYXRlZEdsb2JhbCksZy5jYW5jZWwoKSl9fSx0aGlzKTt0aGlzLmpvYnNbdGhpcy5pc0luZGVudD8xMDozMF09e3JlZnJlc2g6dGhpcy5pc0luZGVudD9mdW5jdGlvbihmLGMpe3ZhciBnPXRoaXMuZ2V0Q29udGV4dChjKSxiPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGgodGhpcy5jb250ZXh0LGMsZyk7cmV0dXJuIGcmJnRoaXMuaXNJbmRlbnQmJiFiP3Y6dX06ZnVuY3Rpb24oZixcbmMpe3JldHVybiF0aGlzLmdldENvbnRleHQoYyl8fHRoaXMuaXNJbmRlbnQ/dTp2fSxleGVjOkNLRURJVE9SLnRvb2xzLmJpbmQodyx0aGlzKX19dmFyIGs9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQ7ay5yZWdpc3RlckNvbW1hbmRzKGYse2luZGVudGxpc3Q6bmV3IGcoZixcImluZGVudGxpc3RcIiwhMCksb3V0ZGVudGxpc3Q6bmV3IGcoZixcIm91dGRlbnRsaXN0XCIpfSk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGcucHJvdG90eXBlLGsuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7b2w6MSx1bDoxfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdD17fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoPWZ1bmN0aW9uKGYsZyxrKXt2YXIgcT1nLmNvbnRhaW5zKG4pO2t8fChrPWcuY29udGFpbnMoZikpO3JldHVybiBrJiZxJiZxLmVxdWFscyhrLmdldEZpcnN0KG4pKX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHEoYSxjKXtjPXZvaWQgMD09PWN8fGM7dmFyIGI7aWYoYyliPWEuZ2V0Q29tcHV0ZWRTdHlsZShcInRleHQtYWxpZ25cIik7ZWxzZXtmb3IoOyFhLmhhc0F0dHJpYnV0ZXx8IWEuaGFzQXR0cmlidXRlKFwiYWxpZ25cIikmJiFhLmdldFN0eWxlKFwidGV4dC1hbGlnblwiKTspe2I9YS5nZXRQYXJlbnQoKTtpZighYilicmVhazthPWJ9Yj1hLmdldFN0eWxlKFwidGV4dC1hbGlnblwiKXx8YS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKXx8XCJcIn1iJiYoYj1iLnJlcGxhY2UoLyg/Oi0oPzptb3p8d2Via2l0KS0pPyg/OnN0YXJ0fGF1dG8pL2ksXCJcIikpOyFiJiZjJiYoYj1cInJ0bFwiPT1hLmdldENvbXB1dGVkU3R5bGUoXCJkaXJlY3Rpb25cIik/XCJyaWdodFwiOlwibGVmdFwiKTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYyxiKXt0aGlzLmVkaXRvcj1hO3RoaXMubmFtZT1jO3RoaXMudmFsdWU9Yjt0aGlzLmNvbnRleHQ9XCJwXCI7Yz1hLmNvbmZpZy5qdXN0aWZ5Q2xhc3Nlczt2YXIgZj1hLmNvbmZpZy5lbnRlck1vZGU9PVxuQ0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiO2lmKGMpe3N3aXRjaChiKXtjYXNlIFwibGVmdFwiOnRoaXMuY3NzQ2xhc3NOYW1lPWNbMF07YnJlYWs7Y2FzZSBcImNlbnRlclwiOnRoaXMuY3NzQ2xhc3NOYW1lPWNbMV07YnJlYWs7Y2FzZSBcInJpZ2h0XCI6dGhpcy5jc3NDbGFzc05hbWU9Y1syXTticmVhaztjYXNlIFwianVzdGlmeVwiOnRoaXMuY3NzQ2xhc3NOYW1lPWNbM119dGhpcy5jc3NDbGFzc1JlZ2V4PW5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKykoPzpcIitjLmpvaW4oXCJ8XCIpK1wiKSg/XFx4M2QkfFxcXFxzKVwiKTt0aGlzLnJlcXVpcmVkQ29udGVudD1mK1wiKFwiK3RoaXMuY3NzQ2xhc3NOYW1lK1wiKVwifWVsc2UgdGhpcy5yZXF1aXJlZENvbnRlbnQ9ZitcInt0ZXh0LWFsaWdufVwiO3RoaXMuYWxsb3dlZENvbnRlbnQ9e1wiY2FwdGlvbiBkaXYgaDEgaDIgaDMgaDQgaDUgaDYgcCBwcmUgdGQgdGggbGlcIjp7cHJvcGVydGllc09ubHk6ITAsc3R5bGVzOnRoaXMuY3NzQ2xhc3NOYW1lP251bGw6XCJ0ZXh0LWFsaWduXCIsXG5jbGFzc2VzOnRoaXMuY3NzQ2xhc3NOYW1lfHxudWxsfX07YS5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUiYmKHRoaXMuYWxsb3dlZENvbnRlbnQuZGl2PSEwKX1mdW5jdGlvbiBtKGEpe3ZhciBjPWEuZWRpdG9yLGI9Yy5jcmVhdGVSYW5nZSgpO2Iuc2V0U3RhcnRCZWZvcmUoYS5kYXRhLm5vZGUpO2Iuc2V0RW5kQWZ0ZXIoYS5kYXRhLm5vZGUpO2Zvcih2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKSxkO2Q9Zi5uZXh0KCk7KWlmKGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFkLmVxdWFscyhhLmRhdGEubm9kZSkmJmQuZ2V0RGlyZWN0aW9uKCkpYi5zZXRTdGFydEFmdGVyKGQpLGY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7ZWxzZXt2YXIgZT1jLmNvbmZpZy5qdXN0aWZ5Q2xhc3NlcztlJiYoZC5oYXNDbGFzcyhlWzBdKT8oZC5yZW1vdmVDbGFzcyhlWzBdKSxkLmFkZENsYXNzKGVbMl0pKTpkLmhhc0NsYXNzKGVbMl0pJiYoZC5yZW1vdmVDbGFzcyhlWzJdKSxcbmQuYWRkQ2xhc3MoZVswXSkpKTtlPWQuZ2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIpO1wibGVmdFwiPT1lP2Quc2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIsXCJyaWdodFwiKTpcInJpZ2h0XCI9PWUmJmQuc2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIsXCJsZWZ0XCIpfX1oLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXt2YXIgYz1hLmdldFNlbGVjdGlvbigpLGI9YS5jb25maWcuZW50ZXJNb2RlO2lmKGMpe2Zvcih2YXIgZj1jLmNyZWF0ZUJvb2ttYXJrcygpLGQ9Yy5nZXRSYW5nZXMoKSxlPXRoaXMuY3NzQ2xhc3NOYW1lLGgsZyxrPWEuY29uZmlnLnVzZUNvbXB1dGVkU3RhdGUsaz12b2lkIDA9PT1rfHxrLG49ZC5sZW5ndGgtMTswPD1uO24tLSlmb3IoaD1kW25dLmNyZWF0ZUl0ZXJhdG9yKCksaC5lbmxhcmdlQnI9YiE9Q0tFRElUT1IuRU5URVJfQlI7Zz1oLmdldE5leHRQYXJhZ3JhcGgoYj09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKTspaWYoIWcuaXNSZWFkT25seSgpKXt2YXIgbD1nLmdldE5hbWUoKSxcbnA7cD1hLmFjdGl2ZUZpbHRlci5jaGVjayhsK1wie3RleHQtYWxpZ259XCIpO2lmKChsPWEuYWN0aXZlRmlsdGVyLmNoZWNrKGwrXCIoXCIrZStcIilcIikpfHxwKXtnLnJlbW92ZUF0dHJpYnV0ZShcImFsaWduXCIpO2cucmVtb3ZlU3R5bGUoXCJ0ZXh0LWFsaWduXCIpO3ZhciBtPWUmJihnLiQuY2xhc3NOYW1lPUNLRURJVE9SLnRvb2xzLmx0cmltKGcuJC5jbGFzc05hbWUucmVwbGFjZSh0aGlzLmNzc0NsYXNzUmVnZXgsXCJcIikpKSxyPXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRiYmKCFrfHxxKGcsITApIT10aGlzLnZhbHVlKTtlJiZsP3I/Zy5hZGRDbGFzcyhlKTptfHxnLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpOnImJnAmJmcuc2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIsdGhpcy52YWx1ZSl9fWEuZm9jdXMoKTthLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7Yy5zZWxlY3RCb29rbWFya3MoZil9fSxyZWZyZXNoOmZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5ibG9ja3x8Yy5ibG9ja0xpbWl0LFxuZj1iLmdldE5hbWUoKSxkPWIuZXF1YWxzKGEuZWRpdGFibGUoKSksZj10aGlzLmNzc0NsYXNzTmFtZT9hLmFjdGl2ZUZpbHRlci5jaGVjayhmK1wiKFwiK3RoaXMuY3NzQ2xhc3NOYW1lK1wiKVwiKTphLmFjdGl2ZUZpbHRlci5jaGVjayhmK1wie3RleHQtYWxpZ259XCIpO2QmJjE9PT1jLmVsZW1lbnRzLmxlbmd0aD90aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRik6IWQmJmY/dGhpcy5zZXRTdGF0ZShxKGIsdGhpcy5lZGl0b3IuY29uZmlnLnVzZUNvbXB1dGVkU3RhdGUpPT10aGlzLnZhbHVlP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImp1c3RpZnlcIix7aW5pdDpmdW5jdGlvbihhKXtpZighYS5ibG9ja2xlc3Mpe3ZhciBjPW5ldyBoKGEsXCJqdXN0aWZ5bGVmdFwiLFwibGVmdFwiKSxiPW5ldyBoKGEsXCJqdXN0aWZ5Y2VudGVyXCIsXCJjZW50ZXJcIiksXG5mPW5ldyBoKGEsXCJqdXN0aWZ5cmlnaHRcIixcInJpZ2h0XCIpLGQ9bmV3IGgoYSxcImp1c3RpZnlibG9ja1wiLFwianVzdGlmeVwiKTthLmFkZENvbW1hbmQoXCJqdXN0aWZ5bGVmdFwiLGMpO2EuYWRkQ29tbWFuZChcImp1c3RpZnljZW50ZXJcIixiKTthLmFkZENvbW1hbmQoXCJqdXN0aWZ5cmlnaHRcIixmKTthLmFkZENvbW1hbmQoXCJqdXN0aWZ5YmxvY2tcIixkKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiSnVzdGlmeUxlZnRcIix7bGFiZWw6YS5sYW5nLmNvbW1vbi5hbGlnbkxlZnQsY29tbWFuZDpcImp1c3RpZnlsZWZ0XCIsdG9vbGJhcjpcImFsaWduLDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkp1c3RpZnlDZW50ZXJcIix7bGFiZWw6YS5sYW5nLmNvbW1vbi5jZW50ZXIsY29tbWFuZDpcImp1c3RpZnljZW50ZXJcIix0b29sYmFyOlwiYWxpZ24sMjBcIn0pLGEudWkuYWRkQnV0dG9uKFwiSnVzdGlmeVJpZ2h0XCIse2xhYmVsOmEubGFuZy5jb21tb24uYWxpZ25SaWdodCxjb21tYW5kOlwianVzdGlmeXJpZ2h0XCIsXG50b29sYmFyOlwiYWxpZ24sMzBcIn0pLGEudWkuYWRkQnV0dG9uKFwiSnVzdGlmeUJsb2NrXCIse2xhYmVsOmEubGFuZy5jb21tb24uanVzdGlmeSxjb21tYW5kOlwianVzdGlmeWJsb2NrXCIsdG9vbGJhcjpcImFsaWduLDQwXCJ9KSk7YS5vbihcImRpckNoYW5nZWRcIixtKX19fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIEkoYixtLGUpe2Z1bmN0aW9uIGMoYyl7aWYoISghKGE9ZFtjP1wiZ2V0Rmlyc3RcIjpcImdldExhc3RcIl0oKSl8fGEuaXMmJmEuaXNCbG9ja0JvdW5kYXJ5KCl8fCEocD1tLnJvb3RbYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKCEwKSkpfHxwLmlzJiZwLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pKSliLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKVtjP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShhKX1mb3IodmFyIGY9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KG0ucm9vdCxlKSxnPVtdLGs9MDtrPG0uY29udGVudHMubGVuZ3RoO2srKyl7dmFyIGg9bS5jb250ZW50c1trXTsoaD1oLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIWguZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikmJihnLnB1c2goaCksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGUsXG5oLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSl9aD1udWxsO2ZvcihrPTA7azxnLmxlbmd0aDtrKyspaD1nW2tdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksZltoXS5pbmRlbnQ9LTE7Zm9yKGs9aCsxO2s8Zi5sZW5ndGg7aysrKWlmKGZba10uaW5kZW50PmZbay0xXS5pbmRlbnQrMSl7Zz1mW2stMV0uaW5kZW50KzEtZltrXS5pbmRlbnQ7Zm9yKGg9ZltrXS5pbmRlbnQ7ZltrXSYmZltrXS5pbmRlbnQ+PWg7KWZba10uaW5kZW50Kz1nLGsrKztrLS19dmFyIGQ9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGYsZSxudWxsLGIuY29uZmlnLmVudGVyTW9kZSxtLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGlyXCIpKS5saXN0Tm9kZSxhLHA7YyghMCk7YygpO2QucmVwbGFjZShtLnJvb3QpO2IuZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKX1mdW5jdGlvbiBCKGIsbSl7dGhpcy5uYW1lPWI7dGhpcy5jb250ZXh0PXRoaXMudHlwZT1tO3RoaXMuYWxsb3dlZENvbnRlbnQ9XG5tK1wiIGxpXCI7dGhpcy5yZXF1aXJlZENvbnRlbnQ9bX1mdW5jdGlvbiBFKGIsbSxlLGMpe2Zvcih2YXIgZixnO2Y9YltjP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oSik7KShnPWYuZ2V0RGlyZWN0aW9uKDEpKSE9PW0uZ2V0RGlyZWN0aW9uKDEpJiZmLnNldEF0dHJpYnV0ZShcImRpclwiLGcpLGYucmVtb3ZlKCksZT9mW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGUpOm0uYXBwZW5kKGYsYyl9ZnVuY3Rpb24gRihiKXtmdW5jdGlvbiBtKGUpe3ZhciBjPWJbZT9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKHUpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmlzKGIuZ2V0TmFtZSgpKSYmKEUoYixjLG51bGwsIWUpLGIucmVtb3ZlKCksYj1jKX1tKCk7bSgxKX1mdW5jdGlvbiBHKGIpe3JldHVybiBiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8Yi5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmXG5DS0VESVRPUi5kdGRbYi5nZXROYW1lKCldW1wiI1wiXX1mdW5jdGlvbiBDKGIsbSxlKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKTt2YXIgYz1lLmV4dHJhY3RDb250ZW50cygpO20udHJpbSghMSwhMCk7dmFyIGY9bS5jcmVhdGVCb29rbWFyaygpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChtLnN0YXJ0Q29udGFpbmVyKSxrPWcuYmxvY2ssZz1nLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImxpXCIsMSl8fGssaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUuc3RhcnRDb250YWluZXIpLGQ9aC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxoPWguY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTtrPyhrPWsuZ2V0Qm9ndXMoKSkmJmsucmVtb3ZlKCk6aCYmKGs9aC5nZXRQcmV2aW91cyh1KSkmJnooaykmJmsucmVtb3ZlKCk7KGs9Yy5nZXRMYXN0KCkpJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5rLmlzKFwiYnJcIikmJmsucmVtb3ZlKCk7KGs9bS5zdGFydENvbnRhaW5lci5nZXRDaGlsZChtLnN0YXJ0T2Zmc2V0KSk/Yy5pbnNlcnRCZWZvcmUoayk6bS5zdGFydENvbnRhaW5lci5hcHBlbmQoYyk7ZCYmKGM9QShkKSkmJihnLmNvbnRhaW5zKGQpPyhFKGMsZC5nZXRQYXJlbnQoKSxkKSxjLnJlbW92ZSgpKTpnLmFwcGVuZChjKSk7Zm9yKDtlLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCk7KXtoPWUuc3RhcnRQYXRoKCk7Yz1oLmJsb2NrO2lmKCFjKWJyZWFrO2MuaXMoXCJsaVwiKSYmKGc9Yy5nZXRQYXJlbnQoKSxjLmVxdWFscyhnLmdldExhc3QodSkpJiZjLmVxdWFscyhnLmdldEZpcnN0KHUpKSYmKGM9ZykpO2UubW92ZVRvUG9zaXRpb24oYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2MucmVtb3ZlKCl9ZT1lLmNsb25lKCk7Yz1iLmVkaXRhYmxlKCk7ZS5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7XG5lLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gdShhKSYmIXooYSl9OyhlPWUubmV4dCgpKSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0JiZGKGUpO20ubW92ZVRvQm9va21hcmsoZik7bS5zZWxlY3QoKTtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gQShiKXtyZXR1cm4oYj1iLmdldExhc3QodSkpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5nZXROYW1lKClpbiB2P2I6bnVsbH12YXIgdj17b2w6MSx1bDoxfSxLPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxIPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSx1PWZ1bmN0aW9uKGIpe3JldHVybiEoSyhiKXx8SChiKSl9LHo9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO0NLRURJVE9SLnBsdWdpbnMubGlzdD17bGlzdFRvQXJyYXk6ZnVuY3Rpb24oYixtLGUsYyxmKXtpZighdltiLmdldE5hbWUoKV0pcmV0dXJuW107XG5jfHwoYz0wKTtlfHwoZT1bXSk7Zm9yKHZhciBnPTAsaz1iLmdldENoaWxkQ291bnQoKTtnPGs7ZysrKXt2YXIgaD1iLmdldENoaWxkKGcpO2gudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmQ0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGgsbSxlLGMrMSk7aWYoXCJsaVwiPT1oLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGQ9e3BhcmVudDpiLGluZGVudDpjLGVsZW1lbnQ6aCxjb250ZW50czpbXX07Zj9kLmdyYW5kcGFyZW50PWY6KGQuZ3JhbmRwYXJlbnQ9Yi5nZXRQYXJlbnQoKSxkLmdyYW5kcGFyZW50JiZcImxpXCI9PWQuZ3JhbmRwYXJlbnQuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZC5ncmFuZHBhcmVudD1kLmdyYW5kcGFyZW50LmdldFBhcmVudCgpKSk7bSYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKG0saCxcImxpc3RhcnJheV9pbmRleFwiLGUubGVuZ3RoKTtlLnB1c2goZCk7XG5mb3IodmFyIGE9MCxwPWguZ2V0Q2hpbGRDb3VudCgpLGw7YTxwO2ErKylsPWguZ2V0Q2hpbGQoYSksbC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnZbbC5nZXROYW1lKCldP0NLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShsLG0sZSxjKzEsZC5ncmFuZHBhcmVudCk6ZC5jb250ZW50cy5wdXNoKGwpfX1yZXR1cm4gZX0sYXJyYXlUb0xpc3Q6ZnVuY3Rpb24oYixtLGUsYyxmKXtlfHwoZT0wKTtpZighYnx8Yi5sZW5ndGg8ZSsxKXJldHVybiBudWxsO2Zvcih2YXIgZyxrPWJbZV0ucGFyZW50LmdldERvY3VtZW50KCksaD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoayksZD1udWxsLGE9ZSxwPU1hdGgubWF4KGJbZV0uaW5kZW50LDApLGw9bnVsbCxxLG4sdD1jPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7Oyl7dmFyIHI9YlthXTtnPXIuZ3JhbmRwYXJlbnQ7cT1yLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpO2lmKHIuaW5kZW50PT1wKXtkJiZiW2FdLnBhcmVudC5nZXROYW1lKCk9PVxuZC5nZXROYW1lKCl8fChkPWJbYV0ucGFyZW50LmNsb25lKCExLDEpLGYmJmQuc2V0QXR0cmlidXRlKFwiZGlyXCIsZiksaC5hcHBlbmQoZCkpO2w9ZC5hcHBlbmQoci5lbGVtZW50LmNsb25lKDAsMSkpO3EhPWQuZ2V0RGlyZWN0aW9uKDEpJiZsLnNldEF0dHJpYnV0ZShcImRpclwiLHEpO2ZvcihnPTA7ZzxyLmNvbnRlbnRzLmxlbmd0aDtnKyspbC5hcHBlbmQoci5jb250ZW50c1tnXS5jbG9uZSgxLDEpKTthKyt9ZWxzZSBpZihyLmluZGVudD09TWF0aC5tYXgocCwwKSsxKXI9YlthLTFdLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpLGE9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGIsbnVsbCxhLGMsciE9cT9xOm51bGwpLCFsLmdldENoaWxkQ291bnQoKSYmQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmNz49ay4kLmRvY3VtZW50TW9kZSYmbC5hcHBlbmQoay5jcmVhdGVUZXh0KFwiwqBcIikpLGwuYXBwZW5kKGEubGlzdE5vZGUpLGE9YS5uZXh0SW5kZXg7ZWxzZSBpZigtMT09XG5yLmluZGVudCYmIWUmJmcpe3ZbZy5nZXROYW1lKCldPyhsPXIuZWxlbWVudC5jbG9uZSghMSwhMCkscSE9Zy5nZXREaXJlY3Rpb24oMSkmJmwuc2V0QXR0cmlidXRlKFwiZGlyXCIscSkpOmw9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGspO3ZhciBkPWcuZ2V0RGlyZWN0aW9uKDEpIT1xLHk9ci5lbGVtZW50LEQ9eS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSx6PXkuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksQT1sLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQmJihjIT1DS0VESVRPUi5FTlRFUl9CUnx8ZHx8enx8RCksdyxCPXIuY29udGVudHMubGVuZ3RoLHg7Zm9yKGc9MDtnPEI7ZysrKWlmKHc9ci5jb250ZW50c1tnXSxIKHcpJiYxPEIpQT94PXcuY2xvbmUoMSwxKTpsLmFwcGVuZCh3LmNsb25lKDEsMSkpO2Vsc2UgaWYody50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJncuaXNCbG9ja0JvdW5kYXJ5KCkpe2QmJiF3LmdldERpcmVjdGlvbigpJiZcbncuc2V0QXR0cmlidXRlKFwiZGlyXCIscSk7bj13O3ZhciBDPXkuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7QyYmbi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEMucmVwbGFjZSgvKFteO10pJC8sXCIkMTtcIikrKG4uZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpKTtEJiZ3LmFkZENsYXNzKEQpO249bnVsbDt4JiYobC5hcHBlbmQoeCkseD1udWxsKTtsLmFwcGVuZCh3LmNsb25lKDEsMSkpfWVsc2UgQT8obnx8KG49ay5jcmVhdGVFbGVtZW50KHQpLGwuYXBwZW5kKG4pLGQmJm4uc2V0QXR0cmlidXRlKFwiZGlyXCIscSkpLHomJm4uc2V0QXR0cmlidXRlKFwic3R5bGVcIix6KSxEJiZuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsRCkseCYmKG4uYXBwZW5kKHgpLHg9bnVsbCksbi5hcHBlbmQody5jbG9uZSgxLDEpKSk6bC5hcHBlbmQody5jbG9uZSgxLDEpKTt4JiYoKG58fGwpLmFwcGVuZCh4KSx4PW51bGwpO2wudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmYSE9Yi5sZW5ndGgtMSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZcbihxPWwuZ2V0TGFzdCgpKSYmcS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnEuaXMoXCJiclwiKSYmcS5yZW1vdmUoKSwocT1sLmdldExhc3QodSkpJiZxLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKXx8bC5hcHBlbmQoay5jcmVhdGVFbGVtZW50KFwiYnJcIikpKTtxPWwuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiZGl2XCIhPXEmJlwicFwiIT1xfHxsLmFwcGVuZEJvZ3VzKCk7aC5hcHBlbmQobCk7ZD1udWxsO2ErK31lbHNlIHJldHVybiBudWxsO249bnVsbDtpZihiLmxlbmd0aDw9YXx8TWF0aC5tYXgoYlthXS5pbmRlbnQsMCk8cClicmVha31pZihtKWZvcihiPWguZ2V0Rmlyc3QoKTtiOyl7aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMobSxiKSxiLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJihlPWIsaz1mPWM9dm9pZCAwLGM9ZS5nZXREaXJlY3Rpb24oKSkpKXtmb3IoZj1cbmUuZ2V0UGFyZW50KCk7ZiYmIShrPWYuZ2V0RGlyZWN0aW9uKCkpOylmPWYuZ2V0UGFyZW50KCk7Yz09ayYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIil9Yj1iLmdldE5leHRTb3VyY2VOb2RlKCl9cmV0dXJue2xpc3ROb2RlOmgsbmV4dEluZGV4OmF9fX07dmFyIEw9L15oWzEtNl0kLyxKPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtCLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihiKXt0aGlzLnJlZnJlc2goYixiLmVsZW1lbnRQYXRoKCkpO3ZhciBtPWIuY29uZmlnLGU9Yi5nZXRTZWxlY3Rpb24oKSxjPWUmJmUuZ2V0UmFuZ2VzKCk7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXt2YXIgZj1iLmVkaXRhYmxlKCk7aWYoZi5nZXRGaXJzdCh1KSl7dmFyIGc9MT09Yy5sZW5ndGgmJmNbMF07KG09ZyYmZy5nZXRFbmNsb3NlZE5vZGUoKSkmJm0uaXMmJnRoaXMudHlwZT09bS5nZXROYW1lKCkmJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pfWVsc2UgbS5lbnRlck1vZGU9PVxuQ0tFRElUT1IuRU5URVJfQlI/Zi5hcHBlbmRCb2d1cygpOmNbMF0uZml4QmxvY2soMSxtLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxlLnNlbGVjdFJhbmdlcyhjKX1mb3IodmFyIG09ZS5jcmVhdGVCb29rbWFya3MoITApLGY9W10saz17fSxjPWMuY3JlYXRlSXRlcmF0b3IoKSxoPTA7KGc9Yy5nZXROZXh0UmFuZ2UoKSkmJisraDspe3ZhciBkPWcuZ2V0Qm91bmRhcnlOb2RlcygpLGE9ZC5zdGFydE5vZGUscD1kLmVuZE5vZGU7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09YS5nZXROYW1lKCkmJmcuc2V0U3RhcnRBdChkLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7cC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09cC5nZXROYW1lKCkmJmcuc2V0RW5kQXQoZC5lbmROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2c9Zy5jcmVhdGVJdGVyYXRvcigpO2ZvcihnLmZvcmNlQnJCcmVhaz1cbnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRjtkPWcuZ2V0TmV4dFBhcmFncmFwaCgpOylpZighZC5nZXRDdXN0b21EYXRhKFwibGlzdF9ibG9ja1wiKSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGssZCxcImxpc3RfYmxvY2tcIiwxKTtmb3IodmFyIGw9Yi5lbGVtZW50UGF0aChkKSxhPWwuZWxlbWVudHMscD0wLGw9bC5ibG9ja0xpbWl0LHEsbj1hLmxlbmd0aC0xOzA8PW4mJihxPWFbbl0pO24tLSlpZih2W3EuZ2V0TmFtZSgpXSYmbC5jb250YWlucyhxKSl7bC5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIraCk7KGE9cS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RcIikpP2EuY29udGVudHMucHVzaChkKTooYT17cm9vdDpxLGNvbnRlbnRzOltkXX0sZi5wdXNoKGEpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihrLHEsXCJsaXN0X2dyb3VwX29iamVjdFwiLGEpKTtwPTE7YnJlYWt9cHx8KHA9bCxwLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIitcbmgpP3AuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK2gpLmNvbnRlbnRzLnB1c2goZCk6KGE9e3Jvb3Q6cCxjb250ZW50czpbZF19LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihrLHAsXCJsaXN0X2dyb3VwX29iamVjdF9cIitoLGEpLGYucHVzaChhKSkpfX1mb3IocT1bXTswPGYubGVuZ3RoOylpZihhPWYuc2hpZnQoKSx0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkYpaWYodlthLnJvb3QuZ2V0TmFtZSgpXSl7Yz1iO2g9YTthPWs7Zz1xO3A9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGgucm9vdCxhKTtsPVtdO2ZvcihkPTA7ZDxoLmNvbnRlbnRzLmxlbmd0aDtkKyspbj1oLmNvbnRlbnRzW2RdLChuPW4uZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhbi5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKGwucHVzaChuKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYSxuLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLFxuITApKTtmb3IodmFyIG49aC5yb290LmdldERvY3VtZW50KCksdD12b2lkIDAscj12b2lkIDAsZD0wO2Q8bC5sZW5ndGg7ZCsrKXt2YXIgeT1sW2RdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksdD1wW3ldLnBhcmVudDt0LmlzKHRoaXMudHlwZSl8fChyPW4uY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpLHQuY29weUF0dHJpYnV0ZXMocix7c3RhcnQ6MSx0eXBlOjF9KSxyLnJlbW92ZVN0eWxlKFwibGlzdC1zdHlsZS10eXBlXCIpLHBbeV0ucGFyZW50PXIpfWE9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KHAsYSxudWxsLGMuY29uZmlnLmVudGVyTW9kZSk7cD12b2lkIDA7bD1hLmxpc3ROb2RlLmdldENoaWxkQ291bnQoKTtmb3IoZD0wO2Q8bCYmKHA9YS5saXN0Tm9kZS5nZXRDaGlsZChkKSk7ZCsrKXAuZ2V0TmFtZSgpPT10aGlzLnR5cGUmJmcucHVzaChwKTthLmxpc3ROb2RlLnJlcGxhY2UoaC5yb290KTtjLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZWxzZXtwPVxuYjtnPWE7ZD1xO2w9Zy5jb250ZW50cztjPWcucm9vdC5nZXREb2N1bWVudCgpO2g9W107MT09bC5sZW5ndGgmJmxbMF0uZXF1YWxzKGcucm9vdCkmJihhPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsWzBdLm1vdmVDaGlsZHJlbiYmbFswXS5tb3ZlQ2hpbGRyZW4oYSksbFswXS5hcHBlbmQoYSksbFswXT1hKTtnPWcuY29udGVudHNbMF0uZ2V0UGFyZW50KCk7Zm9yKG49MDtuPGwubGVuZ3RoO24rKylnPWcuZ2V0Q29tbW9uQW5jZXN0b3IobFtuXS5nZXRQYXJlbnQoKSk7dD1wLmNvbmZpZy51c2VDb21wdXRlZFN0YXRlO3A9YT12b2lkIDA7dD12b2lkIDA9PT10fHx0O2ZvcihuPTA7bjxsLmxlbmd0aDtuKyspZm9yKHI9bFtuXTt5PXIuZ2V0UGFyZW50KCk7KXtpZih5LmVxdWFscyhnKSl7aC5wdXNoKHIpOyFwJiZyLmdldERpcmVjdGlvbigpJiYocD0xKTtyPXIuZ2V0RGlyZWN0aW9uKHQpO251bGwhPT1hJiYoYT1hJiZhIT1yP251bGw6cik7YnJlYWt9cj15fWlmKCEoMT5oLmxlbmd0aCkpe2w9XG5oW2gubGVuZ3RoLTFdLmdldE5leHQoKTtuPWMuY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpO2QucHVzaChuKTtmb3IodD1kPXZvaWQgMDtoLmxlbmd0aDspZD1oLnNoaWZ0KCksdD1jLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxyPWQsci5pcyhcInByZVwiKXx8TC50ZXN0KHIuZ2V0TmFtZSgpKXx8XCJmYWxzZVwiPT1yLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9kLmFwcGVuZFRvKHQpOihkLmNvcHlBdHRyaWJ1dGVzKHQpLGEmJmQuZ2V0RGlyZWN0aW9uKCkmJih0LnJlbW92ZVN0eWxlKFwiZGlyZWN0aW9uXCIpLHQucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpKSxkLm1vdmVDaGlsZHJlbih0KSxkLnJlbW92ZSgpKSx0LmFwcGVuZFRvKG4pO2EmJnAmJm4uc2V0QXR0cmlidXRlKFwiZGlyXCIsYSk7bD9uLmluc2VydEJlZm9yZShsKTpuLmFwcGVuZFRvKGcpfX1lbHNlIHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZ2W2Eucm9vdC5nZXROYW1lKCldJiZJLmNhbGwodGhpcyxiLGEsayk7XG5mb3Iobj0wO248cS5sZW5ndGg7bisrKUYocVtuXSk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGspO2Uuc2VsZWN0Qm9va21hcmtzKG0pO2IuZm9jdXMoKX0scmVmcmVzaDpmdW5jdGlvbihiLG0pe3ZhciBlPW0uY29udGFpbnModiwxKSxjPW0uYmxvY2tMaW1pdHx8bS5yb290O2UmJmMuY29udGFpbnMoZSk/dGhpcy5zZXRTdGF0ZShlLmlzKHRoaXMudHlwZSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRsaXN0XCIsaW5pdDpmdW5jdGlvbihiKXtiLmJsb2NrbGVzc3x8KGIuYWRkQ29tbWFuZChcIm51bWJlcmVkbGlzdFwiLG5ldyBCKFwibnVtYmVyZWRsaXN0XCIsXCJvbFwiKSksYi5hZGRDb21tYW5kKFwiYnVsbGV0ZWRsaXN0XCIsbmV3IEIoXCJidWxsZXRlZGxpc3RcIixcInVsXCIpKSxiLnVpLmFkZEJ1dHRvbiYmXG4oYi51aS5hZGRCdXR0b24oXCJOdW1iZXJlZExpc3RcIix7bGFiZWw6Yi5sYW5nLmxpc3QubnVtYmVyZWRsaXN0LGNvbW1hbmQ6XCJudW1iZXJlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwxMFwifSksYi51aS5hZGRCdXR0b24oXCJCdWxsZXRlZExpc3RcIix7bGFiZWw6Yi5sYW5nLmxpc3QuYnVsbGV0ZWRsaXN0LGNvbW1hbmQ6XCJidWxsZXRlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwyMFwifSkpLGIub24oXCJrZXlcIixmdW5jdGlvbihtKXt2YXIgZT1tLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksYztpZihcInd5c2l3eWdcIj09Yi5tb2RlJiZlIGluezg6MSw0NjoxfSl7dmFyIGY9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxnPWYmJmYuc3RhcnRQYXRoKCk7aWYoZiYmZi5jb2xsYXBzZWQpe3ZhciBrPTg9PWUsaD1iLmVkaXRhYmxlKCksZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmLmNsb25lKCkpO2QuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpJiZcbiF6KGEpfTtkLmd1YXJkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIShiJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhcInRhYmxlXCIpKX07ZT1mLmNsb25lKCk7aWYoayl7dmFyIGE7KGE9Zy5jb250YWlucyh2KSkmJmYuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChhLENLRURJVE9SLlNUQVJUKSYmKGE9YS5nZXRQYXJlbnQoKSkmJmEuaXMoXCJsaVwiKSYmKGE9QShhKSk/KGM9YSxhPWEuZ2V0UHJldmlvdXModSksZS5tb3ZlVG9Qb3NpdGlvbihhJiZ6KGEpP2E6YyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTooZC5yYW5nZS5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGQucmFuZ2Uuc2V0RW5kKGYuc3RhcnRDb250YWluZXIsZi5zdGFydE9mZnNldCksKGE9ZC5wcmV2aW91cygpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmdldE5hbWUoKWluIHZ8fGEuaXMoXCJsaVwiKSkmJihhLmlzKFwibGlcIil8fChkLnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhhKSxcbmQucmVzZXQoKSxkLmV2YWx1YXRvcj1HLGE9ZC5wcmV2aW91cygpKSxjPWEsZS5tb3ZlVG9FbGVtZW50RWRpdEVuZChjKSxlLm1vdmVUb1Bvc2l0aW9uKGUuZW5kUGF0aCgpLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKSk7aWYoYylDKGIsZSxmKSxtLmNhbmNlbCgpO2Vsc2V7dmFyIHA9Zy5jb250YWlucyh2KTtwJiZmLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQocCxDS0VESVRPUi5TVEFSVCkmJihjPXAuZ2V0Rmlyc3QodSksZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsQ0tFRElUT1IuU1RBUlQpJiYoYT1wLmdldFByZXZpb3VzKHUpLEEoYyk/YSYmKGYubW92ZVRvRWxlbWVudEVkaXRFbmQoYSksZi5zZWxlY3QoKSk6Yi5leGVjQ29tbWFuZChcIm91dGRlbnRcIiksbS5jYW5jZWwoKSkpfX1lbHNlIGlmKGM9Zy5jb250YWlucyhcImxpXCIpKXtpZihkLnJhbmdlLnNldEVuZEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksaz0oaD1jLmdldExhc3QodSkpJiZcbkcoaCk/aDpjLGc9MCwoYT1kLm5leHQoKSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIHYmJmEuZXF1YWxzKGgpPyhnPTEsYT1kLm5leHQoKSk6Zi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssQ0tFRElUT1IuRU5EKSYmKGc9MiksZyYmYSl7Zj1mLmNsb25lKCk7Zi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpO2lmKDE9PWcmJihlLm9wdGltaXplKCksIWUuc3RhcnRDb250YWluZXIuZXF1YWxzKGMpKSl7Zm9yKGM9ZS5zdGFydENvbnRhaW5lcjtjLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKTspcD1jLGM9Yy5nZXRQYXJlbnQoKTtwJiZlLm1vdmVUb1Bvc2l0aW9uKHAsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0yPT1nJiYoZS5tb3ZlVG9Qb3NpdGlvbihlLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxmLmVuZFBhdGgoKS5ibG9jayYmZi5tb3ZlVG9Qb3NpdGlvbihmLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpO1xuQyhiLGUsZik7bS5jYW5jZWwoKX19ZWxzZSBkLnJhbmdlLnNldEVuZEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksKGE9ZC5uZXh0KCkpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyh2KSYmKGE9YS5nZXRGaXJzdCh1KSxnLmJsb2NrJiZmLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCk/KGcuYmxvY2sucmVtb3ZlKCksZi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpLGYuc2VsZWN0KCkpOkEoYSk/KGYubW92ZVRvRWxlbWVudEVkaXRTdGFydChhKSxmLnNlbGVjdCgpKTooZj1mLmNsb25lKCksZi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpLEMoYixlLGYpKSxtLmNhbmNlbCgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zZWxlY3Rpb25DaGFuZ2UoMSl9KX19fSkpfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBsKGEsZixlKXt2YXIgaD1DS0VESVRPUi5jbGVhbldvcmQ7aD9lKCk6KGE9Q0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZXx8ZitcImZpbHRlci9kZWZhdWx0LmpzXCIpLENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGEsZSxudWxsLCEwKSk7cmV0dXJuIWh9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb213b3JkXCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkXCIsaW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKGEpe3ZhciBiPUNLRURJVE9SLnBsdWdpbnMucGFzdGVmcm9td29yZCYmQ0tFRElUT1IucGx1Z2lucy5wYXN0ZWZyb213b3JkLmltYWdlcyxjLGQ9W107aWYoYiYmYS5lZGl0b3IuZmlsdGVyLmNoZWNrKFwiaW1nW3NyY11cIikmJihjPWIuZXh0cmFjdFRhZ3NGcm9tSHRtbChhLmRhdGEuZGF0YVZhbHVlKSwwIT09Yy5sZW5ndGgmJihiPWIuZXh0cmFjdEZyb21SdGYoYS5kYXRhLmRhdGFUcmFuc2ZlcltcInRleHQvcnRmXCJdKSxcbjAhPT1iLmxlbmd0aCYmKENLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2goYixmdW5jdGlvbihhKXtkLnB1c2goYS50eXBlP1wiZGF0YTpcIithLnR5cGUrXCI7YmFzZTY0LFwiK0NLRURJVE9SLnRvb2xzLmNvbnZlcnRCeXRlc1RvQmFzZTY0KENLRURJVE9SLnRvb2xzLmNvbnZlcnRIZXhTdHJpbmdUb0J5dGVzKGEuaGV4KSk6bnVsbCl9LHRoaXMpLGMubGVuZ3RoPT09ZC5sZW5ndGgpKSkpZm9yKGI9MDtiPGMubGVuZ3RoO2IrKykwPT09Y1tiXS5pbmRleE9mKFwiZmlsZTovL1wiKSYmZFtiXSYmKGEuZGF0YS5kYXRhVmFsdWU9YS5kYXRhLmRhdGFWYWx1ZS5yZXBsYWNlKGNbYl0sZFtiXSkpfXZhciBlPTAsaD10aGlzLnBhdGgsbT12b2lkIDA9PT1hLmNvbmZpZy5wYXN0ZUZyb21Xb3JkX2lubGluZUltYWdlcz8hMDphLmNvbmZpZy5wYXN0ZUZyb21Xb3JkX2lubGluZUltYWdlczthLmFkZENvbW1hbmQoXCJwYXN0ZWZyb213b3JkXCIse2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihhLFxuYil7ZT0xO2EuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLG5vdGlmaWNhdGlvbjpiJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIubm90aWZpY2F0aW9uP2Iubm90aWZpY2F0aW9uOiEwfSl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuYWRkUGFzdGVCdXR0b24oYSxcIlBhc3RlRnJvbVdvcmRcIix7bGFiZWw6YS5sYW5nLnBhc3RlZnJvbXdvcmQudG9vbGJhcixjb21tYW5kOlwicGFzdGVmcm9td29yZFwiLHRvb2xiYXI6XCJjbGlwYm9hcmQsNTBcIn0pO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGYpe3ZhciBiPWYuZGF0YSxjPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkP2IuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L2h0bWxcIiwhMCk6bnVsbCxkPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkP2IuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L3J0ZlwiKTpudWxsLGM9Y3x8XG5iLmRhdGFWYWx1ZSxnPXtkYXRhVmFsdWU6YyxkYXRhVHJhbnNmZXI6e1widGV4dC9ydGZcIjpkfX0sZD0vKGNsYXNzPVxcXCI/TXNvfHN0eWxlPSg/OlxcXCJ8XFwnKVteXFxcIl0qP1xcYm1zb1xcLXx3OldvcmREb2N1bWVudHw8bzpcXHcrPnw8XFwvZm9udD4pLyxkPS88bWV0YVxccypuYW1lPSg/OlxcXCJ8XFwnKT9nZW5lcmF0b3IoPzpcXFwifFxcJyk/XFxzKmNvbnRlbnQ9KD86XFxcInxcXCcpP21pY3Jvc29mdC9naS50ZXN0KGMpfHxkLnRlc3QoYyk7aWYoYyYmKGV8fGQpJiYoITEhPT1hLmZpcmUoXCJwYXN0ZUZyb21Xb3JkXCIsZyl8fGUpKXtiLmRvbnRGaWx0ZXI9ITA7dmFyIGs9bChhLGgsZnVuY3Rpb24oKXtpZihrKWEuZmlyZShcInBhc3RlXCIsYik7ZWxzZSBpZighYS5jb25maWcucGFzdGVGcm9tV29yZFByb21wdENsZWFudXB8fGV8fGNvbmZpcm0oYS5sYW5nLnBhc3RlZnJvbXdvcmQuY29uZmlybUNsZWFudXApKWcuZGF0YVZhbHVlPUNLRURJVE9SLmNsZWFuV29yZChnLmRhdGFWYWx1ZSxhKSxhLmZpcmUoXCJhZnRlclBhc3RlRnJvbVdvcmRcIixcbmcpLGIuZGF0YVZhbHVlPWcuZGF0YVZhbHVlLCEwPT09YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2IudHlwZT1cInRleHRcIjpDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWR8fFwiYWxsb3ctd29yZFwiIT09YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0fHwoYi50eXBlPVwiaHRtbFwiKTtlPTB9KTtrJiZmLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkJiZtKWEub24oXCJhZnRlclBhc3RlRnJvbVdvcmRcIixmKX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJyZW1vdmVmb3JtYXRcIix7aW5pdDpmdW5jdGlvbihhKXthLmFkZENvbW1hbmQoXCJyZW1vdmVGb3JtYXRcIixDS0VESVRPUi5wbHVnaW5zLnJlbW92ZWZvcm1hdC5jb21tYW5kcy5yZW1vdmVmb3JtYXQpO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIlJlbW92ZUZvcm1hdFwiLHtsYWJlbDphLmxhbmcucmVtb3ZlZm9ybWF0LnRvb2xiYXIsY29tbWFuZDpcInJlbW92ZUZvcm1hdFwiLHRvb2xiYXI6XCJjbGVhbnVwLDEwXCJ9KX19KTtcbkNLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0PXtjb21tYW5kczp7cmVtb3ZlZm9ybWF0OntleGVjOmZ1bmN0aW9uKGEpe2Zvcih2YXIgaD1hLl8ucmVtb3ZlRm9ybWF0UmVnZXh8fChhLl8ucmVtb3ZlRm9ybWF0UmVnZXg9bmV3IFJlZ0V4cChcIl4oPzpcIithLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzLnJlcGxhY2UoLywvZyxcInxcIikrXCIpJFwiLFwiaVwiKSksZT1hLl8ucmVtb3ZlQXR0cmlidXRlc3x8KGEuXy5yZW1vdmVBdHRyaWJ1dGVzPWEuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMuc3BsaXQoXCIsXCIpKSxmPUNLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmZpbHRlcixtPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksbj1tLmNyZWF0ZUl0ZXJhdG9yKCkscD1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9LGM7Yz1uLmdldE5leHRSYW5nZSgpOyl7Yy5jb2xsYXBzZWR8fGMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpO1xudmFyIGw9Yy5jcmVhdGVCb29rbWFyaygpLGI9bC5zdGFydE5vZGUsZD1sLmVuZE5vZGUsaz1mdW5jdGlvbihiKXtmb3IodmFyIGM9YS5lbGVtZW50UGF0aChiKSxlPWMuZWxlbWVudHMsZD0xLGc7KGc9ZVtkXSkmJiFnLmVxdWFscyhjLmJsb2NrKSYmIWcuZXF1YWxzKGMuYmxvY2tMaW1pdCk7ZCsrKWgudGVzdChnLmdldE5hbWUoKSkmJmYoYSxnKSYmYi5icmVha1BhcmVudChnKX07ayhiKTtpZihkKWZvcihrKGQpLGI9Yi5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2ImJiFiLmVxdWFscyhkKTspaWYoYi5pc1JlYWRPbmx5KCkpe2lmKGIuZ2V0UG9zaXRpb24oZCkmQ0tFRElUT1IuUE9TSVRJT05fQ09OVEFJTlMpYnJlYWs7Yj1iLmdldE5leHQocCl9ZWxzZSBrPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSxcImltZ1wiPT1iLmdldE5hbWUoKSYmYi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHwhZihhLGIpfHwoaC50ZXN0KGIuZ2V0TmFtZSgpKT9cbmIucmVtb3ZlKDEpOihiLnJlbW92ZUF0dHJpYnV0ZXMoZSksYS5maXJlKFwicmVtb3ZlRm9ybWF0Q2xlYW51cFwiLGIpKSksYj1rO2MubW92ZVRvQm9va21hcmsobCl9YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2EuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKG0pfX19LGZpbHRlcjpmdW5jdGlvbihhLGgpe2Zvcih2YXIgZT1hLl8ucmVtb3ZlRm9ybWF0RmlsdGVyc3x8W10sZj0wO2Y8ZS5sZW5ndGg7ZisrKWlmKCExPT09ZVtmXShoKSlyZXR1cm4hMTtyZXR1cm4hMH19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkUmVtb3ZlRm9ybWF0RmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHwodGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnM9W10pO3RoaXMuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzLnB1c2goYSl9O0NLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRUYWdzPVwiYixiaWcsY2l0ZSxjb2RlLGRlbCxkZm4sZW0sZm9udCxpLGlucyxrYmQscSxzLHNhbXAsc21hbGwsc3BhbixzdHJpa2Usc3Ryb25nLHN1YixzdXAsdHQsdSx2YXJcIjtcbkNLRURJVE9SLmNvbmZpZy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPVwiY2xhc3Msc3R5bGUsbGFuZyx3aWR0aCxoZWlnaHQsYWxpZ24saHNwYWNlLHZhbGlnblwiOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGsoYyl7cmV0dXJue2VkaXRvckZvY3VzOiExLGNhblVuZG86ITEsbW9kZXM6e3d5c2l3eWc6MX0sZXhlYzpmdW5jdGlvbihkKXtpZihkLmVkaXRhYmxlKCkuaGFzRm9jdXMpe3ZhciBlPWQuZ2V0U2VsZWN0aW9uKCksYjtpZihiPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUuZ2V0Q29tbW9uQW5jZXN0b3IoKSxlLnJvb3QpKS5jb250YWlucyh7dGQ6MSx0aDoxfSwxKSl7dmFyIGU9ZC5jcmVhdGVSYW5nZSgpLGE9Q0tFRElUT1IudG9vbHMudHJ5VGhlc2UoZnVuY3Rpb24oKXt2YXIgYT1iLmdldFBhcmVudCgpLiQuY2VsbHNbYi4kLmNlbGxJbmRleCsoYz8tMToxKV07YS5wYXJlbnROb2RlLnBhcmVudE5vZGU7cmV0dXJuIGF9LGZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRQYXJlbnQoKSxhPWEuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJC5yb3dzW2EuJC5yb3dJbmRleCsoYz8tMToxKV07cmV0dXJuIGEuY2VsbHNbYz9hLmNlbGxzLmxlbmd0aC0xOlxuMF19KTtpZihhfHxjKWlmKGEpYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSksZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpLGUuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKXx8ZS5zZWxlY3ROb2RlQ29udGVudHMoYSk7ZWxzZSByZXR1cm4hMDtlbHNle2Zvcih2YXIgZj1iLmdldEFzY2VuZGFudChcInRhYmxlXCIpLiQsYT1iLmdldFBhcmVudCgpLiQuY2VsbHMsZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZi5pbnNlcnRSb3coLTEpLGQuZG9jdW1lbnQpLGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspZi5hcHBlbmQoKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhW2ddLGQuZG9jdW1lbnQpKS5jbG9uZSghMSwhMSkpLmFwcGVuZEJvZ3VzKCk7ZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGYpfWUuc2VsZWN0KCEwKTtyZXR1cm4hMH19cmV0dXJuITF9fX12YXIgaD17ZWRpdG9yRm9jdXM6ITEsbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19LGc9e2V4ZWM6ZnVuY3Rpb24oYyl7Yy5jb250YWluZXIuZm9jdXNOZXh0KCEwLFxuYy50YWJJbmRleCl9fSxmPXtleGVjOmZ1bmN0aW9uKGMpe2MuY29udGFpbmVyLmZvY3VzUHJldmlvdXMoITAsYy50YWJJbmRleCl9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYlwiLHtpbml0OmZ1bmN0aW9uKGMpe2Zvcih2YXIgZD0hMSE9PWMuY29uZmlnLmVuYWJsZVRhYktleVRvb2xzLGU9Yy5jb25maWcudGFiU3BhY2VzfHwwLGI9XCJcIjtlLS07KWIrPVwiwqBcIjtpZihiKWMub24oXCJrZXlcIixmdW5jdGlvbihhKXs5PT1hLmRhdGEua2V5Q29kZSYmKGMuaW5zZXJ0VGV4dChiKSxhLmNhbmNlbCgpKX0pO2lmKGQpYy5vbihcImtleVwiLGZ1bmN0aW9uKGEpeyg5PT1hLmRhdGEua2V5Q29kZSYmYy5leGVjQ29tbWFuZChcInNlbGVjdE5leHRDZWxsXCIpfHxhLmRhdGEua2V5Q29kZT09Q0tFRElUT1IuU0hJRlQrOSYmYy5leGVjQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiKSkmJmEuY2FuY2VsKCl9KTtjLmFkZENvbW1hbmQoXCJibHVyXCIsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGcsaCkpO2MuYWRkQ29tbWFuZChcImJsdXJCYWNrXCIsXG5DS0VESVRPUi50b29scy5leHRlbmQoZixoKSk7Yy5hZGRDb21tYW5kKFwic2VsZWN0TmV4dENlbGxcIixrKCkpO2MuYWRkQ29tbWFuZChcInNlbGVjdFByZXZpb3VzQ2VsbFwiLGsoITApKX19KX0pKCk7XG5DS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZm9jdXNOZXh0PWZ1bmN0aW9uKGssaCl7dmFyIGc9dm9pZCAwPT09aD90aGlzLmdldFRhYkluZGV4KCk6aCxmLGMsZCxlLGIsYTtpZigwPj1nKWZvcihiPXRoaXMuZ2V0TmV4dFNvdXJjZU5vZGUoayxDS0VESVRPUi5OT0RFX0VMRU1FTlQpO2I7KXtpZihiLmlzVmlzaWJsZSgpJiYwPT09Yi5nZXRUYWJJbmRleCgpKXtkPWI7YnJlYWt9Yj1iLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCl9ZWxzZSBmb3IoYj10aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldEZpcnN0KCk7Yj1iLmdldE5leHRTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighZilpZighYyYmYi5lcXVhbHModGhpcykpe2lmKGM9ITAsayl7aWYoIShiPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Zj0xfX1lbHNlIGMmJiF0aGlzLmNvbnRhaW5zKGIpJiZcbihmPTEpO2lmKGIuaXNWaXNpYmxlKCkmJiEoMD4oYT1iLmdldFRhYkluZGV4KCkpKSl7aWYoZiYmYT09Zyl7ZD1iO2JyZWFrfWE+ZyYmKCFkfHwhZXx8YTxlKT8oZD1iLGU9YSk6ZHx8MCE9PWF8fChkPWIsZT1hKX19ZCYmZC5mb2N1cygpfTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c1ByZXZpb3VzPWZ1bmN0aW9uKGssaCl7Zm9yKHZhciBnPXZvaWQgMD09PWg/dGhpcy5nZXRUYWJJbmRleCgpOmgsZixjLGQsZT0wLGIsYT10aGlzLmdldERvY3VtZW50KCkuZ2V0Qm9keSgpLmdldExhc3QoKTthPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCExLENLRURJVE9SLk5PREVfRUxFTUVOVCk7KXtpZighZilpZighYyYmYS5lcXVhbHModGhpcykpe2lmKGM9ITAsayl7aWYoIShhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCkpKWJyZWFrO2Y9MX19ZWxzZSBjJiYhdGhpcy5jb250YWlucyhhKSYmKGY9MSk7aWYoYS5pc1Zpc2libGUoKSYmISgwPihiPWEuZ2V0VGFiSW5kZXgoKSkpKWlmKDA+PWcpe2lmKGYmJjA9PT1iKXtkPWE7YnJlYWt9Yj5lJiYoZD1hLGU9Yil9ZWxzZXtpZihmJiZiPT1nKXtkPWE7YnJlYWt9YjxnJiYoIWR8fGI+ZSkmJihkPWEsZT1iKX19ZCYmZC5mb2N1cygpfTsoZnVuY3Rpb24oKXt2YXIgZz1bQ0tFRElUT1IuQ1RSTCs5MCxDS0VESVRPUi5DVFJMKzg5LENLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrOTBdLG49ezg6MSw0NjoxfTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInVuZG9cIix7aW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2QuZW5hYmxlZCYmITEhPT1hLmRhdGEuY29tbWFuZC5jYW5VbmRvJiZkLnNhdmUoKX1mdW5jdGlvbiBjKCl7ZC5lbmFibGVkPWEucmVhZE9ubHk/ITE6XCJ3eXNpd3lnXCI9PWEubW9kZTtkLm9uQ2hhbmdlKCl9dmFyIGQ9YS51bmRvTWFuYWdlcj1uZXcgZShhKSxsPWQuZWRpdGluZ0hhbmRsZXI9bmV3IGsoZCksZj1hLmFkZENvbW1hbmQoXCJ1bmRvXCIse2V4ZWM6ZnVuY3Rpb24oKXtkLnVuZG8oKSYmKGEuc2VsZWN0aW9uQ2hhbmdlKCksdGhpcy5maXJlKFwiYWZ0ZXJVbmRvXCIpKX0sc3RhcnREaXNhYmxlZDohMCxjYW5VbmRvOiExfSksaD1hLmFkZENvbW1hbmQoXCJyZWRvXCIse2V4ZWM6ZnVuY3Rpb24oKXtkLnJlZG8oKSYmXG4oYS5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclJlZG9cIikpfSxzdGFydERpc2FibGVkOiEwLGNhblVuZG86ITF9KTthLnNldEtleXN0cm9rZShbW2dbMF0sXCJ1bmRvXCJdLFtnWzFdLFwicmVkb1wiXSxbZ1syXSxcInJlZG9cIl1dKTtkLm9uQ2hhbmdlPWZ1bmN0aW9uKCl7Zi5zZXRTdGF0ZShkLnVuZG9hYmxlKCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTtoLnNldFN0YXRlKGQucmVkb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfTthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixiKTthLm9uKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGIpO2Eub24oXCJzYXZlU25hcHNob3RcIixmdW5jdGlvbihhKXtkLnNhdmUoYS5kYXRhJiZhLmRhdGEuY29udGVudE9ubHkpfSk7YS5vbihcImNvbnRlbnREb21cIixsLmF0dGFjaExpc3RlbmVycyxsKTthLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSk7XG5hLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmZC5zYXZlKCEwKX0pO2Eub24oXCJtb2RlXCIsYyk7YS5vbihcInJlYWRPbmx5XCIsYyk7YS51aS5hZGRCdXR0b24mJihhLnVpLmFkZEJ1dHRvbihcIlVuZG9cIix7bGFiZWw6YS5sYW5nLnVuZG8udW5kbyxjb21tYW5kOlwidW5kb1wiLHRvb2xiYXI6XCJ1bmRvLDEwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIlJlZG9cIix7bGFiZWw6YS5sYW5nLnVuZG8ucmVkbyxjb21tYW5kOlwicmVkb1wiLHRvb2xiYXI6XCJ1bmRvLDIwXCJ9KSk7YS5yZXNldFVuZG89ZnVuY3Rpb24oKXtkLnJlc2V0KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfTthLm9uKFwidXBkYXRlU25hcHNob3RcIixmdW5jdGlvbigpe2QuY3VycmVudEltYWdlJiZkLnVwZGF0ZSgpfSk7YS5vbihcImxvY2tTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2QubG9jayhhJiZhLmRvbnRVcGRhdGUsYSYmYS5mb3JjZVVwZGF0ZSl9KTthLm9uKFwidW5sb2NrU25hcHNob3RcIixcbmQudW5sb2NrLGQpfX0pO0NLRURJVE9SLnBsdWdpbnMudW5kbz17fTt2YXIgZT1DS0VESVRPUi5wbHVnaW5zLnVuZG8uVW5kb01hbmFnZXI9ZnVuY3Rpb24oYSl7dGhpcy5zdHJva2VzUmVjb3JkZWQ9WzAsMF07dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLnByZXZpb3VzS2V5R3JvdXA9LTE7dGhpcy5saW1pdD1hLmNvbmZpZy51bmRvU3RhY2tTaXplfHwyMDt0aGlzLnN0cm9rZXNMaW1pdD0yNTt0aGlzLmVkaXRvcj1hO3RoaXMucmVzZXQoKX07ZS5wcm90b3R5cGU9e3R5cGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmdldEtleUdyb3VwKGEpLGQ9dGhpcy5zdHJva2VzUmVjb3JkZWRbY10rMTtiPWJ8fGQ+PXRoaXMuc3Ryb2tlc0xpbWl0O3RoaXMudHlwaW5nfHwodGhpcy5oYXNVbmRvPXRoaXMudHlwaW5nPSEwLHRoaXMuaGFzUmVkbz0hMSx0aGlzLm9uQ2hhbmdlKCkpO2I/KGQ9MCx0aGlzLmVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpKTp0aGlzLmVkaXRvci5maXJlKFwiY2hhbmdlXCIpO3RoaXMuc3Ryb2tlc1JlY29yZGVkW2NdPVxuZDt0aGlzLnByZXZpb3VzS2V5R3JvdXA9Y30sa2V5R3JvdXBDaGFuZ2VkOmZ1bmN0aW9uKGEpe3JldHVybiBlLmdldEtleUdyb3VwKGEpIT10aGlzLnByZXZpb3VzS2V5R3JvdXB9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5zbmFwc2hvdHM9W107dGhpcy5pbmRleD0tMTt0aGlzLmN1cnJlbnRJbWFnZT1udWxsO3RoaXMuaGFzUmVkbz10aGlzLmhhc1VuZG89ITE7dGhpcy5sb2NrZWQ9bnVsbDt0aGlzLnJlc2V0VHlwZSgpfSxyZXNldFR5cGU6ZnVuY3Rpb24oKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLnR5cGluZz0hMTt0aGlzLnByZXZpb3VzS2V5R3JvdXA9LTF9LHJlZnJlc2hTdGF0ZTpmdW5jdGlvbigpe3RoaXMuaGFzVW5kbz0hIXRoaXMuZ2V0TmV4dEltYWdlKCEwKTt0aGlzLmhhc1JlZG89ISF0aGlzLmdldE5leHRJbWFnZSghMSk7dGhpcy5yZXNldFR5cGUoKTt0aGlzLm9uQ2hhbmdlKCl9LHNhdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuZWRpdG9yO2lmKHRoaXMubG9ja2VkfHxcblwicmVhZHlcIiE9ZC5zdGF0dXN8fFwid3lzaXd5Z1wiIT1kLm1vZGUpcmV0dXJuITE7dmFyIGU9ZC5lZGl0YWJsZSgpO2lmKCFlfHxcInJlYWR5XCIhPWUuc3RhdHVzKXJldHVybiExO2U9dGhpcy5zbmFwc2hvdHM7Ynx8KGI9bmV3IGYoZCkpO2lmKCExPT09Yi5jb250ZW50cylyZXR1cm4hMTtpZih0aGlzLmN1cnJlbnRJbWFnZSlpZihiLmVxdWFsc0NvbnRlbnQodGhpcy5jdXJyZW50SW1hZ2UpKXtpZihhfHxiLmVxdWFsc1NlbGVjdGlvbih0aGlzLmN1cnJlbnRJbWFnZSkpcmV0dXJuITF9ZWxzZSExIT09YyYmZC5maXJlKFwiY2hhbmdlXCIpO2Uuc3BsaWNlKHRoaXMuaW5kZXgrMSxlLmxlbmd0aC10aGlzLmluZGV4LTEpO2UubGVuZ3RoPT10aGlzLmxpbWl0JiZlLnNoaWZ0KCk7dGhpcy5pbmRleD1lLnB1c2goYiktMTt0aGlzLmN1cnJlbnRJbWFnZT1iOyExIT09YyYmdGhpcy5yZWZyZXNoU3RhdGUoKTtyZXR1cm4hMH0scmVzdG9yZUltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLFxuYzthLmJvb2ttYXJrcyYmKGIuZm9jdXMoKSxjPWIuZ2V0U2VsZWN0aW9uKCkpO3RoaXMubG9ja2VkPXtsZXZlbDo5OTl9O3RoaXMuZWRpdG9yLmxvYWRTbmFwc2hvdChhLmNvbnRlbnRzKTthLmJvb2ttYXJrcz9jLnNlbGVjdEJvb2ttYXJrcyhhLmJvb2ttYXJrcyk6Q0tFRElUT1IuZW52LmllJiYoYz10aGlzLmVkaXRvci5kb2N1bWVudC5nZXRCb2R5KCkuJC5jcmVhdGVUZXh0UmFuZ2UoKSxjLmNvbGxhcHNlKCEwKSxjLnNlbGVjdCgpKTt0aGlzLmxvY2tlZD1udWxsO3RoaXMuaW5kZXg9YS5pbmRleDt0aGlzLmN1cnJlbnRJbWFnZT10aGlzLnNuYXBzaG90c1t0aGlzLmluZGV4XTt0aGlzLnVwZGF0ZSgpO3RoaXMucmVmcmVzaFN0YXRlKCk7Yi5maXJlKFwiY2hhbmdlXCIpfSxnZXROZXh0SW1hZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zbmFwc2hvdHMsYz10aGlzLmN1cnJlbnRJbWFnZSxkO2lmKGMpaWYoYSlmb3IoZD10aGlzLmluZGV4LTE7MDw9ZDtkLS0pe2lmKGE9YltkXSwhYy5lcXVhbHNDb250ZW50KGEpKXJldHVybiBhLmluZGV4PVxuZCxhfWVsc2UgZm9yKGQ9dGhpcy5pbmRleCsxO2Q8Yi5sZW5ndGg7ZCsrKWlmKGE9YltkXSwhYy5lcXVhbHNDb250ZW50KGEpKXJldHVybiBhLmluZGV4PWQsYTtyZXR1cm4gbnVsbH0scmVkb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1JlZG99LHVuZG9hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZCYmdGhpcy5oYXNVbmRvfSx1bmRvOmZ1bmN0aW9uKCl7aWYodGhpcy51bmRvYWJsZSgpKXt0aGlzLnNhdmUoITApO3ZhciBhPXRoaXMuZ2V0TmV4dEltYWdlKCEwKTtpZihhKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShhKSwhMH1yZXR1cm4hMX0scmVkbzpmdW5jdGlvbigpe2lmKHRoaXMucmVkb2FibGUoKSYmKHRoaXMuc2F2ZSghMCksdGhpcy5yZWRvYWJsZSgpKSl7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITEpO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLCEwfXJldHVybiExfSx1cGRhdGU6ZnVuY3Rpb24oYSl7aWYoIXRoaXMubG9ja2VkKXthfHxcbihhPW5ldyBmKHRoaXMuZWRpdG9yKSk7Zm9yKHZhciBiPXRoaXMuaW5kZXgsYz10aGlzLnNuYXBzaG90czswPGImJnRoaXMuY3VycmVudEltYWdlLmVxdWFsc0NvbnRlbnQoY1tiLTFdKTspLS1iO2Muc3BsaWNlKGIsdGhpcy5pbmRleC1iKzEsYSk7dGhpcy5pbmRleD1iO3RoaXMuY3VycmVudEltYWdlPWF9fSx1cGRhdGVTZWxlY3Rpb246ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc25hcHNob3RzLmxlbmd0aClyZXR1cm4hMTt2YXIgYj10aGlzLnNuYXBzaG90cyxjPWJbYi5sZW5ndGgtMV07cmV0dXJuIGMuZXF1YWxzQ29udGVudChhKSYmIWMuZXF1YWxzU2VsZWN0aW9uKGEpPyh0aGlzLmN1cnJlbnRJbWFnZT1iW2IubGVuZ3RoLTFdPWEsITApOiExfSxsb2NrOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5sb2NrZWQpdGhpcy5sb2NrZWQubGV2ZWwrKztlbHNlIGlmKGEpdGhpcy5sb2NrZWQ9e2xldmVsOjF9O2Vsc2V7dmFyIGM9bnVsbDtpZihiKWM9ITA7ZWxzZXt2YXIgZD1uZXcgZih0aGlzLmVkaXRvcixcbiEwKTt0aGlzLmN1cnJlbnRJbWFnZSYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChkKSYmKGM9ZCl9dGhpcy5sb2NrZWQ9e3VwZGF0ZTpjLGxldmVsOjF9fX0sdW5sb2NrOmZ1bmN0aW9uKCl7aWYodGhpcy5sb2NrZWQmJiEtLXRoaXMubG9ja2VkLmxldmVsKXt2YXIgYT10aGlzLmxvY2tlZC51cGRhdGU7dGhpcy5sb2NrZWQ9bnVsbDtpZighMD09PWEpdGhpcy51cGRhdGUoKTtlbHNlIGlmKGEpe3ZhciBiPW5ldyBmKHRoaXMuZWRpdG9yLCEwKTthLmVxdWFsc0NvbnRlbnQoYil8fHRoaXMudXBkYXRlKCl9fX19O2UubmF2aWdhdGlvbktleUNvZGVzPXszNzoxLDM4OjEsMzk6MSw0MDoxLDM2OjEsMzU6MSwzMzoxLDM0OjF9O2Uua2V5R3JvdXBzPXtQUklOVEFCTEU6MCxGVU5DVElPTkFMOjF9O2UuaXNOYXZpZ2F0aW9uS2V5PWZ1bmN0aW9uKGEpe3JldHVybiEhZS5uYXZpZ2F0aW9uS2V5Q29kZXNbYV19O2UuZ2V0S2V5R3JvdXA9ZnVuY3Rpb24oYSl7dmFyIGI9ZS5rZXlHcm91cHM7XG5yZXR1cm4gblthXT9iLkZVTkNUSU9OQUw6Yi5QUklOVEFCTEV9O2UuZ2V0T3Bwb3NpdGVLZXlHcm91cD1mdW5jdGlvbihhKXt2YXIgYj1lLmtleUdyb3VwcztyZXR1cm4gYT09Yi5GVU5DVElPTkFMP2IuUFJJTlRBQkxFOmIuRlVOQ1RJT05BTH07ZS5pZUZ1bmN0aW9uYWxLZXlzQnVnPWZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5lbnYuaWUmJmUuZ2V0S2V5R3JvdXAoYSk9PWUua2V5R3JvdXBzLkZVTkNUSU9OQUx9O3ZhciBmPUNLRURJVE9SLnBsdWdpbnMudW5kby5JbWFnZT1mdW5jdGlvbihhLGIpe3RoaXMuZWRpdG9yPWE7YS5maXJlKFwiYmVmb3JlVW5kb0ltYWdlXCIpO3ZhciBjPWEuZ2V0U25hcHNob3QoKTtDS0VESVRPUi5lbnYuaWUmJmMmJihjPWMucmVwbGFjZSgvXFxzK2RhdGEtY2tlLWV4cGFuZG89XCIuKj9cIi9nLFwiXCIpKTt0aGlzLmNvbnRlbnRzPWM7Ynx8KHRoaXMuYm9va21hcmtzPShjPWMmJmEuZ2V0U2VsZWN0aW9uKCkpJiZjLmNyZWF0ZUJvb2ttYXJrczIoITApKTthLmZpcmUoXCJhZnRlclVuZG9JbWFnZVwiKX0sXG5oPS9cXGIoPzpocmVmfHNyY3xuYW1lKT1cIlteXCJdKj9cIi9naTtmLnByb3RvdHlwZT17ZXF1YWxzQ29udGVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNvbnRlbnRzO2E9YS5jb250ZW50cztDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKSYmKGI9Yi5yZXBsYWNlKGgsXCJcIiksYT1hLnJlcGxhY2UoaCxcIlwiKSk7cmV0dXJuIGIhPWE/ITE6ITB9LGVxdWFsc1NlbGVjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmJvb2ttYXJrczthPWEuYm9va21hcmtzO2lmKGJ8fGEpe2lmKCFifHwhYXx8Yi5sZW5ndGghPWEubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdLGU9YVtjXTtpZihkLnN0YXJ0T2Zmc2V0IT1lLnN0YXJ0T2Zmc2V0fHxkLmVuZE9mZnNldCE9ZS5lbmRPZmZzZXR8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoZC5zdGFydCxlLnN0YXJ0KXx8IUNLRURJVE9SLnRvb2xzLmFycmF5Q29tcGFyZShkLmVuZCxcbmUuZW5kKSlyZXR1cm4hMX19cmV0dXJuITB9fTt2YXIgaz1DS0VESVRPUi5wbHVnaW5zLnVuZG8uTmF0aXZlRWRpdGluZ0hhbmRsZXI9ZnVuY3Rpb24oYSl7dGhpcy51bmRvTWFuYWdlcj1hO3RoaXMuaWdub3JlSW5wdXRFdmVudD0hMTt0aGlzLmtleUV2ZW50c1N0YWNrPW5ldyBtO3RoaXMubGFzdEtleWRvd25JbWFnZT1udWxsfTtrLnByb3RvdHlwZT17b25LZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXkoKTtpZigyMjkhPT1iKWlmKC0xPENLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxhLmRhdGEuZ2V0S2V5c3Ryb2tlKCkpKWEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgaWYodGhpcy5rZXlFdmVudHNTdGFjay5jbGVhblVwKGEpLGE9dGhpcy51bmRvTWFuYWdlcix0aGlzLmtleUV2ZW50c1N0YWNrLmdldExhc3QoYil8fHRoaXMua2V5RXZlbnRzU3RhY2sucHVzaChiKSx0aGlzLmxhc3RLZXlkb3duSW1hZ2U9bmV3IGYoYS5lZGl0b3IpLGUuaXNOYXZpZ2F0aW9uS2V5KGIpfHxcbnRoaXMudW5kb01hbmFnZXIua2V5R3JvdXBDaGFuZ2VkKGIpKWlmKGEuc3Ryb2tlc1JlY29yZGVkWzBdfHxhLnN0cm9rZXNSZWNvcmRlZFsxXSlhLnNhdmUoITEsdGhpcy5sYXN0S2V5ZG93bkltYWdlLCExKSxhLnJlc2V0VHlwZSgpfSxvbklucHV0OmZ1bmN0aW9uKCl7aWYodGhpcy5pZ25vcmVJbnB1dEV2ZW50KXRoaXMuaWdub3JlSW5wdXRFdmVudD0hMTtlbHNle3ZhciBhPXRoaXMua2V5RXZlbnRzU3RhY2suZ2V0TGFzdCgpO2F8fChhPXRoaXMua2V5RXZlbnRzU3RhY2sucHVzaCgwKSk7dGhpcy5rZXlFdmVudHNTdGFjay5pbmNyZW1lbnQoYS5rZXlDb2RlKTt0aGlzLmtleUV2ZW50c1N0YWNrLmdldFRvdGFsSW5wdXRzKCk+PXRoaXMudW5kb01hbmFnZXIuc3Ryb2tlc0xpbWl0JiYodGhpcy51bmRvTWFuYWdlci50eXBlKGEua2V5Q29kZSwhMCksdGhpcy5rZXlFdmVudHNTdGFjay5yZXNldElucHV0cygpKX19LG9uS2V5dXA6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy51bmRvTWFuYWdlcjtcbmE9YS5kYXRhLmdldEtleSgpO3ZhciBjPXRoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKTt0aGlzLmtleUV2ZW50c1N0YWNrLnJlbW92ZShhKTtpZighKGUuaWVGdW5jdGlvbmFsS2V5c0J1ZyhhKSYmdGhpcy5sYXN0S2V5ZG93bkltYWdlJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UuZXF1YWxzQ29udGVudChuZXcgZihiLmVkaXRvciwhMCkpKSlpZigwPGMpYi50eXBlKGEpO2Vsc2UgaWYoZS5pc05hdmlnYXRpb25LZXkoYSkpdGhpcy5vbk5hdmlnYXRpb25LZXkoITApfSxvbk5hdmlnYXRpb25LZXk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy51bmRvTWFuYWdlcjshYSYmYi5zYXZlKCEwLG51bGwsITEpfHxiLnVwZGF0ZVNlbGVjdGlvbihuZXcgZihiLmVkaXRvcikpO2IucmVzZXRUeXBlKCl9LGlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuaWdub3JlSW5wdXRFdmVudD0hMH0sYWN0aXZhdGVJbnB1dEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZUlucHV0RXZlbnQ9XG4hMX0sYXR0YWNoTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy51bmRvTWFuYWdlci5lZGl0b3IsYj1hLmVkaXRhYmxlKCksYz10aGlzO2IuYXR0YWNoTGlzdGVuZXIoYixcImtleWRvd25cIixmdW5jdGlvbihhKXtjLm9uS2V5ZG93bihhKTtpZihlLmllRnVuY3Rpb25hbEtleXNCdWcoYS5kYXRhLmdldEtleSgpKSljLm9uSW5wdXQoKX0sbnVsbCxudWxsLDk5OSk7Yi5hdHRhY2hMaXN0ZW5lcihiLENLRURJVE9SLmVudi5pZT9cImtleXByZXNzXCI6XCJpbnB1dFwiLGMub25JbnB1dCxjLG51bGwsOTk5KTtiLmF0dGFjaExpc3RlbmVyKGIsXCJrZXl1cFwiLGMub25LZXl1cCxjLG51bGwsOTk5KTtiLmF0dGFjaExpc3RlbmVyKGIsXCJwYXN0ZVwiLGMuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGMsbnVsbCw5OTkpO2IuYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixjLmlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcixjLG51bGwsOTk5KTthLm9uKFwiYWZ0ZXJQYXN0ZVwiLGMuYWN0aXZhdGVJbnB1dEV2ZW50TGlzdGVuZXIsXG5jLG51bGwsOTk5KTtiLmF0dGFjaExpc3RlbmVyKGIuaXNJbmxpbmUoKT9iOmEuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yy5vbk5hdmlnYXRpb25LZXkoKX0sbnVsbCxudWxsLDk5OSk7Yi5hdHRhY2hMaXN0ZW5lcih0aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixcImJsdXJcIixmdW5jdGlvbigpe2Mua2V5RXZlbnRzU3RhY2sucmVtb3ZlKDkpfSxudWxsLG51bGwsOTk5KX19O3ZhciBtPUNLRURJVE9SLnBsdWdpbnMudW5kby5LZXlFdmVudHNTdGFjaz1mdW5jdGlvbigpe3RoaXMuc3RhY2s9W119O20ucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKGEpe2E9dGhpcy5zdGFjay5wdXNoKHtrZXlDb2RlOmEsaW5wdXRzOjB9KTtyZXR1cm4gdGhpcy5zdGFja1thLTFdfSxnZXRMYXN0SW5kZXg6ZnVuY3Rpb24oYSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGEpcmV0dXJuIHRoaXMuc3RhY2subGVuZ3RoLTE7Zm9yKHZhciBiPXRoaXMuc3RhY2subGVuZ3RoO2ItLTspaWYodGhpcy5zdGFja1tiXS5rZXlDb2RlPT1cbmEpcmV0dXJuIGI7cmV0dXJuLTF9LGdldExhc3Q6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTtyZXR1cm4tMSE9YT90aGlzLnN0YWNrW2FdOm51bGx9LGluY3JlbWVudDpmdW5jdGlvbihhKXt0aGlzLmdldExhc3QoYSkuaW5wdXRzKyt9LHJlbW92ZTpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TGFzdEluZGV4KGEpOy0xIT1hJiZ0aGlzLnN0YWNrLnNwbGljZShhLDEpfSxyZXNldElucHV0czpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiPT10eXBlb2YgYSl0aGlzLmdldExhc3QoYSkuaW5wdXRzPTA7ZWxzZSBmb3IoYT10aGlzLnN0YWNrLmxlbmd0aDthLS07KXRoaXMuc3RhY2tbYV0uaW5wdXRzPTB9LGdldFRvdGFsSW5wdXRzOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuc3RhY2subGVuZ3RoLGI9MDthLS07KWIrPXRoaXMuc3RhY2tbYV0uaW5wdXRzO3JldHVybiBifSxjbGVhblVwOmZ1bmN0aW9uKGEpe2E9YS5kYXRhLiQ7YS5jdHJsS2V5fHxhLm1ldGFLZXl8fHRoaXMucmVtb3ZlKDE3KTtcbmEuc2hpZnRLZXl8fHRoaXMucmVtb3ZlKDE2KTthLmFsdEtleXx8dGhpcy5yZW1vdmUoMTgpfX19KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIG0oYSxkKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyx7ZWRpdG9yOmEsZWRpdGFibGU6YS5lZGl0YWJsZSgpLGRvYzphLmRvY3VtZW50LHdpbjphLndpbmRvd30sZCwhMCk7dGhpcy5pbmxpbmU9dGhpcy5lZGl0YWJsZS5pc0lubGluZSgpO3RoaXMuaW5saW5lfHwodGhpcy5mcmFtZT10aGlzLndpbi5nZXRGcmFtZSgpKTt0aGlzLnRhcmdldD10aGlzW3RoaXMuaW5saW5lP1wiZWRpdGFibGVcIjpcImRvY1wiXX1mdW5jdGlvbiBuKGEsZCl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZCx7ZWRpdG9yOmF9LCEwKX1mdW5jdGlvbiBwKGEsZCl7dmFyIGI9YS5lZGl0YWJsZSgpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtlZGl0b3I6YSxlZGl0YWJsZTpiLGlubGluZTpiLmlzSW5saW5lKCksZG9jOmEuZG9jdW1lbnQsd2luOmEud2luZG93LGNvbnRhaW5lcjpDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksd2luVG9wOkNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpfSxcbmQsITApO3RoaXMuaGlkZGVuPXt9O3RoaXMudmlzaWJsZT17fTt0aGlzLmlubGluZXx8KHRoaXMuZnJhbWU9dGhpcy53aW4uZ2V0RnJhbWUoKSk7dGhpcy5xdWVyeVZpZXdwb3J0KCk7dmFyIGM9Q0tFRElUT1IudG9vbHMuYmluZCh0aGlzLnF1ZXJ5Vmlld3BvcnQsdGhpcyksZT1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuaGlkZVZpc2libGUsdGhpcyksZz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMucmVtb3ZlQWxsLHRoaXMpO2IuYXR0YWNoTGlzdGVuZXIodGhpcy53aW5Ub3AsXCJyZXNpemVcIixjKTtiLmF0dGFjaExpc3RlbmVyKHRoaXMud2luVG9wLFwic2Nyb2xsXCIsYyk7Yi5hdHRhY2hMaXN0ZW5lcih0aGlzLndpblRvcCxcInJlc2l6ZVwiLGUpO2IuYXR0YWNoTGlzdGVuZXIodGhpcy53aW4sXCJzY3JvbGxcIixlKTtiLmF0dGFjaExpc3RlbmVyKHRoaXMuaW5saW5lP2I6dGhpcy5mcmFtZSxcIm1vdXNlb3V0XCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLiQuY2xpZW50WDthPWEuZGF0YS4kLmNsaWVudFk7XG50aGlzLnF1ZXJ5Vmlld3BvcnQoKTsoYjw9dGhpcy5yZWN0LmxlZnR8fGI+PXRoaXMucmVjdC5yaWdodHx8YTw9dGhpcy5yZWN0LnRvcHx8YT49dGhpcy5yZWN0LmJvdHRvbSkmJnRoaXMuaGlkZVZpc2libGUoKTsoMD49Ynx8Yj49dGhpcy53aW5Ub3BQYW5lLndpZHRofHwwPj1hfHxhPj10aGlzLndpblRvcFBhbmUuaGVpZ2h0KSYmdGhpcy5oaWRlVmlzaWJsZSgpfSx0aGlzKTtiLmF0dGFjaExpc3RlbmVyKGEsXCJyZXNpemVcIixjKTtiLmF0dGFjaExpc3RlbmVyKGEsXCJtb2RlXCIsZyk7YS5vbihcImRlc3Ryb3lcIixnKTt0aGlzLmxpbmVUcGw9KG5ldyBDS0VESVRPUi50ZW1wbGF0ZSgnXFx4M2NkaXYgZGF0YS1ja2UtbGluZXV0aWxzLWxpbmVcXHgzZFwiMVwiIGNsYXNzXFx4M2RcImNrZV9yZXNldF9hbGxcIiBzdHlsZVxceDNkXCJ7bGluZVN0eWxlfVwiXFx4M2VcXHgzY3NwYW4gc3R5bGVcXHgzZFwie3RpcExlZnRTdHlsZX1cIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBzdHlsZVxceDNkXCJ7dGlwUmlnaHRTdHlsZX1cIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjL2RpdlxceDNlJykpLm91dHB1dCh7bGluZVN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30sXG50LHRoaXMubGluZVN0eWxlLCEwKSksdGlwTGVmdFN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30scSx7bGVmdDpcIjBweFwiLFwiYm9yZGVyLWxlZnQtY29sb3JcIjpcInJlZFwiLFwiYm9yZGVyLXdpZHRoXCI6XCI2cHggMCA2cHggNnB4XCJ9LHRoaXMudGlwQ3NzLHRoaXMudGlwTGVmdFN0eWxlLCEwKSksdGlwUmlnaHRTdHlsZTpDS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHEse3JpZ2h0OlwiMHB4XCIsXCJib3JkZXItcmlnaHQtY29sb3JcIjpcInJlZFwiLFwiYm9yZGVyLXdpZHRoXCI6XCI2cHggNnB4IDZweCAwXCJ9LHRoaXMudGlwQ3NzLHRoaXMudGlwUmlnaHRTdHlsZSwhMCkpfSl9ZnVuY3Rpb24gbChhKXt2YXIgZDtpZihkPWEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWQ9IShyW2EuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpXXx8clthLmdldEF0dHJpYnV0ZShcImFsaWduXCIpXSk7cmV0dXJuIGQmJlxuIXVbYS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIildfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibGluZXV0aWxzXCIpO0NLRURJVE9SLkxJTkVVVElMU19CRUZPUkU9MTtDS0VESVRPUi5MSU5FVVRJTFNfQUZURVI9MjtDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFPTQ7bS5wcm90b3R5cGU9e3N0YXJ0OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMsYj10aGlzLmVkaXRvcixjPXRoaXMuZG9jLGUsZyxmLGgsaz1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAsZnVuY3Rpb24oKXtiLnJlYWRPbmx5fHxcInd5c2l3eWdcIiE9Yi5tb2RlfHwoZC5yZWxhdGlvbnM9e30sKGc9Yy4kLmVsZW1lbnRGcm9tUG9pbnQoZixoKSkmJmcubm9kZVR5cGUmJihlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChnKSxkLnRyYXZlcnNlU2VhcmNoKGUpLGlzTmFOKGYraCl8fGQucGl4ZWxTZWFyY2goZSxmLGgpLGEmJmEoZC5yZWxhdGlvbnMsZixoKSkpfSk7dGhpcy5saXN0ZW5lcj10aGlzLmVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKHRoaXMudGFyZ2V0LFxuXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXtmPWEuZGF0YS4kLmNsaWVudFg7aD1hLmRhdGEuJC5jbGllbnRZO2suaW5wdXQoKX0pO3RoaXMuZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIodGhpcy5pbmxpbmU/dGhpcy5lZGl0YWJsZTp0aGlzLmZyYW1lLFwibW91c2VvdXRcIixmdW5jdGlvbigpe2sucmVzZXQoKX0pfSxzdG9wOmZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5lciYmdGhpcy5saXN0ZW5lci5yZW1vdmVMaXN0ZW5lcigpfSxnZXRSYW5nZTpmdW5jdGlvbigpe3ZhciBhPXt9O2FbQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRV09Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUO2FbQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSXT1DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ7YVtDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFXT1DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGI9dGhpcy5lZGl0b3IuY3JlYXRlUmFuZ2UoKTtiLm1vdmVUb1Bvc2l0aW9uKHRoaXMucmVsYXRpb25zW2QudWlkXS5lbGVtZW50LFxuYVtkLnR5cGVdKTtyZXR1cm4gYn19KCksc3RvcmU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt2YXIgZT1hLmdldFVuaXF1ZUlkKCk7ZSBpbiBjP2NbZV0udHlwZXw9YjpjW2VdPXtlbGVtZW50OmEsdHlwZTpifX1yZXR1cm4gZnVuY3Rpb24oZCxiKXt2YXIgYztiJkNLRURJVE9SLkxJTkVVVElMU19BRlRFUiYmbChjPWQuZ2V0TmV4dCgpKSYmYy5pc1Zpc2libGUoKSYmKGEoYyxDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFLHRoaXMucmVsYXRpb25zKSxiXj1DS0VESVRPUi5MSU5FVVRJTFNfQUZURVIpO2ImQ0tFRElUT1IuTElORVVUSUxTX0lOU0lERSYmbChjPWQuZ2V0Rmlyc3QoKSkmJmMuaXNWaXNpYmxlKCkmJihhKGMsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSx0aGlzLnJlbGF0aW9ucyksYl49Q0tFRElUT1IuTElORVVUSUxTX0lOU0lERSk7YShkLGIsdGhpcy5yZWxhdGlvbnMpfX0oKSx0cmF2ZXJzZVNlYXJjaDpmdW5jdGlvbihhKXt2YXIgZCxiLGM7ZG8gaWYoYz1hLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLFxuIShjJiZjIGluIHRoaXMucmVsYXRpb25zKSl7aWYoYS5lcXVhbHModGhpcy5lZGl0YWJsZSkpYnJlYWs7aWYobChhKSlmb3IoZCBpbiB0aGlzLmxvb2t1cHMpKGI9dGhpcy5sb29rdXBzW2RdKGEpKSYmdGhpcy5zdG9yZShhLGIpfXdoaWxlKCghYXx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFwidHJ1ZVwiIT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkmJihhPWEuZ2V0UGFyZW50KCkpKX0scGl4ZWxTZWFyY2g6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYyxlLGcsZil7Zm9yKHZhciBoPTAsaztmKGUpOyl7ZSs9ZztpZigyNT09KytoKWJyZWFrO2lmKGs9dGhpcy5kb2MuJC5lbGVtZW50RnJvbVBvaW50KGMsZSkpaWYoaz09YSloPTA7ZWxzZSBpZihkKGEsaykmJihoPTAsbChrPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChrKSkpKXJldHVybiBrfX12YXIgZD1DS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXQ/ZnVuY3Rpb24oYSxjKXtyZXR1cm4gYS5jb250YWlucyhjKX06XG5mdW5jdGlvbihhLGMpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYykmMTYpfTtyZXR1cm4gZnVuY3Rpb24oYixjLGQpe3ZhciBnPXRoaXMud2luLmdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodCxmPWEuY2FsbCh0aGlzLGIuJCxjLGQsLTEsZnVuY3Rpb24oYSl7cmV0dXJuIDA8YX0pO2M9YS5jYWxsKHRoaXMsYi4kLGMsZCwxLGZ1bmN0aW9uKGEpe3JldHVybiBhPGd9KTtpZihmKWZvcih0aGlzLnRyYXZlcnNlU2VhcmNoKGYpOyFmLmdldFBhcmVudCgpLmVxdWFscyhiKTspZj1mLmdldFBhcmVudCgpO2lmKGMpZm9yKHRoaXMudHJhdmVyc2VTZWFyY2goYyk7IWMuZ2V0UGFyZW50KCkuZXF1YWxzKGIpOyljPWMuZ2V0UGFyZW50KCk7Zm9yKDtmfHxjOyl7ZiYmKGY9Zi5nZXROZXh0KGwpKTtpZighZnx8Zi5lcXVhbHMoYykpYnJlYWs7dGhpcy50cmF2ZXJzZVNlYXJjaChmKTtjJiYoYz1jLmdldFByZXZpb3VzKGwpKTtpZighY3x8Yy5lcXVhbHMoZikpYnJlYWs7dGhpcy50cmF2ZXJzZVNlYXJjaChjKX19fSgpLFxuZ3JlZWR5U2VhcmNoOmZ1bmN0aW9uKCl7dGhpcy5yZWxhdGlvbnM9e307Zm9yKHZhciBhPXRoaXMuZWRpdGFibGUuZ2V0RWxlbWVudHNCeVRhZyhcIipcIiksZD0wLGIsYyxlO2I9YS5nZXRJdGVtKGQrKyk7KWlmKCFiLmVxdWFscyh0aGlzLmVkaXRhYmxlKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8IWIuaXNSZWFkT25seSgpKSYmbChiKSYmYi5pc1Zpc2libGUoKSlmb3IoZSBpbiB0aGlzLmxvb2t1cHMpKGM9dGhpcy5sb29rdXBzW2VdKGIpKSYmdGhpcy5zdG9yZShiLGMpO3JldHVybiB0aGlzLnJlbGF0aW9uc319O24ucHJvdG90eXBlPXtsb2NhdGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9YS5lbGVtZW50W2I9PT1DS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oKTtyZXR1cm4gYyYmbChjKT8oYS5zaWJsaW5nUmVjdD1jLmdldENsaWVudFJlY3QoKSxcbmI9PUNLRURJVE9SLkxJTkVVVElMU19CRUZPUkU/KGEuc2libGluZ1JlY3QuYm90dG9tK2EuZWxlbWVudFJlY3QudG9wKS8yOihhLmVsZW1lbnRSZWN0LmJvdHRvbSthLnNpYmxpbmdSZWN0LnRvcCkvMik6Yj09Q0tFRElUT1IuTElORVVUSUxTX0JFRk9SRT9hLmVsZW1lbnRSZWN0LnRvcDphLmVsZW1lbnRSZWN0LmJvdHRvbX1yZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGI7dGhpcy5sb2NhdGlvbnM9e307Zm9yKHZhciBjIGluIGQpYj1kW2NdLGIuZWxlbWVudFJlY3Q9Yi5lbGVtZW50LmdldENsaWVudFJlY3QoKSxiLnR5cGUmQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSYmdGhpcy5zdG9yZShjLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUsYShiLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUpKSxiLnR5cGUmQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSJiZ0aGlzLnN0b3JlKGMsQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSLGEoYixDS0VESVRPUi5MSU5FVVRJTFNfQUZURVIpKSxiLnR5cGUmXG5DS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFJiZ0aGlzLnN0b3JlKGMsQ0tFRElUT1IuTElORVVUSUxTX0lOU0lERSwoYi5lbGVtZW50UmVjdC50b3ArYi5lbGVtZW50UmVjdC5ib3R0b20pLzIpO3JldHVybiB0aGlzLmxvY2F0aW9uc319KCksc29ydDpmdW5jdGlvbigpe3ZhciBhLGQsYixjO3JldHVybiBmdW5jdGlvbihlLGcpe2E9dGhpcy5sb2NhdGlvbnM7ZD1bXTtmb3IodmFyIGYgaW4gYSlmb3IodmFyIGggaW4gYVtmXSlpZihiPU1hdGguYWJzKGUtYVtmXVtoXSksZC5sZW5ndGgpe2ZvcihjPTA7YzxkLmxlbmd0aDtjKyspaWYoYjxkW2NdLmRpc3Qpe2Quc3BsaWNlKGMsMCx7dWlkOitmLHR5cGU6aCxkaXN0OmJ9KTticmVha31jPT1kLmxlbmd0aCYmZC5wdXNoKHt1aWQ6K2YsdHlwZTpoLGRpc3Q6Yn0pfWVsc2UgZC5wdXNoKHt1aWQ6K2YsdHlwZTpoLGRpc3Q6Yn0pO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBnP2Quc2xpY2UoMCxnKTpkfX0oKSxzdG9yZTpmdW5jdGlvbihhLFxuZCxiKXt0aGlzLmxvY2F0aW9uc1thXXx8KHRoaXMubG9jYXRpb25zW2FdPXt9KTt0aGlzLmxvY2F0aW9uc1thXVtkXT1ifX07dmFyIHE9e2Rpc3BsYXk6XCJibG9ja1wiLHdpZHRoOlwiMHB4XCIsaGVpZ2h0OlwiMHB4XCIsXCJib3JkZXItY29sb3JcIjpcInRyYW5zcGFyZW50XCIsXCJib3JkZXItc3R5bGVcIjpcInNvbGlkXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDpcIi02cHhcIn0sdD17aGVpZ2h0OlwiMHB4XCIsXCJib3JkZXItdG9wXCI6XCIxcHggZGFzaGVkIHJlZFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixcInotaW5kZXhcIjo5OTk5fTtwLnByb3RvdHlwZT17cmVtb3ZlQWxsOmZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuaGlkZGVuKXRoaXMuaGlkZGVuW2FdLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLmhpZGRlblthXTtmb3IoYSBpbiB0aGlzLnZpc2libGUpdGhpcy52aXNpYmxlW2FdLnJlbW92ZSgpLGRlbGV0ZSB0aGlzLnZpc2libGVbYV19LGhpZGVMaW5lOmZ1bmN0aW9uKGEpe3ZhciBkPWEuZ2V0VW5pcXVlSWQoKTtcbmEuaGlkZSgpO3RoaXMuaGlkZGVuW2RdPWE7ZGVsZXRlIHRoaXMudmlzaWJsZVtkXX0sc2hvd0xpbmU6ZnVuY3Rpb24oYSl7dmFyIGQ9YS5nZXRVbmlxdWVJZCgpO2Euc2hvdygpO3RoaXMudmlzaWJsZVtkXT1hO2RlbGV0ZSB0aGlzLmhpZGRlbltkXX0saGlkZVZpc2libGU6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy52aXNpYmxlKXRoaXMuaGlkZUxpbmUodGhpcy52aXNpYmxlW2FdKX0scGxhY2VMaW5lOmZ1bmN0aW9uKGEsZCl7dmFyIGIsYyxlO2lmKGI9dGhpcy5nZXRTdHlsZShhLnVpZCxhLnR5cGUpKXtmb3IoZSBpbiB0aGlzLnZpc2libGUpaWYodGhpcy52aXNpYmxlW2VdLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoKXtjPXRoaXMudmlzaWJsZVtlXTticmVha31pZighYylmb3IoZSBpbiB0aGlzLmhpZGRlbilpZih0aGlzLmhpZGRlbltlXS5nZXRDdXN0b21EYXRhKFwiaGFzaFwiKSE9PXRoaXMuaGFzaCl7dGhpcy5zaG93TGluZShjPXRoaXMuaGlkZGVuW2VdKTtcbmJyZWFrfWN8fHRoaXMuc2hvd0xpbmUoYz10aGlzLmFkZExpbmUoKSk7Yy5zZXRDdXN0b21EYXRhKFwiaGFzaFwiLHRoaXMuaGFzaCk7dGhpcy52aXNpYmxlW2MuZ2V0VW5pcXVlSWQoKV09YztjLnNldFN0eWxlcyhiKTtkJiZkKGMpfX0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSxkKXt2YXIgYj10aGlzLnJlbGF0aW9uc1thXSxjPXRoaXMubG9jYXRpb25zW2FdW2RdLGU9e307ZS53aWR0aD1iLnNpYmxpbmdSZWN0P01hdGgubWF4KGIuc2libGluZ1JlY3Qud2lkdGgsYi5lbGVtZW50UmVjdC53aWR0aCk6Yi5lbGVtZW50UmVjdC53aWR0aDtlLnRvcD10aGlzLmlubGluZT9jK3RoaXMud2luVG9wU2Nyb2xsLnktdGhpcy5yZWN0LnJlbGF0aXZlWTp0aGlzLnJlY3QudG9wK3RoaXMud2luVG9wU2Nyb2xsLnkrYztpZihlLnRvcC10aGlzLndpblRvcFNjcm9sbC55PHRoaXMucmVjdC50b3B8fGUudG9wLXRoaXMud2luVG9wU2Nyb2xsLnk+dGhpcy5yZWN0LmJvdHRvbSlyZXR1cm4hMTt0aGlzLmlubGluZT9cbmUubGVmdD1iLmVsZW1lbnRSZWN0LmxlZnQtdGhpcy5yZWN0LnJlbGF0aXZlWDooMDxiLmVsZW1lbnRSZWN0LmxlZnQ/ZS5sZWZ0PXRoaXMucmVjdC5sZWZ0K2IuZWxlbWVudFJlY3QubGVmdDooZS53aWR0aCs9Yi5lbGVtZW50UmVjdC5sZWZ0LGUubGVmdD10aGlzLnJlY3QubGVmdCksMDwoYj1lLmxlZnQrZS53aWR0aC0odGhpcy5yZWN0LmxlZnQrdGhpcy53aW5QYW5lLndpZHRoKSkmJihlLndpZHRoLT1iKSk7ZS5sZWZ0Kz10aGlzLndpblRvcFNjcm9sbC54O2Zvcih2YXIgZyBpbiBlKWVbZ109Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGVbZ10pO3JldHVybiBlfSxhZGRMaW5lOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwodGhpcy5saW5lVHBsKTthLmFwcGVuZFRvKHRoaXMuY29udGFpbmVyKTtyZXR1cm4gYX0scHJlcGFyZTpmdW5jdGlvbihhLGQpe3RoaXMucmVsYXRpb25zPWE7dGhpcy5sb2NhdGlvbnM9ZDt0aGlzLmhhc2g9TWF0aC5yYW5kb20oKX0sXG5jbGVhbnVwOmZ1bmN0aW9uKCl7dmFyIGEsZDtmb3IoZCBpbiB0aGlzLnZpc2libGUpYT10aGlzLnZpc2libGVbZF0sYS5nZXRDdXN0b21EYXRhKFwiaGFzaFwiKSE9PXRoaXMuaGFzaCYmdGhpcy5oaWRlTGluZShhKX0scXVlcnlWaWV3cG9ydDpmdW5jdGlvbigpe3RoaXMud2luUGFuZT10aGlzLndpbi5nZXRWaWV3UGFuZVNpemUoKTt0aGlzLndpblRvcFNjcm9sbD10aGlzLndpblRvcC5nZXRTY3JvbGxQb3NpdGlvbigpO3RoaXMud2luVG9wUGFuZT10aGlzLndpblRvcC5nZXRWaWV3UGFuZVNpemUoKTt0aGlzLnJlY3Q9dGhpcy5nZXRDbGllbnRSZWN0KHRoaXMuaW5saW5lP3RoaXMuZWRpdGFibGU6dGhpcy5mcmFtZSl9LGdldENsaWVudFJlY3Q6ZnVuY3Rpb24oYSl7YT1hLmdldENsaWVudFJlY3QoKTt2YXIgZD10aGlzLmNvbnRhaW5lci5nZXREb2N1bWVudFBvc2l0aW9uKCksYj10aGlzLmNvbnRhaW5lci5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik7YS5yZWxhdGl2ZVg9YS5yZWxhdGl2ZVk9XG4wO1wic3RhdGljXCIhPWImJihhLnJlbGF0aXZlWT1kLnksYS5yZWxhdGl2ZVg9ZC54LGEudG9wLT1hLnJlbGF0aXZlWSxhLmJvdHRvbS09YS5yZWxhdGl2ZVksYS5sZWZ0LT1hLnJlbGF0aXZlWCxhLnJpZ2h0LT1hLnJlbGF0aXZlWCk7cmV0dXJuIGF9fTt2YXIgcj17bGVmdDoxLHJpZ2h0OjEsY2VudGVyOjF9LHU9e2Fic29sdXRlOjEsZml4ZWQ6MX07Q0tFRElUT1IucGx1Z2lucy5saW5ldXRpbHM9e2ZpbmRlcjptLGxvY2F0b3I6bixsaW5lcjpwfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS5nZXROYW1lJiYhYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwid2lkZ2V0c2VsZWN0aW9uXCIse2luaXQ6ZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy53aWRnZXRzZWxlY3Rpb247YS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbihhKXthPWEuZWRpdG9yO3ZhciBjPWEuZWRpdGFibGUoKTtjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmdldEtleXN0cm9rZSgpPT1DS0VESVRPUi5DVFJMKzY1JiZDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5hZGRGaWxsZXJzKGMpfHxiLnJlbW92ZUZpbGxlcnMoYyl9LDApfSxudWxsLG51bGwsLTEpO2Eub24oXCJzZWxlY3Rpb25DaGVja1wiLGZ1bmN0aW9uKGEpe2IucmVtb3ZlRmlsbGVycyhhLmVkaXRvci5lZGl0YWJsZSgpKX0pO1xuYS5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZT1iLmNsZWFuUGFzdGVEYXRhKGEuZGF0YS5kYXRhVmFsdWUpfSk7XCJzZWxlY3RhbGxcImluIGEucGx1Z2lucyYmYi5hZGRTZWxlY3RBbGxJbnRlZ3JhdGlvbihhKX0pfX19KTtDS0VESVRPUi5wbHVnaW5zLndpZGdldHNlbGVjdGlvbj17c3RhcnRGaWxsZXI6bnVsbCxlbmRGaWxsZXI6bnVsbCxmaWxsZXJBdHRyaWJ1dGU6XCJkYXRhLWNrZS1maWxsZXItd2Via2l0XCIsZmlsbGVyQ29udGVudDpcIlxceDI2bmJzcDtcIixmaWxsZXJUYWdOYW1lOlwiZGl2XCIsYWRkRmlsbGVyczpmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtpZighdGhpcy5pc1dob2xlQ29udGVudFNlbGVjdGVkKGEpJiYwPGEuZ2V0Q2hpbGRDb3VudCgpKXt2YXIgZD1hLmdldEZpcnN0KGUpLGM9YS5nZXRMYXN0KGUpO2QmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZC5pc0VkaXRhYmxlKCkmJih0aGlzLnN0YXJ0RmlsbGVyPXRoaXMuY3JlYXRlRmlsbGVyKCksXG5hLmFwcGVuZCh0aGlzLnN0YXJ0RmlsbGVyLDEpKTtjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWMuaXNFZGl0YWJsZSgpJiYodGhpcy5lbmRGaWxsZXI9dGhpcy5jcmVhdGVGaWxsZXIoITApLGEuYXBwZW5kKHRoaXMuZW5kRmlsbGVyLDApKTtpZih0aGlzLmhhc0ZpbGxlcihhKSlyZXR1cm4gYj1iLmNyZWF0ZVJhbmdlKCksYi5zZWxlY3ROb2RlQ29udGVudHMoYSksYi5zZWxlY3QoKSwhMH1yZXR1cm4hMX0scmVtb3ZlRmlsbGVyczpmdW5jdGlvbihhKXtpZih0aGlzLmhhc0ZpbGxlcihhKSYmIXRoaXMuaXNXaG9sZUNvbnRlbnRTZWxlY3RlZChhKSl7dmFyIGI9YS5maW5kT25lKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIlxceDNkc3RhcnRdXCIpLGQ9YS5maW5kT25lKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIlxceDNkZW5kXVwiKTt0aGlzLnN0YXJ0RmlsbGVyJiZiJiZ0aGlzLnN0YXJ0RmlsbGVyLmVxdWFscyhiKT9cbnRoaXMucmVtb3ZlRmlsbGVyKHRoaXMuc3RhcnRGaWxsZXIsYSk6dGhpcy5zdGFydEZpbGxlcj1iO3RoaXMuZW5kRmlsbGVyJiZkJiZ0aGlzLmVuZEZpbGxlci5lcXVhbHMoZCk/dGhpcy5yZW1vdmVGaWxsZXIodGhpcy5lbmRGaWxsZXIsYSk6dGhpcy5lbmRGaWxsZXI9ZH19LGNsZWFuUGFzdGVEYXRhOmZ1bmN0aW9uKGEpe2EmJmEubGVuZ3RoJiYoYT1hLnJlcGxhY2UodGhpcy5jcmVhdGVGaWxsZXJSZWdleCgpLFwiXCIpLnJlcGxhY2UodGhpcy5jcmVhdGVGaWxsZXJSZWdleCghMCksXCJcIikpO3JldHVybiBhfSxpc1dob2xlQ29udGVudFNlbGVjdGVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO3JldHVybiFifHxiJiZiLmNvbGxhcHNlZD8hMTooYj1iLmNsb25lKCksYi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCksISEoYiYmYSYmYi5zdGFydENvbnRhaW5lciYmYi5lbmRDb250YWluZXImJjA9PT1iLnN0YXJ0T2Zmc2V0JiZcbmIuZW5kT2Zmc2V0PT09YS5nZXRDaGlsZENvdW50KCkmJmIuc3RhcnRDb250YWluZXIuZXF1YWxzKGEpJiZiLmVuZENvbnRhaW5lci5lcXVhbHMoYSkpKX0saGFzRmlsbGVyOmZ1bmN0aW9uKGEpe3JldHVybiAwPGEuZmluZCh0aGlzLmZpbGxlclRhZ05hbWUrXCJbXCIrdGhpcy5maWxsZXJBdHRyaWJ1dGUrXCJdXCIpLmNvdW50KCl9LGNyZWF0ZUZpbGxlcjpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy5maWxsZXJUYWdOYW1lKTtiLnNldEh0bWwodGhpcy5maWxsZXJDb250ZW50KTtiLnNldEF0dHJpYnV0ZSh0aGlzLmZpbGxlckF0dHJpYnV0ZSxhP1wiZW5kXCI6XCJzdGFydFwiKTtiLnNldEF0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIiwxKTtiLnNldFN0eWxlcyh7ZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6MCxoZWlnaHQ6MCxwYWRkaW5nOjAsYm9yZGVyOjAsbWFyZ2luOjAscG9zaXRpb246XCJhYnNvbHV0ZVwiLHRvcDowLGxlZnQ6XCItOTk5OXB4XCIsb3BhY2l0eTowLFxub3ZlcmZsb3c6XCJoaWRkZW5cIn0pO3JldHVybiBifSxyZW1vdmVGaWxsZXI6ZnVuY3Rpb24oYSxiKXtpZihhKXt2YXIgZD1iLmVkaXRvcixjPWIuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdLnN0YXJ0UGF0aCgpLGY9ZC5jcmVhdGVSYW5nZSgpLGcsZTtjLmNvbnRhaW5zKGEpJiYoZz1hLmdldEh0bWwoKSxlPSEwKTtjPVwic3RhcnRcIj09YS5nZXRBdHRyaWJ1dGUodGhpcy5maWxsZXJBdHRyaWJ1dGUpO2EucmVtb3ZlKCk7ZyYmMDxnLmxlbmd0aCYmZyE9dGhpcy5maWxsZXJDb250ZW50PyhiLmluc2VydEh0bWxJbnRvUmFuZ2UoZyxkLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdKSxmLnNldFN0YXJ0QXQoYi5nZXRDaGlsZChiLmdldENoaWxkQ291bnQoKS0xKSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxkLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZl0pKTplJiYoYz9mLnNldFN0YXJ0QXQoYi5nZXRGaXJzdCgpLmdldE5leHQoKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk6XG5mLnNldEVuZEF0KGIuZ2V0TGFzdCgpLmdldFByZXZpb3VzKCksQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksYi5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtmXSkpfX0sY3JlYXRlRmlsbGVyUmVnZXg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jcmVhdGVGaWxsZXIoYSkuZ2V0T3V0ZXJIdG1sKCkucmVwbGFjZSgvc3R5bGU9XCJbXlwiXSpcIi9naSwnc3R5bGVcXHgzZFwiW15cIl0qXCInKS5yZXBsYWNlKC8+W148XSo8L2dpLFwiXFx4M2VbXlxceDNjXSpcXHgzY1wiKTtyZXR1cm4gbmV3IFJlZ0V4cCgoYT9cIlwiOlwiXlwiKStiKyhhP1wiJFwiOlwiXCIpKX0sYWRkU2VsZWN0QWxsSW50ZWdyYXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthLmVkaXRhYmxlKCkuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oZCl7dmFyIGM9YS5lZGl0YWJsZSgpO1wic2VsZWN0QWxsXCI9PWQuZGF0YS5uYW1lJiZjJiZiLmFkZEZpbGxlcnMoYyl9LG51bGwsbnVsbCw5OTk5KX19fSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBwKGEpe3RoaXMuZWRpdG9yPWE7dGhpcy5yZWdpc3RlcmVkPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuc2VsZWN0ZWQ9W107dGhpcy53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlPXRoaXMuZm9jdXNlZD1udWxsO3RoaXMuXz17bmV4dElkOjAsdXBjYXN0czpbXSx1cGNhc3RDYWxsYmFja3M6W10sZmlsdGVyczp7fX07SSh0aGlzKTtKKHRoaXMpO3RoaXMub24oXCJjaGVja1dpZGdldHNcIixLKTt0aGlzLmVkaXRvci5vbihcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiLHRoaXMuY2hlY2tXaWRnZXRzLHRoaXMpO0wodGhpcyk7TSh0aGlzKTtOKHRoaXMpO08odGhpcyk7UCh0aGlzKX1mdW5jdGlvbiBnKGEsYixjLGQsZSl7dmFyIGY9YS5lZGl0b3I7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZCx7ZWRpdG9yOmYsaWQ6YixpbmxpbmU6XCJzcGFuXCI9PWMuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpLGVsZW1lbnQ6YyxkYXRhOkNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcblwiZnVuY3Rpb25cIj09dHlwZW9mIGQuZGVmYXVsdHM/ZC5kZWZhdWx0cygpOmQuZGVmYXVsdHMpLGRhdGFSZWFkeTohMSxpbml0ZWQ6ITEscmVhZHk6ITEsZWRpdDpnLnByb3RvdHlwZS5lZGl0LGZvY3VzZWRFZGl0YWJsZTpudWxsLGRlZmluaXRpb246ZCxyZXBvc2l0b3J5OmEsZHJhZ2dhYmxlOiExIT09ZC5kcmFnZ2FibGUsXzp7ZG93bmNhc3RGbjpkLmRvd25jYXN0JiZcInN0cmluZ1wiPT10eXBlb2YgZC5kb3duY2FzdD9kLmRvd25jYXN0c1tkLmRvd25jYXN0XTpkLmRvd25jYXN0fX0sITApO2EuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLHRoaXMpO1EodGhpcyxkKTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpO3RoaXMuaW5pdGVkPSEwOyhhPXRoaXMuZWxlbWVudC5kYXRhKFwiY2tlLXdpZGdldC1kYXRhXCIpKSYmdGhpcy5zZXREYXRhKEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGEpKSk7ZSYmdGhpcy5zZXREYXRhKGUpO3RoaXMuZGF0YS5jbGFzc2VzfHx0aGlzLnNldERhdGEoXCJjbGFzc2VzXCIsXG50aGlzLmdldENsYXNzZXMoKSk7dGhpcy5kYXRhUmVhZHk9ITA7cih0aGlzKTt0aGlzLmZpcmUoXCJkYXRhXCIsdGhpcy5kYXRhKTt0aGlzLmlzSW5pdGVkKCkmJmYuZWRpdGFibGUoKS5jb250YWlucyh0aGlzLndyYXBwZXIpJiYodGhpcy5yZWFkeT0hMCx0aGlzLmZpcmUoXCJyZWFkeVwiKSl9ZnVuY3Rpb24gcShhLGIsYyl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2FsbCh0aGlzLGIuJCk7dGhpcy5lZGl0b3I9YTt0aGlzLl89e307Yj10aGlzLmZpbHRlcj1jLmZpbHRlcjtDS0VESVRPUi5kdGRbdGhpcy5nZXROYW1lKCldLnA/KHRoaXMuZW50ZXJNb2RlPWI/Yi5nZXRBbGxvd2VkRW50ZXJNb2RlKGEuZW50ZXJNb2RlKTphLmVudGVyTW9kZSx0aGlzLnNoaWZ0RW50ZXJNb2RlPWI/Yi5nZXRBbGxvd2VkRW50ZXJNb2RlKGEuc2hpZnRFbnRlck1vZGUsITApOmEuc2hpZnRFbnRlck1vZGUpOnRoaXMuZW50ZXJNb2RlPXRoaXMuc2hpZnRFbnRlck1vZGU9Q0tFRElUT1IuRU5URVJfQlJ9ZnVuY3Rpb24gUihhLFxuYil7YS5hZGRDb21tYW5kKGIubmFtZSx7ZXhlYzpmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGUoKXthLndpZGdldHMuZmluYWxpemVDcmVhdGlvbihrKX12YXIgZj1hLndpZGdldHMuZm9jdXNlZDtpZihmJiZmLm5hbWU9PWIubmFtZSlmLmVkaXQoKTtlbHNlIGlmKGIuaW5zZXJ0KWIuaW5zZXJ0KHtlZGl0b3I6YSxjb21tYW5kRGF0YTpkfSk7ZWxzZSBpZihiLnRlbXBsYXRlKXt2YXIgZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBiLmRlZmF1bHRzP2IuZGVmYXVsdHMoKTpiLmRlZmF1bHRzLGY9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoYi50ZW1wbGF0ZS5vdXRwdXQoZikpLGgsbD1hLndpZGdldHMud3JhcEVsZW1lbnQoZixiLm5hbWUpLGs9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGwuZ2V0RG9jdW1lbnQoKSk7ay5hcHBlbmQobCk7KGg9YS53aWRnZXRzLmluaXRPbihmLGIsZCYmZC5zdGFydHVwRGF0YSkpPyhmPWgub25jZShcImVkaXRcIixmdW5jdGlvbihiKXtpZihiLmRhdGEuZGlhbG9nKWgub25jZShcImRpYWxvZ1wiLFxuZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGQsZjtkPWIub25jZShcIm9rXCIsZSxudWxsLG51bGwsMjApO2Y9Yi5vbmNlKFwiY2FuY2VsXCIsZnVuY3Rpb24oYil7Yi5kYXRhJiYhMT09PWIuZGF0YS5oaWRlfHxhLndpZGdldHMuZGVzdHJveShoLCEwKX0pO2Iub25jZShcImhpZGVcIixmdW5jdGlvbigpe2QucmVtb3ZlTGlzdGVuZXIoKTtmLnJlbW92ZUxpc3RlbmVyKCl9KX0pO2Vsc2UgZSgpfSxudWxsLG51bGwsOTk5KSxoLmVkaXQoKSxmLnJlbW92ZUxpc3RlbmVyKCkpOmUoKX19LGFsbG93ZWRDb250ZW50OmIuYWxsb3dlZENvbnRlbnQscmVxdWlyZWRDb250ZW50OmIucmVxdWlyZWRDb250ZW50LGNvbnRlbnRGb3JtczpiLmNvbnRlbnRGb3Jtcyxjb250ZW50VHJhbnNmb3JtYXRpb25zOmIuY29udGVudFRyYW5zZm9ybWF0aW9uc30pfWZ1bmN0aW9uIFMoYSxiKXtmdW5jdGlvbiBjKGEsYyl7dmFyIGQ9Yi51cGNhc3Quc3BsaXQoXCIsXCIpLGUsZjtmb3IoZj0wO2Y8ZC5sZW5ndGg7ZisrKWlmKGU9XG5kW2ZdLGU9PT1hLm5hbWUpcmV0dXJuIGIudXBjYXN0c1tlXS5jYWxsKHRoaXMsYSxjKTtyZXR1cm4hMX1mdW5jdGlvbiBkKGIsZCxjKXt2YXIgZT1DS0VESVRPUi50b29scy5nZXRJbmRleChhLl8udXBjYXN0cyxmdW5jdGlvbihhKXtyZXR1cm4gYVsyXT5jfSk7MD5lJiYoZT1hLl8udXBjYXN0cy5sZW5ndGgpO2EuXy51cGNhc3RzLnNwbGljZShlLDAsW0NLRURJVE9SLnRvb2xzLmJpbmQoYixkKSxkLm5hbWUsY10pfXZhciBlPWIudXBjYXN0LGY9Yi51cGNhc3RQcmlvcml0eXx8MTA7ZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlP2QoYyxiLGYpOmQoZSxiLGYpKX1mdW5jdGlvbiB0KGEsYil7YS5mb2N1c2VkPW51bGw7aWYoYi5pc0luaXRlZCgpKXt2YXIgYz1iLmVkaXRvci5jaGVja0RpcnR5KCk7YS5maXJlKFwid2lkZ2V0Qmx1cnJlZFwiLHt3aWRnZXQ6Yn0pO2Iuc2V0Rm9jdXNlZCghMSk7IWMmJmIuZWRpdG9yLnJlc2V0RGlydHkoKX19ZnVuY3Rpb24gSyhhKXthPWEuZGF0YTtpZihcInd5c2l3eWdcIj09XG50aGlzLmVkaXRvci5tb2RlKXt2YXIgYj10aGlzLmVkaXRvci5lZGl0YWJsZSgpLGM9dGhpcy5pbnN0YW5jZXMsZCxlLGYsaDtpZihiKXtmb3IoZCBpbiBjKWNbZF0uaXNSZWFkeSgpJiYhYi5jb250YWlucyhjW2RdLndyYXBwZXIpJiZ0aGlzLmRlc3Ryb3koY1tkXSwhMCk7aWYoYSYmYS5pbml0T25seU5ldyljPXRoaXMuaW5pdE9uQWxsKCk7ZWxzZXt2YXIgbD1iLmZpbmQoXCIuY2tlX3dpZGdldF93cmFwcGVyXCIpLGM9W107ZD0wO2ZvcihlPWwuY291bnQoKTtkPGU7ZCsrKXtmPWwuZ2V0SXRlbShkKTtpZihoPSF0aGlzLmdldEJ5RWxlbWVudChmLCEwKSl7YTp7aD1UO2Zvcih2YXIgaz1mO2s9ay5nZXRQYXJlbnQoKTspaWYoaChrKSl7aD0hMDticmVhayBhfWg9ITF9aD0haH1oJiZiLmNvbnRhaW5zKGYpJiYoZi5hZGRDbGFzcyhcImNrZV93aWRnZXRfbmV3XCIpLGMucHVzaCh0aGlzLmluaXRPbihmLmdldEZpcnN0KGcuaXNEb21XaWRnZXRFbGVtZW50KSkpKX19YSYmYS5mb2N1c0luaXRlZCYmXG4xPT1jLmxlbmd0aCYmY1swXS5mb2N1cygpfX19ZnVuY3Rpb24gdShhKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXSl7dmFyIGI9dihhKSxjPXcoYSksZD0hMTtiJiZiLnZhbHVlJiZiLnZhbHVlLm1hdGNoKC9eXFxzL2cpJiYoYi5wYXJlbnQuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdoaXRlLXNwYWNlLWZpcnN0XCJdPTEsYi52YWx1ZT1iLnZhbHVlLnJlcGxhY2UoL15cXHMvZyxcIlxceDI2bmJzcDtcIiksZD0hMCk7YyYmYy52YWx1ZSYmYy52YWx1ZS5tYXRjaCgvXFxzJC9nKSYmKGMucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1sYXN0XCJdPTEsYy52YWx1ZT1jLnZhbHVlLnJlcGxhY2UoL1xccyQvZyxcIlxceDI2bmJzcDtcIiksZD0hMCk7ZCYmKGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13aGl0ZS1zcGFjZVwiXT0xKX19ZnVuY3Rpb24gdihhKXtyZXR1cm4gYS5maW5kKGZ1bmN0aW9uKGEpe3JldHVybiAzPT09XG5hLnR5cGV9LCEwKS5zaGlmdCgpfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEuZmluZChmdW5jdGlvbihhKXtyZXR1cm4gMz09PWEudHlwZX0sITApLnBvcCgpfWZ1bmN0aW9uIHgoYSxiLGMpe2lmKCFjLmFsbG93ZWRDb250ZW50JiYhYy5kaXNhbGxvd2VkQ29udGVudClyZXR1cm4gbnVsbDt2YXIgZD10aGlzLl8uZmlsdGVyc1thXTtkfHwodGhpcy5fLmZpbHRlcnNbYV09ZD17fSk7YT1kW2JdO2F8fChhPWMuYWxsb3dlZENvbnRlbnQ/bmV3IENLRURJVE9SLmZpbHRlcihjLmFsbG93ZWRDb250ZW50KTp0aGlzLmVkaXRvci5maWx0ZXIuY2xvbmUoKSxkW2JdPWEsYy5kaXNhbGxvd2VkQ29udGVudCYmYS5kaXNhbGxvdyhjLmRpc2FsbG93ZWRDb250ZW50KSk7cmV0dXJuIGF9ZnVuY3Rpb24gVShhKXt2YXIgYj1bXSxjPWEuXy51cGNhc3RzLGQ9YS5fLnVwY2FzdENhbGxiYWNrcztyZXR1cm57dG9CZVdyYXBwZWQ6YixpdGVyYXRvcjpmdW5jdGlvbihhKXt2YXIgZixoLGwsayxtO2lmKFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcImluXG5hLmF0dHJpYnV0ZXMpcmV0dXJuKGE9YS5nZXRGaXJzdChnLmlzUGFyc2VyV2lkZ2V0RWxlbWVudCkpJiZiLnB1c2goW2FdKSwhMTtpZihcImRhdGEtd2lkZ2V0XCJpbiBhLmF0dHJpYnV0ZXMpcmV0dXJuIGIucHVzaChbYV0pLCExO2lmKG09Yy5sZW5ndGgpe2lmKGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC11cGNhc3RlZFwiXSlyZXR1cm4hMTtrPTA7Zm9yKGY9ZC5sZW5ndGg7azxmOysraylpZighMT09PWRba10oYSkpcmV0dXJuO2ZvcihrPTA7azxtOysraylpZihmPWNba10sbD17fSxoPWZbMF0oYSxsKSlyZXR1cm4gaCBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCYmKGE9aCksYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LWRhdGFcIl09ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGwpKSxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtdXBjYXN0ZWRcIl09MSxiLnB1c2goW2EsZlsxXV0pLCExfX19fWZ1bmN0aW9uIHkoYSxiKXtyZXR1cm57dGFiaW5kZXg6LTEsXG5jb250ZW50ZWRpdGFibGU6XCJmYWxzZVwiLFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIjoxLFwiZGF0YS1ja2UtZmlsdGVyXCI6XCJvZmZcIixcImNsYXNzXCI6XCJja2Vfd2lkZ2V0X3dyYXBwZXIgY2tlX3dpZGdldF9uZXcgY2tlX3dpZGdldF9cIisoYT9cImlubGluZVwiOlwiYmxvY2tcIikrKGI/XCIgY2tlX3dpZGdldF9cIitiOlwiXCIpfX1mdW5jdGlvbiB6KGEsYixjKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIGQ9Q0tFRElUT1IuZHRkW2EubmFtZV07aWYoZCYmIWRbYy5uYW1lXSl7dmFyIGQ9YS5zcGxpdChiKSxlPWEucGFyZW50O2I9ZC5nZXRJbmRleCgpO2EuY2hpbGRyZW4ubGVuZ3RofHwoLS1iLGEucmVtb3ZlKCkpO2QuY2hpbGRyZW4ubGVuZ3RofHxkLnJlbW92ZSgpO3JldHVybiB6KGUsYixjKX19YS5hZGQoYyxiKX1mdW5jdGlvbiBBKGEsYil7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhLmlubGluZT9hLmlubGluZTohIUNLRURJVE9SLmR0ZC4kaW5saW5lW2JdfWZ1bmN0aW9uIFQoYSl7cmV0dXJuIGEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiKX1cbmZ1bmN0aW9uIG4oYSxiLGMsZCl7dmFyIGU9YS5lZGl0b3I7ZS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2M/KGQ9Yy5kYXRhKFwiY2tlLXdpZGdldC1lZGl0YWJsZVwiKSxkPWIuZWRpdGFibGVzW2RdLGEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT1iLGIuZm9jdXNlZEVkaXRhYmxlPWQsYy5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxkLmZpbHRlciYmZS5zZXRBY3RpdmVGaWx0ZXIoZC5maWx0ZXIpLGUuc2V0QWN0aXZlRW50ZXJNb2RlKGQuZW50ZXJNb2RlLGQuc2hpZnRFbnRlck1vZGUpKTooZHx8Yi5mb2N1c2VkRWRpdGFibGUucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWRcIiksYi5mb2N1c2VkRWRpdGFibGU9bnVsbCxhLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU9bnVsbCxlLnNldEFjdGl2ZUZpbHRlcihudWxsKSxlLnNldEFjdGl2ZUVudGVyTW9kZShudWxsLG51bGwpKTtlLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKX1cbmZ1bmN0aW9uIFYoYSl7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiKXtpZihiPWEud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYiwhMCkpcmV0dXJuIGIuZmlyZShcImNvbnRleHRNZW51XCIse30pfSl9ZnVuY3Rpb24gVyhhLGIpe3JldHVybiBDS0VESVRPUi50b29scy50cmltKGIpfWZ1bmN0aW9uIE8oYSl7dmFyIGI9YS5lZGl0b3IsYz1DS0VESVRPUi5wbHVnaW5zLmxpbmV1dGlscztiLm9uKFwiZHJhZ3N0YXJ0XCIsZnVuY3Rpb24oZCl7dmFyIGM9ZC5kYXRhLnRhcmdldDtnLmlzRG9tRHJhZ0hhbmRsZXIoYykmJihjPWEuZ2V0QnlFbGVtZW50KGMpLGQuZGF0YS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcImNrZS93aWRnZXQtaWRcIixjLmlkKSxiLmZvY3VzKCksYy5mb2N1cygpKX0pO2Iub24oXCJkcm9wXCIsZnVuY3Rpb24oYyl7dmFyIGU9Yy5kYXRhLmRhdGFUcmFuc2ZlcixmPWUuZ2V0RGF0YShcImNrZS93aWRnZXQtaWRcIiksaD1lLmdldFRyYW5zZmVyVHlwZShiKSxcbmU9Yi5jcmVhdGVSYW5nZSgpO1wiXCIhPT1mJiZoPT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2MuY2FuY2VsKCk6XCJcIiE9PWYmJmg9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUwmJihmPWEuaW5zdGFuY2VzW2ZdKSYmKGUuc2V0U3RhcnRCZWZvcmUoZi53cmFwcGVyKSxlLnNldEVuZEFmdGVyKGYud3JhcHBlciksYy5kYXRhLmRyYWdSYW5nZT1lLGRlbGV0ZSBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50LGRlbGV0ZSBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudCxjLmRhdGEuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixiLmVkaXRhYmxlKCkuZ2V0SHRtbEZyb21SYW5nZShlKS5nZXRIdG1sKCkpLGIud2lkZ2V0cy5kZXN0cm95KGYsITApKX0pO2Iub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXt2YXIgZD1iLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEsXG57ZmluZGVyOm5ldyBjLmZpbmRlcihiLHtsb29rdXBzOntcImRlZmF1bHRcIjpmdW5jdGlvbihiKXtpZighYi5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmIWcuaXNEb21OZXN0ZWRFZGl0YWJsZShiKSYmIWEuXy5kcmFnZ2VkV2lkZ2V0LndyYXBwZXIuY29udGFpbnMoYikpe3ZhciBjPWcuZ2V0TmVzdGVkRWRpdGFibGUoZCxiKTtpZihjKXtiPWEuXy5kcmFnZ2VkV2lkZ2V0O2lmKGEuZ2V0QnlFbGVtZW50KGMpPT1iKXJldHVybjtjPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbYy5kYXRhKFwiY2tlLWZpbHRlclwiKV07Yj1iLnJlcXVpcmVkQ29udGVudDtpZihjJiZiJiYhYy5jaGVjayhiKSlyZXR1cm59cmV0dXJuIENLRURJVE9SLkxJTkVVVElMU19CRUZPUkV8Q0tFRElUT1IuTElORVVUSUxTX0FGVEVSfX19fSksbG9jYXRvcjpuZXcgYy5sb2NhdG9yKGIpLGxpbmVyOm5ldyBjLmxpbmVyKGIse2xpbmVTdHlsZTp7Y3Vyc29yOlwibW92ZSAhaW1wb3J0YW50XCIsXG5cImJvcmRlci10b3AtY29sb3JcIjpcIiM2NjZcIn0sdGlwTGVmdFN0eWxlOntcImJvcmRlci1sZWZ0LWNvbG9yXCI6XCIjNjY2XCJ9LHRpcFJpZ2h0U3R5bGU6e1wiYm9yZGVyLXJpZ2h0LWNvbG9yXCI6XCIjNjY2XCJ9fSl9LCEwKX0pfWZ1bmN0aW9uIE0oYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBjPWIuZWRpdGFibGUoKSxkPWMuaXNJbmxpbmUoKT9jOmIuZG9jdW1lbnQsZSxmO2MuYXR0YWNoTGlzdGVuZXIoZCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS5nZXRUYXJnZXQoKTtlPWQgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9hLmdldEJ5RWxlbWVudChkKTpudWxsO2Y9MDtlJiYoZS5pbmxpbmUmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1kcmFnLWhhbmRsZXJcIik/KGY9MSxhLmZvY3VzZWQhPWUmJmIuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCkpOlxuZy5nZXROZXN0ZWRFZGl0YWJsZShlLndyYXBwZXIsZCk/ZT1udWxsOihjLmRhdGEucHJldmVudERlZmF1bHQoKSxDS0VESVRPUi5lbnYuaWV8fGUuZm9jdXMoKSkpfSk7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZiYmZSYmZS53cmFwcGVyJiYoZj0wLGUuZm9jdXMoKSl9KTtDS0VESVRPUi5lbnYuaWUmJmMuYXR0YWNoTGlzdGVuZXIoZCxcIm1vdXNldXBcIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlJiZlLndyYXBwZXImJmMuY29udGFpbnMoZS53cmFwcGVyKSYmKGUuZm9jdXMoKSxlPW51bGwpfSl9KX0pO2Iub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBkPWEuZ2V0QnlFbGVtZW50KGIuZGF0YS5lbGVtZW50KTtpZihkJiYhZy5nZXROZXN0ZWRFZGl0YWJsZShkLndyYXBwZXIsYi5kYXRhLmVsZW1lbnQpKXJldHVybiBkLmZpcmUoXCJkb3VibGVjbGlja1wiLHtlbGVtZW50OmIuZGF0YS5lbGVtZW50fSl9LG51bGwsbnVsbCwxKX1cbmZ1bmN0aW9uIE4oYSl7YS5lZGl0b3Iub24oXCJrZXlcIixmdW5jdGlvbihiKXt2YXIgYz1hLmZvY3VzZWQsZD1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGUsZTtjP2U9Yy5maXJlKFwia2V5XCIse2tleUNvZGU6Yi5kYXRhLmtleUNvZGV9KTpkJiYoYz1iLmRhdGEua2V5Q29kZSxiPWQuZm9jdXNlZEVkaXRhYmxlLGM9PUNLRURJVE9SLkNUUkwrNjU/KGM9Yi5nZXRCb2d1cygpLGQ9ZC5lZGl0b3IuY3JlYXRlUmFuZ2UoKSxkLnNlbGVjdE5vZGVDb250ZW50cyhiKSxjJiZkLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkLnNlbGVjdCgpLGU9ITEpOjg9PWN8fDQ2PT1jPyhlPWQuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLGQ9ZVswXSxlPSEoMT09ZS5sZW5ndGgmJmQuY29sbGFwc2VkJiZkLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixDS0VESVRPUls4PT1jP1wiU1RBUlRcIjpcIkVORFwiXSkpKTplPXZvaWQgMCk7cmV0dXJuIGV9LG51bGwsXG5udWxsLDEpfWZ1bmN0aW9uIFAoYSl7ZnVuY3Rpb24gYihiKXthLmZvY3VzZWQmJkIoYS5mb2N1c2VkLFwiY3V0XCI9PWIubmFtZSl9dmFyIGM9YS5lZGl0b3I7Yy5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBhPWMuZWRpdGFibGUoKTthLmF0dGFjaExpc3RlbmVyKGEsXCJjb3B5XCIsYik7YS5hdHRhY2hMaXN0ZW5lcihhLFwiY3V0XCIsYil9KX1mdW5jdGlvbiBMKGEpe3ZhciBiPWEuZWRpdG9yO2Iub24oXCJzZWxlY3Rpb25DaGVja1wiLGZ1bmN0aW9uKCl7YS5maXJlKFwiY2hlY2tTZWxlY3Rpb25cIil9KTthLm9uKFwiY2hlY2tTZWxlY3Rpb25cIixhLmNoZWNrU2VsZWN0aW9uLGEpO2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihjKXt2YXIgZD0oYz1nLmdldE5lc3RlZEVkaXRhYmxlKGIuZWRpdGFibGUoKSxjLmRhdGEuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpKSkmJmEuZ2V0QnlFbGVtZW50KGMpLGU9YS53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlO2U/ZT09PWQmJlxuZS5mb2N1c2VkRWRpdGFibGUuZXF1YWxzKGMpfHwobihhLGUsbnVsbCksZCYmYyYmbihhLGQsYykpOmQmJmMmJm4oYSxkLGMpfSk7Yi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7QyhhKS5jb21taXQoKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt2YXIgYjsoYj1hLmZvY3VzZWQpJiZ0KGEsYik7KGI9YS53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlKSYmbihhLGIsbnVsbCl9KX1mdW5jdGlvbiBKKGEpe3ZhciBiPWEuZWRpdG9yLGM9e307Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGIpe3ZhciBlPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSxmPVtdO2IuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZD1lO2NbZV09ZjtiLmRhdGEuZGF0YVZhbHVlLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9Yi5hdHRyaWJ1dGVzLGQ7aWYoXCJkYXRhLWNrZS13aWRnZXQtd2hpdGUtc3BhY2VcImluIGMpe2Q9dihiKTt2YXIgZT13KGIpO2QucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1maXJzdFwiXSYmXG4oZC52YWx1ZT1kLnZhbHVlLnJlcGxhY2UoL14mbmJzcDsvZyxcIiBcIikpO2UucGFyZW50LmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aGl0ZS1zcGFjZS1sYXN0XCJdJiYoZS52YWx1ZT1lLnZhbHVlLnJlcGxhY2UoLyZuYnNwOyQvZyxcIiBcIikpfWlmKFwiZGF0YS1ja2Utd2lkZ2V0LWlkXCJpbiBjKXtpZihjPWEuaW5zdGFuY2VzW2NbXCJkYXRhLWNrZS13aWRnZXQtaWRcIl1dKWQ9Yi5nZXRGaXJzdChnLmlzUGFyc2VyV2lkZ2V0RWxlbWVudCksZi5wdXNoKHt3cmFwcGVyOmIsZWxlbWVudDpkLHdpZGdldDpjLGVkaXRhYmxlczp7fX0pLFwiMVwiIT1kLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQta2VlcC1hdHRyXCJdJiZkZWxldGUgZC5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl19ZWxzZSBpZihcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiaW4gYylyZXR1cm4gZltmLmxlbmd0aC0xXS5lZGl0YWJsZXNbY1tcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiXV09YiwhMX0sQ0tFRElUT1IuTk9ERV9FTEVNRU5ULFxuITApfSxudWxsLG51bGwsOCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZCl7YT1jW2EuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZF07Zm9yKHZhciBiLGYsaCxsLGcsbTtiPWEuc2hpZnQoKTspe2Y9Yi53aWRnZXQ7aD1iLmVsZW1lbnQ7bD1mLl8uZG93bmNhc3RGbiYmZi5fLmRvd25jYXN0Rm4uY2FsbChmLGgpO2ZvcihtIGluIGIuZWRpdGFibGVzKWc9Yi5lZGl0YWJsZXNbbV0sZGVsZXRlIGcuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGUsZy5zZXRIdG1sKGYuZWRpdGFibGVzW21dLmdldERhdGEoKSk7bHx8KGw9aCk7Yi53cmFwcGVyLnJlcGxhY2VXaXRoKGwpfX19LG51bGwsbnVsbCwxMyk7Yi5vbihcImNvbnRlbnREb21VbmxvYWRcIixmdW5jdGlvbigpe2EuZGVzdHJveUFsbCghMCl9KX1mdW5jdGlvbiBJKGEpe3ZhciBiPWEuZWRpdG9yLGMsZDtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYil7dmFyIGQ9VShhKSxoO1xuZm9yKGIuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChkLml0ZXJhdG9yLENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7aD1kLnRvQmVXcmFwcGVkLnBvcCgpOyl7dmFyIGw9aFswXSxrPWwucGFyZW50O2sudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiXSYmay5yZXBsYWNlV2l0aChsKTthLndyYXBFbGVtZW50KGhbMF0saFsxXSl9Yz1iLmRhdGEucHJvdGVjdGVkV2hpdGVzcGFjZXM/Mz09Yi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlbi5sZW5ndGgmJmcuaXNQYXJzZXJXaWRnZXRXcmFwcGVyKGIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW5bMV0pOjE9PWIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW4ubGVuZ3RoJiZnLmlzUGFyc2VyV2lkZ2V0V3JhcHBlcihiLmRhdGEuZGF0YVZhbHVlLmNoaWxkcmVuWzBdKX0sbnVsbCxudWxsLDgpO2Iub24oXCJkYXRhUmVhZHlcIixmdW5jdGlvbigpe2lmKGQpZm9yKHZhciBjPWIuZWRpdGFibGUoKS5maW5kKFwiLmNrZV93aWRnZXRfd3JhcHBlclwiKSxcbmYsaCxsPTAsaz1jLmNvdW50KCk7bDxrOysrbClmPWMuZ2V0SXRlbShsKSxoPWYuZ2V0Rmlyc3QoZy5pc0RvbVdpZGdldEVsZW1lbnQpLGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmRhdGEoXCJ3aWRnZXRcIik/KGgucmVwbGFjZShmKSxhLndyYXBFbGVtZW50KGgpKTpmLnJlbW92ZSgpO2Q9MDthLmRlc3Ryb3lBbGwoITApO2EuaW5pdE9uQWxsKCl9KTtiLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYil7L2RhdGEtY2tlLXdpZGdldC8udGVzdChiLmRhdGEpJiYoZD0xKTthLmRlc3Ryb3lBbGwoITApfSxudWxsLG51bGwsOSk7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS5kYXRhVmFsdWU9YS5kYXRhVmFsdWUucmVwbGFjZShYLFcpO2EucmFuZ2UmJihhPWcuZ2V0TmVzdGVkRWRpdGFibGUoYi5lZGl0YWJsZSgpLGEucmFuZ2Uuc3RhcnRDb250YWluZXIpKSYmKGE9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1thLmRhdGEoXCJja2UtZmlsdGVyXCIpXSkmJlxuYi5zZXRBY3RpdmVGaWx0ZXIoYSl9KTtiLm9uKFwiYWZ0ZXJJbnNlcnRIdG1sXCIsZnVuY3Rpb24oZCl7ZC5kYXRhLmludG9SYW5nZT9hLmNoZWNrV2lkZ2V0cyh7aW5pdE9ubHlOZXc6ITB9KTooYi5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEuY2hlY2tXaWRnZXRzKHtpbml0T25seU5ldzohMCxmb2N1c0luaXRlZDpjfSksYi5maXJlKFwidW5sb2NrU25hcHNob3RcIikpfSl9ZnVuY3Rpb24gQyhhKXt2YXIgYj1hLnNlbGVjdGVkLGM9W10sZD1iLnNsaWNlKDApLGU9bnVsbDtyZXR1cm57c2VsZWN0OmZ1bmN0aW9uKGEpezA+Q0tFRElUT1IudG9vbHMuaW5kZXhPZihiLGEpJiZjLnB1c2goYSk7YT1DS0VESVRPUi50b29scy5pbmRleE9mKGQsYSk7MDw9YSYmZC5zcGxpY2UoYSwxKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oYSl7ZT1hO3JldHVybiB0aGlzfSxjb21taXQ6ZnVuY3Rpb24oKXt2YXIgZj1hLmZvY3VzZWQhPT1lLGgsZzthLmVkaXRvci5maXJlKFwibG9ja1NuYXBzaG90XCIpO2ZvcihmJiZcbihoPWEuZm9jdXNlZCkmJnQoYSxoKTtoPWQucG9wKCk7KWIuc3BsaWNlKENLRURJVE9SLnRvb2xzLmluZGV4T2YoYixoKSwxKSxoLmlzSW5pdGVkKCkmJihnPWguZWRpdG9yLmNoZWNrRGlydHkoKSxoLnNldFNlbGVjdGVkKCExKSwhZyYmaC5lZGl0b3IucmVzZXREaXJ0eSgpKTtmJiZlJiYoZz1hLmVkaXRvci5jaGVja0RpcnR5KCksYS5mb2N1c2VkPWUsYS5maXJlKFwid2lkZ2V0Rm9jdXNlZFwiLHt3aWRnZXQ6ZX0pLGUuc2V0Rm9jdXNlZCghMCksIWcmJmEuZWRpdG9yLnJlc2V0RGlydHkoKSk7Zm9yKDtoPWMucG9wKCk7KWIucHVzaChoKSxoLnNldFNlbGVjdGVkKCEwKTthLmVkaXRvci5maXJlKFwidW5sb2NrU25hcHNob3RcIil9fX1mdW5jdGlvbiBEKGEsYixjKXt2YXIgZD0wO2I9RShiKTt2YXIgZT1hLmRhdGEuY2xhc3Nlc3x8e30sZjtpZihiKXtmb3IoZT1DS0VESVRPUi50b29scy5jbG9uZShlKTtmPWIucG9wKCk7KWM/ZVtmXXx8KGQ9ZVtmXT0xKTplW2ZdJiYoZGVsZXRlIGVbZl0sXG5kPTEpO2QmJmEuc2V0RGF0YShcImNsYXNzZXNcIixlKX19ZnVuY3Rpb24gRihhKXthLmNhbmNlbCgpfWZ1bmN0aW9uIEIoYSxiKXt2YXIgYz1hLmVkaXRvcixkPWMuZG9jdW1lbnQsZT1DS0VESVRPUi5lbnYuZWRnZSYmMTY8PUNLRURJVE9SLmVudi52ZXJzaW9uO2lmKCFkLmdldEJ5SWQoXCJja2VfY29weWJpblwiKSl7dmFyIGY9IWMuYmxvY2tsZXNzJiYhQ0tFRElUT1IuZW52LmllfHxlP1wiZGl2XCI6XCJzcGFuXCIsZT1kLmNyZWF0ZUVsZW1lbnQoZiksaD1kLmNyZWF0ZUVsZW1lbnQoZiksZj1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb247aC5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9jb3B5YmluXCIsXCJkYXRhLWNrZS10ZW1wXCI6XCIxXCJ9KTtlLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0OlwiMXB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIn0pO2Uuc2V0U3R5bGUoXCJsdHJcIj09Yy5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uP1wibGVmdFwiOlxuXCJyaWdodFwiLFwiLTUwMDBweFwiKTt2YXIgZz1jLmNyZWF0ZVJhbmdlKCk7Zy5zZXRTdGFydEJlZm9yZShhLndyYXBwZXIpO2cuc2V0RW5kQWZ0ZXIoYS53cmFwcGVyKTtlLnNldEh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLXN0YXJ0XFx4M2RcIjFcIlxceDNl4oCLXFx4M2Mvc3BhblxceDNlJytjLmVkaXRhYmxlKCkuZ2V0SHRtbEZyb21SYW5nZShnKS5nZXRIdG1sKCkrJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLWVuZFxceDNkXCIxXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtjLmZpcmUoXCJsb2NrU25hcHNob3RcIik7aC5hcHBlbmQoZSk7Yy5lZGl0YWJsZSgpLmFwcGVuZChoKTt2YXIgaz1jLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsRixudWxsLG51bGwsMCksbT1hLnJlcG9zaXRvcnkub24oXCJjaGVja1NlbGVjdGlvblwiLEYsbnVsbCxudWxsLDApO2lmKGYpdmFyIG49ZC5nZXREb2N1bWVudEVsZW1lbnQoKS4kLHA9bi5zY3JvbGxUb3A7Zz1jLmNyZWF0ZVJhbmdlKCk7XG5nLnNlbGVjdE5vZGVDb250ZW50cyhlKTtnLnNlbGVjdCgpO2YmJihuLnNjcm9sbFRvcD1wKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ynx8YS5mb2N1cygpO2gucmVtb3ZlKCk7ay5yZW1vdmVMaXN0ZW5lcigpO20ucmVtb3ZlTGlzdGVuZXIoKTtjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTtiJiYhYy5yZWFkT25seSYmKGEucmVwb3NpdG9yeS5kZWwoYSksYy5maXJlKFwic2F2ZVNuYXBzaG90XCIpKX0sMTAwKX19ZnVuY3Rpb24gRShhKXtyZXR1cm4oYT0oYT1hLmdldERlZmluaXRpb24oKS5hdHRyaWJ1dGVzKSYmYVtcImNsYXNzXCJdKT9hLnNwbGl0KC9cXHMrLyk6bnVsbH1mdW5jdGlvbiBHKCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCksYj10aGlzLmVkaXRvcixjPWIuZWRpdGFibGUoKTsoYy5pc0lubGluZSgpP2M6Yi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRGcmFtZSgpKS5lcXVhbHMoYSkmJmIuZm9jdXNNYW5hZ2VyLmZvY3VzKGMpfWZ1bmN0aW9uIEgoKXtDS0VESVRPUi5lbnYuZ2Vja28mJlxudGhpcy5lZGl0b3IudW5sb2NrU2VsZWN0aW9uKCk7Q0tFRElUT1IuZW52LndlYmtpdHx8KHRoaXMuZWRpdG9yLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCksdGhpcy5lZGl0b3Iuc2VsZWN0aW9uQ2hhbmdlKDEpKX1mdW5jdGlvbiBZKGEpe3ZhciBiPW51bGw7YS5vbihcImRhdGFcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGF0YS5jbGFzc2VzLGQ7aWYoYiE9YSl7Zm9yKGQgaW4gYilhJiZhW2RdfHx0aGlzLnJlbW92ZUNsYXNzKGQpO2ZvcihkIGluIGEpdGhpcy5hZGRDbGFzcyhkKTtiPWF9fSl9ZnVuY3Rpb24gWihhKXthLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKCl7aWYoYS53cmFwcGVyKXt2YXIgYj10aGlzLmdldExhYmVsP3RoaXMuZ2V0TGFiZWwoKTp0aGlzLmVkaXRvci5sYW5nLndpZGdldC5sYWJlbC5yZXBsYWNlKC8lMS8sdGhpcy5wYXRoTmFtZXx8dGhpcy5lbGVtZW50LmdldE5hbWUoKSk7YS53cmFwcGVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInJlZ2lvblwiKTthLndyYXBwZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFxuYil9fSxudWxsLG51bGwsOTk5OSl9ZnVuY3Rpb24gYWEoYSl7aWYoYS5kcmFnZ2FibGUpe3ZhciBiPWEuZWRpdG9yLGM9YS53cmFwcGVyLmdldExhc3QoZy5pc0RvbURyYWdIYW5kbGVyQ29udGFpbmVyKSxkO2M/ZD1jLmZpbmRPbmUoXCJpbWdcIik6KGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiLGIuZG9jdW1lbnQpLGMuc2V0QXR0cmlidXRlcyh7XCJjbGFzc1wiOlwiY2tlX3Jlc2V0IGNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lclwiLHN0eWxlOlwiYmFja2dyb3VuZDpyZ2JhKDIyMCwyMjAsMjIwLDAuNSk7YmFja2dyb3VuZC1pbWFnZTp1cmwoXCIrYi5wbHVnaW5zLndpZGdldC5wYXRoK1wiaW1hZ2VzL2hhbmRsZS5wbmcpXCJ9KSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiLGIuZG9jdW1lbnQpLGQuc2V0QXR0cmlidXRlcyh7XCJjbGFzc1wiOlwiY2tlX3Jlc2V0IGNrZV93aWRnZXRfZHJhZ19oYW5kbGVyXCIsXCJkYXRhLWNrZS13aWRnZXQtZHJhZy1oYW5kbGVyXCI6XCIxXCIsXG5zcmM6Q0tFRElUT1IudG9vbHMudHJhbnNwYXJlbnRJbWFnZURhdGEsd2lkdGg6MTUsdGl0bGU6Yi5sYW5nLndpZGdldC5tb3ZlLGhlaWdodDoxNSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9KSxhLmlubGluZSYmZC5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIixcInRydWVcIiksYy5hcHBlbmQoZCksYS53cmFwcGVyLmFwcGVuZChjKSk7YS53cmFwcGVyLm9uKFwiZHJhZ292ZXJcIixmdW5jdGlvbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eud3JhcHBlci5vbihcIm1vdXNlZW50ZXJcIixhLnVwZGF0ZURyYWdIYW5kbGVyUG9zaXRpb24sYSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Eub24oXCJkYXRhXCIsYS51cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uLGEpfSw1MCk7aWYoIWEuaW5saW5lJiYoZC5vbihcIm1vdXNlZG93blwiLGJhLGEpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbikpZC5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTtcbmEuZHJhZ0hhbmRsZXJDb250YWluZXI9Y319ZnVuY3Rpb24gYmEoYSl7ZnVuY3Rpb24gYigpe3ZhciBiO2ZvcihxLnJlc2V0KCk7Yj1nLnBvcCgpOyliLnJlbW92ZUxpc3RlbmVyKCk7dmFyIGM9aztiPWEuc2VuZGVyO3ZhciBkPXRoaXMucmVwb3NpdG9yeS5maW5kZXIsZT10aGlzLnJlcG9zaXRvcnkubGluZXIsZj10aGlzLmVkaXRvcixoPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuaXNFbXB0eShlLnZpc2libGUpfHwoYz1kLmdldFJhbmdlKGNbMF0pLHRoaXMuZm9jdXMoKSxmLmZpcmUoXCJkcm9wXCIse2Ryb3BSYW5nZTpjLHRhcmdldDpjLnN0YXJ0Q29udGFpbmVyfSkpO2gucmVtb3ZlQ2xhc3MoXCJja2Vfd2lkZ2V0X2RyYWdnaW5nXCIpO2UuaGlkZVZpc2libGUoKTtmLmZpcmUoXCJkcmFnZW5kXCIse3RhcmdldDpifSl9aWYoQ0tFRElUT1IudG9vbHMuZ2V0TW91c2VCdXR0b24oYSk9PT1DS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVCl7dmFyIGM9dGhpcy5yZXBvc2l0b3J5LmZpbmRlcixcbmQ9dGhpcy5yZXBvc2l0b3J5LmxvY2F0b3IsZT10aGlzLnJlcG9zaXRvcnkubGluZXIsZj10aGlzLmVkaXRvcixoPWYuZWRpdGFibGUoKSxnPVtdLGs9W10sbSxuO3RoaXMucmVwb3NpdG9yeS5fLmRyYWdnZWRXaWRnZXQ9dGhpczt2YXIgcD1jLmdyZWVkeVNlYXJjaCgpLHE9Q0tFRElUT1IudG9vbHMuZXZlbnRzQnVmZmVyKDUwLGZ1bmN0aW9uKCl7bT1kLmxvY2F0ZShwKTtrPWQuc29ydChuLDEpO2subGVuZ3RoJiYoZS5wcmVwYXJlKHAsbSksZS5wbGFjZUxpbmUoa1swXSksZS5jbGVhbnVwKCkpfSk7aC5hZGRDbGFzcyhcImNrZV93aWRnZXRfZHJhZ2dpbmdcIik7Zy5wdXNoKGgub24oXCJtb3VzZW1vdmVcIixmdW5jdGlvbihhKXtuPWEuZGF0YS4kLmNsaWVudFk7cS5pbnB1dCgpfSkpO2YuZmlyZShcImRyYWdzdGFydFwiLHt0YXJnZXQ6YS5zZW5kZXJ9KTtnLnB1c2goZi5kb2N1bWVudC5vbmNlKFwibW91c2V1cFwiLGIsdGhpcykpO2guaXNJbmxpbmUoKXx8Zy5wdXNoKENLRURJVE9SLmRvY3VtZW50Lm9uY2UoXCJtb3VzZXVwXCIsXG5iLHRoaXMpKX19ZnVuY3Rpb24gY2EoYSl7dmFyIGIsYyxkPWEuZWRpdGFibGVzO2EuZWRpdGFibGVzPXt9O2lmKGEuZWRpdGFibGVzKWZvcihiIGluIGQpYz1kW2JdLGEuaW5pdEVkaXRhYmxlKGIsXCJzdHJpbmdcIj09dHlwZW9mIGM/e3NlbGVjdG9yOmN9OmMpfWZ1bmN0aW9uIGRhKGEpe2lmKGEubWFzayl7dmFyIGI9YS53cmFwcGVyLmZpbmRPbmUoXCIuY2tlX3dpZGdldF9tYXNrXCIpO2J8fChiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiLGEuZWRpdG9yLmRvY3VtZW50KSxiLnNldEF0dHJpYnV0ZXMoe3NyYzpDS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSxcImNsYXNzXCI6XCJja2VfcmVzZXQgY2tlX3dpZGdldF9tYXNrXCJ9KSxhLndyYXBwZXIuYXBwZW5kKGIpKTthLm1hc2s9Yn19ZnVuY3Rpb24gZWEoYSl7aWYoYS5wYXJ0cyl7dmFyIGI9e30sYyxkO2ZvcihkIGluIGEucGFydHMpYz1hLndyYXBwZXIuZmluZE9uZShhLnBhcnRzW2RdKSxiW2RdPWM7YS5wYXJ0cz1cbmJ9fWZ1bmN0aW9uIFEoYSxiKXtmYShhKTtlYShhKTtjYShhKTtkYShhKTthYShhKTtZKGEpO1ooYSk7aWYoQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uKWEud3JhcHBlci5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGIpe3ZhciBkPWIuZGF0YS5nZXRUYXJnZXQoKTtnLmdldE5lc3RlZEVkaXRhYmxlKGEsZCl8fGEuaW5saW5lJiZnLmlzRG9tRHJhZ0hhbmRsZXIoZCl8fGIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS53cmFwcGVyLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9uZXdcIik7YS5lbGVtZW50LmFkZENsYXNzKFwiY2tlX3dpZGdldF9lbGVtZW50XCIpO2Eub24oXCJrZXlcIixmdW5jdGlvbihiKXtiPWIuZGF0YS5rZXlDb2RlO2lmKDEzPT1iKWEuZWRpdCgpO2Vsc2V7aWYoYj09Q0tFRElUT1IuQ1RSTCs2N3x8Yj09Q0tFRElUT1IuQ1RSTCs4OCl7QihhLGI9PUNLRURJVE9SLkNUUkwrODgpO3JldHVybn1pZihiIGluIGdhfHxDS0VESVRPUi5DVFJMJmJ8fENLRURJVE9SLkFMVCZcbmIpcmV0dXJufXJldHVybiExfSxudWxsLG51bGwsOTk5KTthLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihiKXthLmVkaXQoKSYmYi5jYW5jZWwoKX0pO2lmKGIuZGF0YSlhLm9uKFwiZGF0YVwiLGIuZGF0YSk7aWYoYi5lZGl0KWEub24oXCJlZGl0XCIsYi5lZGl0KX1mdW5jdGlvbiBmYShhKXsoYS53cmFwcGVyPWEuZWxlbWVudC5nZXRQYXJlbnQoKSkuc2V0QXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWlkXCIsYS5pZCl9ZnVuY3Rpb24gcihhKXthLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiLGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShhLmRhdGEpKSl9ZnVuY3Rpb24gaGEoKXtmdW5jdGlvbiBhKCl7fWZ1bmN0aW9uIGIoYSxiLGMpe3JldHVybiBjJiZ0aGlzLmNoZWNrRWxlbWVudChhKT8oYT1jLndpZGdldHMuZ2V0QnlFbGVtZW50KGEsITApKSYmYS5jaGVja1N0eWxlQWN0aXZlKHRoaXMpOiExfXZhciBjPXt9O0NLRURJVE9SLnN0eWxlLmFkZEN1c3RvbUhhbmRsZXIoe3R5cGU6XCJ3aWRnZXRcIixcbnNldHVwOmZ1bmN0aW9uKGEpe3RoaXMud2lkZ2V0PWEud2lkZ2V0O2lmKHRoaXMuZ3JvdXA9XCJzdHJpbmdcIj09dHlwZW9mIGEuZ3JvdXA/W2EuZ3JvdXBdOmEuZ3JvdXApe2E9dGhpcy53aWRnZXQ7dmFyIGI7Y1thXXx8KGNbYV09e30pO2Zvcih2YXIgZj0wLGg9dGhpcy5ncm91cC5sZW5ndGg7ZjxoO2YrKyliPXRoaXMuZ3JvdXBbZl0sY1thXVtiXXx8KGNbYV1bYl09W10pLGNbYV1bYl0ucHVzaCh0aGlzKX19LGFwcGx5OmZ1bmN0aW9uKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3ImJnRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSYmKGI9YS53aWRnZXRzLmZvY3VzZWQsdGhpcy5ncm91cCYmdGhpcy5yZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwKGEpLGIuYXBwbHlTdHlsZSh0aGlzKSl9LHJlbW92ZTpmdW5jdGlvbihhKXthIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yJiZ0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksXG5hKSYmYS53aWRnZXRzLmZvY3VzZWQucmVtb3ZlU3R5bGUodGhpcyl9LHJlbW92ZVN0eWxlc0Zyb21TYW1lR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGIsZixoPSExO2lmKCEoYSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRvcikpcmV0dXJuITE7Zj1hLmVsZW1lbnRQYXRoKCk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoZixhKSlmb3IodmFyIGc9MCxrPXRoaXMuZ3JvdXAubGVuZ3RoO2c8aztnKyspe2I9Y1t0aGlzLndpZGdldF1bdGhpcy5ncm91cFtnXV07Zm9yKHZhciBtPTA7bTxiLmxlbmd0aDttKyspYlttXSE9PXRoaXMmJmJbbV0uY2hlY2tBY3RpdmUoZixhKSYmKGEud2lkZ2V0cy5mb2N1c2VkLnJlbW92ZVN0eWxlKGJbbV0pLGg9ITApfXJldHVybiBofSxjaGVja0FjdGl2ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNoZWNrRWxlbWVudE1hdGNoKGEubGFzdEVsZW1lbnQsMCxiKX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGIgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3I/XG50aGlzLmNoZWNrRWxlbWVudChhLmxhc3RFbGVtZW50KTohMX0sY2hlY2tFbGVtZW50TWF0Y2g6YixjaGVja0VsZW1lbnRSZW1vdmFibGU6YixjaGVja0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGcuaXNEb21XaWRnZXRXcmFwcGVyKGEpPyhhPWEuZ2V0Rmlyc3QoZy5pc0RvbVdpZGdldEVsZW1lbnQpKSYmYS5kYXRhKFwid2lkZ2V0XCIpPT10aGlzLndpZGdldDohMX0sYnVpbGRQcmV2aWV3OmZ1bmN0aW9uKGEpe3JldHVybiBhfHx0aGlzLl8uZGVmaW5pdGlvbi5uYW1lfSx0b0FsbG93ZWRDb250ZW50UnVsZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1hLndpZGdldHMucmVnaXN0ZXJlZFt0aGlzLndpZGdldF07dmFyIGIsYz17fTtpZighYSlyZXR1cm4gbnVsbDtpZihhLnN0eWxlYWJsZUVsZW1lbnRzKXtiPXRoaXMuZ2V0Q2xhc3Nlc0FycmF5KCk7aWYoIWIpcmV0dXJuIG51bGw7Y1thLnN0eWxlYWJsZUVsZW1lbnRzXT17Y2xhc3NlczpiLHByb3BlcnRpZXNPbmx5OiEwfTtcbnJldHVybiBjfXJldHVybiBhLnN0eWxlVG9BbGxvd2VkQ29udGVudFJ1bGVzP2Euc3R5bGVUb0FsbG93ZWRDb250ZW50UnVsZXModGhpcyk6bnVsbH0sZ2V0Q2xhc3Nlc0FycmF5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmRlZmluaXRpb24uYXR0cmlidXRlcyYmdGhpcy5fLmRlZmluaXRpb24uYXR0cmlidXRlc1tcImNsYXNzXCJdO3JldHVybiBhP0NLRURJVE9SLnRvb2xzLnRyaW0oYSkuc3BsaXQoL1xccysvKTpudWxsfSxhcHBseVRvUmFuZ2U6YSxyZW1vdmVGcm9tUmFuZ2U6YSxhcHBseVRvT2JqZWN0OmF9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIndpZGdldFwiLHtyZXF1aXJlczpcImxpbmV1dGlscyxjbGlwYm9hcmQsd2lkZ2V0c2VsZWN0aW9uXCIsb25Mb2FkOmZ1bmN0aW9uKCl7dm9pZCAwIT09Q0tFRElUT1IuZG9jdW1lbnQuJC5xdWVyeVNlbGVjdG9yQWxsJiYoQ0tFRElUT1IuYWRkQ3NzKFwiLmNrZV93aWRnZXRfd3JhcHBlcntwb3NpdGlvbjpyZWxhdGl2ZTtvdXRsaW5lOm5vbmV9LmNrZV93aWRnZXRfaW5saW5le2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5ja2Vfd2lkZ2V0X3dyYXBwZXI6aG92ZXJcXHgzZS5ja2Vfd2lkZ2V0X2VsZW1lbnR7b3V0bGluZToycHggc29saWQgI2ZmZDI1YztjdXJzb3I6ZGVmYXVsdH0uY2tlX3dpZGdldF93cmFwcGVyOmhvdmVyIC5ja2Vfd2lkZ2V0X2VkaXRhYmxle291dGxpbmU6MnB4IHNvbGlkICNmZmQyNWN9LmNrZV93aWRnZXRfd3JhcHBlci5ja2Vfd2lkZ2V0X2ZvY3VzZWRcXHgzZS5ja2Vfd2lkZ2V0X2VsZW1lbnQsLmNrZV93aWRnZXRfd3JhcHBlciAuY2tlX3dpZGdldF9lZGl0YWJsZS5ja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWR7b3V0bGluZToycHggc29saWQgIzQ3YTRmNX0uY2tlX3dpZGdldF9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJfY29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE1cHg7aGVpZ2h0OjA7ZGlzcGxheTpub25lO29wYWNpdHk6MC43NTt0cmFuc2l0aW9uOmhlaWdodCAwcyAwLjJzO2xpbmUtaGVpZ2h0OjB9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntoZWlnaHQ6MTVweDt0cmFuc2l0aW9uOm5vbmV9LmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcjpob3ZlcntvcGFjaXR5OjF9aW1nLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVye2N1cnNvcjptb3ZlO3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrZV93aWRnZXRfbWFza3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmJsb2NrfS5ja2VfZWRpdGFibGUuY2tlX3dpZGdldF9kcmFnZ2luZywgLmNrZV9lZGl0YWJsZS5ja2Vfd2lkZ2V0X2RyYWdnaW5nICp7Y3Vyc29yOm1vdmUgIWltcG9ydGFudH1cIiksXG5oYSgpKX0sYmVmb3JlSW5pdDpmdW5jdGlvbihhKXt2b2lkIDAhPT1DS0VESVRPUi5kb2N1bWVudC4kLnF1ZXJ5U2VsZWN0b3JBbGwmJihhLndpZGdldHM9bmV3IHAoYSkpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7aWYodm9pZCAwIT09Q0tFRElUT1IuZG9jdW1lbnQuJC5xdWVyeVNlbGVjdG9yQWxsKXt2YXIgYj1hLndpZGdldHMucmVnaXN0ZXJlZCxjLGQsZTtmb3IoZCBpbiBiKWM9YltkXSwoZT1jLmJ1dHRvbikmJmEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGMubmFtZSwhMCkse2xhYmVsOmUsY29tbWFuZDpjLm5hbWUsdG9vbGJhcjpcImluc2VydCwxMFwifSk7VihhKX19fSk7cC5wcm90b3R5cGU9e01JTl9TRUxFQ1RJT05fQ0hFQ0tfSU5URVJWQUw6NTAwLGFkZDpmdW5jdGlvbihhLGIpe2I9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoYik7Yi5uYW1lPWE7Yi5fPWIuX3x8e307dGhpcy5lZGl0b3IuZmlyZShcIndpZGdldERlZmluaXRpb25cIixcbmIpO2IudGVtcGxhdGUmJihiLnRlbXBsYXRlPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShiLnRlbXBsYXRlKSk7Uih0aGlzLmVkaXRvcixiKTtTKHRoaXMsYik7cmV0dXJuIHRoaXMucmVnaXN0ZXJlZFthXT1ifSxhZGRVcGNhc3RDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLl8udXBjYXN0Q2FsbGJhY2tzLnB1c2goYSl9LGNoZWNrU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCksYj1hLmdldFNlbGVjdGVkRWxlbWVudCgpLGM9Qyh0aGlzKSxkO2lmKGImJihkPXRoaXMuZ2V0QnlFbGVtZW50KGIsITApKSlyZXR1cm4gYy5mb2N1cyhkKS5zZWxlY3QoZCkuY29tbWl0KCk7YT1hLmdldFJhbmdlcygpWzBdO2lmKCFhfHxhLmNvbGxhcHNlZClyZXR1cm4gYy5jb21taXQoKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGEpO2ZvcihhLmV2YWx1YXRvcj1nLmlzRG9tV2lkZ2V0V3JhcHBlcjtiPWEubmV4dCgpOyljLnNlbGVjdCh0aGlzLmdldEJ5RWxlbWVudChiKSk7XG5jLmNvbW1pdCgpfSxjaGVja1dpZGdldHM6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiY2hlY2tXaWRnZXRzXCIsQ0tFRElUT1IudG9vbHMuY29weShhfHx7fSkpfSxkZWw6ZnVuY3Rpb24oYSl7aWYodGhpcy5mb2N1c2VkPT09YSl7dmFyIGI9YS5lZGl0b3IsYz1iLmNyZWF0ZVJhbmdlKCksZDsoZD1jLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEud3JhcHBlciwhMCkpfHwoZD1jLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGEud3JhcHBlciwhMSkpO2QmJmIuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSl9YS53cmFwcGVyLnJlbW92ZSgpO3RoaXMuZGVzdHJveShhLCEwKX0sZGVzdHJveTpmdW5jdGlvbihhLGIpe3RoaXMud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT09PWEmJm4odGhpcyxhLG51bGwsYik7YS5kZXN0cm95KGIpO2RlbGV0ZSB0aGlzLmluc3RhbmNlc1thLmlkXTt0aGlzLmZpcmUoXCJpbnN0YW5jZURlc3Ryb3llZFwiLGEpfSxkZXN0cm95QWxsOmZ1bmN0aW9uKGEsXG5iKXt2YXIgYyxkLGU9dGhpcy5pbnN0YW5jZXM7aWYoYiYmIWEpe2Q9Yi5maW5kKFwiLmNrZV93aWRnZXRfd3JhcHBlclwiKTtmb3IodmFyIGU9ZC5jb3VudCgpLGY9MDtmPGU7KytmKShjPXRoaXMuZ2V0QnlFbGVtZW50KGQuZ2V0SXRlbShmKSwhMCkpJiZ0aGlzLmRlc3Ryb3koYyl9ZWxzZSBmb3IoZCBpbiBlKWM9ZVtkXSx0aGlzLmRlc3Ryb3koYyxhKX0sZmluYWxpemVDcmVhdGlvbjpmdW5jdGlvbihhKXsoYT1hLmdldEZpcnN0KCkpJiZnLmlzRG9tV2lkZ2V0V3JhcHBlcihhKSYmKHRoaXMuZWRpdG9yLmluc2VydEVsZW1lbnQoYSksYT10aGlzLmdldEJ5RWxlbWVudChhKSxhLnJlYWR5PSEwLGEuZmlyZShcInJlYWR5XCIpLGEuZm9jdXMoKSl9LGdldEJ5RWxlbWVudDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEuaXMoYikmJmEuZGF0YShcImNrZS13aWRnZXQtaWRcIil9dmFyIGI9e2RpdjoxLHNwYW46MX07cmV0dXJuIGZ1bmN0aW9uKGIsZCl7aWYoIWIpcmV0dXJuIG51bGw7XG52YXIgZT1hKGIpO2lmKCFkJiYhZSl7dmFyIGY9dGhpcy5lZGl0b3IuZWRpdGFibGUoKTtkbyBiPWIuZ2V0UGFyZW50KCk7d2hpbGUoYiYmIWIuZXF1YWxzKGYpJiYhKGU9YShiKSkpfXJldHVybiB0aGlzLmluc3RhbmNlc1tlXXx8bnVsbH19KCksaW5pdE9uOmZ1bmN0aW9uKGEsYixjKXtiP1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj10aGlzLnJlZ2lzdGVyZWRbYl0pOmI9dGhpcy5yZWdpc3RlcmVkW2EuZGF0YShcIndpZGdldFwiKV07aWYoIWIpcmV0dXJuIG51bGw7dmFyIGQ9dGhpcy53cmFwRWxlbWVudChhLGIubmFtZSk7cmV0dXJuIGQ/ZC5oYXNDbGFzcyhcImNrZV93aWRnZXRfbmV3XCIpPyhhPW5ldyBnKHRoaXMsdGhpcy5fLm5leHRJZCsrLGEsYixjKSxhLmlzSW5pdGVkKCk/dGhpcy5pbnN0YW5jZXNbYS5pZF09YTpudWxsKTp0aGlzLmdldEJ5RWxlbWVudChhKTpudWxsfSxpbml0T25BbGw6ZnVuY3Rpb24oYSl7YT0oYXx8dGhpcy5lZGl0b3IuZWRpdGFibGUoKSkuZmluZChcIi5ja2Vfd2lkZ2V0X25ld1wiKTtcbmZvcih2YXIgYj1bXSxjLGQ9YS5jb3VudCgpO2QtLTspKGM9dGhpcy5pbml0T24oYS5nZXRJdGVtKGQpLmdldEZpcnN0KGcuaXNEb21XaWRnZXRFbGVtZW50KSkpJiZiLnB1c2goYyk7cmV0dXJuIGJ9LG9uV2lkZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Yi5zaGlmdCgpO2Zvcih2YXIgYyBpbiB0aGlzLmluc3RhbmNlcyl7dmFyIGQ9dGhpcy5pbnN0YW5jZXNbY107ZC5uYW1lPT1hJiZkLm9uLmFwcGx5KGQsYil9dGhpcy5vbihcImluc3RhbmNlQ3JlYXRlZFwiLGZ1bmN0aW9uKGMpe2M9Yy5kYXRhO2MubmFtZT09YSYmYy5vbi5hcHBseShjLGIpfSl9LHBhcnNlRWxlbWVudENsYXNzZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1DS0VESVRPUi50b29scy50cmltKGEpLnNwbGl0KC9cXHMrLyk7Zm9yKHZhciBiLGM9e30sZD0wO2I9YS5wb3AoKTspLTE9PWIuaW5kZXhPZihcImNrZV9cIikmJihjW2JdPWQ9MSk7cmV0dXJuIGQ/XG5jOm51bGx9LHdyYXBFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkLGU7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50KXtiPWJ8fGEuZGF0YShcIndpZGdldFwiKTtkPXRoaXMucmVnaXN0ZXJlZFtiXTtpZighZClyZXR1cm4gbnVsbDtpZigoYz1hLmdldFBhcmVudCgpKSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuZGF0YShcImNrZS13aWRnZXQtd3JhcHBlclwiKSlyZXR1cm4gYzthLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIil8fGEuZGF0YShcImNrZS13aWRnZXQta2VlcC1hdHRyXCIsYS5kYXRhKFwid2lkZ2V0XCIpPzE6MCk7YS5kYXRhKFwid2lkZ2V0XCIsYik7KGU9QShkLGEuZ2V0TmFtZSgpKSkmJnUoYSk7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZT9cInNwYW5cIjpcImRpdlwiKTtjLnNldEF0dHJpYnV0ZXMoeShlLGIpKTtjLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIsZC5wYXRoTmFtZT9kLnBhdGhOYW1lOmEuZ2V0TmFtZSgpKTtcbmEuZ2V0UGFyZW50KCEwKSYmYy5yZXBsYWNlKGEpO2EuYXBwZW5kVG8oYyl9ZWxzZSBpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KXtiPWJ8fGEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdO2Q9dGhpcy5yZWdpc3RlcmVkW2JdO2lmKCFkKXJldHVybiBudWxsO2lmKChjPWEucGFyZW50KSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdKXJldHVybiBjO1wiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiaW4gYS5hdHRyaWJ1dGVzfHwoYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiXT1hLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXT8xOjApO2ImJihhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXT1iKTsoZT1BKGQsYS5uYW1lKSkmJnUoYSk7Yz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGU/XCJzcGFuXCI6XCJkaXZcIix5KGUsYikpO2MuYXR0cmlidXRlc1tcImRhdGEtY2tlLWRpc3BsYXktbmFtZVwiXT1cbmQucGF0aE5hbWU/ZC5wYXRoTmFtZTphLm5hbWU7ZD1hLnBhcmVudDt2YXIgZjtkJiYoZj1hLmdldEluZGV4KCksYS5yZW1vdmUoKSk7Yy5hZGQoYSk7ZCYmeihkLGYsYyl9cmV0dXJuIGN9LF90ZXN0c19jcmVhdGVFZGl0YWJsZUZpbHRlcjp4fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihwLnByb3RvdHlwZSk7Zy5wcm90b3R5cGU9e2FkZENsYXNzOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhhKTt0aGlzLndyYXBwZXIuYWRkQ2xhc3MoZy5XUkFQUEVSX0NMQVNTX1BSRUZJWCthKX0sYXBwbHlTdHlsZTpmdW5jdGlvbihhKXtEKHRoaXMsYSwxKX0sY2hlY2tTdHlsZUFjdGl2ZTpmdW5jdGlvbihhKXthPUUoYSk7dmFyIGI7aWYoIWEpcmV0dXJuITE7Zm9yKDtiPWEucG9wKCk7KWlmKCF0aGlzLmhhc0NsYXNzKGIpKXJldHVybiExO3JldHVybiEwfSxkZXN0cm95OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImRlc3Ryb3lcIik7aWYodGhpcy5lZGl0YWJsZXMpZm9yKHZhciBiIGluIHRoaXMuZWRpdGFibGVzKXRoaXMuZGVzdHJveUVkaXRhYmxlKGIsXG5hKTthfHwoXCIwXCI9PXRoaXMuZWxlbWVudC5kYXRhKFwiY2tlLXdpZGdldC1rZWVwLWF0dHJcIikmJnRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXdpZGdldFwiKSx0aGlzLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlcyhbXCJkYXRhLWNrZS13aWRnZXQtZGF0YVwiLFwiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiXSksdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lbGVtZW50XCIpLHRoaXMuZWxlbWVudC5yZXBsYWNlKHRoaXMud3JhcHBlcikpO3RoaXMud3JhcHBlcj1udWxsfSxkZXN0cm95RWRpdGFibGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRhYmxlc1thXSxkPSEwO2MucmVtb3ZlTGlzdGVuZXIoXCJmb2N1c1wiLEgpO2MucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsRyk7dGhpcy5lZGl0b3IuZm9jdXNNYW5hZ2VyLnJlbW92ZShjKTtpZihjLmZpbHRlcil7Zm9yKHZhciBlIGluIHRoaXMucmVwb3NpdG9yeS5pbnN0YW5jZXMpe3ZhciBmPXRoaXMucmVwb3NpdG9yeS5pbnN0YW5jZXNbZV07XG5mLmVkaXRhYmxlcyYmKGY9Zi5lZGl0YWJsZXNbYV0pJiZmIT09YyYmYy5maWx0ZXI9PT1mLmZpbHRlciYmKGQ9ITEpfWQmJihjLmZpbHRlci5kZXN0cm95KCksKGQ9dGhpcy5yZXBvc2l0b3J5Ll8uZmlsdGVyc1t0aGlzLm5hbWVdKSYmZGVsZXRlIGRbYV0pfWJ8fCh0aGlzLnJlcG9zaXRvcnkuZGVzdHJveUFsbCghMSxjKSxjLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZVwiKSxjLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGMucmVtb3ZlQXR0cmlidXRlcyhbXCJjb250ZW50ZWRpdGFibGVcIixcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiLFwiZGF0YS1ja2UtZW50ZXItbW9kZVwiXSkpO2RlbGV0ZSB0aGlzLmVkaXRhYmxlc1thXX0sZWRpdDpmdW5jdGlvbigpe3ZhciBhPXtkaWFsb2c6dGhpcy5kaWFsb2d9LGI9dGhpcztpZighMT09PXRoaXMuZmlyZShcImVkaXRcIixhKXx8IWEuZGlhbG9nKXJldHVybiExO3RoaXMuZWRpdG9yLm9wZW5EaWFsb2coYS5kaWFsb2csXG5mdW5jdGlvbihhKXt2YXIgZCxlOyExIT09Yi5maXJlKFwiZGlhbG9nXCIsYSkmJihkPWEub24oXCJzaG93XCIsZnVuY3Rpb24oKXthLnNldHVwQ29udGVudChiKX0pLGU9YS5vbihcIm9rXCIsZnVuY3Rpb24oKXt2YXIgZCxlPWIub24oXCJkYXRhXCIsZnVuY3Rpb24oYSl7ZD0xO2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtiLmVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2EuY29tbWl0Q29udGVudChiKTtlLnJlbW92ZUxpc3RlbmVyKCk7ZCYmKGIuZmlyZShcImRhdGFcIixiLmRhdGEpLGIuZWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfSksYS5vbmNlKFwiaGlkZVwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVMaXN0ZW5lcigpO2UucmVtb3ZlTGlzdGVuZXIoKX0pKX0pO3JldHVybiEwfSxnZXRDbGFzc2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVwb3NpdG9yeS5wYXJzZUVsZW1lbnRDbGFzc2VzKHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoYSl9LFxuaW5pdEVkaXRhYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZmluZE9uZU5vdE5lc3RlZChiLnNlbGVjdG9yKTtyZXR1cm4gYyYmYy5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKT8oYz1uZXcgcSh0aGlzLmVkaXRvcixjLHtmaWx0ZXI6eC5jYWxsKHRoaXMucmVwb3NpdG9yeSx0aGlzLm5hbWUsYSxiKX0pLHRoaXMuZWRpdGFibGVzW2FdPWMsYy5zZXRBdHRyaWJ1dGVzKHtjb250ZW50ZWRpdGFibGU6XCJ0cnVlXCIsXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcIjphLFwiZGF0YS1ja2UtZW50ZXItbW9kZVwiOmMuZW50ZXJNb2RlfSksYy5maWx0ZXImJmMuZGF0YShcImNrZS1maWx0ZXJcIixjLmZpbHRlci5pZCksYy5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVcIiksYy5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxiLnBhdGhOYW1lJiZjLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIsYi5wYXRoTmFtZSksdGhpcy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChjKSxcbmMub24oXCJmb2N1c1wiLEgsdGhpcyksQ0tFRElUT1IuZW52LmllJiZjLm9uKFwiYmx1clwiLEcsdGhpcyksYy5fLmluaXRpYWxTZXREYXRhPSEwLGMuc2V0RGF0YShjLmdldEh0bWwoKSksITApOiExfSxfZmluZE9uZU5vdE5lc3RlZDpmdW5jdGlvbihhKXthPXRoaXMud3JhcHBlci5maW5kKGEpO2Zvcih2YXIgYixjLGQ9MDtkPGEuY291bnQoKTtkKyspaWYoYj1hLmdldEl0ZW0oZCksYz1iLmdldEFzY2VuZGFudChnLmlzRG9tV2lkZ2V0V3JhcHBlciksdGhpcy53cmFwcGVyLmVxdWFscyhjKSlyZXR1cm4gYjtyZXR1cm4gbnVsbH0saXNJbml0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLndyYXBwZXJ8fCF0aGlzLmluaXRlZCl9LGlzUmVhZHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0luaXRlZCgpJiZ0aGlzLnJlYWR5fSxmb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpO2lmKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmNoZWNrRGlydHkoKTthLmZha2UodGhpcy53cmFwcGVyKTtcbiFiJiZ0aGlzLmVkaXRvci5yZXNldERpcnR5KCl9dGhpcy5lZGl0b3IuZm9jdXMoKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKGEpO3RoaXMud3JhcHBlci5yZW1vdmVDbGFzcyhnLldSQVBQRVJfQ0xBU1NfUFJFRklYK2EpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXtEKHRoaXMsYSwwKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZGF0YSxkPTA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpY1thXSE9PWImJihjW2FdPWIsZD0xKTtlbHNle3ZhciBlPWE7Zm9yKGEgaW4gZSljW2FdIT09ZVthXSYmKGQ9MSxjW2FdPWVbYV0pfWQmJnRoaXMuZGF0YVJlYWR5JiYocih0aGlzKSx0aGlzLmZpcmUoXCJkYXRhXCIsYykpO3JldHVybiB0aGlzfSxzZXRGb2N1c2VkOmZ1bmN0aW9uKGEpe3RoaXMud3JhcHBlclthP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKFwiY2tlX3dpZGdldF9mb2N1c2VkXCIpO3RoaXMuZmlyZShhP1wiZm9jdXNcIjpcImJsdXJcIik7XG5yZXR1cm4gdGhpc30sc2V0U2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7dGhpcy53cmFwcGVyW2E/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJja2Vfd2lkZ2V0X3NlbGVjdGVkXCIpO3RoaXMuZmlyZShhP1wic2VsZWN0XCI6XCJkZXNlbGVjdFwiKTtyZXR1cm4gdGhpc30sdXBkYXRlRHJhZ0hhbmRsZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLGI9dGhpcy5lbGVtZW50LiQsYz10aGlzLl8uZHJhZ0hhbmRsZXJPZmZzZXQsYj17eDpiLm9mZnNldExlZnQseTpiLm9mZnNldFRvcC0xNX07YyYmYi54PT1jLngmJmIueT09Yy55fHwoYz1hLmNoZWNrRGlydHkoKSxhLmZpcmUoXCJsb2NrU25hcHNob3RcIiksdGhpcy5kcmFnSGFuZGxlckNvbnRhaW5lci5zZXRTdHlsZXMoe3RvcDpiLnkrXCJweFwiLGxlZnQ6Yi54K1wicHhcIixkaXNwbGF5OlwiYmxvY2tcIn0pLGEuZmlyZShcInVubG9ja1NuYXBzaG90XCIpLCFjJiZhLnJlc2V0RGlydHkoKSx0aGlzLl8uZHJhZ0hhbmRsZXJPZmZzZXQ9Yil9fTtcbkNLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGcucHJvdG90eXBlKTtnLmdldE5lc3RlZEVkaXRhYmxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWJ8fGIuZXF1YWxzKGEpP251bGw6Zy5pc0RvbU5lc3RlZEVkaXRhYmxlKGIpP2I6Zy5nZXROZXN0ZWRFZGl0YWJsZShhLGIuZ2V0UGFyZW50KCkpfTtnLmlzRG9tRHJhZ0hhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1kcmFnLWhhbmRsZXJcIil9O2cuaXNEb21EcmFnSGFuZGxlckNvbnRhaW5lcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQ2xhc3MoXCJja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJcIil9O2cuaXNEb21OZXN0ZWRFZGl0YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCIpfTtcbmcuaXNEb21XaWRnZXRFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXdpZGdldFwiKX07Zy5pc0RvbVdpZGdldFdyYXBwZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCIpfTtnLmlzRG9tV2lkZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuaXNEb21XaWRnZXRXcmFwcGVyKGEpfHx0aGlzLmlzRG9tV2lkZ2V0RWxlbWVudChhKTohMX07Zy5pc1BhcnNlcldpZGdldEVsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhIWEuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdfTtnLmlzUGFyc2VyV2lkZ2V0V3JhcHBlcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiEhYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIl19O1xuZy5XUkFQUEVSX0NMQVNTX1BSRUZJWD1cImNrZV93aWRnZXRfd3JhcHBlcl9cIjtxLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlKSx7c2V0RGF0YTpmdW5jdGlvbihhKXt0aGlzLl8uaW5pdGlhbFNldERhdGF8fHRoaXMuZWRpdG9yLndpZGdldHMuZGVzdHJveUFsbCghMSx0aGlzKTt0aGlzLl8uaW5pdGlhbFNldERhdGE9ITE7YT10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChhLHtjb250ZXh0OnRoaXMuZ2V0TmFtZSgpLGZpbHRlcjp0aGlzLmZpbHRlcixlbnRlck1vZGU6dGhpcy5lbnRlck1vZGV9KTt0aGlzLnNldEh0bWwoYSk7dGhpcy5lZGl0b3Iud2lkZ2V0cy5pbml0T25BbGwodGhpcyl9LGdldERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0RhdGFGb3JtYXQodGhpcy5nZXRIdG1sKCkse2NvbnRleHQ6dGhpcy5nZXROYW1lKCksXG5maWx0ZXI6dGhpcy5maWx0ZXIsZW50ZXJNb2RlOnRoaXMuZW50ZXJNb2RlfSl9fSk7dmFyIFg9L14oPzo8KD86ZGl2fHNwYW4pKD86IGRhdGEtY2tlLXRlbXA9XCIxXCIpPyg/OiBpZD1cImNrZV9jb3B5YmluXCIpPyg/OiBkYXRhLWNrZS10ZW1wPVwiMVwiKT8+KT8oPzo8KD86ZGl2fHNwYW4pKD86IHN0eWxlPVwiW15cIl0rXCIpPz4pPzxzcGFuIFtePl0qZGF0YS1ja2UtY29weWJpbi1zdGFydD1cIjFcIltePl0qPi4/PFxcL3NwYW4+KFtcXHNcXFNdKyk8c3BhbiBbXj5dKmRhdGEtY2tlLWNvcHliaW4tZW5kPVwiMVwiW14+XSo+Lj88XFwvc3Bhbj4oPzo8XFwvKD86ZGl2fHNwYW4pPik/KD86PFxcLyg/OmRpdnxzcGFuKT4pPyQvaSxnYT17Mzc6MSwzODoxLDM5OjEsNDA6MSw4OjEsNDY6MX07Q0tFRElUT1IucGx1Z2lucy53aWRnZXQ9ZztnLnJlcG9zaXRvcnk9cDtnLm5lc3RlZEVkaXRhYmxlPXF9KSgpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFuZWxidXR0b25cIix7cmVxdWlyZXM6XCJidXR0b25cIixvbkxvYWQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGMpe3ZhciBhPXRoaXMuXzthLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHRoaXMuY3JlYXRlUGFuZWwoYyksYS5vbj9hLnBhbmVsLmhpZGUoKTphLnBhbmVsLnNob3dCbG9jayh0aGlzLl8uaWQsdGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCksNCkpfUNLRURJVE9SLnVpLnBhbmVsQnV0dG9uPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHtiYXNlOkNLRURJVE9SLnVpLmJ1dHRvbiwkOmZ1bmN0aW9uKGMpe3ZhciBhPWMucGFuZWx8fHt9O2RlbGV0ZSBjLnBhbmVsO3RoaXMuYmFzZShjKTt0aGlzLmRvY3VtZW50PWEucGFyZW50JiZhLnBhcmVudC5nZXREb2N1bWVudCgpfHxDS0VESVRPUi5kb2N1bWVudDthLmJsb2NrPXthdHRyaWJ1dGVzOmEuYXR0cmlidXRlc307YS50b29sYmFyUmVsYXRlZD0hMDt0aGlzLmhhc0Fycm93PVxuXCJsaXN0Ym94XCI7dGhpcy5jbGljaz1lO3RoaXMuXz17cGFuZWxEZWZpbml0aW9uOmF9fSxzdGF0aWNzOntoYW5kbGVyOntjcmVhdGU6ZnVuY3Rpb24oYyl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5wYW5lbEJ1dHRvbihjKX19fSxwcm90bzp7Y3JlYXRlUGFuZWw6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcy5fO2lmKCFhLnBhbmVsKXt2YXIgZj10aGlzLl8ucGFuZWxEZWZpbml0aW9uLGU9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxnPWYucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksZD10aGlzLl8ucGFuZWw9bmV3IENLRURJVE9SLnVpLmZsb2F0UGFuZWwoYyxnLGYpLGY9ZC5hZGRCbG9jayhhLmlkLGUpLGI9dGhpcztkLm9uU2hvdz1mdW5jdGlvbigpe2IuY2xhc3NOYW1lJiZ0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYi5jbGFzc05hbWUrXCJfcGFuZWxcIik7Yi5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik7YS5vbj0xO2IuZWRpdG9yRm9jdXMmJmMuZm9jdXMoKTtcbmlmKGIub25PcGVuKWIub25PcGVuKCl9O2Qub25IaWRlPWZ1bmN0aW9uKGQpe2IuY2xhc3NOYW1lJiZ0aGlzLmVsZW1lbnQuZ2V0Rmlyc3QoKS5yZW1vdmVDbGFzcyhiLmNsYXNzTmFtZStcIl9wYW5lbFwiKTtiLnNldFN0YXRlKGIubW9kZXMmJmIubW9kZXNbYy5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Eub249MDtpZighZCYmYi5vbkNsb3NlKWIub25DbG9zZSgpfTtkLm9uRXNjYXBlPWZ1bmN0aW9uKCl7ZC5oaWRlKDEpO2IuZG9jdW1lbnQuZ2V0QnlJZChhLmlkKS5mb2N1cygpfTtpZih0aGlzLm9uQmxvY2spdGhpcy5vbkJsb2NrKGQsZik7Zi5vbkhpZGU9ZnVuY3Rpb24oKXthLm9uPTA7Yi5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX19fX0pfSxiZWZvcmVJbml0OmZ1bmN0aW9uKGUpe2UudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTEJVVFRPTixDS0VESVRPUi51aS5wYW5lbEJ1dHRvbi5oYW5kbGVyKX19KTtcbkNLRURJVE9SLlVJX1BBTkVMQlVUVE9OPVwicGFuZWxidXR0b25cIjsoZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhbmVsXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1BBTkVMLENLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXIpfX0pO0NLRURJVE9SLlVJX1BBTkVMPVwicGFuZWxcIjtDS0VESVRPUi51aS5wYW5lbD1mdW5jdGlvbihhLGIpe2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtjbGFzc05hbWU6XCJcIixjc3M6W119KTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuZG9jdW1lbnQ9YTt0aGlzLmlzRnJhbWVkPXRoaXMuZm9yY2VJRnJhbWV8fHRoaXMuY3NzLmxlbmd0aDt0aGlzLl89e2Jsb2Nrczp7fX19O0NLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnBhbmVsKGEpfX07dmFyIGc9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbFwiLFxuJ1xceDNjZGl2IGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIGlkXFx4M2RcIntpZH1cIiBkaXJcXHgzZHtkaXJ9IGNsYXNzXFx4M2RcImNrZSBja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0gY2tlX3BhbmVsIGNrZV9wYW5lbCB7Y2xzfSBja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJ6LWluZGV4Ont6LWluZGV4fVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZXtmcmFtZX1cXHgzYy9kaXZcXHgzZScpLGg9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZVwiLCdcXHgzY2lmcmFtZSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2ZyYW1lXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgc3JjXFx4M2RcIntzcmN9XCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyksaz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWZyYW1lLWlubmVyXCIsJ1xceDNjIURPQ1RZUEUgaHRtbFxceDNlXFx4M2NodG1sIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9jb250YWluZXIge2Vudn1cIiBkaXJcXHgzZFwie2Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIlxceDNlXFx4M2NoZWFkXFx4M2V7Y3NzfVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBjbGFzc1xceDNkXCJja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJtYXJnaW46MDtwYWRkaW5nOjBcIiBvbmxvYWRcXHgzZFwie29ubG9hZH1cIlxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlJyk7XG5DS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhLGIpe3ZhciBlPXtlZGl0b3JJZDphLmlkLGlkOnRoaXMuaWQsbGFuZ0NvZGU6YS5sYW5nQ29kZSxkaXI6YS5sYW5nLmRpcixjbHM6dGhpcy5jbGFzc05hbWUsZnJhbWU6XCJcIixlbnY6Q0tFRElUT1IuZW52LmNzc0NsYXNzLFwiei1pbmRleFwiOmEuY29uZmlnLmJhc2VGbG9hdFpJbmRleCsxfTt0aGlzLmdldEhvbGRlckVsZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaG9sZGVyO2lmKCFhKXtpZih0aGlzLmlzRnJhbWVkKXt2YXIgYT10aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCtcIl9mcmFtZVwiKSxiPWEuZ2V0UGFyZW50KCksYT1hLmdldEZyYW1lRG9jdW1lbnQoKTtDS0VESVRPUi5lbnYuaU9TJiZiLnNldFN0eWxlcyh7b3ZlcmZsb3c6XCJzY3JvbGxcIixcIi13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nXCI6XCJ0b3VjaFwifSk7Yj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihDS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRlZD1cbiEwO2lmKHRoaXMub25Mb2FkKXRoaXMub25Mb2FkKCl9LHRoaXMpKTthLndyaXRlKGsub3V0cHV0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7Y3NzOkNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKHRoaXMuY3NzKSxvbmxvYWQ6XCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitiK1wiKTtcIn0sZSkpKTthLmdldFdpbmRvdygpLiQuQ0tFRElUT1I9Q0tFRElUT1I7YS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCksYz10aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCkuZ2V0QXR0cmlidXRlKFwiZGlyXCIpO2lmKFwiaW5wdXRcIiE9PWEuZGF0YS5nZXRUYXJnZXQoKS5nZXROYW1lKCl8fDM3IT09YiYmMzkhPT1iKXRoaXMuXy5vbktleURvd24mJiExPT09dGhpcy5fLm9uS2V5RG93bihiKT9cImlucHV0XCI9PT1hLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0TmFtZSgpJiYzMj09PWJ8fGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOlxuKDI3PT1ifHxiPT0oXCJydGxcIj09Yz8zOTozNykpJiZ0aGlzLm9uRXNjYXBlJiYhMT09PXRoaXMub25Fc2NhcGUoYikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzKTthPWEuZ2V0Qm9keSgpO2EudW5zZWxlY3RhYmxlKCk7Q0tFRElUT1IuZW52LmFpciYmQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKGIpfWVsc2UgYT10aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCk7dGhpcy5fLmhvbGRlcj1hfXJldHVybiBhfTtpZih0aGlzLmlzRnJhbWVkKXt2YXIgZD1DS0VESVRPUi5lbnYuYWlyP1wiamF2YXNjcmlwdDp2b2lkKDApXCI6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0oKSlcIjpcIlwiO2UuZnJhbWU9aC5vdXRwdXQoe2lkOnRoaXMuaWQrXCJfZnJhbWVcIixcbnNyYzpkfSl9ZD1nLm91dHB1dChlKTtiJiZiLnB1c2goZCk7cmV0dXJuIGR9LGFkZEJsb2NrOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uYmxvY2tzW2FdPWIgaW5zdGFuY2VvZiBDS0VESVRPUi51aS5wYW5lbC5ibG9jaz9iOm5ldyBDS0VESVRPUi51aS5wYW5lbC5ibG9jayh0aGlzLmdldEhvbGRlckVsZW1lbnQoKSxiKTt0aGlzLl8uY3VycmVudEJsb2NrfHx0aGlzLnNob3dCbG9jayhhKTtyZXR1cm4gYn0sZ2V0QmxvY2s6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5ibG9ja3NbYV19LHNob3dCbG9jazpmdW5jdGlvbihhKXthPXRoaXMuXy5ibG9ja3NbYV07dmFyIGI9dGhpcy5fLmN1cnJlbnRCbG9jayxlPSF0aGlzLmZvcmNlSUZyYW1lfHxDS0VESVRPUi5lbnYuaWU/dGhpcy5fLmhvbGRlcjp0aGlzLmRvY3VtZW50LmdldEJ5SWQodGhpcy5pZCtcIl9mcmFtZVwiKTtiJiZiLmhpZGUoKTt0aGlzLl8uY3VycmVudEJsb2NrPWE7Q0tFRElUT1IuZmlyZShcImFyaWFXaWRnZXRcIixlKTthLl8uZm9jdXNJbmRleD1cbi0xO3RoaXMuXy5vbktleURvd249YS5vbktleURvd24mJkNLRURJVE9SLnRvb2xzLmJpbmQoYS5vbktleURvd24sYSk7YS5zaG93KCk7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5yZW1vdmUoKX19O0NLRURJVE9SLnVpLnBhbmVsLmJsb2NrPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYil7dGhpcy5lbGVtZW50PWEuYXBwZW5kKGEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIse2F0dHJpYnV0ZXM6e3RhYmluZGV4Oi0xLFwiY2xhc3NcIjpcImNrZV9wYW5lbF9ibG9ja1wifSxzdHlsZXM6e2Rpc3BsYXk6XCJub25lXCJ9fSkpO2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGVzKHtyb2xlOnRoaXMuYXR0cmlidXRlcy5yb2xlfHxcInByZXNlbnRhdGlvblwiLFwiYXJpYS1sYWJlbFwiOnRoaXMuYXR0cmlidXRlc1tcImFyaWEtbGFiZWxcIl0sdGl0bGU6dGhpcy5hdHRyaWJ1dGVzLnRpdGxlfHxcbnRoaXMuYXR0cmlidXRlc1tcImFyaWEtbGFiZWxcIl19KTt0aGlzLmtleXM9e307dGhpcy5fLmZvY3VzSW5kZXg9LTE7dGhpcy5lbGVtZW50LmRpc2FibGVDb250ZXh0TWVudSgpfSxfOnttYXJrSXRlbTpmdW5jdGlvbihhKXstMSE9YSYmKGE9dGhpcy5fLmdldEl0ZW1zKCkuZ2V0SXRlbSh0aGlzLl8uZm9jdXNJbmRleD1hKSxDS0VESVRPUi5lbnYud2Via2l0JiZhLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxhLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGEpKX0sbWFya0ZpcnN0RGlzcGxheWVkOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwibm9uZVwiPT1hLmdldFN0eWxlKFwiZGlzcGxheVwiKX0sZT10aGlzLl8uZ2V0SXRlbXMoKSxkLGMsZj1lLmNvdW50KCktMTswPD1mO2YtLSlpZihkPWUuZ2V0SXRlbShmKSxkLmdldEFzY2VuZGFudChiKXx8KGM9ZCx0aGlzLl8uZm9jdXNJbmRleD1cbmYpLFwidHJ1ZVwiPT1kLmdldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIikpe2M9ZDt0aGlzLl8uZm9jdXNJbmRleD1mO2JyZWFrfWMmJihhJiZhKCksQ0tFRElUT1IuZW52LndlYmtpdCYmYy5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpLmZvY3VzKCksYy5mb2N1cygpLHRoaXMub25NYXJrJiZ0aGlzLm9uTWFyayhjKSl9LGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5maW5kKFwiYSxpbnB1dFwiKX19LHByb3RvOntzaG93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJiEwPT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKXx8dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sb25LZXlEb3duOmZ1bmN0aW9uKGEsYil7dmFyIGU9dGhpcy5rZXlzW2FdO3N3aXRjaChlKXtjYXNlIFwibmV4dFwiOmZvcih2YXIgZD10aGlzLl8uZm9jdXNJbmRleCxlPXRoaXMuXy5nZXRJdGVtcygpLFxuYztjPWUuZ2V0SXRlbSgrK2QpOylpZihjLmdldEF0dHJpYnV0ZShcIl9ja2VfZm9jdXNcIikmJmMuJC5vZmZzZXRXaWR0aCl7dGhpcy5fLmZvY3VzSW5kZXg9ZDtjLmZvY3VzKCEwKTticmVha31yZXR1cm4gY3x8Yj8hMToodGhpcy5fLmZvY3VzSW5kZXg9LTEsdGhpcy5vbktleURvd24oYSwxKSk7Y2FzZSBcInByZXZcIjpkPXRoaXMuXy5mb2N1c0luZGV4O2ZvcihlPXRoaXMuXy5nZXRJdGVtcygpOzA8ZCYmKGM9ZS5nZXRJdGVtKC0tZCkpOyl7aWYoYy5nZXRBdHRyaWJ1dGUoXCJfY2tlX2ZvY3VzXCIpJiZjLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PWQ7Yy5mb2N1cyghMCk7YnJlYWt9Yz1udWxsfXJldHVybiBjfHxiPyExOih0aGlzLl8uZm9jdXNJbmRleD1lLmNvdW50KCksdGhpcy5vbktleURvd24oYSwxKSk7Y2FzZSBcImNsaWNrXCI6Y2FzZSBcIm1vdXNldXBcIjpyZXR1cm4gZD10aGlzLl8uZm9jdXNJbmRleCwoYz0wPD1kJiZ0aGlzLl8uZ2V0SXRlbXMoKS5nZXRJdGVtKGQpKSYmXG4oYy4kW2VdP2MuJFtlXSgpOmMuJFtcIm9uXCIrZV0oKSksITF9cmV0dXJuITB9fX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImZsb2F0cGFuZWxcIix7cmVxdWlyZXM6XCJwYW5lbFwifSk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiB2KGEsYixjLG0saCl7aD1DS0VESVRPUi50b29scy5nZW5LZXkoYi5nZXRVbmlxdWVJZCgpLGMuZ2V0VW5pcXVlSWQoKSxhLmxhbmcuZGlyLGEudWlDb2xvcnx8XCJcIixtLmNzc3x8XCJcIixofHxcIlwiKTt2YXIgZz1mW2hdO2d8fChnPWZbaF09bmV3IENLRURJVE9SLnVpLnBhbmVsKGIsbSksZy5lbGVtZW50PWMuYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGcucmVuZGVyKGEpLGIpKSxnLmVsZW1lbnQuc2V0U3R5bGVzKHtkaXNwbGF5Olwibm9uZVwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0pKTtyZXR1cm4gZ312YXIgZj17fTtDS0VESVRPUi51aS5mbG9hdFBhbmVsPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYixjLG0pe2Z1bmN0aW9uIGgoKXtlLmhpZGUoKX1jLmZvcmNlSUZyYW1lPTE7Yy50b29sYmFyUmVsYXRlZCYmYS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmXG4oYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK2EubmFtZSkpO3ZhciBnPWIuZ2V0RG9jdW1lbnQoKTttPXYoYSxnLGIsYyxtfHwwKTt2YXIgbj1tLmVsZW1lbnQsaz1uLmdldEZpcnN0KCksZT10aGlzO24uZGlzYWJsZUNvbnRleHRNZW51KCk7dGhpcy5lbGVtZW50PW47dGhpcy5fPXtlZGl0b3I6YSxwYW5lbDptLHBhcmVudEVsZW1lbnQ6YixkZWZpbml0aW9uOmMsZG9jdW1lbnQ6ZyxpZnJhbWU6ayxjaGlsZHJlbjpbXSxkaXI6YS5sYW5nLmRpcixzaG93QmxvY2tQYXJhbXM6bnVsbCxtYXJrRmlyc3Q6dm9pZCAwIT09Yy5tYXJrRmlyc3Q/Yy5tYXJrRmlyc3Q6ITB9O2Eub24oXCJtb2RlXCIsaCk7YS5vbihcInJlc2l6ZVwiLGgpO2cuZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmdW5jdGlvbigpe3RoaXMucmVwb3NpdGlvbigpfSx0aGlzKX0scHJvdG86e2FkZEJsb2NrOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRCbG9jayhhLGIpfSxhZGRMaXN0QmxvY2s6ZnVuY3Rpb24oYSxcbmIpe3JldHVybiB0aGlzLl8ucGFuZWwuYWRkTGlzdEJsb2NrKGEsYil9LGdldEJsb2NrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8ucGFuZWwuZ2V0QmxvY2soYSl9LHNob3dCbG9jazpmdW5jdGlvbihhLGIsYyxtLGgsZyl7dmFyIG49dGhpcy5fLnBhbmVsLGs9bi5zaG93QmxvY2soYSk7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5hbGxvd0JsdXIoITEpO3ZhciBlPXRoaXMuXy5lZGl0b3IuZWRpdGFibGUoKTt0aGlzLl8ucmV0dXJuRm9jdXM9ZS5oYXNGb2N1cz9lOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChDS0VESVRPUi5kb2N1bWVudC4kLmFjdGl2ZUVsZW1lbnQpO3RoaXMuXy5oaWRlVGltZW91dD0wO3ZhciBsPXRoaXMuZWxlbWVudCxlPXRoaXMuXy5pZnJhbWUsZT1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9lOm5ldyBDS0VESVRPUi5kb20ud2luZG93KGUuJC5jb250ZW50V2luZG93KSxmPWwuZ2V0RG9jdW1lbnQoKSxcbnI9dGhpcy5fLnBhcmVudEVsZW1lbnQuZ2V0UG9zaXRpb25lZEFuY2VzdG9yKCksdD1iLmdldERvY3VtZW50UG9zaXRpb24oZiksZj1yP3IuZ2V0RG9jdW1lbnRQb3NpdGlvbihmKTp7eDowLHk6MH0scT1cInJ0bFwiPT10aGlzLl8uZGlyLGQ9dC54KyhtfHwwKS1mLngscD10LnkrKGh8fDApLWYueTshcXx8MSE9YyYmNCE9Yz9xfHwyIT1jJiYzIT1jfHwoZCs9Yi4kLm9mZnNldFdpZHRoLTEpOmQrPWIuJC5vZmZzZXRXaWR0aDtpZigzPT1jfHw0PT1jKXArPWIuJC5vZmZzZXRIZWlnaHQtMTt0aGlzLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZD1iLmdldElkKCk7bC5zZXRTdHlsZXMoe3RvcDpwK1wicHhcIixsZWZ0OjAsZGlzcGxheTpcIlwifSk7bC5zZXRPcGFjaXR5KDApO2wuZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO3RoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChlKTt0aGlzLl8uYmx1clNldHx8KENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITAsZS5vbihcImJsdXJcIixcbmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIHUoKXtkZWxldGUgdGhpcy5fLnJldHVybkZvY3VzO3RoaXMuaGlkZSgpfXRoaXMuYWxsb3dCbHVyKCkmJmEuZGF0YS5nZXRQaGFzZSgpPT1DS0VESVRPUi5FVkVOVF9QSEFTRV9BVF9UQVJHRVQmJnRoaXMudmlzaWJsZSYmIXRoaXMuXy5hY3RpdmVDaGlsZCYmKENLRURJVE9SLmVudi5pT1M/dGhpcy5fLmhpZGVUaW1lb3V0fHwodGhpcy5fLmhpZGVUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQodSwwLHRoaXMpKTp1LmNhbGwodGhpcykpfSx0aGlzKSxlLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkPSEwO3RoaXMuaGlkZUNoaWxkKCk7dGhpcy5hbGxvd0JsdXIoITApfSx0aGlzKSxDS0VESVRPUi5lbnYuaU9TJiYoZS5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uaGlkZVRpbWVvdXQpfSx0aGlzKSxlLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3RoaXMuXy5oaWRlVGltZW91dD1cbjA7dGhpcy5mb2N1cygpfSx0aGlzKSksQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0hMSx0aGlzLl8uYmx1clNldD0xKTtuLm9uRXNjYXBlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oYSl7aWYodGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBhPWw7YS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO2lmKGsuYXV0b1NpemUpe3ZhciBiPWsuZWxlbWVudC5nZXREb2N1bWVudCgpLGI9KENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5lZGdlP2suZWxlbWVudDpiLmdldEJvZHkoKSkuJC5zY3JvbGxXaWR0aDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0V2lkdGh8fDApLShhLiQuY2xpZW50V2lkdGh8fDApKzMpO2Euc2V0U3R5bGUoXCJ3aWR0aFwiLFxuYisxMCtcInB4XCIpO2I9ay5lbGVtZW50LiQuc2Nyb2xsSGVpZ2h0O0NLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrcyYmMDxiJiYoYis9KGEuJC5vZmZzZXRIZWlnaHR8fDApLShhLiQuY2xpZW50SGVpZ2h0fHwwKSszKTthLnNldFN0eWxlKFwiaGVpZ2h0XCIsYitcInB4XCIpO24uXy5jdXJyZW50QmxvY2suZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpfWVsc2UgYS5yZW1vdmVTdHlsZShcImhlaWdodFwiKTtxJiYoZC09bC4kLm9mZnNldFdpZHRoKTtsLnNldFN0eWxlKFwibGVmdFwiLGQrXCJweFwiKTt2YXIgYj1uLmVsZW1lbnQuZ2V0V2luZG93KCksYT1sLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZT1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsbT1xP2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsaD1xP2Iud2lkdGgtYS5yaWdodDphLmxlZnQ7XG5xP208YyYmKGQ9aD5jP2QrYzpiLndpZHRoPmM/ZC1hLmxlZnQ6ZC1hLnJpZ2h0K2Iud2lkdGgpOm08YyYmKGQ9aD5jP2QtYzpiLndpZHRoPmM/ZC1hLnJpZ2h0K2Iud2lkdGg6ZC1hLmxlZnQpO2M9YS50b3A7Yi5oZWlnaHQtYS50b3A8ZSYmKHA9Yz5lP3AtZTpiLmhlaWdodD5lP3AtYS5ib3R0b20rYi5oZWlnaHQ6cC1hLnRvcCk7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2UmJihiPWE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGwuJC5vZmZzZXRQYXJlbnQpLFwiaHRtbFwiPT1iLmdldE5hbWUoKSYmKGI9Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKSksXCJydGxcIj09Yi5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpJiYoZD1DS0VESVRPUi5lbnYuaWU4Q29tcGF0P2QtMipsLmdldERvY3VtZW50KCkuZ2V0RG9jdW1lbnRFbGVtZW50KCkuJC5zY3JvbGxMZWZ0OmQtKGEuJC5zY3JvbGxXaWR0aC1hLiQuY2xpZW50V2lkdGgpKSk7dmFyIGE9bC5nZXRGaXJzdCgpLGY7XG4oZj1hLmdldEN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiKSkmJmYub25IaWRlJiZmLm9uSGlkZS5jYWxsKHRoaXMsMSk7YS5zZXRDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIix0aGlzKTtsLnNldFN0eWxlcyh7dG9wOnArXCJweFwiLGxlZnQ6ZCtcInB4XCJ9KTtsLnNldE9wYWNpdHkoMSk7ZyYmZygpfSx0aGlzKTtuLmlzTG9hZGVkP2EoKTpuLm9uTG9hZD1hO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5lbnYud2Via2l0JiZDS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7dGhpcy5mb2N1cygpO2suZWxlbWVudC5mb2N1cygpO0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9YSk7dGhpcy5hbGxvd0JsdXIoITApO3RoaXMuXy5tYXJrRmlyc3QmJihDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2subWFya0ZpcnN0RGlzcGxheWVkP1xuay5tYXJrRmlyc3REaXNwbGF5ZWQoKTprLl8ubWFya0ZpcnN0RGlzcGxheWVkKCl9LDApOmsubWFya0ZpcnN0RGlzcGxheWVkP2subWFya0ZpcnN0RGlzcGxheWVkKCk6ay5fLm1hcmtGaXJzdERpc3BsYXllZCgpKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJwYW5lbFNob3dcIix0aGlzKX0sMCx0aGlzKX0sQ0tFRElUT1IuZW52LmFpcj8yMDA6MCx0aGlzKTt0aGlzLnZpc2libGU9MTt0aGlzLm9uU2hvdyYmdGhpcy5vblNob3cuY2FsbCh0aGlzKX0scmVwb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5zaG93QmxvY2tQYXJhbXM7dGhpcy52aXNpYmxlJiZ0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zJiYodGhpcy5oaWRlKCksdGhpcy5zaG93QmxvY2suYXBwbHkodGhpcyxhKSl9LGZvY3VzOmZ1bmN0aW9uKCl7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7YSYmIWEuZXF1YWxzKHRoaXMuXy5pZnJhbWUpJiZhLiQuYmx1cigpfSh0aGlzLl8ubGFzdEZvY3VzZWR8fFxudGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0V2luZG93KCkpLmZvY3VzKCl9LGJsdXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRBY3RpdmUoKTthJiZhLmlzKFwiYVwiKSYmKHRoaXMuXy5sYXN0Rm9jdXNlZD1hKX0saGlkZTpmdW5jdGlvbihhKXtpZih0aGlzLnZpc2libGUmJighdGhpcy5vbkhpZGV8fCEwIT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKSkpe3RoaXMuaGlkZUNoaWxkKCk7Q0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS4kLmFjdGl2ZUVsZW1lbnQuYmx1cigpO3RoaXMuZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIik7dGhpcy52aXNpYmxlPTA7dGhpcy5lbGVtZW50LmdldEZpcnN0KCkucmVtb3ZlQ3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpO2lmKGE9YSYmdGhpcy5fLnJldHVybkZvY3VzKUNLRURJVE9SLmVudi53ZWJraXQmJmEudHlwZSYmYS5nZXRXaW5kb3coKS4kLmZvY3VzKCksXG5hLmZvY3VzKCk7ZGVsZXRlIHRoaXMuXy5sYXN0Rm9jdXNlZDt0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zPW51bGw7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxIaWRlXCIsdGhpcyl9fSxhbGxvd0JsdXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fLnBhbmVsO3ZvaWQgMCE9PWEmJihiLmFsbG93Qmx1cj1hKTtyZXR1cm4gYi5hbGxvd0JsdXJ9LHNob3dBc0NoaWxkOmZ1bmN0aW9uKGEsYixjLGYsaCxnKXtpZih0aGlzLl8uYWN0aXZlQ2hpbGQhPWF8fGEuXy5wYW5lbC5fLm9mZnNldFBhcmVudElkIT1jLmdldElkKCkpdGhpcy5oaWRlQ2hpbGQoKSxhLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkfHx0aGlzLmhpZGUoKX0sMCx0aGlzKX0sdGhpcyksdGhpcy5fLmFjdGl2ZUNoaWxkPWEsdGhpcy5fLmZvY3VzZWQ9ITEsYS5zaG93QmxvY2soYixjLGYsaCxnKSx0aGlzLmJsdXIoKSxcbihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EuZWxlbWVudC5nZXRDaGlsZCgwKS4kLnN0eWxlLmNzc1RleHQrPVwiXCJ9LDEwMCl9LGhpZGVDaGlsZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uYWN0aXZlQ2hpbGQ7YiYmKGRlbGV0ZSBiLm9uSGlkZSxkZWxldGUgdGhpcy5fLmFjdGl2ZUNoaWxkLGIuaGlkZSgpLGEmJnRoaXMuZm9jdXMoKSl9fX0pO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VEZXN0cm95ZWRcIixmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoQ0tFRElUT1IuaW5zdGFuY2VzKSxiO2ZvcihiIGluIGYpe3ZhciBjPWZbYl07YT9jLmRlc3Ryb3koKTpjLmVsZW1lbnQuaGlkZSgpfWEmJihmPXt9KX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImNvbG9yYnV0dG9uXCIse3JlcXVpcmVzOlwicGFuZWxidXR0b24sZmxvYXRwYW5lbFwiLGluaXQ6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChhLGQsZyxyLGspe3ZhciBwPW5ldyBDS0VESVRPUi5zdHlsZShsW1wiY29sb3JCdXR0b25fXCIrZCtcIlN0eWxlXCJdKSxtPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2NvbG9yQm94XCIscTtrPWt8fHt9O2UudWkuYWRkKGEsQ0tFRElUT1IuVUlfUEFORUxCVVRUT04se2xhYmVsOmcsdGl0bGU6Zyxtb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czowLHRvb2xiYXI6XCJjb2xvcnMsXCIrcixhbGxvd2VkQ29udGVudDpwLHJlcXVpcmVkQ29udGVudDpwLGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6ay5jb250ZW50VHJhbnNmb3JtYXRpb25zLHBhbmVsOntjc3M6Q0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpLGF0dHJpYnV0ZXM6e3JvbGU6XCJsaXN0Ym94XCIsXCJhcmlhLWxhYmVsXCI6aC5wYW5lbFRpdGxlfX0sb25CbG9jazpmdW5jdGlvbihhLFxuYil7cT1iO2IuYXV0b1NpemU9ITA7Yi5lbGVtZW50LmFkZENsYXNzKFwiY2tlX2NvbG9yYmxvY2tcIik7Yi5lbGVtZW50LnNldEh0bWwoeShhLGQsbSkpO2IuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7Q0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcyk7dmFyIGM9Yi5rZXlzLGY9XCJydGxcIj09ZS5sYW5nLmRpcjtjW2Y/Mzc6MzldPVwibmV4dFwiO2NbNDBdPVwibmV4dFwiO2NbOV09XCJuZXh0XCI7Y1tmPzM5OjM3XT1cInByZXZcIjtjWzM4XT1cInByZXZcIjtjW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO2NbMzJdPVwiY2xpY2tcIn0scmVmcmVzaDpmdW5jdGlvbigpe2UuYWN0aXZlRmlsdGVyLmNoZWNrKHApfHx0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sb25PcGVuOmZ1bmN0aW9uKCl7dmFyIGE9ZS5nZXRTZWxlY3Rpb24oKSxiPWEmJmEuZ2V0U3RhcnRFbGVtZW50KCksYz1lLmVsZW1lbnRQYXRoKGIpO1xuaWYoYyl7Yj1jLmJsb2NrfHxjLmJsb2NrTGltaXR8fGUuZG9jdW1lbnQuZ2V0Qm9keSgpO2RvIGM9YiYmYi5nZXRDb21wdXRlZFN0eWxlKFwiYmFja1wiPT1kP1wiYmFja2dyb3VuZC1jb2xvclwiOlwiY29sb3JcIil8fFwidHJhbnNwYXJlbnRcIjt3aGlsZShcImJhY2tcIj09ZCYmXCJ0cmFuc3BhcmVudFwiPT1jJiZiJiYoYj1iLmdldFBhcmVudCgpKSk7YyYmXCJ0cmFuc3BhcmVudFwiIT1jfHwoYz1cIiNmZmZmZmZcIik7ITEhPT1sLmNvbG9yQnV0dG9uX2VuYWJsZUF1dG9tYXRpYyYmdGhpcy5fLnBhbmVsLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRCeUlkKG0pLnNldFN0eWxlKFwiYmFja2dyb3VuZC1jb2xvclwiLGMpO2lmKGI9YSYmYS5nZXRSYW5nZXMoKVswXSl7Zm9yKHZhciBhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpLGY9Yi5jb2xsYXBzZWQ/Yi5zdGFydENvbnRhaW5lcjphLm5leHQoKSxiPVwiXCI7Zjspe2YudHlwZSE9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGY9Zi5nZXRQYXJlbnQoKSk7XG5mPXUoZi5nZXRDb21wdXRlZFN0eWxlKFwiYmFja1wiPT1kP1wiYmFja2dyb3VuZC1jb2xvclwiOlwiY29sb3JcIikpO2I9Ynx8ZjtpZihiIT09Zil7Yj1cIlwiO2JyZWFrfWY9YS5uZXh0KCl9YT1iO2I9cS5fLmdldEl0ZW1zKCk7Zm9yKGY9MDtmPGIuY291bnQoKTtmKyspe3ZhciBnPWIuZ2V0SXRlbShmKTtnLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIik7YSYmYT09dShnLmdldEF0dHJpYnV0ZShcImRhdGEtdmFsdWVcIikpJiZnLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwhMCl9fXJldHVybiBjfX19KX1mdW5jdGlvbiB5KGEsZCxnKXthPVtdO3ZhciByPWwuY29sb3JCdXR0b25fY29sb3JzLnNwbGl0KFwiLFwiKSxrPWwuY29sb3JCdXR0b25fY29sb3JzUGVyUm93fHw2LHA9ZS5wbHVnaW5zLmNvbG9yZGlhbG9nJiYhMSE9PWwuY29sb3JCdXR0b25fZW5hYmxlTW9yZSxtPXIubGVuZ3RoKyhwPzI6MSkscT1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7dmFyIGQ9XG5sW1wiY29sb3JCdXR0b25fXCIrYitcIlN0eWxlXCJdO2UucmVtb3ZlU3R5bGUobmV3IENLRURJVE9SLnN0eWxlKGQse2NvbG9yOlwiaW5oZXJpdFwifSkpO2QuY2hpbGRSdWxlPVwiYmFja1wiPT1iP2Z1bmN0aW9uKGEpe3JldHVybiB2KGEpfTpmdW5jdGlvbihhKXtyZXR1cm4hKGEuaXMoXCJhXCIpfHxhLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmNvdW50KCkpfHx2KGEpfTtlLmZvY3VzKCk7YSYmZS5hcHBseVN0eWxlKG5ldyBDS0VESVRPUi5zdHlsZShkLHtjb2xvcjphfSkpO2UuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1lLmZvY3VzKCk7ZS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2lmKFwiP1wiPT1hKWUuZ2V0Q29sb3JGcm9tRGlhbG9nKGZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIGMoYSl9KTtlbHNlIHJldHVybiBjKGEpfSk7ITEhPT1sLmNvbG9yQnV0dG9uX2VuYWJsZUF1dG9tYXRpYyYmYS5wdXNoKCdcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbG9yYXV0b1wiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2R0cnVlIHRpdGxlXFx4M2RcIicsXG5oLmF1dG8sJ1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcscSxcIixudWxsLCdcIixkLFwiJyk7cmV0dXJuIGZhbHNlO1xcXCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgnXCIsaC5hdXRvLCdcXCcpXCIgcm9sZVxceDNkXCJvcHRpb25cIiBhcmlhLXBvc2luc2V0XFx4M2RcIjFcIiBhcmlhLXNldHNpemVcXHgzZFwiJyxtLCdcIlxceDNlXFx4M2N0YWJsZSByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGNlbGxzcGFjaW5nXFx4M2QwIGNlbGxwYWRkaW5nXFx4M2QwIHdpZHRoXFx4M2RcIjEwMCVcIlxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBjb2xzcGFuXFx4M2RcIicraysnXCIgYWxpZ25cXHgzZFwiY2VudGVyXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29sb3Jib3hcIiBpZFxceDNkXCInLGcsJ1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnLGguYXV0byxcIlxceDNjL3RkXFx4M2VcXHgzYy90clxceDNlXFx4M2MvdGFibGVcXHgzZVxceDNjL2FcXHgzZVwiKTthLnB1c2goJ1xceDNjdGFibGUgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjZWxsc3BhY2luZ1xceDNkMCBjZWxscGFkZGluZ1xceDNkMCB3aWR0aFxceDNkXCIxMDAlXCJcXHgzZScpO1xuZm9yKGc9MDtnPHIubGVuZ3RoO2crKyl7MD09PWclayYmYS5wdXNoKFwiXFx4M2MvdHJcXHgzZVxceDNjdHJcXHgzZVwiKTt2YXIgbj1yW2ddLnNwbGl0KFwiL1wiKSxiPW5bMF0sYz1uWzFdfHxiO25bMV0/bj1iOihiPVwiI1wiK2IucmVwbGFjZSgvXiguKSguKSguKSQvLFwiJDEkMSQyJDIkMyQzXCIpLG49ZS5sYW5nLmNvbG9yYnV0dG9uLmNvbG9yc1tjXXx8Yyk7YS5wdXNoKCdcXHgzY3RkXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbG9yYm94XCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZHRydWUgdGl0bGVcXHgzZFwiJyxuLCdcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignLHEsXCIsJ1wiLGIsXCInLCdcIixkLFwiJyk7IHJldHVybiBmYWxzZTtcXFwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ1wiLG4sJ1xcJylcIiBkYXRhLXZhbHVlXFx4M2RcIicrYysnXCIgcm9sZVxceDNkXCJvcHRpb25cIiBhcmlhLXBvc2luc2V0XFx4M2RcIicsZysyLCdcIiBhcmlhLXNldHNpemVcXHgzZFwiJyxtLCdcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9jb2xvcmJveFwiIHN0eWxlXFx4M2RcImJhY2tncm91bmQtY29sb3I6IycsXG5jLCdcIlxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2MvYVxceDNlXFx4M2MvdGRcXHgzZScpfXAmJmEucHVzaCgnXFx4M2MvdHJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgY29sc3BhblxceDNkXCInK2srJ1wiIGFsaWduXFx4M2RcImNlbnRlclwiXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbG9ybW9yZVwiIF9ja2VfZm9jdXNcXHgzZDEgaGlkZWZvY3VzXFx4M2R0cnVlIHRpdGxlXFx4M2RcIicsaC5tb3JlLCdcIiBvbmNsaWNrXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignLHEsXCIsJz8nLCdcIixkLFwiJyk7cmV0dXJuIGZhbHNlO1xcXCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgnXCIsaC5tb3JlLFwiJylcXFwiXCIsJyByb2xlXFx4M2RcIm9wdGlvblwiIGFyaWEtcG9zaW5zZXRcXHgzZFwiJyxtLCdcIiBhcmlhLXNldHNpemVcXHgzZFwiJyxtLCdcIlxceDNlJyxoLm1vcmUsXCJcXHgzYy9hXFx4M2VcXHgzYy90ZFxceDNlXCIpO2EucHVzaChcIlxceDNjL3RyXFx4M2VcXHgzYy90YWJsZVxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9ZnVuY3Rpb24gdihhKXtyZXR1cm5cImZhbHNlXCI9PVxuYS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIil8fGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ub3N0eWxlXCIpfWZ1bmN0aW9uIHUoYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUhleChcIiNcIitDS0VESVRPUi50b29scy5jb252ZXJ0UmdiVG9IZXgoYXx8XCJcIikpLnJlcGxhY2UoLyMvZyxcIlwiKX12YXIgbD1lLmNvbmZpZyxoPWUubGFuZy5jb2xvcmJ1dHRvbjtpZighQ0tFRElUT1IuZW52LmhjKXt0KFwiVGV4dENvbG9yXCIsXCJmb3JlXCIsaC50ZXh0Q29sb3JUaXRsZSwxMCx7Y29udGVudFRyYW5zZm9ybWF0aW9uczpbW3tlbGVtZW50OlwiZm9udFwiLGNoZWNrOlwic3Bhbntjb2xvcn1cIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybiEhYS5hdHRyaWJ1dGVzLmNvbG9yfSxyaWdodDpmdW5jdGlvbihhKXthLm5hbWU9XCJzcGFuXCI7YS5hdHRyaWJ1dGVzLmNvbG9yJiYoYS5zdHlsZXMuY29sb3I9YS5hdHRyaWJ1dGVzLmNvbG9yKTtkZWxldGUgYS5hdHRyaWJ1dGVzLmNvbG9yfX1dXX0pO3ZhciB3PVxue30seD1lLmNvbmZpZy5jb2xvckJ1dHRvbl9ub3JtYWxpemVCYWNrZ3JvdW5kO2lmKHZvaWQgMD09PXh8fHgpdy5jb250ZW50VHJhbnNmb3JtYXRpb25zPVtbe2VsZW1lbnQ6XCJzcGFuXCIsbGVmdDpmdW5jdGlvbihhKXt2YXIgZD1DS0VESVRPUi50b29scztpZihcInNwYW5cIiE9YS5uYW1lfHwhYS5zdHlsZXN8fCFhLnN0eWxlcy5iYWNrZ3JvdW5kKXJldHVybiExO2E9ZC5zdHlsZS5wYXJzZS5iYWNrZ3JvdW5kKGEuc3R5bGVzLmJhY2tncm91bmQpO3JldHVybiBhLmNvbG9yJiYxPT09ZC5vYmplY3RLZXlzKGEpLmxlbmd0aH0scmlnaHQ6ZnVuY3Rpb24oYSl7dmFyIGQ9KG5ldyBDS0VESVRPUi5zdHlsZShlLmNvbmZpZy5jb2xvckJ1dHRvbl9iYWNrU3R5bGUse2NvbG9yOmEuc3R5bGVzLmJhY2tncm91bmR9KSkuZ2V0RGVmaW5pdGlvbigpO2EubmFtZT1kLmVsZW1lbnQ7YS5zdHlsZXM9ZC5zdHlsZXM7YS5hdHRyaWJ1dGVzPWQuYXR0cmlidXRlc3x8e307cmV0dXJuIGF9fV1dO3QoXCJCR0NvbG9yXCIsXG5cImJhY2tcIixoLmJnQ29sb3JUaXRsZSwyMCx3KX19fSk7Q0tFRElUT1IuY29uZmlnLmNvbG9yQnV0dG9uX2NvbG9ycz1cIjFBQkM5QywyRUNDNzEsMzQ5OERCLDlCNTlCNiw0RTVGNzAsRjFDNDBGLDE2QTA4NSwyN0FFNjAsMjk4MEI5LDhFNDRBRCwyQzNFNTAsRjM5QzEyLEU2N0UyMixFNzRDM0MsRUNGMEYxLDk1QTVBNixEREQsRkZGLEQzNTQwMCxDMDM5MkIsQkRDM0M3LDdGOEM4RCw5OTksMDAwXCI7Q0tFRElUT1IuY29uZmlnLmNvbG9yQnV0dG9uX2ZvcmVTdHlsZT17ZWxlbWVudDpcInNwYW5cIixzdHlsZXM6e2NvbG9yOlwiIyhjb2xvcilcIn0sb3ZlcnJpZGVzOlt7ZWxlbWVudDpcImZvbnRcIixhdHRyaWJ1dGVzOntjb2xvcjpudWxsfX1dfTtDS0VESVRPUi5jb25maWcuY29sb3JCdXR0b25fYmFja1N0eWxlPXtlbGVtZW50Olwic3BhblwiLHN0eWxlczp7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6XCIjKGNvbG9yKVwifX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaXN0YmxvY2tcIix7cmVxdWlyZXM6XCJwYW5lbFwiLG9uTG9hZDpmdW5jdGlvbigpe3ZhciBmPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdFwiLCdcXHgzY3VsIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2xpc3RcIlxceDNle2l0ZW1zfVxceDNjL3VsXFx4M2UnKSxnPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdC1pdGVtXCIsJ1xceDNjbGkgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9saXN0SXRlbVwiIHJvbGVcXHgzZHByZXNlbnRhdGlvblxceDNlXFx4M2NhIGlkXFx4M2RcIntpZH1fb3B0aW9uXCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZHRydWUgdGl0bGVcXHgzZFwie3RpdGxlfVwiIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKFxcJ3t2YWx9XFwnKVwiICB7b25jbGlja31cXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSxcXCd7dmFsfVxcJyk7IHJldHVybiBmYWxzZTtcIiByb2xlXFx4M2RcIm9wdGlvblwiXFx4M2V7dGV4dH1cXHgzYy9hXFx4M2VcXHgzYy9saVxceDNlJyksXG5oPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwicGFuZWwtbGlzdC1ncm91cFwiLCdcXHgzY2gxIGlkXFx4M2RcIntpZH1cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfZ3JvdXB0aXRsZVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgXFx4M2V7bGFiZWx9XFx4M2MvaDFcXHgzZScpLGs9L1xcJy9nO0NLRURJVE9SLnVpLnBhbmVsLnByb3RvdHlwZS5hZGRMaXN0QmxvY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hZGRCbG9jayhhLG5ldyBDS0VESVRPUi51aS5saXN0QmxvY2sodGhpcy5nZXRIb2xkZXJFbGVtZW50KCksYikpfTtDS0VESVRPUi51aS5saXN0QmxvY2s9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IudWkucGFuZWwuYmxvY2ssJDpmdW5jdGlvbihhLGIpe2I9Ynx8e307dmFyIGM9Yi5hdHRyaWJ1dGVzfHwoYi5hdHRyaWJ1dGVzPXt9KTsodGhpcy5tdWx0aVNlbGVjdD0hIWIubXVsdGlTZWxlY3QpJiYoY1tcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCJdPSEwKTshYy5yb2xlJiZcbihjLnJvbGU9XCJsaXN0Ym94XCIpO3RoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIixjLnJvbGUpO2M9dGhpcy5rZXlzO2NbNDBdPVwibmV4dFwiO2NbOV09XCJuZXh0XCI7Y1szOF09XCJwcmV2XCI7Y1tDS0VESVRPUi5TSElGVCs5XT1cInByZXZcIjtjWzMyXT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO0NLRURJVE9SLmVudi5pZSYmKGNbMTNdPVwibW91c2V1cFwiKTt0aGlzLl8ucGVuZGluZ0h0bWw9W107dGhpcy5fLnBlbmRpbmdMaXN0PVtdO3RoaXMuXy5pdGVtcz17fTt0aGlzLl8uZ3JvdXBzPXt9fSxfOntjbG9zZTpmdW5jdGlvbigpe2lmKHRoaXMuXy5zdGFydGVkKXt2YXIgYT1mLm91dHB1dCh7aXRlbXM6dGhpcy5fLnBlbmRpbmdMaXN0LmpvaW4oXCJcIil9KTt0aGlzLl8ucGVuZGluZ0xpc3Q9W107dGhpcy5fLnBlbmRpbmdIdG1sLnB1c2goYSk7ZGVsZXRlIHRoaXMuXy5zdGFydGVkfX0sZ2V0Q2xpY2s6ZnVuY3Rpb24oKXt0aGlzLl8uY2xpY2t8fFxuKHRoaXMuXy5jbGljaz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRvZ2dsZShhKTtpZih0aGlzLm9uQ2xpY2spdGhpcy5vbkNsaWNrKGEsYil9LHRoaXMpKTtyZXR1cm4gdGhpcy5fLmNsaWNrfX0scHJvdG86e2FkZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5fLnN0YXJ0ZWR8fCh0aGlzLl8uc3RhcnRlZD0xLHRoaXMuXy5zaXplPXRoaXMuXy5zaXplfHwwKTt0aGlzLl8uaXRlbXNbYV09ZDt2YXIgZTtlPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGEpLnJlcGxhY2UoayxcIlxcXFwnXCIpO2E9e2lkOmQsdmFsOmUsb25jbGljazpDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIsY2xpY2tGbjp0aGlzLl8uZ2V0Q2xpY2soKSx0aXRsZTpDS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihjfHxhKSx0ZXh0OmJ8fGF9O1xudGhpcy5fLnBlbmRpbmdMaXN0LnB1c2goZy5vdXRwdXQoYSkpfSxzdGFydEdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5jbG9zZSgpO3ZhciBiPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuXy5ncm91cHNbYV09Yjt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChoLm91dHB1dCh7aWQ6YixsYWJlbDphfSkpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2xvc2UoKTt0aGlzLmVsZW1lbnQuYXBwZW5kSHRtbCh0aGlzLl8ucGVuZGluZ0h0bWwuam9pbihcIlwiKSk7ZGVsZXRlIHRoaXMuXy5zaXplO3RoaXMuXy5wZW5kaW5nSHRtbD1bXX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXNNYXJrZWQoYSk7Yj90aGlzLnVubWFyayhhKTp0aGlzLm1hcmsoYSk7cmV0dXJuIWJ9LGhpZGVHcm91cDpmdW5jdGlvbihhKXt2YXIgYj0oYT10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5ncm91cHNbYV0pKSYmYS5nZXROZXh0KCk7YSYmKGEuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXG5cIm5vbmVcIiksYiYmXCJ1bFwiPT1iLmdldE5hbWUoKSYmYi5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikpfSxoaWRlSXRlbTpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpfSxzaG93QWxsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLml0ZW1zLGI9dGhpcy5fLmdyb3VwcyxjPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLGQ7Zm9yKGQgaW4gYSljLmdldEJ5SWQoYVtkXSkuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIik7Zm9yKHZhciBlIGluIGIpYT1jLmdldEJ5SWQoYltlXSksZD1hLmdldE5leHQoKSxhLnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpLGQmJlwidWxcIj09ZC5nZXROYW1lKCkmJmQuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIil9LG1hcms6ZnVuY3Rpb24oYSl7dGhpcy5tdWx0aVNlbGVjdHx8dGhpcy51bm1hcmtBbGwoKTthPXRoaXMuXy5pdGVtc1thXTt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKGEpO1xuYi5hZGRDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTt0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKGErXCJfb3B0aW9uXCIpLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwhMCk7dGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGIpfSxtYXJrRmlyc3REaXNwbGF5ZWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuXy5tYXJrRmlyc3REaXNwbGF5ZWQoZnVuY3Rpb24oKXthLm11bHRpU2VsZWN0fHxhLnVubWFya0FsbCgpfSl9LHVubWFyazpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKTthPXRoaXMuXy5pdGVtc1thXTt2YXIgYz1iLmdldEJ5SWQoYSk7Yy5yZW1vdmVDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTtiLmdldEJ5SWQoYStcIl9vcHRpb25cIikucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKTt0aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKGMpfSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKSxcbmM7Zm9yKGMgaW4gYSl7dmFyIGQ9YVtjXTtiLmdldEJ5SWQoZCkucmVtb3ZlQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIik7Yi5nZXRCeUlkKGQrXCJfb3B0aW9uXCIpLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIil9dGhpcy5vblVubWFyayYmdGhpcy5vblVubWFyaygpfSxpc01hcmtlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLmhhc0NsYXNzKFwiY2tlX3NlbGVjdGVkXCIpfSxmb2N1czpmdW5jdGlvbihhKXt0aGlzLl8uZm9jdXNJbmRleD0tMTt2YXIgYj10aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcImFcIiksYyxkPS0xO2lmKGEpZm9yKGM9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCkuZ2V0QnlJZCh0aGlzLl8uaXRlbXNbYV0pLmdldEZpcnN0KCk7YT1iLmdldEl0ZW0oKytkKTspe2lmKGEuZXF1YWxzKGMpKXt0aGlzLl8uZm9jdXNJbmRleD1kO2JyZWFrfX1lbHNlIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuYyYmc2V0VGltZW91dChmdW5jdGlvbigpe2MuZm9jdXMoKX0sMCl9fX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicmljaGNvbWJvXCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbCxsaXN0YmxvY2ssYnV0dG9uXCIsYmVmb3JlSW5pdDpmdW5jdGlvbihjKXtjLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfUklDSENPTUJPLENLRURJVE9SLnVpLnJpY2hDb21iby5oYW5kbGVyKX19KTtcbihmdW5jdGlvbigpe3ZhciBjPSdcXHgzY3NwYW4gaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9jb21ibyBja2VfY29tYm9fX3tuYW1lfSB7Y2xzfVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2xhYmVsXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY2EgY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2J1dHRvblwiIHRpdGxlXFx4M2RcInt0aXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiJysoQ0tFRElUT1IuZW52LmdlY2tvJiYhQ0tFRElUT1IuZW52LmhjP1wiXCI6XCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgne3RpdGxlSnN9JylcXFwiXCIpKycgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJ7aWR9X2xhYmVsXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJsaXN0Ym94XCInO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52Lm1hYyYmKGMrPScgb25rZXlwcmVzc1xceDNkXCJyZXR1cm4gZmFsc2U7XCInKTtcbkNLRURJVE9SLmVudi5nZWNrbyYmKGMrPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYz1jKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50LHRoaXMpO1wiIG9uZm9jdXNcXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Zm9jdXNGbn0sZXZlbnQpO1wiICcrKENLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIikrJ1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHRoaXMpO3JldHVybiBmYWxzZTtcIlxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fdGV4dFwiIGNsYXNzXFx4M2RcImNrZV9jb21ib190ZXh0IGNrZV9jb21ib19pbmxpbmVsYWJlbFwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9jb21ib19vcGVuXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fYXJyb3dcIlxceDNlJytcbihDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOkNLRURJVE9SLmVudi5haXI/XCJcXHgyNm5ic3A7XCI6XCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzYy9zcGFuXFx4M2VcIiksaz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImNvbWJvXCIsYyk7Q0tFRElUT1IuVUlfUklDSENPTUJPPVwicmljaGNvbWJvXCI7Q0tFRElUT1IudWkucmljaENvbWJvPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGEse2Nhbkdyb3VwOiExLHRpdGxlOmEubGFiZWwsbW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6MX0pO2E9dGhpcy5wYW5lbHx8e307ZGVsZXRlIHRoaXMucGFuZWw7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5kb2N1bWVudD1hLnBhcmVudCYmYS5wYXJlbnQuZ2V0RG9jdW1lbnQoKXx8Q0tFRElUT1IuZG9jdW1lbnQ7YS5jbGFzc05hbWU9XCJja2VfY29tYm9wYW5lbFwiO1xuYS5ibG9jaz17bXVsdGlTZWxlY3Q6YS5tdWx0aVNlbGVjdCxhdHRyaWJ1dGVzOmEuYXR0cmlidXRlc307YS50b29sYmFyUmVsYXRlZD0hMDt0aGlzLl89e3BhbmVsRGVmaW5pdGlvbjphLGl0ZW1zOnt9LGxpc3RlbmVyczpbXX19LHByb3RvOntyZW5kZXJIdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPVtdO3RoaXMucmVuZGVyKGEsYik7cmV0dXJuIGIuam9pbihcIlwiKX0scmVuZGVyOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZigpe2lmKHRoaXMuZ2V0U3RhdGUoKSE9Q0tFRElUT1IuVFJJU1RBVEVfT04pe3ZhciBiPXRoaXMubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7YS5yZWFkT25seSYmIXRoaXMucmVhZE9ubHkmJihiPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTt0aGlzLnNldFN0YXRlKGIpO3RoaXMuc2V0VmFsdWUoXCJcIik7YiE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCl9fVxudmFyIGM9Q0tFRElUT1IuZW52LGg9XCJja2VfXCIrdGhpcy5pZCxlPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIpe2wmJihhLnVubG9ja1NlbGVjdGlvbigxKSxsPTApO2cuZXhlY3V0ZShiKX0sdGhpcyksZD10aGlzLGc9e2lkOmgsY29tYm86dGhpcyxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaCkuZ2V0Q2hpbGQoMSkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbihiKXt2YXIgYz1kLl87aWYoYy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpaWYoZC5jcmVhdGVQYW5lbChhKSxjLm9uKWMucGFuZWwuaGlkZSgpO2Vsc2V7ZC5jb21taXQoKTt2YXIgZj1kLmdldFZhbHVlKCk7Zj9jLmxpc3QubWFyayhmKTpjLmxpc3QudW5tYXJrQWxsKCk7Yy5wYW5lbC5zaG93QmxvY2soZC5pZCxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYiksNCl9fSxjbGlja0ZuOmV9O3RoaXMuXy5saXN0ZW5lcnMucHVzaChhLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsXG5mLHRoaXMpKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbihcIm1vZGVcIixmLHRoaXMpKTt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGYsdGhpcykpOyF0aGlzLnJlYWRPbmx5JiZ0aGlzLl8ubGlzdGVuZXJzLnB1c2goYS5vbihcInJlYWRPbmx5XCIsZix0aGlzKSk7dmFyIG09Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSxiKXthPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSk7dmFyIGQ9YS5nZXRLZXlzdHJva2UoKTtzd2l0Y2goZCl7Y2FzZSAxMzpjYXNlIDMyOmNhc2UgNDA6Q0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKGUsYik7YnJlYWs7ZGVmYXVsdDpnLm9ua2V5KGcsZCl9YS5wcmV2ZW50RGVmYXVsdCgpfSksbj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe2cub25mb2N1cyYmZy5vbmZvY3VzKCl9KSxsPTA7Zy5rZXlEb3duRm49bTtjPXtpZDpoLG5hbWU6dGhpcy5uYW1lfHx0aGlzLmNvbW1hbmQsXG5sYWJlbDp0aGlzLmxhYmVsLHRpdGxlOnRoaXMudGl0bGUsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHRpdGxlSnM6Yy5nZWNrbyYmIWMuaGM/XCJcIjoodGhpcy50aXRsZXx8XCJcIikucmVwbGFjZShcIidcIixcIlwiKSxrZXlkb3duRm46bSxmb2N1c0ZuOm4sY2xpY2tGbjplfTtrLm91dHB1dChjLGIpO2lmKHRoaXMub25SZW5kZXIpdGhpcy5vblJlbmRlcigpO3JldHVybiBnfSxjcmVhdGVQYW5lbDpmdW5jdGlvbihhKXtpZighdGhpcy5fLnBhbmVsKXt2YXIgYj10aGlzLl8ucGFuZWxEZWZpbml0aW9uLGM9dGhpcy5fLnBhbmVsRGVmaW5pdGlvbi5ibG9jayxrPWIucGFyZW50fHxDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksaD1cImNrZV9jb21ib3BhbmVsX19cIit0aGlzLm5hbWUsZT1uZXcgQ0tFRElUT1IudWkuZmxvYXRQYW5lbChhLGssYiksYj1lLmFkZExpc3RCbG9jayh0aGlzLmlkLGMpLGQ9dGhpcztlLm9uU2hvdz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hZGRDbGFzcyhoKTtkLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKTtcbmQuXy5vbj0xO2QuZWRpdG9yRm9jdXMmJiFhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmYS5mb2N1cygpO2lmKGQub25PcGVuKWQub25PcGVuKCl9O2Uub25IaWRlPWZ1bmN0aW9uKGIpe3RoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhoKTtkLnNldFN0YXRlKGQubW9kZXMmJmQubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2QuXy5vbj0wO2lmKCFiJiZkLm9uQ2xvc2UpZC5vbkNsb3NlKCl9O2Uub25Fc2NhcGU9ZnVuY3Rpb24oKXtlLmhpZGUoMSl9O2Iub25DbGljaz1mdW5jdGlvbihhLGIpe2Qub25DbGljayYmZC5vbkNsaWNrLmNhbGwoZCxhLGIpO2UuaGlkZSgpfTt0aGlzLl8ucGFuZWw9ZTt0aGlzLl8ubGlzdD1iO2UuZ2V0QmxvY2sodGhpcy5pZCkub25IaWRlPWZ1bmN0aW9uKCl7ZC5fLm9uPTA7ZC5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfTt0aGlzLmluaXQmJnRoaXMuaW5pdCgpfX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSxcbmIpe3RoaXMuXy52YWx1ZT1hO3ZhciBjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkK1wiX3RleHRcIik7YyYmKGF8fGI/Yy5yZW1vdmVDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKTooYj10aGlzLmxhYmVsLGMuYWRkQ2xhc3MoXCJja2VfY29tYm9faW5saW5lbGFiZWxcIikpLGMuc2V0VGV4dChcInVuZGVmaW5lZFwiIT10eXBlb2YgYj9iOmEpKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnZhbHVlfHxcIlwifSx1bm1hcmtBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC51bm1hcmtBbGwoKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5tYXJrKGEpfSxoaWRlSXRlbTpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5oaWRlSXRlbShhKX0saGlkZUdyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVHcm91cChhKX0sc2hvd0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnNob3dBbGwoKX0sYWRkOmZ1bmN0aW9uKGEsYixjKXt0aGlzLl8uaXRlbXNbYV09XG5jfHxhO3RoaXMuXy5saXN0LmFkZChhLGIsYyl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3Quc3RhcnRHcm91cChhKX0sY29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5fLmNvbW1pdHRlZHx8KHRoaXMuXy5saXN0LmNvbW1pdCgpLHRoaXMuXy5jb21taXR0ZWQ9MSxDS0VESVRPUi51aS5maXJlKFwicmVhZHlcIix0aGlzKSk7dGhpcy5fLmNvbW1pdHRlZD0xfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3RhdGUhPWEpe3ZhciBiPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZChcImNrZV9cIit0aGlzLmlkKTtiLnNldFN0YXRlKGEsXCJja2VfY29tYm9cIik7YT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTt0aGlzLl8uc3RhdGU9YX19LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zdGF0ZX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlPT1cbkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLnNldFN0YXRlKHRoaXMuXy5sYXN0U3RhdGUpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmKHRoaXMuXy5sYXN0U3RhdGU9dGhpcy5fLnN0YXRlLHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpKX0sZGVzdHJveTpmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLmFycmF5LmZvckVhY2godGhpcy5fLmxpc3RlbmVycyxmdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCl9KTt0aGlzLl8ubGlzdGVuZXJzPVtdfX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkucmljaENvbWJvKGEpfX19fSk7Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZFJpY2hDb21ibz1mdW5jdGlvbihhLGIpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfUklDSENPTUJPLGIpfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcChiLGYsZSxkLHIscCx0LHgpe3ZhciB5PWIuY29uZmlnLHU9bmV3IENLRURJVE9SLnN0eWxlKHQpLGc9ci5zcGxpdChcIjtcIik7cj1bXTtmb3IodmFyIGs9e30sbD0wO2w8Zy5sZW5ndGg7bCsrKXt2YXIgbT1nW2xdO2lmKG0pe3ZhciBtPW0uc3BsaXQoXCIvXCIpLHc9e30scT1nW2xdPW1bMF07d1tlXT1yW2xdPW1bMV18fHE7a1txXT1uZXcgQ0tFRElUT1Iuc3R5bGUodCx3KTtrW3FdLl8uZGVmaW5pdGlvbi5uYW1lPXF9ZWxzZSBnLnNwbGljZShsLS0sMSl9Yi51aS5hZGRSaWNoQ29tYm8oZix7bGFiZWw6ZC5sYWJlbCx0aXRsZTpkLnBhbmVsVGl0bGUsdG9vbGJhcjpcInN0eWxlcyxcIit4LGRlZmF1bHRWYWx1ZTpcImNrZS1kZWZhdWx0XCIsYWxsb3dlZENvbnRlbnQ6dSxyZXF1aXJlZENvbnRlbnQ6dSxjb250ZW50VHJhbnNmb3JtYXRpb25zOlwic3BhblwiPT09dC5lbGVtZW50P1tbe2VsZW1lbnQ6XCJmb250XCIsY2hlY2s6XCJzcGFuXCIsbGVmdDpmdW5jdGlvbihhKXtyZXR1cm4hIWEuYXR0cmlidXRlcy5zaXplfHxcbiEhYS5hdHRyaWJ1dGVzLmFsaWdufHwhIWEuYXR0cmlidXRlcy5mYWNlfSxyaWdodDpmdW5jdGlvbihhKXt2YXIgYj1cIiB4LXNtYWxsIHNtYWxsIG1lZGl1bSBsYXJnZSB4LWxhcmdlIHh4LWxhcmdlIDQ4cHhcIi5zcGxpdChcIiBcIik7YS5uYW1lPVwic3BhblwiO2EuYXR0cmlidXRlcy5zaXplJiYoYS5zdHlsZXNbXCJmb250LXNpemVcIl09YlthLmF0dHJpYnV0ZXMuc2l6ZV0sZGVsZXRlIGEuYXR0cmlidXRlcy5zaXplKTthLmF0dHJpYnV0ZXMuYWxpZ24mJihhLnN0eWxlc1tcInRleHQtYWxpZ25cIl09YS5hdHRyaWJ1dGVzLmFsaWduLGRlbGV0ZSBhLmF0dHJpYnV0ZXMuYWxpZ24pO2EuYXR0cmlidXRlcy5mYWNlJiYoYS5zdHlsZXNbXCJmb250LWZhbWlseVwiXT1hLmF0dHJpYnV0ZXMuZmFjZSxkZWxldGUgYS5hdHRyaWJ1dGVzLmZhY2UpfX1dXTpudWxsLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KHkuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiExLFxuYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6ZC5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3ZhciBhO2E9XCIoXCIrYi5sYW5nLmNvbW1vbi5vcHRpb25EZWZhdWx0K1wiKVwiO3RoaXMuc3RhcnRHcm91cChkLnBhbmVsVGl0bGUpO3RoaXMuYWRkKHRoaXMuZGVmYXVsdFZhbHVlLGEsYSk7Zm9yKHZhciBjPTA7YzxnLmxlbmd0aDtjKyspYT1nW2NdLHRoaXMuYWRkKGEsa1thXS5idWlsZFByZXZpZXcoKSxhKX0sb25DbGljazpmdW5jdGlvbihhKXtiLmZvY3VzKCk7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3ZhciBjPXRoaXMuZ2V0VmFsdWUoKSxmPWtbYV0sZSxuLGgsZCxnO2lmKGMmJmEhPWMpaWYoZT1rW2NdLGM9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxjLmNvbGxhcHNlZCl7aWYobj1iLmVsZW1lbnRQYXRoKCksaD1uLmNvbnRhaW5zKGZ1bmN0aW9uKGEpe3JldHVybiBlLmNoZWNrRWxlbWVudFJlbW92YWJsZShhKX0pKXtkPWMuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChoLFxuQ0tFRElUT1IuU1RBUlQpO2c9Yy5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGgsQ0tFRElUT1IuRU5EKTtpZihkJiZnKXtmb3IoZD1jLmNyZWF0ZUJvb2ttYXJrKCk7bj1oLmdldEZpcnN0KCk7KW4uaW5zZXJ0QmVmb3JlKGgpO2gucmVtb3ZlKCk7Yy5tb3ZlVG9Cb29rbWFyayhkKX1lbHNlIGR8fGc/Yy5tb3ZlVG9Qb3NpdGlvbihoLGQ/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk6KGMuc3BsaXRFbGVtZW50KGgpLGMubW92ZVRvUG9zaXRpb24oaCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKSx2KGMsbi5lbGVtZW50cy5zbGljZSgpLGgpO2IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSl9fWVsc2UgYi5yZW1vdmVTdHlsZShlKTthPT09dGhpcy5kZWZhdWx0VmFsdWU/ZSYmYi5yZW1vdmVTdHlsZShlKTpiLmFwcGx5U3R5bGUoZik7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxvblJlbmRlcjpmdW5jdGlvbigpe2Iub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixcbmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuZ2V0VmFsdWUoKTthPWEuZGF0YS5wYXRoLmVsZW1lbnRzO2Zvcih2YXIgZD0wLGY7ZDxhLmxlbmd0aDtkKyspe2Y9YVtkXTtmb3IodmFyIGUgaW4gaylpZihrW2VdLmNoZWNrRWxlbWVudE1hdGNoKGYsITAsYikpe2UhPWMmJnRoaXMuc2V0VmFsdWUoZSk7cmV0dXJufX10aGlzLnNldFZhbHVlKFwiXCIscCl9LHRoaXMpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7Yi5hY3RpdmVGaWx0ZXIuY2hlY2sodSl8fHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIHYoYixmLGUpe3ZhciBkPWYucG9wKCk7aWYoZCl7aWYoZSlyZXR1cm4gdihiLGYsZC5lcXVhbHMoZSk/bnVsbDplKTtlPWQuY2xvbmUoKTtiLmluc2VydE5vZGUoZSk7Yi5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTt2KGIsZil9fUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZm9udFwiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLFxuaW5pdDpmdW5jdGlvbihiKXt2YXIgZj1iLmNvbmZpZztwKGIsXCJGb250XCIsXCJmYW1pbHlcIixiLmxhbmcuZm9udCxmLmZvbnRfbmFtZXMsZi5mb250X2RlZmF1bHRMYWJlbCxmLmZvbnRfc3R5bGUsMzApO3AoYixcIkZvbnRTaXplXCIsXCJzaXplXCIsYi5sYW5nLmZvbnQuZm9udFNpemUsZi5mb250U2l6ZV9zaXplcyxmLmZvbnRTaXplX2RlZmF1bHRMYWJlbCxmLmZvbnRTaXplX3N0eWxlLDQwKX19KX0pKCk7Q0tFRElUT1IuY29uZmlnLmZvbnRfbmFtZXM9XCJBcmlhbC9BcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO0NvbWljIFNhbnMgTVMvQ29taWMgU2FucyBNUywgY3Vyc2l2ZTtDb3VyaWVyIE5ldy9Db3VyaWVyIE5ldywgQ291cmllciwgbW9ub3NwYWNlO0dlb3JnaWEvR2VvcmdpYSwgc2VyaWY7THVjaWRhIFNhbnMgVW5pY29kZS9MdWNpZGEgU2FucyBVbmljb2RlLCBMdWNpZGEgR3JhbmRlLCBzYW5zLXNlcmlmO1RhaG9tYS9UYWhvbWEsIEdlbmV2YSwgc2Fucy1zZXJpZjtUaW1lcyBOZXcgUm9tYW4vVGltZXMgTmV3IFJvbWFuLCBUaW1lcywgc2VyaWY7VHJlYnVjaGV0IE1TL1RyZWJ1Y2hldCBNUywgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1ZlcmRhbmEvVmVyZGFuYSwgR2VuZXZhLCBzYW5zLXNlcmlmXCI7XG5DS0VESVRPUi5jb25maWcuZm9udF9kZWZhdWx0TGFiZWw9XCJcIjtDS0VESVRPUi5jb25maWcuZm9udF9zdHlsZT17ZWxlbWVudDpcInNwYW5cIixzdHlsZXM6e1wiZm9udC1mYW1pbHlcIjpcIiMoZmFtaWx5KVwifSxvdmVycmlkZXM6W3tlbGVtZW50OlwiZm9udFwiLGF0dHJpYnV0ZXM6e2ZhY2U6bnVsbH19XX07Q0tFRElUT1IuY29uZmlnLmZvbnRTaXplX3NpemVzPVwiOC84cHg7OS85cHg7MTAvMTBweDsxMS8xMXB4OzEyLzEycHg7MTQvMTRweDsxNi8xNnB4OzE4LzE4cHg7MjAvMjBweDsyMi8yMnB4OzI0LzI0cHg7MjYvMjZweDsyOC8yOHB4OzM2LzM2cHg7NDgvNDhweDs3Mi83MnB4XCI7Q0tFRElUT1IuY29uZmlnLmZvbnRTaXplX2RlZmF1bHRMYWJlbD1cIlwiO0NLRURJVE9SLmNvbmZpZy5mb250U2l6ZV9zdHlsZT17ZWxlbWVudDpcInNwYW5cIixzdHlsZXM6e1wiZm9udC1zaXplXCI6XCIjKHNpemUpXCJ9LG92ZXJyaWRlczpbe2VsZW1lbnQ6XCJmb250XCIsYXR0cmlidXRlczp7c2l6ZTpudWxsfX1dfTtDS0VESVRPUi5jb25maWcucGx1Z2lucz0nYmFzaWNzdHlsZXMsYmxvY2txdW90ZSxkaWFsb2d1aSxkaWFsb2csbm90aWZpY2F0aW9uLGJ1dHRvbix0b29sYmFyLGNsaXBib2FyZCxlbnRlcmtleSxob3Jpem9udGFscnVsZSxpbmRlbnQsaW5kZW50YmxvY2ssaW5kZW50bGlzdCxqdXN0aWZ5LGxpc3QscGFzdGVmcm9td29yZCxyZW1vdmVmb3JtYXQsdGFiLHVuZG8sbGluZXV0aWxzLHdpZGdldHNlbGVjdGlvbix3aWRnZXQscGFuZWxidXR0b24scGFuZWwsZmxvYXRwYW5lbCxjb2xvcmJ1dHRvbixsaXN0YmxvY2sscmljaGNvbWJvLGZvbnQnO0NLRURJVE9SLmNvbmZpZy5za2luPSdtb29ubyc7KGZ1bmN0aW9uKCkge3ZhciBzZXRJY29ucyA9IGZ1bmN0aW9uKGljb25zLCBzdHJpcCkge3ZhciBwYXRoID0gQ0tFRElUT1IuZ2V0VXJsKCAncGx1Z2lucy8nICsgc3RyaXAgKTtpY29ucyA9IGljb25zLnNwbGl0KCAnLCcgKTtmb3IgKCB2YXIgaSA9IDA7IGkgPCBpY29ucy5sZW5ndGg7IGkrKyApQ0tFRElUT1Iuc2tpbi5pY29uc1sgaWNvbnNbIGkgXSBdID0geyBwYXRoOiBwYXRoLCBvZmZzZXQ6IC1pY29uc1sgKytpIF0sIGJnc2l6ZSA6IGljb25zWyArK2kgXSB9O307aWYgKENLRURJVE9SLmVudi5oaWRwaSkgc2V0SWNvbnMoJ2JvbGQsMCwsaXRhbGljLDI0LCxzdHJpa2UsNDgsLHN1YnNjcmlwdCw3Miwsc3VwZXJzY3JpcHQsOTYsLHVuZGVybGluZSwxMjAsLGJsb2NrcXVvdGUsMTQ0LCxjb3B5LXJ0bCwxNjgsLGNvcHksMTkyLCxjdXQtcnRsLDIxNiwsY3V0LDI0MCwscGFzdGUtcnRsLDI2NCwscGFzdGUsMjg4LCxob3Jpem9udGFscnVsZSwzMTIsLGluZGVudC1ydGwsMzM2LCxpbmRlbnQsMzYwLCxvdXRkZW50LXJ0bCwzODQsLG91dGRlbnQsNDA4LCxqdXN0aWZ5YmxvY2ssNDMyLCxqdXN0aWZ5Y2VudGVyLDQ1NiwsanVzdGlmeWxlZnQsNDgwLCxqdXN0aWZ5cmlnaHQsNTA0LCxidWxsZXRlZGxpc3QtcnRsLDUyOCwsYnVsbGV0ZWRsaXN0LDU1MiwsbnVtYmVyZWRsaXN0LXJ0bCw1NzYsLG51bWJlcmVkbGlzdCw2MDAsLHBhc3RlZnJvbXdvcmQtcnRsLDYyNCwscGFzdGVmcm9td29yZCw2NDgsLHJlbW92ZWZvcm1hdCw2NzIsLHJlZG8tcnRsLDY5NiwscmVkbyw3MjAsLHVuZG8tcnRsLDc0NCwsdW5kbyw3NjgsLGJnY29sb3IsNzkyLCx0ZXh0Y29sb3IsODE2LCcsJ2ljb25zX2hpZHBpLnBuZycpO2Vsc2Ugc2V0SWNvbnMoJ2JvbGQsMCxhdXRvLGl0YWxpYywyNCxhdXRvLHN0cmlrZSw0OCxhdXRvLHN1YnNjcmlwdCw3MixhdXRvLHN1cGVyc2NyaXB0LDk2LGF1dG8sdW5kZXJsaW5lLDEyMCxhdXRvLGJsb2NrcXVvdGUsMTQ0LGF1dG8sY29weS1ydGwsMTY4LGF1dG8sY29weSwxOTIsYXV0byxjdXQtcnRsLDIxNixhdXRvLGN1dCwyNDAsYXV0byxwYXN0ZS1ydGwsMjY0LGF1dG8scGFzdGUsMjg4LGF1dG8saG9yaXpvbnRhbHJ1bGUsMzEyLGF1dG8saW5kZW50LXJ0bCwzMzYsYXV0byxpbmRlbnQsMzYwLGF1dG8sb3V0ZGVudC1ydGwsMzg0LGF1dG8sb3V0ZGVudCw0MDgsYXV0byxqdXN0aWZ5YmxvY2ssNDMyLGF1dG8sanVzdGlmeWNlbnRlciw0NTYsYXV0byxqdXN0aWZ5bGVmdCw0ODAsYXV0byxqdXN0aWZ5cmlnaHQsNTA0LGF1dG8sYnVsbGV0ZWRsaXN0LXJ0bCw1MjgsYXV0byxidWxsZXRlZGxpc3QsNTUyLGF1dG8sbnVtYmVyZWRsaXN0LXJ0bCw1NzYsYXV0byxudW1iZXJlZGxpc3QsNjAwLGF1dG8scGFzdGVmcm9td29yZC1ydGwsNjI0LGF1dG8scGFzdGVmcm9td29yZCw2NDgsYXV0byxyZW1vdmVmb3JtYXQsNjcyLGF1dG8scmVkby1ydGwsNjk2LGF1dG8scmVkbyw3MjAsYXV0byx1bmRvLXJ0bCw3NDQsYXV0byx1bmRvLDc2OCxhdXRvLGJnY29sb3IsNzkyLGF1dG8sdGV4dGNvbG9yLDgxNixhdXRvJywnaWNvbnMucG5nJyk7fSkoKTtDS0VESVRPUi5sYW5nLmxhbmd1YWdlcz17XCJhZlwiOjEsXCJhclwiOjEsXCJhelwiOjEsXCJiZ1wiOjEsXCJiblwiOjEsXCJic1wiOjEsXCJjYVwiOjEsXCJjc1wiOjEsXCJjeVwiOjEsXCJkYVwiOjEsXCJkZVwiOjEsXCJkZS1jaFwiOjEsXCJlbFwiOjEsXCJlblwiOjEsXCJlbi1hdVwiOjEsXCJlbi1jYVwiOjEsXCJlbi1nYlwiOjEsXCJlb1wiOjEsXCJlc1wiOjEsXCJldFwiOjEsXCJldVwiOjEsXCJmYVwiOjEsXCJmaVwiOjEsXCJmb1wiOjEsXCJmclwiOjEsXCJmci1jYVwiOjEsXCJnbFwiOjEsXCJndVwiOjEsXCJoZVwiOjEsXCJoaVwiOjEsXCJoclwiOjEsXCJodVwiOjEsXCJpZFwiOjEsXCJpc1wiOjEsXCJpdFwiOjEsXCJqYVwiOjEsXCJrYVwiOjEsXCJrbVwiOjEsXCJrb1wiOjEsXCJrdVwiOjEsXCJsdFwiOjEsXCJsdlwiOjEsXCJta1wiOjEsXCJtblwiOjEsXCJtc1wiOjEsXCJuYlwiOjEsXCJubFwiOjEsXCJub1wiOjEsXCJvY1wiOjEsXCJwbFwiOjEsXCJwdFwiOjEsXCJwdC1iclwiOjEsXCJyb1wiOjEsXCJydVwiOjEsXCJzaVwiOjEsXCJza1wiOjEsXCJzbFwiOjEsXCJzcVwiOjEsXCJzclwiOjEsXCJzci1sYXRuXCI6MSxcInN2XCI6MSxcInRoXCI6MSxcInRyXCI6MSxcInR0XCI6MSxcInVnXCI6MSxcInVrXCI6MSxcInZpXCI6MSxcInpoXCI6MSxcInpoLWNuXCI6MX07fSgpKTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBfYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgZW1wdHlPYmplY3QgPSByZXF1aXJlKCdmYmpzL2xpYi9lbXB0eU9iamVjdCcpO1xudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIHdhcm5pbmcgPSByZXF1aXJlKCdmYmpzL2xpYi93YXJuaW5nJyk7XG59XG5cbnZhciBNSVhJTlNfS0VZID0gJ21peGlucyc7XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBhbGxvdyB0aGUgY3JlYXRpb24gb2YgYW5vbnltb3VzIGZ1bmN0aW9ucyB3aGljaCBkbyBub3Rcbi8vIGhhdmUgLm5hbWUgc2V0IHRvIHRoZSBuYW1lIG9mIHRoZSB2YXJpYWJsZSBiZWluZyBhc3NpZ25lZCB0by5cbmZ1bmN0aW9uIGlkZW50aXR5KGZuKSB7XG4gIHJldHVybiBmbjtcbn1cblxudmFyIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gICAgcHJvcDogJ3Byb3AnLFxuICAgIGNvbnRleHQ6ICdjb250ZXh0JyxcbiAgICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xuICB9O1xufSBlbHNlIHtcbiAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7fTtcbn1cblxuZnVuY3Rpb24gZmFjdG9yeShSZWFjdENvbXBvbmVudCwgaXNWYWxpZEVsZW1lbnQsIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlKSB7XG4gIC8qKlxuICAgKiBQb2xpY2llcyB0aGF0IGRlc2NyaWJlIG1ldGhvZHMgaW4gYFJlYWN0Q2xhc3NJbnRlcmZhY2VgLlxuICAgKi9cblxuICB2YXIgaW5qZWN0ZWRNaXhpbnMgPSBbXTtcblxuICAvKipcbiAgICogQ29tcG9zaXRlIGNvbXBvbmVudHMgYXJlIGhpZ2hlci1sZXZlbCBjb21wb25lbnRzIHRoYXQgY29tcG9zZSBvdGhlciBjb21wb3NpdGVcbiAgICogb3IgaG9zdCBjb21wb25lbnRzLlxuICAgKlxuICAgKiBUbyBjcmVhdGUgYSBuZXcgdHlwZSBvZiBgUmVhY3RDbGFzc2AsIHBhc3MgYSBzcGVjaWZpY2F0aW9uIG9mXG4gICAqIHlvdXIgbmV3IGNsYXNzIHRvIGBSZWFjdC5jcmVhdGVDbGFzc2AuIFRoZSBvbmx5IHJlcXVpcmVtZW50IG9mIHlvdXIgY2xhc3NcbiAgICogc3BlY2lmaWNhdGlvbiBpcyB0aGF0IHlvdSBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuXG4gICAqXG4gICAqICAgdmFyIE15Q29tcG9uZW50ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICogICAgICAgcmV0dXJuIDxkaXY+SGVsbG8gV29ybGQ8L2Rpdj47XG4gICAqICAgICB9XG4gICAqICAgfSk7XG4gICAqXG4gICAqIFRoZSBjbGFzcyBzcGVjaWZpY2F0aW9uIHN1cHBvcnRzIGEgc3BlY2lmaWMgcHJvdG9jb2wgb2YgbWV0aG9kcyB0aGF0IGhhdmVcbiAgICogc3BlY2lhbCBtZWFuaW5nIChlLmcuIGByZW5kZXJgKS4gU2VlIGBSZWFjdENsYXNzSW50ZXJmYWNlYCBmb3JcbiAgICogbW9yZSB0aGUgY29tcHJlaGVuc2l2ZSBwcm90b2NvbC4gQW55IG90aGVyIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgaW4gdGhlXG4gICAqIGNsYXNzIHNwZWNpZmljYXRpb24gd2lsbCBiZSBhdmFpbGFibGUgb24gdGhlIHByb3RvdHlwZS5cbiAgICpcbiAgICogQGludGVyZmFjZSBSZWFjdENsYXNzSW50ZXJmYWNlXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgdmFyIFJlYWN0Q2xhc3NJbnRlcmZhY2UgPSB7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgTWl4aW4gb2JqZWN0cyB0byBpbmNsdWRlIHdoZW4gZGVmaW5pbmcgeW91ciBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7YXJyYXl9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgbWl4aW5zOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0aGF0IHNob3VsZCBiZSBkZWZpbmVkIG9uXG4gICAgICogdGhlIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yIGluc3RlYWQgb2YgaXRzIHByb3RvdHlwZSAoc3RhdGljIG1ldGhvZHMpLlxuICAgICAqXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBzdGF0aWNzOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5pdGlvbiBvZiBwcm9wIHR5cGVzIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgcHJvcFR5cGVzOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5pdGlvbiBvZiBjb250ZXh0IHR5cGVzIGZvciB0aGlzIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY29udGV4dFR5cGVzOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogRGVmaW5pdGlvbiBvZiBjb250ZXh0IHR5cGVzIHRoaXMgY29tcG9uZW50IHNldHMgZm9yIGl0cyBjaGlsZHJlbi5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY2hpbGRDb250ZXh0VHlwZXM6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvLyA9PT09IERlZmluaXRpb24gbWV0aG9kcyA9PT09XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLiBWYWx1ZXMgaW4gdGhlIG1hcHBpbmcgd2lsbCBiZSBzZXQgb25cbiAgICAgKiBgdGhpcy5wcm9wc2AgaWYgdGhhdCBwcm9wIGlzIG5vdCBzcGVjaWZpZWQgKGkuZS4gdXNpbmcgYW4gYGluYCBjaGVjaykuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnZva2VkIGJlZm9yZSBgZ2V0SW5pdGlhbFN0YXRlYCBhbmQgdGhlcmVmb3JlIGNhbm5vdCByZWx5XG4gICAgICogb24gYHRoaXMuc3RhdGVgIG9yIHVzZSBgdGhpcy5zZXRTdGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgZ2V0RGVmYXVsdFByb3BzOiAnREVGSU5FX01BTllfTUVSR0VEJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb25jZSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZFxuICAgICAqIGFzIHRoZSBpbml0aWFsIHZhbHVlIG9mIGB0aGlzLnN0YXRlYC5cbiAgICAgKlxuICAgICAqICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgcmV0dXJuIHtcbiAgICAgKiAgICAgICBpc09uOiBmYWxzZSxcbiAgICAgKiAgICAgICBmb29CYXo6IG5ldyBCYXpGb28oKVxuICAgICAqICAgICB9XG4gICAgICogICB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiAnREVGSU5FX01BTllfTUVSR0VEJyxcblxuICAgIC8qKlxuICAgICAqIEByZXR1cm4ge29iamVjdH1cbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBnZXRDaGlsZENvbnRleHQ6ICdERUZJTkVfTUFOWV9NRVJHRUQnLFxuXG4gICAgLyoqXG4gICAgICogVXNlcyBwcm9wcyBmcm9tIGB0aGlzLnByb3BzYCBhbmQgc3RhdGUgZnJvbSBgdGhpcy5zdGF0ZWAgdG8gcmVuZGVyIHRoZVxuICAgICAqIHN0cnVjdHVyZSBvZiB0aGUgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogTm8gZ3VhcmFudGVlcyBhcmUgbWFkZSBhYm91dCB3aGVuIG9yIGhvdyBvZnRlbiB0aGlzIG1ldGhvZCBpcyBpbnZva2VkLCBzb1xuICAgICAqIGl0IG11c3Qgbm90IGhhdmUgc2lkZSBlZmZlY3RzLlxuICAgICAqXG4gICAgICogICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAqICAgICB2YXIgbmFtZSA9IHRoaXMucHJvcHMubmFtZTtcbiAgICAgKiAgICAgcmV0dXJuIDxkaXY+SGVsbG8sIHtuYW1lfSE8L2Rpdj47XG4gICAgICogICB9XG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtSZWFjdENvbXBvbmVudH1cbiAgICAgKiBAcmVxdWlyZWRcbiAgICAgKi9cbiAgICByZW5kZXI6ICdERUZJTkVfT05DRScsXG5cbiAgICAvLyA9PT09IERlbGVnYXRlIG1ldGhvZHMgPT09PVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgaW5pdGlhbGx5IGNyZWF0ZWQgYW5kIGFib3V0IHRvIGJlIG1vdW50ZWQuXG4gICAgICogVGhpcyBtYXkgaGF2ZSBzaWRlIGVmZmVjdHMsIGJ1dCBhbnkgZXh0ZXJuYWwgc3Vic2NyaXB0aW9ucyBvciBkYXRhIGNyZWF0ZWRcbiAgICAgKiBieSB0aGlzIG1ldGhvZCBtdXN0IGJlIGNsZWFuZWQgdXAgaW4gYGNvbXBvbmVudFdpbGxVbm1vdW50YC5cbiAgICAgKlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGNvbXBvbmVudFdpbGxNb3VudDogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgYW5kIGhhcyBhIERPTSByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBIb3dldmVyLCB0aGVyZSBpcyBubyBndWFyYW50ZWUgdGhhdCB0aGUgRE9NIG5vZGUgaXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gb3BlcmF0ZSBvbiB0aGUgRE9NIHdoZW4gdGhlIGNvbXBvbmVudCBoYXNcbiAgICAgKiBiZWVuIG1vdW50ZWQgKGluaXRpYWxpemVkIGFuZCByZW5kZXJlZCkgZm9yIHRoZSBmaXJzdCB0aW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSByb290Tm9kZSBET00gZWxlbWVudCByZXByZXNlbnRpbmcgdGhlIGNvbXBvbmVudC5cbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudDogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgcmVjZWl2ZXMgbmV3IHByb3BzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gcmVhY3QgdG8gYSBwcm9wIHRyYW5zaXRpb24gYnkgdXBkYXRpbmcgdGhlXG4gICAgICogc3RhdGUgdXNpbmcgYHRoaXMuc2V0U3RhdGVgLiBDdXJyZW50IHByb3BzIGFyZSBhY2Nlc3NlZCB2aWEgYHRoaXMucHJvcHNgLlxuICAgICAqXG4gICAgICogICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMsIG5leHRDb250ZXh0KSB7XG4gICAgICogICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAqICAgICAgIGxpa2VzSW5jcmVhc2luZzogbmV4dFByb3BzLmxpa2VDb3VudCA+IHRoaXMucHJvcHMubGlrZUNvdW50XG4gICAgICogICAgIH0pO1xuICAgICAqICAgfVxuICAgICAqXG4gICAgICogTk9URTogVGhlcmUgaXMgbm8gZXF1aXZhbGVudCBgY29tcG9uZW50V2lsbFJlY2VpdmVTdGF0ZWAuIEFuIGluY29taW5nIHByb3BcbiAgICAgKiB0cmFuc2l0aW9uIG1heSBjYXVzZSBhIHN0YXRlIGNoYW5nZSwgYnV0IHRoZSBvcHBvc2l0ZSBpcyBub3QgdHJ1ZS4gSWYgeW91XG4gICAgICogbmVlZCBpdCwgeW91IGFyZSBwcm9iYWJseSBsb29raW5nIGZvciBgY29tcG9uZW50V2lsbFVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbmV4dFByb3BzXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hpbGUgZGVjaWRpbmcgaWYgdGhlIGNvbXBvbmVudCBzaG91bGQgYmUgdXBkYXRlZCBhcyBhIHJlc3VsdCBvZlxuICAgICAqIHJlY2VpdmluZyBuZXcgcHJvcHMsIHN0YXRlIGFuZC9vciBjb250ZXh0LlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gYHJldHVybiBmYWxzZWAgd2hlbiB5b3UncmUgY2VydGFpbiB0aGF0IHRoZVxuICAgICAqIHRyYW5zaXRpb24gdG8gdGhlIG5ldyBwcm9wcy9zdGF0ZS9jb250ZXh0IHdpbGwgbm90IHJlcXVpcmUgYSBjb21wb25lbnRcbiAgICAgKiB1cGRhdGUuXG4gICAgICpcbiAgICAgKiAgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogZnVuY3Rpb24obmV4dFByb3BzLCBuZXh0U3RhdGUsIG5leHRDb250ZXh0KSB7XG4gICAgICogICAgIHJldHVybiAhZXF1YWwobmV4dFByb3BzLCB0aGlzLnByb3BzKSB8fFxuICAgICAqICAgICAgICFlcXVhbChuZXh0U3RhdGUsIHRoaXMuc3RhdGUpIHx8XG4gICAgICogICAgICAgIWVxdWFsKG5leHRDb250ZXh0LCB0aGlzLmNvbnRleHQpO1xuICAgICAqICAgfVxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG5leHRQcm9wc1xuICAgICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dFN0YXRlXG4gICAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0Q29udGV4dFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGNvbXBvbmVudCBzaG91bGQgdXBkYXRlLlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIHNob3VsZENvbXBvbmVudFVwZGF0ZTogJ0RFRklORV9PTkNFJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIHVwZGF0ZSBkdWUgdG8gYSB0cmFuc2l0aW9uIGZyb21cbiAgICAgKiBgdGhpcy5wcm9wc2AsIGB0aGlzLnN0YXRlYCBhbmQgYHRoaXMuY29udGV4dGAgdG8gYG5leHRQcm9wc2AsIGBuZXh0U3RhdGVgXG4gICAgICogYW5kIGBuZXh0Q29udGV4dGAuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBhcyBhbiBvcHBvcnR1bml0eSB0byBwZXJmb3JtIHByZXBhcmF0aW9uIGJlZm9yZSBhbiB1cGRhdGUgb2NjdXJzLlxuICAgICAqXG4gICAgICogTk9URTogWW91ICoqY2Fubm90KiogdXNlIGB0aGlzLnNldFN0YXRlKClgIGluIHRoaXMgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG5leHRQcm9wc1xuICAgICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dFN0YXRlXG4gICAgICogQHBhcmFtIHs/b2JqZWN0fSBuZXh0Q29udGV4dFxuICAgICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVXBkYXRlOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQncyBET00gcmVwcmVzZW50YXRpb24gaGFzIGJlZW4gdXBkYXRlZC5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIG9wZXJhdGUgb24gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaGFzXG4gICAgICogYmVlbiB1cGRhdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByZXZQcm9wc1xuICAgICAqIEBwYXJhbSB7P29iamVjdH0gcHJldlN0YXRlXG4gICAgICogQHBhcmFtIHs/b2JqZWN0fSBwcmV2Q29udGV4dFxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdE5vZGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQuXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkVXBkYXRlOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgYWJvdXQgdG8gYmUgcmVtb3ZlZCBmcm9tIGl0cyBwYXJlbnQgYW5kIGhhdmVcbiAgICAgKiBpdHMgRE9NIHJlcHJlc2VudGF0aW9uIGRlc3Ryb3llZC5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIGRlYWxsb2NhdGUgYW55IGV4dGVybmFsIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoZXJlIGlzIG5vIGBjb21wb25lbnREaWRVbm1vdW50YCBzaW5jZSB5b3VyIGNvbXBvbmVudCB3aWxsIGhhdmUgYmVlblxuICAgICAqIGRlc3Ryb3llZCBieSB0aGF0IHBvaW50LlxuICAgICAqXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgKGRlcHJlY2F0ZWQpIGBjb21wb25lbnRXaWxsTW91bnRgLlxuICAgICAqXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudDogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2VtZW50IGZvciAoZGVwcmVjYXRlZCkgYGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNgLlxuICAgICAqXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgKGRlcHJlY2F0ZWQpIGBjb21wb25lbnRXaWxsVXBkYXRlYC5cbiAgICAgKlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlOiAnREVGSU5FX01BTlknLFxuXG4gICAgLy8gPT09PSBBZHZhbmNlZCBtZXRob2RzID09PT1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGNvbXBvbmVudCdzIGN1cnJlbnRseSBtb3VudGVkIERPTSByZXByZXNlbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgaW1wbGVtZW50cyBSZWFjdCdzIHJlbmRlcmluZyBhbmQgcmVjb25jaWxpYXRpb24gYWxnb3JpdGhtLlxuICAgICAqIFNvcGhpc3RpY2F0ZWQgY2xpZW50cyBtYXkgd2lzaCB0byBvdmVycmlkZSB0aGlzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFjdFJlY29uY2lsZVRyYW5zYWN0aW9ufSB0cmFuc2FjdGlvblxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIEBvdmVycmlkYWJsZVxuICAgICAqL1xuICAgIHVwZGF0ZUNvbXBvbmVudDogJ09WRVJSSURFX0JBU0UnXG4gIH07XG5cbiAgLyoqXG4gICAqIFNpbWlsYXIgdG8gUmVhY3RDbGFzc0ludGVyZmFjZSBidXQgZm9yIHN0YXRpYyBtZXRob2RzLlxuICAgKi9cbiAgdmFyIFJlYWN0Q2xhc3NTdGF0aWNJbnRlcmZhY2UgPSB7XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCBhZnRlciBhIGNvbXBvbmVudCBpcyBpbnN0YW50aWF0ZWQgYW5kIHdoZW4gaXRcbiAgICAgKiByZWNlaXZlcyBuZXcgcHJvcHMuIFJldHVybiBhbiBvYmplY3QgdG8gdXBkYXRlIHN0YXRlIGluIHJlc3BvbnNlIHRvXG4gICAgICogcHJvcCBjaGFuZ2VzLiBSZXR1cm4gbnVsbCB0byBpbmRpY2F0ZSBubyBjaGFuZ2UgdG8gc3RhdGUuXG4gICAgICpcbiAgICAgKiBJZiBhbiBvYmplY3QgaXMgcmV0dXJuZWQsIGl0cyBrZXlzIHdpbGwgYmUgbWVyZ2VkIGludG8gdGhlIGV4aXN0aW5nIHN0YXRlLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0IHx8IG51bGx9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiAnREVGSU5FX01BTllfTUVSR0VEJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXBwaW5nIGZyb20gY2xhc3Mgc3BlY2lmaWNhdGlvbiBrZXlzIHRvIHNwZWNpYWwgcHJvY2Vzc2luZyBmdW5jdGlvbnMuXG4gICAqXG4gICAqIEFsdGhvdWdoIHRoZXNlIGFyZSBkZWNsYXJlZCBsaWtlIGluc3RhbmNlIHByb3BlcnRpZXMgaW4gdGhlIHNwZWNpZmljYXRpb25cbiAgICogd2hlbiBkZWZpbmluZyBjbGFzc2VzIHVzaW5nIGBSZWFjdC5jcmVhdGVDbGFzc2AsIHRoZXkgYXJlIGFjdHVhbGx5IHN0YXRpY1xuICAgKiBhbmQgYXJlIGFjY2Vzc2libGUgb24gdGhlIGNvbnN0cnVjdG9yIGluc3RlYWQgb2YgdGhlIHByb3RvdHlwZS4gRGVzcGl0ZVxuICAgKiBiZWluZyBzdGF0aWMsIHRoZXkgbXVzdCBiZSBkZWZpbmVkIG91dHNpZGUgb2YgdGhlIFwic3RhdGljc1wiIGtleSB1bmRlclxuICAgKiB3aGljaCBhbGwgb3RoZXIgc3RhdGljIG1ldGhvZHMgYXJlIGRlZmluZWQuXG4gICAqL1xuICB2YXIgUkVTRVJWRURfU1BFQ19LRVlTID0ge1xuICAgIGRpc3BsYXlOYW1lOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgZGlzcGxheU5hbWUpIHtcbiAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgfSxcbiAgICBtaXhpbnM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBtaXhpbnMpIHtcbiAgICAgIGlmIChtaXhpbnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaXhpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3RvciwgbWl4aW5zW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY2hpbGRDb250ZXh0VHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjaGlsZENvbnRleHRUeXBlcywgJ2NoaWxkQ29udGV4dCcpO1xuICAgICAgfVxuICAgICAgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMgPSBfYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgQ29uc3RydWN0b3IuY2hpbGRDb250ZXh0VHlwZXMsXG4gICAgICAgIGNoaWxkQ29udGV4dFR5cGVzXG4gICAgICApO1xuICAgIH0sXG4gICAgY29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY29udGV4dFR5cGVzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcywgJ2NvbnRleHQnKTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLmNvbnRleHRUeXBlcyA9IF9hc3NpZ24oXG4gICAgICAgIHt9LFxuICAgICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMsXG4gICAgICAgIGNvbnRleHRUeXBlc1xuICAgICAgKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFNwZWNpYWwgY2FzZSBnZXREZWZhdWx0UHJvcHMgd2hpY2ggc2hvdWxkIG1vdmUgaW50byBzdGF0aWNzIGJ1dCByZXF1aXJlc1xuICAgICAqIGF1dG9tYXRpYyBtZXJnaW5nLlxuICAgICAqL1xuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGdldERlZmF1bHRQcm9wcykge1xuICAgICAgaWYgKENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihcbiAgICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMsXG4gICAgICAgICAgZ2V0RGVmYXVsdFByb3BzXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHM7XG4gICAgICB9XG4gICAgfSxcbiAgICBwcm9wVHlwZXM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBwcm9wVHlwZXMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzLCAncHJvcCcpO1xuICAgICAgfVxuICAgICAgQ29uc3RydWN0b3IucHJvcFR5cGVzID0gX2Fzc2lnbih7fSwgQ29uc3RydWN0b3IucHJvcFR5cGVzLCBwcm9wVHlwZXMpO1xuICAgIH0sXG4gICAgc3RhdGljczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICAgIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKTtcbiAgICB9LFxuICAgIGF1dG9iaW5kOiBmdW5jdGlvbigpIHt9XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCB0eXBlRGVmLCBsb2NhdGlvbikge1xuICAgIGZvciAodmFyIHByb3BOYW1lIGluIHR5cGVEZWYpIHtcbiAgICAgIGlmICh0eXBlRGVmLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAvLyB1c2UgYSB3YXJuaW5nIGluc3RlYWQgb2YgYW4gX2ludmFyaWFudCBzbyBjb21wb25lbnRzXG4gICAgICAgIC8vIGRvbid0IHNob3cgdXAgaW4gcHJvZCBidXQgb25seSBpbiBfX0RFVl9fXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIHR5cGVvZiB0eXBlRGVmW3Byb3BOYW1lXSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgICclczogJXMgdHlwZSBgJXNgIGlzIGludmFsaWQ7IGl0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tICcgK1xuICAgICAgICAgICAgICAnUmVhY3QuUHJvcFR5cGVzLicsXG4gICAgICAgICAgICBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDbGFzcycsXG4gICAgICAgICAgICBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0sXG4gICAgICAgICAgICBwcm9wTmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKGlzQWxyZWFkeURlZmluZWQsIG5hbWUpIHtcbiAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSlcbiAgICAgID8gUmVhY3RDbGFzc0ludGVyZmFjZVtuYW1lXVxuICAgICAgOiBudWxsO1xuXG4gICAgLy8gRGlzYWxsb3cgb3ZlcnJpZGluZyBvZiBiYXNlIGNsYXNzIG1ldGhvZHMgdW5sZXNzIGV4cGxpY2l0bHkgYWxsb3dlZC5cbiAgICBpZiAoUmVhY3RDbGFzc01peGluLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBfaW52YXJpYW50KFxuICAgICAgICBzcGVjUG9saWN5ID09PSAnT1ZFUlJJREVfQkFTRScsXG4gICAgICAgICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gb3ZlcnJpZGUgJyArXG4gICAgICAgICAgJ2Alc2AgZnJvbSB5b3VyIGNsYXNzIHNwZWNpZmljYXRpb24uIEVuc3VyZSB0aGF0IHlvdXIgbWV0aG9kIG5hbWVzICcgK1xuICAgICAgICAgICdkbyBub3Qgb3ZlcmxhcCB3aXRoIFJlYWN0IG1ldGhvZHMuJyxcbiAgICAgICAgbmFtZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhbGxvdyBkZWZpbmluZyBtZXRob2RzIG1vcmUgdGhhbiBvbmNlIHVubGVzcyBleHBsaWNpdGx5IGFsbG93ZWQuXG4gICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgIF9pbnZhcmlhbnQoXG4gICAgICAgIHNwZWNQb2xpY3kgPT09ICdERUZJTkVfTUFOWScgfHwgc3BlY1BvbGljeSA9PT0gJ0RFRklORV9NQU5ZX01FUkdFRCcsXG4gICAgICAgICdSZWFjdENsYXNzSW50ZXJmYWNlOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lICcgK1xuICAgICAgICAgICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSBkdWUgJyArXG4gICAgICAgICAgJ3RvIGEgbWl4aW4uJyxcbiAgICAgICAgbmFtZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWl4aW4gaGVscGVyIHdoaWNoIGhhbmRsZXMgcG9saWN5IHZhbGlkYXRpb24gYW5kIHJlc2VydmVkXG4gICAqIHNwZWNpZmljYXRpb24ga2V5cyB3aGVuIGJ1aWxkaW5nIFJlYWN0IGNsYXNzZXMuXG4gICAqL1xuICBmdW5jdGlvbiBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYykge1xuICAgIGlmICghc3BlYykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFyIHR5cGVvZlNwZWMgPSB0eXBlb2Ygc3BlYztcbiAgICAgICAgdmFyIGlzTWl4aW5WYWxpZCA9IHR5cGVvZlNwZWMgPT09ICdvYmplY3QnICYmIHNwZWMgIT09IG51bGw7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgaXNNaXhpblZhbGlkLFxuICAgICAgICAgICAgXCIlczogWW91J3JlIGF0dGVtcHRpbmcgdG8gaW5jbHVkZSBhIG1peGluIHRoYXQgaXMgZWl0aGVyIG51bGwgXCIgK1xuICAgICAgICAgICAgICAnb3Igbm90IGFuIG9iamVjdC4gQ2hlY2sgdGhlIG1peGlucyBpbmNsdWRlZCBieSB0aGUgY29tcG9uZW50LCAnICtcbiAgICAgICAgICAgICAgJ2FzIHdlbGwgYXMgYW55IG1peGlucyB0aGV5IGluY2x1ZGUgdGhlbXNlbHZlcy4gJyArXG4gICAgICAgICAgICAgICdFeHBlY3RlZCBvYmplY3QgYnV0IGdvdCAlcy4nLFxuICAgICAgICAgICAgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q2xhc3MnLFxuICAgICAgICAgICAgc3BlYyA9PT0gbnVsbCA/IG51bGwgOiB0eXBlb2ZTcGVjXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgX2ludmFyaWFudChcbiAgICAgIHR5cGVvZiBzcGVjICE9PSAnZnVuY3Rpb24nLFxuICAgICAgXCJSZWFjdENsYXNzOiBZb3UncmUgYXR0ZW1wdGluZyB0byBcIiArXG4gICAgICAgICd1c2UgYSBjb21wb25lbnQgY2xhc3Mgb3IgZnVuY3Rpb24gYXMgYSBtaXhpbi4gSW5zdGVhZCwganVzdCB1c2UgYSAnICtcbiAgICAgICAgJ3JlZ3VsYXIgb2JqZWN0LidcbiAgICApO1xuICAgIF9pbnZhcmlhbnQoXG4gICAgICAhaXNWYWxpZEVsZW1lbnQoc3BlYyksXG4gICAgICBcIlJlYWN0Q2xhc3M6IFlvdSdyZSBhdHRlbXB0aW5nIHRvIFwiICtcbiAgICAgICAgJ3VzZSBhIGNvbXBvbmVudCBhcyBhIG1peGluLiBJbnN0ZWFkLCBqdXN0IHVzZSBhIHJlZ3VsYXIgb2JqZWN0LidcbiAgICApO1xuXG4gICAgdmFyIHByb3RvID0gQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgIHZhciBhdXRvQmluZFBhaXJzID0gcHJvdG8uX19yZWFjdEF1dG9CaW5kUGFpcnM7XG5cbiAgICAvLyBCeSBoYW5kbGluZyBtaXhpbnMgYmVmb3JlIGFueSBvdGhlciBwcm9wZXJ0aWVzLCB3ZSBlbnN1cmUgdGhlIHNhbWVcbiAgICAvLyBjaGFpbmluZyBvcmRlciBpcyBhcHBsaWVkIHRvIG1ldGhvZHMgd2l0aCBERUZJTkVfTUFOWSBwb2xpY3ksIHdoZXRoZXJcbiAgICAvLyBtaXhpbnMgYXJlIGxpc3RlZCBiZWZvcmUgb3IgYWZ0ZXIgdGhlc2UgbWV0aG9kcyBpbiB0aGUgc3BlYy5cbiAgICBpZiAoc3BlYy5oYXNPd25Qcm9wZXJ0eShNSVhJTlNfS0VZKSkge1xuICAgICAgUkVTRVJWRURfU1BFQ19LRVlTLm1peGlucyhDb25zdHJ1Y3Rvciwgc3BlYy5taXhpbnMpO1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gc3BlYykge1xuICAgICAgaWYgKCFzcGVjLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobmFtZSA9PT0gTUlYSU5TX0tFWSkge1xuICAgICAgICAvLyBXZSBoYXZlIGFscmVhZHkgaGFuZGxlZCBtaXhpbnMgaW4gYSBzcGVjaWFsIGNhc2UgYWJvdmUuXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcGVydHkgPSBzcGVjW25hbWVdO1xuICAgICAgdmFyIGlzQWxyZWFkeURlZmluZWQgPSBwcm90by5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgIHZhbGlkYXRlTWV0aG9kT3ZlcnJpZGUoaXNBbHJlYWR5RGVmaW5lZCwgbmFtZSk7XG5cbiAgICAgIGlmIChSRVNFUlZFRF9TUEVDX0tFWVMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgUkVTRVJWRURfU1BFQ19LRVlTW25hbWVdKENvbnN0cnVjdG9yLCBwcm9wZXJ0eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTZXR1cCBtZXRob2RzIG9uIHByb3RvdHlwZTpcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBtZW1iZXIgbWV0aG9kcyBzaG91bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgYm91bmQ6XG4gICAgICAgIC8vIDEuIEV4cGVjdGVkIFJlYWN0Q2xhc3MgbWV0aG9kcyAoaW4gdGhlIFwiaW50ZXJmYWNlXCIpLlxuICAgICAgICAvLyAyLiBPdmVycmlkZGVuIG1ldGhvZHMgKHRoYXQgd2VyZSBtaXhlZCBpbikuXG4gICAgICAgIHZhciBpc1JlYWN0Q2xhc3NNZXRob2QgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpO1xuICAgICAgICB2YXIgaXNGdW5jdGlvbiA9IHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgdmFyIHNob3VsZEF1dG9CaW5kID1cbiAgICAgICAgICBpc0Z1bmN0aW9uICYmXG4gICAgICAgICAgIWlzUmVhY3RDbGFzc01ldGhvZCAmJlxuICAgICAgICAgICFpc0FscmVhZHlEZWZpbmVkICYmXG4gICAgICAgICAgc3BlYy5hdXRvYmluZCAhPT0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHNob3VsZEF1dG9CaW5kKSB7XG4gICAgICAgICAgYXV0b0JpbmRQYWlycy5wdXNoKG5hbWUsIHByb3BlcnR5KTtcbiAgICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChpc0FscmVhZHlEZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NJbnRlcmZhY2VbbmFtZV07XG5cbiAgICAgICAgICAgIC8vIFRoZXNlIGNhc2VzIHNob3VsZCBhbHJlYWR5IGJlIGNhdWdodCBieSB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlLlxuICAgICAgICAgICAgX2ludmFyaWFudChcbiAgICAgICAgICAgICAgaXNSZWFjdENsYXNzTWV0aG9kICYmXG4gICAgICAgICAgICAgICAgKHNwZWNQb2xpY3kgPT09ICdERUZJTkVfTUFOWV9NRVJHRUQnIHx8XG4gICAgICAgICAgICAgICAgICBzcGVjUG9saWN5ID09PSAnREVGSU5FX01BTlknKSxcbiAgICAgICAgICAgICAgJ1JlYWN0Q2xhc3M6IFVuZXhwZWN0ZWQgc3BlYyBwb2xpY3kgJXMgZm9yIGtleSAlcyAnICtcbiAgICAgICAgICAgICAgICAnd2hlbiBtaXhpbmcgaW4gY29tcG9uZW50IHNwZWNzLicsXG4gICAgICAgICAgICAgIHNwZWNQb2xpY3ksXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIC8vIEZvciBtZXRob2RzIHdoaWNoIGFyZSBkZWZpbmVkIG1vcmUgdGhhbiBvbmNlLCBjYWxsIHRoZSBleGlzdGluZ1xuICAgICAgICAgICAgLy8gbWV0aG9kcyBiZWZvcmUgY2FsbGluZyB0aGUgbmV3IHByb3BlcnR5LCBtZXJnaW5nIGlmIGFwcHJvcHJpYXRlLlxuICAgICAgICAgICAgaWYgKHNwZWNQb2xpY3kgPT09ICdERUZJTkVfTUFOWV9NRVJHRUQnKSB7XG4gICAgICAgICAgICAgIHByb3RvW25hbWVdID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BlY1BvbGljeSA9PT0gJ0RFRklORV9NQU5ZJykge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZUNoYWluZWRGdW5jdGlvbihwcm90b1tuYW1lXSwgcHJvcGVydHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm90b1tuYW1lXSA9IHByb3BlcnR5O1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgLy8gQWRkIHZlcmJvc2UgZGlzcGxheU5hbWUgdG8gdGhlIGZ1bmN0aW9uLCB3aGljaCBoZWxwcyB3aGVuIGxvb2tpbmdcbiAgICAgICAgICAgICAgLy8gYXQgcHJvZmlsaW5nIHRvb2xzLlxuICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5ID09PSAnZnVuY3Rpb24nICYmIHNwZWMuZGlzcGxheU5hbWUpIHtcbiAgICAgICAgICAgICAgICBwcm90b1tuYW1lXS5kaXNwbGF5TmFtZSA9IHNwZWMuZGlzcGxheU5hbWUgKyAnXycgKyBuYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWl4U3RhdGljU3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHN0YXRpY3MpIHtcbiAgICBpZiAoIXN0YXRpY3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHN0YXRpY3MpIHtcbiAgICAgIHZhciBwcm9wZXJ0eSA9IHN0YXRpY3NbbmFtZV07XG4gICAgICBpZiAoIXN0YXRpY3MuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBpc1Jlc2VydmVkID0gbmFtZSBpbiBSRVNFUlZFRF9TUEVDX0tFWVM7XG4gICAgICBfaW52YXJpYW50KFxuICAgICAgICAhaXNSZXNlcnZlZCxcbiAgICAgICAgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgYSByZXNlcnZlZCAnICtcbiAgICAgICAgICAncHJvcGVydHksIGAlc2AsIHRoYXQgc2hvdWxkblxcJ3QgYmUgb24gdGhlIFwic3RhdGljc1wiIGtleS4gRGVmaW5lIGl0ICcgK1xuICAgICAgICAgICdhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBpbnN0ZWFkOyBpdCB3aWxsIHN0aWxsIGJlIGFjY2Vzc2libGUgb24gdGhlICcgK1xuICAgICAgICAgICdjb25zdHJ1Y3Rvci4nLFxuICAgICAgICBuYW1lXG4gICAgICApO1xuXG4gICAgICB2YXIgaXNBbHJlYWR5RGVmaW5lZCA9IG5hbWUgaW4gQ29uc3RydWN0b3I7XG4gICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICB2YXIgc3BlY1BvbGljeSA9IFJlYWN0Q2xhc3NTdGF0aWNJbnRlcmZhY2UuaGFzT3duUHJvcGVydHkobmFtZSlcbiAgICAgICAgICA/IFJlYWN0Q2xhc3NTdGF0aWNJbnRlcmZhY2VbbmFtZV1cbiAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgX2ludmFyaWFudChcbiAgICAgICAgICBzcGVjUG9saWN5ID09PSAnREVGSU5FX01BTllfTUVSR0VEJyxcbiAgICAgICAgICAnUmVhY3RDbGFzczogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICtcbiAgICAgICAgICAgICdgJXNgIG9uIHlvdXIgY29tcG9uZW50IG1vcmUgdGhhbiBvbmNlLiBUaGlzIGNvbmZsaWN0IG1heSBiZSAnICtcbiAgICAgICAgICAgICdkdWUgdG8gYSBtaXhpbi4nLFxuICAgICAgICAgIG5hbWVcbiAgICAgICAgKTtcblxuICAgICAgICBDb25zdHJ1Y3RvcltuYW1lXSA9IGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKENvbnN0cnVjdG9yW25hbWVdLCBwcm9wZXJ0eSk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBDb25zdHJ1Y3RvcltuYW1lXSA9IHByb3BlcnR5O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNZXJnZSB0d28gb2JqZWN0cywgYnV0IHRocm93IGlmIGJvdGggY29udGFpbiB0aGUgc2FtZSBrZXkuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvbmUgVGhlIGZpcnN0IG9iamVjdCwgd2hpY2ggaXMgbXV0YXRlZC5cbiAgICogQHBhcmFtIHtvYmplY3R9IHR3byBUaGUgc2Vjb25kIG9iamVjdFxuICAgKiBAcmV0dXJuIHtvYmplY3R9IG9uZSBhZnRlciBpdCBoYXMgYmVlbiBtdXRhdGVkIHRvIGNvbnRhaW4gZXZlcnl0aGluZyBpbiB0d28uXG4gICAqL1xuICBmdW5jdGlvbiBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKG9uZSwgdHdvKSB7XG4gICAgX2ludmFyaWFudChcbiAgICAgIG9uZSAmJiB0d28gJiYgdHlwZW9mIG9uZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHR3byA9PT0gJ29iamVjdCcsXG4gICAgICAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiBDYW5ub3QgbWVyZ2Ugbm9uLW9iamVjdHMuJ1xuICAgICk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gdHdvKSB7XG4gICAgICBpZiAodHdvLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgX2ludmFyaWFudChcbiAgICAgICAgICBvbmVba2V5XSA9PT0gdW5kZWZpbmVkLFxuICAgICAgICAgICdtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKCk6ICcgK1xuICAgICAgICAgICAgJ1RyaWVkIHRvIG1lcmdlIHR3byBvYmplY3RzIHdpdGggdGhlIHNhbWUga2V5OiBgJXNgLiBUaGlzIGNvbmZsaWN0ICcgK1xuICAgICAgICAgICAgJ21heSBiZSBkdWUgdG8gYSBtaXhpbjsgaW4gcGFydGljdWxhciwgdGhpcyBtYXkgYmUgY2F1c2VkIGJ5IHR3byAnICtcbiAgICAgICAgICAgICdnZXRJbml0aWFsU3RhdGUoKSBvciBnZXREZWZhdWx0UHJvcHMoKSBtZXRob2RzIHJldHVybmluZyBvYmplY3RzICcgK1xuICAgICAgICAgICAgJ3dpdGggY2xhc2hpbmcga2V5cy4nLFxuICAgICAgICAgIGtleVxuICAgICAgICApO1xuICAgICAgICBvbmVba2V5XSA9IHR3b1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb25lO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdHdvIGZ1bmN0aW9ucyBhbmQgbWVyZ2VzIHRoZWlyIHJldHVybiB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uZSBGdW5jdGlvbiB0byBpbnZva2UgZmlyc3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHR3byBGdW5jdGlvbiB0byBpbnZva2Ugc2Vjb25kLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSB0d28gYXJndW1lbnQgZnVuY3Rpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24ob25lLCB0d28pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkUmVzdWx0KCkge1xuICAgICAgdmFyIGEgPSBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHZhciBiID0gdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoYSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBiO1xuICAgICAgfSBlbHNlIGlmIChiID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgICB9XG4gICAgICB2YXIgYyA9IHt9O1xuICAgICAgbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhjLCBhKTtcbiAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYik7XG4gICAgICByZXR1cm4gYztcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdHdvIGZ1bmN0aW9ucyBhbmQgaWdub3JlcyB0aGVpciByZXR1cm4gdmFsZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uZSBGdW5jdGlvbiB0byBpbnZva2UgZmlyc3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IHR3byBGdW5jdGlvbiB0byBpbnZva2Ugc2Vjb25kLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gRnVuY3Rpb24gdGhhdCBpbnZva2VzIHRoZSB0d28gYXJndW1lbnQgZnVuY3Rpb25zLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQ2hhaW5lZEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNoYWluZWRGdW5jdGlvbigpIHtcbiAgICAgIG9uZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgdHdvLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kcyBhIG1ldGhvZCB0byB0aGUgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcG9uZW50IENvbXBvbmVudCB3aG9zZSBtZXRob2QgaXMgZ29pbmcgdG8gYmUgYm91bmQuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1ldGhvZCBNZXRob2QgdG8gYmUgYm91bmQuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgYm91bmQgbWV0aG9kLlxuICAgKi9cbiAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKSB7XG4gICAgdmFyIGJvdW5kTWV0aG9kID0gbWV0aG9kLmJpbmQoY29tcG9uZW50KTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZEFyZ3VtZW50cyA9IG51bGw7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZTtcbiAgICAgIHZhciBfYmluZCA9IGJvdW5kTWV0aG9kLmJpbmQ7XG4gICAgICBib3VuZE1ldGhvZC5iaW5kID0gZnVuY3Rpb24obmV3VGhpcykge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCxcbiAgICAgICAgICAgIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksXG4gICAgICAgICAgICBfa2V5ID0gMTtcbiAgICAgICAgICBfa2V5IDwgX2xlbjtcbiAgICAgICAgICBfa2V5KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVc2VyIGlzIHRyeWluZyB0byBiaW5kKCkgYW4gYXV0b2JvdW5kIG1ldGhvZDsgd2UgZWZmZWN0aXZlbHkgd2lsbFxuICAgICAgICAvLyBpZ25vcmUgdGhlIHZhbHVlIG9mIFwidGhpc1wiIHRoYXQgdGhlIHVzZXIgaXMgdHJ5aW5nIHRvIHVzZSwgc29cbiAgICAgICAgLy8gbGV0J3Mgd2Fybi5cbiAgICAgICAgaWYgKG5ld1RoaXMgIT09IGNvbXBvbmVudCAmJiBuZXdUaGlzICE9PSBudWxsKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAnYmluZCgpOiBSZWFjdCBjb21wb25lbnQgbWV0aG9kcyBtYXkgb25seSBiZSBib3VuZCB0byB0aGUgJyArXG4gICAgICAgICAgICAgICAgJ2NvbXBvbmVudCBpbnN0YW5jZS4gU2VlICVzJyxcbiAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIWFyZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAnYmluZCgpOiBZb3UgYXJlIGJpbmRpbmcgYSBjb21wb25lbnQgbWV0aG9kIHRvIHRoZSBjb21wb25lbnQuICcgK1xuICAgICAgICAgICAgICAgICdSZWFjdCBkb2VzIHRoaXMgZm9yIHlvdSBhdXRvbWF0aWNhbGx5IGluIGEgaGlnaC1wZXJmb3JtYW5jZSAnICtcbiAgICAgICAgICAgICAgICAnd2F5LCBzbyB5b3UgY2FuIHNhZmVseSByZW1vdmUgdGhpcyBjYWxsLiBTZWUgJXMnLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlYm91bmRNZXRob2QgPSBfYmluZC5hcHBseShib3VuZE1ldGhvZCwgYXJndW1lbnRzKTtcbiAgICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRDb250ZXh0ID0gY29tcG9uZW50O1xuICAgICAgICByZWJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZE1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRBcmd1bWVudHMgPSBhcmdzO1xuICAgICAgICByZXR1cm4gcmVib3VuZE1ldGhvZDtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBib3VuZE1ldGhvZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kcyBhbGwgYXV0by1ib3VuZCBtZXRob2RzIGluIGEgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcG9uZW50IENvbXBvbmVudCB3aG9zZSBtZXRob2QgaXMgZ29pbmcgdG8gYmUgYm91bmQuXG4gICAqL1xuICBmdW5jdGlvbiBiaW5kQXV0b0JpbmRNZXRob2RzKGNvbXBvbmVudCkge1xuICAgIHZhciBwYWlycyA9IGNvbXBvbmVudC5fX3JlYWN0QXV0b0JpbmRQYWlycztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICB2YXIgYXV0b0JpbmRLZXkgPSBwYWlyc1tpXTtcbiAgICAgIHZhciBtZXRob2QgPSBwYWlyc1tpICsgMV07XG4gICAgICBjb21wb25lbnRbYXV0b0JpbmRLZXldID0gYmluZEF1dG9CaW5kTWV0aG9kKGNvbXBvbmVudCwgbWV0aG9kKTtcbiAgICB9XG4gIH1cblxuICB2YXIgSXNNb3VudGVkUHJlTWl4aW4gPSB7XG4gICAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fX2lzTW91bnRlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIHZhciBJc01vdW50ZWRQb3N0TWl4aW4gPSB7XG4gICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fX2lzTW91bnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQWRkIG1vcmUgdG8gdGhlIFJlYWN0Q2xhc3MgYmFzZSBjbGFzcy4gVGhlc2UgYXJlIGFsbCBsZWdhY3kgZmVhdHVyZXMgYW5kXG4gICAqIHRoZXJlZm9yZSBub3QgYWxyZWFkeSBwYXJ0IG9mIHRoZSBtb2Rlcm4gUmVhY3RDb21wb25lbnQuXG4gICAqL1xuICB2YXIgUmVhY3RDbGFzc01peGluID0ge1xuICAgIC8qKlxuICAgICAqIFRPRE86IFRoaXMgd2lsbCBiZSBkZXByZWNhdGVkIGJlY2F1c2Ugc3RhdGUgc2hvdWxkIGFsd2F5cyBrZWVwIGEgY29uc2lzdGVudFxuICAgICAqIHR5cGUgc2lnbmF0dXJlIGFuZCB0aGUgb25seSB1c2UgY2FzZSBmb3IgdGhpcywgaXMgdG8gYXZvaWQgdGhhdC5cbiAgICAgKi9cbiAgICByZXBsYWNlU3RhdGU6IGZ1bmN0aW9uKG5ld1N0YXRlLCBjYWxsYmFjaykge1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUodGhpcywgbmV3U3RhdGUsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAZmluYWxcbiAgICAgKi9cbiAgICBpc01vdW50ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICB0aGlzLl9fZGlkV2FybklzTW91bnRlZCxcbiAgICAgICAgICAnJXM6IGlzTW91bnRlZCBpcyBkZXByZWNhdGVkLiBJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgJyArXG4gICAgICAgICAgICAnc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiBjb21wb25lbnRXaWxsVW5tb3VudCB0byAnICtcbiAgICAgICAgICAgICdwcmV2ZW50IG1lbW9yeSBsZWFrcy4nLFxuICAgICAgICAgICh0aGlzLmNvbnN0cnVjdG9yICYmIHRoaXMuY29uc3RydWN0b3IuZGlzcGxheU5hbWUpIHx8XG4gICAgICAgICAgICB0aGlzLm5hbWUgfHxcbiAgICAgICAgICAgICdDb21wb25lbnQnXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX19kaWRXYXJuSXNNb3VudGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhIXRoaXMuX19pc01vdW50ZWQ7XG4gICAgfVxuICB9O1xuXG4gIHZhciBSZWFjdENsYXNzQ29tcG9uZW50ID0gZnVuY3Rpb24oKSB7fTtcbiAgX2Fzc2lnbihcbiAgICBSZWFjdENsYXNzQ29tcG9uZW50LnByb3RvdHlwZSxcbiAgICBSZWFjdENvbXBvbmVudC5wcm90b3R5cGUsXG4gICAgUmVhY3RDbGFzc01peGluXG4gICk7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjb21wb3NpdGUgY29tcG9uZW50IGNsYXNzIGdpdmVuIGEgY2xhc3Mgc3BlY2lmaWNhdGlvbi5cbiAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3MvdG9wLWxldmVsLWFwaS5odG1sI3JlYWN0LmNyZWF0ZWNsYXNzXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzcGVjIENsYXNzIHNwZWNpZmljYXRpb24gKHdoaWNoIG11c3QgZGVmaW5lIGByZW5kZXJgKS5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IENvbXBvbmVudCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cbiAgICogQHB1YmxpY1xuICAgKi9cbiAgZnVuY3Rpb24gY3JlYXRlQ2xhc3Moc3BlYykge1xuICAgIC8vIFRvIGtlZXAgb3VyIHdhcm5pbmdzIG1vcmUgdW5kZXJzdGFuZGFibGUsIHdlJ2xsIHVzZSBhIGxpdHRsZSBoYWNrIGhlcmUgdG9cbiAgICAvLyBlbnN1cmUgdGhhdCBDb25zdHJ1Y3Rvci5uYW1lICE9PSAnQ29uc3RydWN0b3InLiBUaGlzIG1ha2VzIHN1cmUgd2UgZG9uJ3RcbiAgICAvLyB1bm5lY2Vzc2FyaWx5IGlkZW50aWZ5IGEgY2xhc3Mgd2l0aG91dCBkaXNwbGF5TmFtZSBhcyAnQ29uc3RydWN0b3InLlxuICAgIHZhciBDb25zdHJ1Y3RvciA9IGlkZW50aXR5KGZ1bmN0aW9uKHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICAvLyBUaGlzIGNvbnN0cnVjdG9yIGdldHMgb3ZlcnJpZGRlbiBieSBtb2Nrcy4gVGhlIGFyZ3VtZW50IGlzIHVzZWRcbiAgICAgIC8vIGJ5IG1vY2tzIHRvIGFzc2VydCBvbiB3aGF0IGdldHMgbW91bnRlZC5cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICB0aGlzIGluc3RhbmNlb2YgQ29uc3RydWN0b3IsXG4gICAgICAgICAgJ1NvbWV0aGluZyBpcyBjYWxsaW5nIGEgUmVhY3QgY29tcG9uZW50IGRpcmVjdGx5LiBVc2UgYSBmYWN0b3J5IG9yICcgK1xuICAgICAgICAgICAgJ0pTWCBpbnN0ZWFkLiBTZWU6IGh0dHBzOi8vZmIubWUvcmVhY3QtbGVnYWN5ZmFjdG9yeSdcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gV2lyZSB1cCBhdXRvLWJpbmRpbmdcbiAgICAgIGlmICh0aGlzLl9fcmVhY3RBdXRvQmluZFBhaXJzLmxlbmd0aCkge1xuICAgICAgICBiaW5kQXV0b0JpbmRNZXRob2RzKHRoaXMpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuXG4gICAgICB0aGlzLnN0YXRlID0gbnVsbDtcblxuICAgICAgLy8gUmVhY3RDbGFzc2VzIGRvZXNuJ3QgaGF2ZSBjb25zdHJ1Y3RvcnMuIEluc3RlYWQsIHRoZXkgdXNlIHRoZVxuICAgICAgLy8gZ2V0SW5pdGlhbFN0YXRlIGFuZCBjb21wb25lbnRXaWxsTW91bnQgbWV0aG9kcyBmb3IgaW5pdGlhbGl6YXRpb24uXG5cbiAgICAgIHZhciBpbml0aWFsU3RhdGUgPSB0aGlzLmdldEluaXRpYWxTdGF0ZSA/IHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCkgOiBudWxsO1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgLy8gV2UgYWxsb3cgYXV0by1tb2NrcyB0byBwcm9jZWVkIGFzIGlmIHRoZXkncmUgcmV0dXJuaW5nIG51bGwuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBpbml0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHRoaXMuZ2V0SW5pdGlhbFN0YXRlLl9pc01vY2tGdW5jdGlvblxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIHByb2JhYmx5IGJhZCBwcmFjdGljZS4gQ29uc2lkZXIgd2FybmluZyBoZXJlIGFuZFxuICAgICAgICAgIC8vIGRlcHJlY2F0aW5nIHRoaXMgY29udmVuaWVuY2UuXG4gICAgICAgICAgaW5pdGlhbFN0YXRlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgX2ludmFyaWFudChcbiAgICAgICAgdHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoaW5pdGlhbFN0YXRlKSxcbiAgICAgICAgJyVzLmdldEluaXRpYWxTdGF0ZSgpOiBtdXN0IHJldHVybiBhbiBvYmplY3Qgb3IgbnVsbCcsXG4gICAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICdSZWFjdENvbXBvc2l0ZUNvbXBvbmVudCdcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgfSk7XG4gICAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gbmV3IFJlYWN0Q2xhc3NDb21wb25lbnQoKTtcbiAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuX19yZWFjdEF1dG9CaW5kUGFpcnMgPSBbXTtcblxuICAgIGluamVjdGVkTWl4aW5zLmZvckVhY2gobWl4U3BlY0ludG9Db21wb25lbnQuYmluZChudWxsLCBDb25zdHJ1Y3RvcikpO1xuXG4gICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIElzTW91bnRlZFByZU1peGluKTtcbiAgICBtaXhTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3BlYyk7XG4gICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIElzTW91bnRlZFBvc3RNaXhpbik7XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBkZWZhdWx0UHJvcHMgcHJvcGVydHkgYWZ0ZXIgYWxsIG1peGlucyBoYXZlIGJlZW4gbWVyZ2VkLlxuICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgIENvbnN0cnVjdG9yLmRlZmF1bHRQcm9wcyA9IENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcygpO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAvLyBUaGlzIGlzIGEgdGFnIHRvIGluZGljYXRlIHRoYXQgdGhlIHVzZSBvZiB0aGVzZSBtZXRob2QgbmFtZXMgaXMgb2ssXG4gICAgICAvLyBzaW5jZSBpdCdzIHVzZWQgd2l0aCBjcmVhdGVDbGFzcy4gSWYgaXQncyBub3QsIHRoZW4gaXQncyBsaWtlbHkgYVxuICAgICAgLy8gbWlzdGFrZSBzbyB3ZSdsbCB3YXJuIHlvdSB0byB1c2UgdGhlIHN0YXRpYyBwcm9wZXJ0eSwgcHJvcGVydHlcbiAgICAgIC8vIGluaXRpYWxpemVyIG9yIGNvbnN0cnVjdG9yIHJlc3BlY3RpdmVseS5cbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICB9XG4gICAgICBpZiAoQ29uc3RydWN0b3IucHJvdG90eXBlLmdldEluaXRpYWxTdGF0ZSkge1xuICAgICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkID0ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2ludmFyaWFudChcbiAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZS5yZW5kZXIsXG4gICAgICAnY3JlYXRlQ2xhc3MoLi4uKTogQ2xhc3Mgc3BlY2lmaWNhdGlvbiBtdXN0IGltcGxlbWVudCBhIGByZW5kZXJgIG1ldGhvZC4nXG4gICAgKTtcblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICAhQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFNob3VsZFVwZGF0ZSxcbiAgICAgICAgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArXG4gICAgICAgICAgJ2NvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/ICcgK1xuICAgICAgICAgICdUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgJyArXG4gICAgICAgICAgJ2V4cGVjdGVkIHRvIHJldHVybiBhIHZhbHVlLicsXG4gICAgICAgIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50J1xuICAgICAgKTtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgICFDb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyxcbiAgICAgICAgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgJyArXG4gICAgICAgICAgJ2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT8nLFxuICAgICAgICBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCdcbiAgICAgICk7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICAhQ29uc3RydWN0b3IucHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzLFxuICAgICAgICAnJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiAnICtcbiAgICAgICAgICAnRGlkIHlvdSBtZWFuIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/JyxcbiAgICAgICAgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFJlZHVjZSB0aW1lIHNwZW50IGRvaW5nIGxvb2t1cHMgYnkgc2V0dGluZyB0aGVzZSBvbiB0aGUgcHJvdG90eXBlLlxuICAgIGZvciAodmFyIG1ldGhvZE5hbWUgaW4gUmVhY3RDbGFzc0ludGVyZmFjZSkge1xuICAgICAgaWYgKCFDb25zdHJ1Y3Rvci5wcm90b3R5cGVbbWV0aG9kTmFtZV0pIHtcbiAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH1cblxuICByZXR1cm4gY3JlYXRlQ2xhc3M7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcbnZhciBmYWN0b3J5ID0gcmVxdWlyZSgnLi9mYWN0b3J5Jyk7XG5cbmlmICh0eXBlb2YgUmVhY3QgPT09ICd1bmRlZmluZWQnKSB7XG4gIHRocm93IEVycm9yKFxuICAgICdjcmVhdGUtcmVhY3QtY2xhc3MgY291bGQgbm90IGZpbmQgdGhlIFJlYWN0IG9iamVjdC4gSWYgeW91IGFyZSB1c2luZyBzY3JpcHQgdGFncywgJyArXG4gICAgICAnbWFrZSBzdXJlIHRoYXQgUmVhY3QgaXMgYmVpbmcgbG9hZGVkIGJlZm9yZSBjcmVhdGUtcmVhY3QtY2xhc3MuJ1xuICApO1xufVxuXG4vLyBIYWNrIHRvIGdyYWIgTm9vcFVwZGF0ZVF1ZXVlIGZyb20gaXNvbW9ycGhpYyBSZWFjdFxudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0gbmV3IFJlYWN0LkNvbXBvbmVudCgpLnVwZGF0ZXI7XG5cbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgUmVhY3QuQ29tcG9uZW50LFxuICBSZWFjdC5pc1ZhbGlkRWxlbWVudCxcbiAgUmVhY3ROb29wVXBkYXRlUXVldWVcbik7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBcbiAqL1xuXG5mdW5jdGlvbiBtYWtlRW1wdHlGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gYXJnO1xuICB9O1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWNjZXB0cyBhbmQgZGlzY2FyZHMgaW5wdXRzOyBpdCBoYXMgbm8gc2lkZSBlZmZlY3RzLiBUaGlzIGlzXG4gKiBwcmltYXJpbHkgdXNlZnVsIGlkaW9tYXRpY2FsbHkgZm9yIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGVuZHBvaW50cyB3aGljaFxuICogYWx3YXlzIG5lZWQgdG8gYmUgY2FsbGFibGUsIHNpbmNlIEpTIGxhY2tzIGEgbnVsbC1jYWxsIGlkaW9tIGFsYSBDb2NvYS5cbiAqL1xudmFyIGVtcHR5RnVuY3Rpb24gPSBmdW5jdGlvbiBlbXB0eUZ1bmN0aW9uKCkge307XG5cbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnMgPSBtYWtlRW1wdHlGdW5jdGlvbjtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNGYWxzZSA9IG1ha2VFbXB0eUZ1bmN0aW9uKGZhbHNlKTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNUcnVlID0gbWFrZUVtcHR5RnVuY3Rpb24odHJ1ZSk7XG5lbXB0eUZ1bmN0aW9uLnRoYXRSZXR1cm5zTnVsbCA9IG1ha2VFbXB0eUZ1bmN0aW9uKG51bGwpO1xuZW1wdHlGdW5jdGlvbi50aGF0UmV0dXJuc1RoaXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmVtcHR5RnVuY3Rpb24udGhhdFJldHVybnNBcmd1bWVudCA9IGZ1bmN0aW9uIChhcmcpIHtcbiAgcmV0dXJuIGFyZztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZW1wdHlGdW5jdGlvbjsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZW1wdHlGdW5jdGlvbiA9IHJlcXVpcmUoJy4vZW1wdHlGdW5jdGlvbicpO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGVtcHR5RnVuY3Rpb247XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0KSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkge31cbiAgfTtcblxuICB3YXJuaW5nID0gZnVuY3Rpb24gd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCkge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdgd2FybmluZyhjb25kaXRpb24sIGZvcm1hdCwgLi4uYXJncylgIHJlcXVpcmVzIGEgd2FybmluZyAnICsgJ21lc3NhZ2UgYXJndW1lbnQnKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0LmluZGV4T2YoJ0ZhaWxlZCBDb21wb3NpdGUgcHJvcFR5cGU6ICcpID09PSAwKSB7XG4gICAgICByZXR1cm47IC8vIElnbm9yZSBDb21wb3NpdGVDb21wb25lbnQgcHJvcHR5cGUgY2hlY2suXG4gICAgfVxuXG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nLmFwcGx5KHVuZGVmaW5lZCwgW2Zvcm1hdF0uY29uY2F0KGFyZ3MpKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gd2FybmluZzsiLCIvKlxub2JqZWN0LWFzc2lnblxuKGMpIFNpbmRyZSBTb3JodXNcbkBsaWNlbnNlIE1JVFxuKi9cblxuJ3VzZSBzdHJpY3QnO1xuLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuZnVuY3Rpb24gdG9PYmplY3QodmFsKSB7XG5cdGlmICh2YWwgPT09IG51bGwgfHwgdmFsID09PSB1bmRlZmluZWQpIHtcblx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdPYmplY3QuYXNzaWduIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBudWxsIG9yIHVuZGVmaW5lZCcpO1xuXHR9XG5cblx0cmV0dXJuIE9iamVjdCh2YWwpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VOYXRpdmUoKSB7XG5cdHRyeSB7XG5cdFx0aWYgKCFPYmplY3QuYXNzaWduKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRGV0ZWN0IGJ1Z2d5IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyIGluIG9sZGVyIFY4IHZlcnNpb25zLlxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9NDExOFxuXHRcdHZhciB0ZXN0MSA9IG5ldyBTdHJpbmcoJ2FiYycpOyAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctd3JhcHBlcnNcblx0XHR0ZXN0MVs1XSA9ICdkZSc7XG5cdFx0aWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRlc3QxKVswXSA9PT0gJzUnKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MzA1NlxuXHRcdHZhciB0ZXN0MiA9IHt9O1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuXHRcdFx0dGVzdDJbJ18nICsgU3RyaW5nLmZyb21DaGFyQ29kZShpKV0gPSBpO1xuXHRcdH1cblx0XHR2YXIgb3JkZXIyID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGVzdDIpLm1hcChmdW5jdGlvbiAobikge1xuXHRcdFx0cmV0dXJuIHRlc3QyW25dO1xuXHRcdH0pO1xuXHRcdGlmIChvcmRlcjIuam9pbignJykgIT09ICcwMTIzNDU2Nzg5Jykge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMwNTZcblx0XHR2YXIgdGVzdDMgPSB7fTtcblx0XHQnYWJjZGVmZ2hpamtsbW5vcHFyc3QnLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uIChsZXR0ZXIpIHtcblx0XHRcdHRlc3QzW2xldHRlcl0gPSBsZXR0ZXI7XG5cdFx0fSk7XG5cdFx0aWYgKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIHRlc3QzKSkuam9pbignJykgIT09XG5cdFx0XHRcdCdhYmNkZWZnaGlqa2xtbm9wcXJzdCcpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gV2UgZG9uJ3QgZXhwZWN0IGFueSBvZiB0aGUgYWJvdmUgdG8gdGhyb3csIGJ1dCBiZXR0ZXIgdG8gYmUgc2FmZS5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaG91bGRVc2VOYXRpdmUoKSA/IE9iamVjdC5hc3NpZ24gOiBmdW5jdGlvbiAodGFyZ2V0LCBzb3VyY2UpIHtcblx0dmFyIGZyb207XG5cdHZhciB0byA9IHRvT2JqZWN0KHRhcmdldCk7XG5cdHZhciBzeW1ib2xzO1xuXG5cdGZvciAodmFyIHMgPSAxOyBzIDwgYXJndW1lbnRzLmxlbmd0aDsgcysrKSB7XG5cdFx0ZnJvbSA9IE9iamVjdChhcmd1bWVudHNbc10pO1xuXG5cdFx0Zm9yICh2YXIga2V5IGluIGZyb20pIHtcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZyb20sIGtleSkpIHtcblx0XHRcdFx0dG9ba2V5XSA9IGZyb21ba2V5XTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG5cdFx0XHRzeW1ib2xzID0gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGZyb20pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzeW1ib2xzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlLmNhbGwoZnJvbSwgc3ltYm9sc1tpXSkpIHtcblx0XHRcdFx0XHR0b1tzeW1ib2xzW2ldXSA9IGZyb21bc3ltYm9sc1tpXV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gdG87XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG5cbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbi8qKlxuICogQXNzZXJ0IHRoYXQgdGhlIHZhbHVlcyBtYXRjaCB3aXRoIHRoZSB0eXBlIHNwZWNzLlxuICogRXJyb3IgbWVzc2FnZXMgYXJlIG1lbW9yaXplZCBhbmQgd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHR5cGVTcGVjcyBNYXAgb2YgbmFtZSB0byBhIFJlYWN0UHJvcFR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB2YWx1ZXMgUnVudGltZSB2YWx1ZXMgdGhhdCBuZWVkIHRvIGJlIHR5cGUtY2hlY2tlZFxuICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIGUuZy4gXCJwcm9wXCIsIFwiY29udGV4dFwiLCBcImNoaWxkIGNvbnRleHRcIlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbXBvbmVudE5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGZvciBlcnJvciBtZXNzYWdlcy5cbiAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBnZXRTdGFjayBSZXR1cm5zIHRoZSBjb21wb25lbnQgc3RhY2suXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGdldFN0YWNrKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKHR5cGVTcGVjcy5oYXNPd25Qcm9wZXJ0eSh0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGlmICh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciBlcnIgPSBFcnJvcihcbiAgICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICtcbiAgICAgICAgICAgICAgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICsgJ2AuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICYmICEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAnICtcbiAgICAgICAgICAgIGxvY2F0aW9uICsgJyBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJyArIHR5cGVvZiBlcnJvciArICcuICcgK1xuICAgICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgK1xuICAgICAgICAgICAgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArXG4gICAgICAgICAgICAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLidcbiAgICAgICAgICApXG5cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yLm1lc3NhZ2VdID0gdHJ1ZTtcblxuICAgICAgICAgIHZhciBzdGFjayA9IGdldFN0YWNrID8gZ2V0U3RhY2soKSA6ICcnO1xuXG4gICAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICAgJ0ZhaWxlZCAnICsgbG9jYXRpb24gKyAnIHR5cGU6ICcgKyBlcnJvci5tZXNzYWdlICsgKHN0YWNrICE9IG51bGwgPyBzdGFjayA6ICcnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjaGVja1Byb3BUeXBlcztcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgYXNzaWduID0gcmVxdWlyZSgnb2JqZWN0LWFzc2lnbicpO1xuXG52YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xudmFyIGNoZWNrUHJvcFR5cGVzID0gcmVxdWlyZSgnLi9jaGVja1Byb3BUeXBlcycpO1xuXG52YXIgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24oKSB7fTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgcHJpbnRXYXJuaW5nID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgKyB0ZXh0O1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAvLyAtLS0gV2VsY29tZSB0byBkZWJ1Z2dpbmcgUmVhY3QgLS0tXG4gICAgICAvLyBUaGlzIGVycm9yIHdhcyB0aHJvd24gYXMgYSBjb252ZW5pZW5jZSBzbyB0aGF0IHlvdSBjYW4gdXNlIHRoaXMgc3RhY2tcbiAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKHgpIHt9XG4gIH07XG59XG5cbmZ1bmN0aW9uIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwoKSB7XG4gIHJldHVybiBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gIC8qIGdsb2JhbCBTeW1ib2wgKi9cbiAgdmFyIElURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xuICB2YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7IC8vIEJlZm9yZSBTeW1ib2wgc3BlYy5cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgaXRlcmF0b3IgbWV0aG9kIGZ1bmN0aW9uIGNvbnRhaW5lZCBvbiB0aGUgaXRlcmFibGUgb2JqZWN0LlxuICAgKlxuICAgKiBCZSBzdXJlIHRvIGludm9rZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgaXRlcmFibGUgYXMgY29udGV4dDpcbiAgICpcbiAgICogICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihteUl0ZXJhYmxlKTtcbiAgICogICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAqICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChteUl0ZXJhYmxlKTtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqXG4gICAqIEBwYXJhbSB7P29iamVjdH0gbWF5YmVJdGVyYWJsZVxuICAgKiBAcmV0dXJuIHs/ZnVuY3Rpb259XG4gICAqL1xuICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IG1heWJlSXRlcmFibGUgJiYgKElURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yRm47XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENvbGxlY3Rpb24gb2YgbWV0aG9kcyB0aGF0IGFsbG93IGRlY2xhcmF0aW9uIGFuZCB2YWxpZGF0aW9uIG9mIHByb3BzIHRoYXQgYXJlXG4gICAqIHN1cHBsaWVkIHRvIFJlYWN0IGNvbXBvbmVudHMuIEV4YW1wbGUgdXNhZ2U6XG4gICAqXG4gICAqICAgdmFyIFByb3BzID0gcmVxdWlyZSgnUmVhY3RQcm9wVHlwZXMnKTtcbiAgICogICB2YXIgTXlBcnRpY2xlID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgKiAgICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBwcm9wIG5hbWVkIFwiZGVzY3JpcHRpb25cIi5cbiAgICogICAgICAgZGVzY3JpcHRpb246IFByb3BzLnN0cmluZyxcbiAgICpcbiAgICogICAgICAgLy8gQSByZXF1aXJlZCBlbnVtIHByb3AgbmFtZWQgXCJjYXRlZ29yeVwiLlxuICAgKiAgICAgICBjYXRlZ29yeTogUHJvcHMub25lT2YoWydOZXdzJywnUGhvdG9zJ10pLmlzUmVxdWlyZWQsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcHJvcCBuYW1lZCBcImRpYWxvZ1wiIHRoYXQgcmVxdWlyZXMgYW4gaW5zdGFuY2Ugb2YgRGlhbG9nLlxuICAgKiAgICAgICBkaWFsb2c6IFByb3BzLmluc3RhbmNlT2YoRGlhbG9nKS5pc1JlcXVpcmVkXG4gICAqICAgICB9LFxuICAgKiAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHsgLi4uIH1cbiAgICogICB9KTtcbiAgICpcbiAgICogQSBtb3JlIGZvcm1hbCBzcGVjaWZpY2F0aW9uIG9mIGhvdyB0aGVzZSBtZXRob2RzIGFyZSB1c2VkOlxuICAgKlxuICAgKiAgIHR5cGUgOj0gYXJyYXl8Ym9vbHxmdW5jfG9iamVjdHxudW1iZXJ8c3RyaW5nfG9uZU9mKFsuLi5dKXxpbnN0YW5jZU9mKC4uLilcbiAgICogICBkZWNsIDo9IFJlYWN0UHJvcFR5cGVzLnt0eXBlfSguaXNSZXF1aXJlZCk/XG4gICAqXG4gICAqIEVhY2ggYW5kIGV2ZXJ5IGRlY2xhcmF0aW9uIHByb2R1Y2VzIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2FtZSBzaWduYXR1cmUuIFRoaXNcbiAgICogYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjdXN0b20gdmFsaWRhdGlvbiBmdW5jdGlvbnMuIEZvciBleGFtcGxlOlxuICAgKlxuICAgKiAgdmFyIE15TGluayA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgcHJvcFR5cGVzOiB7XG4gICAqICAgICAgLy8gQW4gb3B0aW9uYWwgc3RyaW5nIG9yIFVSSSBwcm9wIG5hbWVkIFwiaHJlZlwiLlxuICAgKiAgICAgIGhyZWY6IGZ1bmN0aW9uKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgKiAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICogICAgICAgIGlmIChwcm9wVmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgcHJvcFZhbHVlICE9PSAnc3RyaW5nJyAmJlxuICAgKiAgICAgICAgICAgICEocHJvcFZhbHVlIGluc3RhbmNlb2YgVVJJKSkge1xuICAgKiAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgKiAgICAgICAgICAgICdFeHBlY3RlZCBhIHN0cmluZyBvciBhbiBVUkkgZm9yICcgKyBwcm9wTmFtZSArICcgaW4gJyArXG4gICAqICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgKiAgICAgICAgICApO1xuICAgKiAgICAgICAgfVxuICAgKiAgICAgIH1cbiAgICogICAgfSxcbiAgICogICAgcmVuZGVyOiBmdW5jdGlvbigpIHsuLi59XG4gICAqICB9KTtcbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuXG4gIHZhciBBTk9OWU1PVVMgPSAnPDxhbm9ueW1vdXM+Pic7XG5cbiAgLy8gSW1wb3J0YW50IVxuICAvLyBLZWVwIHRoaXMgbGlzdCBpbiBzeW5jIHdpdGggcHJvZHVjdGlvbiB2ZXJzaW9uIGluIGAuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcy5qc2AuXG4gIHZhciBSZWFjdFByb3BUeXBlcyA9IHtcbiAgICBhcnJheTogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2FycmF5JyksXG4gICAgYm9vbDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Jvb2xlYW4nKSxcbiAgICBmdW5jOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignZnVuY3Rpb24nKSxcbiAgICBudW1iZXI6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdudW1iZXInKSxcbiAgICBvYmplY3Q6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdvYmplY3QnKSxcbiAgICBzdHJpbmc6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzdHJpbmcnKSxcbiAgICBzeW1ib2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdzeW1ib2wnKSxcblxuICAgIGFueTogY3JlYXRlQW55VHlwZUNoZWNrZXIoKSxcbiAgICBhcnJheU9mOiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIsXG4gICAgZWxlbWVudDogY3JlYXRlRWxlbWVudFR5cGVDaGVja2VyKCksXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyLFxuICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuICB9O1xuXG4gIC8qKlxuICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgKi9cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICAvKipcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcbiAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gJyc7XG4gIH1cbiAgLy8gTWFrZSBgaW5zdGFuY2VvZiBFcnJvcmAgc3RpbGwgd29yayBmb3IgcmV0dXJuZWQgZXJyb3JzLlxuICBQcm9wVHlwZUVycm9yLnByb3RvdHlwZSA9IEVycm9yLnByb3RvdHlwZTtcblxuICBmdW5jdGlvbiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSkge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGUgPSB7fTtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA9IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrVHlwZShpc1JlcXVpcmVkLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIHNlY3JldCkge1xuICAgICAgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudE5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgICBpZiAoc2VjcmV0ICE9PSBSZWFjdFByb3BUeXBlc1NlY3JldCkge1xuICAgICAgICBpZiAodGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAgICAgICAgIC8vIE5ldyBiZWhhdmlvciBvbmx5IGZvciB1c2VycyBvZiBgcHJvcC10eXBlc2AgcGFja2FnZVxuICAgICAgICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoXG4gICAgICAgICAgICAnQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gJyArXG4gICAgICAgICAgICAnVXNlIGBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoKWAgdG8gY2FsbCB0aGVtLiAnICtcbiAgICAgICAgICAgICdSZWFkIG1vcmUgYXQgaHR0cDovL2ZiLm1lL3VzZS1jaGVjay1wcm9wLXR5cGVzJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gT2xkIGJlaGF2aW9yIGZvciBwZW9wbGUgdXNpbmcgUmVhY3QuUHJvcFR5cGVzXG4gICAgICAgICAgdmFyIGNhY2hlS2V5ID0gY29tcG9uZW50TmFtZSArICc6JyArIHByb3BOYW1lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gJiZcbiAgICAgICAgICAgIC8vIEF2b2lkIHNwYW1taW5nIHRoZSBjb25zb2xlIGJlY2F1c2UgdGhleSBhcmUgb2Z0ZW4gbm90IGFjdGlvbmFibGUgZXhjZXB0IGZvciBsaWIgYXV0aG9yc1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQgPCAzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAgICdZb3UgYXJlIG1hbnVhbGx5IGNhbGxpbmcgYSBSZWFjdC5Qcm9wVHlwZXMgdmFsaWRhdGlvbiAnICtcbiAgICAgICAgICAgICAgJ2Z1bmN0aW9uIGZvciB0aGUgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBwcm9wIG9uIGAnICsgY29tcG9uZW50TmFtZSAgKyAnYC4gVGhpcyBpcyBkZXByZWNhdGVkICcgK1xuICAgICAgICAgICAgICAnYW5kIHdpbGwgdGhyb3cgaW4gdGhlIHN0YW5kYWxvbmUgYHByb3AtdHlwZXNgIHBhY2thZ2UuICcgK1xuICAgICAgICAgICAgICAnWW91IG1heSBiZSBzZWVpbmcgdGhpcyB3YXJuaW5nIGR1ZSB0byBhIHRoaXJkLXBhcnR5IFByb3BUeXBlcyAnICtcbiAgICAgICAgICAgICAgJ2xpYnJhcnkuIFNlZSBodHRwczovL2ZiLm1lL3JlYWN0LXdhcm5pbmctZG9udC1jYWxsLXByb3B0eXBlcyAnICsgJ2ZvciBkZXRhaWxzLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZVtjYWNoZUtleV0gPSB0cnVlO1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVXYXJuaW5nQ291bnQrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICBpZiAoaXNSZXF1aXJlZCkge1xuICAgICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgJyArICgnaW4gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYG51bGxgLicpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdUaGUgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGlzIG1hcmtlZCBhcyByZXF1aXJlZCBpbiAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgdW5kZWZpbmVkYC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgY2hhaW5lZENoZWNrVHlwZSA9IGNoZWNrVHlwZS5iaW5kKG51bGwsIGZhbHNlKTtcbiAgICBjaGFpbmVkQ2hlY2tUeXBlLmlzUmVxdWlyZWQgPSBjaGVja1R5cGUuYmluZChudWxsLCB0cnVlKTtcblxuICAgIHJldHVybiBjaGFpbmVkQ2hlY2tUeXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoZXhwZWN0ZWRUeXBlKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBzZWNyZXQpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgLy8gYHByb3BWYWx1ZWAgYmVpbmcgaW5zdGFuY2Ugb2YsIHNheSwgZGF0ZS9yZWdleHAsIHBhc3MgdGhlICdvYmplY3QnXG4gICAgICAgIC8vIGNoZWNrLCBidXQgd2UgY2FuIG9mZmVyIGEgbW9yZSBwcmVjaXNlIGVycm9yIG1lc3NhZ2UgaGVyZSByYXRoZXIgdGhhblxuICAgICAgICAvLyAnb2YgdHlwZSBgb2JqZWN0YCcuXG4gICAgICAgIHZhciBwcmVjaXNlVHlwZSA9IGdldFByZWNpc2VUeXBlKHByb3BWYWx1ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJlY2lzZVR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgJykgKyAoJ2AnICsgZXhwZWN0ZWRUeXBlICsgJ2AuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBbnlUeXBlQ2hlY2tlcigpIHtcbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIoZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBcnJheU9mVHlwZUNoZWNrZXIodHlwZUNoZWNrZXIpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdHlwZUNoZWNrZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdQcm9wZXJ0eSBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIGNvbXBvbmVudCBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCBoYXMgaW52YWxpZCBQcm9wVHlwZSBub3RhdGlvbiBpbnNpZGUgYXJyYXlPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBhcnJheS4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BWYWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXJyb3IgPSB0eXBlQ2hlY2tlcihwcm9wVmFsdWUsIGksIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUgKyAnWycgKyBpICsgJ10nLCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBzaW5nbGUgUmVhY3RFbGVtZW50LicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV4cGVjdGVkVmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpcyhwcm9wVmFsdWUsIGV4cGVjdGVkVmFsdWVzW2ldKSkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB2YWx1ZXNTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShleHBlY3RlZFZhbHVlcyk7XG4gICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHZhbHVlIGAnICsgcHJvcFZhbHVlICsgJ2AgJyArICgnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIG9uZSBvZiAnICsgdmFsdWVzU3RyaW5nICsgJy4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIG9iamVjdE9mLicpO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICBpZiAocHJvcFR5cGUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGFuIG9iamVjdC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gcHJvcFZhbHVlKSB7XG4gICAgICAgIGlmIChwcm9wVmFsdWUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLiBFeHBlY3RlZCBhbiBhcnJheSBvZiBjaGVjayBmdW5jdGlvbnMsIGJ1dCAnICtcbiAgICAgICAgICAncmVjZWl2ZWQgJyArIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSArICcgYXQgaW5kZXggJyArIGkgKyAnLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBhcnJheU9mVHlwZUNoZWNrZXJzW2ldO1xuICAgICAgICBpZiAoY2hlY2tlcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIFJlYWN0UHJvcFR5cGVzU2VjcmV0KSA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYC4nKSk7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVOb2RlQ2hlY2tlcigpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIGlmICghaXNOb2RlKHByb3BzW3Byb3BOYW1lXSkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYSBSZWFjdE5vZGUuJykpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyaWN0U2hhcGVUeXBlQ2hlY2tlcihzaGFwZVR5cGVzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICsgKCdzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJykpO1xuICAgICAgfVxuICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBhbGwga2V5cyBpbiBjYXNlIHNvbWUgYXJlIHJlcXVpcmVkIGJ1dCBtaXNzaW5nIGZyb21cbiAgICAgIC8vIHByb3BzLlxuICAgICAgdmFyIGFsbEtleXMgPSBhc3NpZ24oe30sIHByb3BzW3Byb3BOYW1lXSwgc2hhcGVUeXBlcyk7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYWxsS2V5cykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGtleSBgJyArIGtleSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLicgK1xuICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcbiAgICAgICAgICAgICdcXG5WYWxpZCBrZXlzOiAnICsgIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHNoYXBlVHlwZXMpLCBudWxsLCAnICAnKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlcihwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSArICcuJyArIGtleSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc05vZGUocHJvcFZhbHVlKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgcHJvcFZhbHVlKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiAhcHJvcFZhbHVlO1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBwcm9wVmFsdWUuZXZlcnkoaXNOb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcFZhbHVlID09PSBudWxsIHx8IGlzVmFsaWRFbGVtZW50KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihwcm9wVmFsdWUpO1xuICAgICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChwcm9wVmFsdWUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuICAgICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBwcm9wVmFsdWUuZW50cmllcykge1xuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICBpZiAoIWlzTm9kZShzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJdGVyYXRvciB3aWxsIHByb3ZpZGUgZW50cnkgW2ssdl0gdHVwbGVzIHJhdGhlciB0aGFuIHZhbHVlcy5cbiAgICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05vZGUoZW50cnlbMV0pKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzU3ltYm9sKHByb3BUeXBlLCBwcm9wVmFsdWUpIHtcbiAgICAvLyBOYXRpdmUgU3ltYm9sLlxuICAgIGlmIChwcm9wVHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG4gICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuICAgIH1cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cbiAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgIGNhc2UgJ3JlZ2V4cCc6XG4gICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIFN5bWJvbC5mb3IgJiZcbiAgICBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykpIHx8XG4gICAgMHhlYWM3O1xuXG4gIHZhciBpc1ZhbGlkRWxlbWVudCA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJlxuICAgICAgb2JqZWN0ICE9PSBudWxsICYmXG4gICAgICBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKGlzVmFsaWRFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsImltcG9ydCAnLi4vLi4vbGliL2NrZWRpdG9yL2NrZWRpdG9yLmpzJztcblxuaW1wb3J0ICogYXMgQWxsb3lFZGl0b3IgZnJvbSAnLi4vLi4vc3JjL2FkYXB0ZXIvbWFpbi5qcyc7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHdpbmRvdy5DS0VESVRPUi5kaXNhYmxlQXV0b0lubGluZSA9IHRydWU7XG4gICAgd2luZG93LkFsbG95RWRpdG9yID0gQWxsb3lFZGl0b3I7XG59XG5cbmV4cG9ydCB7IEFsbG95RWRpdG9yIH07XG5leHBvcnQgZGVmYXVsdCBBbGxveUVkaXRvcjtcbiIsImltcG9ydCAnLi4vY29yZSc7XG5pbXBvcnQgJy4uL3BsdWdpbnMnO1xuXG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvdWlicmlkZ2UnO1xuXG5pbXBvcnQgZXh0ZW5kIGZyb20gJy4uL29vcC9vb3AnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi4vb29wL2xhbmcnO1xuaW1wb3J0IEJhc2UgZnJvbSAnLi4vb29wL2Jhc2UnO1xuaW1wb3J0IFNlbGVjdGlvbnMgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb25zJztcbmltcG9ydCBVSSBmcm9tICcuLi9jb21wb25lbnRzL21haW4uanN4JztcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIEFsbG95RWRpdG9yIG1haW4gY2xhc3MuIENyZWF0ZXMgaW5zdGFuY2Ugb2YgdGhlIGVkaXRvciBhbmQgcHJvdmlkZXMgdGhlIHVzZXIgY29uZmlndXJhdGlvblxuICogdG8gdGhlIFVJLlxuICpcbiAqIEBjbGFzcyBDb3JlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQ29yZShjb25maWcpIHtcbiAgICBDb3JlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBjb25maWcpO1xufVxuXG5leHRlbmQoQ29yZSwgQmFzZSwge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVyIGxpZmVjeWNsZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIEFsbG95RWRpdG9yIGNsYXNzLiBDcmVhdGVzIGEgQ0tFZGl0b3JcbiAgICAgKiBpbnN0YW5jZSwgcGFzc2luZyBpdCB0aGUgcHJvdmlkZWQgY29uZmlndXJhdGlvbiBhdHRyaWJ1dGVzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBpbml0aWFsaXplclxuICAgICAqIEBwYXJhbSBjb25maWcge09iamVjdH0gQ29uZmlndXJhdGlvbiBvYmplY3QgbGl0ZXJhbCBmb3IgdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICBpbml0aWFsaXplcjogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5nZXQoJ3NyY05vZGUnKTtcblxuICAgICAgICBpZiAodGhpcy5nZXQoJ2VuYWJsZUNvbnRlbnRFZGl0YWJsZScpKSB7XG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ3RydWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlZGl0b3IgPSBDS0VESVRPUi5pbmxpbmUobm9kZSk7XG5cbiAgICAgICAgZWRpdG9yLmNvbmZpZy5hbGxvd2VkQ29udGVudCA9IHRoaXMuZ2V0KCdhbGxvd2VkQ29udGVudCcpO1xuXG4gICAgICAgIGVkaXRvci5jb25maWcudG9vbGJhcnMgPSB0aGlzLmdldCgndG9vbGJhcnMnKTtcblxuICAgICAgICBlZGl0b3IuY29uZmlnLnJlbW92ZVBsdWdpbnMgPSB0aGlzLmdldCgncmVtb3ZlUGx1Z2lucycpO1xuXG4gICAgICAgIGVkaXRvci5jb25maWcuZXh0cmFQbHVnaW5zID0gdGhpcy5nZXQoJ2V4dHJhUGx1Z2lucycpO1xuXG4gICAgICAgIGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyA9IHRoaXMuZ2V0KCdwbGFjZWhvbGRlckNsYXNzJyk7XG5cbiAgICAgICAgZWRpdG9yLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUmVtb3ZlU3R5bGVzID0gZmFsc2U7XG4gICAgICAgIGVkaXRvci5jb25maWcucGFzdGVGcm9tV29yZFJlbW92ZUZvbnRTdHlsZXMgPSBmYWxzZTtcblxuICAgICAgICBlZGl0b3IuY29uZmlnLnNlbGVjdGlvbktleXN0cm9rZXMgPSB0aGlzLmdldCgnc2VsZWN0aW9uS2V5c3Ryb2tlcycpO1xuXG4gICAgICAgIExhbmcubWl4KGVkaXRvci5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKENLRURJVE9SLmVudi5pZSAmJiAhQ0tFRElUT1IuZW52LmVkZ2UpIHtcbiAgICAgICAgICAgIGVkaXRvci5jb25maWcuZXh0cmFQbHVnaW5zID0gZWRpdG9yLmNvbmZpZy5leHRyYVBsdWdpbnMucmVwbGFjZSgnYWVfZHJhZ3Jlc2l6ZScsICdhZV9kcmFncmVzaXplX2llJyk7XG4gICAgICAgICAgICBlZGl0b3IuY29uZmlnLnJlbW92ZVBsdWdpbnMgPSBlZGl0b3IuY29uZmlnLnJlbW92ZVBsdWdpbnMucmVwbGFjZSgnYWVfZHJhZ3Jlc2l6ZScsICdhZV9kcmFncmVzaXplX2llJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRSZWFkT25seUxpbmtDbGlja0xpc3RlbmVyKGVkaXRvcik7XG5cbiAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICBlZGl0YWJsZS5hZGRDbGFzcygnYWUtZWRpdGFibGUnKTtcblxuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuX2VkaXRvciA9IGVkaXRvcjtcblxuICAgICAgICBBbGxveUVkaXRvci5sb2FkTGFuZ3VhZ2VSZXNvdXJjZXModGhpcy5fcmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3RydWN0b3IgbGlmZWN5Y2xlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgQWxsb3lFZHRvciBjbGFzcy4gRGVzdHJveXMgdGhlIENLRWRpdG9yXG4gICAgICogaW5zdGFuY2UgYW5kIGRlc3Ryb3lzIGFsbCBjcmVhdGVkIHRvb2xiYXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBkZXN0cnVjdG9yXG4gICAgICovXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VkaXRvclVJRWxlbWVudCkge1xuICAgICAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lZGl0b3JVSUVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fZWRpdG9yVUlFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZWRpdG9yVUlFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgaWYgKG5hdGl2ZUVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gbmF0aXZlRWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIGVkaXRhYmxlLnJlbW92ZUNsYXNzKCdhZS1lZGl0YWJsZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdlbmFibGVDb250ZW50RWRpdGFibGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldCgnc3JjTm9kZScpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jbGVhclNlbGVjdGlvbnMoKTtcblxuICAgICAgICAgICAgbmF0aXZlRWRpdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHNlbGVjdGlvbnMgZnJvbSB3aW5kb3cgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9jbGVhclNlbGVjdGlvbnNcbiAgICAgKi9cbiAgICBfY2xlYXJTZWxlY3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUVkaXRvciA9IHRoaXMuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIGlzTVNTZWxlY3Rpb24gPSB0eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbiAhPSAnZnVuY3Rpb24nO1xuXG4gICAgICAgIGlmIChpc01TU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBuYXRpdmVFZGl0b3IuZG9jdW1lbnQuJC5zZWxlY3Rpb24uZW1wdHkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hdGl2ZUVkaXRvci5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBzZXQgZGVmYXVsdCBsaW5rIGJlaGF2aW9yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9hZGRSZWFkT25seUxpbmtDbGlja0xpc3RlbmVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvclxuICAgICAqL1xuICAgIF9hZGRSZWFkT25seUxpbmtDbGlja0xpc3RlbmVyOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgZWRpdG9yLmVkaXRhYmxlKCkub24oJ2NsaWNrJywgdGhpcy5fZGVmYXVsdFJlYWRPbmx5Q2xpY2tGbiwgdGhpcywge1xuICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3JcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbiBgY2xpY2tgIGV2ZW50IHdoZW4gdGhlIGVkaXRvciBpcyBpbiByZWFkIG9ubHkgbW9kZS4gTmF2aWdhdGVzIHRvIGxpbmsncyBVUkwgb3Igb3BlbnNcbiAgICAgKiB0aGUgbGluayBpbiBhIG5ldyB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBldmVudCByZWFkT25seUNsaWNrXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX2RlZmF1bHRSZWFkT25seUNsaWNrRm5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIGZpcmVkIGBjbGlja2AgZXZlbnQgcGF5bG9hZFxuICAgICAqL1xuICAgIF9kZWZhdWx0UmVhZE9ubHlDbGlja0ZuOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgbW91c2VFdmVudCA9IGV2ZW50LmRhdGEuJDtcbiAgICAgICAgdmFyIGhhc0N0cmxLZXkgPSBtb3VzZUV2ZW50LmN0cmxLZXkgfHwgbW91c2VFdmVudC5tZXRhS2V5O1xuICAgICAgICB2YXIgc2hvdWxkT3BlbiA9IHRoaXMuX2VkaXRvci5jb25maWcucmVhZE9ubHkgfHwgaGFzQ3RybEtleTtcblxuICAgICAgICBtb3VzZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFzaG91bGRPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvci5lZGl0YWJsZSgpLmVkaXRvci5maXJlKCdyZWFkT25seUNsaWNrJywgZXZlbnQuZGF0YSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgY2tFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChldmVudC5kYXRhLmdldFRhcmdldCgpLCB0aGlzKTtcbiAgICAgICAgICAgIHZhciBsaW5rID0gY2tFbGVtZW50Lmxhc3RFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgIHZhciBocmVmID0gbGluay4kLmF0dHJpYnV0ZXMuaHJlZiA/IGxpbmsuJC5hdHRyaWJ1dGVzLmhyZWYudmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBoYXNDdHJsS2V5ID8gJ19ibGFuaycgOiBsaW5rLiQuYXR0cmlidXRlcy50YXJnZXQgPyBsaW5rLiQuYXR0cmlidXRlcy50YXJnZXQudmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlZGlyZWN0TGluayhocmVmLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbmF0aXZlIENLRWRpdG9yIGluc3RhbmNlLiBIYXZpbmcgdGhpcywgdGhlIGRldmVsb3BlciBtYXkgdXNlIHRoZSBBUEkgb2YgQ0tFZGl0b3IgT09UQi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX2dldE5hdGl2ZUVkaXRvclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgQ0tFZGl0b3IuXG4gICAgICovXG4gICAgX2dldE5hdGl2ZUVkaXRvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3I7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlZGlyZWN0cyB0aGUgYnJvd3NlciB0byBhIGdpdmVuIGxpbmtcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX3JlZGlyZWN0TGlua1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBocmVmIFRoZSBocmVmIHRvIHRha2UgdGhlIGJyb3dzZXIgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHRhcmdldCBTcGVjaWZpZXMgd2hlcmUgdG8gZGlzcGxheSB0aGUgbGlua1xuICAgICAqL1xuICAgIF9yZWRpcmVjdExpbms6IGZ1bmN0aW9uKGhyZWYsIHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ICYmIGhyZWYpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGhyZWYsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaHJlZikge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNwZWNpZmllZCBmcm9tIHRoZSB1c2VyIHRvb2xiYXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfcmVuZGVyVUlcbiAgICAgKi9cbiAgICBfcmVuZGVyVUk6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdmFyIGVkaXRvclVJRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZWRpdG9yVUlFbGVtZW50LmNsYXNzTmFtZSA9ICdhZS11aSc7XG5cbiAgICAgICAgICAgIHZhciB1aU5vZGUgPSB0aGlzLmdldCgndWlOb2RlJykgfHwgZG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgICAgdWlOb2RlLmFwcGVuZENoaWxkKGVkaXRvclVJRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX21haW5VSSA9IFJlYWN0RE9NLnJlbmRlcig8VUlcbiAgICAgICAgICAgICAgICBlZGl0b3I9e3RoaXN9XG4gICAgICAgICAgICAgICAgZXZlbnRzRGVsYXk9e3RoaXMuZ2V0KCdldmVudHNEZWxheScpfVxuICAgICAgICAgICAgICAgIHRvb2xiYXJzPXt0aGlzLmdldCgndG9vbGJhcnMnKX0gLz4sIGVkaXRvclVJRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2VkaXRvclVJRWxlbWVudCA9IGVkaXRvclVJRWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5nZXQoJ25hdGl2ZUVkaXRvcicpLmZpcmUoJ3VpUmVhZHknKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJucyBhbiBIVE1MIGVsZW1lbnQgZnJvbSB0aGUgcGFzc2VkIHZhbHVlLiBJZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGEgc3RyaW5nLCBpdCBzaG91bGQgYmVcbiAgICAgKiB0aGUgSWQgb2YgdGhlIGVsZW1lbnQgd2hpY2ggaGF2ZSB0byBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAqIElmIGFuIEhUTUwgRWxlbWVudCBpcyBwYXNzZWQsIHRoZSBlbGVtZW50IGl0c2VsZiB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIF90b0VsZW1lbnRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHshKFN0cmluZ3xIVE1MRWxlbWVudCl9IHZhbHVlIFN0cmluZywgd2hpY2ggaGF2ZSB0byBjb3JyZXNwb25kIHRvIGFuIEhUTUwgZWxlbWVudCBmcm9tIHRoZSBET00sXG4gICAgICogb3IgdGhlIEhUTUwgZWxlbWVudCBpdHNlbGYuIElmIElkIGlzIHBhc3NlZCwgdGhlIEhUTUwgZWxlbWVudCB3aWxsIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBET00uXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEFuIEhUTUwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBfdG9FbGVtZW50OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoTGFuZy5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIGFsbG93ZWQgY29udGVudCBhdHRyaWJ1dGUuIExvb2tcbiAgICAgKiBbaGVyZV0oaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5jb25maWctY2ZnLWFsbG93ZWRDb250ZW50KSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVcbiAgICAgKiBzdXBwb3J0ZWQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfdmFsaWRhdGVBbGxvd2VkQ29udGVudFxuICAgICAqIEBwYXJhbSB7QW55fSBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGN1cnJlbnQgdmFsdWUgaXMgdmFsaWQgY29uZmlndXJhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgX3ZhbGlkYXRlQWxsb3dlZENvbnRlbnQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBMYW5nLmlzU3RyaW5nKHZhbHVlKSB8fCBMYW5nLmlzT2JqZWN0KHZhbHVlKSB8fCBMYW5nLmlzQm9vbGVhbih2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgdmFsdWUgb2YgdG9vbGJhcnMgYXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF92YWxpZGF0ZVRvb2xiYXJzXG4gICAgICogQHBhcmFtIHtBbnl9IFRoZSB2YWx1ZSB0byBiZSBjaGVja2VkXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgY3VycmVudCB2YWx1ZSBpcyB2YWxpZCB0b29sYmFycyBjb25maWd1cmF0aW9uLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBfdmFsaWRhdGVUb29sYmFyczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIExhbmcuaXNPYmplY3QodmFsdWUpIHx8IExhbmcuaXNOdWxsKHZhbHVlKTtcbiAgICB9XG59LCB7XG4gICAgQVRUUlM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyZXMgdGhlIGFsbG93ZWQgY29udGVudCBmb3IgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgQWxsb3lFZGl0b3IuXG4gICAgICAgICAqIExvb2sgb24gdGhlIFtvZmZpY2lhbCBDS0VkaXRvciBBUEldKGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1IuY29uZmlnLWNmZy1hbGxvd2VkQ29udGVudClcbiAgICAgICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHZhbGlkIHZhbHVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBhbGxvd2VkQ29udGVudFxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW4sIFN0cmluZywgT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgYWxsb3dlZENvbnRlbnQ6IHtcbiAgICAgICAgICAgIHZhbGlkYXRvcjogJ192YWxpZGF0ZUFsbG93ZWRDb250ZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIEFsbG95RWRpdG9yIHNldCB0aGUgY29udGVudGVkaXRhYmxlIGF0dHJpYnV0ZVxuICAgICAgICAgKiB0byBcInRydWVcIiBvbiBpdHMgc3JjTm9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBlbmFibGVDb250ZW50RWRpdGFibGVcbiAgICAgICAgICogQHR5cGUgQm9vbGVhblxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICovXG4gICAgICAgIGVuYWJsZUNvbnRlbnRFZGl0YWJsZToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBMYW5nLmlzQm9vbGVhbixcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWxheSAodGltZW91dCksIGluIG1zLCBhZnRlciB3aGljaCBldmVudHMgc3VjaCBsaWtlIGtleSBvciBtb3VzZSBldmVudHMgd2lsbCBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgZXZlbnRzRGVsYXlcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGV2ZW50c0RlbGF5OiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IExhbmcuaXNOdW1iZXIsXG4gICAgICAgICAgICB2YWx1ZTogMTAwXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGUgZXh0cmEgcGx1Z2lucyB3aGljaCBoYXZlIHRvIGJlIGxvYWRlZCB0byB0aGUgY3VycmVudCBDS0VkaXRvciBpbnN0YW5jZSBpbiBvcmRlciB0b1xuICAgICAgICAgKiBtYWtlIEFsbG95RWRpdG9yIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgZXh0cmFQbHVnaW5zXG4gICAgICAgICAqIEBkZWZhdWx0ICd1aWNvcmUsc2VsZWN0aW9ucmVnaW9uLGRyYWdyZXNpemUsYWRkaW1hZ2VzLHBsYWNlaG9sZGVyLHRhYmxldG9vbHMsdGFibGVyZXNpemUsYXV0b2xpbmsnXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGV4dHJhUGx1Z2luczoge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuICAgICAgICAgICAgdmFsdWU6ICdhZV91aWNvcmUsYWVfc2VsZWN0aW9ucmVnaW9uLGFlX3NlbGVjdGlvbmtleXN0cm9rZXMsYWVfaW1hZ2VhbGlnbm1lbnQsYWVfYWRkaW1hZ2VzLGFlX3BsYWNlaG9sZGVyLCcgK1xuICAgICAgICAgICAgJ2FlX3RhYmxldG9vbHMsYWVfdGFibGVyZXNpemUsYWVfYXV0b2xpbmssYWVfZW1iZWQsYWVfYXV0b2xpc3QsYWVfZHJhZ3Jlc2l6ZSwnICtcbiAgICAgICAgICAgICdhZV91aWJyaWRnZSxhZV9yaWNoY29tYm9icmlkZ2UsYWVfcGFuZWxtZW51YnV0dG9uYnJpZGdlLGFlX21lbnVicmlkZ2UsYWVfbWVudWJ1dHRvbmJyaWRnZSxhZV9idXR0b25icmlkZ2UsZm9udCxjb2xvcmJ1dHRvbicsXG4gICAgICAgICAgICB3cml0ZU9uY2U6IHRydWVcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoZSBcIm1vZGVcIiBmb3IgYWxsb3kgZWRpdG9yXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgbW9kZVxuICAgICAgICAgKiBAZGVmYXVsdCAnc2ltcGxlJ1xuICAgICAgICAgKiBAd3JpdGVPbmNlXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IExhbmcuaXNTdHJpbmcsXG4gICAgICAgICAgICB2YWx1ZTogJ3NpbXBsZSdcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBuYXRpdmUgQ0tFZGl0b3IgaW5zdGFuY2UuIEhhdmluZyB0aGlzLCB0aGUgZGV2ZWxvcGVyIG1heSB1c2UgdGhlIGZ1bGwgQVBJIG9mIENLRWRpdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHByb3BlcnR5IG5hdGl2ZUVkaXRvclxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIG5hdGl2ZUVkaXRvcjoge1xuICAgICAgICAgICAgZ2V0dGVyOiAnX2dldE5hdGl2ZUVkaXRvcicsXG4gICAgICAgICAgICByZWFkT25seTogdHJ1ZVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhlIGNsYXNzLCB3aGljaCBzaG91bGQgYmUgYWRkZWQgYnkgUGxhY2Vob2xkZXIgcGx1Z2luXG4gICAgICAgICAqIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfcGxhY2Vob2xkZXJ9fXt7L2Nyb3NzTGlua319XG4gICAgICAgICAqIHdoZW4gZWRpdG9yIGlzIG5vdCBmb2N1c2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHByb3BlcnR5IHBsYWNlaG9sZGVyQ2xhc3NcbiAgICAgICAgICogQGRlZmF1bHQgJ2FlLXBsYWNlaG9sZGVyJ1xuICAgICAgICAgKiBAd3JpdGVPbmNlXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBwbGFjZWhvbGRlckNsYXNzOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IExhbmcuaXNTdHJpbmcsXG4gICAgICAgICAgICB2YWx1ZTogJ2FlLXBsYWNlaG9sZGVyJyxcbiAgICAgICAgICAgIHdyaXRlT25jZTogdHJ1ZVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTcGVjaWZpZXMgdGhlIHBsdWdpbnMsIHdoaWNoIGNvbWUgYnkgZGVmYXVsdCB3aXRoIENLRWRpdG9yLCBidXQgd2hpY2ggYXJlIG5vdCBuZWVkZWQgYnkgQWxsb3lFZGl0b3IuXG4gICAgICAgICAqIFRoZXNlIHBsdWdpbnMgYWRkIHRoZSBkZWZhdWx0IFVJIGZvciBDS2VkaXRvciwgd2hpY2ggaXMgbm8gbW9yZSBuZWVkZWQuIFBsZWFzZSBub3RlIHRoYXQgQWxsb3lFZHRvclxuICAgICAgICAgKiBjb21lcyB3aXRoIGl0cyBvd24gaGlnaGx5IG9wdGltaXplZCBjb3B5IG9mIENLRWRpdG9yIChqdXN0IGN1c3RvbWl6ZWQgdmlhIHRoZWlyIG9mZmljaWFsIGRvd25sb2FkIHBhZ2UpLlxuICAgICAgICAgKiBUaGlzIHZlcnNpb24gZG9lcyBub3QgY29tZSB3aXRoIHRoZSB1bm5lZWRlZCBwbHVnaW5zLCBzbyB0aGUgdmFsdWUgb2YgdGhpcyBwcm9wZXJ0eSB3b24ndCBiZSBuZWVkZWQuXG4gICAgICAgICAqIEhvd2V2ZXIsIGlmIHlvdSBkZWNpZGUgdG8gZ28gd2l0aCB0aGUgT09UQiB2ZXJzaW9uIG9mIENLRWRpdG9yLCB5b3Ugd2lsbCBoYXZlIHRvIHJlbW92ZSBzb21lIG9mIHRoZVxuICAgICAgICAgKiBwbHVnaW5zIGlmIHlvdSBkZWNpZGUgdG8gdXNlIEFsbG95RWRpdG9yLiBLZWVwIGluIG1pbmQgdGhhdCByZW1vdmluZyB0aGVzZSBwbHVnaW5zIGRvZXNuJ3QgcmVtb3ZlIHRoZW1cbiAgICAgICAgICogZW50aXJlbHkgZnJvbSBDS0VkaXRvci4gSXQganVzdCByZW1vdmVzIHRoZW0gZnJvbSBpdHMgY3VycmVudCBpbnN0YW5jZSwgaW4gd2hpY2ggeW91IHdpbGwgdXNlIGRpZmZlcmVudFxuICAgICAgICAgKiBVSSAtIHRob3NlIG9mIEFsbG95RWRpdG9yLiBZb3Ugd2lsbCBiZSBmdWxseSBhYmxlIHRvIHVzZSBib3RoIE9PVEIgQ0tFZGl0b3IgYW5kIEFsbG95RWRpdG9yIG9uIHRoZSBzYW1lXG4gICAgICAgICAqIHBhZ2UhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgcmVtb3ZlUGx1Z2luc1xuICAgICAgICAgKiBAZGVmYXVsdCAnY29udGV4dG1lbnUsdG9vbGJhcixlbGVtZW50c3BhdGgscmVzaXplLGxpc3RzdHlsZSxsaW5rJ1xuICAgICAgICAgKiBAd3JpdGVPbmNlXG4gICAgICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICByZW1vdmVQbHVnaW5zOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IExhbmcuaXNTdHJpbmcsXG4gICAgICAgICAgICB2YWx1ZTogJ2NvbnRleHRtZW51LHRvb2xiYXIsZWxlbWVudHNwYXRoLHJlc2l6ZSxsaXN0c3R5bGUsbGluaycsXG4gICAgICAgICAgICB3cml0ZU9uY2U6IHRydWVcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXJyYXkgb2YgbWFudWFsIHNlbGVjdGlvbiB0cmlnZ2Vycy4gVGhleSBjYW4gYmUgY29uZmlndXJlZCB0byBtYW51YWxseSBzaG93IGEgc3BlY2lmaWMgc2VsZWN0aW9uIHRvb2xiYXJcbiAgICAgICAgICogYnkgZm9yY2luZyB0aGUgc2VsZWN0aW9uIHR5cGUuIEEgc2VsZWN0aW9uS2V5c3Ryb2tlIGl0ZW0gY29uc2lzdHMgb2YgYSBrZXlzIHByb3BlcnR5IHdpdGggYSBbQ0tFZGl0b3Iga2V5c3Ryb2tlXG4gICAgICAgICAqIGRlZmluaXRpb25dKGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1IuY29uZmlnLWNmZy1rZXlzdHJva2VzKSBhbmQgYSBzZWxlY3Rpb24gcHJvcGVydHkgd2l0aFxuICAgICAgICAgKiB0aGUgc2VsZWN0aW9uIG5hbWUgdG8gdHJpZ2dlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBzZWxlY3Rpb25LZXlzdHJva2VzXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGlvbktleXN0cm9rZXM6IHtcbiAgICAgICAgICAgIHZhbGlkYXRvcjogTGFuZy5pc0FycmF5LFxuICAgICAgICAgICAgdmFsdWU6IFt7XG4gICAgICAgICAgICAgICAga2V5czogQ0tFRElUT1IuQ1RSTCArIDc2IC8qTCovLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogJ2xpbmsnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5czogQ0tFRElUT1IuQ1RSTCArIENLRURJVE9SLlNISUZUICsgNzYgLypMKi8sXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiAnZW1iZWQnXG4gICAgICAgICAgICB9XVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgTm9kZSBJRCBvciBIVE1sIG5vZGUsIHdoaWNoIEFsbG95RWRpdG9yIHNob3VsZCB1c2UgYXMgYW4gZWRpdGFibGUgYXJlYS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBzcmNOb2RlXG4gICAgICAgICAqIEB0eXBlIFN0cmluZyB8IE5vZGVcbiAgICAgICAgICogQHdyaXRlT25jZVxuICAgICAgICAgKi9cbiAgICAgICAgc3JjTm9kZToge1xuICAgICAgICAgICAgc2V0dGVyOiAnX3RvRWxlbWVudCcsXG4gICAgICAgICAgICB3cml0ZU9uY2U6IHRydWVcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRvb2xiYXJzIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkge09iamVjdH0gdG9vbGJhcnNcbiAgICAgICAgICovXG4gICAgICAgIHRvb2xiYXJzOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6ICdfdmFsaWRhdGVUb29sYmFycycsXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIGFkZDoge1xuICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBbJ2ltYWdlJywgJ2VtYmVkJywgJ2NhbWVyYScsICdobGluZScsICd0YWJsZSddLFxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogMlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbnM6IFNlbGVjdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIHRhYkluZGV4OiAxXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgTm9kZSBJRCBvciBIVE1sIG5vZGUsIHdoZXJlIEFsbG95RWRpdG9yJ3MgVUkgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHByb3BlcnR5IHVpTm9kZVxuICAgICAgICAgKiBAdHlwZSBTdHJpbmcgfCBOb2RlXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICovXG4gICAgICAgIHVpTm9kZToge1xuICAgICAgICAgICAgc2V0dGVyOiAnX3RvRWxlbWVudCcsXG4gICAgICAgICAgICB3cml0ZU9uY2U6IHRydWVcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5DS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDb3JlKTtcblxuZXhwb3J0IGRlZmF1bHQgQ29yZTtcbiIsImltcG9ydCBDb3JlIGZyb20gJy4vY29yZS5qcyc7XG5pbXBvcnQgTGFuZyBmcm9tICcuLi9vb3AvbGFuZy5qcyc7XG5cbmltcG9ydCBCdXR0b25zIGZyb20gJy4uL2NvbXBvbmVudHMvYnV0dG9ucyc7XG5pbXBvcnQgVG9vbGJhcnMgZnJvbSAnLi4vY29tcG9uZW50cy90b29sYmFycyc7XG5cbmltcG9ydCBTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb24tYXJyb3dib3gnO1xuaW1wb3J0IFNlbGVjdGlvbnMgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb25zJztcbmltcG9ydCBTZWxlY3Rpb25TZXRQb3NpdGlvbiBmcm9tICcuLi9zZWxlY3Rpb25zL3NlbGVjdGlvbi1wb3NpdGlvbic7XG5pbXBvcnQgU2VsZWN0aW9uVGVzdCBmcm9tICcuLi9zZWxlY3Rpb25zL3NlbGVjdGlvbi10ZXN0JztcblxuaW1wb3J0IEF0dHJpYnV0ZSBmcm9tICcuLi9vb3AvYXR0cmlidXRlJztcbmltcG9ydCBleHRlbmQgZnJvbSAnLi4vb29wL29vcCc7XG5pbXBvcnQgJy4uL3BsdWdpbnMnO1xuXG4vLyBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgY3VycmVudGx5IHJlZ2lzdGVyZWQgcGx1Z2lucyBpbiBBbGxveUVkaXRvci5cbnZhciBCUklER0VfQlVUVE9OUyA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQWxsb3lFZGl0b3IuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGVkaXRhYmxlXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1N0cmluZ3xOb2RlfSBub2RlIFRoZSBOb2RlIElEIG9yIEhUTWwgbm9kZSwgd2hpY2ggQWxsb3lFZGl0b3Igc2hvdWxkIHVzZSBhcyBhbiBlZGl0YWJsZSBhcmVhLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uIGF0dHJpYnV0ZXMgZm9yIHRoZSBjdXJyZW50IGluc3RhbmNlIG9mIEFsbG95RWRpdG9yLlxuICogQHJldHVybiB7T2JqZWN0fSBBbiBpbnN0YW5jZSBvZiB7eyNjcm9zc0xpbmsgXCJDb3JlXCJ9fXt7L2Nyb3NzTGlua319XG4gKi9cbmNvbnN0IGVkaXRhYmxlID0gZnVuY3Rpb24obm9kZSwgY29uZmlnKSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgIGNvbmZpZy5zcmNOb2RlID0gbm9kZTtcblxuICAgIEFsbG95RWRpdG9yLmltcGxlbWVudEV2ZW50VGFyZ2V0KCk7XG5cbiAgICByZXR1cm4gbmV3IENvcmUoY29uZmlnKTtcbn07XG5cbi8qKlxuICogVGhlIGZ1bGwgVVJMIGZvciB0aGUgQWxsb3lFZGl0b3IgaW5zdGFsbGF0aW9uIGRpcmVjdG9yeS5cbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hbnVhbGx5IHByb3ZpZGUgdGhlIGJhc2UgcGF0aCBieSBzZXR0aW5nIGFcbiAqIGdsb2JhbCB2YXJpYWJsZSBuYW1lZCBgQUxMT1lFRElUT1JfQkFTRVBBVEhgLiBUaGlzIGdsb2JhbCB2YXJpYWJsZVxuICogbXVzdCBiZSBzZXQgKipiZWZvcmUqKiB0aGUgZWRpdG9yIHNjcmlwdCBsb2FkaW5nLlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQG1ldGhvZCBnZXRCYXNlUGF0aFxuICogQHN0YXRpY1xuICogQHJldHVybiB7U3RyaW5nfSBUaGUgZm91bmQgYmFzZSBwYXRoXG4gKi9cbmNvbnN0IGdldEJhc2VQYXRoID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gRmluZCBvdXQgdGhlIGVkaXRvciBkaXJlY3RvcnkgcGF0aCwgYmFzZWQgb24gaXRzIDxzY3JpcHQ+IHRhZy5cbiAgICB2YXIgcGF0aCA9IHdpbmRvdy5BTExPWUVESVRPUl9CQVNFUEFUSCB8fCAnJztcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHNjcmlwdHNbIGkgXS5zcmMubWF0Y2goQWxsb3lFZGl0b3IucmVnZXhCYXNlUGF0aCk7XG5cblxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW4gSUUgKG9ubHkpIHRoZSBzY3JpcHQuc3JjIHN0cmluZyBpcyB0aGUgcmF3IHZhbHVlIGVudGVyZWQgaW4gdGhlXG4gICAgLy8gSFRNTCBzb3VyY2UuIE90aGVyIGJyb3dzZXJzIHJldHVybiB0aGUgZnVsbCByZXNvbHZlZCBVUkwgaW5zdGVhZC5cbiAgICBpZiAocGF0aC5pbmRleE9mKCc6LycpID09PSAtMSAmJiBwYXRoLnNsaWNlKDAsIDIpICE9PSAnLy8nICkge1xuICAgICAgICAvLyBBYnNvbHV0ZSBwYXRoLlxuICAgICAgICBpZiAocGF0aC5pbmRleE9mKCcvJykgPT09IDApIHtcbiAgICAgICAgICAgIHBhdGggPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXSArIHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsYXRpdmUgcGF0aC5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0gKyBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwYXRoKXtcbiAgICAgICAgdGhyb3cgJ1RoZSBBbGxveUVkaXRvciBpbnN0YWxsYXRpb24gcGF0aCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBkZXRlY3RlZC4gUGxlYXNlIHNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIFwiQUxMT1lFRElUT1JfQkFTRVBBVEhcIiBiZWZvcmUgY3JlYXRpbmcgZWRpdG9yIGluc3RhbmNlcy4nO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufTtcblxuLyoqXG4gKiBEZXRlY3RzIGFuZCBsb2FkIHRoZSBjb3JyZXNwb25kaW5nIGxhbmd1YWdlIGZpbGUgaWYgQWxsb3lFZGl0b3IgbGFuZ3VhZ2Ugc3RyaW5ncyBhcmUgbm90IGFscmVhZHkgcHJlc2VudC5cbiAqIFRoZSBmdW5jdGlvbiBmaXJlcyBhIHt7I2Nyb3NzTGluayBcIkFsbG95RWRpdG9yL2xhbmd1YWdlUmVzb3VyY2VzTG9hZGVkOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50XG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGxvYWRMYW5ndWFnZVJlc291cmNlc1xuICogQHN0YXRpY1xuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgT3B0aW9uYWwgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gQWxsb3lFZGl0b3IgbG9hZHMgdGhlIGxhbmd1YWdlIHJlc291cmNlLlxuICovXG5jb25zdCBsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIEFsbG95RWRpdG9yLmltcGxlbWVudEV2ZW50VGFyZ2V0KCk7XG5cbiAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICBpZiAoQWxsb3lFZGl0b3IuU3RyaW5ncykge1xuICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBbGxveUVkaXRvci5vbmNlKCdsYW5ndWFnZVJlc291cmNlc0xvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIUFsbG95RWRpdG9yLl9sYW5nUmVzb3VyY2VSZXF1ZXN0ZWQpIHtcbiAgICAgICAgQWxsb3lFZGl0b3IuX2xhbmdSZXNvdXJjZVJlcXVlc3RlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGxhbmd1YWdlcyA9IFsnYWYnLCAnYXInLCAnYmcnLCAnYm4nLCAnYnMnLCAnY2EnLCAnY3MnLCAnY3knLCAnZGEnLCAnZGUnLCAnZWwnLCAnZW4tYXUnLCAnZW4tY2EnLCAnZW4tZ2InLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmEnLCAnZmknLCAnZm8nLCAnZnItY2EnLCAnZnInLCAnZ2wnLCAnZ3UnLCAnaGUnLCAnaGknLCAnaHInLCAnaHUnLCAnaWQnLCAnaXMnLCAnaXQnLCAnamEnLCAna2EnLCAna20nLCAna28nLCAna3UnLCAnbHQnLCAnbHYnLCAnbWsnLCAnbW4nLCAnbXMnLCAnbmInLCAnbmwnLCAnbm8nLCAncGwnLCAncHQtYnInLCAncHQnLCAncm8nLCAncnUnLCAnc2knLCAnc2snLCAnc2wnLCAnc3EnLCAnc3ItbGF0bicsICdzcicsICdzdicsICd0aCcsICd0cicsICd0dCcsICd1ZycsICd1aycsICd2aScsICd6aC1jbicsICd6aCddO1xuXG4gICAgICAgIHZhciB1c2VyTGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCAnZW4nO1xuXG4gICAgICAgIHZhciBwYXJ0cyA9IHVzZXJMYW5ndWFnZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oW2Etel0rKSg/Oi0oW2Etel0rKSk/Lyk7XG4gICAgICAgIHZhciBsYW5nID0gcGFydHNbMV07XG4gICAgICAgIHZhciBsb2NhbGUgPSBwYXJ0c1syXTtcblxuICAgICAgICBpZiAobGFuZ3VhZ2VzLmluZGV4T2YobGFuZyArICctJyArIGxvY2FsZSkgPj0gMCkge1xuICAgICAgICAgICAgbGFuZyA9IGxhbmcgKyAnLScgKyBsb2NhbGU7XG4gICAgICAgIH0gZWxzZSBpZiAobGFuZ3VhZ2VzLmluZGV4T2YobGFuZykgPT09IC0xKSB7XG4gICAgICAgICAgICBsYW5nID0gJ2VuJztcbiAgICAgICAgfVxuXG4gICAgICAgIENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKEFsbG95RWRpdG9yLmdldFVybCgnbGFuZy9hbGxveS1lZGl0b3IvJyArIGxhbmcgKyAnLmpzJyksIGZ1bmN0aW9uKGxvYWRlZCkge1xuICAgICAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgICAgIEFsbG95RWRpdG9yLmZpcmUoJ2xhbmd1YWdlUmVzb3VyY2VzTG9hZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgZnVsbCBVUkwgZm9yIEFsbG95RWRpdG9yIHJlc291cmNlcy4gQnkgZGVmYXVsdCwgVVJMc1xuICogcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbiBjb250YWluIGEgcXVlcnlzdHJpbmcgcGFyYW1ldGVyIChcInRcIilcbiAqIHNldCB0byB0aGUge0BsaW5rIENLRURJVE9SI3RpbWVzdGFtcH0gdmFsdWUuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGdldFVybFxuICogQHN0YXRpY1xuICogQHBhcmFtIHtTdHJpbmd9IHJlc291cmNlIFRoZSByZXNvdXJjZSB3aG9zZSBmdWxsIFVSTCB3ZSB3YW50IHRvIGdldC5cbiAqIEl0IG1heSBiZSBhIGZ1bGwsIGFic29sdXRlLCBvciByZWxhdGl2ZSBVUkwuXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBmdWxsIFVSTC5cbiAqL1xuY29uc3QgZ2V0VXJsID0gZnVuY3Rpb24ocmVzb3VyY2UpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBBbGxveUVkaXRvci5nZXRCYXNlUGF0aCgpO1xuXG4gICAgLy8gSWYgdGhpcyBpcyBub3QgYSBmdWxsIG9yIGFic29sdXRlIHBhdGguXG4gICAgaWYgKHJlc291cmNlLmluZGV4T2YoJzovJykgPT09IC0xICYmIHJlc291cmNlLmluZGV4T2YoJy8nKSAhPT0gMCkge1xuICAgICAgICByZXNvdXJjZSA9IGJhc2VQYXRoICsgcmVzb3VyY2U7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSB0aW1lc3RhbXAsIGV4Y2VwdCBmb3IgZGlyZWN0b3JpZXMuXG4gICAgaWYgKENLRURJVE9SLnRpbWVzdGFtcCAmJiByZXNvdXJjZS5jaGFyQXQoIHJlc291cmNlLmxlbmd0aCAtIDEgKSAhPT0gJy8nICYmICEoL1smP110PS8pLnRlc3QocmVzb3VyY2UpKSB7XG4gICAgICAgIHJlc291cmNlICs9IChyZXNvdXJjZS5pbmRleE9mKCc/JykgPj0gMCA/ICcmJyA6ICc/JykgKyAndD0nICsgQ0tFRElUT1IudGltZXN0YW1wO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvdXJjZTtcbn07XG5cbi8qKlxuICogSW1wbGVtZW50cyBldmVudCBmaXJpbmcgYW5kIHN1YnNjcmliaW5nIHZpYSBDS0VESVRPUi5ldmVudC5cbiAqXG4gKiBAbWVtYmVyb2YgQWxsb3lFZGl0b3JcbiAqIEBtZXRob2QgaW1wbGVtZW50RXZlbnRUYXJnZXRcbiAqIEBzdGF0aWNcbiAqL1xuY29uc3QgaW1wbGVtZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIUFsbG95RWRpdG9yLmZpcmUgJiYgIUFsbG95RWRpdG9yLm9uKSB7XG4gICAgICAgIENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKEFsbG95RWRpdG9yKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzaG91bGQgbWF0Y2ggdGhlIHNjcmlwdCB3aGljaCBoYXZlIGJlZW4gdXNlZCB0byBsb2FkIEFsbG95RWRpdG9yLlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQHByb3BlcnR5IHJlZ2V4QmFzZVBhdGhcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IHJlZ2V4QmFzZVBhdGggPSAvKF58LipbXFxcXFxcL10pKD86YWxsb3ktZWRpdG9yW14vXSt8YWxsb3ktZWRpdG9yKVxcLmpzKD86XFw/Lip8Oy4qKT8kL2k7XG5cbi8qKlxuICogRmlyZWQgd2hlbiBBbGxveUVkaXRvciBkZXRlY3RzIHRoZSBicm93c2VyIGxhbmd1YWdlIGFuZCBsb2FkcyB0aGUgY29ycmVzcG9uZGluZyBsYW5ndWFnZSBmaWxlLiBPbmNlIHRoaXMgZXZlbnRcbiAqIGlzIGZpcmVkLCBBbGxveUVkaXRvci5TdHJpbmdzIHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggZGF0YS5cbiAqXG4gKiBAZXZlbnQgbGFuZ3VhZ2VSZXNvdXJjZXNMb2FkZWRcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlcXVpcmVkIHBsdWdpbiBuYW1lcyBuZWVkZWQgZm9yIGEgZ2l2ZW4gcGx1Z2luXG4gKiBpZiBpdCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgb3IgYW4gZW1wdHkgYXJyYXkuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGdldEJ1dHRvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGJ1dHRvbnMgQW4gYXJyYXkgb2YgYnV0dG9ucyBvciBwbHVnaW4gbmFtZXMuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBpbnZva2VkIHRvIHJlc29sdmUgdGhlIHJlcXVlc3RlZCBidXR0b24gbmFtZXMuXG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IGdldEJ1dHRvbnMgPSBmdW5jdGlvbihidXR0b25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYnV0dG9ucy5yZWR1Y2UoZnVuY3Rpb24oYWNjLCB2YWwpIHtcbiAgICAgICAgICAgIHZhbCA9IEJSSURHRV9CVVRUT05TW3ZhbF0gfHwgW3ZhbF07XG4gICAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdCh2YWwpO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBidXR0b24gYW5kIHRyeSB0byBnZXQgaXRzIHJlcXVpcmVkIHBsdWdpbnMuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIHJlZ2lzdGVyQnJpZGdlQnV0dG9uXG4gKiBAcGFyYW0ge1N0cmluZ30gYnV0dG9uTmFtZSBUaGUgbmFtZSBvZiB0aGUgYnV0dG9uLlxuICogQHBhcmFtIHtTdHJpbmd9IHBsdWdpbk5hbWUgVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB0aGF0IHJlZ2lzdGVycyB0aGUgYnV0dG9uLlxuICogQHN0YXRpY1xuICovXG5jb25zdCByZWdpc3RlckJyaWRnZUJ1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvbk5hbWUsIHBsdWdpbk5hbWUpIHtcbiAgICBpZiAoIUJSSURHRV9CVVRUT05TW3BsdWdpbk5hbWVdKSB7XG4gICAgICAgIEJSSURHRV9CVVRUT05TW3BsdWdpbk5hbWVdID0gW107XG4gICAgfVxuXG4gICAgQlJJREdFX0JVVFRPTlNbcGx1Z2luTmFtZV0ucHVzaChidXR0b25OYW1lKTtcbn07XG5cbi8qKlxuICogQG1ldGhvZCBPT1BcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICovXG5jb25zdCBPT1AgPSB7XG4gICAgZXh0ZW5kXG59O1xuXG5leHBvcnQge1xuICAgIEF0dHJpYnV0ZSxcbiAgICBCdXR0b25zLFxuICAgIENvcmUsXG4gICAgZWRpdGFibGUsXG4gICAgZ2V0QmFzZVBhdGgsXG4gICAgZ2V0QnV0dG9ucyxcbiAgICBnZXRVcmwsXG4gICAgaW1wbGVtZW50RXZlbnRUYXJnZXQsXG4gICAgTGFuZyxcbiAgICBsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMsXG4gICAgT09QLFxuICAgIHJlZ2lzdGVyQnJpZGdlQnV0dG9uLFxuICAgIFNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyxcbiAgICBTZWxlY3Rpb25zLFxuICAgIFNlbGVjdGlvblNldFBvc2l0aW9uLFxuICAgIFNlbGVjdGlvblRlc3QsXG4gICAgVG9vbGJhcnNcbn07XG4iLCJpbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5cbi8qKlxuICogQnV0dG9uQWN0aW9uU3R5bGUgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGFwcGx5aW5nIHN0eWxlIGltcGxlbWVudGF0aW9uIGZvciBhXG4gKiBidXR0b24gYmFzZWQgb24gdGhlIGBhcHBseVN0eWxlYCBhbmQgYHJlbW92ZVN0eWxlYCBBUEkgb2YgQ0tFRElUT1IuXG4gKlxuICogVG8gZXhlY3V0ZSBwcm9wZXJseSwgdGhlIGNvbXBvbmVudCBoYXMgdG8gZXhwb3NlIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyB3aGljaCBjYW4gYmUgb2J0YWluZWRcbiAqIG91dCBvZiB0aGUgYm94IHVzaW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJCdXR0b25TdHlsZVwifX17ey9jcm9zc0xpbmt9fSBtaXhpbjpcbiAqIC0gYEZ1bmN0aW9uYCB7eyNjcm9zc0xpbmsgXCJCdXR0b25TdHlsZS9pc0FjdGl2ZVwifX17ey9jcm9zc0xpbmt9fSB0byBjaGVjayB0aGUgYWN0aXZlIHN0YXRlXG4gKiAtIGBGdW5jdGlvbmAge3sjY3Jvc3NMaW5rIFwiQnV0dG9uU3R5bGUvZ2V0U3R5bGVcIn19e3svY3Jvc3NMaW5rfX0gdG8gcmV0dXJuIHRoZSBzdHlsZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQGNsYXNzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9yIGFwcGxpZXMgdGhlIGNvbXBvbmVudCBzdHlsZSB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQWN0aW9uU3R5bGVcbiAgICAgKiBAbWV0aG9kIGFwcGx5U3R5bGVcbiAgICAgKi9cbiAgICBhcHBseVN0eWxlKCkge1xuICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKHRoaXMuaXNBY3RpdmUpICYmIExhbmcuaXNGdW5jdGlvbih0aGlzLmdldFN0eWxlKSkge1xuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgIGVkaXRvci5nZXRTZWxlY3Rpb24oKS5sb2NrKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVtb3ZlU3R5bGUodGhpcy5nZXRTdHlsZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmFwcGx5U3R5bGUodGhpcy5nZXRTdHlsZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRpdG9yLmdldFNlbGVjdGlvbigpLnVubG9jaygpO1xuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59OyIsIi8qKlxuICogQnV0dG9uQ29tbWFuZEFjdGl2ZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYW4gYGlzQWN0aXZlYCBtZXRob2QgdG8gZGV0ZXJtaW5lIGlmXG4gKiBhIGNvbnRleHQtYXdhcmUgY29tbWFuZCBpcyBjdXJyZW50bHkgaW4gYW4gYWN0aXZlIHN0YXRlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kQWN0aXZlXG4gICAgICogQG1ldGhvZCBpc0FjdGl2ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIHZhciBjb21tYW5kID0gZWRpdG9yLmdldENvbW1hbmQodGhpcy5wcm9wcy5jb21tYW5kKTtcblxuICAgICAgICByZXR1cm4gY29tbWFuZCA/IGNvbW1hbmQuc3RhdGUgPT09IENLRURJVE9SLlRSSVNUQVRFX09OIDogZmFsc2U7XG4gICAgfVxufTsiLCIvKipcbiAqIEJ1dHRvbkNvbW1hbmQgaXMgYSBtaXhpbiB0aGF0IGV4ZWN1dGVzIGEgY29tbWFuZCB2aWEgQ0tFRElUT1IncyBBUEkuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIGEgQ0tFZGl0b3IgY29tbWFuZCBhbmQgZmlyZXMgYGFjdGlvblBlcmZvcm1lZGAgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZGF0YSBPcHRpb25hbCBkYXRhIHRvIGJlIHBhc3NlZCB0byBDS0VESVRPUidzIGBleGVjQ29tbWFuZGAgbWV0aG9kLlxuICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmRcbiAgICAgKi9cbiAgICBleGVjQ29tbWFuZChkYXRhKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCh0aGlzLnByb3BzLmNvbW1hbmQsIGRhdGEpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGlmaWVzU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uQ2hhbmdlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcuanMnO1xuXG4vKipcbiAqIEJ1dHRvbktleXN0cm9rZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYSBga2V5c3Ryb2tlYCBwcm9wIHRoYXQgYWxsb3dzIGNvbmZpZ3VyaW5nXG4gKiBhIGZ1bmN0aW9uIG9mIHRoZSBpbnN0YW5jZSB0byBiZSBpbnZva2VkIHVwb24gdGhlIGtleXN0cm9rZSBhY3RpdmF0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25LZXlzdHJva2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBib3RoIG9uIHRoZSBjbGllbnQgYW5kIHNlcnZlciwgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uS2V5c3Ryb2tlXG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KSkge1xuICAgICAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmF0aXZlRWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIGtleXN0cm9rZSA9IHRoaXMucHJvcHMua2V5c3Ryb2tlO1xuXG4gICAgICAgIHZhciBjb21tYW5kTmFtZSA9IGtleXN0cm9rZS5uYW1lIHx8ICgoTWF0aC5yYW5kb20oKSAqIDFlOSkgPj4+IDApLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbW1hbmQgPSBuYXRpdmVFZGl0b3IuZ2V0Q29tbWFuZChjb21tYW5kTmFtZSk7XG5cbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICBjb21tYW5kID0gbmV3IENLRURJVE9SLmNvbW1hbmQobmF0aXZlRWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5c3Ryb2tlRm4gPSBrZXlzdHJva2UuZm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChMYW5nLmlzU3RyaW5nKGtleXN0cm9rZUZuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c3Ryb2tlRm5dLmNhbGwodGhpcywgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTGFuZy5pc0Z1bmN0aW9uKGtleXN0cm9rZUZuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXN0cm9rZUZuLmNhbGwodGhpcywgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbmF0aXZlRWRpdG9yLmFkZENvbW1hbmQoY29tbWFuZE5hbWUsIGNvbW1hbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVmYXVsdEtleXN0cm9rZUNvbW1hbmQgPSBuYXRpdmVFZGl0b3Iua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzW2tleXN0cm9rZS5rZXlzXTtcblxuICAgICAgICBuYXRpdmVFZGl0b3Iuc2V0S2V5c3Ryb2tlKGtleXN0cm9rZS5rZXlzLCBjb21tYW5kTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGJlZm9yZSBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbktleXN0cm9rZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnRXaWxsVW5tb3VudCkpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLnNldEtleXN0cm9rZSh0aGlzLnByb3BzLmtleXN0cm9rZS5rZXlzLCB0aGlzLl9kZWZhdWx0S2V5c3Ryb2tlQ29tbWFuZCk7XG4gICAgfVxufTsiLCIvKipcbiAqIEJ1dHRvbkNmZ1Byb3BzIGlzIGEgbWl4aW4gdGhhdCBwcm92aWRlcyBhIHN0eWxlIHByb3AgYW5kIHNvbWUgbWV0aG9kcyB0byBhcHBseSB0aGUgcmVzdWx0aW5nXG4gKiBzdHlsZSBhbmQgY2hlY2tpbmcgaWYgaXQgaXMgcHJlc2VudCBpbiBhIGdpdmVuIHBhdGggb3Igc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25DZmdQcm9wc1xuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzLCBwYXNzZWQgdG8gdGhlIGN1cnJlbnQgY29tcG9uZW50IHdpdGggdXNlcidzIGNvbmZpZ3VyYXRpb25cbiAgICAgKiB2aWEgYGJ1dHRvbkNmZ2AgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ2ZnUHJvcHNcbiAgICAgKiBAbWV0aG9kIG1lcmdlQnV0dG9uQ2ZnUHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgVGhlIHByb3BlcnRpZXMgdG8gYmUgbWVyZ2VkIHdpdGggdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXNcbiAgICAgKiBidXR0b24uIElmIG5vdCBwYXNzZWQsIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBtZXJnZWQgd2l0aCBgdGhpcy5wcm9wc2BcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtZXJnZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIG1lcmdlQnV0dG9uQ2ZnUHJvcHMocHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBwcm9wcyB8fCB0aGlzLnByb3BzO1xuXG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgYnV0dG9uQ2ZnID0gbmF0aXZlRWRpdG9yLmNvbmZpZy5idXR0b25DZmcgfHwge307XG4gICAgICAgIHZhciByZXN1bHQgPSBDS0VESVRPUi50b29scy5tZXJnZShwcm9wcywgYnV0dG9uQ2ZnWydsaW5rRWRpdCddKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG4vKipcbiAqIEJ1dHRvblN0YXRlQ2xhc3NlcyBpcyBhIG1peGluIHRoYXQgZGVjb3JhdGVzIHRoZSBkb21FbGVtZW50IG9mIGEgY29tcG9uZW50XG4gKiB3aXRoIGRpZmZlcmVudCBDU1MgY2xhc3NlcyBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZWxlbWVudC5cbiAqXG4gKiBUbyBjaGVjayBmb3Igc3RhdGUsIHRoZSBjb21wb25lbnQgY2FuIGV4cG9zZSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKiAtIGBGdW5jdGlvbmAgKippc0FjdGl2ZSoqIHRvIGNoZWNrIHRoZSBhY3RpdmUgc3RhdGVcbiAqIC0gYEZ1bmN0aW9uYCAqKmlzRGlzYWJsZWQqKiB0byBjaGVjayB0aGUgZGlzYWJsZWQgc3RhdGVcbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHN0YXRlIGNsYXNzZXMgYXNzb2NpYXRlZCB0byB0aGUgY3VycmVudCBlbGVtZW50J3Mgc3RhdGUsIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBpc0FjdGl2ZSBhbmQgaXNEaXNhYmxlZCBtZXRob2RzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICAgICAqIEBtZXRob2QgZ2V0U3RhdGVDbGFzc2VzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyB3aXRoIHRoZSBzdGF0ZSBDU1MgY2xhc3Nlcy5cbiAgICAgKi9cbiAgICBnZXRTdGF0ZUNsYXNzZXMoKSB7XG4gICAgICAgIHZhciBzdGF0ZUNsYXNzZXMgPSAnJztcblxuICAgICAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHN0YXRlXG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24odGhpcy5pc0FjdGl2ZSkgJiYgdGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBzdGF0ZUNsYXNzZXMgKz0gJ2FlLWJ1dHRvbi1wcmVzc2VkJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBkaXNhYmxlZCBzdGF0ZVxuICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKHRoaXMuaXNEaXNhYmxlZCkgJiYgdGhpcy5pc0Rpc2FibGVkKCkpIHtcbiAgICAgICAgICAgIHN0YXRlQ2xhc3NlcyArPSAnIGFlLWJ1dHRvbi1kaXNhYmxlZCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhdGVDbGFzc2VzO1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcuanMnXG5cbi8qKlxuICogQnV0dG9uU3R5bGUgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGEgc3R5bGUgcHJvcCBhbmQgc29tZSBtZXRob2RzIHRvIGFwcGx5IHRoZSByZXN1bHRpbmdcbiAqIHN0eWxlIGFuZCBjaGVja2luZyBpZiBpdCBpcyBwcmVzZW50IGluIGEgZ2l2ZW4gcGF0aCBvciBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0eWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgYm90aCBvbiB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIsIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KSkge1xuICAgICAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnByb3BzLnN0eWxlO1xuXG4gICAgICAgIGlmIChMYW5nLmlzU3RyaW5nKHN0eWxlKSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gc3R5bGUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50TWVtYmVyID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKS5jb25maWc7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBwYXJ0cy5zaGlmdCgpO1xuXG4gICAgICAgICAgICB3aGlsZSAocHJvcGVydHkgJiYgTGFuZy5pc09iamVjdChjdXJyZW50TWVtYmVyKSAmJiBMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXJbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRNZW1iZXIgPSBjdXJyZW50TWVtYmVyW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBjdXJyZW50TWVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnRXaWxsVW5tb3VudCkpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbnN0YW5jZSBvZiBDS0VESVRPUi5zdHlsZSB3aGljaCByZXByZXNlbnRzIHRoZSBjdXJyZW50IGJ1dHRvbiBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuICAgICAqIEBtZXRob2QgZ2V0U3R5bGVcbiAgICAgKiBAcmV0dXJuIHtDS0VESVRPUi5zdHlsZX0gVGhlIGN1cnJlbnQgc3R5bGUgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgZ2V0U3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc3R5bGUgaXMgYWN0aXZlIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuICAgICAqIEBtZXRob2QgaXNBY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN0eWxlIGlzIGFjdGl2ZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIHZhciBlbGVtZW50UGF0aCA9IGVkaXRvci5lbGVtZW50UGF0aCgpO1xuXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZ2V0U3R5bGUoKS5jaGVja0FjdGl2ZShlbGVtZW50UGF0aCwgZWRpdG9yKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07XG4iLCJpbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRvb2xiYXJCdXR0b25zIGlzIGEgbWl4aW4gd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGJ1dHRvbnMgd2hpY2ggaGF2ZSB0byBiZVxuICogZGlzcGxheWVkIG9uIHRoZSBjdXJyZW50IHRvb2xiYXIgZGVwZW5kaW5nIG9uIHVzZXIgcHJlZmVyZW5jZXMgYW5kIGdpdmVuIHN0YXRlLlxuICpcbiAqIEBjbGFzcyBUb29sYmFyQnV0dG9uc1xuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogQW5hbGF5c2VzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBhbmQgcmV0dXJucyB0aGUgYnV0dG9ucyBvciBidXR0b24gZ3JvdXBzIHRvIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1ldGhvZCBnZXRUb29sYmFyQnV0dG9uR3JvdXBzXG4gICAgICogQHBhcmFtIHtBcnJheX0gYnV0dG9ucyBUaGUgYnV0dG9ucyBjb3VsZCBiZSBzaG93biwgcHJpb3IgdG8gdGhlIHN0YXRlIGZpbHRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYWRkaXRpb25hbFByb3BzIEFkZGl0aW9uYWwgcHJvcHMgdGhhdCBzaG91bGQgYmUgcGFzc2VkIGRvd24gdG8gdGhlIGJ1dHRvbnMuXG4gICAgICogQHJldHVybiB7QXJyYXl9IEFuIEFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b25zIG9yIGJ1dHRvbiBncm91cHMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgZ2V0VG9vbGJhckJ1dHRvbkdyb3VwcyhidXR0b25zLCBhZGRpdGlvbmFsUHJvcHMpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihidXR0b25zKSkge1xuICAgICAgICAgICAgYnV0dG9ucyA9IGJ1dHRvbnMuY2FsbCh0aGlzKSB8fCBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidXR0b25zLnJlZHVjZSgobGlzdCwgYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShidXR0b24pKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5wdXNoKHRoaXMuZ2V0VG9vbGJhckJ1dHRvbnMoYnV0dG9uLCBhZGRpdGlvbmFsUHJvcHMpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VG9vbGJhckJ1dHRvbnMoYnV0dG9ucywgYWRkaXRpb25hbFByb3BzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgW10pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuYWx5emVzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBhbmQgdGhlIGJ1dHRvbnMgZXhjbHVzaXZlIG1vZGUgdmFsdWUgdG8gZmlndXJlIG91dCB3aGljaFxuICAgICAqIGJ1dHRvbnMgc2hvdWxkIGJlIHByZXNlbnQgaW4gYSBnaXZlbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyQnV0dG9uc1xuICAgICAqIEBtZXRob2QgZ2V0VG9vbGJhckJ1dHRvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBidXR0b25zIFRoZSBidXR0b25zIGNvdWxkIGJlIHNob3duLCBwcmlvciB0byB0aGUgc3RhdGUgZmlsdGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhZGRpdGlvbmFsUHJvcHMgQWRkaXRpb25hbCBwcm9wcyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgZG93biB0byB0aGUgYnV0dG9ucy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gQXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIGJ1dHRvbnMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgZ2V0VG9vbGJhckJ1dHRvbnMoYnV0dG9ucywgYWRkaXRpb25hbFByb3BzKSB7XG4gICAgICAgIHZhciBidXR0b25Qcm9wcyA9IHt9O1xuXG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgYnV0dG9uQ2ZnID0gbmF0aXZlRWRpdG9yLmNvbmZpZy5idXR0b25DZmcgfHwge307XG5cbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihidXR0b25zKSkge1xuICAgICAgICAgICAgYnV0dG9ucyA9IGJ1dHRvbnMuY2FsbCh0aGlzKSB8fCBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b29sYmFyQnV0dG9ucyA9IHRoaXMuZmlsdGVyRXhjbHVzaXZlKFxuICAgICAgICAgICAgICAgIGJ1dHRvbnMuZmlsdGVyKGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uICYmIChBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbl0gfHwgQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihidXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKExhbmcuaXNTdHJpbmcoYnV0dG9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uUHJvcHNbYnV0dG9uXSA9IGJ1dHRvbkNmZ1tidXR0b25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b25dO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKExhbmcuaXNTdHJpbmcoYnV0dG9uLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25Qcm9wc1tBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbi5uYW1lXS5rZXldID0gQ0tFRElUT1IudG9vbHMubWVyZ2UoYnV0dG9uQ2ZnW2J1dHRvbl0sIGJ1dHRvbi5jZmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGJ1dHRvbiwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLm1lcmdlRXhjbHVzaXZlUHJvcHMoe1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMucHJvcHMuZWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICBrZXk6IGJ1dHRvbi5rZXkgIT09ICdzZXBhcmF0b3InID8gYnV0dG9uLmtleSA6IGAke2J1dHRvbi5rZXl9LSR7aW5kZXh9YCxcbiAgICAgICAgICAgICAgICAgICAgdGFiS2V5OiBidXR0b24ua2V5LFxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogKHRoaXMucHJvcHMudHJpZ2dlciAmJiB0aGlzLnByb3BzLnRyaWdnZXIucHJvcHMudGFiS2V5ID09PSBidXR0b24ua2V5KSA/IDAgOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy5wcm9wcy50cmlnZ2VyXG4gICAgICAgICAgICAgICAgfSwgYnV0dG9uLmtleSk7XG5cbiAgICAgICAgICAgICAgICBwcm9wcyA9IHRoaXMubWVyZ2VEcm9wZG93blByb3BzKHByb3BzLCBidXR0b24ua2V5KTtcblxuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBDS0VESVRPUi50b29scy5tZXJnZShwcm9wcywgYWRkaXRpb25hbFByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9wcyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHByb3BzLCBidXR0b25Qcm9wc1tidXR0b24ua2V5XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChidXR0b24sIHByb3BzKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiB0b29sYmFyQnV0dG9ucztcbiAgICB9XG59OyIsImltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBkaXNwbGF5aW5nIFdpZGdldCBBcnJvdyBib3ggb24gdG9wIG9yIG9uIGJvdHRvbSBvZiB0aGUgd2lkZ2V0XG4gKiBkZXBlbmRpbmcgb24gdGhlIHBvaW50IG9mIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBXaWRnZXRBcnJvd0JveFxuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBhcnJvdyBib3ggY2xhc3NlcyBhc3NvY2lhdGVkIHRvIHRoZSBjdXJyZW50IGVsZW1lbnQncyBzdGF0ZS4gSXQgcmVsaWVzXG4gICAgICogb24gdGhlIGdldEludGVyYWN0aW9uUG9pbnQgbWV0aG9kIHRvIGNhbGN1bGF0ZSB0aGUgc2VsZWN0aW9uIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRBcnJvd0JveFxuICAgICAqIEBtZXRob2QgZ2V0QXJyb3dCb3hDbGFzc2VzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyB3aXRoIHRoZSBhcnJvdyBib3ggQ1NTIGNsYXNzZXMuXG4gICAgICovXG4gICAgZ2V0QXJyb3dCb3hDbGFzc2VzKCkge1xuICAgICAgICB2YXIgYXJyb3dCb3hDbGFzc2VzID0gJ2FlLWFycm93LWJveCc7XG5cbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbih0aGlzLmdldEludGVyYWN0aW9uUG9pbnQpICYmIHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRJbnRlcmFjdGlvblBvaW50KCkuZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSkge1xuICAgICAgICAgICAgICAgIGFycm93Qm94Q2xhc3NlcyArPSAnIGFlLWFycm93LWJveC10b3AnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnJvd0JveENsYXNzZXMgKz0gJyBhZS1hcnJvdy1ib3gtYm90dG9tJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJvd0JveENsYXNzZXM7XG4gICAgfVxufTsiLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBtYW5hZ2luZyBkaWZmZXJlbnQgZHJvcGRvd25zIGluc2lkZSBhIHdpZGdldC5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0RHJvcGRvd25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcbiAgICAgICAgICAgIGl0ZW1Ecm9wZG93bjogbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0RHJvcGRvd25cbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpKSB7XG4gICAgICAgICAgICBzdXBlci5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcbiAgICAgICAgICAgIGl0ZW1Ecm9wZG93bjogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIHByb3ZpZGVkIG9iamVjdCB3aXRoIHR3byBtb3JlIHByb3BlcnRpZXM6XG4gICAgICogLSBleHBhbmRlZCAtIGJvb2xlYW4gZmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgYW4gd2lkZ2V0IHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cbiAgICAgKiAtIHRvZ2dsZURyb3Bkb3duIC0gZnVuY3Rpb24sIHdoaWNoIGNhbiBiZSB1c2VkIGJ5IGFuIHdpZGdldCBpbiBvcmRlciB0byBvYnRhaW4gZXhjbHVzaXZlIHN0YXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldERyb3Bkb3duXG4gICAgICogQG1ldGhvZCBtZXJnZURyb3Bkb3duUHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBwcm9wZXJ0aWVzIGNvbnRhaW5lciB3aGljaCBzaG91bGQgYmUgbWVyZ2VkIHdpdGggdGhlIHByb3BlcnRpZXMsIHJlbGF0ZWRcbiAgICAgKiAgICB0byBkcm9wZG93biBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbUtleSBUaGV5IGtleSBvZiBhbiBSZWFjdCBXaWRnZXQgd2hpY2ggY29udGFpbnMgdGhlIGRyb3Bkb3duLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG1lcmdlZCBvYmplY3QuXG4gICAgICovXG4gICAgbWVyZ2VEcm9wZG93blByb3BzKG9iaiwgaXRlbUtleSkge1xuICAgICAgICByZXR1cm4gQ0tFRElUT1IudG9vbHMubWVyZ2Uob2JqLCB7XG4gICAgICAgICAgICBleHBhbmRlZDogdGhpcy5zdGF0ZS5pdGVtRHJvcGRvd24gPT09IGl0ZW1LZXkgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICB0YWJJbmRleDogdGhpcy5zdGF0ZS5kcm9wZG93blRyaWdnZXIgPT09IGl0ZW1LZXkgPyAwIDogLTEsXG4gICAgICAgICAgICB0b2dnbGVEcm9wZG93bjogdGhpcy50b2dnbGVEcm9wZG93bi5iaW5kKHRoaXMsIGl0ZW1LZXkpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBkcm9wZG93biBvZiB0aGUgd2lkZ2V0IG9yIGRpc2NhcmRzIHRoZSB0b2dnbGVkIGl0ZW0gZnJvbSB0aGUgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0RHJvcGRvd25cbiAgICAgKiBAbWV0aG9kIHRvZ2dsZURyb3Bkb3duXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1Ecm9wZG93biBUaGUgd2lkZ2V0IHdoaWNoIHJlcXVlc3RzIHRvIHRvZ2dsZSBpdHMgZHJvcGRvd24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvZ2dsZURpcmVjdGlvbiBVc2VyIG1vdmVtZW50IGRpcmVjdGlvbiB3aGVuIHRvZ2dsZWQgdmlhIGtleWJvYXJkLlxuICAgICAqL1xuICAgIHRvZ2dsZURyb3Bkb3duKGl0ZW1Ecm9wZG93biwgdG9nZ2xlRGlyZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZHJvcGRvd25UcmlnZ2VyOiBpdGVtRHJvcGRvd24sXG4gICAgICAgICAgICBpdGVtRHJvcGRvd246IGl0ZW1Ecm9wZG93biAhPT0gdGhpcy5zdGF0ZS5pdGVtRHJvcGRvd24gPyBpdGVtRHJvcGRvd24gOiBudWxsXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLml0ZW1Ecm9wZG93bikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdmVGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cyh0b2dnbGVEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59OyIsImltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBtYW5hZ2luZyBleGNsdXNpdmUgc3RhdGUgb2YgYW4gd2lkZ2V0LlxuICogVGhlIGV4Y2x1c2l2ZSBzdGF0ZSBtZWFucyB0aGF0IGEgYnV0dG9uIG1heSByZXF1ZXN0IHRvIGJlIHRoZSBvbmx5IHJlbmRlcmVkXG4gKiB3aWRnZXQgaW4gaXRzIHBhcmVudCBjb250YWluZXIuIFdpZGdldEV4Y2x1c2l2ZSB3aWxsIG1hbmFnZSB0aGlzIHN0YXRlIGJ5XG4gKiBmaWx0ZXJpbmcgYW5kIHN1cHByZXNzaW5nIHRoZSBvdGhlciBzaWJsaW5nIHdpZGdldHMgZnJvbSBkaXNwbGF5aW5nLlxuICpcbiAqIEBjbGFzcyBXaWRnZXRFeGNsdXNpdmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIGV4Y2x1c2l2ZSBzdGF0ZSBvZiBhbiB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0RXhjbHVzaXZlXG4gICAgICogQG1ldGhvZCBjYW5jZWxFeGNsdXNpdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbUV4Y2x1c2l2ZSBUaGUgd2lkZ2V0IHdoaWNoIGV4Y2x1c2l2ZSBzdGF0ZSBzaG91bGQgYmUgY2FuY2VsZWQuXG4gICAgICovXG4gICAgY2FuY2VsRXhjbHVzaXZlKGl0ZW1FeGNsdXNpdmUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSA9PT0gaXRlbUV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXRlbUV4Y2x1c2l2ZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZWNlaXZpbmcgbmV3IHByb3BzLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cbiAgICAgKiBDYWxsaW5nIHRoaXMuc2V0U3RhdGUoKSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCB0cmlnZ2VyIGFuIGFkZGl0aW9uYWwgcmVuZGVyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBuZXh0UHJvcHMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgc2V0IG9mIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSkge1xuICAgICAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVjZWl2aW5nIHByb3BlcnRpZXMgbWVhbnMgdGhhdCB0aGUgY29tcG9uZW50IGlzIGJlaW5nIHJlLXJlbmRlcmVkLlxuICAgICAgICAvLyBSZS1yZW5kZXJpbmcgaXMgdHJpZ2dlcmVkIGJ5IGVkaXRvckludGVyYWN0aW9uLCBzbyB3ZSBoYXZlIHRvXG4gICAgICAgIC8vIHJlc2V0IHRoZSBleGNsdXNpdmUgc3RhdGUgYW5kIHJlbmRlciB0aGUgVUkgYWNjb3JkaW5nIHRvIHRoZSBuZXcgc2VsZWN0aW9uLlxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGl0ZW1FeGNsdXNpdmU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyB0aGUgaXRlbXMgYW5kIHJldHVybnMgb25seSB0aG9zZSB3aXRoIGV4Y2x1c2l2ZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcbiAgICAgKiBAbWV0aG9kIGZpbHRlckV4Y2x1c2l2ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIFRoZSB3aWRnZXRzIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEByZXR1cm4ge0FycmF5fE9iamVjdH0gVGhlIGl0ZW0gd2l0aCBleGVjdXRpdmUgc3RhdGUuXG4gICAgICovXG4gICAgZmlsdGVyRXhjbHVzaXZlKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLml0ZW1FeGNsdXNpdmUgPT09IGl0ZW0ua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBwcm92aWRlZCBvYmplY3Qgd2l0aCB0aHJlZSBtb3JlIHByb3BlcnRpZXM6XG4gICAgICogLSBjYW5jZWxFeGNsdXNpdmUgLSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYSB3aWRnZXQgaW4gb3JkZXIgdG8gY2FuY2VsIGV4ZWN1dGl2ZSBzdGF0ZS5cbiAgICAgKiAtIHJlbmRlckV4Y2x1c2l2ZSAtIGJvb2xlYW4gZmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgYW4gd2lkZ2V0IHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cbiAgICAgKiAtIHJlcXVlc3RFeGNsdXNpdmUgLSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYSB3aWRnZXQgaW4gb3JkZXIgdG8gb2J0YWluIGV4Y2x1c2l2ZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcbiAgICAgKiBAbWV0aG9kIG1lcmdlRXhjbHVzaXZlUHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBwcm9wZXJ0aWVzIGNvbnRhaW5lciB3aGljaCBzaG91bGQgYmUgbWVyZ2VkIHdpdGggdGhlIHByb3BlcnRpZXMsIHJlbGF0ZWRcbiAgICAgKiAgICB0byBleGNsdXNpdmUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1LZXkgVGhleSBrZXkgb2YgYW4gUmVhY3QgV2lkZ2V0IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtZXJnZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIG1lcmdlRXhjbHVzaXZlUHJvcHMob2JqLCBpdGVtS2V5KSB7XG4gICAgICAgIHJldHVybiBDS0VESVRPUi50b29scy5tZXJnZShvYmosIHtcbiAgICAgICAgICAgIGNhbmNlbEV4Y2x1c2l2ZTogdGhpcy5jYW5jZWxFeGNsdXNpdmUuYmluZCh0aGlzLCBpdGVtS2V5KSxcbiAgICAgICAgICAgIHJlbmRlckV4Y2x1c2l2ZTogKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSA9PT0gaXRlbUtleSksXG4gICAgICAgICAgICByZXF1ZXN0RXhjbHVzaXZlOiB0aGlzLnJlcXVlc3RFeGNsdXNpdmUuYmluZCh0aGlzLCBpdGVtS2V5KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbmQgc2V0cyBleGNsdXNpdmUgc3RhdGUgb2YgYW4gd2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuICAgICAqIEBtZXRob2QgcmVxdWVzdEV4Y2x1c2l2ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtRXhjbHVzaXZlIFRoZSB3aWRnZXQgd2hpY2ggcmVxdWVzdHMgZXhjbHVzaXZlIHN0YXRlLlxuICAgICAqL1xuICAgIHJlcXVlc3RFeGNsdXNpdmUoaXRlbUV4Y2x1c2l2ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGl0ZW1FeGNsdXNpdmU6IGl0ZW1FeGNsdXNpdmVcbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCJpbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIERJUkVDVElPTl9OT05FID0gMDtcbnZhciBESVJFQ1RJT05fTkVYVCA9IDE7XG52YXIgRElSRUNUSU9OX1BSRVYgPSAtMTtcblxudmFyIEFDVElPTl9OT05FID0gMDtcbnZhciBBQ1RJT05fTU9WRV9GT0NVUyA9IDE7XG52YXIgQUNUSU9OX0RJU01JU1NfRk9DVVMgPSAyO1xuXG4vKipcbiAqIFdpZGdldEZvY3VzTWFuYWdlciBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMga2V5Ym9hcmQgbmF2aWdhdGlvbiBpbnNpZGUgYSB3aWRnZXQuIFRvIGRvIHRoaXMsXG4gKiBpdCBleHBvc2VzIHRoZSBmb2xsb3dpbmcgcHJvcHMgYW5kIG1ldGhvZHM6XG4gKlxuICogQGNsYXNzIFdpZGdldEZvY3VzTWFuYWdlclxuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc3VwZXIuY29tcG9uZW50RGlkTW91bnQpKSB7XG4gICAgICAgICAgICBzdXBlci5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50J3MgdXBkYXRlcyBhcmUgZmx1c2hlZCB0byB0aGUgRE9NLlxuICAgICAqIFJlZnJlc2hlcyB0aGUgZGVzY2VuZGFudHMgbGlzdC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZFVwZGF0ZVxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnREaWRVcGRhdGUpKSB7XG4gICAgICAgICAgICBzdXBlci5jb21wb25lbnREaWRVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2N1c2VzIHRoZSBjdXJyZW50IGFjdGl2ZSBkZXNjZW5kYW50LlxuICAgICAqXG4gICAgICogU2V2ZXJhbCBXaWRnZXRzIGNhbiBiZSBuZXN0ZWQgaW4gYSBjb21wb25lbnQgaGllcmFyY2h5IGJ5IGF0dGFjaGluZyB0aGlzIGZvY3VzIG1ldGhvZCB0b1xuICAgICAqIHRoZSB3aWRnZXQgRE9NIG5vZGUsIHRyYW5zZmVycmluZyB0aGUgRE9NIGZvY3VzIGNvbnRyb2wgdG8gdGhlIGlubmVyIEZvY3VzTWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIGZvY3VzXG4gICAgICovXG4gICAgZm9jdXMoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudCB8fCB0aGlzLl9pc1ZhbGlkVGFyZ2V0KGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXNjZW5kYW50cyAmJiB0aGlzLl9kZXNjZW5kYW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRGVzY2VuZGFudEVsID0gdGhpcy5fZGVzY2VuZGFudHNbdGhpcy5fYWN0aXZlRGVzY2VuZGFudF07XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB1c2VyIGNsaWNrcyB3aXRoIHRoZSBtb3VzZSwgdGhlIGFjdGl2ZUVsZW1lbnQgaXMgYWxyZWFkeSBzZXQgYW5kIHRoZXJlXG4gICAgICAgICAgICAgICAgLy8gaXMgbm8gbmVlZCB0byBmb2N1cyBpdC4gRm9jdXNpbmcgb2YgdGhlIGFjdGl2ZSBkZXNjZW5kYW50ICh1c3VhbGx5IHNvbWUgYnV0dG9uKSBpcyByZXF1aXJlZFxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugb2Yga2V5Ym9hcmQgbmF2aWdhdGlvbiwgYmVjYXVzZSB0aGUgZm9jdXNlZCBlbGVtZW50IG1pZ2h0IGJlIG5vdCB0aGUgZmlyc3QgYnV0dG9uLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCB0aGUgZGl2IGVsZW1lbnQsIHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b24uXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGFjdGl2ZURlc2NlbmRhbnRFbCAmJiAhdGhpcy5wcm9wcy5mb2N1c0ZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rlc2NlbmRhbnRzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVEZXNjZW5kYW50RWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBrZXkgZXZlbnRzIG9uIGEgRE9NIG5vZGUgdG8gZXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgbmF2aWdhdGlvbiB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50IHRoYXQgd2FzIGRldGVjdGVkIG9uIHRoZSB3aWRnZXQgRE9NIG5vZGUuXG4gICAgICogQG1ldGhvZCBoYW5kbGVLZXlcbiAgICAgKi9cbiAgICBoYW5kbGVLZXkoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRUYXJnZXQoZXZlbnQudGFyZ2V0KSAmJiB0aGlzLl9kZXNjZW5kYW50cykge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuX2dldEZvY3VzQWN0aW9uKGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQUNUSU9OX01PVkVfRk9DVVMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW92ZUZvY3VzKGFjdGlvbi5kaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQUNUSU9OX0RJU01JU1NfRk9DVVMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRpc21pc3MoYWN0aW9uLmRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGZvY3VzIGFtb25nIGRlc2NlbmRhbnRzIGluIHRoZSBlc3BlY2lmaWVkIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIG1vdmVGb2N1c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiAoMSBvciAtMSkgb2YgdGhlIGZvY3VzIG1vdmVtZW50IGFtb25nIGRlc2NlbmRhbnRzLlxuICAgICAqL1xuICAgIG1vdmVGb2N1cyhkaXJlY3Rpb24pIHtcbiAgICAgICAgZGlyZWN0aW9uID0gTGFuZy5pc051bWJlcihkaXJlY3Rpb24pID8gZGlyZWN0aW9uIDogMDtcblxuICAgICAgICB0aGlzLl9tb3ZlRm9jdXMoZGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3Rpb24sIGlmIGFueSwgdGhhdCBhIGtleWJvYXJkIGV2ZW50IGluIHRoZSBjdXJyZW50IGZvY3VzIG1hbmFnZXIgc3RhdGVcbiAgICAgKiBzaG91bGQgcHJvZHVjZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIF9nZXRGb2N1c0FjdGlvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgS2V5Ym9hcmQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gYWN0aW9uIG9iamVjdCB3aXRoIHR5cGUgYW5kIGRpcmVjdGlvbiBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIF9nZXRGb2N1c0FjdGlvbihldmVudCkge1xuICAgICAgICB2YXIgYWN0aW9uID0ge1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OX05PTkVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5rZXlzKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5fZ2V0Rm9jdXNNb3ZlRGlyZWN0aW9uKGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGFjdGlvbi5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSBBQ1RJT05fTU9WRV9GT0NVUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRpc21pc3NBY3Rpb24gPSB0aGlzLl9nZXRGb2N1c0Rpc21pc3NBY3Rpb24oZXZlbnQsIGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChkaXNtaXNzQWN0aW9uLmRpc21pc3MpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24uZGlyZWN0aW9uID0gZGlzbWlzc0FjdGlvbi5kaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSBBQ1RJT05fRElTTUlTU19GT0NVUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlzbWlzcyBhY3Rpb24sIGlmIGFueSwgdGhlIGZvY3VzIG1hbmFnZXIgc2hvdWxkIGV4ZWN1dGUgdG8geWllbGQgdGhlIGZvY3VzLiBUaGlzXG4gICAgICogd2lsbCBoYXBwZW4gaW4gYW55IG9mIHRoZXNlIHNjZW5hcmlvcyBpZiBhIGRpc21pc3MgY2FsbGJhY2sgaGFzIGJlZW4gc3BlY2lmaWVkOlxuICAgICAqIC0gQSBkaXNtaXNzIGtleSBoYXMgYmVlbiBwcmVzc2VkXG4gICAgICogLSBJbiBhIG5vbi1jaXJjdWxhciBmb2N1cyBtYW5hZ2VyLCB3aGVuOlxuICAgICAqICAgICAtIFRoZSBhY3RpdmUgZGVzY2VuZGFudCBpcyB0aGUgZmlyc3Qgb25lIGFuZCBhIHByZXYga2V5IGhhcyBiZWVuIHByZXNzZWQuXG4gICAgICogICAgIC0gVGhlIGFjdGl2ZSBkZXNjZW5kYW50IGlzIHRoZSBsYXN0IG9uZSBhbmQgYSBuZXh0IGtleSBoYXMgYmVlbiBwcmVzc2VkLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuICAgICAqIEBtZXRob2QgX2dldEZvY3VzRGlzbWlzc0FjdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmb2N1c01vdmVEaXJlY3Rpb24gVGhlIGZvY3VzIG1vdmVtZW50IGRpcmVjdGlvbiAoaWYgYW55KS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgZGlzbWlzcyBhY3Rpb24gd2l0aCBkaXNtaXNzIGFuZCBkaXJlY3Rpb24gcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBfZ2V0Rm9jdXNEaXNtaXNzQWN0aW9uKGV2ZW50LCBmb2N1c01vdmVEaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIGRpc21pc3NBY3Rpb24gPSB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IGZvY3VzTW92ZURpcmVjdGlvbixcbiAgICAgICAgICAgIGRpc21pc3M6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25EaXNtaXNzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNWYWxpZEtleShldmVudC5rZXlDb2RlLCB0aGlzLnByb3BzLmtleXMuZGlzbWlzcykpIHtcbiAgICAgICAgICAgICAgICBkaXNtaXNzQWN0aW9uLmRpc21pc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLmRpc21pc3NOZXh0KSkge1xuICAgICAgICAgICAgICAgIGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGlzbWlzc0FjdGlvbi5kaXJlY3Rpb24gPSBESVJFQ1RJT05fTkVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5kaXNtaXNzUHJldikpIHtcbiAgICAgICAgICAgICAgICBkaXNtaXNzQWN0aW9uLmRpc21pc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uID0gRElSRUNUSU9OX1BSRVY7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZGlzbWlzc0FjdGlvbi5kaXNtaXNzICYmICF0aGlzLnByb3BzLmNpcmN1bGFyICYmIGZvY3VzTW92ZURpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IChcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNNb3ZlRGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFViAmJiB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgIGZvY3VzTW92ZURpcmVjdGlvbiA9PT0gRElSRUNUSU9OX05FWFQgJiYgdGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9PT0gdGhpcy5fZGVzY2VuZGFudHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlzbWlzc0FjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXJlY3Rpb24sIGlmIGFueSwgaW4gd2hpY2ggdGhlIGZvY3VzIHNob3VsZCBiZSBtb3ZlZC4gSW4gcHJlc2VuY2Ugb2YgdGhlXG4gICAgICogc2hpZnQga2V5IG1vZGlmaWVyLCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBtb3ZlbWVudCBpcyBpbnZlcnRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIF9nZXRGb2N1c01vdmVEaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjb21wdXRlZCBkaXJlY3Rpb24gb2YgdGhlIGV4cGVjdGVkIGZvY3VzIG1vdmVtZW50LlxuICAgICAqL1xuICAgIF9nZXRGb2N1c01vdmVEaXJlY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IERJUkVDVElPTl9OT05FO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5uZXh0KSkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gRElSRUNUSU9OX05FWFQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLnByZXYpKSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBESVJFQ1RJT05fUFJFVjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5zaGlmS2V5KSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gKj0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiBhIGdpdmVuIGtleUNvZGUgaXMgdmFsaWQgZm9yIHRoZSBnaXZlbiBzZXQgb2Yga2V5cy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIF9pc1ZhbGlkS2V5XG4gICAgICogQHBhcmFtIHtBcnJheXxOdW1iZXJ9IGtleXMgQSBrZXkgc2V0LiBDYW4gYmUgYSBudW1iZXIgYW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGFsbG93ZWQga2V5Q29kZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGtleUNvZGUgQW4gZXZlbnQga2V5Q29kZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gQSBib29sZWFuIHZhbHVlIGluZGljYXRpbmcgaWYgdGhlIGtleSBpcyB2YWxpZC5cbiAgICAgKi9cbiAgICBfaXNWYWxpZEtleShrZXlDb2RlLCBrZXlzKSB7XG4gICAgICAgIHJldHVybiBMYW5nLmlzQXJyYXkoa2V5cykgPyAoa2V5cy5pbmRleE9mKGtleUNvZGUpICE9PSAtMSkgOiAoa2V5Q29kZSA9PT0ga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIGEgZ2l2ZW4gZWxlbWVudCBpcyB2YWxpZCBmb3IgZm9jdXMgbWFuYWdlbWVudC4gVXNlciBpbnB1dCBlbGVtZW50cyBzdWNoIGFzXG4gICAgICogaW5wdXQsIHNlbGVjdCBvciB0ZXh0YXJlYSBhcmUgZXhjbHVkZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gICAgICogQG1ldGhvZCBfaXNWYWxpZEtleVxuICAgICAqIEBwYXJhbSB7RE9NTm9kZX0gZWxlbWVudCBBIERPTSBlbGVtZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBBIGJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgZWxlbWVudCBpcyB2YWxpZC5cbiAgICAgKi9cbiAgICBfaXNWYWxpZFRhcmdldChlbGVtZW50KSB7XG4gICAgICAgIHZhciB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgcmV0dXJuICh0YWdOYW1lICE9PSAnaW5wdXQnICYmIHRhZ05hbWUgIT09ICdzZWxlY3QnICYmIHRhZ05hbWUgIT09ICd0ZXh0YXJlYScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBmb2N1cyBhbW9uZyBkZXNjZW5kYW50cyBpbiB0aGUgZXNwZWNpZmllZCBkaXJlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gICAgICogQG1ldGhvZCBfbW92ZUZvY3VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uICgxIG9yIC0xKSBvZiB0aGUgZm9jdXMgbW92ZW1lbnQgYW1vbmcgZGVzY2VuZGFudHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9tb3ZlRm9jdXMoZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBudW1EZXNjZW5kYW50cyA9IHRoaXMuX2Rlc2NlbmRhbnRzLmxlbmd0aDtcblxuICAgICAgICB2YXIgZGVzY2VuZGFudCA9IHRoaXMuX2Rlc2NlbmRhbnRzW3RoaXMuX2FjdGl2ZURlc2NlbmRhbnRdO1xuXG4gICAgICAgIGRlc2NlbmRhbnQuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsIC0xKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICs9IGRpcmVjdGlvbjtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jaXJjdWxhcikge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHByb3BlciBtb2R1bG8gcmVzdWx0IHNpbmNlIHJlbWFpbmRlciBvcGVyYXRvciBkb2Vzbid0IGJlaGF2ZSBpbiB0aGVcbiAgICAgICAgICAgIC8vIHNhbWUgd2F5IGZvciBuZWdhdGl2ZSBudW1iZXJzXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gKCh0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICUgbnVtRGVzY2VuZGFudHMpICsgbnVtRGVzY2VuZGFudHMpICUgbnVtRGVzY2VuZGFudHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5fYWN0aXZlRGVzY2VuZGFudCwgbnVtRGVzY2VuZGFudHMgLSAxKSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjZW5kYW50ID0gdGhpcy5fZGVzY2VuZGFudHNbdGhpcy5fYWN0aXZlRGVzY2VuZGFudF07XG5cbiAgICAgICAgZGVzY2VuZGFudC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgMCk7XG4gICAgICAgIGRlc2NlbmRhbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGRlc2NlbmRhbnRzIGxpc3QgYnkgZXhlY3V0aW5nIHRoZSBDU1Mgc2VsZWN0b3IgYWdhaW4gYW5kIHJlc2V0cyB0aGUgZGVzY2VuZGFudHMgdGFiSW5kZXguXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gICAgICogQG1ldGhvZCBfcmVmcmVzaFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuICAgICAgICBpZiAoZG9tTm9kZSkge1xuICAgICAgICAgICAgdmFyIGRlc2NlbmRhbnRzID0gZG9tTm9kZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMucHJvcHMuZGVzY2VuZGFudHMpO1xuXG4gICAgICAgICAgICB2YXIgcHJpb3JpdHlEZXNjZW5kYW50cyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9kZXNjZW5kYW50cyA9IFtdO1xuXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkZXNjZW5kYW50cykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFUYWJJbmRleCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYmluZGV4Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YVRhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5RGVzY2VuZGFudHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXNjZW5kYW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHByaW9yaXR5RGVzY2VuZGFudHMgPSBwcmlvcml0eURlc2NlbmRhbnRzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoTGFuZy50b0ludChhLmdldEF0dHJpYnV0ZSgnZGF0YS10YWJpbmRleCcpKSA+IExhbmcudG9JbnQoYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiaW5kZXgnKSkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Rlc2NlbmRhbnRzID0gcHJpb3JpdHlEZXNjZW5kYW50cy5jb25jYXQodGhpcy5fZGVzY2VuZGFudHMpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5fZGVzY2VuZGFudHMuc29tZShmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZURlc2NlbmRhbnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG59OyIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uIHdoZXJlIGFuIFdpZGdldCBzaG91bGQgYmUgZGlzcGxheWVkIGJhc2VkIG9uIHRoZSBwb2ludFxuICogd2hlcmUgdXNlciBpbnRlcmFjdGVkIHdpdGggdGhlIGVkaXRvci5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0UG9zaXRpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5XcmFwcGVkQ29tcG9uZW50LmRlZmF1bHRQcm9wcyxcbiAgICAgICAgZ3V0dGVyOiB7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAxMFxuICAgICAgICB9LFxuICAgICAgICBjb25zdHJhaW5Ub1ZpZXdwb3J0OiB0cnVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbiBzY2hlZHVsZWQgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBjYW5jZWxBbmltYXRpb25cbiAgICAgKi9cbiAgICBjYW5jZWxBbmltYXRpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZUlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCBpbiBwYWdlIGNvb3JkaW5hdGVzLFxuICAgICAqIHJlc3RyaWN0ZWQgdG8gZml0IHRvIGdpdmVuIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBnZXRDb25zdHJhaW5lZFBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcywgcHJvdmlkZWQgYXMgbnVtYmVyczpcbiAgICAgKiAtIGhlaWdodFxuICAgICAqIC0gbGVmdFxuICAgICAqIC0gdG9wXG4gICAgICogLSB3aWR0aFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3UGFuZVNpemUgT3B0aW9uYWwuIElmIG5vdCBwcm92aWRlZCwgdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lsbCBiZSB1c2VkLiBTaG91bGQgY29udGFpbiBhdCBsZWFzdCB0aGVzZSBwcm9wZXJ0aWVzOlxuICAgICAqIC0gd2lkdGhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGB4YCBhbmQgYHlgIHByb3BlcnRpZXMsIHdoaWNoIHJlcHJlc2VudCB0aGUgY29uc3RyYWluZWQgcG9zaXRpb24gb2YgdGhlXG4gICAgICogZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRDb25zdHJhaW5lZFBvc2l0aW9uKGF0dHJzLCB2aWV3UGFuZVNpemUpIHtcbiAgICAgICAgdmlld1BhbmVTaXplID0gdmlld1BhbmVTaXplIHx8IG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0Vmlld1BhbmVTaXplKCk7XG5cbiAgICAgICAgdmFyIHggPSBhdHRycy5sZWZ0O1xuICAgICAgICB2YXIgeSA9IGF0dHJzLnRvcDtcblxuICAgICAgICBpZiAoYXR0cnMubGVmdCArIGF0dHJzLndpZHRoID4gdmlld1BhbmVTaXplLndpZHRoKSB7XG4gICAgICAgICAgICB4IC09IChhdHRycy5sZWZ0ICsgYXR0cnMud2lkdGggLSB2aWV3UGFuZVNpemUud2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvc2l0aW9uLCBpbiBwYWdlIGNvb3JkaW5hdGVzLCBhY2NvcmRpbmcgdG8gd2hpY2ggYSB3aWRnZXQgc2hvdWxkIGFwcGVhci5cbiAgICAgKiBEZXBlbmRpbmcgb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLCB0aGUgd2RpZ2V0IG1heSBhcHBlYXIgYWJvdmUgb2Ygb3Igb24gYm90dG9tIG9mIHRoZSBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJdCBkZXBlbmRzIG9uIHRoZSBwcm9wcyBlZGl0b3JFdmVudCB0byBhbmFseXplIHRoZSBmb2xsb3dpbmcgdXNlci1pbnRlcmFjdGlvbiBwYXJhbWV0ZXJzOlxuICAgICAqIC0ge09iamVjdH0gc2VsZWN0aW9uRGF0YSBUaGUgZGF0YSBhYm91dCB0aGUgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgYXMgcmV0dXJuZWQgZnJvbVxuICAgICAqIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfc2VsZWN0aW9ucmVnaW9uL2dldFNlbGVjdGlvbkRhdGE6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319XG4gICAgICogLSB7TnVtYmVyfSBwb3MgQ29udGFpbnMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb3NpdGlvbiwgY29uc2lkZXJlZCBhcyBtb3N0IGFwcHJvcHJpYXRlLlxuICAgICAqIFRoaXMgbWF5IGJlIHRoZSBwb2ludCB3aGVyZSB0aGUgdXNlciByZWxlYXNlZCB0aGUgbW91c2UsIG9yIGp1c3QgdGhlIGJlZ2lubmluZyBvciB0aGUgZW5kIG9mXG4gICAgICogdGhlIHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRJbnRlcmFjdGlvblBvaW50XG4gICAgICogQG1ldGhvZCBnZXRJbnRlcmFjdGlvblBvaW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbiBPYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqIGRpcmVjdGlvbiwgeCwgeSwgd2hlcmUgeCBhbmQgeSBhcmUgaW4gcGFnZSBjb29yZGluYXRlcyBhbmQgZGlyZWN0aW9uIGNhbiBiZSBvbmUgb2YgdGhlc2U6XG4gICAgICogQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1Agb3IgQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT01cbiAgICAgKi9cbiAgICBnZXRJbnRlcmFjdGlvblBvaW50KCkge1xuICAgICAgICB2YXIgZXZlbnRQYXlsb2FkID0gdGhpcy5wcm9wcy5lZGl0b3JFdmVudCA/IHRoaXMucHJvcHMuZWRpdG9yRXZlbnQuZGF0YSA6IG51bGw7XG5cbiAgICAgICAgaWYgKCFldmVudFBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3Rpb25EYXRhID0gZXZlbnRQYXlsb2FkLnNlbGVjdGlvbkRhdGE7XG5cbiAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnRQYXlsb2FkLm5hdGl2ZUV2ZW50O1xuXG4gICAgICAgIHZhciBwb3MgPSB7XG4gICAgICAgICAgICB4OiBldmVudFBheWxvYWQubmF0aXZlRXZlbnQucGFnZVgsXG4gICAgICAgICAgICB5OiBzZWxlY3Rpb25EYXRhLnJlZ2lvbi50b3BcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uZGlyZWN0aW9uO1xuXG4gICAgICAgIHZhciBlbmRSZWN0ID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uZW5kUmVjdDtcblxuICAgICAgICB2YXIgc3RhcnRSZWN0ID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uc3RhcnRSZWN0O1xuXG4gICAgICAgIGlmIChlbmRSZWN0ICYmIHN0YXJ0UmVjdCAmJiBzdGFydFJlY3QudG9wID09PSBlbmRSZWN0LnRvcCkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1A7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeDtcbiAgICAgICAgdmFyIHk7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSB0aGUgcG9pbnQgd2hlcmUgdXNlciByZWxlYXNlZCB0aGUgbW91c2UsIHNob3cgVG9vbGJhciBhdCB0aGlzIHBvaW50XG4gICAgICAgIC8vIG90aGVyd2lzZSBzaG93IGl0IG9uIHRoZSBtaWRkbGUgb2YgdGhlIHNlbGVjdGlvbi5cblxuICAgICAgICBpZiAocG9zLnggJiYgcG9zLnkpIHtcbiAgICAgICAgICAgIHggPSB0aGlzLl9nZXRYUG9pbnQoc2VsZWN0aW9uRGF0YSwgcG9zLngpO1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCkge1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1pbihwb3MueSwgc2VsZWN0aW9uRGF0YS5yZWdpb24udG9wKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KHBvcy55LCB0aGlzLl9nZXRZUG9pbnQoc2VsZWN0aW9uRGF0YSwgbmF0aXZlRXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5sZWZ0ICsgc2VsZWN0aW9uRGF0YS5yZWdpb24ud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSkge1xuXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMuX2dldFlQb2ludChzZWxlY3Rpb25EYXRhLCBuYXRpdmVFdmVudCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLnRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIFdpZGdldC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRJbnRlcmFjdGlvblBvaW50XG4gICAgICogQG1ldGhvZCBfZ2V0WFBvaW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50WCBUaGUgWCBjb29yZGluYXRlIHJlY2VpdmVkIGZyb20gdGhlIG5hdGl2ZSBldmVudCAobW91c2V1cCkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGlvbkRhdGEgVGhlIGRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yIGFzIHJldHVybmVkIGZyb20ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0U2VsZWN0aW9uRGF0YTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgY2FsY3VsYXRlZCBYIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgX2dldFhQb2ludChzZWxlY3Rpb25EYXRhLCBldmVudFgpIHtcbiAgICAgICAgdmFyIHJlZ2lvbiA9IHNlbGVjdGlvbkRhdGEucmVnaW9uO1xuXG4gICAgICAgIHZhciBsZWZ0ID0gcmVnaW9uLnN0YXJ0UmVjdCA/IHJlZ2lvbi5zdGFydFJlY3QubGVmdCA6IHJlZ2lvbi5sZWZ0O1xuICAgICAgICB2YXIgcmlnaHQgPSByZWdpb24uZW5kUmVjdCA/IHJlZ2lvbi5lbmRSZWN0LnJpZ2h0IDogcmVnaW9uLnJpZ2h0O1xuXG4gICAgICAgIHZhciB4O1xuXG4gICAgICAgIGlmIChsZWZ0IDwgZXZlbnRYICYmIHJpZ2h0ID4gZXZlbnRYKSB7XG4gICAgICAgICAgICB4ID0gZXZlbnRYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxlZnREaXN0ID0gTWF0aC5hYnMobGVmdCAtIGV2ZW50WCk7XG4gICAgICAgICAgICB2YXIgcmlnaHREaXN0ID0gTWF0aC5hYnMocmlnaHQgLSBldmVudFgpO1xuXG4gICAgICAgICAgICBpZiAobGVmdERpc3QgPCByaWdodERpc3QpIHsgLy8gdXNlciByYWlzZWQgdGhlIG1vdXNlIG9uIGxlZnQgb24gdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIHggPSBsZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgV2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEludGVyYWN0aW9uUG9pbnRcbiAgICAgKiBAbWV0aG9kIF9nZXRZUG9pbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbmF0aXZlRXZlbnQgVGhlIGRhdGEgYWJvdXQgZXZlbnQgaXMgZmlyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VsZWN0aW9uRGF0YSBUaGUgZGF0YSBhYm91dCB0aGUgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgYXMgcmV0dXJuZWQgZnJvbSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRTZWxlY3Rpb25EYXRhOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjYWxjdWxhdGVkIFkgcG9pbnQgaW4gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBfZ2V0WVBvaW50KHNlbGVjdGlvbkRhdGEsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICAgIHZhciB5ID0gMDtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uRGF0YSAmJiBuYXRpdmVFdmVudCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRUYXJnZXQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobmF0aXZlRXZlbnQudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRUYXJnZXQuJCAmJiBlbGVtZW50VGFyZ2V0LmdldFN0eWxlKCdvdmVyZmxvdycpID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICB5ID0gbmF0aXZlRXZlbnQudGFyZ2V0Lm9mZnNldFRvcCArIG5hdGl2ZUV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHkgPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5ib3R0b207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgV2lkZ2V0IHRha2luZyBpbiBjb25zaWRlcmF0aW9uIHRoZVxuICAgICAqIHt7I2Nyb3NzTGluayBcIldpZGdldFBvc2l0aW9uL2d1dHRlcjphdHRyaWJ1dGVcIn19e3svY3Jvc3NMaW5rfX0gYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgIGdldFdpZGdldFhZUG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdCBUaGUgbGVmdCBvZmZzZXQgaW4gcGFnZSBjb29yZGluYXRlcyB3aGVyZSBUb29sYmFyIHNob3VsZCBiZSBzaG93bi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG9wIFRoZSB0b3Agb2Zmc2V0IGluIHBhZ2UgY29vcmRpbmF0ZXMgd2hlcmUgVG9vbGJhciBzaG91bGQgYmUgc2hvd24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBzZWxlY3Rpb24uIE1heSBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAgICAgKiBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCBvciBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBbiBBcnJheSB3aXRoIGxlZnQgYW5kIHRvcCBvZmZzZXRzIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZ2V0V2lkZ2V0WFlQb2ludChsZWZ0LCB0b3AsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIHZhciBndXR0ZXIgPSB0aGlzLnByb3BzLmd1dHRlcjtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSB8fCBkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QKSB7XG4gICAgICAgICAgICBsZWZ0ID0gbGVmdCAtIGd1dHRlci5sZWZ0IC0gKGRvbU5vZGUub2Zmc2V0V2lkdGggLyAyKTtcblxuICAgICAgICAgICAgdG9wID0gKGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT00pID8gKHRvcCArIGd1dHRlci50b3ApIDpcbiAgICAgICAgICAgICAgICAodG9wIC0gZG9tTm9kZS5vZmZzZXRIZWlnaHQgLSBndXR0ZXIudG9wKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX0xFRlRfVE9fUklHSFQgfHxcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX1JJR0hUX1RPX0xFRlQpIHtcblxuICAgICAgICAgICAgbGVmdCA9IChkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9MRUZUX1RPX1JJR0hUKSA/XG4gICAgICAgICAgICAgICAgKGxlZnQgKyBndXR0ZXIubGVmdCArIGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMikgOlxuICAgICAgICAgICAgICAgIChsZWZ0IC0gMyAqIGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMiAtIGd1dHRlci5sZWZ0KTtcblxuICAgICAgICAgICAgdG9wID0gdG9wIC0gZ3V0dGVyLnRvcCAtIChkb21Ob2RlLm9mZnNldEhlaWdodCAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3AgPCAwKSB7XG4gICAgICAgICAgICB0b3AgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtsZWZ0LCB0b3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBpc1Zpc2libGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNWaXNpYmxlKCkge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIGlmIChkb21Ob2RlKSB7XG4gICAgICAgICAgICB2YXIgZG9tRWxlbWVudCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkb21Ob2RlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQuaGFzQ2xhc3MoJ2FsbG95LWVkaXRvci12aXNpYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSB3aWRnZXQgZnJvbSBhIHN0YXJ0aW5nIHBvaW50IHRvIGEgZGVzdGluYXRpb24gcG9pbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cbiAgICAgKiBAbWV0aG9kIG1vdmVUb1BvaW50XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzdGFydFBvaW50IFRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIG1vdmVtZW50LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZW5kUG9pbnQgVGhlIGRlc3RpbmF0aW9uIHBvaW50IGZvciB0aGUgbW92ZW1lbnQuXG4gICAgICovXG4gICAgbW92ZVRvUG9pbnQoc3RhcnRQb2ludCwgZW5kUG9pbnQpIHtcbiAgICAgICAgdmFyIGRvbUVsZW1lbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpO1xuXG4gICAgICAgIGRvbUVsZW1lbnQuc2V0U3R5bGVzKHtcbiAgICAgICAgICAgIGxlZnQ6IHN0YXJ0UG9pbnRbMF0gKyAncHgnLFxuICAgICAgICAgICAgdG9wOiBzdGFydFBvaW50WzFdICsgJ3B4JyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVDbGFzcygnYWxsb3ktZWRpdG9yLWludmlzaWJsZScpO1xuXG4gICAgICAgIHRoaXMuX2FuaW1hdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LmFkZENsYXNzKCdhZS10b29sYmFyLXRyYW5zaXRpb24nKTtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQuYWRkQ2xhc3MoJ2FsbG95LWVkaXRvci12aXNpYmxlJyk7XG4gICAgICAgICAgICBkb21FbGVtZW50LnNldFN0eWxlcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogZW5kUG9pbnRbMF0gKyAncHgnLFxuICAgICAgICAgICAgICAgIHRvcDogZW5kUG9pbnRbMV0gKyAncHgnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgd2lkZ2V0IHdpdGggdGhlIGRlZmF1bHQgYW5pbWF0aW9uIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cbiAgICAgKiBAbWV0aG9kIHNob3dcbiAgICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgICB2YXIgdWlOb2RlID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCd1aU5vZGUnKTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdWlOb2RlID8gdWlOb2RlLnNjcm9sbFRvcCA6IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzVmlzaWJsZSgpICYmIGRvbU5vZGUpIHtcbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvblBvaW50ID0gdGhpcy5nZXRJbnRlcmFjdGlvblBvaW50KCk7XG5cbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvblBvaW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbUVsZW1lbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZG9tTm9kZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmluYWxYLFxuICAgICAgICAgICAgICAgICAgICBmaW5hbFksXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxYLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsWTtcblxuICAgICAgICAgICAgICAgIGZpbmFsWCA9IGluaXRpYWxYID0gcGFyc2VGbG9hdChkb21FbGVtZW50LmdldFN0eWxlKCdsZWZ0JykpO1xuICAgICAgICAgICAgICAgIGZpbmFsWSA9IGluaXRpYWxZID0gcGFyc2VGbG9hdChkb21FbGVtZW50LmdldFN0eWxlKCd0b3AnKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5jb25zdHJhaW5Ub1ZpZXdwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLmdldENvbnN0cmFpbmVkUG9zaXRpb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUZsb2F0KGRvbU5vZGUub2Zmc2V0SGVpZ2h0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGZpbmFsWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZmluYWxZLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlRmxvYXQoZG9tTm9kZS5vZmZzZXRXaWR0aClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZmluYWxYID0gcmVzLng7XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsWSA9IHJlcy55O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvblBvaW50LmRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT00pIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFkgPSB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uLmJvdHRvbSArIHNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsWSA9IHRoaXMucHJvcHMuc2VsZWN0aW9uRGF0YS5yZWdpb24udG9wICsgc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvUG9pbnQoW2luaXRpYWxYLCBpbml0aWFsWV0sIFtmaW5hbFgsIGZpbmFsWV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgd2lkZ2V0IHBvc2l0aW9uIGJhc2VkIG9uIHRoZSBjdXJyZW50IGludGVyYWN0aW9uIHBvaW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCB1cGRhdGVQb3NpdGlvblxuICAgICAqL1xuICAgIHVwZGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25Qb2ludCA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpO1xuXG4gICAgICAgIHZhciBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9uUG9pbnQgJiYgZG9tTm9kZSkge1xuICAgICAgICAgICAgdmFyIHVpTm9kZSA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgndWlOb2RlJykgfHwgZG9jdW1lbnQuYm9keTtcbiAgICAgICAgICAgIHZhciB1aU5vZGVTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodWlOb2RlKTtcbiAgICAgICAgICAgIHZhciB1aU5vZGVNYXJnaW5MZWZ0ID0gcGFyc2VJbnQodWlOb2RlU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLWxlZnQnKSwgMTApO1xuICAgICAgICAgICAgdmFyIHVpTm9kZU1hcmdpblJpZ2h0ID0gcGFyc2VJbnQodWlOb2RlU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLXJpZ2h0JyksIDEwKTtcbiAgICAgICAgICAgIHZhciB0b3RhbFdpZHRoID0gdWlOb2RlTWFyZ2luTGVmdCArIHVpTm9kZS5jbGllbnRXaWR0aCArIHVpTm9kZU1hcmdpblJpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdWlOb2RlID8gdWlOb2RlLnNjcm9sbFRvcCA6IDA7XG5cbiAgICAgICAgICAgIHZhciB4eSA9IHRoaXMuZ2V0V2lkZ2V0WFlQb2ludChpbnRlcmFjdGlvblBvaW50LngsIGludGVyYWN0aW9uUG9pbnQueSwgaW50ZXJhY3Rpb25Qb2ludC5kaXJlY3Rpb24pO1xuICAgICAgICAgICAgeHlbMV0gKz0gc2Nyb2xsVG9wO1xuXG4gICAgICAgICAgICBpZiAoeHlbMF0gPCAwKSB7XG4gICAgICAgICAgICAgICAgeHlbMF0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHh5WzBdID4gdG90YWxXaWR0aCAtIGRvbU5vZGUub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgICAgICAgICB4eVswXSA9IHRvdGFsV2lkdGggLSBkb21Ob2RlLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZG9tTm9kZSkuc2V0U3R5bGVzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiB4eVswXSArICdweCcsXG4gICAgICAgICAgICAgICAgdG9wOiB4eVsxXSArICdweCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gYW5pbWF0aW9uIGZyYW1lLCBpZiBwb3NzaWJsZSwgdG8gc2ltdWxhdGUgYW4gYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBfYW5pbWF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBvbiB0aGUgc2NoZWR1bGVkIGZyYW1lLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfYW5pbWF0ZShjYWxsYmFjaykge1xuICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbktleXN0cm9rZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1rZXlzdHJva2UuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Cb2xkIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHN0eWxpbmcgYW4gc2VsZWN0aW9uIHdpdGggc3Ryb25nIChib2xkKSBzdHlsZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQm9sZFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uS2V5c3Ryb2tlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkJvbGQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Cb2xkXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5ib2xkfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1ib2xkXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYm9sZH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1ib2xkXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJvbGRcbiAqIEBtZW1iZXJvZiBCdXR0b25Cb2xkXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkJvbGQua2V5ID0gJ2JvbGQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkJvbGRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkJvbGQuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdib2xkJyxcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdleGVjQ29tbWFuZCcsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA2NiAvKkIqL1xuICAgIH0sXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX2JvbGQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbktleXN0cm9rZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbkJvbGRcbikpKSk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkNhbWVyYUltYWdlIGNsYXNzIHRha2VzIHBob3RvIGZyb20gY2FtZXJhIGFuZCBpbnNlcnRzIGl0IHRvIHRoZSBjb250ZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25DYW1lcmFJbWFnZVxuICovXG5jbGFzcyBCdXR0b25DYW1lcmFJbWFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEZvY3VzZXMgdGhlIHRha2UgcGhvdG8gYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuYnV0dG9uVGFrZVBob3RvKS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cmVhbS5zdG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyZWFtLnN0b3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RyZWFtLmdldFZpZGVvVHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdHJlYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBnZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWE7XG5cbiAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCB7XG4gICAgICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgICAgIGF1ZGlvOiBmYWxzZVxuICAgICAgICB9LCB0aGlzLl9oYW5kbGVTdHJlYW1TdWNjZXNzLmJpbmQodGhpcyksIHRoaXMuX2hhbmRsZVN0cmVhbUVycm9yLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNhbWVyYVwiPlxuICAgICAgICAgICAgICAgIDx2aWRlbyByZWY9XCJ2aWRlb0NvbnRhaW5lclwiPlZpZGVvIHN0cmVhbSBub3QgYXZhaWxhYmxlLjwvdmlkZW8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJhZS1jYW1lcmEtc2hvb3RcIiBvbkNsaWNrPXt0aGlzLnRha2VQaG90by5iaW5kKHRoaXMpfSByZWY9XCJidXR0b25UYWtlUGhvdG9cIj5UYWtlIHBob3RvPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGNhbnZhcyBjbGFzc05hbWU9XCJhZS1jYW1lcmEtY2FudmFzXCIgcmVmPVwiY2FudmFzQ29udGFpbmVyXCI+PC9jYW52YXM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBwaG90byBmcm9tIHRoZSB2aWRlbyBzdHJlYW0gYW5kIGluc2VydHMgaW4gaW50byBlZGl0b3IncyBjb250ZW50LlxuICAgICAqXG4gICAgICogQGZpcmVzIEJ1dHRvbkNhbWVyYUltYWdlI2ltYWdlQ2FtZXJhQWRkXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCB0YWtlUGhvdG9cbiAgICAgKi9cbiAgICB0YWtlUGhvdG8oKSB7XG4gICAgICAgIHZhciB2aWRlb0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnZpZGVvQ29udGFpbmVyKTtcbiAgICAgICAgdmFyIGNhbnZhc0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmNhbnZhc0NvbnRhaW5lcik7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl92aWRlb0hlaWdodDtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5wcm9wcy52aWRlb1dpZHRoO1xuXG4gICAgICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgICAgIGNhbnZhc0VsLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXNFbC5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvRWwsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICB2YXIgaW1nVVJMID0gY2FudmFzRWwudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcblxuICAgICAgICAgICAgdmFyIGVsID0gQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxpbWcgc3JjPVwiJyArIGltZ1VSTCArICdcIj4nKTtcblxuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblxuICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnaW1hZ2VDYW1lcmFBZGQnLCBlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwbGF5cyBlcnJvciBtZXNzYWdlIGluIGNhc2Ugb2YgdmlkZW8gc3RyZWFtIGNhcHR1cmluZyBmYWlsdXJlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCBfaGFuZGxlU3RyZWFtRXJyb3JcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlcnJvciBUaGUgZmlyZWQgZXZlbnQgaW4gY2FzZSBvZiBlcnJvci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhbmRsZVN0cmVhbUVycm9yKGVycm9yKSB7XG4gICAgICAgIHdpbmRvdy5hbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQhICcgKyBlcnJvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHN0cmVhbWluZyB2aWRlbyBpbiB0aGUgdmlkZW8gZWxlbWVudCBhbmQgc2V0cyB3aWR0aC9oZWlnaHQgdG8gdGhlIHZpZGVvXG4gICAgICogYW5kIGNhbnZhcyBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuICAgICAqIEBtZXRob2QgX2hhbmRsZVN0cmVhbVN1Y2Nlc3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RyZWFtIFRoZSB2aWRlbyBzdHJlYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhbmRsZVN0cmVhbVN1Y2Nlc3Moc3RyZWFtKSB7XG4gICAgICAgIHZhciB2aWRlb0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnZpZGVvQ29udGFpbmVyKTtcbiAgICAgICAgdmFyIGNhbnZhc0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmNhbnZhc0NvbnRhaW5lcik7XG5cbiAgICAgICAgdmlkZW9FbC5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB2aWRlb0VsLnZpZGVvSGVpZ2h0IC8gKHZpZGVvRWwudmlkZW9XaWR0aC90aGlzLnByb3BzLnZpZGVvV2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoaXNOYU4oaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucHJvcHMudmlkZW9XaWR0aCAvICg0LzMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2aWRlb0VsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnByb3BzLnZpZGVvV2lkdGgpO1xuICAgICAgICAgICAgdmlkZW9FbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNFbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5wcm9wcy52aWRlb1dpZHRoKTtcbiAgICAgICAgICAgIGNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5fdmlkZW9IZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICBpZiAobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkge1xuICAgICAgICAgICAgdmlkZW9FbC5tb3pTcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2aWRlb0VsLnNyYyA9ICh3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwpLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlkZW9FbC5wbGF5KCk7XG5cbiAgICAgICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmJ1dHRvblRha2VQaG90bykuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFuIGltYWdlIGlzIGJlaW5nIHRha2VuIGZyb20gdGhlIGNhbWVyYSBhbmQgYWRkZWQgYXMgYW4gZWxlbWVudCB0byB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGV2ZW50IEJ1dHRvbkNhbWVyYUltYWdlI2ltYWdlQ2FtZXJhQWRkXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZWwgVGhlIGNyZWF0ZWQgaW1nIGVsZW1lbnQgaW4gZWRpdG9yLlxuICAgICAqL1xufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGNhbWVyYUltYWdlXG4gKiBAbWVtYmVyb2YgQnV0dG9uQ2FtZXJhSW1hZ2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uQ2FtZXJhSW1hZ2Uua2V5ID0gJ2NhbWVyYUltYWdlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqL1xuQnV0dG9uQ2FtZXJhSW1hZ2UuZGVmYXVsdFByb3BzID0ge1xuICAgIHZpZGVvV2lkdGg6IDMyMFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ2FtZXJhSW1hZ2U7XG4iLCJpbXBvcnQgQnV0dG9uQ2FtZXJhSW1hZ2UgZnJvbSAnLi9idXR0b24tY2FtZXJhLWltYWdlLmpzeCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25DYW1lcmEgY2xhc3MgcmVuZGVycyBpbiB0d28gZGlmZmVyZW50IHdheXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGUuXG4gKiAtIEV4Y2x1c2l2ZTogUmVuZGVycyBCdXR0b25DYW1lcmFJbWFnZSBpbiBvcmRlciB0byB0YWtlIHBob3RvIGZyb20gdGhlIGNhbWVyYS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ2FtZXJhXG4gKi9cbmNsYXNzIEJ1dHRvbkNhbWVyYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvbkNhbWVyYUltYWdlIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9ICEobmF2aWdhdG9yLmdldFVzZXJNZWRpYSB8fFxuICAgICAgICAgICAgICAgIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhICYmIGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHMnKSB8fFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEpO1xuXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNhYmxlZCA/IEFsbG95RWRpdG9yLlN0cmluZ3MuY2FtZXJhRGlzYWJsZWQgOiBBbGxveUVkaXRvci5TdHJpbmdzLmNhbWVyYTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e2xhYmVsfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBkYXRhLXR5cGU9XCJidXR0b24taW1hZ2UtY2FtZXJhXCIgZGlzYWJsZWQ9e2Rpc2FibGVkfSBvbkNsaWNrPXt0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUuYmluZChCdXR0b25DYW1lcmEua2V5KX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtsYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tY2FtZXJhXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBjYW1lcmFcbiAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uQ2FtZXJhLmtleSA9ICdjYW1lcmEnO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25DYW1lcmE7XG4iLCJpbXBvcnQgQnV0dG9uQWN0aW9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tYWN0aW9uLXN0eWxlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uQ29kZSBjbGFzcyBwcm92aWRlcyB3cmFwcyBhIHNlbGVjdGlvbiBpbiBgcHJlYCBlbGVtZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db2RlXG4gKiBAdXNlcyBCdXR0b25BY3Rpb25TdHlsZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25Db2RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29kZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29kZX0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tY29kZVwiIG9uQ2xpY2s9e3RoaXMuYXBwbHlTdHlsZS5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29kZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1jb2RlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGNvZGVcbiAqIEBtZW1iZXJvZiBCdXR0b25Db2RlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkNvZGUua2V5ID0gJ2NvZGUnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkNvZGVcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkNvZGUuZGVmYXVsdFByb3BzID0ge1xuICAgIHN0eWxlOiB7XG4gICAgICAgIGVsZW1lbnQ6ICdwcmUnXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQWN0aW9uU3R5bGUoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgIEJ1dHRvblN0eWxlKFxuICAgICAgICBCdXR0b25Db2RlXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Db21tYW5kTGlzdEl0ZW0gY2xhc3MgaXMgYSBVSSBjbGFzcyB0aGF0IHJlbmRlcnMgYSBCdXR0b25Db21tYW5kIHRoYXQgY2FuIGJlIHVzZWQgaW5zaWRlXG4gKiBhIGxpc3QgYXMgYW4gaXRlbSwgd2l0aCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBpdHMgYmVoYXZpb3VyLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db21tYW5kTGlzdEl0ZW1cbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuY2xhc3MgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuZGVzY3JpcHRpb259IGNsYXNzTmFtZT17dGhpcy5fZ2V0Q2xhc3NOYW1lKCl9IG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9Pnt0aGlzLnByb3BzLmRlc2NyaXB0aW9ufTwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNsYXNzIG5hbWUgb2YgV2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbVxuICAgICAqIEBtZXRob2QgX2dldENsYXNzTmFtZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBXaWRnZXQuXG4gICAgICovXG4gICAgX2dldENsYXNzTmFtZSgpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICdhZS1jb250YWluZXIgYWUtdG9vbGJhci1lbGVtZW50JztcblxuICAgICAgICByZXR1cm4gY2xhc3NOYW1lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBidXR0b25Db21tYW5kTGlzdEl0ZW1cbiAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kTGlzdEl0ZW1cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uQ29tbWFuZExpc3RJdGVtLmtleSA9ICdidXR0b25Db21tYW5kTGlzdEl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbVxuKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGZyb20gJy4vYnV0dG9uLWNvbW1hbmQtbGlzdC1pdGVtLmpzeCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Db21tYW5kc0xpc3QgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3Igc2hvd2luZyBhIGxpc3Qgb2YgY29tbWFuZHMgdGhhdCBjYW4gYmVcbiAqIGV4ZWN1dGVkIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbi4uXG4gKlxuICogQGNsYXNzIEJ1dHRvbkNvbW1hbmRzTGlzdFxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvbkNvbW1hbmRzTGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEZvY3VzZXMgb24gdGhlIGxpc3Qgbm9kZSB0byBhbGxvdyBrZXlib2FyZCBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kc0xpc3RcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgbGlzdC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kc0xpc3RcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtZHJvcGRvd24gYWUtYXJyb3ctYm94IGFlLWFycm93LWJveC10b3AtbGVmdFwiIG9uRm9jdXM9e3RoaXMuZm9jdXMuYmluZCh0aGlzKX0gb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleS5iaW5kKHRoaXMpfSB0YWJJbmRleD1cIjBcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiYWUtbGlzdGJveFwiIGlkPXt0aGlzLnByb3BzLmxpc3RJZH0gcm9sZT1cImxpc3Rib3hcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuX3JlbmRlckFjdGlvbnModGhpcy5wcm9wcy5jb21tYW5kcyl9XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgaW5zdGFuY2VzIG9mIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSB3aXRoIHRoZSBkZXNjcmlwdGlvbiBvZiB0aGUgcm93IGFjdGlvbiB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZHNMaXN0XG4gICAgICogQG1ldGhvZCBfcmVuZGVyQWN0aW9uc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gUmVuZGVyZWQgaW5zdGFuY2VzIG9mIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSBjbGFzc1xuICAgICAqL1xuICAgIF9yZW5kZXJBY3Rpb25zKGNvbW1hbmRzKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvcjtcbiAgICAgICAgdmFyIGl0ZW1zO1xuXG4gICAgICAgIGlmIChjb21tYW5kcyAmJiBjb21tYW5kcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGl0ZW1zID0gY29tbWFuZHMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpdGVtLmNvbW1hbmR9IHJvbGU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25Db21tYW5kTGlzdEl0ZW0gY29tbWFuZD17aXRlbS5jb21tYW5kfSBkZXNjcmlwdGlvbj17dHlwZW9mIGl0ZW0ubGFiZWwgPT09ICdzdHJpbmcnID8gaXRlbS5sYWJlbCA6IGl0ZW0ubGFiZWwoKX0gaWNvbj17aXRlbS5pY29ufSBlZGl0b3I9e2VkaXRvcn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJ1dHRvbkNvbW1hbmRzTGlzdFxuICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRzTGlzdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25Db21tYW5kc0xpc3Qua2V5ID0gJ2J1dHRvbkNvbW1hbmRzTGlzdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZHNMaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25Db21tYW5kc0xpc3QuZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiBmYWxzZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvbkNvbW1hbmRzTGlzdFxuKTsiLCJpbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uRHJvcGRvd24gY2xhc3MgcHJvdmlkZXMgbWFya3VwIGFuZCBrZXlib2FyZCBuYXZpZ2F0aW9uIGJlaGF2aW91ciB0byBhIGRyb3Bkb3duXG4gKiBvcGVuZWQgZnJvbSBhIGJ1dHRvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uRHJvcGRvd25cbiAqL1xuY2xhc3MgQnV0dG9uRHJvcGRvd24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Ecm9wZG93blxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1kcm9wZG93biBhZS1hcnJvdy1ib3ggYWUtYXJyb3ctYm94LXRvcC1sZWZ0XCIgb25Gb2N1cz17dGhpcy5mb2N1cy5iaW5kKHRoaXMpfSBvbktleURvd249e3RoaXMuaGFuZGxlS2V5LmJpbmQodGhpcyl9IHRhYkluZGV4PVwiMFwiPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJhZS1saXN0Ym94XCIgcm9sZT1cImxpc3Rib3hcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGRyb3Bkb3duIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGRyb3Bkb3duXG4gKiBAbWVtYmVyb2YgQnV0dG9uRHJvcGRvd25cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uRHJvcGRvd24ua2V5ID0gJ2Ryb3Bkb3duJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25Ecm9wZG93blxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqL1xuQnV0dG9uRHJvcGRvd24uZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiBmYWxzZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvbkRyb3Bkb3duXG4pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIEtFWV9FTlRFUiA9IDEzO1xudmFyIEtFWV9FU0MgPSAyNztcblxuLyoqXG4gKiBUaGUgQnV0dG9uRW1iZWRFZGl0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGFuIGVtYmVkIGxpbmsgaW4gYSBkb2N1bWVudC5cbiAqIFByb3ZpZGVzIFVJIGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhbiBlbWJlZCBsaW5rLlxuICpcbiAqIEBjbGFzcyBCdXR0b25FbWJlZEVkaXRcbiAqL1xuY2xhc3MgQnV0dG9uRW1iZWRFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5saW5rSW5wdXQgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEZvY3VzZXMgb24gdGhlIGxpbmsgaW5wdXQgdG8gaW1tZWRpYXRlbHkgYWxsb3cgZWRpdGluZy4gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgdGhlIGNvbXBvbmVudFxuICAgICAqIGlzIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIHByZXZlbnQgYWdncmVzc2l2ZSBmb2N1cyBzdGVhbGluZy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSB8fCB0aGlzLnByb3BzLm1hbnVhbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCByZW5kZXJpbmcgY3ljbGUgYmVmb3JlIGZvY3VzaW5nIHRvIGF2b2lkIHVuZGVzaXJlZFxuICAgICAgICAgICAgLy8gc2Nyb2xscyBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2ZvY3VzTGlua0lucHV0LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX2ZvY3VzTGlua0lucHV0LmJpbmQodGhpcyksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldEluaXRpYWxTdGF0ZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgICAqIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkIGFzIHRoZSBpbml0aWFsIHZhbHVlIG9mIHRoaXMuc3RhdGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBnZXRJbml0aWFsU3RhdGVcbiAgICAgKi9cbiAgICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgZW1iZWQ7XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50ID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZW1iZWQgPSBzZWxlY3RlZEVsZW1lbnQuZmluZE9uZSgnW2RhdGEtd2lkZ2V0PVwiYWVfZW1iZWRcIl0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBocmVmID0gZW1iZWQgPyBlbWJlZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWUtZW1iZWQtdXJsJykgOiAnJztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudDogZW1iZWQsXG4gICAgICAgICAgICBpbml0aWFsTGluazoge1xuICAgICAgICAgICAgICAgIGhyZWY6IGhyZWZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rSHJlZjogaHJlZlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNsZWFyTGlua1N0eWxlID0ge1xuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5saW5rSHJlZiA/IDEgOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGlua1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVFbWJlZH0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLWVtYmVkLXJlbW92ZVwiIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5lbGVtZW50fSBvbkNsaWNrPXt0aGlzLl9yZW1vdmVFbWJlZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuZGVsZXRlRW1iZWR9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWJpblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lci1pbnB1dCB4eGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImFlLWlucHV0XCIgb25DaGFuZ2U9e3RoaXMuX2hhbmRsZUxpbmtIcmVmQ2hhbmdlLmJpbmQodGhpcyl9IG9uS2V5RG93bj17dGhpcy5faGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpfSBwbGFjZWhvbGRlcj17QWxsb3lFZGl0b3IuU3RyaW5ncy5lZGl0TGlua30gcmVmPXt0aGlzLmxpbmtJbnB1dH0gdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5saW5rSHJlZn0+PC9pbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFySW5wdXR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvbiBhZS1pY29uLXJlbW92ZVwiIG9uQ2xpY2s9e3RoaXMuX2NsZWFyTGluay5iaW5kKHRoaXMpfSBzdHlsZT17Y2xlYXJMaW5rU3R5bGV9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFyfT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29uZmlybX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGlzYWJsZWQ9eyF0aGlzLl9pc1ZhbGlkU3RhdGUoKX0gb25DbGljaz17dGhpcy5fZW1iZWRMaW5rLmJpbmQodGhpcyl9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLW9rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBsaW5rIGlucHV0LiBUaGlzIG9ubHkgY2hhbmdlcyB0aGUgY29tcG9uZW50IGludGVybmFsIHN0YXRlLCBidXQgZG9lcyBub3RcbiAgICAgKiBhZmZlY3QgdGhlIGxpbmsgZWxlbWVudCBvZiB0aGUgZWRpdG9yLiBPbmx5IHRoZSBfcmVtb3ZlTGluayBhbmQgX3VwZGF0ZUxpbmsgbWV0aG9kc1xuICAgICAqIGFyZSB0cmFuc2xhdGVkIHRvIHRoZSBlZGl0b3IgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIF9jbGVhckxpbmtcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NsZWFyTGluaygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rSHJlZjogJydcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGVtYmVkVXJsIGNvbW1hbmQgdG8gdHJhbnNmb3JtIHRoZSBsaW5rIGludG8gYW4gZW1iZWQgbWVkaWEgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBfZW1iZWRMaW5rXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9lbWJlZExpbmsoKSB7XG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIG5hdGl2ZUVkaXRvci5leGVjQ29tbWFuZCgnZW1iZWRVcmwnLCB7XG4gICAgICAgICAgICB1cmw6IHRoaXMuc3RhdGUubGlua0hyZWZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjYW5jZWxFeGNsdXNpdmUgd2l0aCB0aGUgYm91bmQgcGFyYW1ldGVycyBpbiBjYXNlIHRoZSBidXR0b24gaXMgdXNlZFxuICAgICAgICAvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG4gICAgICAgIHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9jdXNlcyB0aGUgdXNlciBjdXJzb3Igb24gdGhlIHdpZGdldCdzIGlucHV0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuICAgICAqIEBtZXRob2QgX2ZvY3VzTGlua0lucHV0XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9mb2N1c0xpbmtJbnB1dCgpIHtcbiAgICAgICAgdGhpcy5saW5rSW5wdXQuY3VycmVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JzIGtleSBpbnRlcmFjdGlvbiBpbnNpZGUgdGhlIGlucHV0IGVsZW1lbnQgdG8gcmVzcG9uZCB0byB0aGUga2V5czpcbiAgICAgKiAtIEVudGVyOiBDcmVhdGVzL3VwZGF0ZXMgdGhlIGxpbmsuXG4gICAgICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuICAgICAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIgfHwgZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtYmVkTGluaygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9FU0MpIHtcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNhbmNlbEV4Y2x1c2l2ZSB3aXRoIHRoZSBib3VuZCBwYXJhbWV0ZXJzIGluIGNhc2UgdGhlIGJ1dHRvbiBpcyB1c2VkXG4gICAgICAgICAgICAvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbmNlbEV4Y2x1c2l2ZSgpO1xuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjb21wb25lbnQgc3RhdGUgd2hlbiB0aGUgbGluayBpbnB1dCBjaGFuZ2VzIG9uIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBfaGFuZGxlTGlua0hyZWZDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFuZGxlTGlua0hyZWZDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rSHJlZjogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgdGhlIGN1cnJlbnQgbGluayBzdGF0ZSBpcyB2YWxpZCBzbyB0aGUgdXNlciBjYW4gc2F2ZSB0aGUgbGluay4gQSB2YWxpZCBzdGF0ZVxuICAgICAqIG1lYW5zIHRoYXQgd2UgaGF2ZSBhIG5vbi1lbXB0eSBocmVmIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgb25lLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuICAgICAqIEBtZXRob2QgX2lzVmFsaWRTdGF0ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzdGF0ZSBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgX2lzVmFsaWRTdGF0ZSgpIHtcbiAgICAgICAgdmFyIHZhbGlkU3RhdGUgPVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5rSHJlZiAmJiAoXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5rSHJlZiAhPT0gdGhpcy5zdGF0ZS5pbml0aWFsTGluay5ocmVmXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB2YWxpZFN0YXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGVtYmVkIGluIHRoZSBlZGl0b3IgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIF9yZW1vdmVFbWJlZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlRW1iZWQoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIHZhciBlbWJlZFdyYXBwZXIgPSB0aGlzLnN0YXRlLmVsZW1lbnQuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lmhhc0NsYXNzKCdja2Vfd2lkZ2V0X3dyYXBwZXInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZW1iZWRXcmFwcGVyLnJlbW92ZSgpO1xuXG4gICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgZW1iZWRFZGl0XG4gKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkVtYmVkRWRpdC5rZXkgPSAnZW1iZWRFZGl0JztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uRW1iZWRFZGl0O1xuIiwiaW1wb3J0IEJ1dHRvbkVtYmVkRWRpdCBmcm9tICcuL2J1dHRvbi1lbWJlZC1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uS2V5c3Ryb2tlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWtleXN0cm9rZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25FbWJlZCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhbiBlbWJlZCBsaW5rIGluIGEgZG9jdW1lbnQuXG4gKiBCdXR0b25FbWJlZCByZW5kZXJzIGluIHR3byBkaWZmZXJlbnQgbW9kZXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGVcbiAqIC0gRXhjbHVzaXZlOiBUaGUgQnV0dG9uRW1iZWRFZGl0IFVJIHdpdGggYWxsIHRoZSBsaW5rIGVkaXRpb24gY29udHJvbHMuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkVtYmVkXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqL1xuY2xhc3MgQnV0dG9uRW1iZWQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvbkVtYmVkRWRpdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBkYXRhLXR5cGU9XCJidXR0b24tZW1iZWRcIiBvbkNsaWNrPXt0aGlzLl9yZXF1ZXN0RXhjbHVzaXZlLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1hZGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgdGhlIGxpbmsgYnV0dG9uIHRvIGJlIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIGFsbG93IHRoZSBlbWJlZGRpbmcgb2YgYSBsaW5rLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkXG4gICAgICogQG1ldGhvZCBfcmVxdWVzdEV4Y2x1c2l2ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVxdWVzdEV4Y2x1c2l2ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlKEJ1dHRvbkVtYmVkLmtleSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGVtYmVkXG4gKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uRW1iZWQgLmtleSA9ICdlbWJlZCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkVtYmVkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdfcmVxdWVzdEV4Y2x1c2l2ZScsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyBDS0VESVRPUi5TSElGVCArIDc2IC8qTCovXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uS2V5c3Ryb2tlKFxuICAgIEJ1dHRvbkVtYmVkXG4pOyIsImltcG9ydCBCdXR0b25BY3Rpb25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1hY3Rpb24tc3R5bGUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25IMSBjbGFzcyBwcm92aWRlcyB3cmFwcyBhIHNlbGVjdGlvbiBpbiBgaDFgIGVsZW1lbnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkgxXG4gKiBAdXNlcyBCdXR0b25BY3Rpb25TdHlsZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25IMSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkgxXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5oMX0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24taDFcIiBvbkNsaWNrPXt0aGlzLmFwcGx5U3R5bGUuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmgxfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWgxXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGgxXG4gKiBAbWVtYmVyb2YgQnV0dG9uSDFcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSDEua2V5ID0gJ2gxJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25IMVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSDEuZGVmYXVsdFByb3BzID0ge1xuICAgIHN0eWxlOiB7XG4gICAgICAgIGVsZW1lbnQ6ICdoMSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25BY3Rpb25TdHlsZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbkgxXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkFjdGlvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWFjdGlvbi1zdHlsZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkgyIGNsYXNzIHByb3ZpZGVzIHdyYXBzIGEgc2VsZWN0aW9uIGluIGBoMmAgZWxlbWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSDJcbiAqIEB1c2VzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkgyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSDJcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmgyfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1oMlwiIG9uQ2xpY2s9e3RoaXMuYXBwbHlTdHlsZS5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaDJ9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24taDJcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaDJcbiAqIEBtZW1iZXJvZiBCdXR0b25IMlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25IMi5rZXkgPSAnaDInO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkgyXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25IMi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc3R5bGU6IHtcbiAgICAgICAgZWxlbWVudDogJ2gyJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkFjdGlvblN0eWxlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uSDJcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25IbGluZSBjbGFzcyBwcm92aWRlcyBpbnNlcnRzIGhvcml6b250YWwgbGluZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSGxpbmVcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkhsaW5lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSGxpbmVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5ob3Jpem9udGFscnVsZX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLWhsaW5lXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaG9yaXpvbnRhbHJ1bGV9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tc2VwYXJhdG9yXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGhsaW5lXG4gKiBAbWVtYmVyb2YgQnV0dG9uSGxpbmVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSGxpbmUua2V5ID0gJ2hsaW5lJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25IbGluZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSGxpbmUuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdob3Jpem9udGFscnVsZScsXG4gICAgc3R5bGU6IHtcbiAgICAgICAgZWxlbWVudDogJ2hyJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbkhsaW5lXG4pKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGFuIGltYWdlIGluIHRoZSBjZW50ZXIuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkNlbnRlclxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLWltYWdlLWFsaWduLWNlbnRlclwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduQ2VudGVyfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLWNlbnRlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBpbWFnZUNlbnRlclxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSW1hZ2VBbGlnbkNlbnRlci5rZXkgPSAnaW1hZ2VDZW50ZXInO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkltYWdlQWxpZ25DZW50ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdqdXN0aWZ5Y2VudGVyJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25Db21tYW5kQWN0aXZlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICAgICAgQnV0dG9uSW1hZ2VBbGlnbkNlbnRlclxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkltYWdlQWxpZ25MZWZ0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGFuIGltYWdlIG9uIGxlZnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkltYWdlQWxpZ25MZWZ0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uSW1hZ2VBbGlnbkxlZnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZUFsaWduTGVmdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1pbWFnZS1hbGlnbi1sZWZ0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLWxlZnRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW1hZ2VMZWZ0XG4gKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkxlZnRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSW1hZ2VBbGlnbkxlZnQua2V5ID0gJ2ltYWdlTGVmdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkxlZnRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkltYWdlQWxpZ25MZWZ0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnanVzdGlmeWxlZnQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbkNvbW1hbmRBY3RpdmUoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgICAgICBCdXR0b25JbWFnZUFsaWduTGVmdFxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkltYWdlQWxpZ25SaWdodCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhbGlnbmluZyBhbiBpbWFnZSBvbiByaWdodC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1pbWFnZS1hbGlnbi1yaWdodFwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduUmlnaHR9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tYWxpZ24tcmlnaHRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW1hZ2VSaWdodFxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25SaWdodFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25JbWFnZUFsaWduUmlnaHQua2V5ID0gJ2ltYWdlUmlnaHQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25SaWdodFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSW1hZ2VBbGlnblJpZ2h0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnanVzdGlmeXJpZ2h0J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25Db21tYW5kQWN0aXZlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICAgICAgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG4pKSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbWFnZSBjbGFzcyBpbnNlcnRzIGFuIGltYWdlIHRvIHRoZSBjb250ZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25JbWFnZVxuICovXG5jbGFzcyBCdXR0b25JbWFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLmZpbGVJbnB1dCA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgaW5wdXRTeWxlID0ge2Rpc3BsYXk6ICdub25lJ307XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmltYWdlfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBkYXRhLXR5cGU9XCJidXR0b24taW1hZ2VcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbWFnZX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24taW1hZ2VcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICA8aW5wdXQgYWNjZXB0PVwiaW1hZ2UvKlwiIG9uQ2hhbmdlPXt0aGlzLl9vbklucHV0Q2hhbmdlLmJpbmQodGhpcyl9IHJlZj17dGhpcy5maWxlSW5wdXR9IHN0eWxlPXtpbnB1dFN5bGV9IHR5cGU9XCJmaWxlXCIvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltdWxhdGVzIGNsaWNrIG9uIHRoZSBpbnB1dCBlbGVtZW50LiBUaGlzIHdpbGwgb3BlbiBicm93c2VyJ3MgbmF0aXZlIGZpbGUgb3BlbiBkaWFsb2cuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VcbiAgICAgKiBAbWV0aG9kIGhhbmRsZUNsaWNrXG4gICAgICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIHJlY2VpdmVkIGNsaWNrIGV2ZW50IG9uIHRoZSBidXR0b24uXG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZmlsZUlucHV0LmN1cnJlbnQuY2xpY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbiBpbnB1dCBjaGFuZ2UsIHJlYWRzIHRoZSBjaG9zZW4gZmlsZSBhbmQgZmlyZXMgYW4gZXZlbnQgYGJlZm9yZUltYWdlQWRkYCB3aXRoIHRoZSBpbWFnZSB3aGljaCB3aWxsIGJlIGFkZGVkXG4gICAgICogdG8gdGhlIGNvbnRlbnQuIFRoZSBpbWFnZSBmaWxlIHdpbGwgYmUgcGFzc2VkIGluIHRoZSBgaW1hZ2VGaWxlc2AgcHJvcGVydHkuXG4gICAgICogSWYgYW55IG9mIHRoZSBsaXN0ZW5lcnMgcmV0dXJucyBgZmFsc2VgIG9yIGNhbmNlbHMgdGhlIGV2ZW50LCB0aGUgaW1hZ2Ugd29uJ3QgYmUgYWRkZWQgdG8gdGhlIGNvbnRlbnQuXG4gICAgICogT3RoZXJ3aXNlLCBhbiBldmVudCBgaW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgaW5zZXJ0ZWQgZWxlbWVudCBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLlxuICAgICAqIFRoZSBwYXNzZWQgcGFyYW1zIHdpbGwgYmU6XG4gICAgICogLSBgZWxgIC0gdGhlIGNyZWF0ZWQgaW1nIGVsZW1lbnRcbiAgICAgKiAtIGBmaWxlYCAtIHRoZSBvcmlnaW5hbCBpbWFnZSBmaWxlIGZyb20gdGhlIGlucHV0IGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBmaXJlcyBCdXR0b25JbWFnZSNiZWZvcmVJbWFnZUFkZFxuICAgICAqIEBmaXJlcyBCdXR0b25JbWFnZSNpbWFnZUFkZFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZVxuICAgICAqIEBtZXRob2QgX29uSW5wdXRDaGFuZ2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX29uSW5wdXRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBpbnB1dEVsID0gdGhpcy5maWxlSW5wdXQuY3VycmVudDtcblxuICAgICAgICAvLyBPbiBJRTExIHRoZSBmdW5jdGlvbiBtaWdodCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSBhcnJheSBvZlxuICAgICAgICAvLyBmaWxlcy4gSW4gc3VjaCBhIGNhc2UsIG5vIGFjdGlvbnMgd2lsbCBiZSB0YWtlbi5cbiAgICAgICAgaWYgKCFpbnB1dEVsLmZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHZhciBmaWxlID0gaW5wdXRFbC5maWxlc1swXTtcblxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZWRpdG9yLmZpcmUoJ2JlZm9yZUltYWdlQWRkJywge1xuICAgICAgICAgICAgICAgIGltYWdlRmlsZXM6IGZpbGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoISFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGltZyBzcmM9XCInICsgZXZlbnQudGFyZ2V0LnJlc3VsdCArICdcIj4nKTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgIHZhciBpbWFnZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZVxuICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdpbWFnZUFkZCcsIGltYWdlRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblxuICAgICAgICBpbnB1dEVsLnZhbHVlID0gJyc7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGltYWdlXG4gKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSW1hZ2Uua2V5ID0gJ2ltYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uSW1hZ2U7XG4iLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbmRlbnRCbG9jayBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBpbmRlbnRpbmcgdGhlIHNlbGVjdGVkIGJsb2Nrcy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSW5kZW50QmxvY2tcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbmRlbnRCbG9jayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkluZGVudEJsb2NrXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbmRlbnR9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLWluZGVudC1ibG9ja1wiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmluZGVudH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1pbmRlbnQtYmxvY2tcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW5kZW50QmxvY2tcbiAqIEBtZW1iZXJvZiBCdXR0b25JbmRlbnRCbG9ja1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25JbmRlbnRCbG9jay5rZXkgPSAnaW5kZW50QmxvY2snO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkluZGVudEJsb2NrXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25JbmRlbnRCbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ2luZGVudCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvbkluZGVudEJsb2NrXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uS2V5c3Ryb2tlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWtleXN0cm9rZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkl0YWxpYyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzdHlsaW5nIGFuIHNlbGVjdGlvbiB3aXRoIGl0YWxpYyAoZW0pIHN0eWxlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25JdGFsaWNcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbktleXN0cm9rZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25JdGFsaWMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JdGFsaWNcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLml0YWxpY30gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24taXRhbGljXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaXRhbGljfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWl0YWxpY1wiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBpdGFsaWNcbiAqIEBtZW1iZXJvZiBCdXR0b25JdGFsaWNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSXRhbGljLmtleSA9ICdpdGFsaWMnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkl0YWxpY1xuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSXRhbGljLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnaXRhbGljJyxcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdleGVjQ29tbWFuZCcsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA3MyAvKkkqL1xuICAgIH0sXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX2l0YWxpYydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uS2V5c3Ryb2tlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uSXRhbGljXG4pKSkpOyIsImltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHNob3dpbmcgYSBsaXN0IG9mXG4gKiBpdGVtcyB0aGF0IGNhbiBiZSBzZWxlY3RlZCBmb3IgdGhlIGxpbmsuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoIW5leHRQcm9wcy50ZXJtIHx8IG5leHRQcm9wcy50ZXJtICE9PSB0aGlzLnByb3BzLnRlcm0pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcblxuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy50ZXJtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fdXBkYXRlSXRlbXMsIHRoaXMucHJvcHMuZGVsYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dFByb3BzLmF1dG9jb21wbGV0ZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZm9jdXMsIDApO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRBdXRvY29tcGxldGVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmV4cGFuZGVkIHx8ICF0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEJ1dHRvbkRyb3Bkb3duPlxuICAgICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJBdXRvY29tcGxldGVJdGVtcyh0aGlzLnN0YXRlLml0ZW1zKX1cbiAgICAgICAgICAgIDwvQnV0dG9uRHJvcGRvd24+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGJlZm9yZSByZW5kZXJpbmcgd2hlbiBuZXcgcHJvcHMgb3Igc3RhdGUgYXJlIGJlaW5nIHJlY2VpdmVkLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlciBvciB3aGVuIGZvcmNlVXBkYXRlIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAgICAgKiBAbWV0aG9kICBzaG91bGRDb21wb25lbnRVcGRhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIHRyYW5zaXRpb24gdG8gdGhlIG5ldyBwcm9wcyBhbmQgc3RhdGUgd2lsbCBub3RcbiAgICAgKiByZXF1aXJlIGEgY29tcG9uZW50IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5leHRQcm9wcy5leHBhbmRlZCAhPT0gdGhpcy5wcm9wcy5leHBhbmRlZCB8fCBuZXh0UHJvcHMudGVybSAhPT0gdGhpcy5wcm9wcy50ZXJtIHx8IG5leHRTdGF0ZS5pdGVtcyAhPT0gdGhpcy5zdGF0ZS5pdGVtcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgc2V0IG9mIGxpc3QgaXRlbXMgZm9yIHRoZSBwcm92aWRlZCBpdGVtc1xuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gICAgICogQG1ldGhvZCBfcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyBMaXN0IG9mIGF1dG9jb21wbGV0ZSBpdGVtcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFJlbmRlcmVkIGxpc3QgaXRlbSBpbnN0YW5jZXNcbiAgICAgKi9cbiAgICBfcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgaXRlbXMgPSBpdGVtcyB8fCBbXTtcblxuICAgICAgICB2YXIgaGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrID0gdGhpcy5wcm9wcy5oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2s7XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy50ZXJtID09PSBpdGVtLnVybCA/ICdhZS10b29sYmFyLWVsZW1lbnQgYWN0aXZlJyA6ICdhZS10b29sYmFyLWVsZW1lbnQnO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e2l0ZW0udXJsfSByb2xlPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG9uQ2xpY2s9e2hhbmRsZUxpbmtBdXRvY29tcGxldGVDbGlja30gZGF0YS12YWx1ZT17aXRlbS51cmx9PntpdGVtLnRpdGxlfTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZGF0YSBhY2NvcmRpbmcgdG8ge3RoaXMucHJvcHMudGVybX0gYW5kIGNhbGxzIHNldFN0YXRlKCkgd2l0aCB0aGUgcmV0dXJuZWQgZGF0YVxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gICAgICogQG1ldGhvZCBfdXBkYXRlSXRlbXNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3VwZGF0ZUl0ZW1zKCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy50ZXJtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0aGlzLnByb3BzLmRhdGEodGhpcy5wcm9wcy50ZXJtKSk7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgIWluc3RhbmNlLnByb3BzLmV4cGFuZGVkICYmIGluc3RhbmNlLnByb3BzLnRvZ2dsZURyb3Bkb3duKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluc3RhbmNlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpdGVtczogaXRlbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgYnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdC5rZXkgPSAnYnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2lyY3VsYXI6IGZhbHNlLFxuICAgIGRhdGE6IFtdLFxuICAgIGRlbGF5OiAxMDAsXG4gICAgZGVzY2VuZGFudHM6ICcuYWUtdG9vbGJhci1lbGVtZW50JyxcbiAgICBrZXlzOiB7XG4gICAgICAgIGRpc21pc3M6IFsyN10sXG4gICAgICAgIGRpc21pc3NOZXh0OiBbMzldLFxuICAgICAgICBkaXNtaXNzUHJldjogWzM3XSxcbiAgICAgICAgbmV4dDogWzQwXSxcbiAgICAgICAgcHJldjogWzM4XVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEZvY3VzTWFuYWdlcihcbiAgICBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuKTsiLCJpbXBvcnQgQnV0dG9uQ2ZnUHJvcHMgZnJvbSAnLi4vYmFzZS9idXR0b24tcHJvcHMuanMnO1xuaW1wb3J0IEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IGZyb20gJy4vYnV0dG9uLWxpbmstYXV0b2NvbXBsZXRlLWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25MaW5rVGFyZ2V0RWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLXRhcmdldC1lZGl0LmpzeCc7XG5pbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgV2lkZ2V0RHJvcGRvd24gZnJvbSAnLi4vYmFzZS93aWRnZXQtZHJvcGRvd24uanMnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uTGlua0VkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSBsaW5rIGluIGEgZG9jdW1lbnQuXG4gKiBQcm92aWRlcyBVSSBmb3IgY3JlYXRpbmcsIGVkaXRpbmcgYW5kIHJlbW92aW5nIGEgbGluay5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua0VkaXRcbiAqIEB1c2VzIEJ1dHRvbkNmZ1Byb3BzXG4gKiBAdXNlcyBXaWRnZXREcm9wZG93blxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvbkxpbmtFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5saW5rSW5wdXQgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuX2dldEluaXRpYWxTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBGb2N1c2VzIG9uIHRoZSBsaW5rIGlucHV0IHRvIGltbWVkaWF0ZWx5IGFsbG93IGVkaXRpbmcuIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZSBjb21wb25lbnRcbiAgICAgKiBpcyByZW5kZXJlZCBpbiBleGNsdXNpdmUgbW9kZSB0byBwcmV2ZW50IGFnZ3Jlc3NpdmUgZm9jdXMgc3RlYWxpbmcuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSB8fCB0aGlzLnByb3BzLm1hbnVhbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCByZW5kZXJpbmcgY3ljbGUgYmVmb3JlIGZvY3VzaW5nIHRvIGF2b2lkIHVuZGVzaXJlZFxuICAgICAgICAgICAgLy8gc2Nyb2xscyBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgdGhpcy5fZm9jdXNMaW5rSW5wdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlY2VpdmluZyBuZXcgcHJvcHMuXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRJbml0aWFsU3RhdGUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciB0YXJnZXRTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIGFsbG93ZWRUYXJnZXRzOiB0aGlzLnByb3BzLmFsbG93ZWRUYXJnZXRzLFxuICAgICAgICAgICAgZWRpdG9yOiB0aGlzLnByb3BzLmVkaXRvcixcbiAgICAgICAgICAgIGhhbmRsZUxpbmtUYXJnZXRDaGFuZ2U6IHRoaXMuX2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGVjdGVkVGFyZ2V0OiB0aGlzLnN0YXRlLmxpbmtUYXJnZXQgfHwgQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0RGVmYXVsdFxuICAgICAgICB9O1xuXG4gICAgICAgIHRhcmdldFNlbGVjdG9yID0gdGhpcy5tZXJnZURyb3Bkb3duUHJvcHModGFyZ2V0U2VsZWN0b3IsIEJ1dHRvbkxpbmtUYXJnZXRFZGl0LmtleSk7XG5cbiAgICAgICAgdmFyIGF1dG9jb21wbGV0ZURyb3Bkb3duO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhRm4gPSB0aGlzLnByb3BzLmRhdGE7XG5cbiAgICAgICAgICAgIGlmICghTGFuZy5pc0Z1bmN0aW9uKGRhdGFGbikpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnByb3BzLmRhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhRm4gPSAoKSA9PiBpdGVtcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGF1dG9jb21wbGV0ZURyb3Bkb3duUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlU2VsZWN0ZWQ6IHRoaXMuc3RhdGUuYXV0b2NvbXBsZXRlU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YUZuLFxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5wcm9wcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgaGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrOiB0aGlzLl9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2ssXG4gICAgICAgICAgICAgICAgb25EaXNtaXNzOiB0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLFxuICAgICAgICAgICAgICAgIHNldEF1dG9jb21wbGV0ZVN0YXRlOiB0aGlzLl9zZXRBdXRvY29tcGxldGVTdGF0ZSxcbiAgICAgICAgICAgICAgICB0ZXJtOiB0aGlzLnN0YXRlLmxpbmtIcmVmXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhdXRvY29tcGxldGVEcm9wZG93blByb3BzID0gdGhpcy5tZXJnZURyb3Bkb3duUHJvcHMoYXV0b2NvbXBsZXRlRHJvcGRvd25Qcm9wcywgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Qua2V5KTtcblxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlRHJvcGRvd24gPSA8QnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Qgey4uLmF1dG9jb21wbGV0ZURyb3Bkb3duUHJvcHN9IC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1dHRvbkNsZWFyTGluaztcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5saW5rSHJlZikge1xuICAgICAgICAgICAgYnV0dG9uQ2xlYXJMaW5rID0gPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFySW5wdXR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvbiBhZS1pY29uLXJlbW92ZVwiIG9uQ2xpY2s9e3RoaXMuX2NsZWFyTGluay5iaW5kKHRoaXMpfSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5jbGVhcn0+PC9idXR0b24+O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyUHJvcCA9IHt9O1xuXG4gICAgICAgIGlmICghQ0tFRElUT1IuZW52LmllICYmIEFsbG95RWRpdG9yLlN0cmluZ3MpIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyUHJvcC5wbGFjZWhvbGRlciA9IEFsbG95RWRpdG9yLlN0cmluZ3MuZWRpdExpbms7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZWRpdC1saW5rXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnJlbW92ZUxpbmt9IGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5lbGVtZW50fSBvbkNsaWNrPXt0aGlzLl9yZW1vdmVMaW5rLmJpbmQodGhpcyl9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnJlbW92ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tdW5saW5rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHh4bFwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zaG93VGFyZ2V0U2VsZWN0b3IgJiYgPEJ1dHRvbkxpbmtUYXJnZXRFZGl0IHsuLi50YXJnZXRTZWxlY3Rvcn0gLz59XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiYWUtaW5wdXRcIiBvbkNoYW5nZT17dGhpcy5faGFuZGxlTGlua0hyZWZDaGFuZ2UuYmluZCh0aGlzKX0gb25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3duLmJpbmQodGhpcyl9IHsgLi4ucGxhY2Vob2xkZXJQcm9wIH0gcmVmPXt0aGlzLmxpbmtJbnB1dH0gdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5saW5rSHJlZn0+PC9pbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHthdXRvY29tcGxldGVEcm9wZG93bn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtidXR0b25DbGVhckxpbmt9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19IGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIGRpc2FibGVkPXshdGhpcy5faXNWYWxpZFN0YXRlKCl9IG9uQ2xpY2s9e3RoaXMuX3VwZGF0ZUxpbmsuYmluZCh0aGlzKX0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29uZmlybX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tb2tcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGlzLnN0YXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfZ2V0SW5pdGlhbFN0YXRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBfZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgICBjb25zdCB7ZWRpdG9yLCBkZWZhdWx0TGlua1RhcmdldH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGNvbnN0IGxpbmsgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKSkuZ2V0RnJvbVNlbGVjdGlvbigpO1xuICAgICAgICBjb25zdCBocmVmID0gbGluayA/IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykgOiAnJztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGluayA/IGxpbmsuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSA6IGRlZmF1bHRMaW5rVGFyZ2V0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdXRvY29tcGxldGVTZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBlbGVtZW50OiBsaW5rLFxuICAgICAgICAgICAgaW5pdGlhbExpbms6IHtcbiAgICAgICAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlua0hyZWY6IGhyZWYsXG4gICAgICAgICAgICBsaW5rVGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGxpbmsgaW5wdXQuIFRoaXMgb25seSBjaGFuZ2VzIHRoZSBjb21wb25lbnQgaW50ZXJuYWwgc3RhdGUsIGJ1dCBkb2VzIG5vdFxuICAgICAqIGFmZmVjdCB0aGUgbGluayBlbGVtZW50IG9mIHRoZSBlZGl0b3IuIE9ubHkgdGhlIF9yZW1vdmVMaW5rIGFuZCBfdXBkYXRlTGluayBtZXRob2RzXG4gICAgICogYXJlIHRyYW5zbGF0ZWQgdG8gdGhlIGVkaXRvciBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfY2xlYXJMaW5rXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jbGVhckxpbmsoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbGlua0hyZWY6ICcnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9jdXNlcyB0aGUgdXNlciBjdXJzb3Igb24gdGhlIHdpZGdldCdzIGlucHV0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfZm9jdXNMaW5rSW5wdXRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2ZvY3VzTGlua0lucHV0KCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmb2N1c0xpbmtFbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5zdGFuY2UubGlua0lucHV0LmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmb2N1c0xpbmtFbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZvY3VzTGlua0VsLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JzIGtleSBpbnRlcmFjdGlvbiBpbnNpZGUgdGhlIGlucHV0IGVsZW1lbnQgdG8gcmVzcG9uZCB0byB0aGUga2V5czpcbiAgICAgKiAtIEVudGVyOiBDcmVhdGVzL3VwZGF0ZXMgdGhlIGxpbmsuXG4gICAgICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfaGFuZGxlS2V5RG93blxuICAgICAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50IFRoZSBrZXlib2FyZCBldmVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMaW5rKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZVNlbGVjdGVkOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgIG5ldyBDS0VESVRPUi5MaW5rKGVkaXRvcikuYWR2YW5jZVNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gdGhlIGxpbmsgaW5wdXQgY2hhbmdlcyBvbiB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfaGFuZGxlTGlua0hyZWZDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFuZGxlTGlua0hyZWZDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rSHJlZjogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gdGhlIGxpbmsgdGFyZ2V0IGNoYW5nZXMgb24gdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuICAgICAqIEBtZXRob2QgX2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVMaW5rVGFyZ2V0Q2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXRlbURyb3Bkb3duOiBudWxsLFxuICAgICAgICAgICAgbGlua1RhcmdldDogZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gYW4gYXV0b2NvbXBsZXRlIGxpbmsgcmVzdWx0IGlzIHNlbGVjdGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAgICAgKiBAbWV0aG9kIF9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2tcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpdGVtRHJvcGRvd246IG51bGwsXG4gICAgICAgICAgICBsaW5rSHJlZjogZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCB0aGUgY3VycmVudCBsaW5rIHN0YXRlIGlzIHZhbGlkIHNvIHRoZSB1c2VyIGNhbiBzYXZlIHRoZSBsaW5rLiBBIHZhbGlkIHN0YXRlXG4gICAgICogbWVhbnMgdGhhdCB3ZSBoYXZlIGEgbm9uLWVtcHR5IGhyZWYgYW5kIHRoYXQgZWl0aGVyIHRoYXQgb3IgdGhlIGxpbmsgdGFyZ2V0IGFyZSBkaWZmZXJlbnRcbiAgICAgKiBmcm9tIHRoZSBvcmlnaW5hbCBsaW5rLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfaXNWYWxpZFN0YXRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBfaXNWYWxpZFN0YXRlKCkge1xuICAgICAgICB2YXIgdmFsaWRTdGF0ZSA9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmtIcmVmICYmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmtIcmVmICE9PSB0aGlzLnN0YXRlLmluaXRpYWxMaW5rLmhyZWYgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmtUYXJnZXQgIT09IHRoaXMuc3RhdGUuaW5pdGlhbExpbmsudGFyZ2V0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB2YWxpZFN0YXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpbmsgaW4gdGhlIGVkaXRvciBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfcmVtb3ZlTGlua1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlTGluaygpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG4gICAgICAgIHZhciBsaW5rVXRpbHMgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IpO1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgYm9va21hcmtzID0gc2VsZWN0aW9uLmNyZWF0ZUJvb2ttYXJrcygpO1xuXG4gICAgICAgIGxpbmtVdGlscy5yZW1vdmUodGhpcy5zdGF0ZS5lbGVtZW50LCB7IGFkdmFuY2U6IHRydWUgfSk7XG5cbiAgICAgICAgc2VsZWN0aW9uLnNlbGVjdEJvb2ttYXJrcyhib29rbWFya3MpO1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2FuY2VsRXhjbHVzaXZlIHdpdGggdGhlIGJvdW5kIHBhcmFtZXRlcnMgaW4gY2FzZSB0aGUgYnV0dG9uIGlzIHVzZWRcbiAgICAgICAgLy8gaW5zaWRlIGFub3RoZXIgaW4gZXhjbHVzaXZlIG1vZGUgKHN1Y2ggaXMgdGhlIGNhc2Ugb2YgdGhlIGxpbmsgYnV0dG9uKVxuICAgICAgICB0aGlzLnByb3BzLmNhbmNlbEV4Y2x1c2l2ZSgpO1xuXG4gICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYXV0b2NvbXBsZXRlU2VsZWN0ZWQgc3RhdGUgdG8gZm9jdXMgYW5kIHNlbGVjdCBhdXRvY29tcGxldGXCtHMgZHJvcGRvd25cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuICAgICAqIEBtZXRob2QgX3NldEF1dG9jb21wbGV0ZVN0YXRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zZXRBdXRvY29tcGxldGVTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZVNlbGVjdGVkOiBzdGF0ZS5zZWxlY3RlZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsaW5rIGluIHRoZSBlZGl0b3IgZWxlbWVudC4gSWYgdGhlIGVsZW1lbnQgZGlkbid0IGV4aXN0IHByZXZpb3VzbHksIGl0IHdpbGxcbiAgICAgKiBjcmVhdGUgYSBuZXcgPGE+IGVsZW1lbnQgd2l0aCB0aGUgaHJlZiBzcGVjaWZpZWQgaW4gdGhlIGxpbmsgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAgICAgKiBAbWV0aG9kIF91cGRhdGVMaW5rXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF91cGRhdGVMaW5rKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIGxpbmtVdGlscyA9IG5ldyBDS0VESVRPUi5MaW5rKGVkaXRvciwge2FwcGVuZFByb3RvY29sOiB0aGlzLnByb3BzLmFwcGVuZFByb3RvY29sfSk7XG4gICAgICAgIHZhciBsaW5rQXR0cnMgPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuc3RhdGUubGlua1RhcmdldFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbW9kaWZ5U2VsZWN0aW9uID0geyBhZHZhbmNlOiB0cnVlIH07XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubGlua0hyZWYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBsaW5rQXR0cnMuaHJlZiA9IHRoaXMuc3RhdGUubGlua0hyZWY7XG5cbiAgICAgICAgICAgICAgICBsaW5rVXRpbHMudXBkYXRlKGxpbmtBdHRycywgdGhpcy5zdGF0ZS5lbGVtZW50LCBtb2RpZnlTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaW5rVXRpbHMuY3JlYXRlKHRoaXMuc3RhdGUubGlua0hyZWYsIGxpbmtBdHRycywgbW9kaWZ5U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjYW5jZWxFeGNsdXNpdmUgd2l0aCB0aGUgYm91bmQgcGFyYW1ldGVycyBpbiBjYXNlIHRoZSBidXR0b24gaXMgdXNlZFxuICAgICAgICAvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG4gICAgICAgIHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGxpbmtFZGl0XG4gKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uTGlua0VkaXQua2V5ID0gJ2xpbmtFZGl0JztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uTGlua0VkaXQuZGVmYXVsdFByb3BzID0ge1xuICAgIGFwcGVuZFByb3RvY29sOiB0cnVlLFxuICAgIGF1dG9jb21wbGV0ZVVybDogJycsXG4gICAgY2lyY3VsYXI6IHRydWUsXG4gICAgY3VzdG9tSW5kZXhTdGFydDogdHJ1ZSxcbiAgICBkZWZhdWx0TGlua1RhcmdldDogJycsXG4gICAgZGVzY2VuZGFudHM6ICcuYWUtdG9vbGJhci1lbGVtZW50JyxcbiAgICBrZXlzOiB7XG4gICAgICAgIGRpc21pc3M6IFsyN10sXG4gICAgICAgIGRpc21pc3NOZXh0OiBbMzldLFxuICAgICAgICBkaXNtaXNzUHJldjogWzM3XSxcbiAgICAgICAgbmV4dDogWzQwXSxcbiAgICAgICAgcHJldjogWzM4XVxuICAgIH0sXG4gICAgc2hvd1RhcmdldFNlbGVjdG9yOiB0cnVlXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25DZmdQcm9wcyhcbiAgICBXaWRnZXREcm9wZG93bihcbiAgICBXaWRnZXRGb2N1c01hbmFnZXIoXG4gICAgICAgIEJ1dHRvbkxpbmtFZGl0XG4pKSk7XG4iLCJpbXBvcnQgQnV0dG9uVGFyZ2V0TGlzdCBmcm9tICcuL2J1dHRvbi10YXJnZXQtbGlzdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uTGlua1RhcmdldEVkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2hhbmdpbmcgdGhlIHRhcmdldCBvZiBhIGxpbmtcbiAqIGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua1RhcmdldEVkaXRcbiAqL1xuY2xhc3MgQnV0dG9uTGlua1RhcmdldEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rVGFyZ2V0RWRpdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgaGFuZGxlTGlua1RhcmdldENoYW5nZSA9IHRoaXMucHJvcHMuaGFuZGxlTGlua1RhcmdldENoYW5nZTtcbiAgICAgICAgdmFyIGFsbG93ZWRMaW5rVGFyZ2V0cyA9IHRoaXMucHJvcHMuYWxsb3dlZFRhcmdldHM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGluay10YXJnZXQgYWUtY29udGFpbmVyLWRyb3Bkb3duIGFlLWNvbnRhaW5lci1kcm9wZG93bi1tZWRpdW0gYWUtaGFzLWRyb3Bkb3duXCIgdGFiSW5kZXg9XCIwXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfSBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0fSBjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcyl9IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17dGhpcy5wcm9wcy5zZWxlY3RlZFRhcmdldH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPnt0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tYXJyb3dcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4cGFuZGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblRhcmdldExpc3QgZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSBhbGxvd2VkTGlua1RhcmdldHM9e2FsbG93ZWRMaW5rVGFyZ2V0c30gaGFuZGxlTGlua1RhcmdldENoYW5nZT17aGFuZGxlTGlua1RhcmdldENoYW5nZX0gc2VsZWN0ZWRUYXJnZXQ9e3RoaXMucHJvcHMuc2VsZWN0ZWRUYXJnZXR9Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGJlZm9yZSByZW5kZXJpbmcgd2hlbiBuZXcgcHJvcHMgb3Igc3RhdGUgYXJlIGJlaW5nIHJlY2VpdmVkLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlciBvciB3aGVuIGZvcmNlVXBkYXRlIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1RhcmdldEVkaXRcbiAgICAgKiBAbWV0aG9kICBzaG91bGRDb21wb25lbnRVcGRhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIHRyYW5zaXRpb24gdG8gdGhlIG5ldyBwcm9wcyBhbmQgc3RhdGUgd2lsbCBub3RcbiAgICAgKiByZXF1aXJlIGEgY29tcG9uZW50IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgIHJldHVybiBuZXh0UHJvcHMuZXhwYW5kZWQgIT09IHRoaXMucHJvcHMuZXhwYW5kZWQgfHwgbmV4dFByb3BzLnNlbGVjdGVkVGFyZ2V0ICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBsaW5rVGFyZ2V0RWRpdFxuICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtUYXJnZXRFZGl0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkxpbmtUYXJnZXRFZGl0LmtleSA9ICdsaW5rVGFyZ2V0RWRpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkxpbmtUYXJnZXRFZGl0O1xuIiwiaW1wb3J0IEJ1dHRvbkNmZ1Byb3BzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXByb3BzLmpzJztcbmltcG9ydCBCdXR0b25MaW5rRWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLWVkaXQuanN4JztcbmltcG9ydCBCdXR0b25LZXlzdHJva2UgZnJvbSAnLi4vYmFzZS9idXR0b24ta2V5c3Ryb2tlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25MaW5rIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGEgbGluayBpbiBhIGRvY3VtZW50LiBCdXR0b25MaW5rXG4gKiByZW5kZXJzIGluIHR3byBkaWZmZXJlbnQgbW9kZXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGVcbiAqIC0gRXhjbHVzaXZlOiBUaGUgQnV0dG9uTGlua0VkaXQgVUkgd2l0aCBhbGwgdGhlIGxpbmsgZWRpdGlvbiBjb250cm9scy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua1xuICogQHVzZXMgQnV0dG9uQ2ZnUHJvcHNcbiAqIEB1c2VzIEJ1dHRvbktleXN0cm9rZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvbkxpbmsgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgY29udGFpbmVkIHdpdGhpbiBhIGxpbmsuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuICAgICAqIEBtZXRob2QgaXNBY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzZWxlY3Rpb24gaXMgaW5zaWRlIGEgbGluaywgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gKG5ldyBDS0VESVRPUi5MaW5rKHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJykpLmdldEZyb21TZWxlY3Rpb24oKSAhPT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMubWVyZ2VCdXR0b25DZmdQcm9wcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxCdXR0b25MaW5rRWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MubGlua30gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLWxpbmtcIiBvbkNsaWNrPXt0aGlzLl9yZXF1ZXN0RXhjbHVzaXZlLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1saW5rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIHRoZSBsaW5rIGJ1dHRvbiB0byBiZSByZW5kZXJlZCBpbiBleGNsdXNpdmUgbW9kZSB0byBhbGxvdyB0aGUgY3JlYXRpb24gb2YgYSBsaW5rLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtcbiAgICAgKiBAbWV0aG9kIF9yZXF1ZXN0RXhjbHVzaXZlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9yZXF1ZXN0RXhjbHVzaXZlKCkge1xuICAgICAgICB0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUoQnV0dG9uTGluay5rZXkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBsaW5rXG4gKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25MaW5rLmtleSA9ICdsaW5rJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25MaW5rXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25MaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdfcmVxdWVzdEV4Y2x1c2l2ZScsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA3NiAvKkwqL1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNmZ1Byb3BzKFxuICAgIEJ1dHRvbktleXN0cm9rZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvbkxpbmtcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uT3JkZXJlZExpc3QgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgb3JkZXJlZCBsaXN0cyBpbiBhbiBlZGl0b3IuXG4gKlxuICogQGNsYXNzIEJ1dHRvbk9yZGVyZWRMaXN0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbk9yZGVyZWRMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uT3JkZXJlZExpc3RcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLm51bWJlcmVkbGlzdH0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tb2xcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5udW1iZXJlZGxpc3R9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tbnVtYmVyZWQtbGlzdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBvbFxuICogQG1lbWJlcm9mIEJ1dHRvbk9yZGVyZWRMaXN0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbk9yZGVyZWRMaXN0LmtleSA9ICdvbCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uT3JkZXJlZExpc3RcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbk9yZGVyZWRMaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnbnVtYmVyZWRsaXN0JyxcbiAgICBzdHlsZToge1xuICAgICAgICBlbGVtZW50OiAnb2wnXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbk9yZGVyZWRMaXN0XG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uT3V0ZGVudEJsb2NrIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIG91dGRlbnRpbmcgYmxvY2tzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25PdXRkZW50QmxvY2tcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25PdXRkZW50QmxvY2sgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25PdXRkZW50QmxvY2tcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLm91dGRlbnR9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLW91dGRlbnQtYmxvY2tcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5vdXRkZW50fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLW91dGRlbnQtYmxvY2tcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW5kZW50QmxvY2tcbiAqIEBtZW1iZXJvZiBCdXR0b25PdXRkZW50QmxvY2tcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uT3V0ZGVudEJsb2NrLmtleSA9ICdvdXRkZW50QmxvY2snO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbk91dGRlbnRCbG9ja1xuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uT3V0ZGVudEJsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnb3V0ZGVudCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvbk91dGRlbnRCbG9ja1xuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG4vKipcbiAqIFRoZSBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYWxpZ25pbmcgYSBwYXJhZ3JhcGggb24gbGVmdC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnbkxlZnR9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1sZWZ0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLWxlZnRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgcGFyYWdyYXBoTGVmdFxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQua2V5ID0gJ3BhcmFncmFwaExlZnQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnanVzdGlmeWxlZnQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbkNvbW1hbmRBY3RpdmUoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgICAgICBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnRcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuLyoqXG4gKiBUaGUgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhbGlnbmluZyBhIHBhcmFncmFwaCBvbiByaWdodC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZEFjdGl2ZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtYWxpZ24tcmlnaHRcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLXJpZ2h0XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHBhcmFncmFwaFJpZ2h0XG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0LmtleSA9ICdwYXJhZ3JhcGhSaWdodCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ2p1c3RpZnlyaWdodCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHRcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25QYXJhZ3JhcGhDZW50ZXIgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2VudGVyaW5nIGEgcGFyYWdyYXBoLlxuICpcbiAqIEBjbGFzcyBCdXR0b25QYXJhZ3JhcGhDZW50ZXJcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25QYXJhZ3JhcGhDZW50ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhDZW50ZXJcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduQ2VudGVyfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtY2VudGVyXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tYWxpZ24tY2VudGVyXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHBhcmFncmFwaENlbnRlclxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaENlbnRlclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25QYXJhZ3JhcGhDZW50ZXIua2V5ID0gJ3BhcmFncmFwaENlbnRlcic7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25QYXJhZ3JhcGhDZW50ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdqdXN0aWZ5Y2VudGVyJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25Db21tYW5kQWN0aXZlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICAgICAgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBqdXN0ZnlpbmcgYSBwYXJhZ3JhcGguXG4gKlxuICogQGNsYXNzIEJ1dHRvblBhcmFncmFwaEp1c3RpZnlcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25KdXN0aWZ5fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtanVzdGlmeVwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduSnVzdGlmeX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1hbGlnbi1qdXN0aWZpZWRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgcGFyYWdyYXBoSnVzdGlmeVxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEp1c3RpZnlcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uUGFyYWdyYXBoSnVzdGlmeS5rZXkgPSAncGFyYWdyYXBoSnVzdGlmeSc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUGFyYWdyYXBoSnVzdGlmeS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ2p1c3RpZnlibG9jaydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvblBhcmFncmFwaEp1c3RpZnlcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUXVvdGUgY2xhc3Mgd3JhcHMgYSBzZWxlY3Rpb24gaW4gYGJsb2NrcXVvdGVgIGVsZW1lbnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvblF1b3RlXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvblF1b3RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uUXVvdGVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnF1b3RlfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1xdW90ZVwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnF1b3RlfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXF1b3RlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHF1b3RlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUXVvdGVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uUXVvdGUua2V5ID0gJ3F1b3RlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25RdW90ZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUXVvdGUuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdibG9ja3F1b3RlJyxcbiAgICBzdHlsZToge1xuICAgICAgICBlbGVtZW50OiAnYmxvY2txdW90ZSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uUXVvdGVcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblJlbW92ZUZvcm1hdCBjbGFzcyByZW1vdmVzIHN0eWxlIGZvcm1hdHRpbmcuXG4gKlxuICogQGNsYXNzIEJ1dHRvblJlbW92ZUZvcm1hdFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICovXG5jbGFzcyBCdXR0b25SZW1vdmVGb3JtYXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25SZW1vdmVGb3JtYXRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5yZW1vdmVmb3JtYXR9IGNsYXNzTmFtZT0nYWUtYnV0dG9uJyBkYXRhLXR5cGU9XCJidXR0b24tcmVtb3ZlZm9ybWF0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MucmVtb3ZlZm9ybWF0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXJlbW92ZWZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCByZW1vdmVGb3JtYXRcbiAqIEBtZW1iZXJvZiBCdXR0b25SZW1vdmVGb3JtYXRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uUmVtb3ZlRm9ybWF0LmtleSA9ICdyZW1vdmVGb3JtYXQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblJlbW92ZUZvcm1hdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUmVtb3ZlRm9ybWF0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAncmVtb3ZlRm9ybWF0J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25SZW1vdmVGb3JtYXRcbik7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uU2VwYXJhdG9yIGZ1bmN0aW9uIHJlbmRlcnMgYSBzaW1wbGUgc2VwYXJhdG9yLlxuICovXG5mdW5jdGlvbiBCdXR0b25TZXBhcmF0b3IocHJvcHMpIHtcbiAgcmV0dXJuIChcbiAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1zZXBhcmF0b3JcIj48L3NwYW4+XG4gICk7XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgc2VwYXJhdG9yXG4gKiBAbWVtYmVyb2YgQnV0dG9uU2VwYXJhdG9yXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblNlcGFyYXRvci5rZXkgPSAnc2VwYXJhdG9yJztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU2VwYXJhdG9yOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdHJpa2UgY2xhc3Mgc3R5bGVzIGEgc2VsZWN0aW9uIHdpdGggc3RyaWtlIHN0eWxlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25TdHJpa2VcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uU3RyaWtlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0cmlrZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3Muc3RyaWtlfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1zdHJpa2VcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdHJpa2V9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tc3RyaWtlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHN0cmlrZVxuICogQG1lbWJlcm9mIEJ1dHRvblN0cmlrZVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25TdHJpa2Uua2V5ID0gJ3N0cmlrZSc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3RyaWtlXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25TdHJpa2UuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdzdHJpa2UnLFxuICAgIHN0eWxlOiAnY29yZVN0eWxlc19zdHJpa2UnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uU3RyaWtlXG4pKSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uc1N0eWxlc0xpc3RIZWFkZXIgY2xhc3MgcHJvdmlkZXMgdGhlIGhlYWRlciBvZiBhbiBsaXN0IG9mIHN0eWxlIGl0ZW1zLlxuICpcbiAqIEBjbGFzcyBCdXR0b25zU3R5bGVzTGlzdEhlYWRlclxuICovXG5jbGFzcyBCdXR0b25zU3R5bGVzTGlzdEhlYWRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnN0eWxlcyAmJiB0aGlzLnByb3BzLnN0eWxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtbGlzdC1oZWFkZXJcIj57dGhpcy5wcm9wcy5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuQnV0dG9uc1N0eWxlc0xpc3RIZWFkZXIua2V5ID0gJ2J1dHRvblN0eWxlc0xpc3RIZWFkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25zU3R5bGVzTGlzdEhlYWRlcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBwcmV2aWV3aW5nIGEgc3R5bGUgZGVmaW5pdGlvblxuICogaW5zaWRlIGEgbGlzdCBhbmQgYXBwbHlpbmcgaXQgdG8gdGhlIGN1cnJlbnQgZWRpdG9yIHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmVcbiAqL1xuY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpIHJvbGU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiIG9uQ2xpY2s9e3RoaXMuX3JlbW92ZVN0eWxlcy5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0+e0FsbG95RWRpdG9yLlN0cmluZ3Mubm9ybWFsfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbmxpbmUgc3R5bGVzIGFuZCBjb25maWd1cmVkIGJsb2NrIGVsZW1lbnRzIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG4gICAgICogQG1ldGhvZCBfcmVtb3ZlU3R5bGVzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9yZW1vdmVTdHlsZXMoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgncmVtb3ZlRm9ybWF0Jyk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5yZW1vdmVCbG9ja3MuZm9yRWFjaChmdW5jdGlvbihibG9ja0l0ZW0pIHtcbiAgICAgICAgICAgIHZhciBibG9ja1N0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHtlbGVtZW50OiBibG9ja0l0ZW19KTtcblxuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVN0eWxlKGJsb2NrU3R5bGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUua2V5ID0gJ2J1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUuZGVmYXVsdFByb3BzID0ge1xuICAgIHJlbW92ZUJsb2NrczogWydoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdwcmUnXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmU7XG4iLCJpbXBvcnQgQnV0dG9uQWN0aW9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tYWN0aW9uLXN0eWxlLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdHlsZXNMaXN0SXRlbSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBwcmV2aWV3aW5nIGEgc3R5bGUgZGVmaW5pdGlvblxuICogaW5zaWRlIGEgbGlzdCBhbmQgYXBwbHlpbmcgaXQgdG8gdGhlIGN1cnJlbnQgZWRpdG9yIHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW1cbiAqIEB1c2VzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdHlsZXNMaXN0SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIGJvdGggb24gdGhlIGNsaWVudCBhbmQgc2VydmVyLCBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICAvLyBTdHlsZXMgd2l0aCB3aWxkY2FyZCBlbGVtZW50ICgqKSBnZW5lcmF0ZSBhbiBlbXB0eSB0YWcgaW4gdGhlaXIgcHJldmlldyA8IGNsYXNzPVwiY3VzdG9tLWNsYXNzXCIgLz4uXG4gICAgICAgIC8vIFdlIGRlZmF1bHQgdG8gZWxlbWVudCBzcGFuIGFuZCByZW1vdmUgdGhlIG1hcmdpbnMgdG8gb2J0YWluIGEgbW9yZSBjb25zaXN0ZW50IHNldCBvZiBwcmV2aWV3cy5cbiAgICAgICAgdmFyIHN0eWxlQ2ZnID0ge1xuICAgICAgICAgICAgZWxlbWVudDogJ3NwYW4nLFxuICAgICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3R5bGVDZmcgPSBDS0VESVRPUi50b29scy5tZXJnZShzdHlsZUNmZywgdGhpcy5wcm9wcy5zdHlsZSk7XG5cbiAgICAgICAgdGhpcy5fcHJldmlldyA9IG5ldyBDS0VESVRPUi5zdHlsZShzdHlsZUNmZykuYnVpbGRQcmV2aWV3KHRoaXMucHJvcHMubmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIGRhbmdlcm91c2VseVNldElubnRlckhUTUwgc2luY2Ugd2UncmUgbm90IGluIGNvbnRyb2wgb2YgdGhlIHN0eWxlXG4gICAgICAgIC8vIHByZXZpZXcgdGhhdCBpcyBnZW5lcmF0ZWQgYnkgQ0tFZGl0b3IuXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWUgPT09IHRoaXMucHJvcHMuYWN0aXZlU3R5bGUgPyAnYWUtdG9vbGJhci1lbGVtZW50IGFjdGl2ZScgOiAnYWUtdG9vbGJhci1lbGVtZW50JztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMuX3ByZXZpZXd9fSBvbkNsaWNrPXt0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fT48L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBpdGVtIHN0eWxlIHRvIHRoZSBlZGl0b3Igc2VsZWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG4gICAgICogQG1ldGhvZCBfb25DbGlja1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfb25DbGljaygpIHtcbiAgICAgICAgLy8gVHlwaWNhbGx5LCB3ZSB3YW50IHRoZSBzdHlsZSB0byBiZSB0aGUgb25seSBvbmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24sIHNvXG4gICAgICAgIC8vIHdlIGV4ZWN1dGUgdGhlICdyZW1vdmVGb3JtYXQnIGNvbW1hbmQgZmlyc3QuIE5vdGUgdGhhdCBibG9jayBzdHlsZXMgd29uJ3QgYmUgY2xlYW5lZC5cbiAgICAgICAgLy8gSG93ZXZlciwgdGhpcyBpcyBjb25zaXN0ZW50IHdpdGggb3RoZXIgZWRpdG9ycyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBmZWF0dXJlLlxuICAgICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmV4ZWNDb21tYW5kKCdyZW1vdmVGb3JtYXQnKTtcblxuICAgICAgICB0aGlzLmFwcGx5U3R5bGUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgYnV0dG9uU3R5bGVzTGlzdEl0ZW1cbiAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25TdHlsZXNMaXN0SXRlbS5rZXkgPSAnYnV0dG9uU3R5bGVzTGlzdEl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25BY3Rpb25TdHlsZShcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uU3R5bGVzTGlzdEl0ZW1cbikpOyIsImltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3RJdGVtIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWl0ZW0uanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWhlYWRlci5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uU3R5bGVzTGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzaG93aW5nIGEgbGlzdCBvZiBzdHlsZXMgdGhhdCBjYW4gYmVcbiAqIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdFxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvblN0eWxlc0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBGb2N1c2VzIG9uIHRoZSBsaXN0IG5vZGUgdG8gYWxsb3cga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcykuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgYm90aCBvbiB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIsIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdmFyIGJsb2NrU3R5bGVzID0gW107XG4gICAgICAgIHZhciBpbmxpbmVTdHlsZXMgPSBbXTtcbiAgICAgICAgdmFyIG9iamVjdFN0eWxlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMucHJvcHMuc3R5bGVzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKGl0ZW0uc3R5bGUpO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUudHlwZSA9PT0gQ0tFRElUT1IuU1RZTEVfQkxPQ0spIHtcbiAgICAgICAgICAgICAgICBibG9ja1N0eWxlcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS50eXBlID09PSBDS0VESVRPUi5TVFlMRV9JTkxJTkUpIHtcbiAgICAgICAgICAgICAgICBpbmxpbmVTdHlsZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUudHlwZSA9PT0gQ0tFRElUT1IuU1RZTEVfT0JKRUNUKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0U3R5bGVzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Jsb2NrU3R5bGVzID0gYmxvY2tTdHlsZXM7XG4gICAgICAgIHRoaXMuX2lubGluZVN0eWxlcyA9IGlubGluZVN0eWxlcztcbiAgICAgICAgdGhpcy5fb2JqZWN0U3R5bGVzID0gb2JqZWN0U3R5bGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgcmVtb3ZlU3R5bGVzSXRlbTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93UmVtb3ZlU3R5bGVzSXRlbSkge1xuICAgICAgICAgICAgcmVtb3ZlU3R5bGVzSXRlbSA9IDxCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfSBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxCdXR0b25Ecm9wZG93biB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgICAgICAgICAge3JlbW92ZVN0eWxlc0l0ZW19XG5cbiAgICAgICAgICAgICAgICA8QnV0dG9uc1N0eWxlc0xpc3RIZWFkZXIgbmFtZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5ibG9ja1N0eWxlc30gc3R5bGVzPXt0aGlzLl9ibG9ja1N0eWxlc30gLz5cbiAgICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyU3R5bGVzSXRlbXModGhpcy5fYmxvY2tTdHlsZXMpfVxuXG4gICAgICAgICAgICAgICAgPEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyIG5hbWU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaW5saW5lU3R5bGVzfSBzdHlsZXM9e3RoaXMuX2lubGluZVN0eWxlc30gLz5cbiAgICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyU3R5bGVzSXRlbXModGhpcy5faW5saW5lU3R5bGVzKX1cblxuICAgICAgICAgICAgICAgIDxCdXR0b25zU3R5bGVzTGlzdEhlYWRlciBuYW1lPXtBbGxveUVkaXRvci5TdHJpbmdzLm9iamVjdFN0eWxlc30gc3R5bGVzPXt0aGlzLl9vYmplY3RTdHlsZXN9IC8+XG4gICAgICAgICAgICAgICAge3RoaXMuX3JlbmRlclN0eWxlc0l0ZW1zKHRoaXMuX29iamVjdFN0eWxlcyl9XG4gICAgICAgICAgICA8L0J1dHRvbkRyb3Bkb3duPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgaW5zdGFuY2VzIG9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtIHdpdGggdGhlIHByZXZpZXcgb2YgdGhlIGNvcnJlc3BvbmRlbnQgYmxvY2ssIGlubGluZSBvciBvYmplY3Qgc3R5bGVzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RcbiAgICAgKiBAbWV0aG9kIF9yZW5kZXJTdHlsZXNJdGVtc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHN0eWxlcyBMaXN0IG9mIHN0eWxlcyBmb3Igd2hpY2ggcHJldmlldyBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBSZW5kZXJlZCBpbnN0YW5jZXMgb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW0gY2xhc3NcbiAgICAgKi9cbiAgICBfcmVuZGVyU3R5bGVzSXRlbXMoc3R5bGVzKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvcjtcbiAgICAgICAgdmFyIGl0ZW1zO1xuXG4gICAgICAgIGlmIChzdHlsZXMgJiYgc3R5bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlbXMgPSBzdHlsZXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpdGVtLm5hbWV9IHJvbGU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25TdHlsZXNMaXN0SXRlbSBhY3RpdmVTdHlsZT17dGhpcy5wcm9wcy5hY3RpdmVTdHlsZX0gZWRpdG9yPXtlZGl0b3J9IG5hbWU9e2l0ZW0ubmFtZX0gc3R5bGU9e2l0ZW0uc3R5bGV9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0XG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAZGVmYXVsdCBidXR0b25TdHlsZXNMaXN0XG4gKi9cbkJ1dHRvblN0eWxlc0xpc3Qua2V5ID0gJ2J1dHRvblN0eWxlc0xpc3QnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvblN0eWxlc0xpc3QuZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiBmYWxzZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfSxcbiAgICBzaG93UmVtb3ZlU3R5bGVzSXRlbTogdHJ1ZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvblN0eWxlc0xpc3Rcbik7IiwiaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3QgZnJvbSAnLi9idXR0b24tc3R5bGVzLWxpc3QuanN4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblN0eWxlcyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzdHlsaW5nIGEgc2VsZWN0aW9uIHdpdGggYSBsaXN0IG9mXG4gKiBjb25maWd1cmFibGUgYW5kIGN1c3RvbWl6YWJsZSBzdHlsZXMuIFRoZSBhbGxvd2VkIHN0eWxlcyBmb2xsb3cgQ0tFRElUT1IuU3R5bGUgY29uZmlndXJhdGlvblxuICogKGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1Iuc3R5bGUpXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0eWxlc1xuICovXG5jbGFzcyBCdXR0b25TdHlsZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVN0eWxlID0gQWxsb3lFZGl0b3IuU3RyaW5ncy5ub3JtYWw7XG5cbiAgICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuX2dldFN0eWxlcygpO1xuXG4gICAgICAgIHN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtLnN0eWxlKSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVN0eWxlID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHZhciBidXR0b25TdHlsZXNMaXN0O1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmV4cGFuZGVkKSB7XG4gICAgICAgICAgICBidXR0b25TdHlsZXNMaXN0ID0gPEJ1dHRvblN0eWxlc0xpc3QgYWN0aXZlU3R5bGU9e2FjdGl2ZVN0eWxlfSBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfSBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IHNob3dSZW1vdmVTdHlsZXNJdGVtPXt0aGlzLnByb3BzLnNob3dSZW1vdmVTdHlsZXNJdGVtfSBzdHlsZXM9e3N0eWxlc30gLz47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24gYWUtaGFzLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfSBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0eWxlcyArICcgJyArIGFjdGl2ZVN0eWxlfSBjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcyl9IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdHlsZXMgKyAnICcgKyBhY3RpdmVTdHlsZX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPnthY3RpdmVTdHlsZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFycm93XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uU3R5bGVzTGlzdH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3R5bGUgZGVmaW5pdGlvbiBpcyBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc1xuICAgICAqIEBtZXRob2QgX2NoZWNrQWN0aXZlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ29uZmlnIFN0eWxlIGRlZmluaXRpb24gYXMgcGVyIGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1Iuc3R5bGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgc3R5bGUgaXMgYXBwbGllZCB0byB0aGUgc2VsZWN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgX2NoZWNrQWN0aXZlKHN0eWxlQ29uZmlnKSB7XG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIC8vIFN0eWxlcyB3aXRoIHdpbGRjYXJkIGVsZW1lbnQgKCopIHdvbid0IGJlIGNvbnNpZGVyZWQgYWN0aXZlIGJ5IENLRWRpdG9yLiBEZWZhdWx0aW5nXG4gICAgICAgIC8vIHRvIGEgJ3NwYW4nIGVsZW1lbnQgd29ya3MgZm9yIG1vc3Qgb2YgdGhvc2UgY2FzZXMgd2l0aCBubyBkZWZpbmVkIGVsZW1lbnQuXG4gICAgICAgIHN0eWxlQ29uZmlnID0gQ0tFRElUT1IudG9vbHMubWVyZ2Uoe2VsZW1lbnQ6ICdzcGFuJ30sIHN0eWxlQ29uZmlnKTtcblxuICAgICAgICB2YXIgc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGVDb25maWcpO1xuXG4gICAgICAgIHJldHVybiBzdHlsZS5jaGVja0FjdGl2ZShuYXRpdmVFZGl0b3IuZWxlbWVudFBhdGgoKSwgbmF0aXZlRWRpdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHN0eWxlcy4gRWFjaCBzdHlsZSBjb25zaXN0cyBmcm9tIHR3byBwcm9wZXJ0aWVzOlxuICAgICAqIC0gbmFtZSAtIHRoZSBzdHlsZSBuYW1lLCBmb3IgZXhhbXBsZSBcImgxXCJcbiAgICAgKiAtIHN0eWxlIC0gYW4gb2JqZWN0IHdpdGggb25lIHByb3BlcnR5LCBjYWxsZWQgYGVsZW1lbnRgIHdoaWNoIHZhbHVlXG4gICAgICogcmVwcmVzZW50cyB0aGUgc3R5bGUgd2hpY2ggaGF2ZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc1xuICAgICAqIEBtZXRob2QgX2dldFN0eWxlc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxvYmplY3Q+fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIHN0eWxlcy5cbiAgICAgKi9cbiAgICBfZ2V0U3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5zdHlsZXMgfHwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuaDEsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJ2gxJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5oMixcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnaDInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmZvcm1hdHRlZCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAncHJlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5jaXRlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdjaXRlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2RlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdjb2RlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgc3R5bGVzXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblN0eWxlcy5rZXkgPSAnc3R5bGVzJztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3R5bGVzOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdWJzY3JpcHQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYXBwbHlpbmcgc3Vic2NyaXB0IHN0eWxlIHRvIGEgdGV4dCBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN1YnNjcmlwdFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdWJzY3JpcHQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdWJzY3JpcHRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN1YnNjcmlwdH0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tc3Vic2NyaXB0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3Muc3Vic2NyaXB0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXN1YnNjcmlwdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBzdWJzY3JpcHRcbiAqIEBtZW1iZXJvZiBCdXR0b25TdWJzY3JpcHRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uU3Vic2NyaXB0LmtleSA9ICdzdWJzY3JpcHQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblN1YnNjcmlwdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uU3Vic2NyaXB0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnc3Vic2NyaXB0JyxcbiAgICBzdHlsZTogJ2NvcmVTdHlsZXNfc3Vic2NyaXB0J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvblN1YnNjcmlwdFxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdXBlcnNjcmlwdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhcHBseWluZyBzdXBlcnNjcmlwdCBzdHlsZSB0byBhIHRleHQgc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25TdXBlcnNjcmlwdFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdXBlcnNjcmlwdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN1cGVyc2NyaXB0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdXBlcnNjcmlwdH0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tc3VwZXJzY3JpcHRcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdXBlcnNjcmlwdH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1zdXBlcnNjcmlwdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBzdXBlcnNjcmlwdFxuICogQG1lbWJlcm9mIEJ1dHRvblN1cGVyc2NyaXB0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblN1cGVyc2NyaXB0LmtleSA9ICdzdXBlcnNjcmlwdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3VwZXJzY3JpcHRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvblN1cGVyc2NyaXB0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnc3VwZXJzY3JpcHQnLFxuICAgIHN0eWxlOiAnY29yZVN0eWxlc19zdXBlcnNjcmlwdCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgIEJ1dHRvblN0eWxlKFxuICAgICAgICBCdXR0b25TdXBlcnNjcmlwdFxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kc0xpc3QgZnJvbSAnLi9idXR0b24tY29tbWFuZHMtbGlzdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGVDZWxsIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gd29yayB3aXRoIHRhYmxlIGNlbGxzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUNlbGxcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVDZWxsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVDZWxsXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3Q7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0SWQgPSBCdXR0b25UYWJsZUNlbGwua2V5ICsgJ0xpc3QnO1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0ID0gPEJ1dHRvbkNvbW1hbmRzTGlzdCBjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX0gZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gbGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9IGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2VsbH0gYXJpYS1vd25zPXtidXR0b25Db21tYW5kc0xpc3RJZH0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bi5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2VsbH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tY2VsbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uQ29tbWFuZHNMaXN0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG4gICAgICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVDZWxsXG4gICAgICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cbiAgICAgKi9cbiAgICBfZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY2VsbEluc2VydEJlZm9yZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbEluc2VydEJlZm9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY2VsbEluc2VydEFmdGVyJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsSW5zZXJ0QWZ0ZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxEZWxldGUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNlbGxEZWxldGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxNZXJnZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbE1lcmdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdjZWxsTWVyZ2VEb3duJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsTWVyZ2VEb3duXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdjZWxsTWVyZ2VSaWdodCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbE1lcmdlUmlnaHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxIb3Jpem9udGFsU3BsaXQnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNlbGxTcGxpdEhvcml6b250YWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxWZXJ0aWNhbFNwbGl0JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsU3BsaXRWZXJ0aWNhbFxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZUNlbGxcbiAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUNlbGxcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uVGFibGVDZWxsLmtleSA9ICd0YWJsZUNlbGwnO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUNlbGw7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmRzTGlzdCBmcm9tICcuL2J1dHRvbi1jb21tYW5kcy1saXN0LmpzeCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZUNvbHVtbiBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHdvcmsgd2l0aCB0YWJsZSBjb2x1bW5zLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUNvbHVtblxuICovXG5jbGFzcyBCdXR0b25UYWJsZUNvbHVtbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ29sdW1uXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3QsXG4gICAgICAgICAgICBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0SWQgPSBCdXR0b25UYWJsZUNvbHVtbi5rZXkgKyAnTGlzdCc7XG4gICAgICAgICAgICBidXR0b25Db21tYW5kc0xpc3QgPSA8QnV0dG9uQ29tbWFuZHNMaXN0IGNvbW1hbmRzPXt0aGlzLl9nZXRDb21tYW5kcygpfSBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfSBsaXN0SWQ9e2J1dHRvbkNvbW1hbmRzTGlzdElkfSBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyIGFlLWhhcy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH0gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW59IGFyaWEtb3ducz17YnV0dG9uQ29tbWFuZHNMaXN0SWR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd24uYmluZCh0aGlzKX0gcm9sZT1cImxpc3Rib3hcIiB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29sdW1ufT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1jb2x1bW5cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAge2J1dHRvbkNvbW1hbmRzTGlzdH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGNvbW1hbmRzLiBJZiBhIGxpc3Qgb2YgY29tbWFuZHMgd2FzIHBhc3NlZFxuICAgICAqIGFzIHByb3BlcnR5IGBjb21tYW5kc2AsIGl0IHdpbGwgdGFrZSBhIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBvbmVzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ29sdW1uXG4gICAgICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cbiAgICAgKi9cbiAgICBfZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY29sdW1uSW5zZXJ0QmVmb3JlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5JbnNlcnRCZWZvcmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NvbHVtbkluc2VydEFmdGVyJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5JbnNlcnRBZnRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY29sdW1uRGVsZXRlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5EZWxldGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgdGFibGVDb2x1bW5cbiAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUNvbHVtblxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYWJsZUNvbHVtbi5rZXkgPSAndGFibGVDb2x1bW4nO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUNvbHVtbjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbnZhciBLRVlfRU5URVIgPSAxMztcbnZhciBLRVlfRVNDID0gMjc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhYmxlRWRpdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhIHRhYmxlIGluIGEgZG9jdW1lbnQuXG4gKiBQcm92aWRlcyBVSSBmb3IgY3JlYXRpbmcgYSB0YWJsZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVFZGl0XG4gKi9cbmNsYXNzIEJ1dHRvblRhYmxlRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcbiAgICAgKiBAbWV0aG9kIGdldEluaXRpYWxTdGF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnJvd3NSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy5jb2xzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjb2xzOiAzLFxuICAgICAgICAgICAgcm93czogM1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQgKG5vdCBvbiB0aGUgc2VydmVyKSxcbiAgICAgKiBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogRm9jdXNlcyBvbiB0aGUgbGluayBpbnB1dCB0byBpbW1lZGlhdGVseSBhbGxvdyBlZGl0aW5nLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5yb3dzUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGFibGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG4gICAgICogQG1ldGhvZCBfY3JlYXRlVGFibGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVRhYmxlKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIHRhYmxlVXRpbHMgPSBuZXcgQ0tFRElUT1IuVGFibGUoZWRpdG9yKTtcblxuICAgICAgICB0YWJsZVV0aWxzLmNyZWF0ZSh7XG4gICAgICAgICAgICBhdHRyczogdGhpcy5wcm9wcy50YWJsZUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBjb2xzOiB0aGlzLnN0YXRlLmNvbHMsXG4gICAgICAgICAgICByb3dzOiB0aGlzLnN0YXRlLnJvd3NcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblxuICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGNoYW5nZSBpbiBpbnB1dCB2YWx1ZS4gU2V0cyB0aGUgcHJvdmlkZWQgdmFsdWUgZnJvbSB0aGUgdXNlciBiYWNrIHRvIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcbiAgICAgKiBAbWV0aG9kIF9oYW5kbGVDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXROYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnB1dCB3aGljaCB2YWx1ZSBzaG91bGQgYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgcHJvdmlkZWQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVDaGFuZ2UoaW5wdXROYW1lLCBldmVudCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICAgICAgc3RhdGVbaW5wdXROYW1lXSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb25pdG9ycyBrZXkgaW50ZXJhY3Rpb24gaW5zaWRlIHRoZSBpbnB1dCBlbGVtZW50IHRvIHJlc3BvbmQgdG8gdGhlIGtleXM6XG4gICAgICogLSBFbnRlcjogQ3JlYXRlcyB0aGUgdGFibGUuXG4gICAgICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuICAgICAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIgfHwgZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRhYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgcm93c0lkID0gdGltZSArICdyb3dzJztcbiAgICAgICAgdmFyIGNvbHNJZCA9IHRpbWUgKyAnY29scyc7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtdGFibGVcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17cm93c0lkfT57QWxsb3lFZGl0b3IuU3RyaW5ncy5yb3dzfTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItaW5wdXQgc21hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImFlLWlucHV0XCIgaWQ9e3Jvd3NJZH0gb25DaGFuZ2U9e3RoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICdyb3dzJyl9IG1pbj1cIjFcIiBvbktleURvd249e3RoaXMuX2hhbmRsZUtleURvd24uYmluZCh0aGlzKX0gcGxhY2Vob2xkZXI9XCJSb3dzXCIgcmVmPXt0aGlzLnJvd3NSZWZ9IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17dGhpcy5zdGF0ZS5yb3dzfT48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2NvbHNJZH0+e0FsbG95RWRpdG9yLlN0cmluZ3MuY29sdW1uc308L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHNtYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJhZS1pbnB1dFwiIGlkPXtjb2xzSWR9IG9uQ2hhbmdlPXt0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnY29scycpfSBtaW49XCIxXCIgb25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3duLmJpbmQodGhpcyl9IHBsYWNlaG9sZGVyPVwiQ29sdW1zXCIgcmVmPXt0aGlzLmNvbHNSZWZ9IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17dGhpcy5zdGF0ZS5jb2xzfT48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPVwiQ29uZmlybVwiIGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuX2NyZWF0ZVRhYmxlLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLW9rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHRhYmxlRWRpdFxuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYWJsZUVkaXQua2V5ID0gJ3RhYmxlRWRpdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICovXG5CdXR0b25UYWJsZUVkaXQuZGVmYXVsdFByb3BzID0ge1xuICAgIHRhYmxlQXR0cmlidXRlczoge1xuICAgICAgICBib3JkZXI6IDEsXG4gICAgICAgIGNlbGxQYWRkaW5nOiAwLFxuICAgICAgICBjZWxsU3BhY2luZzogMCxcbiAgICAgICAgc3R5bGU6ICd3aWR0aDogMTAwJSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUVkaXQ7XG4iLCJpbXBvcnQgQnV0dG9uQ29tbWFuZHNMaXN0IGZyb20gJy4vYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhYmxlSGVhZGluZyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHdvcmsgd2l0aCB0YWJsZSBoZWFkaW5nLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUhlYWRpbmdcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVIZWFkaW5nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3Q7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0SWQgPSBCdXR0b25UYWJsZUhlYWRpbmcua2V5ICsgJ0xpc3QnO1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0ID0gPEJ1dHRvbkNvbW1hbmRzTGlzdCBjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX0gZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gbGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3RpdmVIZWFkaW5nID0gbmV3IENLRURJVE9SLlRhYmxlKHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJykpLmdldEhlYWRpbmcoKTtcbiAgICAgICAgdmFyIGFjdGl2ZUhlYWRpbmdJbnRybyA9IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVycyArICc6JztcbiAgICAgICAgdmFyIGFjdGl2ZUhlYWRpbmdMYWJlbCA9IEFsbG95RWRpdG9yLlN0cmluZ3NbJ2hlYWRlcnMnICsgYWN0aXZlSGVhZGluZ107XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duLXhsIGFlLWhhcy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH0gYXJpYS1sYWJlbD1cIlwiIGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd24uYmluZCh0aGlzKX0gcm9sZT1cImNvbWJvYm94XCIgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPnthY3RpdmVIZWFkaW5nSW50cm99IDxzdHJvbmc+e2FjdGl2ZUhlYWRpbmdMYWJlbH08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFycm93XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uQ29tbWFuZHNMaXN0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG4gICAgICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG4gICAgICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cbiAgICAgKi9cbiAgICBfZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndGFibGVIZWFkaW5nTm9uZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVyc05vbmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3RhYmxlSGVhZGluZ1JvdycsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVyc1Jvd1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndGFibGVIZWFkaW5nQ29sdW1uJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzQ29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd0YWJsZUhlYWRpbmdCb3RoJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzQm90aFxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVJvd1xuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlSGVhZGluZ1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYWJsZUhlYWRpbmcua2V5ID0gJ3RhYmxlSGVhZGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlSGVhZGluZzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZVJlbW92ZSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciByZW1vdmluZyBhIHRhYmxlXG4gKlxuICogQGNsYXNzIEJ1dHRvblRhYmxlUmVtb3ZlXG4gKi9cbmNsYXNzIEJ1dHRvblRhYmxlUmVtb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVSZW1vdmVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVUYWJsZX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLXRhYmxlLXJlbW92ZVwiIG9uQ2xpY2s9e3RoaXMuX3JlbW92ZVRhYmxlLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVUYWJsZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1iaW5cIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSB0YWJsZSBpbiB0aGUgZWRpdG9yIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVSZW1vdmVcbiAgICAgKiBAbWV0aG9kIF9yZW1vdmVUYWJsZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlVGFibGUoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgdGFibGVVdGlscyA9IG5ldyBDS0VESVRPUi5UYWJsZShlZGl0b3IpO1xuXG4gICAgICAgIHRhYmxlVXRpbHMucmVtb3ZlKCk7XG5cbiAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVJlbW92ZVxuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUmVtb3ZlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblRhYmxlUmVtb3ZlLmtleSA9ICd0YWJsZVJlbW92ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlUmVtb3ZlOyIsImltcG9ydCBCdXR0b25Db21tYW5kc0xpc3QgZnJvbSAnLi9idXR0b24tY29tbWFuZHMtbGlzdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGVSb3cgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB3b3JrIHdpdGggdGFibGUgcm93cy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVSb3dcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVJvd1xuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgYnV0dG9uQ29tbWFuZHNMaXN0O1xuICAgICAgICB2YXIgYnV0dG9uQ29tbWFuZHNMaXN0SWQ7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZXhwYW5kZWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbkNvbW1hbmRzTGlzdElkID0gQnV0dG9uVGFibGVSb3cua2V5ICsgJ0xpc3QnO1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0ID0gPEJ1dHRvbkNvbW1hbmRzTGlzdCBjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX0gZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gbGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9IGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3Mucm93fSBhcmlhLW93bnM9e2J1dHRvbkNvbW1hbmRzTGlzdElkfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcyl9IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5yb3d9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXJvd1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uQ29tbWFuZHNMaXN0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG4gICAgICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVSb3dcbiAgICAgKiBAbWV0aG9kIF9nZXRDb21tYW5kc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGNvbW1hbmRzLlxuICAgICAqL1xuICAgIF9nZXRDb21tYW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY29tbWFuZHMgfHwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdyb3dJbnNlcnRCZWZvcmUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0luc2VydEJlZm9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAncm93SW5zZXJ0QWZ0ZXInLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0luc2VydEFmdGVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdyb3dEZWxldGUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0RlbGV0ZVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVJvd1xuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUm93XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblRhYmxlUm93LmtleSA9ICd0YWJsZVJvdyc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlUm93OyIsImltcG9ydCBCdXR0b25UYWJsZUVkaXQgZnJvbSAnLi9idXR0b24tdGFibGUtZWRpdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGUgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSB0YWJsZSBpbiBhIGRvY3VtZW50LiBCdXR0b25UYWJsZVxuICogcmVuZGVycyBpbiB0d28gZGlmZmVyZW50IG1vZGVzOlxuICpcbiAqIC0gTm9ybWFsOiBKdXN0IGEgYnV0dG9uIHRoYXQgYWxsb3dzIHRvIHN3aXRjaCB0byB0aGUgZWRpdGlvbiBtb2RlXG4gKiAtIEV4Y2x1c2l2ZTogVGhlIEJ1dHRvblRhYmxlRWRpdCBVSSB3aXRoIGFsbCB0aGUgdGFibGUgZWRpdGlvbiBjb250cm9scy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblRhYmxlRWRpdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy50YWJsZX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLXRhYmxlXCIgb25DbGljaz17dGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudGFibGV9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXRhYmxlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVxuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblRhYmxlLmtleSA9ICd0YWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlOyIsImltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFyZ2V0TGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjaGFuZ2luZyB0aGUgdGFyZ2V0IG9mIGEgbGlua1xuICogaW4gdGhlIGRvY3VtZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYXJnZXRMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uVGFyZ2V0TGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBsaXN0VGFyZ2V0cyA9IHRoaXMuX3JlbmRlckxpc3RUYXJnZXRzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxCdXR0b25Ecm9wZG93biB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgICAgICAgICAge2xpc3RUYXJnZXRzfVxuICAgICAgICAgICAgPC9CdXR0b25Ecm9wZG93bj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aGUgYWxsb3dlZCBsaW5rIHRhcmdldCBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gICAgICogQG1ldGhvZCBfZ2V0QWxsb3dlZFRhcmdldEl0ZW1zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgYWxsb3dlZCB0YXJnZXQgaXRlbXMuXG4gICAgICovXG4gICAgX2dldEFsbG93ZWRUYXJnZXRJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYWxsb3dlZExpbmtUYXJnZXRzIHx8IFt7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0RGVmYXVsdCxcbiAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0U2VsZixcbiAgICAgICAgICAgIHZhbHVlOiAnX3NlbGYnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpbmtUYXJnZXRCbGFuayxcbiAgICAgICAgICAgIHZhbHVlOiAnX2JsYW5rJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0UGFyZW50LFxuICAgICAgICAgICAgdmFsdWU6ICdfcGFyZW50J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0VG9wLFxuICAgICAgICAgICAgdmFsdWU6ICdfdG9wJ1xuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBhbGxvd2VkIGxpbmsgdGFyZ2V0IGl0ZW1zLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhcmdldExpc3RcbiAgICAgKiBAbWV0aG9kIF9yZW5kZXJMaXN0VGFyZ2V0c1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIHJlbmRlcmVkIGxpbmsgaXRlbXNcbiAgICAgKi9cbiAgICBfcmVuZGVyTGlzdFRhcmdldHMoKSB7XG4gICAgICAgIHZhciB0YXJnZXRzID0gdGhpcy5fZ2V0QWxsb3dlZFRhcmdldEl0ZW1zKCk7XG5cbiAgICAgICAgdmFyIGhhbmRsZUxpbmtUYXJnZXRDaGFuZ2UgPSB0aGlzLnByb3BzLmhhbmRsZUxpbmtUYXJnZXRDaGFuZ2U7XG5cbiAgICAgICAgdGFyZ2V0cyA9IHRhcmdldHMubWFwKGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWRUYXJnZXQgPT09IHRhcmdldC52YWx1ZSA/ICdhZS10b29sYmFyLWVsZW1lbnQgYWN0aXZlJyA6ICdhZS10b29sYmFyLWVsZW1lbnQnO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e3RhcmdldC52YWx1ZX0gcm9sZT1cIm9wdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBkYXRhLXZhbHVlPXt0YXJnZXQudmFsdWV9IG9uQ2xpY2s9e2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2V9Pnt0YXJnZXQubGFiZWx9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldHM7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGxpbmtUYXJnZXRFZGl0XG4gKiBAbWVtYmVyb2YgQnV0dG9uVGFyZ2V0TGlzdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYXJnZXRMaXN0LmtleSA9ICd0YXJnZXRMaXN0JztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICovXG5CdXR0b25UYXJnZXRMaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaXJjdWxhcjogdHJ1ZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvblRhcmdldExpc3Rcbik7IiwiaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cblxuY29uc3QgTUFYX1RXRUVUX0xFTkdUSCA9IDI4MDtcblxuLyoqXG4gKiBUaGUgQnV0dG9uVHdpdHRlciBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyBhIGxpbmsgd2hpY2hcbiAqIGFsbG93cyBwZW9wbGUgdG8gdHdlZXQgcGFydCBvZiB0aGUgY29udGVudCBpbiB0aGUgZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Ud2l0dGVyXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uVHdpdHRlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBvciByZW1vdmVzIHRoZSB0d2l0dGVyIGxpbmsgb24gdGhlIHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Ud2l0dGVyXG4gICAgICogQG1ldGhvZCBoYW5kbGVDbGlja1xuICAgICAqL1xuICAgIGhhbmRsZUNsaWNrKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgICAgICB2YXIgbGlua1V0aWxzID0gbmV3IENLRURJVE9SLkxpbmsoZWRpdG9yKTtcblxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBsaW5rVXRpbHMucmVtb3ZlKGxpbmtVdGlscy5nZXRGcm9tU2VsZWN0aW9uKCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGlua1V0aWxzLmNyZWF0ZShcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRIcmVmKCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiAnYWUtdHdpdHRlci1saW5rJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RhcmdldCc6ICdfYmxhbmsnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlzIGNvbnRhaW5lZCB3aXRoaW4gYSBsaW5rIHRoYXQgcG9pbnRzIHRvIHR3aXR0ZXIuY29tL2ludGVudC90d2VldC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Ud2l0dGVyXG4gICAgICogQG1ldGhvZCBpc0FjdGl2ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHNlbGVjdGlvbiBpcyBpbnNpZGUgYSB0d2l0dGVyIGxpbmssIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBpc0FjdGl2ZSgpIHtcbiAgICAgICAgdmFyIGxpbmsgPSBuZXcgQ0tFRElUT1IuTGluayh0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpKS5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgcmV0dXJuIChsaW5rICYmIChsaW5rLmdldEF0dHJpYnV0ZSgnaHJlZicpLmluZGV4T2YoJ3R3aXR0ZXIuY29tL2ludGVudC90d2VldCcpICE9PSAtMSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Ud2l0dGVyXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy50d2l0dGVyfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tdHdpdHRlclwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnR3aXR0ZXJ9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tdHdpdHRlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgYXBwcm9wcmlhdGUgdHdpdHRlciB1cmwgYmFzZWQgb24gdGhlIHNlbGVjdGVkIHRleHQgYW5kIHRoZSBjb25maWd1cmF0aW9uXG4gICAgICogb3B0aW9ucyByZWNlaXZlZCB2aWEgcHJvcHMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuICAgICAqIEBtZXRob2QgX2dldEhyZWZcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBIHZhbGlkIHR3aXR0ZXIgdXJsIHdpdGggdGhlIHNlbGVjdGVkIHRleHQgYW5kIGdpdmVuIGNvbmZpZ3VyYXRpb24uXG4gICAgICovXG4gICAgX2dldEhyZWYoKSB7XG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0ID0gbmF0aXZlRWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpLnN1YnN0cmluZygwLCBNQVhfVFdFRVRfTEVOR1RIKTtcbiAgICAgICAgdmFyIHVybCA9IHRoaXMucHJvcHMudXJsO1xuICAgICAgICB2YXIgdmlhID0gdGhpcy5wcm9wcy52aWE7XG4gICAgICAgIHZhciB0d2l0dGVySHJlZiA9ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PScgKyBzZWxlY3RlZFRleHQ7XG5cbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgdHdpdHRlckhyZWYgKz0gJyZ1cmw9JyArIHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aWEpIHtcbiAgICAgICAgICAgIHR3aXR0ZXJIcmVmICs9ICcmdmlhPScgKyB2aWE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHdpdHRlckhyZWY7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHR3aXR0ZXJcbiAqIEBtZW1iZXJvZiBCdXR0b25Ud2l0dGVyXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblR3aXR0ZXIua2V5ID0gJ3R3aXR0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uVHdpdHRlclxuKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVW5vcmRlcmVkbGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyB1bm9yZGVyZWQgbGlzdHMgaW4gYW4gZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvblVub3JkZXJlZGxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5idWxsZXRlZGxpc3R9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLXVsXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYnVsbGV0ZWRsaXN0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWJ1bGxldGVkLWxpc3RcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgdWxcbiAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblVub3JkZXJlZGxpc3Qua2V5ID0gJ3VsJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25Vbm9yZGVyZWRsaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnYnVsbGV0ZWRsaXN0JyxcbiAgICBzdHlsZToge1xuICAgICAgICBlbGVtZW50OiAndWwnXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvblVub3JkZXJlZGxpc3RcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25LZXlzdHJva2UgZnJvbSAnLi4vYmFzZS9idXR0b24ta2V5c3Ryb2tlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVW5kZXJsaW5lIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHVuZGVybHlpbmcgYSB0ZXh0IHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVW5kZXJsaW5lXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uVW5kZXJsaW5lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25VbmRlcmxpbmVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnVuZGVybGluZX0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tdW5kZXJsaW5lXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudW5kZXJsaW5lfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXVuZGVybGluZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB1bmRlcmxpbmVcbiAqIEBtZW1iZXJvZiBCdXR0b25VbmRlcmxpbmVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uVW5kZXJsaW5lLmtleSA9ICd1bmRlcmxpbmUnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblVuZGVybGluZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uVW5kZXJsaW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAndW5kZXJsaW5lJyxcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdleGVjQ29tbWFuZCcsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA4NSAvKlUqL1xuICAgIH0sXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX3VuZGVybGluZSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uS2V5c3Ryb2tlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uVW5kZXJsaW5lXG4pKSkpOyIsImltcG9ydCBCdXR0b25Cb2xkIGZyb20gJy4vYnV0dG9uLWJvbGQuanN4JztcbmltcG9ydCBCdXR0b25DYW1lcmFJbWFnZSBmcm9tICcuL2J1dHRvbi1jYW1lcmEtaW1hZ2UuanN4JztcbmltcG9ydCBCdXR0b25DYW1lcmEgZnJvbSAnLi9idXR0b24tY2FtZXJhLmpzeCc7XG5pbXBvcnQgQnV0dG9uQ29kZSBmcm9tICcuL2J1dHRvbi1jb2RlLmpzeCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGZyb20gJy4vYnV0dG9uLWNvbW1hbmQtbGlzdC1pdGVtLmpzeCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZHNMaXN0IGZyb20gJy4vYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IEJ1dHRvbkVtYmVkRWRpdCBmcm9tICcuL2J1dHRvbi1lbWJlZC1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uRW1iZWQgZnJvbSAnLi9idXR0b24tZW1iZWQuanN4JztcbmltcG9ydCBCdXR0b25IMSBmcm9tICcuL2J1dHRvbi1oMS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkgyIGZyb20gJy4vYnV0dG9uLWgyLmpzeCc7XG5pbXBvcnQgQnV0dG9uSGxpbmUgZnJvbSAnLi9idXR0b24taGxpbmUuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGZyb20gJy4vYnV0dG9uLWltYWdlLWFsaWduLWNlbnRlci5qc3gnO1xuaW1wb3J0IEJ1dHRvbkltYWdlQWxpZ25MZWZ0IGZyb20gJy4vYnV0dG9uLWltYWdlLWFsaWduLWxlZnQuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZUFsaWduUmlnaHQgZnJvbSAnLi9idXR0b24taW1hZ2UtYWxpZ24tcmlnaHQuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZSBmcm9tICcuL2J1dHRvbi1pbWFnZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkluZGVudEJsb2NrIGZyb20gJy4vYnV0dG9uLWluZGVudC1ibG9jay5qc3gnO1xuaW1wb3J0IEJ1dHRvbkl0YWxpYyBmcm9tICcuL2J1dHRvbi1pdGFsaWMuanN4JztcbmltcG9ydCBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCBmcm9tICcuL2J1dHRvbi1saW5rLWF1dG9jb21wbGV0ZS1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua0VkaXQgZnJvbSAnLi9idXR0b24tbGluay1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua1RhcmdldEVkaXQgZnJvbSAnLi9idXR0b24tbGluay10YXJnZXQtZWRpdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkxpbmsgZnJvbSAnLi9idXR0b24tbGluay5qc3gnO1xuaW1wb3J0IEJ1dHRvbk9sIGZyb20gJy4vYnV0dG9uLW9sLmpzeCc7XG5pbXBvcnQgQnV0dG9uT3V0ZGVudEJsb2NrIGZyb20gJy4vYnV0dG9uLW91dGRlbnQtYmxvY2suanN4JztcbmltcG9ydCBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQgZnJvbSAnLi9idXR0b24tcGFyYWdyYXBoLWFsaWduLWxlZnQuanN4JztcbmltcG9ydCBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0IGZyb20gJy4vYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1yaWdodC5qc3gnO1xuaW1wb3J0IEJ1dHRvblBhcmFncmFwaENlbnRlciBmcm9tICcuL2J1dHRvbi1wYXJhZ3JhcGgtY2VudGVyLmpzeCc7XG5pbXBvcnQgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSBmcm9tICcuL2J1dHRvbi1wYXJhZ3JhcGgtanVzdGlmeS5qc3gnO1xuaW1wb3J0IEJ1dHRvblF1b3RlIGZyb20gJy4vYnV0dG9uLXF1b3RlLmpzeCc7XG5pbXBvcnQgQnV0dG9uUmVtb3ZlRm9ybWF0IGZyb20gJy4vYnV0dG9uLXJlbW92ZS1mb3JtYXQuanN4JztcbmltcG9ydCBCdXR0b25TZXBhcmF0b3IgZnJvbSAnLi9idXR0b24tc2VwYXJhdG9yLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3RyaWtlIGZyb20gJy4vYnV0dG9uLXN0cmlrZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3RIZWFkZXIgZnJvbSAnLi9idXR0b24tc3R5bGVzLWxpc3QtaGVhZGVyLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUgZnJvbSAnLi9idXR0b24tc3R5bGVzLWxpc3QtaXRlbS1yZW1vdmUuanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0SXRlbSBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdCBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlcyBmcm9tICcuL2J1dHRvbi1zdHlsZXMuanN4JztcbmltcG9ydCBCdXR0b25TdWJzY3JpcHQgZnJvbSAnLi9idXR0b24tc3Vic2NyaXB0LmpzeCc7XG5pbXBvcnQgQnV0dG9uU3VwZXJzY3JpcHQgZnJvbSAnLi9idXR0b24tc3VwZXJzY3JpcHQuanN4JztcbmltcG9ydCBCdXR0b25UYWJsZUNlbGwgZnJvbSAnLi9idXR0b24tdGFibGUtY2VsbC5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlQ29sdW1uIGZyb20gJy4vYnV0dG9uLXRhYmxlLWNvbHVtbi5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlRWRpdCBmcm9tICcuL2J1dHRvbi10YWJsZS1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFibGVIZWFkaW5nIGZyb20gJy4vYnV0dG9uLXRhYmxlLWhlYWRpbmcuanN4JztcbmltcG9ydCBCdXR0b25UYWJsZVJlbW92ZSBmcm9tICcuL2J1dHRvbi10YWJsZS1yZW1vdmUuanN4JztcbmltcG9ydCBCdXR0b25UYWJsZVJvdyBmcm9tICcuL2J1dHRvbi10YWJsZS1yb3cuanN4JztcbmltcG9ydCBCdXR0b25UYWJsZSBmcm9tICcuL2J1dHRvbi10YWJsZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhcmdldExpc3QgZnJvbSAnLi9idXR0b24tdGFyZ2V0LWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25Ud2l0dGVyIGZyb20gJy4vYnV0dG9uLXR3aXR0ZXIuanN4JztcbmltcG9ydCBCdXR0b25VbCBmcm9tICcuL2J1dHRvbi11bC5qc3gnO1xuaW1wb3J0IEJ1dHRvblVuZGVybGluZSBmcm9tICcuL2J1dHRvbi11bmRlcmxpbmUuanN4JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFtCdXR0b25Cb2xkLmtleV06IEJ1dHRvbkJvbGQsXG4gICAgW0J1dHRvbkNhbWVyYUltYWdlLmtleV06IEJ1dHRvbkNhbWVyYUltYWdlLFxuICAgIFtCdXR0b25DYW1lcmEua2V5XTogQnV0dG9uQ2FtZXJhLFxuICAgIFtCdXR0b25Db2RlLmtleV06IEJ1dHRvbkNvZGUsXG4gICAgW0J1dHRvbkNvbW1hbmRMaXN0SXRlbS5rZXldOiBCdXR0b25Db21tYW5kTGlzdEl0ZW0sXG4gICAgW0J1dHRvbkNvbW1hbmRzTGlzdC5rZXldOiBCdXR0b25Db21tYW5kc0xpc3QsXG4gICAgW0J1dHRvbkRyb3Bkb3duLmtleV06IEJ1dHRvbkRyb3Bkb3duLFxuICAgIFtCdXR0b25FbWJlZEVkaXQua2V5XTogQnV0dG9uRW1iZWRFZGl0LFxuICAgIFtCdXR0b25FbWJlZC5rZXldOiBCdXR0b25FbWJlZCxcbiAgICBbQnV0dG9uSDEua2V5XTogQnV0dG9uSDEsXG4gICAgW0J1dHRvbkgyLmtleV06IEJ1dHRvbkgyLFxuICAgIFtCdXR0b25IbGluZS5rZXldOiBCdXR0b25IbGluZSxcbiAgICBbQnV0dG9uSW1hZ2VBbGlnbkNlbnRlci5rZXldOiBCdXR0b25JbWFnZUFsaWduQ2VudGVyLFxuICAgIFtCdXR0b25JbWFnZUFsaWduTGVmdC5rZXldOiBCdXR0b25JbWFnZUFsaWduTGVmdCxcbiAgICBbQnV0dG9uSW1hZ2VBbGlnblJpZ2h0LmtleV06IEJ1dHRvbkltYWdlQWxpZ25SaWdodCxcbiAgICBbQnV0dG9uSW1hZ2Uua2V5XTogQnV0dG9uSW1hZ2UsXG4gICAgW0J1dHRvbkluZGVudEJsb2NrLmtleV06IEJ1dHRvbkluZGVudEJsb2NrLFxuICAgIFtCdXR0b25JdGFsaWMua2V5XTogQnV0dG9uSXRhbGljLFxuICAgIFtCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdC5rZXldOiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCxcbiAgICBbQnV0dG9uTGlua0VkaXQua2V5XTogQnV0dG9uTGlua0VkaXQsXG4gICAgW0J1dHRvbkxpbmtUYXJnZXRFZGl0LmtleV06IEJ1dHRvbkxpbmtUYXJnZXRFZGl0LFxuICAgIFtCdXR0b25MaW5rLmtleV06IEJ1dHRvbkxpbmssXG4gICAgW0J1dHRvbk9sLmtleV06IEJ1dHRvbk9sLFxuICAgIFtCdXR0b25PdXRkZW50QmxvY2sua2V5XTogQnV0dG9uT3V0ZGVudEJsb2NrLFxuICAgIFtCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQua2V5XTogQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0LFxuICAgIFtCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0LmtleV06IEJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHQsXG4gICAgW0J1dHRvblBhcmFncmFwaENlbnRlci5rZXldOiBCdXR0b25QYXJhZ3JhcGhDZW50ZXIsXG4gICAgW0J1dHRvblBhcmFncmFwaEp1c3RpZnkua2V5XTogQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSxcbiAgICBbQnV0dG9uUXVvdGUua2V5XTogQnV0dG9uUXVvdGUsXG4gICAgW0J1dHRvblJlbW92ZUZvcm1hdC5rZXldOiBCdXR0b25SZW1vdmVGb3JtYXQsXG4gICAgW0J1dHRvblNlcGFyYXRvci5rZXldOiBCdXR0b25TZXBhcmF0b3IsXG4gICAgW0J1dHRvblN0cmlrZS5rZXldOiBCdXR0b25TdHJpa2UsXG4gICAgW0J1dHRvblN0eWxlc0xpc3RIZWFkZXIua2V5XTogQnV0dG9uU3R5bGVzTGlzdEhlYWRlcixcbiAgICBbQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUua2V5XTogQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUsXG4gICAgW0J1dHRvblN0eWxlc0xpc3RJdGVtLmtleV06IEJ1dHRvblN0eWxlc0xpc3RJdGVtLFxuICAgIFtCdXR0b25TdHlsZXNMaXN0LmtleV06IEJ1dHRvblN0eWxlc0xpc3QsXG4gICAgW0J1dHRvblN0eWxlcy5rZXldOiBCdXR0b25TdHlsZXMsXG4gICAgW0J1dHRvblN1YnNjcmlwdC5rZXldOiBCdXR0b25TdWJzY3JpcHQsXG4gICAgW0J1dHRvblN1cGVyc2NyaXB0LmtleV06IEJ1dHRvblN1cGVyc2NyaXB0LFxuICAgIFtCdXR0b25UYWJsZUNlbGwua2V5XTogQnV0dG9uVGFibGVDZWxsLFxuICAgIFtCdXR0b25UYWJsZUNvbHVtbi5rZXldOiBCdXR0b25UYWJsZUNvbHVtbixcbiAgICBbQnV0dG9uVGFibGVFZGl0LmtleV06IEJ1dHRvblRhYmxlRWRpdCxcbiAgICBbQnV0dG9uVGFibGVIZWFkaW5nLmtleV06IEJ1dHRvblRhYmxlSGVhZGluZyxcbiAgICBbQnV0dG9uVGFibGVSZW1vdmUua2V5XTogQnV0dG9uVGFibGVSZW1vdmUsXG4gICAgW0J1dHRvblRhYmxlUm93LmtleV06IEJ1dHRvblRhYmxlUm93LFxuICAgIFtCdXR0b25UYWJsZS5rZXldOiBCdXR0b25UYWJsZSxcbiAgICBbQnV0dG9uVGFyZ2V0TGlzdC5rZXldOiBCdXR0b25UYXJnZXRMaXN0LFxuICAgIFtCdXR0b25Ud2l0dGVyLmtleV06IEJ1dHRvblR3aXR0ZXIsXG4gICAgW0J1dHRvblVsLmtleV06IEJ1dHRvblVsLFxuICAgIFtCdXR0b25VbmRlcmxpbmUua2V5XTogQnV0dG9uVW5kZXJsaW5lXG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFdpZGdldEV4Y2x1c2l2ZSBmcm9tICcuL2Jhc2Uvd2lkZ2V0LWV4Y2x1c2l2ZS5qcyc7XG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4vYmFzZS93aWRnZXQtZm9jdXMtbWFuYWdlci5qcyc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG4vKipcbiAqIFRoZSBtYWluIGVkaXRvciBVSSBjbGFzcyBtYW5hZ2VzIGEgaGllcmFyY2h5IG9mIHdpZGdldHMgKHRvb2xiYXJzIGFuZCBidXR0b25zKS5cbiAqXG4gKiBAY2xhc3MgVUlcbiAqIEB1c2VzIFdpZGdldEV4Y2x1c2l2ZVxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIFVJIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGhpZGRlbjogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50LCBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgICAgICBlZGl0b3Iub24oJ2VkaXRvckludGVyYWN0aW9uJywgdGhpcy5fb25FZGl0b3JJbnRlcmFjdGlvbiwgdGhpcyk7XG4gICAgICAgIGVkaXRvci5vbignYWN0aW9uUGVyZm9ybWVkJywgdGhpcy5fb25BY3Rpb25QZXJmb3JtZWQsIHRoaXMpO1xuICAgICAgICBlZGl0b3Iub24oJ2tleScsIHRoaXMuX29uRWRpdG9yS2V5LCB0aGlzKTtcblxuICAgICAgICAvLyBTZXQgdXAgZXZlbnRzIGZvciBoaWRpbmcgdGhlIFVJIHdoZW4gdXNlciBzdG9wcyBpbnRlcmFjdGluZyB3aXRoIHRoZSBlZGl0b3IuXG4gICAgICAgIC8vIFRoaXMgbWF5IGhhcHBlbiB3aGVuIGhlIGp1c3QgY2xpY2tzIG91dHNpZGUgb2YgdGhlIGVkaXRvci4gSG93ZXZlcixcbiAgICAgICAgLy8gdGhpcyBkb2VzIG5vdCBpbmNsdWRlIGEgc2l0dWF0aW9uIHdoZW4gaGUgY2xpY2tzIG9uIHNvbWUgYnV0dG9uLCBwYXJ0IG9mXG4gICAgICAgIC8vIGVkaXRvcidzIFVJLlxuXG4gICAgICAgIC8vIEl0IGlzIG5vdCBlYXN5IHRvIGRlYm91bmNlIF9zZXRVSUhpZGRlbiBvbiBtb3VzZWRvd24sIGJlY2F1c2UgaWYgd2VcbiAgICAgICAgLy8gZGVib3VuY2UgaXQsIHdoZW4gdGhlIGhhbmRsZXIgaXMgYmVpbmcgaW52b2tlZCwgdGhlIHRhcmdldCBtaWdodCBiZSBubyBtb3JlIHBhcnRcbiAgICAgICAgLy8gb2YgdGhlIGVkaXRvcidzIFVJIC0gb25BY3Rpb25QZXJmb3JtZWQgY2F1c2VzIHJlLXJlbmRlci5cbiAgICAgICAgdGhpcy5fbW91c2Vkb3duTGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFVJSGlkZGVuKGV2ZW50LnRhcmdldCk7XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXIgPSBDS0VESVRPUi50b29scy5kZWJvdW5jZShmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0VUlIaWRkZW4oZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICAgIH0sIHRoaXMucHJvcHMuZXZlbnRzRGVsYXksIHRoaXMpO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX21vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2tleURvd25MaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG4gICAgICogRmlyZXMgYGFyaWFVcGRhdGVgIGV2ZW50IHBhc3NpbmcgQVJJQSByZWxhdGVkIG1lc3NhZ2VzLlxuICAgICAqIEZpcmVzIGBlZGl0b3JVcGRhdGVgIGV2ZW50IHBhc3NpbmcgdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50IHByb3BlcnRpZXMgYW5kIHN0YXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRVcGRhdGVcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRVcGRhdGUgKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIHZhciBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG5cbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgaWYgKGRvbU5vZGUpIHtcbiAgICAgICAgICAgIGVkaXRvci5maXJlKCdhcmlhVXBkYXRlJywge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuX2dldEF2YWlsYWJsZVRvb2xiYXJzTWVzc2FnZShkb21Ob2RlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3IuZmlyZSgnZWRpdG9yVXBkYXRlJywge1xuICAgICAgICAgICAgcHJldlByb3BzOiBwcmV2UHJvcHMsXG4gICAgICAgICAgICBwcmV2U3RhdGU6IHByZXZTdGF0ZSxcbiAgICAgICAgICAgIHByb3BzOiB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2dldEFyaWFVcGRhdGVUZW1wbGF0ZShhcmlhVXBkYXRlKSB7XG4gICAgICAgIGlmICghdGhpcy5fYXJpYVVwZGF0ZVRlbXBsYXRlcykge1xuICAgICAgICAgICAgdGhpcy5fYXJpYVVwZGF0ZVRlbXBsYXRlcyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9hcmlhVXBkYXRlVGVtcGxhdGVzW2FyaWFVcGRhdGVdKSB7XG4gICAgICAgICAgICB0aGlzLl9hcmlhVXBkYXRlVGVtcGxhdGVzW2FyaWFVcGRhdGVdID0gbmV3IENLRURJVE9SLnRlbXBsYXRlKHRoaXMuX2dldEFyaWFVcGRhdGVzKClbYXJpYVVwZGF0ZV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXNbYXJpYVVwZGF0ZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdGVtcGxhdGVzIGZvciBBUklBIG1lc3NhZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX2dldEFyaWFVcGRhdGVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBUklBIHJlbGF0ZXMgbWVzc2FnZXMuIERlZmF1bHQ6XG4gICAgICoge1xuICAgICAqICAgICAgbm9Ub29sYmFyOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVOb1Rvb2xiYXIsXG4gICAgICogICAgICBvbmVUb29sYmFyOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVPbmVUb29sYmFyLFxuICAgICAqICAgICAgbWFueVRvb2xiYXJzOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVNYW55VG9vbGJhcnNcbiAgICAgKiAgfVxuICAgICAqL1xuICAgIF9nZXRBcmlhVXBkYXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYXJpYVVwZGF0ZXMgfHwge1xuICAgICAgICAgICAgbm9Ub29sYmFyOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVOb1Rvb2xiYXIsXG4gICAgICAgICAgICBvbmVUb29sYmFyOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVPbmVUb29sYmFyLFxuICAgICAgICAgICAgbWFueVRvb2xiYXJzOiBBbGxveUVkaXRvci5TdHJpbmdzLmFyaWFVcGRhdGVNYW55VG9vbGJhcnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEFSSUEgbWVzc2FnZSB3aGljaCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgY3VycmVudGx5IGF2YWlsYWJsZSB0b29sYmFycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBtZXRob2QgX2dldEF2YWlsYWJsZVRvb2xiYXJzTWVzc2FnZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBkb21Ob2RlIFRoZSBET00gbm9kZSBmcm9tIHdoaWNoIHRoZSBhdmFpbGFibGUgdG9vbGJhcnMgd2lsbCBiZSByZXRyaWV2ZWQuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgQVJJQSBtZXNzYWdlIGZvciB0aGUgbnVtYmVyIG9mIGF2YWlsYWJsZSB0b29sYmFyc1xuICAgICAqL1xuICAgIF9nZXRBdmFpbGFibGVUb29sYmFyc01lc3NhZ2UoZG9tTm9kZSkge1xuICAgICAgICB2YXIgdG9vbGJhcnNOb2RlTGlzdCA9IGRvbU5vZGUucXVlcnlTZWxlY3RvckFsbCgnW3JvbGU9XCJ0b29sYmFyXCJdJyk7XG5cbiAgICAgICAgaWYgKCF0b29sYmFyc05vZGVMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEFyaWFVcGRhdGVzKCkubm9Ub29sYmFyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRvb2xiYXJOYW1lcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRvb2xiYXJzTm9kZUxpc3QpLm1hcChmdW5jdGlvbih0b29sYmFyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2xiYXIuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGFyaWFVcGRhdGUgPSB0b29sYmFyTmFtZXMubGVuZ3RoID09PSAxID8gJ29uZVRvb2xiYXInIDogJ21hbnlUb29sYmFycyc7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRBcmlhVXBkYXRlVGVtcGxhdGUoYXJpYVVwZGF0ZSkub3V0cHV0KHtcbiAgICAgICAgICAgICAgICB0b29sYmFyczogdG9vbGJhck5hbWVzLmpvaW4oJywnKS5yZXBsYWNlKC8sKFteLF0qKSQvLCAnIGFuZCAnICsgJyQxJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGJlZm9yZSBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsVW5tb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5fbW91c2Vkb3duTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX21vdXNlZG93bkxpc3RlbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9rZXlEb3duTGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2tleURvd25MaXN0ZW5lci5kZXRhY2goKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9rZXlEb3duTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgZWRpdG9yLiBUaGlzIG1heSBpbmNsdWRlIHNldmVyYWwgdG9vbGJhcnMgYW5kIGJ1dHRvbnMuXG4gICAgICogVGhlIGVkaXRvcidzIFVJIGFsc28gdGFrZXMgY2FyZSBvZiByZW5kZXJpbmcgdGhlIGl0ZW1zIGluIGV4Y2x1c2l2ZSBtb2RlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmhpZGRlbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdG9vbGJhcnMgPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLnRvb2xiYXJzKS5tYXAoZnVuY3Rpb24odG9vbGJhcikge1xuICAgICAgICAgICAgcmV0dXJuIEFsbG95RWRpdG9yLlRvb2xiYXJzW3Rvb2xiYXJdIHx8IHdpbmRvd1t0b29sYmFyXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdG9vbGJhcnMgPSB0aGlzLmZpbHRlckV4Y2x1c2l2ZSh0b29sYmFycykubWFwKGZ1bmN0aW9uKHRvb2xiYXIpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMubWVyZ2VFeGNsdXNpdmVQcm9wcyh7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB0aGlzLnByb3BzLnRvb2xiYXJzW3Rvb2xiYXIua2V5XSxcbiAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMucHJvcHMuZWRpdG9yLFxuICAgICAgICAgICAgICAgIGVkaXRvckV2ZW50OiB0aGlzLnN0YXRlLmVkaXRvckV2ZW50LFxuICAgICAgICAgICAgICAgIGtleTogdG9vbGJhci5rZXksXG4gICAgICAgICAgICAgICAgb25EaXNtaXNzOiB0aGlzLl9vbkRpc21pc3NUb29sYmFyRm9jdXMsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogdGhpcy5zdGF0ZS5zZWxlY3Rpb25EYXRhXG4gICAgICAgICAgICB9LCB0b29sYmFyLmtleSk7XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KHRvb2xiYXIsIHByb3BzKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS10b29sYmFyc1wiIG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXkuYmluZCh0aGlzKX0+XG4gICAgICAgICAgICAgICAge3Rvb2xiYXJzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuZXIgdG8gdGhlIGVkaXRvcidzIGBhY3Rpb25QZXJmb3JtZWRgIGV2ZW50LiBTZXRzIHN0YXRlIGFuZCByZWRyYXdzIHRoZSBVSSBvZiB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX29uQWN0aW9uUGVyZm9ybWVkXG4gICAgICogQHBhcmFtIHtTeW50ZXRpY0V2ZW50fSBldmVudCBUaGUgcHJvdmlkZWQgZXZlbnRcbiAgICAgKi9cbiAgICBfb25BY3Rpb25QZXJmb3JtZWQoZXZlbnQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpdGVtRXhjbHVzaXZlOiBudWxsLFxuICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogZWRpdG9yLmdldFNlbGVjdGlvbkRhdGEoKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlZCB3aGVuIGEgZGlzbWlzcyBrZXkgaXMgcHJlc3NlZCBvdmVyIGEgdG9vbGJhciB0byByZXR1cm4gdGhlIGZvY3VzIHRvIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfb25EaXNtaXNzVG9vbGJhckZvY3VzXG4gICAgICovXG4gICAgX29uRGlzbWlzc1Rvb2xiYXJGb2N1cygpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVuZXIgdG8gdGhlIGVkaXRvcidzIGB1c2VySW50ZXJhY3Rpb25gIGV2ZW50LiBSZXRyaWV2ZXMgdGhlIGRhdGEgYWJvdXQgdGhlIHVzZXIgc2VsZWN0aW9uIGFuZFxuICAgICAqIHByb3ZpZGVzIGl0IHZpYSBjb21wb25lbnQncyBzdGF0ZSBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9vbkVkaXRvckludGVyYWN0aW9uXG4gICAgICogQHBhcmFtIHtTeW50ZXRpY0V2ZW50fSBldmVudCBUaGUgcHJvdmlkZWQgZXZlbnRcbiAgICAgKi9cbiAgICBfb25FZGl0b3JJbnRlcmFjdGlvbihldmVudCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGVkaXRvckV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIGhpZGRlbjogZmFsc2UsXG4gICAgICAgICAgICBpdGVtRXhjbHVzaXZlOiBudWxsLFxuICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogZXZlbnQuZGF0YS5zZWxlY3Rpb25EYXRhXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZvY3VzZXMgb24gdGhlIGFjdGl2ZSB0b29sYmFyIHdoZW4gdGhlIGNvbWJpbmF0aW9uIEFMVCtGMTAgaXMgcHJlc3NlZCBpbnNpZGUgdGhlIGVkaXRvci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9vbkVkaXRvcktleVxuICAgICAqL1xuICAgIF9vbkVkaXRvcktleShldmVudCkge1xuICAgICAgICB2YXIgbmF0aXZlRXZlbnQgPSBldmVudC5kYXRhLmRvbUV2ZW50LiQ7XG5cbiAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmFsdEtleSAmJiBuYXRpdmVFdmVudC5rZXlDb2RlID09PSAxMjEpIHtcbiAgICAgICAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgdGFyZ2V0IHdpdGggd2hpY2ggdGhlIHVzZXIgaW50ZXJhY3RlZCBpcyBwYXJ0IG9mIGVkaXRvcidzIFVJIG9yIGl0IGlzXG4gICAgICogdGhlIGVkaXRhYmxlIGFyZWEuIElmIG5vbmUgb2YgdGhlc2UsIHNldHMgdGhlIHN0YXRlIG9mIGVkaXRvcidzIFVJIHRvIGJlIGhpZGRlbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9zZXRVSUhpZGRlblxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gdGFyZ2V0IFRoZSBET00gZWxlbWVudCB3aXRoIHdoaWNoIHVzZXIgaW50ZXJhY3RlZCBsYXN0bHkuXG4gICAgICovXG4gICAgX3NldFVJSGlkZGVuKHRhcmdldCkge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIGlmIChkb21Ob2RlKSB7XG4gICAgICAgICAgICB2YXIgZWRpdGFibGUgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmVkaXRhYmxlKCk7XG4gICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBuZXcgQ0tFRElUT1IuZG9tLm5vZGUodGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKCFlZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IChlZGl0YWJsZS4kID09PSB0YXJnZXQpIHx8IGVkaXRhYmxlLmNvbnRhaW5zKHRhcmdldE5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZG9tTm9kZSkpLmNvbnRhaW5zKHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzIHx8IHBhcmVudE5vZGUuaWQgPT09IFwiY2tpbWdyc3pcIjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIXJlcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgVUlcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cblVJLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaXJjdWxhcjogdHJ1ZSxcbiAgICBkZXNjZW5kYW50czogJ1tjbGFzc149YWUtdG9vbGJhci1dJyxcbiAgICBldmVudHNEZWxheTogMCxcbiAgICBrZXlzOiB7XG4gICAgICAgIG5leHQ6IDlcbiAgICB9XG59O1xuXG4vKipcbiAqIEZpcmVkIHdoZW4gY29tcG9uZW50IHVwZGF0ZXMgYW5kIHdoZW4gaXQgaXMgcmVuZGVyZWQgaW4gdGhlIERPTS5cbiAqIFRoZSBwYXlsb2FkIGNvbnNpc3RzIGZyb20gYSBgbWVzc2FnZWAgcHJvcGVydHkgY29udGFpbmluZyB0aGUgQVJJQSBtZXNzYWdlLlxuICpcbiAqIEBldmVudCBhcmlhVXBkYXRlXG4gKi9cblxuLyoqXG4gKiBGaXJlZCB3aGVuIGNvbXBvbmVudCB1cGRhdGVzLiBUaGUgcGF5bG9hZCBjb25zaXN0cyBmcm9tIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAqIHByb3BlcnRpZXM6XG4gKiAtIHByZXZQcm9wcyAtIFRoZSBwcmV2aW91cyBwcm9wZXJ0aWVzIG9mIHRoZSBjb21wb25lbnRcbiAqIC0gcHJldlN0YXRlIC0gVGhlIHByZXZpb3VzIHN0YXRlIG9mIHRoZSBjb21wb25lbnRcbiAqIC0gcHJvcHMgLSBUaGUgY3VycmVudCBwcm9wZXJ0aWVzIG9mIHRoZSBjb21wb25lbnRcbiAqIC0gc3RhdGUgLSBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG4gKlxuICogQGV2ZW50IGFyaWFVcGRhdGVcbiAqL1xuXG5VSS5wcm9wVHlwZXMgPSB7XG4gICAgLyoqXG4gICAgICogTG9jYWxpemVkIG1lc3NhZ2VzIGZvciBsaXZlIGFyaWEgdXBkYXRlcy4gU2hvdWxkIGluY2x1ZGUgdGhlIGZvbGxvd2luZyBtZXNzYWdlczpcbiAgICAgKiAtIG5vVG9vbGJhcjogTm90aWZpY2F0aW9uIGZvciBubyBhdmFpbGFibGUgdG9vbGJhciBpbiB0aGUgZWRpdG9yLlxuICAgICAqIC0gb25lVG9vbGJhcjogTm90aWZpY2F0aW9uIGZvciBqdXN0IG9uZSBhdmFpbGFibGUgdG9vbGJhciBpbiB0aGUgZWRpdG9yLlxuICAgICAqIC0gbWFueVRvb2xiYXJzOiBOb3RpZmljYXRpb24gZm9yIG1vcmUgdGhhbiBvbmUgYXZhaWxhYmxlIHRvb2xiYXIgaW4gdGhlIGVkaXRvci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBhcmlhVXBkYXRlc1xuICAgICAqL1xuICAgIGFyaWFVcGRhdGVzOiBQcm9wVHlwZXMub2JqZWN0LFxuXG4gICAgLyoqXG4gICAgICogVGhlIGVkaXRvciBpbnN0YW5jZSB3aGVyZSB0aGUgY29tcG9uZW50IGlzIGJlaW5nIHVzZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gZWRpdG9yXG4gICAgICovXG4gICAgZWRpdG9yOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVsYXkgKG1zKSwgYWZ0ZXIgd2hpY2gga2V5IG9yIG1vdXNlIGV2ZW50cyB3aWxsIGJlIHByb2Nlc3NlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm9wZXJ0eSB7TnVtYmVyfSBldmVudHNEZWxheVxuICAgICAqL1xuICAgIGV2ZW50c0RlbGF5OiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgLyoqXG4gICAgICogVGhlIHRvb2xiYXJzIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgZWRpdG9yIGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAcHJvcGVydHkge09iamVjdH0gdG9vbGJhcnNcbiAgICAgKi9cbiAgICB0b29sYmFyczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXRFeGNsdXNpdmUoXG4gICAgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgICAgICBVSVxuKSk7IiwiaW1wb3J0IFRvb2xiYXJBZGQgZnJvbSAnLi90b29sYmFyLWFkZC5qc3gnO1xuaW1wb3J0IFRvb2xiYXJTdHlsZXMgZnJvbSAnLi90b29sYmFyLXN0eWxlcy5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgW1Rvb2xiYXJBZGQua2V5XTogVG9vbGJhckFkZCxcbiAgICBbVG9vbGJhclN0eWxlcy5rZXldOiBUb29sYmFyU3R5bGVzXG59OyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBUb29sYmFyQnV0dG9ucyBmcm9tICcuLi9iYXNlL3Rvb2xiYXItYnV0dG9ucy5qcyc7XG5pbXBvcnQgV2lkZ2V0QXJyb3dCb3ggZnJvbSAnLi4vYmFzZS93aWRnZXQtYXJyb3ctYm94LmpzJztcbmltcG9ydCBXaWRnZXREcm9wZG93biBmcm9tICcuLi9iYXNlL3dpZGdldC1kcm9wZG93bi5qcyc7XG5pbXBvcnQgV2lkZ2V0RXhjbHVzaXZlIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWV4Y2x1c2l2ZS5qcyc7XG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMnO1xuaW1wb3J0IFdpZGdldFBvc2l0aW9uIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LXBvc2l0aW9uLmpzJztcblxudmFyIFBPU0lUSU9OX0xFRlQgPSAxO1xudmFyIFBPU0lUSU9OX1JJR0hUID0gMjtcblxuLyoqXG4gKiBUaGUgVG9vbGJhckFkZCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhZGRpbmcgY29udGVudCB0byB0aGUgZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBUb29sYmFyQWRkXG4gKiBAdXNlcyBUb29sYmFyQnV0dG9uc1xuICogQHVzZXMgV2lkZ2V0QXJyb3dCb3hcbiAqIEB1c2VzIFdpZGdldERyb3Bkb3duXG4gKiBAdXNlcyBXaWRnZXRFeGNsdXNpdmVcbiAqIEB1c2VzIFdpZGdldEZvY3VzTWFuYWdlclxuICogQHVzZXMgV2lkZ2V0UG9zaXRpb25cbiAqL1xuY2xhc3MgVG9vbGJhckFkZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQgKG5vdCBvbiB0aGUgc2VydmVyKSxcbiAgICAgKiBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZFVwZGF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2UHJvcHMgVGhlIHByZXZpb3VzIHN0YXRlIG9mIHRoZSBjb21wb25lbnQncyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2U3RhdGUgQ29tcG9uZW50J3MgcHJldmlvdXMgc3RhdGUuXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG5cbiAgICAgICAgLy8gSW4gY2FzZSBvZiBleGNsdXNpdmUgcmVuZGVyaW5nLCBmb2N1cyB0aGUgZmlyc3QgZGVzY2VuZGFudCAoYnV0dG9uKVxuICAgICAgICAvLyBzbyB0aGUgdXNlciB3aWxsIGJlIGFibGUgdG8gc3RhcnQgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgYnV0dG9ucyBpbW1lZGlhdGVseS5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVuZGVyRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIGJ1dHRvbnMgZm9yIGFkZGluZyBjb250ZW50IG9yIGhpZGVzIHRoZSB0b29sYmFyXG4gICAgICogaWYgdXNlciBpbnRlcmFjdGVkIHdpdGggYSBub24tZWRpdGFibGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R8bnVsbH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgLy8gU29tZSBvcGVyYXRpb25zIHN1Y2ggYXMgYHJlcXVlc3RFeGNsdXNpdmVgIG1heSBmb3JjZSBlZGl0b3IgdG8gYmx1ciB3aGljaCB3aWxsXG4gICAgICAgIC8vIGludmFsaWRhdGUgdGhlIGBwcm9wcy5lZGl0b3JFdmVudGAgc3RvcmVkIHZhbHVlLCB3aXRob3V0IGNhdXNpbmcgYSBgcHJvcHNgIGNoYW5nZS5cbiAgICAgICAgLy8gRm9yIGV4YW1wbGUsIGlmIHRoZSBlZGl0b3IgaXMgZW1wdHksIGBhZV9wbGFjZWhvbGRlcmAgcGx1Z2luIHdpbGwgcmVtb3ZlXG4gICAgICAgIC8vIHRoZSB0YXJnZXQgZnJvbSB0aGUgRE9NIGFuZCB3aWxsIHByZXZlbnQgYGFkZGAgdG9vbGJhciBmcm9tIHJlbmRlcmluZy5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSXQgc2hvdWxkIGJlIHNhZmUgdG8gYXNzdW1lIHRoYXQgaWYgeW91IGhhdmUgYmVlbiBhYmxlIHRvIHJlbmRlciB0aGUgdG9vbGJhclxuICAgICAgICAvLyBhbmQgcmVxdWVzdCB0aGUgZXhjbHVzaXZlIG1vZGUsIHRoZW4gcmVuZGVyaW5nIG1pZ2h0IGJlIGtlcHQgdW50aWwgdGhlIGV4Y2x1c2l2ZSBtb2RlIGlzIGxlZnQuXG4gICAgICAgIGlmICghdGhpcy5zdGF0ZS5pdGVtRXhjbHVzaXZlICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5lZGl0b3JFdmVudCAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZWRpdG9yRXZlbnQuZGF0YS5uYXRpdmVFdmVudC50YXJnZXQgJiZcbiAgICAgICAgICAgICAgICAhdGhpcy5wcm9wcy5lZGl0b3JFdmVudC5kYXRhLm5hdGl2ZUV2ZW50LnRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnV0dG9ucyA9IHRoaXMuX2dldEJ1dHRvbnMoKTtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMuX2dldFRvb2xiYXJDbGFzc05hbWUoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFkZH0gY2xhc3NOYW1lPXtjbGFzc05hbWV9IGRhdGEtdGFiaW5kZXg9e3RoaXMucHJvcHMuY29uZmlnLnRhYkluZGV4IHx8IDB9IG9uRm9jdXM9e3RoaXMuZm9jdXMuYmluZCh0aGlzKX0gb25LZXlEb3duPXt0aGlzLmhhbmRsZUtleS5iaW5kKHRoaXMpfSByb2xlPVwidG9vbGJhclwiIHRhYkluZGV4PVwiLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICB7YnV0dG9uc31cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGJ1dHRvbnMgdGhhdCB3aWxsIGV2ZW50dWFsbHkgcmVuZGVyIHRvIEhUTUwuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICAgICAqIEBtZXRob2QgX2dldEJ1dHRvbnNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgYnV0dG9ucyB3aGljaCBoYXZlIHRvIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIF9nZXRCdXR0b25zKCkge1xuICAgICAgICB2YXIgYnV0dG9ucztcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIGJ1dHRvbnMgPSB0aGlzLmdldFRvb2xiYXJCdXR0b25zKHRoaXMucHJvcHMuY29uZmlnLmJ1dHRvbnMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuc2VsZWN0aW9uRGF0YSAmJiB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9ucyA9IChcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFkZH0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uIGFlLWJ1dHRvbi1hZGRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUuYmluZCh0aGlzLCBUb29sYmFyQWRkLmtleSl9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFkZH0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFkZFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidXR0b25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNsYXNzIG5hbWUgb2YgdGhlIHRvb2xiYXIgaW4gY2FzZSBvZiBib3RoIGV4Y2x1c2l2ZSBhbmQgbm9ybWFsIG1vZGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICAgICAqIEBtZXRob2QgX2dldFRvb2xiYXJDbGFzc05hbWVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgY2xhc3MgbmFtZSB3aGljaCBoYXZlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIERPTSBlbGVtZW50LlxuICAgICAqL1xuICAgIF9nZXRUb29sYmFyQ2xhc3NOYW1lKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtdG9vbGJhci1hZGQnO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgY3NzQ2xhc3MgPSAnYWUtdG9vbGJhciAnICsgdGhpcy5nZXRBcnJvd0JveENsYXNzZXMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjc3NDbGFzcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuZCBzZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgdG9vbGJhciBpbiBleGNsdXNpdmUgb3Igbm9ybWFsIG1vZGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICAgICAqIEBtZXRob2QgX3VwZGF0ZVBvc2l0aW9uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF91cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIHJlZ2lvbjtcblxuICAgICAgICAvLyBJZiBjb21wb25lbnQgaXMgbm90IG1vdW50ZWQsIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgaWYgKCFSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVuZGVyRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgICAgICByZWdpb24gPSB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuICAgICAgICAgICAgICAgIHZhciBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRvbU5vZGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0UmVjdCA9IHJlZ2lvbi5zdGFydFJlY3QgfHwgcmVnaW9uO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5hdGl2ZUVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50UmVjdCA9IG5hdGl2ZUVkaXRvci5lZGl0YWJsZSgpLmdldENsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRMZWZ0O1xuXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5wcm9wcy5jb25maWcucG9zaXRpb24gfHwgdGhpcy5wcm9wcy5wb3NpdGlvbjtcblxuICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gUE9TSVRJT05fTEVGVCkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ID0gY2xpZW50UmVjdC5sZWZ0IC0gZG9tTm9kZS5vZmZzZXRXaWR0aCAtIHRoaXMucHJvcHMuZ3V0dGVyRXhjbHVzaXZlLmxlZnQgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldExlZnQgPSBjbGllbnRSZWN0LnJpZ2h0ICsgdGhpcy5wcm9wcy5ndXR0ZXJFeGNsdXNpdmUubGVmdCArICdweCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZG9tTm9kZS5zdHlsZS5sZWZ0ID0gb2Zmc2V0TGVmdDtcblxuICAgICAgICAgICAgICAgIGRvbU5vZGUuc3R5bGUudG9wID0gTWF0aC5mbG9vcigocmVnaW9uLmJvdHRvbSArIHJlZ2lvbi50b3ApIC8gMikgKyAncHgnO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgdWlOb2RlID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCd1aU5vZGUnKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHVpTm9kZSA/IHVpTm9kZS5zY3JvbGxUb3AgOiAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUVkaXRvci5lbGVtZW50LmdldFN0eWxlKCdvdmVyZmxvdycpICE9PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5zdHlsZS50b3AgPSBNYXRoLmZsb29yKHJlZ2lvbi50b3AgLSBkb21Ob2RlLm9mZnNldEhlaWdodC8yICsgKHN0YXJ0UmVjdC5oZWlnaHQvMikgKyBzY3JvbGxUb3ApICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLnN0eWxlLnRvcCA9IE1hdGguZmxvb3IobmF0aXZlRWRpdG9yLmVsZW1lbnQuJC5vZmZzZXRUb3AgKyAoc3RhcnRSZWN0LmhlaWdodCAvIDIpIC0gKGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMikpICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkb21Ob2RlLnN0eWxlLm9wYWNpdHkgPSAxO1xuXG4gICAgICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVDbGFzcygnYWUtYXJyb3ctYm94Jyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbEFuaW1hdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGFkZFxuICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuVG9vbGJhckFkZC5rZXkgPSAnYWRkJztcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBjb25zdGFudCBmb3IgcG9zaXRpb25pbmcgdGhlIFRvb2xiYXIgb24gbGVmdCBvZiB0aGUgZWRpdGFibGUgYXJlYS5cbiAqXG4gKiBAZGVmYXVsdCAxXG4gKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGxlZnRcbiAqIEBzdGF0aWNcbiAqL1xuVG9vbGJhckFkZC5sZWZ0ID0gUE9TSVRJT05fTEVGVDtcblxuLyoqXG4gKiBEZWZpbmVzIHRoZSBjb25zdGFudCBmb3IgcG9zaXRpb25pbmcgdGhlIFRvb2xiYXIgb24gcmlnaHQgb2YgdGhlIGVkaXRhYmxlIGFyZWEuXG4gKlxuICogQGRlZmF1bHQgMlxuICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSByaWdodFxuICogQHN0YXRpY1xuICovXG5Ub29sYmFyQWRkLnJpZ2h0ID0gUE9TSVRJT05fUklHSFQ7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuVG9vbGJhckFkZC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2lyY3VsYXI6IHRydWUsXG4gICAgZGVzY2VuZGFudHM6ICcuYWUtYnV0dG9uJyxcbiAgICBndXR0ZXJFeGNsdXNpdmU6IHtcbiAgICAgICAgbGVmdDogMTAsXG4gICAgICAgIHRvcDogMFxuICAgIH0sXG4gICAga2V5czoge1xuICAgICAgICBkaXNtaXNzOiBbMjddLFxuICAgICAgICBuZXh0OiBbMzksIDQwXSxcbiAgICAgICAgcHJldjogWzM3LCAzOF1cbiAgICB9LFxuICAgIHBvc2l0aW9uOiBQT1NJVElPTl9MRUZUXG59O1xuXG5leHBvcnQgZGVmYXVsdCBXaWRnZXRBcnJvd0JveChcbiAgICBXaWRnZXREcm9wZG93bihcbiAgICBXaWRnZXRFeGNsdXNpdmUoXG4gICAgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIFdpZGdldFBvc2l0aW9uKFxuICAgIFRvb2xiYXJCdXR0b25zKFxuICAgICAgICBUb29sYmFyQWRkXG4pKSkpKSk7IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFRvb2xiYXJCdXR0b25zIGZyb20gJy4uL2Jhc2UvdG9vbGJhci1idXR0b25zLmpzJztcbmltcG9ydCBXaWRnZXRBcnJvd0JveCBmcm9tICcuLi9iYXNlL3dpZGdldC1hcnJvdy1ib3guanMnO1xuaW1wb3J0IFdpZGdldERyb3Bkb3duIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWRyb3Bkb3duLmpzJztcbmltcG9ydCBXaWRnZXRFeGNsdXNpdmUgZnJvbSAnLi4vYmFzZS93aWRnZXQtZXhjbHVzaXZlLmpzJztcbmltcG9ydCBXaWRnZXRGb2N1c01hbmFnZXIgZnJvbSAnLi4vYmFzZS93aWRnZXQtZm9jdXMtbWFuYWdlci5qcyc7XG5pbXBvcnQgV2lkZ2V0UG9zaXRpb24gZnJvbSAnLi4vYmFzZS93aWRnZXQtcG9zaXRpb24uanMnO1xuXG4vKipcbiAqIFRoZSBUb29sYmFyU3R5bGVzIGNsYXNzIGhvc3RzIHRoZSBidXR0b25zIGZvciBzdHlsaW5nIGEgdGV4dCBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIFRvb2xiYXJTdHlsZXNcbiAqIEB1c2VzIFRvb2xiYXJCdXR0b25zXG4gKiBAdXNlcyBXaWRnZXRBcnJvd0JveFxuICogQHVzZXMgV2lkZ2V0RHJvcGRvd25cbiAqIEB1c2VzIFdpZGdldEV4Y2x1c2l2ZVxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKiBAdXNlcyBXaWRnZXRQb3NpdGlvblxuICovXG5jbGFzcyBUb29sYmFyU3R5bGVzIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCAobm90IG9uIHRoZSBzZXJ2ZXIpLFxuICAgICAqIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhclN0eWxlc1xuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCdzIHVwZGF0ZXMgYXJlIGZsdXNoZWQgdG8gdGhlIERPTS5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhclN0eWxlc1xuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkVXBkYXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZQcm9wcyBUaGUgcHJldmlvdXMgc3RhdGUgb2YgdGhlIGNvbXBvbmVudCdzIHByb3BlcnRpZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZTdGF0ZSBDb21wb25lbnQncyBwcmV2aW91cyBzdGF0ZS5cbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUG9zaXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIGJ1dHRvbnMgZm9yIGFkZGluZyBjb250ZW50IG9yIGhpZGVzIHRoZSB0b29sYmFyXG4gICAgICogaWYgdXNlciBpbnRlcmFjdGVkIHdpdGggYSBub24tZWRpdGFibGUgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R8bnVsbH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLl9nZXRDdXJyZW50U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgaWYgKGN1cnJlbnRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBnZXRBcnJvd0JveENsYXNzZXNGbiA9IHRoaXMuX2dldFNlbGVjdGlvbkZ1bmN0aW9uKGN1cnJlbnRTZWxlY3Rpb24uZ2V0QXJyb3dCb3hDbGFzc2VzKTtcbiAgICAgICAgICAgIHZhciBhcnJvd0JveENsYXNzZXM7XG5cbiAgICAgICAgICAgIGlmIChnZXRBcnJvd0JveENsYXNzZXNGbikge1xuICAgICAgICAgICAgICAgIGFycm93Qm94Q2xhc3NlcyA9IGdldEFycm93Qm94Q2xhc3Nlc0ZuKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGFycm93Qm94Q2xhc3NlcyA9IHRoaXMuZ2V0QXJyb3dCb3hDbGFzc2VzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjc3NDbGFzc2VzID0gJ2FlLXRvb2xiYXItc3R5bGVzICcgKyBhcnJvd0JveENsYXNzZXM7XG5cbiAgICAgICAgICAgIHZhciBidXR0b25zID0gY3VycmVudFNlbGVjdGlvbi5idXR0b25zO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGJ1dHRvbnMgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGJ1dHRvbnMpKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9ucyA9IGJ1dHRvbnNbdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCdtb2RlJyldIHx8IGJ1dHRvbnNbJ3NpbXBsZSddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYnV0dG9uc0dyb3VwID0gdGhpcy5nZXRUb29sYmFyQnV0dG9uR3JvdXBzKFxuICAgICAgICAgICAgICAgIGJ1dHRvbnMsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYW51YWxTZWxlY3Rpb246IHRoaXMucHJvcHMuZWRpdG9yRXZlbnQgPyB0aGlzLnByb3BzLmVkaXRvckV2ZW50LmRhdGEubWFudWFsU2VsZWN0aW9uIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uVHlwZTogY3VycmVudFNlbGVjdGlvbi5uYW1lXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdmFyIGhhc0dyb3VwcyA9IGJ1dHRvbnNHcm91cC5maWx0ZXIoZnVuY3Rpb24oYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYnV0dG9uKTtcbiAgICAgICAgICAgIH0pLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAnYWUtY29udGFpbmVyJztcblxuICAgICAgICAgICAgaWYgKGhhc0dyb3Vwcykge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIGFlLWNvbnRhaW5lci1jb2x1bW4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdHlsZXN9IGNsYXNzTmFtZT17Y3NzQ2xhc3Nlc30gZGF0YS10YWJpbmRleD17dGhpcy5wcm9wcy5jb25maWcudGFiSW5kZXggfHwgMH0gb25Gb2N1cz17dGhpcy5mb2N1cy5iaW5kKHRoaXMpfSBvbktleURvd249e3RoaXMuaGFuZGxlS2V5LmJpbmQodGhpcyl9IHJvbGU9XCJ0b29sYmFyXCIgdGFiSW5kZXg9XCItMVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NOYW1lfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zR3JvdXAubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtcm93XCIga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLm1hcChmdW5jdGlvbiAoYnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBhIGZ1bmN0aW9uIGZyb20gU3RyaW5nLiBJdCBjb252ZXJ0cyBhIGZ1bGx5IHF1YWxpZmllZCBzdHJpbmcgaW50byB0aGUgbWFwcGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcbiAgICAgKiBAbWV0aG9kIF9nZXRTZWxlY3Rpb25GdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258U3RyaW5nfSBzZWxlY3Rpb25GbiBBIGZ1bmN0aW9uLCBvciBhIGZ1bGx5IHF1YWxpZmllZCBzdHJpbmcgcG9pbnRpbmcgdG8gdGhlIGRlc2lyZWQgb25lIChlLmcuICdBbGxveUVkaXRvci5TZWxlY3Rpb25UZXN0LmltYWdlJykuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgbWFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIF9nZXRTZWxlY3Rpb25GdW5jdGlvbihzZWxlY3Rpb25Gbikge1xuICAgICAgICB2YXIgc2VsZWN0aW9uRnVuY3Rpb247XG5cbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzZWxlY3Rpb25GbikpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbkZ1bmN0aW9uID0gc2VsZWN0aW9uRm47XG5cbiAgICAgICAgfSBlbHNlIGlmIChMYW5nLmlzU3RyaW5nKHNlbGVjdGlvbkZuKSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gc2VsZWN0aW9uRm4uc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50TWVtYmVyID0gd2luZG93O1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gcGFydHMuc2hpZnQoKTtcblxuICAgICAgICAgICAgd2hpbGUgKHByb3BlcnR5ICYmIExhbmcuaXNPYmplY3QoY3VycmVudE1lbWJlcikgJiYgTGFuZy5pc09iamVjdChjdXJyZW50TWVtYmVyW3Byb3BlcnR5XSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TWVtYmVyID0gY3VycmVudE1lbWJlcltwcm9wZXJ0eV07XG4gICAgICAgICAgICAgICAgcHJvcGVydHkgPSBwYXJ0cy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKGN1cnJlbnRNZW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uRnVuY3Rpb24gPSBjdXJyZW50TWVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbkZ1bmN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFuYWx5emVzIHRoZSBjdXJyZW50IGVkaXRvciBzZWxlY3Rpb24gYW5kIHJldHVybnMgdGhlIHNlbGVjdGlvbiBjb25maWd1cmF0aW9uIHRoYXQgbWF0Y2hlcy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gICAgICogQG1ldGhvZCBfZ2V0Q3VycmVudFNlbGVjdGlvblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtYXRjaGVkIHNlbGVjdGlvbiBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50U2VsZWN0aW9uKCkge1xuICAgICAgICB2YXIgZXZlbnRQYXlsb2FkID0gdGhpcy5wcm9wcy5lZGl0b3JFdmVudCA/IHRoaXMucHJvcHMuZWRpdG9yRXZlbnQuZGF0YSA6IG51bGw7XG4gICAgICAgIHZhciBzZWxlY3Rpb247XG5cbiAgICAgICAgaWYgKGV2ZW50UGF5bG9hZCkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jb25maWcuc2VsZWN0aW9ucy5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVzdEZuID0gdGhpcy5fZ2V0U2VsZWN0aW9uRnVuY3Rpb24oaXRlbS50ZXN0KTtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRlc3RGbikge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBldmVudFBheWxvYWQubWFudWFsU2VsZWN0aW9uID09PSBpdGVtLm5hbWUgfHzCoHRlc3RGbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBldmVudFBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMucHJvcHMuZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gaXRlbTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgYW5kIHNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0b29sYmFyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcbiAgICAgKiBAbWV0aG9kIF91cGRhdGVQb3NpdGlvblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIC8vIElmIGNvbXBvbmVudCBpcyBub3QgbW91bnRlZCwgdGhlcmUgaXMgbm90aGluZyB0byBkb1xuICAgICAgICBpZiAoIVJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuX2dldEN1cnJlbnRTZWxlY3Rpb24oKTtcbiAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICAvLyBJZiBjdXJyZW50IHNlbGVjdGlvbiBoYXMgYSBmdW5jdGlvbiBjYWxsZWQgYHNldFBvc2l0aW9uYCwgY2FsbCBpdFxuICAgICAgICAvLyBhbmQgY2hlY2sgdGhlIHJldHVybmVkIHZhbHVlLiBJZiBmYWxzZSwgZmFsbGJhY2sgdG8gdGhlIGRlZmF1bHQgcG9zaXRpb25pbmcgbG9naWMuXG4gICAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2V0UG9zaXRpb25GbiA9IHRoaXMuX2dldFNlbGVjdGlvbkZ1bmN0aW9uKGN1cnJlbnRTZWxlY3Rpb24uc2V0UG9zaXRpb24pO1xuXG4gICAgICAgICAgICBpZiAoc2V0UG9zaXRpb25Gbikge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHNldFBvc2l0aW9uRm4uY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5wcm9wcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvckV2ZW50OiB0aGlzLnByb3BzLmVkaXRvckV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EYXRhOiB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLnNob3coKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5Ub29sYmFyU3R5bGVzLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaXJjdWxhcjogdHJ1ZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS1pbnB1dCwgLmFlLWJ1dHRvbjpub3QoW2Rpc2FibGVkXSksIC5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgbmV4dDogWzM5LCA0MF0sXG4gICAgICAgIHByZXY6IFszNywgMzhdXG4gICAgfVxufTtcblxuLyoqXG4qIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuKlxuKiBAZGVmYXVsdCBzdHlsZXNcbiogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcbiogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuKiBAc3RhdGljXG4qL1xuVG9vbGJhclN0eWxlcy5rZXkgPSAnc3R5bGVzJztcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0QXJyb3dCb3goXG4gICAgV2lkZ2V0RHJvcGRvd24oXG4gICAgV2lkZ2V0RXhjbHVzaXZlKFxuICAgIFdpZGdldEZvY3VzTWFuYWdlcihcbiAgICBXaWRnZXRQb3NpdGlvbihcbiAgICBUb29sYmFyQnV0dG9ucyhcbiAgICAgICAgVG9vbGJhclN0eWxlc1xuKSkpKSkpOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3JlYXRlUmVhY3RDbGFzcyBmcm9tICdjcmVhdGUtcmVhY3QtY2xhc3MnO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9idXR0b25icmlkZ2UnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge31cblxuICAgIC8vIEFQSSBub3QgeWV0IGltcGxlbWVudGVkIGluc2lkZSB0aGUgYnV0dG9uIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kcywgd2VcbiAgICAvLyBwcmV2ZW50IHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIHRoZW0uXG4gICAgLy9cbiAgICAvLyBTb21lIG1ldGhvZHMgbGlrZSBgZ2V0U3RhdGVgIGFuZCBgc2V0U3RhdGVgIGNsYXNoIHdpdGggUmVhY3QncyBvd24gc3RhdGUgbWV0aG9kcy4gRm9yIHRoZW0sXG4gICAgLy8gdW5zdXBwb3J0ZWQgbWVhbnMgdGhhdCB3ZSBkb24ndCBhY2NvdW50IGZvciB0aGUgZGlmZmVyZW50IG1lYW5pbmcgaW4gdGhlIHBhc3NlZCBvciByZXR1cm5lZFxuICAgIC8vIGFyZ3VtZW50cy5cbiAgICB2YXIgVU5TVVBQT1JURURfQlVUVE9OX0FQSSA9IHtcbiAgICAgICAgLy9nZXRTdGF0ZTogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgLy9zZXRTdGF0ZTogZnVuY3Rpb24oc3RhdGUpIHt9LFxuICAgICAgICB0b0ZlYXR1cmU6IG5vb3BcbiAgICB9O1xuXG4gICAgdmFyIEJVVFRPTl9ERUZTID0ge307XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBCdXR0b25CcmlkZ2UgUmVhY3QgY2xhc3MgZm9yIGEgZ2l2ZW4gYnV0dG9uIGRlZmluaXRpb24gaWYgaXQgaGFzIG5vdCBiZWVuXG4gICAgICogYWxyZWFkeSBjcmVhdGVkIGJhc2VkIG9uIHRoZSBidXR0b24gbmFtZSBhbmQgZGVmaW5pdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBnZW5lcmF0ZUJ1dHRvbkJyaWRnZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBidXR0b25OYW1lIFRoZSBidXR0b24ncyBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGJ1dHRvbkRlZmluaXRpb24gVGhlIGJ1dHRvbidzIGRlZmluaXRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgb3IgYWxyZWFkeSBleGlzdGluZyBSZWFjdCBCdXR0b24gQ2xhc3NcbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQnV0dG9uQnJpZGdlKGJ1dHRvbk5hbWUsIGJ1dHRvbkRlZmluaXRpb24sIGVkaXRvcikge1xuICAgICAgICB2YXIgQnV0dG9uQnJpZGdlID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b25OYW1lXTtcblxuICAgICAgICBCVVRUT05fREVGU1tlZGl0b3IubmFtZV0gPSBCVVRUT05fREVGU1tlZGl0b3IubmFtZV0gfHwge307XG4gICAgICAgIEJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXVtidXR0b25OYW1lXSA9IEJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXVtidXR0b25OYW1lXSB8fCBidXR0b25EZWZpbml0aW9uO1xuXG4gICAgICAgIGlmICghQnV0dG9uQnJpZGdlKSB7XG4gICAgICAgICAgICBCdXR0b25CcmlkZ2UgPSBjcmVhdGVSZWFjdENsYXNzKFxuICAgICAgICAgICAgICAgIENLRURJVE9SLnRvb2xzLm1lcmdlKFVOU1VQUE9SVEVEX0JVVFRPTl9BUEksIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6IGJ1dHRvbk5hbWUsXG5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGljczoge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBidXR0b25OYW1lXG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gJ2FlLWJ1dHRvbiBhZS1idXR0b24tYnJpZGdlJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbkRpc3BsYXlOYW1lID0gQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLm5hbWUgfHwgQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLmNvbW1hbmQgfHwgYnV0dG9uTmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbkxhYmVsID0gQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLmxhYmVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uVHlwZSA9ICdidXR0b24tJyArIGJ1dHRvbkRpc3BsYXlOYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWNvbkNsYXNzTmFtZSA9ICdhZS1pY29uLScgKyBidXR0b25EaXNwbGF5TmFtZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb25TdHlsZSA9IHt9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3NzU3R5bGUgPSBDS0VESVRPUi5za2luLmdldEljb25TdHlsZShidXR0b25EaXNwbGF5TmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjc3NTdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NTdHlsZVBhcnRzID0gY3NzU3R5bGUuc3BsaXQoJzsnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBjc3NTdHlsZVBhcnRzWzBdLnN1YnN0cmluZyhjc3NTdHlsZVBhcnRzWzBdLmluZGV4T2YoJzonKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBjc3NTdHlsZVBhcnRzWzFdLnN1YnN0cmluZyhjc3NTdHlsZVBhcnRzWzFdLmluZGV4T2YoJzonKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25TdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGNzc1N0eWxlUGFydHNbMl0uc3Vic3RyaW5nKGNzc1N0eWxlUGFydHNbMl0uaW5kZXhPZignOicpICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtidXR0b25MYWJlbH0gY2xhc3NOYW1lPXtidXR0b25DbGFzc05hbWV9IGRhdGEtdHlwZT17YnV0dG9uVHlwZX0gb25DbGljaz17dGhpcy5faGFuZGxlQ2xpY2t9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17YnV0dG9uTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IHN0eWxlPXtpY29uU3R5bGV9Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgX2hhbmRsZUNsaWNrOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidXR0b25Db21tYW5kID0gQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLmNvbW1hbmQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidXR0b25PbkNsaWNrID0gQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW2J1dHRvbk5hbWVdLm9uQ2xpY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b25PbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uT25DbGljay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoYnV0dG9uQ29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbk5hbWVdID0gQnV0dG9uQnJpZGdlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJ1dHRvbkJyaWRnZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2J1dHRvbicpKSB7XG4gICAgICAgIENLRURJVE9SLlVJX0JVVFRPTiA9ICdidXR0b24nO1xuXG4gICAgICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdidXR0b24nLCB7fSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgcGx1Z2luIHRoYXQgYnJpZGdlcyB0aGUgc3VwcG9ydCBvZmZlcmVkIGJ5IENLRWRpdG9yIEJ1dHRvbiBwbHVnaW4uIEl0IHRha2VzIG92ZXIgdGhlXG4gICAgICogcmVzcG9uc2liaWxpdHkgb2YgcmVnaXN0ZXJpbmcgYW5kIGNyZWF0aW5nIGJ1dHRvbnMgdmlhOlxuICAgICAqIC0gZWRpdG9yLnVpLmFkZEJ1dHRvbihuYW1lLCBkZWZpbml0aW9uKVxuICAgICAqIC0gZWRpdG9yLnVpLmFkZChuYW1lLCBDS0VESVRPUi5VSV9CVVRUT04sIGRlZmluaXRpb24pXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9idXR0b25icmlkZ2VcbiAgICAgKiBAcmVxdWlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV91aWJyaWRnZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9idXR0b25icmlkZ2UnLCB7XG4gICAgICAgIHJlcXVpcmVzOiBbJ2FlX3VpYnJpZGdlJ10sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgYWRkIGhhbmRsZXIgZm9yIFVJX0JVVFRPTiB0byBvdXIgb3duLiBXZSBkbyB0aGlzIGluIHRoZSBpbml0IHBoYXNlIHRvIG92ZXJyaWRlXG4gICAgICAgICAqIHRoZSBvbmUgaW4gdGhlIG5hdGl2ZSBwbHVnaW4gaW4gY2FzZSBpdCdzIHByZXNlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBDS0VkaXRvciBpbnN0YW5jZSBiZWluZyBpbml0aWFsaXplZFxuICAgICAgICAgKi9cbiAgICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkQnV0dG9uID0gZnVuY3Rpb24oYnV0dG9uTmFtZSwgYnV0dG9uRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGJ1dHRvbk5hbWUsIENLRURJVE9SLlVJX0JVVFRPTiwgYnV0dG9uRGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9CVVRUT04sIHtcbiAgICAgICAgICAgICAgICBhZGQ6IGdlbmVyYXRlQnV0dG9uQnJpZGdlLFxuICAgICAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24oYnV0dG9uRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uTmFtZSA9ICdidXR0b25CcmlkZ2UnICsgKChNYXRoLnJhbmRvbSgpICogMWU5KSA+Pj4gMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBCdXR0b25CcmlkZ2UgPSBnZW5lcmF0ZUJ1dHRvbkJyaWRnZShidXR0b25OYW1lLCBidXR0b25EZWZpbml0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1dHRvbkJyaWRnZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KCkpO1xuIiwiaW1wb3J0IGJ1dHRvbiBmcm9tICcuL2J1dHRvbi5qc3gnO1xuaW1wb3J0IG1lbnVCdXR0b24gZnJvbSAnLi9tZW51LWJ1dHRvbi5qc3gnO1xuaW1wb3J0IG1lbnUgZnJvbSAnLi9tZW51LmpzeCc7XG5pbXBvcnQgcGFuZWxNZW51QnV0dG9uIGZyb20gJy4vcGFuZWwtbWVudS1idXR0b24uanN4JztcbmltcG9ydCByaWNoY29tYm8gZnJvbSAnLi9yaWNoY29tYm8uanN4JztcbmltcG9ydCB1aWJyaWRnZSBmcm9tICcuL3VpYnJpZGdlJztcblxuZXhwb3J0IHtcbiAgICBidXR0b24sXG4gICAgbWVudUJ1dHRvbixcbiAgICBtZW51LFxuICAgIHBhbmVsTWVudUJ1dHRvbixcbiAgICByaWNoY29tYm8sXG4gICAgdWlicmlkZ2Vcbn07IiwiaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJy4uL2J1dHRvbnMvYnV0dG9uLWRyb3Bkb3duLmpzeCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNyZWF0ZVJlYWN0Q2xhc3MgZnJvbSAnY3JlYXRlLXJlYWN0LWNsYXNzJztcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfbWVudWJ1dHRvbmJyaWRnZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuXG4gICAgLy8gQVBJIG5vdCB5ZXQgaW1wbGVtZW50ZWQgaW5zaWRlIHRoZSBtZW51YnV0dG9uIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kcywgd2VcbiAgICAvLyBwcmV2ZW50IHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIHRoZW0uXG4gICAgLy9cbiAgICAvLyBTb21lIG1ldGhvZHMgbGlrZSBgZ2V0U3RhdGVgIGFuZCBgc2V0U3RhdGVgIGNsYXNoIHdpdGggUmVhY3QncyBvd24gc3RhdGUgbWV0aG9kcy4gRm9yIHRoZW0sXG4gICAgLy8gdW5zdXBwb3J0ZWQgbWVhbnMgdGhhdCB3ZSBkb24ndCBhY2NvdW50IGZvciB0aGUgZGlmZmVyZW50IG1lYW5pbmcgaW4gdGhlIHBhc3NlZCBvciByZXR1cm5lZFxuICAgIC8vIGFyZ3VtZW50cy5cbiAgICB2YXIgVU5TVVBQT1JURURfTUVOVUJVVFRPTl9BUEkgPSB7XG4gICAgICAgIC8vZ2V0U3RhdGU6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgIC8vc2V0U3RhdGU6IGZ1bmN0aW9uKHN0YXRlKSB7fSxcbiAgICAgICAgdG9GZWF0dXJlOiBub29wXG4gICAgfTtcblxuICAgIHZhciBNRU5VQlVUVE9OX0RFRlMgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIE1lbnVCdXR0b25CcmlkZ2UgUmVhY3QgY2xhc3MgZm9yIGEgZ2l2ZW4gbWVudUJ1dHRvbiBkZWZpbml0aW9uIGlmIGl0IGhhcyBub3QgYmVlblxuICAgICAqIGFscmVhZHkgY3JlYXRlZCBiYXNlZCBvbiB0aGUgYnV0dG9uIG5hbWUgYW5kIGRlZmluaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgZ2VuZXJhdGVNZW51QnV0dG9uQnJpZGdlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1lbnVCdXR0b25OYW1lIFRoZSBtZW51QnV0dG9uJ3MgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtZW51QnV0dG9uRGVmaW5pdGlvbiBUaGUgbWVudUJ1dHRvbidzIGRlZmluaXRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgb3IgYWxyZWFkeSBleGlzdGluZyBSZWFjdCBNZW51QnV0dG9uIENsYXNzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVNZW51QnV0dG9uQnJpZGdlKG1lbnVCdXR0b25OYW1lLCBtZW51QnV0dG9uRGVmaW5pdGlvbiwgZWRpdG9yKSB7XG4gICAgICAgIHZhciBNZW51QnV0dG9uQnJpZGdlID0gQWxsb3lFZGl0b3IuQnV0dG9uc1ttZW51QnV0dG9uTmFtZV07XG5cbiAgICAgICAgTUVOVUJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXSA9IE1FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV0gfHwge307XG4gICAgICAgIE1FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV1bbWVudUJ1dHRvbk5hbWVdID0gTUVOVUJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXVttZW51QnV0dG9uTmFtZV0gfHwgbWVudUJ1dHRvbkRlZmluaXRpb247XG5cbiAgICAgICAgaWYgKCFNZW51QnV0dG9uQnJpZGdlKSB7XG4gICAgICAgICAgICBNZW51QnV0dG9uQnJpZGdlID0gY3JlYXRlUmVhY3RDbGFzcyhcbiAgICAgICAgICAgICAgICBDS0VESVRPUi50b29scy5tZXJnZShVTlNVUFBPUlRFRF9NRU5VQlVUVE9OX0FQSSwge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogbWVudUJ1dHRvbk5hbWUsXG5cbiAgICAgICAgICAgICAgICAgICAgc3RhdGljczoge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBtZW51QnV0dG9uTmFtZVxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhbmVsTWVudUJ1dHRvbkRpc3BsYXlOYW1lID0gTUVOVUJVVFRPTl9ERUZTW2VkaXRvci5uYW1lXVttZW51QnV0dG9uTmFtZV0ubmFtZSB8fCBNRU5VQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW21lbnVCdXR0b25OYW1lXS5jb21tYW5kIHx8IG1lbnVCdXR0b25OYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gJ2FlLWJ1dHRvbiBhZS1idXR0b24tYnJpZGdlJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb25DbGFzc05hbWUgPSAnYWUtaWNvbi0nICsgcGFuZWxNZW51QnV0dG9uRGlzcGxheU5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uU3R5bGUgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNzc1N0eWxlID0gQ0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUocGFuZWxNZW51QnV0dG9uRGlzcGxheU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3NzU3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3NzU3R5bGVQYXJ0cyA9IGNzc1N0eWxlLnNwbGl0KCc7Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU3R5bGUuYmFja2dyb3VuZEltYWdlID0gY3NzU3R5bGVQYXJ0c1swXS5zdWJzdHJpbmcoY3NzU3R5bGVQYXJ0c1swXS5pbmRleE9mKCc6JykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gY3NzU3R5bGVQYXJ0c1sxXS5zdWJzdHJpbmcoY3NzU3R5bGVQYXJ0c1sxXS5pbmRleE9mKCc6JykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU3R5bGUuYmFja2dyb3VuZFNpemUgPSBjc3NTdHlsZVBhcnRzWzJdLnN1YnN0cmluZyhjc3NTdHlsZVBhcnRzWzJdLmluZGV4T2YoJzonKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyIGFlLWhhcy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9IGFyaWEtbGFiZWw9e01FTlVCVVRUT05fREVGU1tlZGl0b3IubmFtZV1bbWVudUJ1dHRvbk5hbWVdLmxhYmVsfSBjbGFzc05hbWU9e2J1dHRvbkNsYXNzTmFtZX0gb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn0gcm9sZT1cImNvbWJvYm94XCIgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtNRU5VQlVUVE9OX0RFRlNbZWRpdG9yLm5hbWVdW21lbnVCdXR0b25OYW1lXS5sYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2ljb25DbGFzc05hbWV9IHN0eWxlPXtpY29uU3R5bGV9Pjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4cGFuZGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25Ecm9wZG93biBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLl9nZXRNZW51SXRlbXMoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uRHJvcGRvd24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIF9nZXRNZW51SXRlbXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSBtZW51QnV0dG9uRGVmaW5pdGlvbi5vbk1lbnUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW51SXRlbXMgPSBPYmplY3Qua2V5cyhpdGVtcykubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW51SXRlbSA9IGVkaXRvci5nZXRNZW51SXRlbShrZXkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtZW51SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUl0ZW1EZWZpbml0aW9uID0gbWVudUl0ZW0uZGVmaW5pdGlvbiB8fCBtZW51SXRlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUl0ZW1TdGF0ZSA9IGl0ZW1zW2tleV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gJ2FlLXRvb2xiYXItZWxlbWVudCAnICsgKG1lbnVJdGVtU3RhdGUgPT09IENLRURJVE9SLlRSSVNUQVRFX09OID8gJ2FjdGl2ZScgOiAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpc2FibGVkID0gbWVudUl0ZW1TdGF0ZSA9PT0gQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnVJdGVtRGVmaW5pdGlvbi5jb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQobWVudUl0ZW1EZWZpbml0aW9uLmNvbW1hbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1lbnVJdGVtRGVmaW5pdGlvbi5vbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51SXRlbURlZmluaXRpb24ub25DbGljay5hcHBseShtZW51SXRlbURlZmluaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e21lbnVJdGVtLm5hbWV9IHJvbGU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtjbGFzc05hbWV9IGRpc2FibGVkPXtkaXNhYmxlZH0gb25DbGljaz17b25DbGlja30+e21lbnVJdGVtRGVmaW5pdGlvbi5sYWJlbH08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbnVJdGVtcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBBbGxveUVkaXRvci5CdXR0b25zW21lbnVCdXR0b25OYW1lXSA9IE1lbnVCdXR0b25CcmlkZ2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTWVudUJ1dHRvbkJyaWRnZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICghQ0tFRElUT1IucGx1Z2lucy5nZXQoJ21lbnVidXR0b24nKSkge1xuICAgICAgICBDS0VESVRPUi5VSV9NRU5VX0JVVFRPTiA9ICdtZW51YnV0dG9uJztcblxuICAgICAgICBDS0VESVRPUi5wbHVnaW5zLmFkZCgnbWVudWJ1dHRvbicsIHt9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gdGhhdCBicmlkZ2VzIHRoZSBzdXBwb3J0IG9mZmVyZWQgYnkgQ0tFZGl0b3IgTWVudUJ1dHRvbiBwbHVnaW4uIEl0IHRha2VzIG92ZXIgdGhlXG4gICAgICogcmVzcG9uc2liaWxpdHkgb2YgcmVnaXN0ZXJpbmcgYW5kIGNyZWF0aW5nIG1lbnVCdXR0b25zIHZpYTpcbiAgICAgKiAtIGVkaXRvci51aS5hZGRNZW51QnV0dG9uKG5hbWUsIGRlZmluaXRpb24pXG4gICAgICogLSBlZGl0b3IudWkuYWRkKG5hbWUsIENLRURJVE9SLlVJX01FTlVCVVRUT04sIGRlZmluaXRpb24pXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9tZW51YnV0dG9uYnJpZGdlXG4gICAgICogQHJlcXVpcmVzIENLRURJVE9SLnBsdWdpbnMuYWVfdWlicmlkZ2VcbiAgICAgKiBAcmVxdWlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV9tZW51YnJpZGdlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX21lbnVidXR0b25icmlkZ2UnLCB7XG4gICAgICAgIHJlcXVpcmVzOiBbJ2FlX3VpYnJpZGdlJywgJ2FlX21lbnVicmlkZ2UnXSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBhZGQgaGFuZGxlciBmb3IgVUlfTUVOVUJVVFRPTiB0byBvdXIgb3duLiBXZSBkbyB0aGlzIGluIHRoZSBpbml0IHBoYXNlIHRvIG92ZXJyaWRlXG4gICAgICAgICAqIHRoZSBvbmUgaW4gdGhlIG5hdGl2ZSBwbHVnaW4gaW4gY2FzZSBpdCdzIHByZXNlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBDS0VkaXRvciBpbnN0YW5jZSBiZWluZyBpbml0aWFsaXplZFxuICAgICAgICAgKi9cbiAgICAgICAgYmVmb3JlSW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkTWVudUJ1dHRvbiA9IGZ1bmN0aW9uKG1lbnVCdXR0b25OYW1lLCBtZW51QnV0dG9uRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKG1lbnVCdXR0b25OYW1lLCBDS0VESVRPUi5VSV9NRU5VQlVUVE9OLCBtZW51QnV0dG9uRGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9NRU5VQlVUVE9OLCB7XG4gICAgICAgICAgICAgICAgYWRkOiBnZW5lcmF0ZU1lbnVCdXR0b25CcmlkZ2UsXG4gICAgICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbihtZW51QnV0dG9uRGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUJ1dHRvbk5hbWUgPSAnYnV0dG9uQnJpZGdlJyArICgoTWF0aC5yYW5kb20oKSAqIDFlOSkgPj4+IDApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgTWVudUJ1dHRvbkJyaWRnZSA9IGdlbmVyYXRlTWVudUJ1dHRvbkJyaWRnZShtZW51QnV0dG9uTmFtZSwgbWVudUJ1dHRvbkRlZmluaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTWVudUJ1dHRvbkJyaWRnZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG59KCkpO1xuIiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfbWVudWJyaWRnZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gdGhhdCBicmlkZ2VzIHRoZSBzdXBwb3J0IG9mZmVyZWQgYnkgQ0tFZGl0b3IgTWVudSBwbHVnaW4uIEl0IHRha2VzIG92ZXIgdGhlXG4gICAgICogcmVzcG9uc2liaWxpdHkgb2YgYWRkaW5nLCByZW1vdmluZyBhbmQgcmV0cmlldmluZyBtZW51IGdyb3VwcyBhbmQgaXRlbXNcbiAgICAgKiAtIGVkaXRvci5hZGRNZW51R3JvdXAobmFtZSwgb3JkZXIpXG4gICAgICogLSBlZGl0b3IuYWRkTWVudUl0ZW0obmFtZSwgZGVmaW5pdGlvbilcbiAgICAgKiAtIGVkaXRvci5hZGRNZW51SXRlbXMoZGVmaW5pdGlvbnMpXG4gICAgICogLSBlZGl0b3IuZ2V0TWVudUl0ZW0obmFtZSlcbiAgICAgKiAtIGVkaXRvci5yZW1vdmVNZW51SXRlbShuYW1lKVxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfbWVudWJyaWRnZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9tZW51YnJpZGdlJywge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBhZGQgaGFuZGxlciBmb3IgVUlfQlVUVE9OIHRvIG91ciBvd24uIFdlIGRvIHRoaXMgaW4gdGhlIGluaXQgcGhhc2UgdG8gb3ZlcnJpZGVcbiAgICAgICAgICogdGhlIG9uZSBpbiB0aGUgbmF0aXZlIHBsdWdpbiBpbiBjYXNlIGl0J3MgcHJlc2VudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIENLRWRpdG9yIGluc3RhbmNlIGJlaW5nIGluaXRpYWxpemVkXG4gICAgICAgICAqL1xuICAgICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbiAoZWRpdG9yKSB7XG4gICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSByZWFsIG1lbnUgcGx1Z2luIGlzIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnbWVudScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZ3JvdXBzID0gW107XG4gICAgICAgICAgICB2YXIgZ3JvdXBzT3JkZXIgPSBlZGl0b3IuXy5tZW51R3JvdXBzID0ge307XG4gICAgICAgICAgICB2YXIgbWVudUl0ZW1zID0gZWRpdG9yLl8ubWVudUl0ZW1zID0ge307XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZ3JvdXBzT3JkZXJbZ3JvdXBzW2ldXSA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlZ2lzdGVycyBhbiBpdGVtIGdyb3VwIHRvIHRoZSBlZGl0b3IgY29udGV4dCBtZW51IGluIG9yZGVyIHRvIG1ha2UgaXRcbiAgICAgICAgICAgICAqIHBvc3NpYmxlIHRvIGFzc29jaWF0ZSBpdCB3aXRoIG1lbnUgaXRlbXMgbGF0ZXIuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1ldGhvZCBhZGRNZW51R3JvdXBcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFNwZWNpZnkgYSBncm91cCBuYW1lLlxuICAgICAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcmRlcj0xMDBdIERlZmluZSB0aGUgZGlzcGxheSBzZXF1ZW5jZSBvZiB0aGlzIGdyb3VwXG4gICAgICAgICAgICAgKiBpbnNpZGUgdGhlIG1lbnUuIEEgc21hbGxlciB2YWx1ZSBnZXRzIGRpc3BsYXllZCBmaXJzdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZWRpdG9yLmFkZE1lbnVHcm91cCA9IGZ1bmN0aW9uIChuYW1lLCBvcmRlcikge1xuICAgICAgICAgICAgICAgIGdyb3Vwc09yZGVyW25hbWVdID0gb3JkZXIgfHwgMTAwO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBZGRzIGFuIGl0ZW0gZnJvbSB0aGUgc3BlY2lmaWVkIGRlZmluaXRpb24gdG8gdGhlIGVkaXRvciBjb250ZXh0IG1lbnUuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1ldGhvZCBhZGRNZW51SXRlbVxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIG1lbnUgaXRlbSBuYW1lLlxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRlZmluaXRpb24gVGhlIG1lbnUgaXRlbSBkZWZpbml0aW9uLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlZGl0b3IuYWRkTWVudUl0ZW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChncm91cHNPcmRlcltkZWZpbml0aW9uLmdyb3VwXSkge1xuICAgICAgICAgICAgICAgICAgICBtZW51SXRlbXNbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvbjogZGVmaW5pdGlvblxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkcyBvbmUgb3IgbW9yZSBpdGVtcyBmcm9tIHRoZSBzcGVjaWZpZWQgZGVmaW5pdGlvbiBvYmplY3QgdG8gdGhlIGVkaXRvciBjb250ZXh0IG1lbnUuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1ldGhvZCBhZGRNZW51SXRlbXNcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkZWZpbml0aW9ucyBPYmplY3Qgd2hlcmUga2V5cyBhcmUgdXNlZCBhcyBpdGVtTmFtZSBhbmQgY29ycmVzcG9uZGluZyB2YWx1ZXMgYXMgZGVmaW5pdGlvbiBmb3IgYSB7QGxpbmsgI2FkZE1lbnVJdGVtfSBjYWxsLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBlZGl0b3IuYWRkTWVudUl0ZW1zID0gZnVuY3Rpb24gKGRlZmluaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaXRlbU5hbWUgaW4gZGVmaW5pdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRNZW51SXRlbShpdGVtTmFtZSwgZGVmaW5pdGlvbnNbaXRlbU5hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHJpZXZlcyBhIHBhcnRpY3VsYXIgbWVudSBpdGVtIGRlZmluaXRpb24gZnJvbSB0aGUgZWRpdG9yIGNvbnRleHQgbWVudS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGdldE1lbnVJdGVtXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZGVzaXJlZCBtZW51IGl0ZW0uXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVkaXRvci5nZXRNZW51SXRlbSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1lbnVJdGVtc1tuYW1lXTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVtb3ZlcyBhIHBhcnRpY3VsYXIgbWVudSBpdGVtIGFkZGVkIGJlZm9yZSBmcm9tIHRoZSBlZGl0b3IgY29udGV4dCBtZW51LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBtZXRob2QgIHJlbW92ZU1lbnVJdGVtXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgZGVzaXJlZCBtZW51IGl0ZW0uXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGVkaXRvci5yZW1vdmVNZW51SXRlbSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG1lbnVJdGVtc1tuYW1lXTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9KTtcbn0oKSk7IiwiaW1wb3J0IEJ1dHRvbkRyb3Bkb3duIGZyb20gJy4uL2J1dHRvbnMvYnV0dG9uLWRyb3Bkb3duLmpzeCc7XG5pbXBvcnQgY3JlYXRlUmVhY3RDbGFzcyBmcm9tICdjcmVhdGUtcmVhY3QtY2xhc3MnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfcGFuZWxtZW51YnV0dG9uYnJpZGdlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG5cbiAgICAvLyBBUEkgbm90IHlldCBpbXBsZW1lbnRlZCBpbnNpZGUgdGhlIHBhbmVsIG1lbnUgYnV0dG9uIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kcywgd2VcbiAgICAvLyBwcmV2ZW50IHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIHRoZW0uXG4gICAgdmFyIFVOU1VQUE9SVEVEX1BBTkVMX01FTlVfQlVUVE9OX0FQSSA9IHtcbiAgICAgICAgY3JlYXRlUGFuZWw6IG5vb3BcbiAgICB9O1xuXG4gICAgdmFyIFBBTkVMX01FTlVfREVGUyA9IHt9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgUGFuZWxNZW51QnV0dG9uQnJpZGdlIFJlYWN0IGNsYXNzIGZvciBhIGdpdmVuIHBhbmVsbWVudWJ1dHRvbiBkZWZpbml0aW9uIGlmIGl0IGhhcyBub3QgYmVlblxuICAgICAqIGFscmVhZHkgY3JlYXRlZCBiYXNlZCBvbiB0aGUgcGFuZWxtZW51YnV0dG9uIG5hbWUgYW5kIGRlZmluaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgZ2VuZXJhdGVQYW5lbE1lbnVCdXR0b25CcmlkZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFuZWxNZW51QnV0dG9uTmFtZSBUaGUgcGFuZWwgYnV0dG9uIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcGFuZWxNZW51QnV0dG9uRGVmaW5pdGlvbiBUaGUgcGFuZWwgYnV0dG9uIGRlZmluaXRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBnZW5lcmF0ZWQgb3IgYWxyZWFkeSBleGlzdGluZyBSZWFjdCBQYW5lbE1lbnVCdXR0b24gQ2xhc3NcbiAgICAgKi9cbiAgICB2YXIgZ2VuZXJhdGVQYW5lbE1lbnVCdXR0b25CcmlkZ2UgPSBmdW5jdGlvbihwYW5lbE1lbnVCdXR0b25OYW1lLCBwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uLCBlZGl0b3IpIHtcbiAgICAgICAgdmFyIFBhbmVsTWVudUJ1dHRvbkJyaWRnZSA9IEFsbG95RWRpdG9yLkJ1dHRvbnNbcGFuZWxNZW51QnV0dG9uTmFtZV07XG5cbiAgICAgICAgUEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXSA9IFBBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV0gfHwge307XG4gICAgICAgIFBBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV1bcGFuZWxNZW51QnV0dG9uTmFtZV0gPSBQQU5FTF9NRU5VX0RFRlNbZWRpdG9yLm5hbWVdW3BhbmVsTWVudUJ1dHRvbk5hbWVdIHx8IHBhbmVsTWVudUJ1dHRvbkRlZmluaXRpb247XG5cbiAgICAgICAgaWYgKCFQYW5lbE1lbnVCdXR0b25CcmlkZ2UpIHtcbiAgICAgICAgICAgIFBhbmVsTWVudUJ1dHRvbkJyaWRnZSA9IGNyZWF0ZVJlYWN0Q2xhc3MoXG4gICAgICAgICAgICAgICAgQ0tFRElUT1IudG9vbHMubWVyZ2UoVU5TVVBQT1JURURfUEFORUxfTUVOVV9CVVRUT05fQVBJLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiBwYW5lbE1lbnVCdXR0b25OYW1lLFxuXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogcGFuZWxNZW51QnV0dG9uTmFtZVxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhbmVsTWVudUJ1dHRvbkRpc3BsYXlOYW1lID0gUEFORUxfTUVOVV9ERUZTW2VkaXRvci5uYW1lXVtwYW5lbE1lbnVCdXR0b25OYW1lXS5uYW1lIHx8IFBBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV1bcGFuZWxNZW51QnV0dG9uTmFtZV0uY29tbWFuZCB8fCBwYW5lbE1lbnVCdXR0b25OYW1lO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gJ2FlLWJ1dHRvbiBhZS1idXR0b24tYnJpZGdlJztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGljb25DbGFzc05hbWUgPSAnYWUtaWNvbi0nICsgcGFuZWxNZW51QnV0dG9uRGlzcGxheU5hbWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpY29uU3R5bGUgPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNzc1N0eWxlID0gQ0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUocGFuZWxNZW51QnV0dG9uRGlzcGxheU5hbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3NzU3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3NzU3R5bGVQYXJ0cyA9IGNzc1N0eWxlLnNwbGl0KCc7Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU3R5bGUuYmFja2dyb3VuZEltYWdlID0gY3NzU3R5bGVQYXJ0c1swXS5zdWJzdHJpbmcoY3NzU3R5bGVQYXJ0c1swXS5pbmRleE9mKCc6JykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gY3NzU3R5bGVQYXJ0c1sxXS5zdWJzdHJpbmcoY3NzU3R5bGVQYXJ0c1sxXS5pbmRleE9mKCc6JykgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uU3R5bGUuYmFja2dyb3VuZFNpemUgPSBjc3NTdHlsZVBhcnRzWzJdLnN1YnN0cmluZyhjc3NTdHlsZVBhcnRzWzJdLmluZGV4T2YoJzonKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFuZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmV4cGFuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFuZWwgPSB0aGlzLl9nZXRQYW5lbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyIGFlLWhhcy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9IGFyaWEtbGFiZWw9e1BBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV1bcGFuZWxNZW51QnV0dG9uTmFtZV0ubGFiZWx9IGNsYXNzTmFtZT17YnV0dG9uQ2xhc3NOYW1lfSBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSByb2xlPVwiY29tYm9ib3hcIiB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e1BBTkVMX01FTlVfREVGU1tlZGl0b3IubmFtZV1bcGFuZWxNZW51QnV0dG9uTmFtZV0ubGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtpY29uQ2xhc3NOYW1lfSBzdHlsZT17aWNvblN0eWxlfT48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFuZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIF9nZXRQYW5lbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhbmVsTWVudUJ1dHRvbk9uQmxvY2sgPSBQQU5FTF9NRU5VX0RFRlNbZWRpdG9yLm5hbWVdW3BhbmVsTWVudUJ1dHRvbk5hbWVdLm9uQmxvY2s7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYW5lbCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlOiB0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IHRoaXMucHJvcHMudG9nZ2xlRHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBibG9ja0VsZW1lbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxvY2sgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogYmxvY2tFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXM6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhbmVsTWVudUJ1dHRvbk9uQmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5lbE1lbnVCdXR0b25PbkJsb2NrLmNhbGwodGhpcywgcGFuZWwsIGJsb2NrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGJsb2NrLmtleXMgdG8gY29uZmlndXJlIHRoZSBwYW5lbCBrZXlib2FyZCBuYXZpZ2F0aW9uXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbkRyb3Bkb3duIG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtibG9ja0VsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpfSBkYW5nZXJvdXNseVNldElubmVySFRNTD17e19faHRtbDogYmxvY2tFbGVtZW50LmdldEh0bWwoKX19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b25Ecm9wZG93bj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgQWxsb3lFZGl0b3IuQnV0dG9uc1twYW5lbE1lbnVCdXR0b25OYW1lXSA9IFBhbmVsTWVudUJ1dHRvbkJyaWRnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQYW5lbE1lbnVCdXR0b25CcmlkZ2U7XG4gICAgfTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgncGFuZWxtZW51YnV0dG9uJykpIHtcbiAgICAgICAgQ0tFRElUT1IuVUlfUEFORUxCVVRUT04gPSAncGFuZWxtZW51YnV0dG9uJztcblxuICAgICAgICBDS0VESVRPUi5wbHVnaW5zLmFkZCgncGFuZWxtZW51YnV0dG9uJywge30pO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKCFDS0VESVRPUi5wbHVnaW5zLmdldCgncGFuZWxidXR0b24nKSnCoHtcbiAgICAgICAgQ0tFRElUT1IuVUlfUEFORUxCVVRUT04gPSAncGFuZWxidXR0b24nO1xuXG4gICAgICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdwYW5lbGJ1dHRvbicsIHt9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gdGhhdCBicmlkZ2VzIHRoZSBzdXBwb3J0IG9mZmVyZWQgYnkgQ0tFZGl0b3IgUGFuZWxCdXR0b24gcGx1Z2luLiBJdCB0YWtlcyBvdmVyIHRoZVxuICAgICAqIHJlc3BvbnNpYmlsaXR5IG9mIHJlZ2lzdGVyaW5nIGFuZCBjcmVhdGluZyBidXR0b25zIHZpYTpcbiAgICAgKiAtIGVkaXRvci51aS5hZGRQYW5lbE1lbnVCdXR0b24obmFtZSwgZGVmaW5pdGlvbilcbiAgICAgKiAtIGVkaXRvci51aS5hZGQobmFtZSwgQ0tFRElUT1IuVUlfUEFORUxCVVRUT04sIGRlZmluaXRpb24pXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9wYW5lbG1lbnVidXR0b25icmlkZ2VcbiAgICAgKiBAcmVxdWlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV91aWJyaWRnZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV9wYW5lbG1lbnVidXR0b25icmlkZ2UnLCB7XG4gICAgICAgIHJlcXVpcmVzOiBbJ2FlX3VpYnJpZGdlJ10sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgYWRkIGhhbmRsZXIgZm9yIFVJX1BBTkVMQlVUVE9OIHRvIG91ciBvd24uIFdlIGRvIHRoaXMgaW4gdGhlIGluaXQgcGhhc2UgdG8gb3ZlcnJpZGVcbiAgICAgICAgICogdGhlIG9uZSBpbiB0aGUgbmF0aXZlIHBsdWdpbiBpbiBjYXNlIGl0J3MgcHJlc2VudFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UgYmVpbmcgaW5pdGlhbGl6ZWRcbiAgICAgICAgICovXG4gICAgICAgIGJlZm9yZUluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgZWRpdG9yLnVpLmFkZFBhbmVsTWVudUJ1dHRvbiA9IGZ1bmN0aW9uKHBhbmVsTWVudUJ1dHRvbk5hbWUsIHBhbmVsTWVudUJ1dHRvbkRlZmluaXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChwYW5lbE1lbnVCdXR0b25OYW1lLCBDS0VESVRPUi5VSV9QQU5FTEJVVFRPTiwgcGFuZWxNZW51QnV0dG9uRGVmaW5pdGlvbik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9QQU5FTEJVVFRPTiwge1xuICAgICAgICAgICAgICAgIGFkZDogZ2VuZXJhdGVQYW5lbE1lbnVCdXR0b25CcmlkZ2UsXG4gICAgICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbihwYW5lbE1lbnVCdXR0b25EZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYW5lbE1lbnVCdXR0b25OYW1lID0gJ3BhbmVsTWVudUJ1dHRvbkJyaWRnZScgKyAoKE1hdGgucmFuZG9tKCkgKiAxZTkpID4+PiAwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFBhbmVsTWVudUJ1dHRvbkJyaWRnZSA9IGdlbmVyYXRlUGFuZWxNZW51QnV0dG9uQnJpZGdlKHBhbmVsTWVudUJ1dHRvbk5hbWUsIHBhbmVsTWVudUJ1dHRvbkRlZmluaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGFuZWxNZW51QnV0dG9uQnJpZGdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0oKSk7XG4iLCJpbXBvcnQgQnV0dG9uRHJvcGRvd24gZnJvbSAnLi4vYnV0dG9ucy9idXR0b24tZHJvcGRvd24uanN4JztcbmltcG9ydCBjcmVhdGVSZWFjdENsYXNzIGZyb20gJ2NyZWF0ZS1yZWFjdC1jbGFzcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9yaWNoY29tYm9icmlkZ2UnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge31cblxuICAgIC8vIEFQSSBub3QgeWV0IGltcGxlbWVudGVkIGluc2lkZSB0aGUgcmljaGNvbWJvIGJyaWRnZS4gQnkgbW9ja2luZyB0aGUgdW5zdXBwb3J0ZWQgbWV0aG9kcywgd2VcbiAgICAvLyBwcmV2ZW50IHBsdWdpbnMgZnJvbSBjcmFzaGluZyBpZiB0aGV5IG1ha2UgdXNlIG9mIHRoZW0uXG4gICAgLy9cbiAgICAvLyBTb21lIG1ldGhvZHMgbGlrZSBgc2V0U3RhdGVgIGNsYXNoIHdpdGggUmVhY3QncyBvd24gc3RhdGUgbWV0aG9kcy4gRm9yIHRoZW0sIHVuc3VwcG9ydGVkIG1lYW5zXG4gICAgLy8gdGhhdCB3ZSBkb24ndCBhY2NvdW50IGZvciB0aGUgZGlmZmVyZW50IG1lYW5pbmcgaW4gdGhlIHBhc3NlZCBvciByZXR1cm5lZCBhcmd1bWVudHMuXG4gICAgdmFyIFVOU1VQUE9SVEVEX1JJQ0hDT01CT19BUEkgPSB7XG4gICAgICAgIGNvbW1pdDogbm9vcCxcbiAgICAgICAgY3JlYXRlUGFuZWw6IG5vb3AsXG4gICAgICAgIGRpc2FibGU6IG5vb3AsXG4gICAgICAgIGVuYWJsZTogbm9vcCxcbiAgICAgICAgZ2V0U3RhdGU6IG5vb3AsXG4gICAgICAgIGhpZGVHcm91cDogbm9vcCxcbiAgICAgICAgaGlkZUl0ZW06IG5vb3AsXG4gICAgICAgIG1hcms6IG5vb3AsXG4gICAgICAgIC8vc2V0U3RhdGU6IG5vb3AsXG4gICAgICAgIHNob3dBbGw6IG5vb3AsXG4gICAgICAgIHN0YXJ0R3JvdXA6IG5vb3AsXG4gICAgICAgIHVubWFya0FsbDogbm9vcFxuICAgIH07XG5cbiAgICB2YXIgUklDSF9DT01CT19ERUZTID0ge307XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBSaWNoQ29tYm9CcmlkZ2UgUmVhY3QgY2xhc3MgZm9yIGEgZ2l2ZW4gcmljaGNvbWJvIGRlZmluaXRpb24gaWYgaXQgaGFzIG5vdCBiZWVuXG4gICAgICogYWxyZWFkeSBjcmVhdGVkIGJhc2VkIG9uIHRoZSByaWNoY29tYm8gbmFtZSBhbmQgZGVmaW5pdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZXRob2QgZ2VuZXJhdGVSaWNoQ29tYm9CcmlkZ2VcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSByaWNoQ29tYm9OYW1lIFRoZSByaWNoIGNvbWJvIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmljaENvbWJvRGVmaW5pdGlvbiBUaGUgcmljaCBjb21ibyBkZWZpbml0aW9uXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgZ2VuZXJhdGVkIG9yIGFscmVhZHkgZXhpc3RpbmcgUmVhY3QgUmljaENvbWJvIENsYXNzXG4gICAgICovXG4gICAgdmFyIGdlbmVyYXRlUmljaENvbWJvQnJpZGdlID0gZnVuY3Rpb24ocmljaENvbWJvTmFtZSwgcmljaENvbWJvRGVmaW5pdGlvbiwgZWRpdG9yKSB7XG4gICAgICAgIHZhciBSaWNoQ29tYm9CcmlkZ2UgPSBBbGxveUVkaXRvci5CdXR0b25zW3JpY2hDb21ib05hbWVdO1xuXG4gICAgICAgIFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV0gPSBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdIHx8IHt9O1xuICAgICAgICBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW3JpY2hDb21ib05hbWVdID0gUklDSF9DT01CT19ERUZTW2VkaXRvci5uYW1lXVtyaWNoQ29tYm9OYW1lXSB8fCByaWNoQ29tYm9EZWZpbml0aW9uO1xuICAgICAgICBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW3JpY2hDb21ib05hbWVdLmN1cnJlbnRWYWx1ZSA9IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAoIVJpY2hDb21ib0JyaWRnZSkge1xuICAgICAgICAgICAgUmljaENvbWJvQnJpZGdlID0gY3JlYXRlUmVhY3RDbGFzcyhcbiAgICAgICAgICAgICAgICBDS0VESVRPUi50b29scy5tZXJnZShVTlNVUFBPUlRFRF9SSUNIQ09NQk9fQVBJLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiByaWNoQ29tYm9OYW1lLFxuXG4gICAgICAgICAgICAgICAgICAgIHN0YXRpY3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogcmljaENvbWJvTmFtZVxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGFkZDogZnVuY3Rpb24odmFsdWUsIHByZXZpZXcsIHRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aWV3OiBwcmV2aWV3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3JDb21ibyA9IFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV1bcmljaENvbWJvTmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2l0ZW1zID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUgPSB0aGlzLl9zZXRWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvckNvbWJvLmluaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JDb21iby5pbml0LmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3JDb21iby5vblJlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvckNvbWJvLm9uUmVuZGVyLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50V2lsbFVubW91bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlVmFsdWUodGhpcy5zdGF0ZS52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUgPSB0aGlzLl9jYWNoZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW3JpY2hDb21ib05hbWVdLmN1cnJlbnRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByaWNoQ29tYm9MYWJlbCA9IFJJQ0hfQ09NQk9fREVGU1tlZGl0b3IubmFtZV1bcmljaENvbWJvTmFtZV0uY3VycmVudFZhbHVlIHx8IHJpY2hDb21ib0RlZmluaXRpb24ubGFiZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24gYWUtaGFzLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH0gYXJpYS1sYWJlbD17cmljaENvbWJvTGFiZWx9IGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17cmljaENvbWJvTGFiZWx9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPntyaWNoQ29tYm9MYWJlbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1hcnJvd1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuZXhwYW5kZWQgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbkRyb3Bkb3duIG9uRGlzbWlzcz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bn0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMuX2dldEl0ZW1zKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbkRyb3Bkb3duPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBfY2FjaGVWYWx1ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW3JpY2hDb21ib05hbWVdLmN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIF9nZXRJdGVtczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmljaENvbWJvID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW1zID0gdGhpcy5faXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSAnYWUtdG9vbGJhci1lbGVtZW50ICcgKyAoaXRlbS52YWx1ZSA9PT0gdGhpcy5zdGF0ZS52YWx1ZSA/ICdhY3RpdmUnIDogJycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGtleT17aXRlbS50aXRsZX0gcm9sZT1cIm9wdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IGl0ZW0ucHJldmlld319IGRhdGEtdmFsdWU9e2l0ZW0udmFsdWV9IG9uQ2xpY2s9e3JpY2hDb21iby5fb25DbGlja30+PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBfb25DbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yQ29tYm8gPSBSSUNIX0NPTUJPX0RFRlNbZWRpdG9yLm5hbWVdW3JpY2hDb21ib05hbWVdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdG9yQ29tYm8ub25DbGljaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JDb21iby5vbkNsaWNrLmNhbGwodGhpcywgbmV3VmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUklDSF9DT01CT19ERUZTW2VkaXRvci5uYW1lXVtyaWNoQ29tYm9OYW1lXS5jdXJyZW50VmFsdWUgPSBuZXdWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICBfc2V0VmFsdWU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVZhbHVlKHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBBbGxveUVkaXRvci5CdXR0b25zW3JpY2hDb21ib05hbWVdID0gUmljaENvbWJvQnJpZGdlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFJpY2hDb21ib0JyaWRnZTtcbiAgICB9O1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoIUNLRURJVE9SLnBsdWdpbnMuZ2V0KCdyaWNoY29tYm8nKSkge1xuICAgICAgICBDS0VESVRPUi5VSV9SSUNIQ09NQk8gPSAncmljaGNvbWJvJztcblxuICAgICAgICBDS0VESVRPUi5wbHVnaW5zLmFkZCgncmljaGNvbWJvJywge30pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB0aGF0IGJyaWRnZXMgdGhlIHN1cHBvcnQgb2ZmZXJlZCBieSBDS0VkaXRvciBSaWNoQ29tYm8gcGx1Z2luLiBJdCB0YWtlcyBvdmVyIHRoZVxuICAgICAqIHJlc3BvbnNpYmlsaXR5IG9mIHJlZ2lzdGVyaW5nIGFuZCBjcmVhdGluZyByaWNoIGNvbWJvIGVsZW1lbnRzIHZpYTpcbiAgICAgKiAtIGVkaXRvci51aS5hZGRSaWNoQ29tYm8obmFtZSwgZGVmaW5pdGlvbilcbiAgICAgKiAtIGVkaXRvci51aS5hZGQobmFtZSwgQ0tFRElUT1IuVUlfUklDSENPTUJPLCBkZWZpbml0aW9uKVxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfcmljaGNvbWJvYnJpZGdlXG4gICAgICogQHJlcXVpcmVzIENLRURJVE9SLnBsdWdpbnMuYWVfdWlicmlkZ2VcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfcmljaGNvbWJvYnJpZGdlJywge1xuICAgICAgICByZXF1aXJlczogWydhZV91aWJyaWRnZSddLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGFkZCBoYW5kbGVyIGZvciBVSV9SSUNIQ09NQk8gdG8gb3VyIG93bi4gV2UgZG8gdGhpcyBpbiB0aGUgaW5pdCBwaGFzZSB0byBvdmVycmlkZVxuICAgICAgICAgKiB0aGUgb25lIGluIHRoZSBvcmlnaW5hbCBwbHVnaW4gaW4gY2FzZSBpdCdzIHByZXNlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIENLRWRpdG9yIGluc3RhbmNlIGJlaW5nIGluaXRpYWxpemVkXG4gICAgICAgICAqL1xuICAgICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci51aS5hZGRSaWNoQ29tYm8gPSBmdW5jdGlvbihyaWNoQ29tYm9OYW1lLCByaWNoQ29tYm9EZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQocmljaENvbWJvTmFtZSwgQ0tFRElUT1IuVUlfUklDSENPTUJPLCByaWNoQ29tYm9EZWZpbml0aW9uKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGVkaXRvci51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1JJQ0hDT01CTywge1xuICAgICAgICAgICAgICAgIGFkZDogZ2VuZXJhdGVSaWNoQ29tYm9CcmlkZ2UsXG4gICAgICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbihyaWNoQ29tYm9EZWZpbml0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByaWNoQ29tYm9OYW1lID0gJ3JpY2hDb21ib0JyaWRnZScgKyAoKE1hdGgucmFuZG9tKCkgKiAxZTkpID4+PiAwKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFJpY2hDb21ib0JyaWRnZSA9IGdlbmVyYXRlUmljaENvbWJvQnJpZGdlKHJpY2hDb21ib05hbWUsIHJpY2hDb21ib0RlZmluaXRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmljaENvbWJvQnJpZGdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn0oKSk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV91aWJyaWRnZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gdGhhdCBleHRlbmRzIENLRURJVE9SLnVpLmFkZCBmdW5jdGlvbiBzbyBhbiBhZGQgaGFuZGxlciBjYW4gYmUgc3BlY2lmaWVkXG4gICAgICogb24gdG9wIG9mIHRoZSBvcmlnaW5hbCBvbmVzLiBJdCBicmlkZ2VzIHRoZSBjYWxscyB0byBhZGQgY29tcG9uZW50cyB2aWE6XG4gICAgICogLSBlZGl0b3IudWkuYWRkKG5hbWUsIHR5cGUsIGRlZmluaXRpb24pXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV91aWJyaWRnZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV91aWJyaWRnZScsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBiZWZvcmVJbml0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFVJQWRkRm4gPSBlZGl0b3IudWkuYWRkO1xuXG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkID0gZnVuY3Rpb24obmFtZSwgdHlwZSwgZGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsVUlBZGRGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHR5cGVIYW5kbGVyID0gdGhpcy5fLmhhbmRsZXJzW3R5cGVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVIYW5kbGVyICYmIHR5cGVIYW5kbGVyLmFkZCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlSGFuZGxlci5hZGQobmFtZSwgZGVmaW5pdGlvbiwgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgQWxsb3lFZGl0b3IucmVnaXN0ZXJCcmlkZ2VCdXR0b24obmFtZSwgZWRpdG9yLl9fcHJvY2Vzc2luZ1BsdWdpbl9fLnBsdWdpbi5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBEZWJvdW5jZSB1dGlsIGZ1bmN0aW9uLiBJZiBhIGZ1bmN0aW9uIGV4ZWN1dGlvbiBpcyBleHBlbnNpdmUsIGl0IG1pZ2h0IGJlIGRlYm91bmNlZC4gVGhpcyBtZWFuc1xuICAgICAqIHRoYXQgaXQgd2lsbCBiZSBleGVjdXRlZCBhZnRlciBzb21lIGFtb3VudCBvZiB0aW1lIGFmdGVyIGl0cyBsYXN0IGNhbGwuIEZvciBleGFtcGxlLCBpZiB3ZSBhdHRhY2ggYVxuICAgICAqIGEgZnVuY3Rpb24gb24gc2Nyb2xsIGV2ZW50LCBpdCBtaWdodCBiZSBjYWxsZWQgaHVuZHJlZHMgdGltZXMgcGVyIHNlY29uZC4gSW4gdGhpcyBjYXNlIGl0IG1heSBiZVxuICAgICAqIGRlYm91bmNlZCB3aXRoLCBsZXQncyBzYXkgMTAwbXMuIFRoZSByZWFsIGV4ZWN1dGlvbiBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgaGFwcGVuIDEwMG1zIGFmdGVyIGxhc3RcbiAgICAgKiBzY3JvbGwgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IudG9vbHNcbiAgICAgKiBAbWV0aG9kIGRlYm91bmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBBbiBhcnJheSBvZiBhcmd1bWVudHMgd2hpY2ggdGhlIGNhbGxiYWNrIHdpbGwgcmVjZWl2ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgd2hpY2ggaGFzIHRvIGJlIGNhbGxlZCBhZnRlciBnaXZlbiB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0IFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCBUaGUgY29udGV4dCBpbiB3aGljaCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQuIFRoaXMgYXJndW1lbnQgaXMgb3B0aW9uYWwuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIENLRURJVE9SLnRvb2xzLmRlYm91bmNlID0gQ0tFRElUT1IudG9vbHMuZGVib3VuY2UgfHwgZnVuY3Rpb24oY2FsbGJhY2ssIHRpbWVvdXQsIGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGRlYm91bmNlSGFuZGxlO1xuXG4gICAgICAgIHZhciBjYWxsRm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjYWxsQ29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlSGFuZGxlKTtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdGFydEluZGV4ID0gMDsgc3RhcnRJbmRleCA8IGxlbjsgKytzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJndW1lbnRzW3N0YXJ0SW5kZXhdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNhbGxBcmdzID0gcmVzdWx0LmNvbmNhdChhcmdzIHx8IFtdKTtcblxuICAgICAgICAgICAgZGVib3VuY2VIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KGNhbGxDb250ZXh0LCBjYWxsQXJncyk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjYWxsRm4uZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VIYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjYWxsRm47XG4gICAgfTtcbn0oKSk7IiwiaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vZGVib3VuY2UnO1xuaW1wb3J0IGxpbmsgZnJvbSAnLi9saW5rJztcbmltcG9ydCBwbHVnaW5zIGZyb20gJy4vcGx1Z2lucyc7XG5pbXBvcnQgc2VsZWN0aW9uUmVnaW9uIGZyb20gJy4vc2VsZWN0aW9uLXJlZ2lvbic7XG5pbXBvcnQgdGFibGUgZnJvbSAnLi90YWJsZSc7XG5pbXBvcnQgdG9vbHMgZnJvbSAnLi90b29scyc7XG5pbXBvcnQgdWljb3JlIGZyb20gJy4vdWljb3JlJztcblxuZXhwb3J0IHtcbiAgICBkZWJvdW5jZSxcbiAgICBsaW5rLFxuICAgIHBsdWdpbnMsXG4gICAgc2VsZWN0aW9uUmVnaW9uLFxuICAgIHRhYmxlLFxuICAgIHRvb2xzLFxuICAgIHVpY29yZVxufTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFJFR0VYX0JPT0tNQVJLX1NDSEVNRSA9IC9eIy4qL2k7XG4gICAgdmFyIFJFR0VYX0VNQUlMX1NDSEVNRSA9IC9eW2EtejAtOVxcdTA0MzAtXFx1MDQ0RlxcLl8tXStAL2k7XG4gICAgdmFyIFJFR0VYX1VSSV9TQ0hFTUUgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSopXFw6fF5cXC8vaTtcblxuICAgIC8qKlxuICAgICAqIExpbmsgY2xhc3MgdXRpbGl0eS4gUHJvdmlkZXMgbWV0aG9kcyBmb3IgY3JlYXRlLCBkZWxldGUgYW5kIHVwZGF0ZSBsaW5rcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5MaW5rXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGluayhlZGl0b3IsIGNvbmZpZykge1xuICAgICAgICB0aGlzLl9lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMuYXBwZW5kUHJvdG9jb2wgPSBjb25maWcgJiYgY29uZmlnLmFwcGVuZFByb3RvY29sID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICB9XG5cbiAgICBMaW5rLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IExpbmssXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkdmFuY2VzIHRoZSBlZGl0b3Igc2VsZWN0aW9uIHRvIHRoZSBuZXh0IGF2YWlsYWJsZSBwb3NpdGlvbiBhZnRlciBhXG4gICAgICAgICAqIGdpdmVuIGxpbmsgb3IgdGhlIG9uZSBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIGFkdmFuY2VTZWxlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gbGluayBUaGUgbGluayBlbGVtZW50IHdoaWNoIGxpbmsgc3R5bGUgc2hvdWxkIGJlIHJlbW92ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBhZHZhbmNlU2VsZWN0aW9uOiBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBsaW5rID0gbGluayB8fCB0aGlzLmdldEZyb21TZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO1xuXG4gICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGxpbmspO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5leHROb2RlID0gcmFuZ2UuZ2V0TmV4dEVkaXRhYmxlTm9kZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHROb2RlICYmICF0aGlzLl9lZGl0b3IuZWxlbWVudC5lcXVhbHMobmV4dE5vZGUuZ2V0Q29tbW9uQW5jZXN0b3IobGluaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGl0ZXNwYWNlID0gL1xccy8uZXhlYyhuZXh0Tm9kZS5nZXRUZXh0KCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSB3aGl0ZXNwYWNlID8gd2hpdGVzcGFjZS5pbmRleCArIDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5leHROb2RlLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobmV4dE5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtyYW5nZV0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBsaW5rIHdpdGggZ2l2ZW4gVVJJIGFzIGhyZWYuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgQSBjb25maWcgb2JqZWN0IHdpdGggbGluayBhdHRyaWJ1dGVzLiBUaGVzZSBtaWdodCBiZSBhcmJpdHJhcnkgRE9NIGF0dHJpYnV0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RpZnlTZWxlY3Rpb24gQSBjb25maWcgb2JqZWN0IHdpdGggYW4gYWR2YW5jZSBhdHRyaWJ1dGUgdG8gaW5kaWNhdGUgaWYgdGhlIHNlbGVjdGlvbiBzaG91bGQgYmUgbW92ZWQgYWZ0ZXIgdGhlIGxpbmsgY3JlYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBVUkkgVGhlIFVSSSBvZiB0aGUgbGluay5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24oVVJJLCBhdHRycywgbW9kaWZ5U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKClbMF07XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG5ldyBDS0VESVRPUi5kb20udGV4dChVUkksIHRoaXMuX2VkaXRvci5kb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFVSSSA9IHRoaXMuX2dldENvbXBsZXRlVVJJKFVSSSk7XG5cbiAgICAgICAgICAgIHZhciBsaW5rQXR0cnMgPSBDS0VESVRPUi50b29scy5tZXJnZSh7XG4gICAgICAgICAgICAgICAgJ2RhdGEtY2tlLXNhdmVkLWhyZWYnOiBVUkksXG4gICAgICAgICAgICAgICAgaHJlZjogVVJJXG4gICAgICAgICAgICB9LCBhdHRycyk7XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IG5ldyBDS0VESVRPUi5zdHlsZSh7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogbGlua0F0dHJzLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdhJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHN0eWxlLnR5cGUgPSBDS0VESVRPUi5TVFlMRV9JTkxJTkU7XG4gICAgICAgICAgICBzdHlsZS5hcHBseVRvUmFuZ2UocmFuZ2UsIHRoaXMuX2VkaXRvcik7XG5cbiAgICAgICAgICAgIGlmIChtb2RpZnlTZWxlY3Rpb24gJiYgbW9kaWZ5U2VsZWN0aW9uLmFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyBhIGxpbmsgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIGdldEZyb21TZWxlY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IFRoZSByZXRyaWV2ZWQgbGluayBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZyb21TZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuX2VkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCAmJiBzZWxlY3RlZEVsZW1lbnQuaXMoJ2EnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnQgJiYgQ0tFRElUT1IuZW52LmllKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gc2VsZWN0ZWRFbGVtZW50LmdldENoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSBjaGlsZHJlbi5jb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAgOyBpIDwgY291bnQgOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBjaGlsZHJlbi5nZXRJdGVtKGkpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmlzKCdhJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKClbMF07XG5cbiAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZWRpdG9yLmVsZW1lbnRQYXRoKHJhbmdlLmdldENvbW1vbkFuY2VzdG9yKCkpLmNvbnRhaW5zKCdhJywgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGEgbGluayBmcm9tIHRoZSBlZGl0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIHJlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBsaW5rIFRoZSBsaW5rIGVsZW1lbnQgd2hpY2ggbGluayBzdHlsZSBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG1vZGlmeVNlbGVjdGlvbiBBIGNvbmZpZyBvYmplY3Qgd2l0aCBhbiBhZHZhbmNlIGF0dHJpYnV0ZSB0byBpbmRpY2F0ZSBpZiB0aGUgc2VsZWN0aW9uIHNob3VsZCBiZSBtb3ZlZCBhZnRlciB0aGUgbGluayBjcmVhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24obGluaywgbW9kaWZ5U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuXG4gICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgIGlmIChtb2RpZnlTZWxlY3Rpb24gJiYgbW9kaWZ5U2VsZWN0aW9uLmFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZHZhbmNlU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGluay5yZW1vdmUoZWRpdG9yKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHtcbiAgICAgICAgICAgICAgICAgICAgYWx3YXlzUmVtb3ZlRWxlbWVudDogMSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJ2EnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBDS0VESVRPUi5TVFlMRV9JTkxJTkVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vICdyZW1vdmVTdHlsZSgpJyByZW1vdmVzIHRoZSBzdHlsZSBmcm9tIHRoZSBlZGl0b3IncyBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgICAgICAgICAgICAvLyAgV2UgbmVlZCB0byBmb3JjZSB0aGUgc2VsZWN0aW9uIHRvIGJlIHRoZSB3aG9sZSBsaW5rIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyAgdG8gcmVtb3ZlIGl0IHByb3Blcmx5LlxuXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24uc2VsZWN0RWxlbWVudChzZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkpO1xuXG4gICAgICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVN0eWxlKHN0eWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlcyB0aGUgaHJlZiBvZiBhbiBhbHJlYWR5IGV4aXN0aW5nIGxpbmsuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBsaW5rIFRoZSBsaW5rIGVsZW1lbnQgd2hpY2ggaHJlZiBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSBhdHRycyBUaGUgYXR0cmlidXRlcyB0byB1cGRhdGUgb3IgcmVtb3ZlLiBBdHRyaWJ1dGVzIHdpdGggbnVsbCB2YWx1ZXMgd2lsbCBiZSByZW1vdmVkLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kaWZ5U2VsZWN0aW9uIEEgY29uZmlnIG9iamVjdCB3aXRoIGFuIGFkdmFuY2UgYXR0cmlidXRlIHRvIGluZGljYXRlIGlmIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vdmVkIGFmdGVyIHRoZSBsaW5rIGNyZWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihhdHRycywgbGluaywgbW9kaWZ5U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSAgdGhpcztcblxuICAgICAgICAgICAgbGluayA9IGxpbmsgfHwgdGhpcy5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXR0cnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVyaSA9IGluc3RhbmNlLl9nZXRDb21wbGV0ZVVSSShhdHRycyk7XG5cbiAgICAgICAgICAgICAgICBsaW5rLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnZGF0YS1ja2Utc2F2ZWQtaHJlZic6IHVyaSxcbiAgICAgICAgICAgICAgICAgICAgaHJlZjogdXJpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBhdHRycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlQXR0cnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIHZhciBzZXRBdHRycyA9IHt9O1xuXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyc1trZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSAnaHJlZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBdHRycy5wdXNoKCdkYXRhLWNrZS1zYXZlZC1ocmVmJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdocmVmJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmkgPSBpbnN0YW5jZS5fZ2V0Q29tcGxldGVVUkkoYXR0cnNba2V5XSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBdHRyc1snZGF0YS1ja2Utc2F2ZWQtaHJlZiddID0gdXJpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF0dHJzW2tleV0gPSB1cmk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF0dHJzW2tleV0gPSBhdHRyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBsaW5rLnJlbW92ZUF0dHJpYnV0ZXMocmVtb3ZlQXR0cnMpO1xuICAgICAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlcyhzZXRBdHRycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb2RpZnlTZWxlY3Rpb24gJiYgbW9kaWZ5U2VsZWN0aW9uLmFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VTZWxlY3Rpb24obGluayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrcyBpZiB0aGUgVVJJIGJlZ2lucyB3aXRoIGEgJyMnIHN5bWJvbCB0byBkZXRlcm1pbmUgaWYgaXQncyBhbiBvbiBwYWdlIGJvb2ttYXJrLlxuICAgICAgICAgKiBJZiBpdCBkb2Vzbid0LCBpdCB0aGVuIGNoZWNrcyBpZiB0aGUgVVJJIGhhcyBhbiAnQCcgc3ltYm9sLiBJZiBpdCBkb2VzIGFuZCB0aGUgVVJJXG4gICAgICAgICAqIGxvb2tzIGxpa2UgYW4gZW1haWwgYW5kIGRvZXNuJ3QgaGF2ZSAnbWFpbHRvOicsICdtYWlsdG86JyBpcyBhZGRlZCB0byB0aGUgVVJJLlxuICAgICAgICAgKiBJZiBpdCBkb2Vzbid0IGFuZCB0aGUgVVJJIGRvZXNuJ3QgaGF2ZSBhIHNjaGVtZSwgdGhlIGRlZmF1bHQgJ2h0dHAnIHNjaGVtZSB3aXRoXG4gICAgICAgICAqIGhpZXJhcmNoaWNhbCBwYXRoICcvLycgaXMgYWRkZWQgdG8gdGhlIFVSSS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5MaW5rXG4gICAgICAgICAqIEBtZXRob2QgX2dldENvbXBsZXRlVVJJXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBVUkkgVGhlIFVSSSBvZiB0aGUgbGluay5cbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBVUkkgdXBkYXRlZCB3aXRoIHRoZSBwcm90b2NvbC5cbiAgICAgICAgICovXG4gICAgICAgIF9nZXRDb21wbGV0ZVVSSTogZnVuY3Rpb24oVVJJKSB7XG4gICAgICAgICAgICBpZiAoUkVHRVhfQk9PS01BUktfU0NIRU1FLnRlc3QoVVJJKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBVUkk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFJFR0VYX0VNQUlMX1NDSEVNRS50ZXN0KFVSSSkpIHtcbiAgICAgICAgICAgICAgICBVUkkgPSAnbWFpbHRvOicgKyBVUkk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFSRUdFWF9VUklfU0NIRU1FLnRlc3QoVVJJKSkge1xuICAgICAgICAgICAgICAgIFVSSSA9IHRoaXMuYXBwZW5kUHJvdG9jb2wgPyAnaHR0cDovLycgKyBVUkkgOiBVUkk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBVUkk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ0tFRElUT1IuTGluayA9IENLRURJVE9SLkxpbmsgfHwgTGluaztcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIFdyYXBzIGVhY2ggb2YgdGhlIHBsdWdpbiBsaWZlY3ljbGUgbWV0aG9kcyBpbiBhIGNsb3N1cmUgdGhhdCB3aWxsXG4gICAgLy8gc2V0IHVwIHRoZSBlZGl0b3IuX19wcm9jZXNzaW5nUGx1Z2luX18gdmFyaWFibGUgc28gaXQgY2FuIGJlIGdsb2JhbGx5XG4gICAgLy8gYWNjZXNzZWQgZXhwb3NpbmcgdGhlIHBsdWdpbiBiZWluZyBwcm9jZXNzZWQgYW5kIHRoZSBsaWZlY3ljbGUgcGhhc2VcbiAgICAvLyBpbiB3aGljaCBpdCBpcyBoYXBwZW5pbmdcbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gVGhlIHBsdWdpbiB0byB3cmFwIGxpZmVjeWNsZSBtZXRob2RzXG4gICAgdmFyIHdyYXBQbHVnaW5MaWZlY3ljbGUgPSBmdW5jdGlvbihwbHVnaW4pIHtcbiAgICAgICAgdmFyIG1ldGhvZHMgPSBbJ2JlZm9yZUluaXQnLCAnaW5pdCcsICdhZnRlckluaXQnXTtcblxuICAgICAgICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICAgICAgaWYgKHBsdWdpblttZXRob2ROYW1lXSkge1xuICAgICAgICAgICAgICAgIHBsdWdpblttZXRob2ROYW1lXSA9IENLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHBsdWdpblttZXRob2ROYW1lXSwgZnVuY3Rpb24ob3JpZ2luYWxQbHVnaW5NZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwaGFzZTogbWV0aG9kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbjogcGx1Z2luXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLl9fcHJvY2Vzc2luZ1BsdWdpbl9fID0gcGF5bG9hZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxQbHVnaW5NZXRob2QuY2FsbCh0aGlzLCBlZGl0b3IpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuX19wcm9jZXNzaW5nUGx1Z2luX18gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gRmlsdGVycyB0aGUgcmVxdWlyZXMgb2JqZWN0IHRvIHJlbW92ZSB1bndhbnRlZCBkZXBlbmRlbmNpZXMuIEF0IHRoaXMgcG9pbnRcbiAgICAvLyBvbmx5ICd0b29sYmFyJyBoYXMgYmVlbiBpZGVudGlmaWVkLCBidXQgbW9yZSBjYW4gYXBwZWFyLiBBbiB1bndhbnRlZCBwbHVnaW5cbiAgICAvLyBkZXBlbmRlbmN5IGlzIG9uZSB0aGF0IHByZXZlbnRzIGEgbmVjZXNzYXJ5IHBsdWdpbiBmcm9tIGJlaW5nIHJlbW92ZWRcbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7c3RyaW5nfEFycmF5PHN0cmluZz59IHJlcXVpcmVzIFRoZSByZXF1aXJlcyBvYmplY3RcbiAgICAvLyBAcmV0dXJuIHtzdHJpbmd9IFRoZSBmaWx0ZXJlZCByZXF1aXJlcyBvYmplY3RcbiAgICB2YXIgZmlsdGVyVW53YW50ZWREZXBlbmRlbmNpZXMgPSBmdW5jdGlvbihyZXF1aXJlcykge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVpcmVzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmVxdWlyZXMgPSByZXF1aXJlcy5zcGxpdCgnLCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcXVpcmVzLmZpbHRlcihmdW5jdGlvbihyZXF1aXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWlyZSAhPT0gJ3Rvb2xiYXInO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ0tFRElUT1IucGx1Z2lucyBjbGFzcyB1dGlsaXR5IHdoaWNoIGFkZHMgYWRkaXRpb25hbCBtZXRob2RzIHRvIHRob3NlIG9mIENLRWRpdG9yLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlcyBDS0VESVRPUi5wbHVnaW5zLmxvYWQgbWV0aG9kIHNvIHdlIGNhbiBleHRlbmQgdGhlIGxpZmVjeWNsZSBtZXRob2RzIG9mXG4gICAgICogdGhlIGxvYWRlZCBwbHVnaW5zIHRvIGFkZCBzb21lIG1ldGFpbmZvcm1hdGlvbiBhYm91dCB0aGUgcGx1Z2luIGJlaW5nIHByb2Nlc3NlZFxuICAgICAqXG5cdCAqIEBwYXJhbSB7U3RyaW5nL0FycmF5fSBuYW1lcyBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC4gSXQgbWF5IGJlIGFcblx0ICogc3RyaW5nIHdpdGggYSBzaW5nbGUgcmVzb3VyY2UgbmFtZSwgb3IgYW4gYXJyYXkgd2l0aCBzZXZlcmFsIG5hbWVzLlxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGFsbCByZXNvdXJjZXNcblx0ICogYXJlIGxvYWRlZC4gVGhlIGNhbGxiYWNrIHdpbGwgcmVjZWl2ZSBhbiBhcnJheSBjb250YWluaW5nIGFsbCBsb2FkZWQgbmFtZXMuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBbc2NvcGVdIFRoZSBzY29wZSBvYmplY3QgdG8gYmUgdXNlZCBmb3IgdGhlIGNhbGxiYWNrIGNhbGwuXG4gICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnNcbiAgICAgKiBAbWV0aG9kIGxvYWRcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5sb2FkID0gQ0tFRElUT1IudG9vbHMub3ZlcnJpZGUoQ0tFRElUT1IucGx1Z2lucy5sb2FkLCBmdW5jdGlvbihwbHVnaW5zTG9hZCl7XG4gICAgICAgIC8vIFdyYXAgb3JpZ2luYWwgbG9hZCBmdW5jdGlvbiBzbyB3ZSBjYW4gdHJhbnNmb3JtIHRoZSBwbHVnaW4gaW5wdXQgcGFyYW1ldGVyXG4gICAgICAgIC8vIGJlZm9yZSBwYXNzaW5nIGl0IGRvd24gdG8gdGhlIG9yaWdpbmFsIGNhbGxiYWNrXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihuYW1lcywgY2FsbGJhY2ssIHNjb3BlKSB7XG4gICAgICAgICAgICBwbHVnaW5zTG9hZC5jYWxsKHRoaXMsIG5hbWVzLCBmdW5jdGlvbihwbHVnaW5zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBsdWdpbnMpLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBsdWdpbiA9IHBsdWdpbnNbcGx1Z2luTmFtZV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ucmVxdWlyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4ucmVxdWlyZXMgPSBmaWx0ZXJVbndhbnRlZERlcGVuZGVuY2llcyhwbHVnaW4ucmVxdWlyZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwUGx1Z2luTGlmZWN5Y2xlKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwoc2NvcGUsIHBsdWdpbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH0pO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9zZWxlY3Rpb25yZWdpb24nKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT00gPSAwO1xuICAgIENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QID0gMTtcbiAgICBDS0VESVRPUi5TRUxFQ1RJT05fTEVGVF9UT19SSUdIVCA9IDI7XG4gICAgQ0tFRElUT1IuU0VMRUNUSU9OX1JJR0hUX1RPX0xFRlQgPSAzO1xuXG4gICAgLyoqXG4gICAgICogU2VsZWN0aW9uUmVnaW9uIHV0aWxpdHkgY2xhc3Mgd2hpY2ggcHJvdmlkZXMgbWV0YWRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbi4gVGhlIG1ldGFkYXRhIG1heSBiZSB0aGUgc3RhcnQgYW5kIGVuZFxuICAgICAqIHJlY3RhbmdsZXMsIGNhcmV0IHJlZ2lvbiwgZXRjLiAqKlRoaXMgY2xhc3MgaXMgbm90IGludGVuZGVkIHRvIGJlIHVzZWQgc3RhbmRhbG9uZS4gSXRzIGZ1bmN0aW9ucyB3aWxsXG4gICAgICogYmUgbWVyZ2VkIGludG8gZWFjaCBlZGl0b3IgaW5zdGFuY2UsIHNvIHRoZSBkZXZlbG9wZXIgbWF5IHVzZSB0aGVtIGRpcmVjdGx5IHZpYSB0aGUgZWRpdG9yLCB3aXRob3V0IG1ha2luZ1xuICAgICAqIGFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MqKi5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBTZWxlY3Rpb25SZWdpb25cbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZWxlY3Rpb25SZWdpb24oKSB7fVxuXG4gICAgU2VsZWN0aW9uUmVnaW9uLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IFNlbGVjdGlvblJlZ2lvbixcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBzZWxlY3Rpb24gZnJvbSB0d28gcG9pbnRzIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG4gICAgICAgICAqIEBtZXRob2QgY3JlYXRlU2VsZWN0aW9uRnJvbVBvaW50XG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IFggcG9pbnQgaW4gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHkgWSBwb2ludCBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU2VsZWN0aW9uRnJvbVBvaW50OiBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNlbGVjdGlvbkZyb21SYW5nZSh4LCB5LCB4LCB5KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBzZWxlY3Rpb24gZnJvbSByYW5nZS4gQSByYW5nZSBjb25zaXN0cyBmcm9tIHR3byBwb2ludHMgaW4gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cbiAgICAgICAgICogQG1ldGhvZCBjcmVhdGVTZWxlY3Rpb25Gcm9tUmFuZ2VcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0WCBYIGNvb3JkaW5hdGUgb2YgdGhlIGZpcnN0IHBvaW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRZIFkgY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmRYIFggY29vcmRpbmF0ZSBvZiB0aGUgc2Vjb25kIHBvaW50LlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kWSBZIGNvb3JkaW5hdGUgb2YgdGhlIHNlY29uZCBwb2ludC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVNlbGVjdGlvbkZyb21SYW5nZTogZnVuY3Rpb24oc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpIHtcbiAgICAgICAgICAgIHZhciBlbmQ7XG4gICAgICAgICAgICB2YXIgZW5kQ29udGFpbmVyO1xuICAgICAgICAgICAgdmFyIGVuZE9mZnNldDtcbiAgICAgICAgICAgIHZhciByYW5nZTtcbiAgICAgICAgICAgIHZhciBzdGFydDtcbiAgICAgICAgICAgIHZhciBzdGFydENvbnRhaW5lcjtcbiAgICAgICAgICAgIHZhciBzdGFydE9mZnNldDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgICAgICBlbmQgPSBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KGVuZFgsIGVuZFkpO1xuXG4gICAgICAgICAgICAgICAgc3RhcnRDb250YWluZXIgPSBzdGFydC5vZmZzZXROb2RlO1xuICAgICAgICAgICAgICAgIGVuZENvbnRhaW5lciA9IGVuZC5vZmZzZXROb2RlO1xuXG4gICAgICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSBzdGFydC5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgZW5kT2Zmc2V0ID0gZW5kLm9mZnNldDtcblxuICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludChzdGFydFgsIHN0YXJ0WSk7XG4gICAgICAgICAgICAgICAgZW5kID0gZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludChlbmRYLCBlbmRZKTtcblxuICAgICAgICAgICAgICAgIHN0YXJ0Q29udGFpbmVyID0gc3RhcnQuc3RhcnRDb250YWluZXI7XG4gICAgICAgICAgICAgICAgZW5kQ29udGFpbmVyID0gZW5kLnN0YXJ0Q29udGFpbmVyO1xuXG4gICAgICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSBzdGFydC5zdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICBlbmRPZmZzZXQgPSBlbmQuc3RhcnRPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJhbmdlICYmIGRvY3VtZW50LmdldFNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShzdGFydENvbnRhaW5lciksIHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGVuZENvbnRhaW5lciksIGVuZE9mZnNldCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbcmFuZ2VdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24udW5sb2NrKCk7XG5cbiAgICAgICAgICAgICAgICByYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvUG9pbnQoc3RhcnRYLCBzdGFydFkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVuZFJhbmdlID0gcmFuZ2UuZHVwbGljYXRlKCk7XG4gICAgICAgICAgICAgICAgZW5kUmFuZ2UubW92ZVRvUG9pbnQoZW5kWCwgZW5kWSk7XG5cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmRQb2ludCgnRW5kVG9FbmQnLCBlbmRSYW5nZSk7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldFNlbGVjdGlvbigpLmxvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgcmVnaW9uIG9mIHRoZSBjdXJyZW50IHBvc2l0aW9uIG9mIHRoZSBjYXJldC4gVGhlIHBvaW50cyBhcmUgaW4gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cbiAgICAgICAgICogQG1ldGhvZCBnZXRDYXJldFJlZ2lvblxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAgICAgKiAtIGJvdHRvbVxuICAgICAgICAgKiAtIGxlZnRcbiAgICAgICAgICogLSByaWdodFxuICAgICAgICAgKiAtIHRvcFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2FyZXRSZWdpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIHZhciByZWdpb24gPSB7XG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgYm9va21hcmtzID0gc2VsZWN0aW9uLmNyZWF0ZUJvb2ttYXJrcygpO1xuXG4gICAgICAgICAgICBpZiAoIWJvb2ttYXJrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnaW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYm9va21hcmtOb2RlRWwgPSBib29rbWFya3NbMF0uc3RhcnROb2RlLiQ7XG5cbiAgICAgICAgICAgIGJvb2ttYXJrTm9kZUVsLnN0eWxlLmRpc3BsYXkgPSAnaW5saW5lLWJsb2NrJztcblxuICAgICAgICAgICAgcmVnaW9uID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGJvb2ttYXJrTm9kZUVsKS5nZXRDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIGJvb2ttYXJrTm9kZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYm9va21hcmtOb2RlRWwpO1xuXG4gICAgICAgICAgICB2YXIgc2Nyb2xsUG9zID0gbmV3IENLRURJVE9SLmRvbS53aW5kb3cod2luZG93KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICByZWdpb24uYm90dG9tID0gc2Nyb2xsUG9zLnkgKyByZWdpb24uYm90dG9tO1xuICAgICAgICAgICAgcmVnaW9uLmxlZnQgPSBzY3JvbGxQb3MueCArIHJlZ2lvbi5sZWZ0O1xuICAgICAgICAgICAgcmVnaW9uLnJpZ2h0ID0gc2Nyb2xsUG9zLnggKyByZWdpb24ucmlnaHQ7XG4gICAgICAgICAgICByZWdpb24udG9wID0gc2Nyb2xsUG9zLnkgKyByZWdpb24udG9wO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVnaW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGRhdGEgZm9yIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cbiAgICAgICAgICogQG1ldGhvZCBnZXRTZWxlY3Rpb25EYXRhXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdHxudWxsfSBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgZGF0YTpcbiAgICAgICAgICogLSBlbGVtZW50IC0gVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBlbGVtZW50LCBpZiBhbnlcbiAgICAgICAgICogLSB0ZXh0IC0gVGhlIHNlbGVjdGVkIHRleHRcbiAgICAgICAgICogLSByZWdpb24gLSBUaGUgZGF0YSwgcmV0dXJuZWQgZnJvbSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRTZWxlY3Rpb25SZWdpb246bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319XG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZWxlY3Rpb25EYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGlvbi5nZXROYXRpdmUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRUZXh0KClcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJlc3VsdC5yZWdpb24gPSB0aGlzLmdldFNlbGVjdGlvblJlZ2lvbihzZWxlY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSByZWdpb24gb2YgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuICAgICAgICAgKiBAbWV0aG9kIGdldFNlbGVjdGlvblJlZ2lvblxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgb2JqZWN0IHdoaWNoIGlzIGJlaW5nIHJldHVybmVkIGZyb21cbiAgICAgICAgICoge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0Q2xpZW50UmVjdHNSZWdpb246bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319IHdpdGggdGhyZWUgbW9yZSBwcm9wZXJ0aWVzOlxuICAgICAgICAgKiAtIGRpcmVjdGlvbiAtIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNlbGVjdGlvbi4gQ2FuIGJlIG9uZSBvZiB0aGVzZTpcbiAgICAgICAgICogICAxLiBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuICAgICAgICAgKiAgIDIuIENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QXG4gICAgICAgICAqIC0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgc2VsZWN0aW9uIHJlZ2lvblxuICAgICAgICAgKiAtIHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSBzZWxlY3Rpb24gcmVnaW9uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZWxlY3Rpb25SZWdpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJlZ2lvbiA9IHRoaXMuZ2V0Q2xpZW50UmVjdHNSZWdpb24oKTtcblxuICAgICAgICAgICAgcmVnaW9uLmRpcmVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uRGlyZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIHJlZ2lvbi5oZWlnaHQgPSByZWdpb24uYm90dG9tIC0gcmVnaW9uLnRvcDtcbiAgICAgICAgICAgIHJlZ2lvbi53aWR0aCA9IHJlZ2lvbi5yaWdodCAtIHJlZ2lvbi5sZWZ0O1xuXG4gICAgICAgICAgICByZXR1cm4gcmVnaW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlzIGVtcHR5LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG4gICAgICAgICAqIEBtZXRob2QgaXNTZWxlY3Rpb25FbXB0eVxuICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlzIGVtcHR5LCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuICAgICAgICBpc1NlbGVjdGlvbkVtcHR5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciByYW5nZXM7XG5cbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICByZXR1cm4gKHNlbGVjdGlvbi5nZXRUeXBlKCkgPT09IENLRURJVE9SLlNFTEVDVElPTl9OT05FKSB8fFxuICAgICAgICAgICAgICAgICgocmFuZ2VzID0gc2VsZWN0aW9uLmdldFJhbmdlcygpKSAmJiByYW5nZXMubGVuZ3RoID09PSAxICYmIHJhbmdlc1swXS5jb2xsYXBzZWQpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIG9iamVjdCB3aXRoIGRhdGEgYWJvdXQgdGhlIFtjbGllbnQgcmVjdGFuZ2xlc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQuZ2V0Q2xpZW50UmVjdHMpIG9mIHRoZSBzZWxlY3Rpb24sXG4gICAgICAgICAqIG5vcm1hbGl6ZWQgYWNyb3NzIGJyb3dzZXMuIEFsbCBvZmZzZXRzIGJlbG93IGFyZSBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuICAgICAgICAgKiBAbWV0aG9kIGdldENsaWVudFJlY3RzUmVnaW9uXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGRhdGE6XG4gICAgICAgICAqIC0gYm90dG9tIC0gYm90dG9tIG9mZnNldCBvZiBhbGwgY2xpZW50IHJlY3RhbmdsZXNcbiAgICAgICAgICogLSBsZWZ0IC0gbGVmdCBvZmZzZXQgb2YgYWxsIGNsaWVudCByZWN0YW5nbGVzXG4gICAgICAgICAqIC0gcmlnaHQgLSByaWdodCBvZmZzZXQgb2YgYWxsIGNsaWVudCByZWN0YW5nbGVzXG4gICAgICAgICAqIC0gdG9wIC0gdG9wIG9mZnNldCBvZiBhbGwgY2xpZW50IHJlY3RhbmdsZXNcbiAgICAgICAgICogLSBzdGFydFJlY3QgLSBBbiBPYmplY3QsIHdoaWNoIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb246XG4gICAgICAgICAqICAgICArIGJvdHRvbSAtIGJvdHRvbSBvZmZzZXRcbiAgICAgICAgICogICAgICsgaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqICAgICArIGxlZnQgLSBsZWZ0IG9mZnNldCBvZiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAqICAgICArIHJpZ2h0IC0gcmlnaHQgb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICogICAgICsgdG9wIC0gdG9wIG9mZnNldCBvZiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAqICAgICArIHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICogLSBlbmRSZWN0IC0gQW4gT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uOlxuICAgICAgICAgKiAgICAgKyBib3R0b20gLSBib3R0b20gb2Zmc2V0XG4gICAgICAgICAqICAgICArIGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKiAgICAgKyBsZWZ0IC0gbGVmdCBvZmZzZXQgb2YgdGhlIHNlbGVjdGlvblxuICAgICAgICAgKiAgICAgKyByaWdodCAtIHJpZ2h0IG9mZnNldCBvZiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAqICAgICArIHRvcCAtIHRvcCBvZmZzZXQgb2YgdGhlIHNlbGVjdGlvblxuICAgICAgICAgKiAgICAgKyB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZXJlIGlzIG5vIG5hdGl2ZSBzZWxlY3Rpb24sIHRoZSBvYmplY3RzIHdpbGwgYmUgZmlsbGVkIHdpdGggMC5cbiAgICAgICAgICovXG4gICAgICAgIGdldENsaWVudFJlY3RzUmVnaW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZVNlbGVjdGlvbiA9IHNlbGVjdGlvbi5nZXROYXRpdmUoKTtcblxuICAgICAgICAgICAgdmFyIGRlZmF1bHRSZWN0ID0ge1xuICAgICAgICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciByZWdpb24gPSB7XG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIGVuZFJlY3Q6IGRlZmF1bHRSZWN0LFxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIHN0YXJ0UmVjdDogZGVmYXVsdFJlY3RcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghbmF0aXZlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2lvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJvdHRvbSA9IDA7XG4gICAgICAgICAgICB2YXIgY2xpZW50UmVjdHM7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IEluZmluaXR5O1xuICAgICAgICAgICAgdmFyIHJhbmdlQ291bnQ7XG4gICAgICAgICAgICB2YXIgcmlnaHQgPSAtSW5maW5pdHk7XG4gICAgICAgICAgICB2YXIgdG9wID0gSW5maW5pdHk7XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVTZWxlY3Rpb24uY3JlYXRlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBjbGllbnRSZWN0cyA9IG5hdGl2ZVNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJhbmdlQ291bnQgPSBuYXRpdmVTZWxlY3Rpb24ucmFuZ2VDb3VudDtcbiAgICAgICAgICAgICAgICBjbGllbnRSZWN0cyA9IChuYXRpdmVTZWxlY3Rpb24ucmFuZ2VDb3VudCA+IDApID8gbmF0aXZlU2VsZWN0aW9uLmdldFJhbmdlQXQoMCkuZ2V0Q2xpZW50UmVjdHMoKSA6IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2xpZW50UmVjdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVnaW9uID0gdGhpcy5nZXRDYXJldFJlZ2lvbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gY2xpZW50UmVjdHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjbGllbnRSZWN0c1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5sZWZ0IDwgbGVmdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IGl0ZW0ubGVmdDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnJpZ2h0ID4gcmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gaXRlbS5yaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRvcCA8IHRvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0gaXRlbS50b3A7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5ib3R0b20gPiBib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IGl0ZW0uYm90dG9tO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvcyA9IG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0U2Nyb2xsUG9zaXRpb24oKTtcblxuICAgICAgICAgICAgICAgIHJlZ2lvbi5ib3R0b20gPSBzY3JvbGxQb3MueSArIGJvdHRvbTtcbiAgICAgICAgICAgICAgICByZWdpb24ubGVmdCA9IHNjcm9sbFBvcy54ICsgbGVmdDtcbiAgICAgICAgICAgICAgICByZWdpb24ucmlnaHQgPSBzY3JvbGxQb3MueCArIHJpZ2h0O1xuICAgICAgICAgICAgICAgIHJlZ2lvbi50b3AgPSBzY3JvbGxQb3MueSArIHRvcDtcblxuICAgICAgICAgICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFJlY3QgPSBjbGllbnRSZWN0c1tjbGllbnRSZWN0cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0UmVjdCA9IGNsaWVudFJlY3RzWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlZ2lvbi5lbmRSZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBzY3JvbGxQb3MueSArIGVuZFJlY3QuYm90dG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBlbmRSZWN0LmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHNjcm9sbFBvcy54ICsgZW5kUmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHNjcm9sbFBvcy54ICsgZW5kUmVjdC5yaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogc2Nyb2xsUG9zLnkgKyBlbmRSZWN0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBlbmRSZWN0LndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uLnN0YXJ0UmVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogc2Nyb2xsUG9zLnkgKyBzdGFydFJlY3QuYm90dG9tLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBzdGFydFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2Nyb2xsUG9zLnggKyBzdGFydFJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBzY3JvbGxQb3MueCArIHN0YXJ0UmVjdC5yaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogc2Nyb2xsUG9zLnkgKyBzdGFydFJlY3QudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHN0YXJ0UmVjdC53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlZ2lvbjtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHNlbGVjdGlvbi4gVGhlIGRpcmVjdGlvbiBpcyBmcm9tIHRvcCB0byBib3R0b20gb3IgZnJvbSBib3R0b20gdG8gdG9wLlxuICAgICAgICAgKiBGb3IgSUUgPCA5IGl0IGlzIG5vdCBwb3NzaWJsZSwgc28gdGhlIGRpcmVjdGlvbiBmb3IgdGhlc2UgYnJvd3NlcnMgd2lsbCBiZSBhbHdheXMgQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT00uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG4gICAgICAgICAqIEBtZXRob2QgZ2V0U2VsZWN0aW9uRGlyZWN0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge051bWJlcn0gUmV0dXJucyBhIG51bWJlciB3aGljaCByZXByZXNlbnRzIHNlbGVjdGlvbiBkaXJlY3Rpb24uIEl0IG1pZ2h0IGJlIG9uZSBvZiB0aGVzZTpcbiAgICAgICAgICogLSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTTtcbiAgICAgICAgICogLSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUDtcbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGlvbkRpcmVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT007XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHZhciBuYXRpdmVTZWxlY3Rpb24gPSBzZWxlY3Rpb24uZ2V0TmF0aXZlKCk7XG5cbiAgICAgICAgICAgIGlmICghbmF0aXZlU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGFuY2hvck5vZGU7XG5cbiAgICAgICAgICAgIGlmICgoYW5jaG9yTm9kZSA9IG5hdGl2ZVNlbGVjdGlvbi5hbmNob3JOb2RlKSAmJiBhbmNob3JOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gYW5jaG9yTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihuYXRpdmVTZWxlY3Rpb24uZm9jdXNOb2RlKTtcblxuICAgICAgICAgICAgICAgIGlmICghcG9zaXRpb24gJiYgbmF0aXZlU2VsZWN0aW9uLmFuY2hvck9mZnNldCA+IG5hdGl2ZVNlbGVjdGlvbi5mb2N1c09mZnNldCB8fCBwb3NpdGlvbiA9PT0gTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9QUkVDRURJTkcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1A7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKFxuICAgICAgICAnYWVfc2VsZWN0aW9ucmVnaW9uJywge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF0dHIsXG4gICAgICAgICAgICAgICAgICAgIGhhc093blByb3BlcnR5O1xuXG4gICAgICAgICAgICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4gICAgICAgICAgICAgICAgZm9yIChhdHRyIGluIFNlbGVjdGlvblJlZ2lvbi5wcm90b3R5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoU2VsZWN0aW9uUmVnaW9uLnByb3RvdHlwZSwgYXR0cikgJiYgdHlwZW9mIGVkaXRvclthdHRyXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvclthdHRyXSA9IFNlbGVjdGlvblJlZ2lvbi5wcm90b3R5cGVbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIElFX05PTl9ESVJFQ1RMWV9FRElUQUJMRV9FTEVNRU5UID0ge1xuICAgICAgICAndGFibGUnOiAxLFxuICAgICAgICAnY29sJzogMSxcbiAgICAgICAgJ2NvbGdyb3VwJzogMSxcbiAgICAgICAgJ3Rib2R5JzogMSxcbiAgICAgICAgJ3RkJzogMSxcbiAgICAgICAgJ3Rmb290JzogMSxcbiAgICAgICAgJ3RoJzogMSxcbiAgICAgICAgJ3RoZWFkJzogMSxcbiAgICAgICAgJ3RyJzogMVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUYWJsZSBjbGFzcyB1dGlsaXR5LiBQcm92aWRlcyBtZXRob2RzIGZvciBjcmVhdGUsIGRlbGV0ZSBhbmQgdXBkYXRlIHRhYmxlcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5UYWJsZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIENLRWRpdG9yIGluc3RhbmNlLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gVGFibGUoZWRpdG9yKSB7XG4gICAgICAgIHRoaXMuX2VkaXRvciA9IGVkaXRvcjtcbiAgICB9XG5cbiAgICBUYWJsZS5IRUFESU5HX0JPVEggPSAnQm90aCc7XG4gICAgVGFibGUuSEVBRElOR19DT0wgPSAnQ29sdW1uJztcbiAgICBUYWJsZS5IRUFESU5HX05PTkUgPSAnTm9uZSc7XG4gICAgVGFibGUuSEVBRElOR19ST1cgPSAnUm93JztcblxuICAgIFRhYmxlLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IFRhYmxlLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgdGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUYWJsZSBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjcmVhdGVkIHRhYmxlXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcbiAgICAgICAgICAgIHZhciB0YWJsZSA9IHRoaXMuX2NyZWF0ZUVsZW1lbnQoJ3RhYmxlJyk7XG5cbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fMKge307XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHRoZSByb3dzIGFuZCBjb2xzLlxuICAgICAgICAgICAgdmFyIHRib2R5ID0gdGFibGUuYXBwZW5kKHRoaXMuX2NyZWF0ZUVsZW1lbnQoJ3Rib2R5JykpO1xuICAgICAgICAgICAgdmFyIHJvd3MgPSBjb25maWcucm93cyB8fCAxO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBjb25maWcuY29scyB8fCAxO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd3M7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciByb3cgPSB0Ym9keS5hcHBlbmQodGhpcy5fY3JlYXRlRWxlbWVudCgndHInKSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb2xzOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGwgPSByb3cuYXBwZW5kKHRoaXMuX2NyZWF0ZUVsZW1lbnQoJ3RkJykpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNlbGwuYXBwZW5kQm9ndXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlcyh0YWJsZSwgY29uZmlnLmF0dHJzKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SGVhZGluZyh0YWJsZSwgY29uZmlnLmhlYWRpbmcpO1xuXG4gICAgICAgICAgICAvLyBJbnNlcnQgdGhlIHRhYmxlIGVsZW1lbnQgaWYgd2UncmUgY3JlYXRpbmcgb25lLlxuICAgICAgICAgICAgZWRpdG9yLmluc2VydEVsZW1lbnQodGFibGUpO1xuXG4gICAgICAgICAgICB2YXIgZmlyc3RDZWxsID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhYmxlLiQucm93c1swXS5jZWxsc1swXSk7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLm1vdmVUb1Bvc2l0aW9uKGZpcnN0Q2VsbCwgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO1xuICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG5cbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIGEgdGFibGUgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQG1ldGhvZCBnZXRGcm9tU2VsZWN0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBUaGUgcmV0cmlldmVkIHRhYmxlIG9yIG51bGwgaWYgbm90IGZvdW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RnJvbVNlbGVjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgdGFibGU7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQgJiYgc2VsZWN0ZWQuaXMoJ3RhYmxlJykpIHtcbiAgICAgICAgICAgICAgICB0YWJsZSA9IHNlbGVjdGVkO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2VzID0gc2VsZWN0aW9uLmdldFJhbmdlcygpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlYmtpdCBjb3VsZCByZXBvcnQgdGhlIGZvbGxvd2luZyByYW5nZSBvbiBjZWxsIHNlbGVjdGlvbiAoIzQ5NDgpOlxuICAgICAgICAgICAgICAgICAgICAvLyA8dGFibGU+PHRyPjx0ZD5bJm5ic3A7PC90ZD48L3RyPjwvdGFibGU+XVxuXG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChDS0VESVRPUi5lbnYud2Via2l0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXNbMF0uc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IHRoaXMuX2VkaXRvci5lbGVtZW50UGF0aChyYW5nZXNbMF0uZ2V0Q29tbW9uQW5jZXN0b3IodHJ1ZSkpLmNvbnRhaW5zKCd0YWJsZScsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRhYmxlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiB0YWJsZSBjYW4gYmUgY29uc2lkZXJlZCBhcyBlZGl0YWJsZS4gVGhpcyBtZXRob2RcbiAgICAgICAgICogd29ya2Fyb3VuZHMgYSBsaW1pdGF0aW9uIG9mIElFIHdoZXJlIGZvciBzb21lIGVsZW1lbnRzIChsaWtlIHRhYmxlKSxcbiAgICAgICAgICogYGlzQ29udGVudEVkaXRhYmxlYCByZXR1cm5zIGFsd2F5cyBmYWxzZS4gVGhpcyBpcyBiZWNhdXNlIElFIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgICAgICogYGNvbnRlbnRlZGl0YWJsZWAgb24gc3VjaCBlbGVtZW50cy4gSG93ZXZlciwgZGVzcGl0ZSBzdWNoIGVsZW1lbnRzXG4gICAgICAgICAqIGNhbm5vdCBiZSBzZXQgYXMgY29udGVudCBlZGl0YWJsZSBkaXJlY3RseSwgYSBjb250ZW50IGVkaXRhYmxlIFNQQU4sXG4gICAgICAgICAqIG9yIERJViBlbGVtZW50IGNhbiBiZSBwbGFjZWQgaW5zaWRlIHRoZSBpbmRpdmlkdWFsIHRhYmxlIGNlbGxzLlxuICAgICAgICAgKiBTZWUgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzNzgzNyUyOHY9VlMuODUlMjkuYXNweFxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG4gICAgICAgICAqIEBtZXRob2QgaXNFZGl0YWJsZVxuICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBlbCBUaGUgdGFibGUgZWxlbWVudCB0byB0ZXN0IGlmIGVkaXRhYmxlXG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBpc0VkaXRhYmxlOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmICghQ0tFRElUT1IuZW52LmllIHx8ICFlbC5pcyhJRV9OT05fRElSRUNUTFlfRURJVEFCTEVfRUxFTUVOVCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWVsLmlzUmVhZE9ubHkoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsLmhhc0F0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGVsLmdldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJykgIT09ICdmYWxzZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pc0VkaXRhYmxlKGVsLmdldFBhcmVudCgpKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB3aGljaCBoZWFkaW5nIHN0eWxlIGlzIHNldCBmb3IgdGhlIGdpdmVuIHRhYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG4gICAgICAgICAqIEBtZXRob2QgZ2V0SGVhZGluZ1xuICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSB0YWJsZSBUaGUgdGFibGUgdG8gZ2F0aGVyIHRoZSBoZWFkaW5nIGZyb20uIElmIG51bGwsIGl0IHdpbGwgYmUgcmV0cmlldmVkIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBoZWFkaW5nIG9mIHRoZSB0YWJsZS4gRXhwZWN0ZWQgdmFsdWVzIGFyZSBgQ0tFRElUT1IuVGFibGUuTk9ORWAsIGBDS0VESVRPUi5UYWJsZS5ST1dgLCBgQ0tFRElUT1IuVGFibGUuQ09MYCBhbmQgYENLRURJVE9SLlRhYmxlLkJPVEhgLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SGVhZGluZzogZnVuY3Rpb24odGFibGUpIHtcbiAgICAgICAgICAgIHRhYmxlID0gdGFibGUgfHwgdGhpcy5nZXRGcm9tU2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmICghdGFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJvd0hlYWRpbmdTZXR0aW5ncyA9IHRhYmxlLiQudEhlYWQgIT09IG51bGw7XG5cbiAgICAgICAgICAgIHZhciBjb2xIZWFkaW5nU2V0dGluZ3MgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBhbGwgb2YgdGhlIGZpcnN0IGNlbGxzIGluIGV2ZXJ5IHJvdyBhcmUgVEhcbiAgICAgICAgICAgIGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IHRhYmxlLiQucm93cy5sZW5ndGg7IHJvdysrKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYganVzdCBvbmUgY2VsbCBpc24ndCBhIFRIIHRoZW4gaXQgaXNuJ3QgYSBoZWFkZXIgY29sdW1uXG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0YWJsZS4kLnJvd3Nbcm93XS5jZWxsc1swXTtcblxuICAgICAgICAgICAgICAgIGlmIChjZWxsICYmIGNlbGwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3RoJykge1xuICAgICAgICAgICAgICAgICAgICBjb2xIZWFkaW5nU2V0dGluZ3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgaGVhZGluZ1NldHRpbmdzID0gVGFibGUuSEVBRElOR19OT05FO1xuXG4gICAgICAgICAgICBpZiAocm93SGVhZGluZ1NldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgaGVhZGluZ1NldHRpbmdzID0gVGFibGUuSEVBRElOR19ST1c7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb2xIZWFkaW5nU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBoZWFkaW5nU2V0dGluZ3MgPSAoaGVhZGluZ1NldHRpbmdzID09PSBUYWJsZS5IRUFESU5HX1JPVyA/IFRhYmxlLkhFQURJTkdfQk9USCA6IFRhYmxlLkhFQURJTkdfQ09MKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhlYWRpbmdTZXR0aW5ncztcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBhIHRhYmxlIGZyb20gdGhlIGVkaXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuICAgICAgICAgKiBAbWV0aG9kIHJlbW92ZVxuICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSB0YWJsZSBUaGUgdGFibGUgZWxlbWVudCB3aGljaCB0YWJsZSBzdHlsZSBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24odGFibGUpIHtcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG5cbiAgICAgICAgICAgIGlmICh0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWJsZSA9IGVkaXRvci5lbGVtZW50UGF0aCgpLmNvbnRhaW5zKCd0YWJsZScsIDEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0YWJsZSdzIHBhcmVudCBoYXMgb25seSBvbmUgY2hpbGQgcmVtb3ZlIGl0IGFzIHdlbGwgKHVubGVzcyBpdCdzIGEgdGFibGUgY2VsbCwgb3IgdGhlIGVkaXRhYmxlIGVsZW1lbnQpICgjNTQxNiwgIzYyODksICMxMjExMClcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRhYmxlLmdldFBhcmVudCgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LmdldENoaWxkQ291bnQoKSA9PT0gMSAmJiAhcGFyZW50LmlzKCd0ZCcsICd0aCcpICYmICFwYXJlbnQuZXF1YWxzKGVkaXRhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvUG9zaXRpb24odGFibGUsIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFzc2lnbnMgcHJvdmlkZWQgYXR0cmlidXRlcyB0byBhIHRhYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG4gICAgICAgICAqIEBtZXRob2Qgc2V0QXR0cmlidXRlc1xuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFibGUgVGhlIHRhYmxlIHRvIHdoaWNoIHRoZSBhdHRyaWJ1dGVzIHNob3VsZCBiZSBhc3NpZ25lZFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgVGhlIGF0dHJpYnV0ZXMgd2hpY2ggaGF2ZSB0byBiZSBhc3NpZ25lZCB0byB0aGUgdGFibGVcbiAgICAgICAgICovXG4gICAgICAgIHNldEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKHRhYmxlLCBhdHRycykge1xuICAgICAgICAgICAgaWYgKGF0dHJzKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24oYXR0cikge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cnNbYXR0cl0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBhcHByb3ByaWF0ZSB0YWJsZSBoZWFkaW5nIHN0eWxlIHRvIGEgdGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQG1ldGhvZCBzZXRIZWFkaW5nXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IHRhYmxlIFRoZSB0YWJsZSBlbGVtZW50IHRvIHdoaWNoIHRoZSBoZWFkaW5nIHNob3VsZCBiZSBzZXQuIElmIG51bGwsIGl0IHdpbGwgYmUgcmV0cmlldmVkIGZyb20gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gaGVhZGluZyBUaGUgdGFibGUgaGVhZGluZyB0byBiZSBzZXQuIEFjY2VwdGVkIHZhbHVlcyBhcmU6IGBDS0VESVRPUi5UYWJsZS5OT05FYCwgYENLRURJVE9SLlRhYmxlLlJPV2AsIGBDS0VESVRPUi5UYWJsZS5DT0xgIGFuZCBgQ0tFRElUT1IuVGFibGUuQk9USGAuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRIZWFkaW5nOiBmdW5jdGlvbih0YWJsZSwgaGVhZGluZykge1xuICAgICAgICAgICAgdGFibGUgPSB0YWJsZSB8fCB0aGlzLmdldEZyb21TZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgdmFyIGksIG5ld0NlbGw7XG4gICAgICAgICAgICB2YXIgdGFibGVIZWFkO1xuICAgICAgICAgICAgdmFyIHRhYmxlQm9keSA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWcoJ3Rib2R5JykuZ2V0SXRlbSgwKTtcblxuICAgICAgICAgICAgdmFyIHRhYmxlSGVhZGluZyA9IHRoaXMuZ2V0SGVhZGluZyh0YWJsZSk7XG4gICAgICAgICAgICB2YXIgaGFkQ29sSGVhZGluZyA9ICh0YWJsZUhlYWRpbmcgPT09IFRhYmxlLkhFQURJTkdfQ09MIHx8IHRhYmxlSGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19CT1RIKTtcblxuICAgICAgICAgICAgdmFyIG5lZWRDb2xIZWFkaW5nID0gaGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19DT0wgfHwgaGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19CT1RIO1xuICAgICAgICAgICAgdmFyIG5lZWRSb3dIZWFkaW5nID0gaGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19ST1cgfHwgaGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19CT1RIO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBuZWVkIHJvdyBoZWFkaW5nIGFuZCBkb24ndCBoYXZlIGEgPHRoZWFkPiBlbGVtZW50IHlldCwgbW92ZSB0aGVcbiAgICAgICAgICAgIC8vIGZpcnN0IHJvdyBvZiB0aGUgdGFibGUgdG8gdGhlIGhlYWQgYW5kIGNvbnZlcnQgdGhlIG5vZGVzIHRvIDx0aD4gb25lcy5cbiAgICAgICAgICAgIGlmICghdGFibGUuJC50SGVhZCAmJiBuZWVkUm93SGVhZGluZykge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZUZpcnN0Um93ID0gdGFibGVCb2R5LmdldEVsZW1lbnRzQnlUYWcoJ3RyJykuZ2V0SXRlbSgwKTtcbiAgICAgICAgICAgICAgICB2YXIgdGFibGVGaXJzdFJvd0NoaWxkQ291bnQgPSB0YWJsZUZpcnN0Um93LmdldENoaWxkQ291bnQoKTtcblxuICAgICAgICAgICAgICAgIC8vIENoYW5nZSBURCB0byBUSDpcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFibGVGaXJzdFJvd0NoaWxkQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHRhYmxlRmlyc3RSb3cuZ2V0Q2hpbGQoaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBib29rbWFyayBub2Rlcy4gKCM2MTU1KVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC50eXBlID09PSBDS0VESVRPUi5OT0RFX0VMRU1FTlQgJiYgIWNlbGwuZGF0YSgnY2tlLWJvb2ttYXJrJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwucmVuYW1lTm9kZSgndGgnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCdzY29wZScsICdjb2wnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhYmxlSGVhZCA9IHRoaXMuX2NyZWF0ZUVsZW1lbnQodGFibGUuJC5jcmVhdGVUSGVhZCgpKTtcbiAgICAgICAgICAgICAgICB0YWJsZUhlYWQuYXBwZW5kKHRhYmxlRmlyc3RSb3cucmVtb3ZlKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBuZWVkIHJvdyBoZWFkaW5nIGFuZCB3ZSBoYXZlIGEgPHRoZWFkPiBlbGVtZW50LCBtb3ZlIHRoZVxuICAgICAgICAgICAgLy8gcm93IG91dCBvZiB0aGVyZSBhbmQgaW50byB0aGUgPHRib2R5PiBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKHRhYmxlLiQudEhlYWQgIT09IG51bGwgJiYgIW5lZWRSb3dIZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgLy8gTW92ZSB0aGUgcm93IG91dCBvZiB0aGUgVEhlYWQgYW5kIHB1dCBpdCBpbiB0aGUgVEJvZHk6XG4gICAgICAgICAgICAgICAgdGFibGVIZWFkID0gdGhpcy5fY3JlYXRlRWxlbWVudCh0YWJsZS4kLnRIZWFkKTtcblxuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c0ZpcnN0Um93ID0gdGFibGVCb2R5LmdldEZpcnN0KCk7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAodGFibGVIZWFkLmdldENoaWxkQ291bnQoKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ZpcnN0Um93ID0gdGFibGVIZWFkLmdldEZpcnN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdGaXJzdFJvd0NoaWxkQ291bnQgPSBuZXdGaXJzdFJvdy5nZXRDaGlsZENvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5ld0ZpcnN0Um93Q2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZWxsID0gbmV3Rmlyc3RSb3cuZ2V0Q2hpbGQoaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdDZWxsLnR5cGUgPT09IENLRURJVE9SLk5PREVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwucmVuYW1lTm9kZSgndGQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDZWxsLnJlbW92ZUF0dHJpYnV0ZSgnc2NvcGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5ld0ZpcnN0Um93Lmluc2VydEJlZm9yZShwcmV2aW91c0ZpcnN0Um93KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0YWJsZUhlYWQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRhYmxlSGVhZGluZyA9IHRoaXMuZ2V0SGVhZGluZyh0YWJsZSk7XG4gICAgICAgICAgICB2YXIgaGFzQ29sSGVhZGluZyA9ICh0YWJsZUhlYWRpbmcgPT09IFRhYmxlLkhFQURJTkdfQ09MIHx8IHRhYmxlSGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19CT1RIKTtcblxuICAgICAgICAgICAgLy8gSWYgd2UgbmVlZCBjb2x1bW4gaGVhZGluZyBhbmQgdGhlIHRhYmxlIGRvZXNuJ3QgaGF2ZSBpdCwgY29udmVydCBldmVyeSBmaXJzdCBjZWxsIGluXG4gICAgICAgICAgICAvLyBldmVyeSByb3cgaW50byBhIGA8dGggc2NvcGU9XCJyb3dcIj5gIGVsZW1lbnQuXG4gICAgICAgICAgICBpZiAoIWhhc0NvbEhlYWRpbmcgJiYgbmVlZENvbEhlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGFibGUuJC5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZS4kLnJvd3NbaV0uY2VsbHNbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ3RoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0YWJsZS4kLnJvd3NbaV0uY2VsbHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VsbC5yZW5hbWVOb2RlKCd0aCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VsbC5zZXRBdHRyaWJ1dGUoJ3Njb3BlJywgJ3JvdycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBuZWVkIGNvbHVtbiBoZWFkaW5nIGJ1dCB0aGUgdGFibGUgaGFzIGl0LCBjb252ZXJ0IGV2ZXJ5IGZpcnN0IGNlbGwgaW4gZXZlcnlcbiAgICAgICAgICAgIC8vIHJvdyBiYWNrIGludG8gYSBgPHRkPmAgZWxlbWVudC5cbiAgICAgICAgICAgIGlmIChoYWRDb2xIZWFkaW5nICYmICFuZWVkQ29sSGVhZGluZykge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWJsZS4kLnJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0YWJsZS4kLnJvd3NbaV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3cuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpID09PSAndGJvZHknKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZWxsID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHJvdy4kLmNlbGxzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwucmVuYW1lTm9kZSgndGQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwucmVtb3ZlQXR0cmlidXRlKCdzY29wZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50IHVzaW5nIHRoZSBwYXNzZWQgdGFnIG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWV0aG9kIF9jcmVhdGVFbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFRoZSB0YWcgbmFtZSBmcm9tIHdoaWNoIGFuIGVsZW1lbnQgc2hvdWxkIGJlIGNyZWF0ZWRcbiAgICAgICAgICogQHJldHVybiB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IEluc3RhbmNlIG9mIENLRURJVE9SIERPTSBlbGVtZW50IGNsYXNzXG4gICAgICAgICAqL1xuICAgICAgICBfY3JlYXRlRWxlbWVudDogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuYW1lLCB0aGlzLl9lZGl0b3IuZG9jdW1lbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIENLRURJVE9SLm9uKCdpbnN0YW5jZVJlYWR5JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGhlYWRpbmdDb21tYW5kcyA9IFtUYWJsZS5IRUFESU5HX05PTkUsIFRhYmxlLkhFQURJTkdfUk9XLCBUYWJsZS5IRUFESU5HX0NPTCwgVGFibGUuSEVBRElOR19CT1RIXTtcblxuICAgICAgICB2YXIgdGFibGVVdGlscyA9IG5ldyBUYWJsZShldmVudC5lZGl0b3IpO1xuXG4gICAgICAgIGhlYWRpbmdDb21tYW5kcy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRpbmcpIHtcbiAgICAgICAgICAgIGV2ZW50LmVkaXRvci5hZGRDb21tYW5kKCd0YWJsZUhlYWRpbmcnICsgaGVhZGluZywge1xuICAgICAgICAgICAgICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZVV0aWxzLnNldEhlYWRpbmcobnVsbCwgaGVhZGluZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgQ0tFRElUT1IuVGFibGUgPSBDS0VESVRPUi5UYWJsZSB8fCBUYWJsZTtcbn0oKSk7XG4iLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyoqXG4gICAgICogQ0tFRElUT1IudG9vbHMgY2xhc3MgdXRpbGl0eSB3aGljaCBhZGRzIGFkZGl0aW9uYWwgbWV0aG9kcyB0byB0aG9zZSBvZiBDS0VkaXRvci5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi50b29sc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IHVzaW5nIHRoZSBKU09OUCB0ZWNobmlxdWUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IudG9vbHNcbiAgICAgKiBAbWV0aG9kIGpzb25wXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi50ZW1wbGF0ZX0gdXJsVGVtcGxhdGUgVGhlIHRlbXBsYXRlIG9mIHRoZSBVUkwgdG8gYmUgcmVxdWVzdGVkLiBBbGwgcHJvcGVydGllcyBwYXNzZWQgaW4gYHVybFBhcmFtc2AgY2FuIGJlIHVzZWQsIHBsdXMgYSBge2NhbGxiYWNrfWAsIHdoaWNoIHJlcHJlc2VudCBhIEpTT05QIGNhbGxiYWNrLCBtdXN0IGJlIGRlZmluZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaW4gY2FzZSBvZiBzdWNjZXNzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVycm9yQ2FsbGJhY2sgQSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgaW4gY2FzZSBvZiBmYWlsdXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1cmxQYXJhbXMgUGFyYW1ldGVycyB0byBiZSBwYXNzZWQgdG8gdGhlIGB1cmxUZW1wbGF0ZWAuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogIC0gaWQ6IHRoZSB0cmFuc2FjdGlvbiBJRFxuICAgICAqICAtIGEgYGNhbmNlbCgpYCBtZXRob2RcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgQ0tFRElUT1IudG9vbHMuanNvbnAgPSBmdW5jdGlvbih1cmxUZW1wbGF0ZSwgdXJsUGFyYW1zLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgY2FsbGJhY2tLZXkgPSBDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7XG5cbiAgICAgICAgdXJsUGFyYW1zID0gdXJsUGFyYW1zIHx8IHt9O1xuICAgICAgICB1cmxQYXJhbXMuY2FsbGJhY2sgPSAnQ0tFRElUT1IuXy5qc29ucENhbGxiYWNrc1snICsgY2FsbGJhY2tLZXkgKyAnXSc7XG5cbiAgICAgICAgaWYgKCFDS0VESVRPUi5fLmpzb25wQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBDS0VESVRPUi5fLmpzb25wQ2FsbGJhY2tzID0ge307XG4gICAgICAgIH1cblxuICAgICAgICBDS0VESVRPUi5fLmpzb25wQ2FsbGJhY2tzW2NhbGxiYWNrS2V5XSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNsZWFuVXAoKTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzY3JpcHRFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgc2NyaXB0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHVybFRlbXBsYXRlLm91dHB1dCh1cmxQYXJhbXMpKTtcbiAgICAgICAgc2NyaXB0RWxlbWVudC5vbignZXJyb3InLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFuVXAoKTtcblxuICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgICAgICBpZiAoc2NyaXB0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIENLRURJVE9SLl8uanNvbnBDYWxsYmFja3NbY2FsbGJhY2tLZXldO1xuICAgICAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChzY3JpcHRFbGVtZW50KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FuY2VsOiBjbGVhblVwLFxuICAgICAgICAgICAgaWQ6IGNhbGxiYWNrS2V5XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIG9mIHRoZSBwcm9wZXJ0aWVzIG9mIGFsbCB0aGUgc3VwcGxpZWRcbiAgICAgKiBvYmplY3RzLiBUaGUgcHJvcGVydGllcyBmcm9tIGxhdGVyIG9iamVjdHMgd2lsbCBvdmVyd3JpdGUgdGhvc2UgaW4gZWFybGllclxuICAgICAqIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBQYXNzaW5nIGluIGEgc2luZ2xlIG9iamVjdCB3aWxsIGNyZWF0ZSBhIHNoYWxsb3cgY29weSBvZiBpdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi50b29sc1xuICAgICAqIEBtZXRob2QgbWVyZ2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0cyogT25lIG9yIG1vcmUgb2JqZWN0cyB0byBtZXJnZS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgbmV3IG1lcmdlZCBvYmplY3QuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIENLRURJVE9SLnRvb2xzLm1lcmdlID0gQ0tFRElUT1IudG9vbHMubWVyZ2UgfHwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIG9iaiA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2ltdWxhdGVzIGV2ZW50IG9uIGEgRE9NIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IudG9vbHNcbiAgICAgKiBAbWV0aG9kIHNpbXVsYXRlXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IG9uIHdoaWNoIHRoZSBldmVudCBzaG91ZCBiZSBzaW11YWx0ZWQuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudCB3aGljaCBoYXZlIHRvIGJlIHNpbXVsYXRlZC5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgQ0tFRElUT1IudG9vbHMuc2ltdWxhdGUgPSBmdW5jdGlvbihlbGVtZW50LCBldmVudCkge1xuICAgICAgICB2YXIgZXZlbnRJbnN0YW5jZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudHMnKTtcbiAgICAgICAgZXZlbnRJbnN0YW5jZS5pbml0RXZlbnQoZXZlbnQsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50SW5zdGFuY2UpO1xuICAgIH07XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3VpY29yZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVSUNvcmUgY2xhc3Mgd2hpY2ggd2lsbCBoYW5kbGUgdXNlciBpbnRlcmFjdGlvbnMgd2l0aCB0aGUgZWRpdG9yLiBUaGVzZSBpbnRlcmFjdGlvbnNcbiAgICAgKiBtaWdodCBiZSB0cmlnZ2VyZWQgdmlhIG1vdXNlLCBrZXlib2FyZCBvciB0b3VjaCBkZXZpY2VzLiBUaGUgY2xhc3MgZmlsbCBmaXJlIGFuIGV2ZW50IHZpYVxuICAgICAqIENLRWRpdG9yJ3MgZXZlbnQgc3lzdGVtIC0gXCJlZGl0b3JJbnRlcmFjdGlvblwiLiBUaGUgVUkgbWF5IGxpc3RlbiB0byB0aGlzIGV2ZW50IGFuZFxuICAgICAqIGV4ZWN1dGUgc29tZSBhY3Rpb25zIC0gZm9yIGV4YW1wbGUgdG8gc2hvdy9oaWRlIHRvb2xiYXJzLlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCBpZiB1c2VyIHByZXNzZXMgdGhlIEVzYyBrZXksICdlZGl0b3JJbnRlcmFjdGlvbicgZXZlbnQgd29uJ3QgYmUgZmlyZWQuIEhvd2V2ZXIsIHRoaXMgYmVoYXZpb3VyIGNhbiBiZSBjaGFuZ2VkXG4gICAgICogYnkgc2V0dGluZyB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3VpY29yZS9hbGxvd0VzYzphdHRyaWJ1dGVcIn19e3svY3Jvc3NMaW5rfX0gY29uZmlnIHByb3BlcnR5IGluIGVkaXRvcidzIGNvbmZpZ3VyYXRpb24gdG8gdHJ1ZS5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBhZV91aWNvcmVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIHdoZW4gdXNlciBpbnRlcmFjdHMgc29tZWhvdyB3aXRoIHRoZSBicm93c2VyLiBUaGlzIG1heSBiZSBjbGlja2luZyB3aXRoIHRoZSBtb3VzZSwgcHJlc3Npbmcga2V5Ym9hcmQgYnV0dG9uLFxuICAgICAqIG9yIHRvdWNoaW5nIHNjcmVlbi4gVGhpcyBldmVuIHdpbGwgYmUgbm90IGZpcmVkIGFmdGVyIGVhY2ggaW50ZXJhY3Rpb24uIEl0IHdpbGwgYmUgZGVib3VuY2VkLiBCeSBkZWZhdWx0IHRoZSB0aW1lb3V0XG4gICAgICogaXMgNTBtcy4gVGhpcyB2YWx1ZSBjYW4gYmUgb3ZlcndyaXR0ZW4gdmlhIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfdWljb3JlL3RpbWVvdXQ6YXR0cmlidXRlXCJ9fXt7L2Nyb3NzTGlua319XG4gICAgICogcHJvcGVydHkgb2YgZWRpdG9yJ3MgY29uZmlndXJhdGlvbiwgbGlrZTogZWRpdG9yLmNvbmZpZy51aWNvcmUudGltZW91dCA9IDEwMFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIGFlX3VpY29yZVxuICAgICAqIEBldmVudCBhZV91aWNvcmUjZWRpdG9ySW50ZXJhY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqIC0gbmF0aXZlRXZlbnQgLSBUaGUgZXZlbnQgYXMgcmVjZWl2ZWQgZnJvbSBDS0VkaXRvci5cbiAgICAgKiAtIHNlbGVjdGlvbkRhdGEgLSBUaGUgZGF0YSwgcmV0dXJuZWQgZnJvbSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRTZWxlY3Rpb25EYXRhOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgYnkgVUkgZWxlbWVudHMgbGlrZSBUb29sYmFycyBvciBCdXR0b25zIHdoZW4gdGhlaXIgc3RhdGUgY2hhbmdlcy4gVGhlIGxpc3RlbmVyIHVwZGF0ZXMgdGhlIGxpdmUgcmVnaW9uIHdpdGggdGhlIHByb3ZpZGVkIGRhdGEuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgYWVfdWljb3JlXG4gICAgICogQGV2ZW50IGFlX3VpY29yZSNhcmlhVXBkYXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgQW4gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAtIG1lc3NhZ2UgLSBUaGUgcHJvdmlkZWQgbWVzc2FnZSBmcm9tIHRoZSBVSSBlbGVtZW50LlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUsIHRoZSBlZGl0b3Igd2lsbCBzdGlsbCBmaXJlIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfdWljb3JlL2VkaXRvckludGVyYWN0aW9uOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50LFxuICAgICAqIGlmIHVzZXIgcHJlc3NlcyBFc2Mga2V5LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIGFlX3VpY29yZVxuICAgICAqIEBhdHRyaWJ1dGUgYWxsb3dFc2NcbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgZGVmYXVsdCB0aW1lb3V0IGFmdGVyIHdoaWNoIHRoZSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3VpY29yZS9lZGl0b3JJbnRlcmFjdGlvbjpldmVudFwifX17ey9jcm9zc0xpbmt9fSBldmVudFxuICAgICAqIHdpbGwgYmUgZmlyZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgYWVfdWljb3JlXG4gICAgICogQGF0dHJpYnV0ZSB0aW1lb3V0XG4gICAgICogQGRlZmF1bHQgNTAgKG1zKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoXG4gICAgICAgICdhZV91aWNvcmUnLCB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemVyIGxpZmVjeWNsZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIFVJQ29yZSBwbHVnaW4uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1lbWJlcm9mIGFlX3VpY29yZVxuICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IENLRWRpdG9yIGluc3RhbmNlLlxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXJpYVN0YXRlID0gW107XG5cbiAgICAgICAgICAgICAgICB2YXIgYXJpYUVsZW1lbnQgPSB0aGlzLl9jcmVhdGVBcmlhRWxlbWVudChlZGl0b3IuaWQpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHVpVGFza3NUaW1lb3V0ID0gZWRpdG9yLmNvbmZpZy51aWNvcmUgPyBlZGl0b3IuY29uZmlnLnVpY29yZS50aW1lb3V0IDogNTA7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlVUkgPSBDS0VESVRPUi50b29scy5kZWJvdW5jZShcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFTdGF0ZSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQubmFtZSAhPT0gJ2tleXVwJyB8fCBldmVudC5kYXRhLiQua2V5Q29kZSAhPT0gMjcgfHwgZWRpdG9yLmNvbmZpZy5hbGxvd0VzYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb25EYXRhID0gZWRpdG9yLmdldFNlbGVjdGlvbkRhdGEoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdlZGl0b3JJbnRlcmFjdGlvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBldmVudC5kYXRhLiQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EYXRhOiBzZWxlY3Rpb25EYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdWlUYXNrc1RpbWVvdXRcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZUFyaWEgPSBDS0VESVRPUi50b29scy5kZWJvdW5jZShcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyaWFFbGVtZW50LmlubmVySFRNTCA9IGFyaWFTdGF0ZS5qb2luKCcuICcpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1aVRhc2tzVGltZW91dFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlTW91c2VMZWF2ZSA9IENLRURJVE9SLnRvb2xzLmRlYm91bmNlKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFlVUlOb2RlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hZS11aScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWVVSU5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFlVUlOb2Rlc1tpXS5jb250YWlucyhldmVudC5kYXRhLiQucmVsYXRlZFRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVSShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVpVGFza3NUaW1lb3V0XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5vbignYXJpYVVwZGF0ZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZUFyaWEgaXMgZGVib3VuY2VkIGZ1bmN0aW9uLCBzbyBpZiBpdCBpcyBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGl0IHdpbGxcbiAgICAgICAgICAgICAgICAgICAgLy8gYmUgY2FuY2VsZWQgdW50aWwgc29tZSB0aW1lIHBhc3Nlcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHRoYXQgcmVhc29uIGhlcmUgd2UgZXhwbGljaXRseSBhcHBlbmQgdGhlIGN1cnJlbnQgbWVzc2FnZSB0byB0aGUgbGlzdCBvZiBtZXNzYWdlc1xuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY2FsbCBoYW5kbGVBcmlhLiBTaW5jZSBpdCBpcyBkZWJvdW5jZWQsIHdoZW4gc29tZSB0aW1lb3V0IHBhc3NlcyxcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxsIHRoZSBtZXNzYWdlcyB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGxpdmUgcmVnaW9uIGFuZCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXG5cbiAgICAgICAgICAgICAgICAgICAgYXJpYVN0YXRlLnB1c2goZXZlbnQuZGF0YS5tZXNzYWdlKTtcblxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVBcmlhKCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9jdXNIYW5kbGVyID0gZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdmb2N1cycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXNIYW5kbGVyLnJlbW92ZUxpc3RlbmVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAna2V5dXAnLCBoYW5kbGVVSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ21vdXNldXAnLCBoYW5kbGVVSSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ21vdXNlbGVhdmUnLCBoYW5kbGVNb3VzZUxlYXZlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVUkoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5vbignZGVzdHJveScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGFyaWFFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXJpYUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVVJLmRldGFjaCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGVzIGFuZCBhcHBsaWVzIGFuIEhUTUwgZWxlbWVudCB0byB0aGUgYm9keSBvZiB0aGUgZG9jdW1lbnQgd2hpY2ggd2lsbCBjb250YWluIEFSSUEgbWVzc2FnZXMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1lbWJlcm9mIGFlX3VpY29yZVxuICAgICAgICAgICAgICogQG1ldGhvZCBfY3JlYXRlQXJpYUVsZW1lbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgcHJvdmlkZWQgaWQgb2YgdGhlIGVsZW1lbnQuIEl0IHdpbGwgYmUgdXNlZCBhcyBwcmVmaXggZm9yIHRoZSBmaW5hbCBlbGVtZW50IElkLlxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBjcmVhdGVkIGFuZCBhcHBsaWVkIHRvIERPTSBlbGVtZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfY3JlYXRlQXJpYUVsZW1lbnQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXR1c0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuY2xhc3NOYW1lID0gJ2FlLXNyLW9ubHknO1xuXG4gICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgncm9sZScsICdzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnaWQnLCBpZCArICdMaXZlUmVnaW9uJyk7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN0YXR1c0VsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1c0VsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCJpbXBvcnQgTGFuZyBmcm9tICcuL2xhbmcuanMnO1xuXG4vKipcbiAqIEF0dHJpYnV0ZSBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBAY2xhc3MgQXR0cmlidXRlXG4gKiBAY29uc3RydWN0b3JcbiovXG5mdW5jdGlvbiBBdHRyaWJ1dGUoY29uZmlnKSB7XG4gICAgdGhpcy5fX2NvbmZpZ19fID0gY29uZmlnIHx8IHt9O1xuICAgIHRoaXMuX19BVFRSU19fID0ge307XG59XG5cbkF0dHJpYnV0ZS5wcm90b3R5cGUgPSB7XG4gICAgY29uc3RydWN0b3I6IEF0dHJpYnV0ZSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuICAgICAqIEBtZXRob2QgZ2V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgVGhlIGF0dHJpYnV0ZSB3aGljaCB2YWx1ZSBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm4ge0FueX0gVGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgZ2V0OiBmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgIHZhciBjdXJyZW50QXR0ciA9IHRoaXMuY29uc3RydWN0b3IuQVRUUlNbYXR0cl07XG5cbiAgICAgICAgaWYgKCFjdXJyZW50QXR0cikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc0luaXRpYWxpemVkKGF0dHIpKSB7XG4gICAgICAgICAgICB0aGlzLl9pbml0KGF0dHIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1clZhbHVlID0gdGhpcy5fX0FUVFJTX19bYXR0cl07XG5cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLmdldHRlcikge1xuICAgICAgICAgICAgY3VyVmFsdWUgPSB0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci5nZXR0ZXIsIGN1clZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJWYWx1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgb2YgYW4gYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuICAgICAqIEBtZXRob2Qgc2V0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHIgVGhlIGF0dHJpYnV0ZSB3aGljaCB2YWx1ZSBzaG91bGQgYmUgc2V0LlxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggc2hvdWxkIGJlIHNldCB0byB0aGUgYXR0cmlidXRlLlxuICAgICAqL1xuICAgIHNldDogZnVuY3Rpb24oYXR0ciwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRBdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5BVFRSU1thdHRyXTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQoYXR0cikpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXQoYXR0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudEF0dHIucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50QXR0ci53cml0ZU9uY2UgJiYgdGhpcy5faXNJbml0aWFsaXplZChhdHRyKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLnZhbGlkYXRvciAmJiAhdGhpcy5fY2FsbFN0cmluZ09yRnVuY3Rpb24oY3VycmVudEF0dHIudmFsaWRhdG9yLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50QXR0ci5zZXR0ZXIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fY2FsbFN0cmluZ09yRnVuY3Rpb24oY3VycmVudEF0dHIuc2V0dGVyLCB2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9fQVRUUlNfX1thdHRyXSA9IHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgcHJvdmlkZWQgcGFyYW0gYXMgZnVuY3Rpb24gd2l0aCB0aGUgc3VwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqIElmIHBhcmFtIHByb3ZpZGVkIGFzIHN0cmluZywgYSBjb3JyZXNwb25kaW5nIGZ1bmN0aW9uIGluIHRoaXMgb2JqZWN0IHdpbGxcbiAgICAgKiBiZSBjYWxsZWQuIElmIHByb3ZpZGVkIHBhcmFtIGlzIGEgZnVuY3Rpb24sIGl0IHdpbGwgYmUgZGlyZWN0bHkgY2FsbGVkLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuICAgICAqIEBtZXRob2QgX2NhbGxTdHJpbmdPckZ1bmN0aW9uXG4gICAgICogQHBhcmFtICB7QW55fEFycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwcm92aWRlZCB0byB0aGUgY2FsbGVkIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtICB7U3RyaW5nfEZ1bmN0aW9ufSBzdHJpbmdPckZ1bmN0aW9uIFRoZSBmdW5jdGlvbiB3aGljaCBzaG91bGQgYmUgY2FsbGVkXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0FueX0gVGhlIHJldHVybmVkIHZhbHVlIGZyb20gdGhlIGNhbGxlZCBmdW5jdGlvblxuICAgICAqL1xuICAgIF9jYWxsU3RyaW5nT3JGdW5jdGlvbjogZnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbiwgYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgICAgICBpZiAoIUxhbmcuaXNBcnJheShhcmdzKSkge1xuICAgICAgICAgICAgYXJncyA9IFthcmdzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChMYW5nLmlzU3RyaW5nKHN0cmluZ09yRnVuY3Rpb24pICYmIExhbmcuaXNGdW5jdGlvbih0aGlzW3N0cmluZ09yRnVuY3Rpb25dKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpc1tzdHJpbmdPckZ1bmN0aW9uXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfSBlbHNlIGlmIChMYW5nLmlzRnVuY3Rpb24oc3RyaW5nT3JGdW5jdGlvbikpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN0cmluZ09yRnVuY3Rpb24uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBhdHRyaWJ1dGUuIFNldHMgaXRzIGRlZmF1bHQgdmFsdWUgZGVwZW5kaW5nIG9uIHRoZSBmbGFncyBvZiB0aGVcbiAgICAgKiBhdHRyaWJ1dGUgYW5kIHRoZSBwYXNzZWQgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuICAgICAqIEBtZXRob2QgX2luaXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHdoaWNoIGhhdmUgdG8gYmUgaW5pdGlhbGl6ZWQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9pbml0OiBmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgIHZhciB2YWx1ZTtcblxuICAgICAgICB2YXIgY3VycmVudEF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLkFUVFJTW2F0dHJdO1xuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIGRlZmF1bHQgdmFsdWUgb3IgcGFzc2VkIG9uZSB2aWEgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgICAgdmFyIGhhc0RlZmF1bHRWYWx1ZSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjdXJyZW50QXR0ciwgJ3ZhbHVlJyk7XG4gICAgICAgIHZhciBoYXNQYXNzZWRWYWx1ZVZpYUNvbmZpZyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9fY29uZmlnX18sIGF0dHIpO1xuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIHZhbHVlRm4sIHNldCB0aGUgdmFsdWUgdG8gYmUgdGhlIHJlc3VsdCBvZiBpbnZvY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb25cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLnZhbHVlRm4pIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fY2FsbFN0cmluZ09yRnVuY3Rpb24oY3VycmVudEF0dHIudmFsdWVGbiwgdmFsdWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9fQVRUUlNfX1thdHRyXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsc2UgaWYgdGhlIGF0dHJpYnV0ZSBoYXMgcmVhZE9ubHkgZmxhZywgc2V0IHRoZSBkZWZhdWx0IHZhbHVlIGZyb20gdGhlIGF0dHJpYnV0ZSxcbiAgICAgICAgLy8gcmVnYXJkbGVzcyBpZiB0aGVyZSBpcyB2YWx1ZSBvciBub3RcbiAgICAgICAgZWxzZSBpZiAoY3VycmVudEF0dHIucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gY3VycmVudEF0dHIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSBpZiB0aGUgYXR0cmlidXRlIGhhcyB3cml0ZU9uY2UgdmFsdWUsIHNldCBpdCBmcm9tIHRoZSBwYXNzZWQgY29uZmlndXJhdGlvbiBvciBmcm9tIHRoZVxuICAgICAgICAvLyBkZWZhdWx0IHZhbHVlLCBpbiB0aGlzIG9yZGVyLiBPdGhlcndpc2UsIHJldHVybiBtaXNlcmFibGUuXG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRBdHRyLndyaXRlT25jZSkge1xuICAgICAgICAgICAgaWYgKGhhc1Bhc3NlZFZhbHVlVmlhQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9fY29uZmlnX19bYXR0cl07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGhhc0RlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gY3VycmVudEF0dHIudmFsdWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVzZSB0d28gY2FzZXMgYmVsb3cgYXJlIGVhc3kgLSBzZXQgdGhlIHZhbHVlIHRvIGJlIGZyb20gdGhlIHBhc3NlZCBjb25maWcgb3JcbiAgICAgICAgLy8gZnJvbSB0aGUgZGVmYXVsdCB2YWx1ZSwgaW4gdGhpcyBvcmRlci5cbiAgICAgICAgZWxzZSBpZiAoaGFzUGFzc2VkVmFsdWVWaWFDb25maWcpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5fX2NvbmZpZ19fW2F0dHJdO1xuICAgICAgICB9IGVsc2UgaWYgKGhhc0RlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSBjdXJyZW50QXR0ci52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIHZhbGlkYXRvciwgYW5kIHVzZXIgcGFzc2VkIGNvbmZpZyBvYmplY3QgLSBjaGVjayB0aGUgcmV0dXJuZWQgdmFsdWUuXG4gICAgICAgIC8vIElmIGl0IGlzIGZhbHNlLCB0aGVuIHNldCBhcyBpbml0aWFsIHZhbHVlIHRoZSBkZWZhdWx0IG9uZS5cbiAgICAgICAgLy8gSG93ZXZlciwgaWYgdGhlcmUgaXMgbm8gZGVmYXVsdCB2YWx1ZSwganVzdCByZXR1cm4uXG4gICAgICAgIGlmIChjdXJyZW50QXR0ci52YWxpZGF0b3IgJiYgaGFzUGFzc2VkVmFsdWVWaWFDb25maWcgJiYgIXRoaXMuX2NhbGxTdHJpbmdPckZ1bmN0aW9uKGN1cnJlbnRBdHRyLnZhbGlkYXRvciwgdmFsdWUpKSB7XG4gICAgICAgICAgICBpZiAoaGFzRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjdXJyZW50QXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgc2V0dGVyIGFuZCB1c2VyIHBhc3NlZCBjb25maWcgb2JqZWN0IC0gcGFzcyB0aGUgdmFsdWUgdGhvdWdodCB0aGUgc2V0dGVyLlxuICAgICAgICAvLyBUaGUgdmFsdWUgbWlnaHQgYmUgb25lIGZyb20gZGVmYXVsdEZuLCBkZWZhdWx0IHZhbHVlIG9yIHByb3ZpZGVkIGZyb20gdGhlIGNvbmZpZy5cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLnNldHRlciAmJiBoYXNQYXNzZWRWYWx1ZVZpYUNvbmZpZykge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci5zZXR0ZXIsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZpbmFsbHksIHNldCB0aGUgdmFsdWUgYXMgaW5pdGlhbCB2YWx1ZSB0byB0aGUgc3RvcmFnZSB3aXRoIHZhbHVlcy5cbiAgICAgICAgdGhpcy5fX0FUVFJTX19bYXR0cl0gPSB2YWx1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGFuIGF0dHJpYnV0ZSBpcyBpbml0aWFsaXplZC4gQW4gYXR0cmlidXRlIGlzIGNvbnNpZGVyZWQgYXMgaW5pdGlhbGl6ZWRcbiAgICAgKiB3aGVuIHRoZXJlIGlzIGFuIG93biBwcm9wZXJ0eSB3aXRoIHRoaXMgbmFtZSBpbiB0aGUgbG9jYWwgY29sbGVjdGlvbiBvZiBhdHRyaWJ1dGUgdmFsdWVzXG4gICAgICogZm9yIHRoZSBjdXJyZW50IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEF0dHJpYnV0ZVxuICAgICAqIEBtZXRob2QgX2lzSW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHdoaWNoIHNob3VsZCBiZSBjaGVja2VkIGlmIGl0IGlzIGluaXRpYWxpemVkLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGF0dHJpYnV0ZSBoYXMgYmVlbiBpbml0aWFsaXplZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIF9pc0luaXRpYWxpemVkOiBmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fX0FUVFJTX18sIGF0dHIpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF0dHJpYnV0ZTsiLCJpbXBvcnQgQXR0cmlidXRlIGZyb20gJy4vYXR0cmlidXRlLmpzJztcbmltcG9ydCBMYW5nIGZyb20gJy4vbGFuZy5qcyc7XG5pbXBvcnQgZXh0ZW5kIGZyb20gJy4vb29wLmpzJztcblxuLyoqXG4gKiBRdWljayBhbmQgZGlydHkgaW1wbCBvZiBCYXNlIGNsYXNzLlxuICpcbiAqIEBjbGFzcyBCYXNlXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQmFzZShjb25maWcpIHtcbiAgICBCYXNlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLCBjb25maWcpO1xuXG4gICAgdGhpcy5pbml0KGNvbmZpZyk7XG59XG5cbmV4dGVuZChCYXNlLCBBdHRyaWJ1dGUsIHtcbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgYGluaXRpYWxpemVyYCBtZXRob2Qgb2YgZWFjaCBjbGFzcyB3aGljaCBleHRlbmRzIEJhc2Ugc3RhcnRpbmcgZnJvbSB0aGUgcGFyZW50IHRvIHRoZSBjaGlsZC5cbiAgICAgKiBXaWxsIHBhc3MgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIGVhY2ggaW5pdGlhbGl6ZXIgbWV0aG9kLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJhc2VcbiAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIENvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICovXG4gICAgaW5pdDogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgIHRoaXMuX2NhbGxDaGFpbignaW5pdGlhbGl6ZXInLCBjb25maWcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxscyB0aGUgYGRlc3RydWN0b3JgIG1ldGhvZCBvZiBlYWNoIGNsYXNzIHdoaWNoIGV4dGVuZHMgQmFzZSBzdGFydGluZyBmcm9tIHRoZSBwYXJlbnQgdG8gdGhlIGNoaWxkLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJhc2VcbiAgICAgKiBAbWV0aG9kIGRlc3Ryb3lcbiAgICAgKi9cbiAgICBkZXN0cm95OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fY2FsbENoYWluKCdkZXN0cnVjdG9yJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxzIGEgbWV0aG9kIG9mIGVhY2ggY2xhc3MsIHdoaWNoIGlzIGJlaW5nIHByZXNlbnQgaW4gdGhlIGhpZXJhcmNoeSBzdGFydGluZyBmcm9tIHBhcmVudCB0byB0aGUgY2hpbGQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQmFzZVxuICAgICAqIEBtZXRob2QgX2NhbGxDaGFpblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgd2l0aCB3aGljaCB0aGUgbWV0aG9kIHNob3VsZCBiZSBpbnZva2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHdhdCAgVGhlIG1ldGhvZCwgd2hpY2ggc2hvdWxkIGJlIGludm9rZWRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NhbGxDaGFpbjogZnVuY3Rpb24od2F0LCBhcmdzKSB7XG4gICAgICAgIHZhciBhcnIgPSBbXTtcblxuICAgICAgICB2YXIgY3RvciA9IHRoaXMuY29uc3RydWN0b3I7XG5cbiAgICAgICAgd2hpbGUgKGN0b3IpIHtcbiAgICAgICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oY3Rvci5wcm90b3R5cGVbd2F0XSkpIHtcbiAgICAgICAgICAgICAgICBhcnIucHVzaChjdG9yLnByb3RvdHlwZVt3YXRdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3RvciA9IGN0b3Iuc3VwZXJjbGFzcyA/IGN0b3Iuc3VwZXJjbGFzcy5jb25zdHJ1Y3RvciA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBhcnIgPSBhcnIucmV2ZXJzZSgpO1xuXG4gICAgICAgIGFyZ3MgPSBMYW5nLmlzQXJyYXkoYXJncykgPyBhcmdzIDogW2FyZ3NdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGFycltpXTtcblxuICAgICAgICAgICAgaXRlbS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBCYXNlOyIsIi8qKlxuICogUHJvdmlkZXMgY29yZSBsYW5ndWFnZSB1dGlsaXRpZXMuXG4gKlxuICogQGNsYXNzIExhbmdcbiAqL1xuY29uc3QgTGFuZyA9IHtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIGlzQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FueX0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIGhhdmUgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYW4gYXJyYXksIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgaXNBcnJheTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMYW5nXG4gICAgICogQG1ldGhvZCBpc0Jvb2xlYW5cbiAgICAgKiBAcGFyYW0ge0FueX0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIGhhdmUgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYm9vbGVhbiwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBpc0Jvb2xlYW46IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIGlzRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FueX0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIGhhdmUgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYSBmdW5jdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBpc0Z1bmN0aW9uOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mKHZhbHVlKSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBOVUxMLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIGlzTnVsbFxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBOVUxMLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIGlzTnVsbDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSBudWxsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMYW5nXG4gICAgICogQG1ldGhvZCBpc051bWJlclxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBudW1iZXIsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgaXNOdW1iZXI6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhbiBvYmplY3RcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMYW5nXG4gICAgICogQG1ldGhvZCBpc09iamVjdFxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgaXNPYmplY3Q6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHZhciB2YWx1ZVR5cGUgPSB0eXBlb2YgdmFsdWU7XG5cbiAgICAgICAgcmV0dXJuICh2YWx1ZSAmJiAodmFsdWVUeXBlID09PSAnb2JqZWN0JyB8fCBMYW5nLmlzRnVuY3Rpb24odmFsdWUpKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTGFuZ1xuICAgICAqIEBtZXRob2QgaXNTdHJpbmdcbiAgICAgKiBAcGFyYW0ge0FueX0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIGhhdmUgdG8gYmUgY2hlY2tlZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYSBzdHJpbmcsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgaXNTdHJpbmc6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBwcm9wZXJ0aWVzIGZyb20gdGhlIHN1cHBsaWVyIHRvIHRoZSByZWNlaXZlci5cbiAgICAgKiBUaGUgZnVuY3Rpb24gd2lsbCBhZGQgYWxsIHByb3BlcnRpZXMsIG5vdCBvbmx5IHRoZXNlIG93bmVkIGJ5IHRoZSBzdXBwbGllci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMYW5nXG4gICAgICogQG1ldGhvZCBtaXhcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVjZWl2ZXIgVGhlIG9iamVjdCB3aGljaCB3aWxsIHJlY2VpdmUgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3VwcGxpZXIgVGhlIG9iamVjdCB3aGljaCBwcm92aWRlcyBwcm9wZXJ0aWVzLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG1vZGlmaWVkIHJlY2VpdmVyLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBtaXg6IGZ1bmN0aW9uKHJlY2VpdmVyLCBzdXBwbGllcikge1xuICAgICAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBzdXBwbGllcikge1xuICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc3VwcGxpZXIsIGtleSkpIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlcltrZXldID0gc3VwcGxpZXJba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB2YWx1ZSB0byBJbnRlZ2VyLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIHRvSW50XG4gICAgICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNvbnZlcnRlZCB0byBJbnRlZ2VyLlxuICAgICAqIEByZXR1cm4ge0ludGVnZXJ9IFRoZSBjb252ZXJ0ZWQgdmFsdWUuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIHRvSW50OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMYW5nOyIsImltcG9ydCBMYW5nIGZyb20gJy4vbGFuZyc7XG5cbi8qKlxuICogU2V0cyB0aGUgcHJvdG90eXBlLCBjb25zdHJ1Y3RvciBhbmQgc3VwZXJjbGFzcyBwcm9wZXJ0aWVzIHRvIHN1cHBvcnQgYW4gaW5oZXJpdGFuY2Ugc3RyYXRlZ3lcbiAqIHRoYXQgY2FuIGNoYWluIGNvbnN0cnVjdG9ycyBhbmQgbWV0aG9kcy4gU3RhdGljIG1lbWJlcnMgd2lsbCBub3QgYmUgaW5oZXJpdGVkLlxuICpcbiAqIEBtZW1iZXJvZiBPT1BcbiAqIEBtZXRob2QgZXh0ZW5kXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWNlaXZlciBUaGUgY2xhc3Mgd2hpY2ggd2lsbCBleHRlbmQgYW5vdGhlciBjbGFzcy5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHN1cHBsaWVyIFRoZSBjbGFzcyB3aGljaCB3aWxsIHByb3ZpZGUgdGhlIHByb3BlcnRpZXMgdGhlIGNoaWxkIGNsYXNzLlxuICogQHBhcmFtIHtPYmplY3R9IHByb3RvUHJvcHMgUHJvdG90eXBlIHByb3BlcnRpZXMgdG8gYWRkL292ZXJyaWRlLlxuICogQHBhcmFtIHtPYmplY3R9IHN0YXRpY1Byb3BzIFN0YXRpYyBwcm9wZXJ0aWVzIHRvIGFkZC9vdmVyd3JpdGUuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGV4dGVuZGVkIGNsYXNzLlxuICogQHN0YXRpY1xuICovXG5jb25zdCBleHRlbmQgPSBmdW5jdGlvbihyZWNlaXZlciwgc3VwcGxpZXIsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKCFzdXBwbGllciB8fCAhcmVjZWl2ZXIpIHtcbiAgICAgICAgdGhyb3cgJ2V4dGVuZCBmYWlsZWQsIHZlcmlmeSBkZXBlbmRlbmNpZXMnO1xuICAgIH1cblxuICAgIHZhciBzdXBwbGllclByb3RvID0gc3VwcGxpZXIucHJvdG90eXBlLCByZWNlaXZlclByb3RvID0gT2JqZWN0LmNyZWF0ZShzdXBwbGllclByb3RvKTtcbiAgICByZWNlaXZlci5wcm90b3R5cGUgPSByZWNlaXZlclByb3RvO1xuXG4gICAgcmVjZWl2ZXJQcm90by5jb25zdHJ1Y3RvciA9IHJlY2VpdmVyO1xuICAgIHJlY2VpdmVyLnN1cGVyY2xhc3MgPSBzdXBwbGllclByb3RvO1xuXG4gICAgLy8gYXNzaWduIGNvbnN0cnVjdG9yIHByb3BlcnR5XG4gICAgaWYgKHN1cHBsaWVyICE9PSBPYmplY3QgJiYgc3VwcGxpZXJQcm90by5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBzdXBwbGllclByb3RvLmNvbnN0cnVjdG9yID0gc3VwcGxpZXI7XG4gICAgfVxuXG4gICAgLy8gYWRkIHByb3RvdHlwZSBvdmVycmlkZXNcbiAgICBpZiAocHJvdG9Qcm9wcykge1xuICAgICAgICBMYW5nLm1peChyZWNlaXZlclByb3RvLCBwcm90b1Byb3BzKTtcbiAgICB9XG5cbiAgICAvLyBhZGQgb2JqZWN0IG92ZXJyaWRlc1xuICAgIGlmIChzdGF0aWNQcm9wcykge1xuICAgICAgICBMYW5nLm1peChyZWNlaXZlciwgc3RhdGljUHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiByZWNlaXZlcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4dGVuZDsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGlzSUUgPSBDS0VESVRPUi5lbnYuaWU7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2FkZGltYWdlcycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWxsb3dzIERyYWcmRHJvcCBvZiBpbWFnZXMgZGlyZWN0bHkgaW50byB0aGUgZWRpdGFibGUgYXJlYS4gVGhlIGltYWdlIHdpbGwgYmUgZW5jb2RlZFxuICAgICAqIGFzIERhdGEgVVJJLiBBbiBldmVudCBgYmVmb3JlSW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgbGlzdCBvZiBkcm9wcGVkIGltYWdlcy4gSWYgYW55IG9mIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiByZXR1cm5zIGBmYWxzZWAgb3IgY2FuY2VscyB0aGUgZXZlbnQsIHRoZSBpbWFnZXMgd29uJ3QgYmUgYWRkZWQgdG8gdGhlIGNvbnRlbnQuIE90aGVyd2lzZSxcbiAgICAgKiBhbiBldmVudCBgaW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgaW5zZXJ0ZWQgZWxlbWVudCBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBiZWZvcmUgYWRkaW5nIGltYWdlcyB0byB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGV2ZW50IENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzI2JlZm9yZUltYWdlQWRkXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW1hZ2VGaWxlcyBBcnJheSBvZiBpbWFnZSBmaWxlc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbiBpbWFnZSBpcyBiZWluZyBhZGRlZCB0byB0aGUgZWRpdG9yIHN1Y2Nlc3NmdWxseS5cbiAgICAgKlxuICAgICAqIEBldmVudCBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcyNpbWFnZUFkZFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVsIFRoZSBjcmVhdGVkIGltYWdlIHdpdGggc3JjIGFzIERhdGEgVVJJXG4gICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBpbWFnZSBmaWxlXG4gICAgICovXG5cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2FkZGltYWdlcycsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5pdGlhbGl6YXRpb24gb2YgdGhlIHBsdWdpbiwgcGFydCBvZiBDS0VkaXRvciBwbHVnaW4gbGlmZWN5Y2xlLlxuICAgICAgICAgICAgICogVGhlIGZ1bmN0aW9uIHJlZ2lzdGVycyBhICdkcmFnZW50ZXInLCAnZHJhZ292ZXInLCAnZHJvcCcgYW5kIGBwYXN0ZWAgZXZlbnRzIG9uIHRoZSBlZGl0aW5nIGFyZWEuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdkcmFnZW50ZXInLCB0aGlzLl9vbkRyYWdFbnRlciwgdGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdkcmFnb3ZlcicsIHRoaXMuX29uRHJhZ092ZXIsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAnZHJvcCcsIHRoaXMuX29uRHJhZ0Ryb3AsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAncGFzdGUnLCB0aGlzLl9vblBhc3RlLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBY2NlcHRzIGFuIGFycmF5IG9mIGRyb3BwZWQgZmlsZXMgdG8gdGhlIGVkaXRvci4gVGhlbiwgaXQgZmlsdGVycyB0aGUgaW1hZ2VzIGFuZCBzZW5kcyB0aGVtIGZvciBmdXJ0aGVyXG4gICAgICAgICAgICAgKiBwcm9jZXNzaW5nIHRvIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzL19wcm9jZXNzRmlsZTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZmlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMjYmVmb3JlSW1hZ2VBZGRcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9oYW5kbGVGaWxlc1xuICAgICAgICAgICAgICogQHBhcmFtIHtBcnJheX0gZmlsZXMgQXJyYXkgb2YgZHJvcHBlZCBmaWxlcy4gT25seSB0aGUgaW1hZ2VzIGZyb20gdGhpcyBsaXN0IHdpbGwgYmUgcHJvY2Vzc2VkLlxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2hhbmRsZUZpbGVzOiBmdW5jdGlvbihmaWxlcywgZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGU7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VGaWxlcyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGUgPSBmaWxlc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZXMucHVzaChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBlZGl0b3IuZmlyZSgnYmVmb3JlSW1hZ2VBZGQnLCB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZXM6IGltYWdlRmlsZXNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmICghIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW1hZ2VGaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGltYWdlRmlsZXNbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NGaWxlKGZpbGUsIGVkaXRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhhbmRsZXMgZHJhZyBkcm9wIGV2ZW50LiBUaGUgZnVuY3Rpb24gd2lsbCBjcmVhdGUgYSBzZWxlY3Rpb24gZnJvbSB0aGUgY3VycmVudFxuICAgICAgICAgICAgICogcG9pbnQgYW5kIHdpbGwgc2VuZCBhIGxpc3Qgb2YgZmlsZXMgdG8gYmUgcHJvY2Vzc2VkIHRvXG4gICAgICAgICAgICAgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcy9faGFuZGxlRmlsZXM6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319IG1ldGhvZC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuICAgICAgICAgICAgICogQG1ldGhvZCBfb25EcmFnRHJvcFxuICAgICAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZXZlbnR9IGV2ZW50IGRyYWdkcm9wIGV2ZW50LCBhcyByZWNlaXZlZCBuYXRpdmVseSBmcm9tIENLRWRpdG9yXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbkRyYWdEcm9wOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuICAgICAgICAgICAgICAgIHZhciB0cmFuc2ZlckZpbGVzID0gbmF0aXZlRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRyYW5zZmVyRmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KG5hdGl2ZUV2ZW50KS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBldmVudC5saXN0ZW5lckRhdGEuZWRpdG9yO1xuXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Lmxpc3RlbmVyRGF0YS5lZGl0b3IuY3JlYXRlU2VsZWN0aW9uRnJvbVBvaW50KG5hdGl2ZUV2ZW50LmNsaWVudFgsIG5hdGl2ZUV2ZW50LmNsaWVudFkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUZpbGVzKHRyYW5zZmVyRmlsZXMsIGVkaXRvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIYW5kbGVzIGRyYWcgZW50ZXIgZXZlbnQuIEluIGNhc2Ugb2YgSUUsIHRoaXMgZnVuY3Rpb24gd2lsbCBwcmV2ZW50IHRoZSBldmVudC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuICAgICAgICAgICAgICogQG1ldGhvZCBfb25EcmFnRW50ZXJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RE9NIGV2ZW50fSBldmVudCBkcmFnZW50ZXIgZXZlbnQsIGFzIHJlY2VpdmVkIG5hdGl2ZWx5IGZyb20gQ0tFZGl0b3JcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX29uRHJhZ0VudGVyOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0lFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXZlbnRFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIYW5kbGVzIGRyYWcgb3ZlciBldmVudC4gSW4gY2FzZSBvZiBJRSwgdGhpcyBmdW5jdGlvbiB3aWxsIHByZXZlbnQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9vbkRyYWdPdmVyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0RPTSBldmVudH0gZXZlbnQgZHJhZ292ZXIgZXZlbnQsIGFzIHJlY2VpdmVkIG5hdGl2ZWx5IGZyb20gQ0tFZGl0b3JcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX29uRHJhZ092ZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzSUUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENoZWNrcyBpZiB0aGUgcGFzdGVkIGRhdGEgaXMgaW1hZ2UgYW5kIHBhc3NlcyBpdCB0b1xuICAgICAgICAgICAgICoge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMvX3Byb2Nlc3NGaWxlOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fSBmb3IgcHJvY2Vzc2luZy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuICAgICAgICAgICAgICogQG1ldGhvZCBfb25QYXN0ZVxuICAgICAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZXZlbnR9IGV2ZW50IEEgYHBhc3RlYCBldmVudCwgYXMgcmVjZWl2ZWQgbmF0aXZlbHkgZnJvbSBDS0VkaXRvclxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfb25QYXN0ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLiQgJiYgZXZlbnQuZGF0YS4kLmNsaXBib2FyZERhdGEgJiYgZXZlbnQuZGF0YS4kLmNsaXBib2FyZERhdGEuaXRlbXMgJiYgZXZlbnQuZGF0YS4kLmNsaXBib2FyZERhdGEuaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzdGVkRGF0YSA9IGV2ZW50LmRhdGEuJC5jbGlwYm9hcmREYXRhLml0ZW1zWzBdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXN0ZWREYXRhLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlRmlsZSA9IHBhc3RlZERhdGEuZ2V0QXNGaWxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NGaWxlKGltYWdlRmlsZSwgZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByZXZlbnRzIGEgbmF0aXZlIGV2ZW50LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9wcmV2ZW50RXZlbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RE9NIGV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfcHJldmVudEV2ZW50OiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gbmV3IENLRURJVE9SLmRvbS5ldmVudChldmVudC5kYXRhLiQpO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJvY2Vzc2VzIGFuIGltYWdlIGZpbGUuIFRoZSBmdW5jdGlvbiBjcmVhdGVzIGFuIGltZyBlbGVtZW50IGFuZCBzZXRzIGFzIHNvdXJjZVxuICAgICAgICAgICAgICogYSBEYXRhIFVSSSwgdGhlbiBmaXJlcyBhbiAnaW1hZ2VBZGQnIGV2ZW50IHZpYSBDS0VkaXRvcidzIGV2ZW50IHN5c3RlbS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAZmlyZXMgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMjaW1hZ2VBZGRcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9wcmV2ZW50RXZlbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RE9NIGV2ZW50fSBldmVudCBUaGUgZXZlbnQgdG8gYmUgcHJldmVudGVkLlxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfcHJvY2Vzc0ZpbGU6IGZ1bmN0aW9uKGZpbGUsIGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJpbiA9IHJlYWRlci5yZXN1bHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxpbWcgc3JjPVwiJyArIGJpbiArICdcIj4nKTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0RWxlbWVudChlbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGZpbGVcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZSgnaW1hZ2VBZGQnLCBpbWFnZURhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9hdXRvbGluaycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlcyB0aGUgYXV0byBVUkwgZGV0ZWN0aW9uIGZlYXR1cmUgaW4gSUUsIHRoZWlyIGxhY2tzIGZ1bmN0aW9uYWxpdHk6XG4gICAgLy8gVGhleSBjb252ZXJ0IHRoZSBsaW5rcyBvbmx5IG9uIHNwYWNlLiBXZSBkbyBvbiBzcGFjZSwgY29tbWEsIHNlbWljb2xvbiBhbmQgRW50ZXIuXG4gICAgaWYgKC9NU0lFIChbXjtdKil8VHJpZGVudC4qOyBydjooWzAtOS5dKykvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ0F1dG9VcmxEZXRlY3QnLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIHZhciBLRVlfQkFDSyA9IDg7XG5cbiAgICB2YXIgS0VZX0NPTU1BID0gMTg4O1xuXG4gICAgdmFyIEtFWV9FTlRFUiA9IDEzO1xuXG4gICAgdmFyIEtFWV9TRU1JQ09MT04gPSAxODY7XG5cbiAgICB2YXIgS0VZX1NQQUNFID0gMzI7XG5cbiAgICB2YXIgREVMSU1JVEVSUyA9IFtLRVlfQ09NTUEsIEtFWV9FTlRFUiwgS0VZX1NFTUlDT0xPTiwgS0VZX1NQQUNFXTtcblxuICAgIHZhciBSRUdFWF9MQVNUX1dPUkQgPSAvW15cXHNdKy9naW07XG5cbiAgICB2YXIgUkVHRVhfVVJMID0gLygoKFtBIC0gWmEgLSB6XXsgMywgOX06ICg/OiBcXC9cXC8pPykoPzpbLTs6Jj1cXCtcXCQsXFx3XStAKT9bQS1aYS16MC05Li1dK3woaHR0cHM/XFw6XFwvXFwvfHd3dy58Wy07OiY9LlxcK1xcJCxcXHddK0ApW0EtWmEtejAtOS4tXSspKCg/OlxcL1tcXCt+JVxcLy5cXHctX10qKT9cXD8/KD86Wy1cXCs9JjslQC5cXHdfXSopIz8oPzpbXFx3XSopKSgoLiopOihcXGQqKVxcLz8oLiopKT8pL2k7XG5cbiAgICB2YXIgUkVHRVhfRU1BSUwgPSAvW2EtekEtWjAtOS5fLV0rQFthLXpBLVowLTkuLV0rXFwuW2EtekEtWl17Miw0fS9pO1xuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgcGx1Z2luIHdoaWNoIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIGxpbmtzIHdoZW4gdXNlciB0eXBlcyB0ZXh0IHdoaWNoIGxvb2tzIGxpa2UgVVJMLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2F1dG9saW5rJywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiByZWdpc3RlcnMgdGhlIGBrZXl1cGAgZXZlbnQgb24gdGhlIGVkaXRpbmcgYXJlYS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAna2V5dXAnLCB0aGlzLl9vbktleVVwLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKCdwYXN0ZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5tZXRob2QgPT09ICdwYXN0ZScpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEuZGF0YVZhbHVlLmluZGV4T2YoJzwnKSA+IC0xIHx8IGV2ZW50LmRhdGEuZGF0YVZhbHVlLmluZGV4T2YoJyZsdDsnKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQuZGF0YS5kYXRhVmFsdWUuaW5kZXhPZignPHU+PGZvbnQgY29sb3I9XFxcIicpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5kYXRhVmFsdWUgPSBldmVudC5kYXRhLmRhdGFWYWx1ZS5yZXBsYWNlKC88dT48Zm9udCBjb2xvcj1cXFwiIyguKj8pXFxcIj58PFxcL2ZvbnQ+PFxcL3U+L2csJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEuZGF0YVZhbHVlID0gZXZlbnQuZGF0YS5kYXRhVmFsdWUucmVwbGFjZShSZWdFeHAoUkVHRVhfVVJMLCAnZ2ltJyksIGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuX2lzVmFsaWRVUkwodXJsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuX2lzVmFsaWRFbWFpbCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxhIGhyZWY9XFxcIm1haWx0bzonICsgdXJsICsgJ1xcXCI+JyArIHVybCArICc8L2E+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnPGEgaHJlZj1cXFwiJyArIHVybCArICdcXFwiPicgKyB1cmwgKyAnPC9hPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJldHJpZXZlcyB0aGUgbGFzdCB3b3JkIGludHJvZHVjZWQgYnkgdGhlIHVzZXIuIFJlYWRzIGZyb20gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAqIGNhcmV0IHBvc2l0aW9uIGJhY2t3YXJkcyB1bnRpbCBpdCBmaW5kcyB0aGUgZmlyc3Qgd2hpdGUgc3BhY2UuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlua1xuICAgICAgICAgICAgICogQG1ldGhvZCBfZ2V0TGFzdFdvcmRcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGxhc3Qgd29yZCBpbnRyb2R1Y2VkIGJ5IHVzZXJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2dldExhc3RXb3JkOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNUZXh0ID0gJyc7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGUgdXNlciBwcmVzc2VkIEVudGVyLCBzbyB3ZSBoYXZlIHRvIGxvb2sgb24gdGhlIHByZXZpb3VzIG5vZGVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNOb2RlID0gcmFuZ2Uuc3RhcnRDb250YWluZXIuZ2V0UHJldmlvdXMoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoaWxkO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c05vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHByZXZpb3VzIG5vZGUgaXMgYSBTUEFDRSwgKGl0IGRvZXMgbm90IGhhdmUgJ2dldExhc3QnIG1ldGhvZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgaXQgYW5kIGZpbmQgdGhlIHByZXZpb3VzIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCFwcmV2aW91c05vZGUuZ2V0TGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IHByZXZpb3VzTm9kZS5nZXRQcmV2aW91cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSBwcmV2aW91c05vZGUuZ2V0TGFzdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXBlbmRpbmcgb24gdGhlIGJyb3dzZXIsIHRoZSBsYXN0IGNoaWxkIG5vZGUgbWF5IGJlIGEgPEJSPlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKHdoaWNoIGRvZXMgbm90IGhhdmUgJ2dldFRleHQnIG1ldGhvZCksXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBpZ25vcmUgaXQgYW5kIGZpbmQgdGhlIHByZXZpb3VzIHRleHQgbm9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxhc3RDaGlsZCAmJiAhbGFzdENoaWxkLmdldFRleHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDaGlsZCA9IGxhc3RDaGlsZC5nZXRQcmV2aW91cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGxhc3RDaGlsZCBpcyBhbHJlYWR5IGEgbGlua1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShsYXN0Q2hpbGQgJiYgbGFzdENoaWxkLiQuaHJlZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0Q29udGFpbmVyID0gbGFzdENoaWxkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNUZXh0ID0gbGFzdENoaWxkID8gbGFzdENoaWxkLmdldFRleHQoKSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gcHJldmlvdXNUZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0Q29udGFpbmVyID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTGFzdCBjaGFyYWN0ZXIgaXMgdGhlIGRlbGltaXRlciwgaWdub3JlIGl0XG4gICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVGV4dCA9IHRoaXMuX3N0YXJ0Q29udGFpbmVyLmdldFRleHQoKS5zdWJzdHJpbmcoMCwgb2Zmc2V0IC0gMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0IC0gMTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbGFzdFdvcmQgPSAnJztcblxuICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IHByZXZpb3VzVGV4dC5tYXRjaChSRUdFWF9MQVNUX1dPUkQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RXb3JkID0gbWF0Y2gucG9wKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RXb3JkO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGxpbmsgaXMgYSB2YWxpZCBFbWFpbC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGlzVmFsaWRFbWFpbFxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmsgVGhlIGVtYWlsIHdlIHdhbnQgdG8ga25vdyBpZiBpdCBpcyBhIHZhbGlkIEVtYWlsXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGVtYWlsIGlzIGEgdmFsaWQgRW1haWwsIGZhbHNlIG90aGVyd2lzZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfaXNWYWxpZEVtYWlsOiBmdW5jdGlvbihlbWFpbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSRUdFWF9FTUFJTC50ZXN0KGVtYWlsKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBsaW5rIGlzIGEgdmFsaWQgVVJMLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgaXNWYWxpZFVSTFxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmsgVGhlIGxpbmsgd2Ugd2FudCB0byBrbm93IGlmIGl0IGlzIGEgdmFsaWQgVVJMXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGxpbmsgaXMgYSB2YWxpZCBVUkwsIGZhbHNlIG90aGVyd2lzZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfaXNWYWxpZFVSTDogZnVuY3Rpb24obGluaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSRUdFWF9VUkwudGVzdChsaW5rKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGlzdGVucyB0byB0aGUgYGtleWRvd25gIGV2ZW50IGFuZCBpZiB0aGUga2V5Y29kZSBpcyBgQmFja3NwYWNlYCwgcmVtb3ZlcyB0aGUgcHJldmlvdXNseVxuICAgICAgICAgICAgICogY3JlYXRlZCBsaW5rLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX29uS2V5RG93blxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudEZhY2FkZX0gZXZlbnQgRXZlbnRGYWNhZGUgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbktleURvd246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQuZGF0YS4kO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IGV2ZW50Lmxpc3RlbmVyRGF0YS5lZGl0b3I7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgIGVkaXRhYmxlLnJlbW92ZUxpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5rZXlDb2RlID09PSBLRVlfQkFDSykge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpbmsoZWRpdG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9ja0xpbmsgPSBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMaXN0ZW5zIHRvIHRoZSBgRW50ZXJgIGFuZCBgU3BhY2VgIGtleSBldmVudHMgaW4gb3JkZXIgdG8gY2hlY2sgaWYgdGhlIGxhc3Qgd29yZFxuICAgICAgICAgICAgICogaW50cm9kdWNlZCBieSB0aGUgdXNlciBzaG91bGQgYmUgcmVwbGFjZWQgYnkgYSBsaW5rIGVsZW1lbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlua1xuICAgICAgICAgICAgICogQG1ldGhvZCBfb25LZXlVcFxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudEZhY2FkZX0gZXZlbnQgRXZlbnRGYWNhZGUgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbktleVVwOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRLZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcblxuICAgICAgICAgICAgICAgIGlmIChERUxJTUlURVJTLmluZGV4T2YodGhpcy5fY3VycmVudEtleUNvZGUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFdvcmQgPSB0aGlzLl9nZXRMYXN0V29yZChlZGl0b3IpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkVVJMKGxhc3RXb3JkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVwbGFjZUNvbnRlbnRCeUxpbmsoZWRpdG9yLCBsYXN0V29yZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlcGxhY2VzIGNvbnRlbnQgYnkgYSBsaW5rIGVsZW1lbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGZpcmVzIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmsjYXV0b2xpbmtBZGRcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3JlcGxhY2VDb250ZW50QnlMaW5rXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBUaGUgdGV4dCB0aGF0IGhhcyB0byBiZSByZXBsYWNlZCBieSBhbiBsaW5rIGVsZW1lbnRcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3JlcGxhY2VDb250ZW50QnlMaW5rOiBmdW5jdGlvbihlZGl0b3IsIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IENLRURJVE9SLmRvbS5lbGVtZW50LmdldCh0aGlzLl9zdGFydENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldDtcblxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgY29udGVudCwgc28gQ0tFRElUT1IuTGluayBjYW4gcHJvcGVybHkgcmVwbGFjZSBpdFxuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCAtIGNvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcblxuICAgICAgICAgICAgICAgIHZhciBja0xpbmsgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IpO1xuICAgICAgICAgICAgICAgIGNrTGluay5jcmVhdGUoY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2tMaW5rID0gY2tMaW5rO1xuXG4gICAgICAgICAgICAgICAgdmFyIGxpbmtOb2RlID0gY2tMaW5rLmdldEZyb21TZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZSgnYXV0b2xpbmtBZGQnLCBsaW5rTm9kZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmVUb0tleUV2ZW50KGVkaXRvcik7XG5cbiAgICAgICAgICAgICAgICAvLyBOb3cgcmFuZ2UgaXMgb24gdGhlIGxpbmsgYW5kIGl0IGlzIHNlbGVjdGVkLiBXZSBoYXZlIHRvXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGZvY3VzIHRvIHRoZSBjYXJldCBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgcHJlc3NlZCBgRW50ZXJgLCBnZXQgdGhlIG5leHQgZWRpdGFibGUgbm9kZSBhdCBwb3NpdGlvbiAwLFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzZXQgdGhlIGN1cnNvciBhdCB0aGUgbmV4dCBjaGFyYWN0ZXIgb2YgdGhlIGxpbmsgKHRoZSB3aGl0ZSBzcGFjZSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEVkaXRhYmxlTm9kZSA9IHJhbmdlLmdldE5leHRFZGl0YWJsZU5vZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChuZXh0RWRpdGFibGVOb2RlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKG5leHRFZGl0YWJsZU5vZGUsIDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IHJhbmdlLmdldE5leHROb2RlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobmV4dE5vZGUsIDEpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobmV4dE5vZGUsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaXJlZCB3aGVuIGEgVVJMIGlzIGRldGVjdGVkIGluIHRleHQgYW5kIGNvbnZlcnRlZCB0byBhIGxpbmsuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmsjYXV0b2xpbmtBZGRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBlbCBOb2RlIG9mIHRoZSBjcmVhdGVkIGxpbmsuXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW1vdmVzIHRoZSBjcmVhdGVkIGxpbmsgZWxlbWVudCwgYW5kIHJlcGxhY2VzIGl0IGJ5IGl0cyB0ZXh0LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3JlbW92ZUxpbmtcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3JlbW92ZUxpbms6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRPZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldDtcblxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbGluaywgc28gQ0tFRElUT1IuTGluayBjYW4gcHJvcGVybHkgcmVtb3ZlIGl0XG4gICAgICAgICAgICAgICAgdmFyIGxpbmtOb2RlID0gdGhpcy5fc3RhcnRDb250YWluZXIuZ2V0TmV4dCgpIHx8IHRoaXMuX3N0YXJ0Q29udGFpbmVyO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld1JhbmdlID0gZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgbmV3UmFuZ2Uuc2V0U3RhcnQobGlua05vZGUsIDApO1xuICAgICAgICAgICAgICAgIG5ld1JhbmdlLnNldEVuZEFmdGVyKGxpbmtOb2RlKTtcbiAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZWxlY3QoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NrTGluay5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byB0aGUgY2FyZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIGNhcmV0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChyYW5nZS5zdGFydENvbnRhaW5lciwgY2FyZXRPZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN1YnNjcmliZSB0byBhIGtleSBldmVudCBvZiB0aGUgZWRpdGFibGUgYXJpYS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9zdWJzY3JpYmVUb0tleUV2ZW50XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9zdWJzY3JpYmVUb0tleUV2ZW50OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgcHJpb3JpdHkgb2Yga2V5ZG93biBsaXN0ZW5lciAtIDEgbWVhbnMgdGhlIGhpZ2hlc3QgcHJpb3JpdHkuXG4gICAgICAgICAgICAgICAgLy8gSW4gQ2hyb21lIG9uIHByZXNzaW5nIGBFbnRlcmAgdGhlIGxpc3RlbmVyIGlzIG5vdCBiZWluZyBpbnZva2VkLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vZGV2LmNrZWRpdG9yLmNvbS90aWNrZXQvMTE4NjEgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTtcbiIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9hdXRvbGlzdCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgS0VZX0JBQ0sgPSA4O1xuXG4gICAgdmFyIEtFWV9TUEFDRSA9IDMyO1xuXG4gICAgdmFyIERFRkFVTFRfQ09ORklHID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICByZWdleDogL15cXCokLyxcbiAgICAgICAgICAgIHR5cGU6ICdidWxsZXRlZGxpc3QnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlZ2V4OiAvXjFcXC4kLyxcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXJlZGxpc3QnXG4gICAgICAgIH1cbiAgICBdO1xuXG5cdC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBvcmRlcmVkL3Vub3JkZXJlZCBsaXN0IHdoZW4gdXNlciB0eXBlcyB0ZXh0IHdoaWNoIGxvb2tzIGxpa2UgYSBsaXN0LlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3RcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2F1dG9saXN0Jywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tlZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiByZWdpc3RlcnMgdGhlIGBrZXlkb3duYCBldmVudCBvbiB0aGUgY29udGVudCBlZGl0aW5nIGFyZWEuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGZvciBwcmVzc2luZyB0aGUgYEJhY2tzcGFjZWAga2V5IGluIG9yZGVyIHRvIHVuZG8gdGhlIGxpc3QgY3JlYXRpb24uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuICAgICAgICAgICAgICogQG1ldGhvZCBfY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3RcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2NoZWNrRm9yQmFja3NwYWNlQW5kVW5kbzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuICAgICAgICAgICAgICAgIHZhciBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgZWRpdGFibGUucmVtb3ZlTGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jaGVja0ZvckJhY2tzcGFjZUFuZFVuZG8pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IEtFWV9CQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgndW5kbycpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0SHRtbChldmVudC5saXN0ZW5lckRhdGEuYnVsbGV0ICsgJyZuYnNwOycpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVja3MgY3VycmVudCBsaW5lIHRvIGZpbmQgbWF0Y2ggd2l0aCBNQVRDSEVTIG9iamVjdCB0byBjcmVhdGUgT0wgb3IgVUwuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuICAgICAgICAgICAgICogQG1ldGhvZCBfY2hlY2tMaW5lXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2VkaXRvcn0gRWRpdG9yIG9iamVjdFxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fG51bGx9IFJldHVybnMgYW4gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBkZXRlY3RlZCBsaXN0IGNvbmZpZyBpZiBhbnlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2dldExpc3RDb25maWc6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBjb25maWdSZWdleCA9IGVkaXRvci5jb25maWcuYXV0b2xpc3QgfHwgREVGQVVMVF9DT05GSUc7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cbiAgICAgICAgICAgICAgICB2YXIgdGV4dENvbnRhaW5lciA9IHJhbmdlLmVuZENvbnRhaW5lci5nZXRUZXh0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYnVsbGV0ID0gdGV4dENvbnRhaW5lci5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnRPZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSB0ZXh0Q29udGFpbmVyLnN1YnN0cmluZyhyYW5nZS5zdGFydE9mZnNldCwgdGV4dENvbnRhaW5lci5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgIHZhciByZWdleExlbiA9IGNvbmZpZ1JlZ2V4Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHZhciBhdXRvbGlzdENmZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoIWF1dG9saXN0Q2ZnICYmIHJlZ2V4TGVuID4gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4SXRlbSA9IGNvbmZpZ1JlZ2V4W2luZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXhJdGVtLnJlZ2V4LnRlc3QoYnVsbGV0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2xpc3RDZmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0OiBidWxsZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByZWdleEl0ZW0udHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBhdXRvbGlzdENmZztcbiAgICAgICAgICAgIH0sXG5cblx0XHRcdC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlIGxpc3Qgd2l0aCBkaWZmZXJlbnQgdHlwZXM6IEJ1bGxldGVkIG9yIE51bWJlcmVkIGxpc3RcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saXN0XG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9jcmVhdGVMaXN0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbGlzdENvbmZpZyBPYmplY3QgdGhhdCBjb250YWlucyBidWxsZXQsIHRleHQgYW5kIHR5cGUgZm9yIGNyZWF0aW5nIHRoZSBsaXN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG5cdFx0XHQgKi9cbiAgICAgICAgICAgIF9jcmVhdGVMaXN0OiBmdW5jdGlvbihsaXN0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IGxpc3RDb25maWcuZWRpdG9yO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kQ29udGFpbmVyLnNldFRleHQobGlzdENvbmZpZy50ZXh0KTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQobGlzdENvbmZpZy50eXBlKTtcblxuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIGtleWRvd24gaW4gb3JkZXIgdG8gY2hlY2sgaWYgdGhlIG5leHQga2V5IHByZXNzIGlzIGBCYWNrc3BhY2VgLlxuICAgICAgICAgICAgICAgIC8vIElmIHNvLCB0aGUgY3JlYXRpb24gb2YgdGhlIGxpc3Qgd2lsbCBiZSBkaXNjYXJkZWQuXG4gICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdrZXlkb3duJywgdGhpcy5fY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICBidWxsZXQ6IGxpc3RDb25maWcuYnVsbGV0XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9LFxuXG5cdFx0XHQvKipcbiAgICAgICAgICAgICAqIExpc3RlbnMgdG8gdGhlIGBTcGFjZWAga2V5IGV2ZW50cyB0byBjaGVjayBpZiB0aGUgbGFzdCB3b3JkXG4gICAgICAgICAgICAgKiBpbnRyb2R1Y2VkIGJ5IHRoZSB1c2VyIHNob3VsZCBiZSByZXBsYWNlZCBieSBhIGxpc3QgKE9MIG9yIFVMKVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3RcbiAgICAgICAgICAgICAqIEBtZXRob2QgX29uS2V5RG93blxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbktleURvd246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQuZGF0YS4kO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IEtFWV9TUEFDRSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdENvbmZpZyA9IHRoaXMuX2dldExpc3RDb25maWcoZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUxpc3QobGlzdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblx0KTtcbn0oKSk7IiwiLyoqXG4gKiBDS0VkaXRvciBwbHVnaW46IERyYWdhYmxlIGltYWdlIHJlc2l6aW5nXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3N0dXIvY2stZHJhZ3Jlc2l6ZVxuICogLSBTaG93cyBzZW1pLXRyYW5zcGFyZW50IG92ZXJsYXkgd2hpbGUgcmVzaXppbmdcbiAqIC0gRW5mb3JjZXMgQXNwZWN0IFJhdGlvICh1bmxlc3MgaG9sZGluZyBzaGlmdClcbiAqIC0gU25hcCB0byBzaXplIG9mIG90aGVyIGltYWdlcyBpbiBlZGl0b3JcbiAqIC0gRXNjYXBlIHdoaWxlIGRyYWdnaW5nIGNhbmNlbHMgcmVzaXplXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2RyYWdyZXNpemUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIElNQUdFX0hBTkRMRVMgPSB7XG4gICAgICAgIGJvdGg6IFsndGwnLCAndG0nLCAndHInLCAnbG0nLCAncm0nLCAnYmwnLCAnYm0nLCAnYnInXSxcbiAgICAgICAgaGVpZ2h0OiBbJ3RsJywgJ3RtJywgJ3RyJywgJ2JsJywgJ2JtJywgJ2JyJ10sXG4gICAgICAgIHNjYWxlOiBbJ3RsJywgJ3RyJywgJ2JsJywgJ2JyJ10sXG4gICAgICAgIHdpZHRoOiBbJ3RsJywgJ3RyJywgJ2xtJywgJ3JtJywgJ2JsJywgJ2JyJ10sXG4gICAgfTtcblxuICAgIHZhciBQT1NJVElPTl9FTEVNRU5UX0ZOID0ge1xuICAgICAgICBibDogZnVuY3Rpb24oaGFuZGxlLCBsZWZ0LCB0b3AsIGJveCkge1xuICAgICAgICAgICAgcG9zaXRpb25FbGVtZW50KGhhbmRsZSwgLTMgKyBsZWZ0LCBib3guaGVpZ2h0IC0gNCArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGJtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBNYXRoLnJvdW5kKGJveC53aWR0aCAvIDIpIC0gMyArIGxlZnQsIGJveC5oZWlnaHQgLSA0ICsgdG9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgYnI6IGZ1bmN0aW9uKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGJveC53aWR0aCAtIDQgKyBsZWZ0LCBib3guaGVpZ2h0IC0gNCArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCAtMyArIGxlZnQsIE1hdGgucm91bmQoYm94LmhlaWdodCAvIDIpIC0gMyArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRsOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBsZWZ0IC0gMywgdG9wIC0gMyk7XG4gICAgICAgIH0sXG4gICAgICAgIHRtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBNYXRoLnJvdW5kKGJveC53aWR0aCAvIDIpIC0gMyArIGxlZnQsIC0zICsgdG9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHI6IGZ1bmN0aW9uKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGJveC53aWR0aCAtIDQgKyBsZWZ0LCAtMyArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBib3gud2lkdGggLSA0ICsgbGVmdCwgTWF0aC5yb3VuZChib3guaGVpZ2h0IC8gMikgLSAzICsgdG9wKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgSU1BR0VfU05BUF9UT19TSVpFID0gNztcblxuICAgIHZhciBpc0ZpcmVmb3ggPSAoJ01vekFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSk7XG5cbiAgICB2YXIgaXNXZWJLaXQgPSAoJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSk7XG5cbiAgICB2YXIgZW5hYmxlUGx1Z2luID0gaXNXZWJLaXQgfHwgaXNGaXJlZm94O1xuXG4gICAgaWYgKGVuYWJsZVBsdWdpbikge1xuICAgICAgICAvLyBDU1MgaXMgYWRkZWQgaW4gYSBjb21wcmVzc2VkIGZvcm1cbiAgICAgICAgQ0tFRElUT1IuYWRkQ3NzKCdpbWc6OnNlbGVjdGlvbntjb2xvcjpyZ2JhKDAsMCwwLDApfWltZy5ja2ltZ3JzentvdXRsaW5lOjFweCBkYXNoZWQgIzAwMH0jY2tpbWdyc3p7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MDtjdXJzb3I6ZGVmYXVsdDt6LWluZGV4OjEwMDAxfSNja2ltZ3JzeiBzcGFue2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MDtoZWlnaHQ6MDtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO29wYWNpdHk6LjY1O291dGxpbmU6MXB4IGRhc2hlZCAjMDAwfSNja2ltZ3JzeiBpe3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7d2lkdGg6NXB4O2hlaWdodDo1cHg7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgIzAwMH0jY2tpbWdyc3ogaS5hY3RpdmUsI2NraW1ncnN6IGk6aG92ZXJ7YmFja2dyb3VuZDojMDAwfSNja2ltZ3JzeiBpLmJyLCNja2ltZ3JzeiBpLnRse2N1cnNvcjpud3NlLXJlc2l6ZX0jY2tpbWdyc3ogaS5ibSwjY2tpbWdyc3ogaS50bXtjdXJzb3I6bnMtcmVzaXplfSNja2ltZ3JzeiBpLmJsLCNja2ltZ3JzeiBpLnRye2N1cnNvcjpuZXN3LXJlc2l6ZX0jY2tpbWdyc3ogaS5sbSwjY2tpbWdyc3ogaS5ybXtjdXJzb3I6ZXctcmVzaXplfWJvZHkuZHJhZ2dpbmctYnIsYm9keS5kcmFnZ2luZy1iciAqLGJvZHkuZHJhZ2dpbmctdGwsYm9keS5kcmFnZ2luZy10bCAqe2N1cnNvcjpud3NlLXJlc2l6ZSFpbXBvcnRhbnR9Ym9keS5kcmFnZ2luZy1ibSxib2R5LmRyYWdnaW5nLWJtICosYm9keS5kcmFnZ2luZy10bSxib2R5LmRyYWdnaW5nLXRtICp7Y3Vyc29yOm5zLXJlc2l6ZSFpbXBvcnRhbnR9Ym9keS5kcmFnZ2luZy1ibCxib2R5LmRyYWdnaW5nLWJsICosYm9keS5kcmFnZ2luZy10cixib2R5LmRyYWdnaW5nLXRyICp7Y3Vyc29yOm5lc3ctcmVzaXplIWltcG9ydGFudH1ib2R5LmRyYWdnaW5nLWxtLGJvZHkuZHJhZ2dpbmctbG0gKixib2R5LmRyYWdnaW5nLXJtLGJvZHkuZHJhZ2dpbmctcm0gKntjdXJzb3I6ZXctcmVzaXplIWltcG9ydGFudH0nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgcGx1Z2luXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX2RyYWdyZXNpemUnLCB7XG4gICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIWVuYWJsZVBsdWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBpZiAoIWVuYWJsZVBsdWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICBpbml0KGVkaXRvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gaW5pdChlZGl0b3IpIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IGVkaXRvci53aW5kb3cuJCxcbiAgICAgICAgICAgIGRvY3VtZW50ID0gZWRpdG9yLmRvY3VtZW50LiQ7XG5cbiAgICAgICAgaWYgKGlzRmlyZWZveCkge1xuICAgICAgICAgICAgLy8gRGlzYWJsZSB0aGUgbmF0aXZlIGltYWdlIHJlc2l6aW5nXG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNuYXBUb1NpemUgPSAodHlwZW9mIElNQUdFX1NOQVBfVE9fU0laRSA9PT0gJ3VuZGVmaW5lZCcpID8gbnVsbCA6IElNQUdFX1NOQVBfVE9fU0laRTtcblxuICAgICAgICBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUgPSBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUgfHwgJ2JvdGgnO1xuXG4gICAgICAgIHZhciByZXNpemVyID0gbmV3IFJlc2l6ZXIoZWRpdG9yLCB7XG4gICAgICAgICAgICBpbWFnZVNjYWxlUmVzaXplOiBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUsXG4gICAgICAgICAgICBzbmFwVG9TaXplOiBzbmFwVG9TaXplXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBtb3VzZURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChyZXNpemVyLmlzSGFuZGxlKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaW5pdERyYWcoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duTGlzdGVuZXIsIGZhbHNlKTtcblxuICAgICAgICBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGlvbikgcmV0dXJuO1xuICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBpcyBzZWxlY3RlZCBhbmQgdGhhdCBlbGVtZW50IGlzIGFuIElNR1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5nZXRUeXBlKCkgIT09IENLRURJVE9SLlNFTEVDVElPTl9OT05FICYmIHNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnQoKS5pcygnaW1nJykpIHtcbiAgICAgICAgICAgICAgICAvLyBBbmQgd2UncmUgbm90IHJpZ2h0IG9yIG1pZGRsZSBjbGlja2luZyBvbiB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5ldmVudCB8fCAhd2luZG93LmV2ZW50LmJ1dHRvbiB8fCB3aW5kb3cuZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuc2hvdyhzZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkuJCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNpemVyLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRvci5vbignc2VsZWN0aW9uQ2hhbmdlJywgc2VsZWN0aW9uQ2hhbmdlKTtcblxuICAgICAgICBlZGl0b3Iub24oJ2dldERhdGEnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgaHRtbCA9IGUuZGF0YS5kYXRhVmFsdWUgfHwgJyc7XG4gICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC88ZGl2IGlkPVwiY2tpbWdyc3pcIihbXFxzXFxTXSo/KTxcXC9kaXY+L2ksICcnKTtcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL1xcYihja2ltZ3JzeilcXGIvZywgJycpO1xuICAgICAgICAgICAgZS5kYXRhLmRhdGFWYWx1ZSA9IGh0bWw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVkaXRvci5vbignYmVmb3JlVW5kb0ltYWdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGhhbmRsZXMgYmVmb3JlIHVuZG8gaW1hZ2VzIGFyZSBzYXZlZFxuICAgICAgICAgICAgcmVzaXplci5oaWRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVkaXRvci5vbignYWZ0ZXJVbmRvSW1hZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIGhhbmRsZXMgYWZ0ZXIgdW5kbyBpbWFnZXMgYXJlIHNhdmVkXG4gICAgICAgICAgICBzZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGhhbmRsZXMgd2hlbiBlZGl0b3IgbG9zZXMgZm9jdXNcbiAgICAgICAgICAgIHJlc2l6ZXIuaGlkZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlZGl0b3Iub24oJ2JlZm9yZU1vZGVVbmxvYWQnLCBmdW5jdGlvbiBzZWxmKCkge1xuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZUxpc3RlbmVyKCdiZWZvcmVNb2RlVW5sb2FkJywgc2VsZik7XG4gICAgICAgICAgICByZXNpemVyLmhpZGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yLm9uKCdkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmVzaXplRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdja2ltZ3JzeicpO1xuXG4gICAgICAgICAgICBpZiAocmVzaXplRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZUVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0ZpcmVmb3gpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93bkxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWxlY3Rpb24gd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgaXMgcmVzaXplZFxuICAgICAgICB2YXIgcmVzaXplVGltZW91dDtcbiAgICAgICAgZWRpdG9yLndpbmRvdy5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBDYW5jZWwgYW55IHJlc2l6ZSB3YWl0aW5nIHRvIGhhcHBlblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgLy8gRGVsYXkgcmVzaXplIHRvIFwiZGVib3VuY2VcIlxuICAgICAgICAgICAgcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoc2VsZWN0aW9uQ2hhbmdlLCA1MCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFJlc2l6ZXIoZWRpdG9yLCBjZmcpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMud2luZG93ID0gZWRpdG9yLndpbmRvdy4kO1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZWRpdG9yLmRvY3VtZW50LiQ7XG4gICAgICAgIHRoaXMuY2ZnID0gY2ZnIHx8IHt9O1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBSZXNpemVyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICBjb250YWluZXIuaWQgPSAnY2tpbWdyc3onO1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wcmV2aWV3KTtcblxuICAgICAgICAgICAgdmFyIGhhbmRsZXMgPSB0aGlzLmhhbmRsZXMgPSB7fTtcblxuICAgICAgICAgICAgSU1BR0VfSEFORExFU1t0aGlzLmNmZy5pbWFnZVNjYWxlUmVzaXplXS5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOYW1lLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXNbaGFuZGxlTmFtZV0gPSBpbnN0YW5jZS5oYW5kbGVzW2hhbmRsZU5hbWVdID0gaW5zdGFuY2UuY3JlYXRlSGFuZGxlKGhhbmRsZU5hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChoYW5kbGVzW25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlSGFuZGxlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGlzSGFuZGxlOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXMgPSB0aGlzLmhhbmRsZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIGhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlc1tuXSA9PT0gZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBzaG93OiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIHVpTm9kZSA9IHRoaXMuZWRpdG9yLmNvbmZpZy51aU5vZGU7XG5cbiAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSB1aU5vZGUgPyB1aU5vZGUuc2Nyb2xsVG9wIDogMDtcblxuICAgICAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2ZnLnNuYXBUb1NpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm90aGVySW1hZ2VzID0gdG9BcnJheSh0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vdGhlckltYWdlcy5zcGxpY2UodGhpcy5vdGhlckltYWdlcy5pbmRleE9mKGVsKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5ib3ggPSBnZXRCb3VuZGluZ0JveCh0aGlzLndpbmRvdywgZWwpO1xuICAgICAgICAgICAgcG9zaXRpb25FbGVtZW50KHRoaXMuY29udGFpbmVyLCBib3gubGVmdCwgYm94LnRvcCArIHNjcm9sbFRvcCk7XG5cbiAgICAgICAgICAgIHVpTm9kZSA9IHVpTm9kZSB8fCBkb2N1bWVudC5ib2R5O1xuXG4gICAgICAgICAgICB1aU5vZGUuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoJ2NraW1ncnN6Jyk7XG4gICAgICAgICAgICB0aGlzLnNob3dIYW5kbGVzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGZyb20gYWxsIGltZy5ja2ltZ3JzelxuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdja2ltZ3JzeicpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2NraW1ncnN6Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhpZGVIYW5kbGVzKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXIucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbml0RHJhZzogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKGUuYnV0dG9uICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy9yaWdodC1jbGljayBvciBtaWRkbGUtY2xpY2tcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzaXplciA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgZHJhZyA9IG5ldyBEcmFnRXZlbnQodGhpcy53aW5kb3csIHRoaXMuZG9jdW1lbnQpO1xuICAgICAgICAgICAgZHJhZy5vblN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVzaXplci5zaG93UHJldmlldygpO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaXNEcmFnZ2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzaXplci5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkubG9jaygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRyYWcub25EcmFnID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVzaXplci5jYWxjdWxhdGVTaXplKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIudXBkYXRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIHZhciBib3ggPSByZXNpemVyLnByZXZpZXdCb3g7XG4gICAgICAgICAgICAgICAgcmVzaXplci51cGRhdGVIYW5kbGVzKGJveCwgYm94LmxlZnQsIGJveC50b3ApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRyYWcub25SZWxlYXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVzaXplci5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmVzaXplci5oaWRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaGlkZSgpO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuZWRpdG9yLmdldFNlbGVjdGlvbigpLnVubG9jaygpO1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgYW4gdW5kbyBzbmFwc2hvdCBiZWZvcmUgdGhlIGltYWdlIGlzIHBlcm1hbmVudGx5IGNoYW5nZWRcbiAgICAgICAgICAgICAgICByZXNpemVyLmVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkcmFnLm9uQ29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXNpemVyLnJlc2l6ZUNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBhbm90aGVyIHNuYXBzaG90IGFmdGVyIHRoZSBpbWFnZSBpcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgcmVzaXplci5lZGl0b3IuZmlyZSgnc2F2ZVNuYXBzaG90Jyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZHJhZy5zdGFydChlKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlSGFuZGxlczogZnVuY3Rpb24oYm94LCBsZWZ0LCB0b3ApIHtcbiAgICAgICAgICAgIGxlZnQgPSBsZWZ0IHx8IDA7XG4gICAgICAgICAgICB0b3AgPSB0b3AgfHwgMDtcbiAgICAgICAgICAgIHZhciBoYW5kbGVzID0gdGhpcy5oYW5kbGVzO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBoYW5kbGUgaW4gaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIFBPU0lUSU9OX0VMRU1FTlRfRk5baGFuZGxlXShoYW5kbGVzW2hhbmRsZV0sIGxlZnQsIHRvcCwgYm94KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0hhbmRsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXMgPSB0aGlzLmhhbmRsZXM7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUhhbmRsZXModGhpcy5ib3gpO1xuICAgICAgICAgICAgZm9yICh2YXIgbiBpbiBoYW5kbGVzKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlc1tuXS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaGlkZUhhbmRsZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXMgPSB0aGlzLmhhbmRsZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIGhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVzW25dLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNob3dQcmV2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlldy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKFwiJyArIHRoaXMuZWwuc3JjICsgJ1wiKSc7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZVNpemUoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUHJldmlldygpO1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVQcmV2aWV3OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBib3ggPSB0aGlzLnByZXZpZXdCb3g7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQodGhpcy5wcmV2aWV3LCBib3gubGVmdCwgYm94LnRvcCk7XG4gICAgICAgICAgICB0aGlzLnByZXZpZXcuc3R5bGUud2lkdGggPSB0aGlzLnByZXZpZXdCb3gud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3LnN0eWxlLmhlaWdodCA9IHRoaXMucHJldmlld0JveC5oZWlnaHQgKyAncHgnO1xuICAgICAgICB9LFxuICAgICAgICBoaWRlUHJldmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gZ2V0Qm91bmRpbmdCb3godGhpcy53aW5kb3csIHRoaXMucHJldmlldyk7XG4gICAgICAgICAgICB0aGlzLnJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYm94LndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm94LmhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucHJldmlldy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9LFxuICAgICAgICBjYWxjdWxhdGVTaXplOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5wcmV2aWV3Qm94ID0ge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmJveC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuYm94LmhlaWdodFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBhdHRyID0gZGF0YS50YXJnZXQuY2xhc3NOYW1lO1xuXG4gICAgICAgICAgICBpZiAofmF0dHIuaW5kZXhPZigncicpKSB7XG4gICAgICAgICAgICAgICAgYm94LndpZHRoID0gTWF0aC5tYXgoMzIsIHRoaXMuYm94LndpZHRoICsgZGF0YS5kZWx0YS54KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh+YXR0ci5pbmRleE9mKCdiJykpIHtcbiAgICAgICAgICAgICAgICBib3guaGVpZ2h0ID0gTWF0aC5tYXgoMzIsIHRoaXMuYm94LmhlaWdodCArIGRhdGEuZGVsdGEueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAofmF0dHIuaW5kZXhPZignbCcpKSB7XG4gICAgICAgICAgICAgICAgYm94LndpZHRoID0gTWF0aC5tYXgoMzIsIHRoaXMuYm94LndpZHRoIC0gZGF0YS5kZWx0YS54KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh+YXR0ci5pbmRleE9mKCd0JykpIHtcbiAgICAgICAgICAgICAgICBib3guaGVpZ2h0ID0gTWF0aC5tYXgoMzIsIHRoaXMuYm94LmhlaWdodCAtIGRhdGEuZGVsdGEueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2lmIGRyYWdnaW5nIGNvcm5lciwgZW5mb3JjZSBhc3BlY3QgcmF0aW8gKHVubGVzcyBzaGlmdCBrZXkgaXMgYmVpbmcgaGVsZClcbiAgICAgICAgICAgIGlmIChhdHRyLmluZGV4T2YoJ20nKSA8IDAgJiYgIWRhdGEua2V5cy5zaGlmdCkge1xuICAgICAgICAgICAgICAgIHZhciByYXRpbyA9IHRoaXMuYm94LndpZHRoIC8gdGhpcy5ib3guaGVpZ2h0O1xuICAgICAgICAgICAgICAgIGlmIChib3gud2lkdGggLyBib3guaGVpZ2h0ID4gcmF0aW8pIHtcbiAgICAgICAgICAgICAgICAgICAgYm94LmhlaWdodCA9IE1hdGgucm91bmQoYm94LndpZHRoIC8gcmF0aW8pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJveC53aWR0aCA9IE1hdGgucm91bmQoYm94LmhlaWdodCAqIHJhdGlvKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzbmFwVG9TaXplID0gdGhpcy5jZmcuc25hcFRvU2l6ZTtcblxuICAgICAgICAgICAgaWYgKHNuYXBUb1NpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJzID0gdGhpcy5vdGhlckltYWdlcztcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG90aGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXIgPSBnZXRCb3VuZGluZ0JveCh0aGlzLndpbmRvdywgb3RoZXJzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGJveC53aWR0aCAtIG90aGVyLndpZHRoKSA8PSBzbmFwVG9TaXplICYmIE1hdGguYWJzKGJveC5oZWlnaHQgLSBvdGhlci5oZWlnaHQpIDw9IHNuYXBUb1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC53aWR0aCA9IG90aGVyLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm94LmhlaWdodCA9IG90aGVyLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL3JlY2FsY3VsYXRlIGxlZnQgb3IgdG9wIHBvc2l0aW9uXG4gICAgICAgICAgICBpZiAofmF0dHIuaW5kZXhPZignbCcpKSB7XG4gICAgICAgICAgICAgICAgYm94LmxlZnQgPSB0aGlzLmJveC53aWR0aCAtIGJveC53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh+YXR0ci5pbmRleE9mKCd0JykpIHtcbiAgICAgICAgICAgICAgICBib3gudG9wID0gdGhpcy5ib3guaGVpZ2h0IC0gYm94LmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzaXplQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmVzaXplRWxlbWVudC5jYWxsKHRoaXMsIHRoaXMuZWwsIHRoaXMucmVzdWx0LndpZHRoLCB0aGlzLnJlc3VsdC5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIERyYWdFdmVudCh3aW5kb3csIGRvY3VtZW50KSB7XG4gICAgICAgIHRoaXMud2luZG93ID0gd2luZG93O1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgIHRoaXMuZXZlbnRzID0ge1xuICAgICAgICAgICAgbW91c2Vtb3ZlOiBiaW5kKHRoaXMubW91c2Vtb3ZlLCB0aGlzKSxcbiAgICAgICAgICAgIGtleWRvd246IGJpbmQodGhpcy5rZXlkb3duLCB0aGlzKSxcbiAgICAgICAgICAgIG1vdXNldXA6IGJpbmQodGhpcy5tb3VzZXVwLCB0aGlzKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIERyYWdFdmVudC5wcm90b3R5cGUgPSB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuYXR0ciA9IGUudGFyZ2V0LmNsYXNzTmFtZTtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRQb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGUpO1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBldmVudHMubW91c2Vtb3ZlLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudHMua2V5ZG93biwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnRzLm1vdXNldXAsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdkcmFnZ2luZy0nICsgdGhpcy5hdHRyKTtcbiAgICAgICAgICAgIHRoaXMub25TdGFydCAmJiB0aGlzLm9uU3RhcnQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQb3MgPSB7XG4gICAgICAgICAgICAgICAgeDogZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZGVsdGEgPSB7XG4gICAgICAgICAgICAgICAgeDogZS5jbGllbnRYIC0gdGhpcy5zdGFydFBvcy54LFxuICAgICAgICAgICAgICAgIHk6IGUuY2xpZW50WSAtIHRoaXMuc3RhcnRQb3MueVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMua2V5cyA9IHtcbiAgICAgICAgICAgICAgICBzaGlmdDogZS5zaGlmdEtleSxcbiAgICAgICAgICAgICAgICBjdHJsOiBlLmN0cmxLZXksXG4gICAgICAgICAgICAgICAgYWx0OiBlLmFsdEtleVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgbW91c2Vtb3ZlOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShlKTtcbiAgICAgICAgICAgIHRoaXMub25EcmFnICYmIHRoaXMub25EcmFnKCk7XG4gICAgICAgICAgICBpZiAoZS53aGljaCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vbW91c2UgYnV0dG9uIHJlbGVhc2VkIG91dHNpZGUgd2luZG93OyBtb3VzZXVwIHdhc24ndCBmaXJlZCAoQ2hyb21lKVxuICAgICAgICAgICAgICAgIHRoaXMubW91c2V1cChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAga2V5ZG93bjogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgLy9lc2NhcGUga2V5IGNhbmNlbHMgZHJhZ2dpbmdcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNldXA6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGUpO1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlKCk7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUgJiYgdGhpcy5vbkNvbXBsZXRlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbGVhc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdnaW5nLScgKyB0aGlzLmF0dHIpO1xuICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMuZXZlbnRzO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBldmVudHMubW91c2Vtb3ZlLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBldmVudHMua2V5ZG93biwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnRzLm1vdXNldXAsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMub25SZWxlYXNlICYmIHRoaXMub25SZWxlYXNlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9oZWxwZXIgZnVuY3Rpb25zXG4gICAgZnVuY3Rpb24gdG9BcnJheShvYmopIHtcbiAgICAgICAgdmFyIGxlbiA9IG9iai5sZW5ndGgsXG4gICAgICAgICAgICBhcnIgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgYXJyW2ldID0gb2JqW2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYmluZChmbiwgY3R4KSB7XG4gICAgICAgIGlmIChmbi5iaW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gZm4uYmluZChjdHgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwb3NpdGlvbkVsZW1lbnQoZWwsIGxlZnQsIHRvcCkge1xuICAgICAgICBlbC5zdHlsZS5sZWZ0ID0gU3RyaW5nKGxlZnQpICsgJ3B4JztcbiAgICAgICAgZWwuc3R5bGUudG9wID0gU3RyaW5nKHRvcCkgKyAncHgnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZUVsZW1lbnQoZWwsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdmFyIGltYWdlU2NhbGVSZXNpemUgPSB0aGlzLmVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZTtcbiAgICAgICAgaWYgKGltYWdlU2NhbGVSZXNpemUgPT09ICdib3RoJykge1xuICAgICAgICAgICAgZWwuc3R5bGUud2lkdGggPSBTdHJpbmcod2lkdGgpICsgJ3B4JztcbiAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IFN0cmluZyhoZWlnaHQpICsgJ3B4JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbWFnZVNjYWxlUmVzaXplID09PSAnd2lkdGgnIHx8IGltYWdlU2NhbGVSZXNpemUgPT09ICdzY2FsZScpIHtcbiAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gU3RyaW5nKHdpZHRoKSArICdweCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ2hlaWdodCcpIHtcbiAgICAgICAgICAgIGVsLnN0eWxlLmhlaWdodCA9IFN0cmluZyhoZWlnaHQpICsgJ3B4JztcbiAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gJ2F1dG8nO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Qm91bmRpbmdCb3god2luZG93LCBlbCkge1xuICAgICAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogcmVjdC5sZWZ0ICsgd2luZG93LnBhZ2VYT2Zmc2V0LFxuICAgICAgICAgICAgdG9wOiByZWN0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgICAgICAgICAgIHdpZHRoOiByZWN0LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodFxuICAgICAgICB9O1xuICAgIH1cbn0oKSk7XG4iLCIvKipcbiAqIENLRWRpdG9yIHBsdWdpbjogSW1hZ2UyXG4gKiAtIFNob3cgZ3JpcHBlciB0byByZXNpemUgaW1hZ2VzIG9uIElFXG4gKi9cbihmdW5jdGlvbiAoKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9kcmFncmVzaXplX2llJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBhbGlnbm1lbnRzT2JqID0ge1xuICAgICAgICBjZW50ZXI6IDEsXG4gICAgICAgIGxlZnQ6IDAsXG4gICAgICAgIHJpZ2h0OiAyXG4gICAgfTtcblxuICAgIC8qXG4gICAgICogU2V0IGN1cnNvciBjc3MgZGVwZW5kIG9uIGltYWdlU2NhbGVSZXNpemUgY29uZmlnXG4gICAgICoqL1xuXG4gICAgdmFyIGN1cnNvciA9IHtcbiAgICAgICAgYm90aDogJ253c2UtcmVzaXplJyxcbiAgICAgICAgaGVpZ2h0OiAnbnMtcmVzaXplJyxcbiAgICAgICAgc2NhbGU6ICdud3NlLXJlc2l6ZScsXG4gICAgICAgIHdpZHRoOiAnZXctcmVzaXplJyxcbiAgICB9O1xuXG4gICAgdmFyIHJlZ2V4UGVyY2VudCA9IC9eXFxzKihcXGQrXFwlKVxccyokL2k7XG5cbiAgICB2YXIgdGVtcGxhdGUgPSAnPGltZyBhbHQ9XCJcIiBzcmM9XCJcIiAvPic7XG5cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfZHJhZ3Jlc2l6ZV9pZScsIHtcbiAgICAgICAgaGlkcGk6IHRydWUsXG5cbiAgICAgICAgaWNvbnM6ICdpbWFnZScsXG5cbiAgICAgICAgaW5pdDogZnVuY3Rpb24gKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGltYWdlID0gd2lkZ2V0RGVmKGVkaXRvcik7XG5cbiAgICAgICAgICAgIC8vIFJlZ2lzdGVyIHRoZSB3aWRnZXQuXG4gICAgICAgICAgICBlZGl0b3Iud2lkZ2V0cy5hZGQoJ2ltYWdlJywgaW1hZ2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG9uTG9hZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgQ0tFRElUT1IuYWRkQ3NzKFxuICAgICAgICAgICAgICAgICcuY2tlX2ltYWdlX3Jlc2l6ZXJfbndzZS1yZXNpemV7JyArXG4gICAgICAgICAgICAgICAgJ2N1cnNvcjogbndzZS1yZXNpemU7JyArXG4gICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAnLmNrZV9pbWFnZV9yZXNpemVyX25zLXJlc2l6ZXsnICtcbiAgICAgICAgICAgICAgICAnY3Vyc29yOiBucy1yZXNpemU7JyArXG4gICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAnLmNrZV9pbWFnZV9yZXNpemVyX253c2UtcmVzaXpleycgK1xuICAgICAgICAgICAgICAgICdjdXJzb3I6IG53c2UtcmVzaXplOycgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2VfcmVzaXplcl9ldy1yZXNpemV7JyArXG4gICAgICAgICAgICAgICAgJ2N1cnNvcjogZXctcmVzaXplOycgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2Vfbm9jYXB0aW9ueycgK1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gcmVtb3ZlIHVud2FudGVkIHNwYWNlIHNvIHJlc2l6ZVxuICAgICAgICAgICAgICAgIC8vIHdyYXBwZXIgaXMgZGlzcGxheWVkIHByb3BlcnR5LlxuICAgICAgICAgICAgICAgICdsaW5lLWhlaWdodDowJyArXG4gICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAnLmNrZV9pbWFnZV9yZXNpemVyeycgK1xuICAgICAgICAgICAgICAgICdkaXNwbGF5Om5vbmU7JyArXG4gICAgICAgICAgICAgICAgJ3Bvc2l0aW9uOmFic29sdXRlOycgK1xuICAgICAgICAgICAgICAgICd3aWR0aDoxMHB4OycgK1xuICAgICAgICAgICAgICAgICdoZWlnaHQ6MTBweDsnICtcbiAgICAgICAgICAgICAgICAnYm90dG9tOi01cHg7JyArXG4gICAgICAgICAgICAgICAgJ3JpZ2h0Oi01cHg7JyArXG4gICAgICAgICAgICAgICAgJ2JhY2tncm91bmQ6IzAwMDsnICtcbiAgICAgICAgICAgICAgICAnb3V0bGluZToxcHggc29saWQgI2ZmZjsnICtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGRyYWcgaGFuZGxlciBmcm9tIGJlaW5nIG1pc3BsYWNlZCAoIzExMjA3KS5cbiAgICAgICAgICAgICAgICAnbGluZS1oZWlnaHQ6MDsnICtcbiAgICAgICAgICAgICAgICAnY3Vyc29yOm53c2UtcmVzaXplOycgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2VfcmVzaXplcl93cmFwcGVyeycgK1xuICAgICAgICAgICAgICAgICdwb3NpdGlvbjpyZWxhdGl2ZTsnICtcbiAgICAgICAgICAgICAgICAnZGlzcGxheTppbmxpbmUtYmxvY2s7JyArXG4gICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0OjA7JyArXG4gICAgICAgICAgICAgICAgJ30nICtcbiAgICAgICAgICAgICAgICAnLmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlciAuY2tlX2ltYWdlX3Jlc2l6ZXIsJyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2VfcmVzaXplci5ja2VfaW1hZ2VfcmVzaXppbmd7JyArXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXk6YmxvY2snICtcbiAgICAgICAgICAgICAgICAnfSdcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVxdWlyZXM6ICd3aWRnZXQnXG4gICAgfSk7XG5cbiAgICAvLyBXaWdldCBzdGF0ZXMgKGZvcm1zKSBkZXBlbmRpbmcgb24gYWxpZ25tZW50IGFuZCBjb25maWd1cmF0aW9uLlxuICAgIC8vXG4gICAgLy8gTm9uLWNhcHRpb25lZCB3aWRnZXQgKGlubGluZSBzdHlsZXMpXG4gICAgLy8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAgIC8vIFx0XHTilIJBbGlnbiDilIJJbnRlcm5hbCBmb3JtICAgICAgICAgICAgICAgICAg4pSCRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgm5vbmUgIOKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdPiAgIOKUgjxpbWcgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnSAvPiAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJjZW50ZXLilII8d3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAg4pSCPHAgc3R5bGU94oCddGV4dC1hbGlnbjpjZW50ZXLigJ0+4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8cCBzdHlsZT3igJ10ZXh0LWFsaWduOmNlbnRlcuKAnT4g4pSCICA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCICAgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgnJpZ2h0IOKUgjx3cmFwcGVyIHN0eWxlPeKAnWZsb2F0OnJpZ2h04oCdPiAg4pSCPGltZyBzdHlsZT3igJ1mbG9hdDpyaWdodOKAnSAvPiAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSU4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gICAgLy9cbiAgICAvLyBOb24tY2FwdGlvbmVkIHdpZGdldCAoY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXMgZGVmaW5lZClcbiAgICAvLyBcdFx04pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gICAgLy8gXHRcdOKUgkFsaWduIOKUgkludGVybmFsIGZvcm0gICAgICAgICAgICAgICAgICDilIJEYXRhICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgIOKUgjxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgmxlZnQgIOKUgjx3cmFwcGVyIGNsYXNzPeKAnWxlZnTigJ0+ICAgICAgICAg4pSCPGltZyBjbGFzcz3igJ1sZWZ04oCdIC8+ICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgmNlbnRlcuKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8cCBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxwIGNsYXNzPeKAnWNlbnRlcuKAnT4gICAgICAgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgICA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAg4pSCPC9wPiAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCcmlnaHQg4pSCPHdyYXBwZXIgY2xhc3M94oCdcmlnaHTigJ0+ICAgICAgICDilII8aW1nIGNsYXNzPeKAnXJpZ2h04oCdIC8+ICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJTilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgICAvL1xuICAgIC8vIENhcHRpb25lZCB3aWRnZXQgKGlubGluZSBzdHlsZXMpXG4gICAgLy8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAgIC8vIFx0XHTilIJBbGlnbiDilIJJbnRlcm5hbCBmb3JtICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgmxlZnQgIOKUgjx3cmFwcGVyIHN0eWxlPeKAnWZsb2F0OmxlZnTigJ0+ICAgICAgICAgICAg4pSCPGZpZ3VyZSBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdIC8+ICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgmNlbnRlcuKUgjx3cmFwcGVyIHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPiAgICAg4pSCPGRpdiBzdHlsZT3igJ10ZXh0LWFsaWduOmNlbnRlcuKAnT4gICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgc3R5bGU94oCdZGlzcGxheTppbmxpbmUtYmxvY2vigJ0gLz7ilIIgPGZpZ3VyZSBzdHlsZT3igJ1kaXNwbGF5OmlubGluZS1ibG9ja+KAnSAvPuKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCPC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCcmlnaHQg4pSCPHdyYXBwZXIgc3R5bGU94oCdZmxvYXQ6cmlnaHTigJ0+ICAgICAgICAgICDilII8ZmlndXJlIHN0eWxlPeKAnWZsb2F0OnJpZ2h04oCdIC8+ICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPGZpZ3VyZSAvPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJTilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJhcbiAgICAvL1xuICAgIC8vIENhcHRpb25lZCB3aWRnZXQgKGNvbmZpZy5pbWFnZTJfYWxpZ25DbGFzc2VzIGRlZmluZWQpXG4gICAgLy8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAgIC8vIFx0XHTilIJBbGlnbiDilIJJbnRlcm5hbCBmb3JtICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCbm9uZSAg4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgmxlZnQgIOKUgjx3cmFwcGVyIGNsYXNzPeKAnWxlZnTigJ0+ICAgICAgICAgICAgICAgICAg4pSCPGZpZ3VyZSBjbGFzcz3igJ1sZWZ04oCdIC8+ICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgmNlbnRlcuKUgjx3cmFwcGVyIGNsYXNzPeKAnWNlbnRlcuKAnT4gICAgICAgICAgICAgICAg4pSCPGRpdiBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgnJpZ2h0IOKUgjx3cmFwcGVyIGNsYXNzPeKAnXJpZ2h04oCdPiAgICAgICAgICAgICAgICAg4pSCPGZpZ3VyZSBjbGFzcz3igJ1yaWdodOKAnSAvPiAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSU4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn1cbiAgICAvLyBAcmV0dXJucyB7T2JqZWN0fVxuICAgIGZ1bmN0aW9uIHdpZGdldERlZihlZGl0b3IpIHtcbiAgICAgICAgZWRpdG9yLmNvbmZpZy5pbWFnZVNjYWxlUmVzaXplID0gZWRpdG9yLmNvbmZpZy5pbWFnZVNjYWxlUmVzaXplIHx8ICdib3RoJztcblxuICAgICAgICBlZGl0b3Iub24oJ2ltYWdlQWRkJywgZnVuY3Rpb24gKGltYWdlRGF0YSkge1xuICAgICAgICAgICAgZWRpdG9yLndpZGdldHMuaW5pdE9uKGltYWdlRGF0YS5kYXRhLmVsLCAnaW1hZ2UnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcztcblxuICAgICAgICB2YXIgY2FwdGlvbmVkQ2xhc3MgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzcztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBoZWxwZXJzID0gQ0tFRElUT1IucGx1Z2lucy5pbWFnZTI7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLnBhcnRzLmltYWdlO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFsdDogaW1hZ2UuZ2V0QXR0cmlidXRlKCdhbHQnKSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgaGFzQ2FwdGlvbjogISF0aGlzLnBhcnRzLmNhcHRpb24sXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2UuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9jayByYXRpbyBpcyBvbiBieSBkZWZhdWx0ICgjMTA4MzMpLlxuICAgICAgICAgICAgICAgICAgICBsb2NrOiB0aGlzLnJlYWR5ID8gaGVscGVycy5jaGVja0hhc05hdHVyYWxSYXRpbyhpbWFnZSkgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzcmM6IGltYWdlLmdldEF0dHJpYnV0ZSgnc3JjJyksXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykgfHwgJydcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgdXNlZCAnYScgaW4gd2lkZ2V0I3BhcnRzIGRlZmluaXRpb24sIGl0IGNvdWxkIGhhcHBlbiB0aGF0XG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0ZWQgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHdpZGdldC5wYXJ0cyNjYXB0aW9uLiBTaW5jZSB0aGVyZSdzIG5vIGNsZXZlclxuICAgICAgICAgICAgICAgIC8vIHdheSB0byBzb2x2ZSBpdCB3aXRoIENTUyBzZWxlY3RvcnMsIGl0J3MgZG9uZSBsaWtlIHRoYXQuICgjMTE3ODMpLlxuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gaW1hZ2UuZ2V0QXNjZW5kYW50KCdhJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAobGluayAmJiB0aGlzLndyYXBwZXIuY29udGFpbnMobGluaykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5saW5rID0gbGluaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEZXBlbmRpbmcgb24gY29uZmlndXJhdGlvbiwgcmVhZCBzdHlsZS9jbGFzcyBmcm9tIGVsZW1lbnQgYW5kXG4gICAgICAgICAgICAgICAgLy8gdGhlbiByZW1vdmUgaXQuIFJlbW92ZWQgc3R5bGUvY2xhc3Mgd2lsbCBiZSBzZXQgb24gd3JhcHBlciBpbiAjZGF0YSBsaXN0ZW5lci5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBDZW50ZXIgYWxpZ25tZW50IGlzIGRldGVjdGVkIGR1cmluZyB1cGNhc3QsIHNvIG9ubHkgbGVmdC9yaWdodCBjYXNlc1xuICAgICAgICAgICAgICAgIC8vIGFyZSBjaGVja2VkIGJlbG93LlxuICAgICAgICAgICAgICAgIGlmICghZGF0YS5hbGlnbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxpZ25FbGVtZW50ID0gZGF0YS5oYXNDYXB0aW9uID8gdGhpcy5lbGVtZW50IDogaW1hZ2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCB0aGUgaW5pdGlhbCBsZWZ0L3JpZ2h0IGFsaWdubWVudCBmcm9tIHRoZSBjbGFzcyBzZXQgb24gZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWduQ2xhc3Nlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsaWduRWxlbWVudC5oYXNDbGFzcyhhbGlnbkNsYXNzZXNbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWxpZ25FbGVtZW50Lmhhc0NsYXNzKGFsaWduQ2xhc3Nlc1syXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFsaWduID0gJ3JpZ2h0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuYWxpZ24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkVsZW1lbnQucmVtb3ZlQ2xhc3MoYWxpZ25DbGFzc2VzW2FsaWdubWVudHNPYmpbZGF0YS5hbGlnbl1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hbGlnbiA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIGluaXRpYWwgZmxvYXQgc3R5bGUgZnJvbSBmaWd1cmUvaW1hZ2UgYW5kIHRoZW4gcmVtb3ZlIGl0LlxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYWxpZ24gPSBhbGlnbkVsZW1lbnQuZ2V0U3R5bGUoJ2Zsb2F0JykgfHwgJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25FbGVtZW50LnJlbW92ZVN0eWxlKCdmbG9hdCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gR2V0IHJpZCBvZiBleHRyYSB2ZXJ0aWNhbCBzcGFjZSB3aGVuIHRoZXJlJ3Mgbm8gY2FwdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBJdCB3aWxsIGltcHJvdmUgdGhlIGxvb2sgb2YgdGhlIHJlc2l6ZXIuXG4gICAgICAgICAgICAgICAgdGhpcy53cmFwcGVyWyhkYXRhLmhhc0NhcHRpb24gPyAncmVtb3ZlJyA6ICdhZGQnKSArICdDbGFzcyddKCdja2VfaW1hZ2Vfbm9jYXB0aW9uJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLmNvbmZpZy5pbWFnZTJfZGlzYWJsZVJlc2l6ZXIgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dXBSZXNpemVyKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlcyBkZWZhdWx0IG1ldGhvZCB0byBoYW5kbGUgaW50ZXJuYWwgbXV0YWJpbGl0eSBvZiBJbWFnZTIuXG4gICAgICAgICAgICAvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2FkZENsYXNzXG4gICAgICAgICAgICBhZGRDbGFzczogZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIGdldFN0eWxlYWJsZUVsZW1lbnQodGhpcykuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFsbG93ZWRDb250ZW50OiBnZXRXaWRnZXRBbGxvd2VkQ29udGVudChlZGl0b3IpLFxuXG4gICAgICAgICAgICAvLyBUaGlzIHdpZGdldCBjb252ZXJ0cyBzdHlsZS1kcml2ZW4gZGltZW5zaW9ucyB0byBhdHRyaWJ1dGVzLlxuICAgICAgICAgICAgY29udGVudFRyYW5zZm9ybWF0aW9uczogW1xuICAgICAgICAgICAgICAgIFsnaW1nW3dpZHRoXTogc2l6ZVRvQXR0cmlidXRlJ11cbiAgICAgICAgICAgIF0sXG5cbiAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmVhdHVyZXMgPSB0aGlzLmZlYXR1cmVzO1xuXG4gICAgICAgICAgICAgICAgLy8gSW1hZ2UgY2FuJ3QgYmUgY2FwdGlvbmVkIHdoZW4gZmlnY2FwdGlvbiBpcyBkaXNhbGxvd2VkICgjMTEwMDQpLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuaGFzQ2FwdGlvbiAmJiAhZWRpdG9yLmZpbHRlci5jaGVja0ZlYXR1cmUoZmVhdHVyZXMuY2FwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmhhc0NhcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJbWFnZSBjYW4ndCBiZSBhbGlnbmVkIHdoZW4gZmxvYXRpbmcgaXMgZGlzYWxsb3dlZCAoIzExMDA0KS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLmFsaWduICE9ICdub25lJyAmJiAhZWRpdG9yLmZpbHRlci5jaGVja0ZlYXR1cmUoZmVhdHVyZXMuYWxpZ24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hbGlnbiA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgd2lkZ2V0LnBhcnRzLmxpbmsgc2luY2UgaXQgd2lsbCBub3QgYXV0by11cGRhdGUgdW5sZXNzIHdpZGdldFxuICAgICAgICAgICAgICAgIC8vIGlzIGRlc3Ryb3llZCBhbmQgcmUtaW5pdGVkLlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5kYXRhLmxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGFydHMubGluaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucGFydHMubGluaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYXJ0cy5saW5rKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLmxpbmsgPSB0aGlzLnBhcnRzLmltYWdlLmdldFBhcmVudCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5pbWFnZS5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgYWx0OiB0aGlzLmRhdGEuYWx0LFxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogdGhpcy5wYXJ0cy5pbWFnZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpID8gdGhpcy5wYXJ0cy5pbWFnZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpIDogdHJ1ZSxcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGludGVybmFsIGlzIHJlcXVpcmVkIGJ5IHRoZSBlZGl0b3IuXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLWNrZS1zYXZlZC1zcmMnOiB0aGlzLmRhdGEuc3JjLFxuXG4gICAgICAgICAgICAgICAgICAgIHNyYzogdGhpcy5kYXRhLnNyY1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gSWYgc2hpZnRpbmcgbm9uLWNhcHRpb25lZCAtPiBjYXB0aW9uZWQsIHJlbW92ZSBjbGFzc2VzXG4gICAgICAgICAgICAgICAgLy8gcmVsYXRlZCB0byBzdHlsZXMgZnJvbSA8aW1nLz4uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub2xkRGF0YSAmJiAhdGhpcy5vbGREYXRhLmhhc0NhcHRpb24gJiYgdGhpcy5kYXRhLmhhc0NhcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyBpbiB0aGlzLmRhdGEuY2xhc3Nlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5pbWFnZS5yZW1vdmVDbGFzcyhjKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFNldCBkaW1lbnNpb25zIG9mIHRoZSBpbWFnZSBhY2NvcmRpbmcgdG8gZ2F0aGVyZWQgZGF0YS5cbiAgICAgICAgICAgICAgICAvLyBEbyBpdCBvbmx5IHdoZW4gdGhlIGF0dHJpYnV0ZXMgYXJlIGFsbG93ZWQgKCMxMTAwNCkuXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5maWx0ZXIuY2hlY2tGZWF0dXJlKGZlYXR1cmVzLmRpbWVuc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0RGltZW5zaW9ucyh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDYWNoZSBjdXJyZW50IGRhdGEuXG4gICAgICAgICAgICAgICAgdGhpcy5vbGREYXRhID0gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LCB0aGlzLmRhdGEpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZG93bmNhc3Q6IGRvd25jYXN0V2lkZ2V0RWxlbWVudChlZGl0b3IpLFxuXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLFxuXG4gICAgICAgICAgICAvLyBUaGlzIHdpZGdldCBoYXMgYW4gZWRpdGFibGUgY2FwdGlvbi5cbiAgICAgICAgICAgIGVkaXRhYmxlczoge1xuICAgICAgICAgICAgICAgIGNhcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6ICdmaWdjYXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dlZENvbnRlbnQ6ICdiciBlbSBzdHJvbmcgc3ViIHN1cCB1IHM7IGFbIWhyZWYsdGFyZ2V0XSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmZWF0dXJlczogZ2V0V2lkZ2V0RmVhdHVyZXMoZWRpdG9yKSxcblxuICAgICAgICAgICAgLy8gT3ZlcnJpZGVzIGRlZmF1bHQgbWV0aG9kIHRvIGhhbmRsZSBpbnRlcm5hbCBtdXRhYmlsaXR5IG9mIEltYWdlMi5cbiAgICAgICAgICAgIC8vIEBzZWUgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQjZ2V0Q2xhc3Nlc1xuICAgICAgICAgICAgZ2V0Q2xhc3NlczogKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NSZWdleCA9IG5ldyBSZWdFeHAoJ14oJyArIFtdLmNvbmNhdChjYXB0aW9uZWRDbGFzcywgYWxpZ25DbGFzc2VzKS5qb2luKCd8JykgKyAnKSQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGFzc2VzID0gdGhpcy5yZXBvc2l0b3J5LnBhcnNlRWxlbWVudENsYXNzZXMoZ2V0U3R5bGVhYmxlRWxlbWVudCh0aGlzKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE5laXRoZXIgY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzcyBub3IgY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90IGJlbG9uZyB0byBzdHlsZSBjbGFzc2VzLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjIGluIGNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc1JlZ2V4LnRlc3QoYykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2xhc3Nlc1tjXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSgpLFxuXG4gICAgICAgICAgICBnZXRMYWJlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9ICh0aGlzLmRhdGEuYWx0IHx8ICcnKSArICcgJyArIHRoaXMucGF0aE5hbWU7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGFiZWw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZXMgZGVmYXVsdCBtZXRob2QgdG8gaGFuZGxlIGludGVybmFsIG11dGFiaWxpdHkgb2YgSW1hZ2UyLlxuICAgICAgICAgICAgLy8gQHNlZSBDS0VESVRPUi5wbHVnaW5zLndpZGdldCNoYXNDbGFzc1xuICAgICAgICAgICAgaGFzQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0U3R5bGVhYmxlRWxlbWVudCh0aGlzKS5oYXNDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcGFydHM6IHtcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiAnZmlnY2FwdGlvbicsXG4gICAgICAgICAgICAgICAgaW1hZ2U6ICdpbWcnXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZXMgZGVmYXVsdCBtZXRob2QgdG8gaGFuZGxlIGludGVybmFsIG11dGFiaWxpdHkgb2YgSW1hZ2UyLlxuICAgICAgICAgICAgLy8gQHNlZSBDS0VESVRPUi5wbHVnaW5zLndpZGdldCNyZW1vdmVDbGFzc1xuICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBnZXRTdHlsZWFibGVFbGVtZW50KHRoaXMpLnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICByZXF1aXJlZENvbnRlbnQ6ICdpbWdbc3JjLGFsdF0nLFxuXG4gICAgICAgICAgICBzdHlsZWFibGVFbGVtZW50czogJ2ltZyBmaWd1cmUnLFxuXG4gICAgICAgICAgICAvLyBUZW1wbGF0ZSBvZiB0aGUgd2lkZ2V0OiBwbGFpbiBpbWFnZS5cbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcblxuICAgICAgICAgICAgdXBjYXN0OiB1cGNhc3RXaWRnZXRFbGVtZW50KGVkaXRvcilcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiBFbmhhbmNlZCBJbWFnZSAoaW1hZ2UyKSBwbHVnaW4gaGVscGVycy5cbiAgICAgKlxuICAgICAqIEBjbGFzc1xuICAgICAqIEBzaW5nbGV0b25cbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmltYWdlMiA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGltYWdlIHJhdGlvIG1hdGNoZXMgdGhlIG5hdHVyYWwgb25lXG4gICAgICAgICAqIGJ5IGNvbXBhcmluZyBkaW1lbnNpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBpbWFnZVxuICAgICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGNoZWNrSGFzTmF0dXJhbFJhdGlvOiBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHZhciAkID0gaW1hZ2UuJCxcbiAgICAgICAgICAgICAgICBuYXR1cmFsID0gdGhpcy5nZXROYXR1cmFsKGltYWdlKTtcblxuICAgICAgICAgICAgLy8gVGhlIHJlYXNvbiBmb3IgdHdvIGFsdGVybmF0aXZlIGNvbXBhcmlzb25zIGlzIHRoYXQgdGhlIHJvdW5kaW5nIGNhbiBjb21lIGZyb21cbiAgICAgICAgICAgIC8vIGJvdGggZGltZW5zaW9ucywgZS5nLiB0aGVyZSBhcmUgdHdvIGNhc2VzOlxuICAgICAgICAgICAgLy8gXHQxLiBoZWlnaHQgaXMgY29tcHV0ZWQgYXMgYSByb3VuZGVkIHJlbGF0aW9uIG9mIHRoZSByZWFsIGhlaWdodCBhbmQgdGhlIHZhbHVlIG9mIHdpZHRoLFxuICAgICAgICAgICAgLy9cdDIuIHdpZHRoIGlzIGNvbXB1dGVkIGFzIGEgcm91bmRlZCByZWxhdGlvbiBvZiB0aGUgcmVhbCB3aWR0aCBhbmQgdGhlIHZhbHVlIG9mIGhlaWdoLlxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoJC5jbGllbnRXaWR0aCAvIG5hdHVyYWwud2lkdGggKiBuYXR1cmFsLmhlaWdodCkgPT0gJC5jbGllbnRIZWlnaHQgfHxcbiAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKCQuY2xpZW50SGVpZ2h0IC8gbmF0dXJhbC5oZWlnaHQgKiBuYXR1cmFsLndpZHRoKSA9PSAkLmNsaWVudFdpZHRoO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIG5hdHVyYWwgZGltZW5zaW9ucyBvZiB0aGUgaW1hZ2UuIEZvciBtb2Rlcm4gYnJvd3NlcnNcbiAgICAgICAgICogaXQgdXNlcyBuYXR1cmFsKFdpZHRofEhlaWdodCkuIEZvciBvbGQgb25lcyAoSUU4KSBpdCBjcmVhdGVzXG4gICAgICAgICAqIGEgbmV3IGltYWdlIGFuZCByZWFkcyB0aGUgZGltZW5zaW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2VcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGdldE5hdHVyYWw6IGZ1bmN0aW9uIChpbWFnZSkge1xuICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnM7XG5cbiAgICAgICAgICAgIGlmIChpbWFnZS4kLm5hdHVyYWxXaWR0aCkge1xuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1hZ2UuJC5uYXR1cmFsSGVpZ2gsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbWFnZS4kLm5hdHVyYWxXaWR0aFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpO1xuXG4gICAgICAgICAgICAgICAgZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBpbWcuaGVpZ2gsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBpbWcud2lkdGhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZGltZW5zaW9ucztcbiAgICAgICAgfSxcbiAgICB9O1xuXG4gICAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyB3aWRnZXRzIGZyb20gYWxsIDxpbWc+IGFuZFxuICAgIC8vIDxmaWd1cmUgY2xhc3M9XCJ7Y29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzc31cIj4gZWxlbWVudHMuXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yXG4gICAgLy8gQHJldHVybnMge0Z1bmN0aW9ufVxuICAgIGZ1bmN0aW9uIHVwY2FzdFdpZGdldEVsZW1lbnQoZWRpdG9yKSB7XG4gICAgICAgIHZhciBpc0NlbnRlcldyYXBwZXIgPSBjZW50ZXJXcmFwcGVyQ2hlY2tlcihlZGl0b3IpO1xuXG4gICAgICAgIHZhciBjYXB0aW9uZWRDbGFzcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2NhcHRpb25lZENsYXNzO1xuXG4gICAgICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50fSBlbFxuICAgICAgICAvLyBAcGFyYW0ge09iamVjdH0gZGF0YVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBuYW1lID0gZWwubmFtZTtcblxuICAgICAgICAgICAgdmFyIGltYWdlO1xuXG4gICAgICAgICAgICAvLyAjMTExMTAgRG9uJ3QgaW5pdGlhbGl6ZSBvbiBwYXN0ZWQgZmFrZSBvYmplY3RzLlxuICAgICAgICAgICAgaWYgKGVsLmF0dHJpYnV0ZXNbJ2RhdGEtY2tlLXJlYWxlbGVtZW50J10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGEgY2VudGVyIHdyYXBwZXIgaXMgZm91bmQsIHRoZXJlIGFyZSAzIHBvc3NpYmxlIGNhc2VzOlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIDEuIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxmaWd1cmU+Li4uPC9maWd1cmU+PC9kaXY+LlxuICAgICAgICAgICAgLy8gICAgSW4gdGhpcyBjYXNlIGNlbnRlcmluZyBpcyBkb25lIHdpdGggYSBjbGFzcyBzZXQgb24gd2lkZ2V0LndyYXBwZXIuXG4gICAgICAgICAgICAvLyAgICBTaW1wbHkgcmVwbGFjZSBjZW50ZXJpbmcgd3JhcHBlciB3aXRoIGZpZ3VyZSAoaXQncyBubyBsb25nZXIgbmVjZXNzYXJ5KS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAyLiA8cCBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+PGltZy8+PC9wPi5cbiAgICAgICAgICAgIC8vICAgIE5vdGhpbmcgdG8gZG8gaGVyZTogPHA+IHJlbWFpbnMgZm9yIHN0eWxpbmcgcHVycG9zZXMuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gMy4gPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+PGltZy8+PC9kaXY+LlxuICAgICAgICAgICAgLy8gICAgTm90aGluZyB0byBkbyBoZXJlICgyLikgYnV0IHRoYXQgY2FzZSBpcyBvbmx5IHBvc3NpYmxlIGluIGVudGVyTW9kZSBkaWZmZXJlbnRcbiAgICAgICAgICAgIC8vICAgIHRoYW4gRU5URVJfUC5cbiAgICAgICAgICAgIGlmIChpc0NlbnRlcldyYXBwZXIoZWwpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gJ2RpdicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpZ3VyZSA9IGVsLmdldEZpcnN0KCdmaWd1cmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDYXNlICMxLlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlndXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5yZXBsYWNlV2l0aChmaWd1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSBmaWd1cmU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ2FzZXMgIzIgYW5kICMzIChoYW5kbGVkIHRyYW5zcGFyZW50bHkpXG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgY2VudGVyaW5nIHdyYXBwZXIsIHNhdmUgaXQgaW4gZGF0YS5cbiAgICAgICAgICAgICAgICBkYXRhLmFsaWduID0gJ2NlbnRlcic7XG5cbiAgICAgICAgICAgICAgICAvLyBJbWFnZSBjYW4gYmUgd3JhcHBlZCBpbiBsaW5rIDxhPjxpbWcvPjwvYT4uXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBlbC5nZXRGaXJzdCgnaW1nJykgfHwgZWwuZ2V0Rmlyc3QoJ2EnKS5nZXRGaXJzdCgnaW1nJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE5vIGNlbnRlciB3cmFwcGVyIGhhcyBiZWVuIGZvdW5kLlxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSA9PSAnZmlndXJlJyAmJiBlbC5oYXNDbGFzcyhjYXB0aW9uZWRDbGFzcykpIHtcbiAgICAgICAgICAgICAgICBpbWFnZSA9IGVsLmdldEZpcnN0KCdpbWcnKSB8fCBlbC5nZXRGaXJzdCgnYScpLmdldEZpcnN0KCdpbWcnKTtcblxuICAgICAgICAgICAgICAgIC8vIFVwY2FzdCBsaW5rZWQgaW1hZ2UgbGlrZSA8YT48aW1nLz48L2E+LlxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc0xpbmtlZE9yU3RhbmRhbG9uZUltYWdlKGVsKSkge1xuICAgICAgICAgICAgICAgIGltYWdlID0gZWwubmFtZSA9PSAnYScgPyBlbC5jaGlsZHJlblswXSA6IGVsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGltYWdlLCB0aGVuIGNvb2wsIHdlIGdvdCBhIHdpZGdldC5cbiAgICAgICAgICAgIC8vIE5vdyBqdXN0IHJlbW92ZSBkaW1lbnNpb24gYXR0cmlidXRlcyBleHByZXNzZWQgd2l0aCAlLlxuICAgICAgICAgICAgZm9yICh2YXIgZCBpbiBkaW1lbnNpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGltYWdlLmF0dHJpYnV0ZXNbZF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZGltZW5zaW9uICYmIGRpbWVuc2lvbi5tYXRjaChyZWdleFBlcmNlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpbWFnZS5hdHRyaWJ1dGVzW2RdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCB0cmFuc2Zvcm1zIHRoZSB3aWRnZXQgdG8gdGhlIGV4dGVybmFsIGZvcm1hdFxuICAgIC8vIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uLlxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9XG4gICAgZnVuY3Rpb24gZG93bmNhc3RXaWRnZXRFbGVtZW50KGVkaXRvcikge1xuICAgICAgICB2YXIgYWxpZ25DbGFzc2VzID0gZWRpdG9yLmNvbmZpZy5pbWFnZTJfYWxpZ25DbGFzc2VzO1xuXG4gICAgICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50fSBlbFxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAvLyBJbiBjYXNlIG9mIDxhPjxpbWcvPjwvYT4sIDxpbWcvPiBpcyB0aGUgZWxlbWVudCB0byBob2xkXG4gICAgICAgICAgICAvLyBpbmxpbmUgc3R5bGVzIG9yIGNsYXNzZXMgKGltYWdlMl9hbGlnbkNsYXNzZXMpLlxuICAgICAgICAgICAgdmFyIGF0dHJzSG9sZGVyID0gZWwubmFtZSA9PSAnYScgPyBlbC5nZXRGaXJzdCgpIDogZWw7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBhdHRyc0hvbGRlci5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZTtcblxuICAgICAgICAgICAgdmFyIGF0dHJzID0gYXR0cnNIb2xkZXIuYXR0cmlidXRlcztcblxuICAgICAgICAgICAgdmFyIGFsaWduID0gdGhpcy5kYXRhLmFsaWduO1xuXG4gICAgICAgICAgICAvLyBEZS13cmFwIHRoZSBpbWFnZSBmcm9tIHJlc2l6ZSBoYW5kbGUgd3JhcHBlci5cbiAgICAgICAgICAgIC8vIE9ubHkgYmxvY2sgd2lkZ2V0cyBoYXZlIG9uZS5cbiAgICAgICAgICAgIGlmICghdGhpcy5pbmxpbmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzaXplV3JhcHBlciA9IGVsLmdldEZpcnN0KCdzcGFuJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzaXplV3JhcHBlcikge1xuICAgICAgICAgICAgICAgICAgICByZXNpemVXcmFwcGVyLnJlcGxhY2VXaXRoKHJlc2l6ZVdyYXBwZXIuZ2V0Rmlyc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgYTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGltZzogMVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWxpZ24gJiYgYWxpZ24gIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcyA9IENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhdHRycy5zdHlsZSB8fCAnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRoZSB3aWRnZXQgaXMgY2FwdGlvbmVkICg8ZmlndXJlPikgYW5kIGludGVybmFsbHkgY2VudGVyaW5nIGlzIGRvbmVcbiAgICAgICAgICAgICAgICAvLyB3aXRoIHdpZGdldCdzIHdyYXBwZXIgc3R5bGUvY2xhc3MsIGluIHRoZSBleHRlcm5hbCBkYXRhIHJlcHJlc2VudGF0aW9uLFxuICAgICAgICAgICAgICAgIC8vIDxmaWd1cmU+IG11c3QgYmUgd3JhcHBlZCB3aXRoIGFuIGVsZW1lbnQgaG9sZGluZyBhbiBzdHlsZS9jbGFzczpcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vIFx0PGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+XG4gICAgICAgICAgICAgICAgLy8gXHRcdDxmaWd1cmUgY2xhc3M9XCJpbWFnZVwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2tcIj4uLi48L2ZpZ3VyZT5cbiAgICAgICAgICAgICAgICAvLyBcdDwvZGl2PlxuICAgICAgICAgICAgICAgIC8vIG9yXG4gICAgICAgICAgICAgICAgLy8gXHQ8ZGl2IGNsYXNzPVwic29tZS1jZW50ZXItY2xhc3NcIj5cbiAgICAgICAgICAgICAgICAvLyBcdFx0PGZpZ3VyZSBjbGFzcz1cImltYWdlXCI+Li4uPC9maWd1cmU+XG4gICAgICAgICAgICAgICAgLy8gXHQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIGlmIChhbGlnbiA9PSAnY2VudGVyJyAmJiBlbC5uYW1lID09ICdmaWd1cmUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsID0gZWwud3JhcFdpdGgobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCgnZGl2JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduQ2xhc3NlcyA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiBhbGlnbkNsYXNzZXNbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICd0ZXh0LWFsaWduOmNlbnRlcidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBJZiBsZWZ0L3JpZ2h0LCBhZGQgZmxvYXQgc3R5bGUgdG8gdGhlIGRvd25jYXN0ZWQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhbGlnbiBpbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDFcbiAgICAgICAgICAgICAgICAgICAgfSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWxpZ25DbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyc0hvbGRlci5hZGRDbGFzcyhhbGlnbkNsYXNzZXNbYWxpZ25tZW50c09ialthbGlnbl1dKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlc1snZmxvYXQnXSA9IGFsaWduO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGVsZW1lbnQgc3R5bGVzLlxuICAgICAgICAgICAgICAgIGlmICghYWxpZ25DbGFzc2VzICYmICFDS0VESVRPUi50b29scy5pc0VtcHR5KHN0eWxlcykpIHtcbiAgICAgICAgICAgICAgICAgICAgYXR0cnMuc3R5bGUgPSBDS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoc3R5bGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgYW4gZWxlbWVudCBpcyBhIGNlbnRlcmluZyB3cmFwcGVyLlxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9IGVkaXRvclxuICAgIC8vIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICBmdW5jdGlvbiBjZW50ZXJXcmFwcGVyQ2hlY2tlcihlZGl0b3IpIHtcbiAgICAgICAgdmFyIGNhcHRpb25lZENsYXNzID0gZWRpdG9yLmNvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3M7XG5cbiAgICAgICAgdmFyIGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcztcblxuICAgICAgICB2YXIgdmFsaWRDaGlsZHJlbiA9IHtcbiAgICAgICAgICAgIGE6IDEsXG4gICAgICAgICAgICBmaWd1cmU6IDEsXG4gICAgICAgICAgICBpbWc6IDFcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAvLyBXcmFwcGVyIG11c3QgYmUgZWl0aGVyIDxkaXY+IG9yIDxwPi5cbiAgICAgICAgICAgIGlmICghKGVsLm5hbWUgaW4ge1xuICAgICAgICAgICAgICAgICAgICBkaXY6IDEsXG4gICAgICAgICAgICAgICAgICAgIHA6IDFcbiAgICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIC8vIENlbnRlcmluZyB3cmFwcGVyIGNhbiBoYXZlIG9ubHkgb25lIGNoaWxkLlxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5bMF07XG5cbiAgICAgICAgICAgIC8vIE9ubHkgPGZpZ3VyZT4gb3IgPGltZyAvPiBjYW4gYmUgZmlyc3QgKG9ubHkpIGNoaWxkIG9mIGNlbnRlcmluZyB3cmFwcGVyLFxuICAgICAgICAgICAgLy8gcmVnYXJkbGVzcyBvZiBpdHMgdHlwZS5cbiAgICAgICAgICAgIGlmICghKGNoaWxkLm5hbWUgaW4gdmFsaWRDaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIGNlbnRlcmluZyB3cmFwcGVyIGlzIDxwPiwgb25seSA8aW1nIC8+IGNhbiBiZSB0aGUgY2hpbGQuXG4gICAgICAgICAgICAvLyAgIDxwIHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48aW1nIC8+PC9wPlxuICAgICAgICAgICAgaWYgKGVsLm5hbWUgPT0gJ3AnKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0xpbmtlZE9yU3RhbmRhbG9uZUltYWdlKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2VudGVyaW5nIDxkaXY+IGNhbiBob2xkIDxpbWcvPiBvciA8ZmlndXJlPiwgZGVwZW5kaW5nIG9uIGVudGVyTW9kZS5cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIGEgPGZpZ3VyZT4gaXMgdGhlIGZpcnN0IChvbmx5KSBjaGlsZCwgaXQgbXVzdCBoYXZlIGEgY2xhc3MuXG4gICAgICAgICAgICAgICAgLy8gICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48ZmlndXJlPi4uLjwvZmlndXJlPjxkaXY+XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5hbWUgPT0gJ2ZpZ3VyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5oYXNDbGFzcyhjYXB0aW9uZWRDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENlbnRlcmluZyA8ZGl2PiBjYW4gaG9sZCA8aW1nLz4gb3IgPGE+PGltZy8+PC9hPiBvbmx5IHdoZW4gZW50ZXJNb2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlzIEVOVEVSXyhCUnxESVYpLlxuICAgICAgICAgICAgICAgICAgICAvLyAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcgLz48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgLy8gICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48YT48aW1nIC8+PC9hPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLmVudGVyTW9kZSA9PSBDS0VESVRPUi5FTlRFUl9QKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZWdhcmRsZXNzIG9mIGVudGVyTW9kZSwgYSBjaGlsZCB3aGljaCBpcyBub3QgPGZpZ3VyZT4gbXVzdCBiZVxuICAgICAgICAgICAgICAgICAgICAvLyBlaXRoZXIgPGltZy8+IG9yIDxhPjxpbWcvPjwvYT4uXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZShjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2VudGVyaW5nIHdyYXBwZXIgZ290IHRvIGJlLi4uIGNlbnRlcmluZy4gSWYgaW1hZ2UyX2FsaWduQ2xhc3NlcyBhcmUgZGVmaW5lZCxcbiAgICAgICAgICAgIC8vIGNoZWNrIGZvciBjZW50ZXJpbmcgY2xhc3MuIE90aGVyd2lzZSwgY2hlY2sgdGhlIHN0eWxlLlxuICAgICAgICAgICAgaWYgKGFsaWduQ2xhc3NlcyA/IGVsLmhhc0NsYXNzKGFsaWduQ2xhc3Nlc1sxXSkgOlxuICAgICAgICAgICAgICAgIENLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChlbC5hdHRyaWJ1dGVzLnN0eWxlIHx8ICcnLCB0cnVlKVsndGV4dC1hbGlnbiddID09ICdjZW50ZXInKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBDaGVja3Mgd2hldGhlciBlbGVtZW50IGlzIDxpbWcvPiBvciA8YT48aW1nLz48L2E+LlxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnR9XG4gICAgZnVuY3Rpb24gaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZShlbCkge1xuICAgICAgICBpZiAoZWwubmFtZSA9PSAnaW1nJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZWwubmFtZSA9PSAnYScpIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5jaGlsZHJlbi5sZW5ndGggPT0gMSAmJiBlbC5nZXRGaXJzdCgnaW1nJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gU2V0cyB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB3aWRnZXQgaW1hZ2UgYWNjb3JkaW5nIHRvIGN1cnJlbnQgd2lkZ2V0IGRhdGEuXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0fSB3aWRnZXRcbiAgICBmdW5jdGlvbiBzZXREaW1lbnNpb25zKHdpZGdldCkge1xuICAgICAgICB2YXIgZGF0YSA9IHdpZGdldC5kYXRhO1xuXG4gICAgICAgIHZhciBkaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgaGVpZ2h0OiBkYXRhLmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiBkYXRhLndpZHRoXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGltYWdlID0gd2lkZ2V0LnBhcnRzLmltYWdlO1xuXG4gICAgICAgIGZvciAodmFyIGQgaW4gZGltZW5zaW9ucykge1xuICAgICAgICAgICAgaWYgKGRpbWVuc2lvbnNbZF0pIHtcbiAgICAgICAgICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoZCwgZGltZW5zaW9uc1tkXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGltYWdlLnJlbW92ZUF0dHJpYnV0ZShkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIERlZmluZXMgYWxsIGZlYXR1cmVzIHJlbGF0ZWQgdG8gZHJhZy1kcml2ZW4gaW1hZ2UgcmVzaXppbmcuXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0fSB3aWRnZXRcbiAgICBmdW5jdGlvbiBzZXR1cFJlc2l6ZXIod2lkZ2V0KSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB3aWRnZXQuZWRpdG9yO1xuXG4gICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgIHZhciBkb2MgPSBlZGl0b3IuZG9jdW1lbnQ7XG5cbiAgICAgICAgLy8gU3RvcmUgdGhlIHJlc2l6ZXIgaW4gYSB3aWRnZXQgZm9yIHRlc3RpbmcgKCMxMTAwNCkuXG4gICAgICAgIHZhciByZXNpemVyID0gd2lkZ2V0LnJlc2l6ZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXG4gICAgICAgIHJlc2l6ZXIuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemVyJyk7XG4gICAgICAgIHJlc2l6ZXIuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemVyXycgKyBjdXJzb3JbZWRpdG9yLmNvbmZpZy5pbWFnZVNjYWxlUmVzaXplXSk7XG4gICAgICAgIHJlc2l6ZXIuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dCgnXFx1MjAwYicsIGRvYykpO1xuXG4gICAgICAgIC8vIElubGluZSB3aWRnZXRzIGRvbid0IG5lZWQgYSByZXNpemVyIHdyYXBwZXIgYXMgYW4gaW1hZ2Ugc3BhbnMgdGhlIGVudGlyZSB3aWRnZXQuXG4gICAgICAgIGlmICghd2lkZ2V0LmlubGluZSkge1xuICAgICAgICAgICAgdmFyIGltYWdlT3JMaW5rID0gd2lkZ2V0LnBhcnRzLmxpbmsgfHwgd2lkZ2V0LnBhcnRzLmltYWdlO1xuXG4gICAgICAgICAgICB2YXIgb2xkUmVzaXplV3JhcHBlciA9IGltYWdlT3JMaW5rLmdldFBhcmVudCgpO1xuXG4gICAgICAgICAgICB2YXIgcmVzaXplV3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cbiAgICAgICAgICAgIHJlc2l6ZVdyYXBwZXIuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemVyX3dyYXBwZXInKTtcbiAgICAgICAgICAgIHJlc2l6ZVdyYXBwZXIuYXBwZW5kKGltYWdlT3JMaW5rKTtcbiAgICAgICAgICAgIHJlc2l6ZVdyYXBwZXIuYXBwZW5kKHJlc2l6ZXIpO1xuICAgICAgICAgICAgd2lkZ2V0LmVsZW1lbnQuYXBwZW5kKHJlc2l6ZVdyYXBwZXIsIHRydWUpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG9sZCB3cmFwcGVyIHdoaWNoIGNvdWxkIGNhbWUgZnJvbSBlLmcuIHBhc3RlZCBIVE1MXG4gICAgICAgICAgICAvLyBhbmQgd2hpY2ggY291bGQgYmUgY29ycnVwdGVkIChlLmcuIHJlc2l6ZXIgc3BhbiBoYXMgYmVlbiBsb3N0KS5cbiAgICAgICAgICAgIGlmIChvbGRSZXNpemVXcmFwcGVyLmlzKCdzcGFuJykpIHtcbiAgICAgICAgICAgICAgICBvbGRSZXNpemVXcmFwcGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2lkZ2V0LndyYXBwZXIuYXBwZW5kKHJlc2l6ZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHZhbHVlcyBvZiBzaXplIHZhcmlhYmxlcyBhbmQgbW91c2Ugb2Zmc2V0cy5cbiAgICAgICAgcmVzaXplci5vbignbW91c2Vkb3duJywgZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgdmFyIGltYWdlID0gd2lkZ2V0LnBhcnRzLmltYWdlO1xuXG4gICAgICAgICAgICAvLyBcImZhY3RvclwiIGNhbiBiZSBlaXRoZXIgMSBvciAtMS4gSS5lLjogRm9yIHJpZ2h0LWFsaWduZWQgaW1hZ2VzLCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBzdWJ0cmFjdCB0aGUgZGlmZmVyZW5jZSB0byBnZXQgcHJvcGVyIHdpZHRoLCBldGMuIFdpdGhvdXQgXCJmYWN0b3JcIixcbiAgICAgICAgICAgIC8vIHJlc2l6ZXIgc3RhcnRzIHdvcmtpbmcgdGhlIG9wcG9zaXRlIHdheS5cbiAgICAgICAgICAgIHZhciBmYWN0b3IgPSB3aWRnZXQuZGF0YS5hbGlnbiA9PSAncmlnaHQnID8gLTEgOiAxO1xuXG4gICAgICAgICAgICAvLyBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBtb3VzZSByZWxhdGl2ZSB0byB0aGUgc2NyZWVuXG4gICAgICAgICAgICAvLyB3aGVuIGJ1dHRvbiBnZXRzIHByZXNzZWQuXG4gICAgICAgICAgICB2YXIgc3RhcnRYID0gZXZ0LmRhdGEuJC5zY3JlZW5YO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnRZID0gZXZ0LmRhdGEuJC5zY3JlZW5ZO1xuXG4gICAgICAgICAgICAvLyBUaGUgaW5pdGlhbCBkaW1lbnNpb25zIGFuZCBhc3BlY3QgcmF0aW8gb2YgdGhlIGltYWdlLlxuICAgICAgICAgICAgdmFyIHN0YXJ0V2lkdGggPSBpbWFnZS4kLmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICB2YXIgc3RhcnRIZWlnaHQgPSBpbWFnZS4kLmNsaWVudEhlaWdodDtcblxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gICAgICAgICAgICAvLyBBIGNsYXNzIGFwcGxpZWQgdG8gZWRpdGFibGUgZHVyaW5nIHJlc2l6aW5nLlxuICAgICAgICAgICAgdmFyIGN1cnNvckNsYXNzID0gJ2NrZV9pbWFnZV9zJyArICghfmZhY3RvciA/ICd3JyA6ICdlJyk7XG5cbiAgICAgICAgICAgIHZhciBuYXRpdmVFdnQsIG5ld1dpZHRoLCBuZXdIZWlnaHQsIHVwZGF0ZURhdGE7XG5cbiAgICAgICAgICAgIHZhciBtb3ZlRGlmZlgsIG1vdmVEaWZmWSwgbW92ZVJhdGlvO1xuXG4gICAgICAgICAgICAvLyBTYXZlIHRoZSB1bmRvIHNuYXBzaG90IGZpcnN0OiBiZWZvcmUgcmVzaXppbmcuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnc2F2ZVNuYXBzaG90Jyk7XG5cbiAgICAgICAgICAgIC8vIE1vdXNlbW92ZSBsaXN0ZW5lcnMgYXJlIHJlbW92ZWQgb24gbW91c2V1cC5cbiAgICAgICAgICAgIGF0dGFjaFRvRG9jdW1lbnRzKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgbGlzdGVuZXJzKTtcblxuICAgICAgICAgICAgLy8gQ2xlYW4gdXAgdGhlIG1vdXNlbW92ZSBsaXN0ZW5lci4gVXBkYXRlIHdpZGdldCBkYXRhIGlmIHZhbGlkLlxuICAgICAgICAgICAgYXR0YWNoVG9Eb2N1bWVudHMoJ21vdXNldXAnLCBvbk1vdXNlVXAsIGxpc3RlbmVycyk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBlbnRpcmUgZWRpdGFibGUgd2lsbCBoYXZlIHRoZSBzcGVjaWFsIGN1cnNvciB3aGlsZSByZXNpemluZyBnb2VzIG9uLlxuICAgICAgICAgICAgZWRpdGFibGUuYWRkQ2xhc3MoY3Vyc29yQ2xhc3MpO1xuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRvIGFsd2F5cyBrZWVwIHRoZSByZXNpemVyIGVsZW1lbnQgdmlzaWJsZSB3aGlsZSByZXNpemluZy5cbiAgICAgICAgICAgIHJlc2l6ZXIuYWRkQ2xhc3MoJ2NrZV9pbWFnZV9yZXNpemluZycpO1xuXG4gICAgICAgICAgICAvLyBBdHRhY2hlcyBhbiBldmVudCB0byBhIGdsb2JhbCBkb2N1bWVudCBpZiBpbmxpbmUgZWRpdG9yLlxuICAgICAgICAgICAgLy8gQWRkaXRpb25hbGx5LCBpZiBjbGFzc2ljIChgaWZyYW1lYC1iYXNlZCkgZWRpdG9yLCBhbHNvIGF0dGFjaGVzIHRoZSBzYW1lIGV2ZW50IHRvIGBpZnJhbWVgJ3MgZG9jdW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBhdHRhY2hUb0RvY3VtZW50cyhuYW1lLCBjYWxsYmFjaywgY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxEb2MgPSBDS0VESVRPUi5kb2N1bWVudDtcblxuICAgICAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGlmICghZG9jLmVxdWFscyhnbG9iYWxEb2MpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGdsb2JhbERvYy5vbihuYW1lLCBjYWxsYmFjaykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGRvYy5vbihuYW1lLCBjYWxsYmFjaykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxpc3RlbmVycy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucHVzaChsaXN0ZW5lcnMucG9wKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGhvdyB2YXJpYWJsZXMgcmVmZXIgdG8gdGhlIGdlb21ldHJ5LlxuICAgICAgICAgICAgLy8gTm90ZTogeCBjb3JyZXNwb25kcyB0byBtb3ZlT2Zmc2V0LCB0aGlzIGlzIHRoZSBwb3NpdGlvbiBvZiBtb3VzZVxuICAgICAgICAgICAgLy8gTm90ZTogbyBjb3JyZXNwb25kcyB0byBbc3RhcnRYLCBzdGFydFldLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFx0Ky0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgICAgLy8gXHR8ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAvLyBcdHwgICAgICBJICAgICAgIHwgICAgICBJSSAgICAgIHxcbiAgICAgICAgICAgIC8vIFx0fCAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgICAgLy8gXHQrLS0tLS0tLS0tLS0tLSBvIC0tLS0tLS0tLS0tLS0rIF8gXyBfXG4gICAgICAgICAgICAvLyBcdHwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHwgICAgICBeXG5cbiAgICAgICAgICAgIC8vIFx0fCAgICAgIFZJICAgICAgfCAgICAgSUlJICAgICAgfCAgICAgIHwgbW92ZURpZmZZXG4gICAgICAgICAgICAvLyBcdHwgICAgICAgICAgICAgIHwgICAgICAgICB4IF8gXyBfIF8gXyB2XG4gICAgICAgICAgICAvLyBcdCstLS0tLS0tLS0tLS0tLSstLS0tLS0tLS18LS0tLStcbiAgICAgICAgICAgIC8vIFx0ICAgICAgICAgICAgICAgfCAgICAgICAgIHxcbiAgICAgICAgICAgIC8vIFx0ICAgICAgICAgICAgICAgIDwtLS0tLS0tPlxuICAgICAgICAgICAgLy8gXHQgICAgICAgICAgICAgICAgbW92ZURpZmZYXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VTY2FsZVJlc2l6ZSA9IGVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZTtcblxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2dCA9IGV2dC5kYXRhLiQ7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGhvdyBmYXIgdGhlIG1vdXNlIGlzIGZyb20gdGhlIHBvaW50IHRoZSBidXR0b24gd2FzIHByZXNzZWQuXG4gICAgICAgICAgICAgICAgbW92ZURpZmZYID0gbmF0aXZlRXZ0LnNjcmVlblggLSBzdGFydFg7XG4gICAgICAgICAgICAgICAgbW92ZURpZmZZID0gc3RhcnRZIC0gbmF0aXZlRXZ0LnNjcmVlblk7XG5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIG1vdmUgZGlmZmVyZW5jZS5cbiAgICAgICAgICAgICAgICBtb3ZlUmF0aW8gPSBNYXRoLmFicyhtb3ZlRGlmZlggLyBtb3ZlRGlmZlkpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlU2NhbGVSZXNpemUgPT09ICd3aWR0aCcgfHwgaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ2JvdGgnIHx8IGltYWdlU2NhbGVSZXNpemUgPT09ICdzY2FsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3V2lkdGggPSBzdGFydFdpZHRoICsgZmFjdG9yICogbW92ZURpZmZYO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbWFnZVNjYWxlUmVzaXplID09PSAnaGVpZ2h0JyB8fCBpbWFnZVNjYWxlUmVzaXplID09PSAnYm90aCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gc3RhcnRIZWlnaHQgLSBtb3ZlRGlmZlk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlU2NhbGVSZXNpemUgPT09ICdzY2FsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG5ld1dpZHRoID0gbmV3V2lkdGggfHwgc3RhcnRXaWR0aDtcbiAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSBuZXdIZWlnaHQgfHwgc3RhcnRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCB1cGRhdGUgYXR0cmlidXRlcyBpZiBsZXNzIHRoYW4gMTAuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0byBwcmV2ZW50IGltYWdlcyB0byB2aXN1YWxseSBkaXNhcHBlYXIuXG4gICAgICAgICAgICAgICAgaWYgKG5ld1dpZHRoID49IDE1ICYmIChuZXdIZWlnaHQgPj0gMTUgfHwgbmV3SGVpZ2h0ID09PSAnYXV0bycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlLiQuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIGltYWdlLiQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGw7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoKGwgPSBsaXN0ZW5lcnMucG9wKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGwucmVtb3ZlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBSZXN0b3JlIGRlZmF1bHQgY3Vyc29yIGJ5IHJlbW92aW5nIHNwZWNpYWwgY2xhc3MuXG4gICAgICAgICAgICAgICAgZWRpdGFibGUucmVtb3ZlQ2xhc3MoY3Vyc29yQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyB0byBicmluZyBiYWNrIHRoZSByZWd1bGFyIGJlaGF2aW91ciBvZiB0aGUgcmVzaXplci5cbiAgICAgICAgICAgICAgICByZXNpemVyLnJlbW92ZUNsYXNzKCdja2VfaW1hZ2VfcmVzaXppbmcnKTtcblxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldC5lbGVtZW50LiQuc3R5bGUud2lkdGggPSBuZXdXaWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgICAgIHdpZGdldC5lbGVtZW50LiQuc3R5bGUuaGVpZ2h0ID0gbmV3SGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGFub3RoZXIgdW5kbyBzbmFwc2hvdDogYWZ0ZXIgcmVzaXppbmcuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCB1cGRhdGUgZGF0YSB0d2ljZSBvciBtb3JlLlxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgd2lkZ2V0IHJlc2l6ZXIgd2hlbiBkYXRhIGNoYW5nZXMuXG4gICAgICAgIHdpZGdldC5vbignZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc2l6ZXJbd2lkZ2V0LmRhdGEuYWxpZ24gPT0gJ3JpZ2h0JyA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXSgnY2tlX2ltYWdlX3Jlc2l6ZXJfbGVmdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aWRnZXQucGFydHMuaW1hZ2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZGdldEVsZW1lbnQgPSBlbGVtZW50LmZpbmRPbmUoJ2ltZycpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaW9uID0gZWxlbWVudC5nZXRDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0U2Nyb2xsUG9zaXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbi5sZWZ0IC09IHNjcm9sbFBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb24udG9wICs9IHNjcm9sbFBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbi5kaXJlY3Rpb24gPSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2VkaXRvckludGVyYWN0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHdpZGdldEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBhIHNldCBvZiB3aWRnZXQgYWxsb3dlZENvbnRlbnQgcnVsZXMsIGRlcGVuZGluZ1xuICAgIC8vIG9uIGNvbmZpZ3VyYXRpb25zIGxpa2UgY29uZmlnI2ltYWdlMl9hbGlnbkNsYXNzZXMgb3JcbiAgICAvLyBjb25maWcjaW1hZ2UyX2NhcHRpb25lZENsYXNzLlxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9XG4gICAgLy8gQHJldHVybnMge09iamVjdH1cbiAgICBmdW5jdGlvbiBnZXRXaWRnZXRBbGxvd2VkQ29udGVudChlZGl0b3IpIHtcbiAgICAgICAgdmFyIHJ1bGVzID0ge1xuICAgICAgICAgICAgZmlnY2FwdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgIGZpZ3VyZToge1xuICAgICAgICAgICAgICAgIGNsYXNzZXM6ICchJyArIGVkaXRvci5jb25maWcuaW1hZ2UyX2NhcHRpb25lZENsYXNzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1nOiB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogJyFzcmMsYWx0LHdpZHRoLGhlaWdodCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gcnVsZXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBhIHNldCBvZiB3aWRnZXQgZmVhdHVyZSBydWxlcywgZGVwZW5kaW5nXG4gICAgLy8gb24gZWRpdG9yIGNvbmZpZ3VyYXRpb24uIE5vdGUgdGhhdCB0aGUgZm9sbG93aW5nIG1heSBub3QgY292ZXJcbiAgICAvLyBhbGwgdGhlIHBvc3NpYmxlIGNhc2VzIHNpbmNlIHJlcXVpcmVkQ29udGVudCBzdXBwb3J0cyBhIHNpbmdsZVxuICAgIC8vIHRhZyBvbmx5LlxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9XG4gICAgLy8gQHJldHVybnMge09iamVjdH1cbiAgICBmdW5jdGlvbiBnZXRXaWRnZXRGZWF0dXJlcyhlZGl0b3IpIHtcbiAgICAgICAgdmFyIGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcztcblxuICAgICAgICB2YXIgZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICBhbGlnbjoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkQ29udGVudDogJ2ltZycgK1xuICAgICAgICAgICAgICAgICAgICAoYWxpZ25DbGFzc2VzID8gJygnICsgYWxpZ25DbGFzc2VzWzBdICsgJyknIDogJ3tmbG9hdH0nKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNhcHRpb246IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZENvbnRlbnQ6ICdmaWdjYXB0aW9uJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpbWVuc2lvbjoge1xuICAgICAgICAgICAgICAgIHJlcXVpcmVkQ29udGVudDogJ2ltZ1t3aWR0aCxoZWlnaHRdJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmZWF0dXJlcztcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGVsZW1lbnQgd2hpY2ggaXMgc3R5bGVkLCBjb25zaWRlcmluZyBjdXJyZW50XG4gICAgLy8gc3RhdGUgb2YgdGhlIHdpZGdldC5cbiAgICAvL1xuICAgIC8vIEBzZWUgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQjYXBwbHlTdHlsZVxuICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IucGx1Z2lucy53aWRnZXR9IHdpZGdldFxuICAgIC8vIEByZXR1cm5zIHtDS0VESVRPUi5kb20uZWxlbWVudH1cbiAgICBmdW5jdGlvbiBnZXRTdHlsZWFibGVFbGVtZW50KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gd2lkZ2V0LmRhdGEuaGFzQ2FwdGlvbiA/IHdpZGdldC5lbGVtZW50IDogd2lkZ2V0LnBhcnRzLmltYWdlO1xuICAgIH1cbn0pKCk7XG5cbkNLRURJVE9SLmNvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3MgPSAnaW1hZ2UnOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2VtYmVkJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBSRUdFWF9IVFRQID0gL15odHRwcz8vO1xuXG4gICAgdmFyIFJFR0VYX0RFRkFVTFRfTElOSyA9IC88YSBocmVmPS87XG5cbiAgICB2YXIgUFJPVklERVJTID0gWyd5b3V0dWJlJywgJ3R3aXR0ZXInXTtcblxuICAgIENLRURJVE9SLkRFRkFVTFRfQUVfRU1CRURfVVJMX1RQTCA9ICdodHRwOi8vYWxsb3kuaWZyYW1lLmx5L2FwaS9vZW1iZWQ/dXJsPXt1cmx9JmNhbGxiYWNrPXtjYWxsYmFja30nO1xuICAgIENLRURJVE9SLkRFRkFVTFRfQUVfRU1CRURfV0lER0VUX1RQTCA9ICc8ZGl2IGRhdGEtYWUtZW1iZWQtdXJsPVwie3VybH1cIj48L2Rpdj4nO1xuICAgIENLRURJVE9SLkRFRkFVTFRfQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTCA9ICc8YSBocmVmPVwie3VybH1cIj57dXJsfTwvYT4nO1xuICAgIC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBhZGRzIHRoZSBpbmZyYXN0cnVjdHVyZSB0byBlbWJlZCB1cmxzIGFzIG1lZGlhIG9iamVjdHMgdXNpbmcgYW4gb2VtYmVkXG4gICAgICogc2VydmljZS4gQnkgZGVmYXVsdCwgYW5kIGZvciBkZW1vaW5nIHB1cnBvc2VzIG9ubHksIHRoZSBvZW1iZWQgc2VydmljZSBpcyBob3N0ZWQgaW4gaWZyYW1lLmx5XG4gICAgICogYXQgLy9hbGxveS5pZnJhbWUubHkvYXBpL29lbWJlZD91cmw9e3VybH0mY2FsbGJhY2s9e2NhbGxiYWNrfS4gTm90ZSB0aGlzIHNob3VsZCBiZSBjaGFuZ2VkIHRvXG4gICAgICogYSBzZWxmLWhvc3RlZCBvciBwYWlkIHNlcnZpY2UgaW4gcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMuIEFjY2VzcyB0byB0aGUgYWxsb3kuaWZyYW1lLmx5IGVuZHBvaW50XG4gICAgICogbWF5IGJlIHJlc3RyaWN0ZWQgcGVyIGRvbWFpbiBkdWUgdG8gc2lnbmlmaWNhbnQgdHJhZmZpYy5cbiAgICAgKlxuICAgICAqIFRoaXMgcGx1Z2luIGFkZHMgYW4gYGVtYmVkVXJsYCBjb21tYW5kIHRoYXQgY2FuIGJlIHVzZWQgdG8gZWFzaWx5IGVtYmVkIGEgVVJMIGFuZCB0cmFuc2Zvcm0gaXRcbiAgICAgKiB0byBhbiBlbWJlZGRlZCBjb250ZW50LlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfZW1iZWRcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2VtYmVkJywge1xuICAgICAgICAgICAgcmVxdWlyZXM6ICd3aWRnZXQnLFxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIEFFX0VNQkVEX1VSTF9UUEwgPSBuZXcgQ0tFRElUT1IudGVtcGxhdGUoZWRpdG9yLmNvbmZpZy5lbWJlZFVybFRlbXBsYXRlIHx8IENLRURJVE9SLkRFRkFVTFRfQUVfRU1CRURfVVJMX1RQTCk7XG4gICAgICAgICAgICAgICAgdmFyIEFFX0VNQkVEX1dJREdFVF9UUEwgPSBuZXcgQ0tFRElUT1IudGVtcGxhdGUoZWRpdG9yLmNvbmZpZy5lbWJlZFdpZGdldFRwbCB8fCBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX1dJREdFVF9UUEwpO1xuICAgICAgICAgICAgICAgIHZhciBBRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMID0gbmV3IENLRURJVE9SLnRlbXBsYXRlKGVkaXRvci5jb25maWcuZW1iZWRMaW5rRGVmYXVsdFRwbCB8fCBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX0RFRkFVTFRfTElOS19UUEwpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBmdW5jdGlvbiB0byB1cGNhc3QgRE9NIGVsZW1lbnRzIHRvIGVtYmVkIHdpZGdldHMuXG4gICAgICAgICAgICAgICAgLy8gSXQgbWF0Y2hlcyBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX1dJREdFVF9UUExcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdEVtYmVkV2lkZ2V0VXBjYXN0Rm4gPSBmdW5jdGlvbihlbGVtZW50LCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm5hbWUgPT09ICdkaXYnICYmIGVsZW1lbnQuYXR0cmlidXRlc1snZGF0YS1hZS1lbWJlZC11cmwnXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS51cmwgPSBlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtYWUtZW1iZWQtdXJsJ107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGVtYmVkVXJsIGNvbW1hbmQgdGhhdCBjYW4gYmUgaW52b2tlZCB0byBlYXNpbHkgZW1iZWQgbWVkaWEgVVJMc1xuICAgICAgICAgICAgICAgIGVkaXRvci5hZGRDb21tYW5kKCdlbWJlZFVybCcsIHtcbiAgICAgICAgICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0SHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBRV9FTUJFRF9XSURHRVRfVFBMLm91dHB1dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZGF0YS51cmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgd2lkZ2V0IHRvIHByb3Blcmx5IGhhbmRsZSBlbWJlZCBvcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgZWRpdG9yLndpZGdldHMuYWRkKCdhZV9lbWJlZCcsIHtcblxuXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkQ29udGVudDogJ2RpdltkYXRhLWFlLWVtYmVkLXVybF0nLFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBMaXN0ZW5lciB0byBiZSBleGVjdXRlZCBldmVyeSB0aW1lIHRoZSB3aWRnZXQncyBkYXRhIGNoYW5nZXMuIEl0IHRha2VzIGNhcmUgb2ZcbiAgICAgICAgICAgICAgICAgICAgICogcmVxdWVzdGluZyB0aGUgZW1iZWQgb2JqZWN0IHRvIHRoZSBjb25maWd1cmVkIG9lbWJlZCBzZXJ2aWNlIGFuZCByZW5kZXIgaXQgaW5cbiAgICAgICAgICAgICAgICAgICAgICogdGhlIGVkaXRvclxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtldmVudH0gZXZlbnQgRGF0YSBjaGFuZ2UgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2lkZ2V0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGV2ZW50LmRhdGEudXJsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ0tFRElUT1IudG9vbHMuanNvbnAoQUVfRU1CRURfVVJMX1RQTCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGVuY29kZVVSSUNvbXBvbmVudCh1cmwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmh0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSRUdFWF9ERUZBVUxUX0xJTksudGVzdChyZXNwb25zZS5odG1sKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5jcmVhdGVBVGFnKHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5lbGVtZW50LnNldEh0bWwocmVzcG9uc2UuaHRtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuY3JlYXRlQVRhZyh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24obXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldC5jcmVhdGVBVGFnKHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlQVRhZzogZnVuY3Rpb24odXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5leGVjQ29tbWFuZCgndW5kbycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFNlbGVjdGlvbiA9IHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYVRhZ0h0bWwgPSBBRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMLm91dHB1dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5pbnNlcnRIdG1sKGFUYWdIdG1sKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBGdW5jdGlvbiB1c2VkIHRvIHVwY2FzdCBhbiBlbGVtZW50IHRvIGFlX2VtYmVkIHdpZGdldHMuXG4gICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAqIEBtZXRob2QgdXBjYXN0XG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGJlIGNoZWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIG9iamVjdCB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSB3aWRnZXRcbiAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgIHVwY2FzdDogZnVuY3Rpb24oZWxlbWVudCwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVtYmVkV2lkZ2V0VXBjYXN0Rm4gPSBlZGl0b3IuY29uZmlnLmVtYmVkV2lkZ2V0VXBjYXN0Rm4gfHwgZGVmYXVsdEVtYmVkV2lkZ2V0VXBjYXN0Rm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbWJlZFdpZGdldFVwY2FzdEZuKGVsZW1lbnQsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBsaXN0ZW5lciB0byBoYW5kbGUgcGFzdGUgZXZlbnRzIGFuZCB0dXJuIGxpbmtzIGludG8gZW1iZWQgb2JqZWN0c1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5vbigncGFzdGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSBldmVudC5kYXRhLmRhdGFWYWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJFR0VYX0hUVFAudGVzdChsaW5rKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3AoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnZW1iZWRVcmwnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZXZlbnQuZGF0YS5kYXRhVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBsaXN0ZW5lciB0byBoYW5kbGUgc2VsZWN0aW9uIGNoYW5nZSBldmVudHMgYW5kIHByb3Blcmx5IGRldGVjdCBlZGl0b3JcbiAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGlvbnMgb24gdGhlIHdpZGdldHMgd2l0aG91dCBtZXNzaW5nIHdpdGggd2lkZ2V0IG5hdGl2ZSBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ3NlbGVjdGlvbkNoYW5nZScsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbil7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2lkZ2V0RWxlbWVudCA9IGVsZW1lbnQuZmluZE9uZSgnW2RhdGEtd2lkZ2V0PVwiYWVfZW1iZWRcIl0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWRnZXRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdpb24gPSBlbGVtZW50LmdldENsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh3aW5kb3cpLmdldFNjcm9sbFBvc2l0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbi5sZWZ0IC09IHNjcm9sbFBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbi50b3AgKz0gc2Nyb2xsUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb24uZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1A7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2VkaXRvckludGVyYWN0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IHdpZGdldEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiByZWdpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBBZGQgYSBmaWx0ZXIgdG8gc2tpcCBmaWx0ZXJpbmcgd2lkZ2V0IGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgZWRpdG9yLmZpbHRlci5hZGRFbGVtZW50Q2FsbGJhY2soZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ2RhdGEtYWUtZW1iZWQtdXJsJyBpbiBlbGVtZW50LmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDS0VESVRPUi5GSUxURVJfU0tJUF9UUkVFO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCJpbXBvcnQgU2VsZWN0aW9uVGVzdCBmcm9tICcuLi9zZWxlY3Rpb25zL3NlbGVjdGlvbi10ZXN0LmpzJztcblxuKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfaW1hZ2VhbGlnbm1lbnQnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW51bSBmb3Igc3VwcG9ydGVkIGltYWdlIGFsaWdubWVudHNcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHZhciBJTUFHRV9BTElHTk1FTlQgPSB7XG4gICAgICAgIENFTlRFUjogJ2NlbnRlcicsXG4gICAgICAgIExFRlQ6ICdsZWZ0JyxcbiAgICAgICAgUklHSFQ6ICdyaWdodCdcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW51bSB2YWx1ZXMgZm9yIHN1cHBvcnRlZCBpbWFnZSBhbGlnbm1lbnRzXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIHZhciBBTElHTl9WQUxVRVMgPSBbXG4gICAgICAgIElNQUdFX0FMSUdOTUVOVC5MRUZULFxuICAgICAgICBJTUFHRV9BTElHTk1FTlQuUklHSFQsXG4gICAgICAgIElNQUdFX0FMSUdOTUVOVC5DRU5URVJcbiAgICBdO1xuXG4gICAgLyoqXG4gICAgICogTmVjZXNzYXJ5IHN0eWxlcyBmb3IgdGhlIGNlbnRlciBhbGlnbm1lbnRcbiAgICAgKiBAdHlwZSB7QXJyYXkuPE9iamVjdD59XG4gICAgICovXG4gICAgdmFyIENFTlRFUkVEX0lNQUdFX1NUWUxFID0gW3tcbiAgICAgICAgbmFtZTogJ2Rpc3BsYXknLFxuICAgICAgICB2YWx1ZTogJ2Jsb2NrJ1xuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21hcmdpbi1sZWZ0JyxcbiAgICAgICAgdmFsdWU6ICdhdXRvJ1xuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21hcmdpbi1yaWdodCcsXG4gICAgICAgIHZhbHVlOiAnYXV0bydcbiAgICB9XTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYWxpZ25tZW50IHZhbHVlIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2UgVGhlIGltYWdlIGVsZW1lbnRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBhbGlnbm1lbnQgdmFsdWVcbiAgICAgKi9cbiAgICB2YXIgZ2V0SW1hZ2VBbGlnbm1lbnQgPSBmdW5jdGlvbihpbWFnZSkge1xuICAgICAgICB2YXIgaW1hZ2VBbGlnbm1lbnQgPSBpbWFnZS5nZXRTdHlsZSgnZmxvYXQnKTtcblxuICAgICAgICBpZiAoIWltYWdlQWxpZ25tZW50IHx8IGltYWdlQWxpZ25tZW50ID09PSAnaW5oZXJpdCcgfHwgaW1hZ2VBbGlnbm1lbnQgPT09ICdub25lJykge1xuICAgICAgICAgICAgaW1hZ2VBbGlnbm1lbnQgPSBpbWFnZS5nZXRBdHRyaWJ1dGUoJ2FsaWduJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWltYWdlQWxpZ25tZW50KSB7XG4gICAgICAgICAgICB2YXIgY2VudGVyZWRJbWFnZSA9IENFTlRFUkVEX0lNQUdFX1NUWUxFLmV2ZXJ5KGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlQ2hlY2sgPSBpbWFnZS5nZXRTdHlsZShzdHlsZS5uYW1lKSA9PT0gc3R5bGUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlQ2hlY2sgJiYgc3R5bGUudmVuZG9yUHJlZml4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVDaGVjayA9IHN0eWxlLnZlbmRvclByZWZpeGVzLnNvbWUoZnVuY3Rpb24odmVuZG9yUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW1hZ2UuZ2V0U3R5bGUodmVuZG9yUHJlZml4ICsgc3R5bGUubmFtZSkgPT09IHN0eWxlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVDaGVjaztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIWltYWdlQWxpZ25tZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGltYWdlQ29udGFpbmVyID0gaW1hZ2UuJC5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgICAgIENFTlRFUkVEX0lNQUdFX1NUWUxFLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zZXRTdHlsZShzdHlsZS5uYW1lLCBzdHlsZS52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZS52ZW5kb3JQcmVmaXhlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlLnZlbmRvclByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24gKHZlbmRvclByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zZXRTdHlsZSh2ZW5kb3JQcmVmaXggKyBzdHlsZS5uYW1lLCBzdHlsZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjZW50ZXJlZEltYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGltYWdlQWxpZ25tZW50ID0gY2VudGVyZWRJbWFnZSA/IElNQUdFX0FMSUdOTUVOVC5DRU5URVIgOiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGltYWdlQWxpZ25tZW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBhbGlnbm1lbnQgdmFsdWUgb2YgYW4gaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlIFRoZSBpbWFnZSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlQWxpZ25tZW50IFRoZSBpbWFnZSBhbGlnbm1lbnQgdmFsdWUgdG8gYmUgcmVtb3ZlZFxuICAgICAqL1xuICAgIHZhciByZW1vdmVJbWFnZUFsaWdubWVudCA9IGZ1bmN0aW9uKGltYWdlLCBpbWFnZUFsaWdubWVudCkge1xuICAgICAgICBpZiAoaW1hZ2VBbGlnbm1lbnQgPT09IElNQUdFX0FMSUdOTUVOVC5MRUZUIHx8IGltYWdlQWxpZ25tZW50ID09PSBJTUFHRV9BTElHTk1FTlQuUklHSFQpIHtcbiAgICAgICAgICAgIGltYWdlLnJlbW92ZVN0eWxlKCdmbG9hdCcpO1xuXG4gICAgICAgICAgICBpZiAoaW1hZ2VBbGlnbm1lbnQgPT09IGdldEltYWdlQWxpZ25tZW50KGltYWdlKSkge1xuICAgICAgICAgICAgICAgIGltYWdlLnJlbW92ZUF0dHJpYnV0ZSgnYWxpZ24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZUFsaWdubWVudCA9PT0gSU1BR0VfQUxJR05NRU5ULkNFTlRFUikge1xuICAgICAgICAgICAgQ0VOVEVSRURfSU1BR0VfU1RZTEUuZm9yRWFjaChmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgICAgIGltYWdlLnJlbW92ZVN0eWxlKHN0eWxlLm5hbWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnZlbmRvclByZWZpeGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnZlbmRvclByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24odmVuZG9yUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5yZW1vdmVTdHlsZSh2ZW5kb3JQcmVmaXggKyBzdHlsZS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBpbWFnZUNvbnRhaW5lciA9IGltYWdlLiQucGFyZW50Tm9kZTtcblxuICAgICAgICAgICAgaWYgKGltYWdlQ29udGFpbmVyLnN0eWxlLnRleHRBbGlnbiA9PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2VDb250YWluZXIuc3R5bGUudGV4dEFsaWduID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYWxpZ25tZW50IHZhbHVlIG9mIGFuIGltYWdlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBpbWFnZSBUaGUgaW1hZ2UgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBpbWFnZUFsaWdubWVudCBUaGUgaW1hZ2UgYWxpZ25tZW50IHZhbHVlIHRvIGJlIHNldFxuICAgICAqL1xuICAgIHZhciBzZXRJbWFnZUFsaWdubWVudCA9IGZ1bmN0aW9uKGltYWdlLCBpbWFnZUFsaWdubWVudCkge1xuICAgICAgICByZW1vdmVJbWFnZUFsaWdubWVudChpbWFnZSwgZ2V0SW1hZ2VBbGlnbm1lbnQoaW1hZ2UpKTtcblxuICAgICAgICBpZiAoaW1hZ2VBbGlnbm1lbnQgPT09IElNQUdFX0FMSUdOTUVOVC5MRUZUIHx8IGltYWdlQWxpZ25tZW50ID09PSBJTUFHRV9BTElHTk1FTlQuUklHSFQpIHtcbiAgICAgICAgICAgIGltYWdlLnNldFN0eWxlKCdmbG9hdCcsIGltYWdlQWxpZ25tZW50KTtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZUFsaWdubWVudCA9PT0gSU1BR0VfQUxJR05NRU5ULkNFTlRFUikge1xuICAgICAgICAgICAgQ0VOVEVSRURfSU1BR0VfU1RZTEUuZm9yRWFjaChmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgICAgIGltYWdlLnNldFN0eWxlKHN0eWxlLm5hbWUsIHN0eWxlLnZhbHVlKTtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS52ZW5kb3JQcmVmaXhlcykge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZS52ZW5kb3JQcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHZlbmRvclByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc2V0U3R5bGUodmVuZG9yUHJlZml4ICsgc3R5bGUubmFtZSwgc3R5bGUudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdmFyIGltYWdlQ29udGFpbmVyID0gaW1hZ2UuJC5wYXJlbnROb2RlO1xuXG4gICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5zdHlsZS50ZXh0QWxpZ24gPSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSO1xuXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgcGx1Z2luIHdoaWNoIG1vZGlmaWVzIHRoZSBqdXN0aWZ5IGNvbW1hbmRzIHRvIHByb3Blcmx5IGFsaWduIGltYWdlcy4gVGhpc1xuICAgICAqIHBsdWdpbiBpcyBhbiBleGNlcnB0IG9mIENLRWRpdG9yJ3Mgb3JpZ2luYWwgaW1hZ2Ugb25lIHRoYXQgY2FuIGJlIGZvdW5kIGF0XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NrZWRpdG9yL2NrZWRpdG9yLWRldi9ibG9iL21hc3Rlci9wbHVnaW5zL2ltYWdlL3BsdWdpbi5qc1xuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfaW1hZ2VhbGlnbm1lbnRcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2ltYWdlYWxpZ25tZW50Jywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG4gICAgICAgICAgICAgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ3Bhc3RlJyBldmVudCBvbiB0aGUgZWRpdGluZyBhcmVhLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBtZXRob2QgYWZ0ZXJJbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICAgICAgICAgIEFMSUdOX1ZBTFVFUy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tYW5kID0gZWRpdG9yLmdldENvbW1hbmQoJ2p1c3RpZnknICsgdmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kLm9uKCdleGVjJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uRGF0YSA9IGVkaXRvci5nZXRTZWxlY3Rpb25EYXRhKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uRGF0YSAmJiBTZWxlY3Rpb25UZXN0LmltYWdlKHtkYXRhOiB7c2VsZWN0aW9uRGF0YTogc2VsZWN0aW9uRGF0YX19KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBzZWxlY3Rpb25EYXRhLmVsZW1lbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlQWxpZ25tZW50ID0gZ2V0SW1hZ2VBbGlnbm1lbnQoaW1hZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWFnZUFsaWdubWVudCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUltYWdlQWxpZ25tZW50KGltYWdlLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZUFsaWdubWVudChpbWFnZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoQ29tbWFuZHMoZWRpdG9yLCBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGltYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQub24oJ3JlZnJlc2gnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3Rpb25EYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiBldmVudC5kYXRhLnBhdGgubGFzdEVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNlbGVjdGlvblRlc3QuaW1hZ2Uoe2RhdGE6IHtzZWxlY3Rpb25EYXRhOiBzZWxlY3Rpb25EYXRhfX0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZUFsaWdubWVudCA9IGdldEltYWdlQWxpZ25tZW50KHNlbGVjdGlvbkRhdGEuZWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShpbWFnZUFsaWdubWVudCA9PT0gdmFsdWUgPyBDS0VESVRPUi5UUklTVEFURV9PTiA6IENLRURJVE9SLlRSSVNUQVRFX09GRik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRm9yY2VzIGEgcmVmcmVzaCBvZiB0aGUgbW9kaWZpZWQganVzdGlmeSBjb21tYW5kcy4gVGhpcyBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYXBwbGllZCBjaGFuZ2VzXG4gICAgICAgICAgICAgKiBkbyBub3QgbW9kaWZ5IHRoZSBzZWxlY3Rpb24sIHNvIHRoZSByZWZyZXNoIGlzIG5ldmVyIHRyaWdnZXJlZCBhbmQgdGhlIFVJIGRvZXMgbm90IHVwZGF0ZVxuICAgICAgICAgICAgICogcHJvcGVybHkgdW50aWwgdGhlIG5leHQgc2VsZWN0aW9uQ2hhbmdlIGV2ZW50LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfSBlZGl0b3IgVGhlIGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudFBhdGh9IGVsZW1lbnRQYXRoIFRoZSBwYXRoIG9mIHRoZSBzZWxlY3RlZCBpbWFnZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICByZWZyZXNoQ29tbWFuZHM6IGZ1bmN0aW9uKGVkaXRvciwgZWxlbWVudFBhdGgpIHtcbiAgICAgICAgICAgICAgICBBTElHTl9WQUxVRVMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGVkaXRvci5nZXRDb21tYW5kKCdqdXN0aWZ5JyArIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5yZWZyZXNoKGVkaXRvciwgZWxlbWVudFBhdGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCJpbXBvcnQgYWRkaW1hZ2VzIGZyb20gJy4vYWRkaW1hZ2VzJztcbmltcG9ydCBhdXRvbGluayBmcm9tICcuL2F1dG9saW5rJztcbmltcG9ydCBhdXRvbGlzdCBmcm9tICcuL2F1dG9saXN0JztcbmltcG9ydCBkcmFncmVzaXplIGZyb20gJy4vZHJhZ3Jlc2l6ZSc7XG5pbXBvcnQgZHJhZ3Jlc2l6ZWllIGZyb20gJy4vZHJhZ3Jlc2l6ZV9pZSc7XG5pbXBvcnQgZW1iZWQgZnJvbSAnLi9lbWJlZCc7XG5pbXBvcnQgaW1hZ2VhbGlnbm1lbnQgZnJvbSAnLi9pbWFnZWFsaWdubWVudCc7XG5pbXBvcnQgcGFzdGVpbWFnZXMgZnJvbSAnLi9wYXN0ZWltYWdlcyc7XG5pbXBvcnQgcGxhY2Vob2xkZXIgZnJvbSAnLi9wbGFjZWhvbGRlcic7XG5pbXBvcnQgc2VsZWN0aW9ua2V5c3Ryb2tlcyBmcm9tICcuL3NlbGVjdGlvbmtleXN0cm9rZXMnO1xuaW1wb3J0IHRhYmxlcmVzaXplIGZyb20gJy4vdGFibGVyZXNpemUnO1xuaW1wb3J0IHRhYmxldG9vbHMgZnJvbSAnLi90YWJsZXRvb2xzJztcblxuZXhwb3J0IHtcbiAgICBhZGRpbWFnZXMsXG4gICAgYXV0b2xpbmssXG4gICAgYXV0b2xpc3QsXG4gICAgZHJhZ3Jlc2l6ZSxcbiAgICBkcmFncmVzaXplaWUsXG4gICAgZW1iZWQsXG4gICAgaW1hZ2VhbGlnbm1lbnQsXG4gICAgcGFzdGVpbWFnZXMsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgc2VsZWN0aW9ua2V5c3Ryb2tlcyxcbiAgICB0YWJsZXJlc2l6ZSxcbiAgICB0YWJsZXRvb2xzXG59OyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3Bhc3RlaW1hZ2VzJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBhbGxvd3MgcGFzdGluZyBpbWFnZXMgZGlyZWN0bHkgaW50byB0aGUgZWRpdGFibGUgYXJlYS4gVGhlIGltYWdlIHdpbGwgYmUgZW5jb2RlZFxuICAgICAqIGFzIERhdGEgVVJJLiBBbiBldmVudCBgYmVmb3JlSW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgbGlzdCBvZiBwYXN0ZWQgaW1hZ2VzLiBJZiBhbnkgb2YgdGhlIGxpc3RlbmVyc1xuICAgICAqIHJldHVybnMgYGZhbHNlYCBvciBjYW5jZWxzIHRoZSBldmVudCwgdGhlIGltYWdlcyB3b24ndCBiZSBhZGRlZCB0byB0aGUgY29udGVudC4gT3RoZXJ3aXNlLFxuICAgICAqIGFuIGV2ZW50IGBpbWFnZUFkZGAgd2lsbCBiZSBmaXJlZCB3aXRoIHRoZSBpbnNlcnRlZCBlbGVtZW50IGludG8gdGhlIGVkaXRhYmxlIGFyZWEuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9wYXN0ZWltYWdlc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgYmVmb3JlIGFkZGluZyBpbWFnZXMgdG8gdGhlIGVkaXRvci5cbiAgICAgKiBAZXZlbnQgYmVmb3JlSW1hZ2VBZGRcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbWFnZUZpbGVzIEFycmF5IG9mIGltYWdlIGZpbGVzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFuIGltYWdlIGlzIGJlaW5nIGFkZGVkIHRvIHRoZSBlZGl0b3Igc3VjY2Vzc2Z1bGx5LlxuICAgICAqXG4gICAgICogQGV2ZW50IGltYWdlQWRkXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZWwgVGhlIGNyZWF0ZWQgaW1hZ2Ugd2l0aCBzcmMgYXMgRGF0YSBVUklcbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgVGhlIGltYWdlIGZpbGVcbiAgICAgKi9cblxuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKFxuICAgICAgICAnYWVfcGFzdGVpbWFnZXMnLCB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiByZWdpc3RlcnMgYSAncGFzdGUnIGV2ZW50IG9uIHRoZSBlZGl0aW5nIGFyZWEuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ3Bhc3RlJywgdGhpcy5fb25QYXN0ZSwgdGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIGZ1bmN0aW9uIGNyZWF0ZXMgYW4gaW1nIGVsZW1lbnQgd2l0aCBzcmMgdGhlIGltYWdlIGRhdGEgYXMgRGF0YSBVUkkuXG4gICAgICAgICAgICAgKiBUaGVuLCBpdCBmaXJlcyBhbiAnaW1hZ2VBZGQnIGV2ZW50IHZpYSBDS0VkaXRvcidzIGV2ZW50IHN5c3RlbS4gVGhlIHBhc3NlZFxuICAgICAgICAgICAgICogcGFyYW1zIHdpbGwgYmU6XG4gICAgICAgICAgICAgKiAtIGBlbGAgLSB0aGUgY3JlYXRlZCBpbWcgZWxlbWVudFxuICAgICAgICAgICAgICogLSBgZmlsZWAgLSB0aGUgb3JpZ2luYWwgcGFzdGVkIGRhdGFcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9vblBhc3RlXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5ldmVudH0gZXZlbnQgQSBgcGFzdGVgIGV2ZW50LCBhcyByZWNlaXZlZCBuYXRpdmVseSBmcm9tIENLRWRpdG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vblBhc3RlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLiQuY2xpcGJvYXJkRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzdGVkRGF0YSA9IGV2ZW50LmRhdGEuJC5jbGlwYm9hcmREYXRhLml0ZW1zWzBdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocGFzdGVkRGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlRmlsZSA9IHBhc3RlZERhdGEuZ2V0QXNGaWxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBlZGl0b3IuZmlyZSgnYmVmb3JlSW1hZ2VBZGQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZXM6IGltYWdlRmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbCA9IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8aW1nIHNyYz1cIicgKyBldmVudC50YXJnZXQucmVzdWx0ICsgJ1wiPicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWw6IGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogaW1hZ2VGaWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2ltYWdlQWRkJywgaW1hZ2VEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlRmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9wbGFjZWhvbGRlcicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VESVRPUiBlbnRlck1vZGUgY29uZmlnIHNldCB0aGUgYmVoYXZpb3Igb2YgcGFyYWdyYXBoc1xuICAgICAqIFdoZW4gdGhlIGNvbnRlbnQgaXMgZW1wdHkgQ0tFRElUT1Iga2VlcHMgdGhlIGVudGVyTW9kZSBzdHJpbmdcbiAgICAgKiBpbnRvIHRoZSBjb250ZW50XG4gICAgICogQHByb3BlcnR5XG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKi9cbiAgICB2YXIgYnJGaWxsZXIgPSBDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciA/ICc8YnI+JyA6ICcnO1xuXG4gICAgdmFyIGVudGVyTW9kZUVtcHR5VmFsdWUgPSB7XG4gICAgICAgIDE6IFsnPHA+JyArIGJyRmlsbGVyICsgJzwvcD4nXSxcbiAgICAgICAgMjogWycnLCAnICcsIGJyRmlsbGVyXSxcbiAgICAgICAgMzogWyc8ZGl2PicgKyBickZpbGxlciArICc8L2Rpdj4nXVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWxsb3dzIGFkZGluZyBhIHBsYWNlaG9sZGVyIHRvIHRoZSBlZGl0b3IuIEluIHRoaXMgY2FzZSwgaWYgdGhlcmVcbiAgICAgKiBpcyBubyBjb250ZW50IHRvIHRoZSBlZGl0b3IsIHRoZXJlIHdpbGwgYmUgaGludCB0byB0aGUgdXNlci5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX3BsYWNlaG9sZGVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTcGVjaWZpZXMgdGhlIHBsYWNlaG9sZGVyIGNsYXNzIHdoaWNoIGhhdmUgdG8gYmUgYWRlZCB0byBlZGl0b3Igd2hlbiBlZGl0b3IgaXMgbm90IGZvY3VzZWQuXG4gICAgICpcbiAgICAgKiBAYXR0cmlidXRlIHBsYWNlaG9sZGVyQ2xhc3NcbiAgICAgKiBAZGVmYXVsdCBhZV9wbGFjZWhvbGRlclxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqL1xuXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoXG4gICAgICAgICdhZV9wbGFjZWhvbGRlcicsIHtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG4gICAgICAgICAgICAgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ2JsdXInIGFuZCAnY29udGVudERvbScgZXZlbnQgbGlzdGVuZXJzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKCdibHVyJywgdGhpcy5fY2hlY2tFbXB0eURhdGEsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbignY2hhbmdlJywgdGhpcy5fY2hlY2tFbXB0eURhdGEsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbignZm9jdXMnLCB0aGlzLl9yZW1vdmVQbGFjZWhvbGRlckNsYXNzLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIHRoaXMuX2NoZWNrRW1wdHlEYXRhLCB0aGlzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUmVtb3ZlcyBhbnkgZGF0YSBmcm9tIHRoZSBjb250ZW50IGFuZCBhZGRzIGEgY2xhc3MsXG4gICAgICAgICAgICAgKiBzcGVjaWZpZWQgYnkgdGhlIFwicGxhY2Vob2xkZXJDbGFzc1wiIGNvbmZpZyBhdHRyaWJ1dGUuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICogQG1ldGhvZCBfY2hlY2tFbXB0eURhdGFcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmV2ZW50fSBlZGl0b3IgZXZlbnQsIGZpcmVkIGZyb20gQ0tFZGl0b3JcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2NoZWNrRW1wdHlEYXRhOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBldmVudC5lZGl0b3I7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGVOb2RlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5uZXJIdG1sID0gZWRpdGFibGVOb2RlLiQuaW5uZXJIVE1MLnRyaW0oKTtcblxuICAgICAgICAgICAgICAgIHZhciBpc0VtcHR5ID0gZW50ZXJNb2RlRW1wdHlWYWx1ZVtlZGl0b3IuY29uZmlnLmVudGVyTW9kZV0uc29tZShmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbm5lckh0bWwgPT09IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZU5vZGUuYWRkQ2xhc3MoZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlckNsYXNzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZU5vZGUucmVtb3ZlQ2xhc3MoZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlckNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbW92ZSBwbGFjZWhvbGRlciBjbGFzcyB3aGVuIGlucHV0IGlzIGZvY3VzZWRcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9yZW1vdmVQbGFjZWhvbGRlckNsYXNzXG4gICAgICAgICAgICAgKyBAcGFyYW0ge0NLRURJVE9SLmRvbS5ldmVudH0gZWRpdG9yIGV2ZW50LCBmaXJlZCBmcm9tIENLRWRpdG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9yZW1vdmVQbGFjZWhvbGRlckNsYXNzOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBldmVudC5lZGl0b3I7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yTm9kZSA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlZGl0b3IuZWxlbWVudC4kKTtcblxuICAgICAgICAgICAgICAgIGVkaXRvck5vZGUucmVtb3ZlQ2xhc3MoZWRpdG9yLmNvbmZpZy5wbGFjZWhvbGRlckNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3NlbGVjdGlvbmtleXN0cm9rZXMnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgcGx1Z2luIHRoYXQgc2ltdWxhdGVzIGVkaXRvciBpbnRlcmFjdGlvbiBldmVudHMgYmFzZWQgb24gbWFudWFsIGtleXN0cm9rZXMuIFRoaXNcbiAgICAgKiBjYW4gYmUgdXNlZCB0byB0cmlnZ2VyIGRpZmZlcmVudCByZWFjdGlvbnMgaW4gdGhlIGVkaXRvci5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbmtleXN0cm9rZXNcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX3NlbGVjdGlvbmtleXN0cm9rZXMnLCB7XG4gICAgICAgICAgICByZXF1aXJlczogJ2FlX3NlbGVjdGlvbnJlZ2lvbicsXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5pdGlhbGl6YXRpb24gb2YgdGhlIHBsdWdpbiwgcGFydCBvZiBDS0VkaXRvciBwbHVnaW4gbGlmZWN5Y2xlLlxuICAgICAgICAgICAgICogVGhlIGZ1bmN0aW9uIGFkZHMgYSBjb21tYW5kIHRvIHRoZSBlZGl0b3IgZm9yIGV2ZXJ5IGRlZmluZWQgc2VsZWN0aW9uS2V5c3Ryb2tlXG4gICAgICAgICAgICAgKiBpbiB0aGUgY29uZmlndXJhdGlvbiBhbmQgbWFwcyBpdCB0byB0aGUgc3BlY2lmaWVkIGtleXN0cm9rZS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIGlmIChlZGl0b3IuY29uZmlnLnNlbGVjdGlvbktleXN0cm9rZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNvbmZpZy5zZWxlY3Rpb25LZXlzdHJva2VzLmZvckVhY2goZnVuY3Rpb24oc2VsZWN0aW9uS2V5c3Ryb2tlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IG5ldyBDS0VESVRPUi5jb21tYW5kKGVkaXRvciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZSgnZWRpdG9ySW50ZXJhY3Rpb24nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51YWxTZWxlY3Rpb246IHNlbGVjdGlvbktleXN0cm9rZS5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25EYXRhOiBlZGl0b3IuZ2V0U2VsZWN0aW9uRGF0YSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWFuZE5hbWUgPSAnc2VsZWN0aW9uS2V5c3Ryb2tlJyArIHNlbGVjdGlvbktleXN0cm9rZS5zZWxlY3Rpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5hZGRDb21tYW5kKGNvbW1hbmROYW1lLCBjb21tYW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRLZXlzdHJva2Uoc2VsZWN0aW9uS2V5c3Ryb2tlLmtleXMsIGNvbW1hbmROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcbn0oKSk7IiwiLyoqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDMtMjAxNSwgQ0tTb3VyY2UgLSBGcmVkZXJpY28gS25hYmJlbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIEZvciBsaWNlbnNpbmcsIHNlZSBMSUNFTlNFLm1kIG9yIGh0dHA6Ly9ja2VkaXRvci5jb20vbGljZW5zZVxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3RhYmxlcmVzaXplJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBweFVuaXQgPSBDS0VESVRPUi50b29scy5jc3NMZW5ndGg7XG5cbiAgICBmdW5jdGlvbiBnZXRXaWR0aChlbCkge1xuICAgICAgICByZXR1cm4gQ0tFRElUT1IuZW52LmllID8gZWwuJC5jbGllbnRXaWR0aCA6IHBhcnNlSW50KGVsLmdldENvbXB1dGVkU3R5bGUoJ3dpZHRoJyksIDEwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRCb3JkZXJXaWR0aChlbGVtZW50LCBzaWRlKSB7XG4gICAgICAgIHZhciBjb21wdXRlZCA9IGVsZW1lbnQuZ2V0Q29tcHV0ZWRTdHlsZSgnYm9yZGVyLScgKyBzaWRlICsgJy13aWR0aCcpLFxuICAgICAgICAgICAgYm9yZGVyTWFwID0ge1xuICAgICAgICAgICAgICAgIHRoaW46ICcwcHgnLFxuICAgICAgICAgICAgICAgIG1lZGl1bTogJzFweCcsXG4gICAgICAgICAgICAgICAgdGhpY2s6ICcycHgnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIGlmIChjb21wdXRlZC5pbmRleE9mKCdweCcpIDwgMCkge1xuICAgICAgICAgICAgLy8gbG9vayB1cCBrZXl3b3Jkc1xuICAgICAgICAgICAgaWYgKGNvbXB1dGVkIGluIGJvcmRlck1hcCAmJiBlbGVtZW50LmdldENvbXB1dGVkU3R5bGUoJ2JvcmRlci1zdHlsZScpICE9ICdub25lJykge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gYm9yZGVyTWFwW2NvbXB1dGVkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcHV0ZWQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNvbXB1dGVkLCAxMCk7XG4gICAgfVxuXG4gICAgLy8gR2V0cyB0aGUgdGFibGUgcm93IHRoYXQgY29udGFpbnMgdGhlIG1vc3QgY29sdW1ucy5cbiAgICBmdW5jdGlvbiBnZXRNYXN0ZXJQaWxsYXJSb3codGFibGUpIHtcbiAgICAgICAgdmFyICRyb3dzID0gdGFibGUuJC5yb3dzLFxuICAgICAgICAgICAgbWF4Q2VsbHMgPSAwLFxuICAgICAgICAgICAgY2VsbHNDb3VudCwgJGVsZWN0ZWQsICR0cjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJHJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICR0ciA9ICRyb3dzW2ldO1xuICAgICAgICAgICAgY2VsbHNDb3VudCA9ICR0ci5jZWxscy5sZW5ndGg7XG5cbiAgICAgICAgICAgIGlmIChjZWxsc0NvdW50ID4gbWF4Q2VsbHMpIHtcbiAgICAgICAgICAgICAgICBtYXhDZWxscyA9IGNlbGxzQ291bnQ7XG4gICAgICAgICAgICAgICAgJGVsZWN0ZWQgPSAkdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJGVsZWN0ZWQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYnVpbGRUYWJsZUNvbHVtblBpbGxhcnModGFibGUpIHtcbiAgICAgICAgdmFyIHBpbGxhcnMgPSBbXSxcbiAgICAgICAgICAgIHBpbGxhckluZGV4ID0gLTEsXG4gICAgICAgICAgICBydGwgPSAodGFibGUuZ2V0Q29tcHV0ZWRTdHlsZSgnZGlyZWN0aW9uJykgPT09ICdydGwnKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHJhdyByb3cgZWxlbWVudCB0aGF0IGNvaW50YWlucyB0aGUgbW9zdCBjb2x1bW5zLlxuICAgICAgICB2YXIgJHRyID0gZ2V0TWFzdGVyUGlsbGFyUm93KHRhYmxlKTtcblxuICAgICAgICAvLyBHZXQgdGhlIHRib2R5IGVsZW1lbnQgYW5kIHBvc2l0aW9uLCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gc2V0IHRoZVxuICAgICAgICAvLyB0b3AgYW5kIGJvdHRvbSBib3VuZGFyaWVzLlxuICAgICAgICB2YXIgdGJvZHkgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGFibGUuJC50Qm9kaWVzWzBdKSxcbiAgICAgICAgICAgIHRib2R5UG9zaXRpb24gPSB0Ym9keS5nZXREb2N1bWVudFBvc2l0aW9uKCk7XG5cbiAgICAgICAgLy8gTG9vcCB0aG9ydWdoIGFsbCBjZWxscywgYnVpbGRpbmcgcGlsbGFycyBhZnRlciBlYWNoIG9uZSBvZiB0aGVtLlxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJHRyLmNlbGxzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBCb3RoIHRoZSBjdXJyZW50IGNlbGwgYW5kIHRoZSBzdWNjZXNzaXZlIG9uZSB3aWxsIGJlIHVzZWQgaW4gdGhlXG4gICAgICAgICAgICAvLyBwaWxsYXIgc2l6ZSBjYWxjdWxhdGlvbi5cbiAgICAgICAgICAgIHZhciB0ZCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgkdHIuY2VsbHNbaV0pLFxuICAgICAgICAgICAgICAgIG5leHRUZCA9ICR0ci5jZWxsc1tpICsgMV0gJiYgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCR0ci5jZWxsc1tpICsgMV0pO1xuXG4gICAgICAgICAgICBwaWxsYXJJbmRleCArPSB0ZC4kLmNvbFNwYW4gfHwgMTtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBwaWxsYXIgYm91bmRhcnkgcG9zaXRpb25zLlxuICAgICAgICAgICAgdmFyIHBpbGxhckxlZnQsIHBpbGxhclJpZ2h0LCBwaWxsYXJXaWR0aDtcblxuICAgICAgICAgICAgdmFyIHggPSB0ZC5nZXREb2N1bWVudFBvc2l0aW9uKCkueDtcblxuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHBvc2l0aW9ucyBiYXNlZCBvbiB0aGUgY3VycmVudCBjZWxsLlxuICAgICAgICAgICAgcnRsID8gcGlsbGFyUmlnaHQgPSB4ICsgZ2V0Qm9yZGVyV2lkdGgodGQsICdsZWZ0JykgOiBwaWxsYXJMZWZ0ID0geCArIHRkLiQub2Zmc2V0V2lkdGggLSBnZXRCb3JkZXJXaWR0aCh0ZCwgJ3JpZ2h0Jyk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbnMgYmFzZWQgb24gdGhlIG5leHQgY2VsbCwgaWYgYXZhaWxhYmxlLlxuICAgICAgICAgICAgaWYgKG5leHRUZCkge1xuICAgICAgICAgICAgICAgIHggPSBuZXh0VGQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLng7XG5cbiAgICAgICAgICAgICAgICBydGwgPyBwaWxsYXJMZWZ0ID0geCArIG5leHRUZC4kLm9mZnNldFdpZHRoIC0gZ2V0Qm9yZGVyV2lkdGgobmV4dFRkLCAncmlnaHQnKSA6IHBpbGxhclJpZ2h0ID0geCArIGdldEJvcmRlcldpZHRoKG5leHRUZCwgJ2xlZnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE90aGVyd2lzZSBjYWxjdWxhdGUgcG9zaXRpb25zIGJhc2VkIG9uIHRoZSB0YWJsZSAoZm9yIGxhc3QgY2VsbCkuXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gdGFibGUuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLng7XG5cbiAgICAgICAgICAgICAgICBydGwgPyBwaWxsYXJMZWZ0ID0geCA6IHBpbGxhclJpZ2h0ID0geCArIHRhYmxlLiQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBpbGxhcldpZHRoID0gTWF0aC5tYXgocGlsbGFyUmlnaHQgLSBwaWxsYXJMZWZ0LCA0KTtcblxuICAgICAgICAgICAgLy8gVGhlIHBpbGxhciBzaG91bGQgcmVmbGVjdHMgZXhhY3RseSB0aGUgc2hhcGUgb2YgdGhlIGhvdmVyZWRcbiAgICAgICAgICAgIC8vIGNvbHVtbiBib3JkZXIgbGluZS5cbiAgICAgICAgICAgIHBpbGxhcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgdGFibGU6IHRhYmxlLFxuICAgICAgICAgICAgICAgIGluZGV4OiBwaWxsYXJJbmRleCxcbiAgICAgICAgICAgICAgICB4OiBwaWxsYXJMZWZ0LFxuICAgICAgICAgICAgICAgIHk6IHRib2R5UG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICB3aWR0aDogcGlsbGFyV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0Ym9keS4kLm9mZnNldEhlaWdodCxcbiAgICAgICAgICAgICAgICBydGw6IHJ0bFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGlsbGFycztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRQaWxsYXJBdFBvc2l0aW9uKHBpbGxhcnMsIHBvc2l0aW9uWCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGlsbGFycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHBpbGxhciA9IHBpbGxhcnNbaV07XG5cbiAgICAgICAgICAgIGlmIChwb3NpdGlvblggPj0gcGlsbGFyLnggJiYgcG9zaXRpb25YIDw9IChwaWxsYXIueCArIHBpbGxhci53aWR0aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlsbGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FuY2VsKGV2dCkge1xuICAgICAgICAoZXZ0LmRhdGEgfHwgZXZ0KS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbHVtblJlc2l6ZXIoZWRpdG9yLCBwaWxsYXIpIHtcbiAgICAgICAgdmFyIGRvY3VtZW50LCByZXNpemVyLCByZXNpemluZywgc3RhcnRPZmZzZXQsIGN1cnJlbnRTaGlmdDtcblxuICAgICAgICB2YXIgbGVmdFNpZGVDZWxscywgcmlnaHRTaWRlQ2VsbHMsIGxlZnRTaGlmdEJvdW5kYXJ5LCByaWdodFNoaWZ0Qm91bmRhcnk7XG5cbiAgICAgICAgZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgICAgICAgcmVzaXplci5yZW1vdmVMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2VVcCk7XG4gICAgICAgICAgICByZXNpemVyLnJlbW92ZUxpc3RlbmVyKCdtb3VzZWRvd24nLCBvbk1vdXNlRG93bik7XG4gICAgICAgICAgICByZXNpemVyLnJlbW92ZUxpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNpemVTdGFydCgpIHtcbiAgICAgICAgICAgIC8vIEJlZm9yZSBzdGFydGluZyB0byByZXNpemUsIGZpZ3VyZSBvdXQgd2hpY2ggY2VsbHMgdG8gY2hhbmdlXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGJvdW5kYXJpZXMgb2YgdGhpcyByZXNpemluZyBzaGlmdC5cblxuICAgICAgICAgICAgdmFyIGNvbHVtbkluZGV4ID0gcGlsbGFyLmluZGV4LFxuICAgICAgICAgICAgICAgIG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAocGlsbGFyLnRhYmxlKSxcbiAgICAgICAgICAgICAgICBsZWZ0Q29sdW1uQ2VsbHMgPSBbXSxcbiAgICAgICAgICAgICAgICByaWdodENvbHVtbkNlbGxzID0gW10sXG4gICAgICAgICAgICAgICAgbGVmdE1pblNpemUgPSBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgICAgIHJpZ2h0TWluU2l6ZSA9IGxlZnRNaW5TaXplLFxuICAgICAgICAgICAgICAgIHJ0bCA9IHBpbGxhci5ydGw7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtYXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gbWFwW2ldLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2VsbCA9IHJvd1tjb2x1bW5JbmRleCArIChydGwgPyAxIDogMCldLFxuICAgICAgICAgICAgICAgICAgICByaWdodENlbGwgPSByb3dbY29sdW1uSW5kZXggKyAocnRsID8gMCA6IDEpXTtcblxuICAgICAgICAgICAgICAgIGxlZnRDZWxsID0gbGVmdENlbGwgJiYgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGxlZnRDZWxsKTtcbiAgICAgICAgICAgICAgICByaWdodENlbGwgPSByaWdodENlbGwgJiYgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHJpZ2h0Q2VsbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxlZnRDZWxsIHx8ICFyaWdodENlbGwgfHwgIWxlZnRDZWxsLmVxdWFscyhyaWdodENlbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRDZWxsICYmIChsZWZ0TWluU2l6ZSA9IE1hdGgubWluKGxlZnRNaW5TaXplLCBnZXRXaWR0aChsZWZ0Q2VsbCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDZWxsICYmIChyaWdodE1pblNpemUgPSBNYXRoLm1pbihyaWdodE1pblNpemUsIGdldFdpZHRoKHJpZ2h0Q2VsbCkpKTtcblxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29sdW1uQ2VsbHMucHVzaChsZWZ0Q2VsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q29sdW1uQ2VsbHMucHVzaChyaWdodENlbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGxpc3Qgb2YgY2VsbHMgdG8gYmUgcmVzaXplZC5cbiAgICAgICAgICAgIGxlZnRTaWRlQ2VsbHMgPSBsZWZ0Q29sdW1uQ2VsbHM7XG4gICAgICAgICAgICByaWdodFNpZGVDZWxscyA9IHJpZ2h0Q29sdW1uQ2VsbHM7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSByZXNpemUgbGltaXQgYm91bmRhcmllcy5cbiAgICAgICAgICAgIGxlZnRTaGlmdEJvdW5kYXJ5ID0gcGlsbGFyLnggLSBsZWZ0TWluU2l6ZTtcbiAgICAgICAgICAgIHJpZ2h0U2hpZnRCb3VuZGFyeSA9IHBpbGxhci54ICsgcmlnaHRNaW5TaXplO1xuXG4gICAgICAgICAgICByZXNpemVyLnNldE9wYWNpdHkoMC41KTtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gcGFyc2VJbnQocmVzaXplci5nZXRTdHlsZSgnbGVmdCcpLCAxMCk7XG4gICAgICAgICAgICBjdXJyZW50U2hpZnQgPSAwO1xuICAgICAgICAgICAgcmVzaXppbmcgPSAxO1xuXG4gICAgICAgICAgICByZXNpemVyLm9uKCdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSk7XG5cbiAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIG5hdGl2ZSBkcmFnIGJlaGF2aW9yIG90aGVyd2lzZSAnbW91c2Vtb3ZlJyB3b24ndCBmaXJlLlxuICAgICAgICAgICAgZG9jdW1lbnQub24oJ2RyYWdzdGFydCcsIGNhbmNlbCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNpemVFbmQoKSB7XG4gICAgICAgICAgICByZXNpemluZyA9IDA7XG5cbiAgICAgICAgICAgIHJlc2l6ZXIuc2V0T3BhY2l0eSgwKTtcblxuICAgICAgICAgICAgY3VycmVudFNoaWZ0ICYmIHJlc2l6ZUNvbHVtbigpO1xuXG4gICAgICAgICAgICB2YXIgdGFibGUgPSBwaWxsYXIudGFibGU7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUN1c3RvbURhdGEoJ19ja2VfdGFibGVfcGlsbGFycycpO1xuICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKCdkcmFnc3RhcnQnLCBjYW5jZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzaXplQ29sdW1uKCkge1xuICAgICAgICAgICAgdmFyIHJ0bCA9IHBpbGxhci5ydGwsXG4gICAgICAgICAgICAgICAgY2VsbHNDb3VudCA9IHJ0bCA/IHJpZ2h0U2lkZUNlbGxzLmxlbmd0aCA6IGxlZnRTaWRlQ2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBQZXJmb3JtIHRoZSBhY3R1YWwgcmVzaXplIHRvIHRhYmxlIGNlbGxzLCBvbmx5IGZvciB0aG9zZSBieSBzaWRlIG9mIHRoZSBwaWxsYXIuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNlbGxzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBsZWZ0Q2VsbCA9IGxlZnRTaWRlQ2VsbHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q2VsbCA9IHJpZ2h0U2lkZUNlbGxzW2ldLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IHBpbGxhci50YWJsZTtcblxuICAgICAgICAgICAgICAgIC8vIERlZmVyIHRoZSByZXNpemluZyB0byBhdm9pZCBhbnkgaW50ZXJmZXJlbmNlIGFtb25nIGNlbGxzLlxuICAgICAgICAgICAgICAgIENLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24obGVmdENlbGwsIGxlZnRPbGRXaWR0aCwgcmlnaHRDZWxsLCByaWdodE9sZFdpZHRoLCB0YWJsZVdpZHRoLCBzaXplU2hpZnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gMXB4IGlzIHRoZSBtaW5pbXVtIHZhbGlkIHdpZHRoICgjMTE2MjYpLlxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2VsbCAmJiBsZWZ0Q2VsbC5zZXRTdHlsZSgnd2lkdGgnLCBweFVuaXQoTWF0aC5tYXgobGVmdE9sZFdpZHRoICsgc2l6ZVNoaWZ0LCAxKSkpO1xuICAgICAgICAgICAgICAgICAgICByaWdodENlbGwgJiYgcmlnaHRDZWxsLnNldFN0eWxlKCd3aWR0aCcsIHB4VW5pdChNYXRoLm1heChyaWdodE9sZFdpZHRoIC0gc2l6ZVNoaWZ0LCAxKSkpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIGluIHRoZSBsYXN0IGNlbGwsIHdlIG5lZWQgdG8gcmVzaXplIHRoZSB0YWJsZSBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZVdpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZS5zZXRTdHlsZSgnd2lkdGgnLCBweFVuaXQodGFibGVXaWR0aCArIHNpemVTaGlmdCAqIChydGwgPyAtMSA6IDEpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCAwLCB0aGlzLCBbXG4gICAgICAgICAgICAgICAgICAgIGxlZnRDZWxsLCBsZWZ0Q2VsbCAmJiBnZXRXaWR0aChsZWZ0Q2VsbCksXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q2VsbCwgcmlnaHRDZWxsICYmIGdldFdpZHRoKHJpZ2h0Q2VsbCksICghbGVmdENlbGwgfHwgIXJpZ2h0Q2VsbCkgJiYgKGdldFdpZHRoKHRhYmxlKSArIGdldEJvcmRlcldpZHRoKHRhYmxlLCAnbGVmdCcpICsgZ2V0Qm9yZGVyV2lkdGgodGFibGUsICdyaWdodCcpKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFNoaWZ0XG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihldnQpIHtcbiAgICAgICAgICAgIGNhbmNlbChldnQpO1xuXG4gICAgICAgICAgICByZXNpemVTdGFydCgpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5vbignbW91c2V1cCcsIG9uTW91c2VVcCwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZXZ0KSB7XG4gICAgICAgICAgICBldnQucmVtb3ZlTGlzdGVuZXIoKTtcblxuICAgICAgICAgICAgcmVzaXplRW5kKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldnQpIHtcbiAgICAgICAgICAgIG1vdmUoZXZ0LmRhdGEuZ2V0UGFnZU9mZnNldCgpLngpO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQgPSBlZGl0b3IuZG9jdW1lbnQ7XG5cbiAgICAgICAgcmVzaXplciA9IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCc8ZGl2IGRhdGEtY2tlLXRlbXA9MSBjb250ZW50ZWRpdGFibGU9ZmFsc2UgdW5zZWxlY3RhYmxlPW9uICcgK1xuICAgICAgICAgICAgJ3N0eWxlPVwicG9zaXRpb246YWJzb2x1dGU7Y3Vyc29yOmNvbC1yZXNpemU7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MCk7b3BhY2l0eTowOycgK1xuICAgICAgICAgICAgJ3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDQ7YmFja2dyb3VuZC1pbWFnZTpub25lO2JvcmRlcjowcHggbm9uZTt6LWluZGV4OjEwXCI+PC9kaXY+JywgZG9jdW1lbnQpO1xuXG4gICAgICAgIC8vIENsZWFuIERPTSB3aGVuIGVkaXRvciBpcyBkZXN0cm95ZWQuXG4gICAgICAgIGVkaXRvci5vbignZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGV0YWNoKCk7XG5cblx0XHRcdHJlc2l6ZXIucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBsYWNlIHRoZSByZXNpemVyIGFmdGVyIGJvZHkgdG8gcHJldmVudCBpdFxuICAgICAgICAvLyBmcm9tIGJlaW5nIGVkaXRhYmxlLlxuICAgICAgICBkb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5hcHBlbmQocmVzaXplcik7XG5cbiAgICAgICAgcmVzaXplci5zZXRTdHlsZXMoe1xuICAgICAgICAgICAgd2lkdGg6IHB4VW5pdChwaWxsYXIud2lkdGgpLFxuICAgICAgICAgICAgaGVpZ2h0OiBweFVuaXQocGlsbGFyLmhlaWdodCksXG4gICAgICAgICAgICBsZWZ0OiBweFVuaXQocGlsbGFyLngpLFxuICAgICAgICAgICAgdG9wOiBweFVuaXQocGlsbGFyLnkpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlc2l6ZXIub24oJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCB0aGlzKTtcblxuICAgICAgICBkb2N1bWVudC5nZXRCb2R5KCkuc2V0U3R5bGUoJ2N1cnNvcicsICdjb2wtcmVzaXplJyk7XG5cbiAgICAgICAgLy8gRGlzcGxheSB0aGUgcmVzaXplciB0byByZWNlaXZlIGV2ZW50cyBidXQgZG9uJ3Qgc2hvdyBpdCxcbiAgICAgICAgLy8gb25seSBjaGFuZ2UgdGhlIGN1cnNvciB0byByZXNpemFibGUgc2hhcGUuXG4gICAgICAgIHJlc2l6ZXIuc2hvdygpO1xuXG4gICAgICAgIHZhciBtb3ZlID0gdGhpcy5tb3ZlID0gZnVuY3Rpb24ocG9zWCkge1xuICAgICAgICAgICAgdmFyIHJlc2l6ZXJOZXdQb3NpdGlvbiA9IHBvc1ggLSBNYXRoLnJvdW5kKHJlc2l6ZXIuJC5vZmZzZXRXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICBpZiAoaXNSZXNpemluZykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNpemVyTmV3UG9zaXRpb24gPT09IGxlZnRTaGlmdEJvdW5kYXJ5IHx8IHJlc2l6ZXJOZXdQb3NpdGlvbiA9PT0gcmlnaHRTaGlmdEJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXNpemVyTmV3UG9zaXRpb24gPSBNYXRoLm1heChyZXNpemVyTmV3UG9zaXRpb24sIGxlZnRTaGlmdEJvdW5kYXJ5KTtcbiAgICAgICAgICAgICAgICByZXNpemVyTmV3UG9zaXRpb24gPSBNYXRoLm1pbihyZXNpemVyTmV3UG9zaXRpb24sIHJpZ2h0U2hpZnRCb3VuZGFyeSk7XG5cbiAgICAgICAgICAgICAgICBjdXJyZW50U2hpZnQgPSByZXNpemVyTmV3UG9zaXRpb24gLSBzdGFydE9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzaXplci5zZXRTdHlsZSgnbGVmdCcsIHB4VW5pdChyZXNpemVyTmV3UG9zaXRpb24pKTtcbiAgICAgICAgfTtcblxuXHRcdHZhciBkZXN0cm95ID0gdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRkZXRhY2goKTtcblxuXHRcdFx0ZG9jdW1lbnQuZ2V0Qm9keSgpLnNldFN0eWxlKCdjdXJzb3InLCAnYXV0bycpO1xuXG5cdFx0XHRyZXNpemVyLnJlbW92ZSgpO1xuXHRcdH07XG5cblx0XHR2YXIgaXNSZXNpemluZyA9IHRoaXMuaXNSZXNpemluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHJlc2l6aW5nO1xuXHRcdH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2xlYXJQaWxsYXJzQ2FjaGUoZXZ0KSB7XG4gICAgICAgIHZhciB0YXJnZXQgPSBldnQuZGF0YS5nZXRUYXJnZXQoKTtcblxuICAgICAgICBpZiAoZXZ0Lm5hbWUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICAgIC8vIEJ5cGFzcyBpbnRlcmFsIG1vdXNlIG1vdmUuXG4gICAgICAgICAgICBpZiAoIXRhcmdldC5pcygndGFibGUnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRlc3QgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZXZ0LmRhdGEuJC5yZWxhdGVkVGFyZ2V0IHx8IGV2dC5kYXRhLiQudG9FbGVtZW50KTtcbiAgICAgICAgICAgIHdoaWxlIChkZXN0ICYmIGRlc3QuJCAmJiAhZGVzdC5lcXVhbHModGFyZ2V0KSAmJiAhZGVzdC5pcygnYm9keScpKSB7XG4gICAgICAgICAgICAgICAgZGVzdCA9IGRlc3QuZ2V0UGFyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc3QgfHwgZGVzdC5lcXVhbHModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldC5nZXRBc2NlbmRhbnQoJ3RhYmxlJywgMSkucmVtb3ZlQ3VzdG9tRGF0YSgnX2NrZV90YWJsZV9waWxsYXJzJyk7XG4gICAgICAgIGV2dC5yZW1vdmVMaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV90YWJsZXJlc2l6ZScsIHtcbiAgICAgICAgcmVxdWlyZXM6ICdhZV90YWJsZXRvb2xzJyxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIGVkaXRvci5vbignY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXNpemVyLFxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gSW4gQ2xhc3NpYyBlZGl0b3IgaXQgaXMgYmV0dGVyIHRvIHVzZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgb2YgZWRpdGFibGUgc28gZXZlbnQgd2lsbCB3b3JrIGJlbG93IGJvZHkuXG4gICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUuaXNJbmxpbmUoKSA/IGVkaXRhYmxlIDogZWRpdG9yLmRvY3VtZW50LCAnbW91c2Vtb3ZlJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2dCA9IGV2dC5kYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBldnQuZ2V0VGFyZ2V0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRkYgbWF5IHJldHVybiBkb2N1bWVudCBhbmQgSUU4IHNvbWUgVUZPIChvYmplY3Qgd2l0aCBubyBub2RlVHlwZSBwcm9wZXJ0eS4uLilcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBhbiBlbGVtZW50ICgjMTE4MjMpLlxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUgIT09IENLRURJVE9SLk5PREVfRUxFTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2VYID0gZXZ0LmdldFBhZ2VPZmZzZXQoKS54O1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlJ3JlIGFscmVhZHkgYXR0YWNoZWQgdG8gYSBwaWxsYXIsIHNpbXBseSBtb3ZlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyByZXNpemVyLlxuXHRcdFx0XHRcdGlmIChyZXNpemVyKXtcblx0XHRcdFx0XHRcdGlmIChyZXNpemVyLmlzUmVzaXppbmcoKSkge1xuXHRcdFx0XHRcdFx0XHRyZXNpemVyLm1vdmUocGFnZVgpO1xuXG5cdFx0XHRcdFx0XHRcdGNhbmNlbChldnQpO1xuXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXNpemVyLmRlc3Ryb3koKTtcblxuXHRcdFx0XHRcdFx0XHRyZXNpemVyID0gbnVsbDtcblx0XHRcdFx0XHRcdH1cblx0XHQgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXJpbmcgdGFibGUsIHRyLCB0ZCwgdGJvZHkgYnV0IG5vdGhpbmcgZWxzZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlLCBwaWxsYXJzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmlzKCd0YWJsZScpICYmICF0YXJnZXQuZ2V0QXNjZW5kYW50KCd0Ym9keScsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IHRhcmdldC5nZXRBc2NlbmRhbnQoJ3RhYmxlJywgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0YWJsZSB3ZSBmb3VuZCBpcyBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAvLyAoZWcuIHdlIHNob3VsZCBub3QgdXNlIHRhYmxlcyB0aGUgZWRpdG9yIGlzIGVtYmVkZGVkIHdpdGhpbilcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlZGl0b3IuZWRpdGFibGUoKS5jb250YWlucyh0YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHBpbGxhcnMgPSB0YWJsZS5nZXRDdXN0b21EYXRhKCdfY2tlX3RhYmxlX3BpbGxhcnMnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRhYmxlIHBpbGxhcnMgY2FsY3VsYXRpb24gcmVzdWx0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuc2V0Q3VzdG9tRGF0YSgnX2NrZV90YWJsZV9waWxsYXJzJywgKHBpbGxhcnMgPSBidWlsZFRhYmxlQ29sdW1uUGlsbGFycyh0YWJsZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLm9uKCdtb3VzZW91dCcsIGNsZWFyUGlsbGFyc0NhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLm9uKCdtb3VzZWRvd24nLCBjbGVhclBpbGxhcnNDYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGlsbGFyID0gZ2V0UGlsbGFyQXRQb3NpdGlvbihwaWxsYXJzLCBwYWdlWCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpbGxhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXplciA9IG5ldyBjb2x1bW5SZXNpemVyKGVkaXRvciwgcGlsbGFyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufSgpKTtcbiIsIi8qKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMTUsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2VcbiAqL1xuXG4oIGZ1bmN0aW9uKCkge1xuXHQndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3RhYmxldG9vbHMnKSl7XG5cdFx0cmV0dXJuO1xuICAgIH1cblxuXHR2YXIgY2VsbE5vZGVSZWdleCA9IC9eKD86dGR8dGgpJC87XG5cblx0ZnVuY3Rpb24gZ2V0U2VsZWN0ZWRDZWxscyggc2VsZWN0aW9uICkge1xuXHRcdHZhciByYW5nZXMgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKCk7XG5cdFx0dmFyIHJldHZhbCA9IFtdO1xuXHRcdHZhciBkYXRhYmFzZSA9IHt9O1xuXG5cdFx0ZnVuY3Rpb24gbW92ZU91dE9mQ2VsbEd1YXJkKCBub2RlICkge1xuXHRcdFx0Ly8gQXBwbHkgdG8gdGhlIGZpcnN0IGNlbGwgb25seS5cblx0XHRcdGlmICggcmV0dmFsLmxlbmd0aCA+IDAgKVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdC8vIElmIHdlIGFyZSBleGl0aW5nIGZyb20gdGhlIGZpcnN0IDwvdGQ+LCB0aGVuIHRoZSB0ZCBzaG91bGQgZGVmaW5pdGVseSBiZVxuXHRcdFx0Ly8gaW5jbHVkZWQuXG5cdFx0XHRpZiAoIG5vZGUudHlwZSA9PSBDS0VESVRPUi5OT0RFX0VMRU1FTlQgJiYgY2VsbE5vZGVSZWdleC50ZXN0KCBub2RlLmdldE5hbWUoKSApICYmICFub2RlLmdldEN1c3RvbURhdGEoICdzZWxlY3RlZF9jZWxsJyApICkge1xuXHRcdFx0XHRDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoIGRhdGFiYXNlLCBub2RlLCAnc2VsZWN0ZWRfY2VsbCcsIHRydWUgKTtcblx0XHRcdFx0cmV0dmFsLnB1c2goIG5vZGUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR2YXIgcmFuZ2UgPSByYW5nZXNbIGkgXTtcblxuXHRcdFx0aWYgKCByYW5nZS5jb2xsYXBzZWQgKSB7XG5cdFx0XHRcdC8vIFdhbGtlciBkb2VzIG5vdCBoYW5kbGUgY29sbGFwc2VkIHJhbmdlcyB5ZXQgLSBmYWxsIGJhY2sgdG8gb2xkIEFQSS5cblx0XHRcdFx0dmFyIHN0YXJ0Tm9kZSA9IHJhbmdlLmdldENvbW1vbkFuY2VzdG9yKCk7XG5cdFx0XHRcdHZhciBuZWFyZXN0Q2VsbCA9IHN0YXJ0Tm9kZS5nZXRBc2NlbmRhbnQoICd0ZCcsIHRydWUgKSB8fCBzdGFydE5vZGUuZ2V0QXNjZW5kYW50KCAndGgnLCB0cnVlICk7XG5cdFx0XHRcdGlmICggbmVhcmVzdENlbGwgKVxuXHRcdFx0XHRcdHJldHZhbC5wdXNoKCBuZWFyZXN0Q2VsbCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIHdhbGtlciA9IG5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKCByYW5nZSApO1xuXHRcdFx0XHR2YXIgbm9kZTtcblx0XHRcdFx0d2Fsa2VyLmd1YXJkID0gbW92ZU91dE9mQ2VsbEd1YXJkO1xuXG5cdFx0XHRcdHdoaWxlICggKCBub2RlID0gd2Fsa2VyLm5leHQoKSApICkge1xuXHRcdFx0XHRcdC8vIElmIG1heSBiZSBwb3NzaWJsZSBmb3IgdXMgdG8gaGF2ZSBhIHJhbmdlIGxpa2UgdGhpczpcblx0XHRcdFx0XHQvLyA8dGQ+XjE8L3RkPjx0ZD5eMjwvdGQ+XG5cdFx0XHRcdFx0Ly8gVGhlIDJuZCB0ZCBzaG91bGRuJ3QgYmUgaW5jbHVkZWQuXG5cdFx0XHRcdFx0Ly9cblx0XHRcdFx0XHQvLyBTbyB3ZSBoYXZlIHRvIHRha2UgY2FyZSB0byBpbmNsdWRlIGEgdGQgd2UndmUgZW50ZXJlZCBvbmx5IHdoZW4gd2UndmVcblx0XHRcdFx0XHQvLyB3YWxrZWQgaW50byBpdHMgY2hpbGRyZW4uXG5cblx0XHRcdFx0XHRpZiAoIG5vZGUudHlwZSAhPSBDS0VESVRPUi5OT0RFX0VMRU1FTlQgfHwgIW5vZGUuaXMoIENLRURJVE9SLmR0ZC50YWJsZSApICkge1xuXHRcdFx0XHRcdFx0dmFyIHBhcmVudCA9IG5vZGUuZ2V0QXNjZW5kYW50KCAndGQnLCB0cnVlICkgfHwgbm9kZS5nZXRBc2NlbmRhbnQoICd0aCcsIHRydWUgKTtcblx0XHRcdFx0XHRcdGlmICggcGFyZW50ICYmICFwYXJlbnQuZ2V0Q3VzdG9tRGF0YSggJ3NlbGVjdGVkX2NlbGwnICkgKSB7XG5cdFx0XHRcdFx0XHRcdENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlciggZGF0YWJhc2UsIHBhcmVudCwgJ3NlbGVjdGVkX2NlbGwnLCB0cnVlICk7XG5cdFx0XHRcdFx0XHRcdHJldHZhbC5wdXNoKCBwYXJlbnQgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoIGRhdGFiYXNlICk7XG5cblx0XHRyZXR1cm4gcmV0dmFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Rm9jdXNFbGVtZW50QWZ0ZXJEZWxDZWxscyggY2VsbHNUb0RlbGV0ZSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsYXN0ID0gY2VsbHNUb0RlbGV0ZS5sZW5ndGggLSAxLFxuXHRcdFx0ZGF0YWJhc2UgPSB7fSxcblx0XHRcdGNlbGwsIGZvY3VzZWRDZWxsLCB0cjtcblxuXHRcdHdoaWxlICggKCBjZWxsID0gY2VsbHNUb0RlbGV0ZVsgaSsrIF0gKSApXG5cdFx0XHRDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoIGRhdGFiYXNlLCBjZWxsLCAnZGVsZXRlX2NlbGwnLCB0cnVlICk7XG5cblx0XHQvLyAxLmZpcnN0IHdlIGNoZWNrIGxlZnQgb3IgcmlnaHQgc2lkZSBmb2N1c2FibGUgY2VsbCByb3cgYnkgcm93O1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBjZWxsID0gY2VsbHNUb0RlbGV0ZVsgaSsrIF0gKSApIHtcblx0XHRcdGlmICggKCBmb2N1c2VkQ2VsbCA9IGNlbGwuZ2V0UHJldmlvdXMoKSApICYmICFmb2N1c2VkQ2VsbC5nZXRDdXN0b21EYXRhKCAnZGVsZXRlX2NlbGwnICkgfHwgKCBmb2N1c2VkQ2VsbCA9IGNlbGwuZ2V0TmV4dCgpICkgJiYgIWZvY3VzZWRDZWxsLmdldEN1c3RvbURhdGEoICdkZWxldGVfY2VsbCcgKSApIHtcblx0XHRcdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKCBkYXRhYmFzZSApO1xuXHRcdFx0XHRyZXR1cm4gZm9jdXNlZENlbGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKCBkYXRhYmFzZSApO1xuXG5cdFx0Ly8gMi4gdGhlbiB3ZSBjaGVjayB0aGUgdG9wcGVzdCByb3cgKG91dHNpZGUgdGhlIHNlbGVjdGlvbiBhcmVhIHNxdWFyZSkgZm9jdXNhYmxlIGNlbGxcblx0XHR0ciA9IGNlbGxzVG9EZWxldGVbIDAgXS5nZXRQYXJlbnQoKTtcblx0XHRpZiAoICggdHIgPSB0ci5nZXRQcmV2aW91cygpICkgKVxuXHRcdFx0cmV0dXJuIHRyLmdldExhc3QoKTtcblxuXHRcdC8vIDMuIGxhc3Qgd2UgY2hlY2sgdGhlIGxvd2VyZXN0ICByb3cgZm9jdXNhYmxlIGNlbGxcblx0XHR0ciA9IGNlbGxzVG9EZWxldGVbIGxhc3QgXS5nZXRQYXJlbnQoKTtcblx0XHRpZiAoICggdHIgPSB0ci5nZXROZXh0KCkgKSApXG5cdFx0XHRyZXR1cm4gdHIuZ2V0Q2hpbGQoIDAgKTtcblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5zZXJ0Um93KCBzZWxlY3Rpb24sIGluc2VydEJlZm9yZSApIHtcblx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb24gKSxcblx0XHRcdGZpcnN0Q2VsbCA9IGNlbGxzWyAwIF0sXG5cdFx0XHR0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoICd0YWJsZScgKSxcblx0XHRcdGRvYyA9IGZpcnN0Q2VsbC5nZXREb2N1bWVudCgpLFxuXHRcdFx0c3RhcnRSb3cgPSBjZWxsc1sgMCBdLmdldFBhcmVudCgpLFxuXHRcdFx0c3RhcnRSb3dJbmRleCA9IHN0YXJ0Um93LiQucm93SW5kZXgsXG5cdFx0XHRsYXN0Q2VsbCA9IGNlbGxzWyBjZWxscy5sZW5ndGggLSAxIF0sXG5cdFx0XHRlbmRSb3dJbmRleCA9IGxhc3RDZWxsLmdldFBhcmVudCgpLiQucm93SW5kZXggKyBsYXN0Q2VsbC4kLnJvd1NwYW4gLSAxLFxuXHRcdFx0ZW5kUm93ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCB0YWJsZS4kLnJvd3NbIGVuZFJvd0luZGV4IF0gKSxcblx0XHRcdHJvd0luZGV4ID0gaW5zZXJ0QmVmb3JlID8gc3RhcnRSb3dJbmRleCA6IGVuZFJvd0luZGV4LFxuXHRcdFx0cm93ID0gaW5zZXJ0QmVmb3JlID8gc3RhcnRSb3cgOiBlbmRSb3c7XG5cblx0XHR2YXIgbWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCggdGFibGUgKSxcblx0XHRcdGNsb25lUm93ID0gbWFwWyByb3dJbmRleCBdLFxuXHRcdFx0bmV4dFJvdyA9IGluc2VydEJlZm9yZSA/IG1hcFsgcm93SW5kZXggLSAxIF0gOiBtYXBbIHJvd0luZGV4ICsgMSBdLFxuXHRcdFx0d2lkdGggPSBtYXBbIDAgXS5sZW5ndGg7XG5cblx0XHR2YXIgbmV3Um93ID0gZG9jLmNyZWF0ZUVsZW1lbnQoICd0cicgKTtcblx0XHRmb3IgKCB2YXIgaSA9IDA7IGNsb25lUm93WyBpIF0gJiYgaSA8IHdpZHRoOyBpKysgKSB7XG5cdFx0XHR2YXIgY2VsbDtcblx0XHRcdC8vIENoZWNrIHdoZXRoZXIgdGhlcmUncyBhIHNwYW5uaW5nIHJvdyBoZXJlLCBkbyBub3QgYnJlYWsgaXQuXG5cdFx0XHRpZiAoIGNsb25lUm93WyBpIF0ucm93U3BhbiA+IDEgJiYgbmV4dFJvdyAmJiBjbG9uZVJvd1sgaSBdID09IG5leHRSb3dbIGkgXSApIHtcblx0XHRcdFx0Y2VsbCA9IGNsb25lUm93WyBpIF07XG5cdFx0XHRcdGNlbGwucm93U3BhbiArPSAxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggY2xvbmVSb3dbIGkgXSApLmNsb25lKCk7XG5cdFx0XHRcdGNlbGwucmVtb3ZlQXR0cmlidXRlKCAncm93U3BhbicgKTtcblx0XHRcdFx0Y2VsbC5hcHBlbmRCb2d1cygpO1xuXHRcdFx0XHRuZXdSb3cuYXBwZW5kKCBjZWxsICk7XG5cdFx0XHRcdGNlbGwgPSBjZWxsLiQ7XG5cdFx0XHR9XG5cblx0XHRcdGkgKz0gY2VsbC5jb2xTcGFuIC0gMTtcblx0XHR9XG5cblx0XHRpbnNlcnRCZWZvcmUgPyBuZXdSb3cuaW5zZXJ0QmVmb3JlKCByb3cgKSA6IG5ld1Jvdy5pbnNlcnRBZnRlciggcm93ICk7XG5cdH1cblxuXHRmdW5jdGlvbiBkZWxldGVSb3dzKCBzZWxlY3Rpb25PclJvdyApIHtcblx0XHRpZiAoIHNlbGVjdGlvbk9yUm93IGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbiApIHtcblx0XHRcdHZhciBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoIHNlbGVjdGlvbk9yUm93ICksXG5cdFx0XHRcdGZpcnN0Q2VsbCA9IGNlbGxzWyAwIF0sXG5cdFx0XHRcdHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCggJ3RhYmxlJyApLFxuXHRcdFx0XHRtYXAgPSBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKCB0YWJsZSApLFxuXHRcdFx0XHRzdGFydFJvdyA9IGNlbGxzWyAwIF0uZ2V0UGFyZW50KCksXG5cdFx0XHRcdHN0YXJ0Um93SW5kZXggPSBzdGFydFJvdy4kLnJvd0luZGV4LFxuXHRcdFx0XHRsYXN0Q2VsbCA9IGNlbGxzWyBjZWxscy5sZW5ndGggLSAxIF0sXG5cdFx0XHRcdGVuZFJvd0luZGV4ID0gbGFzdENlbGwuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCArIGxhc3RDZWxsLiQucm93U3BhbiAtIDEsXG5cdFx0XHRcdHJvd3NUb0RlbGV0ZSA9IFtdO1xuXG5cdFx0XHQvLyBEZWxldGUgY2VsbCBvciByZWR1Y2UgY2VsbCBzcGFucyBieSBjaGVja2luZyB0aHJvdWdoIHRoZSB0YWJsZSBtYXAuXG5cdFx0XHRmb3IgKCB2YXIgaSA9IHN0YXJ0Um93SW5kZXg7IGkgPD0gZW5kUm93SW5kZXg7IGkrKyApIHtcblx0XHRcdFx0dmFyIG1hcFJvdyA9IG1hcFsgaSBdLFxuXHRcdFx0XHRcdHJvdyA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggdGFibGUuJC5yb3dzWyBpIF0gKTtcblxuXHRcdFx0XHRmb3IgKCB2YXIgaiA9IDA7IGogPCBtYXBSb3cubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdFx0dmFyIGNlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIG1hcFJvd1sgaiBdICksXG5cdFx0XHRcdFx0XHRjZWxsUm93SW5kZXggPSBjZWxsLmdldFBhcmVudCgpLiQucm93SW5kZXg7XG5cblx0XHRcdFx0XHRpZiAoIGNlbGwuJC5yb3dTcGFuID09IDEgKVxuXHRcdFx0XHRcdFx0Y2VsbC5yZW1vdmUoKTtcblx0XHRcdFx0XHQvLyBSb3cgc3Bhbm5lZCBjZWxsLlxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0Ly8gU3BhbiByb3cgb2YgdGhlIGNlbGwsIHJlZHVjZSBzcGFubmluZy5cblx0XHRcdFx0XHRcdGNlbGwuJC5yb3dTcGFuIC09IDE7XG5cdFx0XHRcdFx0XHQvLyBSb290IHJvdyBvZiB0aGUgY2VsbCwgcm9vdCBjZWxsIHRvIG5leHQgcm93LlxuXHRcdFx0XHRcdFx0aWYgKCBjZWxsUm93SW5kZXggPT0gaSApIHtcblx0XHRcdFx0XHRcdFx0dmFyIG5leHRNYXBSb3cgPSBtYXBbIGkgKyAxIF07XG5cdFx0XHRcdFx0XHRcdG5leHRNYXBSb3dbIGogLSAxIF0gPyBjZWxsLmluc2VydEFmdGVyKCBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIG5leHRNYXBSb3dbIGogLSAxIF0gKSApIDogbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCB0YWJsZS4kLnJvd3NbIGkgKyAxIF0gKS5hcHBlbmQoIGNlbGwsIDEgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRqICs9IGNlbGwuJC5jb2xTcGFuIC0gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJvd3NUb0RlbGV0ZS5wdXNoKCByb3cgKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHJvd3MgPSB0YWJsZS4kLnJvd3M7XG5cblx0XHRcdC8vIFdoZXJlIHRvIHB1dCB0aGUgY3Vyc29yIGFmdGVyIHJvd3MgYmVlbiBkZWxldGVkP1xuXHRcdFx0Ly8gMS4gSW50byBuZXh0IHNpYmxpbmcgcm93IGlmIGFueTtcblx0XHRcdC8vIDIuIEludG8gcHJldmlvdXMgc2libGluZyByb3cgaWYgYW55O1xuXHRcdFx0Ly8gMy4gSW50byB0YWJsZSdzIHBhcmVudCBlbGVtZW50IGlmIGl0J3MgdGhlIHZlcnkgbGFzdCByb3cuXG5cdFx0XHR2YXIgY3Vyc29yUG9zaXRpb24gPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIHJvd3NbIGVuZFJvd0luZGV4ICsgMSBdIHx8ICggc3RhcnRSb3dJbmRleCA+IDAgPyByb3dzWyBzdGFydFJvd0luZGV4IC0gMSBdIDogbnVsbCApIHx8IHRhYmxlLiQucGFyZW50Tm9kZSApO1xuXG5cdFx0XHRmb3IgKCBpID0gcm93c1RvRGVsZXRlLmxlbmd0aDsgaSA+PSAwOyBpLS0gKVxuXHRcdFx0XHRkZWxldGVSb3dzKCByb3dzVG9EZWxldGVbIGkgXSApO1xuXG5cdFx0XHRyZXR1cm4gY3Vyc29yUG9zaXRpb247XG5cdFx0fSBlbHNlIGlmICggc2VsZWN0aW9uT3JSb3cgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCApIHtcblx0XHRcdHRhYmxlID0gc2VsZWN0aW9uT3JSb3cuZ2V0QXNjZW5kYW50KCAndGFibGUnICk7XG5cblx0XHRcdGlmICggdGFibGUuJC5yb3dzLmxlbmd0aCA9PSAxIClcblx0XHRcdFx0dGFibGUucmVtb3ZlKCk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHNlbGVjdGlvbk9yUm93LnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Q2VsbENvbEluZGV4KCBjZWxsLCBpc1N0YXJ0ICkge1xuXHRcdHZhciByb3cgPSBjZWxsLmdldFBhcmVudCgpLFxuXHRcdFx0cm93Q2VsbHMgPSByb3cuJC5jZWxscztcblxuXHRcdHZhciBjb2xJbmRleCA9IDA7XG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgcm93Q2VsbHMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHR2YXIgbWFwQ2VsbCA9IHJvd0NlbGxzWyBpIF07XG5cdFx0XHRjb2xJbmRleCArPSBpc1N0YXJ0ID8gMSA6IG1hcENlbGwuY29sU3Bhbjtcblx0XHRcdGlmICggbWFwQ2VsbCA9PSBjZWxsLiQgKVxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRyZXR1cm4gY29sSW5kZXggLSAxO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0Q29sdW1uc0luZGljZXMoIGNlbGxzLCBpc1N0YXJ0ICkge1xuXHRcdHZhciByZXR2YWwgPSBpc1N0YXJ0ID8gSW5maW5pdHkgOiAwO1xuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0dmFyIGNvbEluZGV4ID0gZ2V0Q2VsbENvbEluZGV4KCBjZWxsc1sgaSBdLCBpc1N0YXJ0ICk7XG5cdFx0XHRpZiAoIGlzU3RhcnQgPyBjb2xJbmRleCA8IHJldHZhbCA6IGNvbEluZGV4ID4gcmV0dmFsIClcblx0XHRcdFx0cmV0dmFsID0gY29sSW5kZXg7XG5cdFx0fVxuXHRcdHJldHVybiByZXR2YWw7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnNlcnRDb2x1bW4oIHNlbGVjdGlvbiwgaW5zZXJ0QmVmb3JlICkge1xuXHRcdHZhciBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoIHNlbGVjdGlvbiApLFxuXHRcdFx0Zmlyc3RDZWxsID0gY2VsbHNbIDAgXSxcblx0XHRcdHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCggJ3RhYmxlJyApLFxuXHRcdFx0c3RhcnRDb2wgPSBnZXRDb2x1bW5zSW5kaWNlcyggY2VsbHMsIDEgKSxcblx0XHRcdGxhc3RDb2wgPSBnZXRDb2x1bW5zSW5kaWNlcyggY2VsbHMgKSxcblx0XHRcdGNvbEluZGV4ID0gaW5zZXJ0QmVmb3JlID8gc3RhcnRDb2wgOiBsYXN0Q29sO1xuXG5cdFx0dmFyIG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoIHRhYmxlICksXG5cdFx0XHRjbG9uZUNvbCA9IFtdLFxuXHRcdFx0bmV4dENvbCA9IFtdLFxuXHRcdFx0aGVpZ2h0ID0gbWFwLmxlbmd0aDtcblxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGhlaWdodDsgaSsrICkge1xuXHRcdFx0Y2xvbmVDb2wucHVzaCggbWFwWyBpIF1bIGNvbEluZGV4IF0gKTtcblx0XHRcdHZhciBuZXh0Q2VsbCA9IGluc2VydEJlZm9yZSA/IG1hcFsgaSBdWyBjb2xJbmRleCAtIDEgXSA6IG1hcFsgaSBdWyBjb2xJbmRleCArIDEgXTtcblx0XHRcdG5leHRDb2wucHVzaCggbmV4dENlbGwgKTtcblx0XHR9XG5cblx0XHRmb3IgKCBpID0gMDsgaSA8IGhlaWdodDsgaSsrICkge1xuXHRcdFx0dmFyIGNlbGw7XG5cblx0XHRcdGlmICggIWNsb25lQ29sWyBpIF0gKVxuXHRcdFx0XHRjb250aW51ZTtcblxuXHRcdFx0Ly8gQ2hlY2sgd2hldGhlciB0aGVyZSdzIGEgc3Bhbm5pbmcgY29sdW1uIGhlcmUsIGRvIG5vdCBicmVhayBpdC5cblx0XHRcdGlmICggY2xvbmVDb2xbIGkgXS5jb2xTcGFuID4gMSAmJiBuZXh0Q29sWyBpIF0gPT0gY2xvbmVDb2xbIGkgXSApIHtcblx0XHRcdFx0Y2VsbCA9IGNsb25lQ29sWyBpIF07XG5cdFx0XHRcdGNlbGwuY29sU3BhbiArPSAxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggY2xvbmVDb2xbIGkgXSApLmNsb25lKCk7XG5cdFx0XHRcdGNlbGwucmVtb3ZlQXR0cmlidXRlKCAnY29sU3BhbicgKTtcblx0XHRcdFx0Y2VsbC5hcHBlbmRCb2d1cygpO1xuXHRcdFx0XHRjZWxsWyBpbnNlcnRCZWZvcmUgPyAnaW5zZXJ0QmVmb3JlJyA6ICdpbnNlcnRBZnRlcicgXS5jYWxsKCBjZWxsLCBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIGNsb25lQ29sWyBpIF0gKSApO1xuXHRcdFx0XHRjZWxsID0gY2VsbC4kO1xuXHRcdFx0fVxuXG5cdFx0XHRpICs9IGNlbGwucm93U3BhbiAtIDE7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlQ29sdW1ucyggc2VsZWN0aW9uT3JDZWxsICkge1xuXHRcdHZhciBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoIHNlbGVjdGlvbk9yQ2VsbCApLFxuXHRcdFx0Zmlyc3RDZWxsID0gY2VsbHNbIDAgXSxcblx0XHRcdGxhc3RDZWxsID0gY2VsbHNbIGNlbGxzLmxlbmd0aCAtIDEgXSxcblx0XHRcdHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCggJ3RhYmxlJyApLFxuXHRcdFx0bWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCggdGFibGUgKSxcblx0XHRcdHN0YXJ0Q29sSW5kZXgsIGVuZENvbEluZGV4LFxuXHRcdFx0cm93c1RvRGVsZXRlID0gW107XG5cblx0XHQvLyBGaWd1cmUgb3V0IHNlbGVjdGVkIGNlbGxzJyBjb2x1bW4gaW5kaWNlcy5cblx0XHRmb3IgKCB2YXIgaSA9IDAsIHJvd3MgPSBtYXAubGVuZ3RoOyBpIDwgcm93czsgaSsrICkge1xuXHRcdFx0Zm9yICggdmFyIGogPSAwLCBjb2xzID0gbWFwWyBpIF0ubGVuZ3RoOyBqIDwgY29sczsgaisrICkge1xuXHRcdFx0XHRpZiAoIG1hcFsgaSBdWyBqIF0gPT0gZmlyc3RDZWxsLiQgKVxuXHRcdFx0XHRcdHN0YXJ0Q29sSW5kZXggPSBqO1xuXHRcdFx0XHRpZiAoIG1hcFsgaSBdWyBqIF0gPT0gbGFzdENlbGwuJCApXG5cdFx0XHRcdFx0ZW5kQ29sSW5kZXggPSBqO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIERlbGV0ZSBjZWxsIG9yIHJlZHVjZSBjZWxsIHNwYW5zIGJ5IGNoZWNraW5nIHRocm91Z2ggdGhlIHRhYmxlIG1hcC5cblx0XHRmb3IgKCBpID0gc3RhcnRDb2xJbmRleDsgaSA8PSBlbmRDb2xJbmRleDsgaSsrICkge1xuXHRcdFx0Zm9yICggaiA9IDA7IGogPCBtYXAubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHRcdHZhciBtYXBSb3cgPSBtYXBbIGogXSxcblx0XHRcdFx0XHRyb3cgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIHRhYmxlLiQucm93c1sgaiBdICksXG5cdFx0XHRcdFx0Y2VsbCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggbWFwUm93WyBpIF0gKTtcblxuXHRcdFx0XHRpZiAoIGNlbGwuJCApIHtcblx0XHRcdFx0XHRpZiAoIGNlbGwuJC5jb2xTcGFuID09IDEgKVxuXHRcdFx0XHRcdFx0Y2VsbC5yZW1vdmUoKTtcblx0XHRcdFx0XHQvLyBSZWR1Y2UgdGhlIGNvbCBzcGFucy5cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRjZWxsLiQuY29sU3BhbiAtPSAxO1xuXG5cdFx0XHRcdFx0aiArPSBjZWxsLiQucm93U3BhbiAtIDE7XG5cblx0XHRcdFx0XHRpZiAoICFyb3cuJC5jZWxscy5sZW5ndGggKVxuXHRcdFx0XHRcdFx0cm93c1RvRGVsZXRlLnB1c2goIHJvdyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGZpcnN0Um93Q2VsbHMgPSB0YWJsZS4kLnJvd3NbIDAgXSAmJiB0YWJsZS4kLnJvd3NbIDAgXS5jZWxscztcblxuXHRcdC8vIFdoZXJlIHRvIHB1dCB0aGUgY3Vyc29yIGFmdGVyIGNvbHVtbnMgYmVlbiBkZWxldGVkP1xuXHRcdC8vIDEuIEludG8gbmV4dCBjZWxsIG9mIHRoZSBmaXJzdCByb3cgaWYgYW55O1xuXHRcdC8vIDIuIEludG8gcHJldmlvdXMgY2VsbCBvZiB0aGUgZmlyc3Qgcm93IGlmIGFueTtcblx0XHQvLyAzLiBJbnRvIHRhYmxlJ3MgcGFyZW50IGVsZW1lbnQ7XG5cdFx0dmFyIGN1cnNvclBvc2l0aW9uID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCBmaXJzdFJvd0NlbGxzWyBzdGFydENvbEluZGV4IF0gfHwgKCBzdGFydENvbEluZGV4ID8gZmlyc3RSb3dDZWxsc1sgc3RhcnRDb2xJbmRleCAtIDEgXSA6IHRhYmxlLiQucGFyZW50Tm9kZSApICk7XG5cblx0XHQvLyBEZWxldGUgdGFibGUgcm93cyBvbmx5IGlmIGFsbCBjb2x1bW5zIGFyZSBnb25lIChkbyBub3QgcmVtb3ZlIGVtcHR5IHJvdykuXG5cdFx0aWYgKCByb3dzVG9EZWxldGUubGVuZ3RoID09IHJvd3MgKVxuXHRcdFx0dGFibGUucmVtb3ZlKCk7XG5cblx0XHRyZXR1cm4gY3Vyc29yUG9zaXRpb247XG5cdH1cblxuXHRmdW5jdGlvbiBpbnNlcnRDZWxsKCBzZWxlY3Rpb24sIGluc2VydEJlZm9yZSApIHtcblx0XHR2YXIgc3RhcnRFbGVtZW50ID0gc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudCgpO1xuXHRcdHZhciBjZWxsID0gc3RhcnRFbGVtZW50LmdldEFzY2VuZGFudCggJ3RkJywgMSApIHx8IHN0YXJ0RWxlbWVudC5nZXRBc2NlbmRhbnQoICd0aCcsIDEgKTtcblxuXHRcdGlmICggIWNlbGwgKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0Ly8gQ3JlYXRlIHRoZSBuZXcgY2VsbCBlbGVtZW50IHRvIGJlIGFkZGVkLlxuXHRcdHZhciBuZXdDZWxsID0gY2VsbC5jbG9uZSgpO1xuXHRcdG5ld0NlbGwuYXBwZW5kQm9ndXMoKTtcblxuXHRcdGlmICggaW5zZXJ0QmVmb3JlIClcblx0XHRcdG5ld0NlbGwuaW5zZXJ0QmVmb3JlKCBjZWxsICk7XG5cdFx0ZWxzZVxuXHRcdFx0bmV3Q2VsbC5pbnNlcnRBZnRlciggY2VsbCApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlQ2VsbHMoIHNlbGVjdGlvbk9yQ2VsbCApIHtcblx0XHRpZiAoIHNlbGVjdGlvbk9yQ2VsbCBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24gKSB7XG5cdFx0XHR2YXIgY2VsbHNUb0RlbGV0ZSA9IGdldFNlbGVjdGVkQ2VsbHMoIHNlbGVjdGlvbk9yQ2VsbCApO1xuXHRcdFx0dmFyIHRhYmxlID0gY2VsbHNUb0RlbGV0ZVsgMCBdICYmIGNlbGxzVG9EZWxldGVbIDAgXS5nZXRBc2NlbmRhbnQoICd0YWJsZScgKTtcblx0XHRcdHZhciBjZWxsVG9Gb2N1cyA9IGdldEZvY3VzRWxlbWVudEFmdGVyRGVsQ2VsbHMoIGNlbGxzVG9EZWxldGUgKTtcblxuXHRcdFx0Zm9yICggdmFyIGkgPSBjZWxsc1RvRGVsZXRlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tIClcblx0XHRcdFx0ZGVsZXRlQ2VsbHMoIGNlbGxzVG9EZWxldGVbIGkgXSApO1xuXG5cdFx0XHRpZiAoIGNlbGxUb0ZvY3VzIClcblx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoIGNlbGxUb0ZvY3VzLCB0cnVlICk7XG5cdFx0XHRlbHNlIGlmICggdGFibGUgKVxuXHRcdFx0XHR0YWJsZS5yZW1vdmUoKTtcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rpb25PckNlbGwgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCApIHtcblx0XHRcdHZhciB0ciA9IHNlbGVjdGlvbk9yQ2VsbC5nZXRQYXJlbnQoKTtcblx0XHRcdGlmICggdHIuZ2V0Q2hpbGRDb3VudCgpID09IDEgKVxuXHRcdFx0XHR0ci5yZW1vdmUoKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0c2VsZWN0aW9uT3JDZWxsLnJlbW92ZSgpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSBmaWxsZXIgYXQgZW5kIGFuZCBlbXB0eSBzcGFjZXMgYXJvdW5kIHRoZSBjZWxsIGNvbnRlbnQuXG5cdGZ1bmN0aW9uIHRyaW1DZWxsKCBjZWxsICkge1xuXHRcdHZhciBib2d1cyA9IGNlbGwuZ2V0Qm9ndXMoKTtcblx0XHRib2d1cyAmJiBib2d1cy5yZW1vdmUoKTtcblx0XHRjZWxsLnRyaW0oKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHBsYWNlQ3Vyc29ySW5DZWxsKCBjZWxsLCBwbGFjZUF0RW5kICkge1xuXHRcdHZhciBkb2NJbm5lciA9IGNlbGwuZ2V0RG9jdW1lbnQoKSxcblx0XHRcdGRvY091dGVyID0gQ0tFRElUT1IuZG9jdW1lbnQ7XG5cblx0XHQvLyBGaXhpbmcgXCJVbnNwZWNpZmllZCBlcnJvclwiIHRocm93biBpbiBJRTEwIGJ5IHJlc2V0dGluZ1xuXHRcdC8vIHNlbGVjdGlvbiB0aGUgZGlydHkgYW5kIHNoYW1lZnVsIHdheSAoIzEwMzA4KS5cblx0XHQvLyBXZSBjYW4gbm90IGFwcGx5IHRoaXMgaGFjayB0byBJRTggYmVjYXVzZVxuXHRcdC8vIGl0IGNhdXNlcyBlcnJvciAoIzExMDU4KS5cblx0XHRpZiAoIENLRURJVE9SLmVudi5pZSAmJiBDS0VESVRPUi5lbnYudmVyc2lvbiA9PSAxMCApIHtcblx0XHRcdGRvY091dGVyLmZvY3VzKCk7XG5cdFx0XHRkb2NJbm5lci5mb2N1cygpO1xuXHRcdH1cblxuXHRcdHZhciByYW5nZSA9IG5ldyBDS0VESVRPUi5kb20ucmFuZ2UoIGRvY0lubmVyICk7XG5cdFx0aWYgKCAhcmFuZ2VbICdtb3ZlVG9FbGVtZW50RWRpdCcgKyAoIHBsYWNlQXRFbmQgPyAnRW5kJyA6ICdTdGFydCcgKSBdKCBjZWxsICkgKSB7XG5cdFx0XHRyYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoIGNlbGwgKTtcblx0XHRcdHJhbmdlLmNvbGxhcHNlKCBwbGFjZUF0RW5kID8gZmFsc2UgOiB0cnVlICk7XG5cdFx0fVxuXHRcdHJhbmdlLnNlbGVjdCggdHJ1ZSApO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2VsbEluUm93KCB0YWJsZU1hcCwgcm93SW5kZXgsIGNlbGwgKSB7XG5cdFx0dmFyIG9Sb3cgPSB0YWJsZU1hcFsgcm93SW5kZXggXTtcblx0XHRpZiAoIHR5cGVvZiBjZWxsID09ICd1bmRlZmluZWQnIClcblx0XHRcdHJldHVybiBvUm93O1xuXG5cdFx0Zm9yICggdmFyIGMgPSAwOyBvUm93ICYmIGMgPCBvUm93Lmxlbmd0aDsgYysrICkge1xuXHRcdFx0aWYgKCBjZWxsLmlzICYmIG9Sb3dbIGMgXSA9PSBjZWxsLiQgKVxuXHRcdFx0XHRyZXR1cm4gYztcblx0XHRcdGVsc2UgaWYgKCBjID09IGNlbGwgKVxuXHRcdFx0XHRyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCBvUm93WyBjIF0gKTtcblx0XHR9XG5cdFx0cmV0dXJuIGNlbGwuaXMgPyAtMSA6IG51bGw7XG5cdH1cblxuXHRmdW5jdGlvbiBjZWxsSW5Db2woIHRhYmxlTWFwLCBjb2xJbmRleCApIHtcblx0XHR2YXIgb0NvbCA9IFtdO1xuXHRcdGZvciAoIHZhciByID0gMDsgciA8IHRhYmxlTWFwLmxlbmd0aDsgcisrICkge1xuXHRcdFx0dmFyIHJvdyA9IHRhYmxlTWFwWyByIF07XG5cdFx0XHRvQ29sLnB1c2goIHJvd1sgY29sSW5kZXggXSApO1xuXG5cdFx0XHQvLyBBdm9pZCBhZGRpbmcgZHVwbGljYXRlIGNlbGxzLlxuXHRcdFx0aWYgKCByb3dbIGNvbEluZGV4IF0ucm93U3BhbiA+IDEgKVxuXHRcdFx0XHRyICs9IHJvd1sgY29sSW5kZXggXS5yb3dTcGFuIC0gMTtcblx0XHR9XG5cdFx0cmV0dXJuIG9Db2w7XG5cdH1cblxuXHRmdW5jdGlvbiBtZXJnZUNlbGxzKCBzZWxlY3Rpb24sIG1lcmdlRGlyZWN0aW9uLCBpc0RldGVjdCApIHtcblx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb24gKTtcblxuXHRcdC8vIEludmFsaWQgbWVyZ2UgcmVxdWVzdCBpZjpcblx0XHQvLyAxLiBJbiBiYXRjaCBtb2RlIGRlc3BpdGUgdGhhdCBsZXNzIHRoYW4gdHdvIHNlbGVjdGVkLlxuXHRcdC8vIDIuIEluIHNvbG8gbW9kZSB3aGlsZSBub3QgZXhhY3RseSBvbmx5IG9uZSBzZWxlY3RlZC5cblx0XHQvLyAzLiBDZWxscyBkaXN0cmlidXRlZCBpbiBkaWZmZXJlbnQgdGFibGUgZ3JvdXBzIChlLmcuIGZyb20gYm90aCB0aGVhZCBhbmQgdGJvZHkpLlxuXHRcdHZhciBjb21tb25BbmNlc3Rvcjtcblx0XHRpZiAoICggbWVyZ2VEaXJlY3Rpb24gPyBjZWxscy5sZW5ndGggIT0gMSA6IGNlbGxzLmxlbmd0aCA8IDIgKSB8fCAoIGNvbW1vbkFuY2VzdG9yID0gc2VsZWN0aW9uLmdldENvbW1vbkFuY2VzdG9yKCkgKSAmJiBjb21tb25BbmNlc3Rvci50eXBlID09IENLRURJVE9SLk5PREVfRUxFTUVOVCAmJiBjb21tb25BbmNlc3Rvci5pcyggJ3RhYmxlJyApIClcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdHZhciBjZWxsLFxuXHRcdFx0Zmlyc3RDZWxsID0gY2VsbHNbIDAgXSxcblx0XHRcdHRhYmxlID0gZmlyc3RDZWxsLmdldEFzY2VuZGFudCggJ3RhYmxlJyApLFxuXHRcdFx0bWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCggdGFibGUgKSxcblx0XHRcdG1hcEhlaWdodCA9IG1hcC5sZW5ndGgsXG5cdFx0XHRtYXBXaWR0aCA9IG1hcFsgMCBdLmxlbmd0aCxcblx0XHRcdHN0YXJ0Um93ID0gZmlyc3RDZWxsLmdldFBhcmVudCgpLiQucm93SW5kZXgsXG5cdFx0XHRzdGFydENvbHVtbiA9IGNlbGxJblJvdyggbWFwLCBzdGFydFJvdywgZmlyc3RDZWxsICk7XG5cblx0XHRpZiAoIG1lcmdlRGlyZWN0aW9uICkge1xuXHRcdFx0dmFyIHRhcmdldENlbGw7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR2YXIgcm93c3BhbiA9IHBhcnNlSW50KCBmaXJzdENlbGwuZ2V0QXR0cmlidXRlKCAncm93c3BhbicgKSwgMTAgKSB8fCAxO1xuXHRcdFx0XHR2YXIgY29sc3BhbiA9IHBhcnNlSW50KCBmaXJzdENlbGwuZ2V0QXR0cmlidXRlKCAnY29sc3BhbicgKSwgMTAgKSB8fCAxO1xuXG5cdFx0XHRcdHRhcmdldENlbGwgPSBtYXBbIG1lcmdlRGlyZWN0aW9uID09ICd1cCcgPyAoIHN0YXJ0Um93IC0gcm93c3BhbiApIDogbWVyZ2VEaXJlY3Rpb24gPT0gJ2Rvd24nID8gKCBzdGFydFJvdyArIHJvd3NwYW4gKSA6IHN0YXJ0Um93IF1bXG5cdFx0XHRcdFx0bWVyZ2VEaXJlY3Rpb24gPT0gJ2xlZnQnID9cblx0XHRcdFx0XHRcdCggc3RhcnRDb2x1bW4gLSBjb2xzcGFuICkgOlxuXHRcdFx0XHRcdG1lcmdlRGlyZWN0aW9uID09ICdyaWdodCcgPyAoIHN0YXJ0Q29sdW1uICsgY29sc3BhbiApIDogc3RhcnRDb2x1bW4gXTtcblxuXHRcdFx0fSBjYXRjaCAoIGVyICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIDEuIE5vIGNlbGwgY291bGQgYmUgbWVyZ2VkLlxuXHRcdFx0Ly8gMi4gU2FtZSBjZWxsIGFjdHVhbGx5LlxuXHRcdFx0aWYgKCAhdGFyZ2V0Q2VsbCB8fCBmaXJzdENlbGwuJCA9PSB0YXJnZXRDZWxsIClcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0XHQvLyBTb3J0IGluIG1hcCBvcmRlciByZWdhcmRsZXNzIG9mIHRoZSBET00gc2VxdWVuY2UuXG5cdFx0XHRjZWxsc1sgKCBtZXJnZURpcmVjdGlvbiA9PSAndXAnIHx8IG1lcmdlRGlyZWN0aW9uID09ICdsZWZ0JyApID8gJ3Vuc2hpZnQnIDogJ3B1c2gnIF0oIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggdGFyZ2V0Q2VsbCApICk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RhcnQgZnJvbSBoZXJlIGFyZSBtZXJnaW5nIHdheSBpZ25vcmFuY2UgKG1lcmdlIHVwL3JpZ2h0LCBiYXRjaCBtZXJnZSkuXG5cdFx0dmFyIGRvYyA9IGZpcnN0Q2VsbC5nZXREb2N1bWVudCgpLFxuXHRcdFx0bGFzdFJvd0luZGV4ID0gc3RhcnRSb3csXG5cdFx0XHR0b3RhbFJvd1NwYW4gPSAwLFxuXHRcdFx0dG90YWxDb2xTcGFuID0gMCxcblx0XHRcdC8vIFVzZSBhIGRvY3VtZW50RnJhZ21lbnQgYXMgYnVmZmVyIHdoZW4gYXBwZW5kaW5nIGNlbGwgY29udGVudHMuXG5cdFx0XHRmcmFnID0gIWlzRGV0ZWN0ICYmIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCggZG9jICksXG5cdFx0XHRkaW1lbnNpb24gPSAwO1xuXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgY2VsbHMubGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRjZWxsID0gY2VsbHNbIGkgXTtcblxuXHRcdFx0dmFyIHRyID0gY2VsbC5nZXRQYXJlbnQoKSxcblx0XHRcdFx0Y2VsbEZpcnN0Q2hpbGQgPSBjZWxsLmdldEZpcnN0KCksXG5cdFx0XHRcdGNvbFNwYW4gPSBjZWxsLiQuY29sU3Bhbixcblx0XHRcdFx0cm93U3BhbiA9IGNlbGwuJC5yb3dTcGFuLFxuXHRcdFx0XHRyb3dJbmRleCA9IHRyLiQucm93SW5kZXgsXG5cdFx0XHRcdGNvbEluZGV4ID0gY2VsbEluUm93KCBtYXAsIHJvd0luZGV4LCBjZWxsICk7XG5cblx0XHRcdC8vIEFjY3VtdWxhdGVkIHRoZSBhY3R1YWwgcGxhY2VzIHRha2VuIGJ5IGFsbCBzZWxlY3RlZCBjZWxscy5cblx0XHRcdGRpbWVuc2lvbiArPSBjb2xTcGFuICogcm93U3Bhbjtcblx0XHRcdC8vIEFjY3VtdWxhdGVkIHRoZSBtYXhpbXVtIHZpcnR1YWwgc3BhbnMgZnJvbSBjb2x1bW4gYW5kIHJvdy5cblx0XHRcdHRvdGFsQ29sU3BhbiA9IE1hdGgubWF4KCB0b3RhbENvbFNwYW4sIGNvbEluZGV4IC0gc3RhcnRDb2x1bW4gKyBjb2xTcGFuICk7XG5cdFx0XHR0b3RhbFJvd1NwYW4gPSBNYXRoLm1heCggdG90YWxSb3dTcGFuLCByb3dJbmRleCAtIHN0YXJ0Um93ICsgcm93U3BhbiApO1xuXG5cdFx0XHRpZiAoICFpc0RldGVjdCApIHtcblx0XHRcdFx0Ly8gVHJpbSBhbGwgY2VsbCBmaWxsZXJzIGFuZCBjaGVjayB0byByZW1vdmUgZW1wdHkgY2VsbHMuXG5cdFx0XHRcdGlmICggdHJpbUNlbGwoIGNlbGwgKSwgY2VsbC5nZXRDaGlsZHJlbigpLmNvdW50KCkgKSB7XG5cdFx0XHRcdFx0Ly8gTWVyZ2UgdmVydGljYWxseSBjZWxscyBhcyB0d28gc2VwYXJhdGVkIHBhcmFncmFwaHMuXG5cdFx0XHRcdFx0aWYgKCByb3dJbmRleCAhPSBsYXN0Um93SW5kZXggJiYgY2VsbEZpcnN0Q2hpbGQgJiYgISggY2VsbEZpcnN0Q2hpbGQuaXNCbG9ja0JvdW5kYXJ5ICYmIGNlbGxGaXJzdENoaWxkLmlzQmxvY2tCb3VuZGFyeSggeyBicjogMSB9ICkgKSApIHtcblx0XHRcdFx0XHRcdHZhciBsYXN0ID0gZnJhZy5nZXRMYXN0KCBDS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCB0cnVlICkgKTtcblx0XHRcdFx0XHRcdGlmICggbGFzdCAmJiAhKCBsYXN0LmlzICYmIGxhc3QuaXMoICdicicgKSApIClcblx0XHRcdFx0XHRcdFx0ZnJhZy5hcHBlbmQoICdicicgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjZWxsLm1vdmVDaGlsZHJlbiggZnJhZyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkgPyBjZWxsLnJlbW92ZSgpIDogY2VsbC5zZXRIdG1sKCAnJyApO1xuXHRcdFx0fVxuXHRcdFx0bGFzdFJvd0luZGV4ID0gcm93SW5kZXg7XG5cdFx0fVxuXG5cdFx0aWYgKCAhaXNEZXRlY3QgKSB7XG5cdFx0XHRmcmFnLm1vdmVDaGlsZHJlbiggZmlyc3RDZWxsICk7XG5cblx0XHRcdGZpcnN0Q2VsbC5hcHBlbmRCb2d1cygpO1xuXG5cdFx0XHRpZiAoIHRvdGFsQ29sU3BhbiA+PSBtYXBXaWR0aCApXG5cdFx0XHRcdGZpcnN0Q2VsbC5yZW1vdmVBdHRyaWJ1dGUoICdyb3dTcGFuJyApO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRmaXJzdENlbGwuJC5yb3dTcGFuID0gdG90YWxSb3dTcGFuO1xuXG5cdFx0XHRpZiAoIHRvdGFsUm93U3BhbiA+PSBtYXBIZWlnaHQgKVxuXHRcdFx0XHRmaXJzdENlbGwucmVtb3ZlQXR0cmlidXRlKCAnY29sU3BhbicgKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0Zmlyc3RDZWxsLiQuY29sU3BhbiA9IHRvdGFsQ29sU3BhbjtcblxuXHRcdFx0Ly8gU3dpcCBlbXB0eSA8dHI+IGxlZnQgYXQgdGhlIGVuZCBvZiB0YWJsZSBkdWUgdG8gdGhlIG1lcmdpbmcuXG5cdFx0XHR2YXIgdHJzID0gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCggdGFibGUuJC5yb3dzICksXG5cdFx0XHRcdGNvdW50ID0gdHJzLmNvdW50KCk7XG5cblx0XHRcdGZvciAoIGkgPSBjb3VudCAtIDE7IGkgPj0gMDsgaS0tICkge1xuXHRcdFx0XHR2YXIgdGFpbFRyID0gdHJzLmdldEl0ZW0oIGkgKTtcblx0XHRcdFx0aWYgKCAhdGFpbFRyLiQuY2VsbHMubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRhaWxUci5yZW1vdmUoKTtcblx0XHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmaXJzdENlbGw7XG5cdFx0fVxuXHRcdC8vIEJlIGFibGUgdG8gbWVyZ2UgY2VsbHMgb25seSBpZiBhY3R1YWwgZGltZW5zaW9uIG9mIHNlbGVjdGVkXG5cdFx0Ly8gY2VsbHMgZXF1YWxzIHRvIHRoZSBjYWN1bGF0ZWQgcmVjdGFuZ2xlLlxuXHRcdGVsc2Uge1xuXHRcdFx0cmV0dXJuICggdG90YWxSb3dTcGFuICogdG90YWxDb2xTcGFuICkgPT0gZGltZW5zaW9uO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHZlcnRpY2FsU3BsaXRDZWxsKCBzZWxlY3Rpb24sIGlzRGV0ZWN0ICkge1xuXHRcdHZhciBjZWxscyA9IGdldFNlbGVjdGVkQ2VsbHMoIHNlbGVjdGlvbiApO1xuXHRcdGlmICggY2VsbHMubGVuZ3RoID4gMSApXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0ZWxzZSBpZiAoIGlzRGV0ZWN0IClcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdFx0dmFyIGNlbGwgPSBjZWxsc1sgMCBdLFxuXHRcdFx0dHIgPSBjZWxsLmdldFBhcmVudCgpLFxuXHRcdFx0dGFibGUgPSB0ci5nZXRBc2NlbmRhbnQoICd0YWJsZScgKSxcblx0XHRcdG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoIHRhYmxlICksXG5cdFx0XHRyb3dJbmRleCA9IHRyLiQucm93SW5kZXgsXG5cdFx0XHRjb2xJbmRleCA9IGNlbGxJblJvdyggbWFwLCByb3dJbmRleCwgY2VsbCApLFxuXHRcdFx0cm93U3BhbiA9IGNlbGwuJC5yb3dTcGFuLFxuXHRcdFx0bmV3Q2VsbCwgbmV3Um93U3BhbiwgbmV3Q2VsbFJvd1NwYW4sIG5ld1Jvd0luZGV4O1xuXG5cdFx0aWYgKCByb3dTcGFuID4gMSApIHtcblx0XHRcdG5ld1Jvd1NwYW4gPSBNYXRoLmNlaWwoIHJvd1NwYW4gLyAyICk7XG5cdFx0XHRuZXdDZWxsUm93U3BhbiA9IE1hdGguZmxvb3IoIHJvd1NwYW4gLyAyICk7XG5cdFx0XHRuZXdSb3dJbmRleCA9IHJvd0luZGV4ICsgbmV3Um93U3Bhbjtcblx0XHRcdHZhciBuZXdDZWxsVHIgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIHRhYmxlLiQucm93c1sgbmV3Um93SW5kZXggXSApLFxuXHRcdFx0XHRuZXdDZWxsUm93ID0gY2VsbEluUm93KCBtYXAsIG5ld1Jvd0luZGV4ICksXG5cdFx0XHRcdGNhbmRpZGF0ZUNlbGw7XG5cblx0XHRcdG5ld0NlbGwgPSBjZWxsLmNsb25lKCk7XG5cblx0XHRcdC8vIEZpZ3VyZSBvdXQgd2hlcmUgdG8gaW5zZXJ0IHRoZSBuZXcgY2VsbCBieSBjaGVja2luZyB0aGUgdml0dWFsIHJvdy5cblx0XHRcdGZvciAoIHZhciBjID0gMDsgYyA8IG5ld0NlbGxSb3cubGVuZ3RoOyBjKysgKSB7XG5cdFx0XHRcdGNhbmRpZGF0ZUNlbGwgPSBuZXdDZWxsUm93WyBjIF07XG5cdFx0XHRcdC8vIENhdGNoIGZpcnN0IGNlbGwgYWN0dWFsbHkgZm9sbG93aW5nIHRoZSBjb2x1bW4uXG5cdFx0XHRcdGlmICggY2FuZGlkYXRlQ2VsbC5wYXJlbnROb2RlID09IG5ld0NlbGxUci4kICYmIGMgPiBjb2xJbmRleCApIHtcblx0XHRcdFx0XHRuZXdDZWxsLmluc2VydEJlZm9yZSggbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCBjYW5kaWRhdGVDZWxsICkgKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjYW5kaWRhdGVDZWxsID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZGVzdGluYXRpb24gcm93IGlzIGVtcHR5LCBhcHBlbmQgYXQgd2lsbC5cblx0XHRcdGlmICggIWNhbmRpZGF0ZUNlbGwgKVxuXHRcdFx0XHRuZXdDZWxsVHIuYXBwZW5kKCBuZXdDZWxsICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld0NlbGxSb3dTcGFuID0gbmV3Um93U3BhbiA9IDE7XG5cblx0XHRcdG5ld0NlbGxUciA9IHRyLmNsb25lKCk7XG5cdFx0XHRuZXdDZWxsVHIuaW5zZXJ0QWZ0ZXIoIHRyICk7XG5cdFx0XHRuZXdDZWxsVHIuYXBwZW5kKCBuZXdDZWxsID0gY2VsbC5jbG9uZSgpICk7XG5cblx0XHRcdHZhciBjZWxsc0luU2FtZVJvdyA9IGNlbGxJblJvdyggbWFwLCByb3dJbmRleCApO1xuXHRcdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgY2VsbHNJblNhbWVSb3cubGVuZ3RoOyBpKysgKVxuXHRcdFx0XHRjZWxsc0luU2FtZVJvd1sgaSBdLnJvd1NwYW4rKztcblx0XHR9XG5cblx0XHRuZXdDZWxsLmFwcGVuZEJvZ3VzKCk7XG5cblx0XHRjZWxsLiQucm93U3BhbiA9IG5ld1Jvd1NwYW47XG5cdFx0bmV3Q2VsbC4kLnJvd1NwYW4gPSBuZXdDZWxsUm93U3Bhbjtcblx0XHRpZiAoIG5ld1Jvd1NwYW4gPT0gMSApXG5cdFx0XHRjZWxsLnJlbW92ZUF0dHJpYnV0ZSggJ3Jvd1NwYW4nICk7XG5cdFx0aWYgKCBuZXdDZWxsUm93U3BhbiA9PSAxIClcblx0XHRcdG5ld0NlbGwucmVtb3ZlQXR0cmlidXRlKCAncm93U3BhbicgKTtcblxuXHRcdHJldHVybiBuZXdDZWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaG9yaXpvbnRhbFNwbGl0Q2VsbCggc2VsZWN0aW9uLCBpc0RldGVjdCApIHtcblx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb24gKTtcblx0XHRpZiAoIGNlbGxzLmxlbmd0aCA+IDEgKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdGVsc2UgaWYgKCBpc0RldGVjdCApXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdHZhciBjZWxsID0gY2VsbHNbIDAgXSxcblx0XHRcdHRyID0gY2VsbC5nZXRQYXJlbnQoKSxcblx0XHRcdHRhYmxlID0gdHIuZ2V0QXNjZW5kYW50KCAndGFibGUnICksXG5cdFx0XHRtYXAgPSBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKCB0YWJsZSApLFxuXHRcdFx0cm93SW5kZXggPSB0ci4kLnJvd0luZGV4LFxuXHRcdFx0Y29sSW5kZXggPSBjZWxsSW5Sb3coIG1hcCwgcm93SW5kZXgsIGNlbGwgKSxcblx0XHRcdGNvbFNwYW4gPSBjZWxsLiQuY29sU3Bhbixcblx0XHRcdG5ld0NlbGwsIG5ld0NvbFNwYW4sIG5ld0NlbGxDb2xTcGFuO1xuXG5cdFx0aWYgKCBjb2xTcGFuID4gMSApIHtcblx0XHRcdG5ld0NvbFNwYW4gPSBNYXRoLmNlaWwoIGNvbFNwYW4gLyAyICk7XG5cdFx0XHRuZXdDZWxsQ29sU3BhbiA9IE1hdGguZmxvb3IoIGNvbFNwYW4gLyAyICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG5ld0NlbGxDb2xTcGFuID0gbmV3Q29sU3BhbiA9IDE7XG5cdFx0XHR2YXIgY2VsbHNJblNhbWVDb2wgPSBjZWxsSW5Db2woIG1hcCwgY29sSW5kZXggKTtcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGNlbGxzSW5TYW1lQ29sLmxlbmd0aDsgaSsrIClcblx0XHRcdFx0Y2VsbHNJblNhbWVDb2xbIGkgXS5jb2xTcGFuKys7XG5cdFx0fVxuXHRcdG5ld0NlbGwgPSBjZWxsLmNsb25lKCk7XG5cdFx0bmV3Q2VsbC5pbnNlcnRBZnRlciggY2VsbCApO1xuXHRcdG5ld0NlbGwuYXBwZW5kQm9ndXMoKTtcblxuXHRcdGNlbGwuJC5jb2xTcGFuID0gbmV3Q29sU3Bhbjtcblx0XHRuZXdDZWxsLiQuY29sU3BhbiA9IG5ld0NlbGxDb2xTcGFuO1xuXHRcdGlmICggbmV3Q29sU3BhbiA9PSAxIClcblx0XHRcdGNlbGwucmVtb3ZlQXR0cmlidXRlKCAnY29sU3BhbicgKTtcblx0XHRpZiAoIG5ld0NlbGxDb2xTcGFuID09IDEgKVxuXHRcdFx0bmV3Q2VsbC5yZW1vdmVBdHRyaWJ1dGUoICdjb2xTcGFuJyApO1xuXG5cdFx0cmV0dXJuIG5ld0NlbGw7XG5cdH1cblxuXHRDS0VESVRPUi5wbHVnaW5zLmFkZCgnYWVfdGFibGV0b29scycsIHtcblx0XHRpbml0OiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0dmFyIGxhbmcgPSBlZGl0b3IubGFuZy50YWJsZTtcblxuXHRcdFx0ZnVuY3Rpb24gY3JlYXRlRGVmKCBkZWYgKSB7XG5cdFx0XHRcdHJldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoIGRlZiB8fCB7fSwge1xuXHRcdFx0XHRcdGNvbnRleHRTZW5zaXRpdmU6IDEsXG5cdFx0XHRcdFx0cmVmcmVzaDogZnVuY3Rpb24oIGVkaXRvciwgcGF0aCApIHtcblx0XHRcdFx0XHRcdHRoaXMuc2V0U3RhdGUoIHBhdGguY29udGFpbnMoIHsgdGQ6IDEsIHRoOiAxIH0sIDEgKSA/IENLRURJVE9SLlRSSVNUQVRFX09GRiA6IENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRmdW5jdGlvbiBhZGRDbWQoIG5hbWUsIGRlZiApIHtcblx0XHRcdFx0dmFyIGNtZCA9IGVkaXRvci5nZXRDb21tYW5kKG5hbWUpO1xuXG5cdFx0XHRcdGlmIChjbWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjbWQgPSBlZGl0b3IuYWRkQ29tbWFuZChuYW1lLCBkZWYpO1xuXHRcdFx0XHRlZGl0b3IuYWRkRmVhdHVyZShjbWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRhZGRDbWQoICdyb3dEZWxldGUnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoIGRlbGV0ZVJvd3MoIHNlbGVjdGlvbiApICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdyb3dJbnNlcnRCZWZvcmUnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0aW5zZXJ0Um93KCBzZWxlY3Rpb24sIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ3Jvd0luc2VydEFmdGVyJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGluc2VydFJvdyggc2VsZWN0aW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjb2x1bW5EZWxldGUnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0dmFyIGVsZW1lbnQgPSBkZWxldGVDb2x1bW5zKCBzZWxlY3Rpb24gKTtcblx0XHRcdFx0XHRlbGVtZW50ICYmIHBsYWNlQ3Vyc29ySW5DZWxsKCBlbGVtZW50LCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjb2x1bW5JbnNlcnRCZWZvcmUnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0aW5zZXJ0Q29sdW1uKCBzZWxlY3Rpb24sIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NvbHVtbkluc2VydEFmdGVyJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGluc2VydENvbHVtbiggc2VsZWN0aW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjZWxsRGVsZXRlJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGRlbGV0ZUNlbGxzKCBzZWxlY3Rpb24gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NlbGxNZXJnZScsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW2NvbHNwYW4scm93c3Bhbl0nLFxuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0ZFtjb2xzcGFuLHJvd3NwYW5dJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHRwbGFjZUN1cnNvckluQ2VsbCggbWVyZ2VDZWxscyggZWRpdG9yLmdldFNlbGVjdGlvbigpICksIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NlbGxNZXJnZVJpZ2h0JywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdGFsbG93ZWRDb250ZW50OiAndGRbY29sc3Bhbl0nLFxuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0ZFtjb2xzcGFuXScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoIG1lcmdlQ2VsbHMoIGVkaXRvci5nZXRTZWxlY3Rpb24oKSwgJ3JpZ2h0JyApLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjZWxsTWVyZ2VEb3duJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdGFsbG93ZWRDb250ZW50OiAndGRbcm93c3Bhbl0nLFxuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0ZFtyb3dzcGFuXScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoIG1lcmdlQ2VsbHMoIGVkaXRvci5nZXRTZWxlY3Rpb24oKSwgJ2Rvd24nICksIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NlbGxWZXJ0aWNhbFNwbGl0JywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdGFsbG93ZWRDb250ZW50OiAndGRbcm93c3Bhbl0nLFxuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0ZFtyb3dzcGFuXScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoIHZlcnRpY2FsU3BsaXRDZWxsKCBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAnY2VsbEhvcml6b250YWxTcGxpdCcsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW2NvbHNwYW5dJyxcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGRbY29sc3Bhbl0nLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKCBob3Jpem9udGFsU3BsaXRDZWxsKCBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkgKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAnY2VsbEluc2VydEJlZm9yZScsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0YWJsZScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRpbnNlcnRDZWxsKCBzZWxlY3Rpb24sIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NlbGxJbnNlcnRBZnRlcicsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0YWJsZScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRpbnNlcnRDZWxsKCBzZWxlY3Rpb24gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cdFx0fSxcblxuXHRcdGdldFNlbGVjdGVkQ2VsbHM6IGdldFNlbGVjdGVkQ2VsbHNcblxuXHR9KTtcbn0gKSgpO1xuXG4vKipcbiAqIENyZWF0ZSBhIHR3by1kaW1lbnNpb24gYXJyYXkgdGhhdCByZWZsZWN0cyB0aGUgYWN0dWFsIGxheW91dCBvZiB0YWJsZSBjZWxscyxcbiAqIHdpdGggY2VsbCBzcGFucywgd2l0aCBtYXBwaW5ncyB0byB0aGUgb3JpZ2luYWwgdGQgZWxlbWVudHMuXG4gKlxuICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gdGFibGVcbiAqIEBtZW1iZXIgQ0tFRElUT1IudG9vbHNcbiAqL1xuQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCA9IGZ1bmN0aW9uKCB0YWJsZSApIHtcblx0dmFyIGFSb3dzID0gdGFibGUuJC5yb3dzO1xuXG5cdC8vIFJvdyBhbmQgQ29sdW1uIGNvdW50ZXJzLlxuXHR2YXIgciA9IC0xO1xuXG5cdHZhciBhTWFwID0gW107XG5cblx0Zm9yICggdmFyIGkgPSAwOyBpIDwgYVJvd3MubGVuZ3RoOyBpKysgKSB7XG5cdFx0cisrO1xuXHRcdCFhTWFwWyByIF0gJiYgKCBhTWFwWyByIF0gPSBbXSApO1xuXG5cdFx0dmFyIGMgPSAtMTtcblxuXHRcdGZvciAoIHZhciBqID0gMDsgaiA8IGFSb3dzWyBpIF0uY2VsbHMubGVuZ3RoOyBqKysgKSB7XG5cdFx0XHR2YXIgb0NlbGwgPSBhUm93c1sgaSBdLmNlbGxzWyBqIF07XG5cblx0XHRcdGMrKztcblx0XHRcdHdoaWxlICggYU1hcFsgciBdWyBjIF0gKVxuXHRcdFx0XHRjKys7XG5cblx0XHRcdHZhciBpQ29sU3BhbiA9IGlzTmFOKCBvQ2VsbC5jb2xTcGFuICkgPyAxIDogb0NlbGwuY29sU3Bhbjtcblx0XHRcdHZhciBpUm93U3BhbiA9IGlzTmFOKCBvQ2VsbC5yb3dTcGFuICkgPyAxIDogb0NlbGwucm93U3BhbjtcblxuXHRcdFx0Zm9yICggdmFyIHJzID0gMDsgcnMgPCBpUm93U3BhbjsgcnMrKyApIHtcblx0XHRcdFx0aWYgKCAhYU1hcFsgciArIHJzIF0gKVxuXHRcdFx0XHRcdGFNYXBbIHIgKyBycyBdID0gW107XG5cblx0XHRcdFx0Zm9yICggdmFyIGNzID0gMDsgY3MgPCBpQ29sU3BhbjsgY3MrKyApIHtcblx0XHRcdFx0XHRhTWFwWyByICsgcnMgXVsgYyArIGNzIF0gPSBhUm93c1sgaSBdLmNlbGxzWyBqIF07XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YyArPSBpQ29sU3BhbiAtIDE7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhTWFwO1xufTtcbiIsInZhciB0YWJsZVNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnYWUtYXJyb3ctYm94IGFlLWFycm93LWJveC1ib3R0b20nO1xufTtcblxuY29uc3QgU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzID0ge1xuICAgIHRhYmxlOiB0YWJsZVNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3Nlc1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzOyIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vLyBEZWZhdWx0IGd1dHRlciB2YWx1ZSBmb3IgdG9vbGJhciBwb3NpdGlvbmluZ1xudmFyIERFRkFVTFRfR1VUVEVSID0ge1xuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiAwXG59O1xuXG4vKipcbiAqIENlbnRlcnMgYSBUb29sYmFyIGFjY29yZGluZyB0byBnaXZlbiByZWN0YW5nbGVcbiAqXG4gKiBAbWV0aG9kIGNlbnRlclRvb2xiYXJcbiAqIEBwYXJhbSB7T2JqZWN0fSB0b29sYmFyIFRoZSB0b29sYmFyIHRvIGJlIGNlbnRlcmVkXG4gKiBAcGFyYW0ge09iamVjdH0gcmVjdCBUaGUgcmVjdGFuZ2xlIGFjY29yZGluZyB0byB3aGljaCB0aGUgVG9vbGJhciB3aWxsIGJlIGNlbnRlcmVkXG4gKi9cbnZhciBjZW50ZXJUb29sYmFyID0gZnVuY3Rpb24odG9vbGJhciwgcmVjdCkge1xuICAgICAgICB2YXIgdG9vbGJhck5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0b29sYmFyKTtcblxuICAgICAgICB2YXIgbmF0aXZlRWRpdG9yID0gdG9vbGJhci5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIHVpTm9kZSA9IG5hdGl2ZUVkaXRvci5jb25maWcudWlOb2RlIHx8IGRvY3VtZW50LmJvZHk7XG4gICAgICAgIHZhciB1aU5vZGVTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUodWlOb2RlKTtcbiAgICAgICAgdmFyIHVpTm9kZU1hcmdpbkxlZnQgPSBwYXJzZUludCh1aU5vZGVTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpLCAxMCk7XG4gICAgICAgIHZhciB1aU5vZGVNYXJnaW5SaWdodCA9IHBhcnNlSW50KHVpTm9kZVN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1yaWdodCcpLCAxMCk7XG4gICAgICAgIHZhciB0b3RhbFdpZHRoID0gdWlOb2RlTWFyZ2luTGVmdCArIHVpTm9kZS5jbGllbnRXaWR0aCArIHVpTm9kZU1hcmdpblJpZ2h0O1xuXG4gICAgICAgIHZhciBoYWxmTm9kZVdpZHRoID0gdG9vbGJhck5vZGUub2Zmc2V0V2lkdGggLyAyO1xuICAgICAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh3aW5kb3cpLmdldFNjcm9sbFBvc2l0aW9uKCk7XG5cbiAgICAgICAgdmFyIGd1dHRlciA9IHRvb2xiYXIucHJvcHMuZ3V0dGVyIHx8IERFRkFVTFRfR1VUVEVSO1xuXG4gICAgICAgIHZhciB3aWRnZXRYWSA9IHRvb2xiYXIuZ2V0V2lkZ2V0WFlQb2ludChyZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIHNjcm9sbFBvc2l0aW9uLngsIHJlY3QudG9wICsgc2Nyb2xsUG9zaXRpb24ueSwgQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1ApO1xuXG4gICAgICAgIHZhciBlbmRQb3NpdGlvbiA9IFtcbiAgICAgICAgICByZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIGhhbGZOb2RlV2lkdGggLSBzY3JvbGxQb3NpdGlvbi54LFxuICAgICAgICAgIHJlY3QudG9wIC0gdG9vbGJhck5vZGUub2Zmc2V0SGVpZ2h0ICsgc2Nyb2xsUG9zaXRpb24ueSAtIGd1dHRlci50b3BcbiAgICAgICAgXTtcblxuICAgICAgICBpZiAoZW5kUG9zaXRpb25bMF0gPCAwKSB7XG4gICAgICAgICAgICBlbmRQb3NpdGlvblswXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW5kUG9zaXRpb25bMF0gPiB0b3RhbFdpZHRoIC0gdG9vbGJhck5vZGUub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgICAgIGVuZFBvc2l0aW9uWzBdID0gdG90YWxXaWR0aCAtIHRvb2xiYXJOb2RlLm9mZnNldFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9vbGJhci5tb3ZlVG9Qb2ludCh3aWRnZXRYWSwgZW5kUG9zaXRpb24pO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiBhIHRvb2xiYXIgYWNjb3JkaW5nIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsZWN0ZWQgaW1hZ2VcbiAqXG4gKiBAbWV0aG9kIGltYWdlU2VsZWN0aW9uU2V0UG9zaXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIFBheWxvYWQsIHNob3VsZCBjb250YWluIHRoZSBzZWxlY3Rpb24gZGF0YSBmb3IgcmV0cmlldmluZyB0aGVcbiAqIGNsaWVudCByZWN0YW5nbGUgb2YgdGhlIHNlbGVjdGVkIGltYWdlXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlLCBpbiBhbGwgY2FzZXNcbiAqL1xudmFyIGltYWdlU2VsZWN0aW9uU2V0UG9zaXRpb24gPSBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgICAgIHZhciBzZWxlY3Rpb25EYXRhID0gcGF5bG9hZC5zZWxlY3Rpb25EYXRhID8gcGF5bG9hZC5zZWxlY3Rpb25EYXRhIDogcGF5bG9hZC5lZGl0b3JFdmVudCA/XG4gICAgICAgICAgICBwYXlsb2FkLmVkaXRvckV2ZW50LmRhdGEuc2VsZWN0aW9uRGF0YSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbkRhdGEgJiYgc2VsZWN0aW9uRGF0YS5lbGVtZW50KSB7XG4gICAgICAgICAgICBjZW50ZXJUb29sYmFyKHRoaXMsIHNlbGVjdGlvbkRhdGEuZWxlbWVudC5nZXRDbGllbnRSZWN0KCkpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiBhIHRvb2xiYXIgYWNjb3JkaW5nIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsZWN0ZWQgaW1hZ2VcbiAqXG4gKiBAbWV0aG9kIHRhYmxlU2VsZWN0aW9uU2V0UG9zaXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIE9iamVjdCwgd2hpY2ggY29udGFpbnMgdGhlIHNlbGVjdGlvbiBkYXRhIGZvciByZXRyaWV2aW5nIHRoZVxuICogY2xpZW50IHJlY3RhbmdsZSBvZiB0aGUgc2VsZWN0ZWQgdGFibGVcbiAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUsIGluIGFsbCBjYXNlc1xuICovXG52YXIgdGFibGVTZWxlY3Rpb25TZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUVkaXRvciA9IHBheWxvYWQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG4gICAgICAgIHZhciB1aU5vZGUgPSBuYXRpdmVFZGl0b3IuY29uZmlnLnVpTm9kZTtcblxuICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdWlOb2RlID8gdWlOb2RlLnNjcm9sbFRvcCA6IDA7XG5cbiAgICAgICAgdmFyIHRhYmxlID0gbmV3IENLRURJVE9SLlRhYmxlKG5hdGl2ZUVkaXRvcikuZ2V0RnJvbVNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgcmVjdCA9IHRhYmxlLmdldENsaWVudFJlY3QoKTtcbiAgICAgICAgcmVjdC50b3AgKz0gc2Nyb2xsVG9wO1xuXG4gICAgICAgIGNlbnRlclRvb2xiYXIodGhpcywgcmVjdCk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBTZWxlY3Rpb25TZXRQb3NpdGlvbiA9IHtcbiAgICBpbWFnZTogaW1hZ2VTZWxlY3Rpb25TZXRQb3NpdGlvbixcbiAgICB0YWJsZTogdGFibGVTZWxlY3Rpb25TZXRQb3NpdGlvblxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uU2V0UG9zaXRpb247IiwidmFyIF9pc1JhbmdlQXRFbGVtZW50RW5kID0gZnVuY3Rpb24ocmFuZ2UsIGVsZW1lbnQpIHtcbiAgICAvLyBGaW5kaW5nIGlmIGEgcmFuZ2UgaXMgYXQgdGhlIGVuZCBvZiBhbiBlbGVtZW50IGlzIHNvbWV3aGF0IHRyaWNreSBkdWUgdG8gaG93IENLRWRpdG9yIGhhbmRsZXNcbiAgICAvLyByYW5nZXMuIEl0IG1pZ2h0IGRlcGVuZCBvbiB3ZXRoZXIgYSBzb3VyY2Ugbm9kZSBpbnNpZGUgdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQgb3Igbm90LiBGb3Igbm93LFxuICAgIC8vIHdlIG5lZWQgdG8gY292ZXIgdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgICAvL1xuICAgIC8vIC0gVGhlIHRleHQgbGVuZ3RoIG9mIHRoZSBlbGVtZW50IGlzIHRoZSBzYW1lIGFzIHRoZSBlbmRPZmZzZXQgb2YgdGhlIHJhbmdlXG4gICAgLy8gLSBCb3RoIHN0YXJ0IGFuZCBlbmQgY29udGFpbmVycyBtYXRjaCB0aGUgZWxlbWVudCBhbmQgdGhlIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cyBhcmUgMVxuXG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0VGV4dCgpLmxlbmd0aCA9PT0gcmFuZ2UuZW5kT2Zmc2V0IHx8XG4gICAgICAgIChcbiAgICAgICAgICAgIGVsZW1lbnQuZXF1YWxzKHJhbmdlLnN0YXJ0Q29udGFpbmVyKSAmJlxuICAgICAgICAgICAgZWxlbWVudC5lcXVhbHMocmFuZ2UuZW5kQ29udGFpbmVyKSAmJlxuICAgICAgICAgICAgcmFuZ2Uuc3RhcnRPZmZzZXQgPT09IHJhbmdlLmVuZE9mZnNldCAmJlxuICAgICAgICAgICAgcmFuZ2UuZW5kT2Zmc2V0ID09PSAxXG4gICAgICAgICk7XG59O1xuXG52YXIgZW1iZWRTZWxlY3Rpb25UZXN0ID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgICAgICB2YXIgc2VsZWN0aW9uRGF0YSA9IHBheWxvYWQuZGF0YS5zZWxlY3Rpb25EYXRhO1xuXG4gICAgICAgIHJldHVybiAhIShcbiAgICAgICAgICAgIHNlbGVjdGlvbkRhdGEuZWxlbWVudCAmJlxuICAgICAgICAgICAgc2VsZWN0aW9uRGF0YS5lbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS13aWRnZXQnKSA9PT0gJ2FlX2VtYmVkJ1xuICAgICAgICApO1xufTtcblxudmFyIGxpbmtTZWxlY3Rpb25UZXN0ID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIHZhciBuYXRpdmVFZGl0b3IgPSBwYXlsb2FkLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgIHZhciByYW5nZSA9IG5hdGl2ZUVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcblxuICAgIHZhciBlbGVtZW50O1xuXG4gICAgcmV0dXJuICEhKFxuICAgICAgICBuYXRpdmVFZGl0b3IuaXNTZWxlY3Rpb25FbXB0eSgpICYmXG4gICAgICAgIChlbGVtZW50ID0gKG5ldyBDS0VESVRPUi5MaW5rKG5hdGl2ZUVkaXRvcikpLmdldEZyb21TZWxlY3Rpb24oKSkgJiZcbiAgICAgICAgZWxlbWVudC5nZXRUZXh0KCkubGVuZ3RoICE9PSByYW5nZS5lbmRPZmZzZXQgJiZcbiAgICAgICAgIWVsZW1lbnQuaXNSZWFkT25seSgpICYmXG4gICAgICAgICFfaXNSYW5nZUF0RWxlbWVudEVuZChyYW5nZSwgZWxlbWVudClcbiAgICApO1xufTtcblxudmFyIGltYWdlU2VsZWN0aW9uVGVzdCA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICB2YXIgc2VsZWN0aW9uRGF0YSA9IHBheWxvYWQuZGF0YS5zZWxlY3Rpb25EYXRhO1xuXG4gICAgcmV0dXJuICEhKFxuICAgICAgICBzZWxlY3Rpb25EYXRhLmVsZW1lbnQgJiZcbiAgICAgICAgc2VsZWN0aW9uRGF0YS5lbGVtZW50LmdldE5hbWUoKSA9PT0gJ2ltZycgJiZcbiAgICAgICAgIXNlbGVjdGlvbkRhdGEuZWxlbWVudC5pc1JlYWRPbmx5KClcbiAgICApO1xufTtcblxudmFyIHRleHRTZWxlY3Rpb25UZXN0ID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIHZhciBuYXRpdmVFZGl0b3IgPSBwYXlsb2FkLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgdmFyIHNlbGVjdGlvbkVtcHR5ID0gbmF0aXZlRWRpdG9yLmlzU2VsZWN0aW9uRW1wdHkoKTtcblxuICAgIHZhciBzZWxlY3Rpb25EYXRhID0gcGF5bG9hZC5kYXRhLnNlbGVjdGlvbkRhdGE7XG5cbiAgICByZXR1cm4gISEoXG4gICAgICAgICFzZWxlY3Rpb25EYXRhLmVsZW1lbnQgJiZcbiAgICAgICAgc2VsZWN0aW9uRGF0YS5yZWdpb24gJiZcbiAgICAgICAgIXNlbGVjdGlvbkVtcHR5ICYmXG4gICAgICAgICFuYXRpdmVFZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0Q29tbW9uQW5jZXN0b3IoKS5pc1JlYWRPbmx5KClcbiAgICApO1xufTtcblxudmFyIHRhYmxlU2VsZWN0aW9uVGVzdCA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICB2YXIgbmF0aXZlRWRpdG9yID0gcGF5bG9hZC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgIHZhciB0YWJsZSA9IG5ldyBDS0VESVRPUi5UYWJsZShuYXRpdmVFZGl0b3IpO1xuICAgIHZhciBlbGVtZW50ID0gdGFibGUuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG4gICAgcmV0dXJuICEhKGVsZW1lbnQgJiYgdGFibGUuaXNFZGl0YWJsZShlbGVtZW50KSk7XG59O1xuXG5jb25zdCBTZWxlY3Rpb25UZXN0ID0ge1xuICAgIGVtYmVkOiBlbWJlZFNlbGVjdGlvblRlc3QsXG4gICAgaW1hZ2U6IGltYWdlU2VsZWN0aW9uVGVzdCxcbiAgICBsaW5rOiBsaW5rU2VsZWN0aW9uVGVzdCxcbiAgICB0YWJsZTogdGFibGVTZWxlY3Rpb25UZXN0LFxuICAgIHRleHQ6IHRleHRTZWxlY3Rpb25UZXN0XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3Rpb25UZXN0OyIsImltcG9ydCBTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMgZnJvbSAnLi9zZWxlY3Rpb24tYXJyb3dib3guanMnO1xuaW1wb3J0IFNlbGVjdGlvblNldFBvc2l0aW9uIGZyb20gJy4vc2VsZWN0aW9uLXBvc2l0aW9uLmpzJztcbmltcG9ydCBTZWxlY3Rpb25UZXN0IGZyb20gJy4vc2VsZWN0aW9uLXRlc3QuanMnO1xuXG5jb25zdCBTZWxlY3Rpb25zID0gW3tcbiAgICBuYW1lOiAnZW1iZWQnLFxuICAgIGJ1dHRvbnM6IFsnZW1iZWRSZW1vdmUnLCdlbWJlZEVkaXQnXSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0LmVtYmVkXG59LCB7XG4gICAgbmFtZTogJ2xpbmsnLFxuICAgIGJ1dHRvbnM6IFsnbGlua0VkaXQnXSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0Lmxpbmtcbn0sIHtcbiAgICBuYW1lOiAnaW1hZ2UnLFxuICAgIGJ1dHRvbnM6IFsnaW1hZ2VMZWZ0JywgJ2ltYWdlQ2VudGVyJywgJ2ltYWdlUmlnaHQnXSxcbiAgICBzZXRQb3NpdGlvbjogU2VsZWN0aW9uU2V0UG9zaXRpb24uaW1hZ2UsXG4gICAgdGVzdDogU2VsZWN0aW9uVGVzdC5pbWFnZVxufSwge1xuICAgIG5hbWU6ICd0ZXh0JyxcbiAgICBidXR0b25zOiB7XG4gICAgICAgIGZ1bGw6IFtcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnRm9udCcsICdGb250U2l6ZScsICdzZXBhcmF0b3InLCAnYm9sZCcsICdpdGFsaWMnLFxuICAgICAgICAgICAgICAgICd1bmRlcmxpbmUnLCAnc3RyaWtlJywgJ3NlcGFyYXRvcicsICdsaW5rJ1xuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAncGFyYWdyYXBoQWxpZ24nLCAnc2VwYXJhdG9yJywgJ3VsJywgJ29sJywgJ3NlcGFyYXRvcicsICdoMScsICdoMicsXG4gICAgICAgICAgICAgICAgJ3NlcGFyYXRvcicsICdpbmRlbnRCbG9jaycsICdvdXRkZW50QmxvY2snLCAnc2VwYXJhdG9yJyxcbiAgICAgICAgICAgICAgICAnVGV4dENvbG9yJywgJ0JHQ29sb3InLCAnc2VwYXJhdG9yJywgJ2NvZGUnLCAncXVvdGUnLCAnc2VwYXJhdG9yJywgJ3JlbW92ZUZvcm1hdCdcbiAgICAgICAgICAgIF1cbiAgICAgICAgXSxcbiAgICAgICAgc2ltcGxlOiBbJ3N0eWxlcycsICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnbGluayddXG4gICAgfSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0LnRleHRcbn0sIHtcbiAgICBuYW1lOiAndGFibGUnLFxuICAgIGJ1dHRvbnM6IFsndGFibGVIZWFkaW5nJywgJ3RhYmxlUm93JywgJ3RhYmxlQ29sdW1uJywgJ3RhYmxlQ2VsbCcsICd0YWJsZVJlbW92ZSddLFxuICAgIGdldEFycm93Qm94Q2xhc3NlczogU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzLnRhYmxlLFxuICAgIHNldFBvc2l0aW9uOiBTZWxlY3Rpb25TZXRQb3NpdGlvbi50YWJsZSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0LnRhYmxlXG59XTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uczsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfZG9tX187Il0sInNvdXJjZVJvb3QiOiIifQ==