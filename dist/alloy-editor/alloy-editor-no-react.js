<<<<<<< HEAD
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("react"), require("react-dom"));
	else if(typeof define === 'function' && define.amd)
		define(["react", "react-dom"], factory);
	else if(typeof exports === 'object')
		exports["AlloyEditor"] = factory(require("react"), require("react-dom"));
	else
		root["AlloyEditor"] = factory(root["React"], root["ReactDOM"]);
})(window, function(__WEBPACK_EXTERNAL_MODULE_react__, __WEBPACK_EXTERNAL_MODULE_react_dom__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./scripts/build/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/ckeditor/ckeditor.js":
/*!**********************************!*\
  !*** ./lib/ckeditor/ckeditor.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

ï»¿/*
Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
*/
(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,d={timestamp:"H8DA",version:"4.7.3",revision:"dee99e2",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:"unloaded",basePath:function(){var b=window.CKEDITOR_BASEPATH||"";if(!b)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var k=c[d].src.match(a);if(k){b=k[1];break}}-1==b.indexOf(":/")&&"//"!=b.slice(0,2)&&(b=0===b.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+
=======
/**
 * AlloyEditor v1.5.10
 *
 * Copyright 2014-present, Liferay, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the GNU LGPL-style license found in the
 * LICENSE file in the root directory of this source tree.
 */

(function() {
    function deployCKEditor() {
        /*
Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
*/
(function(){if(window.CKEDITOR&&window.CKEDITOR.dom)return;window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\/])alloy-editor-no-react\.js(?:\?.*|;.*)?$/i,d={timestamp:"H8DA",version:"4.7.3",revision:"dee99e2",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:"unloaded",basePath:function(){var b=window.CKEDITOR_BASEPATH||"";if(!b)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var k=c[d].src.match(a);if(k){b=k[1];break}}-1==b.indexOf(":/")&&"//"!=b.slice(0,2)&&(b=0===b.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+
<<<<<<< HEAD
>>>>>>> cad4c7a0... Build files (auto-generated)
=======
>>>>>>> caf17dec5790097eb405b57e816e3bfb5c7c1034
b:location.href.match(/^[^\?]*\/(?:)/)[0]+b);if(!b)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return b}(),getUrl:function(a){-1==a.indexOf(":/")&&0!==a.indexOf("/")&&(a=this.basePath+a);this.timestamp&&"/"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&(a+=(0<=a.indexOf("?")?"\x26":"?")+"t\x3d"+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",
a,!1),b()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",a),b())}catch(c){}}function b(){for(var a;a=c.shift();)a()}var c=[];return function(b){function n(){try{document.documentElement.doScroll("left")}catch(f){setTimeout(n,1);return}a()}c.push(b);"complete"===document.readyState&&setTimeout(a,1);if(1==c.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",
a);window.attachEvent("onload",a);b=!1;try{b=!window.frameElement}catch(q){}document.documentElement.doScroll&&b&&n()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=d.getUrl;d.getUrl=function(a){return b.call(d,a)||c.call(d,a)}}return d}());
CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(a){var d=CKEDITOR.event.prototype,b;for(b in d)null==a[b]&&(a[b]=d[b])},CKEDITOR.event.prototype=function(){function a(a){var e=d(this);return e[a]||(e[a]=new b(a))}var d=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,d=this.listeners;b<d.length;b++)if(d[b].fn==a)return b;return-1}};
return{define:function(b,d){var g=a.call(this,b);CKEDITOR.tools.extend(g,d,!0)},on:function(b,d,g,h,k){function n(a,f,D,k){a={name:b,sender:this,editor:a,data:f,listenerData:h,stop:D,cancel:k,removeListener:q};return!1===d.call(g,a)?!1:a.data}function q(){D.removeListener(b,d)}var f=a.call(this,b);if(0>f.getListenerIndex(d)){f=f.listeners;g||(g=this);isNaN(k)&&(k=10);var D=this;n.fn=d;n.priority=k;for(var w=f.length-1;0<=w;w--)if(f[w].priority<=k)return f.splice(w+1,0,n),{removeListener:q};f.unshift(n)}return{removeListener:q}},
once:function(){var a=Array.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},g=0,h=function(){g=1};return function(k,n,q){var f=d(this)[k];k=a;var D=g;a=g=0;if(f){var w=f.listeners;if(w.length)for(var w=w.slice(0),A,G=0;G<w.length;G++){if(f.errorProof)try{A=
w[G].call(this,q,n,b,h)}catch(x){}else A=w[G].call(this,q,n,b,h);!1===A?g=1:"undefined"!=typeof A&&(n=A);if(a||g)break}}n=g?!1:"undefined"==typeof n?!0:n;a=k;g=D;return n}}(),fireOnce:function(a,b,g){b=this.fire(a,b,g);delete d(this)[a];return b},removeListener:function(a,b){var g=d(this)[a];if(g){var h=g.getListenerIndex(b);0<=h&&g.listeners.splice(h,1)}},removeAllListeners:function(){var a=d(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=d(this)[a])&&0<a.listeners.length}}}());
CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,d){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,d,this)},CKEDITOR.editor.prototype.fireOnce=function(a,d){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,d,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype));
CKEDITOR.env||(CKEDITOR.env=function(){var a=navigator.userAgent.toLowerCase(),d=a.match(/edge[ \/](\d+.?\d*)/),b=-1<a.indexOf("trident/"),b=!(!d&&!b),b={ie:b,edge:!!d,webkit:!b&&-1<a.indexOf(" applewebkit/"),air:-1<a.indexOf(" adobeair/"),mac:-1<a.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;
return a!=b&&a!="["+b+"]"},secure:"https:"==location.protocol};b.gecko="Gecko"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf("chrome")?b.chrome=!0:b.safari=!0);var c=0;b.ie&&(c=d?parseFloat(d[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(d=a.match(/rv:([\d\.]+)/))&&(d=d[1].split("."),c=1E4*d[0]+100*(d[1]||0)+1*(d[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\/(\d+)/)[1]));
b.webkit&&(c=parseFloat(a.match(/ applewebkit\/(\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass="cke_browser_"+(b.ie?"ie":b.gecko?"gecko":b.webkit?"webkit":"unknown");b.quirks&&(b.cssClass+=" cke_browser_quirks");b.ie&&(b.cssClass+=" cke_browser_ie"+(b.quirks?"6 cke_browser_iequirks":b.version));b.air&&(b.cssClass+=" cke_browser_air");
b.iOS&&(b.cssClass+=" cke_browser_ios");b.hidpi&&(b.cssClass+=" cke_hidpi");return b}());
"unloaded"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement("script");a.type="text/javascript";a.src=CKEDITOR.basePath+"ckeditor.js";document.getElementsByTagName("head")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=function(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=
CKEDITOR.loadFullCore,d=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status="basic_ready",a&&a._load?a():d&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*d))})})();CKEDITOR.status="basic_loaded"}();"use strict";CKEDITOR.VERBOSITY_WARN=1;CKEDITOR.VERBOSITY_ERROR=2;CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR;CKEDITOR.warn=function(a,d){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:a,additionalData:d})};
CKEDITOR.error=function(a,d){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:a,additionalData:d})};
CKEDITOR.on("log",function(a){if(window.console&&window.console.log){var d=console[a.data.type]?a.data.type:"log",b=a.data.errorCode;if(a=a.data.additionalData)console[d]("[CKEDITOR] Error code: "+b+".",a);else console[d]("[CKEDITOR] Error code: "+b+".");console[d]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-"+b)}},null,null,999);CKEDITOR.dom={};
(function(){var a=[],d=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",b=/&/g,c=/>/g,e=/</g,g=/"/g,h=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,k={lt:"\x3c",gt:"\x3e",amp:"\x26",quot:'"',nbsp:"Â ",shy:"Â­"},n=function(a,f){return"#"==f[0]?String.fromCharCode(parseInt(f.slice(1),10)):k[f]};CKEDITOR.on("reset",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,f){if(!a&&!f)return!0;if(!a||!f||a.length!=f.length)return!1;for(var b=0;b<a.length;b++)if(a[b]!=f[b])return!1;
return!0},getIndex:function(a,f){for(var b=0;b<a.length;++b)if(f(a[b]))return b;return-1},clone:function(a){var f;if(a&&a instanceof Array){f=[];for(var b=0;b<a.length;b++)f[b]=CKEDITOR.tools.clone(a[b]);return f}if(null===a||"object"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;f=new a.constructor;for(b in a)f[b]=CKEDITOR.tools.clone(a[b]);return f},capitalize:function(a,f){return a.charAt(0).toUpperCase()+
(f?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var f=arguments.length,b,c;"boolean"==typeof(b=arguments[f-1])?f--:"boolean"==typeof(b=arguments[f-2])&&(c=arguments[f-1],f-=2);for(var k=1;k<f;k++){var d=arguments[k],n;for(n in d)if(!0===b||null==a[n])if(!c||n in c)a[n]=d[n]}return a},prototypedCopy:function(a){var f=function(){};f.prototype=a;return new f},copy:function(a){var f={},b;for(b in a)f[b]=a[b];return f},isArray:function(a){return"[object Array]"==Object.prototype.toString.call(a)},
isEmpty:function(a){for(var f in a)if(a.hasOwnProperty(f))return!1;return!0},cssVendorPrefix:function(a,f,b){if(b)return d+a+":"+f+";"+a+":"+f;b={};b[a]=f;b[d+a]=f;return b},cssStyleToDomStyle:function(){var a=document.createElement("div").style,f="undefined"!=typeof a.cssFloat?"cssFloat":"undefined"!=typeof a.styleFloat?"styleFloat":"float";return function(a){return"float"==a?f:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=[].concat(a);for(var f,
b=[],c=0;c<a.length;c++)if(f=a[c])/@import|[{}]/.test(f)?b.push("\x3cstyle\x3e"+f+"\x3c/style\x3e"):b.push('\x3clink type\x3d"text/css" rel\x3dstylesheet href\x3d"'+f+'"\x3e');return b.join("")},htmlEncode:function(a){return void 0===a||null===a?"":String(a).replace(b,"\x26amp;").replace(c,"\x26gt;").replace(e,"\x26lt;")},htmlDecode:function(a){return a.replace(h,n)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(g,"\x26quot;")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},
transformPlainTextToHtml:function(a,f){var b=f==CKEDITOR.ENTER_BR,c=this.htmlEncode(a.replace(/\r\n/g,"\n")),c=c.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;"),k=f==CKEDITOR.ENTER_P?"p":"div";if(!b){var d=/\n{2}/g;if(d.test(c))var n="\x3c"+k+"\x3e",m="\x3c/"+k+"\x3e",c=n+c.replace(d,function(){return m+n})+m}c=c.replace(/\n/g,"\x3cbr\x3e");b||(c=c.replace(new RegExp("\x3cbr\x3e(?\x3d\x3c/"+k+"\x3e)"),function(a){return CKEDITOR.tools.repeat(a,2)}));c=c.replace(/^ | $/g,"\x26nbsp;");return c=c.replace(/(>|\s) /g,
function(a,f){return f+"\x26nbsp;"}).replace(/ (?=<)/g,"\x26nbsp;")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var a="e",f=0;8>f;f++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,f){var b=f(a);b.prototype=a.prototype;return b},setTimeout:function(a,f,b,c,k){k||(k=window);b||(b=k);return k.setTimeout(function(){c?a.apply(b,[].concat(c)):a.apply(b)},
f||0)},trim:function(){var a=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(f){return f.replace(a,"")}}(),ltrim:function(){var a=/^[ \t\n\r]+/g;return function(f){return f.replace(a,"")}}(),rtrim:function(){var a=/[ \t\n\r]+$/g;return function(f){return f.replace(a,"")}}(),indexOf:function(a,f){if("function"==typeof f)for(var b=0,c=a.length;b<c;b++){if(f(a[b]))return b}else{if(a.indexOf)return a.indexOf(f);b=0;for(c=a.length;b<c;b++)if(a[b]===f)return b}return-1},search:function(a,f){var b=CKEDITOR.tools.indexOf(a,
f);return 0<=b?a[b]:null},bind:function(a,f){return function(){return a.apply(f,arguments)}},createClass:function(a){var f=a.$,b=a.base,c=a.privates||a._,k=a.proto;a=a.statics;!f&&(f=function(){b&&this.base.apply(this,arguments)});if(c)var d=f,f=function(){var a=this._||(this._={}),f;for(f in c){var b=c[f];a[f]="function"==typeof b?CKEDITOR.tools.bind(b,this):b}d.apply(this,arguments)};b&&(f.prototype=this.prototypedCopy(b.prototype),f.prototype.constructor=f,f.base=b,f.baseProto=b.prototype,f.prototype.base=
function(){this.base=b.prototype.base;b.apply(this,arguments);this.base=arguments.callee});k&&this.extend(f.prototype,k,!0);a&&this.extend(f,a,!0);return f},addFunction:function(b,f){return a.push(function(){return b.apply(f||this,arguments)})-1},removeFunction:function(b){a[b]=null},callFunction:function(b){var f=a[b];return f&&f.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\d+\.?\d*px$/,f;return function(b){f=CKEDITOR.tools.trim(b+"")+"px";return a.test(f)?
f:b||""}}(),convertToPx:function(){var a;return function(f){a||(a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"\x3e\x3c/div\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(f)?f:(a.setStyle("width",f),a.$.clientWidth)}}(),repeat:function(a,f){return Array(f+1).join(a)},tryThese:function(){for(var a,f=0,b=arguments.length;f<b;f++){var c=arguments[f];try{a=c();break}catch(k){}}return a},
genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(a){return function(){var f=arguments,b=this;window.setTimeout(function(){a.apply(b,f)},0)}},normalizeCssText:function(a,f){var b=[],c,k=CKEDITOR.tools.parseCssText(a,!0,f);for(c in k)b.push(c+":"+k[c]);b.sort();return b.length?b.join(";")+";":""},convertRgbToHex:function(a){return a.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(a,b,c,k){a=[b,c,k];for(b=0;3>b;b++)a[b]=("0"+parseInt(a[b],10).toString(16)).slice(-2);
return"#"+a.join("")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(a,b,c,k){a=b.toLowerCase();3==a.length&&(a=a.split(""),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(""));return"#"+a+k})},parseCssText:function(a,f,b){var c={};b&&(a=(new CKEDITOR.dom.element("span")).setAttribute("style",a).getAttribute("style")||"");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||";"==a)return c;a.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,
function(a,b,k){f&&(b=b.toLowerCase(),"font-family"==b&&(k=k.replace(/\s*,\s*/g,",")),k=CKEDITOR.tools.trim(k));c[b]=k});return c},writeCssText:function(a,f){var b,c=[];for(b in a)c.push(b+":"+a[b]);f&&c.sort();return c.join("; ")},objectCompare:function(a,f,b){var c;if(!a&&!f)return!0;if(!a||!f)return!1;for(c in a)if(a[c]!=f[c])return!1;if(!b)for(c in f)if(a[c]!=f[c])return!1;return!0},objectKeys:function(a){var f=[],b;for(b in a)f.push(b);return f},convertArrayToObject:function(a,f){var b={};1==
arguments.length&&(f=!0);for(var c=0,k=a.length;c<k;++c)b[a[c]]=f;return b},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;break}catch(f){a=a?a.replace(/.+?(?:\.|$)/,""):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,f,b){function c(){d=(new Date).getTime();k=!1;b?f.call(b):f()}var k,d=0;return{input:function(){if(!k){var f=(new Date).getTime()-d;f<a?k=setTimeout(c,a-f):c()}},reset:function(){k&&clearTimeout(k);k=d=0}}},enableHtml5Elements:function(a,
f){for(var b="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),c=b.length,k;c--;)k=a.createElement(b[c]),f&&a.appendChild(k)},checkIfAnyArrayItemMatches:function(a,f){for(var b=0,c=a.length;b<c;++b)if(a[b].match(f))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,f){for(var b in a)if(b.match(f))return!0;return!1},keystrokeToString:function(a,b){var c=b&16711680,k=
b&65535,d=CKEDITOR.env.mac,n=[],e=[];c&CKEDITOR.CTRL&&(n.push(d?"â":a[17]),e.push(d?a[224]:a[17]));c&CKEDITOR.ALT&&(n.push(d?"â¥":a[18]),e.push(a[18]));c&CKEDITOR.SHIFT&&(n.push(d?"â§":a[16]),e.push(a[16]));k&&(a[k]?(n.push(a[k]),e.push(a[k])):(n.push(String.fromCharCode(k)),e.push(String.fromCharCode(k))));return{display:n.join("+"),aria:e.join("+")}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\x3d\x3d",getCookie:function(a){a=a.toLowerCase();
for(var b=document.cookie.split(";"),c,k,d=0;d<b.length;d++)if(c=b[d].split("\x3d"),k=decodeURIComponent(CKEDITOR.tools.trim(c[0]).toLowerCase()),k===a)return decodeURIComponent(1<c.length?c[1]:"");return null},setCookie:function(a,b){document.cookie=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)+";path\x3d/"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie("ckCsrfToken");if(!a||40!=a.length){var a=[],b="";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);
else for(var c=0;40>c;c++)a.push(Math.floor(256*Math.random()));for(c=0;c<a.length;c++)var k="abcdefghijklmnopqrstuvwxyz0123456789".charAt(a[c]%36),b=b+(.5<Math.random()?k.toUpperCase():k);a=b;CKEDITOR.tools.setCookie("ckCsrfToken",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:"\\3"+a.charAt(0)+" "+a.substring(1,a.length):""},getMouseButton:function(a){var b=(a=a.data)&&a.$;return a&&b?CKEDITOR.env.ie&&9>CKEDITOR.env.version?4===
b.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===b.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:b.button:!1},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",
crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",
dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",
lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",
mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",
red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},
_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(a){var b={},c=this._findColor(a);c.length&&(b.color=c[0],CKEDITOR.tools.array.forEach(c,function(b){a=a.replace(b,"")}));if(a=CKEDITOR.tools.trim(a))b.unprocessed=
a;return b},margin:function(a){function b(a){c.top=k[a[0]];c.right=k[a[1]];c.bottom=k[a[2]];c.left=k[a[3]]}var c={},k=a.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(k.length){case 1:b([0,0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}return c},border:function(a){var b={};a=a.split(/\s+/);CKEDITOR.tools.array.forEach(a,function(a){if(!b.color){var c=CKEDITOR.tools.style.parse._findColor(a);if(c.length){b.color=c[0];return}}b.style||
-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,a)?!b.width&&CKEDITOR.tools.style.parse._widthRegExp.test(a)&&(b.width=a):b.style=a});return b},_findColor:function(a){var b=[],c=CKEDITOR.tools.array,b=b.concat(a.match(this._rgbaRegExp)||[]),b=b.concat(a.match(this._hslaRegExp)||[]);return b=b.concat(c.filter(a.split(/\s+/),function(a){return a.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(a,b,c){var k=
[];this.forEach(a,function(d,n){b.call(c,d,n,a)&&k.push(d)});return k},forEach:function(a,b,c){var k=a.length,d;for(d=0;d<k;d++)b.call(c,a[d],d,a)},map:function(a,b,c){for(var k=[],d=0;d<a.length;d++)k.push(b.call(c,a[d],d,a));return k},reduce:function(a,b,c,k){for(var d=0;d<a.length;d++)c=b.call(k,c,a[d],d,a);return c}},object:{findKey:function(a,b){if("object"!==typeof a)return null;for(var c in a)if(a[c]===b)return c;return null}}};CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=
CKEDITOR.tools.isArray;CKEDITOR.MOUSE_BUTTON_LEFT=0;CKEDITOR.MOUSE_BUTTON_MIDDLE=1;CKEDITOR.MOUSE_BUTTON_RIGHT=2})();
CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,d=function(a,b){for(var c=CKEDITOR.tools.clone(a),k=1;k<arguments.length;k++){b=arguments[k];for(var d in b)delete c[d]}return c},b={},c={},e={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},g={command:1,link:1,meta:1,noscript:1,script:1,style:1},h={},k={"#":1},n={center:1,dir:1,noframes:1};
a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},k,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,e,b,n);d={a:d(b,{a:1,button:1}),abbr:b,address:c,
area:h,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:h,bdi:b,bdo:b,blockquote:c,body:c,br:h,button:d(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:h,colgroup:{col:1},command:h,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,em:b,embed:h,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},g),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:h,html:a({head:1,
body:1},c,g),i:b,iframe:k,img:h,input:h,ins:b,kbd:b,keygen:h,label:b,legend:b,li:c,link:h,main:c,map:c,mark:b,menu:a({li:1},c),meta:h,meter:d(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:k,output:b,p:b,param:h,pre:b,progress:d(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:k,section:c,select:{optgroup:1,option:1},small:b,source:h,span:b,strong:b,style:k,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),
sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:k,tfoot:{tr:1},th:c,thead:{tr:1},time:d(b,{time:1}),title:k,tr:{th:1,td:1},track:h,u:b,ul:{li:1},"var":b,video:a({source:1,track:1},c),wbr:h,acronym:b,applet:a({param:1},c),basefont:h,big:b,center:c,dialog:h,dir:{li:1},font:b,isindex:h,noframes:c,strike:b,tt:b};a(d,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},e,n),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,
fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,
track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},d.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,
s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return d}();
CKEDITOR.dom.event=function(a){this.$=a};
CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var d=this.$;d.preventDefault?d.preventDefault():d.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=
this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||this.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}};CKEDITOR.CTRL=1114112;CKEDITOR.SHIFT=2228224;CKEDITOR.ALT=4456448;CKEDITOR.EVENT_PHASE_CAPTURING=1;CKEDITOR.EVENT_PHASE_AT_TARGET=2;
CKEDITOR.EVENT_PHASE_BUBBLING=3;CKEDITOR.dom.domObject=function(a){a&&(this.$=a)};
CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){"undefined"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData("_"))||this.setCustomData("_",a={});return a},on:function(d){var b=this.getCustomData("_cke_nativeListeners");b||(b={},this.setCustomData("_cke_nativeListeners",b));b[d]||(b=b[d]=a(this,d),this.$.addEventListener?this.$.addEventListener(d,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+
d,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData("_cke_nativeListeners"),c=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent("on"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData("_cke_nativeListeners"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent("on"+
b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}();
(function(a){var d={};CKEDITOR.on("reset",function(){d={}});a.equals=function(a){try{return a&&a.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var e=this.getUniqueId();(d[e]||(d[e]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$["data-cke-expando"];return(c=c&&d[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$["data-cke-expando"],c=c&&d[c],e,g;c&&(e=c[a],g=a in c,delete c[a]);return g?e:null};a.clearCustomData=function(){this.removeAllListeners();var a=
this.$["data-cke-expando"];a&&delete d[a]};a.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)})(CKEDITOR.dom.domObject.prototype);
CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?"document":a.nodeType==CKEDITOR.NODE_ELEMENT?"element":a.nodeType==CKEDITOR.NODE_TEXT?"text":a.nodeType==CKEDITOR.NODE_COMMENT?"comment":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](a):this};CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject;CKEDITOR.NODE_ELEMENT=1;CKEDITOR.NODE_DOCUMENT=9;CKEDITOR.NODE_TEXT=3;CKEDITOR.NODE_COMMENT=8;CKEDITOR.NODE_DOCUMENT_FRAGMENT=11;
CKEDITOR.POSITION_IDENTICAL=0;CKEDITOR.POSITION_DISCONNECTED=1;CKEDITOR.POSITION_FOLLOWING=2;CKEDITOR.POSITION_PRECEDING=4;CKEDITOR.POSITION_IS_CONTAINED=8;CKEDITOR.POSITION_CONTAINS=16;
CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,d){a.append(this,d);return a},clone:function(a,d){function b(c){c["data-cke-expando"]&&(c["data-cke-expando"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||c.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(d||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute("id",!1),a){c=c.childNodes;for(var e=0;e<c.length;e++)b(c[e])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=
b.getName();":"==d[0]&&b.renameNode(d.substring(1))}if(a)for(d=0;d<b.getChildCount();d++)c(b.getChild(d))}}var e=this.$.cloneNode(a);b(e);e=new CKEDITOR.dom.node(e);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(e);return e},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,
a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var d=[],b=this.getDocument().$.documentElement,c=this.$;c&&c!=b;){var e=c.parentNode;e&&d.unshift(this.getIndex.call({$:c},a));c=e}return d},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function d(a,c){var n=c?a.nextSibling:a.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?b(n)?d(n,
c):n:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var c=this.$,e=-1,g;if(!this.$.parentNode||a&&c.nodeType==CKEDITOR.NODE_TEXT&&b(c)&&!d(c)&&!d(c,!0))return-1;do a&&c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(g||b(c))||(e++,g=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return e},getNextSourceNode:function(a,d,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var e;if(!a){if(this.type==
CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getNext()}return!a||b&&!1===b(a)?null:d&&d!=a.type?a.getNextSourceNode(!1,d,b):a},getPreviousSourceNode:function(a,d,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===
b(e,!0))return null;a=e.getPrevious()}return!a||b&&!1===b(a)?null:d&&a.type!=d?a.getPreviousSourceNode(!1,d,b):a},getPrevious:function(a){var d=this.$,b;do b=(d=d.previousSibling)&&10!=d.nodeType&&new CKEDITOR.dom.node(d);while(b&&a&&!a(b));return b},getNext:function(a){var d=this.$,b;do b=(d=d.nextSibling)&&new CKEDITOR.dom.node(d);while(b&&a&&!a(b));return b},getParent:function(a){var d=this.$.parentNode;return d&&(d.nodeType==CKEDITOR.NODE_ELEMENT||a&&d.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?
new CKEDITOR.dom.node(d):null},getParents:function(a){var d=this,b=[];do b[a?"push":"unshift"](d);while(d=d.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;if(a.contains&&a.contains(this))return a;var d=this.contains?this:this.getParent();do if(d.contains(a))return d;while(d=d.getParent());return null},getPosition:function(a){var d=this.$,b=a.$;if(d.compareDocumentPosition)return d.compareDocumentPosition(b);if(d==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==
CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(d.contains){if(d.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(d))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in d)return 0>d.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:d.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}d=this.getAddress();a=a.getAddress();for(var b=Math.min(d.length,a.length),c=0;c<b;c++)if(d[c]!=
a[c])return d[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return d.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(a,d){var b=this.$,c,e;d||(b=b.parentNode);"function"==typeof a?(e=!0,c=a):(e=!1,c=function(b){b="string"==typeof b.nodeName?b.nodeName.toLowerCase():"";return"string"==typeof a?b==a:b in a});for(;b;){if(c(e?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);
try{b=b.parentNode}catch(g){b=null}}return null},hasAscendant:function(a,d){var b=this.$;d||(b=b.parentNode);for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,d){a.append(this.remove(),d)},remove:function(a){var d=this.$,b=d.parentNode;if(b){if(a)for(;a=d.firstChild;)b.insertBefore(d.removeChild(a),d);b.removeChild(d)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&
(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var d=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(d)d.length<b&&(a.split(b-d.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},rtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var d=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(d)d.length<b&&(a.split(d.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&
(a=this.$.lastChild)&&1==a.type&&"br"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var d=this;this.type!=CKEDITOR.NODE_ELEMENT&&(d=this.getParent());CKEDITOR.env.edge&&d&&d.is("textarea","input")&&(a=!0);if(!a&&d&&"undefined"!=typeof d.$.isContentEditable)return!(d.$.isContentEditable||d.data("cke-editable"));for(;d;){if(d.data("cke-editable"))return!1;if(d.hasAttribute("contenteditable"))return"false"==d.getAttribute("contenteditable");d=d.getParent()}return!0}});
CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var a=this.$.document,d="CSS1Compat"==a.compatMode;return{width:(d?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(d?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if("pageXOffset"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||
a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?new CKEDITOR.dom.element.get(a):null}});CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject;
CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var d=new CKEDITOR.dom.element("link");d.setAttributes({rel:"stylesheet",type:"text/css",href:a});this.getHead().append(d)}},appendStyleText:function(a){if(this.$.createStyleSheet){var d=this.$.createStyleSheet("");d.cssText=a}else{var b=new CKEDITOR.dom.element("style",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return d||
b.$.sheet},createElement:function(a,d){var b=new CKEDITOR.dom.element(a,this);d&&(d.attributes&&b.setAttributes(d.attributes),d.styles&&b.setStyles(d.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(d){return null}return new CKEDITOR.dom.element(a)},getById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,d){for(var b=
this.$.documentElement,c=0;b&&c<a.length;c++){var e=a[c];if(d)for(var g=-1,h=0;h<b.childNodes.length;h++){var k=b.childNodes[h];if(!0!==d||3!=k.nodeType||!k.previousSibling||3!=k.previousSibling.nodeType)if(g++,g==e){b=k;break}}else b=b.childNodes[e]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,d){CKEDITOR.env.ie&&8>=document.documentMode||!d||(a=d+":"+a);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName("head")[0];
return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open("text/html","replace");CKEDITOR.env.ie&&(a=a.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$\x26\n\x3cscript data-cke-temp\x3d"1"\x3e('+
CKEDITOR.tools.fixDomain+")();\x3c/script\x3e"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData("html5ShivFrag");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,!0),this.setCustomData("html5ShivFrag",a));return a}});CKEDITOR.dom.nodeList=function(a){this.$=a};
CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(a){return new CKEDITOR.dom.node(a)})}};CKEDITOR.dom.element=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)};
CKEDITOR.dom.element.get=function(a){return(a="string"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:a)&&(a.$?a:new CKEDITOR.dom.element(a))};CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node;CKEDITOR.dom.element.createFromHtml=function(a,d){var b=new CKEDITOR.dom.element("div",d);b.setHtml(a);return b.getFirst().remove()};
CKEDITOR.dom.element.setMarker=function(a,d,b,c){var e=d.getCustomData("list_marker_id")||d.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),g=d.getCustomData("list_marker_names")||d.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");a[e]=d;g[b]=1;return d.setCustomData(b,c)};CKEDITOR.dom.element.clearAllMarkers=function(a){for(var d in a)CKEDITOR.dom.element.clearMarkers(a,a[d],1)};
CKEDITOR.dom.element.clearMarkers=function(a,d,b){var c=d.getCustomData("list_marker_names"),e=d.getCustomData("list_marker_id"),g;for(g in c)d.removeCustomData(g);d.removeCustomData("list_marker_names");b&&(d.removeCustomData("list_marker_id"),delete a[e])};
(function(){function a(a,b){return-1<(" "+a+" ").replace(g," ").indexOf(" "+b+" ")}function d(a){var b=!0;a.$.id||(a.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute("id")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return"#"+c+" "+b.split(/,\s*/).join(", #"+c+" ")}function c(a){for(var b=0,c=0,f=h[a].length;c<f;c++)b+=parseFloat(this.getComputedStyle(h[a][c])||0,10)||0;return b}var e=document.createElement("_").classList,e="undefined"!==typeof e&&
null!==String(e.add).match(/\[Native code\]/gi),g=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:e?function(a){this.$.classList.add(a);return this}:function(b){var c=this.$.className;c&&(a(c,b)||(c+=" "+b));this.$.className=c||b;return this},removeClass:e?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute("class");return this}:function(b){var c=this.getAttribute("class");c&&a(c,b)&&((c=c.replace(new RegExp("(?:^|\\s+)"+
b+"(?\x3d\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",c):this.removeAttribute("class"));return this},hasClass:function(b){return a(this.$.className,b)},append:function(a,b){"string"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element("div",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=
this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},appendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is("br")||(a=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&a.setAttribute("type","_moz"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);
var f=c.extractContents(!1,b||!1),d;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=new CKEDITOR.dom.element("div");d=f.getFirst();)d.$.style.backgroundColor&&(d.$.style.backgroundColor=d.$.style.backgroundColor),c.append(d);c.insertAfter(this);c.remove(!0)}else f.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):
b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?CKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\?[^>]*>/g,""):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var a=this.$.ownerDocument.createElement("div");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},
this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);return a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(f){this.$.innerHTML="";b=new CKEDITOR.dom.element("body",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));return a}}:
function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement("p");a.innerHTML="x";a=a.textContent;return function(b){this.$[a?"textContent":"innerText"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case "class":a="className";break;case "http-equiv":a="httpEquiv";break;case "name":return this.$.name;case "tabindex":return a=this.$.getAttribute(a,
2),0!==a&&0===this.$.tabIndex&&(a=null),a;case "checked":return a=this.$.attributes.getNamedItem(a),(a.specified?a.nodeValue:this.$.checked)?"checked":null;case "hspace":case "value":return this.$[a];case "style":return this.$.style.cssText;case "contenteditable":case "contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,f;a=CKEDITOR.tools.isArray(a)?
a:[];for(f=0;f<c.length;f++)-1===CKEDITOR.tools.indexOf(a,c[f].name)&&(b[c[f].name]=c[f].value);return b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):""}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=
function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();
if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;"HTML"!=b&&(a=b.toLowerCase()+":"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},
is:function(){var a=this.getName();if("object"==typeof arguments[0])return!!arguments[0][a];for(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||
CKEDITOR.dtd.span,!(!a||!a["#"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,1);b.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);a.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=
a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var c=this.getParent();c.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;
for(var a=this.getChildren(),b=0,c=a.count();b<c;b++){var f=a.getItem(b);if(f.type!=CKEDITOR.NODE_ELEMENT||!f.data("cke-bookmark"))if(f.type==CKEDITOR.NODE_ELEMENT&&!f.isEmptyInlineRemoveable()||f.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(f.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case "class":if(this.getAttribute("class"))return!0;case "data-cke-expando":continue;
default:if(c.specified)return!0}}return!1}:function(){var a=this.$.attributes,b=a.length,c={"data-cke-expando":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var c=this.$.attributes.getNamedItem(b);if("input"==this.getName())switch(b){case "class":return 0<this.$.className.length;case "checked":return!!this.$.checked;case "value":return b=this.getAttribute("type"),"checkbox"==b||"radio"==b?"on"!=this.$.value:!!this.$.value}return c?
c.specified:!1}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(b){return"name"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var f;if(b)for(;f=c.lastChild;)a.insertBefore(c.removeChild(f),a.firstChild);else for(;f=c.firstChild;)a.appendChild(c.removeChild(f))}},mergeSiblings:function(){function a(b,c,f){if(c&&c.type==CKEDITOR.NODE_ELEMENT){for(var d=
[];c.data("cke-bookmark")||c.isEmptyInlineRemoveable();)if(d.push(c),c=f?c.getNext():c.getPrevious(),!c||c.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(c)){for(var k=f?b.getLast():b.getFirst();d.length;)d.shift().move(b,!f);c.moveChildren(b,!f);c.remove();k&&k.type==CKEDITOR.NODE_ELEMENT&&k.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:"",
visibility:""})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,b);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){"class"==b?this.$.className=c:"style"==b?this.$.style.cssText=c:"tabindex"==b?this.$.tabIndex=c:"checked"==b?this.$.checked=c:"contenteditable"==b?a.call(this,"contentEditable",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if("src"==b&&c.match(/^http:\/\//))try{a.apply(this,
arguments)}catch(f){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,a[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){"class"==a?a="className":"tabindex"==a?a="tabIndex":"contenteditable"==a&&(a="contentEditable");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=
0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),a)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||"border"!=a&&"margin"!=a&&"padding"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute("style");else{var c=["top","left","right","bottom"],f;"border"==a&&(f=["color","style","width"]);for(var b=[],d=0;d<c.length;d++)if(f)for(var w=
0;w<f.length;w++)b.push([a,c[d],f[w]].join("-"));else b.push([a,c[d]].join("-"));for(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle("filter",100<=a?"":"progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+a+")")):this.setStyle("opacity",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select",
"none"));if(CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var a,b=this.getElementsByTag("*"),c=0,f=b.count();c<f;c++)a=b.getItem(c),a.setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var a=this;"html"!=a.getName();){if("static"!=a.getComputedStyle("position"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,f=this.getDocument(),d=f.getBody(),w="BackCompat"==f.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?
8!==CKEDITOR.env.version:1)){var e=this.$.getBoundingClientRect(),g=f.$.documentElement,x=g.clientTop||d.$.clientTop||0,m=g.clientLeft||d.$.clientLeft||0,h=!0;CKEDITOR.env.ie&&(h=f.getDocumentElement().contains(this),f=f.getBody().contains(this),h=w&&f||!w&&h);h&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=d.$.scrollLeft||g.scrollLeft,c=d.$.scrollTop||g.scrollTop):(c=w?d.$:g,b=c.scrollLeft,c=c.scrollTop),b=e.left+b-m,c=e.top+c-x)}else for(x=this,m=null;x&&"body"!=x.getName()&&
"html"!=x.getName();){b+=x.$.offsetLeft-x.$.scrollLeft;c+=x.$.offsetTop-x.$.scrollTop;x.equals(this)||(b+=x.$.clientLeft||0,c+=x.$.clientTop||0);for(;m&&!m.equals(x);)b-=m.$.scrollLeft,c-=m.$.scrollTop,m=m.getParent();m=x;x=(e=x.$.offsetParent)?new CKEDITOR.dom.element(e):null}a&&(e=this.getWindow(),x=a.getWindow(),!e.equals(x)&&e.$.frameElement&&(a=(new CKEDITOR.dom.element(e.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||
w||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is("body")&&this.scrollIntoParent(b,a,1),b.is("html")){var c=b.getWindow();try{var f=c.$.frameElement;f&&(b=new CKEDITOR.dom.element(f))}catch(d){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var f,d,w,e;function g(b,c){/body|html/.test(a.getName())?
a.getWindow().$.scrollBy(b,c):(a.$.scrollLeft+=b,a.$.scrollTop+=c)}function x(a,b){var c={x:0,y:0};if(!a.is(h?"body":"html")){var f=a.$.getBoundingClientRect();c.x=f.left;c.y=f.top}f=a.getWindow();f.equals(b)||(f=x(CKEDITOR.dom.element.get(f.$.frameElement),b),c.x+=f.x,c.y+=f.y);return c}function m(a,b){return parseInt(a.getComputedStyle("margin-"+b)||0,10)||0}!a&&(a=this.getWindow());w=a.getDocument();var h="BackCompat"==w.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=h?w.getBody():w.getDocumentElement());
CKEDITOR.env.webkit&&(w=this.getEditor(!1))&&(w._.previousScrollTop=null);w=a.getWindow();d=x(this,w);var z=x(a,w),I=this.$.offsetHeight;f=this.$.offsetWidth;var l=a.$.clientHeight,r=a.$.clientWidth;w=d.x-m(this,"left")-z.x||0;e=d.y-m(this,"top")-z.y||0;f=d.x+f+m(this,"right")-(z.x+r)||0;d=d.y+I+m(this,"bottom")-(z.y+l)||0;(0>e||0<d)&&g(0,!0===b?e:!1===b?d:0>e?e:d);c&&(0>w||0<f)&&g(0>w?w:f,0)},setState:function(a,b,c){b=b||"cke";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+"_on");this.removeClass(b+
"_off");this.removeClass(b+"_disabled");c&&this.setAttribute("aria-pressed",!0);c&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+"_disabled");this.removeClass(b+"_off");this.removeClass(b+"_on");c&&this.setAttribute("aria-disabled",!0);c&&this.removeAttribute("aria-pressed");break;default:this.addClass(b+"_off"),this.removeClass(b+"_on"),this.removeClass(b+"_disabled"),c&&this.removeAttribute("aria-pressed"),c&&this.removeAttribute("aria-disabled")}},
getFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var f=0;f<c.length;f++){var d=c[f],w=d.nodeName.toLowerCase(),e;if(!(w in b))if("checked"==w&&(e=this.getAttribute(w)))a.setAttribute(w,e);else if(!CKEDITOR.env.ie||this.hasAttribute(w))e=this.getAttribute(w),null===e&&(e=d.nodeValue),a.setAttribute(w,e)}""!==this.$.style.cssText&&
(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$["data-cke-expando"]=this.$["data-cke-expando"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var f=b.childNodes;if(0<=c&&c<f.length)return f[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,
b.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||
"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(a,b){a="data-"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,f,d;a=a||void 0===a;for(c in b)if(f=b[c],f.element.equals(this)&&f.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(d=f.editable())&&(d.equals(this)||d.contains(this)))return f;return null},find:function(a){var c=d(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,
a)));c();return a},findOne:function(a){var c=d(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var f=a(this);if(!1!==f){c=this.getChildren();for(var d=0;d<c.count();d++)f=c.getItem(d),f.type==CKEDITOR.NODE_ELEMENT?f.forEach(a,b):b&&f.type!=b||a(f)}}});var h={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};
CKEDITOR.dom.element.prototype.setSize=function(a,b,d){"number"==typeof b&&(!d||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+"px"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var d=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(a)],this.$["client"+CKEDITOR.tools.capitalize(a)])||0;b&&(d-=c.call(this,a));return d}})();CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a};
CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element("div");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,
insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});
(function(){function a(a,b){var c=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(c.collapsed)return this.end(),null;c.optimize()}var f,d=c.startContainer;f=c.endContainer;var e=c.startOffset,D=c.endOffset,g,l=this.guard,r=this.type,J=a?"getPreviousSourceNode":"getNextSourceNode";if(!a&&!this._.guardLTR){var H=f.type==CKEDITOR.NODE_ELEMENT?f:f.getParent(),k=f.type==CKEDITOR.NODE_ELEMENT?f.getChild(D):f.getNext();this._.guardLTR=function(a,b){return(!b||!H.equals(a))&&(!k||
!a.equals(k))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}if(a&&!this._.guardRTL){var u=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),y=d.type==CKEDITOR.NODE_ELEMENT?e?d.getChild(e-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!u.equals(a))&&(!y||!a.equals(y))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(c.root))}}var v=a?this._.guardRTL:this._.guardLTR;g=l?function(a,b){return!1===v(a,b)?!1:l(a,b)}:v;this.current?f=this.current[J](!1,r,g):(a?f.type==CKEDITOR.NODE_ELEMENT&&
(f=0<D?f.getChild(D-1):!1===g(f,!0)?null:f.getPreviousSourceNode(!0,r,g)):(f=d,f.type==CKEDITOR.NODE_ELEMENT&&((f=f.getChild(e))||(f=!1===g(d,!0)?null:d.getNextSourceNode(!0,r,g)))),f&&!1===g(f)&&(f=null));for(;f&&!this._.end;){this.current=f;if(!this.evaluator||!1!==this.evaluator(f)){if(!b)return f}else if(b&&this.evaluator)return!1;f=f[J](!1,r,g)}this.end();return this.current=null}function d(b){for(var c,f=null;c=a.call(this,b);)f=c;return f}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(a){this.range=
a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return d.call(this)},lastBackward:function(){return d.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,
"table-column":1,"table-cell":1,"table-caption":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return"none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in c||!b[this.getComputedStyle("display")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})};
CKEDITOR.dom.walker.bookmark=function(a,b){function c(a){return a&&a.getName&&"span"==a.getName()&&a.data("cke-bookmark")}return function(f){var d,e;d=f&&f.type!=CKEDITOR.NODE_ELEMENT&&(e=f.getParent())&&c(e);d=a?d:d||c(f);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var c;b&&b.type==CKEDITOR.NODE_TEXT&&(c=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);return!!(a^c)}};CKEDITOR.dom.walker.invisible=
function(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.env.webkit?1:0;return function(f){b(f)?f=1:(f.type==CKEDITOR.NODE_TEXT&&(f=f.getParent()),f=f.$.offsetWidth<=c);return!!(a^f)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(c){return!!(b^c.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!g(a)&&!h(a)}return function(c){var f=CKEDITOR.env.needsBrFiller?c.is&&c.is("br"):c.getText&&e.test(c.getText());f&&(f=c.getParent(),c=c.getNext(b),f=f.isBlockBoundary()&&
(!c||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()));return!!(a^f)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute("data-cke-temp");return!!(a^b)}};var e=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,g=CKEDITOR.dom.walker.whitespaces(),h=CKEDITOR.dom.walker.bookmark(),k=CKEDITOR.dom.walker.temp(),n=function(a){return h(a)||g(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=
function(a){return function(b){b=g(b)||h(b)||k(b);return!!(a^b)}};var q=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var c=0,f=b.getChildCount();c<f;++c)if(!q(b.getChild(c)))return!!a;return!a}};var f=CKEDITOR.dom.walker.empty(),D=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},c;for(c in a)CKEDITOR.dtd[c]["#"]&&(b[c]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(a){return function(b){b=
q(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is("hr")||"false"==b.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&b.is(D)&&f(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(n(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is("br"):a.getText&&e.test(a.getText()))?a:!1}})();
CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null;this.collapsed=!0;var d=a instanceof CKEDITOR.dom.document;this.document=d?a:a.getDocument();this.root=d?a.getBody():a};
(function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function d(a,b,c,d,e){function g(a,b,c,f){var X=c?a.getPrevious():a.getNext();if(f&&h)return X;l||f?b.append(a.clone(!0,e),c):(a.remove(),q&&b.append(a,c));return X}function m(){var a,b,c,f=Math.min(O.length,p.length);for(a=0;a<f;a++)if(b=O[a],c=p[a],!b.equals(c))return a;return a-1}function k(){var b=C-1,c=v&&B&&!r.equals(J);b<t-1||b<F-1||c?(c?a.moveToPosition(J,
CKEDITOR.POSITION_BEFORE_START):F==b+1&&y?a.moveToPosition(p[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(p[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=O[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\x3cspan data-cke-bookmark\x3d"1" style\x3d"display:none"\x3e\x26nbsp;\x3c/span\x3e',a.document),c.insertAfter(b),b.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var h=0===b,q=1==b,l=2==b;b=l||q;var r=a.startContainer,J=a.endContainer,
H=a.startOffset,E=a.endOffset,u,y,v,B,L,n;if(l&&J.type==CKEDITOR.NODE_TEXT&&(r.equals(J)||r.type===CKEDITOR.NODE_ELEMENT&&r.getFirst().equals(J)))c.append(a.document.createText(J.substring(H,E)));else{J.type==CKEDITOR.NODE_TEXT?l?n=!0:J=J.split(E):0<J.getChildCount()?E>=J.getChildCount()?(J=J.getChild(E-1),y=!0):J=J.getChild(E):B=y=!0;r.type==CKEDITOR.NODE_TEXT?l?L=!0:r.split(H):0<r.getChildCount()?0===H?(r=r.getChild(H),u=!0):r=r.getChild(H-1):v=u=!0;for(var O=r.getParents(),p=J.getParents(),C=m(),
t=O.length-1,F=p.length-1,N=c,X,Y,U,ea=-1,P=C;P<=t;P++){Y=O[P];U=Y.getNext();for(P!=t||Y.equals(p[P])&&t<F?b&&(X=N.append(Y.clone(0,e))):u?g(Y,N,!1,v):L&&N.append(a.document.createText(Y.substring(H)));U;){if(U.equals(p[P])){ea=P;break}U=g(U,N)}N=X}N=c;for(P=C;P<=F;P++)if(c=p[P],U=c.getPrevious(),c.equals(O[P]))b&&(N=N.getChild(0));else{P!=F||c.equals(O[P])&&F<t?b&&(X=N.append(c.clone(0,e))):y?g(c,N,!1,B):n&&N.append(a.document.createText(c.substring(0,E)));if(P>ea)for(;U;)U=g(U,N,!0);N=X}l||k()}}
function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(e){return c(e)||b(e)?!0:d(e)&&!a?a=!0:e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant("pre")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(g)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);return function(d){return c(d)||b(d)?!0:!a&&h(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}
function e(a){return function(){var b;return this[a?"getPreviousNode":"getNextNode"](function(a){!b&&q(a)&&(b=a);return n(a)&&!(h(a)&&a.equals(b))})}}var g={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},h=CKEDITOR.dom.walker.bogus(),k=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,n=CKEDITOR.dom.walker.editable(),q=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=
new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);this.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||
d(this,2,b,!1,"undefined"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||d(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||d(this,1,c,a,"undefined"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,e,g=this.collapsed;b=this.document.createElement("span");b.data("cke-bookmark",1);b.setStyle("display","none");b.setHtml("\x26nbsp;");a&&(d="cke_bm_"+CKEDITOR.tools.getNextNumber(),b.setAttribute("id",
d+(g?"C":"S")));g||(c=b.clone(),c.setHtml("\x26nbsp;"),a&&c.setAttribute("id",d+"E"),e=this.clone(),e.collapse(),e.insertNode(c));e=this.clone();e.collapse(!0);e.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(g?"C":"S"):b,endNode:a?d+"E":c,serializable:a,collapsed:g}},createBookmark2:function(){function a(b){var f=b.container,d=b.offset,e;e=f;var g=d;e=e.type!=CKEDITOR.NODE_ELEMENT||0===g||g==e.getChildCount()?
0:e.getChild(g-1).type==CKEDITOR.NODE_TEXT&&e.getChild(g).type==CKEDITOR.NODE_TEXT;e&&(f=f.getChild(d-1),d=f.getLength());if(f.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(e=f;d--;)if(g=e.getChild(d).getIndex(!0),0<=g){d=g;break a}d=-1}d+=1}if(f.type==CKEDITOR.NODE_TEXT){e=f;for(g=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)g+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=g;f.getText()?d+=e:(g=f.getPrevious(c),e?(d=e,f=g?g.getNext():f.getParent().getFirst()):(f=
f.getParent(),d=g?g.getIndex(!0)+1:0))}b.container=f;b.offset=d}function b(a,c){var f=c.getCustomData("cke-fillingChar");if(f){var d=a.container;f.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,e={container:this.startContainer,offset:this.startOffset},m={container:this.endContainer,offset:this.endOffset};c&&(a(e),
b(e,this.root),d||(a(m),b(m,this.root)));return{start:e.container.getAddress(c),end:d?null:m.container.getAddress(c),startOffset:e.offset,endOffset:m.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=(c=a.serializable)?this.document.getById(a.startNode):a.startNode,
a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,e;if(a.type==CKEDITOR.NODE_ELEMENT)if(e=a.getChildCount(),e>c)a=a.getChild(c);else if(1>e)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=a.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(e=b.getChildCount(),
e>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>e)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):c:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=
this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is("span")&&a.data("cke-bookmark")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);b&&b.is&&b.is("span")&&b.data("cke-bookmark")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},
trim:function(a,b){var c=this.startContainer,d=this.startOffset,e=this.collapsed;if((!a||e)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var g=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(g,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();this.setStart(c,d);if(e){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;
b||e||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("contenteditable")?null:a}var d=new RegExp(/[^\s\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var e=1;case CKEDITOR.ENLARGE_ELEMENT:var g=function(a,b){var c=new CKEDITOR.dom.range(k);c.setStart(a,b);c.setEndAt(k,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),
f;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};f=c.next();){if(f.type!=CKEDITOR.NODE_TEXT)return!1;u=f!=a?f.getText():f.substring(b);if(d.test(u))return!1}return!0};if(this.collapsed)break;var m=this.getCommonAncestor(),k=this.root,h,q,l,r,J,H=!1,E,u;E=this.startContainer;var y=this.startOffset;E.type==CKEDITOR.NODE_TEXT?(y&&(E=!CKEDITOR.tools.trim(E.substring(0,y)).length&&E,H=!!E),E&&((r=E.getPrevious())||(l=E.getParent()))):(y&&(r=E.getChild(y-1)||E.getLast()),
r||(l=E));for(l=c(l);l||r;){if(l&&!r){!J&&l.equals(m)&&(J=!0);if(e?l.isBlockBoundary():!k.contains(l))break;H&&"inline"==l.getComputedStyle("display")||(H=!1,J?h=l:this.setStartBefore(l));r=l.getPrevious()}for(;r;)if(E=!1,r.type==CKEDITOR.NODE_COMMENT)r=r.getPrevious();else{if(r.type==CKEDITOR.NODE_TEXT)u=r.getText(),d.test(u)&&(r=null),E=/[\s\ufeff]$/.test(u);else if((r.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||b&&r.is("br"))&&!r.data("cke-bookmark"))if(H&&CKEDITOR.dtd.$removeEmpty[r.getName()]){u=
r.getText();if(d.test(u))r=null;else for(var y=r.$.getElementsByTagName("*"),v=0,B;B=y[v++];)if(!CKEDITOR.dtd.$removeEmpty[B.nodeName.toLowerCase()]){r=null;break}r&&(E=!!u.length)}else r=null;E&&(H?J?h=l:l&&this.setStartBefore(l):H=!0);if(r){E=r.getPrevious();if(!l&&!E){l=r;r=null;break}r=E}else l=null}l&&(l=c(l.getParent()))}E=this.endContainer;y=this.endOffset;l=r=null;J=H=!1;E.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(E.substring(y)).length?H=!0:(H=!E.getLength(),y==E.getLength()?(r=E.getNext())||
(l=E.getParent()):g(E,y)&&(l=E.getParent())):(r=E.getChild(y))||(l=E);for(;l||r;){if(l&&!r){!J&&l.equals(m)&&(J=!0);if(e?l.isBlockBoundary():!k.contains(l))break;H&&"inline"==l.getComputedStyle("display")||(H=!1,J?q=l:l&&this.setEndAfter(l));r=l.getNext()}for(;r;){E=!1;if(r.type==CKEDITOR.NODE_TEXT)u=r.getText(),g(r,0)||(r=null),E=/^[\s\ufeff]/.test(u);else if(r.type==CKEDITOR.NODE_ELEMENT){if((0<r.$.offsetWidth||b&&r.is("br"))&&!r.data("cke-bookmark"))if(H&&CKEDITOR.dtd.$removeEmpty[r.getName()]){u=
r.getText();if(d.test(u))r=null;else for(y=r.$.getElementsByTagName("*"),v=0;B=y[v++];)if(!CKEDITOR.dtd.$removeEmpty[B.nodeName.toLowerCase()]){r=null;break}r&&(E=!!u.length)}else r=null}else E=1;E&&H&&(J?q=l:this.setEndAfter(l));if(r){E=r.getNext();if(!l&&!E){l=r;r=null;break}r=E}else l=null}l&&(l=c(l.getParent()))}h&&q&&(m=h.contains(q)?q:h,this.setStartBefore(m),this.setEndAfter(m));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root);
k=this.root;l.setStartAt(k,CKEDITOR.POSITION_AFTER_START);l.setEnd(this.startContainer,this.startOffset);l=new CKEDITOR.dom.walker(l);var L,n,O=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),p=null,C=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&"false"==a.getAttribute("contenteditable"))if(p){if(p.equals(a)){p=null;return}}else p=a;else if(p)return;var b=O(a);b||(L=a);return b},e=function(a){var b=C(a);!b&&a.is&&a.is("br")&&(n=a);return b};l.guard=C;l=l.lastBackward();
L=L||k;this.setStartAt(L,!L.is("br")&&(!l&&this.checkStartOfBlock()||l&&L.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone();l=new CKEDITOR.dom.walker(l);var t=CKEDITOR.dom.walker.whitespaces(),F=CKEDITOR.dom.walker.bookmark();l.evaluator=function(a){return!t(a)&&!F(a)};if((l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}l=this.clone();l.collapse();l.setEndAt(k,CKEDITOR.POSITION_BEFORE_END);l=new CKEDITOR.dom.walker(l);
l.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?e:C;L=p=n=null;l=l.lastForward();L=L||k;this.setEndAt(L,!l&&this.checkEndOfBlock()||l&&L.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);n&&this.setEndAfter(n)}},shrink:function(a,b,c){var d="boolean"===typeof c?c:c&&"boolean"===typeof c.shrinkOnBlockBoundary?c.shrinkOnBlockBoundary:!0,e=c&&c.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var g=this.clone(),m=this.startContainer,k=this.endContainer,h=this.startOffset,
q=this.endOffset,l=c=1;m&&m.type==CKEDITOR.NODE_TEXT&&(h?h>=m.getLength()?g.setStartAfter(m):(g.setStartBefore(m),c=0):g.setStartBefore(m));k&&k.type==CKEDITOR.NODE_TEXT&&(q?q>=k.getLength()?g.setEndAfter(k):(g.setEndAfter(k),l=0):g.setEndBefore(k));var g=new CKEDITOR.dom.walker(g),r=CKEDITOR.dom.walker.bookmark(),J=CKEDITOR.dom.walker.bogus();g.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};var H;g.guard=function(b,c){if(e&&J(b)||r(b))return!0;
if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||c&&b.equals(H)||!1===d&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute("contenteditable"))return!1;c||b.type!=CKEDITOR.NODE_ELEMENT||(H=b);return!0};c&&(m=g[a==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(m,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);l&&(g.reset(),(g=g[a==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(g,b?CKEDITOR.POSITION_BEFORE_END:
CKEDITOR.POSITION_AFTER_END));return!(!c&&!l)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);this.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,
0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||
(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,
b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},
fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var e=d.getBogus();e&&e.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),e=c.block,g=d.block,m=null;if(!c.blockLimit.equals(d.blockLimit))return null;
"br"!=a&&(e||(e=this.fixBlock(!0,a),g=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),g||(g=this.fixBlock(!1,a)));c=e&&this.checkStartOfBlock();d=g&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(g)&&(d?(m=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(g,CKEDITOR.POSITION_AFTER_END),g=null):c?(m=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e=null):(g=this.splitElement(e,
b||!1),e.is("ul","ol")||e.appendBogus()));return{previousBlock:e,nextBlock:g,wasStartOfBlock:c,wasEndOfBlock:d,elementPath:m}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(d){return function(a){return b(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||
d.is("table")&&a.is("caption")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?"endPath":"startPath"](),e=d.block||d.blockLimit,g;e&&!e.equals(d.root)&&!e.getFirst(a(e));)g=e.getParent(),this[b?"setEndAt":"setStartAt"](e,CKEDITOR.POSITION_AFTER_END),e.remove(1),e=g;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,
this.root)},checkBoundaryOfElement:function(a,b){var d=b==CKEDITOR.START,e=this.clone();e.collapse(d);e[d?"setStartAt":"setEndAt"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=c(d);return e[d?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,c)),k.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,
this.root);c=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),k.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,this.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);
a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==
CKEDITOR.NODE_ELEMENT){if("false"==b.getAttribute("contentEditable")&&!b.data("cke-editable"))return 0;if(b.is("html")||"true"==b.getAttribute("contentEditable")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),
!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&k.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);
else if("false"==a.getAttribute("contenteditable")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var d=a,e=c,g=void 0;d.type==CKEDITOR.NODE_ELEMENT&&d.isEditable(!1)&&(g=d[b?"getLast":"getFirst"](q));e||g||(g=d[b?"getPrevious":"getNext"](q));a=g}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,e,g,m=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),c.moveToPosition(a,m[b?0:1])):c=this.clone();if(a&&
!a.is(CKEDITOR.dtd.$block))d=1;else if(e=c[b?"getNextEditableNode":"getPreviousEditableNode"]())d=1,(g=e.type==CKEDITOR.NODE_ELEMENT)&&e.is(CKEDITOR.dtd.$block)&&"false"==e.getAttribute("contenteditable")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(e,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&g&&e.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(e,0),c.collapse()):c.moveToPosition(e,m[b?1:0]);d&&this.moveToRange(c);return!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},
moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();a.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;
return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:e(),getPreviousEditableNode:e(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.startContainer,c=this.endContainer,d=b.getAscendant("table",!0),e=c.getAscendant("table",!0);return CKEDITOR.env.safari&&d&&c.equals(this.root)?
b.getAscendant(a,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):d&&e&&(d.equals(e)||d.contains(e)||e.contains(d))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",this.document),b,c,d,e=this.clone();e.optimize();(d=e.startContainer.type==CKEDITOR.NODE_TEXT)?(c=e.startContainer.getText(),b=e.startContainer.split(e.startOffset),a.insertAfter(e.startContainer)):e.insertNode(a);a.scrollIntoView();
d&&(e.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),e=[],g,m,k,h;if(c&&c.find)for(m=c.find(a),g=0;g<m.count();g++)if(c=m.getItem(g),b||!c.isReadOnly())k=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||d.startNode.equals(c),h=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||
d.endNode.equals(c),k&&h&&e.push(c);return e}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var c=a[a.length-1],d=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(c){var e=new CKEDITOR.dom.range(b.root),d=new CKEDITOR.dom.walker(e),f=CKEDITOR.dom.walker.whitespaces();e.setStart(c.endContainer,c.endOffset);e.setEnd(b.startContainer,b.startOffset);for(e=d.next();f(e)||b.endContainer.equals(e);)e=d.next();d=!e}d?c.setEnd(b.endContainer,b.endOffset):
a.push(b);return a},[])}})();CKEDITOR.POSITION_AFTER_START=1;CKEDITOR.POSITION_BEFORE_END=2;CKEDITOR.POSITION_BEFORE_START=3;CKEDITOR.POSITION_AFTER_END=4;CKEDITOR.ENLARGE_ELEMENT=1;CKEDITOR.ENLARGE_BLOCK_CONTENTS=2;CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3;CKEDITOR.ENLARGE_INLINE=4;CKEDITOR.START=1;CKEDITOR.END=2;CKEDITOR.SHRINK_ELEMENT=1;CKEDITOR.SHRINK_TEXT=2;"use strict";
(function(){function a(a){1>arguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function d(a){var b=[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,e,g){a:{null==g&&(g=d(e));for(var k;k=g.shift();)if(k.getDtd().p){g={element:k,remaining:g};break a}g=null}if(!g)return 0;if((k=CKEDITOR.filter.instances[g.element.data("cke-filter")])&&!k.check(c))return b(a,
c,e,g.remaining);c=new CKEDITOR.dom.range(g.element);c.selectNodeContents(g.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=k;a._.nestedEditable={element:g.element,container:e,remaining:g.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var e=/^[\r\n\t ]+$/,g=CKEDITOR.dom.walker.bookmark(!1,!0),h=CKEDITOR.dom.walker.whitespaces(!0),
k=function(a){return g(a)&&h(a)},n={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var d,h,w,A,G;a=a||"p";if(this._.nestedEditable){if(d=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,d;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=
null}if(!this.range.root.getDtd()[a])return null;if(!this._.started){var x=this.range.clone();h=x.startPath();var m=x.endPath(),K=!x.collapsed&&c(x,h.block),z=!x.collapsed&&c(x,m.block,1);x.shrink(CKEDITOR.SHRINK_ELEMENT,!0);K&&x.setStartAt(h.block,CKEDITOR.POSITION_BEFORE_END);z&&x.setEndAt(m.block,CKEDITOR.POSITION_AFTER_START);h=x.endContainer.hasAscendant("pre",!0)||x.startContainer.hasAscendant("pre",!0);x.enlarge(this.forceBrBreak&&!h||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);
x.collapsed||(h=new CKEDITOR.dom.walker(x.clone()),m=CKEDITOR.dom.walker.bookmark(!0,!0),h.evaluator=m,this._.nextNode=h.next(),h=new CKEDITOR.dom.walker(x.clone()),h.evaluator=m,h=h.previous(),this._.lastNode=h.getNextSourceNode(!0,null,x.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(m=this.range.clone(),m.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),m.checkEndOfBlock()&&
(m=new CKEDITOR.dom.elementPath(m.endContainer,m.root),this._.lastNode=(m.block||m.blockLimit).getNextSourceNode(!0))),this._.lastNode&&x.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=x.document.createText(""),this._.lastNode.insertAfter(h)),x=null);this._.started=1;h=x}m=this._.nextNode;x=this._.lastNode;for(this._.nextNode=null;m;){var K=0,z=m.hasAscendant("pre"),I=m.type!=CKEDITOR.NODE_ELEMENT,l=0;if(I)m.type==CKEDITOR.NODE_TEXT&&e.test(m.getText())&&(I=0);else{var r=m.getName();
if(CKEDITOR.dtd.$block[r]&&"false"==m.getAttribute("contenteditable")){d=m;b(this,a,d);break}else if(m.isBlockBoundary(this.forceBrBreak&&!z&&{br:1})){if("br"==r)I=1;else if(!h&&!m.getChildCount()&&"hr"!=r){d=m;w=m.equals(x);break}h&&(h.setEndAt(m,CKEDITOR.POSITION_BEFORE_START),"br"!=r&&(this._.nextNode=m));K=1}else{if(m.getFirst()){h||(h=this.range.clone(),h.setStartAt(m,CKEDITOR.POSITION_BEFORE_START));m=m.getFirst();continue}I=1}}I&&!h&&(h=this.range.clone(),h.setStartAt(m,CKEDITOR.POSITION_BEFORE_START));
w=(!K||I)&&m.equals(x);if(h&&!K)for(;!m.getNext(k)&&!w;){r=m.getParent();if(r.isBlockBoundary(this.forceBrBreak&&!z&&{br:1})){K=1;I=0;w||r.equals(x);h.setEndAt(r,CKEDITOR.POSITION_BEFORE_END);break}m=r;I=1;w=m.equals(x);l=1}I&&h.setEndAt(m,CKEDITOR.POSITION_AFTER_END);m=this._getNextSourceNode(m,l,x);if((w=!m)||K&&h)break}if(!d){if(!h)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;d=new CKEDITOR.dom.elementPath(h.startContainer,h.root);m=d.blockLimit;K={div:1,th:1,td:1};
d=d.block;!d&&m&&!this.enforceRealBlocks&&K[m.getName()]&&h.checkStartOfBlock()&&h.checkEndOfBlock()&&!m.equals(h.root)?d=m:!d||this.enforceRealBlocks&&d.is(n)?(d=this.range.document.createElement(a),h.extractContents().appendTo(d),d.trim(),h.insertNode(d),A=G=!0):"li"!=d.getName()?h.checkStartOfBlock()&&h.checkEndOfBlock()||(d=d.clone(!1),h.extractContents().appendTo(d),d.trim(),G=h.splitBlock(),A=!G.wasStartOfBlock,G=!G.wasEndOfBlock,h.insertNode(d)):w||(this._.nextNode=d.equals(x)?null:this._getNextSourceNode(h.getBoundaryNodes().endNode,
1,x))}A&&(A=d.getPrevious())&&A.type==CKEDITOR.NODE_ELEMENT&&("br"==A.getName()?A.remove():A.getLast()&&"br"==A.getLast().$.nodeName.toLowerCase()&&A.getLast().remove());G&&(A=d.getLast())&&A.type==CKEDITOR.NODE_ELEMENT&&"br"==A.getName()&&(!CKEDITOR.env.needsBrFiller||A.getPrevious(g)||A.getNext(g))&&A.remove();this._.nextNode||(this._.nextNode=w||d.equals(x)||!x?null:this._getNextSourceNode(d,1,x));return d},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(e))}var e=
this.range.root;for(a=a.getNextSourceNode(b,null,d);!g(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}})();
CKEDITOR.command=function(a,d){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire("exec")?!0:!1!==d.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire("refresh",
{editor:a,path:b})?!0:d.refresh&&!1!==d.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||"boolean"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,d,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!d.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)};
CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire("state");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?
this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.event.implementOn(CKEDITOR.command.prototype);CKEDITOR.ENTER_P=1;CKEDITOR.ENTER_BR=2;CKEDITOR.ENTER_DIV=3;
CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"\x3c!DOCTYPE html\x3e",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]};
(function(){function a(a,b,c,d,e){var f,l;a=[];for(f in b){l=b[f];l="boolean"==typeof l?{}:"function"==typeof l?{match:l}:v(l);"$"!=f.charAt(0)&&(l.elements=f);c&&(l.featureName=c.toLowerCase());var t=l;t.elements=h(t.elements,/\s+/)||null;t.propertiesOnly=t.propertiesOnly||!0===t.elements;var u=/\s*,\s*/,g=void 0;for(g in V){t[g]=h(t[g],u)||null;var p=t,r=O[g],m=h(t[O[g]],u),F=t[g],y=[],B=!0,C=void 0;m?B=!1:m={};for(C in F)"!"==C.charAt(0)&&(C=C.slice(1),y.push(C),m[C]=!0,B=!1);for(;C=y.pop();)F[C]=
F["!"+C],delete F["!"+C];p[r]=(B?!1:m)||null}t.match=t.match||null;d.push(l);a.push(l)}b=e.elements;e=e.generic;var k;c=0;for(d=a.length;c<d;++c){f=v(a[c]);l=!0===f.classes||!0===f.styles||!0===f.attributes;t=f;g=r=u=void 0;for(u in V)t[u]=K(t[u]);p=!0;for(g in O){u=O[g];r=t[u];m=[];F=void 0;for(F in r)-1<F.indexOf("*")?m.push(new RegExp("^"+F.replace(/\*/g,".*")+"$")):m.push(F);r=m;r.length&&(t[u]=r,p=!1)}t.nothingRequired=p;t.noProperties=!(t.attributes||t.classes||t.styles);if(!0===f.elements||
null===f.elements)e[l?"unshift":"push"](f);else for(k in t=f.elements,delete f.elements,t)if(b[k])b[k][l?"unshift":"push"](f);else b[k]=[f]}}function d(a,c,d,e){if(!a.match||a.match(c))if(e||k(a,c))if(a.propertiesOnly||(d.valid=!0),d.allAttributes||(d.allAttributes=b(a.attributes,c.attributes,d.validAttributes)),d.allStyles||(d.allStyles=b(a.styles,c.styles,d.validStyles)),!d.allClasses){a=a.classes;c=c.classes;e=d.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,l=c.length,t;f<l;++f)t=c[f],e[t]||
(e[t]=a(t));a=!1}else a=!1;d.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=e(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=e(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;b=b.classes;if(a){for(var d=!1,f=!0===a,t=b.length;t--;)if(f||a(b[t]))b.splice(t,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function e(a,
b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function g(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function h(a,b){if(!a)return!1;if(!0===a)return a;if("string"==typeof a)return a=B(a),"*"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?CKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function k(a,b){if(a.nothingRequired)return!0;
var c,d,e,f;if(e=a.requiredClasses)for(f=b.classes,c=0;c<e.length;++c)if(d=e[c],"string"==typeof d){if(-1==CKEDITOR.tools.indexOf(f,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(f,d))return!1;return n(b.styles,a.requiredStyles)&&n(b.attributes,a.requiredAttributes)}function n(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],"string"==typeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function q(a){if(!a)return{};
a=a.split(/\s*,\s*/).sort();for(var b={};a.length;)b[a.shift()]="cke-test";return b}function f(a){var b,c,d,e,f={},t=1;for(a=B(a);b=a.match(p);)(c=b[2])?(d=D(c,"styles"),e=D(c,"attrs"),c=D(c,"classes")):d=e=c=null,f["$"+t++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return f}function D(a,b){var c=a.match(C[b]);return c?B(c[1]):null}function w(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes["class"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||
"",1));a.classes||(a.classes=c?c.split(/\s+/):[])}function A(a,b,e,f){var l=0,u;f.toHtml&&(b.name=b.name.replace(t,"$1"));if(f.doCallbacks&&a.elementCallbacks){a:{u=a.elementCallbacks;for(var v=0,g=u.length,p;v<g;++v)if(p=u[v](b)){u=p;break a}u=void 0}if(u)return u}if(f.doTransform&&(u=a._.transformations[b.name])){w(b);for(v=0;v<u.length;++v)r(a,b,u[v]);x(b)}if(f.doFilter){a:{v=b.name;g=a._;a=g.allowedRules.elements[v];u=g.allowedRules.generic;v=g.disallowedRules.elements[v];g=g.disallowedRules.generic;
p=f.skipRequired;var y={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},B,C;if(a||u){w(b);if(v)for(B=0,C=v.length;B<C;++B)if(!1===c(v[B],b,y)){a=null;break a}if(g)for(B=0,C=g.length;B<C;++B)c(g[B],b,y);if(a)for(B=0,C=a.length;B<C;++B)d(a[B],b,y,p);if(u)for(B=0,C=u.length;B<C;++B)d(u[B],b,y,p);a=y}else a=null}if(!a||!a.valid)return e.push(b),1;C=a.validAttributes;var h=a.validStyles;
u=a.validClasses;var v=b.attributes,k=b.styles,g=b.classes;p=b.classBackup;var J=b.styleBackup,H,N,E=[],y=[],O=/^data-cke-/;B=!1;delete v.style;delete v["class"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(H in v)C[H]||(O.test(H)?H==(N=H.replace(/^data-cke-saved-/,""))||C[N]||(delete v[H],B=!0):(delete v[H],B=!0));if(!a.allStyles||a.hadInvalidStyle){for(H in k)a.allStyles||h[H]?E.push(H+":"+k[H]):B=!0;E.length&&(v.style=E.sort().join("; "))}else J&&(v.style=J);if(!a.allClasses||
a.hadInvalidClass){for(H=0;H<g.length;++H)(a.allClasses||u[g[H]])&&y.push(g[H]);y.length&&(v["class"]=y.sort().join(" "));p&&y.length<p.split(/\s+/).length&&(B=!0)}else p&&(v["class"]=p);B&&(l=1);if(!f.skipFinalValidation&&!m(b))return e.push(b),1}f.toHtml&&(b.name=b.name.replace(F,"cke:$1"));return l}function G(a){var b=[],c;for(c in a)-1<c.indexOf("*")&&b.push(c.replace(/\*/g,".*"));return b.length?new RegExp("^(?:"+b.join("|")+")$"):null}function x(a){var b=a.attributes,c;delete b.style;delete b["class"];
if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b["class"]=a.classes.sort().join(" "))}function m(a){switch(a.name){case "a":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case "img":if(!a.attributes.src)return!1}return!0}function K(a){if(!a)return!1;if(!0===a)return!0;var b=G(a);return function(c){return c in a||b&&c.match(b)}}function z(){return new CKEDITOR.htmlParser.element("br")}function I(a){return a.type==CKEDITOR.NODE_ELEMENT&&("br"==
a.name||y.$block[a.name])}function l(a,b,c){var d=a.name;if(y.$empty[d]||!a.children.length)"hr"==d&&"br"==b?a.replaceWith(z()):(a.parent&&c.push({check:"it",el:a.parent}),a.remove());else if(y.$block[d]||"tr"==d)if("br"==b)a.previous&&!I(a.previous)&&(b=z(),b.insertBefore(a)),a.next&&!I(a.next)&&(b=z(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;b:{e=y[b];for(var f=0,t=d.length,l;f<t;++f)if(l=d[f],l.type==CKEDITOR.NODE_ELEMENT&&!e[l.name]){e=!1;break b}e=!0}if(e)a.name=b,a.attributes=
{},c.push({check:"parent-down",el:a});else{e=a.parent;for(var f=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==e.name,v,u,t=d.length;0<t;)l=d[--t],f&&(l.type==CKEDITOR.NODE_TEXT||l.type==CKEDITOR.NODE_ELEMENT&&y.$inline[l.name])?(v||(v=new CKEDITOR.htmlParser.element(b),v.insertAfter(a),c.push({check:"parent-down",el:v})),v.add(l,0)):(v=null,u=y[e.name]||y.span,l.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||l.type!=CKEDITOR.NODE_ELEMENT||u[l.name]||c.push({check:"el-up",el:l}));a.remove()}}else d in
{style:1,script:1}?a.remove():(a.parent&&c.push({check:"it",el:a.parent}),a.replaceWithChildren())}function r(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,N);break}}function J(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,f,l,t,v;if(a.name!=c.element)return!1;for(f in d)if("class"==f)for(c=d[f].split(/\s+/),t=a.classes.join("|");v=c.pop();){if(-1==t.indexOf(v))return!1}else if(a.attributes[f]!=d[f])return!1;for(l in e)if(a.styles[l]!=
e[l])return!1;return!0}function H(a,b){var c,d;"string"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function E(a){return function(b){return J(b,a)}}function u(a){return function(b,c){c[a](b)}}var y=CKEDITOR.dtd,v=CKEDITOR.tools.copy,B=CKEDITOR.tools.trim,L=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=[];this.elementCallbacks=null;this.disabled=
!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,"config",1),this.allow(a.config.extraAllowedContent,"extra",1),this.allow(L[a.enterMode]+" "+L[a.shiftEnterMode],
"default",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,"default",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!g(this,b,d))return!1;var e,l;if("string"==typeof b)b=f(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);e=b.getDefinition();b={};d=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.objectKeys(e.styles)};
d&&(d=v(d),e.classes=d["class"]?d["class"].split(/\s+/):null,e.requiredClasses=e.classes,delete d["class"],e.attributes=d,e.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)l=this.allow(b[e],c,d);return l}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,f=[],t=this.editor&&this.editor.config.protectedSource,v,u=!1,g={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};
a.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if("off"==a.attributes["data-cke-filter"])return!1;if(!b||"span"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join("|").indexOf("data-cke-"))if(v=A(e,a,f,g),v&1)u=!0;else if(v&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\{cke_protected\}(?!\{C\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\{cke_protected\}/,""));c=[];var l,p,r;if(t)for(p=0;p<t.length;++p)if((r=d.match(t[p]))&&r[0].length==d.length){c=!0;
break a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(l=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&A(e,l,c,g);c=!c.length}c||f.push(a)}},null,!0);f.length&&(u=!0);var p;a=[];d=L[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var r;c=f.pop();)c.type==CKEDITOR.NODE_ELEMENT?l(c,d,a):c.remove();for(;p=a.pop();)if(c=p.el,c.parent)switch(r=y[c.parent.name]||y.span,p.check){case "it":y.$removeEmpty[c.name]&&!c.children.length?l(c,d,a):m(c)||l(c,d,a);break;case "el-up":c.parent.type==
CKEDITOR.NODE_DOCUMENT_FRAGMENT||r[c.name]||l(c,d,a);break;case "parent-down":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r[c.name]||l(c.parent,d,a)}return u},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!g(this,b,!0))return!1;"string"==typeof b&&(b=f(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},
addContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],("string"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(H(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);
this.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var f=void 0,l=void 0,t=void 0,v=void 0,g=void 0,p=void 0;c=[];for(l=0;l<b.length;++l)t=b[l],"string"==typeof t?(t=t.split(/\s*:\s*/),v=t[0],g=null,p=t[1]):(v=t.check,g=t.left,p=t.right),f||(f=t,f=f.element?f.element:v?v.match(/^([a-z0-9]+)/i)[0]:
f.left.getDefinition().element),g instanceof CKEDITOR.style&&(g=E(g)),c.push({check:v==f?null:v,left:g,right:"string"==typeof p?u(p):p});b=f;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var e,l;if("string"==typeof a){l=a+"\x3c"+(!1===b?"0":"1")+(c?"1":"0")+"\x3e";if(l in this._.cachedChecks)return this._.cachedChecks[l];d=f(a).$1;e=d.styles;var t=d.classes;d.name=d.elements;
d.classes=t=t?t.split(/\s*,\s*/):[];d.styles=q(e);d.attributes=q(d.attributes);d.children=[];t.length&&(d.attributes["class"]=t.join(" "));e&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));e=d}else d=a.getDefinition(),e=d.styles,t=d.attributes||{},e&&!CKEDITOR.tools.isEmpty(e)?(e=v(e),t.style=CKEDITOR.tools.writeCssText(e,!0)):e={},e={name:d.element,attributes:t,classes:t["class"]?t["class"].split(/\s+/):[],styles:e,children:[]};var t=CKEDITOR.tools.clone(e),u=[],g;if(!1!==b&&(g=this._.transformations[e.name])){for(d=
0;d<g.length;++d)r(this,e,g[d]);x(e)}A(this,t,u,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<u.length?!1:CKEDITOR.tools.objectCompare(e.attributes,t.attributes,!0)?!0:!1;"string"==typeof a&&(this._.cachedChecks[l]=b);return b},getAllowedEnterMode:function(){var a=["p","div","br"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){var e=a.slice(),f;if(this.check(L[c]))return c;for(d||(e=e.reverse());f=e.pop();)if(this.check(f))return b[f];
return CKEDITOR.ENTER_BR}}(),clone:function(){var a=new CKEDITOR.filter,b=CKEDITOR.tools.clone;a.allowedContent=b(this.allowedContent);a._.allowedRules=b(this._.allowedRules);a.disallowedContent=b(this.disallowedContent);a._.disallowedRules=b(this._.disallowedRules);a._.transformations=b(this._.transformations);a.disabled=this.disabled;a.editor=this.editor;return a},destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};
var V={styles:1,attributes:1,classes:1},O={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},p=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,C={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},t=/^cke:(object|embed|param)$/,F=/^(object|embed|param)$/,N;N=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,"width");this.lengthToStyle(a,"height")},sizeToAttribute:function(a){this.lengthToAttribute(a,
"width");this.lengthToAttribute(a,"height")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\d+$/.test(d)&&(d+="px"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],e=d&&d.match(/^(\d+)(?:\.\d*)?px$/);e?a.attributes[c]=e[1]:"cke-test"==d&&(a.attributes[c]="cke-test")}delete a.styles[b]},alignmentToStyle:function(a){if(!("float"in a.styles)){var b=a.attributes.align;if("left"==b||"right"==
b)a.styles["float"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!("align"in a.attributes)){var b=a.styles["float"];if("left"==b||"right"==b)a.attributes.align=b}delete a.styles["float"]},splitBorderShorthand:function(a){function b(d){a.styles["border-top-width"]=c[d[0]];a.styles["border-right-width"]=c[d[1]];a.styles["border-bottom-width"]=c[d[2]];a.styles["border-left-width"]=c[d[3]]}if(a.styles.border){var c=a.styles.border.match(/([\.\d]+\w+)/g)||["0px"];switch(c.length){case 1:a.styles["border-width"]=
c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}a.styles["border-style"]=a.styles["border-style"]||(a.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0];a.styles["border-style"]||delete a.styles["border-style"];delete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case "a":a.styles["list-style-type"]="lower-alpha";break;case "A":a.styles["list-style-type"]=
"upper-alpha";break;case "i":a.styles["list-style-type"]="lower-roman";break;case "I":a.styles["list-style-type"]="upper-roman";break;case "1":a.styles["list-style-type"]="decimal";break;default:a.styles["list-style-type"]=a.attributes.type}},splitMarginShorthand:function(a){function b(d){a.styles["margin-top"]=c[d[0]];a.styles["margin-right"]=c[d[1]];a.styles["margin-bottom"]=c[d[2]];a.styles["margin-left"]=c[d[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(c.length){case 1:b([0,
0,0,0]);break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:J,transform:function(a,b){if("string"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,e=c.attributes,f,t,l,v;a.name=c.element;for(f in e)if("class"==f)for(c=a.classes.join("|"),l=e[f].split(/\s+/);v=l.pop();)-1==c.indexOf(v)&&a.classes.push(v);else a.attributes[f]=e[f];for(t in d)a.styles[t]=d[t]}}}})();
(function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=CKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=
1},unlock:function(){delete this._.locked},blur:function(a){function d(){if(this.hasFocus){this.hasFocus=!1;var a=this._.editor.container;a&&a.removeClass("cke_focus");this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?d.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;d.call(this)},b,this)}},add:function(a,d){var b=a.getCustomData("focusmanager");if(!b||b!=this){b&&b.remove(a);var b=
"focus",c="blur";d&&(CKEDITOR.env.ie?(b="focusin",c="focusout"):CKEDITOR.event.useCapture=1);var e={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,e.focus,this);a.on(c,e.blur,this);d&&(CKEDITOR.event.useCapture=0);a.setCustomData("focusmanager",this);a.setCustomData("focusmanager_handlers",e)}},remove:function(a){a.removeCustomData("focusmanager");var d=a.removeCustomData("focusmanager_handlers");a.removeListener("blur",d.blur);a.removeListener("focus",
d.focus)}}})();CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this};
(function(){var a,d=function(b){b=b.data;var d=b.getKeystroke(),g=this.keystrokes[d],h=this._.editor;a=!1===h.fire("key",{keyCode:d,domEvent:b});a||(g&&(a=!1!==h.execCommand(g,{from:"keystrokeHandler"})),a||(a=!!this.blockedKeystrokes[d]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on("keydown",d,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on("keypress",b,this)}}})();
(function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,d,b){a&&CKEDITOR.lang.languages[a]||
(a=this.detect(d,a));var c=this;d=function(){c[a].dir=c.rtl[a]?"rtl":"ltr";b(a,c[a])};this[a]?d():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+a+".js"),d,this)},detect:function(a,d){var b=this.languages;d=d||navigator.userLanguage||navigator.language||a;var c=d.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),e=c[1],c=c[2];b[e+"-"+c]?e=e+"-"+c:b[e]||(e=null);CKEDITOR.lang.detect=e?function(){return e}:function(a){return a};return e||a}}})();
CKEDITOR.scriptLoader=function(){var a={},d={};return{load:function(b,c,e,g){var h="string"==typeof b;h&&(b=[b]);e||(e=CKEDITOR);var k=b.length,n=[],q=[],f=function(a){c&&(h?c.call(e,a):c.call(e,n,q))};if(0===k)f(!0);else{var D=function(a,b){(b?n:q).push(a);0>=--k&&(g&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),f(b))},w=function(b,c){a[b]=1;var e=d[b];delete d[b];for(var f=0;f<e.length;f++)e[f](b,c)},A=function(b){if(a[b])D(b,!0);else{var e=d[b]||(d[b]=[]);e.push(D);if(!(1<e.length)){var f=
new CKEDITOR.dom.element("script");f.setAttributes({type:"text/javascript",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?f.$.onreadystatechange=function(){if("loaded"==f.$.readyState||"complete"==f.$.readyState)f.$.onreadystatechange=null,w(b,!0)}:(f.$.onload=function(){setTimeout(function(){w(b,!0)},0)},f.$.onerror=function(){w(b,!1)}));f.appendTo(CKEDITOR.document.getHead())}}};g&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var G=0;G<k;G++)A(b[G])}},
queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(d,g){var h=this;c.push({scriptUrl:d,callback:function(){g&&g.apply(this,arguments);c.shift();a.call(h)}});1==c.length&&a.call(this)}}()}}();CKEDITOR.resourceManager=function(a,d){this.basePath=a;this.fileName=d;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}};
CKEDITOR.resourceManager.prototype={add:function(a,d){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+a+'" is already registered.');var b=this.registered[a]=d||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+CKEDITOR.tools.capitalize(this.fileName)+"Ready",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var d=this.externals[a];return CKEDITOR.getUrl(d&&d.dir||this.basePath+a+"/")},getFilePath:function(a){var d=this.externals[a];
return CKEDITOR.getUrl(this.getPath(a)+(d?d.file:this.fileName+".js"))},addExternal:function(a,d,b){a=a.split(",");for(var c=0;c<a.length;c++){var e=a[c];b||(d=d.replace(/[^\/]+$/,function(a){b=a;return""}));this.externals[e]={dir:d,file:b||this.fileName+".js"}}},load:function(a,d,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,e=this.registered,g=[],h={},k={},n=0;n<a.length;n++){var q=a[n];if(q)if(c[q]||e[q])k[q]=this.get(q);else{var f=this.getFilePath(q);g.push(f);f in h||(h[f]=
[]);h[f].push(q)}}CKEDITOR.scriptLoader.load(g,function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+h[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var f=0;f<a.length;f++)for(var g=h[a[f]],n=0;n<g.length;n++){var m=g[n];k[m]=this.get(m);c[m]=1}d.call(b,k)},this)}};CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin");
CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var d={};return function(b,c,e){var g={},h=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(g,a);var b=[],f;for(f in a){var k=a[f],w=k&&k.requires;if(!d[f]){if(k.icons)for(var A=k.icons.split(","),G=A.length;G--;)CKEDITOR.skin.addIcon(A[G],k.path+"icons/"+(CKEDITOR.env.hidpi&&k.hidpi?"hidpi/":"")+A[G]+".png");d[f]=1}if(w)for(w.split&&(w=w.split(",")),k=0;k<w.length;k++)g[w[k]]||b.push(w[k])}if(b.length)h.call(this,
b);else{for(f in g)k=g[f],k.onLoad&&!k.onLoad._called&&(!1===k.onLoad()&&delete g[f],k.onLoad._called=1);c&&c.call(e||window,g)}},this)};h.call(this,b)}});CKEDITOR.plugins.setLang=function(a,d,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(","));-1==CKEDITOR.tools.indexOf(c,d)&&c.push(d);a[d]=b};CKEDITOR.ui=function(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this};
CKEDITOR.ui.prototype={add:function(a,d,b){b.name=a.toLowerCase();var c=this.items[a]={type:d,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var d=this.items[a],b=d&&this._.handlers[d.type],c=d&&d.command&&this.editor.getCommand(d.command),b=b&&b.create.apply(this,d.args);this.instances[a]=b;c&&c.uiItems.push(b);b&&!b.type&&(b.type=d.type);return b},addHandler:function(a,d){this._.handlers[a]=
d},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+"_"+a}};CKEDITOR.event.implementOn(CKEDITOR.ui);
(function(){function a(a,e,f){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!f)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!b(e,f))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');
this.element=e;this.elementMode=f;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||d();this.id=CKEDITOR.tools.getNextId();this.status="unloaded";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on("readOnly",
c);this.on("selectionChange",function(a){g(this,a.data.path)});this.on("activeFilterChange",function(){g(this,this.elementPath(),!0)});this.on("mode",c);this.on("instanceReady",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire("instanceCreated",null,this);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?k(this,a):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function d(){do var a="editor"+ ++G;while(CKEDITOR.instances[a]);return a}function b(a,
b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is("textarea"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)e(this,a[b])}function e(a,b){b[b.startDisabled?"disable":a.readOnly&&!b.readOnly?"disable":b.modes[a.mode]?"enable":"disable"]()}function g(a,b,c){if(b){var d,e,f=a.commands;for(e in f)d=f[e],(c||d.contextSensitive)&&d.refresh(a,b)}}function h(a){var b=a.config.customConfig;if(!b)return!1;var b=
CKEDITOR.getUrl(b),c=x[b]||(x[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&h(a)||a.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};h(a)});return!0}function k(a,b){a.on("customConfigLoaded",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?
a.element.is("textarea")?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute("disabled")||a.element.hasAttribute("readonly"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?!(a.element.is("textarea")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute("tabindex")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;
a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce("configLoaded");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);n(a)});b&&null!=b.customConfig&&(a.config.customConfig=b.customConfig);h(a)||a.fireOnce("customConfigLoaded")}function n(a){CKEDITOR.skin.loadPart("editor",function(){q(a)})}function q(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,
c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title="string"==typeof d||!1===d?d:[a.lang.editor,a.name].join(", ");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire("langLoaded");f(a)})}function f(a){a.getStylesSet(function(b){a.once("loaded",function(){a.fire("stylesSet",{styles:b})},null,null,1);D(a)})}function D(a){var b=a.config,c=b.plugins,d=b.extraPlugins,e=
b.removePlugins;if(d)var f=new RegExp("(?:^|,)(?:"+d.replace(/\s*,\s*/g,"|")+")(?\x3d,|$)","g"),c=c.replace(f,""),c=c+(","+d);if(e)var g=new RegExp("(?:^|,)(?:"+e.replace(/\s*,\s*/g,"|")+")(?\x3d,|$)","g"),c=c.replace(g,"");CKEDITOR.env.air&&(c+=",adobeair");CKEDITOR.plugins.load(c.split(","),function(c){var d=[],e=[],f=[];a.plugins=c;for(var l in c){var r=c[l],k=r.lang,h=null,O=r.requires,p;CKEDITOR.tools.isArray(O)&&(O=O.join(","));if(O&&(p=O.match(g)))for(;O=p.pop();)CKEDITOR.error("editor-plugin-required",
{plugin:O.replace(",",""),requiredBy:l});k&&!a.lang[l]&&(k.split&&(k=k.split(",")),0<=CKEDITOR.tools.indexOf(k,a.langCode)?h=a.langCode:(h=a.langCode.replace(/-.*/,""),h=h!=a.langCode&&0<=CKEDITOR.tools.indexOf(k,h)?h:0<=CKEDITOR.tools.indexOf(k,"en")?"en":k[0]),r.langEntries&&r.langEntries[h]?(a.lang[l]=r.langEntries[h],h=null):f.push(CKEDITOR.getUrl(r.path+"lang/"+h+".js")));e.push(h);d.push(r)}CKEDITOR.scriptLoader.load(f,function(){for(var c=["beforeInit","init","afterInit"],f=0;f<c.length;f++)for(var l=
0;l<d.length;l++){var v=d[l];0===f&&e[l]&&v.lang&&v.langEntries&&(a.lang[v.name]=v.langEntries[e[l]]);if(v[c[f]])v[c[f]](a)}a.fireOnce("pluginsLoaded");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(l=0;l<a.config.blockedKeystrokes.length;l++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[l]]=1;a.status="loaded";a.fireOnce("loaded");CKEDITOR.fire("instanceLoaded",null,a)})})}function w(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();
this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is("textarea")?a.setValue(b):a.setHtml(b);return!0}return!1}function A(a,b){function c(a){var b=a.startContainer,d=a.endContainer;return b.is&&(b.is("tr")||b.is("td")&&b.equals(d)&&a.endOffset===b.getChildCount())?!0:!1}function d(a){var b=a.startContainer;return b.is("tr")?a.cloneContents():b.clone(!0)}for(var e=new CKEDITOR.dom.documentFragment,f,g,k,h=0;h<a.length;h++){var u=a[h],y=u.startContainer.getAscendant("tr",!0);c(u)?(f||
(f=y.getAscendant("table").clone(),f.append(y.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),e.append(f),f=f.findOne("thead, tbody, tfoot")),g&&g.equals(y)||(g=y,k=y.clone(),f.append(k)),k.append(d(u))):e.append(u.cloneContents())}return f?e:b.getHtmlFromRange(a[0])}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=a;var G=0,x={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,b);this.mode&&e(this,c);return this.commands[a]=
c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire("required")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,e=new CKEDITOR.dom.element(d.$.form);d.is("textarea")&&e&&(e.on("submit",a),b(e.$.submit)&&(e.$.submit=CKEDITOR.tools.override(e.$.submit,function(b){return function(){a();b.apply?b.apply(this):b()}})),c.on("destroy",function(){e.removeListener("submit",a)}))},destroy:function(a){this.fire("beforeDestroy");
!a&&w.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status="destroyed";this.fire("destroy");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?new CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,
b){var c=this.getCommand(a),d={name:a,commandData:b||{},command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire("beforeCommandExec",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire("afterCommandExec",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire("beforeGetData");var b=this._.data;"string"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is("textarea")?b.getValue():b.getHtml():
"");b={dataValue:b};!a&&this.fire("getData",b);return b.dataValue},getSnapshot:function(){var a=this.fire("getSnapshot");"string"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is("textarea")?a.getValue():a.getHtml():"");return a},loadSnapshot:function(a){this.fire("loadSnapshot",a)},setData:function(a,b,c){var d=!0,e=b;b&&"object"==typeof b&&(c=b.internal,e=b.callback,d=!b.noSnapshot);!c&&d&&this.fire("saveSnapshot");if(e||!c)this.once("dataReady",function(a){!c&&
d&&this.fire("saveSnapshot");e&&e.call(a.editor)});a={dataValue:a};!c&&this.fire("setData",a);this._.data=a.dataValue;!c&&this.fire("afterSetData",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire("readOnly"))},insertHtml:function(a,b,c){this.fire("insertHtml",{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire("insertText",a)},insertElement:function(a){this.fire("insertElement",
a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;b=A(c,b);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges(),e=new CKEDITOR.dom.documentFragment,f;if(!c||0===d.length)return null;for(f=0;f<d.length;f++)e.append(c.extractHtmlFromRange(d[f],b));b||this.getSelection().selectRanges([d[0]]);return a?e.getHtml():e},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==
this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return w.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,e=b.length;e--;)c=b[e],d=0,CKEDITOR.tools.isArray(c)&&(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},getCommandKeystroke:function(a){if(a="string"===typeof a?this.getCommand(a):a){var b=CKEDITOR.tools.object.findKey(this.commands,
a),c=this.keystrokeHandler.keystrokes,d;if(a.fakeKeystroke)return a.fakeKeystroke;for(d in c)if(c.hasOwnProperty(d)&&c[d]==b)return d}return null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire("activeFilterChange"),a===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,
b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire("activeEnterModeChange")},showNotification:function(a){alert(a)}})})();CKEDITOR.ELEMENT_MODE_NONE=0;CKEDITOR.ELEMENT_MODE_REPLACE=1;CKEDITOR.ELEMENT_MODE_APPENDTO=2;CKEDITOR.ELEMENT_MODE_INLINE=3;CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}};
(function(){var a=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,d={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,e,g=0,h;c=this._.htmlPartsRegex.exec(b);){e=c.index;if(e>g)if(g=b.substring(g,e),h)h.push(g);else this.onText(g);
g=this._.htmlPartsRegex.lastIndex;if(e=c[1])if(e=e.toLowerCase(),h&&CKEDITOR.dtd.$cdata[e]&&(this.onCDATA(h.join("")),h=null),!h){this.onTagClose(e);continue}if(h)h.push(c[0]);else if(e=c[3]){if(e=e.toLowerCase(),!/="/.test(e)){var k={},n,q=c[4];c=!!c[5];if(q)for(;n=a.exec(q);){var f=n[1].toLowerCase();n=n[2]||n[3]||n[4]||"";k[f]=!n&&d[f]?f:CKEDITOR.tools.htmlDecodeAttr(n)}this.onTagOpen(e,k,c);!h&&CKEDITOR.dtd.$cdata[e]&&(h=[])}}else if(e=c[2])this.onComment(e)}if(b.length>g)this.onText(b.substring(g,
b.length))}}})();
CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push("\x3c",a)},openTagClose:function(a,d){d?this._.output.push(" /\x3e"):this._.output.push("\x3e")},attribute:function(a,d){"string"==typeof d&&(d=CKEDITOR.tools.htmlEncodeAttr(d));this._.output.push(" ",a,'\x3d"',d,'"')},closeTag:function(a){this._.output.push("\x3c/",a,"\x3e")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push("\x3c!--",a,
"--\x3e")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var d=this._.output.join("");a&&this.reset();return d}}});"use strict";
(function(){CKEDITOR.htmlParser.node=function(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,d=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(d,1);this.parent=null},replaceWith:function(a){var d=this.parent.children,b=CKEDITOR.tools.indexOf(d,this),c=a.previous=this.previous,e=a.next=this.next;c&&(c.next=a);e&&(e.previous=a);d[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var d=a.parent.children,
b=CKEDITOR.tools.indexOf(d,a),c=a.next;d.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var d=a.parent.children,b=CKEDITOR.tools.indexOf(d,a);d.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var d="function"==typeof a?a:"string"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&
b.type==CKEDITOR.NODE_ELEMENT;){if(d(b))return b;b=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}})();"use strict";CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}};
CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,d){var b=this.value;if(!(b=a.onComment(d,b,this)))return this.remove(),!1;if("string"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,d){d&&this.filter(d);a.comment(this.value)}});"use strict";
(function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,d){if(!(this.value=a.onText(d,this.value,this)))return this.remove(),!1},writeHtml:function(a,d){d&&this.filter(d);a.text(this.value)}})})();"use strict";
(function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})})();"use strict";CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}};
(function(){function a(a){return a.attributes["data-cke-survive"]?!1:"a"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}var d=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),e={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=
function(g,h,k){function n(a){var b;if(0<m.length)for(var c=0;c<m.length;c++){var d=m[c],e=d.name,f=CKEDITOR.dtd[e],l=z.name&&CKEDITOR.dtd[z.name];l&&!l[e]||a&&f&&!f[a]&&CKEDITOR.dtd[a]?e==z.name&&(D(z,z.parent,1),c--):(b||(q(),b=1),d=d.clone(),d.parent=z,z=d,m.splice(c,1),c--)}}function q(){for(;K.length;)D(K.shift(),z)}function f(a){if(a._.isBlockLike&&"pre"!=a.name&&"textarea"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?
c.value=d:a.children.length=b-1)}}function D(b,c,d){c=c||z||x;var e=z;void 0===b.previous&&(w(c,b)&&(z=c,G.onTagOpen(k,{}),b.returnPoint=c=z),f(b),a(b)&&!b.children.length||c.add(b),"pre"==b.name&&(l=!1),"textarea"==b.name&&(I=!1));b.returnPoint?(z=b.returnPoint,delete b.returnPoint):z=d?c:e}function w(a,b){if((a==x||"body"==a.name)&&k&&(!a.name||CKEDITOR.dtd[a.name][k])){var c,d;return(c=b.attributes&&(d=b.attributes["data-cke-real-element-type"])?d:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&
!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function A(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||"dt"==a&&"dd"==b||"dd"==a&&"dt"==b:!1}var G=new CKEDITOR.htmlParser,x=h instanceof CKEDITOR.htmlParser.element?h:"string"==typeof h?new CKEDITOR.htmlParser.element(h):new CKEDITOR.htmlParser.fragment,m=[],K=[],z=x,I="textarea"==x.name,l="pre"==x.name;G.onTagOpen=function(e,f,g,k){f=new CKEDITOR.htmlParser.element(e,f);f.isUnknown&&g&&(f.isEmpty=!0);f.isOptionalClose=k;
if(a(f))m.push(f);else{if("pre"==e)l=!0;else{if("br"==e&&l){z.add(new CKEDITOR.htmlParser.text("\n"));return}"textarea"==e&&(I=!0)}if("br"==e)K.push(f);else{for(;!(k=(g=z.name)?CKEDITOR.dtd[g]||(z._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,f.isUnknown||z.isUnknown||k[e]);)if(z.isOptionalClose)G.onTagClose(g);else if(e in b&&g in b)g=z.children,(g=g[g.length-1])&&"li"==g.name||D(g=new CKEDITOR.htmlParser.element("li"),z),!f.returnPoint&&(f.returnPoint=z),z=g;else if(e in CKEDITOR.dtd.$listItem&&
!A(e,g))G.onTagOpen("li"==e?"ul":"dl",{},0,1);else if(g in d&&!A(e,g))!f.returnPoint&&(f.returnPoint=z),z=z.parent;else if(g in CKEDITOR.dtd.$inline&&m.unshift(z),z.parent)D(z,z.parent,1);else{f.isOrphan=1;break}n(e);q();f.parent=z;f.isEmpty?D(f):z=f}}};G.onTagClose=function(a){for(var b=m.length-1;0<=b;b--)if(a==m[b].name){m.splice(b,1);return}for(var c=[],d=[],e=z;e!=x&&e.name!=a;)e._.isBlockLike||d.unshift(e),c.push(e),e=e.returnPoint||e.parent;if(e!=x){for(b=0;b<c.length;b++){var f=c[b];D(f,f.parent)}z=
e;e._.isBlockLike&&q();D(e,e.parent);e==z&&(z=z.parent);m=m.concat(d)}"body"==a&&(k=!1)};G.onText=function(a){if(!(z._.hasInlineStarted&&!K.length||l||I)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=z.name,f=b?CKEDITOR.dtd[b]||(z._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!I&&!f["#"]&&b in d)G.onTagOpen(e[b]||""),G.onText(a);else{q();n();l||I||(a=a.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," "));a=new CKEDITOR.htmlParser.text(a);if(w(z,a))this.onTagOpen(k,{},0,1);z.add(a)}};G.onCDATA=
function(a){z.add(new CKEDITOR.htmlParser.cdata(a))};G.onComment=function(a){q();n();z.add(new CKEDITOR.htmlParser.comment(a))};G.parse(g);for(q();z!=x;)D(z,z.parent,1);f(x);return x};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=
a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==CKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,
c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var d=this.getFilterContext();if(c&&!this.parent&&b)b.onRoot(d,this);b&&this.filterChildren(b,!1,d);b=0;c=this.children;for(d=c.length;b<d;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var d=a(this);if(!1!==d){c=this.children;for(var e=0;e<c.length;e++)d=c[e],d.type==CKEDITOR.NODE_ELEMENT?d.forEach(a,b):b&&d.type!=b||a(d)}},getFilterContext:function(a){return a||
{}}}})();"use strict";
(function(){function a(){this.rules=[]}function d(b,c,d,g){var h,k;for(h in c)(k=b[h])||(k=b[h]=new a),k.add(c[h],d,g)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var e;"number"==typeof c?e=c:c&&"priority"in c&&(e=
c.priority);"number"!=typeof e&&(e=10);"object"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,e,c);a.attributeNames&&this.attributeNameRules.addMany(a.attributeNames,e,c);a.elements&&d(this.elementsRules,a.elements,e,c);a.attributes&&d(this.attributesRules,a.attributes,e,c);a.text&&this.textRules.add(a.text,e,c);a.comment&&this.commentRules.add(a.comment,e,c);a.root&&this.rootRules.add(a.root,e,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,
c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,d){return this.textRules.exec(a,c,d)},onComment:function(a,c,d){return this.commentRules.exec(a,c,d)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var d=[this.elementsRules["^"],this.elementsRules[c.name],this.elementsRules.$],g,h=0;3>h;h++)if(g=d[h]){g=g.exec(a,c,this);if(!1===g)return null;if(g&&g!=c)return this.onNode(a,g);if(c.parent&&!c.name)break}return c},
onNode:function(a,c){var d=c.type;return d==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):d==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,c.value)):d==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,d,g){return(d=this.attributesRules[d])?d.exec(a,g,c,this):g}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,d){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:d})},addMany:function(a,
c,d){for(var g=[this.findIndex(c),0],h=0,k=a.length;h<k;h++)g.push({value:a[h],priority:c,options:d});this.rules.splice.apply(this.rules,g)},findIndex:function(a){for(var c=this.rules,d=c.length-1;0<=d&&a<c[d].priority;)d--;return d+1},exec:function(a,c){var d=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,g=Array.prototype.slice.call(arguments,1),h=this.rules,k=h.length,n,q,f,D;for(D=0;D<k;D++)if(d&&(n=c.type,q=c.name),f=h[D],!(a.nonEditable&&!f.options.applyToAll||
a.nestedEditable&&f.options.excludeNestedEditable)){f=f.value.apply(null,g);if(!1===f||d&&f&&(f.name!=q||f.type!=n))return f;null!=f&&(g[0]=c=f)}return c},execOnName:function(a,c){for(var d=0,g=this.rules,h=g.length,k;c&&d<h;d++)k=g[d],a.nonEditable&&!k.options.applyToAll||a.nestedEditable&&k.options.excludeNestedEditable||(c=c.replace(k.value[0],k.value[1]));return c}}})();
(function(){function a(a,d){function f(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("Â "):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function v(a,d){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var t=[],l=b(e),v,p;if(l)for(u(l,1)&&t.push(l);l;)g(l)&&(v=c(l))&&u(v)&&((p=c(v))&&!g(p)?t.push(v):(f(y).insertAfter(v),v.remove())),l=l.previous;for(l=0;l<t.length;l++)t[l].remove();if(t=!a||!1!==("function"==typeof d?d(e):d))y||CKEDITOR.env.needsBrFiller||
e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?y||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem)?(t=b(e),t=!t||"form"==e.name&&"input"==t.name):t=!1:t=!1;t&&e.add(f(a))}}}function u(a,b){if((!y||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&"br"==a.name&&!a.attributes["data-cke-eol"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(m))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),
a.value=c[0]),!CKEDITOR.env.needsBrFiller&&y&&(!b||a.parent.name in B)||!y&&((c=a.previous)&&"br"==c.name||!c||g(c)))?!0:!1}var p={elements:{}},y="html"==d,B=CKEDITOR.tools.extend({},l),C;for(C in B)"#"in z[C]||delete B[C];for(C in B)p.elements[C]=v(y,a.config.fillEmptyBlocks);p.root=v(y,!1);p.elements.br=function(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.attributes;if("data-cke-bogus"in d||"data-cke-eol"in d)delete d["data-cke-bogus"];else{for(d=b.next;d&&e(d);)d=
d.next;var t=c(b);!d&&g(b.parent)?h(b.parent,f(a)):g(d)&&t&&!g(t)&&f(a).insertBefore(d)}}}}(y);return p}function d(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?"div":"p":!1}function b(a){for(a=a.children[a.children.length-1];a&&e(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&e(a);)a=a.previous;return a}function e(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes["data-cke-bookmark"]}function g(a){return a&&
(a.type==CKEDITOR.NODE_ELEMENT&&a.name in l||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function h(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function k(a){a=a.attributes;"false"!=a.contenteditable&&(a["data-cke-editable"]=a.contenteditable?"true":1);a.contenteditable="false"}function n(a){a=a.attributes;switch(a["data-cke-editable"]){case "true":a.contenteditable="true";break;case "1":delete a.contenteditable}}function q(a){return a.replace(u,
function(a,b,c){return"\x3c"+b+c.replace(y,function(a,b){return v.test(b)&&-1==c.indexOf("data-cke-saved-"+b)?" data-cke-saved-"+a+" data-cke-"+CKEDITOR.rnd+"-"+a:a})+"\x3e"})}function f(a,b){return a.replace(b,function(a,b,c){0===a.indexOf("\x3ctextarea")&&(a=b+A(c).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")+"\x3c/textarea\x3e");return"\x3ccke:encoded\x3e"+encodeURIComponent(a)+"\x3c/cke:encoded\x3e"})}function D(a){return a.replace(V,function(a,b){return decodeURIComponent(b)})}function w(a){return a.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,
function(a){return"\x3c!--"+K+"{C}"+encodeURIComponent(a).replace(/--/g,"%2D%2D")+"--\x3e"})}function A(a){return a.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)})}function G(a,b){var c=b._.dataStore;return a.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\{cke_protected_(\d+)\}/g,function(a,b){return c&&c[b]||""})}function x(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore=
{id:1}),f=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,d=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(d);a=a.replace(/\x3c!--[\s\S]*?--\x3e/g,function(a){return"\x3c!--{cke_tempcomment}"+(c.push(a)-1)+"--\x3e"});for(var l=0;l<d.length;l++)a=a.replace(d[l],function(a){a=a.replace(f,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:"\x3c!--{cke_temp}"+(c.push(a)-1)+"--\x3e"});a=a.replace(f,function(a,b,d){return"\x3c!--"+K+(b?"{C}":
"")+encodeURIComponent(c[d]).replace(/--/g,"%2D%2D")+"--\x3e"});a=a.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(a){return a.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(a,b){e[e.id]=decodeURIComponent(b);return"{cke_protected_"+e.id++ +"}"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(a,c,d,e){return"\x3c"+c+d+"\x3e"+G(A(e),b)+"\x3c/"+c+"\x3e"})}CKEDITOR.htmlDataProcessor=function(b){var c,
e,l=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=e=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(r);c.addRules(J,{applyToAll:!0});c.addRules(a(b,"data"),{applyToAll:!0});e.addRules(H);e.addRules(E,{applyToAll:!0});e.addRules(a(b,"html"),{applyToAll:!0});b.on("toHtml",function(a){a=a.data;var c=a.dataValue,e,c=x(c,b),c=f(c,L),c=q(c),c=f(c,B),c=c.replace(O,"$1cke:$2"),c=c.replace(C,"\x3ccke:$1$2\x3e\x3c/cke:$1\x3e"),
c=c.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2"),c=c.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=a.context||b.editable().getName();var l;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==e&&(e="div",c="\x3cpre\x3e"+c+"\x3c/pre\x3e",l=1);e=b.document.createElement(e);e.setHtml("a"+c);c=e.getHtml().substr(1);c=c.replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),"");l&&(c=c.replace(/^<pre>|<\/pre>$/gi,""));c=c.replace(p,"$1$2");c=D(c);c=A(c);e=!1===a.fixForBody?!1:
d(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,e);e&&(l=c,!l.children.length&&CKEDITOR.dtd[l.name][e]&&(e=new CKEDITOR.htmlParser.element(e),l.add(e)));a.dataValue=c},null,null,5);b.on("toHtml",function(a){a.data.filter.applyTo(a.data.dataValue,!0,a.data.dontFilter,a.data.enterMode)&&b.fire("dataFiltered")},null,null,6);b.on("toHtml",function(a){a.data.dataValue.filterChildren(l.dataFilter,!0)},null,null,10);b.on("toHtml",function(a){a=a.data;var b=a.dataValue,
c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=w(b)},null,null,15);b.on("toDataFormat",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\/?>/i,""));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,a.data.context,d(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on("toDataFormat",function(a){a.data.dataValue.filterChildren(l.htmlFilter,!0)},null,null,10);b.on("toDataFormat",function(a){a.data.filter.applyTo(a.data.dataValue,
!1,!0)},null,null,11);b.on("toDataFormat",function(a){var c=a.data.dataValue,d=l.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=A(c);c=G(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var e=this.editor,f,l,v,g;b&&"object"==typeof b?(f=b.context,c=b.fixForBody,d=b.dontFilter,l=b.filter,v=b.enterMode,g=b.protectedWhitespaces):f=b;f||null===f||(f=e.editable().getName());return e.fire("toHtml",{dataValue:a,context:f,fixForBody:c,dontFilter:d,
filter:l||e.filter,enterMode:v||e.enterMode,protectedWhitespaces:g}).dataValue},toDataFormat:function(a,b){var c,d,e;b&&(c=b.context,d=b.filter,e=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire("toDataFormat",{dataValue:a,filter:d||this.editor.filter,context:c,enterMode:e||this.editor.enterMode}).dataValue}};var m=/(?:&nbsp;|\xa0)$/,K="{cke_protected}",z=CKEDITOR.dtd,I="caption colgroup col thead tfoot tbody".split(" "),l=CKEDITOR.tools.extend({},z.$blockLimit,
z.$block),r={elements:{input:k,textarea:k}},J={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");if(0===b.indexOf("javascript")||0===b.indexOf("data"))a.attributes["data-cke-pa-src"]=a.attributes.src,delete a.attributes.src}}}},H={elements:{embed:function(a){var b=a.parent;if(b&&"object"==b.name){var c=b.attributes.width,b=b.attributes.height;
c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes["data-cke-saved-name"]))return!1}}},E={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(a){var b=a.attributes;if(b){if(b["data-cke-temp"])return!1;for(var c=["name","href","src"],d,e=0;e<c.length;e++)d="data-cke-saved-"+c[e],d in b&&delete b[c[e]]}return a},
table:function(a){a.children.slice(0).sort(function(a,b){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(I,a.name),d=CKEDITOR.tools.indexOf(I,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){"Apple-style-span"==a.attributes["class"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes["class"]},body:function(a){delete a.attributes.spellcheck;
delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type="text/css")},title:function(a){var b=a.children[0];!b&&h(a,b=new CKEDITOR.htmlParser.text);b.value=a.attributes["data-cke-title"]||""},input:n,textarea:n},attributes:{"class":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(E.attributes.style=function(a){return a.replace(/(^|;)([^\:]+)/g,
function(a){return a.toLowerCase()})});var u=/<(a|area|img|input|source)\b([^>]*)>/gi,y=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,v=/^(href|src|name)$/i,B=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,L=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,V=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,O=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,p=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,C=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi})();
"use strict";CKEDITOR.htmlParser.element=function(a,d){this.name=a;this.attributes=d||{};this.children=[];var b=a||"",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||CKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||"br"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}};
CKEDITOR.htmlParser.cssStyle=function(a){var d={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(a,c,e){"font-family"==c&&(e=e.replace(/["']/g,""));d[c.toLowerCase()]=e});return{rules:d,populate:function(a){var c=this.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute("style",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;
for(c in d)d[c]&&a.push(c,":",d[c],";");return a.join("")}}};
(function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof a?b.name==a:b.name in a)}}var d=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var d=this,h,k;b=d.getFilterContext(b);if(b.off)return!0;
if(!d.parent)a.onRoot(b,d);for(;;){h=d.name;if(!(k=a.onElementName(b,h)))return this.remove(),!1;d.name=k;if(!(d=a.onElement(b,d)))return this.remove(),!1;if(d!==this)return this.replaceWith(d),!1;if(d.name==h)break;if(d.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(d),!1;if(!d.name)return this.replaceWithChildren(),!1}h=d.attributes;var n,q;for(n in h){for(k=h[n];;)if(q=a.onAttributeName(b,n))if(q!=n)delete h[n],n=q;else break;else{delete h[n];break}q&&(!1===(k=a.onAttribute(b,d,q,k))?delete h[q]:
h[q]=k)}d.isEmpty||this.filterChildren(a,!1,b);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var g=this.name,h=[],k=this.attributes,n,q;a.openTag(g,k);for(n in k)h.push([n,k[n]]);a.sortAttributes&&h.sort(d);n=0;for(q=h.length;n<q;n++)k=h[n],a.attribute(k[0],k[1]);a.openTagClose(g,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(g)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);
this.remove()},forEach:b.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;"function"!=typeof b&&(b=a(b));for(var d=0,g=this.children.length;d<g;++d)if(b(this.children[d]))return this.children[d];return null},getHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,d=a.length;b<d;++b)a[b].parent=this},getOuterHtml:function(){var a=
new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),d=this.clone(),h=0;h<b.length;++h)b[h].parent=d;d.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-1].next=null);this.parent.add(d,this.getIndex()+1);return d},find:function(a,b){void 0===b&&(b=!1);var d=[],h;for(h=0;h<this.children.length;h++){var k=this.children[h];"function"==typeof a&&a(k)?d.push(k):"string"==typeof a&&k.name===a&&d.push(k);
b&&k.find&&(d=d.concat(k.find(a,b)))}return d},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes["class"]||"";this.attributes["class"]=b+(b?" ":"")+a}},removeClass:function(a){var b=this.attributes["class"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp("(?:\\s+|^)"+a+"(?:\\s+|$)")," ")))?this.attributes["class"]=b:delete this.attributes["class"])},hasClass:function(a){var b=this.attributes["class"];return b?(new RegExp("(?:^|\\s)"+a+"(?\x3d\\s|$)")).test(b):!1},getFilterContext:function(a){var b=
[];a||(a={off:!1,nonEditable:!1,nestedEditable:!1});a.off||"off"!=this.attributes["data-cke-processor"]||b.push("off",!0);a.nonEditable||"false"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&"true"==this.attributes.contenteditable&&b.push("nestedEditable",!0):b.push("nonEditable",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var d=0;d<b.length;d+=2)a[b[d]]=b[d+1]}return a}},!0)})();
(function(){var a=/{([^}]+)}/g;CKEDITOR.template=function(a){this.source=String(a)};CKEDITOR.template.prototype.output=function(d,b){var c=this.source.replace(a,function(a,b){return void 0!==d[b]?d[b]:a});return b?b.push(c):c}})();delete CKEDITOR.loadFullCore;CKEDITOR.instances={};CKEDITOR.document=new CKEDITOR.dom.document(document);
CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=a;a.on("focus",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire("currentInstance"))});a.on("blur",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))});CKEDITOR.fire("instance",null,a)};CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]};
(function(){var a={};CKEDITOR.addTemplate=function(d,b){var c=a[d];if(c)return c;c={name:d,source:b};CKEDITOR.fire("template",c);return a[d]=new CKEDITOR.template(c.source)};CKEDITOR.getTemplate=function(d){return a[d]}})();(function(){var a=[];CKEDITOR.addCss=function(d){a.push(d)};CKEDITOR.getCss=function(){return a.join("\n")}})();CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")});CKEDITOR.TRISTATE_ON=1;CKEDITOR.TRISTATE_OFF=2;
CKEDITOR.TRISTATE_DISABLED=0;
(function(){CKEDITOR.inline=function(a,d){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance "'+a.getEditor().name+'" is already attached to the provided element.';var b=new CKEDITOR.editor(d,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is("textarea")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\x3cdiv contenteditable\x3d"'+!!b.readOnly+'" class\x3d"cke_textarea_inline"\x3e'+c.getValue()+"\x3c/div\x3e",CKEDITOR.document),
a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on("loaded",function(){b.fire("uiReady");b.editable(a);b.container=a;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire("contentDom");b.mode="wysiwyg";b.fire("mode");b.status="ready";b.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,b)},null,null,1E4);b.on("destroy",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});
return b};CKEDITOR.inlineAll=function(){var a,d,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),e=0,g=c.count();e<g;e++)a=c.getItem(e),"true"==a.getAttribute("contenteditable")&&(d={element:a,config:{}},!1!==CKEDITOR.fire("inline",d)&&CKEDITOR.inline(a,d.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})})();CKEDITOR.replaceClass="ckeditor";
(function(){function a(a,e,g,h){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance "'+a.getEditor().name+'" is already attached to the provided element.';var k=new CKEDITOR.editor(e,a,h);h==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle("visibility","hidden"),k._.required=a.hasAttribute("required"),a.removeAttribute("required"));g&&k.setData(g,null,!0);k.on("loaded",function(){b(k);h==CKEDITOR.ELEMENT_MODE_REPLACE&&k.config.autoUpdateElement&&
a.$.form&&k._attachToForm();k.setMode(k.config.startupMode,function(){k.resetDirty();k.status="ready";k.fireOnce("instanceReady");CKEDITOR.fire("instanceReady",null,k)})});k.on("destroy",d);return k}function d(){var a=this.container,b=this.element;a&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute("required","required")),delete this.element)}function b(a){var b=a.name,d=a.element,h=a.elementMode,k=
a.fire("uiSpace",{space:"top",html:""}).html,n=a.fire("uiSpace",{space:"bottom",html:""}).html,q=new CKEDITOR.template('\x3c{outerEl} id\x3d"cke_{name}" class\x3d"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir\x3d"{langDir}" lang\x3d"{langCode}" role\x3d"application"'+(a.title?' aria-labelledby\x3d"cke_{name}_arialbl"':"")+"\x3e"+(a.title?'\x3cspan id\x3d"cke_{name}_arialbl" class\x3d"cke_voice_label"\x3e{voiceLabel}\x3c/span\x3e':"")+'\x3c{outerEl} class\x3d"cke_inner cke_reset" role\x3d"presentation"\x3e{topHtml}\x3c{outerEl} id\x3d"{contentId}" class\x3d"cke_contents cke_reset" role\x3d"presentation"\x3e\x3c/{outerEl}\x3e{bottomHtml}\x3c/{outerEl}\x3e\x3c/{outerEl}\x3e'),
b=CKEDITOR.dom.element.createFromHtml(q.output({id:a.id,name:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:k?'\x3cspan id\x3d"'+a.ui.spaceId("top")+'" class\x3d"cke_top cke_reset_all" role\x3d"presentation" style\x3d"height:auto"\x3e'+k+"\x3c/span\x3e":"",contentId:a.ui.spaceId("contents"),bottomHtml:n?'\x3cspan id\x3d"'+a.ui.spaceId("bottom")+'" class\x3d"cke_bottom cke_reset_all" role\x3d"presentation"\x3e'+n+"\x3c/span\x3e":"",outerEl:CKEDITOR.env.ie?"span":"div"}));h==CKEDITOR.ELEMENT_MODE_REPLACE?
(d.hide(),b.insertAfter(d)):d.append(b);a.container=b;a.ui.contentsElement=a.ui.space("contents");k&&a.ui.space("top").unselectable();n&&a.ui.space("bottom").unselectable();d=a.config.width;h=a.config.height;d&&b.setStyle("width",CKEDITOR.tools.cssLength(d));h&&a.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(h));b.disableContextMenu();CKEDITOR.env.webkit&&b.on("focus",function(){a.focus()});a.fireOnce("uiReady")}CKEDITOR.replace=function(b,d){return a(b,d,null,CKEDITOR.ELEMENT_MODE_REPLACE)};
CKEDITOR.appendTo=function(b,d,g){return a(b,d,g,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName("textarea"),b=0;b<a.length;b++){var d=null,h=a[b];if(h.name||h.id){if("string"==typeof arguments[0]){if(!(new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)")).test(h.className))continue}else if("function"==typeof arguments[0]&&(d={},!1===arguments[0](h,d)))continue;this.replace(h,d)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes=
{}))[a]=b};CKEDITOR.editor.prototype.setMode=function(a,b){var d=this,h=this._.modes;if(a!=d.mode&&h&&h[a]){d.fire("beforeSetMode",a);if(d.mode){var k=d.checkDirty(),h=d._.previousModeData,n,q=0;d.fire("beforeModeUnload");d.editable(0);d._.previousMode=d.mode;d._.previousModeData=n=d.getData(1);"source"==d.mode&&h==n&&(d.fire("lockSnapshot",{forceUpdate:!0}),q=1);d.ui.space("contents").setHtml("");d.mode=""}else d._.previousModeData=d.getData(1);this._.modes[a](function(){d.mode=a;void 0!==k&&!k&&
d.resetDirty();q?d.fire("unlockSnapshot"):"wysiwyg"==a&&d.fire("saveSnapshot");setTimeout(function(){d.fire("mode");b&&b.call(d)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,d,h){var k=this.container,n=this.ui.space("contents"),q=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;h=h?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_inner")}):k;h.setSize("width",a,!0);q&&(q.style.width="1%");var f=(h.$.offsetHeight||0)-(n.$.clientHeight||
0),k=Math.max(b-(d?0:f),0);b=d?b+f:b;n.setStyle("height",k+"px");q&&(q.style.width="100%");this.fire("resize",{outerHeight:b,contentsHeight:k,outerWidth:a||h.getSize("width")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space("contents"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})})();CKEDITOR.config.startupMode="wysiwyg";
(function(){function a(a){var b=a.editor,e=a.data.path,f=e.blockLimit,g=a.data.selection,u=g.getRanges()[0],y;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=d(g,e))g.appendBogus(),y=CKEDITOR.env.ie;h(b,e.block,f)&&u.collapsed&&!u.getCommonAncestor().isReadOnly()&&(e=u.clone(),e.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),f=new CKEDITOR.dom.walker(e),f.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!f.checkForward()||e.checkStartOfBlock()&&e.checkEndOfBlock())&&
(b=u.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\xa0)$/)&&b.remove(),y=1,a.cancel());y&&u.select()}function d(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||d.is("pre")||d.getBogus()))return d}function b(a){var b=a.data.getTarget();b.is("input")&&
(b=b.getAttribute("type"),"submit"!=b&&"reset"!=b||a.data.preventDefault())}function c(a){return f(a)&&D(a)}function e(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function g(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(f)&&(d=b);if(!(e||!c(b)||a&&A(b)))return!1}}var d,e=a.getRanges()[0];a=a.root;
var f={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(f)){var u=e.clone();u.collapse(1);u.setStartAt(a,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(u);a.guard=b();a.checkBackward();if(d)return u=e.clone(),u.collapse(),u.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(u),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function h(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&"true"==b.getAttribute("contenteditable"))}
function k(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?a.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p":!1}function n(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire("saveSnapshot")},0)}function q(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var f,D,w,A,G,x,m,K,z,I;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||
b);this.editor=a;this.status="unloaded";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;if(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=
this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();else this.$.setActive()}catch(c){if(!CKEDITOR.env.ie)throw c;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a="focus"==a?"focusin":"focusout",b=e(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&
(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData("classes");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData("classes",
b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);b!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),"text")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,
b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire("saveSnapshot");c||(c=d.getSelection().getRanges()[0]);x(this,b||"html",a,c);c.select();n(this);this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(a,b,c){x(this,c||"html",a,b);this.editor.fire("afterInsertHtml",{intoRange:b})},insertElement:function(a,b){var d=this.editor;d.focus();d.fire("saveSnapshot");var e=d.activeEnterMode,d=d.getSelection(),f=a.getName(),f=CKEDITOR.dtd.$block[f];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,
b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),f&&((f=a.getNext(function(a){return c(a)&&!A(a)}))&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(CKEDITOR.dtd.$block)?f.getDtd()["#"]?b.moveToElementEditStart(f):b.moveToElementEditEnd(a):f||e==CKEDITOR.ENTER_BR||(f=b.fixBlock(!0,e==CKEDITOR.ENTER_DIV?"div":"p"),b.moveToElementEditStart(f))));d.selectRanges([b]);n(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,
e=a.getName(),f=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;b.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?m(b):b.startContainer.is(CKEDITOR.dtd.$list)&&K(b));var g,v;if(f)for(;(g=b.getCommonAncestor(0,1))&&(v=CKEDITOR.dtd[g.getName()])&&(!v||!v[e]);)g.getName()in CKEDITOR.dtd.span?b.splitElement(g):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(g),b.collapse(!0),g.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?
"div":"p",c.editable());b.insertNode(a);return!0},setData:function(a,b){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();"unloaded"==this.status&&(this.status="ready");this.editor.fire("dataReady")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute("contenteditable",!a)},detach:function(){this.removeClass("cke_editable");this.status="detached";var a=this.editor;this._.detach();
delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;a:if(d.anchorNode&&d.anchorNode==c.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=c.getDocument().getActive())&&e.equals(c)&&!d.anchorNode){e=!0;break a}e=void 0}e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),b=b.createRange(),b.setStart(e.startContainer.$,e.startOffset),b.collapse(!0),d.removeAllRanges(),
d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();"None"==d.type&&e.equals(c)&&(d=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once("focus",
function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);a={doc:this.getDocument(),range:a.clone()};z.eol.detect(a,this);z.bogus.exclude(a);z.cell.shrink(a);a.fragment=a.range.cloneContents();z.tree.rebuild(a,this);z.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=I,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,
1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var f=this.editor.createRange();f.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=f.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),a.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();
c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);if(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag("span"),f=0,g;if(d)for(;g=d.getItem(f++);)if(!D(g)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),w(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();
return e},setup:function(){var a=this.editor;this.attachListener(a,"beforeGetData",function(){var b=this.getData();this.is("textarea")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(G,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,"getSnapshot",function(a){a.data=this.getData(1)},this);this.attachListener(a,"afterSetData",function(){this.setData(a.getData(1))},this);this.attachListener(a,"loadSnapshot",function(a){this.setData(a.data,1)},this);this.attachListener(a,
"beforeFocus",function(){var b=a.getSelection();(b=b&&b.getNative())&&"Control"==b.type||this.focus()},this);this.attachListener(a,"insertHtml",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,"insertElement",function(a){this.insertElement(a.data)},this);this.attachListener(a,"insertText",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass("cke_editable");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):
a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed");this.attachClass("cke_contents_"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on("blur",function(){this.hasFocus=!1},null,null,-1);this.on("focus",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on("scroll",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,
null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();null!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener("scroll",d))};this.on("scroll",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once("contentDom",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr("tabindex",a.tabIndex);if(!this.is("textarea")){a.document=
this.getDocument();a.window=this.getWindow();var e=a.document;this.changeAttr("spellcheck",!a.config.disableNativeSpellChecker);var k=a.config.contentsLangDirection;this.getDirection(1)!=k&&this.changeAttr("dir",k);var h=CKEDITOR.getCss();if(h){var k=e.getHead(),u=k.getCustomData("stylesheet");u?h!=u.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?u.$.styleSheet.cssText=h:u.setText(h)):(h=e.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),k.setCustomData("stylesheet",
h),h.data("cke-temp",1))}k=e.getCustomData("stylesheet_ref")||0;e.setCustomData("stylesheet_ref",k+1);this.setCustomData("cke_includeReadonly",!a.config.disableReadonlyStyling);this.attachListener(this,"click",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains("a");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var y={8:1,46:1};this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;b=a.getSelection();if(0!==b.getRanges().length){if(c in
y){var e,u=b.getRanges()[0],p=u.startPath(),C,t,k,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(e=b.getSelectedElement())||(e=g(b))?(a.fire("saveSnapshot"),u.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),u.select(),a.fire("saveSnapshot"),d=1):u.collapsed&&((C=p.block)&&(k=C[c?"getPrevious":"getNext"](f))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("table")&&u[c?"checkStartOfBlock":"checkEndOfBlock"]()?(a.fire("saveSnapshot"),u[c?"checkEndOfBlock":"checkStartOfBlock"]()&&C.remove(),u["moveToElementEdit"+
(c?"End":"Start")](k),u.select(),a.fire("saveSnapshot"),d=1):p.blockLimit&&p.blockLimit.is("td")&&(t=p.blockLimit.getAscendant("table"))&&u.checkBoundaryOfElement(t,c?CKEDITOR.START:CKEDITOR.END)&&(k=t[c?"getPrevious":"getNext"](f))?(a.fire("saveSnapshot"),u["moveToElementEdit"+(c?"End":"Start")](k),u.checkStartOfBlock()&&u.checkEndOfBlock()?k.remove():u.select(),a.fire("saveSnapshot"),d=1):(t=p.contains(["td","th","caption"]))&&u.checkBoundaryOfElement(t,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d}});
a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(b){b.data.getKeystroke()in y&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,"dblclick",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire("doubleclick",b)});CKEDITOR.env.ie&&this.attachListener(this,"click",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",
function(b){var c=b.data.getTarget();c.is("img","hr","input","textarea","select")&&!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is("input","textarea","select")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(b){(b=b.data.getTarget())&&b.is("img")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(G,""))){var c=a.createRange();
c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(a){a.data.getTarget().is("input","select")&&a.data.preventDefault()}),this.attachListener(this,"mouseup",function(a){a.data.getTarget().is("input","textarea")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,"key",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey();if(c in y&&(b=a.getSelection(),0!==b.getRanges().length)){var c=8==c,d=b.getRanges()[0];b=d.startPath();
if(d.collapsed)a:{var e=b.block;if(e&&d[c?"checkStartOfBlock":"checkEndOfBlock"]()&&d.moveToClosestEditablePosition(e,!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var f=d.startContainer.getChild(d.startOffset-(c?1:0));if(f&&f.type==CKEDITOR.NODE_ELEMENT&&f.is("hr")){a.fire("saveSnapshot");f.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(e))b=void 0;else{a.fire("saveSnapshot");var p;(p=(c?d:e).getBogus())&&p.remove();p=a.getSelection();f=p.createBookmarks();
(c?e:d).moveChildren(c?d:e,!1);b.lastElement.mergeSiblings();q(e,d,!c);p.selectBookmarks(f);b=!0}}else b=!1}else c=d,p=b.block,d=c.endPath().block,p&&d&&!p.equals(d)?(a.fire("saveSnapshot"),(e=p.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(p,!1),b.lastElement.mergeSiblings(),q(p,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),""===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;
a.getSelection().scrollIntoView();a.fire("saveSnapshot");return!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData("classes"))for(;a.length;)this.removeClass(a.pop());if(!this.is("textarea")){a=this.getDocument();var b=a.getHead();if(b.getCustomData("stylesheet")){var c=a.getCustomData("stylesheet_ref");--c?a.setCustomData("stylesheet_ref",c):(a.removeCustomData("stylesheet_ref"),b.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload");
delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=this._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on("instanceLoaded",function(b){var c=b.editor;c.on("insertElement",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is("input")||a.is("textarea"))&&("false"!=a.getAttribute("contentEditable")&&a.data("cke-editable",a.hasAttribute("contenteditable")?
"true":"1"),a.setAttribute("contentEditable",!1))});c.on("selectionChange",function(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire("lockSnapshot"),a(b),c.fire("unlockSnapshot"),!d&&c.resetDirty())}})});CKEDITOR.on("instanceCreated",function(a){var b=a.editor;b.on("mode",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr("role","textbox");a.changeAttr("aria-label",c);c&&a.changeAttr("title",c);var d=b.fire("ariaEditorHelpLabel",{}).label;
if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\x3cspan id\x3d"'+e+'" class\x3d"cke_voice_label"\x3e'+d+"\x3c/span\x3e");c.append(d);a.changeAttr("aria-describedby",e)}}})});CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}");f=CKEDITOR.dom.walker.whitespaces(!0);D=CKEDITOR.dom.walker.bookmark(!1,!0);w=CKEDITOR.dom.walker.empty();
A=CKEDITOR.dom.walker.bogus();G=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi;x=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,f,u,g,y=[],k=d.range.startContainer;e=d.range.startPath();for(var k=v[k.getName()],h=0,B=c.getChildren(),n=B.count(),L=-1,q=-1,E=0,H=e.contains(v.$list);h<n;++h)e=B.getItem(h),a(e)?(u=e.getName(),H&&u in CKEDITOR.dtd.$list?y=y.concat(b(e,d)):(g=!!k[u],
"br"!=u||!e.data("cke-eol")||h&&h!=n-1||(E=(f=h?y[h-1].node:B.getItem(h+1))&&(!a(f)||!f.is("br")),f=f&&a(f)&&v.$block[f.getName()]),-1!=L||g||(L=h),g||(q=h),y.push({isElement:1,isLineBreak:E,isBlock:e.isBlockBoundary(),hasBlockSibling:f,node:e,name:u,allowed:g}),f=E=0)):y.push({isElement:0,node:e,allowed:1});-1<L&&(y[L].firstNotAllowed=1);-1<q&&(y[q].lastNotAllowed=1);return y}function d(b,c){var e=[],f=b.getChildren(),u=f.count(),g,y=0,k=v[c],h=!b.is(v.$inline)||b.is("br");for(h&&e.push(" ");y<u;y++)g=
f.getItem(y),a(g)&&!g.is(k)?e=e.concat(d(g,c)):e.push(g);h&&e.push(" ");return e}function e(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function f(b){return b&&a(b)&&(b.is(v.$removeEmpty)||b.is("a")&&!b.isBlockBoundary())}function u(b,c,d,e){var f=b.clone(),g,v;f.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(g=(new CKEDITOR.dom.walker(f)).next())&&a(g)&&B[g.getName()]&&(v=g.getPrevious())&&a(v)&&!v.getParent().equals(b.startContainer)&&d.contains(v)&&e.contains(g)&&g.isIdentical(v)&&
(g.moveChildren(v),g.remove(),u(b,c,d,e))}function g(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is("br")&&a(b)&&b.is("br"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),f=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);f&&d(f,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var v=CKEDITOR.dtd,B={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},L={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n=CKEDITOR.tools.extend({},
v.$inline);delete n.br;return function(B,p,C,t){var F=B.editor,N=!1;"unfiltered_html"==p&&(p="html",N=!0);if(!t.checkReadOnly()){var q=(new CKEDITOR.dom.elementPath(t.startContainer,t.root)).blockLimit||t.root;B={type:p,dontFilter:N,editable:B,editor:F,range:t,blockLimit:q,mergeCandidates:[],zombies:[]};p=B.range;t=B.mergeCandidates;var m,w;"text"==B.type&&p.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(m=CKEDITOR.dom.element.createFromHtml("\x3cspan\x3e\x26nbsp;\x3c/span\x3e",p.document),p.insertNode(m),
p.setStartAfter(m));N=new CKEDITOR.dom.elementPath(p.startContainer);B.endPath=q=new CKEDITOR.dom.elementPath(p.endContainer);if(!p.collapsed){var F=q.block||q.blockLimit,x=p.getCommonAncestor();F&&!F.equals(x)&&!F.contains(x)&&p.checkEndOfBlock()&&B.zombies.push(F);p.deleteContents()}for(;(w=e(p))&&a(w)&&w.isBlockBoundary()&&N.contains(w);)p.moveToPosition(w,CKEDITOR.POSITION_BEFORE_END);u(p,B.blockLimit,N,q);m&&(p.setEndBefore(m),p.collapse(),m.remove());m=p.startPath();if(F=m.contains(f,!1,1))p.splitElement(F),
B.inlineStylesRoot=F,B.inlineStylesPeak=m.lastElement;m=p.createBookmark();(F=m.startNode.getPrevious(c))&&a(F)&&f(F)&&t.push(F);(F=m.startNode.getNext(c))&&a(F)&&f(F)&&t.push(F);for(F=m.startNode;(F=F.getParent())&&f(F);)t.push(F);p.moveToBookmark(m);if(m=C){m=B.range;if("text"==B.type&&B.inlineStylesRoot){w=B.inlineStylesPeak;p=w.getDocument().createText("{cke-peak}");for(t=B.inlineStylesRoot.getParent();!w.equals(t);)p=p.appendTo(w.clone()),w=w.getParent();C=p.getOuterHtml().split("{cke-peak}").join(C)}w=
B.blockLimit.getName();if(/^\s+|\s+$/.test(C)&&"span"in CKEDITOR.dtd[w]){var D='\x3cspan data-cke-marker\x3d"1"\x3e\x26nbsp;\x3c/span\x3e';C=D+C+D}C=B.editor.dataProcessor.toHtml(C,{context:null,fixForBody:!1,protectedWhitespaces:!!D,dontFilter:B.dontFilter,filter:B.editor.activeFilter,enterMode:B.editor.activeEnterMode});w=m.document.createElement("body");w.setHtml(C);D&&(w.getFirst().remove(),w.getLast().remove());if((D=m.startPath().block)&&(1!=D.getChildCount()||!D.getBogus()))a:{var A;if(1==
w.getChildCount()&&a(A=w.getFirst())&&A.is(L)&&!A.hasAttribute("contenteditable")){D=A.getElementsByTag("*");m=0;for(t=D.count();m<t;m++)if(p=D.getItem(m),!p.is(n))break a;A.moveChildren(A.getParent(1));A.remove()}}B.dataWrapper=w;m=C}if(m){A=B.range;m=A.document;var M;w=B.blockLimit;t=0;var z,D=[],G,S;C=F=0;var I,K;p=A.startContainer;var N=B.endPath.elements[0],W,q=N.getPosition(p),x=!!N.getCommonAncestor(p)&&q!=CKEDITOR.POSITION_IDENTICAL&&!(q&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);
p=b(B.dataWrapper,B);for(g(p,A);t<p.length;t++){q=p[t];if(M=q.isLineBreak){M=A;I=w;var R=void 0,Z=void 0;q.hasBlockSibling?M=1:(R=M.startContainer.getAscendant(v.$block,1))&&R.is({div:1,p:1})?(Z=R.getPosition(I),Z==CKEDITOR.POSITION_IDENTICAL||Z==CKEDITOR.POSITION_CONTAINS?M=0:(I=M.splitElement(R),M.moveToPosition(I,CKEDITOR.POSITION_AFTER_START),M=1)):M=0}if(M)C=0<t;else{M=A.startPath();!q.isBlock&&h(B.editor,M.block,M.blockLimit)&&(S=k(B.editor))&&(S=m.createElement(S),S.appendBogus(),A.insertNode(S),
CKEDITOR.env.needsBrFiller&&(z=S.getBogus())&&z.remove(),A.moveToPosition(S,CKEDITOR.POSITION_BEFORE_END));if((M=A.startPath().block)&&!M.equals(G)){if(z=M.getBogus())z.remove(),D.push(M);G=M}q.firstNotAllowed&&(F=1);if(F&&q.isElement){M=A.startContainer;for(I=null;M&&!v[M.getName()][q.name];){if(M.equals(w)){M=null;break}I=M;M=M.getParent()}if(M)I&&(K=A.splitElement(I),B.zombies.push(K),B.zombies.push(I));else{I=w.getName();W=!t;M=t==p.length-1;I=d(q.node,I);for(var R=[],Z=I.length,aa=0,ca=void 0,
da=0,T=-1;aa<Z;aa++)ca=I[aa]," "==ca?(da||W&&!aa||(R.push(new CKEDITOR.dom.text(" ")),T=R.length),da=1):(R.push(ca),da=0);M&&T==R.length&&R.pop();W=R}}if(W){for(;M=W.pop();)A.insertNode(M);W=0}else A.insertNode(q.node);q.lastNotAllowed&&t<p.length-1&&((K=x?N:K)&&A.setEndAt(K,CKEDITOR.POSITION_AFTER_START),F=0);A.collapse()}}1!=p.length?z=!1:(z=p[0],z=z.isElement&&"false"==z.node.getAttribute("contenteditable"));z&&(C=!0,M=p[0].node,A.setStartAt(M,CKEDITOR.POSITION_BEFORE_START),A.setEndAt(M,CKEDITOR.POSITION_AFTER_END));
B.dontMoveCaret=C;B.bogusNeededBlocks=D}z=B.range;var Q;K=B.bogusNeededBlocks;for(W=z.createBookmark();G=B.zombies.pop();)G.getParent()&&(S=z.clone(),S.moveToElementEditStart(G),S.removeEmptyBlocksAtEnd());if(K)for(;G=K.pop();)CKEDITOR.env.needsBrFiller?G.appendBogus():G.append(z.document.createText("Â "));for(;G=B.mergeCandidates.pop();)G.mergeSiblings();z.moveToBookmark(W);if(!B.dontMoveCaret){for(G=e(z);G&&a(G)&&!G.is(v.$empty);){if(G.isBlockBoundary())z.moveToPosition(G,CKEDITOR.POSITION_BEFORE_END);
else{if(f(G)&&G.getHtml().match(/(\s|&nbsp;)$/g)){Q=null;break}Q=z.clone();Q.moveToPosition(G,CKEDITOR.POSITION_BEFORE_END)}G=G.getLast(c)}Q&&z.moveToRange(Q)}}}}();m=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),
d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}return function(d){var e=d.startContainer,f=e.getAscendant("table",1),g=!1;c(f.getElementsByTag("td"));c(f.getElementsByTag("th"));f=d.clone();f.setStart(e,0);f=a(f).lastBackward();f||(f=d.clone(),f.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),f=a(f).lastForward(),g=!0);f||(f=e);f.is("table")?(d.setStartAt(f,CKEDITOR.POSITION_BEFORE_START),
d.collapse(!0),f.remove()):(f.is({tbody:1,thead:1,tfoot:1})&&(f=b(f,"tr",g)),f.is("tr")&&(f=b(f,f.getParent().is("thead")?"th":"td",g)),(e=f.getBogus())&&e.remove(),d.moveToPosition(f,g?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();K=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&
a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var c=b.startContainer,d=!1,e;e=b.clone();e.setStart(c,0);e=a(e).lastBackward();e||(e=b.clone(),e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),e=a(e).lastForward(),d=!0);e||(e=c);e.is(CKEDITOR.dtd.$list)?(b.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),e.remove()):((c=e.getBogus())&&c.remove(),b.moveToPosition(e,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();z={eol:{detect:function(a,b){var c=a.range,
d=c.clone(),e=c.clone(),f=new CKEDITOR.dom.elementPath(c.startContainer,b),g=new CKEDITOR.dom.elementPath(c.endContainer,b);d.collapse(1);e.collapse();f.block&&d.checkBoundaryOfElement(f.block,CKEDITOR.END)&&(c.setStartAfter(f.block),a.prependEolBr=1);g.block&&e.checkBoundaryOfElement(g.block,CKEDITOR.START)&&(c.setEndBefore(g.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),
1)},createEolBr:function(a){return a.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,b=b.endNode;!b||!A(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),f=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),g;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,
table:1})){var v=e.contains("table").getParent();g=function(a){return!a.equals(v)}}else if(e.block&&e.block.is(CKEDITOR.dtd.$listItem)&&(f=f.contains(CKEDITOR.dtd.$list),c=c.contains(CKEDITOR.dtd.$list),!f.equals(c))){var k=e.contains(CKEDITOR.dtd.$list).getParent();g=function(a){return!a.equals(k)}}g||(g=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,g)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),
a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,d=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&b.equals(c)&&b.is("tr")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};I=function(){function a(b,c){var d=b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?"insertBefore":"insertAfter"](d)}function b(c,d,e){a(d);a(e,1);for(var f;f=e.getNext();)f.insertAfter(d),d=f;w(c)&&c.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);
d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),e=d.startPath(),f=d.endPath(),g=e.contains(CKEDITOR.dtd.$list),k=f.contains(CKEDITOR.dtd.$list);a.mergeList=g&&k&&g.getParent().equals(k.getParent())&&!g.equals(k);a.mergeListItems=e.block&&f.block&&e.block.is(CKEDITOR.dtd.$listItem)&&f.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=
d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,e=a.mergeListBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var k=f.contains(CKEDITOR.dtd.$list),h=g.contains(CKEDITOR.dtd.$list);k.equals(h)||(h.moveChildren(k),h.remove())}a.mergeListItems&&(f=f.contains(CKEDITOR.dtd.$listItem),g=g.contains(CKEDITOR.dtd.$listItem),f.equals(g)||b(g,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,
b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=c.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,f=new CKEDITOR.dom.elementPath(d,c),g=new CKEDITOR.dom.elementPath(e,c),f=f.block,g=g.block;f&&g&&!f.equals(g)&&b(g,d,e);d.remove();e.remove()}}},table:function(){function a(c){var e=
[],f,g=new CKEDITOR.dom.walker(c),k=c.startPath().contains(d),h=c.endPath().contains(d),p={};g.guard=function(a,g){if(a.type==CKEDITOR.NODE_ELEMENT){var F="visited_"+(g?"out":"in");if(a.getCustomData(F))return;CKEDITOR.dom.element.setMarker(p,a,F,1)}if(g&&k&&a.equals(k))f=c.clone(),f.setEndAt(k,CKEDITOR.POSITION_BEFORE_END),e.push(f);else if(!g&&h&&a.equals(h))f=c.clone(),f.setStartAt(h,CKEDITOR.POSITION_AFTER_START),e.push(f);else{if(F=!g)F=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!k||b(a,k))&&(!h||
b(a,h));F&&(f=c.clone(),f.selectNodeContents(a),e.push(f))}};g.lastForward();CKEDITOR.dom.element.clearAllMarkers(p);return e}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,e=a.getPosition(c);return e===CKEDITOR.POSITION_IDENTICAL?!1:0===(e&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};
c.checkForward();if(1<e){var c=b.startPath().contains("table"),f=b.endPath().contains("table");c&&f&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(f,CKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(f),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,f){var g=c(f,e.bookmark),k=g.clone(),h,l,p=g.getCommonAncestor();p.is(CKEDITOR.dtd.$tableContent)&&!p.is(d)&&(p=p.getAscendant("table",!0));l=p;p=new CKEDITOR.dom.elementPath(g.startContainer,
l);l=new CKEDITOR.dom.elementPath(g.endContainer,l);p=p.contains("table");l=l.contains("table");if(p||l)p&&l&&b(p,l)?(e.tableSurroundingRange=k,k.setStartAt(p,CKEDITOR.POSITION_AFTER_END),k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),k=g.clone(),k.setEndAt(p,CKEDITOR.POSITION_AFTER_END),h=g.clone(),h.setStartAt(l,CKEDITOR.POSITION_BEFORE_START),h=a(k).concat(a(h))):p?l||(e.tableSurroundingRange=k,k.setStartAt(p,CKEDITOR.POSITION_AFTER_END),g.setEndAt(p,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=
k,k.setEndAt(l,CKEDITOR.POSITION_BEFORE_START),g.setStartAt(l,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=h?h:a(g)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),w(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement("p");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);
c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(a){a.startContainer.getDtd()["#"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),d;h(a,c.block,c.blockLimit)&&(d=k(a))&&(d=b.document.createElement(d),d.appendBogus(),b.insertNode(d),b.moveToPosition(d,
CKEDITOR.POSITION_AFTER_START))}}}()})();
(function(){function a(a,b){if(0===a.length)return!1;var c,d;if((c=!b&&1===a.length)&&!(c=a[0].collapsed)){var e=a[0];c=e.startContainer.getAscendant({td:1,th:1},!0);var f=e.endContainer.getAscendant({td:1,th:1},!0);d=CKEDITOR.tools.trim;c&&c.equals(f)&&!c.findOne("td, th, tr, tbody, table")?(e=e.cloneContents(),c=e.getFirst()?d(e.getFirst().getText())!==d(c.getText()):!0):c=!1}if(c)return!1;for(d=0;d<a.length;d++)if(c=a[d]._getTableElement(),!c)return!1;return!0}function d(a){function b(a){a=a.find("td, th");
var c=[],d;for(d=0;d<a.count();d++)c.push(a.getItem(d));return c}var c=[],d,e;for(e=0;e<a.length;e++)d=a[e]._getTableElement(),d.is&&d.is({td:1,th:1})?c.push(d):c=c.concat(b(d));return c}function b(a){a=d(a);var b="",c=[],e,f;for(f=0;f<a.length;f++)e&&!e.equals(a[f].getAscendant("tr"))?(b+=c.join("\t")+"\n",e=a[f].getAscendant("tr"),c=[]):0===f&&(e=a[f].getAscendant("tr")),c.push(a[f].getText());return b+=c.join("\t")}function c(a){var c=this.root.editor,d=c.getSelection(1);this.reset();I=!0;d.root.once("selectionchange",
function(a){a.cancel()},null,null,0);d.selectRanges([a[0]]);d=this._.cache;d.ranges=new CKEDITOR.dom.rangeList(a);d.type=CKEDITOR.SELECTION_TEXT;d.selectedElement=a[0]._getTableElement();d.selectedText=b(a);d.nativeSel=null;this.isFake=1;this.rev=m++;c._.fakeSelection=this;I=!1;this.root.fire("selectionchange")}function e(){var b=this._.fakeSelection,c;if(b){c=this.getSelection(1);var d;if(!(d=!c)&&(d=!c.isHidden())){d=b;var e=c.getRanges(),f=d.getRanges(),g=e.length&&e[0]._getTableElement()&&e[0]._getTableElement().getAscendant("table",
!0),k=f.length&&f[0]._getTableElement()&&f[0]._getTableElement().getAscendant("table",!0),p=1===e.length&&e[0]._getTableElement()&&e[0]._getTableElement().is("table"),h=1===f.length&&f[0]._getTableElement()&&f[0]._getTableElement().is("table"),t=1===e.length&&e[0].collapsed,f=a(e,!!CKEDITOR.env.webkit)&&a(f);g=g&&k?g.equals(k)||k.contains(g):!1;g&&(t||f)?(p&&!h&&d.selectRanges(e),d=!0):d=!1;d=!d}d&&(b.reset(),b=0)}if(!b&&(b=c||this.getSelection(1),!b||b.getType()==CKEDITOR.SELECTION_NONE))return;
this.fire("selectionCheck",b);c=this.elementPath();c.compare(this._.selectionPreviousPath)||(d=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(c.blockLimit),CKEDITOR.env.webkit&&!d&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=c,this.fire("selectionChange",{selection:b,path:c}))}function g(){r=!0;l||(h.call(this),l=CKEDITOR.tools.setTimeout(h,200,this))}function h(){l=null;r&&(CKEDITOR.tools.setTimeout(e,0,this),r=!1)}function k(a){return J(a)||
a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function n(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()["moveToElementEdit"+(d?"End":"Start")](c):!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,d=a.getPreviousNode(k,null,c),e=a.getNextNode(k,null,c);return b(d)||b(e,1)||!(d||e||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function q(a){f(a,!1);var b=a.getDocument().createText(K);a.setCustomData("cke-fillingChar",
b);return b}function f(a,b){var c=a&&a.removeCustomData("cke-fillingChar");if(c){if(!1!==b){var d=a.getDocument().getSelection().getNative(),e=d&&"None"!=d.type&&d.getRangeAt(0),f=K.length;if(c.getLength()>f&&e&&e.intersectsNode(c.$)){var g=[{node:d.anchorNode,offset:d.anchorOffset},{node:d.focusNode,offset:d.focusOffset}];d.anchorNode==c.$&&d.anchorOffset>f&&(g[0].offset-=f);d.focusNode==c.$&&d.focusOffset>f&&(g[1].offset-=f)}}c.setText(D(c.getText(),1));g&&(c=a.getDocument().$,d=c.getSelection(),
c=c.createRange(),c.setStart(g[0].node,g[0].offset),c.collapse(!0),d.removeAllRanges(),d.addRange(c),d.extend(g[1].node,g[1].offset))}}function D(a,b){return b?a.replace(z,function(a,b){return b?"Â ":""}):a.replace(K,"")}function w(a,b){var c=CKEDITOR.dom.element.createFromHtml('\x3cdiv data-cke-hidden-sel\x3d"1" data-cke-temp\x3d"1" style\x3d"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px")+'"\x3e'+(b||"\x26nbsp;")+"\x3c/div\x3e",a.document);a.fire("lockSnapshot");
a.editable().append(c);var d=a.getSelection(1),e=a.createRange(),f=d.root.on("selectionchange",function(a){a.cancel()},null,null,0);e.setStartAt(c,CKEDITOR.POSITION_AFTER_START);e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);d.selectRanges([e]);f.removeListener();a.fire("unlockSnapshot");a._.hiddenSelectionContainer=c}function A(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),f=e[0];1==e.length&&f.collapsed&&(d=f[38>d?"getPreviousEditableNode":
"getNextEditableNode"]())&&d.type==CKEDITOR.NODE_ELEMENT&&"false"==d.getAttribute("contenteditable")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}function G(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is("body")||!d.isReadOnly());)e&&"false"==d.getAttribute("contentEditable")&&c.setStartAfter(d),d=d.getParent();
d=c.startContainer;e=c.endContainer;var f=c.startOffset,g=c.endOffset,p=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(f>=d.getLength()?p.setStartAfter(d):p.setStartBefore(d));e&&e.type==CKEDITOR.NODE_TEXT&&(g?p.setEndAfter(e):p.setEndBefore(e));d=new CKEDITOR.dom.walker(p);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(p.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+
1,0,e));return!0}return!1};d.next()}}return a}var x="function"!=typeof window.getSelection,m=1,K=CKEDITOR.tools.repeat("â",7),z=new RegExp(K+"( )?","g"),I,l,r,J=CKEDITOR.dom.walker.invisible(1),H=function(){function a(b){return function(a){var c=a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),e;(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,
!a));e&&c.getSelection().selectRanges([d]);c.fire("saveSnapshot");b.selected.remove();e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d]));c.fire("saveSnapshot");return!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on("instanceCreated",function(a){function b(){var a=c.getSelection();a&&a.removeAllRanges()}var c=a.editor;c.on("contentDom",function(){function a(){q=new CKEDITOR.dom.selection(c.getSelection());q.lock()}function b(){p.removeListener("mouseup",
b);u.removeListener("mouseup",b);var a=CKEDITOR.document.$.selection,c=a.createRange();"None"!=a.type&&c.parentElement()&&c.parentElement().ownerDocument==k.$&&c.select()}function d(a){if(CKEDITOR.env.ie){var b=(a=a.getRanges()[0])?a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&("false"==a.getAttribute("contenteditable")||"true"==a.getAttribute("contenteditable"))},!0):null;return a&&"false"==b.getAttribute("contenteditable")&&b}}var k=c.document,p=CKEDITOR.document,
h=c.editable(),t=k.getBody(),u=k.getDocumentElement(),l=h.isInline(),y,q;CKEDITOR.env.gecko&&h.attachListener(h,"focus",function(a){a.removeListener();0!==y&&(a=c.getSelection().getNative())&&a.isCollapsed&&a.anchorNode==h.$&&(a=c.createRange(),a.moveToElementEditStart(h),a.select())},null,null,-2);h.attachListener(h,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){y&&CKEDITOR.env.webkit&&(y=c._.previousActive&&c._.previousActive.equals(k.getActive()))&&null!=c._.previousScrollTop&&c._.previousScrollTop!=
h.$.scrollTop&&(h.$.scrollTop=c._.previousScrollTop);c.unlockSelection(y);y=0},null,null,-1);h.attachListener(h,"mousedown",function(){y=0});if(CKEDITOR.env.ie||l)x?h.attachListener(h,"beforedeactivate",a,null,null,-1):h.attachListener(c,"selectionCheck",a,null,null,-1),h.attachListener(h,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){c.lockSelection(q);y=1},null,null,-1),h.attachListener(h,"mousedown",function(){y=0});if(CKEDITOR.env.ie&&!l){var n;h.attachListener(h,"mousedown",function(a){2==
a.data.$.button&&((a=c.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(n=c.window.getScrollPosition()))});h.attachListener(h,"mouseup",function(a){2==a.data.$.button&&n&&(c.document.$.documentElement.scrollLeft=n.x,c.document.$.documentElement.scrollTop=n.y);n=null});if("BackCompat"!=k.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var m,w;u.on("mousedown",function(a){function b(a){a=a.data.$;if(m){var c=t.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}m.setEndPoint(0>
w.compareEndPoints("StartToStart",c)?"EndToEnd":"StartToStart",c);m.select()}}function c(){u.removeListener("mousemove",b);p.removeListener("mouseup",c);u.removeListener("mouseup",c);m.select()}a=a.data;if(a.getTarget().is("html")&&a.$.y<u.$.clientHeight&&a.$.x<u.$.clientWidth){m=t.$.createTextRange();try{m.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}w=m.duplicate();u.on("mousemove",b);p.on("mouseup",c);u.on("mouseup",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)u.on("mousedown",function(a){a.data.getTarget().is("html")&&
(p.on("mouseup",b),u.on("mouseup",b))})}}h.attachListener(h,"selectionchange",e,c);h.attachListener(h,"keyup",g,c);h.attachListener(h,"keydown",function(a){var b=this.getSelection(1);d(b)&&(b.selectElement(d(b)),a.data.preventDefault())},c);h.attachListener(h,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){c.forceNextSelectionCheck();c.selectionChange(1)});if(l&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var r;h.attachListener(h,"mousedown",function(){r=1});h.attachListener(k.getDocumentElement(),
"mouseup",function(){r&&g.call(c);r=0})}else h.attachListener(CKEDITOR.env.ie?h:k.getDocumentElement(),"mouseup",g,c);CKEDITOR.env.webkit&&h.attachListener(k,"keydown",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:h.hasFocus&&f(h)}},null,null,-1);h.attachListener(h,"keydown",A(c),null,null,-1)});c.on("setData",function(){c.unlockSelection();CKEDITOR.env.webkit&&b()});c.on("contentDomUnload",function(){c.unlockSelection()});if(CKEDITOR.env.ie9Compat)c.on("beforeDestroy",
b,null,null,9);c.on("dataReady",function(){delete c._.fakeSelection;delete c._.hiddenSelectionContainer;c.selectionChange(1)});c.on("loadSnapshot",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=c.editable().getLast(a);b&&b.hasAttribute("data-cke-hidden-sel")&&(b.remove(),CKEDITOR.env.gecko&&(a=c.editable().getFirst(a))&&a.is("br")&&a.getAttribute("_moz_editor_bogus_node")&&a.remove())},null,null,100);c.on("key",function(a){if("wysiwyg"==c.mode){var b=c.getSelection();if(b.isFake){var d=
H[a.data.keyCode];if(d)return d({editor:c,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});if(CKEDITOR.env.webkit)CKEDITOR.on("instanceReady",function(a){var b=a.editor;b.on("selectionChange",function(){var a=b.editable(),c=a.getCustomData("cke-fillingChar");c&&(c.getCustomData("ready")?(f(a),a.editor.fire("selectionCheck")):c.setCustomData("ready",1))},null,null,-1);b.on("beforeSetMode",function(){f(b.editable())},null,null,-1);b.on("getSnapshot",function(a){a.data&&(a.data=D(a.data))},
b,null,20);b.on("toDataFormat",function(a){a.data.dataValue=D(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=function(a){(a?e:g).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?
(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;return b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():
new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;CKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:m++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),
this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&new CKEDITOR.dom.node(e.commonAncestorContainer);else{try{e=a.createRange()}catch(f){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=
null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var E={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:D,_createFillingCharSequenceNode:q,FILLING_CHAR_SEQUENCE:K});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=
x?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:x?function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;"Text"==d&&(b=CKEDITOR.SELECTION_TEXT);"Control"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;
else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-c.startOffset&&E[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=x?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,f,g,h=b.duplicate(),k=0,
l=e.length-1,u=-1,q,n;k<=l;)if(u=Math.floor((k+l)/2),f=e[u],h.moveToElementText(f),q=h.compareEndPoints("StartToStart",b),0<q)l=u-1;else if(0>q)k=u+1;else return{container:d,offset:a(f)};if(-1==u||u==e.length-1&&0>q){h.moveToElementText(d);h.setEndPoint("StartToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;e=d.childNodes;if(!h)return f=e[e.length-1],f.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:f,offset:f.nodeValue.length};for(d=e.length;0<h&&0<d;)g=e[--d],g.nodeType==
CKEDITOR.NODE_TEXT&&(n=g,h-=g.nodeValue.length);return{container:n,offset:-h}}h.collapse(0<q?!0:!1);h.setEndPoint(0<q?"StartToStart":"EndToStart",b);h=h.text.replace(/(\r\n|\r)/g,"\n").length;if(!h)return{container:d,offset:a(f)+(0<q?0:1)};for(;0<h;)try{g=f[0<q?"previousSibling":"nextSibling"],g.nodeType==CKEDITOR.NODE_TEXT&&(h-=g.nodeValue.length,n=g),f=g}catch(m){return{container:d,offset:a(f)}}return{container:n,offset:0<q?-h:n.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&
a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),d=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var f=c.item(e),g=f.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<
g.childNodes.length&&g.childNodes[h]!=f;h++);a.setStart(new CKEDITOR.dom.node(g),h);a.setEnd(new CKEDITOR.dom.node(g),h+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=
d=new CKEDITOR.dom.rangeList(a.call(this)));return b?G(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=this._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?
b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();if((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},
function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&c.type==CKEDITOR.NODE_ELEMENT&&E[c.getName()]&&(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=x?"Control"==b.type?"":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();
this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;this.isLocked=1},unlock:function(b){if(this.isLocked){if(b)var d=this.getSelectedElement(),e=this.getRanges(),f=this.isFake;this.isLocked=0;this.reset();b&&(b=d||e[0]&&e[0].getCommonAncestor())&&b.getAscendant("body",1)&&(a(e)?c.call(this,e):f?this.fake(d):d?this.selectElement(d):this.selectRanges(e))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;
var b=a._.hiddenSelectionContainer;if(b){var c=a.checkDirty();a.fire("lockSnapshot");b.remove();a.fire("unlockSnapshot");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=m++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(b){var d=this.root.editor,e=d&&d._.hiddenSelectionContainer;this.reset();if(e)for(var e=this.root,g,h=0;h<b.length;++h)g=
b[h],g.endContainer.equals(e)&&(g.endOffset=Math.min(g.endOffset,e.getChildCount()));if(b.length)if(this.isLocked){var k=CKEDITOR.document.getActive();this.unlock();this.selectRanges(b);this.lock();k&&!k.equals(this.root)&&k.focus()}else{var l;a:{var p,C;if(1==b.length&&!(C=b[0]).collapsed&&(l=C.getEnclosedNode())&&l.type==CKEDITOR.NODE_ELEMENT&&(C=C.clone(),C.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(p=C.getEnclosedNode())&&p.type==CKEDITOR.NODE_ELEMENT&&(l=p),"false"==l.getAttribute("contenteditable")))break a;
l=void 0}if(l)this.fake(l);else if(d&&d.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&a(b)&&!I)c.call(this,b);else{if(x){p=CKEDITOR.dom.walker.whitespaces(!0);l=/\ufeff|\u00a0/;C={table:1,tbody:1,tr:1};1<b.length&&(d=b[b.length-1],b[0].setEnd(d.endContainer,d.endOffset));d=b[0];b=d.collapsed;var t,F,m;if((e=d.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in E&&(!e.is("a")||!e.getText()))try{m=e.$.createControlRange();m.addElement(e.$);m.select();return}catch(w){}if(d.startContainer.type==
CKEDITOR.NODE_ELEMENT&&d.startContainer.getName()in C||d.endContainer.type==CKEDITOR.NODE_ELEMENT&&d.endContainer.getName()in C)d.shrink(CKEDITOR.NODE_ELEMENT,!0),b=d.collapsed;m=d.createBookmark();C=m.startNode;b||(k=m.endNode);m=d.document.$.body.createTextRange();m.moveToElementText(C.$);m.moveStart("character",1);k?(l=d.document.$.body.createTextRange(),l.moveToElementText(k.$),m.setEndPoint("EndToEnd",l),m.moveEnd("character",-1)):(t=C.getNext(p),F=C.hasAscendant("pre"),t=!(t&&t.getText&&t.getText().match(l))&&
(F||!C.hasPrevious()||C.getPrevious().is&&C.getPrevious().is("br")),F=d.document.createElement("span"),F.setHtml("\x26#65279;"),F.insertBefore(C),t&&d.document.createText("ï»¿").insertBefore(C));d.setStartBefore(C);C.remove();b?(t?(m.moveStart("character",-1),m.select(),d.document.$.selection.clear()):m.select(),d.moveToPosition(F,CKEDITOR.POSITION_BEFORE_START),F.remove()):(d.setEndBefore(k),k.remove(),m.select())}else{k=this.getNative();if(!k)return;this.removeAllRanges();for(m=0;m<b.length;m++){if(m<
b.length-1&&(t=b[m],F=b[m+1],l=t.clone(),l.setStart(t.endContainer,t.endOffset),l.setEnd(F.startContainer,F.startOffset),!l.collapsed&&(l.shrink(CKEDITOR.NODE_ELEMENT,!0),d=l.getCommonAncestor(),l=l.getEnclosedNode(),d.isReadOnly()||l&&l.isReadOnly()))){F.setStart(t.startContainer,t.startOffset);b.splice(m--,1);continue}d=b[m];F=this.document.$.createRange();d.collapsed&&CKEDITOR.env.webkit&&n(d)&&(l=q(this.root),d.insertNode(l),(t=l.getNext())&&!l.getPrevious()&&t.type==CKEDITOR.NODE_ELEMENT&&"br"==
t.getName()?(f(this.root),d.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START)):d.moveToPosition(l,CKEDITOR.POSITION_AFTER_END));F.setStart(d.startContainer.$,d.startOffset);try{F.setEnd(d.endContainer.$,d.endOffset)}catch(r){if(0<=r.toString().indexOf("NS_ERROR_ILLEGAL_VALUE"))d.collapse(1),F.setEnd(d.endContainer.$,d.endOffset);else throw r;}k.addRange(F)}}this.reset();this.root.fire("selectionchange")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute("aria-label")&&(b=a.getAttribute("aria-label"));
this.reset();w(c,b);var d=this._.cache,e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(e);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;d.selectedText=d.nativeSel=null;this.isFake=1;this.rev=m++;c._.fakeSelection=this;this.root.fire("selectionchange")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data("cke-hidden-sel"))},isInTable:function(b){return a(this.getRanges(),
b)},isCollapsed:function(){var a=this.getRanges();return 1===a.length&&a[0].collapsed},createBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(b){for(var c=[],d,e=0;e<b.length;e++){var f=new CKEDITOR.dom.range(this.root);f.moveToBookmark(b[e]);c.push(f)}b.isFake&&(d=a(c)?c[0]._getTableElement():c[0].getEnclosedNode(),d&&d.type==
CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),b.isFake=0));b.isFake&&!a(c)?this.fake(d):this.selectRanges(c);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[x?"empty":"removeAllRanges"]()}catch(b){}this.reset()}}}})();
"use strict";CKEDITOR.STYLE_BLOCK=1;CKEDITOR.STYLE_INLINE=2;CKEDITOR.STYLE_OBJECT=3;
(function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute("data-nostyle"))c=a;else if(!d){var e=a.getAttribute("contentEditable");"false"==e?c=a:"true"==e&&(d=1)}return c}function d(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function b(c){var f=c.document;if(c.collapsed)f=K(this,f),c.insertNode(f),c.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,k,l=h.ignoreReadonly,m=l||h.includeReadonly;null==
m&&(m=c.root.getCustomData("cke_includeReadonly"));var q=CKEDITOR.dtd[g];q||(k=!0,q=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var n=c.createBookmark(),w=n.startNode,u=n.endNode,r=w,v;if(!l){var x=c.getCommonAncestor(),l=a(w,x),x=a(u,x);l&&(r=l.getNextSourceNode(!0));x&&(u=x)}for(r.getPosition(u)==CKEDITOR.POSITION_FOLLOWING&&(r=0);r;){l=!1;if(r.equals(u))r=null,l=!0;else{var A=r.type==CKEDITOR.NODE_ELEMENT?r.getName():null,x=A&&"false"==r.getAttribute("contentEditable"),D=A&&
r.getAttribute("data-nostyle");if(A&&r.data("cke-bookmark")){r=r.getNextSourceNode(!0);continue}if(x&&m&&CKEDITOR.dtd.$block[A])for(var z=r,y=e(z),E=void 0,H=y.length,I=0,z=H&&new CKEDITOR.dom.range(z.getDocument());I<H;++I){var E=y[I],J=CKEDITOR.filter.instances[E.data("cke-filter")];if(J?J.check(this):1)z.selectNodeContents(E),b.call(this,z)}y=A?!q[A]||D?0:x&&!m?0:d(r,u,h,V):1;if(y)if(E=r.getParent(),y=h,H=g,I=k,!E||!(E.getDtd()||CKEDITOR.dtd.span)[H]&&!I||y.parentRule&&!y.parentRule(E))l=!0;else{if(v||
A&&CKEDITOR.dtd.$removeEmpty[A]&&(r.getPosition(u)|V)!=V||(v=c.clone(),v.setStartBefore(r)),A=r.type,A==CKEDITOR.NODE_TEXT||x||A==CKEDITOR.NODE_ELEMENT&&!r.getChildCount()){for(var A=r,L;(l=!A.getNext(B))&&(L=A.getParent(),q[L.getName()])&&d(L,w,h,O);)A=L;v.setEndAfter(A)}}else l=!0;r=r.getNextSourceNode(D||x)}if(l&&v&&!v.collapsed){for(var l=K(this,f),x=l.hasAttributes(),D=v.getCommonAncestor(),A={},y={},E={},H={},T,Q,ba;l&&D;){if(D.getName()==g){for(T in h.attributes)!H[T]&&(ba=D.getAttribute(Q))&&
(l.getAttribute(T)==ba?y[T]=1:H[T]=1);for(Q in h.styles)!E[Q]&&(ba=D.getStyle(Q))&&(l.getStyle(Q)==ba?A[Q]=1:E[Q]=1)}D=D.getParent()}for(T in y)l.removeAttribute(T);for(Q in A)l.removeStyle(Q);x&&!l.hasAttributes()&&(l=null);l?(v.extractContents().appendTo(l),v.insertNode(l),G.call(this,l),l.mergeSiblings(),CKEDITOR.env.ie||l.$.normalize()):(l=new CKEDITOR.dom.element("span"),v.extractContents().appendTo(l),v.insertNode(l),G.call(this,l),l.remove(!0));v=null}}c.moveToBookmark(n);c.shrink(CKEDITOR.SHRINK_TEXT);
c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(q.getParent()),e=null,f=null,g=0;g<a.elements.length;g++){var h=a.elements[g];if(h==a.block||h==a.blockLimit)break;n.checkElementRemovable(h,!0)&&(e=h)}for(g=0;g<c.elements.length;g++){h=c.elements[g];if(h==c.block||h==c.blockLimit)break;n.checkElementRemovable(h,!0)&&(f=h)}f&&q.breakParent(f);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,1);var c=
a.createBookmark(),d=c.startNode,e=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var f=new CKEDITOR.dom.elementPath(d.getParent(),a.root),g,h=0,k;h<f.elements.length&&(k=f.elements[h])&&k!=f.block&&k!=f.blockLimit;h++)if(this.checkElementRemovable(k)){var m;!e&&a.collapsed&&(a.checkBoundaryOfElement(k,CKEDITOR.END)||(m=a.checkBoundaryOfElement(k,CKEDITOR.START)))?(g=k,g.match=m?"start":"end"):(k.mergeSiblings(),k.is(this.element)?A.call(this,k):x(k,l(this)[k.getName()]))}if(g){e=d;for(h=
0;;h++){k=f.elements[h];if(k.equals(g))break;else if(k.match)continue;else k=k.clone();k.append(e);e=k}e["start"==g.match?"insertBefore":"insertAfter"](g)}}else{var q=c.endNode,n=this;b();for(f=d;!f.equals(q);)g=f.getNextSourceNode(),f.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(f)&&(f.getName()==this.element?A.call(this,f):x(f,l(this)[f.getName()]),g.type==CKEDITOR.NODE_ELEMENT&&g.contains(d)&&(b(),g=d.getNext())),f=g}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function e(a){var b=
[];a.forEach(function(a){if("true"==a.getAttribute("contenteditable"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function g(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&z(a,this)}function h(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&
a.removeStyle(e)}}function k(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,f;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(f=K(this,e,d),q(d,f));a.moveToBookmark(b)}function n(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&
(d.is("pre")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&d.copyAttributes(e),q(d,e)):A.call(this,d));a.moveToBookmark(b)}function q(a,b){var c=!b;c&&(b=a.getDocument().createElement("div"),a.copyAttributes(b));var d=b&&b.is("pre"),e=a.is("pre"),g=!d&&e;if(d&&!e){e=b;(g=a.getBogus())&&g.remove();g=a.getHtml();g=D(g,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"");g=g.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1");g=g.replace(/([ \t\n\r]+|&nbsp;)/g,
" ");g=g.replace(/<br\b[^>]*>/gi,"\n");if(CKEDITOR.env.ie){var h=a.getDocument().createElement("div");h.append(e);e.$.outerHTML="\x3cpre\x3e"+g+"\x3c/pre\x3e";e.copyAttributes(h.getFirst());e=h.getFirst().remove()}else e.setHtml(g);b=e}else g?b=w(c?[a.getHtml()]:f(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,k;(k=c.getPrevious(L))&&k.type==CKEDITOR.NODE_ELEMENT&&k.is("pre")&&(d=D(k.getHtml(),/\n$/,"")+"\n\n"+D(c.getHtml(),/^\n/,""),CKEDITOR.env.ie?c.$.outerHTML="\x3cpre\x3e"+d+"\x3c/pre\x3e":
c.setHtml(d),k.remove())}else c&&m(b)}function f(a){var b=[];D(a.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(a,b,c){return b+"\x3c/pre\x3e"+c+"\x3cpre\x3e"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(a,c){b.push(c)});return b}function D(a,b,c){var d="",e="";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(e=c);return""});return d+a.replace(b,c)+e}function w(a,b){var c;
1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\r\n|\r)/g,"\n"),e=D(e,/^[ \t]*\n/,""),e=D(e,/\n$/,""),e=D(e,/^[ \t]+|[ \t]+$/g,function(a,b){return 1==a.length?"\x26nbsp;":b?" "+CKEDITOR.tools.repeat("\x26nbsp;",a.length-1):CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "}),e=e.replace(/\n/g,"\x3cbr\x3e"),e=e.replace(/[ \t]{2,}/g,function(a){return CKEDITOR.tools.repeat("\x26nbsp;",a.length-1)+" "});if(c){var f=b.clone();f.setHtml(e);
c.append(f)}else b.setHtml(e)}return c||b}function A(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=l(this)[a.getName()],f=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),g;for(g in d)if("class"!=g&&!this._.definition.fullMatch||a.getAttribute(g)==r(g,d[g]))b&&"data-"==g.slice(0,5)||(f=a.hasAttribute(g),a.removeAttribute(g));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=r(h,c[h],!0)||(f=f||!!a.getStyle(h),a.removeStyle(h));x(a,e,E[a.getName()]);f&&(this._.definition.alwaysRemoveElement?
m(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?m(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function G(a){for(var b=l(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||A.call(this,d,!0);for(var f in b)if(f!=this.element)for(c=a.getElementsByTag(f),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||x(d,b[f])}function x(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],
f;if(f=a.getAttribute(e)){var g=b[d][1];(null===g||g.test&&g.test(f)||"string"==typeof g&&f==g)&&a.removeAttribute(e)}}c||m(a)}function m(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(L),d=a.getNext(L);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append("br",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append("br");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),a.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),
d&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function K(a,b,c){var d;d=a.element;"*"==d&&(d="span");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=z(d,a);b.getCustomData("doc_processing_style")&&d.hasAttribute("id")?d.removeAttribute("id"):b.setCustomData("doc_processing_style",1);return d}function z(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute("style",c);return a}function I(a,
b){for(var c in a)a[c]=a[c].replace(v,function(a,c){return b[c]})}function l(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],f,g;"string"==typeof e?f=e.toLowerCase():(f=e.element?e.element.toLowerCase():a.element,g=e.attributes);e=b[f]||(b[f]={});if(g){var e=e.attributes=e.attributes||[],h;for(h in g)e.push([h.toLowerCase(),g[h]])}}}return b}function r(a,b,c){var d=new CKEDITOR.dom.element("span");
d[c?"setStyle":"setAttribute"](a,b);return d[c?"getStyle":"getAttribute"](a)}function J(a,b){function c(a,b){return"font-family"==b.toLowerCase()?a.replace(/["']/g,""):a}"string"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));"string"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&"inherit"!=a[d]&&"inherit"!=b[d])return!1;return!0}function H(a,b,c){var d=a.document,e=a.getRanges();b=b?this.removeFromRange:this.applyToRange;var f,g;if(a.isFake&&a.isInTable())for(f=
[],g=0;g<e.length;g++)f.push(e[g].clone());for(var h=e.createIterator();g=h.getNextRange();)b.call(this,g,c);a.selectRanges(f||e);d.removeCustomData("doc_processing_style")}var E={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},u={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,
dd:1,form:1,audio:1,video:1},y=/\s*(?:;\s*|$)/,v=/#\((.+?)\)/g,B=CKEDITOR.dom.walker.bookmark(0,1),L=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if("string"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),I(a.attributes,b),I(a.styles,b));c=this.element=a.element?"string"==typeof a.element?a.element.toLowerCase():
a.element:"*";this.type=a.type||(E[c]?CKEDITOR.STYLE_BLOCK:u[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return H.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);H.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof
CKEDITOR.dom.document)return H.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);H.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?k:this.type==CKEDITOR.STYLE_OBJECT?g:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?
n:this.type==CKEDITOR.STYLE_OBJECT?h:null;return this.removeFromRange(a)},applyToObject:function(a){z(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var f=e.getName();if(!("string"==typeof this.element?
f==this.element:f in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if("string"==typeof this.element?
d==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,f=c.attributes;if(f)for(var g in f)e++,d[g]=f[g];if(g=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=g;d._length=e;c=c._AC=d}if(c._length){for(var h in c)if("_length"!=h)if(d=a.getAttribute(h)||"","style"==h?J(c[h],d):c[h]==d){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=l(this)[a.getName()]){var d;
if(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];if(null===e)return!0;if("string"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;"bdo"==d&&(d="span");var c=["\x3c",d],e=b.attributes;if(e)for(var f in e)c.push(" ",f,'\x3d"',e[f],'"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style\x3d"',e,'"');c.push("\x3e",a||b.name,"\x3c/",d,"\x3e");return c.join("")},getDefinition:function(){return this._.definition}};
CKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||"",d="";c.length&&(c=c.replace(y,";"));for(var e in b){var f=b[e],g=(e+":"+f).replace(y,";");"inherit"==f?d+=g:c+=g}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),
{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var V=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,O=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED})();CKEDITOR.styleCommand=function(a,d){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,d,!0)};
CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)};CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet");CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet);CKEDITOR.loadStylesSet=function(a,d,b){CKEDITOR.stylesSet.addExternal(a,d,"");CKEDITOR.stylesSet.load(a,b)};
CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,d){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(a){for(var d=0;d<b.length;d++){var g=b[d],h=g.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;g.fn.call(this,h)}}));b.push({style:a,fn:d})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);
else{var d=this,b=d.config.stylesCombo_stylesSet||d.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)d._.stylesDefinitions=b,a(b);else{b||(b="default");var b=b.split(":"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),"");CKEDITOR.stylesSet.load(c,function(b){d._.stylesDefinitions=b[c];a(d._.stylesDefinitions)})}}}});
CKEDITOR.dom.comment=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)};CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node;CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}});"use strict";
(function(){var a={},d={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(d[b]=1);CKEDITOR.dom.elementPath=function(b,e){var g=null,h=null,k=[],n=b,q;e=e||b.getDocument().getBody();n||(n=e);do if(n.type==CKEDITOR.NODE_ELEMENT){k.push(n);if(!this.lastElement&&(this.lastElement=n,n.is(CKEDITOR.dtd.$object)||"false"==n.getAttribute("contenteditable")))continue;if(n.equals(e))break;if(!h&&(q=n.getName(),
"true"==n.getAttribute("contenteditable")?h=n:!g&&d[q]&&(g=n),a[q])){if(q=!g&&"div"==q){a:{q=n.getChildren();for(var f=0,D=q.count();f<D;f++){var w=q.getItem(f);if(w.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[w.getName()]){q=!0;break a}}q=!1}q=!q}q?g=n:h=n}}while(n=n.getParent());h||(h=e);this.block=g;this.blockLimit=h;this.root=e;this.elements=k}})();
CKEDITOR.dom.elementPath.prototype={compare:function(a){var d=this.elements;a=a&&a.elements;if(!a||d.length!=a.length)return!1;for(var b=0;b<d.length;b++)if(!d[b].equals(a[b]))return!1;return!0},contains:function(a,d,b){var c=0,e;"string"==typeof a&&(e=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?e=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?e=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:"function"==typeof a?e=a:"object"==typeof a&&(e=function(b){return b.getName()in
a});var g=this.elements,h=g.length;d&&(b?c+=1:--h);b&&(g=Array.prototype.slice.call(g,0),g.reverse());for(;c<h;c++)if(e(g[c]))return g[c];return null},isContextFor:function(a){var d;return a in CKEDITOR.dtd.$block?(d=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!d.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}};
CKEDITOR.dom.text=function(a,d){"string"==typeof a&&(a=(d?d.$:document).createTextNode(a));this.$=a};CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node;
CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var d=this.$.parentNode,b=d.childNodes.length,c=this.getLength(),e=this.getDocument(),g=new CKEDITOR.dom.text(this.$.splitText(a),e);d.childNodes.length==b&&(a>=c?(g=e.createText(""),g.insertAfter(this)):(a=e.createText(""),a.insertAfter(g),a.remove()));return g},substring:function(a,
d){return"number"!=typeof d?this.$.nodeValue.substr(a):this.$.nodeValue.substring(a,d)}});
(function(){function a(a,c,d){var g=a.serializable,h=c[d?"endContainer":"startContainer"],k=d?"endOffset":"startOffset",n=g?c.document.getById(a.startNode):a.startNode;a=g?c.document.getById(a.endNode):a.endNode;h.equals(n.getPrevious())?(c.startOffset=c.startOffset-h.getLength()-a.getPrevious().getLength(),h=a.getNext()):h.equals(a.getPrevious())&&(c.startOffset-=h.getLength(),h=a.getNext());h.equals(n.getParent())&&c[k]++;h.equals(a.getParent())&&c[k]++;c[d?"endContainer":"startContainer"]=h;return c}
CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,d)};var d={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),d=[],g;return{getNextRange:function(h){g=void 0===g?0:g+1;var k=a[g];if(k&&1<a.length){if(!g)for(var n=a.length-1;0<=n;n--)d.unshift(a[n].createBookmark(!0));if(h)for(var q=0;a[g+q+1];){var f=k.document;h=0;n=f.getById(d[q].endNode);for(f=f.getById(d[q+1].startNode);;){n=
n.getNextSourceNode(!1);if(f.equals(n))h=1;else if(c(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())continue;break}if(!h)break;q++}for(k.moveToBookmark(d.shift());q--;)n=a[++g],n.moveToBookmark(d.shift()),k.setEnd(n.endContainer,n.endOffset)}return k}}},createBookmarks:function(b){for(var c=[],d,g=0;g<this.length;g++){c.push(d=this[g].createBookmark(b,!0));for(var h=g+1;h<this.length;h++)this[h]=a(d,this[h]),this[h]=a(d,this[h],!0)}return c},createBookmarks2:function(a){for(var c=[],d=0;d<
this.length;d++)c.push(this[d].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}})();
(function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function d(b){var c=CKEDITOR.skin["ua_"+b],d=CKEDITOR.env;if(c)for(var c=c.split(",").sort(function(a,b){return a>b?-1:1}),e=0,g;e<c.length;e++)if(g=c[e],d.ie&&(g.replace(/^ie/,"")==d.version||d.quirks&&"iequirks"==g)&&(g="ie"),d[g]){b+="_"+c[e];break}return CKEDITOR.getUrl(a()+b+".css")}function b(a,b){g[a]||(CKEDITOR.document.appendStyleSheet(d(a)),g[a]=1);b&&b()}function c(a){var b=
a.getById(h);b||(b=a.getHead().append("style"),b.setAttribute("id",h),b.setAttribute("type","text/css"));return b}function e(a,b,c){var d,e,g;if(CKEDITOR.env.webkit)for(b=b.split("}").slice(0,-1),e=0;e<b.length;e++)b[e]=b[e].split("{");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){g=b[e][1];for(d=0;d<c.length;d++)g=g.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[e][0],g)}else{g=b;for(d=0;d<c.length;d++)g=g.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?
a[h].$.styleSheet.cssText+=g:a[h].$.innerHTML+=g}}var g={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+"skin.js"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(d(a))},icons:{},addIcon:function(a,b,c,d){a=a.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||"16px"})},getIconStyle:function(a,b,c,d,e){var g;a&&(a=a.toLowerCase(),b&&(g=this.icons[a+"-rtl"]),
g||(g=this.icons[a]));a=c||g&&g.path||"";d=d||g&&g.offset;e=e||g&&g.bgsize||"16px";a&&(a=a.replace(/'/g,"\\'"));return a&&"background-image:url('"+CKEDITOR.getUrl(a)+"');background-position:0 "+d+"px;background-size:"+e+";"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=c(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,d="",g="";"function"==typeof c&&(d=c(this,"editor"),g=
c(this,"panel"));a=[[n,a]];e([b],d,a);e(k,g,a)}).call(this,a)}});var h="cke_ui_color",k=[],n=/\$color/g;CKEDITOR.on("instanceLoaded",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument();if(!a.getById("cke_ui_color")){a=c(a);k.push(a);var d=b.getUiColor();d&&e([a],CKEDITOR.skin.chameleon(b,"panel"),[[n,d]])}};b.on("panelShow",a);b.on("menuShow",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})})();
(function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\x3cdiv style\x3d"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"\x3e\x3c/div\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var d=a.getComputedStyle("border-top-color"),b=a.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!d||d!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc");CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}");
CKEDITOR.status="loaded";CKEDITOR.fireOnce("loaded");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,d=0;d<a.length;d++)CKEDITOR.editor.prototype.constructor.apply(a[d][0],a[d][1]),CKEDITOR.add(a[d][0])})();/*
 Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
CKEDITOR.skin.name="moono";CKEDITOR.skin.ua_editor="ie,iequirks,ie7,ie8,gecko";CKEDITOR.skin.ua_dialog="ie,iequirks,ie7,ie8";
CKEDITOR.skin.chameleon=function(){var b=function(){return function(b,e){for(var a=b.match(/[^#]./g),c=0;3>c;c++){var f=c,d;d=parseInt(a[c],16);d=("0"+(0>e?0|d*(1+e):0|d+(255-d)*e).toString(16)).slice(-2);a[f]=d}return"#"+a.join("")}}(),c=function(){var b=new CKEDITOR.template("background:#{to};background-image:linear-gradient(to bottom,{from},{to});filter:progid:DXImageTransform.Microsoft.gradient(gradientType\x3d0,startColorstr\x3d'{from}',endColorstr\x3d'{to}');");return function(c,a){return b.output({from:c,
to:a})}}(),f={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ {defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_bottom [{defaultGradient}border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [{defaultGradient}border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [{defaultGradient}outline-color:{defaultBorder};border-top-color:{defaultBorder};] {id} .cke_dialog_tab [{lightGradient}border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [{mediumGradient}] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} .cke_toolgroup [{lightGradient}border-color:{defaultBorder};] {id} a.cke_button_off:hover, {id} a.cke_button_off:focus, {id} a.cke_button_off:active [{mediumGradient}] {id} .cke_button_on [{ckeButtonOn}] {id} .cke_toolbar_separator [background-color: {ckeToolbarSeparator};] {id} .cke_combo_button [border-color:{defaultBorder};{lightGradient}] {id} a.cke_combo_button:hover, {id} a.cke_combo_button:focus, {id} .cke_combo_on a.cke_combo_button [border-color:{defaultBorder};{mediumGradient}] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover, {id} a.cke_path_item:focus, {id} a.cke_path_item:active [background-color:{elementsPathBg};] {id}.cke_panel [border-color:{defaultBorder};] "),
panel:new CKEDITOR.template(".cke_panel_grouptitle [{lightGradient}border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:focus.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:focus.cke_colorauto, a:focus.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};
return function(g,e){var a=g.uiColor,a={id:"."+g.id,defaultBorder:b(a,-.1),defaultGradient:c(b(a,.9),a),lightGradient:c(b(a,1),b(a,.7)),mediumGradient:c(b(a,.8),b(a,.5)),ckeButtonOn:c(b(a,.6),b(a,.7)),ckeResizer:b(a,-.4),ckeToolbarSeparator:b(a,.5),ckeColorauto:b(a,.8),dialogBody:b(a,.7),dialogTabSelected:c("#FFFFFF","#FFFFFF"),dialogTabSelectedBorder:"#FFF",elementsPathColor:b(a,-.6),elementsPathBg:a,menubuttonIcon:b(a,.5),menubuttonIconHover:b(a,.3)};return f[e].output(a).replace(/\[/g,"{").replace(/\]/g,
"}")}}();CKEDITOR.plugins.add("basicstyles",{init:function(c){var e=0,d=function(g,d,b,a){if(a){a=new CKEDITOR.style(a);var f=h[b];f.unshift(a);c.attachStyleStateChange(a,function(a){!c.readOnly&&c.getCommand(b).setState(a)});c.addCommand(b,new CKEDITOR.styleCommand(a,{contentForms:f}));c.ui.addButton&&c.ui.addButton(g,{label:d,command:b,toolbar:"basicstyles,"+(e+=10)})}},h={bold:["strong","b",["span",function(a){a=a.styles["font-weight"];return"bold"==a||700<=+a}]],italic:["em","i",["span",function(a){return"italic"==
a.styles["font-style"]}]],underline:["u",["span",function(a){return"underline"==a.styles["text-decoration"]}]],strike:["s","strike",["span",function(a){return"line-through"==a.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},b=c.config,a=c.lang.basicstyles;d("Bold",a.bold,"bold",b.coreStyles_bold);d("Italic",a.italic,"italic",b.coreStyles_italic);d("Underline",a.underline,"underline",b.coreStyles_underline);d("Strike",a.strike,"strike",b.coreStyles_strike);d("Subscript",a.subscript,
"subscript",b.coreStyles_subscript);d("Superscript",a.superscript,"superscript",b.coreStyles_superscript);c.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}});CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"};CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"};CKEDITOR.config.coreStyles_underline={element:"u"};CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"};CKEDITOR.config.coreStyles_subscript={element:"sub"};
CKEDITOR.config.coreStyles_superscript={element:"sup"};(function(){var m={exec:function(g){var a=g.getCommand("blockquote").state,k=g.getSelection(),c=k&&k.getRanges()[0];if(c){var h=k.createBookmarks();if(CKEDITOR.env.ie){var e=h[0].startNode,b=h[0].endNode,d;if(e&&"blockquote"==e.getParent().getName())for(d=e;d=d.getNext();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){e.move(d,!0);break}if(b&&"blockquote"==b.getParent().getName())for(d=b;d=d.getPrevious();)if(d.type==CKEDITOR.NODE_ELEMENT&&d.isBlockBoundary()){b.move(d);break}}var f=c.createIterator();
f.enlargeBr=g.config.enterMode!=CKEDITOR.ENTER_BR;if(a==CKEDITOR.TRISTATE_OFF){for(e=[];a=f.getNextParagraph();)e.push(a);1>e.length&&(a=g.document.createElement(g.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),b=h.shift(),c.insertNode(a),a.append(new CKEDITOR.dom.text("ï»¿",g.document)),c.moveToBookmark(b),c.selectNodeContents(a),c.collapse(!0),b=c.createBookmark(),e.push(a),h.unshift(b));d=e[0].getParent();c=[];for(b=0;b<e.length;b++)a=e[b],d=d.getCommonAncestor(a.getParent());for(a={table:1,tbody:1,
tr:1,ol:1,ul:1};a[d.getName()];)d=d.getParent();for(b=null;0<e.length;){for(a=e.shift();!a.getParent().equals(d);)a=a.getParent();a.equals(b)||c.push(a);b=a}for(;0<c.length;)if(a=c.shift(),"blockquote"==a.getName()){for(b=new CKEDITOR.dom.documentFragment(g.document);a.getFirst();)b.append(a.getFirst().remove()),e.push(b.getLast());b.replace(a)}else e.push(a);c=g.document.createElement("blockquote");for(c.insertBefore(e[0]);0<e.length;)a=e.shift(),c.append(a)}else if(a==CKEDITOR.TRISTATE_ON){b=[];
for(d={};a=f.getNextParagraph();){for(e=c=null;a.getParent();){if("blockquote"==a.getParent().getName()){c=a.getParent();e=a;break}a=a.getParent()}c&&e&&!e.getCustomData("blockquote_moveout")&&(b.push(e),CKEDITOR.dom.element.setMarker(d,e,"blockquote_moveout",!0))}CKEDITOR.dom.element.clearAllMarkers(d);a=[];e=[];for(d={};0<b.length;)f=b.shift(),c=f.getParent(),f.getPrevious()?f.getNext()?(f.breakParent(f.getParent()),e.push(f.getNext())):f.remove().insertAfter(c):f.remove().insertBefore(c),c.getCustomData("blockquote_processed")||
(e.push(c),CKEDITOR.dom.element.setMarker(d,c,"blockquote_processed",!0)),a.push(f);CKEDITOR.dom.element.clearAllMarkers(d);for(b=e.length-1;0<=b;b--){c=e[b];a:{d=c;for(var f=0,m=d.getChildCount(),l=void 0;f<m&&(l=d.getChild(f));f++)if(l.type==CKEDITOR.NODE_ELEMENT&&l.isBlockBoundary()){d=!1;break a}d=!0}d&&c.remove()}if(g.config.enterMode==CKEDITOR.ENTER_BR)for(c=!0;a.length;)if(f=a.shift(),"div"==f.getName()){b=new CKEDITOR.dom.documentFragment(g.document);!c||!f.getPrevious()||f.getPrevious().type==
CKEDITOR.NODE_ELEMENT&&f.getPrevious().isBlockBoundary()||b.append(g.document.createElement("br"));for(c=f.getNext()&&!(f.getNext().type==CKEDITOR.NODE_ELEMENT&&f.getNext().isBlockBoundary());f.getFirst();)f.getFirst().remove().appendTo(b);c&&b.append(g.document.createElement("br"));b.replace(f);c=!1}}k.selectBookmarks(h);g.focus()}},refresh:function(g,a){this.setState(g.elementPath(a.block||a.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",
requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(g){g.blockless||(g.addCommand("blockquote",m),g.ui.addButton&&g.ui.addButton("Blockquote",{label:g.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})})();CKEDITOR.plugins.add("notification",{init:function(b){function a(b){var a=new CKEDITOR.dom.element("div");a.setStyles({position:"fixed","margin-left":"-9999px"});a.setAttributes({"aria-live":"assertive","aria-atomic":"true"});a.setText(b);CKEDITOR.document.getBody().append(a);setTimeout(function(){a.remove()},100)}b._.notificationArea=new Area(b);b.showNotification=function(a,d,e){var f,l;"progress"==d?f=e:l=e;a=new CKEDITOR.plugins.notification(b,{message:a,type:d,progress:f,duration:l});a.show();
return a};b.on("key",function(c){if(27==c.data.keyCode){var d=b._.notificationArea.notifications;d.length&&(a(b.lang.notification.closed),d[d.length-1].hide(),c.cancel())}})}});function Notification(b,a){CKEDITOR.tools.extend(this,a,{editor:b,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:b._.notificationArea});a.type||(this.type="info");this.element=this._createElement();b.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}
Notification.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(b){var a=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:b})&&(a=!1);var c=this.element,d=c.findOne(".cke_notification_message"),e=c.findOne(".cke_notification_progress"),f=b.type;c.removeAttribute("role");b.progress&&"progress"!=this.type&&(f="progress");f&&(c.removeClass(this._getClass()),c.removeAttribute("aria-label"),
this.type=f,c.addClass(this._getClass()),c.setAttribute("aria-label",this.type),"progress"!=this.type||e?"progress"!=this.type&&e&&e.remove():(e=this._createProgressElement(),e.insertBefore(d)));void 0!==b.message&&(this.message=b.message,d.setHtml(this.message));void 0!==b.progress&&(this.progress=b.progress,e&&e.setStyle("width",this._getPercentageProgress()));a&&b.important&&(c.setAttribute("role","alert"),this.isVisible()||this.area.add(this));this.duration=b.duration;this._hideAfterTimeout()},
hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var b=this,a,c,d=this.editor.lang.common.close;a=new CKEDITOR.dom.element("div");a.addClass("cke_notification");a.addClass(this._getClass());a.setAttributes({id:this.id,role:"alert","aria-label":this.type});"progress"==this.type&&a.append(this._createProgressElement());c=new CKEDITOR.dom.element("p");
c.addClass("cke_notification_message");c.setHtml(this.message);a.append(c);c=CKEDITOR.dom.element.createFromHtml('\x3ca class\x3d"cke_notification_close" href\x3d"javascript:void(0)" title\x3d"'+d+'" role\x3d"button" tabindex\x3d"-1"\x3e\x3cspan class\x3d"cke_label"\x3eX\x3c/span\x3e\x3c/a\x3e');a.append(c);c.on("click",function(){b.editor.focus();b.hide()});return a},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var b=
new CKEDITOR.dom.element("span");b.addClass("cke_notification_progress");b.setStyle("width",this._getPercentageProgress());return b},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var b=this,a;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);if("number"==typeof this.duration)a=this.duration;else if("info"==this.type||"success"==this.type)a="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:
5E3;a&&(b._hideTimeoutId=setTimeout(function(){b.hide()},a))}};function Area(b){var a=this;this.editor=b;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this);b.on("destroy",function(){a._removeListeners();a.element.remove()})}
Area.prototype={add:function(b){this.notifications.push(b);this.element.append(b.element);1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(b){var a=CKEDITOR.tools.indexOf(this.notifications,b);0>a||(this.notifications.splice(a,1),b.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var b=this.editor,a=b.config,c=new CKEDITOR.dom.element("div");
c.addClass("cke_notifications_area");c.setAttribute("id","cke_notifications_area_"+b.name);c.setStyle("z-index",a.baseFloatZIndex-2);return c},_attachListeners:function(){var b=CKEDITOR.document.getWindow(),a=this.editor;b.on("scroll",this._uiBuffer.input);b.on("resize",this._uiBuffer.input);a.on("change",this._changeBuffer.input);a.on("floatingSpaceLayout",this._layout,this,null,20);a.on("blur",this._layout,this,null,20)},_removeListeners:function(){var b=CKEDITOR.document.getWindow(),a=this.editor;
b.removeListener("scroll",this._uiBuffer.input);b.removeListener("resize",this._uiBuffer.input);a.removeListener("change",this._changeBuffer.input);a.removeListener("floatingSpaceLayout",this._layout);a.removeListener("blur",this._layout)},_layout:function(){function b(){a.setStyle("left",k(n+d.width-g-h))}var a=this.element,c=this.editor,d=c.ui.contentsElement.getClientRect(),e=c.ui.contentsElement.getDocumentPosition(),f,l,r=a.getClientRect(),m,g=this._notificationWidth,h=this._notificationMargin;
m=CKEDITOR.document.getWindow();var p=m.getScrollPosition(),q=m.getViewPaneSize(),t=CKEDITOR.document.getBody(),u=t.getDocumentPosition(),k=CKEDITOR.tools.cssLength;g&&h||(m=this.element.getChild(0),g=this._notificationWidth=m.getClientRect().width,h=this._notificationMargin=parseInt(m.getComputedStyle("margin-left"),10)+parseInt(m.getComputedStyle("margin-right"),10));c.toolbar&&(f=c.ui.space("top"),l=f.getClientRect());f&&f.isVisible()&&l.bottom>d.top&&l.bottom<d.bottom-r.height?a.setStyles({position:"fixed",
top:k(l.bottom)}):0<d.top?a.setStyles({position:"absolute",top:k(e.y)}):e.y+d.height-r.height>p.y?a.setStyles({position:"fixed",top:0}):a.setStyles({position:"absolute",top:k(e.y+d.height-r.height)});var n="fixed"==a.getStyle("position")?d.left:"static"!=t.getComputedStyle("position")?e.x-u.x:e.x;d.width<g+h?e.x+g+h>p.x+q.width?b():a.setStyle("left",k(n)):e.x+g+h>p.x+q.width?a.setStyle("left",k(n)):e.x+d.width/2+g/2+h>p.x+q.width?a.setStyle("left",k(n-e.x+p.x+q.width-g-h)):0>d.left+d.width-g-h?b():
0>d.left+d.width/2-g/2?a.setStyle("left",k(n-e.x+p.x)):a.setStyle("left",k(n+d.width/2-g/2-h/2))}};CKEDITOR.plugins.notification=Notification;(function(){var c='\x3ca id\x3d"{id}" class\x3d"cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href\x3d\"javascript:void('{titleJs}')\"")+' title\x3d"{title}" tabindex\x3d"-1" hidefocus\x3d"true" role\x3d"button" aria-labelledby\x3d"{id}_label" aria-describedby\x3d"{id}_description" aria-haspopup\x3d"{hasArrow}" aria-disabled\x3d"{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(c+=' onkeypress\x3d"return false;"');CKEDITOR.env.gecko&&(c+=
' onblur\x3d"this.style.cssText \x3d this.style.cssText;"');var c=c+(' onkeydown\x3d"return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus\x3d"return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick\x3d"return false;" onmouseup':"onclick")+'\x3d"CKEDITOR.tools.callFunction({clickFn},this);return false;"\x3e\x3cspan class\x3d"cke_button_icon cke_button__{iconName}_icon" style\x3d"{style}"'),c=c+'\x3e\x26nbsp;\x3c/span\x3e\x3cspan id\x3d"{id}_label" class\x3d"cke_button_label cke_button__{name}_label" aria-hidden\x3d"false"\x3e{label}\x3c/span\x3e\x3cspan id\x3d"{id}_description" class\x3d"cke_button_label" aria-hidden\x3d"false"\x3e{ariaShortcut}\x3c/span\x3e{arrowHtml}\x3c/a\x3e',
t=CKEDITOR.addTemplate("buttonArrow",'\x3cspan class\x3d"cke_button_arrow"\x3e'+(CKEDITOR.env.hc?"\x26#9660;":"")+"\x3c/span\x3e"),u=CKEDITOR.addTemplate("button",c);CKEDITOR.plugins.add("button",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON="button";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};
CKEDITOR.ui.button.prototype={render:function(a,b){function c(){var f=a.mode;f&&(f=this.modes[f]?void 0!==m[f]?m[f]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,f=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:f,this.setState(f),this.refresh&&this.refresh())}var n=CKEDITOR.env,p=this._.id=CKEDITOR.tools.getNextId(),g="",d=this.command,q,k,h;this._.editor=a;var e={id:p,button:this,editor:a,focus:function(){CKEDITOR.document.getById(p).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},
v=CKEDITOR.tools.addFunction(function(a){if(e.onkey)return a=new CKEDITOR.dom.event(a),!1!==e.onkey(e,a.getKeystroke())}),w=CKEDITOR.tools.addFunction(function(a){var b;e.onfocus&&(b=!1!==e.onfocus(e,new CKEDITOR.dom.event(a)));return b}),r=0;e.clickFn=q=CKEDITOR.tools.addFunction(function(){r&&(a.unlockSelection(1),r=0);e.execute();n.iOS&&a.focus()});if(this.modes){var m={};a.on("beforeModeUnload",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(m[a.mode]=this._.state)},this);a.on("activeFilterChange",
c,this);a.on("mode",c,this);!this.readOnly&&a.on("readOnly",c,this)}else d&&(d=a.getCommand(d))&&(d.on("state",function(){this.setState(d.state)},this),g+=d.state==CKEDITOR.TRISTATE_ON?"on":d.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off");if(this.directional)a.on("contentDirChanged",function(b){var c=CKEDITOR.document.getById(this._.id),d=c.getFirst();b=b.data;b!=a.lang.dir?c.addClass("cke_"+b):c.removeClass("cke_ltr").removeClass("cke_rtl");d.setAttribute("style",CKEDITOR.skin.getIconStyle(l,
"rtl"==b,this.icon,this.iconOffset))},this);d?(k=a.getCommandKeystroke(d))&&(h=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,k)):g+="off";var l=k=this.name||this.command;this.icon&&!/\./.test(this.icon)&&(l=this.icon,this.icon=null);g={id:p,name:k,iconName:l,label:this.label,cls:this.className||"",state:g,ariaDisabled:"disabled"==g?"true":"false",title:this.title+(h?" ("+h.display+")":""),ariaShortcut:h?a.lang.common.keyboardShortcut+" "+h.aria:"",titleJs:n.gecko&&!n.hc?"":(this.title||
"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:v,focusFn:w,clickFn:q,style:CKEDITOR.skin.getIconStyle(l,"rtl"==a.lang.dir,this.icon,this.iconOffset),arrowHtml:this.hasArrow?t.output():""};u.output(g,b);if(this.onRender)this.onRender();return e},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,"cke_button"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute("aria-disabled",!0):b.removeAttribute("aria-disabled"),
this.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(a)):a==CKEDITOR.TRISTATE_ON?b.setAttribute("aria-pressed",!0):b.removeAttribute("aria-pressed"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=
b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}})();(function(){function D(a){function d(){for(var b=f(),e=CKEDITOR.tools.clone(a.config.toolbarGroups)||v(a),n=0;n<e.length;n++){var g=e[n];if("/"!=g){"string"==typeof g&&(g=e[n]={name:g});var l,d=g.groups;if(d)for(var h=0;h<d.length;h++)l=d[h],(l=b[l])&&c(g,l);(l=b[g.name])&&c(g,l)}}return e}function f(){var b={},c,e,g;for(c in a.ui.items)e=a.ui.items[c],g=e.toolbar||"others",g=g.split(","),e=g[0],g=parseInt(g[1]||-1,10),b[e]||(b[e]=[]),b[e].push({name:c,order:g});for(e in b)b[e]=b[e].sort(function(b,
a){return b.order==a.order?0:0>a.order?-1:0>b.order?1:b.order<a.order?-1:1});return b}function c(c,e){if(e.length){c.items?c.items.push(a.ui.create("-")):c.items=[];for(var d;d=e.shift();)d="string"==typeof d?d:d.name,b&&-1!=CKEDITOR.tools.indexOf(b,d)||(d=a.ui.create(d))&&a.addFeature(d)&&c.items.push(d)}}function h(b){var a=[],e,d,h;for(e=0;e<b.length;++e)d=b[e],h={},"/"==d?a.push(d):CKEDITOR.tools.isArray(d)?(c(h,CKEDITOR.tools.clone(d)),a.push(h)):d.items&&(c(h,CKEDITOR.tools.clone(d.items)),
h.name=d.name,a.push(h));return a}var b=a.config.removeButtons,b=b&&b.split(","),e=a.config.toolbar;"string"==typeof e&&(e=a.config["toolbar_"+e]);return a.toolbar=e?h(e):d()}function v(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list",
"indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var z=function(){this.toolbars=[];this.focusCommandExecuted=!1};z.prototype.focus=function(){for(var a=0,d;d=this.toolbars[a++];)for(var f=0,c;c=d.items[f++];)if(c.focus){c.focus();return}};var E={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},
100):a.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(a){var d,f=function(c,h){var b,e="rtl"==a.lang.dir,k=a.config.toolbarGroupCycling,q=e?37:39,e=e?39:37,k=void 0===k||k;switch(h){case 9:case CKEDITOR.SHIFT+9:for(;!b||!b.items.length;)if(b=9==h?(b?b.next:c.toolbar.next)||a.toolbox.toolbars[0]:(b?b.previous:c.toolbar.previous)||a.toolbox.toolbars[a.toolbox.toolbars.length-1],b.items.length)for(c=b.items[d?b.items.length-1:0];c&&!c.focus;)(c=d?c.previous:c.next)||
(b=0);c&&c.focus();return!1;case q:b=c;do b=b.next,!b&&k&&(b=c.toolbar.items[0]);while(b&&!b.focus);b?b.focus():f(c,9);return!1;case 40:return c.button&&c.button.hasArrow?c.execute():f(c,40==h?q:e),!1;case e:case 38:b=c;do b=b.previous,!b&&k&&(b=c.toolbar.items[c.toolbar.items.length-1]);while(b&&!b.focus);b?b.focus():(d=1,f(c,CKEDITOR.SHIFT+9),d=0);return!1;case 27:return a.focus(),!1;case 13:case 32:return c.execute(),!1}return!0};a.on("uiSpace",function(c){if(c.data.space==a.config.toolbarLocation){c.removeListener();
a.toolbox=new z;var d=CKEDITOR.tools.getNextId(),b=['\x3cspan id\x3d"',d,'" class\x3d"cke_voice_label"\x3e',a.lang.toolbar.toolbars,"\x3c/span\x3e",'\x3cspan id\x3d"'+a.ui.spaceId("toolbox")+'" class\x3d"cke_toolbox" role\x3d"group" aria-labelledby\x3d"',d,'" onmousedown\x3d"return false;"\x3e'],d=!1!==a.config.toolbarStartupExpanded,e,k;a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&b.push('\x3cspan class\x3d"cke_toolbox_main"'+(d?"\x3e":' style\x3d"display:none"\x3e'));
for(var q=a.toolbox.toolbars,n=D(a),g=n.length,l=0;l<g;l++){var r,m=0,w,p=n[l],v="/"!==p&&("/"===n[l+1]||l==g-1),x;if(p)if(e&&(b.push("\x3c/span\x3e"),k=e=0),"/"===p)b.push('\x3cspan class\x3d"cke_toolbar_break"\x3e\x3c/span\x3e');else{x=p.items||p;for(var y=0;y<x.length;y++){var t=x[y],A;if(t){var B=function(c){c=c.render(a,b);u=m.items.push(c)-1;0<u&&(c.previous=m.items[u-1],c.previous.next=c);c.toolbar=m;c.onkey=f;c.onfocus=function(){a.toolbox.focusCommandExecuted||a.focus()}};if(t.type==CKEDITOR.UI_SEPARATOR)k=
e&&t;else{A=!1!==t.canGroup;if(!m){r=CKEDITOR.tools.getNextId();m={id:r,items:[]};w=p.name&&(a.lang.toolbar.toolbarGroups[p.name]||p.name);b.push('\x3cspan id\x3d"',r,'" class\x3d"cke_toolbar'+(v?' cke_toolbar_last"':'"'),w?' aria-labelledby\x3d"'+r+'_label"':"",' role\x3d"toolbar"\x3e');w&&b.push('\x3cspan id\x3d"',r,'_label" class\x3d"cke_voice_label"\x3e',w,"\x3c/span\x3e");b.push('\x3cspan class\x3d"cke_toolbar_start"\x3e\x3c/span\x3e');var u=q.push(m)-1;0<u&&(m.previous=q[u-1],m.previous.next=
m)}A?e||(b.push('\x3cspan class\x3d"cke_toolgroup" role\x3d"presentation"\x3e'),e=1):e&&(b.push("\x3c/span\x3e"),e=0);k&&(B(k),k=0);B(t)}}}e&&(b.push("\x3c/span\x3e"),k=e=0);m&&b.push('\x3cspan class\x3d"cke_toolbar_end"\x3e\x3c/span\x3e\x3c/span\x3e')}}a.config.toolbarCanCollapse&&b.push("\x3c/span\x3e");if(a.config.toolbarCanCollapse&&a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var C=CKEDITOR.tools.addFunction(function(){a.execCommand("toolbarCollapse")});a.on("destroy",function(){CKEDITOR.tools.removeFunction(C)});
a.addCommand("toolbarCollapse",{readOnly:1,exec:function(b){var a=b.ui.space("toolbar_collapser"),c=a.getPrevious(),d=b.ui.space("contents"),e=c.getParent(),h=parseInt(d.$.style.height,10),g=e.$.offsetHeight,f=a.hasClass("cke_toolbox_collapser_min");f?(c.show(),a.removeClass("cke_toolbox_collapser_min"),a.setAttribute("title",b.lang.toolbar.toolbarCollapse)):(c.hide(),a.addClass("cke_toolbox_collapser_min"),a.setAttribute("title",b.lang.toolbar.toolbarExpand));a.getFirst().setText(f?"â²":"â");d.setStyle("height",
h-(e.$.offsetHeight-g)+"px");b.fire("resize",{outerHeight:b.container.$.offsetHeight,contentsHeight:d.$.offsetHeight,outerWidth:b.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});a.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse");b.push('\x3ca title\x3d"'+(d?a.lang.toolbar.toolbarCollapse:a.lang.toolbar.toolbarExpand)+'" id\x3d"'+a.ui.spaceId("toolbar_collapser")+'" tabIndex\x3d"-1" class\x3d"cke_toolbox_collapser');d||b.push(" cke_toolbox_collapser_min");
b.push('" onclick\x3d"CKEDITOR.tools.callFunction('+C+')"\x3e','\x3cspan class\x3d"cke_arrow"\x3e\x26#9650;\x3c/span\x3e',"\x3c/a\x3e")}b.push("\x3c/span\x3e");c.data.html+=b.join("")}});a.on("destroy",function(){if(this.toolbox){var a,d=0,b,e,f;for(a=this.toolbox.toolbars;d<a.length;d++)for(e=a[d].items,b=0;b<e.length;b++)f=e[b],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}});a.on("uiReady",function(){var c=a.ui.space("toolbox");c&&a.focusManager.add(c,
1)});a.addCommand("toolbarFocus",E);a.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus");a.ui.add("-",CKEDITOR.UI_SEPARATOR,{});a.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,d){d.push('\x3cspan class\x3d"cke_toolbar_separator" role\x3d"separator"\x3e\x3c/span\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,d,f){var c=v(this.editor),h=0===d,b={name:a};if(f){if(f=CKEDITOR.tools.search(c,function(a){return a.name==f})){!f.groups&&(f.groups=[]);if(d&&
(d=CKEDITOR.tools.indexOf(f.groups,d),0<=d)){f.groups.splice(d+1,0,a);return}h?f.groups.splice(0,0,a):f.groups.push(a);return}d=null}d&&(d=CKEDITOR.tools.indexOf(c,function(a){return a.name==d}));h?c.splice(0,0,a):"number"==typeof d?c.splice(d+1,0,b):c.push(a)}})();CKEDITOR.UI_SEPARATOR="separator";CKEDITOR.config.toolbarLocation="top";(function(){function q(b,a,c){a.type||(a.type="auto");if(c&&!1===b.fire("beforePaste",a)||!a.dataValue&&a.dataTransfer.isEmpty())return!1;a.dataValue||(a.dataValue="");if(CKEDITOR.env.gecko&&"drop"==a.method&&b.toolbox)b.once("afterPaste",function(){b.toolbox.focus()});return b.fire("paste",a)}function y(b){function a(){var a=b.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var c=function(a){b.readOnly&&"cut"==a.name||m.initPasteDataTransfer(a,b);a.data.preventDefault()};a.on("copy",
c);a.on("cut",c);a.on("cut",function(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(m.mainPasteEvent,function(b){"beforepaste"==m.mainPasteEvent&&n||t(b)});"beforepaste"==m.mainPasteEvent&&(a.on("paste",function(b){u||(f(),b.data.preventDefault(),t(b),e("paste"))}),a.on("contextmenu",g,null,null,0),a.on("beforepaste",function(b){!b.data||b.data.$.ctrlKey||b.data.$.shiftKey||g()},null,null,0));a.on("beforecut",function(){!n&&h(b)});var d;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),
"mouseup",function(){d=setTimeout(function(){r()},0)});b.on("destroy",function(){clearTimeout(d)});a.on("keyup",r)}function c(a){return{type:a,canUndo:"cut"==a,startDisabled:!0,fakeKeystroke:"cut"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){"cut"==this.type&&h();var a;var c=this.type;if(CKEDITOR.env.ie)a=e(c);else try{a=b.document.$.execCommand(c,!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+"Error"]);return a}}}function d(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+
86,exec:function(b,a){function c(a,g){g="undefined"!==typeof g?g:!0;a?(a.method="paste",a.dataTransfer||(a.dataTransfer=m.initPasteDataTransfer()),q(b,a,g)):d&&b.showNotification(l,"info",b.config.clipboard_notificationDuration);b.fire("afterCommandExec",{name:"paste",command:e,returnValue:!!a})}a="undefined"!==typeof a&&null!==a?a:{};var e=this,d="undefined"!==typeof a.notification?a.notification:!0,g=a.type,h=CKEDITOR.tools.keystrokeToString(b.lang.common.keyboard,b.getCommandKeystroke(this)),l=
"string"===typeof d?d:b.lang.clipboard.pasteNotification.replace(/%1/,'\x3ckbd aria-label\x3d"'+h.aria+'"\x3e'+h.display+"\x3c/kbd\x3e"),h="string"===typeof a?a:a.dataValue;g?b._.nextPasteType=g:delete b._.nextPasteType;"string"===typeof h?c({dataValue:h}):b.getClipboardData(c)}}}function f(){u=1;setTimeout(function(){u=0},100)}function g(){n=1;setTimeout(function(){n=0},10)}function e(a){var c=b.document,d=c.getBody(),e=!1,g=function(){e=!0};d.on(a,g);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);
d.removeListener(a,g);return e}function h(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),c,d,e;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],e=b.document.createText(""),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),a.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),a.selectElement(c))},0))}}function k(a,c){var d=b.document,e=b.editable(),g=function(b){b.cancel()},h;if(!d.getById("cke_pastebin")){var l=b.getSelection(),
t=l.createBookmarks();CKEDITOR.env.ie&&l.root.fire("selectionchange");var f=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is("body")||CKEDITOR.env.ie?"div":"body",d);f.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var k=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(f),f.addClass("cke_editable"),e.is("body")||(k="static"!=e.getComputedStyle("position")?e:CKEDITOR.dom.element.get(e.$.offsetParent),k=k.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(f);
f.setStyles({position:"absolute",top:d.getScrollPosition().y-k+10+"px",width:"1px",height:Math.max(1,d.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0});CKEDITOR.env.safari&&f.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text"));(k=f.getParent().isReadOnly())?(f.setOpacity(0),f.setAttribute("contenteditable",!0)):f.setStyle("ltr"==b.config.contentsLangDirection?"left":"right","-10000px");b.on("selectionChange",g,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=
e.once("blur",g,null,null,-100);k&&f.focus();k=new CKEDITOR.dom.range(f);k.selectNodeContents(f);var r=k.select();CKEDITOR.env.ie&&(h=e.once("blur",function(){b.lockSelection(r)}));var p=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=p);h&&h.removeListener();CKEDITOR.env.ie&&e.focus();l.selectBookmarks(t);f.remove();var a;CKEDITOR.env.webkit&&(a=f.getFirst())&&a.is&&a.hasClass("Apple-style-span")&&(f=a);b.removeListener("selectionChange",
g);c(f.getHtml())},0)}}function v(){if("paste"==m.mainPasteEvent)return b.fire("beforePaste",{type:"auto",method:"paste"}),!1;b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(m.mainPasteEvent)&&!e("paste"))return a.unlock(),!1;a.unlock();return!0}function l(a){if("wysiwyg"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=b.editable();f();"paste"==m.mainPasteEvent&&a.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire("saveSnapshot"),
setTimeout(function(){b.fire("saveSnapshot")},50)}}function t(a){var c={type:"auto",method:"paste",dataTransfer:m.initPasteDataTransfer(a)};c.dataTransfer.cacheData();var e=!1!==b.fire("beforePaste",c);e&&m.canClipboardApiBeTrusted(c.dataTransfer,b)?(a.data.preventDefault(),setTimeout(function(){q(b,c)},0)):k(a,function(a){c.dataValue=a.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/ig,"");e&&q(b,c)})}function r(){if("wysiwyg"==b.mode){var a=p("paste");b.getCommand("cut").setState(p("cut"));b.getCommand("copy").setState(p("copy"));
b.getCommand("paste").setState(a);b.fire("pasteState",a)}}function p(a){if(w&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var m=CKEDITOR.plugins.clipboard,n=0,u=0,w=0;(function(){b.on("key",l);b.on("contentDom",a);b.on("selectionChange",function(b){w=b.data.selection.getRanges()[0].checkReadOnly();
r()});b.contextMenu&&b.contextMenu.addListener(function(b,a){w=a.getRanges()[0].checkReadOnly();return{cut:p("cut"),copy:p("copy"),paste:p("paste")}})})();(function(){function a(c,e,d,g,h){var l=b.lang.clipboard[e];b.addCommand(e,d);b.ui.addButton&&b.ui.addButton(c,{label:l,command:e,toolbar:"clipboard,"+g});b.addMenuItems&&b.addMenuItem(e,{label:l,command:e,group:"clipboard",order:h})}a("Cut","cut",c("cut"),10,1);a("Copy","copy",c("copy"),20,4);a("Paste","paste",d(),30,8)})();b.getClipboardData=
function(a,c){function e(b){b.removeListener();b.cancel();c(b.data)}c||(c=a,a=null);b.on("paste",e,null,null,0);!1===v()&&(b.removeListener("paste",e),c(null))}}function z(b){if(CKEDITOR.env.webkit){if(!b.match(/^[^<]*$/g)&&!b.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!b.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!b.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else if(CKEDITOR.env.gecko){if(!b.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}else return"html";
return"htmlifiedtext"}function A(b,a){function c(b){return CKEDITOR.tools.repeat("\x3c/p\x3e\x3cp\x3e",~~(b/2))+(1==b%2?"\x3cbr\x3e":"")}a=a.replace(/\s+/g," ").replace(/> +</g,"\x3e\x3c").replace(/<br ?\/>/gi,"\x3cbr\x3e");a=a.replace(/<\/?[A-Z]+>/g,function(b){return b.toLowerCase()});if(a.match(/^[^<]$/))return a;CKEDITOR.env.webkit&&-1<a.indexOf("\x3cdiv\x3e")&&(a=a.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"\x3cbr\x3e").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"\x3cdiv\x3e\x3c/div\x3e"),
a.match(/<div>(<br>|)<\/div>/)&&(a="\x3cp\x3e"+a.replace(/(<div>(<br>|)<\/div>)+/g,function(b){return c(b.split("\x3c/div\x3e\x3cdiv\x3e").length+1)})+"\x3c/p\x3e"),a=a.replace(/<\/div><div>/g,"\x3cbr\x3e"),a=a.replace(/<\/?div>/g,""));CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(a=a.replace(/^<br><br>$/,"\x3cbr\x3e")),-1<a.indexOf("\x3cbr\x3e\x3cbr\x3e")&&(a="\x3cp\x3e"+a.replace(/(<br>){2,}/g,function(b){return c(b.length/4)})+"\x3c/p\x3e"));return B(b,a)}function C(){function b(){var b=
{},a;for(a in CKEDITOR.dtd)"$"!=a.charAt(0)&&"div"!=a&&"span"!=a&&(b[a]=1);return b}var a={};return{get:function(c){return"plain-text"==c?a.plainText||(a.plainText=new CKEDITOR.filter("br")):"semantic-content"==c?((c=a.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:b(),attributes:!0,styles:!1,classes:!1}}),c=a.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function x(b,a,c){a=CKEDITOR.htmlParser.fragment.fromHtml(a);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(a,!0,!1,
b.activeEnterMode);a.writeHtml(d);return d.getHtml()}function B(b,a){b.enterMode==CKEDITOR.ENTER_BR?a=a.replace(/(<\/p><p>)+/g,function(b){return CKEDITOR.tools.repeat("\x3cbr\x3e",b.length/7*2)}).replace(/<\/?p>/g,""):b.enterMode==CKEDITOR.ENTER_DIV&&(a=a.replace(/<(\/)?p>/g,"\x3c$1div\x3e"));return a}function D(b){b.data.preventDefault();b.data.$.dataTransfer.dropEffect="none"}function E(b){var a=CKEDITOR.plugins.clipboard;b.on("contentDom",function(){function c(a,c,e){c.select();q(b,{dataTransfer:e,
method:"drop"},1);e.sourceEditor.fire("saveSnapshot");e.sourceEditor.editable().extractHtmlFromRange(a);e.sourceEditor.getSelection().selectRanges([a]);e.sourceEditor.fire("saveSnapshot")}function d(c,e){c.select();q(b,{dataTransfer:e,method:"drop"},1);a.resetDragDataTransfer()}function f(a,c,e){var g={$:a.data.$,target:a.data.getTarget()};c&&(g.dragRange=c);e&&(g.dropRange=e);!1===b.fire(a.name,g)&&a.data.preventDefault()}function g(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());return b.getChildCount()}
var e=b.editable(),h=CKEDITOR.plugins.clipboard.getDropTarget(b),k=b.ui.space("top"),v=b.ui.space("bottom");a.preventDefaultDropOnElement(k);a.preventDefaultDropOnElement(v);e.attachListener(h,"dragstart",f);e.attachListener(b,"dragstart",a.resetDragDataTransfer,a,null,1);e.attachListener(b,"dragstart",function(c){a.initDragDataTransfer(c,b)},null,null,2);e.attachListener(b,"dragstart",function(){var c=a.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(a.dragStartContainerChildCount=
c?g(c.startContainer):null,a.dragEndContainerChildCount=c?g(c.endContainer):null)},null,null,100);e.attachListener(h,"dragend",f);e.attachListener(b,"dragend",a.initDragDataTransfer,a,null,1);e.attachListener(b,"dragend",a.resetDragDataTransfer,a,null,100);e.attachListener(h,"dragover",function(b){if(CKEDITOR.env.edge)b.data.preventDefault();else{var a=b.data.getTarget();a&&a.is&&a.is("html")?b.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&b.data.$.dataTransfer.types.contains("Files")&&
b.data.preventDefault()}});e.attachListener(h,"drop",function(c){if(!c.data.$.defaultPrevented){c.data.preventDefault();var e=c.data.getTarget();if(!e.isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html")){var e=a.getRangeAtDropPosition(c,b),g=a.dragRange;e&&f(c,g,e)}}},null,null,9999);e.attachListener(b,"drop",a.initDragDataTransfer,a,null,1);e.attachListener(b,"drop",function(e){if(e=e.data){var g=e.dropRange,h=e.dragRange,f=e.dataTransfer;f.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?
setTimeout(function(){a.internalDrop(h,g,f,b)},0):f.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c(h,g,f):d(g,f)}},null,null,9999)})}CKEDITOR.plugins.add("clipboard",{requires:"notification,toolbar",init:function(b){var a,c=C();b.config.forcePasteAsPlainText?a="plain-text":b.config.pasteFilter?a=b.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in b.config||(a="semantic-content");b.pasteFilter=c.get(a);y(b);E(b);if(CKEDITOR.env.gecko){var d=["image/png","image/jpeg","image/gif"],
f;b.on("paste",function(a){var c=a.data,h=c.dataTransfer;if(!c.dataValue&&"paste"==c.method&&h&&1==h.getFilesCount()&&f!=h.id&&(h=h.getFile(0),-1!=CKEDITOR.tools.indexOf(d,h.type))){var k=new FileReader;k.addEventListener("load",function(){a.data.dataValue='\x3cimg src\x3d"'+k.result+'" /\x3e';b.fire("paste",a.data)},!1);k.addEventListener("abort",function(){b.fire("paste",a.data)},!1);k.addEventListener("error",function(){b.fire("paste",a.data)},!1);k.readAsDataURL(h);f=c.dataTransfer.id;a.stop()}},
null,null,1)}b.on("paste",function(a){a.data.dataTransfer||(a.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!a.data.dataValue){var c=a.data.dataTransfer,d=c.getData("text/html");if(d)a.data.dataValue=d,a.data.type="html";else if(d=c.getData("text/plain"))a.data.dataValue=b.editable().transformPlainTextToHtml(d),a.data.type="text"}},null,null,1);b.on("paste",function(b){var a=b.data.dataValue,c=CKEDITOR.dtd.$block;-1<a.indexOf("Apple-")&&(a=a.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi,
" "),"html"!=b.data.type&&(a=a.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(a,b){return b.replace(/\t/g,"\x26nbsp;\x26nbsp; \x26nbsp;")})),-1<a.indexOf('\x3cbr class\x3d"Apple-interchange-newline"\x3e')&&(b.data.startsWithEOL=1,b.data.preSniffing="html",a=a.replace(/<br class="Apple-interchange-newline">/,"")),a=a.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1"));if(a.match(/^<[^<]+cke_(editable|contents)/i)){var d,f,l=new CKEDITOR.dom.element("div");for(l.setHtml(a);1==l.getChildCount()&&
(d=l.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass("cke_editable")||d.hasClass("cke_contents"));)l=f=d;f&&(a=f.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?a=a.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(a,e){return e.toLowerCase()in c?(b.data.preSniffing="html","\x3c"+e):a}):CKEDITOR.env.webkit?a=a.replace(/<\/(\w+)><div><br><\/div>$/,function(a,e){return e in c?(b.data.endsWithEOL=1,"\x3c/"+e+"\x3e"):a}):CKEDITOR.env.gecko&&(a=a.replace(/(\s)<br>$/,"$1"));b.data.dataValue=a},null,
null,3);b.on("paste",function(a){a=a.data;var e=b._.nextPasteType||a.type,d=a.dataValue,f,n=b.config.clipboard_defaultContentType||"html",l=a.dataTransfer.getTransferType(b);f="html"==e||"html"==a.preSniffing?"html":z(d);delete b._.nextPasteType;"htmlifiedtext"==f&&(d=A(b.config,d));"text"==e&&"html"==f?d=x(b,d,c.get("plain-text")):l==CKEDITOR.DATA_TRANSFER_EXTERNAL&&b.pasteFilter&&!a.dontFilter&&(d=x(b,d,b.pasteFilter));a.startsWithEOL&&(d='\x3cbr data-cke-eol\x3d"1"\x3e'+d);a.endsWithEOL&&(d+='\x3cbr data-cke-eol\x3d"1"\x3e');
"auto"==e&&(e="html"==f||"html"==n?"html":"text");a.type=e;a.dataValue=d;delete a.preSniffing;delete a.startsWithEOL;delete a.endsWithEOL},null,null,6);b.on("paste",function(a){a=a.data;a.dataValue&&(b.insertHtml(a.dataValue,a.type,a.range),setTimeout(function(){b.fire("afterPaste")},0))},null,null,1E3)}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,
mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",canClipboardApiBeTrusted:function(b,a){return b.getTransferType(a)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!b.isEmpty()||CKEDITOR.env.gecko&&(b.getData("text/html")||b.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS?!0:!1},getDropTarget:function(b){var a=b.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||a.isInline()?a:b.document},fixSplitNodesAfterDrop:function(b,
a,c,d){function f(b,c,d){var f=b;f.type==CKEDITOR.NODE_TEXT&&(f=b.getParent());if(f.equals(c)&&d!=c.getChildCount())return b=a.startContainer.getChild(a.startOffset-1),c=a.startContainer.getChild(a.startOffset),b&&b.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=b.getLength(),b.setText(b.getText()+c.getText()),c.remove(),a.setStart(b,d),a.collapse(!0)),!0}var g=a.startContainer;"number"==typeof d&&"number"==typeof c&&g.type==CKEDITOR.NODE_ELEMENT&&(f(b.startContainer,g,c)||f(b.endContainer,
g,d))},isDropRangeAffectedByDragRange:function(b,a){var c=a.startContainer,d=a.endOffset;return b.endContainer.equals(c)&&b.endOffset<=d||b.startContainer.getParent().equals(c)&&b.startContainer.getIndex()<d||b.endContainer.getParent().equals(c)&&b.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,a,c,d){var f=CKEDITOR.plugins.clipboard,g=d.editable(),e,h;d.fire("saveSnapshot");d.fire("lockSnapshot",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,a,f.dragStartContainerChildCount,
f.dragEndContainerChildCount);(h=this.isDropRangeAffectedByDragRange(b,a))||(e=b.createBookmark(!1));f=a.clone().createBookmark(!1);h&&(e=b.createBookmark(!1));b=e.startNode;a=e.endNode;h=f.startNode;a&&b.getPosition(h)&CKEDITOR.POSITION_PRECEDING&&a.getPosition(h)&CKEDITOR.POSITION_FOLLOWING&&h.insertBefore(b);b=d.createRange();b.moveToBookmark(e);g.extractHtmlFromRange(b,1);a=d.createRange();a.moveToBookmark(f);q(d,{dataTransfer:c,method:"drop",range:a},1);d.fire("unlockSnapshot")},getRangeAtDropPosition:function(b,
a){var c=b.data.$,d=c.clientX,f=c.clientY,g=a.getSelection(!0).getRanges()[0],e=a.createRange();if(b.data.testRange)return b.data.testRange;if(document.caretRangeFromPoint&&a.document.$.caretRangeFromPoint(d,f))c=a.document.$.caretRangeFromPoint(d,f),e.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),e.collapse(!0);else if(c.rangeParent)e.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),e.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&g&&a.editable().hasFocus)return g;
if(document.body.createTextRange){a.focus();c=a.document.getBody().$.createTextRange();try{for(var h=!1,k=0;20>k&&!h;k++){if(!h)try{c.moveToPoint(d,f-k),h=!0}catch(n){}if(!h)try{c.moveToPoint(d,f+k),h=!0}catch(l){}}if(h){var t="cke-temp-"+(new Date).getTime();c.pasteHTML('\x3cspan id\x3d"'+t+'"\x3eâ\x3c/span\x3e');var r=a.document.getById(t);e.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START);r.remove()}else{var p=a.document.$.elementFromPoint(d,f),m=new CKEDITOR.dom.element(p),q;if(m.equals(a.editable())||
"html"==m.getName())return g&&g.startContainer&&!g.startContainer.equals(a.editable())?g:null;q=m.getClientRect();d<q.left?e.setStartAt(m,CKEDITOR.POSITION_AFTER_START):e.setStartAt(m,CKEDITOR.POSITION_BEFORE_END);e.collapse(!0)}}catch(u){return null}}else return null}return e},initDragDataTransfer:function(b,a){var c=b.data.$?b.data.$.dataTransfer:null,d=new this.dataTransfer(c,a);c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=
d;b.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(b,a){if(this.isCustomCopyCutSupported){if(b&&b.data&&b.data.$){var c=new this.dataTransfer(b.data.$.clipboardData,a);this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=b.data.$.clipboardData):this.copyCutData=c;return c}return new this.dataTransfer(null,a)}return new this.dataTransfer(CKEDITOR.env.edge&&b&&b.data.$&&b.data.$.clipboardData||null,a)},preventDefaultDropOnElement:function(b){b&&
b.on("dragover",D)}};var n=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text";CKEDITOR.plugins.clipboard.dataTransfer=function(b,a){b&&(this.$=b);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],normalizeType:function(a){a=a.toLowerCase();return"text"==a||"text/plain"==a?"Text":"url"==a?"URL":a}};this.id=this.getData(n);this.id||(this.id="Text"==n?"":"cke-"+CKEDITOR.tools.getUniqueId());
if("Text"!=n)try{this.$.setData(n,this.id)}catch(c){}a&&(this.sourceEditor=a,this.setData("text/html",a.getSelectedHtml(1)),"Text"==n||this.getData("text/plain")||this.setData("text/plain",a.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(b,a){b=this._.normalizeType(b);var c=this._.data[b],d;if(void 0===c||null===c||""===c)try{c=this.$.getData(b)}catch(f){}if(void 0===
c||null===c||""===c)c="";"text/html"!=b||a?"Text"==b&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==c.substring(0,7)&&(c=""):(c=c.replace(this._.metaRegExp,""),(d=this._.bodyRegExp.exec(c))&&d.length&&(c=d[1],c=c.replace(this._.fragmentRegExp,"")));"string"===typeof c&&(d=c.indexOf("\x3c/html\x3e"),c=-1!==d?c.substring(0,d+7):c);return c},setData:function(b,a){b=this._.normalizeType(b);this._.data[b]=a;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==b||"Text"==b){"Text"==n&&
"Text"==b&&(this.id=a);try{this.$.setData(b,a)}catch(c){}}},getTransferType:function(b){return this.sourceEditor?this.sourceEditor==b?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function b(b){b=a._.normalizeType(b);var c=a.getData(b,!0);c&&(a._.data[b]=c)}if(this.$){var a=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)b(this.$.types[c])}else b("Text"),
b("URL");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(b){return this._.files.length?this._.files[b]:this.$&&this.$.files&&this.$.files.length?
this.$.files[b]:0===b?this._getImageFromClipboard():void 0},isEmpty:function(){var b={},a;if(this.getFilesCount())return!1;for(a in this._.data)b[a]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)b[this.$.types[c]]=1}else b.Text=1,b.URL=1;"Text"!=n&&(b[n]=0);for(a in b)if(b[a]&&""!==this.getData(a))return!1;return!0},_getImageFromClipboard:function(){var b;if(this.$&&this.$.items&&this.$.items[0])try{if((b=this.$.items[0].getAsFile())&&
b.type)return b}catch(a){}}}})();CKEDITOR.config.clipboard_notificationDuration=1E4;(function(){function q(b,d,a){a=b.config.forceEnterMode||a;if("wysiwyg"==b.mode){d||(d=b.activeEnterMode);var h=b.elementPath();h&&!h.isContextFor("p")&&(d=CKEDITOR.ENTER_BR,a=1);b.fire("saveSnapshot");d==CKEDITOR.ENTER_BR?t(b,d,null,a):u(b,d,null,a);b.fire("saveSnapshot")}}function v(b){b=b.getSelection().getRanges(!0);for(var d=b.length-1;0<d;d--)b[d].deleteContents();return b[0]}function y(b){var d=b.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&"true"==a.getAttribute("contenteditable")},
!0);if(b.root.equals(d))return b;d=new CKEDITOR.dom.range(d);d.moveToRange(b);return d}CKEDITOR.plugins.add("enterkey",{init:function(b){b.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){q(b)}});b.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){q(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var z=CKEDITOR.dom.walker.whitespaces(),A=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(b,
d,a,h){if(a=a||v(b)){a=y(a);var f=a.document,k=a.checkStartOfBlock(),m=a.checkEndOfBlock(),l=b.elementPath(a.startContainer),c=l.block,n=d==CKEDITOR.ENTER_DIV?"div":"p",e;if(k&&m){if(c&&(c.is("li")||c.getParent().is("li"))){c.is("li")||(c=c.getParent());a=c.getParent();e=a.getParent();h=!c.hasPrevious();var p=!c.hasNext(),n=b.getSelection(),g=n.createBookmarks(),k=c.getDirection(1),m=c.getAttribute("class"),r=c.getAttribute("style"),q=e.getDirection(1)!=k;b=b.enterMode!=CKEDITOR.ENTER_BR||q||r||m;
if(e.is("li"))h||p?(h&&p&&a.remove(),c[p?"insertAfter":"insertBefore"](e)):c.breakParent(e);else{if(b)if(l.block.is("li")?(e=f.createElement(d==CKEDITOR.ENTER_P?"p":"div"),q&&e.setAttribute("dir",k),r&&e.setAttribute("style",r),m&&e.setAttribute("class",m),c.moveChildren(e)):e=l.block,h||p)e[h?"insertBefore":"insertAfter"](a);else c.breakParent(a),e.insertAfter(a);else if(c.appendBogus(!0),h||p)for(;f=c[h?"getFirst":"getLast"]();)f[h?"insertBefore":"insertAfter"](a);else for(c.breakParent(a);f=c.getLast();)f.insertAfter(a);
c.remove()}n.selectBookmarks(g);return}if(c&&c.getParent().is("blockquote")){c.breakParent(c.getParent());c.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getPrevious().remove();c.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||c.getNext().remove();a.moveToElementEditStart(c);a.select();return}}else if(c&&c.is("pre")&&!m){t(b,d,a,h);return}if(k=a.splitBlock(n)){d=k.previousBlock;c=k.nextBlock;l=k.wasStartOfBlock;b=k.wasEndOfBlock;c?(g=c.getParent(),g.is("li")&&(c.breakParent(g),
c.move(c.getNext(),1))):d&&(g=d.getParent())&&g.is("li")&&(d.breakParent(g),g=d.getNext(),a.moveToElementEditStart(g),d.move(d.getPrevious()));if(l||b){if(d){if(d.is("li")||!w.test(d.getName())&&!d.is("pre"))e=d.clone()}else c&&(e=c.clone());e?h&&!e.is("li")&&e.renameNode(n):g&&g.is("li")?e=g:(e=f.createElement(n),d&&(p=d.getDirection())&&e.setAttribute("dir",p));if(f=k.elementPath)for(h=0,n=f.elements.length;h<n;h++){g=f.elements[h];if(g.equals(f.block)||g.equals(f.blockLimit))break;CKEDITOR.dtd.$removeEmpty[g.getName()]&&
(g=g.clone(),e.moveChildren(g),e.append(g))}e.appendBogus();e.getParent()||a.insertNode(e);e.is("li")&&e.removeAttribute("value");!CKEDITOR.env.ie||!l||b&&d.getChildCount()||(a.moveToElementEditStart(b?d:e),a.select());a.moveToElementEditStart(l&&!b?c:e)}else c.is("li")&&(e=a.clone(),e.selectNodeContents(c),e=new CKEDITOR.dom.walker(e),e.evaluator=function(a){return!(A(a)||z(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(g=e.next())&&
g.type==CKEDITOR.NODE_ELEMENT&&g.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?f.createElement("br"):f.createText("Â ")).insertBefore(g)),c&&a.moveToElementEditStart(c);a.select();a.scrollIntoView()}}},enterBr:function(b,d,a,h){if(a=a||v(b)){var f=a.document,k=a.checkEndOfBlock(),m=new CKEDITOR.dom.elementPath(b.getSelection().getStartElement()),l=m.block,c=l&&m.block.getName();h||"li"!=c?(!h&&k&&w.test(c)?(k=l.getDirection())?(f=f.createElement("div"),f.setAttribute("dir",k),f.insertAfter(l),a.setStart(f,
0)):(f.createElement("br").insertAfter(l),CKEDITOR.env.gecko&&f.createText("").insertAfter(l),a.setStartAt(l.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(b="pre"==c&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?f.createText("\r"):f.createElement("br"),a.deleteContents(),a.insertNode(b),CKEDITOR.env.needsBrFiller?(f.createText("ï»¿").insertAfter(b),k&&(l||m.blockLimit).appendBogus(),b.getNext().$.nodeValue="",a.setStartAt(b.getNext(),CKEDITOR.POSITION_AFTER_START)):
a.setStartAt(b,CKEDITOR.POSITION_AFTER_END)),a.collapse(!0),a.select(),a.scrollIntoView()):u(b,d,a,h)}}};var x=CKEDITOR.plugins.enterkey,t=x.enterBr,u=x.enterBlock,w=/^h[1-6]$/})();(function(){var b={canUndo:!1,exec:function(a){var b=a.document.createElement("hr");a.insertElement(b)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(a){a.blockless||(a.addCommand("horizontalrule",b),a.ui.addButton&&a.ui.addButton("HorizontalRule",{label:a.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})})();(function(){function m(a,b){var e,f;b.on("refresh",function(a){var b=[k],c;for(c in a.data.states)b.push(a.data.states[c]);this.setState(CKEDITOR.tools.search(b,p)?p:k)},b,null,100);b.on("exec",function(b){e=a.getSelection();f=e.createBookmarks(1);b.data||(b.data={});b.data.done=!1},b,null,0);b.on("exec",function(){a.forceNextSelectionCheck();e.selectBookmarks(f)},b,null,100)}var k=CKEDITOR.TRISTATE_DISABLED,p=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(a){var b=CKEDITOR.plugins.indent.genericDefinition;
m(a,a.addCommand("indent",new b(!0)));m(a,a.addCommand("outdent",new b));a.ui.addButton&&(a.ui.addButton("Indent",{label:a.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),a.ui.addButton("Outdent",{label:a.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"}));a.on("dirChanged",function(b){var f=a.createRange(),l=b.data.node;f.setStartBefore(l);f.setEndAfter(l);for(var n=new CKEDITOR.dom.walker(f),c;c=n.next();)if(c.type==CKEDITOR.NODE_ELEMENT)if(!c.equals(l)&&
c.getDirection())f.setStartAfter(c),n=new CKEDITOR.dom.walker(f);else{var d=a.config.indentClasses;if(d)for(var g="ltr"==b.data.dir?["_rtl",""]:["","_rtl"],h=0;h<d.length;h++)c.hasClass(d[h]+g[0])&&(c.removeClass(d[h]+g[0]),c.addClass(d[h]+g[1]));d=c.getStyle("margin-right");g=c.getStyle("margin-left");d?c.setStyle("margin-left",d):c.removeStyle("margin-left");g?c.setStyle("margin-right",g):c.removeStyle("margin-right")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;
this.startDisabled=!this.isIndent},specificDefinition:function(a,b,e){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!e;this.relatedGlobal=e?"indent":"outdent";this.indentKey=e?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on("pluginsLoaded",function(){for(var a in b)(function(a,b){var e=a.getCommand(b.relatedGlobal),c;for(c in b.jobs)e.on("exec",function(d){d.data.done||(a.fire("lockSnapshot"),b.execJob(a,c)&&(d.data.done=
!0),a.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,c),e.on("refresh",function(d){d.data.states||(d.data.states={});d.data.states[b.name+"@"+c]=b.refreshJob(a,c,d.data.path)},this,null,c);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var e=this.jobs[b];if(e.state!=k)return e.exec.call(this,a)},refreshJob:function(a,
b,e){b=this.jobs[b];a.activeFilter.checkFeature(this)?b.state=b.refresh.call(this,a,e):b.state=k;return b.state},getContext:function(a){return a.contains(this.context)}}})();(function(){function f(b,c,a){if(!b.getCustomData("indent_processed")){var d=this.editor,l=this.isIndent;if(c){d=b.$.className.match(this.classNameRegex);a=0;d&&(d=d[1],a=CKEDITOR.tools.indexOf(c,d)+1);if(0>(a+=l?1:-1))return;a=Math.min(a,c.length);a=Math.max(a,0);b.$.className=CKEDITOR.tools.ltrim(b.$.className.replace(this.classNameRegex,""));0<a&&b.addClass(c[a-1])}else{c=m(b,a);a=parseInt(b.getStyle(c),10);var g=d.config.indentOffset||40;isNaN(a)&&(a=0);a+=(l?1:-1)*g;if(0>a)return;a=Math.max(a,
0);a=Math.ceil(a/g)*g;b.setStyle(c,a?a+(d.config.indentUnit||"px"):"");""===b.getAttribute("style")&&b.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,b,"indent_processed",1)}}function m(b,c){return"ltr"==(c||b.getComputedStyle("direction"))?"margin-left":"margin-right"}var h=CKEDITOR.dtd.$listItem,p=CKEDITOR.dtd.$list,k=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(b){function c(){a.specificDefinition.apply(this,
arguments);this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:d?null:"margin-left,margin-right",classes:d||null}};this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]];this.enterBr&&
(this.allowedContent.div=!0);this.requiredContent=(this.enterBr?"div":"p")+(d?"("+d.join(",")+")":"{margin-left}");this.jobs={20:{refresh:function(a,b){var e=b.block||b.blockLimit;if(!e.is(h))var c=e.getAscendant(h),e=c&&b.contains(c)||e;e.is(h)&&(e=e.getParent());if(this.enterBr||this.getContext(b)){if(d){var c=d,e=e.$.className.match(this.classNameRegex),f=this.isIndent,c=e?f?e[1]!=c.slice(-1):!0:f;return c?n:k}return this.isIndent?n:e?CKEDITOR[0>=(parseInt(e.getStyle(m(e)),10)||0)?"TRISTATE_DISABLED":
"TRISTATE_OFF"]:k}return k},exec:function(a){var b=a.getSelection(),b=b&&b.getRanges()[0],c;if(c=a.elementPath().contains(p))f.call(this,c,d);else for(b=b.createIterator(),a=a.config.enterMode,b.enforceRealBlocks=!0,b.enlargeBr=a!=CKEDITOR.ENTER_BR;c=b.getNextParagraph(a==CKEDITOR.ENTER_P?"p":"div");)c.isReadOnly()||f.call(this,c,d);return!0}}}}var a=CKEDITOR.plugins.indent,d=b.config.indentClasses;a.registerCommands(b,{indentblock:new c(b,"indentblock",!0),outdentblock:new c(b,"outdentblock")});
CKEDITOR.tools.extend(c.prototype,a.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:d?new RegExp("(?:^|\\s+)("+d.join("|")+")(?\x3d$|\\s)"):null})}})})();(function(){function w(d){function f(b){for(var e=c.startContainer,a=c.endContainer;e&&!e.getParent().equals(b);)e=e.getParent();for(;a&&!a.getParent().equals(b);)a=a.getParent();if(!e||!a)return!1;for(var g=e,e=[],k=!1;!k;)g.equals(a)&&(k=!0),e.push(g),g=g.getNext();if(1>e.length)return!1;g=b.getParents(!0);for(a=0;a<g.length;a++)if(g[a].getName&&p[g[a].getName()]){b=g[a];break}for(var g=l.isIndent?1:-1,a=e[0],e=e[e.length-1],k=CKEDITOR.plugins.list.listToArray(b,q),h=k[e.getCustomData("listarray_index")].indent,
a=a.getCustomData("listarray_index");a<=e.getCustomData("listarray_index");a++)if(k[a].indent+=g,0<g){var n=k[a].parent;k[a].parent=new CKEDITOR.dom.element(n.getName(),n.getDocument())}for(a=e.getCustomData("listarray_index")+1;a<k.length&&k[a].indent>h;a++)k[a].indent+=g;e=CKEDITOR.plugins.list.arrayToList(k,q,null,d.config.enterMode,b.getDirection());if(!l.isIndent){var f;if((f=b.getParent())&&f.is("li"))for(var g=e.listNode.getChildren(),r=[],m,a=g.count()-1;0<=a;a--)(m=g.getItem(a))&&m.is&&m.is("li")&&
r.push(m)}e&&e.listNode.replace(b);if(r&&r.length)for(a=0;a<r.length;a++){for(m=b=r[a];(m=m.getNext())&&m.is&&m.getName()in p;)CKEDITOR.env.needsNbspFiller&&!b.getFirst(x)&&b.append(c.document.createText("Â ")),b.append(m);b.insertAfter(f)}e&&d.fire("contentDomInvalidated");return!0}for(var l=this,q=this.database,p=this.context,c,n=d.getSelection(),n=(n&&n.getRanges()).createIterator();c=n.getNextRange();){for(var b=c.getCommonAncestor();b&&(b.type!=CKEDITOR.NODE_ELEMENT||!p[b.getName()]);){if(d.editable().equals(b)){b=
!1;break}b=b.getParent()}b||(b=c.startPath().contains(p))&&c.setEndAt(b,CKEDITOR.POSITION_BEFORE_END);if(!b){var h=c.getEnclosedNode();h&&h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in p&&(c.setStartAt(h,CKEDITOR.POSITION_AFTER_START),c.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),b=h)}b&&c.startContainer.type==CKEDITOR.NODE_ELEMENT&&c.startContainer.getName()in p&&(h=new CKEDITOR.dom.walker(c),h.evaluator=t,c.startContainer=h.next());b&&c.endContainer.type==CKEDITOR.NODE_ELEMENT&&c.endContainer.getName()in
p&&(h=new CKEDITOR.dom.walker(c),h.evaluator=t,c.endContainer=h.previous());if(b)return f(b)}return 0}function t(d){return d.type==CKEDITOR.NODE_ELEMENT&&d.is("li")}function x(d){return y(d)&&z(d)}var y=CKEDITOR.dom.walker.whitespaces(!0),z=CKEDITOR.dom.walker.bookmark(!1,!0),u=CKEDITOR.TRISTATE_DISABLED,v=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(d){function f(d){l.specificDefinition.apply(this,arguments);this.requiredContent=["ul","ol"];d.on("key",
function(f){var c=d.elementPath();if("wysiwyg"==d.mode&&f.data.keyCode==this.indentKey&&c){var n=this.getContext(c);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,n)||(d.execCommand(this.relatedGlobal),f.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(d,c){var f=this.getContext(c),b=CKEDITOR.plugins.indentList.firstItemInPath(this.context,c,f);return f&&this.isIndent&&!b?v:u}:function(d,c){return!this.getContext(c)||this.isIndent?u:v},
exec:CKEDITOR.tools.bind(w,this)}}var l=CKEDITOR.plugins.indent;l.registerCommands(d,{indentlist:new f(d,"indentlist",!0),outdentlist:new f(d,"outdentlist")});CKEDITOR.tools.extend(f.prototype,l.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(d,f,l){var q=f.contains(t);l||(l=f.contains(d));return l&&q&&q.equals(l.getFirst(t))}})();(function(){function q(a,c){c=void 0===c||c;var b;if(c)b=a.getComputedStyle("text-align");else{for(;!a.hasAttribute||!a.hasAttribute("align")&&!a.getStyle("text-align");){b=a.getParent();if(!b)break;a=b}b=a.getStyle("text-align")||a.getAttribute("align")||""}b&&(b=b.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,""));!b&&c&&(b="rtl"==a.getComputedStyle("direction")?"right":"left");return b}function h(a,c,b){this.editor=a;this.name=c;this.value=b;this.context="p";c=a.config.justifyClasses;var f=a.config.enterMode==
CKEDITOR.ENTER_P?"p":"div";if(c){switch(b){case "left":this.cssClassName=c[0];break;case "center":this.cssClassName=c[1];break;case "right":this.cssClassName=c[2];break;case "justify":this.cssClassName=c[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+c.join("|")+")(?\x3d$|\\s)");this.requiredContent=f+"("+this.cssClassName+")"}else this.requiredContent=f+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",
classes:this.cssClassName||null}};a.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function m(a){var c=a.editor,b=c.createRange();b.setStartBefore(a.data.node);b.setEndAfter(a.data.node);for(var f=new CKEDITOR.dom.walker(b),d;d=f.next();)if(d.type==CKEDITOR.NODE_ELEMENT)if(!d.equals(a.data.node)&&d.getDirection())b.setStartAfter(d),f=new CKEDITOR.dom.walker(b);else{var e=c.config.justifyClasses;e&&(d.hasClass(e[0])?(d.removeClass(e[0]),d.addClass(e[2])):d.hasClass(e[2])&&(d.removeClass(e[2]),
d.addClass(e[0])));e=d.getStyle("text-align");"left"==e?d.setStyle("text-align","right"):"right"==e&&d.setStyle("text-align","left")}}h.prototype={exec:function(a){var c=a.getSelection(),b=a.config.enterMode;if(c){for(var f=c.createBookmarks(),d=c.getRanges(),e=this.cssClassName,h,g,k=a.config.useComputedState,k=void 0===k||k,n=d.length-1;0<=n;n--)for(h=d[n].createIterator(),h.enlargeBr=b!=CKEDITOR.ENTER_BR;g=h.getNextParagraph(b==CKEDITOR.ENTER_P?"p":"div");)if(!g.isReadOnly()){var l=g.getName(),
p;p=a.activeFilter.check(l+"{text-align}");if((l=a.activeFilter.check(l+"("+e+")"))||p){g.removeAttribute("align");g.removeStyle("text-align");var m=e&&(g.$.className=CKEDITOR.tools.ltrim(g.$.className.replace(this.cssClassRegex,""))),r=this.state==CKEDITOR.TRISTATE_OFF&&(!k||q(g,!0)!=this.value);e&&l?r?g.addClass(e):m||g.removeAttribute("class"):r&&p&&g.setStyle("text-align",this.value)}}a.focus();a.forceNextSelectionCheck();c.selectBookmarks(f)}},refresh:function(a,c){var b=c.block||c.blockLimit,
f=b.getName(),d=b.equals(a.editable()),f=this.cssClassName?a.activeFilter.check(f+"("+this.cssClassName+")"):a.activeFilter.check(f+"{text-align}");d&&1===c.elements.length?this.setState(CKEDITOR.TRISTATE_OFF):!d&&f?this.setState(q(b,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}};CKEDITOR.plugins.add("justify",{init:function(a){if(!a.blockless){var c=new h(a,"justifyleft","left"),b=new h(a,"justifycenter","center"),
f=new h(a,"justifyright","right"),d=new h(a,"justifyblock","justify");a.addCommand("justifyleft",c);a.addCommand("justifycenter",b);a.addCommand("justifyright",f);a.addCommand("justifyblock",d);a.ui.addButton&&(a.ui.addButton("JustifyLeft",{label:a.lang.justify.left,command:"justifyleft",toolbar:"align,10"}),a.ui.addButton("JustifyCenter",{label:a.lang.justify.center,command:"justifycenter",toolbar:"align,20"}),a.ui.addButton("JustifyRight",{label:a.lang.justify.right,command:"justifyright",toolbar:"align,30"}),
a.ui.addButton("JustifyBlock",{label:a.lang.justify.block,command:"justifyblock",toolbar:"align,40"}));a.on("dirChanged",m)}}})})();(function(){function I(b,m,e){function c(c){if(!(!(a=d[c?"getFirst":"getLast"]())||a.is&&a.isBlockBoundary()||!(p=m.root[c?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||p.is&&p.isBlockBoundary({br:1})))b.document.createElement("br")[c?"insertBefore":"insertAfter"](a)}for(var f=CKEDITOR.plugins.list.listToArray(m.root,e),g=[],k=0;k<m.contents.length;k++){var h=m.contents[k];(h=h.getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(g.push(h),CKEDITOR.dom.element.setMarker(e,
h,"list_item_processed",!0))}h=null;for(k=0;k<g.length;k++)h=g[k].getCustomData("listarray_index"),f[h].indent=-1;for(k=h+1;k<f.length;k++)if(f[k].indent>f[k-1].indent+1){g=f[k-1].indent+1-f[k].indent;for(h=f[k].indent;f[k]&&f[k].indent>=h;)f[k].indent+=g,k++;k--}var d=CKEDITOR.plugins.list.arrayToList(f,e,null,b.config.enterMode,m.root.getAttribute("dir")).listNode,a,p;c(!0);c();d.replace(m.root);b.fire("contentDomInvalidated")}function B(b,m){this.name=b;this.context=this.type=m;this.allowedContent=
m+" li";this.requiredContent=m}function E(b,m,e,c){for(var f,g;f=b[c?"getLast":"getFirst"](J);)(g=f.getDirection(1))!==m.getDirection(1)&&f.setAttribute("dir",g),f.remove(),e?f[c?"insertBefore":"insertAfter"](e):m.append(f,c)}function F(b){function m(e){var c=b[e?"getPrevious":"getNext"](u);c&&c.type==CKEDITOR.NODE_ELEMENT&&c.is(b.getName())&&(E(b,c,null,!e),b.remove(),b=c)}m();m(1)}function G(b){return b.type==CKEDITOR.NODE_ELEMENT&&(b.getName()in CKEDITOR.dtd.$block||b.getName()in CKEDITOR.dtd.$listItem)&&
CKEDITOR.dtd[b.getName()]["#"]}function C(b,m,e){b.fire("saveSnapshot");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var c=e.extractContents();m.trim(!1,!0);var f=m.createBookmark(),g=new CKEDITOR.dom.elementPath(m.startContainer),k=g.block,g=g.lastElement.getAscendant("li",1)||k,h=new CKEDITOR.dom.elementPath(e.startContainer),d=h.contains(CKEDITOR.dtd.$listItem),h=h.contains(CKEDITOR.dtd.$list);k?(k=k.getBogus())&&k.remove():h&&(k=h.getPrevious(u))&&z(k)&&k.remove();(k=c.getLast())&&k.type==CKEDITOR.NODE_ELEMENT&&
k.is("br")&&k.remove();(k=m.startContainer.getChild(m.startOffset))?c.insertBefore(k):m.startContainer.append(c);d&&(c=A(d))&&(g.contains(d)?(E(c,d.getParent(),d),c.remove()):g.append(c));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){h=e.startPath();c=h.block;if(!c)break;c.is("li")&&(g=c.getParent(),c.equals(g.getLast(u))&&c.equals(g.getFirst(u))&&(c=g));e.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START);c.remove()}e=e.clone();c=b.editable();e.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);
e.evaluator=function(a){return u(a)&&!z(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&F(e);m.moveToBookmark(f);m.select();b.fire("saveSnapshot")}function A(b){return(b=b.getLast(u))&&b.type==CKEDITOR.NODE_ELEMENT&&b.getName()in v?b:null}var v={ol:1,ul:1},K=CKEDITOR.dom.walker.whitespaces(),H=CKEDITOR.dom.walker.bookmark(),u=function(b){return!(K(b)||H(b))},z=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(b,m,e,c,f){if(!v[b.getName()])return[];
c||(c=0);e||(e=[]);for(var g=0,k=b.getChildCount();g<k;g++){var h=b.getChild(g);h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(h,m,e,c+1);if("li"==h.$.nodeName.toLowerCase()){var d={parent:b,indent:c,element:h,contents:[]};f?d.grandparent=f:(d.grandparent=b.getParent(),d.grandparent&&"li"==d.grandparent.$.nodeName.toLowerCase()&&(d.grandparent=d.grandparent.getParent()));m&&CKEDITOR.dom.element.setMarker(m,h,"listarray_index",e.length);e.push(d);
for(var a=0,p=h.getChildCount(),l;a<p;a++)l=h.getChild(a),l.type==CKEDITOR.NODE_ELEMENT&&v[l.getName()]?CKEDITOR.plugins.list.listToArray(l,m,e,c+1,d.grandparent):d.contents.push(l)}}return e},arrayToList:function(b,m,e,c,f){e||(e=0);if(!b||b.length<e+1)return null;for(var g,k=b[e].parent.getDocument(),h=new CKEDITOR.dom.documentFragment(k),d=null,a=e,p=Math.max(b[e].indent,0),l=null,q,n,t=c==CKEDITOR.ENTER_P?"p":"div";;){var r=b[a];g=r.grandparent;q=r.element.getDirection(1);if(r.indent==p){d&&b[a].parent.getName()==
d.getName()||(d=b[a].parent.clone(!1,1),f&&d.setAttribute("dir",f),h.append(d));l=d.append(r.element.clone(0,1));q!=d.getDirection(1)&&l.setAttribute("dir",q);for(g=0;g<r.contents.length;g++)l.append(r.contents[g].clone(1,1));a++}else if(r.indent==Math.max(p,0)+1)r=b[a-1].element.getDirection(1),a=CKEDITOR.plugins.list.arrayToList(b,null,a,c,r!=q?q:null),!l.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=k.$.documentMode&&l.append(k.createText("Â ")),l.append(a.listNode),a=a.nextIndex;else if(-1==
r.indent&&!e&&g){v[g.getName()]?(l=r.element.clone(!1,!0),q!=g.getDirection(1)&&l.setAttribute("dir",q)):l=new CKEDITOR.dom.documentFragment(k);var d=g.getDirection(1)!=q,y=r.element,D=y.getAttribute("class"),z=y.getAttribute("style"),A=l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(c!=CKEDITOR.ENTER_BR||d||z||D),w,B=r.contents.length,x;for(g=0;g<B;g++)if(w=r.contents[g],H(w)&&1<B)A?x=w.clone(1,1):l.append(w.clone(1,1));else if(w.type==CKEDITOR.NODE_ELEMENT&&w.isBlockBoundary()){d&&!w.getDirection()&&
w.setAttribute("dir",q);n=w;var C=y.getAttribute("style");C&&n.setAttribute("style",C.replace(/([^;])$/,"$1;")+(n.getAttribute("style")||""));D&&w.addClass(D);n=null;x&&(l.append(x),x=null);l.append(w.clone(1,1))}else A?(n||(n=k.createElement(t),l.append(n),d&&n.setAttribute("dir",q)),z&&n.setAttribute("style",z),D&&n.setAttribute("class",D),x&&(n.append(x),x=null),n.append(w.clone(1,1))):l.append(w.clone(1,1));x&&((n||l).append(x),x=null);l.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&a!=b.length-1&&(CKEDITOR.env.needsBrFiller&&
(q=l.getLast())&&q.type==CKEDITOR.NODE_ELEMENT&&q.is("br")&&q.remove(),(q=l.getLast(u))&&q.type==CKEDITOR.NODE_ELEMENT&&q.is(CKEDITOR.dtd.$block)||l.append(k.createElement("br")));q=l.$.nodeName.toLowerCase();"div"!=q&&"p"!=q||l.appendBogus();h.append(l);d=null;a++}else return null;n=null;if(b.length<=a||Math.max(b[a].indent,0)<p)break}if(m)for(b=h.getFirst();b;){if(b.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(m,b),b.getName()in CKEDITOR.dtd.$listItem&&(e=b,k=f=c=void 0,c=e.getDirection()))){for(f=
e.getParent();f&&!(k=f.getDirection());)f=f.getParent();c==k&&e.removeAttribute("dir")}b=b.getNextSourceNode()}return{listNode:h,nextIndex:a}}};var L=/^h[1-6]$/,J=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);B.prototype={exec:function(b){this.refresh(b,b.elementPath());var m=b.config,e=b.getSelection(),c=e&&e.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var f=b.editable();if(f.getFirst(u)){var g=1==c.length&&c[0];(m=g&&g.getEnclosedNode())&&m.is&&this.type==m.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else m.enterMode==
CKEDITOR.ENTER_BR?f.appendBogus():c[0].fixBlock(1,m.enterMode==CKEDITOR.ENTER_P?"p":"div"),e.selectRanges(c)}for(var m=e.createBookmarks(!0),f=[],k={},c=c.createIterator(),h=0;(g=c.getNextRange())&&++h;){var d=g.getBoundaryNodes(),a=d.startNode,p=d.endNode;a.type==CKEDITOR.NODE_ELEMENT&&"td"==a.getName()&&g.setStartAt(d.startNode,CKEDITOR.POSITION_AFTER_START);p.type==CKEDITOR.NODE_ELEMENT&&"td"==p.getName()&&g.setEndAt(d.endNode,CKEDITOR.POSITION_BEFORE_END);g=g.createIterator();for(g.forceBrBreak=
this.state==CKEDITOR.TRISTATE_OFF;d=g.getNextParagraph();)if(!d.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(k,d,"list_block",1);for(var l=b.elementPath(d),a=l.elements,p=0,l=l.blockLimit,q,n=a.length-1;0<=n&&(q=a[n]);n--)if(v[q.getName()]&&l.contains(q)){l.removeCustomData("list_group_object_"+h);(a=q.getCustomData("list_group_object"))?a.contents.push(d):(a={root:q,contents:[d]},f.push(a),CKEDITOR.dom.element.setMarker(k,q,"list_group_object",a));p=1;break}p||(p=l,p.getCustomData("list_group_object_"+
h)?p.getCustomData("list_group_object_"+h).contents.push(d):(a={root:p,contents:[d]},CKEDITOR.dom.element.setMarker(k,p,"list_group_object_"+h,a),f.push(a)))}}for(q=[];0<f.length;)if(a=f.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(v[a.root.getName()]){c=b;h=a;a=k;g=q;p=CKEDITOR.plugins.list.listToArray(h.root,a);l=[];for(d=0;d<h.contents.length;d++)n=h.contents[d],(n=n.getAscendant("li",!0))&&!n.getCustomData("list_item_processed")&&(l.push(n),CKEDITOR.dom.element.setMarker(a,n,"list_item_processed",
!0));for(var n=h.root.getDocument(),t=void 0,r=void 0,d=0;d<l.length;d++){var y=l[d].getCustomData("listarray_index"),t=p[y].parent;t.is(this.type)||(r=n.createElement(this.type),t.copyAttributes(r,{start:1,type:1}),r.removeStyle("list-style-type"),p[y].parent=r)}a=CKEDITOR.plugins.list.arrayToList(p,a,null,c.config.enterMode);p=void 0;l=a.listNode.getChildCount();for(d=0;d<l&&(p=a.listNode.getChild(d));d++)p.getName()==this.type&&g.push(p);a.listNode.replace(h.root);c.fire("contentDomInvalidated")}else{p=
b;g=a;d=q;l=g.contents;c=g.root.getDocument();h=[];1==l.length&&l[0].equals(g.root)&&(a=c.createElement("div"),l[0].moveChildren&&l[0].moveChildren(a),l[0].append(a),l[0]=a);g=g.contents[0].getParent();for(n=0;n<l.length;n++)g=g.getCommonAncestor(l[n].getParent());t=p.config.useComputedState;p=a=void 0;t=void 0===t||t;for(n=0;n<l.length;n++)for(r=l[n];y=r.getParent();){if(y.equals(g)){h.push(r);!p&&r.getDirection()&&(p=1);r=r.getDirection(t);null!==a&&(a=a&&a!=r?null:r);break}r=y}if(!(1>h.length)){l=
h[h.length-1].getNext();n=c.createElement(this.type);d.push(n);for(t=d=void 0;h.length;)d=h.shift(),t=c.createElement("li"),r=d,r.is("pre")||L.test(r.getName())||"false"==r.getAttribute("contenteditable")?d.appendTo(t):(d.copyAttributes(t),a&&d.getDirection()&&(t.removeStyle("direction"),t.removeAttribute("dir")),d.moveChildren(t),d.remove()),t.appendTo(n);a&&p&&n.setAttribute("dir",a);l?n.insertBefore(l):n.appendTo(g)}}else this.state==CKEDITOR.TRISTATE_ON&&v[a.root.getName()]&&I.call(this,b,a,k);
for(n=0;n<q.length;n++)F(q[n]);CKEDITOR.dom.element.clearAllMarkers(k);e.selectBookmarks(m);b.focus()},refresh:function(b,m){var e=m.contains(v,1),c=m.blockLimit||m.root;e&&c.contains(e)?this.setState(e.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(b){b.blockless||(b.addCommand("numberedlist",new B("numberedlist","ol")),b.addCommand("bulletedlist",new B("bulletedlist","ul")),b.ui.addButton&&
(b.ui.addButton("NumberedList",{label:b.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),b.ui.addButton("BulletedList",{label:b.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),b.on("key",function(m){var e=m.data.domEvent.getKey(),c;if("wysiwyg"==b.mode&&e in{8:1,46:1}){var f=b.getSelection().getRanges()[0],g=f&&f.startPath();if(f&&f.collapsed){var k=8==e,h=b.editable(),d=new CKEDITOR.dom.walker(f.clone());d.evaluator=function(a){return u(a)&&
!z(a)};d.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table"))};e=f.clone();if(k){var a;(a=g.contains(v))&&f.checkBoundaryOfElement(a,CKEDITOR.START)&&(a=a.getParent())&&a.is("li")&&(a=A(a))?(c=a,a=a.getPrevious(u),e.moveToPosition(a&&z(a)?a:c,CKEDITOR.POSITION_BEFORE_START)):(d.range.setStartAt(h,CKEDITOR.POSITION_AFTER_START),d.range.setEnd(f.startContainer,f.startOffset),(a=d.previous())&&a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in v||a.is("li"))&&(a.is("li")||(d.range.selectNodeContents(a),
d.reset(),d.evaluator=G,a=d.previous()),c=a,e.moveToElementEditEnd(c),e.moveToPosition(e.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(c)C(b,e,f),m.cancel();else{var p=g.contains(v);p&&f.checkBoundaryOfElement(p,CKEDITOR.START)&&(c=p.getFirst(u),f.checkBoundaryOfElement(c,CKEDITOR.START)&&(a=p.getPrevious(u),A(c)?a&&(f.moveToElementEditEnd(a),f.select()):b.execCommand("outdent"),m.cancel()))}}else if(c=g.contains("li")){if(d.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),k=(h=c.getLast(u))&&
G(h)?h:c,g=0,(a=d.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in v&&a.equals(h)?(g=1,a=d.next()):f.checkBoundaryOfElement(k,CKEDITOR.END)&&(g=2),g&&a){f=f.clone();f.moveToElementEditStart(a);if(1==g&&(e.optimize(),!e.startContainer.equals(c))){for(c=e.startContainer;c.is(CKEDITOR.dtd.$inline);)p=c,c=c.getParent();p&&e.moveToPosition(p,CKEDITOR.POSITION_AFTER_END)}2==g&&(e.moveToPosition(e.endPath().block,CKEDITOR.POSITION_BEFORE_END),f.endPath().block&&f.moveToPosition(f.endPath().block,CKEDITOR.POSITION_AFTER_START));
C(b,e,f);m.cancel()}}else d.range.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),(a=d.next())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(v)&&(a=a.getFirst(u),g.block&&f.checkStartOfBlock()&&f.checkEndOfBlock()?(g.block.remove(),f.moveToElementEditStart(a),f.select()):A(a)?(f.moveToElementEditStart(a),f.select()):(f=f.clone(),f.moveToElementEditStart(a),C(b,e,f)),m.cancel());setTimeout(function(){b.selectionChange(1)})}}}))}})})();(function(){function l(a,c,f){var d=CKEDITOR.cleanWord;d?f():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||c+"filter/default.js"),CKEDITOR.scriptLoader.load(a,f,null,!0));return!d}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){var c=0,f=this.path;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(a,b){c=1;a.execCommand("paste",{type:"html",notification:b&&"undefined"!==typeof b.notification?b.notification:!0})}});a.ui.addButton&&a.ui.addButton("PasteFromWord",
{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"});a.on("paste",function(d){var b=d.data,g=(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?b.dataTransfer.getData("text/html",!0):null)||b.dataValue,e={dataValue:g},h=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,h=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(g)||h.test(g);if(g&&(c||h)&&(!1!==a.fire("pasteFromWord",e)||c)){b.dontFilter=!0;var k=
l(a,f,function(){if(k)a.fire("paste",b);else if(!a.config.pasteFromWordPromptCleanup||c||confirm(a.lang.pastefromword.confirmCleanup))e.dataValue=CKEDITOR.cleanWord(e.dataValue,a),a.fire("afterPasteFromWord",e),b.dataValue=e.dataValue;c=0});k&&d.cancel()}},null,null,3)}})})();CKEDITOR.plugins.add("removeformat",{init:function(a){a.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton("RemoveFormat",{label:a.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}});
CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(a){for(var h=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp("^(?:"+a.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(",")),f=CKEDITOR.plugins.removeformat.filter,m=a.getSelection().getRanges(),n=m.createIterator(),p=function(a){return a.type==CKEDITOR.NODE_ELEMENT},c;c=n.getNextRange();){c.collapsed||c.enlarge(CKEDITOR.ENLARGE_ELEMENT);
var l=c.createBookmark(),b=l.startNode,d=l.endNode,k=function(b){for(var c=a.elementPath(b),e=c.elements,d=1,g;(g=e[d])&&!g.equals(c.block)&&!g.equals(c.blockLimit);d++)h.test(g.getName())&&f(a,g)&&b.breakParent(g)};k(b);if(d)for(k(d),b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);b&&!b.equals(d);)if(b.isReadOnly()){if(b.getPosition(d)&CKEDITOR.POSITION_CONTAINS)break;b=b.getNext(p)}else k=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==b.getName()&&b.data("cke-realelement")||!f(a,b)||(h.test(b.getName())?
b.remove(1):(b.removeAttributes(e),a.fire("removeFormatCleanup",b))),b=k;c.moveToBookmark(l)}a.forceNextSelectionCheck();a.getSelection().selectRanges(m)}}},filter:function(a,h){for(var e=a._.removeFormatFilters||[],f=0;f<e.length;f++)if(!1===e[f](h))return!1;return!0}};CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)};CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var";
CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign";(function(){function k(c){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(d){if(d.editable().hasFocus){var e=d.getSelection(),b;if(b=(new CKEDITOR.dom.elementPath(e.getCommonAncestor(),e.root)).contains({td:1,th:1},1)){var e=d.createRange(),a=CKEDITOR.tools.tryThese(function(){var a=b.getParent().$.cells[b.$.cellIndex+(c?-1:1)];a.parentNode.parentNode;return a},function(){var a=b.getParent(),a=a.getAscendant("table").$.rows[a.$.rowIndex+(c?-1:1)];return a.cells[c?a.cells.length-1:
0]});if(a||c)if(a)a=new CKEDITOR.dom.element(a),e.moveToElementEditStart(a),e.checkStartOfBlock()&&e.checkEndOfBlock()||e.selectNodeContents(a);else return!0;else{for(var f=b.getAscendant("table").$,a=b.getParent().$.cells,f=new CKEDITOR.dom.element(f.insertRow(-1),d.document),g=0,h=a.length;g<h;g++)f.append((new CKEDITOR.dom.element(a[g],d.document)).clone(!1,!1)).appendBogus();e.moveToElementEditStart(f)}e.select(!0);return!0}}return!1}}}var h={editorFocus:!1,modes:{wysiwyg:1,source:1}},g={exec:function(c){c.container.focusNext(!0,
c.tabIndex)}},f={exec:function(c){c.container.focusPrevious(!0,c.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(c){for(var d=!1!==c.config.enableTabKeyTools,e=c.config.tabSpaces||0,b="";e--;)b+="Â ";if(b)c.on("key",function(a){9==a.data.keyCode&&(c.insertText(b),a.cancel())});if(d)c.on("key",function(a){(9==a.data.keyCode&&c.execCommand("selectNextCell")||a.data.keyCode==CKEDITOR.SHIFT+9&&c.execCommand("selectPreviousCell"))&&a.cancel()});c.addCommand("blur",CKEDITOR.tools.extend(g,h));c.addCommand("blurBack",
CKEDITOR.tools.extend(f,h));c.addCommand("selectNextCell",k());c.addCommand("selectPreviousCell",k(!0))}})})();
CKEDITOR.dom.element.prototype.focusNext=function(k,h){var g=void 0===h?this.getTabIndex():h,f,c,d,e,b,a;if(0>=g)for(b=this.getNextSourceNode(k,CKEDITOR.NODE_ELEMENT);b;){if(b.isVisible()&&0===b.getTabIndex()){d=b;break}b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(b=this.getDocument().getBody().getFirst();b=b.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&b.equals(this)){if(c=!0,k){if(!(b=b.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(b)&&
(f=1);if(b.isVisible()&&!(0>(a=b.getTabIndex()))){if(f&&a==g){d=b;break}a>g&&(!d||!e||a<e)?(d=b,e=a):d||0!==a||(d=b,e=a)}}d&&d.focus()};
CKEDITOR.dom.element.prototype.focusPrevious=function(k,h){for(var g=void 0===h?this.getTabIndex():h,f,c,d,e=0,b,a=this.getDocument().getBody().getLast();a=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!f)if(!c&&a.equals(this)){if(c=!0,k){if(!(a=a.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;f=1}}else c&&!this.contains(a)&&(f=1);if(a.isVisible()&&!(0>(b=a.getTabIndex())))if(0>=g){if(f&&0===b){d=a;break}b>e&&(d=a,e=b)}else{if(f&&b==g){d=a;break}b<g&&(!d||b>e)&&(d=a,e=b)}}d&&d.focus()};(function(){var g=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(a){function b(a){d.enabled&&!1!==a.data.command.canUndo&&d.save()}function c(){d.enabled=a.readOnly?!1:"wysiwyg"==a.mode;d.onChange()}var d=a.undoManager=new e(a),l=d.editingHandler=new k(d),f=a.addCommand("undo",{exec:function(){d.undo()&&(a.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),h=a.addCommand("redo",{exec:function(){d.redo()&&
(a.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});a.setKeystroke([[g[0],"undo"],[g[1],"redo"],[g[2],"redo"]]);d.onChange=function(){f.setState(d.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h.setState(d.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};a.on("beforeCommandExec",b);a.on("afterCommandExec",b);a.on("saveSnapshot",function(a){d.save(a.data&&a.data.contentOnly)});a.on("contentDom",l.attachListeners,l);a.on("instanceReady",function(){a.fire("saveSnapshot")});
a.on("beforeModeUnload",function(){"wysiwyg"==a.mode&&d.save(!0)});a.on("mode",c);a.on("readOnly",c);a.ui.addButton&&(a.ui.addButton("Undo",{label:a.lang.undo.undo,command:"undo",toolbar:"undo,10"}),a.ui.addButton("Redo",{label:a.lang.undo.redo,command:"redo",toolbar:"undo,20"}));a.resetUndo=function(){d.reset();a.fire("saveSnapshot")};a.on("updateSnapshot",function(){d.currentImage&&d.update()});a.on("lockSnapshot",function(a){a=a.data;d.lock(a&&a.dontUpdate,a&&a.forceUpdate)});a.on("unlockSnapshot",
d.unlock,d)}});CKEDITOR.plugins.undo={};var e=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};e.prototype={type:function(a,b){var c=e.getKeyGroup(a),d=this.strokesRecorded[c]+1;b=b||d>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());b?(d=0,this.editor.fire("saveSnapshot")):this.editor.fire("change");this.strokesRecorded[c]=
d;this.previousKeyGroup=c},keyGroupChanged:function(a){return e.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,c){var d=this.editor;if(this.locked||
"ready"!=d.status||"wysiwyg"!=d.mode)return!1;var e=d.editable();if(!e||"ready"!=e.status)return!1;e=this.snapshots;b||(b=new f(d));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==c&&d.fire("change");e.splice(this.index+1,e.length-this.index-1);e.length==this.limit&&e.shift();this.index=e.push(b)-1;this.currentImage=b;!1!==c&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,
c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];this.update();this.refreshState();b.fire("change")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,d;if(c)if(a)for(d=this.index-1;0<=d;d--){if(a=b[d],!c.equalsContent(a))return a.index=
d,a}else for(d=this.index+1;d<b.length;d++)if(a=b[d],!c.equalsContent(a))return a.index=d,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||
(a=new f(this.editor));for(var b=this.index,c=this.snapshots;0<b&&this.currentImage.equalsContent(c[b-1]);)--b;c.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var c=null;if(b)c=!0;else{var d=new f(this.editor,
!0);this.currentImage&&this.currentImage.equalsContent(d)&&(c=d)}this.locked={update:c,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new f(this.editor,!0);a.equalsContent(b)||this.update()}}}};e.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};e.keyGroups={PRINTABLE:0,FUNCTIONAL:1};e.isNavigationKey=function(a){return!!e.navigationKeyCodes[a]};e.getKeyGroup=function(a){var b=e.keyGroups;
return n[a]?b.FUNCTIONAL:b.PRINTABLE};e.getOppositeKeyGroup=function(a){var b=e.keyGroups;return a==b.FUNCTIONAL?b.PRINTABLE:b.FUNCTIONAL};e.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&e.getKeyGroup(a)==e.keyGroups.FUNCTIONAL};var f=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire("beforeUndoImage");var c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\s+data-cke-expando=".*?"/g,""));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire("afterUndoImage")},
h=/\b(?:href|src|name)="[^"]*?"/gi;f.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(h,""),a=a.replace(h,""));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var d=b[c],e=a[c];if(d.startOffset!=e.startOffset||d.endOffset!=e.endOffset||!CKEDITOR.tools.arrayCompare(d.start,e.start)||!CKEDITOR.tools.arrayCompare(d.end,
e.end))return!1}}return!0}};var k=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new m;this.lastKeydownImage=null};k.prototype={onKeydown:function(a){var b=a.data.getKey();if(229!==b)if(-1<CKEDITOR.tools.indexOf(g,a.data.getKeystroke()))a.data.preventDefault();else if(this.keyEventsStack.cleanUp(a),a=this.undoManager,this.keyEventsStack.getLast(b)||this.keyEventsStack.push(b),this.lastKeydownImage=new f(a.editor),e.isNavigationKey(b)||
this.undoManager.keyGroupChanged(b))if(a.strokesRecorded[0]||a.strokesRecorded[1])a.save(!1,this.lastKeydownImage,!1),a.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));this.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var b=this.undoManager;
a=a.data.getKey();var c=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(e.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new f(b.editor,!0))))if(0<c)b.type(a);else if(e.isNavigationKey(a))this.onNavigationKey(!0)},onNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new f(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=
!1},attachListeners:function(){var a=this.undoManager.editor,b=a.editable(),c=this;b.attachListener(b,"keydown",function(a){c.onKeydown(a);if(e.ieFunctionalKeysBug(a.data.getKey()))c.onInput()},null,null,999);b.attachListener(b,CKEDITOR.env.ie?"keypress":"input",c.onInput,c,null,999);b.attachListener(b,"keyup",c.onKeyup,c,null,999);b.attachListener(b,"paste",c.ignoreInputEventListener,c,null,999);b.attachListener(b,"drop",c.ignoreInputEventListener,c,null,999);a.on("afterPaste",c.activateInputEventListener,
c,null,999);b.attachListener(b.isInline()?b:a.document.getDocumentElement(),"click",function(){c.onNavigationKey()},null,null,999);b.attachListener(this.undoManager.editor,"blur",function(){c.keyEventsStack.remove(9)},null,null,999)}};var m=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};m.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});return this.stack[a-1]},getLastIndex:function(a){if("number"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==
a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if("number"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},getTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);
a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}})();(function(){function m(a,d){CKEDITOR.tools.extend(this,{editor:a,editable:a.editable(),doc:a.document,win:a.window},d,!0);this.inline=this.editable.isInline();this.inline||(this.frame=this.win.getFrame());this.target=this[this.inline?"editable":"doc"]}function n(a,d){CKEDITOR.tools.extend(this,d,{editor:a},!0)}function p(a,d){var b=a.editable();CKEDITOR.tools.extend(this,{editor:a,editable:b,inline:b.isInline(),doc:a.document,win:a.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},
d,!0);this.hidden={};this.visible={};this.inline||(this.frame=this.win.getFrame());this.queryViewport();var c=CKEDITOR.tools.bind(this.queryViewport,this),e=CKEDITOR.tools.bind(this.hideVisible,this),g=CKEDITOR.tools.bind(this.removeAll,this);b.attachListener(this.winTop,"resize",c);b.attachListener(this.winTop,"scroll",c);b.attachListener(this.winTop,"resize",e);b.attachListener(this.win,"scroll",e);b.attachListener(this.inline?b:this.frame,"mouseout",function(a){var b=a.data.$.clientX;a=a.data.$.clientY;
this.queryViewport();(b<=this.rect.left||b>=this.rect.right||a<=this.rect.top||a>=this.rect.bottom)&&this.hideVisible();(0>=b||b>=this.winTopPane.width||0>=a||a>=this.winTopPane.height)&&this.hideVisible()},this);b.attachListener(a,"resize",c);b.attachListener(a,"mode",g);a.on("destroy",g);this.lineTpl=(new CKEDITOR.template('\x3cdiv data-cke-lineutils-line\x3d"1" class\x3d"cke_reset_all" style\x3d"{lineStyle}"\x3e\x3cspan style\x3d"{tipLeftStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3cspan style\x3d"{tipRightStyle}"\x3e\x26nbsp;\x3c/span\x3e\x3c/div\x3e')).output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},
t,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},q,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function l(a){var d;if(d=a&&a.type==CKEDITOR.NODE_ELEMENT)d=!(r[a.getComputedStyle("float")]||r[a.getAttribute("align")]);return d&&
!u[a.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils");CKEDITOR.LINEUTILS_BEFORE=1;CKEDITOR.LINEUTILS_AFTER=2;CKEDITOR.LINEUTILS_INSIDE=4;m.prototype={start:function(a){var d=this,b=this.editor,c=this.doc,e,g,f,h,k=CKEDITOR.tools.eventsBuffer(50,function(){b.readOnly||"wysiwyg"!=b.mode||(d.relations={},(g=c.$.elementFromPoint(f,h))&&g.nodeType&&(e=new CKEDITOR.dom.element(g),d.traverseSearch(e),isNaN(f+h)||d.pixelSearch(e,f,h),a&&a(d.relations,f,h)))});this.listener=this.editable.attachListener(this.target,
"mousemove",function(a){f=a.data.$.clientX;h=a.data.$.clientY;k.input()});this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){k.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var a={};a[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START;a[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END;a[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START;return function(d){var b=this.editor.createRange();b.moveToPosition(this.relations[d.uid].element,
a[d.type]);return b}}(),store:function(){function a(a,b,c){var e=a.getUniqueId();e in c?c[e].type|=b:c[e]={element:a,type:b}}return function(d,b){var c;b&CKEDITOR.LINEUTILS_AFTER&&l(c=d.getNext())&&c.isVisible()&&(a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_AFTER);b&CKEDITOR.LINEUTILS_INSIDE&&l(c=d.getFirst())&&c.isVisible()&&(a(c,CKEDITOR.LINEUTILS_BEFORE,this.relations),b^=CKEDITOR.LINEUTILS_INSIDE);a(d,b,this.relations)}}(),traverseSearch:function(a){var d,b,c;do if(c=a.$["data-cke-expando"],
!(c&&c in this.relations)){if(a.equals(this.editable))break;if(l(a))for(d in this.lookups)(b=this.lookups[d](a))&&this.store(a,b)}while((!a||a.type!=CKEDITOR.NODE_ELEMENT||"true"!=a.getAttribute("contenteditable"))&&(a=a.getParent()))},pixelSearch:function(){function a(a,c,e,g,f){for(var h=0,k;f(e);){e+=g;if(25==++h)break;if(k=this.doc.$.elementFromPoint(c,e))if(k==a)h=0;else if(d(a,k)&&(h=0,l(k=new CKEDITOR.dom.element(k))))return k}}var d=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(a,c){return a.contains(c)}:
function(a,c){return!!(a.compareDocumentPosition(c)&16)};return function(b,c,d){var g=this.win.getViewPaneSize().height,f=a.call(this,b.$,c,d,-1,function(a){return 0<a});c=a.call(this,b.$,c,d,1,function(a){return a<g});if(f)for(this.traverseSearch(f);!f.getParent().equals(b);)f=f.getParent();if(c)for(this.traverseSearch(c);!c.getParent().equals(b);)c=c.getParent();for(;f||c;){f&&(f=f.getNext(l));if(!f||f.equals(c))break;this.traverseSearch(f);c&&(c=c.getPrevious(l));if(!c||c.equals(f))break;this.traverseSearch(c)}}}(),
greedySearch:function(){this.relations={};for(var a=this.editable.getElementsByTag("*"),d=0,b,c,e;b=a.getItem(d++);)if(!b.equals(this.editable)&&b.type==CKEDITOR.NODE_ELEMENT&&(b.hasAttribute("contenteditable")||!b.isReadOnly())&&l(b)&&b.isVisible())for(e in this.lookups)(c=this.lookups[e](b))&&this.store(b,c);return this.relations}};n.prototype={locate:function(){function a(a,b){var c=a.element[b===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return c&&l(c)?(a.siblingRect=c.getClientRect(),
b==CKEDITOR.LINEUTILS_BEFORE?(a.siblingRect.bottom+a.elementRect.top)/2:(a.elementRect.bottom+a.siblingRect.top)/2):b==CKEDITOR.LINEUTILS_BEFORE?a.elementRect.top:a.elementRect.bottom}return function(d){var b;this.locations={};for(var c in d)b=d[c],b.elementRect=b.element.getClientRect(),b.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(c,CKEDITOR.LINEUTILS_BEFORE,a(b,CKEDITOR.LINEUTILS_BEFORE)),b.type&CKEDITOR.LINEUTILS_AFTER&&this.store(c,CKEDITOR.LINEUTILS_AFTER,a(b,CKEDITOR.LINEUTILS_AFTER)),b.type&
CKEDITOR.LINEUTILS_INSIDE&&this.store(c,CKEDITOR.LINEUTILS_INSIDE,(b.elementRect.top+b.elementRect.bottom)/2);return this.locations}}(),sort:function(){var a,d,b,c;return function(e,g){a=this.locations;d=[];for(var f in a)for(var h in a[f])if(b=Math.abs(e-a[f][h]),d.length){for(c=0;c<d.length;c++)if(b<d[c].dist){d.splice(c,0,{uid:+f,type:h,dist:b});break}c==d.length&&d.push({uid:+f,type:h,dist:b})}else d.push({uid:+f,type:h,dist:b});return"undefined"!=typeof g?d.slice(0,g):d}}(),store:function(a,
d,b){this.locations[a]||(this.locations[a]={});this.locations[a][d]=b}};var q={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},t={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};p.prototype={removeAll:function(){for(var a in this.hidden)this.hidden[a].remove(),delete this.hidden[a];for(a in this.visible)this.visible[a].remove(),delete this.visible[a]},hideLine:function(a){var d=a.getUniqueId();
a.hide();this.hidden[d]=a;delete this.visible[d]},showLine:function(a){var d=a.getUniqueId();a.show();this.visible[d]=a;delete this.hidden[d]},hideVisible:function(){for(var a in this.visible)this.hideLine(this.visible[a])},placeLine:function(a,d){var b,c,e;if(b=this.getStyle(a.uid,a.type)){for(e in this.visible)if(this.visible[e].getCustomData("hash")!==this.hash){c=this.visible[e];break}if(!c)for(e in this.hidden)if(this.hidden[e].getCustomData("hash")!==this.hash){this.showLine(c=this.hidden[e]);
break}c||this.showLine(c=this.addLine());c.setCustomData("hash",this.hash);this.visible[c.getUniqueId()]=c;c.setStyles(b);d&&d(c)}},getStyle:function(a,d){var b=this.relations[a],c=this.locations[a][d],e={};e.width=b.siblingRect?Math.max(b.siblingRect.width,b.elementRect.width):b.elementRect.width;e.top=this.inline?c+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+c;if(e.top-this.winTopScroll.y<this.rect.top||e.top-this.winTopScroll.y>this.rect.bottom)return!1;this.inline?
e.left=b.elementRect.left-this.rect.relativeX:(0<b.elementRect.left?e.left=this.rect.left+b.elementRect.left:(e.width+=b.elementRect.left,e.left=this.rect.left),0<(b=e.left+e.width-(this.rect.left+this.winPane.width))&&(e.width-=b));e.left+=this.winTopScroll.x;for(var g in e)e[g]=CKEDITOR.tools.cssLength(e[g]);return e},addLine:function(){var a=CKEDITOR.dom.element.createFromHtml(this.lineTpl);a.appendTo(this.container);return a},prepare:function(a,d){this.relations=a;this.locations=d;this.hash=Math.random()},
cleanup:function(){var a,d;for(d in this.visible)a=this.visible[d],a.getCustomData("hash")!==this.hash&&this.hideLine(a)},queryViewport:function(){this.winPane=this.win.getViewPaneSize();this.winTopScroll=this.winTop.getScrollPosition();this.winTopPane=this.winTop.getViewPaneSize();this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(a){a=a.getClientRect();var d=this.container.getDocumentPosition(),b=this.container.getComputedStyle("position");a.relativeX=a.relativeY=
0;"static"!=b&&(a.relativeY=d.y,a.relativeX=d.x,a.top-=a.relativeY,a.bottom-=a.relativeY,a.left-=a.relativeX,a.right-=a.relativeX);return a}};var r={left:1,right:1,center:1},u={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:m,locator:n,liner:p}})();(function(){function f(a){return a.getName&&!a.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(a){if(CKEDITOR.env.webkit){var b=CKEDITOR.plugins.widgetselection;a.on("contentDom",function(a){a=a.editor;var d=a.document,e=a.editable();e.attachListener(d,"keydown",function(a){var c=a.data.$;65==a.data.getKey()&&(CKEDITOR.env.mac&&c.metaKey||!CKEDITOR.env.mac&&c.ctrlKey)&&CKEDITOR.tools.setTimeout(function(){b.addFillers(e)||b.removeFillers(e)},0)},null,null,-1);a.on("selectionCheck",
function(a){b.removeFillers(a.editor.editable())});a.on("paste",function(a){a.data.dataValue=b.cleanPasteData(a.data.dataValue)});"selectall"in a.plugins&&b.addSelectAllIntegration(a)})}}});CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"\x26nbsp;",fillerTagName:"div",addFillers:function(a){var b=a.editor;if(!this.isWholeContentSelected(a)&&0<a.getChildCount()){var c=a.getFirst(f),d=a.getLast(f);c&&c.type==CKEDITOR.NODE_ELEMENT&&
!c.isEditable()&&(this.startFiller=this.createFiller(),a.append(this.startFiller,1));d&&d.type==CKEDITOR.NODE_ELEMENT&&!d.isEditable()&&(this.endFiller=this.createFiller(!0),a.append(this.endFiller,0));if(this.hasFiller(a))return b=b.createRange(),b.selectNodeContents(a),b.select(),!0}return!1},removeFillers:function(a){if(this.hasFiller(a)&&!this.isWholeContentSelected(a)){var b=a.findOne(this.fillerTagName+"["+this.fillerAttribute+"\x3dstart]"),c=a.findOne(this.fillerTagName+"["+this.fillerAttribute+
"\x3dend]");this.startFiller&&b&&this.startFiller.equals(b)?this.removeFiller(this.startFiller,a):this.startFiller=b;this.endFiller&&c&&this.endFiller.equals(c)?this.removeFiller(this.endFiller,a):this.endFiller=c}},cleanPasteData:function(a){a&&a.length&&(a=a.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),""));return a},isWholeContentSelected:function(a){var b=a.editor.getSelection().getRanges()[0];return!b||b&&b.collapsed?!1:(b=b.clone(),b.enlarge(CKEDITOR.ENLARGE_ELEMENT),
!!(b&&a&&b.startContainer&&b.endContainer&&0===b.startOffset&&b.endOffset===a.getChildCount()&&b.startContainer.equals(a)&&b.endContainer.equals(a)))},hasFiller:function(a){return 0<a.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(a){var b=new CKEDITOR.dom.element(this.fillerTagName);b.setHtml(this.fillerContent);b.setAttribute(this.fillerAttribute,a?"end":"start");b.setAttribute("data-cke-temp",1);b.setStyles({display:"block",width:0,height:0,padding:0,border:0,
margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"});return b},removeFiller:function(a,b){if(a){var c=b.editor,d=b.editor.getSelection().getRanges()[0].startPath(),e=c.createRange(),g,f;d.contains(a)&&(g=a.getHtml(),f=!0);d="start"==a.getAttribute(this.fillerAttribute);a.remove();g&&0<g.length&&g!=this.fillerContent?(b.insertHtmlIntoRange(g,c.getSelection().getRanges()[0]),e.setStartAt(b.getChild(b.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),c.getSelection().selectRanges([e])):
f&&(d?e.setStartAt(b.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):e.setEndAt(b.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),b.editor.getSelection().selectRanges([e]))}},createFillerRegex:function(a){var b=this.createFiller(a).getOuterHtml().replace(/style="[^"]*"/gi,'style\x3d"[^"]*"').replace(/>[^<]*</gi,"\x3e[^\x3c]*\x3c");return new RegExp((a?"":"^")+b+(a?"$":""))},addSelectAllIntegration:function(a){var b=this;a.editable().attachListener(a,"beforeCommandExec",function(c){var d=
a.editable();"selectAll"==c.data.name&&d&&b.addFillers(d)},null,null,9999)}}})();(function(){function p(a){this.editor=a;this.registered={};this.instances={};this.selected=[];this.widgetHoldingFocusedEditable=this.focused=null;this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}};F(this);G(this);this.on("checkWidgets",H);this.editor.on("contentDomInvalidated",this.checkWidgets,this);I(this);J(this);K(this);L(this);M(this)}function g(a,b,c,d,e){var f=a.editor;CKEDITOR.tools.extend(this,d,{editor:f,id:b,inline:"span"==c.getParent().getName(),element:c,data:CKEDITOR.tools.extend({},
"function"==typeof d.defaults?d.defaults():d.defaults),dataReady:!1,inited:!1,ready:!1,edit:g.prototype.edit,focusedEditable:null,definition:d,repository:a,draggable:!1!==d.draggable,_:{downcastFn:d.downcast&&"string"==typeof d.downcast?d.downcasts[d.downcast]:d.downcast}},!0);a.fire("instanceCreated",this);N(this,d);this.init&&this.init();this.inited=!0;(a=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(a)));e&&this.setData(e);this.data.classes||this.setData("classes",
this.getClasses());this.dataReady=!0;r(this);this.fire("data",this.data);this.isInited()&&f.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function q(a,b,c){CKEDITOR.dom.element.call(this,b.$);this.editor=a;this._={};b=this.filter=c.filter;CKEDITOR.dtd[this.getName()].p?(this.enterMode=b?b.getAllowedEnterMode(a.enterMode):a.enterMode,this.shiftEnterMode=b?b.getAllowedEnterMode(a.shiftEnterMode,!0):a.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function O(a,
b){a.addCommand(b.name,{exec:function(a,d){function e(){a.widgets.finalizeCreation(k)}var f=a.widgets.focused;if(f&&f.name==b.name)f.edit();else if(b.insert)b.insert();else if(b.template){var f="function"==typeof b.defaults?b.defaults():b.defaults,f=CKEDITOR.dom.element.createFromHtml(b.template.output(f)),h,l=a.widgets.wrapElement(f,b.name),k=new CKEDITOR.dom.documentFragment(l.getDocument());k.append(l);(h=a.widgets.initOn(f,b,d&&d.startupData))?(f=h.once("edit",function(b){if(b.data.dialog)h.once("dialog",
function(b){b=b.data;var d,f;d=b.once("ok",e,null,null,20);f=b.once("cancel",function(b){b.data&&!1===b.data.hide||a.widgets.destroy(h,!0)});b.once("hide",function(){d.removeListener();f.removeListener()})});else e()},null,null,999),h.edit(),f.removeListener()):e()}},allowedContent:b.allowedContent,requiredContent:b.requiredContent,contentForms:b.contentForms,contentTransformations:b.contentTransformations})}function P(a,b){function c(b,d,c){var e=CKEDITOR.tools.getIndex(a._.upcasts,function(a){return a[2]>
c});0>e&&(e=a._.upcasts.length);a._.upcasts.splice(e,0,[b,d,c])}var d=b.upcast,e=b.upcastPriority||10;if(d)if("string"==typeof d)for(d=d.split(",");d.length;)c(b.upcasts[d.pop()],b.name,e);else c(d,b.name,e)}function t(a,b){a.focused=null;if(b.isInited()){var c=b.editor.checkDirty();a.fire("widgetBlurred",{widget:b});b.setFocused(!1);!c&&b.editor.resetDirty()}}function H(a){a=a.data;if("wysiwyg"==this.editor.mode){var b=this.editor.editable(),c=this.instances,d,e,f,h;if(b){for(d in c)c[d].isReady()&&
!b.contains(c[d].wrapper)&&this.destroy(c[d],!0);if(a&&a.initOnlyNew)c=this.initOnAll();else{var l=b.find(".cke_widget_wrapper"),c=[];d=0;for(e=l.count();d<e;d++){f=l.getItem(d);if(h=!this.getByElement(f,!0)){a:{h=Q;for(var k=f;k=k.getParent();)if(h(k)){h=!0;break a}h=!1}h=!h}h&&b.contains(f)&&(f.addClass("cke_widget_new"),c.push(this.initOn(f.getFirst(g.isDomWidgetElement))))}}a&&a.focusInited&&1==c.length&&c[0].focus()}}}function u(a,b,c){if(!c.allowedContent&&!c.disallowedContent)return null;var d=
this._.filters[a];d||(this._.filters[a]=d={});a=d[b];a||(a=c.allowedContent?new CKEDITOR.filter(c.allowedContent):this.editor.filter.clone(),d[b]=a,c.disallowedContent&&a.disallow(c.disallowedContent));return a}function R(a){var b=[],c=a._.upcasts,d=a._.upcastCallbacks;return{toBeWrapped:b,iterator:function(a){var f,h,l,k,m;if("data-cke-widget-wrapper"in a.attributes)return(a=a.getFirst(g.isParserWidgetElement))&&b.push([a]),!1;if("data-widget"in a.attributes)return b.push([a]),!1;if(m=c.length){if(a.attributes["data-cke-widget-upcasted"])return!1;
k=0;for(f=d.length;k<f;++k)if(!1===d[k](a))return;for(k=0;k<m;++k)if(f=c[k],l={},h=f[0](a,l))return h instanceof CKEDITOR.htmlParser.element&&(a=h),a.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(l)),a.attributes["data-cke-widget-upcasted"]=1,b.push([a,f[1]]),!1}}}}function v(a,b){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(a?"inline":"block")+(b?" cke_widget_"+b:"")}}
function w(a,b,c){if(a.type==CKEDITOR.NODE_ELEMENT){var d=CKEDITOR.dtd[a.name];if(d&&!d[c.name]){var d=a.split(b),e=a.parent;b=d.getIndex();a.children.length||(--b,a.remove());d.children.length||d.remove();return w(e,b,c)}}a.add(c,b)}function x(a,b){return"boolean"==typeof a.inline?a.inline:!!CKEDITOR.dtd.$inline[b]}function Q(a){return a.hasAttribute("data-cke-temp")}function n(a,b,c,d){var e=a.editor;e.fire("lockSnapshot");c?(d=c.data("cke-widget-editable"),d=b.editables[d],a.widgetHoldingFocusedEditable=
b,b.focusedEditable=d,c.addClass("cke_widget_editable_focused"),d.filter&&e.setActiveFilter(d.filter),e.setActiveEnterMode(d.enterMode,d.shiftEnterMode)):(d||b.focusedEditable.removeClass("cke_widget_editable_focused"),b.focusedEditable=null,a.widgetHoldingFocusedEditable=null,e.setActiveFilter(null),e.setActiveEnterMode(null,null));e.fire("unlockSnapshot")}function S(a){a.contextMenu&&a.contextMenu.addListener(function(b){if(b=a.widgets.getByElement(b,!0))return b.fire("contextMenu",{})})}function T(a,
b){return CKEDITOR.tools.trim(b)}function L(a){var b=a.editor,c=CKEDITOR.plugins.lineutils;b.on("dragstart",function(d){var c=d.data.target;g.isDomDragHandler(c)&&(c=a.getByElement(c),d.data.dataTransfer.setData("cke/widget-id",c.id),b.focus(),c.focus())});b.on("drop",function(c){var e=c.data.dataTransfer,f=e.getData("cke/widget-id"),h=e.getTransferType(b),e=b.createRange();""!==f&&h===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?c.cancel():""!==f&&h==CKEDITOR.DATA_TRANSFER_INTERNAL&&(f=a.instances[f])&&
(e.setStartBefore(f.wrapper),e.setEndAfter(f.wrapper),c.data.dragRange=e,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,c.data.dataTransfer.setData("text/html",b.editable().getHtmlFromRange(e).getHtml()),b.widgets.destroy(f,!0))});b.on("contentDom",function(){var d=b.editable();CKEDITOR.tools.extend(a,{finder:new c.finder(b,{lookups:{"default":function(b){if(!b.is(CKEDITOR.dtd.$listItem)&&b.is(CKEDITOR.dtd.$block)&&!g.isDomNestedEditable(b)&&
!a._.draggedWidget.wrapper.contains(b)){var c=g.getNestedEditable(d,b);if(c){b=a._.draggedWidget;if(a.getByElement(c)==b)return;c=CKEDITOR.filter.instances[c.data("cke-filter")];b=b.requiredContent;if(c&&b&&!c.check(b))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new c.locator(b),liner:new c.liner(b,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function J(a){var b=
a.editor;b.on("contentDom",function(){var c=b.editable(),d=c.isInline()?c:b.document,e,f;c.attachListener(d,"mousedown",function(c){var d=c.data.getTarget();e=d instanceof CKEDITOR.dom.element?a.getByElement(d):null;f=0;e&&(e.inline&&d.type==CKEDITOR.NODE_ELEMENT&&d.hasAttribute("data-cke-widget-drag-handler")?(f=1,a.focused!=e&&b.getSelection().removeAllRanges()):g.getNestedEditable(e.wrapper,d)?e=null:(c.data.preventDefault(),CKEDITOR.env.ie||e.focus()))});c.attachListener(d,"mouseup",function(){f&&
e&&e.wrapper&&(f=0,e.focus())});CKEDITOR.env.ie&&c.attachListener(d,"mouseup",function(){setTimeout(function(){e&&e.wrapper&&c.contains(e.wrapper)&&(e.focus(),e=null)})})});b.on("doubleclick",function(b){var d=a.getByElement(b.data.element);if(d&&!g.getNestedEditable(d.wrapper,b.data.element))return d.fire("doubleclick",{element:b.data.element})},null,null,1)}function K(a){a.editor.on("key",function(b){var c=a.focused,d=a.widgetHoldingFocusedEditable,e;c?e=c.fire("key",{keyCode:b.data.keyCode}):d&&
(c=b.data.keyCode,b=d.focusedEditable,c==CKEDITOR.CTRL+65?(c=b.getBogus(),d=d.editor.createRange(),d.selectNodeContents(b),c&&d.setEndAt(c,CKEDITOR.POSITION_BEFORE_START),d.select(),e=!1):8==c||46==c?(e=d.editor.getSelection().getRanges(),d=e[0],e=!(1==e.length&&d.collapsed&&d.checkBoundaryOfElement(b,CKEDITOR[8==c?"START":"END"]))):e=void 0);return e},null,null,1)}function M(a){function b(b){a.focused&&y(a.focused,"cut"==b.name)}var c=a.editor;c.on("contentDom",function(){var a=c.editable();a.attachListener(a,
"copy",b);a.attachListener(a,"cut",b)})}function I(a){var b=a.editor;b.on("selectionCheck",function(){a.fire("checkSelection")});a.on("checkSelection",a.checkSelection,a);b.on("selectionChange",function(c){var d=(c=g.getNestedEditable(b.editable(),c.data.selection.getStartElement()))&&a.getByElement(c),e=a.widgetHoldingFocusedEditable;e?e===d&&e.focusedEditable.equals(c)||(n(a,e,null),d&&c&&n(a,d,c)):d&&c&&n(a,d,c)});b.on("dataReady",function(){z(a).commit()});b.on("blur",function(){var b;(b=a.focused)&&
t(a,b);(b=a.widgetHoldingFocusedEditable)&&n(a,b,null)})}function G(a){var b=a.editor,c={};b.on("toDataFormat",function(b){var e=CKEDITOR.tools.getNextNumber(),f=[];b.data.downcastingSessionId=e;c[e]=f;b.data.dataValue.forEach(function(b){var c=b.attributes,d;if("data-cke-widget-id"in c){if(c=a.instances[c["data-cke-widget-id"]])d=b.getFirst(g.isParserWidgetElement),f.push({wrapper:b,element:d,widget:c,editables:{}}),"1"!=d.attributes["data-cke-widget-keep-attr"]&&delete d.attributes["data-widget"]}else if("data-cke-widget-editable"in
c)return f[f.length-1].editables[c["data-cke-widget-editable"]]=b,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8);b.on("toDataFormat",function(a){if(a.data.downcastingSessionId){a=c[a.data.downcastingSessionId];for(var b,f,h,l,g,m;b=a.shift();){f=b.widget;h=b.element;l=f._.downcastFn&&f._.downcastFn.call(f,h);for(m in b.editables)g=b.editables[m],delete g.attributes.contenteditable,g.setHtml(f.editables[m].getData());l||(l=h);b.wrapper.replaceWith(l)}}},null,null,13);b.on("contentDomUnload",function(){a.destroyAll(!0)})}
function F(a){var b=a.editor,c,d;b.on("toHtml",function(b){var d=R(a),h;for(b.data.dataValue.forEach(d.iterator,CKEDITOR.NODE_ELEMENT,!0);h=d.toBeWrapped.pop();){var l=h[0],k=l.parent;k.type==CKEDITOR.NODE_ELEMENT&&k.attributes["data-cke-widget-wrapper"]&&k.replaceWith(l);a.wrapElement(h[0],h[1])}c=b.data.protectedWhitespaces?3==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[1]):1==b.data.dataValue.children.length&&g.isParserWidgetWrapper(b.data.dataValue.children[0])},
null,null,8);b.on("dataReady",function(){if(d)for(var c=b.editable().find(".cke_widget_wrapper"),f,h,l=0,k=c.count();l<k;++l)f=c.getItem(l),h=f.getFirst(g.isDomWidgetElement),h.type==CKEDITOR.NODE_ELEMENT&&h.data("widget")?(h.replace(f),a.wrapElement(h)):f.remove();d=0;a.destroyAll(!0);a.initOnAll()});b.on("loadSnapshot",function(b){/data-cke-widget/.test(b.data)&&(d=1);a.destroyAll(!0)},null,null,9);b.on("paste",function(a){a=a.data;a.dataValue=a.dataValue.replace(U,T);a.range&&(a=g.getNestedEditable(b.editable(),
a.range.startContainer))&&(a=CKEDITOR.filter.instances[a.data("cke-filter")])&&b.setActiveFilter(a)});b.on("afterInsertHtml",function(d){d.data.intoRange?a.checkWidgets({initOnlyNew:!0}):(b.fire("lockSnapshot"),a.checkWidgets({initOnlyNew:!0,focusInited:c}),b.fire("unlockSnapshot"))})}function z(a){var b=a.selected,c=[],d=b.slice(0),e=null;return{select:function(a){0>CKEDITOR.tools.indexOf(b,a)&&c.push(a);a=CKEDITOR.tools.indexOf(d,a);0<=a&&d.splice(a,1);return this},focus:function(a){e=a;return this},
commit:function(){var f=a.focused!==e,h,g;a.editor.fire("lockSnapshot");for(f&&(h=a.focused)&&t(a,h);h=d.pop();)b.splice(CKEDITOR.tools.indexOf(b,h),1),h.isInited()&&(g=h.editor.checkDirty(),h.setSelected(!1),!g&&h.editor.resetDirty());f&&e&&(g=a.editor.checkDirty(),a.focused=e,a.fire("widgetFocused",{widget:e}),e.setFocused(!0),!g&&a.editor.resetDirty());for(;h=c.pop();)b.push(h),h.setSelected(!0);a.editor.fire("unlockSnapshot")}}}function A(a,b,c){var d=0;b=B(b);var e=a.data.classes||{},f;if(b){for(e=
CKEDITOR.tools.clone(e);f=b.pop();)c?e[f]||(d=e[f]=1):e[f]&&(delete e[f],d=1);d&&a.setData("classes",e)}}function C(a){a.cancel()}function y(a,b){var c=a.editor,d=c.document;if(!d.getById("cke_copybin")){var e=c.blockless||CKEDITOR.env.ie?"span":"div",f=d.createElement(e),h=d.createElement(e),e=CKEDITOR.env.ie&&9>CKEDITOR.env.version;h.setAttributes({id:"cke_copybin","data-cke-temp":"1"});f.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"});f.setStyle("ltr"==c.config.contentsLangDirection?
"left":"right","-5000px");var g=c.createRange();g.setStartBefore(a.wrapper);g.setEndAfter(a.wrapper);f.setHtml('\x3cspan data-cke-copybin-start\x3d"1"\x3eâ\x3c/span\x3e'+c.editable().getHtmlFromRange(g).getHtml()+'\x3cspan data-cke-copybin-end\x3d"1"\x3eâ\x3c/span\x3e');c.fire("saveSnapshot");c.fire("lockSnapshot");h.append(f);c.editable().append(h);var k=c.on("selectionChange",C,null,null,0),m=a.repository.on("checkSelection",C,null,null,0);if(e)var n=d.getDocumentElement().$,p=n.scrollTop;g=c.createRange();
g.selectNodeContents(f);g.select();e&&(n.scrollTop=p);setTimeout(function(){b||a.focus();h.remove();k.removeListener();m.removeListener();c.fire("unlockSnapshot");b&&(a.repository.del(a),c.fire("saveSnapshot"))},100)}}function B(a){return(a=(a=a.getDefinition().attributes)&&a["class"])?a.split(/\s+/):null}function D(){var a=CKEDITOR.document.getActive(),b=this.editor,c=b.editable();(c.isInline()?c:b.document.getWindow().getFrame()).equals(a)&&b.focusManager.focus(c)}function E(){CKEDITOR.env.gecko&&
this.editor.unlockSelection();CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function V(a){var b=null;a.on("data",function(){var a=this.data.classes,d;if(b!=a){for(d in b)a&&a[d]||this.removeClass(d);for(d in a)this.addClass(d);b=a}})}function W(a){a.on("data",function(){if(a.wrapper){var b=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());a.wrapper.setAttribute("role","region");a.wrapper.setAttribute("aria-label",
b)}},null,null,9999)}function X(a){if(a.draggable){var b=a.editor,c=a.wrapper.getLast(g.isDomDragHandlerContainer),d;c?d=c.findOne("img"):(c=new CKEDITOR.dom.element("span",b.document),c.setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+b.plugins.widget.path+"images/handle.png)"}),d=new CKEDITOR.dom.element("img",b.document),d.setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",
src:CKEDITOR.tools.transparentImageData,width:15,title:b.lang.widget.move,height:15,role:"presentation"}),a.inline&&d.setAttribute("draggable","true"),c.append(d),a.wrapper.append(c));a.wrapper.on("dragover",function(a){a.data.preventDefault()});a.wrapper.on("mouseenter",a.updateDragHandlerPosition,a);setTimeout(function(){a.on("data",a.updateDragHandlerPosition,a)},50);if(!a.inline&&(d.on("mousedown",Y,a),CKEDITOR.env.ie&&9>CKEDITOR.env.version))d.on("dragstart",function(a){a.data.preventDefault(!0)});
a.dragHandlerContainer=c}}function Y(a){function b(){var b;for(q.reset();b=g.pop();)b.removeListener();var c=k;b=a.sender;var d=this.repository.finder,e=this.repository.liner,f=this.editor,h=this.editor.editable();CKEDITOR.tools.isEmpty(e.visible)||(c=d.getRange(c[0]),this.focus(),f.fire("drop",{dropRange:c,target:c.startContainer}));h.removeClass("cke_widget_dragging");e.hideVisible();f.fire("dragend",{target:b})}var c=this.repository.finder,d=this.repository.locator,e=this.repository.liner,f=this.editor,
h=f.editable(),g=[],k=[],m,n;this.repository._.draggedWidget=this;var p=c.greedySearch(),q=CKEDITOR.tools.eventsBuffer(50,function(){m=d.locate(p);k=d.sort(n,1);k.length&&(e.prepare(p,m),e.placeLine(k[0]),e.cleanup())});h.addClass("cke_widget_dragging");g.push(h.on("mousemove",function(a){n=a.data.$.clientY;q.input()}));f.fire("dragstart",{target:a.sender});g.push(f.document.once("mouseup",b,this));h.isInline()||g.push(CKEDITOR.document.once("mouseup",b,this))}function Z(a){var b,c,d=a.editables;
a.editables={};if(a.editables)for(b in d)c=d[b],a.initEditable(b,"string"==typeof c?{selector:c}:c)}function aa(a){if(a.mask){var b=a.wrapper.findOne(".cke_widget_mask");b||(b=new CKEDITOR.dom.element("img",a.editor.document),b.setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),a.wrapper.append(b));a.mask=b}}function ba(a){if(a.parts){var b={},c,d;for(d in a.parts)c=a.wrapper.findOne(a.parts[d]),b[d]=c;a.parts=b}}function N(a,b){ca(a);ba(a);Z(a);aa(a);X(a);
V(a);W(a);if(CKEDITOR.env.ie&&9>CKEDITOR.env.version)a.wrapper.on("dragstart",function(b){var d=b.data.getTarget();g.getNestedEditable(a,d)||a.inline&&g.isDomDragHandler(d)||b.data.preventDefault()});a.wrapper.removeClass("cke_widget_new");a.element.addClass("cke_widget_element");a.on("key",function(b){b=b.data.keyCode;if(13==b)a.edit();else{if(b==CKEDITOR.CTRL+67||b==CKEDITOR.CTRL+88){y(a,b==CKEDITOR.CTRL+88);return}if(b in da||CKEDITOR.CTRL&b||CKEDITOR.ALT&b)return}return!1},null,null,999);a.on("doubleclick",
function(b){a.edit()&&b.cancel()});if(b.data)a.on("data",b.data);if(b.edit)a.on("edit",b.edit)}function ca(a){(a.wrapper=a.element.getParent()).setAttribute("data-cke-widget-id",a.id)}function r(a){a.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(a.data)))}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover\x3e.cke_widget_element{outline:2px solid yellow;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid yellow}.cke_widget_wrapper.cke_widget_focused\x3e.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #ace}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover\x3e.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}")},
beforeInit:function(a){a.widgets=new p(a)},afterInit:function(a){var b=a.widgets.registered,c,d,e;for(d in b)c=b[d],(e=c.button)&&a.ui.addButton&&a.ui.addButton(CKEDITOR.tools.capitalize(c.name,!0),{label:e,command:c.name,toolbar:"insert,10"});S(a)}});p.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(a,b){b=CKEDITOR.tools.prototypedCopy(b);b.name=a;b._=b._||{};this.editor.fire("widgetDefinition",b);b.template&&(b.template=new CKEDITOR.template(b.template));O(this.editor,b);P(this,b);return this.registered[a]=
b},addUpcastCallback:function(a){this._.upcastCallbacks.push(a)},checkSelection:function(){var a=this.editor.getSelection(),b=a.getSelectedElement(),c=z(this),d;if(b&&(d=this.getByElement(b,!0)))return c.focus(d).select(d).commit();a=a.getRanges()[0];if(!a||a.collapsed)return c.commit();a=new CKEDITOR.dom.walker(a);for(a.evaluator=g.isDomWidgetWrapper;b=a.next();)c.select(this.getByElement(b));c.commit()},checkWidgets:function(a){this.fire("checkWidgets",CKEDITOR.tools.copy(a||{}))},del:function(a){if(this.focused===
a){var b=a.editor,c=b.createRange(),d;(d=c.moveToClosestEditablePosition(a.wrapper,!0))||(d=c.moveToClosestEditablePosition(a.wrapper,!1));d&&b.getSelection().selectRanges([c])}a.wrapper.remove();this.destroy(a,!0)},destroy:function(a,b){this.widgetHoldingFocusedEditable===a&&n(this,a,null,b);a.destroy(b);delete this.instances[a.id];this.fire("instanceDestroyed",a)},destroyAll:function(a,b){var c,d,e=this.instances;if(b&&!a){d=b.find(".cke_widget_wrapper");for(var e=d.count(),f=0;f<e;++f)(c=this.getByElement(d.getItem(f),
!0))&&this.destroy(c)}else for(d in e)c=e[d],this.destroy(c,a)},finalizeCreation:function(a){(a=a.getFirst())&&g.isDomWidgetWrapper(a)&&(this.editor.insertElement(a),a=this.getByElement(a),a.ready=!0,a.fire("ready"),a.focus())},getByElement:function(){function a(a){return a.is(b)&&a.data("cke-widget-id")}var b={div:1,span:1};return function(b,d){if(!b)return null;var e=a(b);if(!d&&!e){var f=this.editor.editable();do b=b.getParent();while(b&&!b.equals(f)&&!(e=a(b)))}return this.instances[e]||null}}(),
initOn:function(a,b,c){b?"string"==typeof b&&(b=this.registered[b]):b=this.registered[a.data("widget")];if(!b)return null;var d=this.wrapElement(a,b.name);return d?d.hasClass("cke_widget_new")?(a=new g(this,this._.nextId++,a,b,c),a.isInited()?this.instances[a.id]=a:null):this.getByElement(a):null},initOnAll:function(a){a=(a||this.editor.editable()).find(".cke_widget_new");for(var b=[],c,d=a.count();d--;)(c=this.initOn(a.getItem(d).getFirst(g.isDomWidgetElement)))&&b.push(c);return b},onWidget:function(a){var b=
Array.prototype.slice.call(arguments);b.shift();for(var c in this.instances){var d=this.instances[c];d.name==a&&d.on.apply(d,b)}this.on("instanceCreated",function(d){d=d.data;d.name==a&&d.on.apply(d,b)})},parseElementClasses:function(a){if(!a)return null;a=CKEDITOR.tools.trim(a).split(/\s+/);for(var b,c={},d=0;b=a.pop();)-1==b.indexOf("cke_")&&(c[b]=d=1);return d?c:null},wrapElement:function(a,b){var c=null,d,e;if(a instanceof CKEDITOR.dom.element){b=b||a.data("widget");d=this.registered[b];if(!d)return null;
if((c=a.getParent())&&c.type==CKEDITOR.NODE_ELEMENT&&c.data("cke-widget-wrapper"))return c;a.hasAttribute("data-cke-widget-keep-attr")||a.data("cke-widget-keep-attr",a.data("widget")?1:0);a.data("widget",b);e=x(d,a.getName());c=new CKEDITOR.dom.element(e?"span":"div");c.setAttributes(v(e,b));c.data("cke-display-name",d.pathName?d.pathName:a.getName());a.getParent(!0)&&c.replace(a);a.appendTo(c)}else if(a instanceof CKEDITOR.htmlParser.element){b=b||a.attributes["data-widget"];d=this.registered[b];
if(!d)return null;if((c=a.parent)&&c.type==CKEDITOR.NODE_ELEMENT&&c.attributes["data-cke-widget-wrapper"])return c;"data-cke-widget-keep-attr"in a.attributes||(a.attributes["data-cke-widget-keep-attr"]=a.attributes["data-widget"]?1:0);b&&(a.attributes["data-widget"]=b);e=x(d,a.name);c=new CKEDITOR.htmlParser.element(e?"span":"div",v(e,b));c.attributes["data-cke-display-name"]=d.pathName?d.pathName:a.name;d=a.parent;var f;d&&(f=a.getIndex(),a.remove());c.add(a);d&&w(d,f,c)}return c},_tests_createEditableFilter:u};
CKEDITOR.event.implementOn(p.prototype);g.prototype={addClass:function(a){this.element.addClass(a);this.wrapper.addClass(g.WRAPPER_CLASS_PREFIX+a)},applyStyle:function(a){A(this,a,1)},checkStyleActive:function(a){a=B(a);var b;if(!a)return!1;for(;b=a.pop();)if(!this.hasClass(b))return!1;return!0},destroy:function(a){this.fire("destroy");if(this.editables)for(var b in this.editables)this.destroyEditable(b,a);a||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),
this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper));this.wrapper=null},destroyEditable:function(a,b){var c=this.editables[a];c.removeListener("focus",E);c.removeListener("blur",D);this.editor.focusManager.remove(c);b||(this.repository.destroyAll(!1,c),c.removeClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),c.removeAttributes(["contenteditable","data-cke-widget-editable",
"data-cke-enter-mode"]));delete this.editables[a]},edit:function(){var a={dialog:this.dialog},b=this;if(!1===this.fire("edit",a)||!a.dialog)return!1;this.editor.openDialog(a.dialog,function(a){var d,e;!1!==b.fire("dialog",a)&&(d=a.on("show",function(){a.setupContent(b)}),e=a.on("ok",function(){var d,e=b.on("data",function(a){d=1;a.cancel()},null,null,0);b.editor.fire("saveSnapshot");a.commitContent(b);e.removeListener();d&&(b.fire("data",b.data),b.editor.fire("saveSnapshot"))}),a.once("hide",function(){d.removeListener();
e.removeListener()}))});return!0},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(a){return this.element.hasClass(a)},initEditable:function(a,b){var c=this._findOneNotNested(b.selector);return c&&c.is(CKEDITOR.dtd.$editable)?(c=new q(this.editor,c,{filter:u.call(this.repository,this.name,a,b)}),this.editables[a]=c,c.setAttributes({contenteditable:"true","data-cke-widget-editable":a,"data-cke-enter-mode":c.enterMode}),c.filter&&
c.data("cke-filter",c.filter.id),c.addClass("cke_widget_editable"),c.removeClass("cke_widget_editable_focused"),b.pathName&&c.data("cke-display-name",b.pathName),this.editor.focusManager.add(c),c.on("focus",E,this),CKEDITOR.env.ie&&c.on("blur",D,this),c._.initialSetData=!0,c.setData(c.getHtml()),!0):!1},_findOneNotNested:function(a){a=this.wrapper.find(a);for(var b,c,d=0;d<a.count();d++)if(b=a.getItem(d),c=b.getAscendant(g.isDomWidgetWrapper),this.wrapper.equals(c))return b;return null},isInited:function(){return!(!this.wrapper||
!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var a=this.editor.getSelection();if(a){var b=this.editor.checkDirty();a.fake(this.wrapper);!b&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(a){this.element.removeClass(a);this.wrapper.removeClass(g.WRAPPER_CLASS_PREFIX+a)},removeStyle:function(a){A(this,a,0)},setData:function(a,b){var c=this.data,d=0;if("string"==typeof a)c[a]!==b&&(c[a]=b,d=1);else{var e=a;for(a in e)c[a]!==e[a]&&(d=1,c[a]=
e[a])}d&&this.dataReady&&(r(this),this.fire("data",c));return this},setFocused:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_focused");this.fire(a?"focus":"blur");return this},setSelected:function(a){this.wrapper[a?"addClass":"removeClass"]("cke_widget_selected");this.fire(a?"select":"deselect");return this},updateDragHandlerPosition:function(){var a=this.editor,b=this.element.$,c=this._.dragHandlerOffset,b={x:b.offsetLeft,y:b.offsetTop-15};c&&b.x==c.x&&b.y==c.y||(c=a.checkDirty(),
a.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:b.y+"px",left:b.x+"px",display:"block"}),a.fire("unlockSnapshot"),!c&&a.resetDirty(),this._.dragHandlerOffset=b)}};CKEDITOR.event.implementOn(g.prototype);g.getNestedEditable=function(a,b){return!b||b.equals(a)?null:g.isDomNestedEditable(b)?b:g.getNestedEditable(a,b.getParent())};g.isDomDragHandler=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")};g.isDomDragHandlerContainer=function(a){return a.type==
CKEDITOR.NODE_ELEMENT&&a.hasClass("cke_widget_drag_handler_container")};g.isDomNestedEditable=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-editable")};g.isDomWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-widget")};g.isDomWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-wrapper")};g.isParserWidgetElement=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-widget"]};
g.isParserWidgetWrapper=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&!!a.attributes["data-cke-widget-wrapper"]};g.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_";q.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(a){this._.initialSetData||this.editor.widgets.destroyAll(!1,this);this._.initialSetData=!1;a=this.editor.dataProcessor.toHtml(a,{context:this.getName(),filter:this.filter,enterMode:this.enterMode});this.setHtml(a);this.editor.widgets.initOnAll(this)},
getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var U=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,da={37:1,38:1,39:1,40:1,8:1,46:1};(function(){function a(){}
function b(a,b,c){return c&&this.checkElement(a)?(a=c.widgets.getByElement(a,!0))&&a.checkStyleActive(this):!1}var c={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(a){this.widget=a.widget;if(this.group="string"==typeof a.group?[a.group]:a.group){a=this.widget;var b;c[a]||(c[a]={});for(var f=0,h=this.group.length;f<h;f++)b=this.group[f],c[a][b]||(c[a][b]=[]),c[a][b].push(this)}},apply:function(a){var b;a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&(b=a.widgets.focused,
this.group&&this.removeStylesFromSameGroup(a),b.applyStyle(this))},remove:function(a){a instanceof CKEDITOR.editor&&this.checkApplicable(a.elementPath(),a)&&a.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(a){var b,f,h=!1;if(!(a instanceof CKEDITOR.editor))return!1;f=a.elementPath();if(this.checkApplicable(f,a))for(var g=0,k=this.group.length;g<k;g++){b=c[this.widget][this.group[g]];for(var m=0;m<b.length;m++)b[m]!==this&&b[m].checkActive(f,a)&&(a.widgets.focused.removeStyle(b[m]),
h=!0)}return h},checkActive:function(a,b){return this.checkElementMatch(a.lastElement,0,b)},checkApplicable:function(a,b){return b instanceof CKEDITOR.editor?this.checkElement(a.lastElement):!1},checkElementMatch:b,checkElementRemovable:b,checkElement:function(a){return g.isDomWidgetWrapper(a)?(a=a.getFirst(g.isDomWidgetElement))&&a.data("widget")==this.widget:!1},buildPreview:function(a){return a||this._.definition.name},toAllowedContentRules:function(a){if(!a)return null;a=a.widgets.registered[this.widget];
var b,c={};if(!a)return null;if(a.styleableElements){b=this.getClassesArray();if(!b)return null;c[a.styleableElements]={classes:b,propertiesOnly:!0};return c}return a.styleToAllowedContentRules?a.styleToAllowedContentRules(this):null},getClassesArray:function(){var a=this._.definition.attributes&&this._.definition.attributes["class"];return a?CKEDITOR.tools.trim(a).split(/\s+/):null},applyToRange:a,removeFromRange:a,applyToObject:a})})();CKEDITOR.plugins.widget=g;g.repository=p;g.nestedEditable=q})();CKEDITOR.config.plugins='basicstyles,blockquote,notification,button,toolbar,clipboard,enterkey,horizontalrule,indent,indentblock,indentlist,justify,list,pastefromword,removeformat,tab,undo,lineutils,widgetselection,widget';CKEDITOR.config.skin='moono';(function() {var setIcons = function(icons, strip) {var path = CKEDITOR.getUrl( 'plugins/' + strip );icons = icons.split( ',' );for ( var i = 0; i < icons.length; i++ )CKEDITOR.skin.icons[ icons[ i ] ] = { path: path, offset: -icons[ ++i ], bgsize : icons[ ++i ] };};if (CKEDITOR.env.hidpi) setIcons('bold,0,,italic,24,,strike,48,,subscript,72,,superscript,96,,underline,120,,blockquote,144,,copy-rtl,168,,copy,192,,cut-rtl,216,,cut,240,,paste-rtl,264,,paste,288,,horizontalrule,312,,indent-rtl,336,,indent,360,,outdent-rtl,384,,outdent,408,,justifyblock,432,,justifycenter,456,,justifyleft,480,,justifyright,504,,bulletedlist-rtl,528,,bulletedlist,552,,numberedlist-rtl,576,,numberedlist,600,,pastefromword-rtl,624,,pastefromword,648,,removeformat,672,,redo-rtl,696,,redo,720,,undo-rtl,744,,undo,768,','icons_hidpi.png');else setIcons('bold,0,auto,italic,24,auto,strike,48,auto,subscript,72,auto,superscript,96,auto,underline,120,auto,blockquote,144,auto,copy-rtl,168,auto,copy,192,auto,cut-rtl,216,auto,cut,240,auto,paste-rtl,264,auto,paste,288,auto,horizontalrule,312,auto,indent-rtl,336,auto,indent,360,auto,outdent-rtl,384,auto,outdent,408,auto,justifyblock,432,auto,justifycenter,456,auto,justifyleft,480,auto,justifyright,504,auto,bulletedlist-rtl,528,auto,bulletedlist,552,auto,numberedlist-rtl,576,auto,numberedlist,600,auto,pastefromword-rtl,624,auto,pastefromword,648,auto,removeformat,672,auto,redo-rtl,696,auto,redo,720,auto,undo-rtl,744,auto,undo,768,auto','icons.png');})();CKEDITOR.lang.languages={"af":1,"sq":1,"ar":1,"az":1,"eu":1,"bn":1,"bs":1,"bg":1,"ca":1,"zh-cn":1,"zh":1,"hr":1,"cs":1,"da":1,"nl":1,"en":1,"en-au":1,"en-ca":1,"en-gb":1,"eo":1,"et":1,"fo":1,"fi":1,"fr":1,"fr-ca":1,"gl":1,"ka":1,"de":1,"de-ch":1,"el":1,"gu":1,"he":1,"hi":1,"hu":1,"is":1,"id":1,"it":1,"ja":1,"km":1,"ko":1,"ku":1,"lv":1,"lt":1,"mk":1,"ms":1,"mn":1,"no":1,"nb":1,"oc":1,"fa":1,"pl":1,"pt-br":1,"pt":1,"ro":1,"ru":1,"sr":1,"sr-latn":1,"si":1,"sk":1,"sl":1,"es":1,"sv":1,"tt":1,"th":1,"tr":1,"ug":1,"uk":1,"vi":1,"cy":1};}());

/***/ }),

/***/ "./scripts/build/index.js":
/*!********************************!*\
  !*** ./scripts/build/index.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.AlloyEditor = undefined;

__webpack_require__(/*! ../../lib/ckeditor/ckeditor.js */ "./lib/ckeditor/ckeditor.js");

var _main = __webpack_require__(/*! ../../src/adapter/main.js */ "./src/adapter/main.js");

var AlloyEditor = _interopRequireWildcard(_main);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

if (typeof window !== 'undefined') {
    window.CKEDITOR.disableAutoInline = true;
    window.AlloyEditor = AlloyEditor;
}

exports.AlloyEditor = AlloyEditor;
exports.default = AlloyEditor;

/***/ }),

/***/ "./src/adapter/core.js":
/*!*****************************!*\
  !*** ./src/adapter/core.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

__webpack_require__(/*! ../core */ "./src/core/index.js");

__webpack_require__(/*! ../plugins */ "./src/plugins/index.js");

__webpack_require__(/*! ../components/uibridge/uibridge.js */ "./src/components/uibridge/uibridge.js");

var _oop = __webpack_require__(/*! ../oop/oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

var _lang = __webpack_require__(/*! ../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _base = __webpack_require__(/*! ../oop/base */ "./src/oop/base.js");

var _base2 = _interopRequireDefault(_base);

var _selections = __webpack_require__(/*! ../selections/selections */ "./src/selections/selections.js");

var _selections2 = _interopRequireDefault(_selections);

var _main = __webpack_require__(/*! ../components/main.jsx */ "./src/components/main.jsx");

var _main2 = _interopRequireDefault(_main);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * AlloyEditor main class. Creates instance of the editor and provides the user configuration
 * to the UI.
 *
 * @class Core
 * @constructor
 */
function Core(config) {
    Core.superclass.constructor.call(this, config);
}

(0, _oop2.default)(Core, _base2.default, {
    /**
     * Initializer lifecycle implementation for the AlloyEditor class. Creates a CKEditor
     * instance, passing it the provided configuration attributes.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method initializer
     * @param config {Object} Configuration object literal for the editor.
     */
    initializer: function initializer(config) {
        var node = this.get('srcNode');

        if (this.get('enableContentEditable')) {
            node.setAttribute('contenteditable', 'true');
        }

        var editor = CKEDITOR.inline(node);

        editor.config.allowedContent = this.get('allowedContent');

        editor.config.toolbars = this.get('toolbars');

        editor.config.removePlugins = this.get('removePlugins');
        editor.config.extraPlugins = this.get('extraPlugins');
        editor.config.placeholderClass = this.get('placeholderClass');

        editor.config.pasteFromWordRemoveStyles = false;
        editor.config.pasteFromWordRemoveFontStyles = false;

        editor.config.selectionKeystrokes = this.get('selectionKeystrokes');

        _lang2.default.mix(editor.config, config);

        if (CKEDITOR.env.ie && !CKEDITOR.env.edge) {
            editor.config.extraPlugins = editor.config.extraPlugins.replace('ae_dragresize', 'ae_dragresize_ie');
            editor.config.removePlugins = editor.config.removePlugins.replace('ae_dragresize', 'ae_dragresize_ie');
        }

        editor.once('contentDom', function () {

            this._addReadOnlyLinkClickListener(editor);

            var editable = editor.editable();

            editable.addClass('ae-editable');
        }.bind(this));

        this._editor = editor;

        AlloyEditor.loadLanguageResources(this._renderUI.bind(this));
    },

    /**
     * Destructor lifecycle implementation for the AlloyEdtor class. Destroys the CKEditor
     * instance and destroys all created toolbars.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method destructor
     */
    destructor: function destructor() {
        this._destroyed = true;

        if (this._editorUIElement) {
            _reactDom2.default.unmountComponentAtNode(this._editorUIElement);
            this._editorUIElement.parentNode.removeChild(this._editorUIElement);
        }

        var nativeEditor = this.get('nativeEditor');

        if (nativeEditor) {
            var editable = nativeEditor.editable();

            if (editable) {
                editable.removeClass('ae-editable');

                if (this.get('enableContentEditable')) {
                    this.get('srcNode').setAttribute('contenteditable', 'false');
                }
            }

            this._clearSelections();

            nativeEditor.destroy();
        }
    },

    /**
     * Clear selections from window object
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _clearSelections
     */
    _clearSelections: function _clearSelections() {
        var nativeEditor = this.get('nativeEditor');
        var isMSSelection = typeof window.getSelection != 'function';

        if (isMSSelection) {
            nativeEditor.document.$.selection.empty();
        } else {
            nativeEditor.document.getWindow().$.getSelection().removeAllRanges();
        }
    },

    /**
     * Method to set default link behavior
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _addReadOnlyLinkClickListener
     * @param {Object} editor
     */
    _addReadOnlyLinkClickListener: function _addReadOnlyLinkClickListener(editor) {
        editor.editable().on('click', this._defaultReadOnlyClickFn, this, {
            editor: editor
        });
    },

    /**
     * Called on `click` event when the editor is in read only mode. Navigates to link's URL or opens
     * the link in a new window.
     *
     * @memberof Core
     * @instance
     * @event readOnlyClick
     * @protected
     * @method _defaultReadOnlyClickFn
     * @param {Object} event The fired `click` event payload
     */
    _defaultReadOnlyClickFn: function _defaultReadOnlyClickFn(event) {
        var mouseEvent = event.data.$;
        var hasCtrlKey = mouseEvent.ctrlKey || mouseEvent.metaKey;
        var shouldOpen = this._editor.config.readOnly || hasCtrlKey;

        mouseEvent.preventDefault();

        if (!shouldOpen) {
            return;
        }

        if (event.listenerData.editor.editable().editor.fire('readOnlyClick', event.data) !== false) {
            var ckElement = new CKEDITOR.dom.elementPath(event.data.getTarget(), this);
            var link = ckElement.lastElement;

            if (link) {
                var href = link.$.attributes.href ? link.$.attributes.href.value : null;
                var target = hasCtrlKey ? '_blank' : link.$.attributes.target ? link.$.attributes.target.value : null;
                this._redirectLink(href, target);
            }
        }
    },

    /**
     * Retrieves the native CKEditor instance. Having this, the developer may use the API of CKEditor OOTB.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _getNativeEditor
     * @return {Object} The current instance of CKEditor.
     */
    _getNativeEditor: function _getNativeEditor() {
        return this._editor;
    },

    /**
     * Redirects the browser to a given link
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _redirectLink
     * @param {string} href The href to take the browser to
     * @param {string=} target Specifies where to display the link
     */
    _redirectLink: function _redirectLink(href, target) {
        if (target && href) {
            window.open(href, target);
        } else if (href) {
            window.location.href = href;
        }
    },

    /**
     * Renders the specified from the user toolbars.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _renderUI
     */
    _renderUI: function _renderUI() {
        if (!this._destroyed) {
            var editorUIElement = document.createElement('div');
            editorUIElement.className = 'ae-ui';

            var uiNode = this.get('uiNode') || document.body;

            uiNode.appendChild(editorUIElement);

            this._mainUI = _reactDom2.default.render(_react2.default.createElement(_main2.default, {
                editor: this,
                eventsDelay: this.get('eventsDelay'),
                toolbars: this.get('toolbars') }), editorUIElement);

            this._editorUIElement = editorUIElement;

            this.get('nativeEditor').fire('uiReady');
        }
    },

    /**
     * The function returns an HTML element from the passed value. If the passed value is a string, it should be
     * the Id of the element which have to be retrieved from the DOM.
     * If an HTML Element is passed, the element itself will be returned.
     *
     * @memberof Core
     * @instance
     * @method _toElement
     * @protected
     * @param {!(String|HTMLElement)} value String, which have to correspond to an HTML element from the DOM,
     * or the HTML element itself. If Id is passed, the HTML element will be retrieved from the DOM.
     * @return {HTMLElement} An HTML element.
     */
    _toElement: function _toElement(value) {
        if (_lang2.default.isString(value)) {
            value = document.getElementById(value);
        }

        return value;
    },

    /**
     * Validates the allowed content attribute. Look
     * [here](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent) for more information about the
     * supported values.
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _validateAllowedContent
     * @param {Any} The value to be checked
     * @return {Boolean} True if the current value is valid configuration, false otherwise
     */
    _validateAllowedContent: function _validateAllowedContent(value) {
        return _lang2.default.isString(value) || _lang2.default.isObject(value) || _lang2.default.isBoolean(value);
    },

    /**
     * Validates the value of toolbars attribute
     *
     * @memberof Core
     * @instance
     * @protected
     * @method _validateToolbars
     * @param {Any} The value to be checked
     * @return {Boolean} True if the current value is valid toolbars configuration, false otherwise
     */
    _validateToolbars: function _validateToolbars(value) {
        return _lang2.default.isObject(value) || _lang2.default.isNull(value);
    }
}, {
    ATTRS: {
        /**
         * Configures the allowed content for the current instance of AlloyEditor.
         * Look on the [official CKEditor API](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-allowedContent)
         * for more information about the valid values.
         *
         * @memberof Core
         * @instance
         * @property allowedContent
         * @default true
         * @writeOnce
         * @type {Boolean, String, Object}
         */
        allowedContent: {
            validator: '_validateAllowedContent',
            value: true,
            writeOnce: true
        },

        /**
         * Specifies whether AlloyEditor set the contenteditable attribute
         * to "true" on its srcNode.
         *
         * @memberof Core
         * @instance
         * @property enableContentEditable
         * @type Boolean
         * @default true
         * @writeOnce
         */
        enableContentEditable: {
            validator: _lang2.default.isBoolean,
            value: true,
            writeOnce: true
        },

        /**
         * The delay (timeout), in ms, after which events such like key or mouse events will be processed.
         *
         * @memberof Core
         * @instance
         * @property eventsDelay
         * @type {Number}
         */
        eventsDelay: {
            validator: _lang2.default.isNumber,
            value: 100
        },

        /**
         * Specifies the extra plugins which have to be loaded to the current CKEditor instance in order to
         * make AlloyEditor to work properly.
         *
         * @memberof Core
         * @instance
         * @property extraPlugins
         * @default 'uicore,selectionregion,dragresize,addimages,placeholder,tabletools,tableresize,autolink'
         * @writeOnce
         * @type {String}
         */
        extraPlugins: {
            validator: _lang2.default.isString,
            value: 'ae_uicore,ae_selectionregion,ae_selectionkeystrokes,ae_imagealignment,ae_addimages,ae_placeholder,' + 'ae_tabletools,ae_tableresize,ae_autolink,ae_embed,ae_autolist,ae_dragresize,' + 'ae_uibridge',
            //'ae_uibridge,ae_richcombobridge,ae_panelmenubuttonbridge,ae_menubridge,ae_menubuttonbridge,ae_buttonbridge',
            writeOnce: true
        },

        /**
         * Retrieves the native CKEditor instance. Having this, the developer may use the full API of CKEditor.
         *
         * @memberof Core
         * @instance
         * @property nativeEditor
         * @readOnly
         * @type {Object}
         */
        nativeEditor: {
            getter: '_getNativeEditor',
            readOnly: true
        },

        /**
         * Specifies the class, which should be added by Placeholder plugin
         * {{#crossLink "CKEDITOR.plugins.ae_placeholder}}{{/crossLink}}
         * when editor is not focused.
         *
         * @memberof Core
         * @instance
         * @property placeholderClass
         * @default 'ae-placeholder'
         * @writeOnce
         * @type {String}
         */
        placeholderClass: {
            validator: _lang2.default.isString,
            value: 'ae-placeholder',
            writeOnce: true
        },

        /**
         * Specifies the plugins, which come by default with CKEditor, but which are not needed by AlloyEditor.
         * These plugins add the default UI for CKeditor, which is no more needed. Please note that AlloyEdtor
         * comes with its own highly optimized copy of CKEditor (just customized via their official download page).
         * This version does not come with the unneeded plugins, so the value of this property won't be needed.
         * However, if you decide to go with the OOTB version of CKEditor, you will have to remove some of the
         * plugins if you decide to use AlloyEditor. Keep in mind that removing these plugins doesn't remove them
         * entirely from CKEditor. It just removes them from its current instance, in which you will use different
         * UI - those of AlloyEditor. You will be fully able to use both OOTB CKEditor and AlloyEditor on the same
         * page!
         *
         * @memberof Core
         * @instance
         * @property removePlugins
         * @default 'contextmenu,toolbar,elementspath,resize,liststyle,link'
         * @writeOnce
         * @type {String}
         */
        removePlugins: {
            validator: _lang2.default.isString,
            value: 'contextmenu,toolbar,elementspath,resize,liststyle,link',
            writeOnce: true
        },

        /**
         * Array of manual selection triggers. They can be configured to manually show a specific selection toolbar
         * by forcing the selection type. A selectionKeystroke item consists of a keys property with a [CKEditor keystroke
         * definition](http://docs.ckeditor.com/#!/api/CKEDITOR.config-cfg-keystrokes) and a selection property with
         * the selection name to trigger.
         *
         * @memberof Core
         * @instance
         * @property selectionKeystrokes
         * @type {Array}
         */
        selectionKeystrokes: {
            validator: _lang2.default.isArray,
            value: [{
                keys: CKEDITOR.CTRL + 76 /*L*/
                , selection: 'link'
            }, {
                keys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /*L*/
                , selection: 'embed'
            }]
        },

        /**
         * The Node ID or HTMl node, which AlloyEditor should use as an editable area.
         *
         * @memberof Core
         * @instance
         * @property srcNode
         * @type String | Node
         * @writeOnce
         */
        srcNode: {
            setter: '_toElement',
            writeOnce: true
        },

        /**
         * The toolbars configuration for this editor instance
         *
         * @memberof Core
         * @instance
         * @property {Object} toolbars
         */
        toolbars: {
            validator: '_validateToolbars',
            value: {
                add: {
                    buttons: ['image', 'embed', 'camera', 'hline', 'table'],
                    tabIndex: 2
                },
                styles: {
                    selections: _selections2.default,
                    tabIndex: 1
                }
            }
        },

        /**
         * The Node ID or HTMl node, where AlloyEditor's UI should be rendered.
         *
         * @memberof Core
         * @instance
         * @property uiNode
         * @type String | Node
         * @writeOnce
         */
        uiNode: {
            setter: '_toElement',
            writeOnce: true
        }
    }
});

CKEDITOR.event.implementOn(Core);

exports.default = Core;

/***/ }),

/***/ "./src/adapter/main.js":
/*!*****************************!*\
  !*** ./src/adapter/main.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.Toolbars = exports.SelectionTest = exports.SelectionSetPosition = exports.Selections = exports.SelectionGetArrowBoxClasses = exports.registerBridgeButton = exports.OOP = exports.loadLanguageResources = exports.Lang = exports.implementEventTarget = exports.getUrl = exports.getButtons = exports.getBasePath = exports.editable = exports.Core = exports.Buttons = exports.Attribute = undefined;

var _core = __webpack_require__(/*! ./core.js */ "./src/adapter/core.js");

var _core2 = _interopRequireDefault(_core);

var _lang = __webpack_require__(/*! ../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _buttons = __webpack_require__(/*! ../components/buttons */ "./src/components/buttons/index.js");

var _buttons2 = _interopRequireDefault(_buttons);

var _toolbars = __webpack_require__(/*! ../components/toolbars */ "./src/components/toolbars/index.js");

var _toolbars2 = _interopRequireDefault(_toolbars);

var _selectionArrowbox = __webpack_require__(/*! ../selections/selection-arrowbox */ "./src/selections/selection-arrowbox.js");

var _selectionArrowbox2 = _interopRequireDefault(_selectionArrowbox);

var _selections = __webpack_require__(/*! ../selections/selections */ "./src/selections/selections.js");

var _selections2 = _interopRequireDefault(_selections);

var _selectionPosition = __webpack_require__(/*! ../selections/selection-position */ "./src/selections/selection-position.js");

var _selectionPosition2 = _interopRequireDefault(_selectionPosition);

var _selectionTest = __webpack_require__(/*! ../selections/selection-test */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

var _attribute = __webpack_require__(/*! ../oop/attribute */ "./src/oop/attribute.js");

var _attribute2 = _interopRequireDefault(_attribute);

var _oop = __webpack_require__(/*! ../oop/oop */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// An object containing all currently registered plugins in AlloyEditor.
var BRIDGE_BUTTONS = {};

/**
 * Creates an instance of AlloyEditor.
 *
 * @memberof AlloyEditor
 * @method editable
 * @static
 * @param {String|Node} node The Node ID or HTMl node, which AlloyEditor should use as an editable area.
 * @param {Object} config Configuration attributes for the current instance of AlloyEditor.
 * @return {Object} An instance of {{#crossLink "Core"}}{{/crossLink}}
 */
var editable = function editable(node, config) {
    config = config || {};
    config.srcNode = node;

    AlloyEditor.implementEventTarget();

    return new _core2.default(config);
};

/**
 * The full URL for the AlloyEditor installation directory.
 * It is possible to manually provide the base path by setting a
 * global variable named `ALLOYEDITOR_BASEPATH`. This global variable
 * must be set **before** the editor script loading.
 *
 * @memberof AlloyEditor
 * @method getBasePath
 * @static
 * @return {String} The found base path
 */
var getBasePath = function getBasePath() {
    // Find out the editor directory path, based on its <script> tag.
    var path = window.ALLOYEDITOR_BASEPATH || '';

    if (!path) {
        var scripts = document.getElementsByTagName('script');

        for (var i = 0; i < scripts.length; i++) {
            var match = scripts[i].src.match(AlloyEditor.regexBasePath);

            if (match) {
                path = match[1];
                break;
            }
        }
    }

    // In IE (only) the script.src string is the raw value entered in the
    // HTML source. Other browsers return the full resolved URL instead.
    if (path.indexOf(':/') === -1 && path.slice(0, 2) !== '//') {
        // Absolute path.
        if (path.indexOf('/') === 0) {
            path = location.href.match(/^.*?:\/\/[^\/]*/)[0] + path;
        }
        // Relative path.
        else {
                path = location.href.match(/^[^\?]*\/(?:)/)[0] + path;
            }
    }

    if (!path) {
        throw 'The AlloyEditor installation path could not be automatically detected. Please set the global variable "ALLOYEDITOR_BASEPATH" before creating editor instances.';
    }

    return path;
};

/**
 * Detects and load the corresponding language file if AlloyEditor language strings are not already present.
 * The function fires a {{#crossLink "AlloyEditor/languageResourcesLoaded:event"}}{{/crossLink}} event
 *
 * @memberof AlloyEditor
 * @method loadLanguageResources
 * @static
 * @param {Function} callback Optional callback to be called when AlloyEditor loads the language resource.
 */
var loadLanguageResources = function loadLanguageResources(callback) {
    AlloyEditor.implementEventTarget();

    if (_lang2.default.isFunction(callback)) {
        if (AlloyEditor.Strings) {
            setTimeout(callback, 0);
        } else {
            AlloyEditor.once('languageResourcesLoaded', function () {
                setTimeout(callback, 0);
            });
        }
    }

    if (!AlloyEditor._langResourceRequested) {
        AlloyEditor._langResourceRequested = true;

        var languages = ['af', 'ar', 'bg', 'bn', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en', 'eo', 'es', 'et', 'eu', 'fa', 'fi', 'fo', 'fr-ca', 'fr', 'gl', 'gu', 'he', 'hi', 'hr', 'hu', 'id', 'is', 'it', 'ja', 'ka', 'km', 'ko', 'ku', 'lt', 'lv', 'mk', 'mn', 'ms', 'nb', 'nl', 'no', 'pl', 'pt-br', 'pt', 'ro', 'ru', 'si', 'sk', 'sl', 'sq', 'sr-latn', 'sr', 'sv', 'th', 'tr', 'tt', 'ug', 'uk', 'vi', 'zh-cn', 'zh'];

        var userLanguage = navigator.language || navigator.userLanguage || 'en';

        var parts = userLanguage.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/);
        var lang = parts[1];
        var locale = parts[2];

        if (languages.indexOf(lang + '-' + locale) >= 0) {
            lang = lang + '-' + locale;
        } else if (languages.indexOf(lang) === -1) {
            lang = 'en';
        }

        CKEDITOR.scriptLoader.load(AlloyEditor.getUrl('lang/alloy-editor/' + lang + '.js'), function (loaded) {
            if (loaded) {
                AlloyEditor.fire('languageResourcesLoaded');
            }
        }, this);
    }
};

/**
 * Gets the full URL for AlloyEditor resources. By default, URLs
 * returned by this function contain a querystring parameter ("t")
 * set to the {@link CKEDITOR#timestamp} value.
 *
 * @memberof AlloyEditor
 * @method getUrl
 * @static
 * @param {String} resource The resource whose full URL we want to get.
 * It may be a full, absolute, or relative URL.
 * @return {String} The full URL.
 */
var getUrl = function getUrl(resource) {
    var basePath = AlloyEditor.getBasePath();

    // If this is not a full or absolute path.
    if (resource.indexOf(':/') === -1 && resource.indexOf('/') !== 0) {
        resource = basePath + resource;
    }

    // Add the timestamp, except for directories.
    if (CKEDITOR.timestamp && resource.charAt(resource.length - 1) !== '/' && !/[&?]t=/.test(resource)) {
        resource += (resource.indexOf('?') >= 0 ? '&' : '?') + 't=' + CKEDITOR.timestamp;
    }

<<<<<<< HEAD
    return resource;
};
=======
            if (selectedElement && CKEDITOR.env.ie) {
                var children = selectedElement.getChildren();

                var count = children.count();

                for (var i = 0; i < count; i++) {
                    var node = children.getItem(i);

                    if (node.is('a')) {
                        return node;
                    }
                }
            }

            if (selectedElement && CKEDITOR.env.ie) {
                var children = selectedElement.getChildren();

                var count = children.count();

                for (var i = 0; i < count; i++) {
                    var node = children.getItem(i);

                    if (node.is('a')) {
                        return node;
                    }
                }
            }

            var range = selection.getRanges()[0];
>>>>>>> 02f02748... Build files (auto-generated)

/**
 * Implements event firing and subscribing via CKEDITOR.event.
 *
 * @memberof AlloyEditor
 * @method implementEventTarget
 * @static
 */
var implementEventTarget = function implementEventTarget() {
    if (!AlloyEditor.fire && !AlloyEditor.on) {
        CKEDITOR.event.implementOn(AlloyEditor);
    }
};

/**
 * Regular expression which should match the script which have been used to load AlloyEditor.
 *
 * @memberof AlloyEditor
 * @property regexBasePath
 * @type {RegExp}
 * @static
 */
var regexBasePath = /(^|.*[\\\/])(?:alloy-editor[^/]+|alloy-editor)\.js(?:\?.*|;.*)?$/i;

/**
 * Fired when AlloyEditor detects the browser language and loads the corresponding language file. Once this event
 * is fired, AlloyEditor.Strings will be populated with data.
 *
 * @event languageResourcesLoaded
 */

/**
 * Returns the required plugin names needed for a given plugin
 * if it is already registered or an empty array.
 *
 * @memberof AlloyEditor
 * @method getButtons
 * @param {Array} buttons An array of buttons or plugin names.
 * @return {Function} A function that can be invoked to resolve the requested button names.
 * @static
 */
var getButtons = function getButtons(buttons) {
    return function () {
        return buttons.reduce(function (acc, val) {
            val = BRIDGE_BUTTONS[val] || [val];
            return acc.concat(val);
        }, []);
    };
};

/**
 * Register a button and try to get its required plugins.
 *
 * @memberof AlloyEditor
 * @method registerBridgeButton
 * @param {String} buttonName The name of the button.
 * @param {String} pluginName The name of the plugin that registers the button.
 * @static
 */
var registerBridgeButton = function registerBridgeButton(buttonName, pluginName) {
    if (!BRIDGE_BUTTONS[pluginName]) {
        BRIDGE_BUTTONS[pluginName] = [];
    }

    BRIDGE_BUTTONS[pluginName].push(buttonName);
};

/**
 * @method OOP
 * @memberof AlloyEditor
 */
var OOP = {
    extend: _oop2.default
};

exports.Attribute = _attribute2.default;
exports.Buttons = _buttons2.default;
exports.Core = _core2.default;
exports.editable = editable;
exports.getBasePath = getBasePath;
exports.getButtons = getButtons;
exports.getUrl = getUrl;
exports.implementEventTarget = implementEventTarget;
exports.Lang = _lang2.default;
exports.loadLanguageResources = loadLanguageResources;
exports.OOP = OOP;
exports.registerBridgeButton = registerBridgeButton;
exports.SelectionGetArrowBoxClasses = _selectionArrowbox2.default;
exports.Selections = _selections2.default;
exports.SelectionSetPosition = _selectionPosition2.default;
exports.SelectionTest = _selectionTest2.default;
exports.Toolbars = _toolbars2.default;

/***/ }),

/***/ "./src/components/base/button-action-style.js":
/*!****************************************************!*\
  !*** ./src/components/base/button-action-style.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonActionStyle is a mixin that provides applying style implementation for a
 * button based on the `applyStyle` and `removeStyle` API of CKEDITOR.
 *
 * To execute properly, the component has to expose the following methods which can be obtained
 * out of the box using the {{#crossLink "ButtonStyle"}}{{/crossLink}} mixin:
 * - `Function` {{#crossLink "ButtonStyle/isActive"}}{{/crossLink}} to check the active state
 * - `Function` {{#crossLink "ButtonStyle/getStyle"}}{{/crossLink}} to return the style that should be applied
 *
 * @class ButtonActionStyle
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'applyStyle',

            /**
             * Removes or applies the component style to the current selection.
             *
             * @instance
             * @memberof ButtonActionStyle
             * @method applyStyle
             */
            value: function applyStyle() {
                if (_lang2.default.isFunction(this.isActive) && _lang2.default.isFunction(this.getStyle)) {
                    var editor = this.props.editor.get('nativeEditor');

                    editor.getSelection().lock();

                    if (this.isActive()) {
                        editor.removeStyle(this.getStyle());
                    } else {
                        editor.applyStyle(this.getStyle());
                    }

                    editor.getSelection().unlock();

                    editor.fire('actionPerformed', this);
                }
            }
        }]);

<<<<<<< HEAD
        return _class;
    }(WrappedComponent);
};

/***/ }),
=======
    // Filters the requires object to remove unwanted dependencies. At this point
    // only 'toolbar' has been identified, but more can appear. An unwanted plugin
    // dependency is one that prevents a necessary plugin from being removed
    //
    // @param {string|Array<string>} requires The requires object
    // @return {string} The filtered requires object
    var filterUnwantedDependencies = function filterUnwantedDependencies(requires) {
        if (typeof requires === 'string') {
            requires = requires.split(',');
        }

        return requires.filter(function (require) {
            return require !== 'toolbar';
        });
    };

    // Filters the requires object to remove unwanted dependencies. At this point
    // only 'toolbar' has been identified, but more can appear. An unwanted plugin
    // dependency is one that prevents a necessary plugin from being removed
    //
    // @param {string|Array<string>} requires The requires object
    // @return {string} The filtered requires object
    var filterUnwantedDependencies = function filterUnwantedDependencies(requires) {
        if (typeof requires === 'string') {
            requires = requires.split(',');
        }

        return requires.filter(function (require) {
            return require !== 'toolbar';
        });
    };

    /**
     * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.
     *
     * @class CKEDITOR.plugins
     */

    /**
     * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of
     * the loaded plugins to add some metainformation about the plugin being processed
     *
    * @param {String/Array} names The name of the resource to load. It may be a
    * string with a single resource name, or an array with several names.
    * @param {Function} callback A function to be called when all resources
    * are loaded. The callback will receive an array containing all loaded names.
    * @param {Object} [scope] The scope object to be used for the callback call.
     * @memberof CKEDITOR.plugins
     * @method load
     * @static
     */
    CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function (pluginsLoad) {
        // Wrap original load function so we can transform the plugin input parameter
        // before passing it down to the original callback
        return function (names, callback, scope) {
            pluginsLoad.call(this, names, function (plugins) {
                if (callback) {
                    Object.keys(plugins).forEach(function (pluginName) {
                        var plugin = plugins[pluginName];
<<<<<<< HEAD
=======

                        if (plugin.requires) {
                            plugin.requires = filterUnwantedDependencies(plugin.requires);
                        }

                        wrapPluginLifecycle(plugin);
                    });
>>>>>>> caf17dec5790097eb405b57e816e3bfb5c7c1034

                        if (plugin.requires) {
                            plugin.requires = filterUnwantedDependencies(plugin.requires);
                        }

                        wrapPluginLifecycle(plugin);
                    });
>>>>>>> cad4c7a0... Build files (auto-generated)

/***/ "./src/components/base/button-command-active.js":
/*!******************************************************!*\
  !*** ./src/components/base/button-command-active.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonCommandActive is a mixin that provides an `isActive` method to determine if
 * a context-aware command is currently in an active state.
 *
 * @class ButtonCommandActive
 */
exports.default = function (WrappedComponent) {
  return function (_WrappedComponent) {
    _inherits(_class, _WrappedComponent);

    function _class() {
      _classCallCheck(this, _class);

      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
    }

    _createClass(_class, [{
      key: 'isActive',

      /**
       * Checks if the command is active in the current selection.
       *
       * @instance
       * @memberof ButtonCommandActive
       * @method isActive
       * @return {Boolean} True if the command is active, false otherwise.
       */
      value: function isActive() {
        var editor = this.props.editor.get('nativeEditor');

        var command = editor.getCommand(this.props.command);

        return command ? command.state === CKEDITOR.TRISTATE_ON : false;
      }
    }]);

    return _class;
  }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-command.js":
/*!***********************************************!*\
  !*** ./src/components/base/button-command.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonCommand is a mixin that executes a command via CKEDITOR's API.
 *
 * @class ButtonCommand
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'execCommand',

            /**
             * Executes a CKEditor command and fires `actionPerformed` event.
             *
             * @instance
             * @memberof ButtonCommand
             * @param {Object=} data Optional data to be passed to CKEDITOR's `execCommand` method.
             * @method execCommand
             */
            value: function execCommand(data) {
                var editor = this.props.editor.get('nativeEditor');

                editor.execCommand(this.props.command, data);

                if (this.props.modifiesSelection) {
                    editor.selectionChange(true);
                }

                editor.fire('actionPerformed', this);
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-keystroke.js":
/*!*************************************************!*\
  !*** ./src/components/base/button-keystroke.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonKeystroke is a mixin that provides a `keystroke` prop that allows configuring
 * a function of the instance to be invoked upon the keystroke activation.
 *
 * @class ButtonKeystroke
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'componentWillMount',

            /**
             * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
             *
             * @instance
             * @memberof ButtonKeystroke
             * @method componentWillMount
             */
            value: function componentWillMount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this).call(this);
                }

                var nativeEditor = this.props.editor.get('nativeEditor');
                var keystroke = this.props.keystroke;

                var commandName = keystroke.name || (Math.random() * 1e9 >>> 0).toString();

                var command = nativeEditor.getCommand(commandName);

                if (!command) {
                    command = new CKEDITOR.command(nativeEditor, {
                        exec: function (editor) {
                            var keystrokeFn = keystroke.fn;

                            if (_lang2.default.isString(keystrokeFn)) {
                                this[keystrokeFn].call(this, editor);
                            } else if (_lang2.default.isFunction(keystrokeFn)) {
                                keystrokeFn.call(this, editor);
                            }
                        }.bind(this)
                    });

                    nativeEditor.addCommand(commandName, command);
                }

                this._defaultKeystrokeCommand = nativeEditor.keystrokeHandler.keystrokes[keystroke.keys];

                nativeEditor.setKeystroke(keystroke.keys, commandName);
            }

            /**
             * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
             *
             * @instance
             * @memberof ButtonKeystroke
             * @method componentWillUnmount
             */

        }, {
            key: 'componentWillUnmount',
            value: function componentWillUnmount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this).call(this);
                }

                this.props.editor.get('nativeEditor').setKeystroke(this.props.keystroke.keys, this._defaultKeystrokeCommand);
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-props.js":
/*!*********************************************!*\
  !*** ./src/components/base/button-props.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonCfgProps is a mixin that provides a style prop and some methods to apply the resulting
 * style and checking if it is present in a given path or selection.
 *
 * @class ButtonCfgProps
 */
exports.default = function (WrappedComponent) {
  return function (_WrappedComponent) {
    _inherits(_class, _WrappedComponent);

    function _class() {
      _classCallCheck(this, _class);

      return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
    }

    _createClass(_class, [{
      key: 'mergeButtonCfgProps',

      /**
       * Merges the properties, passed to the current component with user's configuration
       * via `buttonCfg` property.
       *
       * @instance
       * @memberof ButtonCfgProps
       * @method mergeButtonCfgProps
       * @param {Object} props The properties to be merged with the provided configuration for this
       * button. If not passed, the user configuration will be merged with `this.props`
       * @return {Object} The merged properties
       */
      value: function mergeButtonCfgProps(props) {
        props = props || this.props;

        var nativeEditor = this.props.editor.get('nativeEditor');
        var buttonCfg = nativeEditor.config.buttonCfg || {};
        var result = CKEDITOR.tools.merge(props, buttonCfg['linkEdit']);

        return result;
      }
    }]);

    return _class;
  }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-state-classes.js":
/*!*****************************************************!*\
  !*** ./src/components/base/button-state-classes.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonStateClasses is a mixin that decorates the domElement of a component
 * with different CSS classes based on the current state of the element.
 *
 * To check for state, the component can expose the following methods:
 * - `Function` **isActive** to check the active state
 * - `Function` **isDisabled** to check the disabled state
 *
 * @class ButtonStateClasses
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'getStateClasses',

            /**
             * Returns the list of state classes associated to the current element's state, according
             * to the results of the isActive and isDisabled methods.
             *
             * @instance
             * @memberof ButtonStateClasses
             * @method getStateClasses
             * @return {String} A string with the state CSS classes.
             */
            value: function getStateClasses() {
                var stateClasses = '';

                // Check for active state
                if (_lang2.default.isFunction(this.isActive) && this.isActive()) {
                    stateClasses += 'ae-button-pressed';
                }

                // Check for disabled state
                if (_lang2.default.isFunction(this.isDisabled) && this.isDisabled()) {
                    stateClasses += ' ae-button-disabled';
                }

                return stateClasses;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/button-style.js":
/*!*********************************************!*\
  !*** ./src/components/base/button-style.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ButtonStyle is a mixin that provides a style prop and some methods to apply the resulting
 * style and checking if it is present in a given path or selection.
 *
 * @class ButtonStyle
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'componentWillMount',

            /**
             * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
             *
             * @instance
             * @memberof ButtonStyle
             * @method componentWillMount
             */
            value: function componentWillMount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillMount', this).call(this);
                }

                var style = this.props.style;

                if (_lang2.default.isString(style)) {
                    var parts = style.split('.');
                    var currentMember = this.props.editor.get('nativeEditor').config;
                    var property = parts.shift();

                    while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
                        currentMember = currentMember[property];
                        property = parts.shift();
                    }

                    if (_lang2.default.isObject(currentMember)) {
                        style = currentMember;
                    }
                }

                this._style = new CKEDITOR.style(style);
            }

            /**
             * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
             *
             * @instance
             * @memberof ButtonStyle
             * @method componentWillUnmount
             */

        }, {
            key: 'componentWillUnmount',
            value: function componentWillUnmount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillUnmount', this).call(this);
                }

                this._style = null;
            }

            /**
             * Returns instance of CKEDITOR.style which represents the current button style.
             *
             * @instance
             * @memberof ButtonStyle
             * @method getStyle
             * @return {CKEDITOR.style} The current style representation.
             */

        }, {
            key: 'getStyle',
            value: function getStyle() {
                return this._style;
            }

            /**
             * Checks if style is active in the current selection.
             *
             * @instance
             * @memberof ButtonStyle
             * @method isActive
             * @return {Boolean} True if style is active, false otherwise.
             */

        }, {
            key: 'isActive',
            value: function isActive() {
                var result;

                var editor = this.props.editor.get('nativeEditor');

                var elementPath = editor.elementPath();

                result = this.getStyle().checkActive(elementPath, editor);

                return result;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/toolbar-buttons.js":
/*!************************************************!*\
  !*** ./src/components/base/toolbar-buttons.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * ToolbarButtons is a mixin which provides a list of buttons which have to be
 * displayed on the current toolbar depending on user preferences and given state.
 *
 * @class ToolbarButtons
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'getToolbarButtons',

            /**
             * Analyzes the current selection and the buttons exclusive mode value to figure out which
             * buttons should be present in a given state.
             *
             * @instance
             * @memberof ToolbarButtons
             * @method getToolbarButtons
             * @param {Array} buttons The buttons could be shown, prior to the state filtering.
             * @param {Object} additionalProps Additional props that should be passed down to the buttons.
             * @return {Array} An Array which contains the buttons that should be rendered.
             */
            value: function getToolbarButtons(buttons, additionalProps) {
                var buttonProps = {};

                var nativeEditor = this.props.editor.get('nativeEditor');
                var buttonCfg = nativeEditor.config.buttonCfg || {};

                if (_lang2.default.isFunction(buttons)) {
                    buttons = buttons.call(this) || [];
                }

                var toolbarButtons = this.filterExclusive(buttons.filter(function (button) {
                    return button && (AlloyEditor.Buttons[button] || AlloyEditor.Buttons[button.name]);
                }).map(function (button) {
                    if (_lang2.default.isString(button)) {
                        buttonProps[button] = buttonCfg[button];
                        button = AlloyEditor.Buttons[button];
                    } else if (_lang2.default.isString(button.name)) {
                        buttonProps[AlloyEditor.Buttons[button.name].key] = CKEDITOR.tools.merge(buttonCfg[button], button.cfg);
                        button = AlloyEditor.Buttons[button.name];
                    }

                    return button;
                })).map(function (button) {
                    var props = this.mergeExclusiveProps({
                        editor: this.props.editor,
                        key: button.key,
                        tabKey: button.key,
                        tabIndex: this.props.trigger && this.props.trigger.props.tabKey === button.key ? 0 : -1,
                        trigger: this.props.trigger
                    }, button.key);

                    props = this.mergeDropdownProps(props, button.key);

                    if (additionalProps) {
                        props = CKEDITOR.tools.merge(props, additionalProps);
                    }

                    props = CKEDITOR.tools.merge(props, buttonProps[button.key]);

                    return _react2.default.createElement(button, props);
                }, this);

                return toolbarButtons;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-arrow-box.js":
/*!*************************************************!*\
  !*** ./src/components/base/widget-arrow-box.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Provides functionality for displaying Widget Arrow box on top or on bottom of the widget
 * depending on the point of user interaction with the editor.
 *
 * @class WidgetArrowBox
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'getArrowBoxClasses',

            /**
             * Returns the list of arrow box classes associated to the current element's state. It relies
             * on the getInteractionPoint method to calculate the selection direction.
             *
             * @instance
             * @memberof WidgetArrowBox
             * @method getArrowBoxClasses
             * @return {String} A string with the arrow box CSS classes.
             */
            value: function getArrowBoxClasses() {
                var arrowBoxClasses = 'ae-arrow-box';

                if (_lang2.default.isFunction(this.getInteractionPoint) && this.getInteractionPoint()) {
                    if (this.getInteractionPoint().direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
                        arrowBoxClasses += ' ae-arrow-box-top';
                    } else {
                        arrowBoxClasses += ' ae-arrow-box-bottom';
                    }
                }

                return arrowBoxClasses;
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-dropdown.js":
/*!************************************************!*\
  !*** ./src/components/base/widget-dropdown.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Provides functionality for managing different dropdowns inside a widget.
 *
 * @class WidgetDropdown
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class(props) {
            _classCallCheck(this, _class);

            var _this = _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).call(this, props));

            _this.state = _extends({}, _this.state, {
                dropdownTrigger: null,
                itemDropdown: null
            });
            return _this;
        }

        /**
         * Lifecycle. Invoked when a component is receiving new props.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof WidgetDropdown
         * @method componentWillReceiveProps
         */


        _createClass(_class, [{
            key: 'componentWillReceiveProps',
            value: function componentWillReceiveProps(nextProps) {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this).call(this);
                }

                this.setState({
                    dropdownTrigger: null,
                    itemDropdown: null
                });
            }

            /**
             * Merges the provided object with two more properties:
             * - expanded - boolean flag which indicates if an widget should be rendered exclusively.
             * - toggleDropdown - function, which can be used by an widget in order to obtain exclusive state.
             *
             * @instance
             * @memberof WidgetDropdown
             * @method mergeDropdownProps
             * @param {Object} obj The properties container which should be merged with the properties, related
             *    to dropdown state.
             * @param {Object} itemKey They key of an React Widget which contains the dropdown.
             * @return {Object} The merged object.
             */

        }, {
            key: 'mergeDropdownProps',
            value: function mergeDropdownProps(obj, itemKey) {
                return CKEDITOR.tools.merge(obj, {
                    expanded: this.state.itemDropdown === itemKey ? true : false,
                    tabIndex: this.state.dropdownTrigger === itemKey ? 0 : -1,
                    toggleDropdown: this.toggleDropdown.bind(this, itemKey)
                });
            }

            /**
             * Sets the active dropdown of the widget or discards the toggled item from the state.
             *
             * @instance
             * @memberof WidgetDropdown
             * @method toggleDropdown
             * @param {Object} itemDropdown The widget which requests to toggle its dropdown.
             * @param {Number} toggleDirection User movement direction when toggled via keyboard.
             */

        }, {
            key: 'toggleDropdown',
            value: function toggleDropdown(itemDropdown, toggleDirection) {
                this.setState({
                    dropdownTrigger: itemDropdown,
                    itemDropdown: itemDropdown !== this.state.itemDropdown ? itemDropdown : null
                }, function () {
                    if (!this.state.itemDropdown) {
                        if (this.moveFocus) {
                            this.moveFocus(toggleDirection);
                        } else {
                            _reactDom2.default.findDOMNode(this).focus();
                        }
                    }
                });
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-exclusive.js":
/*!*************************************************!*\
  !*** ./src/components/base/widget-exclusive.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

<<<<<<< HEAD
var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

<<<<<<< HEAD
var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
=======
            var transferFiles = nativeEvent.dataTransfer.files;

            if (transferFiles.length > 0) {
                new CKEDITOR.dom.event(nativeEvent).preventDefault();

                var editor = event.listenerData.editor;

                event.listenerData.editor.createSelectionFromPoint(nativeEvent.clientX, nativeEvent.clientY);

                this._handleFiles(transferFiles, editor);
            }
        },
>>>>>>> caf17dec5790097eb405b57e816e3bfb5c7c1034

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
=======
            var transferFiles = nativeEvent.dataTransfer.files;

            if (transferFiles.length > 0) {
                new CKEDITOR.dom.event(nativeEvent).preventDefault();

                var editor = event.listenerData.editor;

                event.listenerData.editor.createSelectionFromPoint(nativeEvent.clientX, nativeEvent.clientY);

                this._handleFiles(transferFiles, editor);
            }
        },
>>>>>>> cad4c7a0... Build files (auto-generated)

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Provides functionality for managing exclusive state of an widget.
 * The exclusive state means that a button may request to be the only rendered
 * widget in its parent container. WidgetExclusive will manage this state by
 * filtering and suppressing the other sibling widgets from displaying.
 *
 * @class WidgetExclusive
 */
exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'cancelExclusive',

            /**
             * Cancels the exclusive state of an widget.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method cancelExclusive
             * @param {Object} itemExclusive The widget which exclusive state should be canceled.
             */
            value: function cancelExclusive(itemExclusive) {
                if (this.state.itemExclusive === itemExclusive) {
                    this.setState({
                        itemExclusive: null
                    });
                }
            }

            /**
             * Lifecycle. Invoked when a component is receiving new props.
             * This method is not called for the initial render.
             * Calling this.setState() within this function will not trigger an additional render.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method componentWillReceiveProps
             * @param {Object} nextProps Object containing the current set of properties.
             */

        }, {
            key: 'componentWillReceiveProps',
            value: function componentWillReceiveProps(nextProps) {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentWillReceiveProps', this).call(this);
                }

                // Receiving properties means that the component is being re-rendered.
                // Re-rendering is triggered by editorInteraction, so we have to
                // reset the exclusive state and render the UI according to the new selection.
                this.setState({
                    itemExclusive: null
                });
            }

            /**
             * Filters the items and returns only those with exclusive state.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method filterExclusive
             * @param {Array} items The widgets to be filtered.
             * @return {Array|Object} The item with executive state.
             */

        }, {
            key: 'filterExclusive',
            value: function filterExclusive(items) {
                return items.filter(function (item) {
                    if (this.state.itemExclusive) {
                        if (this.state.itemExclusive === item.key) {
                            return item;
                        }
                    } else {
                        return item;
                    }
                }.bind(this));
            }

            /**
             * Merges the provided object with three more properties:
             * - cancelExclusive - function, which can be used by a widget in order to cancel executive state.
             * - renderExclusive - boolean flag which indicates if an widget should be rendered exclusively.
             * - requestExclusive - function, which can be used by a widget in order to obtain exclusive state.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method mergeExclusiveProps
             * @param {Object} obj The properties container which should be merged with the properties, related
             *    to exclusive state.
             * @param {Object} itemKey They key of an React Widget which should be rendered exclusively.
             * @return {Object} The merged object.
             */

        }, {
            key: 'mergeExclusiveProps',
            value: function mergeExclusiveProps(obj, itemKey) {
                return CKEDITOR.tools.merge(obj, {
                    cancelExclusive: this.cancelExclusive.bind(this, itemKey),
                    renderExclusive: this.state.itemExclusive === itemKey,
                    requestExclusive: this.requestExclusive.bind(this, itemKey)
                });
            }

            /**
             * Requests and sets exclusive state of an widget.
             *
             * @instance
             * @memberof WidgetExclusive
             * @method requestExclusive
             * @param {Object} itemExclusive The widget which requests exclusive state.
             */

        }, {
            key: 'requestExclusive',
            value: function requestExclusive(itemExclusive) {
                this.setState({
                    itemExclusive: itemExclusive
                });
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-focus-manager.js":
/*!*****************************************************!*\
  !*** ./src/components/base/widget-focus-manager.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

<<<<<<< HEAD
<<<<<<< HEAD
=======
    var REGEX_URL = /((([A - Za - z]{ 3, 9}: (?: \/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(https?\:\/\/|www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))((.*):(\d*)\/?(.*))?)/i;
>>>>>>> 77c835ae... Build files (auto-generated)
=======
    var REGEX_URL = /((([A - Za - z]{ 3, 9}: (?: \/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(https?\:\/\/|www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))((.*):(\d*)\/?(.*))?)/i;
>>>>>>> 11e2816e92bc1f07344bbef98f8bd2e2680d09aa

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

<<<<<<< HEAD
var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };
=======
                editable.attachListener(editable, 'keyup', this._onKeyUp, this, {
                    editor: editor
                });
            }.bind(this));
<<<<<<< HEAD
=======

            editor.on('paste', function (event) {
                var data = event.data.dataValue;

                var match = data.match(REGEX_URL);

                if (match && match.length) {
                    match = match[0];

                    var remainder = data.replace(match, '');

                    if (this._isValidURL(match)) {
                        event.data.dataValue = '<a href=\"' + match + '\">' + match + '</a>' + remainder;
                    }
                }
            }.bind(this));
        },

        /**
         * Retrieves the last word introduced by the user. Reads from the current
         * caret position backwards until it finds the first white space.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _getLastWord
         * @protected
         * @return {String} The last word introduced by user
         */
        _getLastWord: function _getLastWord(editor) {
            var range = editor.getSelection().getRanges()[0];
>>>>>>> 11e2816e92bc1f07344bbef98f8bd2e2680d09aa

            editor.on('paste', function (event) {
                var data = event.data.dataValue;

                var match = data.match(REGEX_URL);

                if (match && match.length) {
                    match = match[0];

                    var remainder = data.replace(match, '');

                    if (this._isValidURL(match)) {
                        event.data.dataValue = '<a href=\"' + match + '\">' + match + '</a>' + remainder;
                    }
                }
            }.bind(this));
        },
>>>>>>> 77c835ae... Build files (auto-generated)

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DIRECTION_NONE = 0;
var DIRECTION_NEXT = 1;
var DIRECTION_PREV = -1;

var ACTION_NONE = 0;
var ACTION_MOVE_FOCUS = 1;
var ACTION_DISMISS_FOCUS = 2;

/**
 * WidgetFocusManager is a mixin that provides keyboard navigation inside a widget. To do this,
 * it exposes the following props and methods:
 *
 * @class WidgetFocusManager
 */

exports.default = function (WrappedComponent) {
    return function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'componentDidMount',

            /**
             * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method componentDidMount
             */
            value: function componentDidMount() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidMount', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidMount', this).call(this);
                }

                this._refresh();
            }

            /**
             * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
             * Refreshes the descendants list.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method componentDidUpdate
             */

        }, {
            key: 'componentDidUpdate',
            value: function componentDidUpdate() {
                if (_lang2.default.isFunction(_get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidUpdate', this))) {
                    _get(_class.prototype.__proto__ || Object.getPrototypeOf(_class.prototype), 'componentDidUpdate', this).call(this);
                }

                this._refresh();
            }

            /**
             * Focuses the current active descendant.
             *
             * Several Widgets can be nested in a component hierarchy by attaching this focus method to
             * the widget DOM node, transferring the DOM focus control to the inner FocusManager.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method focus
             */

        }, {
            key: 'focus',
            value: function focus(event) {
                if (!event || this._isValidTarget(event.target)) {
                    if (this._descendants && this._descendants.length) {
                        var activeDescendantEl = this._descendants[this._activeDescendant];
                        // When user clicks with the mouse, the activeElement is already set and there
                        // is no need to focus it. Focusing of the active descendant (usually some button) is required
                        // in case of keyboard navigation, because the focused element might be not the first button,
                        // but the div element, which contains the button.
                        if (document.activeElement !== activeDescendantEl && !this.props.focusFirstChild) {
                            if (this._descendants.indexOf(document.activeElement) === -1) {
                                activeDescendantEl.focus();
                            }
                        }

                        if (event) {
                            event.stopPropagation();
                            event.preventDefault();
                        }
                    }
                }
            }

            /**
             * Handles the key events on a DOM node to execute the appropriate navigation when needed.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @param {Object} event The Keyboard event that was detected on the widget DOM node.
             * @method handleKey
             */

        }, {
            key: 'handleKey',
            value: function handleKey(event) {
                if (this._isValidTarget(event.target) && this._descendants) {
                    var action = this._getFocusAction(event);

                    if (action.type) {
                        event.stopPropagation();
                        event.preventDefault();

                        if (action.type === ACTION_MOVE_FOCUS) {
                            this._moveFocus(action.direction);
                        }

                        if (action.type === ACTION_DISMISS_FOCUS) {
                            this.props.onDismiss(action.direction);
                        }
                    }
                }
            }

            /**
             * Moves the focus among descendants in the especified direction.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method moveFocus
             * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
             */

        }, {
            key: 'moveFocus',
            value: function moveFocus(direction) {
                direction = _lang2.default.isNumber(direction) ? direction : 0;

                this._moveFocus(direction);
            }

            /**
             * Returns the action, if any, that a keyboard event in the current focus manager state
             * should produce.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _getFocusAction
             * @param {object} event The Keyboard event.
             * @protected
             * @return {Object} An action object with type and direction properties.
             */

        }, {
            key: '_getFocusAction',
            value: function _getFocusAction(event) {
                var action = {
                    type: ACTION_NONE
                };

                if (this.props.keys) {
                    var direction = this._getFocusMoveDirection(event);

                    if (direction) {
                        action.direction = direction;
                        action.type = ACTION_MOVE_FOCUS;
                    }

                    var dismissAction = this._getFocusDismissAction(event, direction);

                    if (dismissAction.dismiss) {
                        action.direction = dismissAction.direction;
                        action.type = ACTION_DISMISS_FOCUS;
                    }
                }

                return action;
            }

            /**
             * Returns the dismiss action, if any, the focus manager should execute to yield the focus. This
             * will happen in any of these scenarios if a dismiss callback has been specified:
             * - A dismiss key has been pressed
             * - In a non-circular focus manager, when:
             *     - The active descendant is the first one and a prev key has been pressed.
             *     - The active descendant is the last one and a next key has been pressed.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _getFocusDismissAction
             * @param {Number} focusMoveDirection The focus movement direction (if any).
             * @param {Object} event The Keyboard event.
             * @protected
             * @return {Object} A dismiss action with dismiss and direction properties.
             */

        }, {
            key: '_getFocusDismissAction',
            value: function _getFocusDismissAction(event, focusMoveDirection) {
                var dismissAction = {
                    direction: focusMoveDirection,
                    dismiss: false
                };

                if (this.props.onDismiss) {
                    if (this._isValidKey(event.keyCode, this.props.keys.dismiss)) {
                        dismissAction.dismiss = true;
                    }
                    if (this._isValidKey(event.keyCode, this.props.keys.dismissNext)) {
                        dismissAction.dismiss = true;
                        dismissAction.direction = DIRECTION_NEXT;
                    }
                    if (this._isValidKey(event.keyCode, this.props.keys.dismissPrev)) {
                        dismissAction.dismiss = true;
                        dismissAction.direction = DIRECTION_PREV;
                    }

                    if (!dismissAction.dismiss && !this.props.circular && focusMoveDirection) {
                        dismissAction.dismiss = focusMoveDirection === DIRECTION_PREV && this._activeDescendant === 0 || focusMoveDirection === DIRECTION_NEXT && this._activeDescendant === this._descendants.length - 1;
                    }
                }

                return dismissAction;
            }

            /**
             * Returns the direction, if any, in which the focus should be moved. In presence of the
             * shift key modifier, the direction of the movement is inverted.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _getFocusMoveDirection
             * @param {Object} event The Keyboard event.
             * @protected
             * @return {Number} The computed direction of the expected focus movement.
             */

        }, {
            key: '_getFocusMoveDirection',
            value: function _getFocusMoveDirection(event) {
                var direction = DIRECTION_NONE;

                if (this._isValidKey(event.keyCode, this.props.keys.next)) {
                    direction = DIRECTION_NEXT;
                }
                if (this._isValidKey(event.keyCode, this.props.keys.prev)) {
                    direction = DIRECTION_PREV;
                }

                if (event.shifKey) {
                    direction *= -1;
                }

                return direction;
            }

            /**
             * Indicates if a given keyCode is valid for the given set of keys.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _isValidKey
             * @param {Array|Number} keys A key set. Can be a number an array of numbers representing the allowed keyCodes.
             * @param {Number} keyCode An event keyCode.
             * @protected
             * @return {Boolean} A boolean value indicating if the key is valid.
             */

        }, {
            key: '_isValidKey',
            value: function _isValidKey(keyCode, keys) {
                return _lang2.default.isArray(keys) ? keys.indexOf(keyCode) !== -1 : keyCode === keys;
            }

            /**
             * Indicates if a given element is valid for focus management. User input elements such as
             * input, select or textarea are excluded.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _isValidKey
             * @param {DOMNode} element A DOM element.
             * @protected
             * @return {Boolean} A boolean value indicating if the element is valid.
             */

        }, {
            key: '_isValidTarget',
            value: function _isValidTarget(element) {
                var tagName = element.tagName.toLowerCase();

                return tagName !== 'input' && tagName !== 'select' && tagName !== 'textarea';
            }

            /**
             * Moves the focus among descendants in the especified direction.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _moveFocus
             * @param {number} direction The direction (1 or -1) of the focus movement among descendants.
             * @protected
             */

        }, {
            key: '_moveFocus',
            value: function _moveFocus(direction) {
                var numDescendants = this._descendants.length;

                var descendant = this._descendants[this._activeDescendant];

                descendant.setAttribute('tabIndex', -1);

                this._activeDescendant += direction;

                if (this.props.circular) {
                    // Calculate proper modulo result since remainder operator doesn't behave in the
                    // same way for negative numbers
                    this._activeDescendant = (this._activeDescendant % numDescendants + numDescendants) % numDescendants;
                } else {
                    this._activeDescendant = Math.max(Math.min(this._activeDescendant, numDescendants - 1), 0);
                }

                descendant = this._descendants[this._activeDescendant];

                descendant.setAttribute('tabIndex', 0);
                descendant.focus();
            }

            /**
             * Refreshes the descendants list by executing the CSS selector again and resets the descendants tabIndex.
             *
             * @instance
             * @memberof WidgetFocusManager
             * @method _refresh
             * @protected
             */

        }, {
            key: '_refresh',
            value: function _refresh() {
                var domNode = _reactDom2.default.findDOMNode(this);

                if (domNode) {
                    var descendants = domNode.querySelectorAll(this.props.descendants);

                    var priorityDescendants = [];

                    this._descendants = [];

                    Array.prototype.slice.call(descendants).forEach(function (item) {
                        var dataTabIndex = item.getAttribute('data-tabindex');

                        if (dataTabIndex) {
                            priorityDescendants.push(item);
                        } else {
                            this._descendants.push(item);
                        }
                    }.bind(this));

                    priorityDescendants = priorityDescendants.sort(function (a, b) {
                        return _lang2.default.toInt(a.getAttribute('data-tabindex')) > _lang2.default.toInt(b.getAttribute('data-tabindex'));
                    });

                    this._descendants = priorityDescendants.concat(this._descendants);

                    this._activeDescendant = 0;

                    this._descendants.some(function (item, index) {
                        if (item.getAttribute('tabindex') === '0') {
                            this._activeDescendant = index;
                            this.focus();

                            return true;
                        }
                    }.bind(this));
                }
            }
        }]);

        return _class;
    }(WrappedComponent);
};

/***/ }),

/***/ "./src/components/base/widget-position.js":
/*!************************************************!*\
  !*** ./src/components/base/widget-position.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * Calculates the position where an Widget should be displayed based on the point
 * where user interacted with the editor.
 *
 * @class WidgetPosition
 */
exports.default = function (WrappedComponent) {
    var _class, _temp;

    return _temp = _class = function (_WrappedComponent) {
        _inherits(_class, _WrappedComponent);

        function _class() {
            _classCallCheck(this, _class);

            return _possibleConstructorReturn(this, (_class.__proto__ || Object.getPrototypeOf(_class)).apply(this, arguments));
        }

        _createClass(_class, [{
            key: 'cancelAnimation',


            /**
             * Cancels an scheduled animation frame.
             *
             * @instance
             * @memberof WidgetPosition
             * @method cancelAnimation
             */
            value: function cancelAnimation() {
                if (window.cancelAnimationFrame) {
                    window.cancelAnimationFrame(this._animationFrameId);
                }
            }

            /**
             * Returns an object which contains the position of the element in page coordinates,
             * restricted to fit to given viewport.
             *
             * @instance
             * @memberof WidgetPosition
             * @method getConstrainedPosition
             * @param {Object} attrs The following properties, provided as numbers:
             * - height
             * - left
             * - top
             * - width
             * @param {Object} viewPaneSize Optional. If not provided, the current viewport will be used. Should contain at least these properties:
             * - width
             * @return {Object} An object with `x` and `y` properties, which represent the constrained position of the
             * element.
             */

            /**
             * Lifecycle. Returns the default values of the properties used in the widget.
             *
             * @instance
             * @memberof WidgetPosition
             * @method getDefaultProps
             */

        }, {
            key: 'getConstrainedPosition',
            value: function getConstrainedPosition(attrs, viewPaneSize) {
                viewPaneSize = viewPaneSize || new CKEDITOR.dom.window(window).getViewPaneSize();

                var x = attrs.left;
                var y = attrs.top;

                if (attrs.left + attrs.width > viewPaneSize.width) {
                    x -= attrs.left + attrs.width - viewPaneSize.width;
                }

                if (y < 0) {
                    y = 0;
                }

                return {
                    x: x,
                    y: y
                };
            }

            /**
             * Returns the position, in page coordinates, according to which a widget should appear.
             * Depending on the direction of the selection, the wdiget may appear above of or on bottom of the selection.
             *
             * It depends on the props editorEvent to analyze the following user-interaction parameters:
             * - {Object} selectionData The data about the selection in the editor as returned from
             * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
             * - {Number} pos Contains the coordinates of the position, considered as most appropriate.
             * This may be the point where the user released the mouse, or just the beginning or the end of
             * the selection.
             *
             * @instance
             * @memberof WidgetInteractionPoint
             * @method getInteractionPoint
             * @return {Object} An Object which contains the following properties:
             * direction, x, y, where x and y are in page coordinates and direction can be one of these:
             * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
             */

        }, {
            key: 'getInteractionPoint',
            value: function getInteractionPoint() {
                var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;

                if (!eventPayload) {
                    return;
                }

                var selectionData = eventPayload.selectionData;

                var nativeEvent = eventPayload.nativeEvent;

                var pos = {
                    x: eventPayload.nativeEvent.pageX,
                    y: selectionData.region.top
                };

                var direction = selectionData.region.direction;

                var endRect = selectionData.region.endRect;

                var startRect = selectionData.region.startRect;

                if (endRect && startRect && startRect.top === endRect.top) {
                    direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
                }

                var x;
                var y;

                // If we have the point where user released the mouse, show Toolbar at this point
                // otherwise show it on the middle of the selection.

                if (pos.x && pos.y) {
                    x = this._getXPoint(selectionData, pos.x);

                    if (direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
                        y = Math.min(pos.y, selectionData.region.top);
                    } else {
                        y = Math.max(pos.y, this._getYPoint(selectionData, nativeEvent));
                    }
                } else {
                    x = selectionData.region.left + selectionData.region.width / 2;

                    if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {

                        y = this._getYPoint(selectionData, nativeEvent);
                    } else {
                        y = selectionData.region.top;
                    }
                }

                return {
                    direction: direction,
                    x: x,
                    y: y
                };
            }

            /**
             * Returns the position of the Widget.
             *
             * @instance
             * @memberof WidgetInteractionPoint
             * @method _getXPoint
             * @param {Object} eventX The X coordinate received from the native event (mouseup).
             * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
             * @protected
             * @return {Number} The calculated X point in page coordinates.
             */

        }, {
            key: '_getXPoint',
            value: function _getXPoint(selectionData, eventX) {
                var region = selectionData.region;

                var left = region.startRect ? region.startRect.left : region.left;
                var right = region.endRect ? region.endRect.right : region.right;

                var x;

                if (left < eventX && right > eventX) {
                    x = eventX;
                } else {
                    var leftDist = Math.abs(left - eventX);
                    var rightDist = Math.abs(right - eventX);

                    if (leftDist < rightDist) {
                        // user raised the mouse on left on the selection
                        x = left;
                    } else {
                        x = right;
                    }
                }

                return x;
            }

            /**
             * Returns the position of the Widget.
             *
             * @instance
             * @memberof WidgetInteractionPoint
             * @method _getYPoint
             * @param {Object} nativeEvent The data about event is fired
             * @param {Object} selectionData The data about the selection in the editor as returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
             * @protected
             * @return {Number} The calculated Y point in page coordinates.
             */

        }, {
            key: '_getYPoint',
            value: function _getYPoint(selectionData, nativeEvent) {
                var y = 0;

                if (selectionData && nativeEvent) {
                    var elementTarget = new CKEDITOR.dom.element(nativeEvent.target);

                    if (elementTarget.$ && elementTarget.getStyle('overflow') === 'auto') {
                        y = nativeEvent.target.offsetTop + nativeEvent.target.offsetHeight;
                    } else {
                        y = selectionData.region.bottom;
                    }
                }

                return y;
            }

            /**
             * Returns the position of the Widget taking in consideration the
             * {{#crossLink "WidgetPosition/gutter:attribute"}}{{/crossLink}} attribute.
             *
             * @instance
             * @memberof WidgetPosition
             * @protected
             * @method  getWidgetXYPoint
             * @param {Number} left The left offset in page coordinates where Toolbar should be shown.
             * @param {Number} top The top offset in page coordinates where Toolbar should be shown.
             * @param {Number} direction The direction of the selection. May be one of the following:
             * CKEDITOR.SELECTION_BOTTOM_TO_TOP or CKEDITOR.SELECTION_TOP_TO_BOTTOM
             * @return {Array} An Array with left and top offsets in page coordinates.
             */

        }, {
            key: 'getWidgetXYPoint',
            value: function getWidgetXYPoint(left, top, direction) {
                var domNode = _reactDom2.default.findDOMNode(this);

                var gutter = this.props.gutter;

                if (direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM || direction === CKEDITOR.SELECTION_BOTTOM_TO_TOP) {
                    left = left - gutter.left - domNode.offsetWidth / 2;

                    top = direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM ? top + gutter.top : top - domNode.offsetHeight - gutter.top;
                } else if (direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT || direction === CKEDITOR.SELECTION_RIGHT_TO_LEFT) {

                    left = direction === CKEDITOR.SELECTION_LEFT_TO_RIGHT ? left + gutter.left + domNode.offsetHeight / 2 : left - 3 * domNode.offsetHeight / 2 - gutter.left;

                    top = top - gutter.top - domNode.offsetHeight / 2;
                }

                if (left < 0) {
                    left = 0;
                }

                if (top < 0) {
                    top = 0;
                }

                return [left, top];
            }

            /**
             * Returns true if the widget is visible, false otherwise
             *
             * @instance
             * @memberof WidgetPosition
             * @method isVisible
             * @return {Boolean} True if the widget is visible, false otherwise
             */

        }, {
            key: 'isVisible',
            value: function isVisible() {
                var domNode = _reactDom2.default.findDOMNode(this);

                if (domNode) {
                    var domElement = new CKEDITOR.dom.element(domNode);

                    return domElement.hasClass('alloy-editor-visible');
                }
<<<<<<< HEAD
=======
            }
            return false;
        },
        show: function show(el) {
            var uiNode = this.editor.config.uiNode;

            var scrollTop = uiNode ? uiNode.scrollTop : 0;

            this.el = el;
            if (this.cfg.snapToSize) {
                this.otherImages = toArray(this.document.getElementsByTagName('img'));
                this.otherImages.splice(this.otherImages.indexOf(el), 1);
            }
            var box = this.box = getBoundingBox(this.window, el);
            positionElement(this.container, box.left, box.top + scrollTop);

            uiNode = uiNode || document.body;

            uiNode.appendChild(this.container);

            this.el.classList.add('ckimgrsz');
            this.showHandles();
        },
        hide: function hide() {
            // Remove class from all img.ckimgrsz
            var elements = this.document.getElementsByClassName('ckimgrsz');
            for (var i = 0; i < elements.length; ++i) {
                elements[i].classList.remove('ckimgrsz');
            }
            this.hideHandles();
            if (this.container.parentNode) {
                this.container.parentNode.removeChild(this.container);
            }
        },
        initDrag: function initDrag(e) {
            if (e.button !== 0) {
                //right-click or middle-click
                return;
            }
            var resizer = this;
            var drag = new DragEvent(this.window, this.document);
            drag.onStart = function () {
                resizer.showPreview();
                resizer.isDragging = true;
                resizer.editor.getSelection().lock();
            };
            drag.onDrag = function () {
                resizer.calculateSize(this);
                resizer.updatePreview();
                var box = resizer.previewBox;
                resizer.updateHandles(box, box.left, box.top);
            };
            drag.onRelease = function () {
                resizer.isDragging = false;
                resizer.hidePreview();
                resizer.hide();
                resizer.editor.getSelection().unlock();
                // Save an undo snapshot before the image is permanently changed
                resizer.editor.fire('saveSnapshot');
            };
            drag.onComplete = function () {
                resizer.resizeComplete();
                // Save another snapshot after the image is changed
                resizer.editor.fire('saveSnapshot');
            };
            drag.start(e);
        },
        updateHandles: function updateHandles(box, left, top) {
            left = left || 0;
            top = top || 0;
            var handles = this.handles;
>>>>>>> 4e8e54e6... Build files (auto-generated)

                return false;
            }

            /**
             * Moves a widget from a starting point to a destination point.
             *
             * @instance
             * @memberof WidgetPosition
             * @method moveToPoint
             * @param  {Object} startPoint The starting point for the movement.
             * @param  {Object} endPoint The destination point for the movement.
             */

        }, {
            key: 'moveToPoint',
            value: function moveToPoint(startPoint, endPoint) {
                var domElement = new CKEDITOR.dom.element(_reactDom2.default.findDOMNode(this));

                domElement.setStyles({
                    left: startPoint[0] + 'px',
                    top: startPoint[1] + 'px',
                    opacity: 0
                });

                domElement.removeClass('alloy-editor-invisible');

                this._animate(function () {
                    domElement.addClass('ae-toolbar-transition');
                    domElement.addClass('alloy-editor-visible');
                    domElement.setStyles({
                        left: endPoint[0] + 'px',
                        top: endPoint[1] + 'px',
                        opacity: 1
                    });
                });
            }

            /**
             * Shows the widget with the default animation transition.
             *
             * @instance
             * @memberof WidgetPosition
             * @method show
             */

        }, {
            key: 'show',
            value: function show() {
                var domNode = _reactDom2.default.findDOMNode(this);

                if (!this.isVisible() && domNode) {
                    var interactionPoint = this.getInteractionPoint();

                    if (interactionPoint) {
                        var domElement = new CKEDITOR.dom.element(domNode);

                        var finalX, finalY, initialX, initialY;

                        finalX = initialX = parseFloat(domElement.getStyle('left'));
                        finalY = initialY = parseFloat(domElement.getStyle('top'));

                        if (this.props.constrainToViewport) {
                            var res = this.getConstrainedPosition({
                                height: parseFloat(domNode.offsetHeight),
                                left: finalX,
                                top: finalY,
                                width: parseFloat(domNode.offsetWidth)
                            });

                            finalX = res.x;
                            finalY = res.y;
                        }

                        if (interactionPoint.direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
                            initialY = this.props.selectionData.region.bottom;
                        } else {
                            initialY = this.props.selectionData.region.top;
                        }

                        this.moveToPoint([initialX, initialY], [finalX, finalY]);
                    }
                }
            }

            /**
             * Updates the widget position based on the current interaction point.
             *
             * @instance
             * @memberof WidgetPosition
             * @method updatePosition
             */

        }, {
            key: 'updatePosition',
            value: function updatePosition() {
                var interactionPoint = this.getInteractionPoint();

                var domNode = _reactDom2.default.findDOMNode(this);

                if (interactionPoint && domNode) {
                    var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);

                    new CKEDITOR.dom.element(domNode).setStyles({
                        left: xy[0] + 'px',
                        top: xy[1] + 'px'
                    });
                }
            }

            /**
             * Requests an animation frame, if possible, to simulate an animation.
             *
             * @instance
             * @memberof WidgetPosition
             * @method _animate
             * @param {Function} callback The function to be executed on the scheduled frame.
             * @protected
             */

        }, {
            key: '_animate',
            value: function _animate(callback) {
                if (window.requestAnimationFrame) {
                    this._animationFrameId = window.requestAnimationFrame(callback);
                } else {
                    callback();
                }
            }
        }]);

        return _class;
    }(WrappedComponent), _class.defaultProps = _extends({}, WrappedComponent.defaultProps, {
        gutter: {
            left: 0,
            top: 10
        },
        constrainToViewport: true }), _temp;
};

/***/ }),

/***/ "./src/components/buttons/button-bold.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-bold.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonBold class provides functionality for styling an selection with strong (bold) style.
 *
 * @class ButtonBold
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonBold = function (_React$Component) {
    _inherits(ButtonBold, _React$Component);

    function ButtonBold() {
        _classCallCheck(this, ButtonBold);

        return _possibleConstructorReturn(this, (ButtonBold.__proto__ || Object.getPrototypeOf(ButtonBold)).apply(this, arguments));
    }

    _createClass(ButtonBold, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonBold
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.bold, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-bold', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.bold },
                _react2.default.createElement('span', { className: 'ae-icon-bold' })
            );
        }
    }]);

    return ButtonBold;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default bold
 * @memberof ButtonBold
 * @property {String} key
 * @static
 */


ButtonBold.key = 'bold';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonBold
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonBold.defaultProps = {
    command: 'bold',
    keystroke: {
        fn: 'execCommand',
        keys: CKEDITOR.CTRL + 66 /*B*/
    },
    style: 'coreStyles_bold'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonBold))));

/***/ }),

/***/ "./src/components/buttons/button-camera-image.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-camera-image.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCameraImage class takes photo from camera and inserts it to the content.
 *
 * @class ButtonCameraImage
 */
var ButtonCameraImage = function (_React$Component) {
    _inherits(ButtonCameraImage, _React$Component);

    function ButtonCameraImage() {
        _classCallCheck(this, ButtonCameraImage);

        return _possibleConstructorReturn(this, (ButtonCameraImage.__proto__ || Object.getPrototypeOf(ButtonCameraImage)).apply(this, arguments));
    }

    _createClass(ButtonCameraImage, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * Focuses the take photo button.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this.refs.buttonTakePhoto).focus();
        }

        /**
         * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method componentWillUnmount
         */

    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            if (this._stream) {
                if (this._stream.stop) {
                    this._stream.stop();
                } else if (this._stream.getVideoTracks) {
                    this._stream.getVideoTracks().forEach(function (track) {
                        track.stop();
                    });
                }
                this._stream = null;
            }
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;

            getUserMedia.call(navigator, {
                video: true,
                audio: false
            }, this._handleStreamSuccess.bind(this), this._handleStreamError.bind(this));

            return _react2.default.createElement(
                'div',
                { className: 'ae-camera' },
                _react2.default.createElement(
                    'video',
                    { ref: 'videoContainer' },
                    'Video stream not available.'
                ),
                _react2.default.createElement(
                    'button',
                    { className: 'ae-camera-shoot', onClick: this.takePhoto.bind(this), ref: 'buttonTakePhoto' },
                    'Take photo'
                ),
                _react2.default.createElement('canvas', { className: 'ae-camera-canvas', ref: 'canvasContainer' })
            );
        }

        /**
         * Takes photo from the video stream and inserts in into editor's content.
         *
         * @fires ButtonCameraImage#imageCameraAdd
         * @instance
         * @memberof ButtonCameraImage
         * @method takePhoto
         */

    }, {
        key: 'takePhoto',
        value: function takePhoto() {
            var videoEl = _reactDom2.default.findDOMNode(this.refs.videoContainer);
            var canvasEl = _reactDom2.default.findDOMNode(this.refs.canvasContainer);

            var context = canvasEl.getContext('2d');

            var height = this._videoHeight;
            var width = this.props.videoWidth;

            if (width && height) {
                canvasEl.width = width;
                canvasEl.height = height;

                context.drawImage(videoEl, 0, 0, width, height);

                var imgURL = canvasEl.toDataURL('image/png');

                var el = CKEDITOR.dom.element.createFromHtml('<img src="' + imgURL + '">');

                var editor = this.props.editor.get('nativeEditor');

                editor.insertElement(el);

                this.props.cancelExclusive();

                editor.fire('actionPerformed', this);

                editor.fire('imageCameraAdd', el);
            }
        }

        /**
         * Displays error message in case of video stream capturing failure.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method _handleStreamError
         * @param {Event} error The fired event in case of error.
         * @protected
         */

    }, {
        key: '_handleStreamError',
        value: function _handleStreamError(error) {
            window.alert('An error occurred! ' + error);
        }

        /**
         * Starts streaming video in the video element and sets width/height to the video
         * and canvas elements.
         *
         * @instance
         * @memberof ButtonCameraImage
         * @method _handleStreamSuccess
         * @param {Object} stream The video stream
         * @protected
         */

    }, {
        key: '_handleStreamSuccess',
        value: function _handleStreamSuccess(stream) {
            var videoEl = _reactDom2.default.findDOMNode(this.refs.videoContainer);
            var canvasEl = _reactDom2.default.findDOMNode(this.refs.canvasContainer);

            videoEl.addEventListener('canplay', function (event) {
                var height = videoEl.videoHeight / (videoEl.videoWidth / this.props.videoWidth);

                if (isNaN(height)) {
                    height = this.props.videoWidth / (4 / 3);
                }

                videoEl.setAttribute('width', this.props.videoWidth);
                videoEl.setAttribute('height', height);
                canvasEl.setAttribute('width', this.props.videoWidth);
                canvasEl.setAttribute('height', height);

                this._videoHeight = height;
            }.bind(this), false);

            this._stream = stream;

            if (navigator.mozGetUserMedia) {
                videoEl.mozSrcObject = stream;
            } else {
                videoEl.src = (window.URL || window.webkitURL).createObjectURL(stream);
            }

            videoEl.play();

            _reactDom2.default.findDOMNode(this.refs.buttonTakePhoto).disabled = false;
        }

        /**
         * Fired when an image is being taken from the camera and added as an element to the editor.
         *
         * @event ButtonCameraImage#imageCameraAdd
         * @memberof ButtonCameraImage
         * @param {CKEDITOR.dom.element} el The created img element in editor.
         */

    }]);

    return ButtonCameraImage;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default cameraImage
 * @memberof ButtonCameraImage
 * @property {String} key
 * @static
 */


ButtonCameraImage.key = 'cameraImage';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonCameraImage
 * @method getDefaultProps
 */
ButtonCameraImage.defaultProps = {
    videoWidth: 320
};

exports.default = ButtonCameraImage;

/***/ }),

/***/ "./src/components/buttons/button-camera.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-camera.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCameraImage = __webpack_require__(/*! ./button-camera-image.jsx */ "./src/components/buttons/button-camera-image.jsx");

var _buttonCameraImage2 = _interopRequireDefault(_buttonCameraImage);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCamera class renders in two different ways:
 *
 * - Normal: Just a button that allows to switch to the edition mode.
 * - Exclusive: Renders ButtonCameraImage in order to take photo from the camera.
 *
 * @class ButtonCamera
 */
var ButtonCamera = function (_React$Component) {
    _inherits(ButtonCamera, _React$Component);

    function ButtonCamera() {
        _classCallCheck(this, ButtonCamera);

        return _possibleConstructorReturn(this, (ButtonCamera.__proto__ || Object.getPrototypeOf(ButtonCamera)).apply(this, arguments));
    }

    _createClass(ButtonCamera, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCamera
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.renderExclusive) {
                return _react2.default.createElement(_buttonCameraImage2.default, this.props);
            } else {
                var disabled = !(navigator.getUserMedia || navigator.webkitGetUserMedia && location.protocol === 'https' || navigator.mozGetUserMedia || navigator.msGetUserMedia);

                var label = disabled ? AlloyEditor.Strings.cameraDisabled : AlloyEditor.Strings.camera;

                return _react2.default.createElement(
                    'button',
                    { 'aria-label': label, className: 'ae-button', 'data-type': 'button-image-camera', disabled: disabled, onClick: this.props.requestExclusive.bind(ButtonCamera.key), tabIndex: this.props.tabIndex, title: label },
                    _react2.default.createElement('span', { className: 'ae-icon-camera' })
                );
            }
        }
    }]);

    return ButtonCamera;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default camera
 * @memberof ButtonCamera
 * @property {String} key
 * @static
 */


<<<<<<< HEAD
ButtonCamera.key = 'camera';
=======
            delete attrsHolder.attributes.contenteditable;

            delete attrsHolder.attributes.contenteditable;

            var attrs = attrsHolder.attributes;
>>>>>>> 6aa8bc0d... Build files (auto-generated)

exports.default = ButtonCamera;

/***/ }),

/***/ "./src/components/buttons/button-code.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-code.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCode class provides wraps a selection in `pre` element.
 *
 * @class ButtonCode
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonCode = function (_React$Component) {
    _inherits(ButtonCode, _React$Component);

    function ButtonCode() {
        _classCallCheck(this, ButtonCode);

        return _possibleConstructorReturn(this, (ButtonCode.__proto__ || Object.getPrototypeOf(ButtonCode)).apply(this, arguments));
    }

    _createClass(ButtonCode, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCode
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.code, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-code', onClick: this.applyStyle.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.code },
                _react2.default.createElement('span', { className: 'ae-icon-code' })
            );
        }
    }]);

    return ButtonCode;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default code
 * @memberof ButtonCode
 * @property {String} key
 * @static
 */


ButtonCode.key = 'code';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonCode
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonCode.defaultProps = {
    style: {
        element: 'pre'
    }
};

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonCode)));

/***/ }),

/***/ "./src/components/buttons/button-command-list-item.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-command-list-item.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonCommandListItem class is a UI class that renders a ButtonCommand that can be used inside
 * a list as an item, with a string representation of its behaviour.
 *
 * @class ButtonCommandListItem
 * @uses ButtonCommand
 */
var ButtonCommandListItem = function (_React$Component) {
    _inherits(ButtonCommandListItem, _React$Component);

    function ButtonCommandListItem() {
        _classCallCheck(this, ButtonCommandListItem);

        return _possibleConstructorReturn(this, (ButtonCommandListItem.__proto__ || Object.getPrototypeOf(ButtonCommandListItem)).apply(this, arguments));
    }

    _createClass(ButtonCommandListItem, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonCommandListItem
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'button',
                { 'aria-label': this.props.description, className: this._getClassName(), onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex },
                this.props.description
            );
        }

        /**
         * Returns the class name of Widget.
         *
         * @instance
         * @memberof ButtonCommandListItem
         * @method _getClassName
         * @protected
         * @return {String} The class name of the Widget.
         */

    }, {
        key: '_getClassName',
        value: function _getClassName() {
            var className = 'ae-toolbar-element';

            if (this.props.icon) {
                className += ' ae-icon-' + this.props.icon;
            }

            return className;
        }
    }]);

    return ButtonCommandListItem;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonCommandListItem
 * @memberof ButtonCommandListItem
 * @property {String} key
 * @static
 */


ButtonCommandListItem.key = 'buttonCommandListItem';

exports.default = (0, _buttonCommand2.default)(ButtonCommandListItem);

/***/ }),

/***/ "./src/components/buttons/button-commands-list.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-commands-list.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandListItem = __webpack_require__(/*! ./button-command-list-item.jsx */ "./src/components/buttons/button-command-list-item.jsx");

var _buttonCommandListItem2 = _interopRequireDefault(_buttonCommandListItem);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

<<<<<<< HEAD
/**
 * The ButtonCommandsList class provides functionality for showing a list of commands that can be
 * executed to the current selection..
 *
 * @class ButtonCommandsList
 * @uses WidgetFocusManager
 */
var ButtonCommandsList = function (_React$Component) {
    _inherits(ButtonCommandsList, _React$Component);

    function ButtonCommandsList() {
        _classCallCheck(this, ButtonCommandsList);

        return _possibleConstructorReturn(this, (ButtonCommandsList.__proto__ || Object.getPrototypeOf(ButtonCommandsList)).apply(this, arguments));
=======
        widget.parts.image.on('click', function () {
            var selection = editor.getSelection();

            if (selection) {
                var element = selection.getStartElement();

                if (element) {
                    var widgetElement = element.findOne('img');

                    if (widgetElement) {
                        var region = element.getClientRect();

                        var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
                        region.left -= scrollPosition.x;
                        region.top += scrollPosition.y;

                        region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

                        editor.fire('editorInteraction', {
                            nativeEvent: event,
                            selectionData: {
                                element: widgetElement,
                                region: region
                            }
                        });
                    }
                }
            }
        });
>>>>>>> 126f2ec4... Build files (auto-generated)
    }

    _createClass(ButtonCommandsList, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * Focuses on the list node to allow keyboard interaction.
         *
         * @instance
         * @memberof ButtonCommandsList
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this).focus();
        }

        /**
         * Lifecycle. Renders the UI of the list.
         *
         * @instance
         * @memberof ButtonCommandsList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'ae-dropdown ae-arrow-box ae-arrow-box-top-left', onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), tabIndex: '0' },
                _react2.default.createElement(
                    'ul',
                    { className: 'ae-listbox', id: this.props.listId, role: 'listbox' },
                    this._renderActions(this.props.commands)
                )
            );
        }

        /**
         * Renders instances of ButtonCommandListItem with the description of the row action that will be executed.
         *
         * @instance
         * @memberof ButtonCommandsList
         * @method _renderActions
         * @protected
         * @return {Array} Rendered instances of ButtonCommandListItem class
         */

    }, {
        key: '_renderActions',
        value: function _renderActions(commands) {
            var editor = this.props.editor;
            var items;

            if (commands && commands.length) {
                items = commands.map(function (item) {
                    return _react2.default.createElement(
                        'li',
                        { key: item.command, role: 'option' },
                        _react2.default.createElement(_buttonCommandListItem2.default, { command: item.command, description: typeof item.label === 'string' ? item.label : item.label(), editor: editor })
                    );
                });
            }

            return items;
        }
    }]);

    return ButtonCommandsList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonCommandsList
 * @memberof ButtonCommandsList
 * @property {String} key
 * @static
 */


ButtonCommandsList.key = 'buttonCommandsList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonCommandsList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonCommandsList.defaultProps = {
    circular: false,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonCommandsList);

/***/ }),

/***/ "./src/components/buttons/button-dropdown.jsx":
/*!****************************************************!*\
  !*** ./src/components/buttons/button-dropdown.jsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonDropdown class provides markup and keyboard navigation behaviour to a dropdown
 * opened from a button.
 *
 * @class ButtonDropdown
 */
var ButtonDropdown = function (_React$Component) {
    _inherits(ButtonDropdown, _React$Component);

    function ButtonDropdown() {
        _classCallCheck(this, ButtonDropdown);

        return _possibleConstructorReturn(this, (ButtonDropdown.__proto__ || Object.getPrototypeOf(ButtonDropdown)).apply(this, arguments));
    }

    _createClass(ButtonDropdown, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonDropdown
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'div',
                { className: 'ae-dropdown ae-arrow-box ae-arrow-box-top-left', onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), tabIndex: '0' },
                _react2.default.createElement(
                    'ul',
                    { className: 'ae-listbox', role: 'listbox' },
                    this.props.children
                )
            );
        }
    }]);

    return ButtonDropdown;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the dropdown in the configuration.
 *
 * @default dropdown
 * @memberof ButtonDropdown
 * @property {String} key
 * @static
 */


ButtonDropdown.key = 'dropdown';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonDropdown
 * @method getDefaultProps
 */
ButtonDropdown.defaultProps = {
    circular: false,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonDropdown);

/***/ }),

/***/ "./src/components/buttons/button-embed-edit.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-embed-edit.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var KEY_ENTER = 13;
var KEY_ESC = 27;

/**
 * The ButtonEmbedEdit class provides functionality for creating and editing an embed link in a document.
 * Provides UI for creating and editing an embed link.
 *
 * @class ButtonEmbedEdit
 */

var ButtonEmbedEdit = function (_React$Component) {
    _inherits(ButtonEmbedEdit, _React$Component);

    function ButtonEmbedEdit(props) {
        _classCallCheck(this, ButtonEmbedEdit);

        var _this = _possibleConstructorReturn(this, (ButtonEmbedEdit.__proto__ || Object.getPrototypeOf(ButtonEmbedEdit)).call(this, props));

        _this.linkInput = _react2.default.createRef();
        _this.state = _this.getInitialState();
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
     *
     * Focuses on the link input to immediately allow editing. This should only happen if the component
     * is rendered in exclusive mode to prevent aggressive focus stealing.
     *
     * @instance
     * @memberof ButtonEmbedEdit
     * @method componentDidMount
     */


    _createClass(ButtonEmbedEdit, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (this.props.renderExclusive || this.props.manualSelection) {
                // We need to wait for the next rendering cycle before focusing to avoid undesired
                // scrolls on the page
                if (window.requestAnimationFrame) {
                    window.requestAnimationFrame(this._focusLinkInput.bind(this));
                } else {
                    setTimeout(this._focusLinkInput.bind(this), 0);
                }
            }
        }

        /**
         * Lifecycle. Invoked when a component is receiving new props.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method componentWillReceiveProps
         */

    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps() {
            this.setState(this.getInitialState());
        }

        /**
         * Lifecycle. Invoked once before the component is mounted.
         * The return value will be used as the initial value of this.state.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method getInitialState
         */

    }, {
        key: 'getInitialState',
        value: function getInitialState() {
            var editor = this.props.editor.get('nativeEditor');
            var embed;

            var selection = editor.getSelection();

            if (selection) {
                var selectedElement = selection.getSelectedElement();

                if (selectedElement) {
                    embed = selectedElement.findOne('[data-widget="ae_embed"]');
                }
            }

            var href = embed ? embed.getAttribute('data-ae-embed-url') : '';

            return {
                element: embed,
                initialLink: {
                    href: href
                },
                linkHref: href
            };
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var clearLinkStyle = {
                opacity: this.state.linkHref ? 1 : 0
            };

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-link' },
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.deleteEmbed, className: 'ae-button', 'data-type': 'button-embed-remove', disabled: !this.state.element, onClick: this._removeEmbed.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.deleteEmbed },
                    _react2.default.createElement('span', { className: 'ae-icon-bin' })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input xxl' },
                    _react2.default.createElement('input', { className: 'ae-input', onChange: this._handleLinkHrefChange.bind(this), onKeyDown: this._handleKeyDown.bind(this), placeholder: AlloyEditor.Strings.editLink, ref: this.linkInput, type: 'text', value: this.state.linkHref }),
                    _react2.default.createElement('button', { 'aria-label': AlloyEditor.Strings.clearInput, className: 'ae-button ae-icon-remove', onClick: this._clearLink.bind(this), style: clearLinkStyle, title: AlloyEditor.Strings.clear })
                ),
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.confirm, className: 'ae-button', disabled: !this._isValidState(), onClick: this._embedLink.bind(this), title: AlloyEditor.Strings.confirm },
                    _react2.default.createElement('span', { className: 'ae-icon-ok' })
                )
            );
        }

        /**
         * Clears the link input. This only changes the component internal state, but does not
         * affect the link element of the editor. Only the _removeLink and _updateLink methods
         * are translated to the editor element.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _clearLink
         * @protected
         */

    }, {
        key: '_clearLink',
        value: function _clearLink() {
            this.setState({
                linkHref: ''
            });
        }

        /**
         * Triggers the embedUrl command to transform the link into an embed media object
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _embedLink
         * @protected
         */

    }, {
        key: '_embedLink',
        value: function _embedLink() {
            var nativeEditor = this.props.editor.get('nativeEditor');

            nativeEditor.execCommand('embedUrl', {
                url: this.state.linkHref
            });

            // We need to cancelExclusive with the bound parameters in case the button is used
            // inside another in exclusive mode (such is the case of the link button)
            this.props.cancelExclusive();
        }

        /**
         * Focuses the user cursor on the widget's input.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _focusLinkInput
         * @protected
         */

    }, {
        key: '_focusLinkInput',
        value: function _focusLinkInput() {
            this.linkInput.current.focus();
        }

        /**
         * Monitors key interaction inside the input element to respond to the keys:
         * - Enter: Creates/updates the link.
         * - Escape: Discards the changes.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _handleKeyDown
         * @param {SyntheticEvent} event The keyboard event.
         * @protected
         */

    }, {
        key: '_handleKeyDown',
        value: function _handleKeyDown(event) {
            if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
                event.preventDefault();
            }

            if (event.keyCode === KEY_ENTER) {
                this._embedLink();
            } else if (event.keyCode === KEY_ESC) {
                var editor = this.props.editor.get('nativeEditor');

                // We need to cancelExclusive with the bound parameters in case the button is used
                // inside another in exclusive mode (such is the case of the link button)
                this.props.cancelExclusive();

                editor.fire('actionPerformed', this);
            }
        }

        /**
         * Updates the component state when the link input changes on user interaction.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _handleLinkHrefChange
         * @param {SyntheticEvent} event The change event.
         * @protected
         */

    }, {
        key: '_handleLinkHrefChange',
        value: function _handleLinkHrefChange(event) {
            this.setState({
                linkHref: event.target.value
            });
        }

        /**
         * Verifies that the current link state is valid so the user can save the link. A valid state
         * means that we have a non-empty href that's different from the original one.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _isValidState
         * @protected
         * @return {Boolean} True if the state is valid, false otherwise
         */

    }, {
        key: '_isValidState',
        value: function _isValidState() {
            var validState = this.state.linkHref && this.state.linkHref !== this.state.initialLink.href;

            return validState;
        }

        /**
         * Removes the embed in the editor element.
         *
         * @instance
         * @memberof ButtonEmbedEdit
         * @method _removeEmbed
         * @protected
         */

    }, {
        key: '_removeEmbed',
        value: function _removeEmbed() {
            var editor = this.props.editor.get('nativeEditor');

            var embedWrapper = this.state.element.getAscendant(function (element) {
                return element.hasClass('cke_widget_wrapper');
            });

            embedWrapper.remove();

            editor.fire('actionPerformed', this);
        }
    }]);

    return ButtonEmbedEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default embedEdit
 * @memberof ButtonEmbedEdit
 * @property {String} key
 * @static
 */


ButtonEmbedEdit.key = 'embedEdit';

exports.default = ButtonEmbedEdit;

/***/ }),

/***/ "./src/components/buttons/button-embed.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-embed.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonEmbedEdit = __webpack_require__(/*! ./button-embed-edit.jsx */ "./src/components/buttons/button-embed-edit.jsx");

var _buttonEmbedEdit2 = _interopRequireDefault(_buttonEmbedEdit);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonEmbed class provides functionality for creating and editing an embed link in a document.
 * ButtonEmbed renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonEmbedEdit UI with all the link edition controls.
 *
 * @class ButtonEmbed
 * @uses ButtonKeystroke
 */
var ButtonEmbed = function (_React$Component) {
    _inherits(ButtonEmbed, _React$Component);

    function ButtonEmbed() {
        _classCallCheck(this, ButtonEmbed);

        return _possibleConstructorReturn(this, (ButtonEmbed.__proto__ || Object.getPrototypeOf(ButtonEmbed)).apply(this, arguments));
    }

    _createClass(ButtonEmbed, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonEmbed
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.renderExclusive) {
                return _react2.default.createElement(_buttonEmbedEdit2.default, this.props);
            } else {
                return _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.link, className: 'ae-button', 'data-type': 'button-embed', onClick: this._requestExclusive.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.link },
                    _react2.default.createElement('span', { className: 'ae-icon-add' })
                );
            }
        }

        /**
         * Requests the link button to be rendered in exclusive mode to allow the embedding of a link.
         *
         * @instance
         * @memberof ButtonEmbed
         * @method _requestExclusive
         * @protected
         */

    }, {
        key: '_requestExclusive',
        value: function _requestExclusive() {
            this.props.requestExclusive(ButtonEmbed.key);
        }
    }]);

    return ButtonEmbed;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default embed
 * @memberof ButtonEmbed
 * @property {String} key
 * @static
 */


ButtonEmbed.key = 'embed';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonEmbed
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonEmbed.defaultProps = {
    keystroke: {
        fn: '_requestExclusive',
        keys: CKEDITOR.CTRL + CKEDITOR.SHIFT + 76 /*L*/
    }
};

exports.default = (0, _buttonKeystroke2.default)(ButtonEmbed);

/***/ }),

/***/ "./src/components/buttons/button-h1.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-h1.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonH1 class provides wraps a selection in `h1` element.
 *
 * @class ButtonH1
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonH1 = function (_React$Component) {
    _inherits(ButtonH1, _React$Component);

    function ButtonH1() {
        _classCallCheck(this, ButtonH1);

        return _possibleConstructorReturn(this, (ButtonH1.__proto__ || Object.getPrototypeOf(ButtonH1)).apply(this, arguments));
    }

    _createClass(ButtonH1, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonH1
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.h1, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-h1', onClick: this.applyStyle.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.h1 },
                _react2.default.createElement('span', { className: 'ae-icon-h1' })
            );
        }
    }]);

    return ButtonH1;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default h1
 * @memberof ButtonH1
 * @property {String} key
 * @static
 */


ButtonH1.key = 'h1';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonH1
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonH1.defaultProps = {
    style: {
        element: 'h1'
    }
};

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonH1)));

/***/ }),

/***/ "./src/components/buttons/button-h2.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-h2.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonH2 class provides wraps a selection in `h2` element.
 *
 * @class ButtonH2
 * @uses ButtonActionStyle
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonH2 = function (_React$Component) {
    _inherits(ButtonH2, _React$Component);

    function ButtonH2() {
        _classCallCheck(this, ButtonH2);

        return _possibleConstructorReturn(this, (ButtonH2.__proto__ || Object.getPrototypeOf(ButtonH2)).apply(this, arguments));
    }

    _createClass(ButtonH2, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonH2
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.h2, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-h2', onClick: this.applyStyle.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.h2 },
                _react2.default.createElement('span', { className: 'ae-icon-h2' })
            );
        }
    }]);

    return ButtonH2;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default h2
 * @memberof ButtonH2
 * @property {String} key
 * @static
 */


ButtonH2.key = 'h2';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonH2
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonH2.defaultProps = {
    style: {
        element: 'h2'
    }
};

exports.default = (0, _buttonActionStyle2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonH2)));

/***/ }),

/***/ "./src/components/buttons/button-hline.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-hline.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonHline class provides inserts horizontal line.
 *
 * @class ButtonHline
 * @uses ButtonCommand
 * @uses ButtonStyle
 */
var ButtonHline = function (_React$Component) {
    _inherits(ButtonHline, _React$Component);

    function ButtonHline() {
        _classCallCheck(this, ButtonHline);

        return _possibleConstructorReturn(this, (ButtonHline.__proto__ || Object.getPrototypeOf(ButtonHline)).apply(this, arguments));
    }

    _createClass(ButtonHline, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonHline
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.horizontalrule, className: 'ae-button', 'data-type': 'button-hline', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.horizontalrule },
                _react2.default.createElement('span', { className: 'ae-icon-separator' })
            );
        }
    }]);

    return ButtonHline;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default hline
 * @memberof ButtonHline
 * @property {String} key
 * @static
 */


ButtonHline.key = 'hline';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonHline
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonHline.defaultProps = {
    command: 'horizontalrule',
    style: {
        element: 'hr'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStyle2.default)(ButtonHline));

/***/ }),

/***/ "./src/components/buttons/button-image-align-center.jsx":
/*!**************************************************************!*\
  !*** ./src/components/buttons/button-image-align-center.jsx ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImageAlignCenter class provides functionality for aligning an image in the center.
 *
 * @class ButtonImageAlignCenter
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignCenter = function (_React$Component) {
    _inherits(ButtonImageAlignCenter, _React$Component);

    function ButtonImageAlignCenter() {
        _classCallCheck(this, ButtonImageAlignCenter);

        return _possibleConstructorReturn(this, (ButtonImageAlignCenter.__proto__ || Object.getPrototypeOf(ButtonImageAlignCenter)).apply(this, arguments));
    }

    _createClass(ButtonImageAlignCenter, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonImageAlignCenter
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignCenter, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-image-align-center', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignCenter },
                _react2.default.createElement('span', { className: 'ae-icon-align-center' })
            );
        }
    }]);

    return ButtonImageAlignCenter;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default imageCenter
 * @memberof ButtonImageAlignCenter
 * @property {String} key
 * @static
 */


ButtonImageAlignCenter.key = 'imageCenter';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonImageAlignCenter
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonImageAlignCenter.defaultProps = {
    command: 'justifycenter'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignCenter)));

/***/ }),

/***/ "./src/components/buttons/button-image-align-left.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-image-align-left.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImageAlignLeft class provides functionality for aligning an image on left.
 *
 * @class ButtonImageAlignLeft
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignLeft = function (_React$Component) {
    _inherits(ButtonImageAlignLeft, _React$Component);

    function ButtonImageAlignLeft() {
        _classCallCheck(this, ButtonImageAlignLeft);

        return _possibleConstructorReturn(this, (ButtonImageAlignLeft.__proto__ || Object.getPrototypeOf(ButtonImageAlignLeft)).apply(this, arguments));
    }

    _createClass(ButtonImageAlignLeft, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonImageAlignLeft
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignLeft, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-image-align-left', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignLeft },
                _react2.default.createElement('span', { className: 'ae-icon-align-left' })
            );
        }
    }]);

    return ButtonImageAlignLeft;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default imageLeft
 * @memberof ButtonImageAlignLeft
 * @property {String} key
 * @static
 */


ButtonImageAlignLeft.key = 'imageLeft';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonImageAlignLeft
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonImageAlignLeft.defaultProps = {
    command: 'justifyleft'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignLeft)));

/***/ }),

/***/ "./src/components/buttons/button-image-align-right.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-image-align-right.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImageAlignRight class provides functionality for aligning an image on right.
 *
 * @class ButtonImageAlignRight
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonImageAlignRight = function (_React$Component) {
    _inherits(ButtonImageAlignRight, _React$Component);

    function ButtonImageAlignRight() {
        _classCallCheck(this, ButtonImageAlignRight);

        return _possibleConstructorReturn(this, (ButtonImageAlignRight.__proto__ || Object.getPrototypeOf(ButtonImageAlignRight)).apply(this, arguments));
    }

    _createClass(ButtonImageAlignRight, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonImageAlignRight
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignRight, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-image-align-right', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignRight },
                _react2.default.createElement('span', { className: 'ae-icon-align-right' })
            );
        }
    }]);

    return ButtonImageAlignRight;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default imageRight
 * @memberof ButtonImageAlignRight
 * @property {String} key
 * @static
 */


ButtonImageAlignRight.key = 'imageRight';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonImageAlignRight
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonImageAlignRight.defaultProps = {
    command: 'justifyright'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonImageAlignRight)));

/***/ }),

/***/ "./src/components/buttons/button-image.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-image.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonImage class inserts an image to the content.
 *
 * @class ButtonImage
 */
var ButtonImage = function (_React$Component) {
    _inherits(ButtonImage, _React$Component);

    function ButtonImage(props) {
        _classCallCheck(this, ButtonImage);

        var _this = _possibleConstructorReturn(this, (ButtonImage.__proto__ || Object.getPrototypeOf(ButtonImage)).call(this, props));

        _this.fileInput = _react2.default.createRef();
        return _this;
    }

    /**
     * Lifecycle. Renders the UI of the button.
     *
     * @instance
     * @memberof ButtonImage
     * @method render
     * @return {Object} The content which should be rendered.
     */


    _createClass(ButtonImage, [{
        key: 'render',
        value: function render() {
            var inputSyle = { display: 'none' };

            return _react2.default.createElement(
                'div',
                null,
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.image, className: 'ae-button', 'data-type': 'button-image', onClick: this.handleClick.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.image },
                    _react2.default.createElement('span', { className: 'ae-icon-image' })
                ),
                _react2.default.createElement('input', { accept: 'image/*', onChange: this._onInputChange.bind(this), ref: this.fileInput, style: inputSyle, type: 'file' })
            );
        }

        /**
         * Simulates click on the input element. This will open browser's native file open dialog.
         *
         * @instance
         * @memberof ButtonImage
         * @method handleClick
         * @param {SyntheticEvent} event The received click event on the button.
         */

    }, {
        key: 'handleClick',
        value: function handleClick() {
            this.fileInput.current.click();
        }

        /**
         * On input change, reads the chosen file and fires an event `beforeImageAdd` with the image which will be added
         * to the content. The image file will be passed in the `imageFiles` property.
         * If any of the listeners returns `false` or cancels the event, the image won't be added to the content.
         * Otherwise, an event `imageAdd` will be fired with the inserted element into the editable area.
         * The passed params will be:
         * - `el` - the created img element
         * - `file` - the original image file from the input element
         *
         * @fires ButtonImage#beforeImageAdd
         * @fires ButtonImage#imageAdd
         * @instance
         * @memberof ButtonImage
         * @method _onInputChange
         * @protected
         */

    }, {
        key: '_onInputChange',
        value: function _onInputChange() {
            var inputEl = this.fileInput.current;

            // On IE11 the function might be called with an empty array of
            // files. In such a case, no actions will be taken.
            if (!inputEl.files.length) {
                return;
            }

            var reader = new FileReader();
            var file = inputEl.files[0];

            reader.onload = function (event) {
                var editor = this.props.editor.get('nativeEditor');

                var result = editor.fire('beforeImageAdd', {
                    imageFiles: file
                });

                if (!!result) {
                    var el = CKEDITOR.dom.element.createFromHtml('<img src="' + event.target.result + '">');

                    editor.insertElement(el);

                    editor.fire('actionPerformed', this);

                    var imageData = {
                        el: el,
                        file: file
                    };

                    editor.fire('imageAdd', imageData);
                }
            }.bind(this);

            reader.readAsDataURL(file);

            inputEl.value = '';
        }
    }]);

    return ButtonImage;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default image
 * @memberof ButtonImage
 * @property {String} key
 * @static
 */


ButtonImage.key = 'image';

exports.default = ButtonImage;

/***/ }),

/***/ "./src/components/buttons/button-indent-block.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-indent-block.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonIndentBlock class provides functionality for indenting the selected blocks.
 *
 * @class ButtonIndentBlock
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonIndentBlock = function (_React$Component) {
    _inherits(ButtonIndentBlock, _React$Component);

    function ButtonIndentBlock() {
        _classCallCheck(this, ButtonIndentBlock);

        return _possibleConstructorReturn(this, (ButtonIndentBlock.__proto__ || Object.getPrototypeOf(ButtonIndentBlock)).apply(this, arguments));
    }

    _createClass(ButtonIndentBlock, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonIndentBlock
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.indent, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-indent-block', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.indent },
                _react2.default.createElement('span', { className: 'ae-icon-indent-block' })
            );
        }
    }]);

    return ButtonIndentBlock;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default indentBlock
 * @memberof ButtonIndentBlock
 * @property {String} key
 * @static
 */


ButtonIndentBlock.key = 'indentBlock';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonIndentBlock
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonIndentBlock.defaultProps = {
    command: 'indent'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonIndentBlock)));

/***/ }),

/***/ "./src/components/buttons/button-italic.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-italic.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonItalic class provides functionality for styling an selection with italic (em) style.
 *
 * @class ButtonItalic
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonItalic = function (_React$Component) {
    _inherits(ButtonItalic, _React$Component);

    function ButtonItalic() {
        _classCallCheck(this, ButtonItalic);

        return _possibleConstructorReturn(this, (ButtonItalic.__proto__ || Object.getPrototypeOf(ButtonItalic)).apply(this, arguments));
    }

    _createClass(ButtonItalic, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonItalic
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.italic, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-italic', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.italic },
                _react2.default.createElement('span', { className: 'ae-icon-italic' })
            );
        }
    }]);

    return ButtonItalic;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default italic
 * @memberof ButtonItalic
 * @property {String} key
 * @static
 */


ButtonItalic.key = 'italic';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonItalic
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonItalic.defaultProps = {
    command: 'italic',
    keystroke: {
        fn: 'execCommand',
        keys: CKEDITOR.CTRL + 73 /*I*/
    },
    style: 'coreStyles_italic'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonItalic))));

/***/ }),

/***/ "./src/components/buttons/button-link-autocomplete-list.jsx":
/*!******************************************************************!*\
  !*** ./src/components/buttons/button-link-autocomplete-list.jsx ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLinkAutocompleteList class provides functionality for showing a list of
 * items that can be selected for the link.
 *
 * @class ButtonLinkAutocompleteList
 * @uses WidgetFocusManager
 */
var ButtonLinkAutocompleteList = function (_React$Component) {
    _inherits(ButtonLinkAutocompleteList, _React$Component);

    function ButtonLinkAutocompleteList(props) {
        _classCallCheck(this, ButtonLinkAutocompleteList);

        var _this = _possibleConstructorReturn(this, (ButtonLinkAutocompleteList.__proto__ || Object.getPrototypeOf(ButtonLinkAutocompleteList)).call(this, props));

        _this.state = {
            items: []
        };
        return _this;
    }

    /**
     * Lifecycle. Invoked when a component is receiving new props.
     * This method is not called for the initial render.
     *
     * @instance
     * @memberof ButtonLinkAutocompleteList
     * @method componentWillReceiveProps
     */


    _createClass(ButtonLinkAutocompleteList, [{
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            if (!nextProps.term || nextProps.term !== this.props.term) {
                clearTimeout(this._timeout);

                if (nextProps.term) {
                    this._timeout = setTimeout(this._updateItems, this.props.delay);
                } else {
                    this.setState({
                        items: []
                    });
                }
            }

            if (nextProps.autocompleteSelected) {
                setTimeout(this.focus, 0);
                this.props.setAutocompleteState({
                    selected: false
                });
            }
        }

        /**
         * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method componentWillUnmount
         */

    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            clearTimeout(this._timeout);
        }

        /**
         * Lifecycle. Renders the UI of the list.
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            if (!this.props.expanded || !this.state.items.length) {
                return null;
            }

            return _react2.default.createElement(
                _buttonDropdown2.default,
                null,
                this._renderAutocompleteItems(this.state.items)
            );
        }

        /**
         * Lifecycle. Invoked before rendering when new props or state are being received.
         * This method is not called for the initial render or when forceUpdate is used.
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method  shouldComponentUpdate
         * @return {Boolean} Returns false when the transition to the new props and state will not
         * require a component update.
         */

    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps, nextState) {
            return nextProps.expanded !== this.props.expanded || nextProps.term !== this.props.term || nextState.items !== this.state.items;
        }

        /**
         * Renders a set of list items for the provided items
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method _renderAutocompleteItems
         * @param {Array} items List of autocomplete items to render
         * @protected
         * @return {Array} Rendered list item instances
         */

    }, {
        key: '_renderAutocompleteItems',
        value: function _renderAutocompleteItems(items) {
            items = items || [];

            var handleLinkAutocompleteClick = this.props.handleLinkAutocompleteClick;

            return items.map(function (item) {
                var className = this.props.term === item.url ? 'ae-toolbar-element active' : 'ae-toolbar-element';

                return _react2.default.createElement(
                    'li',
                    { key: item.url, role: 'option' },
                    _react2.default.createElement(
                        'button',
                        { className: className, onClick: handleLinkAutocompleteClick, 'data-value': item.url },
                        item.title
                    )
                );
            }.bind(this));
        }

        /**
         * Retrieves the data according to {this.props.term} and calls setState() with the returned data
         *
         * @instance
         * @memberof ButtonLinkAutocompleteList
         * @method _updateItems
         * @protected
         */

    }, {
        key: '_updateItems',
        value: function _updateItems() {
            var instance = this;

            if (!this.props.term) {
                return;
            }

            var promise = Promise.resolve(this.props.data(this.props.term));

            promise.then(function (items) {
                if (items.length) {
                    !instance.props.expanded && instance.props.toggleDropdown();
                }

                instance.setState({
                    items: items
                });
            });
        }
    }]);

    return ButtonLinkAutocompleteList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonLinkAutocompleteList
 * @memberof ButtonLinkAutocompleteList
 * @property {String} key
 * @static
 */


ButtonLinkAutocompleteList.key = 'buttonLinkAutocompleteList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonLinkAutocompleteList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonLinkAutocompleteList.defaultProps = {
    circular: false,
    data: [],
    delay: 100,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonLinkAutocompleteList);

/***/ }),

/***/ "./src/components/buttons/button-link-edit.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-link-edit.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonProps = __webpack_require__(/*! ../base/button-props.js */ "./src/components/base/button-props.js");

var _buttonProps2 = _interopRequireDefault(_buttonProps);

var _buttonLinkAutocompleteList = __webpack_require__(/*! ./button-link-autocomplete-list.jsx */ "./src/components/buttons/button-link-autocomplete-list.jsx");

var _buttonLinkAutocompleteList2 = _interopRequireDefault(_buttonLinkAutocompleteList);

var _buttonLinkTargetEdit = __webpack_require__(/*! ./button-link-target-edit.jsx */ "./src/components/buttons/button-link-target-edit.jsx");

var _buttonLinkTargetEdit2 = _interopRequireDefault(_buttonLinkTargetEdit);

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown.js */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLinkEdit class provides functionality for creating and editing a link in a document.
 * Provides UI for creating, editing and removing a link.
 *
 * @class ButtonLinkEdit
 * @uses ButtonCfgProps
 * @uses WidgetDropdown
 * @uses WidgetFocusManager
 */
var ButtonLinkEdit = function (_React$Component) {
    _inherits(ButtonLinkEdit, _React$Component);

    function ButtonLinkEdit(props) {
        _classCallCheck(this, ButtonLinkEdit);

        var _this = _possibleConstructorReturn(this, (ButtonLinkEdit.__proto__ || Object.getPrototypeOf(ButtonLinkEdit)).call(this, props));

        _this.linkInput = _react2.default.createRef();
        _this.state = _this._getInitialState();
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
     *
     * Focuses on the link input to immediately allow editing. This should only happen if the component
     * is rendered in exclusive mode to prevent aggressive focus stealing.
     *
     * @instance
     * @memberof ButtonLinkEdit
     * @method componentDidMount
     */


    _createClass(ButtonLinkEdit, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            if (this.props.renderExclusive || this.props.manualSelection) {
                // We need to wait for the next rendering cycle before focusing to avoid undesired
                // scrolls on the page
                this._focusLinkInput();
            }
        }

        /**
         * Lifecycle. Invoked when a component is receiving new props.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method componentWillReceiveProps
         */

    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps() {
            this.setState(this._getInitialState());
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var targetSelector = {
                allowedTargets: this.props.allowedTargets,
                editor: this.props.editor,
                handleLinkTargetChange: this._handleLinkTargetChange.bind(this),
                selectedTarget: this.state.linkTarget || AlloyEditor.Strings.linkTargetDefault
            };

            targetSelector = this.mergeDropdownProps(targetSelector, _buttonLinkTargetEdit2.default.key);

            var autocompleteDropdown;

            if (this.props.data) {
                var dataFn = this.props.data;

                if (!_lang2.default.isFunction(dataFn)) {
                    var items = this.props.data;

                    dataFn = function dataFn() {
                        return items;
                    };
                }

                var autocompleteDropdownProps = {
                    autocompleteSelected: this.state.autocompleteSelected,
                    data: dataFn,
                    editor: this.props.editor,
                    handleLinkAutocompleteClick: this._handleLinkAutocompleteClick,
                    onDismiss: this.props.toggleDropdown,
                    setAutocompleteState: this._setAutocompleteState,
                    term: this.state.linkHref
                };

                autocompleteDropdownProps = this.mergeDropdownProps(autocompleteDropdownProps, _buttonLinkAutocompleteList2.default.key);

                autocompleteDropdown = _react2.default.createElement(_buttonLinkAutocompleteList2.default, autocompleteDropdownProps);
            }

            var buttonClearLink;

            if (this.state.linkHref) {
                buttonClearLink = _react2.default.createElement('button', { 'aria-label': AlloyEditor.Strings.clearInput, className: 'ae-button ae-icon-remove', onClick: this._clearLink.bind(this), title: AlloyEditor.Strings.clear });
            }

            var placeholderProp = {};

            if (!CKEDITOR.env.ie && AlloyEditor.Strings) {
                placeholderProp.placeholder = AlloyEditor.Strings.editLink;
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-link' },
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.removeLink, className: 'ae-button', disabled: !this.state.element, onClick: this._removeLink.bind(this), title: AlloyEditor.Strings.remove },
                    _react2.default.createElement('span', { className: 'ae-icon-unlink' })
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input xxl' },
                    this.props.showTargetSelector && _react2.default.createElement(_buttonLinkTargetEdit2.default, targetSelector),
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container-input' },
                        _react2.default.createElement('input', _extends({ className: 'ae-input', onChange: this._handleLinkHrefChange.bind(this), onKeyDown: this._handleKeyDown.bind(this) }, placeholderProp, { ref: this.linkInput, type: 'text', value: this.state.linkHref })),
                        autocompleteDropdown
                    ),
                    buttonClearLink
                ),
                _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.confirm, className: 'ae-button', disabled: !this._isValidState(), onClick: this._updateLink.bind(this), title: AlloyEditor.Strings.confirm },
                    _react2.default.createElement('span', { className: 'ae-icon-ok' })
                )
            );
        }

        /**
         * The return value will be used as the initial value of this.state.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _getInitialState
         * @protected
         * @return {Object}
         */

    }, {
        key: '_getInitialState',
        value: function _getInitialState() {
            var _props = this.props,
                editor = _props.editor,
                defaultLinkTarget = _props.defaultLinkTarget;


            var link = new CKEDITOR.Link(editor.get('nativeEditor')).getFromSelection();
            var href = link ? link.getAttribute('href') : '';
            var target = link ? link.getAttribute('target') : defaultLinkTarget;

            return {
                autocompleteSelected: false,
                element: link,
                initialLink: {
                    href: href,
                    target: target
                },
                linkHref: href,
                linkTarget: target
            };
        }

        /**
         * Clears the link input. This only changes the component internal state, but does not
         * affect the link element of the editor. Only the _removeLink and _updateLink methods
         * are translated to the editor element.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _clearLink
         * @protected
         */

    }, {
        key: '_clearLink',
        value: function _clearLink() {
            this.setState({
                linkHref: ''
            });

            this._focusLinkInput();
        }

        /**
         * Focuses the user cursor on the widget's input.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _focusLinkInput
         * @protected
         */

    }, {
        key: '_focusLinkInput',
        value: function _focusLinkInput() {
            var instance = this;

            var focusLinkEl = function focusLinkEl() {
                instance.linkInput.current.focus();
            };

            if (window.requestAnimationFrame) {
                window.requestAnimationFrame(focusLinkEl);
            } else {
                setTimeout(focusLinkEl, 0);
            }
        }

        /**
         * Monitors key interaction inside the input element to respond to the keys:
         * - Enter: Creates/updates the link.
         * - Escape: Discards the changes.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleKeyDown
         * @param {SyntheticEvent} event The keyboard event.
         * @protected
         */

    }, {
        key: '_handleKeyDown',
        value: function _handleKeyDown(event) {
            if (event.keyCode === 13 || event.keyCode === 27) {
                event.preventDefault();
            }

            if (event.keyCode === 13) {
                this._updateLink();
            } else if (event.keyCode === 40) {
                this.setState({
                    autocompleteSelected: true
                });
            } else if (event.keyCode === 27) {
                var editor = this.props.editor.get('nativeEditor');

                new CKEDITOR.Link(editor).advanceSelection();

                this.props.editor.get('nativeEditor').fire('actionPerformed', this);
            }
        }

        /**
         * Updates the component state when the link input changes on user interaction.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleLinkHrefChange
         * @param {SyntheticEvent} event The change event.
         * @protected
         */

    }, {
        key: '_handleLinkHrefChange',
        value: function _handleLinkHrefChange(event) {
            this.setState({
                linkHref: event.target.value
            });

            this._focusLinkInput();
        }

        /**
         * Updates the component state when the link target changes on user interaction.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleLinkTargetChange
         * @param {SyntheticEvent} event The click event.
         * @protected
         */

    }, {
        key: '_handleLinkTargetChange',
        value: function _handleLinkTargetChange(event) {
            this.setState({
                itemDropdown: null,
                linkTarget: event.target.getAttribute('data-value')
            });

            this._focusLinkInput();
        }

        /**
         * Updates the component state when an autocomplete link result is selected by user interaction.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _handleLinkAutocompleteClick
         * @param {SyntheticEvent} event The click event.
         * @protected
         */

    }, {
        key: '_handleLinkAutocompleteClick',
        value: function _handleLinkAutocompleteClick(event) {
            this.setState({
                itemDropdown: null,
                linkHref: event.target.getAttribute('data-value')
            });

            this._focusLinkInput();
        }

        /**
         * Verifies that the current link state is valid so the user can save the link. A valid state
         * means that we have a non-empty href and that either that or the link target are different
         * from the original link.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _isValidState
         * @protected
         * @return {Boolean} [description]
         */

    }, {
        key: '_isValidState',
        value: function _isValidState() {
            var validState = this.state.linkHref && (this.state.linkHref !== this.state.initialLink.href || this.state.linkTarget !== this.state.initialLink.target);

            return validState;
        }

        /**
         * Removes the link in the editor element.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _removeLink
         * @protected
         */

    }, {
        key: '_removeLink',
        value: function _removeLink() {
            var editor = this.props.editor.get('nativeEditor');
            var linkUtils = new CKEDITOR.Link(editor);
            var selection = editor.getSelection();
            var bookmarks = selection.createBookmarks();

            linkUtils.remove(this.state.element, { advance: true });

            selection.selectBookmarks(bookmarks);

            // We need to cancelExclusive with the bound parameters in case the button is used
            // inside another in exclusive mode (such is the case of the link button)
            this.props.cancelExclusive();

            editor.fire('actionPerformed', this);
        }

        /**
         * Update autocompleteSelected state to focus and select autocompleteÂ´s dropdown
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _setAutocompleteState
         * @protected
         */

    }, {
        key: '_setAutocompleteState',
        value: function _setAutocompleteState(state) {
            this.setState({
                autocompleteSelected: state.selected
            });
        }

        /**
         * Updates the link in the editor element. If the element didn't exist previously, it will
         * create a new <a> element with the href specified in the link input.
         *
         * @instance
         * @memberof ButtonLinkEdit
         * @method _updateLink
         * @protected
         */

    }, {
        key: '_updateLink',
        value: function _updateLink() {
            var editor = this.props.editor.get('nativeEditor');
            var linkUtils = new CKEDITOR.Link(editor, { appendProtocol: this.props.appendProtocol });
            var linkAttrs = {
                target: this.state.linkTarget
            };
            var modifySelection = { advance: true };

            if (this.state.linkHref) {
                if (this.state.element) {
                    linkAttrs.href = this.state.linkHref;

                    linkUtils.update(linkAttrs, this.state.element, modifySelection);
                } else {
                    linkUtils.create(this.state.linkHref, linkAttrs, modifySelection);
                }

                editor.fire('actionPerformed', this);
            }

            // We need to cancelExclusive with the bound parameters in case the button is used
            // inside another in exclusive mode (such is the case of the link button)
            this.props.cancelExclusive();
        }
    }]);

    return ButtonLinkEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default linkEdit
 * @memberof ButtonLinkEdit
 * @property {String} key
 * @static
 */


ButtonLinkEdit.key = 'linkEdit';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonLinkEdit
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonLinkEdit.defaultProps = {
    appendProtocol: true,
    autocompleteUrl: '',
    circular: true,
    customIndexStart: true,
    defaultLinkTarget: '',
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    },
    showTargetSelector: true
};

exports.default = (0, _buttonProps2.default)((0, _widgetDropdown2.default)((0, _widgetFocusManager2.default)(ButtonLinkEdit)));

/***/ }),

/***/ "./src/components/buttons/button-link-target-edit.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-link-target-edit.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonTargetList = __webpack_require__(/*! ./button-target-list.jsx */ "./src/components/buttons/button-target-list.jsx");

var _buttonTargetList2 = _interopRequireDefault(_buttonTargetList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLinkTargetEdit class provides functionality for changing the target of a link
 * in the document.
 *
 * @class ButtonLinkTargetEdit
 */
var ButtonLinkTargetEdit = function (_React$Component) {
    _inherits(ButtonLinkTargetEdit, _React$Component);

    function ButtonLinkTargetEdit() {
        _classCallCheck(this, ButtonLinkTargetEdit);

        return _possibleConstructorReturn(this, (ButtonLinkTargetEdit.__proto__ || Object.getPrototypeOf(ButtonLinkTargetEdit)).apply(this, arguments));
    }

    _createClass(ButtonLinkTargetEdit, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonLinkTargetEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var handleLinkTargetChange = this.props.handleLinkTargetChange;
            var allowedLinkTargets = this.props.allowedTargets;

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-link-target ae-container-dropdown ae-container-dropdown-medium ae-has-dropdown', tabIndex: '0' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': this.props.selectedTarget, className: 'ae-toolbar-element', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: this.props.selectedTarget },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        _react2.default.createElement(
                            'span',
                            { className: 'ae-container-dropdown-selected-item' },
                            this.props.selectedTarget
                        ),
                        _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                    )
                ),
                this.props.expanded && _react2.default.createElement(_buttonTargetList2.default, { editor: this.props.editor, onDismiss: this.props.toggleDropdown, allowedLinkTargets: allowedLinkTargets, handleLinkTargetChange: handleLinkTargetChange, selectedTarget: this.props.selectedTarget })
            );
        }

        /**
         * Lifecycle. Invoked before rendering when new props or state are being received.
         * This method is not called for the initial render or when forceUpdate is used.
         *
         * @instance
         * @memberof ButtonLinkTargetEdit
         * @method  shouldComponentUpdate
         * @return {Boolean} Returns false when the transition to the new props and state will not
         * require a component update.
         */

    }, {
        key: 'shouldComponentUpdate',
        value: function shouldComponentUpdate(nextProps) {
            return nextProps.expanded !== this.props.expanded || nextProps.selectedTarget !== this.props.selectedTarget;
        }
    }]);

    return ButtonLinkTargetEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default linkTargetEdit
 * @memberof ButtonLinkTargetEdit
 * @property {String} key
 * @static
 */


ButtonLinkTargetEdit.key = 'linkTargetEdit';

exports.default = ButtonLinkTargetEdit;

/***/ }),

/***/ "./src/components/buttons/button-link.jsx":
/*!************************************************!*\
  !*** ./src/components/buttons/button-link.jsx ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonProps = __webpack_require__(/*! ../base/button-props.js */ "./src/components/base/button-props.js");

var _buttonProps2 = _interopRequireDefault(_buttonProps);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonLink class provides functionality for creating and editing a link in a document. ButtonLink
 * renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonLinkEdit UI with all the link edition controls.
 *
 * @class ButtonLink
 * @uses ButtonCfgProps
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 */
var ButtonLink = function (_React$Component) {
    _inherits(ButtonLink, _React$Component);

    function ButtonLink() {
        _classCallCheck(this, ButtonLink);

        return _possibleConstructorReturn(this, (ButtonLink.__proto__ || Object.getPrototypeOf(ButtonLink)).apply(this, arguments));
    }

    _createClass(ButtonLink, [{
        key: 'isActive',

        /**
         * Checks if the current selection is contained within a link.
         *
         * @instance
         * @memberof ButtonLink
         * @method isActive
         * @return {Boolean} True if the selection is inside a link, false otherwise.
         */
        value: function isActive() {
            return new CKEDITOR.Link(this.props.editor.get('nativeEditor')).getFromSelection() !== null;
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonLink
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            if (this.props.renderExclusive) {
                var props = this.mergeButtonCfgProps();

                return _react2.default.createElement(_buttonLinkEdit2.default, props);
            } else {
                return _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.link, className: cssClass, 'data-type': 'button-link', onClick: this._requestExclusive.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.link },
                    _react2.default.createElement('span', { className: 'ae-icon-link' })
                );
            }
        }

        /**
         * Requests the link button to be rendered in exclusive mode to allow the creation of a link.
         *
         * @instance
         * @memberof ButtonLink
         * @method _requestExclusive
         * @protected
         */

    }, {
        key: '_requestExclusive',
        value: function _requestExclusive() {
            this.props.requestExclusive(ButtonLink.key);
        }
    }]);

    return ButtonLink;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default link
 * @memberof ButtonLink
 * @property {String} key
 * @static
 */


ButtonLink.key = 'link';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonLink
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonLink.defaultProps = {
    keystroke: {
        fn: '_requestExclusive',
        keys: CKEDITOR.CTRL + 76 /*L*/
    }
};

exports.default = (0, _buttonProps2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)(ButtonLink)));

/***/ }),

/***/ "./src/components/buttons/button-ol.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-ol.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

<<<<<<< HEAD
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
=======
    /**
     * Sets the position of a toolbar according to the position of the selected image
     *
     * @method tableSelectionSetPosition
     * @param {Object} payload Object, which contains the selection data for retrieving the
     * client rectangle of the selected table
     * @return {Boolean} True, in all cases
     */
    var tableSelectionSetPosition = function tableSelectionSetPosition(payload) {
        var nativeEditor = payload.editor.get('nativeEditor');
        var uiNode = nativeEditor.config.uiNode;

        var scrollTop = uiNode ? uiNode.scrollTop : 0;

        var table = new CKEDITOR.Table(nativeEditor).getFromSelection();
        var rect = table.getClientRect();
        rect.top += scrollTop;
>>>>>>> d3c3794b8c59d0dfde2c6a7179d453a0d223955c

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonOrderedList class provides functionality for creating ordered lists in an editor.
 *
 * @class ButtonOrderedList
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonOrderedList = function (_React$Component) {
    _inherits(ButtonOrderedList, _React$Component);

    function ButtonOrderedList() {
        _classCallCheck(this, ButtonOrderedList);

        return _possibleConstructorReturn(this, (ButtonOrderedList.__proto__ || Object.getPrototypeOf(ButtonOrderedList)).apply(this, arguments));
    }

    _createClass(ButtonOrderedList, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonOrderedList
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.numberedlist, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-ol', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.numberedlist },
                _react2.default.createElement('span', { className: 'ae-icon-numbered-list' })
            );
        }
    }]);

    return ButtonOrderedList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default ol
 * @memberof ButtonOrderedList
 * @property {String} key
 * @static
 */


ButtonOrderedList.key = 'ol';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonOrderedList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonOrderedList.defaultProps = {
    command: 'numberedlist',
    style: {
        element: 'ol'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonOrderedList)));

/***/ }),

/***/ "./src/components/buttons/button-outdent-block.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-outdent-block.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonOutdentBlock class provides functionality for outdenting blocks.
 *
 * @class ButtonOutdentBlock
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonOutdentBlock = function (_React$Component) {
    _inherits(ButtonOutdentBlock, _React$Component);

    function ButtonOutdentBlock() {
        _classCallCheck(this, ButtonOutdentBlock);

        return _possibleConstructorReturn(this, (ButtonOutdentBlock.__proto__ || Object.getPrototypeOf(ButtonOutdentBlock)).apply(this, arguments));
    }

    _createClass(ButtonOutdentBlock, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonOutdentBlock
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.outdent, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-outdent-block', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.outdent },
                _react2.default.createElement('span', { className: 'ae-icon-outdent-block' })
            );
        }
    }]);

    return ButtonOutdentBlock;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default indentBlock
 * @memberof ButtonOutdentBlock
 * @property {String} key
 * @static
 */


ButtonOutdentBlock.key = 'outdentBlock';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonOutdentBlock
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonOutdentBlock.defaultProps = {
    command: 'outdent'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonOutdentBlock)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align-left.jsx":
/*!****************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align-left.jsx ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphAlignLeft class provides functionality for aligning a paragraph on left.
 *
 * @class ButtonParagraphAlignLeft
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphAlignLeft = function (_React$Component) {
    _inherits(ButtonParagraphAlignLeft, _React$Component);

    function ButtonParagraphAlignLeft() {
        _classCallCheck(this, ButtonParagraphAlignLeft);

        return _possibleConstructorReturn(this, (ButtonParagraphAlignLeft.__proto__ || Object.getPrototypeOf(ButtonParagraphAlignLeft)).apply(this, arguments));
    }

    _createClass(ButtonParagraphAlignLeft, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphAlignLeft
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignLeft, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-align-left', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignLeft },
                _react2.default.createElement('span', { className: 'ae-icon-align-left' })
            );
        }
    }]);

    return ButtonParagraphAlignLeft;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphLeft
 * @memberof ButtonParagraphAlignLeft
 * @property {String} key
 * @static
 */


ButtonParagraphAlignLeft.key = 'paragraphLeft';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphAlignLeft
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphAlignLeft.defaultProps = {
    command: 'justifyleft'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphAlignLeft)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-align-right.jsx":
/*!*****************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-align-right.jsx ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphAlignRight class provides functionality for aligning a paragraph on right.
 *
 * @class ButtonParagraphAlignRight
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphAlignRight = function (_React$Component) {
    _inherits(ButtonParagraphAlignRight, _React$Component);

    function ButtonParagraphAlignRight() {
        _classCallCheck(this, ButtonParagraphAlignRight);

        return _possibleConstructorReturn(this, (ButtonParagraphAlignRight.__proto__ || Object.getPrototypeOf(ButtonParagraphAlignRight)).apply(this, arguments));
    }

    _createClass(ButtonParagraphAlignRight, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphAlignRight
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignRight, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-align-right', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignRight },
                _react2.default.createElement('span', { className: 'ae-icon-align-right' })
            );
        }
    }]);

    return ButtonParagraphAlignRight;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphRight
 * @memberof ButtonParagraphAlignRight
 * @property {String} key
 * @static
 */


ButtonParagraphAlignRight.key = 'paragraphRight';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphAlignRight
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphAlignRight.defaultProps = {
    command: 'justifyright'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphAlignRight)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-center.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-center.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphCenter class provides functionality for centering a paragraph.
 *
 * @class ButtonParagraphCenter
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphCenter = function (_React$Component) {
    _inherits(ButtonParagraphCenter, _React$Component);

    function ButtonParagraphCenter() {
        _classCallCheck(this, ButtonParagraphCenter);

        return _possibleConstructorReturn(this, (ButtonParagraphCenter.__proto__ || Object.getPrototypeOf(ButtonParagraphCenter)).apply(this, arguments));
    }

    _createClass(ButtonParagraphCenter, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphCenter
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignCenter, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-center', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignCenter },
                _react2.default.createElement('span', { className: 'ae-icon-align-center' })
            );
        }
    }]);

    return ButtonParagraphCenter;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphCenter
 * @memberof ButtonParagraphCenter
 * @property {String} key
 * @static
 */


ButtonParagraphCenter.key = 'paragraphCenter';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphCenter
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphCenter.defaultProps = {
    command: 'justifycenter'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphCenter)));

/***/ }),

/***/ "./src/components/buttons/button-paragraph-justify.jsx":
/*!*************************************************************!*\
  !*** ./src/components/buttons/button-paragraph-justify.jsx ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonCommandActive = __webpack_require__(/*! ../base/button-command-active.js */ "./src/components/base/button-command-active.js");

var _buttonCommandActive2 = _interopRequireDefault(_buttonCommandActive);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonParagraphJustify class provides functionality for justfying a paragraph.
 *
 * @class ButtonParagraphJustify
 * @uses ButtonCommand
 * @uses ButtonCommandActive
 * @uses ButtonStateClasses
 */
var ButtonParagraphJustify = function (_React$Component) {
    _inherits(ButtonParagraphJustify, _React$Component);

    function ButtonParagraphJustify() {
        _classCallCheck(this, ButtonParagraphJustify);

        return _possibleConstructorReturn(this, (ButtonParagraphJustify.__proto__ || Object.getPrototypeOf(ButtonParagraphJustify)).apply(this, arguments));
    }

    _createClass(ButtonParagraphJustify, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonParagraphJustify
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.alignJustify, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-paragraph-justify', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.alignJustify },
                _react2.default.createElement('span', { className: 'ae-icon-align-justified' })
            );
        }
    }]);

    return ButtonParagraphJustify;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default paragraphJustify
 * @memberof ButtonParagraphJustify
 * @property {String} key
 * @static
 */


ButtonParagraphJustify.key = 'paragraphJustify';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonParagraphJustify
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonParagraphJustify.defaultProps = {
    command: 'justifyblock'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonCommandActive2.default)((0, _buttonStateClasses2.default)(ButtonParagraphJustify)));

/***/ }),

/***/ "./src/components/buttons/button-quote.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-quote.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonQuote class wraps a selection in `blockquote` element.
 *
 * @class ButtonQuote
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonQuote = function (_React$Component) {
    _inherits(ButtonQuote, _React$Component);

    function ButtonQuote() {
        _classCallCheck(this, ButtonQuote);

        return _possibleConstructorReturn(this, (ButtonQuote.__proto__ || Object.getPrototypeOf(ButtonQuote)).apply(this, arguments));
    }

    _createClass(ButtonQuote, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonQuote
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.quote, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-quote', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.quote },
                _react2.default.createElement('span', { className: 'ae-icon-quote' })
            );
        }
    }]);

    return ButtonQuote;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default quote
 * @memberof ButtonQuote
 * @property {String} key
 * @static
 */


ButtonQuote.key = 'quote';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonQuote
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonQuote.defaultProps = {
    command: 'blockquote',
    style: {
        element: 'blockquote'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonQuote)));

/***/ }),

/***/ "./src/components/buttons/button-remove-format.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-remove-format.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonRemoveFormat class removes style formatting.
 *
 * @class ButtonRemoveFormat
 * @uses ButtonCommand
 */
var ButtonRemoveFormat = function (_React$Component) {
    _inherits(ButtonRemoveFormat, _React$Component);

    function ButtonRemoveFormat() {
        _classCallCheck(this, ButtonRemoveFormat);

        return _possibleConstructorReturn(this, (ButtonRemoveFormat.__proto__ || Object.getPrototypeOf(ButtonRemoveFormat)).apply(this, arguments));
    }

    _createClass(ButtonRemoveFormat, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonRemoveFormat
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.removeformat, className: 'ae-button', 'data-type': 'button-removeformat', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.removeformat },
                _react2.default.createElement('span', { className: 'ae-icon-removeformat' })
            );
        }
    }]);

    return ButtonRemoveFormat;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default removeFormat
 * @memberof ButtonRemoveFormat
 * @property {String} key
 * @static
 */


ButtonRemoveFormat.key = 'removeFormat';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonRemoveFormat
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonRemoveFormat.defaultProps = {
    command: 'removeFormat'
};

exports.default = (0, _buttonCommand2.default)(ButtonRemoveFormat);

/***/ }),

/***/ "./src/components/buttons/button-strike.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-strike.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStrike class styles a selection with strike style.
 *
 * @class ButtonStrike
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonStrike = function (_React$Component) {
    _inherits(ButtonStrike, _React$Component);

    function ButtonStrike() {
        _classCallCheck(this, ButtonStrike);

        return _possibleConstructorReturn(this, (ButtonStrike.__proto__ || Object.getPrototypeOf(ButtonStrike)).apply(this, arguments));
    }

    _createClass(ButtonStrike, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         * @instance
         * @memberof ButtonStrike
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.strike, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-strike', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.strike },
                _react2.default.createElement('span', { className: 'ae-icon-strike' })
            );
        }
    }]);

    return ButtonStrike;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default strike
 * @memberof ButtonStrike
 * @property {String} key
 * @static
 */


ButtonStrike.key = 'strike';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonStrike
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonStrike.defaultProps = {
    command: 'strike',
    style: 'coreStyles_strike'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonStrike)));

/***/ }),

/***/ "./src/components/buttons/button-styles-list-header.jsx":
/*!**************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-header.jsx ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonsStylesListHeader class provides the header of an list of style items.
 *
 * @class ButtonsStylesListHeader
 */
var ButtonsStylesListHeader = function (_React$Component) {
    _inherits(ButtonsStylesListHeader, _React$Component);

    function ButtonsStylesListHeader() {
        _classCallCheck(this, ButtonsStylesListHeader);

        return _possibleConstructorReturn(this, (ButtonsStylesListHeader.__proto__ || Object.getPrototypeOf(ButtonsStylesListHeader)).apply(this, arguments));
    }

    _createClass(ButtonsStylesListHeader, [{
        key: "render",

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonsStylesListHeader
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.styles && this.props.styles.length) {
                return _react2.default.createElement(
                    "span",
                    { className: "ae-list-header" },
                    this.props.name
                );
            } else {
                return null;
            }
        }
    }]);

    return ButtonsStylesListHeader;
}(_react2.default.Component);

exports.default = ButtonsStylesListHeader;

/***/ }),

/***/ "./src/components/buttons/button-styles-list-item-remove.jsx":
/*!*******************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-item-remove.jsx ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStylesListItemRemove class provides functionality for previewing a style definition
 * inside a list and applying it to the current editor selection.
 *
 * @class ButtonStylesListItemRemove
 */
var ButtonStylesListItemRemove = function (_React$Component) {
    _inherits(ButtonStylesListItemRemove, _React$Component);

    function ButtonStylesListItemRemove() {
        _classCallCheck(this, ButtonStylesListItemRemove);

        return _possibleConstructorReturn(this, (ButtonStylesListItemRemove.__proto__ || Object.getPrototypeOf(ButtonStylesListItemRemove)).apply(this, arguments));
    }

    _createClass(ButtonStylesListItemRemove, [{
        key: "render",

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonStylesListItemRemove
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                "li",
                { role: "option" },
                _react2.default.createElement(
                    "button",
                    { className: "ae-toolbar-element", onClick: this._removeStyles.bind(this), tabIndex: this.props.tabIndex },
                    AlloyEditor.Strings.normal
                )
            );
        }

        /**
         * Removes all inline styles and configured block elements applied to the current selection.
         *
         * @instance
         * @memberof ButtonStylesListItemRemove
         * @method _removeStyles
         * @protected
         */

    }, {
        key: "_removeStyles",
        value: function _removeStyles() {
            var editor = this.props.editor.get('nativeEditor');

            editor.execCommand('removeFormat');

            this.props.removeBlocks.forEach(function (blockItem) {
                var blockStyle = new CKEDITOR.style({ element: blockItem });

                editor.removeStyle(blockStyle);
            });

            editor.fire('actionPerformed', this);
        }
    }]);

    return ButtonStylesListItemRemove;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonStylesListItemRemove
 * @memberof ButtonStylesListItemRemove
 * @property {String} key
 * @static
 */


ButtonStylesListItemRemove.key = 'buttonStylesListItemRemove';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonStylesListItemRemove
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonStylesListItemRemove.defaultProps = {
    removeBlocks: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'pre']
};

exports.default = ButtonStylesListItemRemove;

/***/ }),

/***/ "./src/components/buttons/button-styles-list-item.jsx":
/*!************************************************************!*\
  !*** ./src/components/buttons/button-styles-list-item.jsx ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonActionStyle = __webpack_require__(/*! ../base/button-action-style.js */ "./src/components/base/button-action-style.js");

var _buttonActionStyle2 = _interopRequireDefault(_buttonActionStyle);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStylesListItem class provides functionality for previewing a style definition
 * inside a list and applying it to the current editor selection.
 *
 * @class ButtonStylesListItem
 * @uses ButtonActionStyle
 * @uses ButtonStyle
 */
var ButtonStylesListItem = function (_React$Component) {
    _inherits(ButtonStylesListItem, _React$Component);

    function ButtonStylesListItem() {
        _classCallCheck(this, ButtonStylesListItem);

        return _possibleConstructorReturn(this, (ButtonStylesListItem.__proto__ || Object.getPrototypeOf(ButtonStylesListItem)).apply(this, arguments));
    }

    _createClass(ButtonStylesListItem, [{
        key: 'componentWillMount',

        /**
         * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
         *
         * @instance
         * @memberof ButtonStylesListItem
         * @method componentWillMount
         */
        value: function componentWillMount() {
            // Styles with wildcard element (*) generate an empty tag in their preview < class="custom-class" />.
            // We default to element span and remove the margins to obtain a more consistent set of previews.
            var styleCfg = {
                element: 'span',
                styles: {
                    margin: 0
                }
            };

            styleCfg = CKEDITOR.tools.merge(styleCfg, this.props.style);

            this._preview = new CKEDITOR.style(styleCfg).buildPreview(this.props.name);
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonStylesListItem
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            // We need to use dangerouselySetInnterHTML since we're not in control of the style
            // preview that is generated by CKEditor.
            var className = this.props.name === this.props.activeStyle ? 'ae-toolbar-element active' : 'ae-toolbar-element';

            return _react2.default.createElement('button', { className: className, dangerouslySetInnerHTML: { __html: this._preview }, onClick: this._onClick.bind(this), tabIndex: this.props.tabIndex });
        }

        /**
         * Applies the item style to the editor selection.
         *
         * @instance
         * @memberof ButtonStylesListItem
         * @method _onClick
         * @protected
         */
<<<<<<< HEAD
=======
        show: function show() {
            var domNode = ReactDOM.findDOMNode(this);
            var uiNode = this.props.editor.get('uiNode');

            var scrollTop = uiNode ? uiNode.scrollTop : 0;
>>>>>>> d3c3794b8c59d0dfde2c6a7179d453a0d223955c

    }, {
        key: '_onClick',
        value: function _onClick() {
            // Typically, we want the style to be the only one applied to the current selection, so
            // we execute the 'removeFormat' command first. Note that block styles won't be cleaned.
            // However, this is consistent with other editors implementations of this feature.
            this.props.editor.get('nativeEditor').execCommand('removeFormat');

            this.applyStyle();
        }
    }]);

    return ButtonStylesListItem;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default buttonStylesListItem
 * @memberof ButtonStylesListItem
 * @property {String} key
 * @static
 */


ButtonStylesListItem.key = 'buttonStylesListItem';

<<<<<<< HEAD
exports.default = (0, _buttonActionStyle2.default)((0, _buttonStyle2.default)(ButtonStylesListItem));
=======
                    if (interactionPoint.direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
                        initialY = this.props.selectionData.region.bottom + scrollTop;
                    } else {
                        initialY = this.props.selectionData.region.top + scrollTop;
                    }
>>>>>>> d3c3794b8c59d0dfde2c6a7179d453a0d223955c

/***/ }),

/***/ "./src/components/buttons/button-styles-list.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-styles-list.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

<<<<<<< HEAD

Object.defineProperty(exports, "__esModule", {
    value: true
});
=======
            if (interactionPoint && domNode) {
                var uiNode = this.props.editor.get('uiNode');

                var scrollTop = uiNode ? uiNode.scrollTop : 0;

                var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);
                xy[1] += scrollTop;
>>>>>>> d3c3794b8c59d0dfde2c6a7179d453a0d223955c

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonStylesListItem = __webpack_require__(/*! ./button-styles-list-item.jsx */ "./src/components/buttons/button-styles-list-item.jsx");

var _buttonStylesListItem2 = _interopRequireDefault(_buttonStylesListItem);

var _buttonStylesListItemRemove = __webpack_require__(/*! ./button-styles-list-item-remove.jsx */ "./src/components/buttons/button-styles-list-item-remove.jsx");

var _buttonStylesListItemRemove2 = _interopRequireDefault(_buttonStylesListItemRemove);

var _buttonStylesListHeader = __webpack_require__(/*! ./button-styles-list-header.jsx */ "./src/components/buttons/button-styles-list-header.jsx");

var _buttonStylesListHeader2 = _interopRequireDefault(_buttonStylesListHeader);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonStylesList class provides functionality for showing a list of styles that can be
 * applied to the current selection..
 *
 * @class ButtonStylesList
 * @uses WidgetFocusManager
 */
var ButtonStylesList = function (_React$Component) {
    _inherits(ButtonStylesList, _React$Component);

    function ButtonStylesList() {
        _classCallCheck(this, ButtonStylesList);

        return _possibleConstructorReturn(this, (ButtonStylesList.__proto__ || Object.getPrototypeOf(ButtonStylesList)).apply(this, arguments));
    }

    _createClass(ButtonStylesList, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * Focuses on the list node to allow keyboard interaction.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this).focus();
        }

        /**
         * Lifecycle. Invoked once, both on the client and server, immediately before the initial rendering occurs.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method componentWillMount
         */

    }, {
        key: 'componentWillMount',
        value: function componentWillMount() {
            var blockStyles = [];
            var inlineStyles = [];
            var objectStyles = [];

            this.props.styles.forEach(function (item) {
                var style = new CKEDITOR.style(item.style);

                if (style.type === CKEDITOR.STYLE_BLOCK) {
                    blockStyles.push(item);
                } else if (style.type === CKEDITOR.STYLE_INLINE) {
                    inlineStyles.push(item);
                } else if (style.type === CKEDITOR.STYLE_OBJECT) {
                    objectStyles.push(item);
                }
            });

            this._blockStyles = blockStyles;
            this._inlineStyles = inlineStyles;
            this._objectStyles = objectStyles;
        }

        /**
         * Lifecycle. Renders the UI of the list.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var removeStylesItem;

            if (this.props.showRemoveStylesItem) {
                removeStylesItem = _react2.default.createElement(_buttonStylesListItemRemove2.default, { editor: this.props.editor, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                _buttonDropdown2.default,
                this.props,
                removeStylesItem,
                _react2.default.createElement(_buttonStylesListHeader2.default, { name: AlloyEditor.Strings.blockStyles, styles: this._blockStyles }),
                this._renderStylesItems(this._blockStyles),
                _react2.default.createElement(_buttonStylesListHeader2.default, { name: AlloyEditor.Strings.inlineStyles, styles: this._inlineStyles }),
                this._renderStylesItems(this._inlineStyles),
                _react2.default.createElement(_buttonStylesListHeader2.default, { name: AlloyEditor.Strings.objectStyles, styles: this._objectStyles }),
                this._renderStylesItems(this._objectStyles)
            );
        }

        /**
         * Renders instances of ButtonStylesListItem with the preview of the correspondent block, inline or object styles.
         *
         * @instance
         * @memberof ButtonStylesList
         * @method _renderStylesItems
         * @param {Array} styles List of styles for which preview should be rendered.
         * @protected
         * @return {Array} Rendered instances of ButtonStylesListItem class
         */

    }, {
        key: '_renderStylesItems',
        value: function _renderStylesItems(styles) {
            var editor = this.props.editor;
            var items;

            if (styles && styles.length) {
                items = styles.map(function (item) {
                    return _react2.default.createElement(
                        'li',
                        { key: item.name, role: 'option' },
                        _react2.default.createElement(_buttonStylesListItem2.default, { activeStyle: this.props.activeStyle, editor: editor, name: item.name, style: item.style })
                    );
                }.bind(this));
            }

            return items;
        }
    }]);

    return ButtonStylesList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @memberof ButtonStylesList
 * @static
 * @property {String} key
 * @default buttonStylesList
 */


ButtonStylesList.key = 'buttonStylesList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonStylesList
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonStylesList.defaultProps = {
    circular: false,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    },
    showRemoveStylesItem: true
};

exports.default = (0, _widgetFocusManager2.default)(ButtonStylesList);

/***/ }),

/***/ "./src/components/buttons/button-styles.jsx":
/*!**************************************************!*\
  !*** ./src/components/buttons/button-styles.jsx ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

<<<<<<< HEAD
        widget.parts.image.on('click', function () {
            var selection = editor.getSelection();

            if (selection) {
                var element = selection.getStartElement();

                if (element) {
                    var widgetElement = element.findOne('img');

                    if (widgetElement) {
                        var region = element.getClientRect();

                        var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
                        region.left -= scrollPosition.x;
                        region.top += scrollPosition.y;

                        region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

                        editor.fire('editorInteraction', {
                            nativeEvent: event,
                            selectionData: {
                                element: widgetElement,
                                region: region
                            }
                        });
                    }
                }
            }
        });
    }
=======
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
>>>>>>> Build files (auto-generated)

/**
 * The ButtonStyles class provides functionality for styling a selection with a list of
 * configurable and customizable styles. The allowed styles follow CKEDITOR.Style configuration
 * (http://docs.ckeditor.com/#!/api/CKEDITOR.style)
 *
 * @class ButtonStyles
 */
var ButtonStyles = function (_React$Component) {
    _inherits(ButtonStyles, _React$Component);

    function ButtonStyles() {
        _classCallCheck(this, ButtonStyles);

        return _possibleConstructorReturn(this, (ButtonStyles.__proto__ || Object.getPrototypeOf(ButtonStyles)).apply(this, arguments));
    }

    _createClass(ButtonStyles, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonStyles
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var activeStyle = AlloyEditor.Strings.normal;

            var styles = this._getStyles();

            styles.forEach(function (item) {
                if (this._checkActive(item.style)) {
                    activeStyle = item.name;
                }
            }.bind(this));

            var buttonStylesList;

            if (this.props.expanded) {
                buttonStylesList = _react2.default.createElement(_buttonStylesList2.default, { activeStyle: activeStyle, editor: this.props.editor, onDismiss: this.props.toggleDropdown, showRemoveStylesItem: this.props.showRemoveStylesItem, styles: styles });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-dropdown ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.styles + ' ' + activeStyle, className: 'ae-toolbar-element', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.styles + ' ' + activeStyle },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        _react2.default.createElement(
                            'span',
                            { className: 'ae-container-dropdown-selected-item' },
                            activeStyle
                        ),
                        _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                    )
                ),
                buttonStylesList
            );
        }

        /**
         * Checks if the given style definition is applied to the current selection in the editor.
         *
         * @instance
         * @memberof ButtonStyles
         * @method _checkActive
         * @param {Object} styleConfig Style definition as per http://docs.ckeditor.com/#!/api/CKEDITOR.style.
         * @protected
         * @return {Boolean} Returns true if the style is applied to the selection, false otherwise.
         */

    }, {
        key: '_checkActive',
        value: function _checkActive(styleConfig) {
            var nativeEditor = this.props.editor.get('nativeEditor');

            // Styles with wildcard element (*) won't be considered active by CKEditor. Defaulting
            // to a 'span' element works for most of those cases with no defined element.
            styleConfig = CKEDITOR.tools.merge({ element: 'span' }, styleConfig);

            var style = new CKEDITOR.style(styleConfig);

            return style.checkActive(nativeEditor.elementPath(), nativeEditor);
        }

        /**
         * Returns an array of styles. Each style consists from two properties:
         * - name - the style name, for example "h1"
         * - style - an object with one property, called `element` which value
         * represents the style which have to be applied to the element.
         *
         * @instance
         * @memberof ButtonStyles
         * @method _getStyles
         * @protected
         * @return {Array<object>} An array of objects containing the styles.
         */

    }, {
        key: '_getStyles',
        value: function _getStyles() {
            return this.props.styles || [{
                name: AlloyEditor.Strings.h1,
                style: {
                    element: 'h1'
                }
            }, {
                name: AlloyEditor.Strings.h2,
                style: {
                    element: 'h2'
                }
            }, {
                name: AlloyEditor.Strings.formatted,
                style: {
                    element: 'pre'
                }
            }, {
                name: AlloyEditor.Strings.cite,
                style: {
                    element: 'cite'
                }
            }, {
                name: AlloyEditor.Strings.code,
                style: {
                    element: 'code'
                }
            }];
        }
    }]);

    return ButtonStyles;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default styles
 * @memberof ButtonStyles
 * @property {String} key
 * @static
 */


ButtonStyles.key = 'styles';

exports.default = ButtonStyles;

/***/ }),

/***/ "./src/components/buttons/button-subscript.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-subscript.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonSubscript class provides functionality for applying subscript style to a text selection.
 *
 * @class ButtonSubscript
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonSubscript = function (_React$Component) {
    _inherits(ButtonSubscript, _React$Component);

    function ButtonSubscript() {
        _classCallCheck(this, ButtonSubscript);

        return _possibleConstructorReturn(this, (ButtonSubscript.__proto__ || Object.getPrototypeOf(ButtonSubscript)).apply(this, arguments));
    }

    _createClass(ButtonSubscript, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonSubscript
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.subscript, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-subscript', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.subscript },
                _react2.default.createElement('span', { className: 'ae-icon-subscript' })
            );
        }
    }]);

    return ButtonSubscript;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default subscript
 * @memberof ButtonSubscript
 * @property {String} key
 * @static
 */


ButtonSubscript.key = 'subscript';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonSubscript
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonSubscript.defaultProps = {
    command: 'subscript',
    style: 'coreStyles_subscript'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonSubscript)));

/***/ }),

/***/ "./src/components/buttons/button-superscript.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-superscript.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonSuperscript class provides functionality for applying superscript style to a text selection.
 *
 * @class ButtonSuperscript
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonSuperscript = function (_React$Component) {
    _inherits(ButtonSuperscript, _React$Component);

    function ButtonSuperscript() {
        _classCallCheck(this, ButtonSuperscript);

        return _possibleConstructorReturn(this, (ButtonSuperscript.__proto__ || Object.getPrototypeOf(ButtonSuperscript)).apply(this, arguments));
    }

    _createClass(ButtonSuperscript, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonSuperscript
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.superscript, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-superscript', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.superscript },
                _react2.default.createElement('span', { className: 'ae-icon-superscript' })
            );
        }
    }]);

    return ButtonSuperscript;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default superscript
 * @memberof ButtonSuperscript
 * @property {String} key
 * @static
 */


ButtonSuperscript.key = 'superscript';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonSuperscript
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonSuperscript.defaultProps = {
    command: 'superscript',
    style: 'coreStyles_superscript'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonSuperscript)));

/***/ }),

/***/ "./src/components/buttons/button-table-cell.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-table-cell.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableCell class provides functionality to work with table cells.
 *
 * @class ButtonTableCell
 */
var ButtonTableCell = function (_React$Component) {
    _inherits(ButtonTableCell, _React$Component);

    function ButtonTableCell() {
        _classCallCheck(this, ButtonTableCell);

        return _possibleConstructorReturn(this, (ButtonTableCell.__proto__ || Object.getPrototypeOf(ButtonTableCell)).apply(this, arguments));
    }

    _createClass(ButtonTableCell, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableCell
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList;
            var buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableCell.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.cell, 'aria-owns': buttonCommandsListId, className: 'ae-button', onClick: this.props.toggleDropdown.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.cell },
                    _react2.default.createElement('span', { className: 'ae-icon-cell' })
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableCell
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'cellInsertBefore',
                label: AlloyEditor.Strings.cellInsertBefore
            }, {
                command: 'cellInsertAfter',
                label: AlloyEditor.Strings.cellInsertAfter
            }, {
                command: 'cellDelete',
                label: AlloyEditor.Strings.cellDelete
            }, {
                command: 'cellMerge',
                label: AlloyEditor.Strings.cellMerge
            }, {
                command: 'cellMergeDown',
                label: AlloyEditor.Strings.cellMergeDown
            }, {
                command: 'cellMergeRight',
                label: AlloyEditor.Strings.cellMergeRight
            }, {
                command: 'cellHorizontalSplit',
                label: AlloyEditor.Strings.cellSplitHorizontal
            }, {
                command: 'cellVerticalSplit',
                label: AlloyEditor.Strings.cellSplitVertical
            }];
        }
    }]);

    return ButtonTableCell;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableCell
 * @memberof ButtonTableCell
 * @property {String} key
 * @static
 */


ButtonTableCell.key = 'tableCell';

exports.default = ButtonTableCell;

/***/ }),

/***/ "./src/components/buttons/button-table-column.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-table-column.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableColumn class provides functionality to work with table columns.
 *
 * @class ButtonTableColumn
 */
var ButtonTableColumn = function (_React$Component) {
    _inherits(ButtonTableColumn, _React$Component);

    function ButtonTableColumn() {
        _classCallCheck(this, ButtonTableColumn);

        return _possibleConstructorReturn(this, (ButtonTableColumn.__proto__ || Object.getPrototypeOf(ButtonTableColumn)).apply(this, arguments));
    }

    _createClass(ButtonTableColumn, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableColumn
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList, buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableColumn.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.column, 'aria-owns': buttonCommandsListId, className: 'ae-button', onClick: this.props.toggleDropdown.bind(this), role: 'listbox', tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.column },
                    _react2.default.createElement('span', { className: 'ae-icon-column' })
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableColumn
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'columnInsertBefore',
                label: AlloyEditor.Strings.columnInsertBefore
            }, {
                command: 'columnInsertAfter',
                label: AlloyEditor.Strings.columnInsertAfter
            }, {
                command: 'columnDelete',
                label: AlloyEditor.Strings.columnDelete
            }];
        }
    }]);

    return ButtonTableColumn;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableColumn
 * @memberof ButtonTableColumn
 * @property {String} key
 * @static
 */


ButtonTableColumn.key = 'tableColumn';

exports.default = ButtonTableColumn;

/***/ }),

/***/ "./src/components/buttons/button-table-edit.jsx":
/*!******************************************************!*\
  !*** ./src/components/buttons/button-table-edit.jsx ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var KEY_ENTER = 13;
var KEY_ESC = 27;

/**
 * The ButtonTableEdit class provides functionality for creating and editing a table in a document.
 * Provides UI for creating a table.
 *
 * @class ButtonTableEdit
 */

var ButtonTableEdit = function (_React$Component) {
    _inherits(ButtonTableEdit, _React$Component);

    /**
     * Lifecycle. Invoked once before the component is mounted.
     *
     * @instance
     * @memberof ButtonTableEdit
     * @method getInitialState
     */
    function ButtonTableEdit(props) {
        _classCallCheck(this, ButtonTableEdit);

        var _this = _possibleConstructorReturn(this, (ButtonTableEdit.__proto__ || Object.getPrototypeOf(ButtonTableEdit)).call(this, props));

        _this.rowsRef = _react2.default.createRef();
        _this.colsRef = _react2.default.createRef();
        _this.state = {
            cols: 3,
            rows: 3
        };
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client (not on the server),
     * immediately after the initial rendering occurs.
     *
     * Focuses on the link input to immediately allow editing.
     *
     * @instance
     * @memberof ButtonTableEdit
     * @method componentDidMount
     */


    _createClass(ButtonTableEdit, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.rowsRef.current.focus();
        }

        /**
         * Creates a table.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method _createTable
         * @protected
         */

    }, {
        key: '_createTable',
        value: function _createTable() {
            var editor = this.props.editor.get('nativeEditor');
            var tableUtils = new CKEDITOR.Table(editor);

            tableUtils.create({
                attrs: this.props.tableAttributes,
                cols: this.state.cols,
                rows: this.state.rows
            });

            this.props.cancelExclusive();

            editor.fire('actionPerformed', this);
        }

        /**
         * Handles a change in input value. Sets the provided value from the user back to the input.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method _handleChange
         * @param {String} inputName The name of the input which value should be updated.
         * @param {SyntheticEvent} event The provided event.
         * @protected
         */

    }, {
        key: '_handleChange',
        value: function _handleChange(inputName, event) {
            var state = {};
            state[inputName] = event.target.value;

            this.setState(state);
        }

        /**
         * Monitors key interaction inside the input element to respond to the keys:
         * - Enter: Creates the table.
         * - Escape: Discards the changes.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method _handleKeyDown
         * @param {SyntheticEvent} event The keyboard event.
         * @protected
         */

    }, {
        key: '_handleKeyDown',
        value: function _handleKeyDown(event) {
            if (event.keyCode === KEY_ENTER || event.keyCode === KEY_ESC) {
                event.preventDefault();
            }

            if (event.keyCode === KEY_ENTER) {
                this._createTable();
            } else if (event.keyCode === KEY_ESC) {
                this.props.cancelExclusive();
            }
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableEdit
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var time = Date.now();
            var rowsId = time + 'rows';
            var colsId = time + 'cols';

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-edit-table' },
                _react2.default.createElement(
                    'label',
                    { htmlFor: rowsId },
                    AlloyEditor.Strings.rows
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input small' },
                    _react2.default.createElement('input', { className: 'ae-input', id: rowsId, onChange: this._handleChange.bind(this, 'rows'), min: '1', onKeyDown: this._handleKeyDown.bind(this), placeholder: 'Rows', ref: this.rowsRef, type: 'number', value: this.state.rows })
                ),
                _react2.default.createElement(
                    'label',
                    { htmlFor: colsId },
                    AlloyEditor.Strings.columns
                ),
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container-input small' },
                    _react2.default.createElement('input', { className: 'ae-input', id: colsId, onChange: this._handleChange.bind(this, 'cols'), min: '1', onKeyDown: this._handleKeyDown.bind(this), placeholder: 'Colums', ref: this.colsRef, type: 'number', value: this.state.cols })
                ),
                _react2.default.createElement(
                    'button',
                    { 'aria-label': 'Confirm', className: 'ae-button', onClick: this._createTable.bind(this) },
                    _react2.default.createElement('span', { className: 'ae-icon-ok' })
                )
            );
        }
    }]);

    return ButtonTableEdit;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableEdit
 * @memberof ButtonTableEdit
 * @property {String} key
 * @static
 */


ButtonTableEdit.key = 'tableEdit';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonTableEdit
 * @method getDefaultProps
 */
ButtonTableEdit.defaultProps = {
    tableAttributes: {
        border: 1,
        cellPadding: 0,
        cellSpacing: 0,
        style: 'width: 100%'
    }
};

exports.default = ButtonTableEdit;

/***/ }),

/***/ "./src/components/buttons/button-table-heading.jsx":
/*!*********************************************************!*\
  !*** ./src/components/buttons/button-table-heading.jsx ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableHeading class provides functionality to work with table heading.
 *
 * @class ButtonTableHeading
 */
var ButtonTableHeading = function (_React$Component) {
    _inherits(ButtonTableHeading, _React$Component);

    function ButtonTableHeading() {
        _classCallCheck(this, ButtonTableHeading);

        return _possibleConstructorReturn(this, (ButtonTableHeading.__proto__ || Object.getPrototypeOf(ButtonTableHeading)).apply(this, arguments));
    }

    _createClass(ButtonTableHeading, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableHeading
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList;
            var buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableHeading.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            var activeHeading = new CKEDITOR.Table(this.props.editor.get('nativeEditor')).getHeading();
            var activeHeadingIntro = AlloyEditor.Strings.headers + ':';
            var activeHeadingLabel = AlloyEditor.Strings['headers' + activeHeading];

            return _react2.default.createElement(
                'div',
                { className: 'ae-container-dropdown-xl ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': '', className: 'ae-toolbar-element', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: '' },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        _react2.default.createElement(
                            'span',
                            { className: 'ae-container-dropdown-selected-item' },
                            activeHeadingIntro,
                            ' ',
                            _react2.default.createElement(
                                'strong',
                                null,
                                activeHeadingLabel
                            )
                        ),
                        _react2.default.createElement('span', { className: 'ae-icon-arrow' })
                    )
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableHeading
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'tableHeadingNone',
                label: AlloyEditor.Strings.headersNone
            }, {
                command: 'tableHeadingRow',
                label: AlloyEditor.Strings.headersRow
            }, {
                command: 'tableHeadingColumn',
                label: AlloyEditor.Strings.headersColumn
            }, {
                command: 'tableHeadingBoth',
                label: AlloyEditor.Strings.headersBoth
            }];
        }
    }]);

    return ButtonTableHeading;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableRow
 * @memberof ButtonTableHeading
 * @property {String} key
 * @static
 */


ButtonTableHeading.key = 'tableHeading';

exports.default = ButtonTableHeading;

/***/ }),

/***/ "./src/components/buttons/button-table-remove.jsx":
/*!********************************************************!*\
  !*** ./src/components/buttons/button-table-remove.jsx ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableRemove class provides functionality for removing a table
 *
 * @class ButtonTableRemove
 */
var ButtonTableRemove = function (_React$Component) {
    _inherits(ButtonTableRemove, _React$Component);

    function ButtonTableRemove() {
        _classCallCheck(this, ButtonTableRemove);

        return _possibleConstructorReturn(this, (ButtonTableRemove.__proto__ || Object.getPrototypeOf(ButtonTableRemove)).apply(this, arguments));
    }

    _createClass(ButtonTableRemove, [{
        key: "render",

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableRemove
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            return _react2.default.createElement(
                "button",
                { "aria-label": AlloyEditor.Strings.deleteTable, className: "ae-button", "data-type": "button-table-remove", onClick: this._removeTable.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.deleteTable },
                _react2.default.createElement("span", { className: "ae-icon-bin" })
            );
        }

        /**
         * Removes the table in the editor element.
         *
         * @instance
         * @memberof ButtonTableRemove
         * @method _removeTable
         * @protected
         */

    }, {
        key: "_removeTable",
        value: function _removeTable() {
            var editor = this.props.editor.get('nativeEditor');
            var tableUtils = new CKEDITOR.Table(editor);

            tableUtils.remove();

            editor.fire('actionPerformed', this);
        }
    }]);

    return ButtonTableRemove;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableRemove
 * @memberof ButtonTableRemove
 * @property {String} key
 * @static
 */


ButtonTableRemove.key = 'tableRemove';

exports.default = ButtonTableRemove;

/***/ }),

/***/ "./src/components/buttons/button-table-row.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-table-row.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTableRow class provides functionality to work with table rows.
 *
 * @class ButtonTableRow
 */
var ButtonTableRow = function (_React$Component) {
    _inherits(ButtonTableRow, _React$Component);

    function ButtonTableRow() {
        _classCallCheck(this, ButtonTableRow);

        return _possibleConstructorReturn(this, (ButtonTableRow.__proto__ || Object.getPrototypeOf(ButtonTableRow)).apply(this, arguments));
    }

    _createClass(ButtonTableRow, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTableRow
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var buttonCommandsList;
            var buttonCommandsListId;

            if (this.props.expanded) {
                buttonCommandsListId = ButtonTableRow.key + 'List';
                buttonCommandsList = _react2.default.createElement(_buttonCommandsList2.default, { commands: this._getCommands(), editor: this.props.editor, listId: buttonCommandsListId, onDismiss: this.props.toggleDropdown });
            }

            return _react2.default.createElement(
                'div',
                { className: 'ae-container ae-has-dropdown' },
                _react2.default.createElement(
                    'button',
                    { 'aria-expanded': this.props.expanded, 'aria-label': AlloyEditor.Strings.row, 'aria-owns': buttonCommandsListId, className: 'ae-button', onClick: this.props.toggleDropdown.bind(this), role: 'combobox', tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.row },
                    _react2.default.createElement('span', { className: 'ae-icon-row' })
                ),
                buttonCommandsList
            );
        }

        /**
         * Returns a list of commands. If a list of commands was passed
         * as property `commands`, it will take a precedence over the default ones.
         *
         * @instance
         * @memberof ButtonTableRow
         * @method _getCommands
         * @protected
         * @return {Array} The list of available commands.
         */

    }, {
        key: '_getCommands',
        value: function _getCommands() {
            return this.props.commands || [{
                command: 'rowInsertBefore',
                label: AlloyEditor.Strings.rowInsertBefore
            }, {
                command: 'rowInsertAfter',
                label: AlloyEditor.Strings.rowInsertAfter
            }, {
                command: 'rowDelete',
                label: AlloyEditor.Strings.rowDelete
            }];
        }
    }]);

    return ButtonTableRow;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default tableRow
 * @memberof ButtonTableRow
 * @property {String} key
 * @static
 */


ButtonTableRow.key = 'tableRow';

exports.default = ButtonTableRow;

/***/ }),

/***/ "./src/components/buttons/button-table.jsx":
/*!*************************************************!*\
  !*** ./src/components/buttons/button-table.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonTableEdit = __webpack_require__(/*! ./button-table-edit.jsx */ "./src/components/buttons/button-table-edit.jsx");

var _buttonTableEdit2 = _interopRequireDefault(_buttonTableEdit);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTable class provides functionality for creating and editing a table in a document. ButtonTable
 * renders in two different modes:
 *
 * - Normal: Just a button that allows to switch to the edition mode
 * - Exclusive: The ButtonTableEdit UI with all the table edition controls.
 *
 * @class ButtonTable
 */
var ButtonTable = function (_React$Component) {
    _inherits(ButtonTable, _React$Component);

    function ButtonTable() {
        _classCallCheck(this, ButtonTable);

        return _possibleConstructorReturn(this, (ButtonTable.__proto__ || Object.getPrototypeOf(ButtonTable)).apply(this, arguments));
    }

    _createClass(ButtonTable, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTable
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            if (this.props.renderExclusive) {
                return _react2.default.createElement(_buttonTableEdit2.default, this.props);
            } else {
                return _react2.default.createElement(
                    'button',
                    { 'aria-label': AlloyEditor.Strings.table, className: 'ae-button', 'data-type': 'button-table', onClick: this.props.requestExclusive, tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.table },
                    _react2.default.createElement('span', { className: 'ae-icon-table' })
                );
            }
        }
    }]);

    return ButtonTable;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default table
 * @memberof ButtonTable
 * @property {String} key
 * @static
 */


ButtonTable.key = 'table';

exports.default = ButtonTable;

/***/ }),

/***/ "./src/components/buttons/button-target-list.jsx":
/*!*******************************************************!*\
  !*** ./src/components/buttons/button-target-list.jsx ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTargetList class provides functionality for changing the target of a link
 * in the document.
 *
 * @class ButtonTargetList
 * @uses WidgetFocusManager
 */
var ButtonTargetList = function (_React$Component) {
    _inherits(ButtonTargetList, _React$Component);

    function ButtonTargetList() {
        _classCallCheck(this, ButtonTargetList);

        return _possibleConstructorReturn(this, (ButtonTargetList.__proto__ || Object.getPrototypeOf(ButtonTargetList)).apply(this, arguments));
    }

    _createClass(ButtonTargetList, [{
        key: 'componentDidMount',

        /**
         * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method componentDidMount
         */
        value: function componentDidMount() {
            _reactDom2.default.findDOMNode(this).focus();
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var listTargets = this._renderListTargets();

            return _react2.default.createElement(
                _buttonDropdown2.default,
                this.props,
                listTargets
            );
        }

        /**
         * Returns the the allowed link target items.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method _getAllowedTargetItems
         * @protected
         * @return {Array} The allowed target items.
         */

    }, {
        key: '_getAllowedTargetItems',
        value: function _getAllowedTargetItems() {
            return this.props.allowedLinkTargets || [{
                label: AlloyEditor.Strings.linkTargetDefault,
                value: ''
            }, {
                label: AlloyEditor.Strings.linkTargetSelf,
                value: '_self'
            }, {
                label: AlloyEditor.Strings.linkTargetBlank,
                value: '_blank'
            }, {
                label: AlloyEditor.Strings.linkTargetParent,
                value: '_parent'
            }, {
                label: AlloyEditor.Strings.linkTargetTop,
                value: '_top'
            }];
        }

        /**
         * Renders the allowed link target items.
         *
         * @instance
         * @memberof ButtonTargetList
         * @method _renderListTargets
         * @protected
         * @return {Object} Returns the rendered link items
         */

    }, {
        key: '_renderListTargets',
        value: function _renderListTargets() {
            var targets = this._getAllowedTargetItems();

            var handleLinkTargetChange = this.props.handleLinkTargetChange;

            targets = targets.map(function (target) {
                var className = this.props.selectedTarget === target.value ? 'ae-toolbar-element active' : 'ae-toolbar-element';

                return _react2.default.createElement(
                    'li',
                    { key: target.value, role: 'option' },
                    _react2.default.createElement(
                        'button',
                        { className: className, 'data-value': target.value, onClick: handleLinkTargetChange },
                        target.label
                    )
                );
            }.bind(this));

            return targets;
        }
    }]);

    return ButtonTargetList;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default linkTargetEdit
 * @memberof ButtonTargetList
 * @property {String} key
 * @static
 */


ButtonTargetList.key = 'targetList';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonTargetList
 * @method getDefaultProps
 */
ButtonTargetList.defaultProps = {
    circular: true,
    descendants: '.ae-toolbar-element',
    keys: {
        dismiss: [27],
        dismissNext: [39],
        dismissPrev: [37],
        next: [40],
        prev: [38]
    }
};

exports.default = (0, _widgetFocusManager2.default)(ButtonTargetList);

/***/ }),

/***/ "./src/components/buttons/button-twitter.jsx":
/*!***************************************************!*\
  !*** ./src/components/buttons/button-twitter.jsx ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonTwitter class provides functionality for creating a link which
 * allows people to tweet part of the content in the editor.
 *
 * @class ButtonTwitter
 * @uses ButtonStateClasses
 */
var ButtonTwitter = function (_React$Component) {
    _inherits(ButtonTwitter, _React$Component);

    function ButtonTwitter() {
        _classCallCheck(this, ButtonTwitter);

        return _possibleConstructorReturn(this, (ButtonTwitter.__proto__ || Object.getPrototypeOf(ButtonTwitter)).apply(this, arguments));
    }

    _createClass(ButtonTwitter, [{
        key: 'handleClick',

        /**
         * Creates or removes the twitter link on the selection.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method handleClick
         */
        value: function handleClick() {
            var editor = this.props.editor.get('nativeEditor');

            var linkUtils = new CKEDITOR.Link(editor);

            if (this.isActive()) {
                linkUtils.remove(linkUtils.getFromSelection());
            } else {
                linkUtils.create(this._getHref(), {
                    'class': 'ae-twitter-link',
                    'target': '_blank'
                });
            }

            editor.fire('actionPerformed', this);
        }

        /**
         * Checks if the current selection is contained within a link that points to twitter.com/intent/tweet.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method isActive
         * @return {Boolean} True if the selection is inside a twitter link, false otherwise.
         */

    }, {
        key: 'isActive',
        value: function isActive() {
            var link = new CKEDITOR.Link(this.props.editor.get('nativeEditor')).getFromSelection();

            return link && link.getAttribute('href').indexOf('twitter.com/intent/tweet') !== -1;
        }

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.twitter, className: cssClass, 'data-type': 'button-twitter', onClick: this.handleClick.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.twitter },
                _react2.default.createElement('span', { className: 'ae-icon-twitter' })
            );
        }

        /**
         * Generates the appropriate twitter url based on the selected text and the configuration
         * options received via props.
         *
         * @instance
         * @memberof ButtonTwitter
         * @method _getHref
         * @protected
         * @return {String} A valid twitter url with the selected text and given configuration.
         */

    }, {
        key: '_getHref',
        value: function _getHref() {
            var nativeEditor = this.props.editor.get('nativeEditor');
            var selectedText = nativeEditor.getSelection().getSelectedText();
            var url = this.props.url;
            var via = this.props.via;
            var twitterHref = 'https://twitter.com/intent/tweet?text=' + selectedText;

            if (url) {
                twitterHref += '&url=' + url;
            }

            if (via) {
                twitterHref += '&via=' + via;
            }

            return twitterHref;
        }
    }]);

    return ButtonTwitter;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default twitter
 * @memberof ButtonTwitter
 * @property {String} key
 * @static
 */


ButtonTwitter.key = 'twitter';

exports.default = (0, _buttonStateClasses2.default)(ButtonTwitter);

/***/ }),

/***/ "./src/components/buttons/button-ul.jsx":
/*!**********************************************!*\
  !*** ./src/components/buttons/button-ul.jsx ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonUnorderedlist class provides functionality for creating unordered lists in an editor.
 *
 * @class ButtonUnorderedlist
 * @uses ButtonCommand
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonUnorderedlist = function (_React$Component) {
    _inherits(ButtonUnorderedlist, _React$Component);

    function ButtonUnorderedlist() {
        _classCallCheck(this, ButtonUnorderedlist);

        return _possibleConstructorReturn(this, (ButtonUnorderedlist.__proto__ || Object.getPrototypeOf(ButtonUnorderedlist)).apply(this, arguments));
    }

    _createClass(ButtonUnorderedlist, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonUnorderedlist
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.bulletedlist, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-ul', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.bulletedlist },
                _react2.default.createElement('span', { className: 'ae-icon-bulleted-list' })
            );
        }
    }]);

    return ButtonUnorderedlist;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default ul
 * @memberof ButtonUnorderedlist
 * @property {String} key
 * @static
 */


ButtonUnorderedlist.key = 'ul';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonUnorderedlist
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonUnorderedlist.defaultProps = {
    command: 'bulletedlist',
    style: {
        element: 'ul'
    }
};

exports.default = (0, _buttonCommand2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonUnorderedlist)));

/***/ }),

/***/ "./src/components/buttons/button-underline.jsx":
/*!*****************************************************!*\
  !*** ./src/components/buttons/button-underline.jsx ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _buttonCommand = __webpack_require__(/*! ../base/button-command.js */ "./src/components/base/button-command.js");

var _buttonCommand2 = _interopRequireDefault(_buttonCommand);

var _buttonKeystroke = __webpack_require__(/*! ../base/button-keystroke.js */ "./src/components/base/button-keystroke.js");

var _buttonKeystroke2 = _interopRequireDefault(_buttonKeystroke);

var _buttonStateClasses = __webpack_require__(/*! ../base/button-state-classes.js */ "./src/components/base/button-state-classes.js");

var _buttonStateClasses2 = _interopRequireDefault(_buttonStateClasses);

var _buttonStyle = __webpack_require__(/*! ../base/button-style.js */ "./src/components/base/button-style.js");

var _buttonStyle2 = _interopRequireDefault(_buttonStyle);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ButtonUnderline class provides functionality for underlying a text selection.
 *
 * @class ButtonUnderline
 * @uses ButtonCommand
 * @uses ButtonKeystroke
 * @uses ButtonStateClasses
 * @uses ButtonStyle
 */
var ButtonUnderline = function (_React$Component) {
    _inherits(ButtonUnderline, _React$Component);

    function ButtonUnderline() {
        _classCallCheck(this, ButtonUnderline);

        return _possibleConstructorReturn(this, (ButtonUnderline.__proto__ || Object.getPrototypeOf(ButtonUnderline)).apply(this, arguments));
    }

    _createClass(ButtonUnderline, [{
        key: 'render',

        /**
         * Lifecycle. Renders the UI of the button.
         *
         * @instance
         * @memberof ButtonUnderline
         * @method render
         * @return {Object} The content which should be rendered.
         */
        value: function render() {
            var cssClass = 'ae-button ' + this.getStateClasses();

            return _react2.default.createElement(
                'button',
                { 'aria-label': AlloyEditor.Strings.underline, 'aria-pressed': cssClass.indexOf('pressed') !== -1, className: cssClass, 'data-type': 'button-underline', onClick: this.execCommand.bind(this), tabIndex: this.props.tabIndex, title: AlloyEditor.Strings.underline },
                _react2.default.createElement('span', { className: 'ae-icon-underline' })
            );
        }
    }]);

    return ButtonUnderline;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default underline
 * @memberof ButtonUnderline
 * @property {String} key
 * @static
 */


ButtonUnderline.key = 'underline';

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ButtonUnderline
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ButtonUnderline.defaultProps = {
    command: 'underline',
    keystroke: {
        fn: 'execCommand',
        keys: CKEDITOR.CTRL + 85 /*U*/
    },
    style: 'coreStyles_underline'
};

exports.default = (0, _buttonCommand2.default)((0, _buttonKeystroke2.default)((0, _buttonStateClasses2.default)((0, _buttonStyle2.default)(ButtonUnderline))));

/***/ }),

/***/ "./src/components/buttons/index.js":
/*!*****************************************!*\
  !*** ./src/components/buttons/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _ButtonBold$key$Butto;

var _buttonBold = __webpack_require__(/*! ./button-bold.jsx */ "./src/components/buttons/button-bold.jsx");

var _buttonBold2 = _interopRequireDefault(_buttonBold);

var _buttonCameraImage = __webpack_require__(/*! ./button-camera-image.jsx */ "./src/components/buttons/button-camera-image.jsx");

var _buttonCameraImage2 = _interopRequireDefault(_buttonCameraImage);

var _buttonCamera = __webpack_require__(/*! ./button-camera.jsx */ "./src/components/buttons/button-camera.jsx");

var _buttonCamera2 = _interopRequireDefault(_buttonCamera);

var _buttonCode = __webpack_require__(/*! ./button-code.jsx */ "./src/components/buttons/button-code.jsx");

var _buttonCode2 = _interopRequireDefault(_buttonCode);

var _buttonCommandListItem = __webpack_require__(/*! ./button-command-list-item.jsx */ "./src/components/buttons/button-command-list-item.jsx");

var _buttonCommandListItem2 = _interopRequireDefault(_buttonCommandListItem);

var _buttonCommandsList = __webpack_require__(/*! ./button-commands-list.jsx */ "./src/components/buttons/button-commands-list.jsx");

var _buttonCommandsList2 = _interopRequireDefault(_buttonCommandsList);

var _buttonDropdown = __webpack_require__(/*! ./button-dropdown.jsx */ "./src/components/buttons/button-dropdown.jsx");

var _buttonDropdown2 = _interopRequireDefault(_buttonDropdown);

var _buttonEmbedEdit = __webpack_require__(/*! ./button-embed-edit.jsx */ "./src/components/buttons/button-embed-edit.jsx");

var _buttonEmbedEdit2 = _interopRequireDefault(_buttonEmbedEdit);

var _buttonEmbed = __webpack_require__(/*! ./button-embed.jsx */ "./src/components/buttons/button-embed.jsx");

var _buttonEmbed2 = _interopRequireDefault(_buttonEmbed);

var _buttonH = __webpack_require__(/*! ./button-h1.jsx */ "./src/components/buttons/button-h1.jsx");

var _buttonH2 = _interopRequireDefault(_buttonH);

var _buttonH3 = __webpack_require__(/*! ./button-h2.jsx */ "./src/components/buttons/button-h2.jsx");

var _buttonH4 = _interopRequireDefault(_buttonH3);

var _buttonHline = __webpack_require__(/*! ./button-hline.jsx */ "./src/components/buttons/button-hline.jsx");

var _buttonHline2 = _interopRequireDefault(_buttonHline);

var _buttonImageAlignCenter = __webpack_require__(/*! ./button-image-align-center.jsx */ "./src/components/buttons/button-image-align-center.jsx");

var _buttonImageAlignCenter2 = _interopRequireDefault(_buttonImageAlignCenter);

var _buttonImageAlignLeft = __webpack_require__(/*! ./button-image-align-left.jsx */ "./src/components/buttons/button-image-align-left.jsx");

var _buttonImageAlignLeft2 = _interopRequireDefault(_buttonImageAlignLeft);

var _buttonImageAlignRight = __webpack_require__(/*! ./button-image-align-right.jsx */ "./src/components/buttons/button-image-align-right.jsx");

var _buttonImageAlignRight2 = _interopRequireDefault(_buttonImageAlignRight);

var _buttonImage = __webpack_require__(/*! ./button-image.jsx */ "./src/components/buttons/button-image.jsx");

var _buttonImage2 = _interopRequireDefault(_buttonImage);

var _buttonIndentBlock = __webpack_require__(/*! ./button-indent-block.jsx */ "./src/components/buttons/button-indent-block.jsx");

var _buttonIndentBlock2 = _interopRequireDefault(_buttonIndentBlock);

var _buttonItalic = __webpack_require__(/*! ./button-italic.jsx */ "./src/components/buttons/button-italic.jsx");

var _buttonItalic2 = _interopRequireDefault(_buttonItalic);

var _buttonLinkAutocompleteList = __webpack_require__(/*! ./button-link-autocomplete-list.jsx */ "./src/components/buttons/button-link-autocomplete-list.jsx");

var _buttonLinkAutocompleteList2 = _interopRequireDefault(_buttonLinkAutocompleteList);

var _buttonLinkEdit = __webpack_require__(/*! ./button-link-edit.jsx */ "./src/components/buttons/button-link-edit.jsx");

var _buttonLinkEdit2 = _interopRequireDefault(_buttonLinkEdit);

var _buttonLinkTargetEdit = __webpack_require__(/*! ./button-link-target-edit.jsx */ "./src/components/buttons/button-link-target-edit.jsx");

var _buttonLinkTargetEdit2 = _interopRequireDefault(_buttonLinkTargetEdit);

var _buttonLink = __webpack_require__(/*! ./button-link.jsx */ "./src/components/buttons/button-link.jsx");

var _buttonLink2 = _interopRequireDefault(_buttonLink);

var _buttonOl = __webpack_require__(/*! ./button-ol.jsx */ "./src/components/buttons/button-ol.jsx");

var _buttonOl2 = _interopRequireDefault(_buttonOl);

var _buttonOutdentBlock = __webpack_require__(/*! ./button-outdent-block.jsx */ "./src/components/buttons/button-outdent-block.jsx");

var _buttonOutdentBlock2 = _interopRequireDefault(_buttonOutdentBlock);

var _buttonParagraphAlignLeft = __webpack_require__(/*! ./button-paragraph-align-left.jsx */ "./src/components/buttons/button-paragraph-align-left.jsx");

var _buttonParagraphAlignLeft2 = _interopRequireDefault(_buttonParagraphAlignLeft);

var _buttonParagraphAlignRight = __webpack_require__(/*! ./button-paragraph-align-right.jsx */ "./src/components/buttons/button-paragraph-align-right.jsx");

var _buttonParagraphAlignRight2 = _interopRequireDefault(_buttonParagraphAlignRight);

var _buttonParagraphCenter = __webpack_require__(/*! ./button-paragraph-center.jsx */ "./src/components/buttons/button-paragraph-center.jsx");

var _buttonParagraphCenter2 = _interopRequireDefault(_buttonParagraphCenter);

var _buttonParagraphJustify = __webpack_require__(/*! ./button-paragraph-justify.jsx */ "./src/components/buttons/button-paragraph-justify.jsx");

var _buttonParagraphJustify2 = _interopRequireDefault(_buttonParagraphJustify);

var _buttonQuote = __webpack_require__(/*! ./button-quote.jsx */ "./src/components/buttons/button-quote.jsx");

var _buttonQuote2 = _interopRequireDefault(_buttonQuote);

var _buttonRemoveFormat = __webpack_require__(/*! ./button-remove-format.jsx */ "./src/components/buttons/button-remove-format.jsx");

var _buttonRemoveFormat2 = _interopRequireDefault(_buttonRemoveFormat);

var _buttonStrike = __webpack_require__(/*! ./button-strike.jsx */ "./src/components/buttons/button-strike.jsx");

var _buttonStrike2 = _interopRequireDefault(_buttonStrike);

var _buttonStylesListHeader = __webpack_require__(/*! ./button-styles-list-header.jsx */ "./src/components/buttons/button-styles-list-header.jsx");

var _buttonStylesListHeader2 = _interopRequireDefault(_buttonStylesListHeader);

var _buttonStylesListItemRemove = __webpack_require__(/*! ./button-styles-list-item-remove.jsx */ "./src/components/buttons/button-styles-list-item-remove.jsx");

var _buttonStylesListItemRemove2 = _interopRequireDefault(_buttonStylesListItemRemove);

var _buttonStylesListItem = __webpack_require__(/*! ./button-styles-list-item.jsx */ "./src/components/buttons/button-styles-list-item.jsx");

var _buttonStylesListItem2 = _interopRequireDefault(_buttonStylesListItem);

var _buttonStylesList = __webpack_require__(/*! ./button-styles-list.jsx */ "./src/components/buttons/button-styles-list.jsx");

var _buttonStylesList2 = _interopRequireDefault(_buttonStylesList);

var _buttonStyles = __webpack_require__(/*! ./button-styles.jsx */ "./src/components/buttons/button-styles.jsx");

var _buttonStyles2 = _interopRequireDefault(_buttonStyles);

var _buttonSubscript = __webpack_require__(/*! ./button-subscript.jsx */ "./src/components/buttons/button-subscript.jsx");

var _buttonSubscript2 = _interopRequireDefault(_buttonSubscript);

var _buttonSuperscript = __webpack_require__(/*! ./button-superscript.jsx */ "./src/components/buttons/button-superscript.jsx");

var _buttonSuperscript2 = _interopRequireDefault(_buttonSuperscript);

var _buttonTableCell = __webpack_require__(/*! ./button-table-cell.jsx */ "./src/components/buttons/button-table-cell.jsx");

var _buttonTableCell2 = _interopRequireDefault(_buttonTableCell);

var _buttonTableColumn = __webpack_require__(/*! ./button-table-column.jsx */ "./src/components/buttons/button-table-column.jsx");

var _buttonTableColumn2 = _interopRequireDefault(_buttonTableColumn);

var _buttonTableEdit = __webpack_require__(/*! ./button-table-edit.jsx */ "./src/components/buttons/button-table-edit.jsx");

var _buttonTableEdit2 = _interopRequireDefault(_buttonTableEdit);

var _buttonTableHeading = __webpack_require__(/*! ./button-table-heading.jsx */ "./src/components/buttons/button-table-heading.jsx");

var _buttonTableHeading2 = _interopRequireDefault(_buttonTableHeading);

var _buttonTableRemove = __webpack_require__(/*! ./button-table-remove.jsx */ "./src/components/buttons/button-table-remove.jsx");

var _buttonTableRemove2 = _interopRequireDefault(_buttonTableRemove);

var _buttonTableRow = __webpack_require__(/*! ./button-table-row.jsx */ "./src/components/buttons/button-table-row.jsx");

var _buttonTableRow2 = _interopRequireDefault(_buttonTableRow);

var _buttonTable = __webpack_require__(/*! ./button-table.jsx */ "./src/components/buttons/button-table.jsx");

var _buttonTable2 = _interopRequireDefault(_buttonTable);

var _buttonTargetList = __webpack_require__(/*! ./button-target-list.jsx */ "./src/components/buttons/button-target-list.jsx");

var _buttonTargetList2 = _interopRequireDefault(_buttonTargetList);

var _buttonTwitter = __webpack_require__(/*! ./button-twitter.jsx */ "./src/components/buttons/button-twitter.jsx");

var _buttonTwitter2 = _interopRequireDefault(_buttonTwitter);

var _buttonUl = __webpack_require__(/*! ./button-ul.jsx */ "./src/components/buttons/button-ul.jsx");

var _buttonUl2 = _interopRequireDefault(_buttonUl);

var _buttonUnderline = __webpack_require__(/*! ./button-underline.jsx */ "./src/components/buttons/button-underline.jsx");

var _buttonUnderline2 = _interopRequireDefault(_buttonUnderline);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

exports.default = (_ButtonBold$key$Butto = {}, _defineProperty(_ButtonBold$key$Butto, _buttonBold2.default.key, _buttonBold2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCameraImage2.default.key, _buttonCameraImage2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCamera2.default.key, _buttonCamera2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCode2.default.key, _buttonCode2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCommandListItem2.default.key, _buttonCommandListItem2.default), _defineProperty(_ButtonBold$key$Butto, _buttonCommandsList2.default.key, _buttonCommandsList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonDropdown2.default.key, _buttonDropdown2.default), _defineProperty(_ButtonBold$key$Butto, _buttonEmbedEdit2.default.key, _buttonEmbedEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonEmbed2.default.key, _buttonEmbed2.default), _defineProperty(_ButtonBold$key$Butto, _buttonH2.default.key, _buttonH2.default), _defineProperty(_ButtonBold$key$Butto, _buttonH4.default.key, _buttonH4.default), _defineProperty(_ButtonBold$key$Butto, _buttonHline2.default.key, _buttonHline2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImageAlignCenter2.default.key, _buttonImageAlignCenter2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImageAlignLeft2.default.key, _buttonImageAlignLeft2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImageAlignRight2.default.key, _buttonImageAlignRight2.default), _defineProperty(_ButtonBold$key$Butto, _buttonImage2.default.key, _buttonImage2.default), _defineProperty(_ButtonBold$key$Butto, _buttonIndentBlock2.default.key, _buttonIndentBlock2.default), _defineProperty(_ButtonBold$key$Butto, _buttonItalic2.default.key, _buttonItalic2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLinkAutocompleteList2.default.key, _buttonLinkAutocompleteList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLinkEdit2.default.key, _buttonLinkEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLinkTargetEdit2.default.key, _buttonLinkTargetEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonLink2.default.key, _buttonLink2.default), _defineProperty(_ButtonBold$key$Butto, _buttonOl2.default.key, _buttonOl2.default), _defineProperty(_ButtonBold$key$Butto, _buttonOutdentBlock2.default.key, _buttonOutdentBlock2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphAlignLeft2.default.key, _buttonParagraphAlignLeft2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphAlignRight2.default.key, _buttonParagraphAlignRight2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphCenter2.default.key, _buttonParagraphCenter2.default), _defineProperty(_ButtonBold$key$Butto, _buttonParagraphJustify2.default.key, _buttonParagraphJustify2.default), _defineProperty(_ButtonBold$key$Butto, _buttonQuote2.default.key, _buttonQuote2.default), _defineProperty(_ButtonBold$key$Butto, _buttonRemoveFormat2.default.key, _buttonRemoveFormat2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStrike2.default.key, _buttonStrike2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesListHeader2.default.key, _buttonStylesListHeader2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesListItemRemove2.default.key, _buttonStylesListItemRemove2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesListItem2.default.key, _buttonStylesListItem2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStylesList2.default.key, _buttonStylesList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonStyles2.default.key, _buttonStyles2.default), _defineProperty(_ButtonBold$key$Butto, _buttonSubscript2.default.key, _buttonSubscript2.default), _defineProperty(_ButtonBold$key$Butto, _buttonSuperscript2.default.key, _buttonSuperscript2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableCell2.default.key, _buttonTableCell2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableColumn2.default.key, _buttonTableColumn2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableEdit2.default.key, _buttonTableEdit2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableHeading2.default.key, _buttonTableHeading2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableRemove2.default.key, _buttonTableRemove2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTableRow2.default.key, _buttonTableRow2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTable2.default.key, _buttonTable2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTargetList2.default.key, _buttonTargetList2.default), _defineProperty(_ButtonBold$key$Butto, _buttonTwitter2.default.key, _buttonTwitter2.default), _defineProperty(_ButtonBold$key$Butto, _buttonUl2.default.key, _buttonUl2.default), _defineProperty(_ButtonBold$key$Butto, _buttonUnderline2.default.key, _buttonUnderline2.default), _ButtonBold$key$Butto);

/***/ }),

/***/ "./src/components/main.jsx":
/*!*********************************!*\
  !*** ./src/components/main.jsx ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _widgetExclusive = __webpack_require__(/*! ./base/widget-exclusive.js */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ./base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The main editor UI class manages a hierarchy of widgets (toolbars and buttons).
 *
 * @class UI
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 */
var UI = function (_React$Component) {
    _inherits(UI, _React$Component);

    function UI(props) {
        _classCallCheck(this, UI);

        var _this = _possibleConstructorReturn(this, (UI.__proto__ || Object.getPrototypeOf(UI)).call(this, props));

        _this.state = {
            hidden: false
        };
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client, immediately after the initial rendering occurs.
     *
     * @instance
     * @memberof UI
     * @method componentDidMount
     */


    _createClass(UI, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            var editor = this.props.editor.get('nativeEditor');

            editor.on('editorInteraction', this._onEditorInteraction, this);
            editor.on('actionPerformed', this._onActionPerformed, this);
            editor.on('key', this._onEditorKey, this);

            // Set up events for hiding the UI when user stops interacting with the editor.
            // This may happen when he just clicks outside of the editor. However,
            // this does not include a situation when he clicks on some button, part of
            // editor's UI.

            // It is not easy to debounce _setUIHidden on mousedown, because if we
            // debounce it, when the handler is being invoked, the target might be no more part
            // of the editor's UI - onActionPerformed causes re-render.
            this._mousedownListener = function (event) {
                this._setUIHidden(event.target);
            }.bind(this);

            this._keyDownListener = CKEDITOR.tools.debounce(function (event) {
                this._setUIHidden(document.activeElement);
            }, this.props.eventsDelay, this);

            document.addEventListener('mousedown', this._mousedownListener);
            document.addEventListener('keydown', this._keyDownListener);
        }

        /**
         * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
         * Fires `ariaUpdate` event passing ARIA related messages.
         * Fires `editorUpdate` event passing the previous and current properties and state.
         *
         * @instance
         * @memberof UI
         * @method componentDidUpdate
         */

    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(prevProps, prevState) {
            var domNode = _reactDom2.default.findDOMNode(this);

            var editor = this.props.editor.get('nativeEditor');

            if (domNode) {
                editor.fire('ariaUpdate', {
                    message: this._getAvailableToolbarsMessage(domNode)
                });
            }

            editor.fire('editorUpdate', {
                prevProps: prevProps,
                prevState: prevState,
                props: this.props,
                state: this.state
            });
        }
    }, {
        key: '_getAriaUpdateTemplate',
        value: function _getAriaUpdateTemplate(ariaUpdate) {
            if (!this._ariaUpdateTemplates) {
                this._ariaUpdateTemplates = {};
            }

            if (!this._ariaUpdateTemplates[ariaUpdate]) {
                this._ariaUpdateTemplates[ariaUpdate] = new CKEDITOR.template(this._getAriaUpdates()[ariaUpdate]);
            }

            return this._ariaUpdateTemplates[ariaUpdate];
        }

        /**
         * Returns the templates for ARIA messages.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _getAriaUpdates
         * @return {Object} ARIA relates messages. Default:
         * {
         *      noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,
         *      oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,
         *      manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars
         *  }
         */

    }, {
        key: '_getAriaUpdates',
        value: function _getAriaUpdates() {
            return this.props.ariaUpdates || {
                noToolbar: AlloyEditor.Strings.ariaUpdateNoToolbar,
                oneToolbar: AlloyEditor.Strings.ariaUpdateOneToolbar,
                manyToolbars: AlloyEditor.Strings.ariaUpdateManyToolbars
            };
        }

        /**
         * Returns an ARIA message which represents the number of currently available toolbars.
         *
         * @instance
         * @memberof UI
         * @method _getAvailableToolbarsMessage
         * @protected
         * @param {CKEDITOR.dom.element} domNode The DOM node from which the available toolbars will be retrieved.
         * @return {String} The ARIA message for the number of available toolbars
         */

    }, {
        key: '_getAvailableToolbarsMessage',
        value: function _getAvailableToolbarsMessage(domNode) {
            var toolbarsNodeList = domNode.querySelectorAll('[role="toolbar"]');

            if (!toolbarsNodeList.length) {
                return this._getAriaUpdates().noToolbar;
            } else {
                var toolbarNames = Array.prototype.slice.call(toolbarsNodeList).map(function (toolbar) {
                    return toolbar.getAttribute('aria-label');
                });

                var ariaUpdate = toolbarNames.length === 1 ? 'oneToolbar' : 'manyToolbars';

                return this._getAriaUpdateTemplate(ariaUpdate).output({
                    toolbars: toolbarNames.join(',').replace(/,([^,]*)$/, ' and ' + '$1')
                });
            }
        }

        /**
         * Lifecycle. Invoked immediately before a component is unmounted from the DOM.
         *
         * @instance
         * @memberof UI
         * @method componentWillUnmount
         */

    }, {
        key: 'componentWillUnmount',
        value: function componentWillUnmount() {
            if (this._mousedownListener) {
                document.removeEventListener('mousedown', this._mousedownListener);
            }

            if (this._keyDownListener) {
                this._keyDownListener.detach();
                document.removeEventListener('keydown', this._keyDownListener);
            }
        }

        /**
         * Lifecycle. Renders the UI of the editor. This may include several toolbars and buttons.
         * The editor's UI also takes care of rendering the items in exclusive mode.
         *
         * @instance
         * @memberof UI
         * @method render
         * @return {Object} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            if (this.state.hidden) {
                return null;
            }

            var toolbars = Object.keys(this.props.toolbars).map(function (toolbar) {
                return AlloyEditor.Toolbars[toolbar] || window[toolbar];
            });

            toolbars = this.filterExclusive(toolbars).map(function (toolbar) {
                var props = this.mergeExclusiveProps({
                    config: this.props.toolbars[toolbar.key],
                    editor: this.props.editor,
                    editorEvent: this.state.editorEvent,
                    key: toolbar.key,
                    onDismiss: this._onDismissToolbarFocus,
                    selectionData: this.state.selectionData
                }, toolbar.key);

                return _react2.default.createElement(toolbar, props);
            }.bind(this));

            return _react2.default.createElement(
                'div',
                { className: 'ae-toolbars', onKeyDown: this.handleKey.bind(this) },
                toolbars
            );
        }

        /**
         * Listener to the editor's `actionPerformed` event. Sets state and redraws the UI of the editor.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onActionPerformed
         * @param {SynteticEvent} event The provided event
         */

    }, {
        key: '_onActionPerformed',
        value: function _onActionPerformed(event) {
            var editor = this.props.editor.get('nativeEditor');

            editor.focus();

            this.setState({
                itemExclusive: null,
                selectionData: editor.getSelectionData()
            });
        }

        /**
         * Executed when a dismiss key is pressed over a toolbar to return the focus to the editor.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onDismissToolbarFocus
         */

    }, {
        key: '_onDismissToolbarFocus',
        value: function _onDismissToolbarFocus() {
            var editor = this.props.editor.get('nativeEditor');

            editor.focus();
        }

        /**
         * Listener to the editor's `userInteraction` event. Retrieves the data about the user selection and
         * provides it via component's state property.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onEditorInteraction
         * @param {SynteticEvent} event The provided event
         */

    }, {
        key: '_onEditorInteraction',
        value: function _onEditorInteraction(event) {
            this.setState({
                editorEvent: event,
                hidden: false,
                itemExclusive: null,
                selectionData: event.data.selectionData
            });
        }

        /**
         * Focuses on the active toolbar when the combination ALT+F10 is pressed inside the editor.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _onEditorKey
         */

    }, {
        key: '_onEditorKey',
        value: function _onEditorKey(event) {
            var nativeEvent = event.data.domEvent.$;

            if (nativeEvent.altKey && nativeEvent.keyCode === 121) {
                this.focus();
            }
        }

        /**
         * Checks if the target with which the user interacted is part of editor's UI or it is
         * the editable area. If none of these, sets the state of editor's UI to be hidden.
         *
         * @instance
         * @memberof UI
         * @protected
         * @method _setUIHidden
         * @param {DOMElement} target The DOM element with which user interacted lastly.
         */

    }, {
        key: '_setUIHidden',
        value: function _setUIHidden(target) {
            var domNode = _reactDom2.default.findDOMNode(this);

            if (domNode) {
                var editable = this.props.editor.get('nativeEditor').editable();
                var targetNode = new CKEDITOR.dom.node(target);

                if (!editable) {
                    this.setState({
                        hidden: true
                    });
                } else {
                    var res = editable.$ === target || editable.contains(targetNode) || new CKEDITOR.dom.element(domNode).contains(targetNode);

                    if (!res) {
                        this.setState({
                            hidden: true
                        });
                    }
                }
            }
        }
    }]);

    return UI;
}(_react2.default.Component);

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof UI
 * @method getDefaultProps
 * @return {Object} The default properties.
 */


UI.defaultProps = {
    circular: true,
    descendants: '[class^=ae-toolbar-]',
    eventsDelay: 0,
    keys: {
        next: 9
    }
};

/**
 * Fired when component updates and when it is rendered in the DOM.
 * The payload consists from a `message` property containing the ARIA message.
 *
 * @event ariaUpdate
 */

/**
 * Fired when component updates. The payload consists from an object with the following
 * properties:
 * - prevProps - The previous properties of the component
 * - prevState - The previous state of the component
 * - props - The current properties of the component
 * - state - The current state of the component
 *
 * @event ariaUpdate
 */

exports.default = (0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)(UI));

/***/ }),

/***/ "./src/components/toolbars/index.js":
/*!******************************************!*\
  !*** ./src/components/toolbars/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _ToolbarAdd$key$Toolb;

var _toolbarAdd = __webpack_require__(/*! ./toolbar-add.jsx */ "./src/components/toolbars/toolbar-add.jsx");

var _toolbarAdd2 = _interopRequireDefault(_toolbarAdd);

var _toolbarStyles = __webpack_require__(/*! ./toolbar-styles.jsx */ "./src/components/toolbars/toolbar-styles.jsx");

var _toolbarStyles2 = _interopRequireDefault(_toolbarStyles);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

exports.default = (_ToolbarAdd$key$Toolb = {}, _defineProperty(_ToolbarAdd$key$Toolb, _toolbarAdd2.default.key, _toolbarAdd2.default), _defineProperty(_ToolbarAdd$key$Toolb, _toolbarStyles2.default.key, _toolbarStyles2.default), _ToolbarAdd$key$Toolb);

/***/ }),

/***/ "./src/components/toolbars/toolbar-add.jsx":
/*!*************************************************!*\
  !*** ./src/components/toolbars/toolbar-add.jsx ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _toolbarButtons = __webpack_require__(/*! ../base/toolbar-buttons.js */ "./src/components/base/toolbar-buttons.js");

var _toolbarButtons2 = _interopRequireDefault(_toolbarButtons);

var _widgetArrowBox = __webpack_require__(/*! ../base/widget-arrow-box.js */ "./src/components/base/widget-arrow-box.js");

var _widgetArrowBox2 = _interopRequireDefault(_widgetArrowBox);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown.js */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetExclusive = __webpack_require__(/*! ../base/widget-exclusive.js */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _widgetPosition = __webpack_require__(/*! ../base/widget-position.js */ "./src/components/base/widget-position.js");

var _widgetPosition2 = _interopRequireDefault(_widgetPosition);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var POSITION_LEFT = 1;
var POSITION_RIGHT = 2;

/**
 * The ToolbarAdd class provides functionality for adding content to the editor.
 *
 * @class ToolbarAdd
 * @uses ToolbarButtons
 * @uses WidgetArrowBox
 * @uses WidgetDropdown
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 * @uses WidgetPosition
 */

var ToolbarAdd = function (_React$Component) {
    _inherits(ToolbarAdd, _React$Component);

    function ToolbarAdd(props) {
        _classCallCheck(this, ToolbarAdd);

        var _this = _possibleConstructorReturn(this, (ToolbarAdd.__proto__ || Object.getPrototypeOf(ToolbarAdd)).call(this, props));

        _this.state = {};
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client (not on the server),
     * immediately after the initial rendering occurs.
     *
     * @instance
     * @memberof ToolbarAdd
     * @method componentDidMount
     */


    _createClass(ToolbarAdd, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this._updatePosition();
        }

        /**
         * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method componentDidUpdate
         * @param {Object} prevProps The previous state of the component's properties.
         * @param {Object} prevState Component's previous state.
         */

    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(prevProps, prevState) {
            this._updatePosition();

            // In case of exclusive rendering, focus the first descendant (button)
            // so the user will be able to start interacting with the buttons immediately.
            if (this.props.renderExclusive) {
                this.focus();
            }
        }

        /**
         * Lifecycle. Renders the buttons for adding content or hides the toolbar
         * if user interacted with a non-editable element.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method render
         * @return {Object|null} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            // Some operations such as `requestExclusive` may force editor to blur which will
            // invalidate the `props.editorEvent` stored value, without causing a `props` change.
            // For example, if the editor is empty, `ae_placeholder` plugin will remove
            // the target from the DOM and will prevent `add` toolbar from rendering.
            //
            // It should be safe to assume that if you have been able to render the toolbar
            // and request the exclusive mode, then rendering might be kept until the exclusive mode is left.
            if (!this.state.itemExclusive && this.props.editorEvent && this.props.editorEvent.data.nativeEvent.target && !this.props.editorEvent.data.nativeEvent.target.isContentEditable) {
                return null;
            }

            var buttons = this._getButtons();
            var className = this._getToolbarClassName();

            return _react2.default.createElement(
                'div',
                { 'aria-label': AlloyEditor.Strings.add, className: className, 'data-tabindex': this.props.config.tabIndex || 0, onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), role: 'toolbar', tabIndex: '-1' },
                _react2.default.createElement(
                    'div',
                    { className: 'ae-container' },
                    buttons
                )
            );
        }

        /**
         * Returns a list of buttons that will eventually render to HTML.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method _getButtons
         * @protected
         * @return {Object} The buttons which have to be rendered.
         */

    }, {
        key: '_getButtons',
        value: function _getButtons() {
            var buttons;

            if (this.props.renderExclusive) {
                buttons = this.getToolbarButtons(this.props.config.buttons);
            } else {
                if (this.props.selectionData && this.props.selectionData.region) {
                    buttons = _react2.default.createElement(
                        'button',
                        { 'aria-label': AlloyEditor.Strings.add, className: 'ae-button ae-button-add', onClick: this.props.requestExclusive.bind(this, ToolbarAdd.key), title: AlloyEditor.Strings.add },
                        _react2.default.createElement('span', { className: 'ae-icon-add' })
                    );
                }
            }

            return buttons;
        }

        /**
         * Returns the class name of the toolbar in case of both exclusive and normal mode.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method _getToolbarClassName
         * @protected
         * @return {String} The class name which have to be applied to the DOM element.
         */

    }, {
        key: '_getToolbarClassName',
        value: function _getToolbarClassName() {
            var cssClass = 'ae-toolbar-add';

            if (this.props.renderExclusive) {
                cssClass = 'ae-toolbar ' + this.getArrowBoxClasses();
            }

            return cssClass;
        }

        /**
         * Calculates and sets the position of the toolbar in exclusive or normal mode.
         *
         * @instance
         * @memberof ToolbarAdd
         * @method _updatePosition
         * @protected
         */

    }, {
        key: '_updatePosition',
        value: function _updatePosition() {
            var region;

            // If component is not mounted, there is nothing to do
            if (!_reactDom2.default.findDOMNode(this)) {
                return;
            }

            if (this.props.renderExclusive) {
                this.updatePosition();
                this.show();
            } else {
                if (this.props.selectionData) {
                    region = this.props.selectionData.region;
                }

                if (region) {
                    var domNode = _reactDom2.default.findDOMNode(this);

                    var domElement = new CKEDITOR.dom.element(domNode);

                    var startRect = region.startRect || region;

                    var nativeEditor = this.props.editor.get('nativeEditor');

                    var clientRect = nativeEditor.editable().getClientRect();

                    var offsetLeft;

                    var position = this.props.config.position || this.props.position;

                    if (position === POSITION_LEFT) {
                        offsetLeft = clientRect.left - domNode.offsetWidth - this.props.gutterExclusive.left + 'px';
                    } else {
                        offsetLeft = clientRect.right + this.props.gutterExclusive.left + 'px';
                    }

                    domNode.style.left = offsetLeft;

                    domNode.style.top = Math.floor((region.bottom + region.top) / 2) + 'px';

                    if (nativeEditor.element.getStyle('overflow') !== 'auto') {
                        domNode.style.top = Math.floor(region.top - domNode.offsetHeight / 2 + startRect.height / 2) + 'px';
                    } else {
                        domNode.style.top = Math.floor(nativeEditor.element.$.offsetTop + startRect.height / 2 - domNode.offsetHeight / 2) + 'px';
                    }

                    domNode.style.opacity = 1;

                    domElement.removeClass('ae-arrow-box');

                    this.cancelAnimation();
                }
            }
        }
    }]);

    return ToolbarAdd;
}(_react2.default.Component);

/**
 * The name which will be used as an alias of the button in the configuration.
 *
 * @default add
 * @memberof ToolbarAdd
 * @property {String} key
 * @static
 */


ToolbarAdd.key = 'add';

/**
 * Defines the constant for positioning the Toolbar on left of the editable area.
 *
 * @default 1
 * @memberof ToolbarAdd
 * @property {String} left
 * @static
 */
ToolbarAdd.left = POSITION_LEFT;

/**
 * Defines the constant for positioning the Toolbar on right of the editable area.
 *
 * @default 2
 * @memberof ToolbarAdd
 * @property {String} right
 * @static
 */
ToolbarAdd.right = POSITION_RIGHT;

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ToolbarAdd
 * @method getDefaultProps
 * @return {Object} The default properties.
 */
ToolbarAdd.defaultProps = {
    circular: true,
    descendants: '.ae-button',
    gutterExclusive: {
        left: 10,
        top: 0
    },
    keys: {
        dismiss: [27],
        next: [39, 40],
        prev: [37, 38]
    },
    position: POSITION_LEFT
};

exports.default = (0, _widgetArrowBox2.default)((0, _widgetDropdown2.default)((0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)((0, _widgetPosition2.default)((0, _toolbarButtons2.default)(ToolbarAdd))))));

/***/ }),

/***/ "./src/components/toolbars/toolbar-styles.jsx":
/*!****************************************************!*\
  !*** ./src/components/toolbars/toolbar-styles.jsx ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _lang = __webpack_require__(/*! ../../oop/lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _react = __webpack_require__(/*! react */ "react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _toolbarButtons = __webpack_require__(/*! ../base/toolbar-buttons.js */ "./src/components/base/toolbar-buttons.js");

var _toolbarButtons2 = _interopRequireDefault(_toolbarButtons);

var _widgetArrowBox = __webpack_require__(/*! ../base/widget-arrow-box.js */ "./src/components/base/widget-arrow-box.js");

var _widgetArrowBox2 = _interopRequireDefault(_widgetArrowBox);

var _widgetDropdown = __webpack_require__(/*! ../base/widget-dropdown.js */ "./src/components/base/widget-dropdown.js");

var _widgetDropdown2 = _interopRequireDefault(_widgetDropdown);

var _widgetExclusive = __webpack_require__(/*! ../base/widget-exclusive.js */ "./src/components/base/widget-exclusive.js");

var _widgetExclusive2 = _interopRequireDefault(_widgetExclusive);

var _widgetFocusManager = __webpack_require__(/*! ../base/widget-focus-manager.js */ "./src/components/base/widget-focus-manager.js");

var _widgetFocusManager2 = _interopRequireDefault(_widgetFocusManager);

var _widgetPosition = __webpack_require__(/*! ../base/widget-position.js */ "./src/components/base/widget-position.js");

var _widgetPosition2 = _interopRequireDefault(_widgetPosition);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/**
 * The ToolbarStyles class hosts the buttons for styling a text selection.
 *
 * @class ToolbarStyles
 * @uses ToolbarButtons
 * @uses WidgetArrowBox
 * @uses WidgetDropdown
 * @uses WidgetExclusive
 * @uses WidgetFocusManager
 * @uses WidgetPosition
 */
var ToolbarStyles = function (_React$Component) {
    _inherits(ToolbarStyles, _React$Component);

    function ToolbarStyles(props) {
        _classCallCheck(this, ToolbarStyles);

        var _this = _possibleConstructorReturn(this, (ToolbarStyles.__proto__ || Object.getPrototypeOf(ToolbarStyles)).call(this, props));

        _this.state = {};
        return _this;
    }

    /**
     * Lifecycle. Invoked once, only on the client (not on the server),
     * immediately after the initial rendering occurs.
     *
     * @instance
     * @memberof ToolbarStyles
     * @method componentDidMount
     */


    _createClass(ToolbarStyles, [{
        key: 'componentDidMount',
        value: function componentDidMount() {
            this._updatePosition();
        }

        /**
         * Lifecycle. Invoked immediately after the component's updates are flushed to the DOM.
         * This method is not called for the initial render.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method componentDidUpdate
         * @param {Object} prevProps The previous state of the component's properties.
         * @param {Object} prevState Component's previous state.
         */

    }, {
        key: 'componentDidUpdate',
        value: function componentDidUpdate(prevProps, prevState) {
            this._updatePosition();
        }

        /**
         * Lifecycle. Renders the buttons for adding content or hides the toolbar
         * if user interacted with a non-editable element.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method render
         * @return {Object|null} The content which should be rendered.
         */

    }, {
        key: 'render',
        value: function render() {
            var currentSelection = this._getCurrentSelection();

            if (currentSelection) {
                var getArrowBoxClassesFn = this._getSelectionFunction(currentSelection.getArrowBoxClasses);
                var arrowBoxClasses;

                if (getArrowBoxClassesFn) {
                    arrowBoxClasses = getArrowBoxClassesFn();
                } else {
                    arrowBoxClasses = this.getArrowBoxClasses();
                }

                var cssClasses = 'ae-toolbar-styles ' + arrowBoxClasses;

                var buttons = this.getToolbarButtons(currentSelection.buttons, {
                    manualSelection: this.props.editorEvent ? this.props.editorEvent.data.manualSelection : null,
                    selectionType: currentSelection.name
                });

                return _react2.default.createElement(
                    'div',
                    { 'aria-label': AlloyEditor.Strings.styles, className: cssClasses, 'data-tabindex': this.props.config.tabIndex || 0, onFocus: this.focus.bind(this), onKeyDown: this.handleKey.bind(this), role: 'toolbar', tabIndex: '-1' },
                    _react2.default.createElement(
                        'div',
                        { className: 'ae-container' },
                        buttons
                    )
                );
            }

            return null;
        }

        /**
         * Retrieve a function from String. It converts a fully qualified string into the mapped function.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method _getSelectionFunction
         * @param {Function|String} selectionFn A function, or a fully qualified string pointing to the desired one (e.g. 'AlloyEditor.SelectionTest.image').
         * @protected
         * @return {Function} The mapped function.
         */

    }, {
        key: '_getSelectionFunction',
        value: function _getSelectionFunction(selectionFn) {
            var selectionFunction;

            if (_lang2.default.isFunction(selectionFn)) {
                selectionFunction = selectionFn;
            } else if (_lang2.default.isString(selectionFn)) {
                var parts = selectionFn.split('.');
                var currentMember = window;
                var property = parts.shift();

                while (property && _lang2.default.isObject(currentMember) && _lang2.default.isObject(currentMember[property])) {
                    currentMember = currentMember[property];
                    property = parts.shift();
                }

                if (_lang2.default.isFunction(currentMember)) {
                    selectionFunction = currentMember;
                }
            }

            return selectionFunction;
        }

        /**
         * Analyzes the current editor selection and returns the selection configuration that matches.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method _getCurrentSelection
         * @protected
         * @return {Object} The matched selection configuration.
         */

    }, {
        key: '_getCurrentSelection',
        value: function _getCurrentSelection() {
            var eventPayload = this.props.editorEvent ? this.props.editorEvent.data : null;
            var selection;

            if (eventPayload) {
                this.props.config.selections.some(function (item) {
                    var testFn = this._getSelectionFunction(item.test);
                    var result;

                    if (testFn) {
                        result = eventPayload.manualSelection === item.name || testFn({
                            data: eventPayload,
                            editor: this.props.editor
                        });
                    }

                    if (result) {
                        selection = item;
                    }

                    return result;
                }, this);
            }

            return selection;
        }

<<<<<<< HEAD
        /**
         * Calculates and sets the position of the toolbar.
         *
         * @instance
         * @memberof ToolbarStyles
         * @method _updatePosition
         * @protected
         */
=======
    var linkSelectionTest = function linkSelectionTest(payload) {
        var nativeEditor = payload.editor.get('nativeEditor');
<<<<<<< HEAD
        var range = nativeEditor.getSelection().getRanges()[0];
        var selectionData = payload.data.selectionData;

        var selectionDataName;
>>>>>>> c1d36639... Build files (auto-generated)
=======
        var uiNode = nativeEditor.config.uiNode || document.body;

        var table = new CKEDITOR.Table(nativeEditor).getFromSelection();
        var rect = table.getClientRect();
        rect.top += uiNode.scrollTop;

        centerToolbar(this, rect);

        return true;
    };

    AlloyEditor.SelectionSetPosition = {
        image: imageSelectionSetPosition,
        table: tableSelectionSetPosition
    };
})();
'use strict';

(function () {
    'use strict';

    var _isRangeAtElementEnd = function _isRangeAtElementEnd(range, element) {
        // Finding if a range is at the end of an element is somewhat tricky due to how CKEditor handles
        // ranges. It might depend on wether a source node inside the element is selected or not. For now,
        // we need to cover the following cases:
        //
        // - The text length of the element is the same as the endOffset of the range
        // - Both start and end containers match the element and the start and end offsets are 1
>>>>>>> f1d775e5... Build files (auto-generated)

    }, {
        key: '_updatePosition',
        value: function _updatePosition() {
            // If component is not mounted, there is nothing to do
            if (!_reactDom2.default.findDOMNode(this)) {
                return;
            }

<<<<<<< HEAD
            var currentSelection = this._getCurrentSelection();
            var result;
=======
        if (selectionData.element) selectionDataName = selectionData.element.getName();

        return !!(nativeEditor.isSelectionEmpty() && selectionDataName !== 'img' && (element = new CKEDITOR.Link(nativeEditor).getFromSelection()) && element.getText().length !== range.endOffset && !element.isReadOnly() && !_isRangeAtElementEnd(range, element));
    };
>>>>>>> c1d36639... Build files (auto-generated)

<<<<<<< HEAD
            // If current selection has a function called `setPosition`, call it
            // and check the returned value. If false, fallback to the default positioning logic.
            if (currentSelection) {
                var setPositionFn = this._getSelectionFunction(currentSelection.setPosition);
=======
    var linkSelectionTest = function linkSelectionTest(payload) {
        var nativeEditor = payload.editor.get('nativeEditor');
        var range = nativeEditor.getSelection().getRanges()[0];
        var selectionData = payload.data.selectionData;

        var selectionDataName;
>>>>>>> 044ae5d4b4217bbf7f6d2cfdce575e8db6192a43

<<<<<<< HEAD
                if (setPositionFn) {
                    result = setPositionFn.call(this, {
                        editor: this.props.editor,
                        editorEvent: this.props.editorEvent,
                        selectionData: this.props.selectionData
                    });
                }
            }
=======
        var selectionEmpty = false;

<<<<<<< HEAD
        if (payload.editor) {
            var nativeEditor = payload.editor._getNativeEditor();
=======
        if (selectionData.element) selectionDataName = selectionData.element.getName();

        return !!(nativeEditor.isSelectionEmpty() && selectionDataName !== 'img' && (element = new CKEDITOR.Link(nativeEditor).getFromSelection()) && element.getText().length !== range.endOffset && !element.isReadOnly() && !_isRangeAtElementEnd(range, element));
    };
>>>>>>> 044ae5d4b4217bbf7f6d2cfdce575e8db6192a43

            selectionEmpty = nativeEditor.isSelectionEmpty();
        }

<<<<<<< HEAD
=======
        var selectionEmpty = false;

        if (payload.editor) {
            var nativeEditor = payload.editor._getNativeEditor();

            selectionEmpty = nativeEditor.isSelectionEmpty();
        }

>>>>>>> 044ae5d4b4217bbf7f6d2cfdce575e8db6192a43
        return !!(selectionData.element && selectionData.element.getName() === 'img' && !selectionEmpty && !selectionData.element.isReadOnly());
    };
>>>>>>> c1d36639... Build files (auto-generated)

            if (!result) {
                this.updatePosition();
                this.show();
            }
        }
    }]);

    return ToolbarStyles;
}(_react2.default.Component);

/**
 * Lifecycle. Returns the default values of the properties used in the widget.
 *
 * @instance
 * @memberof ToolbarStyles
 * @method getDefaultProps
 * @return {Object} The default properties.
 */


ToolbarStyles.defaultProps = {
    circular: true,
    descendants: '.ae-input, .ae-button:not([disabled]), .ae-toolbar-element',
    keys: {
        dismiss: [27],
        next: [39, 40],
        prev: [37, 38]
    }
};

/**
* The name which will be used as an alias of the button in the configuration.
*
* @default styles
* @memberof ToolbarStyles
* @property {String} key
* @static
*/
ToolbarStyles.key = 'styles';

exports.default = (0, _widgetArrowBox2.default)((0, _widgetDropdown2.default)((0, _widgetExclusive2.default)((0, _widgetFocusManager2.default)((0, _widgetPosition2.default)((0, _toolbarButtons2.default)(ToolbarStyles))))));

/***/ }),

/***/ "./src/components/uibridge/uibridge.js":
/*!*********************************************!*\
  !*** ./src/components/uibridge/uibridge.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_uibridge')) {
        return;
    }

    /**
     * CKEditor plugin that extends CKEDITOR.ui.add function so an add handler can be specified
     * on top of the original ones. It bridges the calls to add components via:
     * - editor.ui.add(name, type, definition)
     *
     * @class CKEDITOR.plugins.ae_uibridge
     * @constructor
     */
    CKEDITOR.plugins.add('ae_uibridge', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         *
         * @method beforeInit
         * @param {Object} editor The current editor instance
         */
        beforeInit: function beforeInit(editor) {
            var originalUIAddFn = editor.ui.add;

            editor.ui.add = function (name, type, definition) {
                originalUIAddFn.apply(this, arguments);

                var typeHandler = this._.handlers[type];

                if (typeHandler && typeHandler.add) {
                    typeHandler.add(name, definition, editor);
                    AlloyEditor.registerBridgeButton(name, editor.__processingPlugin__.plugin.name);
                }
            };
        }
    });
})();

/***/ }),

/***/ "./src/core/debounce.js":
/*!******************************!*\
  !*** ./src/core/debounce.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /**
     * Debounce util function. If a function execution is expensive, it might be debounced. This means
     * that it will be executed after some amount of time after its last call. For example, if we attach a
     * a function on scroll event, it might be called hundreds times per second. In this case it may be
     * debounced with, let's say 100ms. The real execution of this function will happen 100ms after last
     * scroll event.
     *
     * @memberof CKEDITOR.tools
     * @method debounce
     * @param {Array} args An array of arguments which the callback will receive.
     * @param {Function} callback The callback which has to be called after given timeout.
     * @param {Number} timeout Timeout in milliseconds after which the callback will be called.
     * @param {Object} context The context in which the callback will be called. This argument is optional.
     * @static
     */

    CKEDITOR.tools.debounce = CKEDITOR.tools.debounce || function (callback, timeout, context, args) {
        var debounceHandle;

        var callFn = function callFn() {
            var callContext = context || this;

            clearTimeout(debounceHandle);

            var result = [];

<<<<<<< HEAD
            for (var len = arguments.length, startIndex = 0; startIndex < len; ++startIndex) {
                result.push(arguments[startIndex]);
            }

            var callArgs = result.concat(args || []);

            debounceHandle = setTimeout(function () {
                callback.apply(callContext, callArgs);
            }, timeout);
        };
=======
    /**
     * Sets the position of a toolbar according to the position of the selected image
     *
     * @method tableSelectionSetPosition
     * @param {Object} payload Object, which contains the selection data for retrieving the
     * client rectangle of the selected table
     * @return {Boolean} True, in all cases
     */
    var tableSelectionSetPosition = function tableSelectionSetPosition(payload) {
        var nativeEditor = payload.editor.get('nativeEditor');
        var uiNode = nativeEditor.config.uiNode;

        var scrollTop = uiNode ? uiNode.scrollTop : 0;

        var table = new CKEDITOR.Table(nativeEditor).getFromSelection();
        var rect = table.getClientRect();
        rect.top += scrollTop;

        centerToolbar(this, rect);
>>>>>>> 9e606a51386278fa9f62b17771971673c9b6a41d

        callFn.detach = function () {
            clearTimeout(debounceHandle);
        };

        return callFn;
    };
})();

/***/ }),

/***/ "./src/core/index.js":
/*!***************************!*\
  !*** ./src/core/index.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.uicore = exports.tools = exports.table = exports.selectionRegion = exports.plugins = exports.link = exports.debounce = undefined;

var _debounce = __webpack_require__(/*! ./debounce */ "./src/core/debounce.js");

var _debounce2 = _interopRequireDefault(_debounce);

var _link = __webpack_require__(/*! ./link */ "./src/core/link.js");

var _link2 = _interopRequireDefault(_link);

var _plugins = __webpack_require__(/*! ./plugins */ "./src/core/plugins.js");

var _plugins2 = _interopRequireDefault(_plugins);

var _selectionRegion = __webpack_require__(/*! ./selection-region */ "./src/core/selection-region.js");

var _selectionRegion2 = _interopRequireDefault(_selectionRegion);

var _table = __webpack_require__(/*! ./table */ "./src/core/table.js");

var _table2 = _interopRequireDefault(_table);

var _tools = __webpack_require__(/*! ./tools */ "./src/core/tools.js");

var _tools2 = _interopRequireDefault(_tools);

var _uicore = __webpack_require__(/*! ./uicore */ "./src/core/uicore.js");

var _uicore2 = _interopRequireDefault(_uicore);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.debounce = _debounce2.default;
exports.link = _link2.default;
exports.plugins = _plugins2.default;
exports.selectionRegion = _selectionRegion2.default;
exports.table = _table2.default;
exports.tools = _tools2.default;
exports.uicore = _uicore2.default;

/***/ }),

/***/ "./src/core/link.js":
/*!**************************!*\
  !*** ./src/core/link.js ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

(function () {
    'use strict';

    var REGEX_BOOKMARK_SCHEME = /^#.*/i;
    var REGEX_EMAIL_SCHEME = /^[a-z0-9\u0430-\u044F\._-]+@/i;
    var REGEX_URI_SCHEME = /^(?:[a-z][a-z0-9+\-.]*)\:|^\//i;

    /**
     * Link class utility. Provides methods for create, delete and update links.
     *
     * @class CKEDITOR.Link
     * @constructor
     * @param {Object} editor The CKEditor instance.
     */
    function Link(editor, config) {
        this._editor = editor;
        this.appendProtocol = config && config.appendProtocol === false ? false : true;
    }

    Link.prototype = {
        constructor: Link,

        /**
         * Advances the editor selection to the next available position after a
         * given link or the one in the current selection.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method advanceSelection
         * @param {CKEDITOR.dom.element} link The link element which link style should be removed.
         */
        advanceSelection: function advanceSelection(link) {
            link = link || this.getFromSelection();

            var range = this._editor.getSelection().getRanges()[0];

            if (link) {
                range.moveToElementEditEnd(link);

                var nextNode = range.getNextEditableNode();

                if (nextNode && !this._editor.element.equals(nextNode.getCommonAncestor(link))) {
                    var whitespace = /\s/.exec(nextNode.getText());

                    var offset = whitespace ? whitespace.index + 1 : 0;

                    range.setStart(nextNode, offset);
                    range.setEnd(nextNode, offset);
                }
            }

            this._editor.getSelection().selectRanges([range]);
        },

        /**
         * Create a link with given URI as href.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method create
         * @param {Object} attrs A config object with link attributes. These might be arbitrary DOM attributes.
         * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
         * @param {String} URI The URI of the link.
         */
        create: function create(URI, attrs, modifySelection) {
            var selection = this._editor.getSelection();

            var range = selection.getRanges()[0];

            if (range.collapsed) {
                var text = new CKEDITOR.dom.text(URI, this._editor.document);
                range.insertNode(text);
                range.selectNodeContents(text);
            }

            URI = this._getCompleteURI(URI);

            var linkAttrs = CKEDITOR.tools.merge({
                'data-cke-saved-href': URI,
                href: URI
            }, attrs);

            var style = new CKEDITOR.style({
                attributes: linkAttrs,
                element: 'a'
            });

            style.type = CKEDITOR.STYLE_INLINE;
            style.applyToRange(range, this._editor);

            if (modifySelection && modifySelection.advance) {
                this.advanceSelection();
            } else {
                range.select();
            }
        },

        /**
         * Retrieves a link from the current selection.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method getFromSelection
         * @return {CKEDITOR.dom.element} The retrieved link or null if not found.
         */
        getFromSelection: function getFromSelection() {
            var selection = this._editor.getSelection();

            var selectedElement = selection.getSelectedElement();

            if (selectedElement && selectedElement.is('a')) {
                return selectedElement;
            }

            var range = selection.getRanges()[0];

            if (range) {
                range.shrink(CKEDITOR.SHRINK_TEXT);

                return this._editor.elementPath(range.getCommonAncestor()).contains('a', 1);
            }

            return null;
        },

        /**
         * Removes a link from the editor.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method remove
         * @param {CKEDITOR.dom.element} link The link element which link style should be removed.
         * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
         */
        remove: function remove(link, modifySelection) {
            var editor = this._editor;

            if (link) {
                if (modifySelection && modifySelection.advance) {
                    this.advanceSelection();
                }

                link.remove(editor);
            } else {
                var style = new CKEDITOR.style({
                    alwaysRemoveElement: 1,
                    element: 'a',
                    type: CKEDITOR.STYLE_INLINE
                });

                // 'removeStyle()' removes the style from the editor's current selection.
                //  We need to force the selection to be the whole link element
                //  to remove it properly.

                var selection = editor.getSelection();
                selection.selectElement(selection.getStartElement());

                editor.removeStyle(style);
            }
        },

        /**
         * Updates the href of an already existing link.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method update
         * @param {CKEDITOR.dom.element} link The link element which href should be removed.
         * @param {Object|String} attrs The attributes to update or remove. Attributes with null values will be removed.
         * @param {Object} modifySelection A config object with an advance attribute to indicate if the selection should be moved after the link creation.
         */
        update: function update(attrs, link, modifySelection) {
            var instance = this;

            link = link || this.getFromSelection();

            if (typeof attrs === 'string') {
                var uri = instance._getCompleteURI(attrs);

                link.setAttributes({
                    'data-cke-saved-href': uri,
                    href: uri
                });
            } else if ((typeof attrs === 'undefined' ? 'undefined' : _typeof(attrs)) === 'object') {
                var removeAttrs = [];

                var setAttrs = {};

                Object.keys(attrs).forEach(function (key) {
                    if (attrs[key] === null) {
                        if (key === 'href') {
                            removeAttrs.push('data-cke-saved-href');
                        }

                        removeAttrs.push(key);
                    } else {
                        if (key === 'href') {
                            var uri = instance._getCompleteURI(attrs[key]);

                            setAttrs['data-cke-saved-href'] = uri;
                            setAttrs[key] = uri;
                        } else {
                            setAttrs[key] = attrs[key];
                        }
                    }
                });

                link.removeAttributes(removeAttrs);
                link.setAttributes(setAttrs);
            }

            if (modifySelection && modifySelection.advance) {
                this.advanceSelection(link);
            }
        },

        /**
         * Checks if the URI begins with a '#' symbol to determine if it's an on page bookmark.
         * If it doesn't, it then checks if the URI has an '@' symbol. If it does and the URI
         * looks like an email and doesn't have 'mailto:', 'mailto:' is added to the URI.
         * If it doesn't and the URI doesn't have a scheme, the default 'http' scheme with
         * hierarchical path '//' is added to the URI.
         *
         * @instance
         * @memberof CKEDITOR.Link
         * @method _getCompleteURI
         * @param {String} URI The URI of the link.
         * @protected
         * @return {String} The URI updated with the protocol.
         */
        _getCompleteURI: function _getCompleteURI(URI) {
            if (REGEX_BOOKMARK_SCHEME.test(URI)) {
                return URI;
            } else if (REGEX_EMAIL_SCHEME.test(URI)) {
                URI = 'mailto:' + URI;
            } else if (!REGEX_URI_SCHEME.test(URI)) {
                URI = this.appendProtocol ? 'http://' + URI : URI;
            }

            return URI;
        }
    };

    CKEDITOR.Link = CKEDITOR.Link || Link;
})();

/***/ }),

/***/ "./src/core/plugins.js":
/*!*****************************!*\
  !*** ./src/core/plugins.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    // Wraps each of the plugin lifecycle methods in a closure that will
    // set up the editor.__processingPlugin__ variable so it can be globally
    // accessed exposing the plugin being processed and the lifecycle phase
    // in which it is happening
    //
    // @param {Object} plugin The plugin to wrap lifecycle methods

    var wrapPluginLifecycle = function wrapPluginLifecycle(plugin) {
        var methods = ['beforeInit', 'init', 'afterInit'];

        methods.forEach(function (methodName) {
            if (plugin[methodName]) {
                plugin[methodName] = CKEDITOR.tools.override(plugin[methodName], function (originalPluginMethod) {
                    var payload = {
                        phase: methodName,
                        plugin: plugin
                    };

                    return function (editor) {
                        editor.__processingPlugin__ = payload;

                        originalPluginMethod.call(this, editor);

                        editor.__processingPlugin__ = null;
                    };
                });
            }
        });
    };

    // Filters the requires object to remove unwanted dependencies. At this point
    // only 'toolbar' has been identified, but more can appear. An unwanted plugin
    // dependency is one that prevents a necessary plugin from being removed
    //
    // @param {string|Array<string>} requires The requires object
    // @return {string} The filtered requires object
    var filterUnwantedDependencies = function filterUnwantedDependencies(requires) {
        if (typeof requires === 'string') {
            requires = requires.split(',');
        }

        return requires.filter(function (require) {
            return require !== 'toolbar';
        });
    };

    /**
     * CKEDITOR.plugins class utility which adds additional methods to those of CKEditor.
     *
     * @class CKEDITOR.plugins
     */

    /**
     * Overrides CKEDITOR.plugins.load method so we can extend the lifecycle methods of
     * the loaded plugins to add some metainformation about the plugin being processed
     *
    * @param {String/Array} names The name of the resource to load. It may be a
    * string with a single resource name, or an array with several names.
    * @param {Function} callback A function to be called when all resources
    * are loaded. The callback will receive an array containing all loaded names.
    * @param {Object} [scope] The scope object to be used for the callback call.
     * @memberof CKEDITOR.plugins
     * @method load
     * @static
     */
    CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function (pluginsLoad) {
        // Wrap original load function so we can transform the plugin input parameter
        // before passing it down to the original callback
        return function (names, callback, scope) {
            pluginsLoad.call(this, names, function (plugins) {
                if (callback) {
                    Object.keys(plugins).forEach(function (pluginName) {
                        var plugin = plugins[pluginName];

                        if (plugin.requires) {
                            plugin.requires = filterUnwantedDependencies(plugin.requires);
                        }

                        wrapPluginLifecycle(plugin);
                    });

                    callback.call(scope, plugins);
                }
            });
        };
    });
})();

/***/ }),

/***/ "./src/core/selection-region.js":
/*!**************************************!*\
  !*** ./src/core/selection-region.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_selectionregion')) {
        return;
    }

    CKEDITOR.SELECTION_TOP_TO_BOTTOM = 0;
    CKEDITOR.SELECTION_BOTTOM_TO_TOP = 1;
    CKEDITOR.SELECTION_LEFT_TO_RIGHT = 2;
    CKEDITOR.SELECTION_RIGHT_TO_LEFT = 3;

    /**
     * SelectionRegion utility class which provides metadata about the selection. The metadata may be the start and end
     * rectangles, caret region, etc. **This class is not intended to be used standalone. Its functions will
     * be merged into each editor instance, so the developer may use them directly via the editor, without making
     * an instance of this class**.
     *
     * @class SelectionRegion
     * @constructor
     */
    function SelectionRegion() {}

    SelectionRegion.prototype = {
        constructor: SelectionRegion,

        /**
         * Creates selection from two points in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method createSelectionFromPoint
         * @param {Number} x X point in page coordinates.
         * @param {Number} y Y point in page coordinates.
         */
        createSelectionFromPoint: function createSelectionFromPoint(x, y) {
            this.createSelectionFromRange(x, y, x, y);
        },

        /**
         * Creates selection from range. A range consists from two points in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method createSelectionFromRange
         * @param {Number} startX X coordinate of the first point.
         * @param {Number} startY Y coordinate of the first point.
         * @param {Number} endX X coordinate of the second point.
         * @param {Number} endY Y coordinate of the second point.
         */
        createSelectionFromRange: function createSelectionFromRange(startX, startY, endX, endY) {
            var end;
            var endContainer;
            var endOffset;
            var range;
            var start;
            var startContainer;
            var startOffset;

            if (typeof document.caretPositionFromPoint === 'function') {
                start = document.caretPositionFromPoint(startX, startY);
                end = document.caretPositionFromPoint(endX, endY);

                startContainer = start.offsetNode;
                endContainer = end.offsetNode;

                startOffset = start.offset;
                endOffset = end.offset;

                range = this.createRange();
            } else if (typeof document.caretRangeFromPoint === 'function') {
                start = document.caretRangeFromPoint(startX, startY);
                end = document.caretRangeFromPoint(endX, endY);

                startContainer = start.startContainer;
                endContainer = end.startContainer;

                startOffset = start.startOffset;
                endOffset = end.startOffset;

                range = this.createRange();
            }

            if (range && document.getSelection) {
                range.setStart(new CKEDITOR.dom.node(startContainer), startOffset);
                range.setEnd(new CKEDITOR.dom.node(endContainer), endOffset);

                this.getSelection().selectRanges([range]);
            } else if (typeof document.body.createTextRange === 'function') {
                var selection = this.getSelection();

                selection.unlock();

                range = document.body.createTextRange();
                range.moveToPoint(startX, startY);

                var endRange = range.duplicate();
                endRange.moveToPoint(endX, endY);

                range.setEndPoint('EndToEnd', endRange);
                range.select();

                this.getSelection().lock();
            }
        },

        /**
         * Returns the region of the current position of the caret. The points are in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getCaretRegion
         * @return {Object} Returns object with the following properties:
         * - bottom
         * - left
         * - right
         * - top
         */
        getCaretRegion: function getCaretRegion() {
            var selection = this.getSelection();

            var region = {
                bottom: 0,
                left: 0,
                right: 0,
                top: 0
            };

            var bookmarks = selection.createBookmarks();

            if (!bookmarks.length) {
                return region;
            }

            var bookmarkNodeEl = bookmarks[0].startNode.$;

            bookmarkNodeEl.style.display = 'inline-block';

            region = new CKEDITOR.dom.element(bookmarkNodeEl).getClientRect();

            bookmarkNodeEl.parentNode.removeChild(bookmarkNodeEl);

            var scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();

            region.bottom = scrollPos.y + region.bottom;
            region.left = scrollPos.x + region.left;
            region.right = scrollPos.x + region.right;
            region.top = scrollPos.y + region.top;

            return region;
        },

        /**
         * Returns data for the current selection.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getSelectionData
         * @return {Object|null} Returns an object with the following data:
         * - element - The currently selected element, if any
         * - text - The selected text
         * - region - The data, returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionRegion:method"}}{{/crossLink}}
         */
        getSelectionData: function getSelectionData() {
            var selection = this.getSelection();

            if (!selection.getNative()) {
                return null;
            }

            var result = {
                element: selection.getSelectedElement(),
                text: selection.getSelectedText()
            };

            result.region = this.getSelectionRegion(selection);

            return result;
        },

        /**
         * Returns the region of the current selection.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getSelectionRegion
         * @return {Object} Returns object which is being returned from
         * {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getClientRectsRegion:method"}}{{/crossLink}} with three more properties:
         * - direction - the direction of the selection. Can be one of these:
         *   1. CKEDITOR.SELECTION_TOP_TO_BOTTOM
         *   2. CKEDITOR.SELECTION_BOTTOM_TO_TOP
         * - height - The height of the selection region
         * - width - The width of the selection region
         */
        getSelectionRegion: function getSelectionRegion() {
            var region = this.getClientRectsRegion();

            region.direction = this.getSelectionDirection();

            region.height = region.bottom - region.top;
            region.width = region.right - region.left;

            return region;
        },

        /**
         * Returns true if the current selection is empty, false otherwise.
         *
         * @instance
         * @memberof SelectionRegion
         * @method isSelectionEmpty
         * @return {Boolean} Returns true if the current selection is empty, false otherwise.
         */
        isSelectionEmpty: function isSelectionEmpty() {
            var ranges;

            var selection = this.getSelection();

            return selection.getType() === CKEDITOR.SELECTION_NONE || (ranges = selection.getRanges()) && ranges.length === 1 && ranges[0].collapsed;
        },

        /**
         * Returns object with data about the [client rectangles](https://developer.mozilla.org/en-US/docs/Web/API/Element.getClientRects) of the selection,
         * normalized across browses. All offsets below are in page coordinates.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getClientRectsRegion
         * @return {Object} Returns object with the following data:
         * - bottom - bottom offset of all client rectangles
         * - left - left offset of all client rectangles
         * - right - right offset of all client rectangles
         * - top - top offset of all client rectangles
         * - startRect - An Object, which contains the following information:
         *     + bottom - bottom offset
         *     + height - the height of the rectangle
         *     + left - left offset of the selection
         *     + right - right offset of the selection
         *     + top - top offset of the selection
         *     + width - the width of the rectangle
         * - endRect - An Object, which contains the following information:
         *     + bottom - bottom offset
         *     + height - the height of the rectangle
         *     + left - left offset of the selection
         *     + right - right offset of the selection
         *     + top - top offset of the selection
         *     + width - the width of the rectangle
         *
         * If there is no native selection, the objects will be filled with 0.
         */
        getClientRectsRegion: function getClientRectsRegion() {
            var selection = this.getSelection();
            var nativeSelection = selection.getNative();

            var defaultRect = {
                bottom: 0,
                height: 0,
                left: 0,
                right: 0,
                top: 0,
                width: 0
            };

            var region = {
                bottom: 0,
                endRect: defaultRect,
                left: 0,
                right: 0,
                top: 0,
                startRect: defaultRect
            };

            if (!nativeSelection) {
                return region;
            }

            var bottom = 0;
            var clientRects;
            var left = Infinity;
            var rangeCount;
            var right = -Infinity;
            var top = Infinity;

            if (nativeSelection.createRange) {
                clientRects = nativeSelection.createRange().getClientRects();
            } else {
                rangeCount = nativeSelection.rangeCount;
                clientRects = nativeSelection.rangeCount > 0 ? nativeSelection.getRangeAt(0).getClientRects() : [];
            }

            if (clientRects.length === 0) {
                region = this.getCaretRegion();
            } else {
                for (var i = 0, length = clientRects.length; i < length; i++) {
                    var item = clientRects[i];

                    if (item.left < left) {
                        left = item.left;
                    }

                    if (item.right > right) {
                        right = item.right;
                    }

                    if (item.top < top) {
                        top = item.top;
                    }

                    if (item.bottom > bottom) {
                        bottom = item.bottom;
                    }
                }

                var scrollPos = new CKEDITOR.dom.window(window).getScrollPosition();

                region.bottom = scrollPos.y + bottom;
                region.left = scrollPos.x + left;
                region.right = scrollPos.x + right;
                region.top = scrollPos.y + top;

                if (clientRects.length) {
                    var endRect = clientRects[clientRects.length - 1];
                    var startRect = clientRects[0];

                    region.endRect = {
                        bottom: scrollPos.y + endRect.bottom,
                        height: endRect.height,
                        left: scrollPos.x + endRect.left,
                        right: scrollPos.x + endRect.right,
                        top: scrollPos.y + endRect.top,
                        width: endRect.width
                    };

                    region.startRect = {
                        bottom: scrollPos.y + startRect.bottom,
                        height: startRect.height,
                        left: scrollPos.x + startRect.left,
                        right: scrollPos.x + startRect.right,
                        top: scrollPos.y + startRect.top,
                        width: startRect.width
                    };
                }
            }

            return region;
        },

        /**
         * Retrieves the direction of the selection. The direction is from top to bottom or from bottom to top.
         * For IE < 9 it is not possible, so the direction for these browsers will be always CKEDITOR.SELECTION_TOP_TO_BOTTOM.
         *
         * @instance
         * @memberof SelectionRegion
         * @method getSelectionDirection
         * @return {Number} Returns a number which represents selection direction. It might be one of these:
         * - CKEDITOR.SELECTION_TOP_TO_BOTTOM;
         * - CKEDITOR.SELECTION_BOTTOM_TO_TOP;
         */
        getSelectionDirection: function getSelectionDirection() {
            var direction = CKEDITOR.SELECTION_TOP_TO_BOTTOM;
            var selection = this.getSelection();
            var nativeSelection = selection.getNative();

            if (!nativeSelection) {
                return direction;
            }

            var anchorNode;

            if ((anchorNode = nativeSelection.anchorNode) && anchorNode.compareDocumentPosition) {
                var position = anchorNode.compareDocumentPosition(nativeSelection.focusNode);

                if (!position && nativeSelection.anchorOffset > nativeSelection.focusOffset || position === Node.DOCUMENT_POSITION_PRECEDING) {
                    direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;
                }
            }

            return direction;
        }
    };

    CKEDITOR.plugins.add('ae_selectionregion', {
        init: function init(editor) {
            var attr, hasOwnProperty;

            hasOwnProperty = Object.prototype.hasOwnProperty;

            for (attr in SelectionRegion.prototype) {
                if (hasOwnProperty.call(SelectionRegion.prototype, attr) && typeof editor[attr] === 'undefined') {
                    editor[attr] = SelectionRegion.prototype[attr];
                }
            }
        }
    });
})();

/***/ }),

/***/ "./src/core/table.js":
/*!***************************!*\
  !*** ./src/core/table.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    var IE_NON_DIRECTLY_EDITABLE_ELEMENT = {
        'table': 1,
        'col': 1,
        'colgroup': 1,
        'tbody': 1,
        'td': 1,
        'tfoot': 1,
        'th': 1,
        'thead': 1,
        'tr': 1
    };

    /**
     * Table class utility. Provides methods for create, delete and update tables.
     *
     * @class CKEDITOR.Table
     * @constructor
     * @param {Object} editor The CKEditor instance.
     */

    function Table(editor) {
        this._editor = editor;
    }

    Table.HEADING_BOTH = 'Both';
    Table.HEADING_COL = 'Column';
    Table.HEADING_NONE = 'None';
    Table.HEADING_ROW = 'Row';

    Table.prototype = {
        constructor: Table,

        /**
         * Creates a table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method create
         * @param {Object} config Table configuration object
         * @return {Object} The created table
         */
        create: function create(config) {
            var editor = this._editor;
            var table = this._createElement('table');

            config = config || {};

            // Generate the rows and cols.
            var tbody = table.append(this._createElement('tbody'));
            var rows = config.rows || 1;
            var cols = config.cols || 1;

            for (var i = 0; i < rows; i++) {
                var row = tbody.append(this._createElement('tr'));
                for (var j = 0; j < cols; j++) {
                    var cell = row.append(this._createElement('td'));

                    cell.appendBogus();
                }
            }

            this.setAttributes(table, config.attrs);
            this.setHeading(table, config.heading);

            // Insert the table element if we're creating one.
            editor.insertElement(table);

            var firstCell = new CKEDITOR.dom.element(table.$.rows[0].cells[0]);
            var range = editor.createRange();
            range.moveToPosition(firstCell, CKEDITOR.POSITION_AFTER_START);
            range.select();

            return table;
        },

        /**
         * Retrieves a table from the current selection.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method getFromSelection
         * @return {CKEDITOR.dom.element} The retrieved table or null if not found.
         */
        getFromSelection: function getFromSelection() {
            var table;
            var selection = this._editor.getSelection();
            var selected = selection.getSelectedElement();

            if (selected && selected.is('table')) {
                table = selected;
            } else {
                var ranges = selection.getRanges();

                if (ranges.length > 0) {
                    // Webkit could report the following range on cell selection (#4948):
                    // <table><tr><td>[&nbsp;</td></tr></table>]

                    /* istanbul ignore else */
                    if (CKEDITOR.env.webkit) {
                        ranges[0].shrink(CKEDITOR.NODE_ELEMENT);
                    }

                    table = this._editor.elementPath(ranges[0].getCommonAncestor(true)).contains('table', 1);
                }
            }

            return table;
        },

        /**
         * Checks if a given table can be considered as editable. This method
         * workarounds a limitation of IE where for some elements (like table),
         * `isContentEditable` returns always false. This is because IE does not support
         * `contenteditable` on such elements. However, despite such elements
         * cannot be set as content editable directly, a content editable SPAN,
         * or DIV element can be placed inside the individual table cells.
         * See https://msdn.microsoft.com/en-us/library/ms537837%28v=VS.85%29.aspx
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method isEditable
         * @param {CKEDITOR.dom.element} el The table element to test if editable
         * @return {Boolean}
         */
        isEditable: function isEditable(el) {
            if (!CKEDITOR.env.ie || !el.is(IE_NON_DIRECTLY_EDITABLE_ELEMENT)) {
                return !el.isReadOnly();
            }

            if (el.hasAttribute('contenteditable')) {
                return el.getAttribute('contenteditable') !== 'false';
            }

            return this.isEditable(el.getParent());
        },

        /**
         * Returns which heading style is set for the given table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method getHeading
         * @param {CKEDITOR.dom.element} table The table to gather the heading from. If null, it will be retrieved from the current selection.
         * @return {String} The heading of the table. Expected values are `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.
         */
        getHeading: function getHeading(table) {
            table = table || this.getFromSelection();

            if (!table) {
                return null;
            }

            var rowHeadingSettings = table.$.tHead !== null;

            var colHeadingSettings = true;

            // Check if all of the first cells in every row are TH
            for (var row = 0; row < table.$.rows.length; row++) {
                // If just one cell isn't a TH then it isn't a header column
                var cell = table.$.rows[row].cells[0];

                if (cell && cell.nodeName.toLowerCase() !== 'th') {
                    colHeadingSettings = false;
                    break;
                }
            }

            var headingSettings = Table.HEADING_NONE;

            if (rowHeadingSettings) {
                headingSettings = Table.HEADING_ROW;
            }

            if (colHeadingSettings) {
                headingSettings = headingSettings === Table.HEADING_ROW ? Table.HEADING_BOTH : Table.HEADING_COL;
            }

            return headingSettings;
        },

        /**
         * Removes a table from the editor.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method remove
         * @param {CKEDITOR.dom.element} table The table element which table style should be removed.
         */
        remove: function remove(table) {
            var editor = this._editor;

            if (table) {
                table.remove();
            } else {
                table = editor.elementPath().contains('table', 1);

                if (table) {
                    // If the table's parent has only one child remove it as well (unless it's a table cell, or the editable element) (#5416, #6289, #12110)
                    var parent = table.getParent();
                    var editable = editor.editable();

                    if (parent.getChildCount() === 1 && !parent.is('td', 'th') && !parent.equals(editable)) {
                        table = parent;
                    }

                    var range = editor.createRange();
                    range.moveToPosition(table, CKEDITOR.POSITION_BEFORE_START);
                    table.remove();
                    range.select();
                }
            }
        },

        /**
         * Assigns provided attributes to a table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method setAttributes
         * @param {Object} table The table to which the attributes should be assigned
         * @param {Object} attrs The attributes which have to be assigned to the table
         */
        setAttributes: function setAttributes(table, attrs) {
            if (attrs) {
                Object.keys(attrs).forEach(function (attr) {
                    table.setAttribute(attr, attrs[attr]);
                });
            }
        },

        /**
         * Sets the appropriate table heading style to a table.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @method setHeading
         * @param {CKEDITOR.dom.element} table The table element to which the heading should be set. If null, it will be retrieved from the current selection.
         * @param {String} heading The table heading to be set. Accepted values are: `CKEDITOR.Table.NONE`, `CKEDITOR.Table.ROW`, `CKEDITOR.Table.COL` and `CKEDITOR.Table.BOTH`.
         */
        setHeading: function setHeading(table, heading) {
            table = table || this.getFromSelection();

            var i, newCell;
            var tableHead;
            var tableBody = table.getElementsByTag('tbody').getItem(0);

            var tableHeading = this.getHeading(table);
            var hadColHeading = tableHeading === Table.HEADING_COL || tableHeading === Table.HEADING_BOTH;

            var needColHeading = heading === Table.HEADING_COL || heading === Table.HEADING_BOTH;
            var needRowHeading = heading === Table.HEADING_ROW || heading === Table.HEADING_BOTH;

            // If we need row heading and don't have a <thead> element yet, move the
            // first row of the table to the head and convert the nodes to <th> ones.
            if (!table.$.tHead && needRowHeading) {
                var tableFirstRow = tableBody.getElementsByTag('tr').getItem(0);
                var tableFirstRowChildCount = tableFirstRow.getChildCount();

                // Change TD to TH:
                for (i = 0; i < tableFirstRowChildCount; i++) {
                    var cell = tableFirstRow.getChild(i);

                    // Skip bookmark nodes. (#6155)
                    if (cell.type === CKEDITOR.NODE_ELEMENT && !cell.data('cke-bookmark')) {
                        cell.renameNode('th');
                        cell.setAttribute('scope', 'col');
                    }
                }

                tableHead = this._createElement(table.$.createTHead());
                tableHead.append(tableFirstRow.remove());
            }

            // If we don't need row heading and we have a <thead> element, move the
            // row out of there and into the <tbody> element.
            if (table.$.tHead !== null && !needRowHeading) {
                // Move the row out of the THead and put it in the TBody:
                tableHead = this._createElement(table.$.tHead);

                var previousFirstRow = tableBody.getFirst();

                while (tableHead.getChildCount() > 0) {
                    var newFirstRow = tableHead.getFirst();
                    var newFirstRowChildCount = newFirstRow.getChildCount();

                    for (i = 0; i < newFirstRowChildCount; i++) {
                        newCell = newFirstRow.getChild(i);

                        if (newCell.type === CKEDITOR.NODE_ELEMENT) {
                            newCell.renameNode('td');
                            newCell.removeAttribute('scope');
                        }
                    }

                    newFirstRow.insertBefore(previousFirstRow);
                }

                tableHead.remove();
            }

            tableHeading = this.getHeading(table);
            var hasColHeading = tableHeading === Table.HEADING_COL || tableHeading === Table.HEADING_BOTH;

            // If we need column heading and the table doesn't have it, convert every first cell in
            // every row into a `<th scope="row">` element.
            if (!hasColHeading && needColHeading) {
                for (i = 0; i < table.$.rows.length; i++) {
                    if (table.$.rows[i].cells[0].nodeName.toLowerCase() !== 'th') {
                        newCell = new CKEDITOR.dom.element(table.$.rows[i].cells[0]);
                        newCell.renameNode('th');
                        newCell.setAttribute('scope', 'row');
                    }
                }
            }

            // If we don't need column heading but the table has it, convert every first cell in every
            // row back into a `<td>` element.
            if (hadColHeading && !needColHeading) {
                for (i = 0; i < table.$.rows.length; i++) {
                    var row = new CKEDITOR.dom.element(table.$.rows[i]);

                    if (row.getParent().getName() === 'tbody') {
                        newCell = new CKEDITOR.dom.element(row.$.cells[0]);
                        newCell.renameNode('td');
                        newCell.removeAttribute('scope');
                    }
                }
            }
        },

        /**
         * Creates a new CKEDITOR.dom.element using the passed tag name.
         *
         * @instance
         * @memberof CKEDITOR.Table
         * @protected
         * @method _createElement
         * @param {String} name The tag name from which an element should be created
         * @return {CKEDITOR.dom.element} Instance of CKEDITOR DOM element class
         */
        _createElement: function _createElement(name) {
            return new CKEDITOR.dom.element(name, this._editor.document);
        }
    };

    CKEDITOR.on('instanceReady', function (event) {
        var headingCommands = [Table.HEADING_NONE, Table.HEADING_ROW, Table.HEADING_COL, Table.HEADING_BOTH];

        var tableUtils = new Table(event.editor);

        headingCommands.forEach(function (heading) {
            event.editor.addCommand('tableHeading' + heading, {
                exec: function exec(editor) {
                    tableUtils.setHeading(null, heading);
                }
            });
        });
    });

    CKEDITOR.Table = CKEDITOR.Table || Table;
})();

/***/ }),

/***/ "./src/core/tools.js":
/*!***************************!*\
  !*** ./src/core/tools.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /**
     * CKEDITOR.tools class utility which adds additional methods to those of CKEditor.
     *
     * @class CKEDITOR.tools
     */

    /**
     * Sends a request using the JSONP technique.
     *
     * @memberof CKEDITOR.tools
     * @method jsonp
     * @param {CKEDITOR.template} urlTemplate The template of the URL to be requested. All properties passed in `urlParams` can be used, plus a `{callback}`, which represent a JSONP callback, must be defined.
     * @param {Function} callback A function to be called in case of success.
     * @param {Function} errorCallback A function to be called in case of failure.
     * @param {Object} urlParams Parameters to be passed to the `urlTemplate`.
     * @return {Object} An object with the following properties:
     *  - id: the transaction ID
     *  - a `cancel()` method
     * @static
     */

    CKEDITOR.tools.jsonp = function (urlTemplate, urlParams, callback, errorCallback) {
        var callbackKey = CKEDITOR.tools.getNextNumber();

        urlParams = urlParams || {};
        urlParams.callback = 'CKEDITOR._.jsonpCallbacks[' + callbackKey + ']';

        if (!CKEDITOR._.jsonpCallbacks) {
            CKEDITOR._.jsonpCallbacks = {};
        }

        CKEDITOR._.jsonpCallbacks[callbackKey] = function (response) {
            setTimeout(function () {
                cleanUp();

                callback(response);
            });
        };

        var scriptElement = new CKEDITOR.dom.element('script');
        scriptElement.setAttribute('src', urlTemplate.output(urlParams));
        scriptElement.on('error', function () {
            cleanUp();

            if (errorCallback) {
                errorCallback();
            }
        });

        function cleanUp() {
            if (scriptElement) {
                scriptElement.remove();
                delete CKEDITOR._.jsonpCallbacks[callbackKey];
                scriptElement = null;
            }
        }

        CKEDITOR.document.getBody().append(scriptElement);

        return {
            cancel: cleanUp,
            id: callbackKey
        };
    };

    /**
     * Returns a new object containing all of the properties of all the supplied
     * objects. The properties from later objects will overwrite those in earlier
     * objects.
     *
     * Passing in a single object will create a shallow copy of it.
     *
     * @memberof CKEDITOR.tools
     * @method merge
     * @param {Object} objects* One or more objects to merge.
     * @return {Object} A new merged object.
     * @static
     */
    CKEDITOR.tools.merge = CKEDITOR.tools.merge || function () {
        var result = {};

        for (var i = 0; i < arguments.length; ++i) {
            var obj = arguments[i];

            for (var key in obj) {
                if (Object.prototype.hasOwnProperty.call(obj, key)) {
                    result[key] = obj[key];
                }
            }
        }

        return result;
    };

    /**
     * Simulates event on a DOM element.
     *
     * @memberof CKEDITOR.tools
     * @method simulate
     * @param {DOMElement} element The element on which the event shoud be simualted.
     * @param {String} event The name of the event which have to be simulated.
     * @static
     */
    CKEDITOR.tools.simulate = function (element, event) {
        var eventInstance = document.createEvent('Events');
        eventInstance.initEvent(event, true, false);
        element.dispatchEvent(eventInstance);
    };
})();

/***/ }),

/***/ "./src/core/uicore.js":
/*!****************************!*\
  !*** ./src/core/uicore.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_uicore')) {
        return;
    }

    /**
     * UICore class which will handle user interactions with the editor. These interactions
     * might be triggered via mouse, keyboard or touch devices. The class fill fire an event via
     * CKEditor's event system - "editorInteraction". The UI may listen to this event and
     * execute some actions - for example to show/hide toolbars.
     *
     * By default if user presses the Esc key, 'editorInteraction' event won't be fired. However, this behaviour can be changed
     * by setting {{#crossLink "CKEDITOR.plugins.ae_uicore/allowEsc:attribute"}}{{/crossLink}} config property in editor's configuration to true.
     *
     * @class ae_uicore
     */

    /**
     * Fired when user interacts somehow with the browser. This may be clicking with the mouse, pressing keyboard button,
     * or touching screen. This even will be not fired after each interaction. It will be debounced. By default the timeout
     * is 50ms. This value can be overwritten via {{#crossLink "CKEDITOR.plugins.ae_uicore/timeout:attribute"}}{{/crossLink}}
     * property of editor's configuration, like: editor.config.uicore.timeout = 100
     *
     * @memberof ae_uicore
     * @event ae_uicore#editorInteraction
     * @param {Object} data An object which contains the following properties:
     * - nativeEvent - The event as received from CKEditor.
     * - selectionData - The data, returned from {{#crossLink "CKEDITOR.plugins.ae_selectionregion/getSelectionData:method"}}{{/crossLink}}
     */

    /**
     * Fired by UI elements like Toolbars or Buttons when their state changes. The listener updates the live region with the provided data.
     *
     * @memberof ae_uicore
     * @event ae_uicore#ariaUpdate
     * @param {Object} data An object which contains the following properties:
     * - message - The provided message from the UI element.
     */

    /**
     * If set to true, the editor will still fire {{#crossLink "CKEDITOR.plugins.ae_uicore/editorInteraction:event"}}{{/crossLink}} event,
     * if user presses Esc key.
     *
     * @memberof ae_uicore
     * @attribute allowEsc
     * @default false
     * @type Boolean
     */

    /**
     * Specifies the default timeout after which the {{#crossLink "CKEDITOR.plugins.ae_uicore/editorInteraction:event"}}{{/crossLink}} event
     * will be fired.
     *
     * @memberof ae_uicore
     * @attribute timeout
     * @default 50 (ms)
     * @type Number
     */

    CKEDITOR.plugins.add('ae_uicore', {
        /**
         * Initializer lifecycle implementation for the UICore plugin.
         *
         * @memberof ae_uicore
         * @method init
         * @param {Object} editor The current CKEditor instance.
         * @protected
         */
        init: function init(editor) {
            var ariaState = [];

            var ariaElement = this._createAriaElement(editor.id);

<<<<<<< HEAD
            var uiTasksTimeout = editor.config.uicore ? editor.config.uicore.timeout : 50;
=======
        /**
         * Shows the widget with the default animation transition.
         *
         * @instance
         * @memberof WidgetPosition
         * @method show
         */
        show: function show() {
            var domNode = ReactDOM.findDOMNode(this);
<<<<<<< HEAD
            var uiNode = this.props.editor.get('uiNode') || document.body;
<<<<<<< HEAD
>>>>>>> f1d775e5... Build files (auto-generated)
=======
>>>>>>> 9e606a51386278fa9f62b17771971673c9b6a41d
=======
            var uiNode = this.props.editor.get('uiNode');

            var scrollTop = uiNode ? uiNode.scrollTop : 0;
>>>>>>> 4e8e54e6... Build files (auto-generated)

            var handleUI = CKEDITOR.tools.debounce(function (event) {
                ariaState = [];

                if (event.name !== 'keyup' || event.data.$.keyCode !== 27 || editor.config.allowEsc) {
                    var selectionData = editor.getSelectionData();

                    if (selectionData) {
                        editor.fire('editorInteraction', {
                            nativeEvent: event.data.$,
                            selectionData: selectionData
                        });
                    }
                }
            }, uiTasksTimeout);

            var handleAria = CKEDITOR.tools.debounce(function (event) {
                ariaElement.innerHTML = ariaState.join('. ');
            }, uiTasksTimeout);

            var handleMouseLeave = CKEDITOR.tools.debounce(function (event) {
                var aeUINodes = document.querySelectorAll('.ae-ui');

                var found;

<<<<<<< HEAD
                for (var i = 0; i < aeUINodes.length; i++) {
                    if (aeUINodes[i].contains(event.data.$.relatedTarget)) {
                        found = true;
                        break;
=======
                    if (interactionPoint.direction === CKEDITOR.SELECTION_TOP_TO_BOTTOM) {
                        initialY = this.props.selectionData.region.bottom + scrollTop;
                    } else {
<<<<<<< HEAD
                        initialY = this.props.selectionData.region.top + uiNode.scrollTop;
<<<<<<< HEAD
>>>>>>> f1d775e5... Build files (auto-generated)
=======
>>>>>>> 9e606a51386278fa9f62b17771971673c9b6a41d
=======
                        initialY = this.props.selectionData.region.top + scrollTop;
>>>>>>> 4e8e54e6... Build files (auto-generated)
                    }
                }

<<<<<<< HEAD
                if (!found) {
                    handleUI(event);
                }
            }, uiTasksTimeout);
=======
            if (interactionPoint && domNode) {
                var uiNode = this.props.editor.get('uiNode');

                var scrollTop = uiNode ? uiNode.scrollTop : 0;

                var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);
                xy[1] += scrollTop;

                new CKEDITOR.dom.element(domNode).setStyles({
                    left: xy[0] + 'px',
                    top: xy[1] + 'px'
                });
            }
        },
>>>>>>> 9e606a51386278fa9f62b17771971673c9b6a41d

            editor.on('ariaUpdate', function (event) {
                // handleAria is debounced function, so if it is being called multiple times, it will
                // be canceled until some time passes.
                // For that reason here we explicitly append the current message to the list of messages
                // and call handleAria. Since it is debounced, when some timeout passes,
                // all the messages will be applied to the live region and not only the last one.

                ariaState.push(event.data.message);

                handleAria();
            });

            editor.once('contentDom', function () {
                var editable = editor.editable();

                var focusHandler = editable.attachListener(editable, 'focus', function (event) {
                    focusHandler.removeListener();

<<<<<<< HEAD
                    editable.attachListener(editable, 'keyup', handleUI);
                    editable.attachListener(editable, 'mouseup', handleUI);
                    editable.attachListener(editable, 'mouseleave', handleMouseLeave);
=======
            if (interactionPoint && domNode) {
                var uiNode = this.props.editor.get('uiNode') || document.body;

                var xy = this.getWidgetXYPoint(interactionPoint.x, interactionPoint.y, interactionPoint.direction);
                xy[1] += uiNode.scrollTop;
>>>>>>> f1d775e5... Build files (auto-generated)

                    handleUI(event);
                });
            });

            editor.on('destroy', function (event) {
                ariaElement.parentNode.removeChild(ariaElement);

                handleUI.detach();
            });
        },

        /**
         * Creates and applies an HTML element to the body of the document which will contain ARIA messages.
         *
         * @memberof ae_uicore
         * @method _createAriaElement
         * @param {String} id The provided id of the element. It will be used as prefix for the final element Id.
         * @protected
         * @return {HTMLElement} The created and applied to DOM element.
         */
        _createAriaElement: function _createAriaElement(id) {
            var statusElement = document.createElement('div');

            statusElement.className = 'ae-sr-only';

            statusElement.setAttribute('aria-live', 'polite');
            statusElement.setAttribute('role', 'status');
            statusElement.setAttribute('id', id + 'LiveRegion');

            document.body.appendChild(statusElement);

            return statusElement;
        }
    });
})();

/***/ }),

/***/ "./src/oop/attribute.js":
/*!******************************!*\
  !*** ./src/oop/attribute.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lang = __webpack_require__(/*! ./lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Attribute implementation.
 *
 * @class Attribute
 * @constructor
*/
function Attribute(config) {
    this.__config__ = config || {};
    this.__ATTRS__ = {};
}

Attribute.prototype = {
    constructor: Attribute,

    /**
     * Retrieves the value of an attribute.
     *
     * @instance
     * @memberof Attribute
     * @method get
     * @param {String} attr The attribute which value should be retrieved.
     * @return {Any} The value of the attribute.
     */
    get: function get(attr) {
        var currentAttr = this.constructor.ATTRS[attr];

        if (!currentAttr) {
            return;
        }

        if (!this._isInitialized(attr)) {
            this._init(attr);
        }

        var curValue = this.__ATTRS__[attr];

        if (currentAttr.getter) {
            curValue = this._callStringOrFunction(currentAttr.getter, curValue);
        }

        return curValue;
    },

    /**
     * Sets the value of an attribute.
     *
     * @instance
     * @memberof Attribute
     * @method set
     * @param {String} attr The attribute which value should be set.
     * @param {Any} value The value which should be set to the attribute.
     */
    set: function set(attr, value) {
        var currentAttr = this.constructor.ATTRS[attr];

        if (!currentAttr) {
            return;
        }

        if (!this._isInitialized(attr)) {
            this._init(attr);
        }

        if (currentAttr.readOnly) {
            return;
        }

        if (currentAttr.writeOnce && this._isInitialized(attr)) {
            return;
        }

        if (currentAttr.validator && !this._callStringOrFunction(currentAttr.validator, value)) {
            return;
        }

        if (currentAttr.setter) {
            value = this._callStringOrFunction(currentAttr.setter, value);
        }

        this.__ATTRS__[attr] = value;
    },

    /**
     * Calls the provided param as function with the supplied arguments.
     * If param provided as string, a corresponding function in this object will
     * be called. If provided param is a function, it will be directly called.
     *
     * @instance
     * @memberof Attribute
     * @method _callStringOrFunction
     * @param  {Any|Array} args The arguments which will be provided to the called function
     * @param  {String|Function} stringOrFunction The function which should be called
     * @protected
     * @return {Any} The returned value from the called function
     */
    _callStringOrFunction: function _callStringOrFunction(stringOrFunction, args) {
        var result = null;

        if (!_lang2.default.isArray(args)) {
            args = [args];
        }

        if (_lang2.default.isString(stringOrFunction) && _lang2.default.isFunction(this[stringOrFunction])) {
            result = this[stringOrFunction].apply(this, args);
        } else if (_lang2.default.isFunction(stringOrFunction)) {
            result = stringOrFunction.apply(this, args);
        }

        return result;
    },

    /**
     * Initializes an attribute. Sets its default value depending on the flags of the
     * attribute and the passed configuration object to the constructor.
     *
     * @instance
     * @memberof Attribute
     * @method _init
     * @param {String} attr The name of the attribute which have to be initialized.
     * @protected
     */
    _init: function _init(attr) {
        var value;

        var currentAttr = this.constructor.ATTRS[attr];

        // Check if there is default value or passed one via configuration object
        var hasDefaultValue = Object.prototype.hasOwnProperty.call(currentAttr, 'value');
        var hasPassedValueViaConfig = Object.prototype.hasOwnProperty.call(this.__config__, attr);

        // If there is valueFn, set the value to be the result of invocation of this function
        if (currentAttr.valueFn) {
            value = this._callStringOrFunction(currentAttr.valueFn, value);

            this.__ATTRS__[attr] = value;
        }
        // else if the attribute has readOnly flag, set the default value from the attribute,
        // regardless if there is value or not
        else if (currentAttr.readOnly) {
                value = currentAttr.value;
            }
            // else if the attribute has writeOnce value, set it from the passed configuration or from the
            // default value, in this order. Otherwise, return miserable.
            else if (currentAttr.writeOnce) {
                    if (hasPassedValueViaConfig) {
                        value = this.__config__[attr];
                    } else if (hasDefaultValue) {
                        value = currentAttr.value;
                    } else {
                        return;
                    }
                }
                // These two cases below are easy - set the value to be from the passed config or
                // from the default value, in this order.
                else if (hasPassedValueViaConfig) {
                        value = this.__config__[attr];
                    } else if (hasDefaultValue) {
                        value = currentAttr.value;
                    }

        // If there is validator, and user passed config object - check the returned value.
        // If it is false, then set as initial value the default one.
        // However, if there is no default value, just return.
        if (currentAttr.validator && hasPassedValueViaConfig && !this._callStringOrFunction(currentAttr.validator, value)) {
            if (hasDefaultValue) {
                value = currentAttr.value;
            } else {
                return;
            }
        }

        // If there is setter and user passed config object - pass the value thought the setter.
        // The value might be one from defaultFn, default value or provided from the config.
        if (currentAttr.setter && hasPassedValueViaConfig) {
            value = this._callStringOrFunction(currentAttr.setter, value);
        }

        // Finally, set the value as initial value to the storage with values.
        this.__ATTRS__[attr] = value;
    },

    /**
     * Checks if an attribute is initialized. An attribute is considered as initialized
     * when there is an own property with this name in the local collection of attribute values
     * for the current instance.
     *
     * @instance
     * @memberof Attribute
     * @method _isInitialized
     * @param {String} attr The attribute which should be checked if it is initialized.
     * @protected
     * @return {Boolean} Returns true if the attribute has been initialized, false otherwise.
     */
    _isInitialized: function _isInitialized(attr) {
        return Object.prototype.hasOwnProperty.call(this.__ATTRS__, attr);
    }
};

exports.default = Attribute;

/***/ }),

/***/ "./src/oop/base.js":
/*!*************************!*\
  !*** ./src/oop/base.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _attribute = __webpack_require__(/*! ./attribute.js */ "./src/oop/attribute.js");

var _attribute2 = _interopRequireDefault(_attribute);

var _lang = __webpack_require__(/*! ./lang.js */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

var _oop = __webpack_require__(/*! ./oop.js */ "./src/oop/oop.js");

var _oop2 = _interopRequireDefault(_oop);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Quick and dirty impl of Base class.
 *
 * @class Base
 * @constructor
 */
function Base(config) {
    Base.superclass.constructor.call(this, config);

    this.init(config);
}

(0, _oop2.default)(Base, _attribute2.default, {
    /**
     * Calls the `initializer` method of each class which extends Base starting from the parent to the child.
     * Will pass the configuration object to each initializer method.
     *
     * @instance
     * @memberof Base
     * @method init
     * @param {Object} config Configuration object
     */
    init: function init(config) {
        this._callChain('initializer', config);
    },

    /**
     * Calls the `destructor` method of each class which extends Base starting from the parent to the child.
     *
     * @instance
     * @memberof Base
     * @method destroy
     */
    destroy: function destroy() {
        this._callChain('destructor');
    },

    /**
     * Calls a method of each class, which is being present in the hierarchy starting from parent to the child.
     *
     * @instance
     * @memberof Base
     * @method _callChain
     * @param {Object|Array} args The arguments with which the method should be invoked
     * @param {String} wat  The method, which should be invoked
     * @protected
     */
    _callChain: function _callChain(wat, args) {
        var arr = [];

        var ctor = this.constructor;

        while (ctor) {
            if (_lang2.default.isFunction(ctor.prototype[wat])) {
                arr.push(ctor.prototype[wat]);
            }

            ctor = ctor.superclass ? ctor.superclass.constructor : null;
        }

        arr = arr.reverse();

        args = _lang2.default.isArray(args) ? args : [args];

        for (var i = 0; i < arr.length; i++) {
            var item = arr[i];

            item.apply(this, args);
        }
    }
});

exports.default = Base;

/***/ }),

/***/ "./src/oop/lang.js":
/*!*************************!*\
  !*** ./src/oop/lang.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

/**
 * Provides core language utilities.
 *
 * @class Lang
 */
var Lang = {
    /**
     * Check if the passed value is an array.
     *
     * @memberof Lang
     * @method isArray
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is an array, false otherwise.
     * @static
     */
    isArray: function isArray(value) {
        return Object.prototype.toString.call(value) === '[object Array]';
    },

    /**
     * Check if the passed value is boolean.
     *
     * @memberof Lang
     * @method isBoolean
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is boolean, false otherwise.
     * @static
     */
    isBoolean: function isBoolean(value) {
        return typeof value === 'boolean';
    },

    /**
     * Check if the passed value is a function.
     *
     * @memberof Lang
     * @method isFunction
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is a function, false otherwise.
     * @static
     */
    isFunction: function isFunction(value) {
        return typeof value === 'function';
    },

    /**
     * Check if the passed value is NULL.
     *
     * @memberof Lang
     * @method isNull
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is NULL, false otherwise.
     * @static
     */
    isNull: function isNull(value) {
        return value === null;
    },

    /**
     * Check if the passed value is number.
     *
     * @memberof Lang
     * @method isNumber
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is number, false otherwise.
     * @static
     */
    isNumber: function isNumber(value) {
        return typeof value === 'number' && isFinite(value);
    },

    /**
     * Check if the passed value is an object
     *
     * @memberof Lang
     * @method isObject
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is an object, false otherwise.
     * @static
     */
    isObject: function isObject(value) {
        var valueType = typeof value === 'undefined' ? 'undefined' : _typeof(value);

        return value && (valueType === 'object' || Lang.isFunction(value));
    },

    /**
     * Check if the passed value is a string.
     *
     * @memberof Lang
     * @method isString
     * @param {Any} value The value which have to be checked.
     * @return {Boolean} True if the passed value is a string, false otherwise.
     * @static
     */
    isString: function isString(value) {
        return typeof value === 'string';
    },

    /**
     * Adds all properties from the supplier to the receiver.
     * The function will add all properties, not only these owned by the supplier.
     *
     * @memberof Lang
     * @method mix
     * @param {Object} receiver The object which will receive properties.
     * @param {Object} supplier The object which provides properties.
     * @return {Object} The modified receiver.
     * @static
     */
    mix: function mix(receiver, supplier) {
        var hasOwnProperty = Object.prototype.hasOwnProperty;

        for (var key in supplier) {
            if (hasOwnProperty.call(supplier, key)) {
                receiver[key] = supplier[key];
            }
        }
    },

    /**
     * Converts value to Integer.
     *
     * @memberof Lang
     * @method toInt
     * @param {Any} value The value which have to be converted to Integer.
     * @return {Integer} The converted value.
     * @static
     */
    toInt: function toInt(value) {
        return parseInt(value, 10);
    }
};

exports.default = Lang;

/***/ }),

/***/ "./src/oop/oop.js":
/*!************************!*\
  !*** ./src/oop/oop.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lang = __webpack_require__(/*! ./lang */ "./src/oop/lang.js");

var _lang2 = _interopRequireDefault(_lang);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Sets the prototype, constructor and superclass properties to support an inheritance strategy
 * that can chain constructors and methods. Static members will not be inherited.
 *
 * @memberof OOP
 * @method extend
 * @param {Function} receiver The class which will extend another class.
 * @param {Function} supplier The class which will provide the properties the child class.
 * @param {Object} protoProps Prototype properties to add/override.
 * @param {Object} staticProps Static properties to add/overwrite.
 * @return {Function} The extended class.
 * @static
 */
var extend = function extend(receiver, supplier, protoProps, staticProps) {
    if (!supplier || !receiver) {
        throw 'extend failed, verify dependencies';
    }

    var supplierProto = supplier.prototype,
        receiverProto = Object.create(supplierProto);
    receiver.prototype = receiverProto;

    receiverProto.constructor = receiver;
    receiver.superclass = supplierProto;

    // assign constructor property
    if (supplier !== Object && supplierProto.constructor === Object.prototype.constructor) {
        supplierProto.constructor = supplier;
    }

    // add prototype overrides
    if (protoProps) {
        _lang2.default.mix(receiverProto, protoProps);
    }

    // add object overrides
    if (staticProps) {
        _lang2.default.mix(receiver, staticProps);
    }

    return receiver;
};

exports.default = extend;

/***/ }),

/***/ "./src/plugins/addimages.js":
/*!**********************************!*\
  !*** ./src/plugins/addimages.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    var isIE = CKEDITOR.env.ie;

    if (CKEDITOR.plugins.get('ae_addimages')) {
        return;
    }

    /**
     * CKEditor plugin which allows Drag&Drop of images directly into the editable area. The image will be encoded
     * as Data URI. An event `beforeImageAdd` will be fired with the list of dropped images. If any of the listeners
     * returns `false` or cancels the event, the images won't be added to the content. Otherwise,
     * an event `imageAdd` will be fired with the inserted element into the editable area.
     *
     * @class CKEDITOR.plugins.ae_addimages
     */

    /**
     * Fired before adding images to the editor.
     *
     * @event CKEDITOR.plugins.ae_addimages#beforeImageAdd
     * @instance
     * @memberof CKEDITOR.plugins.ae_addimages
     * @param {Array} imageFiles Array of image files
     */

    /**
     * Fired when an image is being added to the editor successfully.
     *
     * @event CKEDITOR.plugins.ae_addimages#imageAdd
     * @instance
     * @memberof CKEDITOR.plugins.ae_addimages
     * @param {CKEDITOR.dom.element} el The created image with src as Data URI
     * @param {File} file The image file
     */

    CKEDITOR.plugins.add('ae_addimages', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'dragenter', 'dragover', 'drop' and `paste` events on the editing area.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'dragenter', this._onDragEnter, this, {
                    editor: editor
                });

                editable.attachListener(editable, 'dragover', this._onDragOver, this, {
                    editor: editor
                });

                editable.attachListener(editable, 'drop', this._onDragDrop, this, {
                    editor: editor
                });

                editable.attachListener(editable, 'paste', this._onPaste, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * Accepts an array of dropped files to the editor. Then, it filters the images and sends them for further
         * processing to {{#crossLink "CKEDITOR.plugins.ae_addimages/_processFile:method"}}{{/crossLink}}
         *
         * @fires CKEDITOR.plugins.ae_addimages#beforeImageAdd
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _handleFiles
         * @param {Array} files Array of dropped files. Only the images from this list will be processed.
         * @param {Object} editor The current editor instance
         * @protected
         */
        _handleFiles: function _handleFiles(files, editor) {
            var file;
            var i;

            var imageFiles = [];

            for (i = 0; i < files.length; i++) {
                file = files[i];

                if (file.type.indexOf('image') === 0) {
                    imageFiles.push(file);
                }
            }

            var result = editor.fire('beforeImageAdd', {
                imageFiles: imageFiles
            });

            if (!!result) {
                for (i = 0; i < imageFiles.length; i++) {
                    file = imageFiles[i];

                    this._processFile(file, editor);
                }
            }

            return false;
        },

        /**
         * Handles drag drop event. The function will create a selection from the current
         * point and will send a list of files to be processed to
         * {{#crossLink "CKEDITOR.plugins.ae_addimages/_handleFiles:method"}}{{/crossLink}} method.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onDragDrop
         * @param {CKEDITOR.dom.event} event dragdrop event, as received natively from CKEditor
         * @protected
         */
        _onDragDrop: function _onDragDrop(event) {
            var nativeEvent = event.data.$;

            new CKEDITOR.dom.event(nativeEvent).preventDefault();

            var editor = event.listenerData.editor;

            event.listenerData.editor.createSelectionFromPoint(nativeEvent.clientX, nativeEvent.clientY);

            this._handleFiles(nativeEvent.dataTransfer.files, editor);
        },

        /**
         * Handles drag enter event. In case of IE, this function will prevent the event.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onDragEnter
         * @param {DOM event} event dragenter event, as received natively from CKEditor
         * @protected
         */
        _onDragEnter: function _onDragEnter(event) {
            if (isIE) {
                this._preventEvent(event);
            }
        },

        /**
         * Handles drag over event. In case of IE, this function will prevent the event.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onDragOver
         * @param {DOM event} event dragover event, as received natively from CKEditor
         * @protected
         */
        _onDragOver: function _onDragOver(event) {
            if (isIE) {
                this._preventEvent(event);
            }
        },

        /**
         * Checks if the pasted data is image and passes it to
         * {{#crossLink "CKEDITOR.plugins.ae_addimages/_processFile:method"}}{{/crossLink}} for processing.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _onPaste
         * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor
         * @protected
         */
        _onPaste: function _onPaste(event) {
            if (event.data && event.data.$ && event.data.$.clipboardData && event.data.$.clipboardData.items && event.data.$.clipboardData.items.length > 0) {
                var pastedData = event.data.$.clipboardData.items[0];

                if (pastedData.type.indexOf('image') === 0) {
                    var imageFile = pastedData.getAsFile();

                    this._processFile(imageFile, event.listenerData.editor);
                }
            }
        },

        /**
         * Prevents a native event.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _preventEvent
         * @param {DOM event} event The event to be prevented.
         * @protected
         */
        _preventEvent: function _preventEvent(event) {
            event = new CKEDITOR.dom.event(event.data.$);

            event.preventDefault();
            event.stopPropagation();
        },

        /**
         * Processes an image file. The function creates an img element and sets as source
         * a Data URI, then fires an 'imageAdd' event via CKEditor's event system.
         *
         * @fires CKEDITOR.plugins.ae_addimages#imageAdd
         * @instance
         * @memberof CKEDITOR.plugins.ae_addimages
         * @method _preventEvent
         * @param {DOM event} event The event to be prevented.
         * @protected
         */
        _processFile: function _processFile(file, editor) {
            var reader = new FileReader();

            reader.addEventListener('loadend', function () {
                var bin = reader.result;

                var el = CKEDITOR.dom.element.createFromHtml('<img src="' + bin + '">');

                editor.insertElement(el);

                var imageData = {
                    el: el,
                    file: file
                };

                editor.fire('imageAdd', imageData);
            });

            reader.readAsDataURL(file);
        }
    });
})();

/***/ }),

/***/ "./src/plugins/autolink.js":
/*!*********************************!*\
  !*** ./src/plugins/autolink.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_autolink')) {
        return;
    }

    // Disables the auto URL detection feature in IE, their lacks functionality:
    // They convert the links only on space. We do on space, comma, semicolon and Enter.
    if (/MSIE ([^;]*)|Trident.*; rv:([0-9.]+)/.test(navigator.userAgent)) {
        document.execCommand('AutoUrlDetect', false, false);
    }

    var KEY_BACK = 8;

    var KEY_COMMA = 188;

    var KEY_ENTER = 13;

    var KEY_SEMICOLON = 186;

    var KEY_SPACE = 32;

    var DELIMITERS = [KEY_COMMA, KEY_ENTER, KEY_SEMICOLON, KEY_SPACE];

    var REGEX_LAST_WORD = /[^\s]+/mg;

    var REGEX_URL = /(https?\:\/\/|www\.)(-\.)?([^(\s/?\.#-)]+\.?)+(\b\/[^\s]*)?$/i;

    /**
     * CKEditor plugin which automatically generates links when user types text which looks like URL.
     *
     * @class CKEDITOR.plugins.ae_autolink
     * @constructor
     */
    CKEDITOR.plugins.add('ae_autolink', {

        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers the `keyup` event on the editing area.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'keyup', this._onKeyUp, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * Retrieves the last word introduced by the user. Reads from the current
         * caret position backwards until it finds the first white space.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _getLastWord
         * @protected
         * @return {String} The last word introduced by user
         */
        _getLastWord: function _getLastWord(editor) {
            var range = editor.getSelection().getRanges()[0];

            var offset = range.startOffset;

            var previousText = '';

            // The user pressed Enter, so we have to look on the previous node
            if (this._currentKeyCode === KEY_ENTER) {
                var previousNode = range.startContainer.getPrevious();

                var lastChild;

                if (previousNode) {
                    // If previous node is a SPACE, (it does not have 'getLast' method),
                    // ignore it and find the previous text node
                    while (!previousNode.getLast) {
                        previousNode = previousNode.getPrevious();
                    }

                    lastChild = previousNode.getLast();

                    // Depending on the browser, the last child node may be a <BR>
                    // (which does not have 'getText' method),
                    // so ignore it and find the previous text node
                    while (lastChild && !lastChild.getText()) {
                        lastChild = lastChild.getPrevious();
                    }
                }

                // Check if the lastChild is already a link
                if (!(lastChild && lastChild.$.href)) {
                    this._startContainer = lastChild;
                    previousText = lastChild ? lastChild.getText() : '';
                    this._offset = previousText.length;
                }
            } else {
                this._startContainer = range.startContainer;

                // Last character is the delimiter, ignore it
                previousText = this._startContainer.getText().substring(0, offset - 1);

                this._offset = offset - 1;
            }

            var lastWord = '';

            var match = previousText.match(REGEX_LAST_WORD);

            if (match) {
                lastWord = match.pop();
            }

            return lastWord;
        },

        /**
         * Checks if the given link is a valid URL.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method isValidURL
         * @param {String} link The link we want to know if it is a valid URL
         * @protected
         * @return {Boolean} Returns true if the link is a valid URL, false otherwise
         */
        _isValidURL: function _isValidURL(link) {
            return REGEX_URL.test(link);
        },

        /**
         * Listens to the `keydown` event and if the keycode is `Backspace`, removes the previously
         * created link.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _onKeyDown
         * @param {EventFacade} event EventFacade object
         * @protected
         */
        _onKeyDown: function _onKeyDown(event) {
            var nativeEvent = event.data.$;

            var editor = event.listenerData.editor;

            var editable = editor.editable();

            editable.removeListener('keydown', this._onKeyDown);

            if (nativeEvent.keyCode === KEY_BACK) {
                event.cancel();
                event.data.preventDefault();

                this._removeLink(editor);
            }

            this._ckLink = null;
        },

        /**
         * Listens to the `Enter` and `Space` key events in order to check if the last word
         * introduced by the user should be replaced by a link element.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _onKeyUp
         * @param {EventFacade} event EventFacade object
         * @protected
         */
        _onKeyUp: function _onKeyUp(event) {
            var nativeEvent = event.data.$;

            this._currentKeyCode = nativeEvent.keyCode;

            if (DELIMITERS.indexOf(this._currentKeyCode) !== -1) {
                var editor = event.listenerData.editor;

                var lastWord = this._getLastWord(editor);

                if (this._isValidURL(lastWord)) {
                    this._replaceContentByLink(editor, lastWord);
                }
            }
        },

        /**
         * Replaces content by a link element.
         *
         * @fires CKEDITOR.plugins.ae_autolink#autolinkAdd
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _replaceContentByLink
         * @param {String} content The text that has to be replaced by an link element
         * @protected
         */
        _replaceContentByLink: function _replaceContentByLink(editor, content) {
            var range = editor.createRange();
            var node = CKEDITOR.dom.element.get(this._startContainer);
            var offset = this._offset;

            // Select the content, so CKEDITOR.Link can properly replace it
            range.setStart(node, offset - content.length);
            range.setEnd(node, offset);
            range.select();

            var ckLink = new CKEDITOR.Link(editor);
            ckLink.create(content);
            this._ckLink = ckLink;

            var linkNode = ckLink.getFromSelection();
            editor.fire('autolinkAdd', linkNode);

            this._subscribeToKeyEvent(editor);

            // Now range is on the link and it is selected. We have to
            // return focus to the caret position.
            range = editor.getSelection().getRanges()[0];

            // If user pressed `Enter`, get the next editable node at position 0,
            // otherwise set the cursor at the next character of the link (the white space)
            if (this._currentKeyCode === KEY_ENTER) {
                var nextEditableNode = range.getNextEditableNode();

                range.setStart(nextEditableNode, 0);
                range.setEnd(nextEditableNode, 0);
            } else {
                var nextNode = range.getNextNode();

                range.setStart(nextNode, 1);
                range.setEnd(nextNode, 1);
            }

            range.select();
        },

        /**
         * Fired when a URL is detected in text and converted to a link.
         *
         * @event CKEDITOR.plugins.ae_autolink#autolinkAdd
         * @memberof CKEDITOR.plugins.ae_autolink
         * @param {CKEDITOR.dom.element} el Node of the created link.
         */

        /**
         * Removes the created link element, and replaces it by its text.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _removeLink
         * @protected
         */
        _removeLink: function _removeLink(editor) {
            var range = editor.getSelection().getRanges()[0];
            var caretOffset = range.startOffset;

            // Select the link, so CKEDITOR.Link can properly remove it
            var linkNode = this._startContainer.getNext() || this._startContainer;

            var newRange = editor.createRange();
            newRange.setStart(linkNode, 0);
            newRange.setEndAfter(linkNode);
            newRange.select();

            this._ckLink.remove();

            // Return focus to the caret position
            range.setEnd(range.startContainer, caretOffset);
            range.setStart(range.startContainer, caretOffset);

            range.select();
        },

        /**
         * Subscribe to a key event of the editable aria.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolink
         * @method _subscribeToKeyEvent
         * @protected
         */
        _subscribeToKeyEvent: function _subscribeToKeyEvent(editor) {
            var editable = editor.editable();

            // Change the priority of keydown listener - 1 means the highest priority.
            // In Chrome on pressing `Enter` the listener is not being invoked.
            // See http://dev.ckeditor.com/ticket/11861 for more information.
            editable.attachListener(editable, 'keydown', this._onKeyDown, this, {
                editor: editor
            }, 1);
        }
    });
})();

/***/ }),

/***/ "./src/plugins/autolist.js":
/*!*********************************!*\
  !*** ./src/plugins/autolist.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_autolist')) {
        return;
    }

    var KEY_BACK = 8;

    var KEY_SPACE = 32;

    var DEFAULT_CONFIG = [{
        regex: /^\*$/,
        type: 'bulletedlist'
    }, {
        regex: /^1\.$/,
        type: 'numberedlist'
    }];

    /**
        * CKEditor plugin which automatically generates ordered/unordered list when user types text which looks like a list.
        *
        * @class CKEDITOR.plugins.ae_autolist
        * @constructor
        */
    CKEDITOR.plugins.add('ae_autolist', {

        /**
         * Initialization of the plugin, part of CKeditor plugin lifecycle.
         * The function registers the `keydown` event on the content editing area.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolist
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'keydown', this._onKeyDown, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * Checks for pressing the `Backspace` key in order to undo the list creation.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolist
         * @method _checkForBackspaceAndUndo
         * @param {Event} event Event object
         * @protected
         */
        _checkForBackspaceAndUndo: function _checkForBackspaceAndUndo(event) {
            var editor = event.listenerData.editor;

            var nativeEvent = event.data.$;

            var editable = editor.editable();

            editable.removeListener('keydown', this._checkForBackspaceAndUndo);

            if (nativeEvent.keyCode === KEY_BACK) {
                editor.execCommand('undo');
                editor.insertHtml(event.listenerData.bullet + '&nbsp;');
                event.data.preventDefault();
            }
        },

        /**
         * Checks current line to find match with MATCHES object to create OL or UL.
         *
         * @instance
         * @memberof CKEDITOR.plugins.ae_autolist
         * @method _checkLine
         * @param {editor} Editor object
         * @protected
         * @return {Object|null} Returns an object which contains the detected list config if any
         */
        _getListConfig: function _getListConfig(editor) {
            var configRegex = editor.config.autolist || DEFAULT_CONFIG;

            var range = editor.getSelection().getRanges()[0];

            var textContainer = range.endContainer.getText();

            var bullet = textContainer.substring(0, range.startOffset);

            var text = textContainer.substring(range.startOffset, textContainer.length);

            var index = 0;

            var regexLen = configRegex.length;

            var autolistCfg = null;

            while (!autolistCfg && regexLen > index) {
                var regexItem = configRegex[index];

                if (regexItem.regex.test(bullet)) {
                    autolistCfg = {
                        bullet: bullet,
                        editor: editor,
                        text: text,
                        type: regexItem.type
                    };

                    break;
                }

                index++;
            }

            return autolistCfg;
        },

        /**
                  * Create list with different types: Bulleted or Numbered list
                  *
                  * @instance
                  * @memberof CKEDITOR.plugins.ae_autolist
                  * @method _createList
                  * @param {Object} listConfig Object that contains bullet, text and type for creating the list
                  * @protected
         */
        _createList: function _createList(listConfig) {
            var editor = listConfig.editor;

            var range = editor.getSelection().getRanges()[0];

            range.endContainer.setText(listConfig.text);
            editor.execCommand(listConfig.type);

            var editable = editor.editable();

            // Subscribe to keydown in order to check if the next key press is `Backspace`.
            // If so, the creation of the list will be discarded.
            editable.attachListener(editable, 'keydown', this._checkForBackspaceAndUndo, this, {
                editor: editor,
                bullet: listConfig.bullet
            }, 1);
        },

        /**
                  * Listens to the `Space` key events to check if the last word
                  * introduced by the user should be replaced by a list (OL or UL)
                  *
                  * @instance
                  * @memberof CKEDITOR.plugins.ae_autolist
                  * @method _onKeyDown
                  * @param {Event} event Event object
                  * @protected
                  */
        _onKeyDown: function _onKeyDown(event) {
            var nativeEvent = event.data.$;

            if (nativeEvent.keyCode === KEY_SPACE) {
                var listConfig = this._getListConfig(event.listenerData.editor);

                if (listConfig) {
                    event.data.preventDefault();
                    this._createList(listConfig);
                }
            }
        }
    });
})();

/***/ }),

/***/ "./src/plugins/dragresize.js":
/*!***********************************!*\
  !*** ./src/plugins/dragresize.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * CKEditor plugin: Dragable image resizing
 * https://github.com/sstur/ck-dragresize
 * - Shows semi-transparent overlay while resizing
 * - Enforces Aspect Ratio (unless holding shift)
 * - Snap to size of other images in editor
 * - Escape while dragging cancels resize
 */
(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_dragresize')) {
        return;
    }

    var IMAGE_HANDLES = {
        both: ['tl', 'tm', 'tr', 'lm', 'rm', 'bl', 'bm', 'br'],
        height: ['tl', 'tm', 'tr', 'bl', 'bm', 'br'],
        scale: ['tl', 'tr', 'bl', 'br'],
        width: ['tl', 'tr', 'lm', 'rm', 'bl', 'br']
    };

    var POSITION_ELEMENT_FN = {
        bl: function bl(handle, left, top, box) {
            positionElement(handle, -3 + left, box.height - 4 + top);
        },
        bm: function bm(handle, left, top, box) {
            positionElement(handle, Math.round(box.width / 2) - 3 + left, box.height - 4 + top);
        },
        br: function br(handle, left, top, box) {
            positionElement(handle, box.width - 4 + left, box.height - 4 + top);
        },
        lm: function lm(handle, left, top, box) {
            positionElement(handle, -3 + left, Math.round(box.height / 2) - 3 + top);
        },
        tl: function tl(handle, left, top, box) {
            positionElement(handle, left - 3, top - 3);
        },
        tm: function tm(handle, left, top, box) {
            positionElement(handle, Math.round(box.width / 2) - 3 + left, -3 + top);
        },
        tr: function tr(handle, left, top, box) {
            positionElement(handle, box.width - 4 + left, -3 + top);
        },
        rm: function rm(handle, left, top, box) {
            positionElement(handle, box.width - 4 + left, Math.round(box.height / 2) - 3 + top);
        }
    };

    var IMAGE_SNAP_TO_SIZE = 7;

    var isFirefox = 'MozAppearance' in document.documentElement.style;

    var isWebKit = 'WebkitAppearance' in document.documentElement.style;

    var enablePlugin = isWebKit || isFirefox;

    if (enablePlugin) {
        // CSS is added in a compressed form
        CKEDITOR.addCss('img::selection{color:rgba(0,0,0,0)}img.ckimgrsz{outline:1px dashed #000}#ckimgrsz{position:absolute;width:0;height:0;cursor:default;z-index:10001}#ckimgrsz span{display:none;position:absolute;top:0;left:0;width:0;height:0;background-size:100% 100%;opacity:.65;outline:1px dashed #000}#ckimgrsz i{position:absolute;display:block;width:5px;height:5px;background:#fff;border:1px solid #000}#ckimgrsz i.active,#ckimgrsz i:hover{background:#000}#ckimgrsz i.br,#ckimgrsz i.tl{cursor:nwse-resize}#ckimgrsz i.bm,#ckimgrsz i.tm{cursor:ns-resize}#ckimgrsz i.bl,#ckimgrsz i.tr{cursor:nesw-resize}#ckimgrsz i.lm,#ckimgrsz i.rm{cursor:ew-resize}body.dragging-br,body.dragging-br *,body.dragging-tl,body.dragging-tl *{cursor:nwse-resize!important}body.dragging-bm,body.dragging-bm *,body.dragging-tm,body.dragging-tm *{cursor:ns-resize!important}body.dragging-bl,body.dragging-bl *,body.dragging-tr,body.dragging-tr *{cursor:nesw-resize!important}body.dragging-lm,body.dragging-lm *,body.dragging-rm,body.dragging-rm *{cursor:ew-resize!important}');
    }

    /**
     * Initializes the plugin
     */
    CKEDITOR.plugins.add('ae_dragresize', {
        onLoad: function onLoad() {
            if (!enablePlugin) {
                return;
            }
        },
        init: function init(editor) {
            if (!enablePlugin) {
                return;
            }

            editor.once('contentDom', function (evt) {
                _init(editor);
            });
        }
    });

    function _init(editor) {
        var window = editor.window.$,
            document = editor.document.$;

        if (isFirefox) {
            // Disable the native image resizing
            document.execCommand('enableObjectResizing', false, false);
        }

        var snapToSize = typeof IMAGE_SNAP_TO_SIZE === 'undefined' ? null : IMAGE_SNAP_TO_SIZE;

        editor.config.imageScaleResize = editor.config.imageScaleResize || 'both';

        var resizer = new Resizer(editor, {
            imageScaleResize: editor.config.imageScaleResize,
            snapToSize: snapToSize
        });

        var mouseDownListener = function mouseDownListener(e) {
            if (resizer.isHandle(e.target)) {
                resizer.initDrag(e);
            }
        };

        document.addEventListener('mousedown', mouseDownListener, false);

        function selectionChange() {
            var selection = editor.getSelection();

            if (!selection) return;
            // If an element is selected and that element is an IMG
            if (selection.getType() !== CKEDITOR.SELECTION_NONE && selection.getStartElement().is('img')) {
                // And we're not right or middle clicking on the image
                if (!window.event || !window.event.button || window.event.button === 0) {
                    resizer.show(selection.getStartElement().$);
                }
            } else {
                resizer.hide();
            }
        }

        editor.on('selectionChange', selectionChange);

        editor.on('getData', function (e) {
            var html = e.data.dataValue || '';
            html = html.replace(/<div id="ckimgrsz"([\s\S]*?)<\/div>/i, '');
            html = html.replace(/\b(ckimgrsz)\b/g, '');
            e.data.dataValue = html;
        });

        editor.on('beforeUndoImage', function () {
            // Remove the handles before undo images are saved
            resizer.hide();
        });

        editor.on('afterUndoImage', function () {
            // Restore the handles after undo images are saved
            selectionChange();
        });

        editor.on('blur', function () {
            // Remove the handles when editor loses focus
            resizer.hide();
        });

        editor.on('beforeModeUnload', function self() {
            editor.removeListener('beforeModeUnload', self);
            resizer.hide();
        });

        editor.on('destroy', function () {
            var resizeElement = document.getElementById('ckimgrsz');

            if (resizeElement) {
                resizeElement.remove();
            }

            if (isFirefox) {
                document.execCommand('enableObjectResizing', false, true);
            }

            document.removeEventListener('mousedown', mouseDownListener);
        });

        // Update the selection when the browser window is resized
        var resizeTimeout;
        editor.window.on('resize', function () {
            // Cancel any resize waiting to happen
            clearTimeout(resizeTimeout);
            // Delay resize to "debounce"
            resizeTimeout = setTimeout(selectionChange, 50);
        });
    }

    function Resizer(editor, cfg) {
        this.editor = editor;
        this.window = editor.window.$;
        this.document = editor.document.$;
        this.cfg = cfg || {};
        this.init();
    }

    Resizer.prototype = {
        init: function init() {
            var instance = this;

            var container = this.container = this.document.createElement('div');

            container.id = 'ckimgrsz';
            this.preview = this.document.createElement('span');
            container.appendChild(this.preview);

            var handles = this.handles = {};

            IMAGE_HANDLES[this.cfg.imageScaleResize].forEach(function (handleName, index) {
                handles[handleName] = instance.handles[handleName] = instance.createHandle(handleName);
            });

            for (var n in handles) {
                container.appendChild(handles[n]);
            }
        },
        createHandle: function createHandle(name) {
            var el = this.document.createElement('i');
            el.classList.add(name);
            return el;
        },
        isHandle: function isHandle(el) {
            var handles = this.handles;
            for (var n in handles) {
                if (handles[n] === el) {
                    return true;
                }
            }
            return false;
        },
        show: function show(el) {
            this.el = el;
            if (this.cfg.snapToSize) {
                this.otherImages = toArray(this.document.getElementsByTagName('img'));
                this.otherImages.splice(this.otherImages.indexOf(el), 1);
            }
            var box = this.box = getBoundingBox(this.window, el);
            positionElement(this.container, box.left, box.top);
            this.document.body.appendChild(this.container);
            this.el.classList.add('ckimgrsz');
            this.showHandles();
        },
        hide: function hide() {
            // Remove class from all img.ckimgrsz
            var elements = this.document.getElementsByClassName('ckimgrsz');
            for (var i = 0; i < elements.length; ++i) {
                elements[i].classList.remove('ckimgrsz');
            }
            this.hideHandles();
            if (this.container.parentNode) {
                this.container.parentNode.removeChild(this.container);
            }
        },
        initDrag: function initDrag(e) {
            if (e.button !== 0) {
                //right-click or middle-click
                return;
            }
            var resizer = this;
            var drag = new DragEvent(this.window, this.document);
            drag.onStart = function () {
                resizer.showPreview();
                resizer.isDragging = true;
                resizer.editor.getSelection().lock();
            };
            drag.onDrag = function () {
                resizer.calculateSize(this);
                resizer.updatePreview();
                var box = resizer.previewBox;
                resizer.updateHandles(box, box.left, box.top);
            };
            drag.onRelease = function () {
                resizer.isDragging = false;
                resizer.hidePreview();
                resizer.hide();
                resizer.editor.getSelection().unlock();
                // Save an undo snapshot before the image is permanently changed
                resizer.editor.fire('saveSnapshot');
            };
            drag.onComplete = function () {
                resizer.resizeComplete();
                // Save another snapshot after the image is changed
                resizer.editor.fire('saveSnapshot');
            };
            drag.start(e);
        },
        updateHandles: function updateHandles(box, left, top) {
            left = left || 0;
            top = top || 0;
            var handles = this.handles;

            for (var handle in handles) {
                POSITION_ELEMENT_FN[handle](handles[handle], left, top, box);
            }
        },
        showHandles: function showHandles() {
            var handles = this.handles;
            this.updateHandles(this.box);
            for (var n in handles) {
                handles[n].style.display = 'block';
            }
        },
        hideHandles: function hideHandles() {
            var handles = this.handles;
            for (var n in handles) {
                handles[n].style.display = 'none';
            }
        },
        showPreview: function showPreview() {
            this.preview.style.backgroundImage = 'url("' + this.el.src + '")';
            this.calculateSize();
            this.updatePreview();
            this.preview.style.display = 'block';
        },
        updatePreview: function updatePreview() {
            var box = this.previewBox;
            positionElement(this.preview, box.left, box.top);
            this.preview.style.width = this.previewBox.width + 'px';
            this.preview.style.height = this.previewBox.height + 'px';
        },
        hidePreview: function hidePreview() {
            var box = getBoundingBox(this.window, this.preview);
            this.result = {
                width: box.width,
                height: box.height
            };
            this.preview.style.display = 'none';
        },
        calculateSize: function calculateSize(data) {
            var box = this.previewBox = {
                top: 0,
                left: 0,
                width: this.box.width,
                height: this.box.height
            };

            if (!data) return;

            var attr = data.target.className;

            if (~attr.indexOf('r')) {
                box.width = Math.max(32, this.box.width + data.delta.x);
            }
            if (~attr.indexOf('b')) {
                box.height = Math.max(32, this.box.height + data.delta.y);
            }
            if (~attr.indexOf('l')) {
                box.width = Math.max(32, this.box.width - data.delta.x);
            }
            if (~attr.indexOf('t')) {
                box.height = Math.max(32, this.box.height - data.delta.y);
            }
            //if dragging corner, enforce aspect ratio (unless shift key is being held)
            if (attr.indexOf('m') < 0 && !data.keys.shift) {
                var ratio = this.box.width / this.box.height;
                if (box.width / box.height > ratio) {
                    box.height = Math.round(box.width / ratio);
                } else {
                    box.width = Math.round(box.height * ratio);
                }
            }

            var snapToSize = this.cfg.snapToSize;

            if (snapToSize) {
                var others = this.otherImages;
                for (var i = 0; i < others.length; i++) {
                    var other = getBoundingBox(this.window, others[i]);
                    if (Math.abs(box.width - other.width) <= snapToSize && Math.abs(box.height - other.height) <= snapToSize) {
                        box.width = other.width;
                        box.height = other.height;
                        break;
                    }
                }
            }

            //recalculate left or top position
            if (~attr.indexOf('l')) {
                box.left = this.box.width - box.width;
            }
            if (~attr.indexOf('t')) {
                box.top = this.box.height - box.height;
            }
        },
        resizeComplete: function resizeComplete() {
            resizeElement.call(this, this.el, this.result.width, this.result.height);
        }
    };

    function DragEvent(window, document) {
        this.window = window;
        this.document = document;
        this.events = {
            mousemove: bind(this.mousemove, this),
            keydown: bind(this.keydown, this),
            mouseup: bind(this.mouseup, this)
        };
    }

    DragEvent.prototype = {
        start: function start(e) {
            e.preventDefault();
            e.stopPropagation();
            this.target = e.target;
            this.attr = e.target.className;
            this.startPos = {
                x: e.clientX,
                y: e.clientY
            };
            this.update(e);
            var events = this.events;
            this.document.addEventListener('mousemove', events.mousemove, false);
            this.document.addEventListener('keydown', events.keydown, false);
            this.document.addEventListener('mouseup', events.mouseup, false);
            this.document.body.classList.add('dragging-' + this.attr);
            this.onStart && this.onStart();
        },
        update: function update(e) {
            this.currentPos = {
                x: e.clientX,
                y: e.clientY
            };
            this.delta = {
                x: e.clientX - this.startPos.x,
                y: e.clientY - this.startPos.y
            };
            this.keys = {
                shift: e.shiftKey,
                ctrl: e.ctrlKey,
                alt: e.altKey
            };
        },
        mousemove: function mousemove(e) {
            this.update(e);
            this.onDrag && this.onDrag();
            if (e.which === 0) {
                //mouse button released outside window; mouseup wasn't fired (Chrome)
                this.mouseup(e);
            }
        },
        keydown: function keydown(e) {
            //escape key cancels dragging
            if (e.keyCode === 27) {
                this.release();
            }
        },
        mouseup: function mouseup(e) {
            this.update(e);
            this.release();
            this.onComplete && this.onComplete();
        },
        release: function release() {
            this.document.body.classList.remove('dragging-' + this.attr);
            var events = this.events;
            this.document.removeEventListener('mousemove', events.mousemove, false);
            this.document.removeEventListener('keydown', events.keydown, false);
            this.document.removeEventListener('mouseup', events.mouseup, false);
            this.onRelease && this.onRelease();
        }
    };

    //helper functions
    function toArray(obj) {
        var len = obj.length,
            arr = new Array(len);
        for (var i = 0; i < len; i++) {
            arr[i] = obj[i];
        }
        return arr;
    }

    function bind(fn, ctx) {
        if (fn.bind) {
            return fn.bind(ctx);
        }
        return function () {
            fn.apply(ctx, arguments);
        };
    }

    function positionElement(el, left, top) {
        el.style.left = String(left) + 'px';
        el.style.top = String(top) + 'px';
    }

    function resizeElement(el, width, height) {
        var imageScaleResize = this.editor.config.imageScaleResize;
        if (imageScaleResize === 'both') {
            el.style.width = String(width) + 'px';
            el.style.height = String(height) + 'px';
        } else if (imageScaleResize === 'width' || imageScaleResize === 'scale') {
            el.style.height = 'auto';
            el.style.width = String(width) + 'px';
        } else if (imageScaleResize === 'height') {
            el.style.height = String(height) + 'px';
            el.style.width = 'auto';
        }
    }

    function getBoundingBox(window, el) {
        var rect = el.getBoundingClientRect();
        return {
            left: rect.left + window.pageXOffset,
            top: rect.top + window.pageYOffset,
            width: rect.width,
            height: rect.height
        };
    }
})();

/***/ }),

/***/ "./src/plugins/dragresize_ie.js":
/*!**************************************!*\
  !*** ./src/plugins/dragresize_ie.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * CKEditor plugin: Image2
 * - Show gripper to resize images on IE
 */
(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_dragresize_ie')) {
        return;
    }

    var alignmentsObj = {
        center: 1,
        left: 0,
        right: 2
    };

    /*
     * Set cursor css depend on imageScaleResize config
     **/

    var cursor = {
        both: 'nwse-resize',
        height: 'ns-resize',
        scale: 'nwse-resize',
        width: 'ew-resize'
    };

    var regexPercent = /^\s*(\d+\%)\s*$/i;

    var template = '<img alt="" src="" />';

    CKEDITOR.plugins.add('ae_dragresize_ie', {
        hidpi: true,

        icons: 'image',

        init: function init(editor) {
            var image = widgetDef(editor);

            // Register the widget.
            editor.widgets.add('image', image);
        },

        onLoad: function onLoad() {
            CKEDITOR.addCss('.cke_image_resizer_nwse-resize{' + 'cursor: nwse-resize;' + '}' + '.cke_image_resizer_ns-resize{' + 'cursor: ns-resize;' + '}' + '.cke_image_resizer_nwse-resize{' + 'cursor: nwse-resize;' + '}' + '.cke_image_resizer_ew-resize{' + 'cursor: ew-resize;' + '}' + '.cke_image_nocaption{' +
            // This is to remove unwanted space so resize
            // wrapper is displayed property.
            'line-height:0' + '}' + '.cke_image_resizer{' + 'display:none;' + 'position:absolute;' + 'width:10px;' + 'height:10px;' + 'bottom:-5px;' + 'right:-5px;' + 'background:#000;' + 'outline:1px solid #fff;' +
            // Prevent drag handler from being misplaced (#11207).
            'line-height:0;' + 'cursor:nwse-resize;' + '}' + '.cke_image_resizer_wrapper{' + 'position:relative;' + 'display:inline-block;' + 'line-height:0;' + '}' + '.cke_widget_wrapper:hover .cke_image_resizer,' + '.cke_image_resizer.cke_image_resizing{' + 'display:block' + '}');
        },

        requires: 'widget'
    });

    // Wiget states (forms) depending on alignment and configuration.
    //
    // Non-captioned widget (inline styles)
    // 		ââââââââ¬ââââââââââââââââââââââââââââââââ¬ââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                  âData                         â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                      â<img />                      â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper style=âfloat:leftâ>   â<img style=âfloat:leftâ />   â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper>                      â<p style=âtext-align:centerâ>â
    // 		â      â <p style=âtext-align:centerâ> â  <img />                    â
    // 		â      â   <img />                     â</p>                         â
    // 		â      â </p>                          â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper style=âfloat:rightâ>  â<img style=âfloat:rightâ />  â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ´ââââââââââââââââââââââââââââââââ´ââââââââââââââââââââââââââââââ
    //
    // Non-captioned widget (config.image2_alignClasses defined)
    // 		ââââââââ¬ââââââââââââââââââââââââââââââââ¬ââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                  âData                         â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                      â<img />                      â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper class=âleftâ>         â<img class=âleftâ />         â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper>                      â<p class=âcenterâ>           â
    // 		â      â <p class=âcenterâ>            â <img />                     â
    // 		â      â   <img />                     â</p>                         â
    // 		â      â </p>                          â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ¼ââââââââââââââââââââââââââââââââ¼ââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper class=ârightâ>        â<img class=ârightâ />        â
    // 		â      â <img />                       â                             â
    // 		â      â</wrapper>                     â                             â
    // 		ââââââââ´ââââââââââââââââââââââââââââââââ´ââââââââââââââââââââââââââââââ
    //
    // Captioned widget (inline styles)
    // 		ââââââââ¬âââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                           âData                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                               â<figure />                              â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper style=âfloat:leftâ>            â<figure style=âfloat:leftâ />           â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper style=âtext-align:centerâ>     â<div style=âtext-align:centerâ>         â
    // 		â      â <figure style=âdisplay:inline-blockâ />â <figure style=âdisplay:inline-blockâ />â
    // 		â      â</wrapper>                              â</p>                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper style=âfloat:rightâ>           â<figure style=âfloat:rightâ />          â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ´âââââââââââââââââââââââââââââââââââââââââ´âââââââââââââââââââââââââââââââââââââââââ
    //
    // Captioned widget (config.image2_alignClasses defined)
    // 		ââââââââ¬âââââââââââââââââââââââââââââââââââââââââ¬âââââââââââââââââââââââââââââââââââââââââ
    // 		âAlign âInternal form                           âData                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		ânone  â<wrapper>                               â<figure />                              â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âleft  â<wrapper class=âleftâ>                  â<figure class=âleftâ />                 â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âcenterâ<wrapper class=âcenterâ>                â<div class=âcenterâ>                    â
    // 		â      â <figure />                             â <figure />                             â
    // 		â      â</wrapper>                              â</p>                                    â
    // 		ââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¼âââââââââââââââââââââââââââââââââââââââââ¤
    // 		âright â<wrapper class=ârightâ>                 â<figure class=ârightâ />                â
    // 		â      â <figure />                             â                                        â
    // 		â      â</wrapper>                              â                                        â
    // 		ââââââââ´âââââââââââââââââââââââââââââââââââââââââ´âââââââââââââââââââââââââââââââââââââââââ
    //
    // @param {CKEDITOR.editor}
    // @returns {Object}
    function widgetDef(editor) {
        editor.config.imageScaleResize = editor.config.imageScaleResize || 'both';

        editor.on('imageAdd', function (imageData) {
            editor.widgets.initOn(imageData.data.el, 'image');
        });

        var alignClasses = editor.config.image2_alignClasses;

        var captionedClass = editor.config.image2_captionedClass;

        return {
            init: function init() {
                var helpers = CKEDITOR.plugins.image2;

                var image = this.parts.image;

                var data = {
                    alt: image.getAttribute('alt') || '',
                    hasCaption: !!this.parts.caption,
                    height: image.getAttribute('height') || '',
                    // Lock ratio is on by default (#10833).
                    lock: this.ready ? helpers.checkHasNaturalRatio(image) : true,
                    src: image.getAttribute('src'),
                    width: image.getAttribute('width') || ''
                };

                // If we used 'a' in widget#parts definition, it could happen that
                // selected element is a child of widget.parts#caption. Since there's no clever
                // way to solve it with CSS selectors, it's done like that. (#11783).
                var link = image.getAscendant('a');

                if (link && this.wrapper.contains(link)) {
                    this.parts.link = link;
                }

                // Depending on configuration, read style/class from element and
                // then remove it. Removed style/class will be set on wrapper in #data listener.
                // Note: Center alignment is detected during upcast, so only left/right cases
                // are checked below.
                if (!data.align) {
                    var alignElement = data.hasCaption ? this.element : image;

                    // Read the initial left/right alignment from the class set on element.
                    if (alignClasses) {
                        if (alignElement.hasClass(alignClasses[0])) {
                            data.align = 'left';
                        } else if (alignElement.hasClass(alignClasses[2])) {
                            data.align = 'right';
                        }

                        if (data.align) {
                            alignElement.removeClass(alignClasses[alignmentsObj[data.align]]);
                        } else {
                            data.align = 'none';
                        }
                    }
                    // Read initial float style from figure/image and then remove it.
                    else {
                            data.align = alignElement.getStyle('float') || 'none';
                            alignElement.removeStyle('float');
                        }
                }

                // Get rid of extra vertical space when there's no caption.
                // It will improve the look of the resizer.
                this.wrapper[(data.hasCaption ? 'remove' : 'add') + 'Class']('cke_image_nocaption');

                this.setData(data);

                if (editor.config.image2_disableResizer !== true) {
                    setupResizer(this);
                }
            },

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#addClass
            addClass: function addClass(className) {
                getStyleableElement(this).addClass(className);
            },

            allowedContent: getWidgetAllowedContent(editor),

            // This widget converts style-driven dimensions to attributes.
            contentTransformations: [['img[width]: sizeToAttribute']],

            data: function data() {
                var features = this.features;

                // Image can't be captioned when figcaption is disallowed (#11004).
                if (this.data.hasCaption && !editor.filter.checkFeature(features.caption)) {
                    this.data.hasCaption = false;
                }

                // Image can't be aligned when floating is disallowed (#11004).
                if (this.data.align != 'none' && !editor.filter.checkFeature(features.align)) {
                    this.data.align = 'none';
                }

                // Update widget.parts.link since it will not auto-update unless widget
                // is destroyed and re-inited.
                if (!this.data.link) {
                    if (this.parts.link) {
                        delete this.parts.link;
                    }
                } else {
                    if (!this.parts.link) {
                        this.parts.link = this.parts.image.getParent();
                    }
                }

                this.parts.image.setAttributes({
                    alt: this.data.alt,

                    contenteditable: this.parts.image.getAttribute('contenteditable') ? this.parts.image.getAttribute('contenteditable') : true,

                    // This internal is required by the editor.
                    'data-cke-saved-src': this.data.src,

                    src: this.data.src
                });

                // If shifting non-captioned -> captioned, remove classes
                // related to styles from <img/>.
                if (this.oldData && !this.oldData.hasCaption && this.data.hasCaption) {
                    for (var c in this.data.classes) {
                        this.parts.image.removeClass(c);
                    }
                }

                // Set dimensions of the image according to gathered data.
                // Do it only when the attributes are allowed (#11004).
                if (editor.filter.checkFeature(features.dimension)) {
                    setDimensions(this);
                }

                // Cache current data.
                this.oldData = CKEDITOR.tools.extend({}, this.data);
            },

            downcast: downcastWidgetElement(editor),

            draggable: false,

            // This widget has an editable caption.
            editables: {
                caption: {
                    selector: 'figcaption',
                    allowedContent: 'br em strong sub sup u s; a[!href,target]'
                }
            },

            features: getWidgetFeatures(editor),

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#getClasses
            getClasses: function () {
                var classRegex = new RegExp('^(' + [].concat(captionedClass, alignClasses).join('|') + ')$');

                return function () {
                    var classes = this.repository.parseElementClasses(getStyleableElement(this).getAttribute('class'));

                    // Neither config.image2_captionedClass nor config.image2_alignClasses
                    // do not belong to style classes.
                    for (var c in classes) {
                        if (classRegex.test(c)) {
                            delete classes[c];
                        }
                    }

                    return classes;
                };
            }(),

            getLabel: function getLabel() {
                var label = (this.data.alt || '') + ' ' + this.pathName;

                return label;
            },

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#hasClass
            hasClass: function hasClass(className) {
                return getStyleableElement(this).hasClass(className);
            },

            parts: {
                caption: 'figcaption',
                image: 'img'
            },

            // Overrides default method to handle internal mutability of Image2.
            // @see CKEDITOR.plugins.widget#removeClass
            removeClass: function removeClass(className) {
                getStyleableElement(this).removeClass(className);
            },

            requiredContent: 'img[src,alt]',

            styleableElements: 'img figure',

            // Template of the widget: plain image.
            template: template,

            upcast: upcastWidgetElement(editor)
        };
    }

    /**
     * A set of Enhanced Image (image2) plugin helpers.
     *
     * @class
     * @singleton
     */
    CKEDITOR.plugins.image2 = {
        /**
         * Checks whether the current image ratio matches the natural one
         * by comparing dimensions.
         *
         * @param {CKEDITOR.dom.element} image
         * @returns {Boolean}
         */
        checkHasNaturalRatio: function checkHasNaturalRatio(image) {
            var $ = image.$,
                natural = this.getNatural(image);

            // The reason for two alternative comparisons is that the rounding can come from
            // both dimensions, e.g. there are two cases:
            // 	1. height is computed as a rounded relation of the real height and the value of width,
            //	2. width is computed as a rounded relation of the real width and the value of heigh.
            return Math.round($.clientWidth / natural.width * natural.height) == $.clientHeight || Math.round($.clientHeight / natural.height * natural.width) == $.clientWidth;
        },

        /**
         * Returns natural dimensions of the image. For modern browsers
         * it uses natural(Width|Height). For old ones (IE8) it creates
         * a new image and reads the dimensions.
         *
         * @param {CKEDITOR.dom.element} image
         * @returns {Object}
         */
        getNatural: function getNatural(image) {
            var dimensions;

            if (image.$.naturalWidth) {
                dimensions = {
                    height: image.$.naturalHeigh,
                    width: image.$.naturalWidth
                };
            } else {
                var img = new Image();

                img.src = image.getAttribute('src');

                dimensions = {
                    height: img.heigh,
                    width: img.width
                };
            }

            return dimensions;
        }
    };

    // Returns a function that creates widgets from all <img> and
    // <figure class="{config.image2_captionedClass}"> elements.
    //
    // @param {CKEDITOR.editor} editor
    // @returns {Function}
    function upcastWidgetElement(editor) {
        var isCenterWrapper = centerWrapperChecker(editor);

        var captionedClass = editor.config.image2_captionedClass;

        // @param {CKEDITOR.htmlParser.element} el
        // @param {Object} data
        return function (el, data) {
            var dimensions = {
                height: 1,
                width: 1
            };

            var name = el.name;

            var image;

            // #11110 Don't initialize on pasted fake objects.
            if (el.attributes['data-cke-realelement']) {
                return;
            }

            // If a center wrapper is found, there are 3 possible cases:
            //
            // 1. <div style="text-align:center"><figure>...</figure></div>.
            //    In this case centering is done with a class set on widget.wrapper.
            //    Simply replace centering wrapper with figure (it's no longer necessary).
            //
            // 2. <p style="text-align:center"><img/></p>.
            //    Nothing to do here: <p> remains for styling purposes.
            //
            // 3. <div style="text-align:center"><img/></div>.
            //    Nothing to do here (2.) but that case is only possible in enterMode different
            //    than ENTER_P.
            if (isCenterWrapper(el)) {
                if (name == 'div') {
                    var figure = el.getFirst('figure');

                    // Case #1.
                    if (figure) {
                        el.replaceWith(figure);
                        el = figure;
                    }
                }
                // Cases #2 and #3 (handled transparently)

                // If there's a centering wrapper, save it in data.
                data.align = 'center';

                // Image can be wrapped in link <a><img/></a>.
                image = el.getFirst('img') || el.getFirst('a').getFirst('img');
            }

            // No center wrapper has been found.
            else if (name == 'figure' && el.hasClass(captionedClass)) {
                    image = el.getFirst('img') || el.getFirst('a').getFirst('img');

                    // Upcast linked image like <a><img/></a>.
                } else if (isLinkedOrStandaloneImage(el)) {
                    image = el.name == 'a' ? el.children[0] : el;
                }

            if (!image) {
                return;
            }

            // If there's an image, then cool, we got a widget.
            // Now just remove dimension attributes expressed with %.
            for (var d in dimensions) {
                var dimension = image.attributes[d];

                if (dimension && dimension.match(regexPercent)) {
                    delete image.attributes[d];
                }
            }

            return el;
        };
    }

    // Returns a function which transforms the widget to the external format
    // according to the current configuration.
    //
    // @param {CKEDITOR.editor}
    function downcastWidgetElement(editor) {
        var alignClasses = editor.config.image2_alignClasses;

        // @param {CKEDITOR.htmlParser.element} el
        return function (el) {
            // In case of <a><img/></a>, <img/> is the element to hold
            // inline styles or classes (image2_alignClasses).
            var attrsHolder = el.name == 'a' ? el.getFirst() : el;

            var attrs = attrsHolder.attributes;

            var align = this.data.align;

            // De-wrap the image from resize handle wrapper.
            // Only block widgets have one.
            if (!this.inline) {
                var resizeWrapper = el.getFirst('span');

                if (resizeWrapper) {
                    resizeWrapper.replaceWith(resizeWrapper.getFirst({
                        a: 1,
                        img: 1
                    }));
                }
            }

            if (align && align != 'none') {
                var styles = CKEDITOR.tools.parseCssText(attrs.style || '');

                // When the widget is captioned (<figure>) and internally centering is done
                // with widget's wrapper style/class, in the external data representation,
                // <figure> must be wrapped with an element holding an style/class:
                //
                // 	<div style="text-align:center">
                // 		<figure class="image" style="display:inline-block">...</figure>
                // 	</div>
                // or
                // 	<div class="some-center-class">
                // 		<figure class="image">...</figure>
                // 	</div>
                //
                if (align == 'center' && el.name == 'figure') {
                    el = el.wrapWith(new CKEDITOR.htmlParser.element('div', alignClasses ? {
                        'class': alignClasses[1]
                    } : {
                        style: 'text-align:center'
                    }));
                }

                // If left/right, add float style to the downcasted element.
                else if (align in {
                        left: 1,
                        right: 1
                    }) {
                        if (alignClasses) {
                            attrsHolder.addClass(alignClasses[alignmentsObj[align]]);
                        } else {
                            styles['float'] = align;
                        }
                    }

                // Update element styles.
                if (!alignClasses && !CKEDITOR.tools.isEmpty(styles)) {
                    attrs.style = CKEDITOR.tools.writeCssText(styles);
                }
            }

            return el;
        };
    }

    // Returns a function that checks if an element is a centering wrapper.
    //
    // @param {CKEDITOR.editor} editor
    // @returns {Function}
    function centerWrapperChecker(editor) {
        var captionedClass = editor.config.image2_captionedClass;

        var alignClasses = editor.config.image2_alignClasses;

        var validChildren = {
            a: 1,
            figure: 1,
            img: 1
        };

        return function (el) {
            // Wrapper must be either <div> or <p>.
            if (!(el.name in {
                div: 1,
                p: 1
            })) {
                return false;
            }

            var children = el.children;

            // Centering wrapper can have only one child.
            if (children.length !== 1) {
                return false;
            }

            var child = children[0];

            // Only <figure> or <img /> can be first (only) child of centering wrapper,
            // regardless of its type.
            if (!(child.name in validChildren)) {
                return false;
            }

            // If centering wrapper is <p>, only <img /> can be the child.
            //   <p style="text-align:center"><img /></p>
            if (el.name == 'p') {
                if (!isLinkedOrStandaloneImage(child)) {
                    return false;
                }
            }
            // Centering <div> can hold <img/> or <figure>, depending on enterMode.
            else {
                    // If a <figure> is the first (only) child, it must have a class.
                    //   <div style="text-align:center"><figure>...</figure><div>
                    if (child.name == 'figure') {
                        if (!child.hasClass(captionedClass)) {
                            return false;
                        }
                    } else {
                        // Centering <div> can hold <img/> or <a><img/></a> only when enterMode
                        // is ENTER_(BR|DIV).
                        //   <div style="text-align:center"><img /></div>
                        //   <div style="text-align:center"><a><img /></a></div>
                        if (editor.enterMode == CKEDITOR.ENTER_P) {
                            return false;
                        }

                        // Regardless of enterMode, a child which is not <figure> must be
                        // either <img/> or <a><img/></a>.
                        if (!isLinkedOrStandaloneImage(child)) {
                            return false;
                        }
                    }
                }

            // Centering wrapper got to be... centering. If image2_alignClasses are defined,
            // check for centering class. Otherwise, check the style.
            if (alignClasses ? el.hasClass(alignClasses[1]) : CKEDITOR.tools.parseCssText(el.attributes.style || '', true)['text-align'] == 'center') {
                return true;
            }

            return false;
        };
    }

    // Checks whether element is <img/> or <a><img/></a>.
    //
    // @param {CKEDITOR.htmlParser.element}
    function isLinkedOrStandaloneImage(el) {
        if (el.name == 'img') {
            return true;
        } else if (el.name == 'a') {
            return el.children.length == 1 && el.getFirst('img');
        }

        return false;
    }

    // Sets width and height of the widget image according to current widget data.
    //
    // @param {CKEDITOR.plugins.widget} widget
    function setDimensions(widget) {
        var data = widget.data;

        var dimensions = {
            height: data.height,
            width: data.width
        };

        var image = widget.parts.image;

        for (var d in dimensions) {
            if (dimensions[d]) {
                image.setAttribute(d, dimensions[d]);
            } else {
                image.removeAttribute(d);
            }
        }
    }

    // Defines all features related to drag-driven image resizing.
    //
    // @param {CKEDITOR.plugins.widget} widget
    function setupResizer(widget) {
        var editor = widget.editor;

        var editable = editor.editable();

        var doc = editor.document;

        // Store the resizer in a widget for testing (#11004).
        var resizer = widget.resizer = doc.createElement('span');

        resizer.addClass('cke_image_resizer');
        resizer.addClass('cke_image_resizer_' + cursor[editor.config.imageScaleResize]);
        resizer.append(new CKEDITOR.dom.text('\u200B', doc));

        // Inline widgets don't need a resizer wrapper as an image spans the entire widget.
        if (!widget.inline) {
            var imageOrLink = widget.parts.link || widget.parts.image;

            var oldResizeWrapper = imageOrLink.getParent();

            var resizeWrapper = doc.createElement('span');

            resizeWrapper.addClass('cke_image_resizer_wrapper');
            resizeWrapper.append(imageOrLink);
            resizeWrapper.append(resizer);
            widget.element.append(resizeWrapper, true);

            // Remove the old wrapper which could came from e.g. pasted HTML
            // and which could be corrupted (e.g. resizer span has been lost).
            if (oldResizeWrapper.is('span')) {
                oldResizeWrapper.remove();
            }
        } else {
            widget.wrapper.append(resizer);
        }

        // Calculate values of size variables and mouse offsets.
        resizer.on('mousedown', function (evt) {
            var image = widget.parts.image;

            // "factor" can be either 1 or -1. I.e.: For right-aligned images, we need to
            // subtract the difference to get proper width, etc. Without "factor",
            // resizer starts working the opposite way.
            var factor = widget.data.align == 'right' ? -1 : 1;

            // The x-coordinate of the mouse relative to the screen
            // when button gets pressed.
            var startX = evt.data.$.screenX;

            var startY = evt.data.$.screenY;

            // The initial dimensions and aspect ratio of the image.
            var startWidth = image.$.clientWidth;

            var startHeight = image.$.clientHeight;

            var listeners = [];

            // A class applied to editable during resizing.
            var cursorClass = 'cke_image_s' + (!~factor ? 'w' : 'e');

            var nativeEvt, newWidth, newHeight, updateData;

            var moveDiffX, moveDiffY, moveRatio;

            // Save the undo snapshot first: before resizing.
            editor.fire('saveSnapshot');

            // Mousemove listeners are removed on mouseup.
            attachToDocuments('mousemove', onMouseMove, listeners);

            // Clean up the mousemove listener. Update widget data if valid.
            attachToDocuments('mouseup', onMouseUp, listeners);

            // The entire editable will have the special cursor while resizing goes on.
            editable.addClass(cursorClass);

            // This is to always keep the resizer element visible while resizing.
            resizer.addClass('cke_image_resizing');

            // Attaches an event to a global document if inline editor.
            // Additionally, if classic (`iframe`-based) editor, also attaches the same event to `iframe`'s document.
            function attachToDocuments(name, callback, collection) {
                var globalDoc = CKEDITOR.document;

                var listeners = [];

                if (!doc.equals(globalDoc)) {
                    listeners.push(globalDoc.on(name, callback));
                }

                listeners.push(doc.on(name, callback));

                if (collection) {
                    for (var i = listeners.length; i--;) {
                        collection.push(listeners.pop());
                    }
                }
            }

            // This is how variables refer to the geometry.
            // Note: x corresponds to moveOffset, this is the position of mouse
            // Note: o corresponds to [startX, startY].
            //
            // 	+--------------+--------------+
            // 	|              |              |
            // 	|      I       |      II      |
            // 	|              |              |
            // 	+------------- o -------------+ _ _ _
            // 	|              |              |      ^

            // 	|      VI      |     III      |      | moveDiffY
            // 	|              |         x _ _ _ _ _ v
            // 	+--------------+---------|----+
            // 	               |         |
            // 	                <------->
            // 	                moveDiffX
            function onMouseMove(evt) {
                var imageScaleResize = editor.config.imageScaleResize;

                nativeEvt = evt.data.$;

                // This is how far the mouse is from the point the button was pressed.
                moveDiffX = nativeEvt.screenX - startX;
                moveDiffY = startY - nativeEvt.screenY;

                // This is the aspect ratio of the move difference.
                moveRatio = Math.abs(moveDiffX / moveDiffY);

                if (imageScaleResize === 'width' || imageScaleResize === 'both' || imageScaleResize === 'scale') {
                    newWidth = startWidth + factor * moveDiffX;
                }

                if (imageScaleResize === 'height' || imageScaleResize === 'both') {
                    newHeight = startHeight - moveDiffY;
                }

                if (imageScaleResize === 'scale') {
                    newHeight = 'auto';
                }

                newWidth = newWidth || startWidth;
                newHeight = newHeight || startHeight;

                // Don't update attributes if less than 10.
                // This is to prevent images to visually disappear.
                if (newWidth >= 15 && (newHeight >= 15 || newHeight === 'auto')) {
                    image.setAttributes({
                        width: newWidth,
                        height: newHeight
                    });
                    updateData = true;
                } else {
                    updateData = false;
                }
            }

            function onMouseUp() {
                var l;

                while (l = listeners.pop()) {
                    l.removeListener();
                }

                // Restore default cursor by removing special class.
                editable.removeClass(cursorClass);

                // This is to bring back the regular behaviour of the resizer.
                resizer.removeClass('cke_image_resizing');

                if (updateData) {
                    widget.setData({
                        height: newHeight,
                        width: newWidth
                    });

                    // Save another undo snapshot: after resizing.
                    editor.fire('saveSnapshot');
                }

                // Don't update data twice or more.
                updateData = false;
            }
        });

        // Change the position of the widget resizer when data changes.
        widget.on('data', function () {
            resizer[widget.data.align == 'right' ? 'addClass' : 'removeClass']('cke_image_resizer_left');
        });

        widget.parts.image.on('click', function () {

            editor._.editable.editor.getSelection().selectElement(this);

            var selectionData = editor._.editable.editor.getSelectionData();
            if (selectionData) {
                editor.fire('editorInteraction', {
                    nativeEvent: event,
                    selectionData: selectionData
                });
            }
        });
    }

    // Returns a set of widget allowedContent rules, depending
    // on configurations like config#image2_alignClasses or
    // config#image2_captionedClass.
    //
    // @param {CKEDITOR.editor}
    // @returns {Object}
    function getWidgetAllowedContent(editor) {
        var rules = {
            figcaption: true,
            figure: {
                classes: '!' + editor.config.image2_captionedClass
            },
            img: {
                attributes: '!src,alt,width,height'
            }
        };

        return rules;
    }

    // Returns a set of widget feature rules, depending
    // on editor configuration. Note that the following may not cover
    // all the possible cases since requiredContent supports a single
    // tag only.
    //
    // @param {CKEDITOR.editor}
    // @returns {Object}
    function getWidgetFeatures(editor) {
        var alignClasses = editor.config.image2_alignClasses;

        var features = {
            align: {
                requiredContent: 'img' + (alignClasses ? '(' + alignClasses[0] + ')' : '{float}')
            },
            caption: {
                requiredContent: 'figcaption'
            },
            dimension: {
                requiredContent: 'img[width,height]'
            }
        };

        return features;
    }

    // Returns element which is styled, considering current
    // state of the widget.
    //
    // @see CKEDITOR.plugins.widget#applyStyle
    // @param {CKEDITOR.plugins.widget} widget
    // @returns {CKEDITOR.dom.element}
    function getStyleableElement(widget) {
        return widget.data.hasCaption ? widget.element : widget.parts.image;
    }
})();

CKEDITOR.config.image2_captionedClass = 'image';

/***/ }),

/***/ "./src/plugins/embed.js":
/*!******************************!*\
  !*** ./src/plugins/embed.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    /* istanbul ignore if */

    if (CKEDITOR.plugins.get('ae_embed')) {
        return;
    }

    var REGEX_HTTP = /^https?/;

    var REGEX_DEFAULT_LINK = /<a href=/;

    var PROVIDERS = ['youtube', 'twitter'];

    CKEDITOR.DEFAULT_AE_EMBED_URL_TPL = 'http://alloy.iframe.ly/api/oembed?url={url}&callback={callback}';
    CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL = '<div data-ae-embed-url="{url}"></div>';
    CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL = '<a href="{url}">{url}</a>';
    /**
     * CKEditor plugin which adds the infrastructure to embed urls as media objects using an oembed
     * service. By default, and for demoing purposes only, the oembed service is hosted in iframe.ly
     * at //alloy.iframe.ly/api/oembed?url={url}&callback={callback}. Note this should be changed to
     * a self-hosted or paid service in production environments. Access to the alloy.iframe.ly endpoint
     * may be restricted per domain due to significant traffic.
     *
     * This plugin adds an `embedUrl` command that can be used to easily embed a URL and transform it
     * to an embedded content.
     *
     * @class CKEDITOR.plugins.ae_embed
     */
    CKEDITOR.plugins.add('ae_embed', {
        requires: 'widget',
        init: function init(editor) {
            var AE_EMBED_URL_TPL = new CKEDITOR.template(editor.config.embedUrlTemplate || CKEDITOR.DEFAULT_AE_EMBED_URL_TPL);
            var AE_EMBED_WIDGET_TPL = new CKEDITOR.template(editor.config.embedWidgetTpl || CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL);
            var AE_EMBED_DEFAULT_LINK_TPL = new CKEDITOR.template(editor.config.embedLinkDefaultTpl || CKEDITOR.DEFAULT_AE_EMBED_DEFAULT_LINK_TPL);

            // Default function to upcast DOM elements to embed widgets.
            // It matches CKEDITOR.DEFAULT_AE_EMBED_WIDGET_TPL
            var defaultEmbedWidgetUpcastFn = function defaultEmbedWidgetUpcastFn(element, data) {
                if (element.name === 'div' && element.attributes['data-ae-embed-url']) {
                    data.url = element.attributes['data-ae-embed-url'];

                    return true;
                }
            };

            // Create a embedUrl command that can be invoked to easily embed media URLs
            editor.addCommand('embedUrl', {
                exec: function exec(editor, data) {
                    editor.insertHtml(AE_EMBED_WIDGET_TPL.output({
                        url: data.url
                    }));
                }
            });

            // Create a widget to properly handle embed operations
            editor.widgets.add('ae_embed', {

                mask: true,
                requiredContent: 'div[data-ae-embed-url]',

                /**
                 * Listener to be executed every time the widget's data changes. It takes care of
                 * requesting the embed object to the configured oembed service and render it in
                 * the editor
                 *
                 * @method data
                 * @param {event} event Data change event
                 */
                data: function data(event) {
                    var widget = this;

                    var url = event.data.url;

                    if (url) {
                        CKEDITOR.tools.jsonp(AE_EMBED_URL_TPL, {
                            url: encodeURIComponent(url)
                        }, function (response) {
                            if (response.html) {
                                if (REGEX_DEFAULT_LINK.test(response.html)) {
                                    widget.createATag(url);
                                } else {
                                    widget.element.setHtml(response.html);
                                }
                            } else {
                                widget.createATag(url);
                            }
                        }, function (msg) {
                            widget.createATag(url);
                        });
                    }
                },

                createATag: function createATag(url) {
                    this.editor.execCommand('undo');

                    var currentSelection = this.editor.getSelection().getSelectedElement();

                    var aTagHtml = AE_EMBED_DEFAULT_LINK_TPL.output({
                        url: url
                    });

                    this.editor.insertHtml(aTagHtml);
                    this.editor.fire('actionPerformed', this);
                },

                /**
                 * Function used to upcast an element to ae_embed widgets.
                 *
                 * @method upcast
                 * @param {CKEDITOR.htmlParser.element} element The element to be checked
                 * @param {Object} data The object that will be passed to the widget
                 */
                upcast: function upcast(element, data) {
                    var embedWidgetUpcastFn = editor.config.embedWidgetUpcastFn || defaultEmbedWidgetUpcastFn;

                    return embedWidgetUpcastFn(element, data);
                }
            });

            // Add a listener to handle paste events and turn links into embed objects
            editor.once('contentDom', function () {
                editor.on('paste', function (event) {
                    var link = event.data.dataValue;

                    if (REGEX_HTTP.test(link)) {
                        event.stop();

                        editor.execCommand('embedUrl', {
                            url: event.data.dataValue
                        });
                    }
                });
            });

            // Add a listener to handle selection change events and properly detect editor
            // interactions on the widgets without messing with widget native selection
            editor.on('selectionChange', function (event) {
                var selection = editor.getSelection();

                if (selection) {
                    var element = selection.getSelectedElement();

                    if (element) {
                        var widgetElement = element.findOne('[data-widget="ae_embed"]');

                        if (widgetElement) {
                            var region = element.getClientRect();

                            var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();
                            region.left -= scrollPosition.x;
                            region.top += scrollPosition.y;

                            region.direction = CKEDITOR.SELECTION_BOTTOM_TO_TOP;

                            editor.fire('editorInteraction', {
                                nativeEvent: {},
                                selectionData: {
                                    element: widgetElement,
                                    region: region
                                }
                            });
                        }
                    }
                }
            });

            // Add a filter to skip filtering widget elements
            editor.filter.addElementCallback(function (element) {
                if ('data-ae-embed-url' in element.attributes) {
                    return CKEDITOR.FILTER_SKIP_TREE;
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/plugins/imagealignment.js":
/*!***************************************!*\
  !*** ./src/plugins/imagealignment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var _selectionTest = __webpack_require__(/*! ../selections/selection-test.js */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_imagealignment')) {
        return;
    }

    /**
     * Enum for supported image alignments
     * @type {Object}
     */
    var IMAGE_ALIGNMENT = {
        CENTER: 'center',
        LEFT: 'left',
        RIGHT: 'right'
    };

    /**
     * Enum values for supported image alignments
     * @type {Array}
     */
    var ALIGN_VALUES = [IMAGE_ALIGNMENT.LEFT, IMAGE_ALIGNMENT.RIGHT, IMAGE_ALIGNMENT.CENTER];

    /**
     * Necessary styles for the center alignment
     * @type {Array.<Object>}
     */
    var CENTERED_IMAGE_STYLE = [{
        name: 'display',
        value: 'block'
    }, {
        name: 'margin-left',
        value: 'auto'
    }, {
        name: 'margin-right',
        value: 'auto'
    }];

    /**
     * Retrieves the alignment value of an image.
     *
     * @param {CKEDITOR.dom.element} image The image element
     * @return {String} The alignment value
     */
    var getImageAlignment = function getImageAlignment(image) {
        var imageAlignment = image.getStyle('float');

        if (!imageAlignment || imageAlignment === 'inherit' || imageAlignment === 'none') {
            imageAlignment = image.getAttribute('align');
        }

        if (!imageAlignment) {
            var centeredImage = CENTERED_IMAGE_STYLE.every(function (style) {
                var styleCheck = image.getStyle(style.name) === style.value;

                if (!styleCheck && style.vendorPrefixes) {
                    styleCheck = style.vendorPrefixes.some(function (vendorPrefix) {
                        return image.getStyle(vendorPrefix + style.name) === style.value;
                    });
                }

                return styleCheck;
            });

            imageAlignment = centeredImage ? IMAGE_ALIGNMENT.CENTER : null;
        }

        return imageAlignment;
    };

    /**
     * Removes the alignment value of an image
     *
     * @param {CKEDITOR.dom.element} image The image element
     * @param {String} imageAlignment The image alignment value to be removed
     */
    var removeImageAlignment = function removeImageAlignment(image, imageAlignment) {
        if (imageAlignment === IMAGE_ALIGNMENT.LEFT || imageAlignment === IMAGE_ALIGNMENT.RIGHT) {
            image.removeStyle('float');

            if (imageAlignment === getImageAlignment(image)) {
                image.removeAttribute('align');
            }
        } else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {
            CENTERED_IMAGE_STYLE.forEach(function (style) {
                image.removeStyle(style.name);

                if (style.vendorPrefixes) {
                    style.vendorPrefixes.forEach(function (vendorPrefix) {
                        image.removeStyle(vendorPrefix + style.name);
                    });
                }
            });
        }
    };

    /**
     * Sets the alignment value of an image
     *
     * @param {CKEDITOR.dom.element} image The image element
     * @param {String} imageAlignment The image alignment value to be set
     */
    var setImageAlignment = function setImageAlignment(image, imageAlignment) {
        removeImageAlignment(image, getImageAlignment(image));

        if (imageAlignment === IMAGE_ALIGNMENT.LEFT || imageAlignment === IMAGE_ALIGNMENT.RIGHT) {
            image.setStyle('float', imageAlignment);
        } else if (imageAlignment === IMAGE_ALIGNMENT.CENTER) {
            CENTERED_IMAGE_STYLE.forEach(function (style) {
                image.setStyle(style.name, style.value);

                if (style.vendorPrefixes) {
                    style.vendorPrefixes.forEach(function (vendorPrefix) {
                        image.setStyle(vendorPrefix + style.name, style.value);
                    });
                }
            });
        }
    };

    /**
     * CKEditor plugin which modifies the justify commands to properly align images. This
     * plugin is an excerpt of CKEditor's original image one that can be found at
     * https://github.com/ckeditor/ckeditor-dev/blob/master/plugins/image/plugin.js
     *
     * @class CKEDITOR.plugins.ae_imagealignment
     */
    CKEDITOR.plugins.add('ae_imagealignment', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'paste' event on the editing area.
         *
         * @method afterInit
         * @param {Object} editor The current editor instance
         */
        afterInit: function afterInit(editor) {
            var self = this;

            ALIGN_VALUES.forEach(function (value) {
                var command = editor.getCommand('justify' + value);

                if (command) {
                    command.on('exec', function (event) {
                        var selectionData = editor.getSelectionData();

                        if (selectionData && _selectionTest2.default.image({ data: { selectionData: selectionData } })) {
                            var image = selectionData.element;

                            var imageAlignment = getImageAlignment(image);

                            if (imageAlignment === value) {
                                removeImageAlignment(image, value);
                            } else {
                                setImageAlignment(image, value);
                            }

                            event.cancel();

                            self.refreshCommands(editor, new CKEDITOR.dom.elementPath(image));
                        }
                    });

                    command.on('refresh', function (event) {
                        var selectionData = {
                            element: event.data.path.lastElement
                        };

                        if (_selectionTest2.default.image({ data: { selectionData: selectionData } })) {
                            var imageAlignment = getImageAlignment(selectionData.element);

                            this.setState(imageAlignment === value ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF);

                            event.cancel();
                        }
                    });
                }
            });
        },

        /**
         * Forces a refresh of the modified justify commands. This is needed because the applied changes
         * do not modify the selection, so the refresh is never triggered and the UI does not update
         * properly until the next selectionChange event.
         *
         * @param {CKEDITOR.editor} editor The editor instance
         * @param {CKEDITOR.dom.elementPath} elementPath The path of the selected image
         */
        refreshCommands: function refreshCommands(editor, elementPath) {
            ALIGN_VALUES.forEach(function (value) {
                var command = editor.getCommand('justify' + value);

                if (command) {
                    command.refresh(editor, elementPath);
                }
            });
        }
    });
})();

/***/ }),

/***/ "./src/plugins/index.js":
/*!******************************!*\
  !*** ./src/plugins/index.js ***!
  \******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.tabletools = exports.tableresize = exports.selectionkeystrokes = exports.placeholder = exports.pasteimages = exports.imagealignment = exports.embed = exports.dragresizeie = exports.dragresize = exports.autolist = exports.autolink = exports.addimages = undefined;

var _addimages = __webpack_require__(/*! ./addimages */ "./src/plugins/addimages.js");

var _addimages2 = _interopRequireDefault(_addimages);

var _autolink = __webpack_require__(/*! ./autolink */ "./src/plugins/autolink.js");

var _autolink2 = _interopRequireDefault(_autolink);

var _autolist = __webpack_require__(/*! ./autolist */ "./src/plugins/autolist.js");

var _autolist2 = _interopRequireDefault(_autolist);

var _dragresize = __webpack_require__(/*! ./dragresize */ "./src/plugins/dragresize.js");

var _dragresize2 = _interopRequireDefault(_dragresize);

var _dragresize_ie = __webpack_require__(/*! ./dragresize_ie */ "./src/plugins/dragresize_ie.js");

var _dragresize_ie2 = _interopRequireDefault(_dragresize_ie);

var _embed = __webpack_require__(/*! ./embed */ "./src/plugins/embed.js");

var _embed2 = _interopRequireDefault(_embed);

var _imagealignment = __webpack_require__(/*! ./imagealignment */ "./src/plugins/imagealignment.js");

var _imagealignment2 = _interopRequireDefault(_imagealignment);

var _pasteimages = __webpack_require__(/*! ./pasteimages */ "./src/plugins/pasteimages.js");

var _pasteimages2 = _interopRequireDefault(_pasteimages);

var _placeholder = __webpack_require__(/*! ./placeholder */ "./src/plugins/placeholder.js");

var _placeholder2 = _interopRequireDefault(_placeholder);

var _selectionkeystrokes = __webpack_require__(/*! ./selectionkeystrokes */ "./src/plugins/selectionkeystrokes.js");

var _selectionkeystrokes2 = _interopRequireDefault(_selectionkeystrokes);

var _tableresize = __webpack_require__(/*! ./tableresize */ "./src/plugins/tableresize.js");

var _tableresize2 = _interopRequireDefault(_tableresize);

var _tabletools = __webpack_require__(/*! ./tabletools */ "./src/plugins/tabletools.js");

var _tabletools2 = _interopRequireDefault(_tabletools);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.addimages = _addimages2.default;
exports.autolink = _autolink2.default;
exports.autolist = _autolist2.default;
exports.dragresize = _dragresize2.default;
exports.dragresizeie = _dragresize_ie2.default;
exports.embed = _embed2.default;
exports.imagealignment = _imagealignment2.default;
exports.pasteimages = _pasteimages2.default;
exports.placeholder = _placeholder2.default;
exports.selectionkeystrokes = _selectionkeystrokes2.default;
exports.tableresize = _tableresize2.default;
exports.tabletools = _tabletools2.default;

/***/ }),

/***/ "./src/plugins/pasteimages.js":
/*!************************************!*\
  !*** ./src/plugins/pasteimages.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_pasteimages')) {
        return;
    }

    /**
     * CKEditor plugin which allows pasting images directly into the editable area. The image will be encoded
     * as Data URI. An event `beforeImageAdd` will be fired with the list of pasted images. If any of the listeners
     * returns `false` or cancels the event, the images won't be added to the content. Otherwise,
     * an event `imageAdd` will be fired with the inserted element into the editable area.
     *
     * @class CKEDITOR.plugins.ae_pasteimages
     */

    /**
     * Fired before adding images to the editor.
     * @event beforeImageAdd
     * @param {Array} imageFiles Array of image files
     */

    /**
     * Fired when an image is being added to the editor successfully.
     *
     * @event imageAdd
     * @param {CKEDITOR.dom.element} el The created image with src as Data URI
     * @param {File} file The image file
     */

    CKEDITOR.plugins.add('ae_pasteimages', {
        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'paste' event on the editing area.
         *
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.once('contentDom', function () {
                var editable = editor.editable();

                editable.attachListener(editable, 'paste', this._onPaste, this, {
                    editor: editor
                });
            }.bind(this));
        },

        /**
         * The function creates an img element with src the image data as Data URI.
         * Then, it fires an 'imageAdd' event via CKEditor's event system. The passed
         * params will be:
         * - `el` - the created img element
         * - `file` - the original pasted data
         *
         * @method _onPaste
         * @protected
         * @param {CKEDITOR.dom.event} event A `paste` event, as received natively from CKEditor
         */
        _onPaste: function _onPaste(event) {
            if (event.data.$.clipboardData) {
                var pastedData = event.data.$.clipboardData.items[0];
                var editor = event.listenerData.editor;

                if (pastedData.type.indexOf('image') === 0) {
                    var reader = new FileReader();
                    var imageFile = pastedData.getAsFile();

                    reader.onload = function (event) {
                        var result = editor.fire('beforeImageAdd', {
                            imageFiles: imageFile
                        });

                        if (!!result) {
                            var el = CKEDITOR.dom.element.createFromHtml('<img src="' + event.target.result + '">');

                            editor.insertElement(el);

                            var imageData = {
                                el: el,
                                file: imageFile
                            };

                            editor.fire('imageAdd', imageData);
                        }
                    }.bind(this);

                    reader.readAsDataURL(imageFile);
                }
            }
        }
    });
})();

/***/ }),

/***/ "./src/plugins/placeholder.js":
/*!************************************!*\
  !*** ./src/plugins/placeholder.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_placeholder')) {
        return;
    }

    /**
     * CKEDITOR enterMode config set the behavior of paragraphs
     * When the content is empty CKEDITOR keeps the enterMode string
     * into the content
     * @property
     * @type {string}
     */
    var brFiller = CKEDITOR.env.needsBrFiller ? '<br>' : '';

    var enterModeEmptyValue = {
        1: ['<p>' + brFiller + '</p>'],
        2: ['', ' ', brFiller],
        3: ['<div>' + brFiller + '</div>']
    };

    /**
     * CKEditor plugin which allows adding a placeholder to the editor. In this case, if there
     * is no content to the editor, there will be hint to the user.
     *
     * @class CKEDITOR.plugins.ae_placeholder
     */

    /**
     * Specifies the placeholder class which have to be aded to editor when editor is not focused.
     *
     * @attribute placeholderClass
     * @default ae_placeholder
     * @type String
     */

    CKEDITOR.plugins.add('ae_placeholder', {

        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function registers a 'blur' and 'contentDom' event listeners.
         *
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            editor.on('blur', this._checkEmptyData, this);
            editor.on('change', this._checkEmptyData, this);
            editor.on('focus', this._removePlaceholderClass, this);
            editor.once('contentDom', this._checkEmptyData, this);
        },

        /**
         * Removes any data from the content and adds a class,
         * specified by the "placeholderClass" config attribute.
         *
         * @protected
         * @method _checkEmptyData
         * @param {CKEDITOR.dom.event} editor event, fired from CKEditor
         */
        _checkEmptyData: function _checkEmptyData(event) {
            var editor = event.editor;

            var editableNode = editor.editable();

            var innerHtml = editableNode.$.innerHTML.trim();

            var isEmpty = enterModeEmptyValue[editor.config.enterMode].some(function (element) {
                return innerHtml === element;
            });

            if (isEmpty) {
                editableNode.addClass(editor.config.placeholderClass);
            } else {
                editableNode.removeClass(editor.config.placeholderClass);
            }
        },

        /**
         * Remove placeholder class when input is focused
         *
         * @protected
         * @method _removePlaceholderClass
         + @param {CKEDITOR.dom.event} editor event, fired from CKEditor
         */
        _removePlaceholderClass: function _removePlaceholderClass(event) {
            var editor = event.editor;

            var editorNode = new CKEDITOR.dom.element(editor.element.$);

            editorNode.removeClass(editor.config.placeholderClass);
        }
    });
})();

/***/ }),

/***/ "./src/plugins/selectionkeystrokes.js":
/*!********************************************!*\
  !*** ./src/plugins/selectionkeystrokes.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_selectionkeystrokes')) {
        return;
    }

    /**
     * CKEditor plugin that simulates editor interaction events based on manual keystrokes. This
     * can be used to trigger different reactions in the editor.
     *
     * @class CKEDITOR.plugins.ae_selectionkeystrokes
     */
    CKEDITOR.plugins.add('ae_selectionkeystrokes', {
        requires: 'ae_selectionregion',

        /**
         * Initialization of the plugin, part of CKEditor plugin lifecycle.
         * The function adds a command to the editor for every defined selectionKeystroke
         * in the configuration and maps it to the specified keystroke.
         *
         * @method init
         * @param {Object} editor The current editor instance
         */
        init: function init(editor) {
            if (editor.config.selectionKeystrokes) {
                editor.config.selectionKeystrokes.forEach(function (selectionKeystroke) {
                    var command = new CKEDITOR.command(editor, {
                        exec: function exec(editor) {
                            editor.fire('editorInteraction', {
                                manualSelection: selectionKeystroke.selection,
                                nativeEvent: {},
                                selectionData: editor.getSelectionData()
                            });
                        }
                    });

                    var commandName = 'selectionKeystroke' + selectionKeystroke.selection;

                    editor.addCommand(commandName, command);
                    editor.setKeystroke(selectionKeystroke.keys, commandName);
                });
            }
        }
    });
})();

/***/ }),

/***/ "./src/plugins/tableresize.js":
/*!************************************!*\
  !*** ./src/plugins/tableresize.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

(function () {
    'use strict';

    if (CKEDITOR.plugins.get('ae_tableresize')) {
        return;
    }

    var pxUnit = CKEDITOR.tools.cssLength;

    function getWidth(el) {
        return CKEDITOR.env.ie ? el.$.clientWidth : parseInt(el.getComputedStyle('width'), 10);
    }

    function getBorderWidth(element, side) {
        var computed = element.getComputedStyle('border-' + side + '-width'),
            borderMap = {
            thin: '0px',
            medium: '1px',
            thick: '2px'
        };

        if (computed.indexOf('px') < 0) {
            // look up keywords
            if (computed in borderMap && element.getComputedStyle('border-style') != 'none') {
                computed = borderMap[computed];
            } else {
                computed = 0;
            }
        }

        return parseInt(computed, 10);
    }

    // Gets the table row that contains the most columns.
    function getMasterPillarRow(table) {
        var $rows = table.$.rows,
            maxCells = 0,
            cellsCount,
            $elected,
            $tr;

        for (var i = 0, len = $rows.length; i < len; i++) {
            $tr = $rows[i];
            cellsCount = $tr.cells.length;

            if (cellsCount > maxCells) {
                maxCells = cellsCount;
                $elected = $tr;
            }
        }

        return $elected;
    }

    function buildTableColumnPillars(table) {
        var pillars = [],
            pillarIndex = -1,
            rtl = table.getComputedStyle('direction') === 'rtl';

        // Get the raw row element that cointains the most columns.
        var $tr = getMasterPillarRow(table);

        // Get the tbody element and position, which will be used to set the
        // top and bottom boundaries.
        var tbody = new CKEDITOR.dom.element(table.$.tBodies[0]),
            tbodyPosition = tbody.getDocumentPosition();

        // Loop thorugh all cells, building pillars after each one of them.
        for (var i = 0, len = $tr.cells.length; i < len; i++) {
            // Both the current cell and the successive one will be used in the
            // pillar size calculation.
            var td = new CKEDITOR.dom.element($tr.cells[i]),
                nextTd = $tr.cells[i + 1] && new CKEDITOR.dom.element($tr.cells[i + 1]);

            pillarIndex += td.$.colSpan || 1;

            // Calculate the pillar boundary positions.
            var pillarLeft, pillarRight, pillarWidth;

            var x = td.getDocumentPosition().x;

            // Calculate positions based on the current cell.
            rtl ? pillarRight = x + getBorderWidth(td, 'left') : pillarLeft = x + td.$.offsetWidth - getBorderWidth(td, 'right');

            // Calculate positions based on the next cell, if available.
            if (nextTd) {
                x = nextTd.getDocumentPosition().x;

                rtl ? pillarLeft = x + nextTd.$.offsetWidth - getBorderWidth(nextTd, 'right') : pillarRight = x + getBorderWidth(nextTd, 'left');
            }
            // Otherwise calculate positions based on the table (for last cell).
            else {
                    x = table.getDocumentPosition().x;

                    rtl ? pillarLeft = x : pillarRight = x + table.$.offsetWidth;
                }

            pillarWidth = Math.max(pillarRight - pillarLeft, 4);

            // The pillar should reflects exactly the shape of the hovered
            // column border line.
            pillars.push({
                table: table,
                index: pillarIndex,
                x: pillarLeft,
                y: tbodyPosition.y,
                width: pillarWidth,
                height: tbody.$.offsetHeight,
                rtl: rtl
            });
        }

        return pillars;
    }

    function getPillarAtPosition(pillars, positionX) {
        for (var i = 0, len = pillars.length; i < len; i++) {
            var pillar = pillars[i];

            if (positionX >= pillar.x && positionX <= pillar.x + pillar.width) {
                return pillar;
            }
        }

        return null;
    }

    function cancel(evt) {
        (evt.data || evt).preventDefault();
    }

    function columnResizer(editor) {
        var pillar, document, resizer, isResizing, startOffset, currentShift;

        var leftSideCells, rightSideCells, leftShiftBoundary, rightShiftBoundary;

        function detach() {
            pillar = null;
            currentShift = 0;
            isResizing = 0;

            document.removeListener('mouseup', onMouseUp);
            resizer.removeListener('mousedown', onMouseDown);
            resizer.removeListener('mousemove', onMouseMove);

            document.getBody().setStyle('cursor', 'auto');
        }

        function resizeStart() {
            // Before starting to resize, figure out which cells to change
            // and the boundaries of this resizing shift.

            var columnIndex = pillar.index,
                map = CKEDITOR.tools.buildTableMap(pillar.table),
                leftColumnCells = [],
                rightColumnCells = [],
                leftMinSize = Number.MAX_VALUE,
                rightMinSize = leftMinSize,
                rtl = pillar.rtl;

            for (var i = 0, len = map.length; i < len; i++) {
                var row = map[i],
                    leftCell = row[columnIndex + (rtl ? 1 : 0)],
                    rightCell = row[columnIndex + (rtl ? 0 : 1)];

                leftCell = leftCell && new CKEDITOR.dom.element(leftCell);
                rightCell = rightCell && new CKEDITOR.dom.element(rightCell);

                if (!leftCell || !rightCell || !leftCell.equals(rightCell)) {
                    leftCell && (leftMinSize = Math.min(leftMinSize, getWidth(leftCell)));
                    rightCell && (rightMinSize = Math.min(rightMinSize, getWidth(rightCell)));

                    leftColumnCells.push(leftCell);
                    rightColumnCells.push(rightCell);
                }
            }

            // Cache the list of cells to be resized.
            leftSideCells = leftColumnCells;
            rightSideCells = rightColumnCells;

            // Cache the resize limit boundaries.
            leftShiftBoundary = pillar.x - leftMinSize;
            rightShiftBoundary = pillar.x + rightMinSize;

            resizer.setOpacity(0.5);
            startOffset = parseInt(resizer.getStyle('left'), 10);
            currentShift = 0;
            isResizing = 1;

            resizer.on('mousemove', onMouseMove);

            // Prevent the native drag behavior otherwise 'mousemove' won't fire.
            document.on('dragstart', cancel);
        }

        function resizeEnd() {
            isResizing = 0;

            resizer.setOpacity(0);

            currentShift && resizeColumn();

            var table = pillar.table;
            setTimeout(function () {
                table.removeCustomData('_cke_table_pillars');
            }, 0);

            document.removeListener('dragstart', cancel);
        }

        function resizeColumn() {
            var rtl = pillar.rtl,
                cellsCount = rtl ? rightSideCells.length : leftSideCells.length;

            // Perform the actual resize to table cells, only for those by side of the pillar.
            for (var i = 0; i < cellsCount; i++) {
                var leftCell = leftSideCells[i],
                    rightCell = rightSideCells[i],
                    table = pillar.table;

                // Defer the resizing to avoid any interference among cells.
                CKEDITOR.tools.setTimeout(function (leftCell, leftOldWidth, rightCell, rightOldWidth, tableWidth, sizeShift) {
                    // 1px is the minimum valid width (#11626).
                    leftCell && leftCell.setStyle('width', pxUnit(Math.max(leftOldWidth + sizeShift, 1)));
                    rightCell && rightCell.setStyle('width', pxUnit(Math.max(rightOldWidth - sizeShift, 1)));

                    // If we're in the last cell, we need to resize the table as well
                    if (tableWidth) {
                        table.setStyle('width', pxUnit(tableWidth + sizeShift * (rtl ? -1 : 1)));
                    }
                }, 0, this, [leftCell, leftCell && getWidth(leftCell), rightCell, rightCell && getWidth(rightCell), (!leftCell || !rightCell) && getWidth(table) + getBorderWidth(table, 'left') + getBorderWidth(table, 'right'), currentShift]);
            }
        }

        function onMouseDown(evt) {
            cancel(evt);

            resizeStart();

            document.on('mouseup', onMouseUp, this);
        }

        function onMouseUp(evt) {
            evt.removeListener();

            resizeEnd();
        }

        function onMouseMove(evt) {
            move(evt.data.getPageOffset().x);
        }

        document = editor.document;

        resizer = CKEDITOR.dom.element.createFromHtml('<div data-cke-temp=1 contenteditable=false unselectable=on ' + 'style="position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;' + 'padding:0;background-color:#004;background-image:none;border:0px none;z-index:10"></div>', document);

        // Clean DOM when editor is destroyed.
        editor.on('destroy', function () {
            resizer.remove();
        });

        // Place the resizer after body to prevent it
        // from being editable.
        document.getDocumentElement().append(resizer);

        this.attachTo = function (targetPillar) {
            // Accept only one pillar at a time.
            if (isResizing) {
                return;
            }

            pillar = targetPillar;

            resizer.setStyles({
                width: pxUnit(targetPillar.width),
                height: pxUnit(targetPillar.height),
                left: pxUnit(targetPillar.x),
                top: pxUnit(targetPillar.y)
            });

            resizer.on('mousedown', onMouseDown, this);

            document.getBody().setStyle('cursor', 'col-resize');

            // Display the resizer to receive events but don't show it,
            // only change the cursor to resizable shape.
            resizer.show();
        };

        var move = this.move = function (posX) {
            if (!pillar) {
                return 0;
            }

            if (!isResizing && (posX < pillar.x || posX > pillar.x + pillar.width)) {
                detach();
                return 0;
            }

            var resizerNewPosition = posX - Math.round(resizer.$.offsetWidth / 2);

            if (isResizing) {
                if (resizerNewPosition === leftShiftBoundary || resizerNewPosition === rightShiftBoundary) {
                    return 1;
                }

                resizerNewPosition = Math.max(resizerNewPosition, leftShiftBoundary);
                resizerNewPosition = Math.min(resizerNewPosition, rightShiftBoundary);

                currentShift = resizerNewPosition - startOffset;
            }

            resizer.setStyle('left', pxUnit(resizerNewPosition));

            return 1;
        };
    }

    function clearPillarsCache(evt) {
        var target = evt.data.getTarget();

        if (evt.name === 'mouseout') {
            // Bypass interal mouse move.
            if (!target.is('table')) {
                return;
            }

            var dest = new CKEDITOR.dom.element(evt.data.$.relatedTarget || evt.data.$.toElement);
            while (dest && dest.$ && !dest.equals(target) && !dest.is('body')) {
                dest = dest.getParent();
            }
            if (!dest || dest.equals(target)) {
                return;
            }
        }

        target.getAscendant('table', 1).removeCustomData('_cke_table_pillars');
        evt.removeListener();
    }

    CKEDITOR.plugins.add('ae_tableresize', {
        requires: 'ae_tabletools',

        init: function init(editor) {
            editor.on('contentDom', function () {
                var resizer,
                    editable = editor.editable();

                // In Classic editor it is better to use document
                // instead of editable so event will work below body.
                editable.attachListener(editable.isInline() ? editable : editor.document, 'mousemove', function (evt) {
                    evt = evt.data;

                    var target = evt.getTarget();

                    // FF may return document and IE8 some UFO (object with no nodeType property...)
                    // instead of an element (#11823).
                    if (target.type !== CKEDITOR.NODE_ELEMENT) {
                        return;
                    }

                    var pageX = evt.getPageOffset().x;

                    // If we're already attached to a pillar, simply move the
                    // resizer.
                    if (resizer && resizer.move(pageX)) {
                        cancel(evt);
                        return;
                    }

                    // Considering table, tr, td, tbody but nothing else.
                    var table, pillars;

                    if (!target.is('table') && !target.getAscendant('tbody', 1)) {
                        return;
                    }

                    table = target.getAscendant('table', 1);

                    // Make sure the table we found is inside the container
                    // (eg. we should not use tables the editor is embedded within)
                    if (!editor.editable().contains(table)) {
                        return;
                    }

                    if (!(pillars = table.getCustomData('_cke_table_pillars'))) {
                        // Cache table pillars calculation result.
                        table.setCustomData('_cke_table_pillars', pillars = buildTableColumnPillars(table));
                        table.on('mouseout', clearPillarsCache);
                        table.on('mousedown', clearPillarsCache);
                    }

                    var pillar = getPillarAtPosition(pillars, pageX);
                    if (pillar) {
                        !resizer && (resizer = new columnResizer(editor));
                        resizer.attachTo(pillar);
                    }
                });
            });
        }
    });
})();

/***/ }),

/***/ "./src/plugins/tabletools.js":
/*!***********************************!*\
  !*** ./src/plugins/tabletools.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */

(function () {
	'use strict';

	if (CKEDITOR.plugins.get('ae_tabletools')) {
		return;
	}

	var cellNodeRegex = /^(?:td|th)$/;

	function getSelectedCells(selection) {
		var ranges = selection.getRanges();
		var retval = [];
		var database = {};

		function moveOutOfCellGuard(node) {
			// Apply to the first cell only.
			if (retval.length > 0) return;

			// If we are exiting from the first </td>, then the td should definitely be
			// included.
			if (node.type == CKEDITOR.NODE_ELEMENT && cellNodeRegex.test(node.getName()) && !node.getCustomData('selected_cell')) {
				CKEDITOR.dom.element.setMarker(database, node, 'selected_cell', true);
				retval.push(node);
			}
		}

		for (var i = 0; i < ranges.length; i++) {
			var range = ranges[i];

			if (range.collapsed) {
				// Walker does not handle collapsed ranges yet - fall back to old API.
				var startNode = range.getCommonAncestor();
				var nearestCell = startNode.getAscendant('td', true) || startNode.getAscendant('th', true);
				if (nearestCell) retval.push(nearestCell);
			} else {
				var walker = new CKEDITOR.dom.walker(range);
				var node;
				walker.guard = moveOutOfCellGuard;

				while (node = walker.next()) {
					// If may be possible for us to have a range like this:
					// <td>^1</td><td>^2</td>
					// The 2nd td shouldn't be included.
					//
					// So we have to take care to include a td we've entered only when we've
					// walked into its children.

					if (node.type != CKEDITOR.NODE_ELEMENT || !node.is(CKEDITOR.dtd.table)) {
						var parent = node.getAscendant('td', true) || node.getAscendant('th', true);
						if (parent && !parent.getCustomData('selected_cell')) {
							CKEDITOR.dom.element.setMarker(database, parent, 'selected_cell', true);
							retval.push(parent);
						}
					}
				}
			}
		}

		CKEDITOR.dom.element.clearAllMarkers(database);

		return retval;
	}

	function getFocusElementAfterDelCells(cellsToDelete) {
		var i = 0,
		    last = cellsToDelete.length - 1,
		    database = {},
		    cell,
		    focusedCell,
		    tr;

		while (cell = cellsToDelete[i++]) {
			CKEDITOR.dom.element.setMarker(database, cell, 'delete_cell', true);
		} // 1.first we check left or right side focusable cell row by row;
		i = 0;
		while (cell = cellsToDelete[i++]) {
			if ((focusedCell = cell.getPrevious()) && !focusedCell.getCustomData('delete_cell') || (focusedCell = cell.getNext()) && !focusedCell.getCustomData('delete_cell')) {
				CKEDITOR.dom.element.clearAllMarkers(database);
				return focusedCell;
			}
		}

		CKEDITOR.dom.element.clearAllMarkers(database);

		// 2. then we check the toppest row (outside the selection area square) focusable cell
		tr = cellsToDelete[0].getParent();
		if (tr = tr.getPrevious()) return tr.getLast();

		// 3. last we check the lowerest  row focusable cell
		tr = cellsToDelete[last].getParent();
		if (tr = tr.getNext()) return tr.getChild(0);

		return null;
	}

	function insertRow(selection, insertBefore) {
		var cells = getSelectedCells(selection),
		    firstCell = cells[0],
		    table = firstCell.getAscendant('table'),
		    doc = firstCell.getDocument(),
		    startRow = cells[0].getParent(),
		    startRowIndex = startRow.$.rowIndex,
		    lastCell = cells[cells.length - 1],
		    endRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1,
		    endRow = new CKEDITOR.dom.element(table.$.rows[endRowIndex]),
		    rowIndex = insertBefore ? startRowIndex : endRowIndex,
		    row = insertBefore ? startRow : endRow;

		var map = CKEDITOR.tools.buildTableMap(table),
		    cloneRow = map[rowIndex],
		    nextRow = insertBefore ? map[rowIndex - 1] : map[rowIndex + 1],
		    width = map[0].length;

		var newRow = doc.createElement('tr');
		for (var i = 0; cloneRow[i] && i < width; i++) {
			var cell;
			// Check whether there's a spanning row here, do not break it.
			if (cloneRow[i].rowSpan > 1 && nextRow && cloneRow[i] == nextRow[i]) {
				cell = cloneRow[i];
				cell.rowSpan += 1;
			} else {
				cell = new CKEDITOR.dom.element(cloneRow[i]).clone();
				cell.removeAttribute('rowSpan');
				cell.appendBogus();
				newRow.append(cell);
				cell = cell.$;
			}

			i += cell.colSpan - 1;
		}

		insertBefore ? newRow.insertBefore(row) : newRow.insertAfter(row);
	}

	function deleteRows(selectionOrRow) {
		if (selectionOrRow instanceof CKEDITOR.dom.selection) {
			var cells = getSelectedCells(selectionOrRow),
			    firstCell = cells[0],
			    table = firstCell.getAscendant('table'),
			    map = CKEDITOR.tools.buildTableMap(table),
			    startRow = cells[0].getParent(),
			    startRowIndex = startRow.$.rowIndex,
			    lastCell = cells[cells.length - 1],
			    endRowIndex = lastCell.getParent().$.rowIndex + lastCell.$.rowSpan - 1,
			    rowsToDelete = [];

			// Delete cell or reduce cell spans by checking through the table map.
			for (var i = startRowIndex; i <= endRowIndex; i++) {
				var mapRow = map[i],
				    row = new CKEDITOR.dom.element(table.$.rows[i]);

				for (var j = 0; j < mapRow.length; j++) {
					var cell = new CKEDITOR.dom.element(mapRow[j]),
					    cellRowIndex = cell.getParent().$.rowIndex;

					if (cell.$.rowSpan == 1) cell.remove();
					// Row spanned cell.
					else {
							// Span row of the cell, reduce spanning.
							cell.$.rowSpan -= 1;
							// Root row of the cell, root cell to next row.
							if (cellRowIndex == i) {
								var nextMapRow = map[i + 1];
								nextMapRow[j - 1] ? cell.insertAfter(new CKEDITOR.dom.element(nextMapRow[j - 1])) : new CKEDITOR.dom.element(table.$.rows[i + 1]).append(cell, 1);
							}
						}

					j += cell.$.colSpan - 1;
				}

				rowsToDelete.push(row);
			}

			var rows = table.$.rows;

			// Where to put the cursor after rows been deleted?
			// 1. Into next sibling row if any;
			// 2. Into previous sibling row if any;
			// 3. Into table's parent element if it's the very last row.
			var cursorPosition = new CKEDITOR.dom.element(rows[endRowIndex + 1] || (startRowIndex > 0 ? rows[startRowIndex - 1] : null) || table.$.parentNode);

			for (i = rowsToDelete.length; i >= 0; i--) {
				deleteRows(rowsToDelete[i]);
			}return cursorPosition;
		} else if (selectionOrRow instanceof CKEDITOR.dom.element) {
			table = selectionOrRow.getAscendant('table');

			if (table.$.rows.length == 1) table.remove();else selectionOrRow.remove();
		}

		return null;
	}

	function getCellColIndex(cell, isStart) {
		var row = cell.getParent(),
		    rowCells = row.$.cells;

		var colIndex = 0;
		for (var i = 0; i < rowCells.length; i++) {
			var mapCell = rowCells[i];
			colIndex += isStart ? 1 : mapCell.colSpan;
			if (mapCell == cell.$) break;
		}

		return colIndex - 1;
	}

	function getColumnsIndices(cells, isStart) {
		var retval = isStart ? Infinity : 0;
		for (var i = 0; i < cells.length; i++) {
			var colIndex = getCellColIndex(cells[i], isStart);
			if (isStart ? colIndex < retval : colIndex > retval) retval = colIndex;
		}
		return retval;
	}

	function insertColumn(selection, insertBefore) {
		var cells = getSelectedCells(selection),
		    firstCell = cells[0],
		    table = firstCell.getAscendant('table'),
		    startCol = getColumnsIndices(cells, 1),
		    lastCol = getColumnsIndices(cells),
		    colIndex = insertBefore ? startCol : lastCol;

		var map = CKEDITOR.tools.buildTableMap(table),
		    cloneCol = [],
		    nextCol = [],
		    height = map.length;

		for (var i = 0; i < height; i++) {
			cloneCol.push(map[i][colIndex]);
			var nextCell = insertBefore ? map[i][colIndex - 1] : map[i][colIndex + 1];
			nextCol.push(nextCell);
		}

		for (i = 0; i < height; i++) {
			var cell;

			if (!cloneCol[i]) continue;

			// Check whether there's a spanning column here, do not break it.
			if (cloneCol[i].colSpan > 1 && nextCol[i] == cloneCol[i]) {
				cell = cloneCol[i];
				cell.colSpan += 1;
			} else {
				cell = new CKEDITOR.dom.element(cloneCol[i]).clone();
				cell.removeAttribute('colSpan');
				cell.appendBogus();
				cell[insertBefore ? 'insertBefore' : 'insertAfter'].call(cell, new CKEDITOR.dom.element(cloneCol[i]));
				cell = cell.$;
			}

			i += cell.rowSpan - 1;
		}
	}

	function deleteColumns(selectionOrCell) {
		var cells = getSelectedCells(selectionOrCell),
		    firstCell = cells[0],
		    lastCell = cells[cells.length - 1],
		    table = firstCell.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    startColIndex,
		    endColIndex,
		    rowsToDelete = [];

		// Figure out selected cells' column indices.
		for (var i = 0, rows = map.length; i < rows; i++) {
			for (var j = 0, cols = map[i].length; j < cols; j++) {
				if (map[i][j] == firstCell.$) startColIndex = j;
				if (map[i][j] == lastCell.$) endColIndex = j;
			}
		}

		// Delete cell or reduce cell spans by checking through the table map.
		for (i = startColIndex; i <= endColIndex; i++) {
			for (j = 0; j < map.length; j++) {
				var mapRow = map[j],
				    row = new CKEDITOR.dom.element(table.$.rows[j]),
				    cell = new CKEDITOR.dom.element(mapRow[i]);

				if (cell.$) {
					if (cell.$.colSpan == 1) cell.remove();
					// Reduce the col spans.
					else cell.$.colSpan -= 1;

					j += cell.$.rowSpan - 1;

					if (!row.$.cells.length) rowsToDelete.push(row);
				}
			}
		}

		var firstRowCells = table.$.rows[0] && table.$.rows[0].cells;

		// Where to put the cursor after columns been deleted?
		// 1. Into next cell of the first row if any;
		// 2. Into previous cell of the first row if any;
		// 3. Into table's parent element;
		var cursorPosition = new CKEDITOR.dom.element(firstRowCells[startColIndex] || (startColIndex ? firstRowCells[startColIndex - 1] : table.$.parentNode));

		// Delete table rows only if all columns are gone (do not remove empty row).
		if (rowsToDelete.length == rows) table.remove();

		return cursorPosition;
	}

	function insertCell(selection, insertBefore) {
		var startElement = selection.getStartElement();
		var cell = startElement.getAscendant('td', 1) || startElement.getAscendant('th', 1);

		if (!cell) return;

		// Create the new cell element to be added.
		var newCell = cell.clone();
		newCell.appendBogus();

		if (insertBefore) newCell.insertBefore(cell);else newCell.insertAfter(cell);
	}

	function deleteCells(selectionOrCell) {
		if (selectionOrCell instanceof CKEDITOR.dom.selection) {
			var cellsToDelete = getSelectedCells(selectionOrCell);
			var table = cellsToDelete[0] && cellsToDelete[0].getAscendant('table');
			var cellToFocus = getFocusElementAfterDelCells(cellsToDelete);

			for (var i = cellsToDelete.length - 1; i >= 0; i--) {
				deleteCells(cellsToDelete[i]);
			}if (cellToFocus) placeCursorInCell(cellToFocus, true);else if (table) table.remove();
		} else if (selectionOrCell instanceof CKEDITOR.dom.element) {
			var tr = selectionOrCell.getParent();
			if (tr.getChildCount() == 1) tr.remove();else selectionOrCell.remove();
		}
	}

	// Remove filler at end and empty spaces around the cell content.
	function trimCell(cell) {
		var bogus = cell.getBogus();
		bogus && bogus.remove();
		cell.trim();
	}

	function placeCursorInCell(cell, placeAtEnd) {
		var docInner = cell.getDocument(),
		    docOuter = CKEDITOR.document;

		// Fixing "Unspecified error" thrown in IE10 by resetting
		// selection the dirty and shameful way (#10308).
		// We can not apply this hack to IE8 because
		// it causes error (#11058).
		if (CKEDITOR.env.ie && CKEDITOR.env.version == 10) {
			docOuter.focus();
			docInner.focus();
		}

		var range = new CKEDITOR.dom.range(docInner);
		if (!range['moveToElementEdit' + (placeAtEnd ? 'End' : 'Start')](cell)) {
			range.selectNodeContents(cell);
			range.collapse(placeAtEnd ? false : true);
		}
		range.select(true);
	}

	function cellInRow(tableMap, rowIndex, cell) {
		var oRow = tableMap[rowIndex];
		if (typeof cell == 'undefined') return oRow;

		for (var c = 0; oRow && c < oRow.length; c++) {
			if (cell.is && oRow[c] == cell.$) return c;else if (c == cell) return new CKEDITOR.dom.element(oRow[c]);
		}
		return cell.is ? -1 : null;
	}

	function cellInCol(tableMap, colIndex) {
		var oCol = [];
		for (var r = 0; r < tableMap.length; r++) {
			var row = tableMap[r];
			oCol.push(row[colIndex]);

			// Avoid adding duplicate cells.
			if (row[colIndex].rowSpan > 1) r += row[colIndex].rowSpan - 1;
		}
		return oCol;
	}

	function mergeCells(selection, mergeDirection, isDetect) {
		var cells = getSelectedCells(selection);

		// Invalid merge request if:
		// 1. In batch mode despite that less than two selected.
		// 2. In solo mode while not exactly only one selected.
		// 3. Cells distributed in different table groups (e.g. from both thead and tbody).
		var commonAncestor;
		if ((mergeDirection ? cells.length != 1 : cells.length < 2) || (commonAncestor = selection.getCommonAncestor()) && commonAncestor.type == CKEDITOR.NODE_ELEMENT && commonAncestor.is('table')) return false;

		var cell,
		    firstCell = cells[0],
		    table = firstCell.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    mapHeight = map.length,
		    mapWidth = map[0].length,
		    startRow = firstCell.getParent().$.rowIndex,
		    startColumn = cellInRow(map, startRow, firstCell);

		if (mergeDirection) {
			var targetCell;
			try {
				var rowspan = parseInt(firstCell.getAttribute('rowspan'), 10) || 1;
				var colspan = parseInt(firstCell.getAttribute('colspan'), 10) || 1;

				targetCell = map[mergeDirection == 'up' ? startRow - rowspan : mergeDirection == 'down' ? startRow + rowspan : startRow][mergeDirection == 'left' ? startColumn - colspan : mergeDirection == 'right' ? startColumn + colspan : startColumn];
			} catch (er) {
				return false;
			}

			// 1. No cell could be merged.
			// 2. Same cell actually.
			if (!targetCell || firstCell.$ == targetCell) return false;

			// Sort in map order regardless of the DOM sequence.
			cells[mergeDirection == 'up' || mergeDirection == 'left' ? 'unshift' : 'push'](new CKEDITOR.dom.element(targetCell));
		}

		// Start from here are merging way ignorance (merge up/right, batch merge).
		var doc = firstCell.getDocument(),
		    lastRowIndex = startRow,
		    totalRowSpan = 0,
		    totalColSpan = 0,

		// Use a documentFragment as buffer when appending cell contents.
		frag = !isDetect && new CKEDITOR.dom.documentFragment(doc),
		    dimension = 0;

		for (var i = 0; i < cells.length; i++) {
			cell = cells[i];

			var tr = cell.getParent(),
			    cellFirstChild = cell.getFirst(),
			    colSpan = cell.$.colSpan,
			    rowSpan = cell.$.rowSpan,
			    rowIndex = tr.$.rowIndex,
			    colIndex = cellInRow(map, rowIndex, cell);

			// Accumulated the actual places taken by all selected cells.
			dimension += colSpan * rowSpan;
			// Accumulated the maximum virtual spans from column and row.
			totalColSpan = Math.max(totalColSpan, colIndex - startColumn + colSpan);
			totalRowSpan = Math.max(totalRowSpan, rowIndex - startRow + rowSpan);

			if (!isDetect) {
				// Trim all cell fillers and check to remove empty cells.
				if (trimCell(cell), cell.getChildren().count()) {
					// Merge vertically cells as two separated paragraphs.
					if (rowIndex != lastRowIndex && cellFirstChild && !(cellFirstChild.isBlockBoundary && cellFirstChild.isBlockBoundary({ br: 1 }))) {
						var last = frag.getLast(CKEDITOR.dom.walker.whitespaces(true));
						if (last && !(last.is && last.is('br'))) frag.append('br');
					}

					cell.moveChildren(frag);
				}
				i ? cell.remove() : cell.setHtml('');
			}
			lastRowIndex = rowIndex;
		}

		if (!isDetect) {
			frag.moveChildren(firstCell);

			firstCell.appendBogus();

			if (totalColSpan >= mapWidth) firstCell.removeAttribute('rowSpan');else firstCell.$.rowSpan = totalRowSpan;

			if (totalRowSpan >= mapHeight) firstCell.removeAttribute('colSpan');else firstCell.$.colSpan = totalColSpan;

			// Swip empty <tr> left at the end of table due to the merging.
			var trs = new CKEDITOR.dom.nodeList(table.$.rows),
			    count = trs.count();

			for (i = count - 1; i >= 0; i--) {
				var tailTr = trs.getItem(i);
				if (!tailTr.$.cells.length) {
					tailTr.remove();
					count++;
					continue;
				}
			}

			return firstCell;
		}
		// Be able to merge cells only if actual dimension of selected
		// cells equals to the caculated rectangle.
		else {
				return totalRowSpan * totalColSpan == dimension;
			}
	}

	function verticalSplitCell(selection, isDetect) {
		var cells = getSelectedCells(selection);
		if (cells.length > 1) return false;else if (isDetect) return true;

		var cell = cells[0],
		    tr = cell.getParent(),
		    table = tr.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    rowIndex = tr.$.rowIndex,
		    colIndex = cellInRow(map, rowIndex, cell),
		    rowSpan = cell.$.rowSpan,
		    newCell,
		    newRowSpan,
		    newCellRowSpan,
		    newRowIndex;

		if (rowSpan > 1) {
			newRowSpan = Math.ceil(rowSpan / 2);
			newCellRowSpan = Math.floor(rowSpan / 2);
			newRowIndex = rowIndex + newRowSpan;
			var newCellTr = new CKEDITOR.dom.element(table.$.rows[newRowIndex]),
			    newCellRow = cellInRow(map, newRowIndex),
			    candidateCell;

			newCell = cell.clone();

			// Figure out where to insert the new cell by checking the vitual row.
			for (var c = 0; c < newCellRow.length; c++) {
				candidateCell = newCellRow[c];
				// Catch first cell actually following the column.
				if (candidateCell.parentNode == newCellTr.$ && c > colIndex) {
					newCell.insertBefore(new CKEDITOR.dom.element(candidateCell));
					break;
				} else {
					candidateCell = null;
				}
			}

			// The destination row is empty, append at will.
			if (!candidateCell) newCellTr.append(newCell);
		} else {
			newCellRowSpan = newRowSpan = 1;

			newCellTr = tr.clone();
			newCellTr.insertAfter(tr);
			newCellTr.append(newCell = cell.clone());

			var cellsInSameRow = cellInRow(map, rowIndex);
			for (var i = 0; i < cellsInSameRow.length; i++) {
				cellsInSameRow[i].rowSpan++;
			}
		}

		newCell.appendBogus();

		cell.$.rowSpan = newRowSpan;
		newCell.$.rowSpan = newCellRowSpan;
		if (newRowSpan == 1) cell.removeAttribute('rowSpan');
		if (newCellRowSpan == 1) newCell.removeAttribute('rowSpan');

		return newCell;
	}

	function horizontalSplitCell(selection, isDetect) {
		var cells = getSelectedCells(selection);
		if (cells.length > 1) return false;else if (isDetect) return true;

		var cell = cells[0],
		    tr = cell.getParent(),
		    table = tr.getAscendant('table'),
		    map = CKEDITOR.tools.buildTableMap(table),
		    rowIndex = tr.$.rowIndex,
		    colIndex = cellInRow(map, rowIndex, cell),
		    colSpan = cell.$.colSpan,
		    newCell,
		    newColSpan,
		    newCellColSpan;

		if (colSpan > 1) {
			newColSpan = Math.ceil(colSpan / 2);
			newCellColSpan = Math.floor(colSpan / 2);
		} else {
			newCellColSpan = newColSpan = 1;
			var cellsInSameCol = cellInCol(map, colIndex);
			for (var i = 0; i < cellsInSameCol.length; i++) {
				cellsInSameCol[i].colSpan++;
			}
		}
		newCell = cell.clone();
		newCell.insertAfter(cell);
		newCell.appendBogus();

		cell.$.colSpan = newColSpan;
		newCell.$.colSpan = newCellColSpan;
		if (newColSpan == 1) cell.removeAttribute('colSpan');
		if (newCellColSpan == 1) newCell.removeAttribute('colSpan');

		return newCell;
	}

	CKEDITOR.plugins.add('ae_tabletools', {
		init: function init(editor) {
			var lang = editor.lang.table;

			function createDef(def) {
				return CKEDITOR.tools.extend(def || {}, {
					contextSensitive: 1,
					refresh: function refresh(editor, path) {
						this.setState(path.contains({ td: 1, th: 1 }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED);
					}
				});
			}
			function addCmd(name, def) {
				var cmd = editor.getCommand(name);

				if (cmd) {
					return;
				}

				cmd = editor.addCommand(name, def);
				editor.addFeature(cmd);
			}

<<<<<<< HEAD
<<<<<<< HEAD
			addCmd('rowDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					placeCursorInCell(deleteRows(selection));
				}
			}));
=======
                    var uiNode = this.props.editor.get('uiNode') || document.body;
=======
                    var uiNode = this.props.editor.get('uiNode');

                    var scrollTop = uiNode ? uiNode.scrollTop : 0;
>>>>>>> d3c3794b8c59d0dfde2c6a7179d453a0d223955c

                    var uiNode = this.props.editor.get('uiNode');

                    var scrollTop = uiNode ? uiNode.scrollTop : 0;

                    if (nativeEditor.element.getStyle('overflow') !== 'auto') {
                        domNode.style.top = Math.floor(region.top - domNode.offsetHeight / 2 + startRect.height / 2 + scrollTop) + 'px';
                    } else {
                        domNode.style.top = Math.floor(nativeEditor.element.$.offsetTop + startRect.height / 2 - domNode.offsetHeight / 2) + 'px';
                    }
>>>>>>> f1d775e5... Build files (auto-generated)

			addCmd('rowInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertRow(selection, true);
				}
			}));

			addCmd('rowInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertRow(selection);
				}
			}));

			addCmd('columnDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					var element = deleteColumns(selection);
					element && placeCursorInCell(element, true);
				}
			}));

			addCmd('columnInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertColumn(selection, true);
				}
			}));

			addCmd('columnInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertColumn(selection);
				}
			}));

			addCmd('cellDelete', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					deleteCells(selection);
				}
			}));

			addCmd('cellMerge', createDef({
				allowedContent: 'td[colspan,rowspan]',
				requiredContent: 'td[colspan,rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection()), true);
				}
			}));

			addCmd('cellMergeRight', createDef({
				allowedContent: 'td[colspan]',
				requiredContent: 'td[colspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection(), 'right'), true);
				}
			}));

			addCmd('cellMergeDown', createDef({
				allowedContent: 'td[rowspan]',
				requiredContent: 'td[rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(mergeCells(editor.getSelection(), 'down'), true);
				}
			}));

			addCmd('cellVerticalSplit', createDef({
				allowedContent: 'td[rowspan]',
				requiredContent: 'td[rowspan]',
				exec: function exec(editor) {
					placeCursorInCell(verticalSplitCell(editor.getSelection()));
				}
			}));

			addCmd('cellHorizontalSplit', createDef({
				allowedContent: 'td[colspan]',
				requiredContent: 'td[colspan]',
				exec: function exec(editor) {
					placeCursorInCell(horizontalSplitCell(editor.getSelection()));
				}
			}));

			addCmd('cellInsertBefore', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertCell(selection, true);
				}
			}));

			addCmd('cellInsertAfter', createDef({
				requiredContent: 'table',
				exec: function exec(editor) {
					var selection = editor.getSelection();
					insertCell(selection);
				}
			}));
		},

		getSelectedCells: getSelectedCells

	});
})();

/**
 * Create a two-dimension array that reflects the actual layout of table cells,
 * with cell spans, with mappings to the original td elements.
 *
 * @param {CKEDITOR.dom.element} table
 * @member CKEDITOR.tools
 */
CKEDITOR.tools.buildTableMap = function (table) {
	var aRows = table.$.rows;

	// Row and Column counters.
	var r = -1;

	var aMap = [];

	for (var i = 0; i < aRows.length; i++) {
		r++;
		!aMap[r] && (aMap[r] = []);

		var c = -1;

		for (var j = 0; j < aRows[i].cells.length; j++) {
			var oCell = aRows[i].cells[j];

			c++;
			while (aMap[r][c]) {
				c++;
			}var iColSpan = isNaN(oCell.colSpan) ? 1 : oCell.colSpan;
			var iRowSpan = isNaN(oCell.rowSpan) ? 1 : oCell.rowSpan;

			for (var rs = 0; rs < iRowSpan; rs++) {
				if (!aMap[r + rs]) aMap[r + rs] = [];

				for (var cs = 0; cs < iColSpan; cs++) {
					aMap[r + rs][c + cs] = aRows[i].cells[j];
				}
			}

			c += iColSpan - 1;
		}
	}
	return aMap;
};

/***/ }),

/***/ "./src/selections/selection-arrowbox.js":
/*!**********************************************!*\
  !*** ./src/selections/selection-arrowbox.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tableSelectionGetArrowBoxClasses = function tableSelectionGetArrowBoxClasses() {
    return 'ae-arrow-box ae-arrow-box-bottom';
};

var SelectionGetArrowBoxClasses = {
    table: tableSelectionGetArrowBoxClasses
};

exports.default = SelectionGetArrowBoxClasses;

/***/ }),

/***/ "./src/selections/selection-position.js":
/*!**********************************************!*\
  !*** ./src/selections/selection-position.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _reactDom = __webpack_require__(/*! react-dom */ "react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// Default gutter value for toolbar positioning
var DEFAULT_GUTTER = {
    left: 0,
    top: 0
};

/**
 * Centers a Toolbar according to given rectangle
 *
 * @method centerToolbar
 * @param {Object} toolbar The toolbar to be centered
 * @param {Object} rect The rectangle according to which the Toolbar will be centered
 */
var centerToolbar = function centerToolbar(toolbar, rect) {
    var toolbarNode = _reactDom2.default.findDOMNode(toolbar);

    var halfNodeWidth = toolbarNode.offsetWidth / 2;
    var scrollPosition = new CKEDITOR.dom.window(window).getScrollPosition();

    var gutter = toolbar.props.gutter || DEFAULT_GUTTER;

    var widgetXY = toolbar.getWidgetXYPoint(rect.left + rect.width / 2 - scrollPosition.x, rect.top + scrollPosition.y, CKEDITOR.SELECTION_BOTTOM_TO_TOP);

    toolbar.moveToPoint([widgetXY[0], widgetXY[1]], [rect.left + rect.width / 2 - halfNodeWidth - scrollPosition.x, rect.top - toolbarNode.offsetHeight + scrollPosition.y - gutter.top]);
};

/**
 * Sets the position of a toolbar according to the position of the selected image
 *
 * @method imageSelectionSetPosition
 * @param {Object} payload Payload, should contain the selection data for retrieving the
 * client rectangle of the selected image
 * @return {Boolean} True, in all cases
 */
var imageSelectionSetPosition = function imageSelectionSetPosition(payload) {
    centerToolbar(this, payload.selectionData.element.getClientRect());

    return true;
};

/**
 * Sets the position of a toolbar according to the position of the selected image
 *
 * @method tableSelectionSetPosition
 * @param {Object} payload Object, which contains the selection data for retrieving the
 * client rectangle of the selected table
 * @return {Boolean} True, in all cases
 */
var tableSelectionSetPosition = function tableSelectionSetPosition(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');

    var table = new CKEDITOR.Table(nativeEditor).getFromSelection();

    centerToolbar(this, table.getClientRect());

    return true;
};

var SelectionSetPosition = {
    image: imageSelectionSetPosition,
    table: tableSelectionSetPosition
};

exports.default = SelectionSetPosition;

/***/ }),

/***/ "./src/selections/selection-test.js":
/*!******************************************!*\
  !*** ./src/selections/selection-test.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var _isRangeAtElementEnd = function _isRangeAtElementEnd(range, element) {
    // Finding if a range is at the end of an element is somewhat tricky due to how CKEditor handles
    // ranges. It might depend on wether a source node inside the element is selected or not. For now,
    // we need to cover the following cases:
    //
    // - The text length of the element is the same as the endOffset of the range
    // - Both start and end containers match the element and the start and end offsets are 1

    return element.getText().length === range.endOffset || element.equals(range.startContainer) && element.equals(range.endContainer) && range.startOffset === range.endOffset && range.endOffset === 1;
};

var embedSelectionTest = function embedSelectionTest(payload) {
    var selectionData = payload.data.selectionData;

    return !!(selectionData.element && selectionData.element.getAttribute('data-widget') === 'ae_embed');
};

var linkSelectionTest = function linkSelectionTest(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');
    var range = nativeEditor.getSelection().getRanges()[0];

    var element;

    return !!(nativeEditor.isSelectionEmpty() && (element = new CKEDITOR.Link(nativeEditor).getFromSelection()) && element.getText().length !== range.endOffset && !element.isReadOnly() && !_isRangeAtElementEnd(range, element));
};

var imageSelectionTest = function imageSelectionTest(payload) {
    var selectionData = payload.data.selectionData;

    return !!(selectionData.element && selectionData.element.getName() === 'img' && !selectionData.element.isReadOnly());
};

var textSelectionTest = function textSelectionTest(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');

    var selectionEmpty = nativeEditor.isSelectionEmpty();

    var selectionData = payload.data.selectionData;

    return !!(!selectionData.element && selectionData.region && !selectionEmpty && !nativeEditor.getSelection().getCommonAncestor().isReadOnly());
};

var tableSelectionTest = function tableSelectionTest(payload) {
    var nativeEditor = payload.editor.get('nativeEditor');

    var table = new CKEDITOR.Table(nativeEditor);
    var element = table.getFromSelection();

    return !!(element && table.isEditable(element));
};

var SelectionTest = {
    embed: embedSelectionTest,
    image: imageSelectionTest,
    link: linkSelectionTest,
    table: tableSelectionTest,
    text: textSelectionTest
};

exports.default = SelectionTest;

/***/ }),

/***/ "./src/selections/selections.js":
/*!**************************************!*\
  !*** ./src/selections/selections.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _selectionArrowbox = __webpack_require__(/*! ./selection-arrowbox.js */ "./src/selections/selection-arrowbox.js");

var _selectionArrowbox2 = _interopRequireDefault(_selectionArrowbox);

var _selectionPosition = __webpack_require__(/*! ./selection-position.js */ "./src/selections/selection-position.js");

var _selectionPosition2 = _interopRequireDefault(_selectionPosition);

var _selectionTest = __webpack_require__(/*! ./selection-test.js */ "./src/selections/selection-test.js");

var _selectionTest2 = _interopRequireDefault(_selectionTest);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Selections = [{
    name: 'embed',
    buttons: ['embedRemove', 'embedEdit'],
    test: _selectionTest2.default.embed
}, {
    name: 'link',
    buttons: ['linkEdit'],
    test: _selectionTest2.default.link
}, {
    name: 'image',
    buttons: ['imageLeft', 'imageCenter', 'imageRight'],
    setPosition: _selectionPosition2.default.image,
    test: _selectionTest2.default.image
}, {
    name: 'text',
    buttons: ['styles', 'bold', 'italic', 'underline', 'link', 'twitter'],
    test: _selectionTest2.default.text
}, {
    name: 'table',
    buttons: ['tableHeading', 'tableRow', 'tableColumn', 'tableCell', 'tableRemove'],
    getArrowBoxClasses: _selectionArrowbox2.default.table,
    setPosition: _selectionPosition2.default.table,
    test: _selectionTest2.default.table
}];

exports.default = Selections;

/***/ }),

/***/ "react":
/*!****************************************************************************************************!*\
  !*** external {"root":"React","commonjs2":"react","commonjs":"react","amd":"react","umd":"react"} ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

<<<<<<< HEAD
module.exports = __WEBPACK_EXTERNAL_MODULE_react__;
=======
            if (domNode) {
                var editable = this.props.editor.get('nativeEditor').editable();
                var parentNode = target.parentNode;
                var targetNode = new CKEDITOR.dom.node(target);
>>>>>>> c1d36639... Build files (auto-generated)

/***/ }),

<<<<<<< HEAD
/***/ "react-dom":
/*!***********************************************************************************************************************!*\
  !*** external {"root":"ReactDOM","commonjs2":"react-dom","commonjs":"react-dom","amd":"react-dom","umd":"react-dom"} ***!
  \***********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {
=======
                    if (parentNode) {
                        res = res || parentNode.id === "ckimgrsz";
                    }

                    if (parentNode) {
                        res = res || parentNode.id === "ckimgrsz";
                    }

                    if (!res) {
                        this.setState({
                            hidden: true
                        });
                    }
                }
            }
        }
    });
>>>>>>> c1d36639... Build files (auto-generated)

module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom__;

/***/ })

/******/ });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BbGxveUVkaXRvci93ZWJwYWNrL3VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24iLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3Ivd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9saWIvY2tlZGl0b3IvY2tlZGl0b3IuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zY3JpcHRzL2J1aWxkL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2FkYXB0ZXIvY29yZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9hZGFwdGVyL21haW4uanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1hY3Rpb24tc3R5bGUuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1rZXlzdHJva2UuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1wcm9wcy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL2J1dHRvbi1zdHlsZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2Jhc2UvdG9vbGJhci1idXR0b25zLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYmFzZS93aWRnZXQtYXJyb3ctYm94LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYmFzZS93aWRnZXQtZHJvcGRvd24uanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL3dpZGdldC1leGNsdXNpdmUuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYmFzZS93aWRnZXQtcG9zaXRpb24uanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1ib2xkLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWNhbWVyYS1pbWFnZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1jYW1lcmEuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tY29kZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1jb21tYW5kLWxpc3QtaXRlbS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1jb21tYW5kcy1saXN0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWRyb3Bkb3duLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWVtYmVkLWVkaXQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tZW1iZWQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taDEuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taDIuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taGxpbmUuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW1hZ2UtYWxpZ24tY2VudGVyLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWltYWdlLWFsaWduLWxlZnQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW1hZ2UtYWxpZ24tcmlnaHQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW1hZ2UuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24taW5kZW50LWJsb2NrLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWl0YWxpYy5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1saW5rLWF1dG9jb21wbGV0ZS1saXN0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmstZWRpdC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1saW5rLXRhcmdldC1lZGl0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLWxpbmsuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tb2wuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tb3V0ZGVudC1ibG9jay5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1wYXJhZ3JhcGgtYWxpZ24tbGVmdC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1wYXJhZ3JhcGgtYWxpZ24tcmlnaHQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tcGFyYWdyYXBoLWNlbnRlci5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1wYXJhZ3JhcGgtanVzdGlmeS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1xdW90ZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1yZW1vdmUtZm9ybWF0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXN0cmlrZS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC1oZWFkZXIuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3R5bGVzLWxpc3QtaXRlbS1yZW1vdmUuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3R5bGVzLWxpc3QtaXRlbS5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMtbGlzdC5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi1zdHlsZXMuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tc3Vic2NyaXB0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXN1cGVyc2NyaXB0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLWNlbGwuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtY29sdW1uLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLWVkaXQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtaGVhZGluZy5qc3giLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9idXR0b25zL2J1dHRvbi10YWJsZS1yZW1vdmUuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdGFibGUtcm93LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhYmxlLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXRhcmdldC1saXN0LmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvYnV0dG9uLXR3aXR0ZXIuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdWwuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvYnV0dG9ucy9idXR0b24tdW5kZXJsaW5lLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL2J1dHRvbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29tcG9uZW50cy9tYWluLmpzeCIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb21wb25lbnRzL3Rvb2xiYXJzL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhcnMvdG9vbGJhci1hZGQuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdG9vbGJhcnMvdG9vbGJhci1zdHlsZXMuanN4Iiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvbXBvbmVudHMvdWlicmlkZ2UvdWlicmlkZ2UuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29yZS9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb3JlL2luZGV4LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvcmUvbGluay5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb3JlL3BsdWdpbnMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29yZS9zZWxlY3Rpb24tcmVnaW9uLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL2NvcmUvdGFibGUuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvY29yZS90b29scy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9jb3JlL3VpY29yZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9vb3AvYXR0cmlidXRlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL29vcC9iYXNlLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL29vcC9sYW5nLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL29vcC9vb3AuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9hZGRpbWFnZXMuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9hdXRvbGluay5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL2F1dG9saXN0LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvZHJhZ3Jlc2l6ZS5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL2RyYWdyZXNpemVfaWUuanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9lbWJlZC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL2ltYWdlYWxpZ25tZW50LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vQWxsb3lFZGl0b3IvLi9zcmMvcGx1Z2lucy9wYXN0ZWltYWdlcy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL3BsYWNlaG9sZGVyLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvc2VsZWN0aW9ua2V5c3Ryb2tlcy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9wbHVnaW5zL3RhYmxlcmVzaXplLmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3BsdWdpbnMvdGFibGV0b29scy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi1hcnJvd2JveC5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi1wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci8uL3NyYy9zZWxlY3Rpb25zL3NlbGVjdGlvbi10ZXN0LmpzIiwid2VicGFjazovL0FsbG95RWRpdG9yLy4vc3JjL3NlbGVjdGlvbnMvc2VsZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9BbGxveUVkaXRvci9leHRlcm5hbCB7XCJyb290XCI6XCJSZWFjdFwiLFwiY29tbW9uanMyXCI6XCJyZWFjdFwiLFwiY29tbW9uanNcIjpcInJlYWN0XCIsXCJhbWRcIjpcInJlYWN0XCIsXCJ1bWRcIjpcInJlYWN0XCJ9Iiwid2VicGFjazovL0FsbG95RWRpdG9yL2V4dGVybmFsIHtcInJvb3RcIjpcIlJlYWN0RE9NXCIsXCJjb21tb25qczJcIjpcInJlYWN0LWRvbVwiLFwiY29tbW9uanNcIjpcInJlYWN0LWRvbVwiLFwiYW1kXCI6XCJyZWFjdC1kb21cIixcInVtZFwiOlwicmVhY3QtZG9tXCJ9Il0sIm5hbWVzIjpbIkFsbG95RWRpdG9yIiwid2luZG93IiwiQ0tFRElUT1IiLCJkaXNhYmxlQXV0b0lubGluZSIsIkNvcmUiLCJjb25maWciLCJzdXBlcmNsYXNzIiwiY29uc3RydWN0b3IiLCJjYWxsIiwiaW5pdGlhbGl6ZXIiLCJub2RlIiwiZ2V0Iiwic2V0QXR0cmlidXRlIiwiZWRpdG9yIiwiaW5saW5lIiwiYWxsb3dlZENvbnRlbnQiLCJ0b29sYmFycyIsInJlbW92ZVBsdWdpbnMiLCJleHRyYVBsdWdpbnMiLCJwbGFjZWhvbGRlckNsYXNzIiwicGFzdGVGcm9tV29yZFJlbW92ZVN0eWxlcyIsInBhc3RlRnJvbVdvcmRSZW1vdmVGb250U3R5bGVzIiwic2VsZWN0aW9uS2V5c3Ryb2tlcyIsIm1peCIsImVudiIsImllIiwiZWRnZSIsInJlcGxhY2UiLCJvbmNlIiwiX2FkZFJlYWRPbmx5TGlua0NsaWNrTGlzdGVuZXIiLCJlZGl0YWJsZSIsImFkZENsYXNzIiwiYmluZCIsIl9lZGl0b3IiLCJsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMiLCJfcmVuZGVyVUkiLCJkZXN0cnVjdG9yIiwiX2Rlc3Ryb3llZCIsIl9lZGl0b3JVSUVsZW1lbnQiLCJ1bm1vdW50Q29tcG9uZW50QXROb2RlIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwibmF0aXZlRWRpdG9yIiwicmVtb3ZlQ2xhc3MiLCJfY2xlYXJTZWxlY3Rpb25zIiwiZGVzdHJveSIsImlzTVNTZWxlY3Rpb24iLCJnZXRTZWxlY3Rpb24iLCJkb2N1bWVudCIsIiQiLCJzZWxlY3Rpb24iLCJlbXB0eSIsImdldFdpbmRvdyIsInJlbW92ZUFsbFJhbmdlcyIsIm9uIiwiX2RlZmF1bHRSZWFkT25seUNsaWNrRm4iLCJldmVudCIsIm1vdXNlRXZlbnQiLCJkYXRhIiwiaGFzQ3RybEtleSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic2hvdWxkT3BlbiIsInJlYWRPbmx5IiwicHJldmVudERlZmF1bHQiLCJsaXN0ZW5lckRhdGEiLCJmaXJlIiwiY2tFbGVtZW50IiwiZG9tIiwiZWxlbWVudFBhdGgiLCJnZXRUYXJnZXQiLCJsaW5rIiwibGFzdEVsZW1lbnQiLCJocmVmIiwiYXR0cmlidXRlcyIsInZhbHVlIiwidGFyZ2V0IiwiX3JlZGlyZWN0TGluayIsIl9nZXROYXRpdmVFZGl0b3IiLCJvcGVuIiwibG9jYXRpb24iLCJlZGl0b3JVSUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwidWlOb2RlIiwiYm9keSIsImFwcGVuZENoaWxkIiwiX21haW5VSSIsInJlbmRlciIsIl90b0VsZW1lbnQiLCJpc1N0cmluZyIsImdldEVsZW1lbnRCeUlkIiwiX3ZhbGlkYXRlQWxsb3dlZENvbnRlbnQiLCJpc09iamVjdCIsImlzQm9vbGVhbiIsIl92YWxpZGF0ZVRvb2xiYXJzIiwiaXNOdWxsIiwiQVRUUlMiLCJ2YWxpZGF0b3IiLCJ3cml0ZU9uY2UiLCJlbmFibGVDb250ZW50RWRpdGFibGUiLCJldmVudHNEZWxheSIsImlzTnVtYmVyIiwiZ2V0dGVyIiwiaXNBcnJheSIsImtleXMiLCJDVFJMIiwiU0hJRlQiLCJzcmNOb2RlIiwic2V0dGVyIiwiYWRkIiwiYnV0dG9ucyIsInRhYkluZGV4Iiwic3R5bGVzIiwic2VsZWN0aW9ucyIsImltcGxlbWVudE9uIiwiQlJJREdFX0JVVFRPTlMiLCJpbXBsZW1lbnRFdmVudFRhcmdldCIsImdldEJhc2VQYXRoIiwicGF0aCIsIkFMTE9ZRURJVE9SX0JBU0VQQVRIIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsImxlbmd0aCIsIm1hdGNoIiwic3JjIiwicmVnZXhCYXNlUGF0aCIsImluZGV4T2YiLCJzbGljZSIsImNhbGxiYWNrIiwiaXNGdW5jdGlvbiIsIlN0cmluZ3MiLCJzZXRUaW1lb3V0IiwiX2xhbmdSZXNvdXJjZVJlcXVlc3RlZCIsImxhbmd1YWdlcyIsInVzZXJMYW5ndWFnZSIsIm5hdmlnYXRvciIsImxhbmd1YWdlIiwicGFydHMiLCJ0b0xvd2VyQ2FzZSIsImxhbmciLCJsb2NhbGUiLCJzY3JpcHRMb2FkZXIiLCJsb2FkIiwiZ2V0VXJsIiwibG9hZGVkIiwicmVzb3VyY2UiLCJiYXNlUGF0aCIsInRpbWVzdGFtcCIsImNoYXJBdCIsInRlc3QiLCJnZXRCdXR0b25zIiwicmVkdWNlIiwiYWNjIiwidmFsIiwiY29uY2F0IiwicmVnaXN0ZXJCcmlkZ2VCdXR0b24iLCJidXR0b25OYW1lIiwicGx1Z2luTmFtZSIsInB1c2giLCJPT1AiLCJleHRlbmQiLCJBdHRyaWJ1dGUiLCJCdXR0b25zIiwiTGFuZyIsIlNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyIsIlNlbGVjdGlvbnMiLCJTZWxlY3Rpb25TZXRQb3NpdGlvbiIsIlNlbGVjdGlvblRlc3QiLCJUb29sYmFycyIsImlzQWN0aXZlIiwiZ2V0U3R5bGUiLCJwcm9wcyIsImxvY2siLCJyZW1vdmVTdHlsZSIsImFwcGx5U3R5bGUiLCJ1bmxvY2siLCJXcmFwcGVkQ29tcG9uZW50IiwiY29tbWFuZCIsImdldENvbW1hbmQiLCJzdGF0ZSIsIlRSSVNUQVRFX09OIiwiZXhlY0NvbW1hbmQiLCJtb2RpZmllc1NlbGVjdGlvbiIsInNlbGVjdGlvbkNoYW5nZSIsImtleXN0cm9rZSIsImNvbW1hbmROYW1lIiwibmFtZSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsImV4ZWMiLCJrZXlzdHJva2VGbiIsImZuIiwiYWRkQ29tbWFuZCIsIl9kZWZhdWx0S2V5c3Ryb2tlQ29tbWFuZCIsImtleXN0cm9rZUhhbmRsZXIiLCJrZXlzdHJva2VzIiwic2V0S2V5c3Ryb2tlIiwiYnV0dG9uQ2ZnIiwicmVzdWx0IiwidG9vbHMiLCJtZXJnZSIsInN0YXRlQ2xhc3NlcyIsImlzRGlzYWJsZWQiLCJzdHlsZSIsInNwbGl0IiwiY3VycmVudE1lbWJlciIsInByb3BlcnR5Iiwic2hpZnQiLCJfc3R5bGUiLCJjaGVja0FjdGl2ZSIsImFkZGl0aW9uYWxQcm9wcyIsImJ1dHRvblByb3BzIiwidG9vbGJhckJ1dHRvbnMiLCJmaWx0ZXJFeGNsdXNpdmUiLCJmaWx0ZXIiLCJidXR0b24iLCJtYXAiLCJrZXkiLCJjZmciLCJtZXJnZUV4Y2x1c2l2ZVByb3BzIiwidGFiS2V5IiwidHJpZ2dlciIsIm1lcmdlRHJvcGRvd25Qcm9wcyIsImFycm93Qm94Q2xhc3NlcyIsImdldEludGVyYWN0aW9uUG9pbnQiLCJkaXJlY3Rpb24iLCJTRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSIsImRyb3Bkb3duVHJpZ2dlciIsIml0ZW1Ecm9wZG93biIsIm5leHRQcm9wcyIsInNldFN0YXRlIiwib2JqIiwiaXRlbUtleSIsImV4cGFuZGVkIiwidG9nZ2xlRHJvcGRvd24iLCJ0b2dnbGVEaXJlY3Rpb24iLCJtb3ZlRm9jdXMiLCJmaW5kRE9NTm9kZSIsImZvY3VzIiwiaXRlbUV4Y2x1c2l2ZSIsIml0ZW1zIiwiaXRlbSIsImNhbmNlbEV4Y2x1c2l2ZSIsInJlbmRlckV4Y2x1c2l2ZSIsInJlcXVlc3RFeGNsdXNpdmUiLCJESVJFQ1RJT05fTk9ORSIsIkRJUkVDVElPTl9ORVhUIiwiRElSRUNUSU9OX1BSRVYiLCJBQ1RJT05fTk9ORSIsIkFDVElPTl9NT1ZFX0ZPQ1VTIiwiQUNUSU9OX0RJU01JU1NfRk9DVVMiLCJfcmVmcmVzaCIsIl9pc1ZhbGlkVGFyZ2V0IiwiX2Rlc2NlbmRhbnRzIiwiYWN0aXZlRGVzY2VuZGFudEVsIiwiX2FjdGl2ZURlc2NlbmRhbnQiLCJhY3RpdmVFbGVtZW50IiwiZm9jdXNGaXJzdENoaWxkIiwic3RvcFByb3BhZ2F0aW9uIiwiYWN0aW9uIiwiX2dldEZvY3VzQWN0aW9uIiwidHlwZSIsIl9tb3ZlRm9jdXMiLCJvbkRpc21pc3MiLCJfZ2V0Rm9jdXNNb3ZlRGlyZWN0aW9uIiwiZGlzbWlzc0FjdGlvbiIsIl9nZXRGb2N1c0Rpc21pc3NBY3Rpb24iLCJkaXNtaXNzIiwiZm9jdXNNb3ZlRGlyZWN0aW9uIiwiX2lzVmFsaWRLZXkiLCJrZXlDb2RlIiwiZGlzbWlzc05leHQiLCJkaXNtaXNzUHJldiIsImNpcmN1bGFyIiwibmV4dCIsInByZXYiLCJzaGlmS2V5IiwiZWxlbWVudCIsInRhZ05hbWUiLCJudW1EZXNjZW5kYW50cyIsImRlc2NlbmRhbnQiLCJtYXgiLCJtaW4iLCJkb21Ob2RlIiwiZGVzY2VuZGFudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJpb3JpdHlEZXNjZW5kYW50cyIsIkFycmF5IiwicHJvdG90eXBlIiwiZm9yRWFjaCIsImRhdGFUYWJJbmRleCIsImdldEF0dHJpYnV0ZSIsInNvcnQiLCJhIiwiYiIsInRvSW50Iiwic29tZSIsImluZGV4IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfYW5pbWF0aW9uRnJhbWVJZCIsImF0dHJzIiwidmlld1BhbmVTaXplIiwiZ2V0Vmlld1BhbmVTaXplIiwieCIsImxlZnQiLCJ5IiwidG9wIiwid2lkdGgiLCJldmVudFBheWxvYWQiLCJlZGl0b3JFdmVudCIsInNlbGVjdGlvbkRhdGEiLCJuYXRpdmVFdmVudCIsInBvcyIsInBhZ2VYIiwicmVnaW9uIiwiZW5kUmVjdCIsInN0YXJ0UmVjdCIsIlNFTEVDVElPTl9CT1RUT01fVE9fVE9QIiwiX2dldFhQb2ludCIsIl9nZXRZUG9pbnQiLCJldmVudFgiLCJyaWdodCIsImxlZnREaXN0IiwiYWJzIiwicmlnaHREaXN0IiwiZWxlbWVudFRhcmdldCIsIm9mZnNldFRvcCIsIm9mZnNldEhlaWdodCIsImJvdHRvbSIsImd1dHRlciIsIm9mZnNldFdpZHRoIiwiU0VMRUNUSU9OX0xFRlRfVE9fUklHSFQiLCJTRUxFQ1RJT05fUklHSFRfVE9fTEVGVCIsImRvbUVsZW1lbnQiLCJoYXNDbGFzcyIsInN0YXJ0UG9pbnQiLCJlbmRQb2ludCIsInNldFN0eWxlcyIsIm9wYWNpdHkiLCJfYW5pbWF0ZSIsImlzVmlzaWJsZSIsImludGVyYWN0aW9uUG9pbnQiLCJmaW5hbFgiLCJmaW5hbFkiLCJpbml0aWFsWCIsImluaXRpYWxZIiwicGFyc2VGbG9hdCIsImNvbnN0cmFpblRvVmlld3BvcnQiLCJyZXMiLCJnZXRDb25zdHJhaW5lZFBvc2l0aW9uIiwiaGVpZ2h0IiwibW92ZVRvUG9pbnQiLCJ4eSIsImdldFdpZGdldFhZUG9pbnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJkZWZhdWx0UHJvcHMiLCJCdXR0b25Cb2xkIiwiY3NzQ2xhc3MiLCJnZXRTdGF0ZUNsYXNzZXMiLCJib2xkIiwiQ29tcG9uZW50IiwiQnV0dG9uQ2FtZXJhSW1hZ2UiLCJyZWZzIiwiYnV0dG9uVGFrZVBob3RvIiwiX3N0cmVhbSIsInN0b3AiLCJnZXRWaWRlb1RyYWNrcyIsInRyYWNrIiwiZ2V0VXNlck1lZGlhIiwid2Via2l0R2V0VXNlck1lZGlhIiwibW96R2V0VXNlck1lZGlhIiwibXNHZXRVc2VyTWVkaWEiLCJ2aWRlbyIsImF1ZGlvIiwiX2hhbmRsZVN0cmVhbVN1Y2Nlc3MiLCJfaGFuZGxlU3RyZWFtRXJyb3IiLCJ0YWtlUGhvdG8iLCJ2aWRlb0VsIiwidmlkZW9Db250YWluZXIiLCJjYW52YXNFbCIsImNhbnZhc0NvbnRhaW5lciIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiX3ZpZGVvSGVpZ2h0IiwidmlkZW9XaWR0aCIsImRyYXdJbWFnZSIsImltZ1VSTCIsInRvRGF0YVVSTCIsImVsIiwiY3JlYXRlRnJvbUh0bWwiLCJpbnNlcnRFbGVtZW50IiwiZXJyb3IiLCJhbGVydCIsInN0cmVhbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2aWRlb0hlaWdodCIsImlzTmFOIiwibW96U3JjT2JqZWN0IiwiVVJMIiwid2Via2l0VVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicGxheSIsImRpc2FibGVkIiwiQnV0dG9uQ2FtZXJhIiwicHJvdG9jb2wiLCJsYWJlbCIsImNhbWVyYURpc2FibGVkIiwiY2FtZXJhIiwiQnV0dG9uQ29kZSIsImNvZGUiLCJCdXR0b25Db21tYW5kTGlzdEl0ZW0iLCJkZXNjcmlwdGlvbiIsIl9nZXRDbGFzc05hbWUiLCJpY29uIiwiQnV0dG9uQ29tbWFuZHNMaXN0IiwiaGFuZGxlS2V5IiwibGlzdElkIiwiX3JlbmRlckFjdGlvbnMiLCJjb21tYW5kcyIsIkJ1dHRvbkRyb3Bkb3duIiwiY2hpbGRyZW4iLCJLRVlfRU5URVIiLCJLRVlfRVNDIiwiQnV0dG9uRW1iZWRFZGl0IiwibGlua0lucHV0IiwiY3JlYXRlUmVmIiwiZ2V0SW5pdGlhbFN0YXRlIiwibWFudWFsU2VsZWN0aW9uIiwiX2ZvY3VzTGlua0lucHV0IiwiZW1iZWQiLCJzZWxlY3RlZEVsZW1lbnQiLCJnZXRTZWxlY3RlZEVsZW1lbnQiLCJmaW5kT25lIiwiaW5pdGlhbExpbmsiLCJsaW5rSHJlZiIsImNsZWFyTGlua1N0eWxlIiwiZGVsZXRlRW1iZWQiLCJfcmVtb3ZlRW1iZWQiLCJfaGFuZGxlTGlua0hyZWZDaGFuZ2UiLCJfaGFuZGxlS2V5RG93biIsImVkaXRMaW5rIiwiY2xlYXJJbnB1dCIsIl9jbGVhckxpbmsiLCJjbGVhciIsImNvbmZpcm0iLCJfaXNWYWxpZFN0YXRlIiwiX2VtYmVkTGluayIsInVybCIsImN1cnJlbnQiLCJ2YWxpZFN0YXRlIiwiZW1iZWRXcmFwcGVyIiwiZ2V0QXNjZW5kYW50IiwicmVtb3ZlIiwiQnV0dG9uRW1iZWQiLCJfcmVxdWVzdEV4Y2x1c2l2ZSIsIkJ1dHRvbkgxIiwiaDEiLCJCdXR0b25IMiIsImgyIiwiQnV0dG9uSGxpbmUiLCJob3Jpem9udGFscnVsZSIsIkJ1dHRvbkltYWdlQWxpZ25DZW50ZXIiLCJhbGlnbkNlbnRlciIsIkJ1dHRvbkltYWdlQWxpZ25MZWZ0IiwiYWxpZ25MZWZ0IiwiQnV0dG9uSW1hZ2VBbGlnblJpZ2h0IiwiYWxpZ25SaWdodCIsIkJ1dHRvbkltYWdlIiwiZmlsZUlucHV0IiwiaW5wdXRTeWxlIiwiZGlzcGxheSIsImltYWdlIiwiaGFuZGxlQ2xpY2siLCJfb25JbnB1dENoYW5nZSIsImNsaWNrIiwiaW5wdXRFbCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsImZpbGUiLCJvbmxvYWQiLCJpbWFnZUZpbGVzIiwiaW1hZ2VEYXRhIiwicmVhZEFzRGF0YVVSTCIsIkJ1dHRvbkluZGVudEJsb2NrIiwiaW5kZW50IiwiQnV0dG9uSXRhbGljIiwiaXRhbGljIiwiQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QiLCJ0ZXJtIiwiY2xlYXJUaW1lb3V0IiwiX3RpbWVvdXQiLCJfdXBkYXRlSXRlbXMiLCJkZWxheSIsImF1dG9jb21wbGV0ZVNlbGVjdGVkIiwic2V0QXV0b2NvbXBsZXRlU3RhdGUiLCJzZWxlY3RlZCIsIl9yZW5kZXJBdXRvY29tcGxldGVJdGVtcyIsIm5leHRTdGF0ZSIsImhhbmRsZUxpbmtBdXRvY29tcGxldGVDbGljayIsInRpdGxlIiwiaW5zdGFuY2UiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJ0aGVuIiwiQnV0dG9uTGlua0VkaXQiLCJfZ2V0SW5pdGlhbFN0YXRlIiwidGFyZ2V0U2VsZWN0b3IiLCJhbGxvd2VkVGFyZ2V0cyIsImhhbmRsZUxpbmtUYXJnZXRDaGFuZ2UiLCJfaGFuZGxlTGlua1RhcmdldENoYW5nZSIsInNlbGVjdGVkVGFyZ2V0IiwibGlua1RhcmdldCIsImxpbmtUYXJnZXREZWZhdWx0IiwiYXV0b2NvbXBsZXRlRHJvcGRvd24iLCJkYXRhRm4iLCJhdXRvY29tcGxldGVEcm9wZG93blByb3BzIiwiX2hhbmRsZUxpbmtBdXRvY29tcGxldGVDbGljayIsIl9zZXRBdXRvY29tcGxldGVTdGF0ZSIsImJ1dHRvbkNsZWFyTGluayIsInBsYWNlaG9sZGVyUHJvcCIsInBsYWNlaG9sZGVyIiwicmVtb3ZlTGluayIsIl9yZW1vdmVMaW5rIiwic2hvd1RhcmdldFNlbGVjdG9yIiwiX3VwZGF0ZUxpbmsiLCJkZWZhdWx0TGlua1RhcmdldCIsIkxpbmsiLCJnZXRGcm9tU2VsZWN0aW9uIiwiZm9jdXNMaW5rRWwiLCJhZHZhbmNlU2VsZWN0aW9uIiwibGlua1V0aWxzIiwiYm9va21hcmtzIiwiY3JlYXRlQm9va21hcmtzIiwiYWR2YW5jZSIsInNlbGVjdEJvb2ttYXJrcyIsImFwcGVuZFByb3RvY29sIiwibGlua0F0dHJzIiwibW9kaWZ5U2VsZWN0aW9uIiwidXBkYXRlIiwiY3JlYXRlIiwiYXV0b2NvbXBsZXRlVXJsIiwiY3VzdG9tSW5kZXhTdGFydCIsIkJ1dHRvbkxpbmtUYXJnZXRFZGl0IiwiYWxsb3dlZExpbmtUYXJnZXRzIiwiQnV0dG9uTGluayIsIm1lcmdlQnV0dG9uQ2ZnUHJvcHMiLCJCdXR0b25PcmRlcmVkTGlzdCIsIm51bWJlcmVkbGlzdCIsIkJ1dHRvbk91dGRlbnRCbG9jayIsIm91dGRlbnQiLCJCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQiLCJCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0IiwiQnV0dG9uUGFyYWdyYXBoQ2VudGVyIiwiQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSIsImFsaWduSnVzdGlmeSIsIkJ1dHRvblF1b3RlIiwicXVvdGUiLCJCdXR0b25SZW1vdmVGb3JtYXQiLCJyZW1vdmVmb3JtYXQiLCJCdXR0b25TdHJpa2UiLCJzdHJpa2UiLCJCdXR0b25zU3R5bGVzTGlzdEhlYWRlciIsIkJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlIiwiX3JlbW92ZVN0eWxlcyIsIm5vcm1hbCIsInJlbW92ZUJsb2NrcyIsImJsb2NrSXRlbSIsImJsb2NrU3R5bGUiLCJCdXR0b25TdHlsZXNMaXN0SXRlbSIsInN0eWxlQ2ZnIiwibWFyZ2luIiwiX3ByZXZpZXciLCJidWlsZFByZXZpZXciLCJhY3RpdmVTdHlsZSIsIl9faHRtbCIsIl9vbkNsaWNrIiwiQnV0dG9uU3R5bGVzTGlzdCIsImJsb2NrU3R5bGVzIiwiaW5saW5lU3R5bGVzIiwib2JqZWN0U3R5bGVzIiwiU1RZTEVfQkxPQ0siLCJTVFlMRV9JTkxJTkUiLCJTVFlMRV9PQkpFQ1QiLCJfYmxvY2tTdHlsZXMiLCJfaW5saW5lU3R5bGVzIiwiX29iamVjdFN0eWxlcyIsInJlbW92ZVN0eWxlc0l0ZW0iLCJzaG93UmVtb3ZlU3R5bGVzSXRlbSIsIl9yZW5kZXJTdHlsZXNJdGVtcyIsIkJ1dHRvblN0eWxlcyIsIl9nZXRTdHlsZXMiLCJfY2hlY2tBY3RpdmUiLCJidXR0b25TdHlsZXNMaXN0Iiwic3R5bGVDb25maWciLCJmb3JtYXR0ZWQiLCJjaXRlIiwiQnV0dG9uU3Vic2NyaXB0Iiwic3Vic2NyaXB0IiwiQnV0dG9uU3VwZXJzY3JpcHQiLCJzdXBlcnNjcmlwdCIsIkJ1dHRvblRhYmxlQ2VsbCIsImJ1dHRvbkNvbW1hbmRzTGlzdCIsImJ1dHRvbkNvbW1hbmRzTGlzdElkIiwiX2dldENvbW1hbmRzIiwiY2VsbCIsImNlbGxJbnNlcnRCZWZvcmUiLCJjZWxsSW5zZXJ0QWZ0ZXIiLCJjZWxsRGVsZXRlIiwiY2VsbE1lcmdlIiwiY2VsbE1lcmdlRG93biIsImNlbGxNZXJnZVJpZ2h0IiwiY2VsbFNwbGl0SG9yaXpvbnRhbCIsImNlbGxTcGxpdFZlcnRpY2FsIiwiQnV0dG9uVGFibGVDb2x1bW4iLCJjb2x1bW4iLCJjb2x1bW5JbnNlcnRCZWZvcmUiLCJjb2x1bW5JbnNlcnRBZnRlciIsImNvbHVtbkRlbGV0ZSIsIkJ1dHRvblRhYmxlRWRpdCIsInJvd3NSZWYiLCJjb2xzUmVmIiwiY29scyIsInJvd3MiLCJ0YWJsZVV0aWxzIiwiVGFibGUiLCJ0YWJsZUF0dHJpYnV0ZXMiLCJpbnB1dE5hbWUiLCJfY3JlYXRlVGFibGUiLCJ0aW1lIiwiRGF0ZSIsIm5vdyIsInJvd3NJZCIsImNvbHNJZCIsIl9oYW5kbGVDaGFuZ2UiLCJjb2x1bW5zIiwiYm9yZGVyIiwiY2VsbFBhZGRpbmciLCJjZWxsU3BhY2luZyIsIkJ1dHRvblRhYmxlSGVhZGluZyIsImFjdGl2ZUhlYWRpbmciLCJnZXRIZWFkaW5nIiwiYWN0aXZlSGVhZGluZ0ludHJvIiwiaGVhZGVycyIsImFjdGl2ZUhlYWRpbmdMYWJlbCIsImhlYWRlcnNOb25lIiwiaGVhZGVyc1JvdyIsImhlYWRlcnNDb2x1bW4iLCJoZWFkZXJzQm90aCIsIkJ1dHRvblRhYmxlUmVtb3ZlIiwiZGVsZXRlVGFibGUiLCJfcmVtb3ZlVGFibGUiLCJCdXR0b25UYWJsZVJvdyIsInJvdyIsInJvd0luc2VydEJlZm9yZSIsInJvd0luc2VydEFmdGVyIiwicm93RGVsZXRlIiwiQnV0dG9uVGFibGUiLCJ0YWJsZSIsIkJ1dHRvblRhcmdldExpc3QiLCJsaXN0VGFyZ2V0cyIsIl9yZW5kZXJMaXN0VGFyZ2V0cyIsImxpbmtUYXJnZXRTZWxmIiwibGlua1RhcmdldEJsYW5rIiwibGlua1RhcmdldFBhcmVudCIsImxpbmtUYXJnZXRUb3AiLCJ0YXJnZXRzIiwiX2dldEFsbG93ZWRUYXJnZXRJdGVtcyIsIkJ1dHRvblR3aXR0ZXIiLCJfZ2V0SHJlZiIsInR3aXR0ZXIiLCJzZWxlY3RlZFRleHQiLCJnZXRTZWxlY3RlZFRleHQiLCJ2aWEiLCJ0d2l0dGVySHJlZiIsIkJ1dHRvblVub3JkZXJlZGxpc3QiLCJidWxsZXRlZGxpc3QiLCJCdXR0b25VbmRlcmxpbmUiLCJ1bmRlcmxpbmUiLCJVSSIsImhpZGRlbiIsIl9vbkVkaXRvckludGVyYWN0aW9uIiwiX29uQWN0aW9uUGVyZm9ybWVkIiwiX29uRWRpdG9yS2V5IiwiX21vdXNlZG93bkxpc3RlbmVyIiwiX3NldFVJSGlkZGVuIiwiX2tleURvd25MaXN0ZW5lciIsImRlYm91bmNlIiwicHJldlByb3BzIiwicHJldlN0YXRlIiwibWVzc2FnZSIsIl9nZXRBdmFpbGFibGVUb29sYmFyc01lc3NhZ2UiLCJhcmlhVXBkYXRlIiwiX2FyaWFVcGRhdGVUZW1wbGF0ZXMiLCJ0ZW1wbGF0ZSIsIl9nZXRBcmlhVXBkYXRlcyIsImFyaWFVcGRhdGVzIiwibm9Ub29sYmFyIiwiYXJpYVVwZGF0ZU5vVG9vbGJhciIsIm9uZVRvb2xiYXIiLCJhcmlhVXBkYXRlT25lVG9vbGJhciIsIm1hbnlUb29sYmFycyIsImFyaWFVcGRhdGVNYW55VG9vbGJhcnMiLCJ0b29sYmFyc05vZGVMaXN0IiwidG9vbGJhck5hbWVzIiwidG9vbGJhciIsIl9nZXRBcmlhVXBkYXRlVGVtcGxhdGUiLCJvdXRwdXQiLCJqb2luIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRldGFjaCIsIk9iamVjdCIsIl9vbkRpc21pc3NUb29sYmFyRm9jdXMiLCJnZXRTZWxlY3Rpb25EYXRhIiwiZG9tRXZlbnQiLCJhbHRLZXkiLCJ0YXJnZXROb2RlIiwiY29udGFpbnMiLCJQT1NJVElPTl9MRUZUIiwiUE9TSVRJT05fUklHSFQiLCJUb29sYmFyQWRkIiwiX3VwZGF0ZVBvc2l0aW9uIiwiaXNDb250ZW50RWRpdGFibGUiLCJfZ2V0QnV0dG9ucyIsIl9nZXRUb29sYmFyQ2xhc3NOYW1lIiwiZ2V0VG9vbGJhckJ1dHRvbnMiLCJnZXRBcnJvd0JveENsYXNzZXMiLCJ1cGRhdGVQb3NpdGlvbiIsInNob3ciLCJjbGllbnRSZWN0IiwiZ2V0Q2xpZW50UmVjdCIsIm9mZnNldExlZnQiLCJwb3NpdGlvbiIsImd1dHRlckV4Y2x1c2l2ZSIsImZsb29yIiwiY2FuY2VsQW5pbWF0aW9uIiwiVG9vbGJhclN0eWxlcyIsImN1cnJlbnRTZWxlY3Rpb24iLCJfZ2V0Q3VycmVudFNlbGVjdGlvbiIsImdldEFycm93Qm94Q2xhc3Nlc0ZuIiwiX2dldFNlbGVjdGlvbkZ1bmN0aW9uIiwiY3NzQ2xhc3NlcyIsInNlbGVjdGlvblR5cGUiLCJzZWxlY3Rpb25GbiIsInNlbGVjdGlvbkZ1bmN0aW9uIiwidGVzdEZuIiwic2V0UG9zaXRpb25GbiIsInNldFBvc2l0aW9uIiwicGx1Z2lucyIsImJlZm9yZUluaXQiLCJvcmlnaW5hbFVJQWRkRm4iLCJ1aSIsImRlZmluaXRpb24iLCJhcHBseSIsImFyZ3VtZW50cyIsInR5cGVIYW5kbGVyIiwiXyIsImhhbmRsZXJzIiwiX19wcm9jZXNzaW5nUGx1Z2luX18iLCJwbHVnaW4iLCJ0aW1lb3V0IiwiYXJncyIsImRlYm91bmNlSGFuZGxlIiwiY2FsbEZuIiwiY2FsbENvbnRleHQiLCJsZW4iLCJzdGFydEluZGV4IiwiY2FsbEFyZ3MiLCJzZWxlY3Rpb25SZWdpb24iLCJ1aWNvcmUiLCJSRUdFWF9CT09LTUFSS19TQ0hFTUUiLCJSRUdFWF9FTUFJTF9TQ0hFTUUiLCJSRUdFWF9VUklfU0NIRU1FIiwicmFuZ2UiLCJnZXRSYW5nZXMiLCJtb3ZlVG9FbGVtZW50RWRpdEVuZCIsIm5leHROb2RlIiwiZ2V0TmV4dEVkaXRhYmxlTm9kZSIsImVxdWFscyIsImdldENvbW1vbkFuY2VzdG9yIiwid2hpdGVzcGFjZSIsImdldFRleHQiLCJvZmZzZXQiLCJzZXRTdGFydCIsInNldEVuZCIsInNlbGVjdFJhbmdlcyIsIlVSSSIsImNvbGxhcHNlZCIsInRleHQiLCJpbnNlcnROb2RlIiwic2VsZWN0Tm9kZUNvbnRlbnRzIiwiX2dldENvbXBsZXRlVVJJIiwiYXBwbHlUb1JhbmdlIiwic2VsZWN0IiwiaXMiLCJzaHJpbmsiLCJTSFJJTktfVEVYVCIsImFsd2F5c1JlbW92ZUVsZW1lbnQiLCJzZWxlY3RFbGVtZW50IiwiZ2V0U3RhcnRFbGVtZW50IiwidXJpIiwic2V0QXR0cmlidXRlcyIsInJlbW92ZUF0dHJzIiwic2V0QXR0cnMiLCJyZW1vdmVBdHRyaWJ1dGVzIiwid3JhcFBsdWdpbkxpZmVjeWNsZSIsIm1ldGhvZHMiLCJtZXRob2ROYW1lIiwib3ZlcnJpZGUiLCJvcmlnaW5hbFBsdWdpbk1ldGhvZCIsInBheWxvYWQiLCJwaGFzZSIsImZpbHRlclVud2FudGVkRGVwZW5kZW5jaWVzIiwicmVxdWlyZXMiLCJyZXF1aXJlIiwicGx1Z2luc0xvYWQiLCJuYW1lcyIsInNjb3BlIiwiU2VsZWN0aW9uUmVnaW9uIiwiY3JlYXRlU2VsZWN0aW9uRnJvbVBvaW50IiwiY3JlYXRlU2VsZWN0aW9uRnJvbVJhbmdlIiwic3RhcnRYIiwic3RhcnRZIiwiZW5kWCIsImVuZFkiLCJlbmQiLCJlbmRDb250YWluZXIiLCJlbmRPZmZzZXQiLCJzdGFydCIsInN0YXJ0Q29udGFpbmVyIiwic3RhcnRPZmZzZXQiLCJjYXJldFBvc2l0aW9uRnJvbVBvaW50Iiwib2Zmc2V0Tm9kZSIsImNyZWF0ZVJhbmdlIiwiY2FyZXRSYW5nZUZyb21Qb2ludCIsImNyZWF0ZVRleHRSYW5nZSIsImVuZFJhbmdlIiwiZHVwbGljYXRlIiwic2V0RW5kUG9pbnQiLCJnZXRDYXJldFJlZ2lvbiIsImJvb2ttYXJrTm9kZUVsIiwic3RhcnROb2RlIiwic2Nyb2xsUG9zIiwiZ2V0U2Nyb2xsUG9zaXRpb24iLCJnZXROYXRpdmUiLCJnZXRTZWxlY3Rpb25SZWdpb24iLCJnZXRDbGllbnRSZWN0c1JlZ2lvbiIsImdldFNlbGVjdGlvbkRpcmVjdGlvbiIsImlzU2VsZWN0aW9uRW1wdHkiLCJyYW5nZXMiLCJnZXRUeXBlIiwiU0VMRUNUSU9OX05PTkUiLCJuYXRpdmVTZWxlY3Rpb24iLCJkZWZhdWx0UmVjdCIsImNsaWVudFJlY3RzIiwiSW5maW5pdHkiLCJyYW5nZUNvdW50IiwiZ2V0Q2xpZW50UmVjdHMiLCJnZXRSYW5nZUF0IiwiYW5jaG9yTm9kZSIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiZm9jdXNOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZm9jdXNPZmZzZXQiLCJOb2RlIiwiRE9DVU1FTlRfUE9TSVRJT05fUFJFQ0VESU5HIiwiaW5pdCIsImF0dHIiLCJoYXNPd25Qcm9wZXJ0eSIsIklFX05PTl9ESVJFQ1RMWV9FRElUQUJMRV9FTEVNRU5UIiwiSEVBRElOR19CT1RIIiwiSEVBRElOR19DT0wiLCJIRUFESU5HX05PTkUiLCJIRUFESU5HX1JPVyIsIl9jcmVhdGVFbGVtZW50IiwidGJvZHkiLCJhcHBlbmQiLCJqIiwiYXBwZW5kQm9ndXMiLCJzZXRIZWFkaW5nIiwiaGVhZGluZyIsImZpcnN0Q2VsbCIsImNlbGxzIiwibW92ZVRvUG9zaXRpb24iLCJQT1NJVElPTl9BRlRFUl9TVEFSVCIsIndlYmtpdCIsIk5PREVfRUxFTUVOVCIsImlzRWRpdGFibGUiLCJpc1JlYWRPbmx5IiwiaGFzQXR0cmlidXRlIiwiZ2V0UGFyZW50Iiwicm93SGVhZGluZ1NldHRpbmdzIiwidEhlYWQiLCJjb2xIZWFkaW5nU2V0dGluZ3MiLCJub2RlTmFtZSIsImhlYWRpbmdTZXR0aW5ncyIsInBhcmVudCIsImdldENoaWxkQ291bnQiLCJQT1NJVElPTl9CRUZPUkVfU1RBUlQiLCJuZXdDZWxsIiwidGFibGVIZWFkIiwidGFibGVCb2R5IiwiZ2V0RWxlbWVudHNCeVRhZyIsImdldEl0ZW0iLCJ0YWJsZUhlYWRpbmciLCJoYWRDb2xIZWFkaW5nIiwibmVlZENvbEhlYWRpbmciLCJuZWVkUm93SGVhZGluZyIsInRhYmxlRmlyc3RSb3ciLCJ0YWJsZUZpcnN0Um93Q2hpbGRDb3VudCIsImdldENoaWxkIiwicmVuYW1lTm9kZSIsImNyZWF0ZVRIZWFkIiwicHJldmlvdXNGaXJzdFJvdyIsImdldEZpcnN0IiwibmV3Rmlyc3RSb3ciLCJuZXdGaXJzdFJvd0NoaWxkQ291bnQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJpbnNlcnRCZWZvcmUiLCJoYXNDb2xIZWFkaW5nIiwiZ2V0TmFtZSIsImhlYWRpbmdDb21tYW5kcyIsImpzb25wIiwidXJsVGVtcGxhdGUiLCJ1cmxQYXJhbXMiLCJlcnJvckNhbGxiYWNrIiwiY2FsbGJhY2tLZXkiLCJnZXROZXh0TnVtYmVyIiwianNvbnBDYWxsYmFja3MiLCJyZXNwb25zZSIsImNsZWFuVXAiLCJzY3JpcHRFbGVtZW50IiwiZ2V0Qm9keSIsImNhbmNlbCIsImlkIiwic2ltdWxhdGUiLCJldmVudEluc3RhbmNlIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwiYXJpYVN0YXRlIiwiYXJpYUVsZW1lbnQiLCJfY3JlYXRlQXJpYUVsZW1lbnQiLCJ1aVRhc2tzVGltZW91dCIsImhhbmRsZVVJIiwiYWxsb3dFc2MiLCJoYW5kbGVBcmlhIiwiaW5uZXJIVE1MIiwiaGFuZGxlTW91c2VMZWF2ZSIsImFlVUlOb2RlcyIsImZvdW5kIiwicmVsYXRlZFRhcmdldCIsImZvY3VzSGFuZGxlciIsImF0dGFjaExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJzdGF0dXNFbGVtZW50IiwiX19jb25maWdfXyIsIl9fQVRUUlNfXyIsImN1cnJlbnRBdHRyIiwiX2lzSW5pdGlhbGl6ZWQiLCJfaW5pdCIsImN1clZhbHVlIiwiX2NhbGxTdHJpbmdPckZ1bmN0aW9uIiwic2V0Iiwic3RyaW5nT3JGdW5jdGlvbiIsImhhc0RlZmF1bHRWYWx1ZSIsImhhc1Bhc3NlZFZhbHVlVmlhQ29uZmlnIiwidmFsdWVGbiIsIkJhc2UiLCJfY2FsbENoYWluIiwid2F0IiwiYXJyIiwiY3RvciIsInJldmVyc2UiLCJpc0Zpbml0ZSIsInZhbHVlVHlwZSIsInJlY2VpdmVyIiwic3VwcGxpZXIiLCJwYXJzZUludCIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInN1cHBsaWVyUHJvdG8iLCJyZWNlaXZlclByb3RvIiwiaXNJRSIsIl9vbkRyYWdFbnRlciIsIl9vbkRyYWdPdmVyIiwiX29uRHJhZ0Ryb3AiLCJfb25QYXN0ZSIsIl9oYW5kbGVGaWxlcyIsIl9wcm9jZXNzRmlsZSIsImNsaWVudFgiLCJjbGllbnRZIiwiZGF0YVRyYW5zZmVyIiwiX3ByZXZlbnRFdmVudCIsImNsaXBib2FyZERhdGEiLCJwYXN0ZWREYXRhIiwiaW1hZ2VGaWxlIiwiZ2V0QXNGaWxlIiwiYmluIiwidXNlckFnZW50IiwiS0VZX0JBQ0siLCJLRVlfQ09NTUEiLCJLRVlfU0VNSUNPTE9OIiwiS0VZX1NQQUNFIiwiREVMSU1JVEVSUyIsIlJFR0VYX0xBU1RfV09SRCIsIlJFR0VYX1VSTCIsIl9vbktleVVwIiwiX2dldExhc3RXb3JkIiwicHJldmlvdXNUZXh0IiwiX2N1cnJlbnRLZXlDb2RlIiwicHJldmlvdXNOb2RlIiwiZ2V0UHJldmlvdXMiLCJsYXN0Q2hpbGQiLCJnZXRMYXN0IiwiX3N0YXJ0Q29udGFpbmVyIiwiX29mZnNldCIsInN1YnN0cmluZyIsImxhc3RXb3JkIiwicG9wIiwiX2lzVmFsaWRVUkwiLCJfb25LZXlEb3duIiwiX2NrTGluayIsIl9yZXBsYWNlQ29udGVudEJ5TGluayIsImNvbnRlbnQiLCJja0xpbmsiLCJsaW5rTm9kZSIsIl9zdWJzY3JpYmVUb0tleUV2ZW50IiwibmV4dEVkaXRhYmxlTm9kZSIsImdldE5leHROb2RlIiwiY2FyZXRPZmZzZXQiLCJnZXROZXh0IiwibmV3UmFuZ2UiLCJzZXRFbmRBZnRlciIsIkRFRkFVTFRfQ09ORklHIiwicmVnZXgiLCJfY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvIiwiaW5zZXJ0SHRtbCIsImJ1bGxldCIsIl9nZXRMaXN0Q29uZmlnIiwiY29uZmlnUmVnZXgiLCJhdXRvbGlzdCIsInRleHRDb250YWluZXIiLCJyZWdleExlbiIsImF1dG9saXN0Q2ZnIiwicmVnZXhJdGVtIiwiX2NyZWF0ZUxpc3QiLCJsaXN0Q29uZmlnIiwic2V0VGV4dCIsIklNQUdFX0hBTkRMRVMiLCJib3RoIiwic2NhbGUiLCJQT1NJVElPTl9FTEVNRU5UX0ZOIiwiYmwiLCJoYW5kbGUiLCJib3giLCJwb3NpdGlvbkVsZW1lbnQiLCJibSIsInJvdW5kIiwiYnIiLCJsbSIsInRsIiwidG0iLCJ0ciIsInJtIiwiSU1BR0VfU05BUF9UT19TSVpFIiwiaXNGaXJlZm94IiwiZG9jdW1lbnRFbGVtZW50IiwiaXNXZWJLaXQiLCJlbmFibGVQbHVnaW4iLCJhZGRDc3MiLCJvbkxvYWQiLCJldnQiLCJzbmFwVG9TaXplIiwiaW1hZ2VTY2FsZVJlc2l6ZSIsInJlc2l6ZXIiLCJSZXNpemVyIiwibW91c2VEb3duTGlzdGVuZXIiLCJlIiwiaXNIYW5kbGUiLCJpbml0RHJhZyIsImhpZGUiLCJodG1sIiwiZGF0YVZhbHVlIiwic2VsZiIsInJlc2l6ZUVsZW1lbnQiLCJyZXNpemVUaW1lb3V0IiwiY29udGFpbmVyIiwicHJldmlldyIsImhhbmRsZXMiLCJoYW5kbGVOYW1lIiwiY3JlYXRlSGFuZGxlIiwibiIsImNsYXNzTGlzdCIsIm90aGVySW1hZ2VzIiwidG9BcnJheSIsInNwbGljZSIsImdldEJvdW5kaW5nQm94Iiwic2hvd0hhbmRsZXMiLCJlbGVtZW50cyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJoaWRlSGFuZGxlcyIsImRyYWciLCJEcmFnRXZlbnQiLCJvblN0YXJ0Iiwic2hvd1ByZXZpZXciLCJpc0RyYWdnaW5nIiwib25EcmFnIiwiY2FsY3VsYXRlU2l6ZSIsInVwZGF0ZVByZXZpZXciLCJwcmV2aWV3Qm94IiwidXBkYXRlSGFuZGxlcyIsIm9uUmVsZWFzZSIsImhpZGVQcmV2aWV3Iiwib25Db21wbGV0ZSIsInJlc2l6ZUNvbXBsZXRlIiwiYmFja2dyb3VuZEltYWdlIiwiZGVsdGEiLCJyYXRpbyIsIm90aGVycyIsIm90aGVyIiwiZXZlbnRzIiwibW91c2Vtb3ZlIiwia2V5ZG93biIsIm1vdXNldXAiLCJzdGFydFBvcyIsImN1cnJlbnRQb3MiLCJzaGlmdEtleSIsImN0cmwiLCJhbHQiLCJ3aGljaCIsInJlbGVhc2UiLCJjdHgiLCJTdHJpbmciLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsImFsaWdubWVudHNPYmoiLCJjZW50ZXIiLCJjdXJzb3IiLCJyZWdleFBlcmNlbnQiLCJoaWRwaSIsImljb25zIiwid2lkZ2V0RGVmIiwid2lkZ2V0cyIsImluaXRPbiIsImFsaWduQ2xhc3NlcyIsImltYWdlMl9hbGlnbkNsYXNzZXMiLCJjYXB0aW9uZWRDbGFzcyIsImltYWdlMl9jYXB0aW9uZWRDbGFzcyIsImhlbHBlcnMiLCJpbWFnZTIiLCJoYXNDYXB0aW9uIiwiY2FwdGlvbiIsInJlYWR5IiwiY2hlY2tIYXNOYXR1cmFsUmF0aW8iLCJ3cmFwcGVyIiwiYWxpZ24iLCJhbGlnbkVsZW1lbnQiLCJzZXREYXRhIiwiaW1hZ2UyX2Rpc2FibGVSZXNpemVyIiwic2V0dXBSZXNpemVyIiwiZ2V0U3R5bGVhYmxlRWxlbWVudCIsImdldFdpZGdldEFsbG93ZWRDb250ZW50IiwiY29udGVudFRyYW5zZm9ybWF0aW9ucyIsImZlYXR1cmVzIiwiY2hlY2tGZWF0dXJlIiwiY29udGVudGVkaXRhYmxlIiwib2xkRGF0YSIsImMiLCJjbGFzc2VzIiwiZGltZW5zaW9uIiwic2V0RGltZW5zaW9ucyIsImRvd25jYXN0IiwiZG93bmNhc3RXaWRnZXRFbGVtZW50IiwiZHJhZ2dhYmxlIiwiZWRpdGFibGVzIiwic2VsZWN0b3IiLCJnZXRXaWRnZXRGZWF0dXJlcyIsImdldENsYXNzZXMiLCJjbGFzc1JlZ2V4IiwiUmVnRXhwIiwicmVwb3NpdG9yeSIsInBhcnNlRWxlbWVudENsYXNzZXMiLCJnZXRMYWJlbCIsInBhdGhOYW1lIiwicmVxdWlyZWRDb250ZW50Iiwic3R5bGVhYmxlRWxlbWVudHMiLCJ1cGNhc3QiLCJ1cGNhc3RXaWRnZXRFbGVtZW50IiwibmF0dXJhbCIsImdldE5hdHVyYWwiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImRpbWVuc2lvbnMiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2giLCJpbWciLCJJbWFnZSIsImhlaWdoIiwiaXNDZW50ZXJXcmFwcGVyIiwiY2VudGVyV3JhcHBlckNoZWNrZXIiLCJmaWd1cmUiLCJyZXBsYWNlV2l0aCIsImlzTGlua2VkT3JTdGFuZGFsb25lSW1hZ2UiLCJkIiwiYXR0cnNIb2xkZXIiLCJyZXNpemVXcmFwcGVyIiwicGFyc2VDc3NUZXh0Iiwid3JhcFdpdGgiLCJodG1sUGFyc2VyIiwiaXNFbXB0eSIsIndyaXRlQ3NzVGV4dCIsInZhbGlkQ2hpbGRyZW4iLCJkaXYiLCJwIiwiY2hpbGQiLCJlbnRlck1vZGUiLCJFTlRFUl9QIiwid2lkZ2V0IiwiZG9jIiwiaW1hZ2VPckxpbmsiLCJvbGRSZXNpemVXcmFwcGVyIiwiZmFjdG9yIiwic2NyZWVuWCIsInNjcmVlblkiLCJzdGFydFdpZHRoIiwic3RhcnRIZWlnaHQiLCJsaXN0ZW5lcnMiLCJjdXJzb3JDbGFzcyIsIm5hdGl2ZUV2dCIsIm5ld1dpZHRoIiwibmV3SGVpZ2h0IiwidXBkYXRlRGF0YSIsIm1vdmVEaWZmWCIsIm1vdmVEaWZmWSIsIm1vdmVSYXRpbyIsImF0dGFjaFRvRG9jdW1lbnRzIiwib25Nb3VzZU1vdmUiLCJvbk1vdXNlVXAiLCJjb2xsZWN0aW9uIiwiZ2xvYmFsRG9jIiwibCIsInJ1bGVzIiwiZmlnY2FwdGlvbiIsIlJFR0VYX0hUVFAiLCJSRUdFWF9ERUZBVUxUX0xJTksiLCJQUk9WSURFUlMiLCJERUZBVUxUX0FFX0VNQkVEX1VSTF9UUEwiLCJERUZBVUxUX0FFX0VNQkVEX1dJREdFVF9UUEwiLCJERUZBVUxUX0FFX0VNQkVEX0RFRkFVTFRfTElOS19UUEwiLCJBRV9FTUJFRF9VUkxfVFBMIiwiZW1iZWRVcmxUZW1wbGF0ZSIsIkFFX0VNQkVEX1dJREdFVF9UUEwiLCJlbWJlZFdpZGdldFRwbCIsIkFFX0VNQkVEX0RFRkFVTFRfTElOS19UUEwiLCJlbWJlZExpbmtEZWZhdWx0VHBsIiwiZGVmYXVsdEVtYmVkV2lkZ2V0VXBjYXN0Rm4iLCJtYXNrIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiY3JlYXRlQVRhZyIsInNldEh0bWwiLCJtc2ciLCJhVGFnSHRtbCIsImVtYmVkV2lkZ2V0VXBjYXN0Rm4iLCJ3aWRnZXRFbGVtZW50Iiwic2Nyb2xsUG9zaXRpb24iLCJhZGRFbGVtZW50Q2FsbGJhY2siLCJGSUxURVJfU0tJUF9UUkVFIiwiSU1BR0VfQUxJR05NRU5UIiwiQ0VOVEVSIiwiTEVGVCIsIlJJR0hUIiwiQUxJR05fVkFMVUVTIiwiQ0VOVEVSRURfSU1BR0VfU1RZTEUiLCJnZXRJbWFnZUFsaWdubWVudCIsImltYWdlQWxpZ25tZW50IiwiY2VudGVyZWRJbWFnZSIsImV2ZXJ5Iiwic3R5bGVDaGVjayIsInZlbmRvclByZWZpeGVzIiwidmVuZG9yUHJlZml4IiwicmVtb3ZlSW1hZ2VBbGlnbm1lbnQiLCJzZXRJbWFnZUFsaWdubWVudCIsInNldFN0eWxlIiwiYWZ0ZXJJbml0IiwicmVmcmVzaENvbW1hbmRzIiwiVFJJU1RBVEVfT0ZGIiwicmVmcmVzaCIsImFkZGltYWdlcyIsImF1dG9saW5rIiwiZHJhZ3Jlc2l6ZSIsImRyYWdyZXNpemVpZSIsImltYWdlYWxpZ25tZW50IiwicGFzdGVpbWFnZXMiLCJzZWxlY3Rpb25rZXlzdHJva2VzIiwidGFibGVyZXNpemUiLCJ0YWJsZXRvb2xzIiwiYnJGaWxsZXIiLCJuZWVkc0JyRmlsbGVyIiwiZW50ZXJNb2RlRW1wdHlWYWx1ZSIsIl9jaGVja0VtcHR5RGF0YSIsIl9yZW1vdmVQbGFjZWhvbGRlckNsYXNzIiwiZWRpdGFibGVOb2RlIiwiaW5uZXJIdG1sIiwidHJpbSIsImVkaXRvck5vZGUiLCJzZWxlY3Rpb25LZXlzdHJva2UiLCJweFVuaXQiLCJjc3NMZW5ndGgiLCJnZXRXaWR0aCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRCb3JkZXJXaWR0aCIsInNpZGUiLCJjb21wdXRlZCIsImJvcmRlck1hcCIsInRoaW4iLCJtZWRpdW0iLCJ0aGljayIsImdldE1hc3RlclBpbGxhclJvdyIsIiRyb3dzIiwibWF4Q2VsbHMiLCJjZWxsc0NvdW50IiwiJGVsZWN0ZWQiLCIkdHIiLCJidWlsZFRhYmxlQ29sdW1uUGlsbGFycyIsInBpbGxhcnMiLCJwaWxsYXJJbmRleCIsInJ0bCIsInRCb2RpZXMiLCJ0Ym9keVBvc2l0aW9uIiwiZ2V0RG9jdW1lbnRQb3NpdGlvbiIsInRkIiwibmV4dFRkIiwiY29sU3BhbiIsInBpbGxhckxlZnQiLCJwaWxsYXJSaWdodCIsInBpbGxhcldpZHRoIiwiZ2V0UGlsbGFyQXRQb3NpdGlvbiIsInBvc2l0aW9uWCIsInBpbGxhciIsImNvbHVtblJlc2l6ZXIiLCJpc1Jlc2l6aW5nIiwiY3VycmVudFNoaWZ0IiwibGVmdFNpZGVDZWxscyIsInJpZ2h0U2lkZUNlbGxzIiwibGVmdFNoaWZ0Qm91bmRhcnkiLCJyaWdodFNoaWZ0Qm91bmRhcnkiLCJvbk1vdXNlRG93biIsInJlc2l6ZVN0YXJ0IiwiY29sdW1uSW5kZXgiLCJidWlsZFRhYmxlTWFwIiwibGVmdENvbHVtbkNlbGxzIiwicmlnaHRDb2x1bW5DZWxscyIsImxlZnRNaW5TaXplIiwiTnVtYmVyIiwiTUFYX1ZBTFVFIiwicmlnaHRNaW5TaXplIiwibGVmdENlbGwiLCJyaWdodENlbGwiLCJzZXRPcGFjaXR5IiwicmVzaXplRW5kIiwicmVzaXplQ29sdW1uIiwicmVtb3ZlQ3VzdG9tRGF0YSIsImxlZnRPbGRXaWR0aCIsInJpZ2h0T2xkV2lkdGgiLCJ0YWJsZVdpZHRoIiwic2l6ZVNoaWZ0IiwibW92ZSIsImdldFBhZ2VPZmZzZXQiLCJnZXREb2N1bWVudEVsZW1lbnQiLCJhdHRhY2hUbyIsInRhcmdldFBpbGxhciIsInBvc1giLCJyZXNpemVyTmV3UG9zaXRpb24iLCJjbGVhclBpbGxhcnNDYWNoZSIsImRlc3QiLCJ0b0VsZW1lbnQiLCJpc0lubGluZSIsImdldEN1c3RvbURhdGEiLCJzZXRDdXN0b21EYXRhIiwiY2VsbE5vZGVSZWdleCIsImdldFNlbGVjdGVkQ2VsbHMiLCJyZXR2YWwiLCJkYXRhYmFzZSIsIm1vdmVPdXRPZkNlbGxHdWFyZCIsInNldE1hcmtlciIsIm5lYXJlc3RDZWxsIiwid2Fsa2VyIiwiZ3VhcmQiLCJkdGQiLCJjbGVhckFsbE1hcmtlcnMiLCJnZXRGb2N1c0VsZW1lbnRBZnRlckRlbENlbGxzIiwiY2VsbHNUb0RlbGV0ZSIsImxhc3QiLCJmb2N1c2VkQ2VsbCIsImluc2VydFJvdyIsImdldERvY3VtZW50Iiwic3RhcnRSb3ciLCJzdGFydFJvd0luZGV4Iiwicm93SW5kZXgiLCJsYXN0Q2VsbCIsImVuZFJvd0luZGV4Iiwicm93U3BhbiIsImVuZFJvdyIsImNsb25lUm93IiwibmV4dFJvdyIsIm5ld1JvdyIsImNsb25lIiwiaW5zZXJ0QWZ0ZXIiLCJkZWxldGVSb3dzIiwic2VsZWN0aW9uT3JSb3ciLCJyb3dzVG9EZWxldGUiLCJtYXBSb3ciLCJjZWxsUm93SW5kZXgiLCJuZXh0TWFwUm93IiwiY3Vyc29yUG9zaXRpb24iLCJnZXRDZWxsQ29sSW5kZXgiLCJpc1N0YXJ0Iiwicm93Q2VsbHMiLCJjb2xJbmRleCIsIm1hcENlbGwiLCJnZXRDb2x1bW5zSW5kaWNlcyIsImluc2VydENvbHVtbiIsInN0YXJ0Q29sIiwibGFzdENvbCIsImNsb25lQ29sIiwibmV4dENvbCIsIm5leHRDZWxsIiwiZGVsZXRlQ29sdW1ucyIsInNlbGVjdGlvbk9yQ2VsbCIsInN0YXJ0Q29sSW5kZXgiLCJlbmRDb2xJbmRleCIsImZpcnN0Um93Q2VsbHMiLCJpbnNlcnRDZWxsIiwic3RhcnRFbGVtZW50IiwiZGVsZXRlQ2VsbHMiLCJjZWxsVG9Gb2N1cyIsInBsYWNlQ3Vyc29ySW5DZWxsIiwidHJpbUNlbGwiLCJib2d1cyIsImdldEJvZ3VzIiwicGxhY2VBdEVuZCIsImRvY0lubmVyIiwiZG9jT3V0ZXIiLCJ2ZXJzaW9uIiwiY29sbGFwc2UiLCJjZWxsSW5Sb3ciLCJ0YWJsZU1hcCIsIm9Sb3ciLCJjZWxsSW5Db2wiLCJvQ29sIiwiciIsIm1lcmdlQ2VsbHMiLCJtZXJnZURpcmVjdGlvbiIsImlzRGV0ZWN0IiwiY29tbW9uQW5jZXN0b3IiLCJtYXBIZWlnaHQiLCJtYXBXaWR0aCIsInN0YXJ0Q29sdW1uIiwidGFyZ2V0Q2VsbCIsInJvd3NwYW4iLCJjb2xzcGFuIiwiZXIiLCJsYXN0Um93SW5kZXgiLCJ0b3RhbFJvd1NwYW4iLCJ0b3RhbENvbFNwYW4iLCJmcmFnIiwiZG9jdW1lbnRGcmFnbWVudCIsImNlbGxGaXJzdENoaWxkIiwiZ2V0Q2hpbGRyZW4iLCJjb3VudCIsImlzQmxvY2tCb3VuZGFyeSIsIndoaXRlc3BhY2VzIiwibW92ZUNoaWxkcmVuIiwidHJzIiwibm9kZUxpc3QiLCJ0YWlsVHIiLCJ2ZXJ0aWNhbFNwbGl0Q2VsbCIsIm5ld1Jvd1NwYW4iLCJuZXdDZWxsUm93U3BhbiIsIm5ld1Jvd0luZGV4IiwiY2VpbCIsIm5ld0NlbGxUciIsIm5ld0NlbGxSb3ciLCJjYW5kaWRhdGVDZWxsIiwiY2VsbHNJblNhbWVSb3ciLCJob3Jpem9udGFsU3BsaXRDZWxsIiwibmV3Q29sU3BhbiIsIm5ld0NlbGxDb2xTcGFuIiwiY2VsbHNJblNhbWVDb2wiLCJjcmVhdGVEZWYiLCJkZWYiLCJjb250ZXh0U2Vuc2l0aXZlIiwidGgiLCJUUklTVEFURV9ESVNBQkxFRCIsImFkZENtZCIsImNtZCIsImFkZEZlYXR1cmUiLCJhUm93cyIsImFNYXAiLCJvQ2VsbCIsImlDb2xTcGFuIiwiaVJvd1NwYW4iLCJycyIsImNzIiwidGFibGVTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMiLCJERUZBVUxUX0dVVFRFUiIsImNlbnRlclRvb2xiYXIiLCJ0b29sYmFyTm9kZSIsImhhbGZOb2RlV2lkdGgiLCJ3aWRnZXRYWSIsImltYWdlU2VsZWN0aW9uU2V0UG9zaXRpb24iLCJ0YWJsZVNlbGVjdGlvblNldFBvc2l0aW9uIiwiX2lzUmFuZ2VBdEVsZW1lbnRFbmQiLCJlbWJlZFNlbGVjdGlvblRlc3QiLCJsaW5rU2VsZWN0aW9uVGVzdCIsImltYWdlU2VsZWN0aW9uVGVzdCIsInRleHRTZWxlY3Rpb25UZXN0Iiwic2VsZWN0aW9uRW1wdHkiLCJ0YWJsZVNlbGVjdGlvblRlc3QiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNB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QUNBOzs7Ozs7QUFFQSxJQUFNRixhQUFhLENBQUM7QUFDaEJxQixVQUFNLE9BRFU7QUFFaEI3RSxhQUFTLENBQUMsYUFBRCxFQUFnQixXQUFoQixDQUZPO0FBR2hCd0MsVUFBTSx3QkFBY3lSO0FBSEosQ0FBRCxFQUloQjtBQUNDcFAsVUFBTSxNQURQO0FBRUM3RSxhQUFTLENBQUMsVUFBRCxDQUZWO0FBR0N3QyxVQUFNLHdCQUFjaEY7QUFIckIsQ0FKZ0IsRUFRaEI7QUFDQ3FILFVBQU0sT0FEUDtBQUVDN0UsYUFBUyxDQUFDLFdBQUQsRUFBYyxhQUFkLEVBQTZCLFlBQTdCLENBRlY7QUFHQ2dvQixpQkFBYSw0QkFBcUJyUixLQUhuQztBQUlDblUsVUFBTSx3QkFBY21VO0FBSnJCLENBUmdCLEVBYWhCO0FBQ0M5UixVQUFNLE1BRFA7QUFFQzdFLGFBQVMsQ0FBQyxRQUFELEVBQVcsTUFBWCxFQUFtQixRQUFuQixFQUE2QixXQUE3QixFQUEwQyxNQUExQyxFQUFrRCxTQUFsRCxDQUZWO0FBR0N3QyxVQUFNLHdCQUFjaW9CO0FBSHJCLENBYmdCLEVBaUJoQjtBQUNDNWxCLFVBQU0sT0FEUDtBQUVDN0UsYUFBUyxDQUFDLGNBQUQsRUFBaUIsVUFBakIsRUFBNkIsYUFBN0IsRUFBNEMsV0FBNUMsRUFBeUQsYUFBekQsQ0FGVjtBQUdDMm1CLHdCQUFvQiw0QkFBNEJwRSxLQUhqRDtBQUlDeUYsaUJBQWEsNEJBQXFCekYsS0FKbkM7QUFLQy9mLFVBQU0sd0JBQWMrZjtBQUxyQixDQWpCZ0IsQ0FBbkI7O2tCQXlCZS9lLFU7Ozs7Ozs7Ozs7O0FDN0JmLG1EOzs7Ozs7Ozs7OztBQ0FBLHVEIiwiZmlsZSI6ImFsbG95LWVkaXRvci1uby1yZWFjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZShcInJlYWN0XCIpLCByZXF1aXJlKFwicmVhY3QtZG9tXCIpKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtcInJlYWN0XCIsIFwicmVhY3QtZG9tXCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIkFsbG95RWRpdG9yXCJdID0gZmFjdG9yeShyZXF1aXJlKFwicmVhY3RcIiksIHJlcXVpcmUoXCJyZWFjdC1kb21cIikpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIkFsbG95RWRpdG9yXCJdID0gZmFjdG9yeShyb290W1wiUmVhY3RcIl0sIHJvb3RbXCJSZWFjdERPTVwiXSk7XG59KSh3aW5kb3csIGZ1bmN0aW9uKF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfXywgX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9yZWFjdF9kb21fXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NjcmlwdHMvYnVpbGQvaW5kZXguanNcIik7XG4iLCLvu78vKlxuQ29weXJpZ2h0IChjKSAyMDAzLTIwMTcsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG5Gb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2VcbiovXG4oZnVuY3Rpb24oKXtpZih3aW5kb3cuQ0tFRElUT1ImJndpbmRvdy5DS0VESVRPUi5kb20pcmV0dXJuO3dpbmRvdy5DS0VESVRPUnx8KHdpbmRvdy5DS0VESVRPUj1mdW5jdGlvbigpe3ZhciBhPS8oXnwuKltcXFxcXFwvXSlja2VkaXRvclxcLmpzKD86XFw/Lip8Oy4qKT8kL2ksZD17dGltZXN0YW1wOlwiSDhEQVwiLHZlcnNpb246XCI0LjcuM1wiLHJldmlzaW9uOlwiZGVlOTllMlwiLHJuZDpNYXRoLmZsb29yKDkwMCpNYXRoLnJhbmRvbSgpKSsxMDAsXzp7cGVuZGluZzpbXSxiYXNlUGF0aFNyY1BhdHRlcm46YX0sc3RhdHVzOlwidW5sb2FkZWRcIixiYXNlUGF0aDpmdW5jdGlvbigpe3ZhciBiPXdpbmRvdy5DS0VESVRPUl9CQVNFUEFUSHx8XCJcIjtpZighYilmb3IodmFyIGM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgaz1jW2RdLnNyYy5tYXRjaChhKTtpZihrKXtiPWtbMV07YnJlYWt9fS0xPT1iLmluZGV4T2YoXCI6L1wiKSYmXCIvL1wiIT1iLnNsaWNlKDAsMikmJihiPTA9PT1iLmluZGV4T2YoXCIvXCIpP2xvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XFwvXFwvW15cXC9dKi8pWzBdK1xuYjpsb2NhdGlvbi5ocmVmLm1hdGNoKC9eW15cXD9dKlxcLyg/OikvKVswXStiKTtpZighYil0aHJvdydUaGUgQ0tFZGl0b3IgaW5zdGFsbGF0aW9uIHBhdGggY291bGQgbm90IGJlIGF1dG9tYXRpY2FsbHkgZGV0ZWN0ZWQuIFBsZWFzZSBzZXQgdGhlIGdsb2JhbCB2YXJpYWJsZSBcIkNLRURJVE9SX0JBU0VQQVRIXCIgYmVmb3JlIGNyZWF0aW5nIGVkaXRvciBpbnN0YW5jZXMuJztyZXR1cm4gYn0oKSxnZXRVcmw6ZnVuY3Rpb24oYSl7LTE9PWEuaW5kZXhPZihcIjovXCIpJiYwIT09YS5pbmRleE9mKFwiL1wiKSYmKGE9dGhpcy5iYXNlUGF0aCthKTt0aGlzLnRpbWVzdGFtcCYmXCIvXCIhPWEuY2hhckF0KGEubGVuZ3RoLTEpJiYhL1smP110PS8udGVzdChhKSYmKGErPSgwPD1hLmluZGV4T2YoXCI/XCIpP1wiXFx4MjZcIjpcIj9cIikrXCJ0XFx4M2RcIit0aGlzLnRpbWVzdGFtcCk7cmV0dXJuIGF9LGRvbVJlYWR5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFxuYSwhMSksYigpKTpkb2N1bWVudC5hdHRhY2hFdmVudCYmXCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmKGRvY3VtZW50LmRldGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsYSksYigpKX1jYXRjaChjKXt9fWZ1bmN0aW9uIGIoKXtmb3IodmFyIGE7YT1jLnNoaWZ0KCk7KWEoKX12YXIgYz1bXTtyZXR1cm4gZnVuY3Rpb24oYil7ZnVuY3Rpb24gbigpe3RyeXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoXCJsZWZ0XCIpfWNhdGNoKGYpe3NldFRpbWVvdXQobiwxKTtyZXR1cm59YSgpfWMucHVzaChiKTtcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiZzZXRUaW1lb3V0KGEsMSk7aWYoMT09Yy5sZW5ndGgpaWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcilkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGEsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGEsITEpO2Vsc2UgaWYoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe2RvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsXG5hKTt3aW5kb3cuYXR0YWNoRXZlbnQoXCJvbmxvYWRcIixhKTtiPSExO3RyeXtiPSF3aW5kb3cuZnJhbWVFbGVtZW50fWNhdGNoKHEpe31kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmImJm4oKX19fSgpfSxiPXdpbmRvdy5DS0VESVRPUl9HRVRVUkw7aWYoYil7dmFyIGM9ZC5nZXRVcmw7ZC5nZXRVcmw9ZnVuY3Rpb24oYSl7cmV0dXJuIGIuY2FsbChkLGEpfHxjLmNhbGwoZCxhKX19cmV0dXJuIGR9KCkpO1xuQ0tFRElUT1IuZXZlbnR8fChDS0VESVRPUi5ldmVudD1mdW5jdGlvbigpe30sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T249ZnVuY3Rpb24oYSl7dmFyIGQ9Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLGI7Zm9yKGIgaW4gZCludWxsPT1hW2JdJiYoYVtiXT1kW2JdKX0sQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgZT1kKHRoaXMpO3JldHVybiBlW2FdfHwoZVthXT1uZXcgYihhKSl9dmFyIGQ9ZnVuY3Rpb24oYSl7YT1hLmdldFByaXZhdGUmJmEuZ2V0UHJpdmF0ZSgpfHxhLl98fChhLl89e30pO3JldHVybiBhLmV2ZW50c3x8KGEuZXZlbnRzPXt9KX0sYj1mdW5jdGlvbihhKXt0aGlzLm5hbWU9YTt0aGlzLmxpc3RlbmVycz1bXX07Yi5wcm90b3R5cGU9e2dldExpc3RlbmVySW5kZXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZD10aGlzLmxpc3RlbmVycztiPGQubGVuZ3RoO2IrKylpZihkW2JdLmZuPT1hKXJldHVybiBiO3JldHVybi0xfX07XG5yZXR1cm57ZGVmaW5lOmZ1bmN0aW9uKGIsZCl7dmFyIGc9YS5jYWxsKHRoaXMsYik7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGcsZCwhMCl9LG9uOmZ1bmN0aW9uKGIsZCxnLGgsayl7ZnVuY3Rpb24gbihhLGYsRCxrKXthPXtuYW1lOmIsc2VuZGVyOnRoaXMsZWRpdG9yOmEsZGF0YTpmLGxpc3RlbmVyRGF0YTpoLHN0b3A6RCxjYW5jZWw6ayxyZW1vdmVMaXN0ZW5lcjpxfTtyZXR1cm4hMT09PWQuY2FsbChnLGEpPyExOmEuZGF0YX1mdW5jdGlvbiBxKCl7RC5yZW1vdmVMaXN0ZW5lcihiLGQpfXZhciBmPWEuY2FsbCh0aGlzLGIpO2lmKDA+Zi5nZXRMaXN0ZW5lckluZGV4KGQpKXtmPWYubGlzdGVuZXJzO2d8fChnPXRoaXMpO2lzTmFOKGspJiYoaz0xMCk7dmFyIEQ9dGhpcztuLmZuPWQ7bi5wcmlvcml0eT1rO2Zvcih2YXIgdz1mLmxlbmd0aC0xOzA8PXc7dy0tKWlmKGZbd10ucHJpb3JpdHk8PWspcmV0dXJuIGYuc3BsaWNlKHcrMSwwLG4pLHtyZW1vdmVMaXN0ZW5lcjpxfTtmLnVuc2hpZnQobil9cmV0dXJue3JlbW92ZUxpc3RlbmVyOnF9fSxcbm9uY2U6ZnVuY3Rpb24oKXt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGI9YVsxXTthWzFdPWZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0aGlzLm9uLmFwcGx5KHRoaXMsYSl9LGNhcHR1cmU6ZnVuY3Rpb24oKXtDS0VESVRPUi5ldmVudC51c2VDYXB0dXJlPTE7dmFyIGE9dGhpcy5vbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wO3JldHVybiBhfSxmaXJlOmZ1bmN0aW9uKCl7dmFyIGE9MCxiPWZ1bmN0aW9uKCl7YT0xfSxnPTAsaD1mdW5jdGlvbigpe2c9MX07cmV0dXJuIGZ1bmN0aW9uKGssbixxKXt2YXIgZj1kKHRoaXMpW2tdO2s9YTt2YXIgRD1nO2E9Zz0wO2lmKGYpe3ZhciB3PWYubGlzdGVuZXJzO2lmKHcubGVuZ3RoKWZvcih2YXIgdz13LnNsaWNlKDApLEEsRz0wO0c8dy5sZW5ndGg7RysrKXtpZihmLmVycm9yUHJvb2YpdHJ5e0E9XG53W0ddLmNhbGwodGhpcyxxLG4sYixoKX1jYXRjaCh4KXt9ZWxzZSBBPXdbR10uY2FsbCh0aGlzLHEsbixiLGgpOyExPT09QT9nPTE6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEEmJihuPUEpO2lmKGF8fGcpYnJlYWt9fW49Zz8hMTpcInVuZGVmaW5lZFwiPT10eXBlb2Ygbj8hMDpuO2E9aztnPUQ7cmV0dXJuIG59fSgpLGZpcmVPbmNlOmZ1bmN0aW9uKGEsYixnKXtiPXRoaXMuZmlyZShhLGIsZyk7ZGVsZXRlIGQodGhpcylbYV07cmV0dXJuIGJ9LHJlbW92ZUxpc3RlbmVyOmZ1bmN0aW9uKGEsYil7dmFyIGc9ZCh0aGlzKVthXTtpZihnKXt2YXIgaD1nLmdldExpc3RlbmVySW5kZXgoYik7MDw9aCYmZy5saXN0ZW5lcnMuc3BsaWNlKGgsMSl9fSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1kKHRoaXMpLGI7Zm9yKGIgaW4gYSlkZWxldGUgYVtiXX0saGFzTGlzdGVuZXJzOmZ1bmN0aW9uKGEpe3JldHVybihhPWQodGhpcylbYV0pJiYwPGEubGlzdGVuZXJzLmxlbmd0aH19fSgpKTtcbkNLRURJVE9SLmVkaXRvcnx8KENLRURJVE9SLmVkaXRvcj1mdW5jdGlvbigpe0NLRURJVE9SLl8ucGVuZGluZy5wdXNoKFt0aGlzLGFyZ3VtZW50c10pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9LENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZmlyZT1mdW5jdGlvbihhLGQpe2EgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYV09ITApO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUuZmlyZS5jYWxsKHRoaXMsYSxkLHRoaXMpfSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZpcmVPbmNlPWZ1bmN0aW9uKGEsZCl7YSBpbntpbnN0YW5jZVJlYWR5OjEsbG9hZGVkOjF9JiYodGhpc1thXT0hMCk7cmV0dXJuIENLRURJVE9SLmV2ZW50LnByb3RvdHlwZS5maXJlT25jZS5jYWxsKHRoaXMsYSxkLHRoaXMpfSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlKSk7XG5DS0VESVRPUi5lbnZ8fChDS0VESVRPUi5lbnY9ZnVuY3Rpb24oKXt2YXIgYT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksZD1hLm1hdGNoKC9lZGdlWyBcXC9dKFxcZCsuP1xcZCopLyksYj0tMTxhLmluZGV4T2YoXCJ0cmlkZW50L1wiKSxiPSEoIWQmJiFiKSxiPXtpZTpiLGVkZ2U6ISFkLHdlYmtpdDohYiYmLTE8YS5pbmRleE9mKFwiIGFwcGxld2Via2l0L1wiKSxhaXI6LTE8YS5pbmRleE9mKFwiIGFkb2JlYWlyL1wiKSxtYWM6LTE8YS5pbmRleE9mKFwibWFjaW50b3NoXCIpLHF1aXJrczpcIkJhY2tDb21wYXRcIj09ZG9jdW1lbnQuY29tcGF0TW9kZSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDEwPmRvY3VtZW50LmRvY3VtZW50TW9kZSksbW9iaWxlOi0xPGEuaW5kZXhPZihcIm1vYmlsZVwiKSxpT1M6LyhpcGFkfGlwaG9uZXxpcG9kKS8udGVzdChhKSxpc0N1c3RvbURvbWFpbjpmdW5jdGlvbigpe2lmKCF0aGlzLmllKXJldHVybiExO3ZhciBhPWRvY3VtZW50LmRvbWFpbixiPXdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZTtcbnJldHVybiBhIT1iJiZhIT1cIltcIitiK1wiXVwifSxzZWN1cmU6XCJodHRwczpcIj09bG9jYXRpb24ucHJvdG9jb2x9O2IuZ2Vja289XCJHZWNrb1wiPT1uYXZpZ2F0b3IucHJvZHVjdCYmIWIud2Via2l0JiYhYi5pZTtiLndlYmtpdCYmKC0xPGEuaW5kZXhPZihcImNocm9tZVwiKT9iLmNocm9tZT0hMDpiLnNhZmFyaT0hMCk7dmFyIGM9MDtiLmllJiYoYz1kP3BhcnNlRmxvYXQoZFsxXSk6Yi5xdWlya3N8fCFkb2N1bWVudC5kb2N1bWVudE1vZGU/cGFyc2VGbG9hdChhLm1hdGNoKC9tc2llIChcXGQrKS8pWzFdKTpkb2N1bWVudC5kb2N1bWVudE1vZGUsYi5pZTlDb21wYXQ9OT09YyxiLmllOENvbXBhdD04PT1jLGIuaWU3Q29tcGF0PTc9PWMsYi5pZTZDb21wYXQ9Nz5jfHxiLnF1aXJrcyk7Yi5nZWNrbyYmKGQ9YS5tYXRjaCgvcnY6KFtcXGRcXC5dKykvKSkmJihkPWRbMV0uc3BsaXQoXCIuXCIpLGM9MUU0KmRbMF0rMTAwKihkWzFdfHwwKSsxKihkWzJdfHwwKSk7Yi5haXImJihjPXBhcnNlRmxvYXQoYS5tYXRjaCgvIGFkb2JlYWlyXFwvKFxcZCspLylbMV0pKTtcbmIud2Via2l0JiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhcHBsZXdlYmtpdFxcLyhcXGQrKS8pWzFdKSk7Yi52ZXJzaW9uPWM7Yi5pc0NvbXBhdGlibGU9IShiLmllJiY3PmMpJiYhKGIuZ2Vja28mJjRFND5jKSYmIShiLndlYmtpdCYmNTM0PmMpO2IuaGlkcGk9Mjw9d2luZG93LmRldmljZVBpeGVsUmF0aW87Yi5uZWVkc0JyRmlsbGVyPWIuZ2Vja298fGIud2Via2l0fHxiLmllJiYxMDxjO2IubmVlZHNOYnNwRmlsbGVyPWIuaWUmJjExPmM7Yi5jc3NDbGFzcz1cImNrZV9icm93c2VyX1wiKyhiLmllP1wiaWVcIjpiLmdlY2tvP1wiZ2Vja29cIjpiLndlYmtpdD9cIndlYmtpdFwiOlwidW5rbm93blwiKTtiLnF1aXJrcyYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX3F1aXJrc1wiKTtiLmllJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfaWVcIisoYi5xdWlya3M/XCI2IGNrZV9icm93c2VyX2llcXVpcmtzXCI6Yi52ZXJzaW9uKSk7Yi5haXImJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9haXJcIik7XG5iLmlPUyYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2lvc1wiKTtiLmhpZHBpJiYoYi5jc3NDbGFzcys9XCIgY2tlX2hpZHBpXCIpO3JldHVybiBifSgpKTtcblwidW5sb2FkZWRcIj09Q0tFRElUT1Iuc3RhdHVzJiZmdW5jdGlvbigpe0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SKTtDS0VESVRPUi5sb2FkRnVsbENvcmU9ZnVuY3Rpb24oKXtpZihcImJhc2ljX3JlYWR5XCIhPUNLRURJVE9SLnN0YXR1cylDS0VESVRPUi5sb2FkRnVsbENvcmUuX2xvYWQ9MTtlbHNle2RlbGV0ZSBDS0VESVRPUi5sb2FkRnVsbENvcmU7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTthLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjthLnNyYz1DS0VESVRPUi5iYXNlUGF0aCtcImNrZWRpdG9yLmpzXCI7ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGEpfX07Q0tFRElUT1IubG9hZEZ1bGxDb3JlVGltZW91dD0wO0NLRURJVE9SLmFkZD1mdW5jdGlvbihhKXsodGhpcy5fLnBlbmRpbmd8fCh0aGlzLl8ucGVuZGluZz1bXSkpLnB1c2goYSl9OyhmdW5jdGlvbigpe0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7dmFyIGE9XG5DS0VESVRPUi5sb2FkRnVsbENvcmUsZD1DS0VESVRPUi5sb2FkRnVsbENvcmVUaW1lb3V0O2EmJihDS0VESVRPUi5zdGF0dXM9XCJiYXNpY19yZWFkeVwiLGEmJmEuX2xvYWQ/YSgpOmQmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtDS0VESVRPUi5sb2FkRnVsbENvcmUmJkNLRURJVE9SLmxvYWRGdWxsQ29yZSgpfSwxRTMqZCkpfSl9KSgpO0NLRURJVE9SLnN0YXR1cz1cImJhc2ljX2xvYWRlZFwifSgpO1widXNlIHN0cmljdFwiO0NLRURJVE9SLlZFUkJPU0lUWV9XQVJOPTE7Q0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SPTI7Q0tFRElUT1IudmVyYm9zaXR5PUNLRURJVE9SLlZFUkJPU0lUWV9XQVJOfENLRURJVE9SLlZFUkJPU0lUWV9FUlJPUjtDS0VESVRPUi53YXJuPWZ1bmN0aW9uKGEsZCl7Q0tFRElUT1IudmVyYm9zaXR5JkNLRURJVE9SLlZFUkJPU0lUWV9XQVJOJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJ3YXJuXCIsZXJyb3JDb2RlOmEsYWRkaXRpb25hbERhdGE6ZH0pfTtcbkNLRURJVE9SLmVycm9yPWZ1bmN0aW9uKGEsZCl7Q0tFRElUT1IudmVyYm9zaXR5JkNLRURJVE9SLlZFUkJPU0lUWV9FUlJPUiYmQ0tFRElUT1IuZmlyZShcImxvZ1wiLHt0eXBlOlwiZXJyb3JcIixlcnJvckNvZGU6YSxhZGRpdGlvbmFsRGF0YTpkfSl9O1xuQ0tFRElUT1Iub24oXCJsb2dcIixmdW5jdGlvbihhKXtpZih3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKXt2YXIgZD1jb25zb2xlW2EuZGF0YS50eXBlXT9hLmRhdGEudHlwZTpcImxvZ1wiLGI9YS5kYXRhLmVycm9yQ29kZTtpZihhPWEuZGF0YS5hZGRpdGlvbmFsRGF0YSljb25zb2xlW2RdKFwiW0NLRURJVE9SXSBFcnJvciBjb2RlOiBcIitiK1wiLlwiLGEpO2Vsc2UgY29uc29sZVtkXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrYitcIi5cIik7Y29uc29sZVtkXShcIltDS0VESVRPUl0gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBlcnJvciBnbyB0byBodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvZ3VpZGUvZGV2X2Vycm9ycy1zZWN0aW9uLVwiK2IpfX0sbnVsbCxudWxsLDk5OSk7Q0tFRElUT1IuZG9tPXt9O1xuKGZ1bmN0aW9uKCl7dmFyIGE9W10sZD1DS0VESVRPUi5lbnYuZ2Vja28/XCItbW96LVwiOkNLRURJVE9SLmVudi53ZWJraXQ/XCItd2Via2l0LVwiOkNLRURJVE9SLmVudi5pZT9cIi1tcy1cIjpcIlwiLGI9LyYvZyxjPS8+L2csZT0vPC9nLGc9L1wiL2csaD0vJihsdHxndHxhbXB8cXVvdHxuYnNwfHNoeXwjXFxkezEsNX0pOy9nLGs9e2x0OlwiXFx4M2NcIixndDpcIlxceDNlXCIsYW1wOlwiXFx4MjZcIixxdW90OidcIicsbmJzcDpcIsKgXCIsc2h5Olwiwq1cIn0sbj1mdW5jdGlvbihhLGYpe3JldHVyblwiI1wiPT1mWzBdP1N0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZi5zbGljZSgxKSwxMCkpOmtbZl19O0NLRURJVE9SLm9uKFwicmVzZXRcIixmdW5jdGlvbigpe2E9W119KTtDS0VESVRPUi50b29scz17YXJyYXlDb21wYXJlOmZ1bmN0aW9uKGEsZil7aWYoIWEmJiFmKXJldHVybiEwO2lmKCFhfHwhZnx8YS5sZW5ndGghPWYubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0hPWZbYl0pcmV0dXJuITE7XG5yZXR1cm4hMH0sZ2V0SW5kZXg6ZnVuY3Rpb24oYSxmKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoOysrYilpZihmKGFbYl0pKXJldHVybiBiO3JldHVybi0xfSxjbG9uZTpmdW5jdGlvbihhKXt2YXIgZjtpZihhJiZhIGluc3RhbmNlb2YgQXJyYXkpe2Y9W107Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspZltiXT1DS0VESVRPUi50b29scy5jbG9uZShhW2JdKTtyZXR1cm4gZn1pZihudWxsPT09YXx8XCJvYmplY3RcIiE9dHlwZW9mIGF8fGEgaW5zdGFuY2VvZiBTdHJpbmd8fGEgaW5zdGFuY2VvZiBOdW1iZXJ8fGEgaW5zdGFuY2VvZiBCb29sZWFufHxhIGluc3RhbmNlb2YgRGF0ZXx8YSBpbnN0YW5jZW9mIFJlZ0V4cHx8YS5ub2RlVHlwZXx8YS53aW5kb3c9PT1hKXJldHVybiBhO2Y9bmV3IGEuY29uc3RydWN0b3I7Zm9yKGIgaW4gYSlmW2JdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbYl0pO3JldHVybiBmfSxjYXBpdGFsaXplOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrXG4oZj9hLnNsaWNlKDEpOmEuc2xpY2UoMSkudG9Mb3dlckNhc2UoKSl9LGV4dGVuZDpmdW5jdGlvbihhKXt2YXIgZj1hcmd1bWVudHMubGVuZ3RoLGIsYztcImJvb2xlYW5cIj09dHlwZW9mKGI9YXJndW1lbnRzW2YtMV0pP2YtLTpcImJvb2xlYW5cIj09dHlwZW9mKGI9YXJndW1lbnRzW2YtMl0pJiYoYz1hcmd1bWVudHNbZi0xXSxmLT0yKTtmb3IodmFyIGs9MTtrPGY7aysrKXt2YXIgZD1hcmd1bWVudHNba10sbjtmb3IobiBpbiBkKWlmKCEwPT09Ynx8bnVsbD09YVtuXSlpZighY3x8biBpbiBjKWFbbl09ZFtuXX1yZXR1cm4gYX0scHJvdG90eXBlZENvcHk6ZnVuY3Rpb24oYSl7dmFyIGY9ZnVuY3Rpb24oKXt9O2YucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBmfSxjb3B5OmZ1bmN0aW9uKGEpe3ZhciBmPXt9LGI7Zm9yKGIgaW4gYSlmW2JdPWFbYl07cmV0dXJuIGZ9LGlzQXJyYXk6ZnVuY3Rpb24oYSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9LFxuaXNFbXB0eTpmdW5jdGlvbihhKXtmb3IodmFyIGYgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGYpKXJldHVybiExO3JldHVybiEwfSxjc3NWZW5kb3JQcmVmaXg6ZnVuY3Rpb24oYSxmLGIpe2lmKGIpcmV0dXJuIGQrYStcIjpcIitmK1wiO1wiK2ErXCI6XCIrZjtiPXt9O2JbYV09ZjtiW2QrYV09ZjtyZXR1cm4gYn0sY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxmPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNzc0Zsb2F0P1wiY3NzRmxvYXRcIjpcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5zdHlsZUZsb2F0P1wic3R5bGVGbG9hdFwiOlwiZmxvYXRcIjtyZXR1cm4gZnVuY3Rpb24oYSl7cmV0dXJuXCJmbG9hdFwiPT1hP2Y6YS5yZXBsYWNlKC8tLi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnN1YnN0cigxKS50b1VwcGVyQ2FzZSgpfSl9fSgpLGJ1aWxkU3R5bGVIdG1sOmZ1bmN0aW9uKGEpe2E9W10uY29uY2F0KGEpO2Zvcih2YXIgZixcbmI9W10sYz0wO2M8YS5sZW5ndGg7YysrKWlmKGY9YVtjXSkvQGltcG9ydHxbe31dLy50ZXN0KGYpP2IucHVzaChcIlxceDNjc3R5bGVcXHgzZVwiK2YrXCJcXHgzYy9zdHlsZVxceDNlXCIpOmIucHVzaCgnXFx4M2NsaW5rIHR5cGVcXHgzZFwidGV4dC9jc3NcIiByZWxcXHgzZHN0eWxlc2hlZXQgaHJlZlxceDNkXCInK2YrJ1wiXFx4M2UnKTtyZXR1cm4gYi5qb2luKFwiXCIpfSxodG1sRW5jb2RlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hfHxudWxsPT09YT9cIlwiOlN0cmluZyhhKS5yZXBsYWNlKGIsXCJcXHgyNmFtcDtcIikucmVwbGFjZShjLFwiXFx4MjZndDtcIikucmVwbGFjZShlLFwiXFx4MjZsdDtcIil9LGh0bWxEZWNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShoLG4pfSxodG1sRW5jb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShhKS5yZXBsYWNlKGcsXCJcXHgyNnF1b3Q7XCIpfSxodG1sRGVjb2RlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuaHRtbERlY29kZShhKX0sXG50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWw6ZnVuY3Rpb24oYSxmKXt2YXIgYj1mPT1DS0VESVRPUi5FTlRFUl9CUixjPXRoaXMuaHRtbEVuY29kZShhLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpKSxjPWMucmVwbGFjZSgvXFx0L2csXCJcXHgyNm5ic3A7XFx4MjZuYnNwOyBcXHgyNm5ic3A7XCIpLGs9Zj09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiO2lmKCFiKXt2YXIgZD0vXFxuezJ9L2c7aWYoZC50ZXN0KGMpKXZhciBuPVwiXFx4M2NcIitrK1wiXFx4M2VcIixtPVwiXFx4M2MvXCIraytcIlxceDNlXCIsYz1uK2MucmVwbGFjZShkLGZ1bmN0aW9uKCl7cmV0dXJuIG0rbn0pK219Yz1jLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpO2J8fChjPWMucmVwbGFjZShuZXcgUmVnRXhwKFwiXFx4M2NiclxceDNlKD9cXHgzZFxceDNjL1wiK2srXCJcXHgzZSlcIiksZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChhLDIpfSkpO2M9Yy5yZXBsYWNlKC9eIHwgJC9nLFwiXFx4MjZuYnNwO1wiKTtyZXR1cm4gYz1jLnJlcGxhY2UoLyg+fFxccykgL2csXG5mdW5jdGlvbihhLGYpe3JldHVybiBmK1wiXFx4MjZuYnNwO1wifSkucmVwbGFjZSgvICg/PTwpL2csXCJcXHgyNm5ic3A7XCIpfSxnZXROZXh0TnVtYmVyOmZ1bmN0aW9uKCl7dmFyIGE9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK2F9fSgpLGdldE5leHRJZDpmdW5jdGlvbigpe3JldHVyblwiY2tlX1wiK3RoaXMuZ2V0TmV4dE51bWJlcigpfSxnZXRVbmlxdWVJZDpmdW5jdGlvbigpe2Zvcih2YXIgYT1cImVcIixmPTA7OD5mO2YrKylhKz1NYXRoLmZsb29yKDY1NTM2KigxK01hdGgucmFuZG9tKCkpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO3JldHVybiBhfSxvdmVycmlkZTpmdW5jdGlvbihhLGYpe3ZhciBiPWYoYSk7Yi5wcm90b3R5cGU9YS5wcm90b3R5cGU7cmV0dXJuIGJ9LHNldFRpbWVvdXQ6ZnVuY3Rpb24oYSxmLGIsYyxrKXtrfHwoaz13aW5kb3cpO2J8fChiPWspO3JldHVybiBrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjP2EuYXBwbHkoYixbXS5jb25jYXQoYykpOmEuYXBwbHkoYil9LFxuZnx8MCl9LHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vKD86XlsgXFx0XFxuXFxyXSspfCg/OlsgXFx0XFxuXFxyXSskKS9nO3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4gZi5yZXBsYWNlKGEsXCJcIil9fSgpLGx0cmltOmZ1bmN0aW9uKCl7dmFyIGE9L15bIFxcdFxcblxccl0rL2c7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBmLnJlcGxhY2UoYSxcIlwiKX19KCkscnRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vWyBcXHRcXG5cXHJdKyQvZztyZXR1cm4gZnVuY3Rpb24oZil7cmV0dXJuIGYucmVwbGFjZShhLFwiXCIpfX0oKSxpbmRleE9mOmZ1bmN0aW9uKGEsZil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZilmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8YztiKyspe2lmKGYoYVtiXSkpcmV0dXJuIGJ9ZWxzZXtpZihhLmluZGV4T2YpcmV0dXJuIGEuaW5kZXhPZihmKTtiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKylpZihhW2JdPT09ZilyZXR1cm4gYn1yZXR1cm4tMX0sc2VhcmNoOmZ1bmN0aW9uKGEsZil7dmFyIGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLFxuZik7cmV0dXJuIDA8PWI/YVtiXTpudWxsfSxiaW5kOmZ1bmN0aW9uKGEsZil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZixhcmd1bWVudHMpfX0sY3JlYXRlQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGY9YS4kLGI9YS5iYXNlLGM9YS5wcml2YXRlc3x8YS5fLGs9YS5wcm90bzthPWEuc3RhdGljczshZiYmKGY9ZnVuY3Rpb24oKXtiJiZ0aGlzLmJhc2UuYXBwbHkodGhpcyxhcmd1bWVudHMpfSk7aWYoYyl2YXIgZD1mLGY9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl98fCh0aGlzLl89e30pLGY7Zm9yKGYgaW4gYyl7dmFyIGI9Y1tmXTthW2ZdPVwiZnVuY3Rpb25cIj09dHlwZW9mIGI/Q0tFRElUT1IudG9vbHMuYmluZChiLHRoaXMpOmJ9ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2ImJihmLnByb3RvdHlwZT10aGlzLnByb3RvdHlwZWRDb3B5KGIucHJvdG90eXBlKSxmLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1mLGYuYmFzZT1iLGYuYmFzZVByb3RvPWIucHJvdG90eXBlLGYucHJvdG90eXBlLmJhc2U9XG5mdW5jdGlvbigpe3RoaXMuYmFzZT1iLnByb3RvdHlwZS5iYXNlO2IuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuYmFzZT1hcmd1bWVudHMuY2FsbGVlfSk7ayYmdGhpcy5leHRlbmQoZi5wcm90b3R5cGUsaywhMCk7YSYmdGhpcy5leHRlbmQoZixhLCEwKTtyZXR1cm4gZn0sYWRkRnVuY3Rpb246ZnVuY3Rpb24oYixmKXtyZXR1cm4gYS5wdXNoKGZ1bmN0aW9uKCl7cmV0dXJuIGIuYXBwbHkoZnx8dGhpcyxhcmd1bWVudHMpfSktMX0scmVtb3ZlRnVuY3Rpb246ZnVuY3Rpb24oYil7YVtiXT1udWxsfSxjYWxsRnVuY3Rpb246ZnVuY3Rpb24oYil7dmFyIGY9YVtiXTtyZXR1cm4gZiYmZi5hcHBseSh3aW5kb3csQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKX0sY3NzTGVuZ3RoOmZ1bmN0aW9uKCl7dmFyIGE9L14tP1xcZCtcXC4/XFxkKnB4JC8sZjtyZXR1cm4gZnVuY3Rpb24oYil7Zj1DS0VESVRPUi50b29scy50cmltKGIrXCJcIikrXCJweFwiO3JldHVybiBhLnRlc3QoZik/XG5mOmJ8fFwiXCJ9fSgpLGNvbnZlcnRUb1B4OmZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKGYpe2F8fChhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5cHg7dG9wOi05OTk5cHg7bWFyZ2luOjBweDtwYWRkaW5nOjBweDtib3JkZXI6MHB4O1wiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpLENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQoYSkpO3JldHVybi8lJC8udGVzdChmKT9mOihhLnNldFN0eWxlKFwid2lkdGhcIixmKSxhLiQuY2xpZW50V2lkdGgpfX0oKSxyZXBlYXQ6ZnVuY3Rpb24oYSxmKXtyZXR1cm4gQXJyYXkoZisxKS5qb2luKGEpfSx0cnlUaGVzZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxmPTAsYj1hcmd1bWVudHMubGVuZ3RoO2Y8YjtmKyspe3ZhciBjPWFyZ3VtZW50c1tmXTt0cnl7YT1jKCk7YnJlYWt9Y2F0Y2goayl7fX1yZXR1cm4gYX0sXG5nZW5LZXk6ZnVuY3Rpb24oKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5qb2luKFwiLVwiKX0sZGVmZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGY9YXJndW1lbnRzLGI9dGhpczt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2EuYXBwbHkoYixmKX0sMCl9fSxub3JtYWxpemVDc3NUZXh0OmZ1bmN0aW9uKGEsZil7dmFyIGI9W10sYyxrPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhLCEwLGYpO2ZvcihjIGluIGspYi5wdXNoKGMrXCI6XCIra1tjXSk7Yi5zb3J0KCk7cmV0dXJuIGIubGVuZ3RoP2Iuam9pbihcIjtcIikrXCI7XCI6XCJcIn0sY29udmVydFJnYlRvSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyg/OnJnYlxcKFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqLFxccyooXFxkKylcXHMqXFwpKS9naSxmdW5jdGlvbihhLGIsYyxrKXthPVtiLGMsa107Zm9yKGI9MDszPmI7YisrKWFbYl09KFwiMFwiK3BhcnNlSW50KGFbYl0sMTApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO1xucmV0dXJuXCIjXCIrYS5qb2luKFwiXCIpfSl9LG5vcm1hbGl6ZUhleDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8jKChbMC05YS1mXXszfSl7MSwyfSkoJHw7fFxccyspL2dpLGZ1bmN0aW9uKGEsYixjLGspe2E9Yi50b0xvd2VyQ2FzZSgpOzM9PWEubGVuZ3RoJiYoYT1hLnNwbGl0KFwiXCIpLGE9W2FbMF0sYVswXSxhWzFdLGFbMV0sYVsyXSxhWzJdXS5qb2luKFwiXCIpKTtyZXR1cm5cIiNcIithK2t9KX0scGFyc2VDc3NUZXh0OmZ1bmN0aW9uKGEsZixiKXt2YXIgYz17fTtiJiYoYT0obmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKSkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixhKS5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKXx8XCJcIik7YSYmKGE9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplSGV4KENLRURJVE9SLnRvb2xzLmNvbnZlcnRSZ2JUb0hleChhKSkpO2lmKCFhfHxcIjtcIj09YSlyZXR1cm4gYzthLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW146O1xcc10rKVxccyo6XFxzKihbXjtdKylcXHMqKD89O3wkKS9nLFxuZnVuY3Rpb24oYSxiLGspe2YmJihiPWIudG9Mb3dlckNhc2UoKSxcImZvbnQtZmFtaWx5XCI9PWImJihrPWsucmVwbGFjZSgvXFxzKixcXHMqL2csXCIsXCIpKSxrPUNLRURJVE9SLnRvb2xzLnRyaW0oaykpO2NbYl09a30pO3JldHVybiBjfSx3cml0ZUNzc1RleHQ6ZnVuY3Rpb24oYSxmKXt2YXIgYixjPVtdO2ZvcihiIGluIGEpYy5wdXNoKGIrXCI6XCIrYVtiXSk7ZiYmYy5zb3J0KCk7cmV0dXJuIGMuam9pbihcIjsgXCIpfSxvYmplY3RDb21wYXJlOmZ1bmN0aW9uKGEsZixiKXt2YXIgYztpZighYSYmIWYpcmV0dXJuITA7aWYoIWF8fCFmKXJldHVybiExO2ZvcihjIGluIGEpaWYoYVtjXSE9ZltjXSlyZXR1cm4hMTtpZighYilmb3IoYyBpbiBmKWlmKGFbY10hPWZbY10pcmV0dXJuITE7cmV0dXJuITB9LG9iamVjdEtleXM6ZnVuY3Rpb24oYSl7dmFyIGY9W10sYjtmb3IoYiBpbiBhKWYucHVzaChiKTtyZXR1cm4gZn0sY29udmVydEFycmF5VG9PYmplY3Q6ZnVuY3Rpb24oYSxmKXt2YXIgYj17fTsxPT1cbmFyZ3VtZW50cy5sZW5ndGgmJihmPSEwKTtmb3IodmFyIGM9MCxrPWEubGVuZ3RoO2M8azsrK2MpYlthW2NdXT1mO3JldHVybiBifSxmaXhEb21haW46ZnVuY3Rpb24oKXtmb3IodmFyIGE7Oyl0cnl7YT13aW5kb3cucGFyZW50LmRvY3VtZW50LmRvbWFpbjticmVha31jYXRjaChmKXthPWE/YS5yZXBsYWNlKC8uKz8oPzpcXC58JCkvLFwiXCIpOmRvY3VtZW50LmRvbWFpbjtpZighYSlicmVhaztkb2N1bWVudC5kb21haW49YX1yZXR1cm4hIWF9LGV2ZW50c0J1ZmZlcjpmdW5jdGlvbihhLGYsYil7ZnVuY3Rpb24gYygpe2Q9KG5ldyBEYXRlKS5nZXRUaW1lKCk7az0hMTtiP2YuY2FsbChiKTpmKCl9dmFyIGssZD0wO3JldHVybntpbnB1dDpmdW5jdGlvbigpe2lmKCFrKXt2YXIgZj0obmV3IERhdGUpLmdldFRpbWUoKS1kO2Y8YT9rPXNldFRpbWVvdXQoYyxhLWYpOmMoKX19LHJlc2V0OmZ1bmN0aW9uKCl7ayYmY2xlYXJUaW1lb3V0KGspO2s9ZD0wfX19LGVuYWJsZUh0bWw1RWxlbWVudHM6ZnVuY3Rpb24oYSxcbmYpe2Zvcih2YXIgYj1cImFiYnIgYXJ0aWNsZSBhc2lkZSBhdWRpbyBiZGkgY2FudmFzIGRhdGEgZGF0YWxpc3QgZGV0YWlscyBmaWdjYXB0aW9uIGZpZ3VyZSBmb290ZXIgaGVhZGVyIGhncm91cCBtYWluIG1hcmsgbWV0ZXIgbmF2IG91dHB1dCBwcm9ncmVzcyBzZWN0aW9uIHN1bW1hcnkgdGltZSB2aWRlb1wiLnNwbGl0KFwiIFwiKSxjPWIubGVuZ3RoLGs7Yy0tOylrPWEuY3JlYXRlRWxlbWVudChiW2NdKSxmJiZhLmFwcGVuZENoaWxkKGspfSxjaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlczpmdW5jdGlvbihhLGYpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjOysrYilpZihhW2JdLm1hdGNoKGYpKXJldHVybiEwO3JldHVybiExfSxjaGVja0lmQW55T2JqZWN0UHJvcGVydHlNYXRjaGVzOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBiIGluIGEpaWYoYi5tYXRjaChmKSlyZXR1cm4hMDtyZXR1cm4hMX0sa2V5c3Ryb2tlVG9TdHJpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iJjE2NzExNjgwLGs9XG5iJjY1NTM1LGQ9Q0tFRElUT1IuZW52Lm1hYyxuPVtdLGU9W107YyZDS0VESVRPUi5DVFJMJiYobi5wdXNoKGQ/XCLijJhcIjphWzE3XSksZS5wdXNoKGQ/YVsyMjRdOmFbMTddKSk7YyZDS0VESVRPUi5BTFQmJihuLnB1c2goZD9cIuKMpVwiOmFbMThdKSxlLnB1c2goYVsxOF0pKTtjJkNLRURJVE9SLlNISUZUJiYobi5wdXNoKGQ/XCLih6dcIjphWzE2XSksZS5wdXNoKGFbMTZdKSk7ayYmKGFba10/KG4ucHVzaChhW2tdKSxlLnB1c2goYVtrXSkpOihuLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShrKSksZS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaykpKSk7cmV0dXJue2Rpc3BsYXk6bi5qb2luKFwiK1wiKSxhcmlhOmUuam9pbihcIitcIil9fSx0cmFuc3BhcmVudEltYWdlRGF0YTpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBUEFCQVAvLy93QUFBQ0g1QkFFS0FBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93XFx4M2RcXHgzZFwiLGdldENvb2tpZTpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTtcbmZvcih2YXIgYj1kb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpLGMsayxkPTA7ZDxiLmxlbmd0aDtkKyspaWYoYz1iW2RdLnNwbGl0KFwiXFx4M2RcIiksaz1kZWNvZGVVUklDb21wb25lbnQoQ0tFRElUT1IudG9vbHMudHJpbShjWzBdKS50b0xvd2VyQ2FzZSgpKSxrPT09YSlyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KDE8Yy5sZW5ndGg/Y1sxXTpcIlwiKTtyZXR1cm4gbnVsbH0sc2V0Q29va2llOmZ1bmN0aW9uKGEsYil7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudChhKStcIlxceDNkXCIrZW5jb2RlVVJJQ29tcG9uZW50KGIpK1wiO3BhdGhcXHgzZC9cIn0sZ2V0Q3NyZlRva2VuOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZ2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIik7aWYoIWF8fDQwIT1hLmxlbmd0aCl7dmFyIGE9W10sYj1cIlwiO2lmKHdpbmRvdy5jcnlwdG8mJndpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKWE9bmV3IFVpbnQ4QXJyYXkoNDApLHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGEpO1xuZWxzZSBmb3IodmFyIGM9MDs0MD5jO2MrKylhLnB1c2goTWF0aC5mbG9vcigyNTYqTWF0aC5yYW5kb20oKSkpO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspdmFyIGs9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODlcIi5jaGFyQXQoYVtjXSUzNiksYj1iKyguNTxNYXRoLnJhbmRvbSgpP2sudG9VcHBlckNhc2UoKTprKTthPWI7Q0tFRElUT1IudG9vbHMuc2V0Q29va2llKFwiY2tDc3JmVG9rZW5cIixhKX1yZXR1cm4gYX0sZXNjYXBlQ3NzOmZ1bmN0aW9uKGEpe3JldHVybiBhP3dpbmRvdy5DU1MmJkNTUy5lc2NhcGU/Q1NTLmVzY2FwZShhKTppc05hTihwYXJzZUludChhLmNoYXJBdCgwKSwxMCkpP2E6XCJcXFxcM1wiK2EuY2hhckF0KDApK1wiIFwiK2Euc3Vic3RyaW5nKDEsYS5sZW5ndGgpOlwiXCJ9LGdldE1vdXNlQnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPShhPWEuZGF0YSkmJmEuJDtyZXR1cm4gYSYmYj9DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/ND09PVxuYi5idXR0b24/Q0tFRElUT1IuTU9VU0VfQlVUVE9OX01JRERMRToxPT09Yi5idXR0b24/Q0tFRElUT1IuTU9VU0VfQlVUVE9OX0xFRlQ6Q0tFRElUT1IuTU9VU0VfQlVUVE9OX1JJR0hUOmIuYnV0dG9uOiExfSxzdHlsZTp7cGFyc2U6e19jb2xvcnM6e2FsaWNlYmx1ZTpcIiNGMEY4RkZcIixhbnRpcXVld2hpdGU6XCIjRkFFQkQ3XCIsYXF1YTpcIiMwMEZGRkZcIixhcXVhbWFyaW5lOlwiIzdGRkZENFwiLGF6dXJlOlwiI0YwRkZGRlwiLGJlaWdlOlwiI0Y1RjVEQ1wiLGJpc3F1ZTpcIiNGRkU0QzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNGRkVCQ0RcIixibHVlOlwiIzAwMDBGRlwiLGJsdWV2aW9sZXQ6XCIjOEEyQkUyXCIsYnJvd246XCIjQTUyQTJBXCIsYnVybHl3b29kOlwiI0RFQjg4N1wiLGNhZGV0Ymx1ZTpcIiM1RjlFQTBcIixjaGFydHJldXNlOlwiIzdGRkYwMFwiLGNob2NvbGF0ZTpcIiNEMjY5MUVcIixjb3JhbDpcIiNGRjdGNTBcIixjb3JuZmxvd2VyYmx1ZTpcIiM2NDk1RURcIixjb3Juc2lsazpcIiNGRkY4RENcIixcbmNyaW1zb246XCIjREMxNDNDXCIsY3lhbjpcIiMwMEZGRkZcIixkYXJrYmx1ZTpcIiMwMDAwOEJcIixkYXJrY3lhbjpcIiMwMDhCOEJcIixkYXJrZ29sZGVucm9kOlwiI0I4ODYwQlwiLGRhcmtncmF5OlwiI0E5QTlBOVwiLGRhcmtncmVlbjpcIiMwMDY0MDBcIixkYXJrZ3JleTpcIiNBOUE5QTlcIixkYXJra2hha2k6XCIjQkRCNzZCXCIsZGFya21hZ2VudGE6XCIjOEIwMDhCXCIsZGFya29saXZlZ3JlZW46XCIjNTU2QjJGXCIsZGFya29yYW5nZTpcIiNGRjhDMDBcIixkYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLGRhcmtyZWQ6XCIjOEIwMDAwXCIsZGFya3NhbG1vbjpcIiNFOTk2N0FcIixkYXJrc2VhZ3JlZW46XCIjOEZCQzhGXCIsZGFya3NsYXRlYmx1ZTpcIiM0ODNEOEJcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGRhcmtzbGF0ZWdyZXk6XCIjMkY0RjRGXCIsZGFya3R1cnF1b2lzZTpcIiMwMENFRDFcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRpbWdyYXk6XCIjNjk2OTY5XCIsZGltZ3JleTpcIiM2OTY5NjlcIixcbmRvZGdlcmJsdWU6XCIjMUU5MEZGXCIsZmlyZWJyaWNrOlwiI0IyMjIyMlwiLGZsb3JhbHdoaXRlOlwiI0ZGRkFGMFwiLGZvcmVzdGdyZWVuOlwiIzIyOEIyMlwiLGZ1Y2hzaWE6XCIjRkYwMEZGXCIsZ2FpbnNib3JvOlwiI0RDRENEQ1wiLGdob3N0d2hpdGU6XCIjRjhGOEZGXCIsZ29sZDpcIiNGRkQ3MDBcIixnb2xkZW5yb2Q6XCIjREFBNTIwXCIsZ3JheTpcIiM4MDgwODBcIixncmVlbjpcIiMwMDgwMDBcIixncmVlbnllbGxvdzpcIiNBREZGMkZcIixncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI0YwRkZGMFwiLGhvdHBpbms6XCIjRkY2OUI0XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLGluZGlnbzpcIiM0QjAwODJcIixpdm9yeTpcIiNGRkZGRjBcIixraGFraTpcIiNGMEU2OENcIixsYXZlbmRlcjpcIiNFNkU2RkFcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLGxhd25ncmVlbjpcIiM3Q0ZDMDBcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsbGlnaHRibHVlOlwiI0FERDhFNlwiLGxpZ2h0Y29yYWw6XCIjRjA4MDgwXCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI0ZBRkFEMlwiLFxubGlnaHRncmF5OlwiI0QzRDNEM1wiLGxpZ2h0Z3JlZW46XCIjOTBFRTkwXCIsbGlnaHRncmV5OlwiI0QzRDNEM1wiLGxpZ2h0cGluazpcIiNGRkI2QzFcIixsaWdodHNhbG1vbjpcIiNGRkEwN0FcIixsaWdodHNlYWdyZWVuOlwiIzIwQjJBQVwiLGxpZ2h0c2t5Ymx1ZTpcIiM4N0NFRkFcIixsaWdodHNsYXRlZ3JheTpcIiM3Nzg4OTlcIixsaWdodHNsYXRlZ3JleTpcIiM3Nzg4OTlcIixsaWdodHN0ZWVsYmx1ZTpcIiNCMEM0REVcIixsaWdodHllbGxvdzpcIiNGRkZGRTBcIixsaW1lOlwiIzAwRkYwMFwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixsaW5lbjpcIiNGQUYwRTZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Q0RBQVwiLG1lZGl1bWJsdWU6XCIjMDAwMENEXCIsbWVkaXVtb3JjaGlkOlwiI0JBNTVEM1wiLG1lZGl1bXB1cnBsZTpcIiM5MzcwREJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsXG5tZWRpdW10dXJxdW9pc2U6XCIjNDhEMUNDXCIsbWVkaXVtdmlvbGV0cmVkOlwiI0M3MTU4NVwiLG1pZG5pZ2h0Ymx1ZTpcIiMxOTE5NzBcIixtaW50Y3JlYW06XCIjRjVGRkZBXCIsbWlzdHlyb3NlOlwiI0ZGRTRFMVwiLG1vY2Nhc2luOlwiI0ZGRTRCNVwiLG5hdmFqb3doaXRlOlwiI0ZGREVBRFwiLG5hdnk6XCIjMDAwMDgwXCIsb2xkbGFjZTpcIiNGREY1RTZcIixvbGl2ZTpcIiM4MDgwMDBcIixvbGl2ZWRyYWI6XCIjNkI4RTIzXCIsb3JhbmdlOlwiI0ZGQTUwMFwiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIixvcmNoaWQ6XCIjREE3MEQ2XCIscGFsZWdvbGRlbnJvZDpcIiNFRUU4QUFcIixwYWxlZ3JlZW46XCIjOThGQjk4XCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixwYWxldmlvbGV0cmVkOlwiI0RCNzA5M1wiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIscGVhY2hwdWZmOlwiI0ZGREFCOVwiLHBlcnU6XCIjQ0Q4NTNGXCIscGluazpcIiNGRkMwQ0JcIixwbHVtOlwiI0REQTBERFwiLHBvd2RlcmJsdWU6XCIjQjBFMEU2XCIscHVycGxlOlwiIzgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCIjNjYzMzk5XCIsXG5yZWQ6XCIjRkYwMDAwXCIscm9zeWJyb3duOlwiI0JDOEY4RlwiLHJveWFsYmx1ZTpcIiM0MTY5RTFcIixzYWRkbGVicm93bjpcIiM4QjQ1MTNcIixzYWxtb246XCIjRkE4MDcyXCIsc2FuZHlicm93bjpcIiNGNEE0NjBcIixzZWFncmVlbjpcIiMyRThCNTdcIixzZWFzaGVsbDpcIiNGRkY1RUVcIixzaWVubmE6XCIjQTA1MjJEXCIsc2lsdmVyOlwiI0MwQzBDMFwiLHNreWJsdWU6XCIjODdDRUVCXCIsc2xhdGVibHVlOlwiIzZBNUFDRFwiLHNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNEOEJGRDhcIix0b21hdG86XCIjRkY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwRTBEMFwiLHZpb2xldDpcIiNFRTgyRUVcIix3aGVhdDpcIiNGNURFQjNcIix3aGl0ZTpcIiNGRkZGRkZcIix3aGl0ZXNtb2tlOlwiI0Y1RjVGNVwiLHllbGxvdzpcIiNGRkZGMDBcIix5ZWxsb3dncmVlbjpcIiM5QUNEMzJcIn0sXG5fYm9yZGVyU3R5bGU6XCJub25lIGhpZGRlbiBkb3R0ZWQgZGFzaGVkIHNvbGlkIGRvdWJsZSBncm9vdmUgcmlkZ2UgaW5zZXQgb3V0c2V0XCIuc3BsaXQoXCIgXCIpLF93aWR0aFJlZ0V4cDovXih0aGlufG1lZGl1bXx0aGlja3xbXFwrLV0/XFxkKyhcXC5cXGQrKT9bYS16JV0rfFtcXCstXT8wKyhcXC4wKyk/fFxcLlxcZCtbYS16JV0rKSQvLF9yZ2JhUmVnRXhwOi9yZ2JhP1xcKFxccypcXGQrJT9cXHMqLFxccypcXGQrJT9cXHMqLFxccypcXGQrJT9cXHMqKD86LFxccypbMC05Ll0rXFxzKik/XFwpL2dpLF9oc2xhUmVnRXhwOi9oc2xhP1xcKFxccypbMC05Ll0rXFxzKixcXHMqXFxkKyVcXHMqLFxccypcXGQrJVxccyooPzosXFxzKlswLTkuXStcXHMqKT9cXCkvZ2ksYmFja2dyb3VuZDpmdW5jdGlvbihhKXt2YXIgYj17fSxjPXRoaXMuX2ZpbmRDb2xvcihhKTtjLmxlbmd0aCYmKGIuY29sb3I9Y1swXSxDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGMsZnVuY3Rpb24oYil7YT1hLnJlcGxhY2UoYixcIlwiKX0pKTtpZihhPUNLRURJVE9SLnRvb2xzLnRyaW0oYSkpYi51bnByb2Nlc3NlZD1cbmE7cmV0dXJuIGJ9LG1hcmdpbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2MudG9wPWtbYVswXV07Yy5yaWdodD1rW2FbMV1dO2MuYm90dG9tPWtbYVsyXV07Yy5sZWZ0PWtbYVszXV19dmFyIGM9e30saz1hLm1hdGNoKC8oPzpcXC0/W1xcLlxcZF0rKD86JXxcXHcqKXxhdXRvfGluaGVyaXR8aW5pdGlhbHx1bnNldCkvZyl8fFtcIjBweFwiXTtzd2l0Y2goay5sZW5ndGgpe2Nhc2UgMTpiKFswLDAsMCwwXSk7YnJlYWs7Y2FzZSAyOmIoWzAsMSwwLDFdKTticmVhaztjYXNlIDM6YihbMCwxLDIsMV0pO2JyZWFrO2Nhc2UgNDpiKFswLDEsMiwzXSl9cmV0dXJuIGN9LGJvcmRlcjpmdW5jdGlvbihhKXt2YXIgYj17fTthPWEuc3BsaXQoL1xccysvKTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGEsZnVuY3Rpb24oYSl7aWYoIWIuY29sb3Ipe3ZhciBjPUNLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLl9maW5kQ29sb3IoYSk7aWYoYy5sZW5ndGgpe2IuY29sb3I9Y1swXTtyZXR1cm59fWIuc3R5bGV8fFxuLTE9PT1DS0VESVRPUi50b29scy5pbmRleE9mKENLRURJVE9SLnRvb2xzLnN0eWxlLnBhcnNlLl9ib3JkZXJTdHlsZSxhKT8hYi53aWR0aCYmQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX3dpZHRoUmVnRXhwLnRlc3QoYSkmJihiLndpZHRoPWEpOmIuc3R5bGU9YX0pO3JldHVybiBifSxfZmluZENvbG9yOmZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9Q0tFRElUT1IudG9vbHMuYXJyYXksYj1iLmNvbmNhdChhLm1hdGNoKHRoaXMuX3JnYmFSZWdFeHApfHxbXSksYj1iLmNvbmNhdChhLm1hdGNoKHRoaXMuX2hzbGFSZWdFeHApfHxbXSk7cmV0dXJuIGI9Yi5jb25jYXQoYy5maWx0ZXIoYS5zcGxpdCgvXFxzKy8pLGZ1bmN0aW9uKGEpe3JldHVybiBhLm1hdGNoKC9eXFwjW2EtZjAtOV17M30oPzpbYS1mMC05XXszfSk/JC9naSk/ITA6YS50b0xvd2VyQ2FzZSgpaW4gQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX2NvbG9yc30pKX19fSxhcnJheTp7ZmlsdGVyOmZ1bmN0aW9uKGEsYixjKXt2YXIgaz1cbltdO3RoaXMuZm9yRWFjaChhLGZ1bmN0aW9uKGQsbil7Yi5jYWxsKGMsZCxuLGEpJiZrLnB1c2goZCl9KTtyZXR1cm4ga30sZm9yRWFjaDpmdW5jdGlvbihhLGIsYyl7dmFyIGs9YS5sZW5ndGgsZDtmb3IoZD0wO2Q8aztkKyspYi5jYWxsKGMsYVtkXSxkLGEpfSxtYXA6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgaz1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspay5wdXNoKGIuY2FsbChjLGFbZF0sZCxhKSk7cmV0dXJuIGt9LHJlZHVjZTpmdW5jdGlvbihhLGIsYyxrKXtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyljPWIuY2FsbChrLGMsYVtkXSxkLGEpO3JldHVybiBjfX0sb2JqZWN0OntmaW5kS2V5OmZ1bmN0aW9uKGEsYil7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhKXJldHVybiBudWxsO2Zvcih2YXIgYyBpbiBhKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybiBudWxsfX19O0NLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2Y9Q0tFRElUT1IudG9vbHMuaW5kZXhPZjtDS0VESVRPUi50b29scy5hcnJheS5pc0FycmF5PVxuQ0tFRElUT1IudG9vbHMuaXNBcnJheTtDS0VESVRPUi5NT1VTRV9CVVRUT05fTEVGVD0wO0NLRURJVE9SLk1PVVNFX0JVVFRPTl9NSURETEU9MTtDS0VESVRPUi5NT1VTRV9CVVRUT05fUklHSFQ9Mn0pKCk7XG5DS0VESVRPUi5kdGQ9ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQsZD1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1DS0VESVRPUi50b29scy5jbG9uZShhKSxrPTE7azxhcmd1bWVudHMubGVuZ3RoO2srKyl7Yj1hcmd1bWVudHNba107Zm9yKHZhciBkIGluIGIpZGVsZXRlIGNbZF19cmV0dXJuIGN9LGI9e30sYz17fSxlPXthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGRldGFpbHM6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxnPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGg9e30saz17XCIjXCI6MX0sbj17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07XG5hKGIse2E6MSxhYmJyOjEsYXJlYToxLGF1ZGlvOjEsYjoxLGJkaToxLGJkbzoxLGJyOjEsYnV0dG9uOjEsY2FudmFzOjEsY2l0ZToxLGNvZGU6MSxjb21tYW5kOjEsZGF0YWxpc3Q6MSxkZWw6MSxkZm46MSxlbToxLGVtYmVkOjEsaToxLGlmcmFtZToxLGltZzoxLGlucHV0OjEsaW5zOjEsa2JkOjEsa2V5Z2VuOjEsbGFiZWw6MSxtYXA6MSxtYXJrOjEsbWV0ZXI6MSxub3NjcmlwdDoxLG9iamVjdDoxLG91dHB1dDoxLHByb2dyZXNzOjEscToxLHJ1Ynk6MSxzOjEsc2FtcDoxLHNjcmlwdDoxLHNlbGVjdDoxLHNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0sayx7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTthKGMsZSxiLG4pO2Q9e2E6ZChiLHthOjEsYnV0dG9uOjF9KSxhYmJyOmIsYWRkcmVzczpjLFxuYXJlYTpoLGFydGljbGU6Yyxhc2lkZTpjLGF1ZGlvOmEoe3NvdXJjZToxLHRyYWNrOjF9LGMpLGI6YixiYXNlOmgsYmRpOmIsYmRvOmIsYmxvY2txdW90ZTpjLGJvZHk6YyxicjpoLGJ1dHRvbjpkKGIse2E6MSxidXR0b246MX0pLGNhbnZhczpiLGNhcHRpb246YyxjaXRlOmIsY29kZTpiLGNvbDpoLGNvbGdyb3VwOntjb2w6MX0sY29tbWFuZDpoLGRhdGFsaXN0OmEoe29wdGlvbjoxfSxiKSxkZDpjLGRlbDpiLGRldGFpbHM6YSh7c3VtbWFyeToxfSxjKSxkZm46YixkaXY6YyxkbDp7ZHQ6MSxkZDoxfSxkdDpjLGVtOmIsZW1iZWQ6aCxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxnKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjpoLGh0bWw6YSh7aGVhZDoxLFxuYm9keToxfSxjLGcpLGk6YixpZnJhbWU6ayxpbWc6aCxpbnB1dDpoLGluczpiLGtiZDpiLGtleWdlbjpoLGxhYmVsOmIsbGVnZW5kOmIsbGk6YyxsaW5rOmgsbWFpbjpjLG1hcDpjLG1hcms6YixtZW51OmEoe2xpOjF9LGMpLG1ldGE6aCxtZXRlcjpkKGIse21ldGVyOjF9KSxuYXY6Yyxub3NjcmlwdDphKHtsaW5rOjEsbWV0YToxLHN0eWxlOjF9LGIpLG9iamVjdDphKHtwYXJhbToxfSxiKSxvbDp7bGk6MX0sb3B0Z3JvdXA6e29wdGlvbjoxfSxvcHRpb246ayxvdXRwdXQ6YixwOmIscGFyYW06aCxwcmU6Yixwcm9ncmVzczpkKGIse3Byb2dyZXNzOjF9KSxxOmIscnA6YixydDpiLHJ1Ynk6YSh7cnA6MSxydDoxfSxiKSxzOmIsc2FtcDpiLHNjcmlwdDprLHNlY3Rpb246YyxzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmIsc291cmNlOmgsc3BhbjpiLHN0cm9uZzpiLHN0eWxlOmssc3ViOmIsc3VtbWFyeTphKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sYiksXG5zdXA6Yix0YWJsZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsdGhlYWQ6MSx0Zm9vdDoxLHRib2R5OjEsdHI6MX0sdGJvZHk6e3RyOjF9LHRkOmMsdGV4dGFyZWE6ayx0Zm9vdDp7dHI6MX0sdGg6Yyx0aGVhZDp7dHI6MX0sdGltZTpkKGIse3RpbWU6MX0pLHRpdGxlOmssdHI6e3RoOjEsdGQ6MX0sdHJhY2s6aCx1OmIsdWw6e2xpOjF9LFwidmFyXCI6Yix2aWRlbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSx3YnI6aCxhY3JvbnltOmIsYXBwbGV0OmEoe3BhcmFtOjF9LGMpLGJhc2Vmb250OmgsYmlnOmIsY2VudGVyOmMsZGlhbG9nOmgsZGlyOntsaToxfSxmb250OmIsaXNpbmRleDpoLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShkLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZSxuKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLFxuZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZmlndXJlOjEsZm9vdGVyOjEsZm9ybToxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxtZW51OjEsbmF2OjEsb2w6MSxzZWN0aW9uOjEsdGFibGU6MSx0ZDoxLHRoOjEsdHI6MSx1bDoxLHZpZGVvOjF9LCRjZGF0YTp7c2NyaXB0OjEsc3R5bGU6MX0sJGVkaXRhYmxlOnthZGRyZXNzOjEsYXJ0aWNsZToxLGFzaWRlOjEsYmxvY2txdW90ZToxLGJvZHk6MSxkZXRhaWxzOjEsZGl2OjEsZmllbGRzZXQ6MSxmaWdjYXB0aW9uOjEsZm9vdGVyOjEsZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLFxudHJhY2s6MSx3YnI6MX0sJGlubGluZTpiLCRsaXN0OntkbDoxLG9sOjEsdWw6MX0sJGxpc3RJdGVtOntkZDoxLGR0OjEsbGk6MX0sJG5vbkJvZHlDb250ZW50OmEoe2JvZHk6MSxoZWFkOjEsaHRtbDoxfSxkLmhlYWQpLCRub25FZGl0YWJsZTp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxlbWJlZDoxLGlmcmFtZToxLG1hcDoxLG9iamVjdDoxLG9wdGlvbjoxLHBhcmFtOjEsc2NyaXB0OjEsdGV4dGFyZWE6MSx2aWRlbzoxfSwkb2JqZWN0OnthcHBsZXQ6MSxhdWRpbzoxLGJ1dHRvbjoxLGhyOjEsaWZyYW1lOjEsaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsXG5zOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRpbWU6MSx0dDoxLHU6MSxcInZhclwiOjF9LCR0YWJJbmRleDp7YToxLGFyZWE6MSxidXR0b246MSxpbnB1dDoxLG9iamVjdDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LCR0YWJsZUNvbnRlbnQ6e2NhcHRpb246MSxjb2w6MSxjb2xncm91cDoxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxfSwkdHJhbnNwYXJlbnQ6e2E6MSxhdWRpbzoxLGNhbnZhczoxLGRlbDoxLGluczoxLG1hcDoxLG5vc2NyaXB0OjEsb2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZH0oKTtcbkNLRURJVE9SLmRvbS5ldmVudD1mdW5jdGlvbihhKXt0aGlzLiQ9YX07XG5DS0VESVRPUi5kb20uZXZlbnQucHJvdG90eXBlPXtnZXRLZXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmtleUNvZGV8fHRoaXMuJC53aGljaH0sZ2V0S2V5c3Ryb2tlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRLZXkoKTtpZih0aGlzLiQuY3RybEtleXx8dGhpcy4kLm1ldGFLZXkpYSs9Q0tFRElUT1IuQ1RSTDt0aGlzLiQuc2hpZnRLZXkmJihhKz1DS0VESVRPUi5TSElGVCk7dGhpcy4kLmFsdEtleSYmKGErPUNLRURJVE9SLkFMVCk7cmV0dXJuIGF9LHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJDtkLnByZXZlbnREZWZhdWx0P2QucHJldmVudERlZmF1bHQoKTpkLnJldHVyblZhbHVlPSExO2EmJnRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDthLnN0b3BQcm9wYWdhdGlvbj9hLnN0b3BQcm9wYWdhdGlvbigpOmEuY2FuY2VsQnViYmxlPSEwfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuJC50YXJnZXR8fHRoaXMuJC5zcmNFbGVtZW50O3JldHVybiBhP25ldyBDS0VESVRPUi5kb20ubm9kZShhKTpudWxsfSxnZXRQaGFzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuZXZlbnRQaGFzZXx8Mn0sZ2V0UGFnZU9mZnNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VGFyZ2V0KCkuZ2V0RG9jdW1lbnQoKS4kO3JldHVybnt4OnRoaXMuJC5wYWdlWHx8dGhpcy4kLmNsaWVudFgrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGEuYm9keS5zY3JvbGxMZWZ0KSx5OnRoaXMuJC5wYWdlWXx8dGhpcy4kLmNsaWVudFkrKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8YS5ib2R5LnNjcm9sbFRvcCl9fX07Q0tFRElUT1IuQ1RSTD0xMTE0MTEyO0NLRURJVE9SLlNISUZUPTIyMjgyMjQ7Q0tFRElUT1IuQUxUPTQ0NTY0NDg7Q0tFRElUT1IuRVZFTlRfUEhBU0VfQ0FQVFVSSU5HPTE7Q0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUPTI7XG5DS0VESVRPUi5FVkVOVF9QSEFTRV9CVUJCTElORz0zO0NLRURJVE9SLmRvbS5kb21PYmplY3Q9ZnVuY3Rpb24oYSl7YSYmKHRoaXMuJD1hKX07XG5DS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYS5maXJlKGIsbmV3IENLRURJVE9SLmRvbS5ldmVudChjKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBhOyhhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9cIikpfHx0aGlzLnNldEN1c3RvbURhdGEoXCJfXCIsYT17fSk7cmV0dXJuIGF9LG9uOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIpO2J8fChiPXt9LHRoaXMuc2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIsYikpO2JbZF18fChiPWJbZF09YSh0aGlzLGQpLHRoaXMuJC5hZGRFdmVudExpc3RlbmVyP3RoaXMuJC5hZGRFdmVudExpc3RlbmVyKGQsYiwhIUNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmUpOnRoaXMuJC5hdHRhY2hFdmVudCYmdGhpcy4kLmF0dGFjaEV2ZW50KFwib25cIitcbmQsYikpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmhhc0xpc3RlbmVycyhhKSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksYz1iJiZiW2FdO2MmJih0aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcj90aGlzLiQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGMsITEpOnRoaXMuJC5kZXRhY2hFdmVudCYmdGhpcy4kLmRldGFjaEV2ZW50KFwib25cIithLGMpLGRlbGV0ZSBiW2FdKX19LHJlbW92ZUFsbExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9ja2VfbmF0aXZlTGlzdGVuZXJzXCIpLGI7Zm9yKGIgaW4gYSl7dmFyIGM9YVtiXTt0aGlzLiQuZGV0YWNoRXZlbnQ/dGhpcy4kLmRldGFjaEV2ZW50KFwib25cIitcbmIsYyk6dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSk7ZGVsZXRlIGFbYl19Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCk7XG4oZnVuY3Rpb24oYSl7dmFyIGQ9e307Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7ZD17fX0pO2EuZXF1YWxzPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYSYmYS4kPT09dGhpcy4kfWNhdGNoKGMpe3JldHVybiExfX07YS5zZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEsYyl7dmFyIGU9dGhpcy5nZXRVbmlxdWVJZCgpOyhkW2VdfHwoZFtlXT17fSkpW2FdPWM7cmV0dXJuIHRoaXN9O2EuZ2V0Q3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO3JldHVybihjPWMmJmRbY10pJiZhIGluIGM/Y1thXTpudWxsfTthLnJlbW92ZUN1c3RvbURhdGE9ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXSxjPWMmJmRbY10sZSxnO2MmJihlPWNbYV0sZz1hIGluIGMsZGVsZXRlIGNbYV0pO3JldHVybiBnP2U6bnVsbH07YS5jbGVhckN1c3RvbURhdGE9ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO3ZhciBhPVxudGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTthJiZkZWxldGUgZFthXX07YS5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdfHwodGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpfTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihhKX0pKENLRURJVE9SLmRvbS5kb21PYmplY3QucHJvdG90eXBlKTtcbkNLRURJVE9SLmRvbS5ub2RlPWZ1bmN0aW9uKGEpe3JldHVybiBhP25ldyBDS0VESVRPUi5kb21bYS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD9cImRvY3VtZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP1wiZWxlbWVudFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cInRleHRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQ/XCJjb21tZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9cImRvY3VtZW50RnJhZ21lbnRcIjpcImRvbU9iamVjdFwiXShhKTp0aGlzfTtDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5kb21PYmplY3Q7Q0tFRElUT1IuTk9ERV9FTEVNRU5UPTE7Q0tFRElUT1IuTk9ERV9ET0NVTUVOVD05O0NLRURJVE9SLk5PREVfVEVYVD0zO0NLRURJVE9SLk5PREVfQ09NTUVOVD04O0NLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ9MTE7XG5DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw9MDtDS0VESVRPUi5QT1NJVElPTl9ESVNDT05ORUNURUQ9MTtDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkc9MjtDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc9NDtDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQ9ODtDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUz0xNjtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGEsZCl7YS5hcHBlbmQodGhpcyxkKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBiKGMpe2NbXCJkYXRhLWNrZS1leHBhbmRvXCJdJiYoY1tcImRhdGEtY2tlLWV4cGFuZG9cIl09ITEpO2lmKGMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVClpZihkfHxjLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGMucmVtb3ZlQXR0cmlidXRlKFwiaWRcIiwhMSksYSl7Yz1jLmNoaWxkTm9kZXM7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspYihjW2VdKX19ZnVuY3Rpb24gYyhiKXtpZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXtpZihiLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBkPVxuYi5nZXROYW1lKCk7XCI6XCI9PWRbMF0mJmIucmVuYW1lTm9kZShkLnN1YnN0cmluZygxKSl9aWYoYSlmb3IoZD0wO2Q8Yi5nZXRDaGlsZENvdW50KCk7ZCsrKWMoYi5nZXRDaGlsZChkKSl9fXZhciBlPXRoaXMuJC5jbG9uZU5vZGUoYSk7YihlKTtlPW5ldyBDS0VESVRPUi5kb20ubm9kZShlKTtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8dGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKSYmYyhlKTtyZXR1cm4gZX0saGFzUHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5wcmV2aW91c1NpYmxpbmd9LGhhc05leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMuJC5uZXh0U2libGluZ30saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7YS4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLiQubmV4dFNpYmxpbmcpO3JldHVybiBhfSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSl7YS4kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxcbmEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsdGhpcy4kKTtyZXR1cm4gYX0sZ2V0QWRkcmVzczpmdW5jdGlvbihhKXtmb3IodmFyIGQ9W10sYj10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsYz10aGlzLiQ7YyYmYyE9Yjspe3ZhciBlPWMucGFyZW50Tm9kZTtlJiZkLnVuc2hpZnQodGhpcy5nZXRJbmRleC5jYWxsKHskOmN9LGEpKTtjPWV9cmV0dXJuIGR9LGdldERvY3VtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQodGhpcy4kLm93bmVyRG9jdW1lbnR8fHRoaXMuJC5wYXJlbnROb2RlLm93bmVyRG9jdW1lbnQpfSxnZXRJbmRleDpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEsYyl7dmFyIG49Yz9hLm5leHRTaWJsaW5nOmEucHJldmlvdXNTaWJsaW5nO3JldHVybiBuJiZuLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/YihuKT9kKG4sXG5jKTpuOm51bGx9ZnVuY3Rpb24gYihhKXtyZXR1cm4hYS5ub2RlVmFsdWV8fGEubm9kZVZhbHVlPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX12YXIgYz10aGlzLiQsZT0tMSxnO2lmKCF0aGlzLiQucGFyZW50Tm9kZXx8YSYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZiKGMpJiYhZChjKSYmIWQoYywhMCkpcmV0dXJuLTE7ZG8gYSYmYyE9dGhpcy4kJiZjLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihnfHxiKGMpKXx8KGUrKyxnPWMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCk7d2hpbGUoYz1jLnByZXZpb3VzU2libGluZyk7cmV0dXJuIGV9LGdldE5leHRTb3VyY2VOb2RlOmZ1bmN0aW9uKGEsZCxiKXtpZihiJiYhYi5jYWxsKXt2YXIgYz1iO2I9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGMpfX1hPSFhJiZ0aGlzLmdldEZpcnN0JiZ0aGlzLmdldEZpcnN0KCk7dmFyIGU7aWYoIWEpe2lmKHRoaXMudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihlPShlfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiYhMT09PWIoZSwhMCkpcmV0dXJuIG51bGw7YT1lLmdldE5leHQoKX1yZXR1cm4hYXx8YiYmITE9PT1iKGEpP251bGw6ZCYmZCE9YS50eXBlP2EuZ2V0TmV4dFNvdXJjZU5vZGUoITEsZCxiKTphfSxnZXRQcmV2aW91c1NvdXJjZU5vZGU6ZnVuY3Rpb24oYSxkLGIpe2lmKGImJiFiLmNhbGwpe3ZhciBjPWI7Yj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYyl9fWE9IWEmJnRoaXMuZ2V0TGFzdCYmdGhpcy5nZXRMYXN0KCk7dmFyIGU7aWYoIWEpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiJiYhMT09PWIodGhpcywhMCkpcmV0dXJuIG51bGw7YT10aGlzLmdldFByZXZpb3VzKCl9Zm9yKDshYSYmKGU9KGV8fHRoaXMpLmdldFBhcmVudCgpKTspe2lmKGImJiExPT09XG5iKGUsITApKXJldHVybiBudWxsO2E9ZS5nZXRQcmV2aW91cygpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDpkJiZhLnR5cGUhPWQ/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZCxiKTphfSxnZXRQcmV2aW91czpmdW5jdGlvbihhKXt2YXIgZD10aGlzLiQsYjtkbyBiPShkPWQucHJldmlvdXNTaWJsaW5nKSYmMTAhPWQubm9kZVR5cGUmJm5ldyBDS0VESVRPUi5kb20ubm9kZShkKTt3aGlsZShiJiZhJiYhYShiKSk7cmV0dXJuIGJ9LGdldE5leHQ6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy4kLGI7ZG8gYj0oZD1kLm5leHRTaWJsaW5nKSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGQpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0UGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJC5wYXJlbnROb2RlO3JldHVybiBkJiYoZC5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxhJiZkLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKT9cbm5ldyBDS0VESVRPUi5kb20ubm9kZShkKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMsYj1bXTtkbyBiW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGQpO3doaWxlKGQ9ZC5nZXRQYXJlbnQoKSk7cmV0dXJuIGJ9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe2lmKGEuZXF1YWxzKHRoaXMpKXJldHVybiB0aGlzO2lmKGEuY29udGFpbnMmJmEuY29udGFpbnModGhpcykpcmV0dXJuIGE7dmFyIGQ9dGhpcy5jb250YWlucz90aGlzOnRoaXMuZ2V0UGFyZW50KCk7ZG8gaWYoZC5jb250YWlucyhhKSlyZXR1cm4gZDt3aGlsZShkPWQuZ2V0UGFyZW50KCkpO3JldHVybiBudWxsfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgZD10aGlzLiQsYj1hLiQ7aWYoZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gZC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKTtpZihkPT1iKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw7aWYodGhpcy50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGQuY29udGFpbnMpe2lmKGQuY29udGFpbnMoYikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORztpZihiLmNvbnRhaW5zKGQpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWlmKFwic291cmNlSW5kZXhcImluIGQpcmV0dXJuIDA+ZC5zb3VyY2VJbmRleHx8MD5iLnNvdXJjZUluZGV4P0NLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRDpkLnNvdXJjZUluZGV4PGIuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HOkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR31kPXRoaXMuZ2V0QWRkcmVzcygpO2E9YS5nZXRBZGRyZXNzKCk7Zm9yKHZhciBiPU1hdGgubWluKGQubGVuZ3RoLGEubGVuZ3RoKSxjPTA7YzxiO2MrKylpZihkW2NdIT1cbmFbY10pcmV0dXJuIGRbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBkLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEK0NLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR30sZ2V0QXNjZW5kYW50OmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy4kLGMsZTtkfHwoYj1iLnBhcmVudE5vZGUpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGE/KGU9ITAsYz1hKTooZT0hMSxjPWZ1bmN0aW9uKGIpe2I9XCJzdHJpbmdcIj09dHlwZW9mIGIubm9kZU5hbWU/Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOlwiXCI7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/Yj09YTpiIGluIGF9KTtmb3IoO2I7KXtpZihjKGU/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOmIpKXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik7XG50cnl7Yj1iLnBhcmVudE5vZGV9Y2F0Y2goZyl7Yj1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy4kO2R8fChiPWIucGFyZW50Tm9kZSk7Zm9yKDtiOyl7aWYoYi5ub2RlTmFtZSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT1hKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiExfSxtb3ZlOmZ1bmN0aW9uKGEsZCl7YS5hcHBlbmQodGhpcy5yZW1vdmUoKSxkKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuJCxiPWQucGFyZW50Tm9kZTtpZihiKXtpZihhKWZvcig7YT1kLmZpcnN0Q2hpbGQ7KWIuaW5zZXJ0QmVmb3JlKGQucmVtb3ZlQ2hpbGQoYSksZCk7Yi5yZW1vdmVDaGlsZChkKX1yZXR1cm4gdGhpc30scmVwbGFjZTpmdW5jdGlvbihhKXt0aGlzLmluc2VydEJlZm9yZShhKTthLnJlbW92ZSgpfSx0cmltOmZ1bmN0aW9uKCl7dGhpcy5sdHJpbSgpO3RoaXMucnRyaW0oKX0sbHRyaW06ZnVuY3Rpb24oKXtmb3IodmFyIGE7dGhpcy5nZXRGaXJzdCYmXG4oYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBkPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZClkLmxlbmd0aDxiJiYoYS5zcGxpdChiLWQubGVuZ3RoKSx0aGlzLiQucmVtb3ZlQ2hpbGQodGhpcy4kLmZpcnN0Q2hpbGQpKTtlbHNle2EucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfX0scnRyaW06ZnVuY3Rpb24oKXtmb3IodmFyIGE7dGhpcy5nZXRMYXN0JiYoYT10aGlzLmdldExhc3QoKSk7KXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7dmFyIGQ9Q0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpLGI9YS5nZXRMZW5ndGgoKTtpZihkKWQubGVuZ3RoPGImJihhLnNwbGl0KGQubGVuZ3RoKSx0aGlzLiQubGFzdENoaWxkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy4kLmxhc3RDaGlsZCkpO2Vsc2V7YS5yZW1vdmUoKTtjb250aW51ZX19YnJlYWt9Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJlxuKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZD10aGlzO3RoaXMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZD10aGlzLmdldFBhcmVudCgpKTtDS0VESVRPUi5lbnYuZWRnZSYmZCYmZC5pcyhcInRleHRhcmVhXCIsXCJpbnB1dFwiKSYmKGE9ITApO2lmKCFhJiZkJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZC4kLmlzQ29udGVudEVkaXRhYmxlKXJldHVybiEoZC4kLmlzQ29udGVudEVkaXRhYmxlfHxkLmRhdGEoXCJja2UtZWRpdGFibGVcIikpO2Zvcig7ZDspe2lmKGQuZGF0YShcImNrZS1lZGl0YWJsZVwiKSlyZXR1cm4hMTtpZihkLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm5cImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpO2Q9ZC5nZXRQYXJlbnQoKX1yZXR1cm4hMH19KTtcbkNLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9O0NLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0O1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlLHtmb2N1czpmdW5jdGlvbigpe3RoaXMuJC5mb2N1cygpfSxnZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZD1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZD9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZD9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fFxuYS5ib2R5LnNjcm9sbFRvcHx8MH19LGdldEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmZyYW1lRWxlbWVudDtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSk7Q0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfTtDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0O1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9ET0NVTUVOVCxhcHBlbmRTdHlsZVNoZWV0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KGEpO2Vsc2V7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwibGlua1wiKTtkLnNldEF0dHJpYnV0ZXMoe3JlbDpcInN0eWxlc2hlZXRcIix0eXBlOlwidGV4dC9jc3NcIixocmVmOmF9KTt0aGlzLmdldEhlYWQoKS5hcHBlbmQoZCl9fSxhcHBlbmRTdHlsZVRleHQ6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNyZWF0ZVN0eWxlU2hlZXQpe3ZhciBkPXRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2QuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGIpfXJldHVybiBkfHxcbmIuJC5zaGVldH0sY3JlYXRlRWxlbWVudDpmdW5jdGlvbihhLGQpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLHRoaXMpO2QmJihkLmF0dHJpYnV0ZXMmJmIuc2V0QXR0cmlidXRlcyhkLmF0dHJpYnV0ZXMpLGQuc3R5bGVzJiZiLnNldFN0eWxlcyhkLnN0eWxlcykpO3JldHVybiBifSxjcmVhdGVUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmdldFdpbmRvdygpLmZvY3VzKCl9LGdldEFjdGl2ZTpmdW5jdGlvbigpe3ZhciBhO3RyeXthPXRoaXMuJC5hY3RpdmVFbGVtZW50fWNhdGNoKGQpe3JldHVybiBudWxsfXJldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSl9LGdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBiPVxudGhpcy4kLmRvY3VtZW50RWxlbWVudCxjPTA7YiYmYzxhLmxlbmd0aDtjKyspe3ZhciBlPWFbY107aWYoZClmb3IodmFyIGc9LTEsaD0wO2g8Yi5jaGlsZE5vZGVzLmxlbmd0aDtoKyspe3ZhciBrPWIuY2hpbGROb2Rlc1toXTtpZighMCE9PWR8fDMhPWsubm9kZVR5cGV8fCFrLnByZXZpb3VzU2libGluZ3x8MyE9ay5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUpaWYoZysrLGc9PWUpe2I9azticmVha319ZWxzZSBiPWIuY2hpbGROb2Rlc1tlXX1yZXR1cm4gYj9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6bnVsbH0sZ2V0RWxlbWVudHNCeVRhZzpmdW5jdGlvbihhLGQpe0NLRURJVE9SLmVudi5pZSYmOD49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwhZHx8KGE9ZCtcIjpcIithKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtcbnJldHVybiBhPWE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOnRoaXMuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImhlYWRcIiksITApfSxnZXRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLiQuYm9keSl9LGdldERvY3VtZW50RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmRvY3VtZW50RWxlbWVudCl9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh0aGlzLiQucGFyZW50V2luZG93fHx0aGlzLiQuZGVmYXVsdFZpZXcpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLiQub3BlbihcInRleHQvaHRtbFwiLFwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytcbkNLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcXHgzYy9zY3JpcHRcXHgzZVwiKSk7dGhpcy4kLndyaXRlKGEpO3RoaXMuJC5jbG9zZSgpfSxmaW5kOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGEpKX0sZmluZE9uZTpmdW5jdGlvbihhKXtyZXR1cm4oYT10aGlzLiQucXVlcnlTZWxlY3RvcihhKSk/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOm51bGx9LF9nZXRIdG1sNVNoaXZGcmFnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiKTthfHwoYT10aGlzLiQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLENLRURJVE9SLnRvb2xzLmVuYWJsZUh0bWw1RWxlbWVudHMoYSwhMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KTtDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9O1xuQ0tFRElUT1IuZG9tLm5vZGVMaXN0LnByb3RvdHlwZT17Y291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmxlbmd0aH0sZ2V0SXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gMD5hfHxhPj10aGlzLiQubGVuZ3RoP251bGw6KGE9dGhpcy4kW2FdKT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk6bnVsbH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5hcnJheS5tYXAodGhpcy4kLGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSl9KX19O0NLRURJVE9SLmRvbS5lbGVtZW50PWZ1bmN0aW9uKGEsZCl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShkP2QuJDpkb2N1bWVudCkuY3JlYXRlRWxlbWVudChhKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9O1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybihhPVwic3RyaW5nXCI9PXR5cGVvZiBhP2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZShhKVswXTphKSYmKGEuJD9hOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKSl9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGU7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWw9ZnVuY3Rpb24oYSxkKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIixkKTtiLnNldEh0bWwoYSk7cmV0dXJuIGIuZ2V0Rmlyc3QoKS5yZW1vdmUoKX07XG5DS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXI9ZnVuY3Rpb24oYSxkLGIsYyl7dmFyIGU9ZC5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIil8fGQuc2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX2lkXCIsQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpKS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIiksZz1kLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKXx8ZC5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIix7fSkuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2FbZV09ZDtnW2JdPTE7cmV0dXJuIGQuc2V0Q3VzdG9tRGF0YShiLGMpfTtDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnM9ZnVuY3Rpb24oYSl7Zm9yKHZhciBkIGluIGEpQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGEsYVtkXSwxKX07XG5DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnM9ZnVuY3Rpb24oYSxkLGIpe3ZhciBjPWQuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpLGU9ZC5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIiksZztmb3IoZyBpbiBjKWQucmVtb3ZlQ3VzdG9tRGF0YShnKTtkLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiKTtiJiYoZC5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIiksZGVsZXRlIGFbZV0pfTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4tMTwoXCIgXCIrYStcIiBcIikucmVwbGFjZShnLFwiIFwiKS5pbmRleE9mKFwiIFwiK2IrXCIgXCIpfWZ1bmN0aW9uIGQoYSl7dmFyIGI9ITA7YS4kLmlkfHwoYS4kLmlkPVwiY2tlX3RtcF9cIitDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCksYj0hMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Ynx8YS5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKX19ZnVuY3Rpb24gYihhLGIpe3ZhciBjPUNLRURJVE9SLnRvb2xzLmVzY2FwZUNzcyhhLiQuaWQpO3JldHVyblwiI1wiK2MrXCIgXCIrYi5zcGxpdCgvLFxccyovKS5qb2luKFwiLCAjXCIrYytcIiBcIil9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGI9MCxjPTAsZj1oW2FdLmxlbmd0aDtjPGY7YysrKWIrPXBhcnNlRmxvYXQodGhpcy5nZXRDb21wdXRlZFN0eWxlKGhbYV1bY10pfHwwLDEwKXx8MDtyZXR1cm4gYn12YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKS5jbGFzc0xpc3QsZT1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGUmJlxubnVsbCE9PVN0cmluZyhlLmFkZCkubWF0Y2goL1xcW05hdGl2ZSBjb2RlXFxdL2dpKSxnPS9bXFxuXFx0XFxyXS9nO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9FTEVNRU5ULGFkZENsYXNzOmU/ZnVuY3Rpb24oYSl7dGhpcy4kLmNsYXNzTGlzdC5hZGQoYSk7cmV0dXJuIHRoaXN9OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJC5jbGFzc05hbWU7YyYmKGEoYyxiKXx8KGMrPVwiIFwiK2IpKTt0aGlzLiQuY2xhc3NOYW1lPWN8fGI7cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmU/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kO2IuY2xhc3NMaXN0LnJlbW92ZShhKTtiLmNsYXNzTmFtZXx8Yi5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtyZXR1cm4gdGhpc306ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtjJiZhKGMsYikmJigoYz1jLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKVwiK1xuYitcIig/XFx4M2RcXFxcc3wkKVwiKSxcIlwiKS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpP3RoaXMuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixjKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpKTtyZXR1cm4gdGhpc30saGFzQ2xhc3M6ZnVuY3Rpb24oYil7cmV0dXJuIGEodGhpcy4kLmNsYXNzTmFtZSxiKX0sYXBwZW5kOmZ1bmN0aW9uKGEsYil7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KGEpKTtiP3RoaXMuJC5pbnNlcnRCZWZvcmUoYS4kLHRoaXMuJC5maXJzdENoaWxkKTp0aGlzLiQuYXBwZW5kQ2hpbGQoYS4kKTtyZXR1cm4gYX0sYXBwZW5kSHRtbDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY2hpbGROb2Rlcy5sZW5ndGgpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiLHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yi5zZXRIdG1sKGEpO2IubW92ZUNoaWxkcmVuKHRoaXMpfWVsc2UgdGhpcy5zZXRIdG1sKGEpfSxhcHBlbmRUZXh0OmZ1bmN0aW9uKGEpe251bGwhPVxudGhpcy4kLnRleHQmJkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj90aGlzLiQudGV4dCs9YTp0aGlzLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSkpfSxhcHBlbmRCb2d1czpmdW5jdGlvbihhKXtpZihhfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcil7Zm9yKGE9dGhpcy5nZXRMYXN0KCk7YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSk7KWE9YS5nZXRQcmV2aW91cygpO2EmJmEuaXMmJmEuaXMoXCJiclwiKXx8KGE9dGhpcy5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSxDS0VESVRPUi5lbnYuZ2Vja28mJmEuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiX21velwiKSx0aGlzLmFwcGVuZChhKSl9fSxicmVha1BhcmVudDpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5nZXREb2N1bWVudCgpKTtjLnNldFN0YXJ0QWZ0ZXIodGhpcyk7Yy5zZXRFbmRBZnRlcihhKTtcbnZhciBmPWMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxkO2MuaW5zZXJ0Tm9kZSh0aGlzLnJlbW92ZSgpKTtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZSl7Zm9yKGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2Q9Zi5nZXRGaXJzdCgpOylkLiQuc3R5bGUuYmFja2dyb3VuZENvbG9yJiYoZC4kLnN0eWxlLmJhY2tncm91bmRDb2xvcj1kLiQuc3R5bGUuYmFja2dyb3VuZENvbG9yKSxjLmFwcGVuZChkKTtjLmluc2VydEFmdGVyKHRoaXMpO2MucmVtb3ZlKCEwKX1lbHNlIGYuaW5zZXJ0QWZ0ZXJOb2RlKHRoaXMpfSxjb250YWluczpkb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9mdW5jdGlvbihhKXtyZXR1cm4hISh0aGlzLiQuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYS4kKSYxNil9OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJDtyZXR1cm4gYS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Yi5jb250YWlucyhhLmdldFBhcmVudCgpLiQpOlxuYiE9YS4kJiZiLmNvbnRhaW5zKGEuJCl9LGZvY3VzOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXt0aGlzLiQuZm9jdXMoKX1jYXRjaChiKXt9fXJldHVybiBmdW5jdGlvbihiKXtiP0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYSwxMDAsdGhpcyk6YS5jYWxsKHRoaXMpfX0oKSxnZXRIdG1sOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmlubmVySFRNTDtyZXR1cm4gQ0tFRElUT1IuZW52LmllP2EucmVwbGFjZSgvPFxcP1tePl0qPi9nLFwiXCIpOmF9LGdldE91dGVySHRtbDpmdW5jdGlvbigpe2lmKHRoaXMuJC5vdXRlckhUTUwpcmV0dXJuIHRoaXMuJC5vdXRlckhUTUwucmVwbGFjZSgvPFxcP1tePl0qPi8sXCJcIik7dmFyIGE9dGhpcy4kLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTthLmFwcGVuZENoaWxkKHRoaXMuJC5jbG9uZU5vZGUoITApKTtyZXR1cm4gYS5pbm5lckhUTUx9LGdldENsaWVudFJlY3Q6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQoe30sXG50aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpOyFhLndpZHRoJiYoYS53aWR0aD1hLnJpZ2h0LWEubGVmdCk7IWEuaGVpZ2h0JiYoYS5oZWlnaHQ9YS5ib3R0b20tYS50b3ApO3JldHVybiBhfSxzZXRIdG1sOkNLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj9mdW5jdGlvbihhKXt0cnl7dmFyIGI9dGhpcy4kO2lmKHRoaXMuZ2V0UGFyZW50KCkpcmV0dXJuIGIuaW5uZXJIVE1MPWE7dmFyIGM9dGhpcy5nZXREb2N1bWVudCgpLl9nZXRIdG1sNVNoaXZGcmFnKCk7Yy5hcHBlbmRDaGlsZChiKTtiLmlubmVySFRNTD1hO2MucmVtb3ZlQ2hpbGQoYik7cmV0dXJuIGF9Y2F0Y2goZil7dGhpcy4kLmlubmVySFRNTD1cIlwiO2I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiYm9keVwiLHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yi4kLmlubmVySFRNTD1hO2ZvcihiPWIuZ2V0Q2hpbGRyZW4oKTtiLmNvdW50KCk7KXRoaXMuYXBwZW5kKGIuZ2V0SXRlbSgwKSk7cmV0dXJuIGF9fTpcbmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuaW5uZXJIVE1MPWF9LHNldFRleHQ6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTthLmlubmVySFRNTD1cInhcIjthPWEudGV4dENvbnRlbnQ7cmV0dXJuIGZ1bmN0aW9uKGIpe3RoaXMuJFthP1widGV4dENvbnRlbnRcIjpcImlubmVyVGV4dFwiXT1ifX0oKSxnZXRBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYSl7c3dpdGNoKGEpe2Nhc2UgXCJjbGFzc1wiOmE9XCJjbGFzc05hbWVcIjticmVhaztjYXNlIFwiaHR0cC1lcXVpdlwiOmE9XCJodHRwRXF1aXZcIjticmVhaztjYXNlIFwibmFtZVwiOnJldHVybiB0aGlzLiQubmFtZTtjYXNlIFwidGFiaW5kZXhcIjpyZXR1cm4gYT10aGlzLiQuZ2V0QXR0cmlidXRlKGEsXG4yKSwwIT09YSYmMD09PXRoaXMuJC50YWJJbmRleCYmKGE9bnVsbCksYTtjYXNlIFwiY2hlY2tlZFwiOnJldHVybiBhPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShhKSwoYS5zcGVjaWZpZWQ/YS5ub2RlVmFsdWU6dGhpcy4kLmNoZWNrZWQpP1wiY2hlY2tlZFwiOm51bGw7Y2FzZSBcImhzcGFjZVwiOmNhc2UgXCJ2YWx1ZVwiOnJldHVybiB0aGlzLiRbYV07Y2FzZSBcInN0eWxlXCI6cmV0dXJuIHRoaXMuJC5zdHlsZS5jc3NUZXh0O2Nhc2UgXCJjb250ZW50ZWRpdGFibGVcIjpjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6cmV0dXJuIHRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImNvbnRlbnRFZGl0YWJsZVwiKS5zcGVjaWZpZWQ/dGhpcy4kLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKTpudWxsfXJldHVybiB0aGlzLiQuZ2V0QXR0cmlidXRlKGEsMil9OmF9KCksZ2V0QXR0cmlidXRlczpmdW5jdGlvbihhKXt2YXIgYj17fSxjPXRoaXMuJC5hdHRyaWJ1dGVzLGY7YT1DS0VESVRPUi50b29scy5pc0FycmF5KGEpP1xuYTpbXTtmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKS0xPT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGNbZl0ubmFtZSkmJihiW2NbZl0ubmFtZV09Y1tmXS52YWx1ZSk7cmV0dXJuIGJ9LGdldENoaWxkcmVuOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QodGhpcy4kLmNoaWxkTm9kZXMpfSxnZXRDb21wdXRlZFN0eWxlOmRvY3VtZW50LmRlZmF1bHRWaWV3JiZkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlP2Z1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0V2luZG93KCkuJC5nZXRDb21wdXRlZFN0eWxlKHRoaXMuJCxudWxsKTtyZXR1cm4gYj9iLmdldFByb3BlcnR5VmFsdWUoYSk6XCJcIn06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5jdXJyZW50U3R5bGVbQ0tFRElUT1IudG9vbHMuY3NzU3R5bGVUb0RvbVN0eWxlKGEpXX0sZ2V0RHRkOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZHRkW3RoaXMuZ2V0TmFtZSgpXTt0aGlzLmdldER0ZD1cbmZ1bmN0aW9uKCl7cmV0dXJuIGF9O3JldHVybiBhfSxnZXRFbGVtZW50c0J5VGFnOkNLRURJVE9SLmRvbS5kb2N1bWVudC5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeVRhZyxnZXRUYWJJbmRleDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC50YWJJbmRleDtyZXR1cm4gMCE9PWF8fENLRURJVE9SLmR0ZC4kdGFiSW5kZXhbdGhpcy5nZXROYW1lKCldfHwwPT09cGFyc2VJbnQodGhpcy5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSwxMCk/YTotMX0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQudGV4dENvbnRlbnR8fHRoaXMuJC5pbm5lclRleHR8fFwiXCJ9LGdldFdpbmRvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCl9LGdldElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5pZHx8bnVsbH0sZ2V0TmFtZUF0dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQubmFtZXx8bnVsbH0sZ2V0TmFtZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuaWYoQ0tFRElUT1IuZW52LmllJiY4Pj1kb2N1bWVudC5kb2N1bWVudE1vZGUpe3ZhciBiPXRoaXMuJC5zY29wZU5hbWU7XCJIVE1MXCIhPWImJihhPWIudG9Mb3dlckNhc2UoKStcIjpcIithKX10aGlzLmdldE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIHRoaXMuZ2V0TmFtZSgpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQudmFsdWV9LGdldEZpcnN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJC5maXJzdENoaWxkOyhiPWImJm5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkmJmEmJiFhKGIpJiYoYj1iLmdldE5leHQoYSkpO3JldHVybiBifSxnZXRMYXN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJC5sYXN0Q2hpbGQ7KGI9YiYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKSYmYSYmIWEoYikmJihiPWIuZ2V0UHJldmlvdXMoYSkpO3JldHVybiBifSxnZXRTdHlsZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy4kLnN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19LFxuaXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldE5hbWUoKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYXJndW1lbnRzWzBdKXJldHVybiEhYXJndW1lbnRzWzBdW2FdO2Zvcih2YXIgYj0wO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspaWYoYXJndW1lbnRzW2JdPT1hKXJldHVybiEwO3JldHVybiExfSxpc0VkaXRhYmxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0TmFtZSgpO3JldHVybiB0aGlzLmlzUmVhZE9ubHkoKXx8XCJub25lXCI9PXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fFwiaGlkZGVuXCI9PXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcInZpc2liaWxpdHlcIil8fENLRURJVE9SLmR0ZC4kbm9uRWRpdGFibGVbYl18fENLRURJVE9SLmR0ZC4kZW1wdHlbYl18fHRoaXMuaXMoXCJhXCIpJiYodGhpcy5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fHRoaXMuaGFzQXR0cmlidXRlKFwibmFtZVwiKSkmJiF0aGlzLmdldENoaWxkQ291bnQoKT8hMTohMSE9PWE/KGE9Q0tFRElUT1IuZHRkW2JdfHxcbkNLRURJVE9SLmR0ZC5zcGFuLCEoIWF8fCFhW1wiI1wiXSkpOiEwfSxpc0lkZW50aWNhbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNsb25lKDAsMSk7YT1hLmNsb25lKDAsMSk7Yi5yZW1vdmVBdHRyaWJ1dGVzKFtcIl9tb3pfZGlydHlcIixcImRhdGEtY2tlLWV4cGFuZG9cIixcImRhdGEtY2tlLXNhdmVkLWhyZWZcIixcImRhdGEtY2tlLXNhdmVkLW5hbWVcIl0pO2EucmVtb3ZlQXR0cmlidXRlcyhbXCJfbW96X2RpcnR5XCIsXCJkYXRhLWNrZS1leHBhbmRvXCIsXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCIsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKTtpZihiLiQuaXNFcXVhbE5vZGUpcmV0dXJuIGIuJC5zdHlsZS5jc3NUZXh0PUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYi4kLnN0eWxlLmNzc1RleHQpLGEuJC5zdHlsZS5jc3NUZXh0PUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYS4kLnN0eWxlLmNzc1RleHQpLGIuJC5pc0VxdWFsTm9kZShhLiQpO2I9Yi5nZXRPdXRlckh0bWwoKTthPVxuYS5nZXRPdXRlckh0bWwoKTtpZihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJnRoaXMuaXMoXCJhXCIpKXt2YXIgYz10aGlzLmdldFBhcmVudCgpO2MudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYz1jLmNsb25lKCksYy5zZXRIdG1sKGIpLGI9Yy5nZXRIdG1sKCksYy5zZXRIdG1sKGEpLGE9Yy5nZXRIdG1sKCkpfXJldHVybiBiPT1hfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy4kLm9mZnNldEhlaWdodHx8dGhpcy4kLm9mZnNldFdpZHRoKSYmXCJoaWRkZW5cIiE9dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwidmlzaWJpbGl0eVwiKSxiLGM7YSYmQ0tFRElUT1IuZW52LndlYmtpdCYmKGI9dGhpcy5nZXRXaW5kb3coKSwhYi5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkpJiYoYz1iLiQuZnJhbWVFbGVtZW50KSYmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjKSkuaXNWaXNpYmxlKCkpKTtyZXR1cm4hIWF9LGlzRW1wdHlJbmxpbmVSZW1vdmVhYmxlOmZ1bmN0aW9uKCl7aWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdGhpcy5nZXROYW1lKCldKXJldHVybiExO1xuZm9yKHZhciBhPXRoaXMuZ2V0Q2hpbGRyZW4oKSxiPTAsYz1hLmNvdW50KCk7YjxjO2IrKyl7dmFyIGY9YS5nZXRJdGVtKGIpO2lmKGYudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhZi5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpKWlmKGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZi5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpfHxmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmQ0tFRElUT1IudG9vbHMudHJpbShmLmdldFRleHQoKSkpcmV0dXJuITF9cmV0dXJuITB9LGhhc0F0dHJpYnV0ZXM6Q0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy4kLmF0dHJpYnV0ZXMsYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3N3aXRjaChjLm5vZGVOYW1lKXtjYXNlIFwiY2xhc3NcIjppZih0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpKXJldHVybiEwO2Nhc2UgXCJkYXRhLWNrZS1leHBhbmRvXCI6Y29udGludWU7XG5kZWZhdWx0OmlmKGMuc3BlY2lmaWVkKXJldHVybiEwfX1yZXR1cm4hMX06ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuYXR0cmlidXRlcyxiPWEubGVuZ3RoLGM9e1wiZGF0YS1ja2UtZXhwYW5kb1wiOjEsX21vel9kaXJ0eToxfTtyZXR1cm4gMDxiJiYoMjxifHwhY1thWzBdLm5vZGVOYW1lXXx8Mj09YiYmIWNbYVsxXS5ub2RlTmFtZV0pfSxoYXNBdHRyaWJ1dGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3ZhciBjPXRoaXMuJC5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShiKTtpZihcImlucHV0XCI9PXRoaXMuZ2V0TmFtZSgpKXN3aXRjaChiKXtjYXNlIFwiY2xhc3NcIjpyZXR1cm4gMDx0aGlzLiQuY2xhc3NOYW1lLmxlbmd0aDtjYXNlIFwiY2hlY2tlZFwiOnJldHVybiEhdGhpcy4kLmNoZWNrZWQ7Y2FzZSBcInZhbHVlXCI6cmV0dXJuIGI9dGhpcy5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLFwiY2hlY2tib3hcIj09Ynx8XCJyYWRpb1wiPT1iP1wib25cIiE9dGhpcy4kLnZhbHVlOiEhdGhpcy4kLnZhbHVlfXJldHVybiBjP1xuYy5zcGVjaWZpZWQ6ITF9cmV0dXJuIENLRURJVE9SLmVudi5pZT84PkNLRURJVE9SLmVudi52ZXJzaW9uP2Z1bmN0aW9uKGIpe3JldHVyblwibmFtZVwiPT1iPyEhdGhpcy4kLm5hbWU6YS5jYWxsKHRoaXMsYil9OmE6ZnVuY3Rpb24oYSl7cmV0dXJuISF0aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYSl9fSgpLGhpZGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sbW92ZUNoaWxkcmVuOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kO2E9YS4kO2lmKGMhPWEpe3ZhciBmO2lmKGIpZm9yKDtmPWMubGFzdENoaWxkOylhLmluc2VydEJlZm9yZShjLnJlbW92ZUNoaWxkKGYpLGEuZmlyc3RDaGlsZCk7ZWxzZSBmb3IoO2Y9Yy5maXJzdENoaWxkOylhLmFwcGVuZENoaWxkKGMucmVtb3ZlQ2hpbGQoZikpfX0sbWVyZ2VTaWJsaW5nczpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjLGYpe2lmKGMmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtmb3IodmFyIGQ9XG5bXTtjLmRhdGEoXCJja2UtYm9va21hcmtcIil8fGMuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKTspaWYoZC5wdXNoKGMpLGM9Zj9jLmdldE5leHQoKTpjLmdldFByZXZpb3VzKCksIWN8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybjtpZihiLmlzSWRlbnRpY2FsKGMpKXtmb3IodmFyIGs9Zj9iLmdldExhc3QoKTpiLmdldEZpcnN0KCk7ZC5sZW5ndGg7KWQuc2hpZnQoKS5tb3ZlKGIsIWYpO2MubW92ZUNoaWxkcmVuKGIsIWYpO2MucmVtb3ZlKCk7ayYmay50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmsubWVyZ2VTaWJsaW5ncygpfX19cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKCExPT09Ynx8Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt0aGlzLmdldE5hbWUoKV18fHRoaXMuaXMoXCJhXCIpKWEodGhpcyx0aGlzLmdldE5leHQoKSwhMCksYSh0aGlzLHRoaXMuZ2V0UHJldmlvdXMoKSl9fSgpLHNob3c6ZnVuY3Rpb24oKXt0aGlzLnNldFN0eWxlcyh7ZGlzcGxheTpcIlwiLFxudmlzaWJpbGl0eTpcIlwifSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7dGhpcy4kLnNldEF0dHJpYnV0ZShhLGIpO3JldHVybiB0aGlzfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYixjKXtcImNsYXNzXCI9PWI/dGhpcy4kLmNsYXNzTmFtZT1jOlwic3R5bGVcIj09Yj90aGlzLiQuc3R5bGUuY3NzVGV4dD1jOlwidGFiaW5kZXhcIj09Yj90aGlzLiQudGFiSW5kZXg9YzpcImNoZWNrZWRcIj09Yj90aGlzLiQuY2hlY2tlZD1jOlwiY29udGVudGVkaXRhYmxlXCI9PWI/YS5jYWxsKHRoaXMsXCJjb250ZW50RWRpdGFibGVcIixjKTphLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdGhpc306Q0tFRElUT1IuZW52LmllOENvbXBhdCYmQ0tFRElUT1IuZW52LnNlY3VyZT9mdW5jdGlvbihiLGMpe2lmKFwic3JjXCI9PWImJmMubWF0Y2goL15odHRwOlxcL1xcLy8pKXRyeXthLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpfWNhdGNoKGYpe31lbHNlIGEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfTphfSgpLHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpdGhpcy5zZXRBdHRyaWJ1dGUoYixhW2JdKTtyZXR1cm4gdGhpc30sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy4kLnZhbHVlPWE7cmV0dXJuIHRoaXN9LHJlbW92ZUF0dHJpYnV0ZTpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuJC5yZW1vdmVBdHRyaWJ1dGUoYSl9O3JldHVybiBDS0VESVRPUi5lbnYuaWUmJihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYucXVpcmtzKT9mdW5jdGlvbihhKXtcImNsYXNzXCI9PWE/YT1cImNsYXNzTmFtZVwiOlwidGFiaW5kZXhcIj09YT9hPVwidGFiSW5kZXhcIjpcImNvbnRlbnRlZGl0YWJsZVwiPT1hJiYoYT1cImNvbnRlbnRFZGl0YWJsZVwiKTt0aGlzLiQucmVtb3ZlQXR0cmlidXRlKGEpfTphfSgpLHJlbW92ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlmb3IodmFyIGI9XG4wO2I8YS5sZW5ndGg7YisrKXRoaXMucmVtb3ZlQXR0cmlidXRlKGFbYl0pO2Vsc2UgZm9yKGIgaW4gYT1hfHx0aGlzLmdldEF0dHJpYnV0ZXMoKSxhKWEuaGFzT3duUHJvcGVydHkoYikmJnRoaXMucmVtb3ZlQXR0cmlidXRlKGIpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQuc3R5bGU7aWYoYi5yZW1vdmVQcm9wZXJ0eXx8XCJib3JkZXJcIiE9YSYmXCJtYXJnaW5cIiE9YSYmXCJwYWRkaW5nXCIhPWEpYi5yZW1vdmVQcm9wZXJ0eT9iLnJlbW92ZVByb3BlcnR5KGEpOmIucmVtb3ZlQXR0cmlidXRlKENLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKSksdGhpcy4kLnN0eWxlLmNzc1RleHR8fHRoaXMucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIik7ZWxzZXt2YXIgYz1bXCJ0b3BcIixcImxlZnRcIixcInJpZ2h0XCIsXCJib3R0b21cIl0sZjtcImJvcmRlclwiPT1hJiYoZj1bXCJjb2xvclwiLFwic3R5bGVcIixcIndpZHRoXCJdKTtmb3IodmFyIGI9W10sZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKGYpZm9yKHZhciB3PVxuMDt3PGYubGVuZ3RoO3crKyliLnB1c2goW2EsY1tkXSxmW3ddXS5qb2luKFwiLVwiKSk7ZWxzZSBiLnB1c2goW2EsY1tkXV0uam9pbihcIi1cIikpO2ZvcihhPTA7YTxiLmxlbmd0aDthKyspdGhpcy5yZW1vdmVTdHlsZShiW2FdKX19LHNldFN0eWxlOmZ1bmN0aW9uKGEsYil7dGhpcy4kLnN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV09YjtyZXR1cm4gdGhpc30sc2V0U3R5bGVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXMuc2V0U3R5bGUoYixhW2JdKTtyZXR1cm4gdGhpc30sc2V0T3BhY2l0eTpmdW5jdGlvbihhKXtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/KGE9TWF0aC5yb3VuZCgxMDAqYSksdGhpcy5zZXRTdHlsZShcImZpbHRlclwiLDEwMDw9YT9cIlwiOlwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKG9wYWNpdHlcXHgzZFwiK2ErXCIpXCIpKTp0aGlzLnNldFN0eWxlKFwib3BhY2l0eVwiLGEpfSx1bnNlbGVjdGFibGU6ZnVuY3Rpb24oKXt0aGlzLnNldFN0eWxlcyhDS0VESVRPUi50b29scy5jc3NWZW5kb3JQcmVmaXgoXCJ1c2VyLXNlbGVjdFwiLFxuXCJub25lXCIpKTtpZihDS0VESVRPUi5lbnYuaWUpe3RoaXMuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKTtmb3IodmFyIGEsYj10aGlzLmdldEVsZW1lbnRzQnlUYWcoXCIqXCIpLGM9MCxmPWIuY291bnQoKTtjPGY7YysrKWE9Yi5nZXRJdGVtKGMpLGEuc2V0QXR0cmlidXRlKFwidW5zZWxlY3RhYmxlXCIsXCJvblwiKX19LGdldFBvc2l0aW9uZWRBbmNlc3RvcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzO1wiaHRtbFwiIT1hLmdldE5hbWUoKTspe2lmKFwic3RhdGljXCIhPWEuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpKXJldHVybiBhO2E9YS5nZXRQYXJlbnQoKX1yZXR1cm4gbnVsbH0sZ2V0RG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYj0wLGM9MCxmPXRoaXMuZ2V0RG9jdW1lbnQoKSxkPWYuZ2V0Qm9keSgpLHc9XCJCYWNrQ29tcGF0XCI9PWYuJC5jb21wYXRNb2RlO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QmJihDS0VESVRPUi5lbnYuaWU/XG44IT09Q0tFRElUT1IuZW52LnZlcnNpb246MSkpe3ZhciBlPXRoaXMuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxnPWYuJC5kb2N1bWVudEVsZW1lbnQseD1nLmNsaWVudFRvcHx8ZC4kLmNsaWVudFRvcHx8MCxtPWcuY2xpZW50TGVmdHx8ZC4kLmNsaWVudExlZnR8fDAsaD0hMDtDS0VESVRPUi5lbnYuaWUmJihoPWYuZ2V0RG9jdW1lbnRFbGVtZW50KCkuY29udGFpbnModGhpcyksZj1mLmdldEJvZHkoKS5jb250YWlucyh0aGlzKSxoPXcmJmZ8fCF3JiZoKTtoJiYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmllJiYxMjw9Q0tFRElUT1IuZW52LnZlcnNpb24/KGI9ZC4kLnNjcm9sbExlZnR8fGcuc2Nyb2xsTGVmdCxjPWQuJC5zY3JvbGxUb3B8fGcuc2Nyb2xsVG9wKTooYz13P2QuJDpnLGI9Yy5zY3JvbGxMZWZ0LGM9Yy5zY3JvbGxUb3ApLGI9ZS5sZWZ0K2ItbSxjPWUudG9wK2MteCl9ZWxzZSBmb3IoeD10aGlzLG09bnVsbDt4JiZcImJvZHlcIiE9eC5nZXROYW1lKCkmJlxuXCJodG1sXCIhPXguZ2V0TmFtZSgpOyl7Yis9eC4kLm9mZnNldExlZnQteC4kLnNjcm9sbExlZnQ7Yys9eC4kLm9mZnNldFRvcC14LiQuc2Nyb2xsVG9wO3guZXF1YWxzKHRoaXMpfHwoYis9eC4kLmNsaWVudExlZnR8fDAsYys9eC4kLmNsaWVudFRvcHx8MCk7Zm9yKDttJiYhbS5lcXVhbHMoeCk7KWItPW0uJC5zY3JvbGxMZWZ0LGMtPW0uJC5zY3JvbGxUb3AsbT1tLmdldFBhcmVudCgpO209eDt4PShlPXguJC5vZmZzZXRQYXJlbnQpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChlKTpudWxsfWEmJihlPXRoaXMuZ2V0V2luZG93KCkseD1hLmdldFdpbmRvdygpLCFlLmVxdWFscyh4KSYmZS4kLmZyYW1lRWxlbWVudCYmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChlLiQuZnJhbWVFbGVtZW50KSkuZ2V0RG9jdW1lbnRQb3NpdGlvbihhKSxiKz1hLngsYys9YS55KSk7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdHx8IUNLRURJVE9SLmVudi5nZWNrb3x8XG53fHwoYis9dGhpcy4kLmNsaWVudExlZnQ/MTowLGMrPXRoaXMuJC5jbGllbnRUb3A/MTowKTtyZXR1cm57eDpiLHk6Y319LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0UGFyZW50KCk7aWYoYil7ZG8gaWYoKGIuJC5jbGllbnRXaWR0aCYmYi4kLmNsaWVudFdpZHRoPGIuJC5zY3JvbGxXaWR0aHx8Yi4kLmNsaWVudEhlaWdodCYmYi4kLmNsaWVudEhlaWdodDxiLiQuc2Nyb2xsSGVpZ2h0KSYmIWIuaXMoXCJib2R5XCIpJiZ0aGlzLnNjcm9sbEludG9QYXJlbnQoYixhLDEpLGIuaXMoXCJodG1sXCIpKXt2YXIgYz1iLmdldFdpbmRvdygpO3RyeXt2YXIgZj1jLiQuZnJhbWVFbGVtZW50O2YmJihiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmKSl9Y2F0Y2goZCl7fX13aGlsZShiPWIuZ2V0UGFyZW50KCkpfX0sc2Nyb2xsSW50b1BhcmVudDpmdW5jdGlvbihhLGIsYyl7dmFyIGYsZCx3LGU7ZnVuY3Rpb24gZyhiLGMpey9ib2R5fGh0bWwvLnRlc3QoYS5nZXROYW1lKCkpP1xuYS5nZXRXaW5kb3coKS4kLnNjcm9sbEJ5KGIsYyk6KGEuJC5zY3JvbGxMZWZ0Kz1iLGEuJC5zY3JvbGxUb3ArPWMpfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz17eDowLHk6MH07aWYoIWEuaXMoaD9cImJvZHlcIjpcImh0bWxcIikpe3ZhciBmPWEuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtjLng9Zi5sZWZ0O2MueT1mLnRvcH1mPWEuZ2V0V2luZG93KCk7Zi5lcXVhbHMoYil8fChmPXgoQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGYuJC5mcmFtZUVsZW1lbnQpLGIpLGMueCs9Zi54LGMueSs9Zi55KTtyZXR1cm4gY31mdW5jdGlvbiBtKGEsYil7cmV0dXJuIHBhcnNlSW50KGEuZ2V0Q29tcHV0ZWRTdHlsZShcIm1hcmdpbi1cIitiKXx8MCwxMCl8fDB9IWEmJihhPXRoaXMuZ2V0V2luZG93KCkpO3c9YS5nZXREb2N1bWVudCgpO3ZhciBoPVwiQmFja0NvbXBhdFwiPT13LiQuY29tcGF0TW9kZTthIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLndpbmRvdyYmKGE9aD93LmdldEJvZHkoKTp3LmdldERvY3VtZW50RWxlbWVudCgpKTtcbkNLRURJVE9SLmVudi53ZWJraXQmJih3PXRoaXMuZ2V0RWRpdG9yKCExKSkmJih3Ll8ucHJldmlvdXNTY3JvbGxUb3A9bnVsbCk7dz1hLmdldFdpbmRvdygpO2Q9eCh0aGlzLHcpO3ZhciB6PXgoYSx3KSxJPXRoaXMuJC5vZmZzZXRIZWlnaHQ7Zj10aGlzLiQub2Zmc2V0V2lkdGg7dmFyIGw9YS4kLmNsaWVudEhlaWdodCxyPWEuJC5jbGllbnRXaWR0aDt3PWQueC1tKHRoaXMsXCJsZWZ0XCIpLXoueHx8MDtlPWQueS1tKHRoaXMsXCJ0b3BcIiktei55fHwwO2Y9ZC54K2YrbSh0aGlzLFwicmlnaHRcIiktKHoueCtyKXx8MDtkPWQueStJK20odGhpcyxcImJvdHRvbVwiKS0oei55K2wpfHwwOygwPmV8fDA8ZCkmJmcoMCwhMD09PWI/ZTohMT09PWI/ZDowPmU/ZTpkKTtjJiYoMD53fHwwPGYpJiZnKDA+dz93OmYsMCl9LHNldFN0YXRlOmZ1bmN0aW9uKGEsYixjKXtiPWJ8fFwiY2tlXCI7c3dpdGNoKGEpe2Nhc2UgQ0tFRElUT1IuVFJJU1RBVEVfT046dGhpcy5hZGRDbGFzcyhiK1wiX29uXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcblwiX29mZlwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfZGlzYWJsZWRcIik7YyYmdGhpcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiwhMCk7YyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6dGhpcy5hZGRDbGFzcyhiK1wiX2Rpc2FibGVkXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9vZmZcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX29uXCIpO2MmJnRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLCEwKTtjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiKTticmVhaztkZWZhdWx0OnRoaXMuYWRkQ2xhc3MoYitcIl9vZmZcIiksdGhpcy5yZW1vdmVDbGFzcyhiK1wiX29uXCIpLHRoaXMucmVtb3ZlQ2xhc3MoYitcIl9kaXNhYmxlZFwiKSxjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiKSxjJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIil9fSxcbmdldEZyYW1lRG9jdW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQ7dHJ5e2EuY29udGVudFdpbmRvdy5kb2N1bWVudH1jYXRjaChiKXthLnNyYz1hLnNyY31yZXR1cm4gYSYmbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChhLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpfSxjb3B5QXR0cmlidXRlczpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJC5hdHRyaWJ1dGVzO2I9Ynx8e307Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspe3ZhciBkPWNbZl0sdz1kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZTtpZighKHcgaW4gYikpaWYoXCJjaGVja2VkXCI9PXcmJihlPXRoaXMuZ2V0QXR0cmlidXRlKHcpKSlhLnNldEF0dHJpYnV0ZSh3LGUpO2Vsc2UgaWYoIUNLRURJVE9SLmVudi5pZXx8dGhpcy5oYXNBdHRyaWJ1dGUodykpZT10aGlzLmdldEF0dHJpYnV0ZSh3KSxudWxsPT09ZSYmKGU9ZC5ub2RlVmFsdWUpLGEuc2V0QXR0cmlidXRlKHcsZSl9XCJcIiE9PXRoaXMuJC5zdHlsZS5jc3NUZXh0JiZcbihhLiQuc3R5bGUuY3NzVGV4dD10aGlzLiQuc3R5bGUuY3NzVGV4dCl9LHJlbmFtZU5vZGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5nZXROYW1lKCkhPWEpe3ZhciBiPXRoaXMuZ2V0RG9jdW1lbnQoKTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhLGIpO3RoaXMuY29weUF0dHJpYnV0ZXMoYSk7dGhpcy5tb3ZlQ2hpbGRyZW4oYSk7dGhpcy5nZXRQYXJlbnQoITApJiZ0aGlzLiQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYS4kLHRoaXMuJCk7YS4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXT10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdO3RoaXMuJD1hLiQ7ZGVsZXRlIHRoaXMuZ2V0TmFtZX19LGdldENoaWxkOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3ZhciBmPWIuY2hpbGROb2RlcztpZigwPD1jJiZjPGYubGVuZ3RoKXJldHVybiBmW2NdfXJldHVybiBmdW5jdGlvbihiKXt2YXIgYz10aGlzLiQ7aWYoYi5zbGljZSlmb3IoYj1iLnNsaWNlKCk7MDxiLmxlbmd0aCYmYzspYz1hKGMsXG5iLnNoaWZ0KCkpO2Vsc2UgYz1hKGMsYik7cmV0dXJuIGM/bmV3IENLRURJVE9SLmRvbS5ub2RlKGMpOm51bGx9fSgpLGdldENoaWxkQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RofSxkaXNhYmxlQ29udGV4dE1lbnU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5oYXNDbGFzcyhcImNrZV9lbmFibGVfY29udGV4dF9tZW51XCIpfXRoaXMub24oXCJjb250ZXh0bWVudVwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5nZXRUYXJnZXQoKS5nZXRBc2NlbmRhbnQoYSwhMCl8fGIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSl9LGdldERpcmVjdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXJlY3Rpb25cIil8fHRoaXMuZ2V0RGlyZWN0aW9uKCl8fHRoaXMuZ2V0UGFyZW50KCkmJnRoaXMuZ2V0UGFyZW50KCkuZ2V0RGlyZWN0aW9uKDEpfHx0aGlzLmdldERvY3VtZW50KCkuJC5kaXJ8fFxuXCJsdHJcIjp0aGlzLmdldFN0eWxlKFwiZGlyZWN0aW9uXCIpfHx0aGlzLmdldEF0dHJpYnV0ZShcImRpclwiKX0sZGF0YTpmdW5jdGlvbihhLGIpe2E9XCJkYXRhLVwiK2E7aWYodm9pZCAwPT09YilyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoYSk7ITE9PT1iP3RoaXMucmVtb3ZlQXR0cmlidXRlKGEpOnRoaXMuc2V0QXR0cmlidXRlKGEsYik7cmV0dXJuIG51bGx9LGdldEVkaXRvcjpmdW5jdGlvbihhKXt2YXIgYj1DS0VESVRPUi5pbnN0YW5jZXMsYyxmLGQ7YT1hfHx2b2lkIDA9PT1hO2ZvcihjIGluIGIpaWYoZj1iW2NdLGYuZWxlbWVudC5lcXVhbHModGhpcykmJmYuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUT3x8IWEmJihkPWYuZWRpdGFibGUoKSkmJihkLmVxdWFscyh0aGlzKXx8ZC5jb250YWlucyh0aGlzKSkpcmV0dXJuIGY7cmV0dXJuIG51bGx9LGZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGM9ZCh0aGlzKTthPW5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QodGhpcy4kLnF1ZXJ5U2VsZWN0b3JBbGwoYih0aGlzLFxuYSkpKTtjKCk7cmV0dXJuIGF9LGZpbmRPbmU6ZnVuY3Rpb24oYSl7dmFyIGM9ZCh0aGlzKTthPXRoaXMuJC5xdWVyeVNlbGVjdG9yKGIodGhpcyxhKSk7YygpO3JldHVybiBhP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYixjKXtpZighKGN8fGImJnRoaXMudHlwZSE9YikpdmFyIGY9YSh0aGlzKTtpZighMSE9PWYpe2M9dGhpcy5nZXRDaGlsZHJlbigpO2Zvcih2YXIgZD0wO2Q8Yy5jb3VudCgpO2QrKylmPWMuZ2V0SXRlbShkKSxmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9mLmZvckVhY2goYSxiKTpiJiZmLnR5cGUhPWJ8fGEoZil9fX0pO3ZhciBoPXt3aWR0aDpbXCJib3JkZXItbGVmdC13aWR0aFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCIsXCJwYWRkaW5nLWxlZnRcIixcInBhZGRpbmctcmlnaHRcIl0saGVpZ2h0OltcImJvcmRlci10b3Atd2lkdGhcIixcImJvcmRlci1ib3R0b20td2lkdGhcIixcInBhZGRpbmctdG9wXCIsXCJwYWRkaW5nLWJvdHRvbVwiXX07XG5DS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuc2V0U2l6ZT1mdW5jdGlvbihhLGIsZCl7XCJudW1iZXJcIj09dHlwZW9mIGImJighZHx8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzfHwoYi09Yy5jYWxsKHRoaXMsYSkpLHRoaXMuc2V0U3R5bGUoYSxiK1wicHhcIikpfTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbihhLGIpe3ZhciBkPU1hdGgubWF4KHRoaXMuJFtcIm9mZnNldFwiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYSldLHRoaXMuJFtcImNsaWVudFwiK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUoYSldKXx8MDtiJiYoZC09Yy5jYWxsKHRoaXMsYSkpO3JldHVybiBkfX0pKCk7Q0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYSl7YT1hfHxDS0VESVRPUi5kb2N1bWVudDt0aGlzLiQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP2EuJC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6YX07XG5DS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQucHJvdG90eXBlLENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihhKXthPWEuJDthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLm5leHRTaWJsaW5nKX0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLmNsb25lKDEsMSkuYXBwZW5kVG8oYSk7cmV0dXJuIGEuZ2V0SHRtbCgpLnJlcGxhY2UoL1xccypkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGNsb25lOjEsZ2V0Rmlyc3Q6MSxnZXRIdG1sOjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsXG5pbnNlcnRBZnRlck5vZGU6MSxyZXBsYWNlOjEsdHJpbToxLHR5cGU6MSxsdHJpbToxLHJ0cmltOjEsZ2V0RG9jdW1lbnQ6MSxnZXRDaGlsZENvdW50OjEsZ2V0Q2hpbGQ6MSxnZXRDaGlsZHJlbjoxfSk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGM9dGhpcy5yYW5nZTtpZih0aGlzLl8uZW5kKXJldHVybiBudWxsO2lmKCF0aGlzLl8uc3RhcnQpe3RoaXMuXy5zdGFydD0xO2lmKGMuY29sbGFwc2VkKXJldHVybiB0aGlzLmVuZCgpLG51bGw7Yy5vcHRpbWl6ZSgpfXZhciBmLGQ9Yy5zdGFydENvbnRhaW5lcjtmPWMuZW5kQ29udGFpbmVyO3ZhciBlPWMuc3RhcnRPZmZzZXQsRD1jLmVuZE9mZnNldCxnLGw9dGhpcy5ndWFyZCxyPXRoaXMudHlwZSxKPWE/XCJnZXRQcmV2aW91c1NvdXJjZU5vZGVcIjpcImdldE5leHRTb3VyY2VOb2RlXCI7aWYoIWEmJiF0aGlzLl8uZ3VhcmRMVFIpe3ZhciBIPWYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2Y6Zi5nZXRQYXJlbnQoKSxrPWYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2YuZ2V0Q2hpbGQoRCk6Zi5nZXROZXh0KCk7dGhpcy5fLmd1YXJkTFRSPWZ1bmN0aW9uKGEsYil7cmV0dXJuKCFifHwhSC5lcXVhbHMoYSkpJiYoIWt8fFxuIWEuZXF1YWxzKGspKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGMucm9vdCkpfX1pZihhJiYhdGhpcy5fLmd1YXJkUlRMKXt2YXIgdT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kOmQuZ2V0UGFyZW50KCkseT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9lP2QuZ2V0Q2hpbGQoZS0xKTpudWxsOmQuZ2V0UHJldmlvdXMoKTt0aGlzLl8uZ3VhcmRSVEw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIWJ8fCF1LmVxdWFscyhhKSkmJigheXx8IWEuZXF1YWxzKHkpKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGMucm9vdCkpfX12YXIgdj1hP3RoaXMuXy5ndWFyZFJUTDp0aGlzLl8uZ3VhcmRMVFI7Zz1sP2Z1bmN0aW9uKGEsYil7cmV0dXJuITE9PT12KGEsYik/ITE6bChhLGIpfTp2O3RoaXMuY3VycmVudD9mPXRoaXMuY3VycmVudFtKXSghMSxyLGcpOihhP2YudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbihmPTA8RD9mLmdldENoaWxkKEQtMSk6ITE9PT1nKGYsITApP251bGw6Zi5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAscixnKSk6KGY9ZCxmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKChmPWYuZ2V0Q2hpbGQoZSkpfHwoZj0hMT09PWcoZCwhMCk/bnVsbDpkLmdldE5leHRTb3VyY2VOb2RlKCEwLHIsZykpKSksZiYmITE9PT1nKGYpJiYoZj1udWxsKSk7Zm9yKDtmJiYhdGhpcy5fLmVuZDspe3RoaXMuY3VycmVudD1mO2lmKCF0aGlzLmV2YWx1YXRvcnx8ITEhPT10aGlzLmV2YWx1YXRvcihmKSl7aWYoIWIpcmV0dXJuIGZ9ZWxzZSBpZihiJiZ0aGlzLmV2YWx1YXRvcilyZXR1cm4hMTtmPWZbSl0oITEscixnKX10aGlzLmVuZCgpO3JldHVybiB0aGlzLmN1cnJlbnQ9bnVsbH1mdW5jdGlvbiBkKGIpe2Zvcih2YXIgYyxmPW51bGw7Yz1hLmNhbGwodGhpcyxiKTspZj1jO3JldHVybiBmfUNLRURJVE9SLmRvbS53YWxrZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7dGhpcy5yYW5nZT1cbmE7dGhpcy5fPXt9fSxwcm90bzp7ZW5kOmZ1bmN0aW9uKCl7dGhpcy5fLmVuZD0xfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0scHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMsMSl9LGNoZWNrRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMCwxKX0sY2hlY2tCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMSwxKX0sbGFzdEZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMpfSxsYXN0QmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZC5jYWxsKHRoaXMsMSl9LHJlc2V0OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY3VycmVudDt0aGlzLl89e319fX0pO3ZhciBiPXtibG9jazoxLFwibGlzdC1pdGVtXCI6MSx0YWJsZToxLFwidGFibGUtcm93LWdyb3VwXCI6MSxcInRhYmxlLWhlYWRlci1ncm91cFwiOjEsXCJ0YWJsZS1mb290ZXItZ3JvdXBcIjoxLFwidGFibGUtcm93XCI6MSxcInRhYmxlLWNvbHVtbi1ncm91cFwiOjEsXG5cInRhYmxlLWNvbHVtblwiOjEsXCJ0YWJsZS1jZWxsXCI6MSxcInRhYmxlLWNhcHRpb25cIjoxfSxjPXthYnNvbHV0ZToxLGZpeGVkOjF9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5pc0Jsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuXCJub25lXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpfHx0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKWluIGN8fCFiW3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIildPyEhKHRoaXMuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fGEmJnRoaXMuaXMoYSkpOiEwfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiEoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KGEpKX19O0NLRURJVE9SLmRvbS53YWxrZXIubGlzdEl0ZW1Cb3VuZGFyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJsb2NrQm91bmRhcnkoe2JyOjF9KX07XG5DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gYSYmYS5nZXROYW1lJiZcInNwYW5cIj09YS5nZXROYW1lKCkmJmEuZGF0YShcImNrZS1ib29rbWFya1wiKX1yZXR1cm4gZnVuY3Rpb24oZil7dmFyIGQsZTtkPWYmJmYudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZT1mLmdldFBhcmVudCgpKSYmYyhlKTtkPWE/ZDpkfHxjKGYpO3JldHVybiEhKGJeZCl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYztiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGM9IUNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpfHxDS0VESVRPUi5lbnYud2Via2l0JiZiLmdldFRleHQoKT09Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UpO3JldHVybiEhKGFeYyl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZT1cbmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmVudi53ZWJraXQ/MTowO3JldHVybiBmdW5jdGlvbihmKXtiKGYpP2Y9MTooZi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmPWYuZ2V0UGFyZW50KCkpLGY9Zi4kLm9mZnNldFdpZHRoPD1jKTtyZXR1cm4hIShhXmYpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4hIShiXmMudHlwZT09YSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIWcoYSkmJiFoKGEpfXJldHVybiBmdW5jdGlvbihjKXt2YXIgZj1DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9jLmlzJiZjLmlzKFwiYnJcIik6Yy5nZXRUZXh0JiZlLnRlc3QoYy5nZXRUZXh0KCkpO2YmJihmPWMuZ2V0UGFyZW50KCksYz1jLmdldE5leHQoYiksZj1mLmlzQmxvY2tCb3VuZGFyeSgpJiZcbighY3x8Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXNCbG9ja0JvdW5kYXJ5KCkpKTtyZXR1cm4hIShhXmYpfX07Q0tFRElUT1IuZG9tLndhbGtlci50ZW1wPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSk7Yj1iJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIik7cmV0dXJuISEoYV5iKX19O3ZhciBlPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxnPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxoPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxrPUNLRURJVE9SLmRvbS53YWxrZXIudGVtcCgpLG49ZnVuY3Rpb24oYSl7cmV0dXJuIGgoYSl8fGcoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSl9O0NLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZD1cbmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPWcoYil8fGgoYil8fGsoYik7cmV0dXJuISEoYV5iKX19O3ZhciBxPUNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZCgpO0NLRURJVE9SLmRvbS53YWxrZXIuZW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgYz0wLGY9Yi5nZXRDaGlsZENvdW50KCk7YzxmOysrYylpZighcShiLmdldENoaWxkKGMpKSlyZXR1cm4hIWE7cmV0dXJuIWF9fTt2YXIgZj1DS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5KCksRD1DS0VESVRPUi5kb20ud2Fsa2VyLnZhbGlkRW1wdHlCbG9ja0NvbnRhaW5lcnM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGEpe3ZhciBiPXt9LGM7Zm9yKGMgaW4gYSlDS0VESVRPUi5kdGRbY11bXCIjXCJdJiYoYltjXT0xKTtyZXR1cm4gYn0oQ0tFRElUT1IuZHRkLiRibG9jaykse2NhcHRpb246MSx0ZDoxLHRoOjF9KTtDS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPVxucShiKT8hMTpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKXx8Yi5pcyhcImhyXCIpfHxcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmIuaXMoRCkmJmYoYikpPyEwOiExO3JldHVybiEhKGFeYil9fTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0Qm9ndXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RvIGE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTt3aGlsZShuKGEpKTtyZXR1cm4gYSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP2EuaXMmJmEuaXMoXCJiclwiKTphLmdldFRleHQmJmUudGVzdChhLmdldFRleHQoKSkpP2E6ITF9fSkoKTtcbkNLRURJVE9SLmRvbS5yYW5nZT1mdW5jdGlvbihhKXt0aGlzLmVuZE9mZnNldD10aGlzLmVuZENvbnRhaW5lcj10aGlzLnN0YXJ0T2Zmc2V0PXRoaXMuc3RhcnRDb250YWluZXI9bnVsbDt0aGlzLmNvbGxhcHNlZD0hMDt2YXIgZD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50O3RoaXMuZG9jdW1lbnQ9ZD9hOmEuZ2V0RG9jdW1lbnQoKTt0aGlzLnJvb3Q9ZD9hLmdldEJvZHkoKTphfTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YS5jb2xsYXBzZWQ9YS5zdGFydENvbnRhaW5lciYmYS5lbmRDb250YWluZXImJmEuc3RhcnRDb250YWluZXIuZXF1YWxzKGEuZW5kQ29udGFpbmVyKSYmYS5zdGFydE9mZnNldD09YS5lbmRPZmZzZXR9ZnVuY3Rpb24gZChhLGIsYyxkLGUpe2Z1bmN0aW9uIGcoYSxiLGMsZil7dmFyIFg9Yz9hLmdldFByZXZpb3VzKCk6YS5nZXROZXh0KCk7aWYoZiYmaClyZXR1cm4gWDtsfHxmP2IuYXBwZW5kKGEuY2xvbmUoITAsZSksYyk6KGEucmVtb3ZlKCkscSYmYi5hcHBlbmQoYSxjKSk7cmV0dXJuIFh9ZnVuY3Rpb24gbSgpe3ZhciBhLGIsYyxmPU1hdGgubWluKE8ubGVuZ3RoLHAubGVuZ3RoKTtmb3IoYT0wO2E8ZjthKyspaWYoYj1PW2FdLGM9cFthXSwhYi5lcXVhbHMoYykpcmV0dXJuIGE7cmV0dXJuIGEtMX1mdW5jdGlvbiBrKCl7dmFyIGI9Qy0xLGM9diYmQiYmIXIuZXF1YWxzKEopO2I8dC0xfHxiPEYtMXx8Yz8oYz9hLm1vdmVUb1Bvc2l0aW9uKEosXG5DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOkY9PWIrMSYmeT9hLm1vdmVUb1Bvc2l0aW9uKHBbYl0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk6YS5tb3ZlVG9Qb3NpdGlvbihwW2IrMV0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkJiYoYj1PW2IrMV0pJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1ib29rbWFya1xceDNkXCIxXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnLGEuZG9jdW1lbnQpLGMuaW5zZXJ0QWZ0ZXIoYiksYi5tZXJnZVNpYmxpbmdzKCExKSxhLm1vdmVUb0Jvb2ttYXJrKHtzdGFydE5vZGU6Y30pKSk6YS5jb2xsYXBzZSghMCl9YS5vcHRpbWl6ZUJvb2ttYXJrKCk7dmFyIGg9MD09PWIscT0xPT1iLGw9Mj09YjtiPWx8fHE7dmFyIHI9YS5zdGFydENvbnRhaW5lcixKPWEuZW5kQ29udGFpbmVyLFxuSD1hLnN0YXJ0T2Zmc2V0LEU9YS5lbmRPZmZzZXQsdSx5LHYsQixMLG47aWYobCYmSi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihyLmVxdWFscyhKKXx8ci50eXBlPT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZyLmdldEZpcnN0KCkuZXF1YWxzKEopKSljLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoSi5zdWJzdHJpbmcoSCxFKSkpO2Vsc2V7Si50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/bD9uPSEwOko9Si5zcGxpdChFKTowPEouZ2V0Q2hpbGRDb3VudCgpP0U+PUouZ2V0Q2hpbGRDb3VudCgpPyhKPUouZ2V0Q2hpbGQoRS0xKSx5PSEwKTpKPUouZ2V0Q2hpbGQoRSk6Qj15PSEwO3IudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP2w/TD0hMDpyLnNwbGl0KEgpOjA8ci5nZXRDaGlsZENvdW50KCk/MD09PUg/KHI9ci5nZXRDaGlsZChIKSx1PSEwKTpyPXIuZ2V0Q2hpbGQoSC0xKTp2PXU9ITA7Zm9yKHZhciBPPXIuZ2V0UGFyZW50cygpLHA9Si5nZXRQYXJlbnRzKCksQz1tKCksXG50PU8ubGVuZ3RoLTEsRj1wLmxlbmd0aC0xLE49YyxYLFksVSxlYT0tMSxQPUM7UDw9dDtQKyspe1k9T1tQXTtVPVkuZ2V0TmV4dCgpO2ZvcihQIT10fHxZLmVxdWFscyhwW1BdKSYmdDxGP2ImJihYPU4uYXBwZW5kKFkuY2xvbmUoMCxlKSkpOnU/ZyhZLE4sITEsdik6TCYmTi5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KFkuc3Vic3RyaW5nKEgpKSk7VTspe2lmKFUuZXF1YWxzKHBbUF0pKXtlYT1QO2JyZWFrfVU9ZyhVLE4pfU49WH1OPWM7Zm9yKFA9QztQPD1GO1ArKylpZihjPXBbUF0sVT1jLmdldFByZXZpb3VzKCksYy5lcXVhbHMoT1tQXSkpYiYmKE49Ti5nZXRDaGlsZCgwKSk7ZWxzZXtQIT1GfHxjLmVxdWFscyhPW1BdKSYmRjx0P2ImJihYPU4uYXBwZW5kKGMuY2xvbmUoMCxlKSkpOnk/ZyhjLE4sITEsQik6biYmTi5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KGMuc3Vic3RyaW5nKDAsRSkpKTtpZihQPmVhKWZvcig7VTspVT1nKFUsTiwhMCk7Tj1YfWx8fGsoKX19XG5mdW5jdGlvbiBiKCl7dmFyIGE9ITEsYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCEwKSxkPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGMoZSl8fGIoZSk/ITA6ZChlKSYmIWE/YT0hMDplLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGUuaGFzQXNjZW5kYW50KFwicHJlXCIpfHxDS0VESVRPUi50b29scy50cmltKGUuZ2V0VGV4dCgpKS5sZW5ndGgpfHxlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWUuaXMoZyk/ITE6ITB9fWZ1bmN0aW9uIGMoYSl7dmFyIGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygxKTtyZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCl8fGIoZCk/ITA6IWEmJmgoZCl8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzKENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpfX1cbmZ1bmN0aW9uIGUoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI7cmV0dXJuIHRoaXNbYT9cImdldFByZXZpb3VzTm9kZVwiOlwiZ2V0TmV4dE5vZGVcIl0oZnVuY3Rpb24oYSl7IWImJnEoYSkmJihiPWEpO3JldHVybiBuKGEpJiYhKGgoYSkmJmEuZXF1YWxzKGIpKX0pfX12YXIgZz17YWJicjoxLGFjcm9ueW06MSxiOjEsYmRvOjEsYmlnOjEsY2l0ZToxLGNvZGU6MSxkZWw6MSxkZm46MSxlbToxLGZvbnQ6MSxpOjEsaW5zOjEsbGFiZWw6MSxrYmQ6MSxxOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHR0OjEsdToxLFwidmFyXCI6MX0saD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCksaz0vXltcXHRcXHJcXG4gXSooPzombmJzcDt8XFx4YTApJC8sbj1DS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlKCkscT1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoITApO0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7dmFyIGE9XG5uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7YS5fc2V0U3RhcnRDb250YWluZXIodGhpcy5zdGFydENvbnRhaW5lcik7YS5zdGFydE9mZnNldD10aGlzLnN0YXJ0T2Zmc2V0O2EuX3NldEVuZENvbnRhaW5lcih0aGlzLmVuZENvbnRhaW5lcik7YS5lbmRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQ7YS5jb2xsYXBzZWQ9dGhpcy5jb2xsYXBzZWQ7cmV0dXJuIGF9LGNvbGxhcHNlOmZ1bmN0aW9uKGEpe2E/KHRoaXMuX3NldEVuZENvbnRhaW5lcih0aGlzLnN0YXJ0Q29udGFpbmVyKSx0aGlzLmVuZE9mZnNldD10aGlzLnN0YXJ0T2Zmc2V0KToodGhpcy5fc2V0U3RhcnRDb250YWluZXIodGhpcy5lbmRDb250YWluZXIpLHRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5lbmRPZmZzZXQpO3RoaXMuY29sbGFwc2VkPSEwfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8XG5kKHRoaXMsMixiLCExLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhPyEwOmEpO3JldHVybiBifSxkZWxldGVDb250ZW50czpmdW5jdGlvbihhKXt0aGlzLmNvbGxhcHNlZHx8ZCh0aGlzLDAsbnVsbCxhKX0sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KHRoaXMuZG9jdW1lbnQpO3RoaXMuY29sbGFwc2VkfHxkKHRoaXMsMSxjLGEsXCJ1bmRlZmluZWRcIj09dHlwZW9mIGI/ITA6Yik7cmV0dXJuIGN9LGNyZWF0ZUJvb2ttYXJrOmZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGc9dGhpcy5jb2xsYXBzZWQ7Yj10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2IuZGF0YShcImNrZS1ib29rbWFya1wiLDEpO2Iuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJub25lXCIpO2Iuc2V0SHRtbChcIlxceDI2bmJzcDtcIik7YSYmKGQ9XCJja2VfYm1fXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGIuc2V0QXR0cmlidXRlKFwiaWRcIixcbmQrKGc/XCJDXCI6XCJTXCIpKSk7Z3x8KGM9Yi5jbG9uZSgpLGMuc2V0SHRtbChcIlxceDI2bmJzcDtcIiksYSYmYy5zZXRBdHRyaWJ1dGUoXCJpZFwiLGQrXCJFXCIpLGU9dGhpcy5jbG9uZSgpLGUuY29sbGFwc2UoKSxlLmluc2VydE5vZGUoYykpO2U9dGhpcy5jbG9uZSgpO2UuY29sbGFwc2UoITApO2UuaW5zZXJ0Tm9kZShiKTtjPyh0aGlzLnNldFN0YXJ0QWZ0ZXIoYiksdGhpcy5zZXRFbmRCZWZvcmUoYykpOnRoaXMubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpO3JldHVybntzdGFydE5vZGU6YT9kKyhnP1wiQ1wiOlwiU1wiKTpiLGVuZE5vZGU6YT9kK1wiRVwiOmMsc2VyaWFsaXphYmxlOmEsY29sbGFwc2VkOmd9fSxjcmVhdGVCb29rbWFyazI6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3ZhciBmPWIuY29udGFpbmVyLGQ9Yi5vZmZzZXQsZTtlPWY7dmFyIGc9ZDtlPWUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwwPT09Z3x8Zz09ZS5nZXRDaGlsZENvdW50KCk/XG4wOmUuZ2V0Q2hpbGQoZy0xKS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmUuZ2V0Q2hpbGQoZykudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUO2UmJihmPWYuZ2V0Q2hpbGQoZC0xKSxkPWYuZ2V0TGVuZ3RoKCkpO2lmKGYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYwPGQpe2E6e2ZvcihlPWY7ZC0tOylpZihnPWUuZ2V0Q2hpbGQoZCkuZ2V0SW5kZXgoITApLDA8PWcpe2Q9ZzticmVhayBhfWQ9LTF9ZCs9MX1pZihmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7ZT1mO2ZvcihnPTA7KGU9ZS5nZXRQcmV2aW91cygpKSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ7KWcrPWUuZ2V0VGV4dCgpLnJlcGxhY2UoQ0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UsXCJcIikubGVuZ3RoO2U9ZztmLmdldFRleHQoKT9kKz1lOihnPWYuZ2V0UHJldmlvdXMoYyksZT8oZD1lLGY9Zz9nLmdldE5leHQoKTpmLmdldFBhcmVudCgpLmdldEZpcnN0KCkpOihmPVxuZi5nZXRQYXJlbnQoKSxkPWc/Zy5nZXRJbmRleCghMCkrMTowKSl9Yi5jb250YWluZXI9ZjtiLm9mZnNldD1kfWZ1bmN0aW9uIGIoYSxjKXt2YXIgZj1jLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIik7aWYoZil7dmFyIGQ9YS5jb250YWluZXI7Zi5lcXVhbHMoZCkmJihhLm9mZnNldC09Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UubGVuZ3RoLDA+PWEub2Zmc2V0JiYoYS5vZmZzZXQ9ZC5nZXRJbmRleCgpLGEuY29udGFpbmVyPWQuZ2V0UGFyZW50KCkpKX19dmFyIGM9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX1RFWFQsITApO3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD10aGlzLmNvbGxhcHNlZCxlPXtjb250YWluZXI6dGhpcy5zdGFydENvbnRhaW5lcixvZmZzZXQ6dGhpcy5zdGFydE9mZnNldH0sbT17Y29udGFpbmVyOnRoaXMuZW5kQ29udGFpbmVyLG9mZnNldDp0aGlzLmVuZE9mZnNldH07YyYmKGEoZSksXG5iKGUsdGhpcy5yb290KSxkfHwoYShtKSxiKG0sdGhpcy5yb290KSkpO3JldHVybntzdGFydDplLmNvbnRhaW5lci5nZXRBZGRyZXNzKGMpLGVuZDpkP251bGw6bS5jb250YWluZXIuZ2V0QWRkcmVzcyhjKSxzdGFydE9mZnNldDplLm9mZnNldCxlbmRPZmZzZXQ6bS5vZmZzZXQsbm9ybWFsaXplZDpjLGNvbGxhcHNlZDpkLGlzMjohMH19fSgpLG1vdmVUb0Jvb2ttYXJrOmZ1bmN0aW9uKGEpe2lmKGEuaXMyKXt2YXIgYj10aGlzLmRvY3VtZW50LmdldEJ5QWRkcmVzcyhhLnN0YXJ0LGEubm9ybWFsaXplZCksYz1hLnN0YXJ0T2Zmc2V0LGQ9YS5lbmQmJnRoaXMuZG9jdW1lbnQuZ2V0QnlBZGRyZXNzKGEuZW5kLGEubm9ybWFsaXplZCk7YT1hLmVuZE9mZnNldDt0aGlzLnNldFN0YXJ0KGIsYyk7ZD90aGlzLnNldEVuZChkLGEpOnRoaXMuY29sbGFwc2UoITApfWVsc2UgYj0oYz1hLnNlcmlhbGl6YWJsZSk/dGhpcy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZSxcbmE9Yz90aGlzLmRvY3VtZW50LmdldEJ5SWQoYS5lbmROb2RlKTphLmVuZE5vZGUsdGhpcy5zZXRTdGFydEJlZm9yZShiKSxiLnJlbW92ZSgpLGE/KHRoaXMuc2V0RW5kQmVmb3JlKGEpLGEucmVtb3ZlKCkpOnRoaXMuY29sbGFwc2UoITApfSxnZXRCb3VuZGFyeU5vZGVzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixiPXRoaXMuZW5kQ29udGFpbmVyLGM9dGhpcy5zdGFydE9mZnNldCxkPXRoaXMuZW5kT2Zmc2V0LGU7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoZT1hLmdldENoaWxkQ291bnQoKSxlPmMpYT1hLmdldENoaWxkKGMpO2Vsc2UgaWYoMT5lKWE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTtlbHNle2ZvcihhPWEuJDthLmxhc3RDaGlsZDspYT1hLmxhc3RDaGlsZDthPW5ldyBDS0VESVRPUi5kb20ubm9kZShhKTthPWEuZ2V0TmV4dFNvdXJjZU5vZGUoKXx8YX1pZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihlPWIuZ2V0Q2hpbGRDb3VudCgpLFxuZT5kKWI9Yi5nZXRDaGlsZChkKS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITApO2Vsc2UgaWYoMT5lKWI9Yi5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTtlbHNle2ZvcihiPWIuJDtiLmxhc3RDaGlsZDspYj1iLmxhc3RDaGlsZDtiPW5ldyBDS0VESVRPUi5kb20ubm9kZShiKX1hLmdldFBvc2l0aW9uKGIpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORyYmKGE9Yik7cmV0dXJue3N0YXJ0Tm9kZTphLGVuZE5vZGU6Yn19LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGFydENvbnRhaW5lcixkPXRoaXMuZW5kQ29udGFpbmVyLGM9Yy5lcXVhbHMoZCk/YSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnRoaXMuc3RhcnRPZmZzZXQ9PXRoaXMuZW5kT2Zmc2V0LTE/Yy5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KTpjOmMuZ2V0Q29tbW9uQW5jZXN0b3IoZCk7cmV0dXJuIGImJiFjLmlzP2MuZ2V0UGFyZW50KCk6Y30sb3B0aW1pemU6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLnN0YXJ0T2Zmc2V0O2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj9iPj1hLmdldExlbmd0aCgpJiZ0aGlzLnNldFN0YXJ0QWZ0ZXIoYSk6dGhpcy5zZXRTdGFydEJlZm9yZShhKSk7YT10aGlzLmVuZENvbnRhaW5lcjtiPXRoaXMuZW5kT2Zmc2V0O2EudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj9iPj1hLmdldExlbmd0aCgpJiZ0aGlzLnNldEVuZEFmdGVyKGEpOnRoaXMuc2V0RW5kQmVmb3JlKGEpKX0sb3B0aW1pemVCb29rbWFyazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLmVuZENvbnRhaW5lcjthLmlzJiZhLmlzKFwic3BhblwiKSYmYS5kYXRhKFwiY2tlLWJvb2ttYXJrXCIpJiZ0aGlzLnNldFN0YXJ0QXQoYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2ImJmIuaXMmJmIuaXMoXCJzcGFuXCIpJiZiLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfSxcbnRyaW06ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnN0YXJ0Q29udGFpbmVyLGQ9dGhpcy5zdGFydE9mZnNldCxlPXRoaXMuY29sbGFwc2VkO2lmKCghYXx8ZSkmJmMmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtpZihkKWlmKGQ+PWMuZ2V0TGVuZ3RoKCkpZD1jLmdldEluZGV4KCkrMSxjPWMuZ2V0UGFyZW50KCk7ZWxzZXt2YXIgZz1jLnNwbGl0KGQpLGQ9Yy5nZXRJbmRleCgpKzEsYz1jLmdldFBhcmVudCgpO3RoaXMuc3RhcnRDb250YWluZXIuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKT90aGlzLnNldEVuZChnLHRoaXMuZW5kT2Zmc2V0LXRoaXMuc3RhcnRPZmZzZXQpOmMuZXF1YWxzKHRoaXMuZW5kQ29udGFpbmVyKSYmKHRoaXMuZW5kT2Zmc2V0Kz0xKX1lbHNlIGQ9Yy5nZXRJbmRleCgpLGM9Yy5nZXRQYXJlbnQoKTt0aGlzLnNldFN0YXJ0KGMsZCk7aWYoZSl7dGhpcy5jb2xsYXBzZSghMCk7cmV0dXJufX1jPXRoaXMuZW5kQ29udGFpbmVyO2Q9dGhpcy5lbmRPZmZzZXQ7XG5ifHxlfHwhY3x8Yy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFR8fChkPyhkPj1jLmdldExlbmd0aCgpfHxjLnNwbGl0KGQpLGQ9Yy5nZXRJbmRleCgpKzEpOmQ9Yy5nZXRJbmRleCgpLGM9Yy5nZXRQYXJlbnQoKSx0aGlzLnNldEVuZChjLGQpKX0sZW5sYXJnZTpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9udWxsOmF9dmFyIGQ9bmV3IFJlZ0V4cCgvW15cXHNcXHVmZWZmXS8pO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLkVOTEFSR0VfSU5MSU5FOnZhciBlPTE7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQ6dmFyIGc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGspO2Muc2V0U3RhcnQoYSxiKTtjLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dmFyIGM9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksXG5mO2ZvcihjLmd1YXJkPWZ1bmN0aW9uKGEpe3JldHVybiEoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXNCbG9ja0JvdW5kYXJ5KCkpfTtmPWMubmV4dCgpOyl7aWYoZi50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQpcmV0dXJuITE7dT1mIT1hP2YuZ2V0VGV4dCgpOmYuc3Vic3RyaW5nKGIpO2lmKGQudGVzdCh1KSlyZXR1cm4hMX1yZXR1cm4hMH07aWYodGhpcy5jb2xsYXBzZWQpYnJlYWs7dmFyIG09dGhpcy5nZXRDb21tb25BbmNlc3RvcigpLGs9dGhpcy5yb290LGgscSxsLHIsSixIPSExLEUsdTtFPXRoaXMuc3RhcnRDb250YWluZXI7dmFyIHk9dGhpcy5zdGFydE9mZnNldDtFLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD8oeSYmKEU9IUNLRURJVE9SLnRvb2xzLnRyaW0oRS5zdWJzdHJpbmcoMCx5KSkubGVuZ3RoJiZFLEg9ISFFKSxFJiYoKHI9RS5nZXRQcmV2aW91cygpKXx8KGw9RS5nZXRQYXJlbnQoKSkpKTooeSYmKHI9RS5nZXRDaGlsZCh5LTEpfHxFLmdldExhc3QoKSksXG5yfHwobD1FKSk7Zm9yKGw9YyhsKTtsfHxyOyl7aWYobCYmIXIpeyFKJiZsLmVxdWFscyhtKSYmKEo9ITApO2lmKGU/bC5pc0Jsb2NrQm91bmRhcnkoKTohay5jb250YWlucyhsKSlicmVhaztIJiZcImlubGluZVwiPT1sLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHwoSD0hMSxKP2g9bDp0aGlzLnNldFN0YXJ0QmVmb3JlKGwpKTtyPWwuZ2V0UHJldmlvdXMoKX1mb3IoO3I7KWlmKEU9ITEsci50eXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlQpcj1yLmdldFByZXZpb3VzKCk7ZWxzZXtpZihyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl1PXIuZ2V0VGV4dCgpLGQudGVzdCh1KSYmKHI9bnVsbCksRT0vW1xcc1xcdWZlZmZdJC8udGVzdCh1KTtlbHNlIGlmKChyLiQub2Zmc2V0V2lkdGg+KENLRURJVE9SLmVudi53ZWJraXQ/MTowKXx8YiYmci5pcyhcImJyXCIpKSYmIXIuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZihIJiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3IuZ2V0TmFtZSgpXSl7dT1cbnIuZ2V0VGV4dCgpO2lmKGQudGVzdCh1KSlyPW51bGw7ZWxzZSBmb3IodmFyIHk9ci4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSx2PTAsQjtCPXlbdisrXTspaWYoIUNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbQi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSl7cj1udWxsO2JyZWFrfXImJihFPSEhdS5sZW5ndGgpfWVsc2Ugcj1udWxsO0UmJihIP0o/aD1sOmwmJnRoaXMuc2V0U3RhcnRCZWZvcmUobCk6SD0hMCk7aWYocil7RT1yLmdldFByZXZpb3VzKCk7aWYoIWwmJiFFKXtsPXI7cj1udWxsO2JyZWFrfXI9RX1lbHNlIGw9bnVsbH1sJiYobD1jKGwuZ2V0UGFyZW50KCkpKX1FPXRoaXMuZW5kQ29udGFpbmVyO3k9dGhpcy5lbmRPZmZzZXQ7bD1yPW51bGw7Sj1IPSExO0UudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP0NLRURJVE9SLnRvb2xzLnRyaW0oRS5zdWJzdHJpbmcoeSkpLmxlbmd0aD9IPSEwOihIPSFFLmdldExlbmd0aCgpLHk9PUUuZ2V0TGVuZ3RoKCk/KHI9RS5nZXROZXh0KCkpfHxcbihsPUUuZ2V0UGFyZW50KCkpOmcoRSx5KSYmKGw9RS5nZXRQYXJlbnQoKSkpOihyPUUuZ2V0Q2hpbGQoeSkpfHwobD1FKTtmb3IoO2x8fHI7KXtpZihsJiYhcil7IUomJmwuZXF1YWxzKG0pJiYoSj0hMCk7aWYoZT9sLmlzQmxvY2tCb3VuZGFyeSgpOiFrLmNvbnRhaW5zKGwpKWJyZWFrO0gmJlwiaW5saW5lXCI9PWwuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIil8fChIPSExLEo/cT1sOmwmJnRoaXMuc2V0RW5kQWZ0ZXIobCkpO3I9bC5nZXROZXh0KCl9Zm9yKDtyOyl7RT0hMTtpZihyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl1PXIuZ2V0VGV4dCgpLGcociwwKXx8KHI9bnVsbCksRT0vXltcXHNcXHVmZWZmXS8udGVzdCh1KTtlbHNlIGlmKHIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZigoMDxyLiQub2Zmc2V0V2lkdGh8fGImJnIuaXMoXCJiclwiKSkmJiFyLmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoSCYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtyLmdldE5hbWUoKV0pe3U9XG5yLmdldFRleHQoKTtpZihkLnRlc3QodSkpcj1udWxsO2Vsc2UgZm9yKHk9ci4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSx2PTA7Qj15W3YrK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0Iubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3I9bnVsbDticmVha31yJiYoRT0hIXUubGVuZ3RoKX1lbHNlIHI9bnVsbH1lbHNlIEU9MTtFJiZIJiYoSj9xPWw6dGhpcy5zZXRFbmRBZnRlcihsKSk7aWYocil7RT1yLmdldE5leHQoKTtpZighbCYmIUUpe2w9cjtyPW51bGw7YnJlYWt9cj1FfWVsc2UgbD1udWxsfWwmJihsPWMobC5nZXRQYXJlbnQoKSkpfWgmJnEmJihtPWguY29udGFpbnMocSk/cTpoLHRoaXMuc2V0U3RhcnRCZWZvcmUobSksdGhpcy5zZXRFbmRBZnRlcihtKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTOmNhc2UgQ0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM6bD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7XG5rPXRoaXMucm9vdDtsLnNldFN0YXJ0QXQoayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7bC5zZXRFbmQodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnN0YXJ0T2Zmc2V0KTtsPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGwpO3ZhciBMLG4sTz1DS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnkoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/e2JyOjF9Om51bGwpLHA9bnVsbCxDPWZ1bmN0aW9uKGEpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKWlmKHApe2lmKHAuZXF1YWxzKGEpKXtwPW51bGw7cmV0dXJufX1lbHNlIHA9YTtlbHNlIGlmKHApcmV0dXJuO3ZhciBiPU8oYSk7Ynx8KEw9YSk7cmV0dXJuIGJ9LGU9ZnVuY3Rpb24oYSl7dmFyIGI9QyhhKTshYiYmYS5pcyYmYS5pcyhcImJyXCIpJiYobj1hKTtyZXR1cm4gYn07bC5ndWFyZD1DO2w9bC5sYXN0QmFja3dhcmQoKTtcbkw9THx8azt0aGlzLnNldFN0YXJ0QXQoTCwhTC5pcyhcImJyXCIpJiYoIWwmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKXx8bCYmTC5jb250YWlucyhsKSk/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtpZihhPT1DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyl7bD10aGlzLmNsb25lKCk7bD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihsKTt2YXIgdD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksRj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7bC5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIXQoYSkmJiFGKGEpfTtpZigobD1sLnByZXZpb3VzKCkpJiZsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbC5pcyhcImJyXCIpKWJyZWFrfWw9dGhpcy5jbG9uZSgpO2wuY29sbGFwc2UoKTtsLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7bD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihsKTtcbmwuZ3VhcmQ9YT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFM/ZTpDO0w9cD1uPW51bGw7bD1sLmxhc3RGb3J3YXJkKCk7TD1MfHxrO3RoaXMuc2V0RW5kQXQoTCwhbCYmdGhpcy5jaGVja0VuZE9mQmxvY2soKXx8bCYmTC5jb250YWlucyhsKT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7biYmdGhpcy5zZXRFbmRBZnRlcihuKX19LHNocmluazpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9XCJib29sZWFuXCI9PT10eXBlb2YgYz9jOmMmJlwiYm9vbGVhblwiPT09dHlwZW9mIGMuc2hyaW5rT25CbG9ja0JvdW5kYXJ5P2Muc2hyaW5rT25CbG9ja0JvdW5kYXJ5OiEwLGU9YyYmYy5za2lwQm9ndXM7aWYoIXRoaXMuY29sbGFwc2VkKXthPWF8fENLRURJVE9SLlNIUklOS19URVhUO3ZhciBnPXRoaXMuY2xvbmUoKSxtPXRoaXMuc3RhcnRDb250YWluZXIsaz10aGlzLmVuZENvbnRhaW5lcixoPXRoaXMuc3RhcnRPZmZzZXQsXG5xPXRoaXMuZW5kT2Zmc2V0LGw9Yz0xO20mJm0udHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoaD9oPj1tLmdldExlbmd0aCgpP2cuc2V0U3RhcnRBZnRlcihtKTooZy5zZXRTdGFydEJlZm9yZShtKSxjPTApOmcuc2V0U3RhcnRCZWZvcmUobSkpO2smJmsudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYocT9xPj1rLmdldExlbmd0aCgpP2cuc2V0RW5kQWZ0ZXIoayk6KGcuc2V0RW5kQWZ0ZXIoayksbD0wKTpnLnNldEVuZEJlZm9yZShrKSk7dmFyIGc9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZykscj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksSj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7Zy5ldmFsdWF0b3I9ZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09KGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP0NLRURJVE9SLk5PREVfRUxFTUVOVDpDS0VESVRPUi5OT0RFX1RFWFQpfTt2YXIgSDtnLmd1YXJkPWZ1bmN0aW9uKGIsYyl7aWYoZSYmSihiKXx8cihiKSlyZXR1cm4hMDtcbmlmKGE9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8YyYmYi5lcXVhbHMoSCl8fCExPT09ZCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KCl8fGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4hMTtjfHxiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8KEg9Yik7cmV0dXJuITB9O2MmJihtPWdbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XCJsYXN0Rm9yd2FyZFwiOlwibmV4dFwiXSgpKSYmdGhpcy5zZXRTdGFydEF0KG0sYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2wmJihnLnJlc2V0KCksKGc9Z1thPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9cImxhc3RCYWNrd2FyZFwiOlwicHJldmlvdXNcIl0oKSkmJnRoaXMuc2V0RW5kQXQoZyxiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6XG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTtyZXR1cm4hKCFjJiYhbCl9fSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe3RoaXMub3B0aW1pemVCb29rbWFyaygpO3RoaXMudHJpbSghMSwhMCk7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPWIuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk7Yz9hLmluc2VydEJlZm9yZShjKTpiLmFwcGVuZChhKTthLmdldFBhcmVudCgpJiZhLmdldFBhcmVudCgpLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJnRoaXMuZW5kT2Zmc2V0Kys7dGhpcy5zZXRTdGFydEJlZm9yZShhKX0sbW92ZVRvUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFN0YXJ0QXQoYSxiKTt0aGlzLmNvbGxhcHNlKCEwKX0sbW92ZVRvUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLnN0YXJ0Q29udGFpbmVyLGEuc3RhcnRPZmZzZXQpO3RoaXMuc2V0RW5kKGEuZW5kQ29udGFpbmVyLGEuZW5kT2Zmc2V0KX0sc2VsZWN0Tm9kZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYSxcbjApO3RoaXMuc2V0RW5kKGEsYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/YS5nZXRMZW5ndGgoKTphLmdldENoaWxkQ291bnQoKSl9LHNldFN0YXJ0OmZ1bmN0aW9uKGIsYyl7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYi5nZXROYW1lKCldJiYoYz1iLmdldEluZGV4KCksYj1iLmdldFBhcmVudCgpKTt0aGlzLl9zZXRTdGFydENvbnRhaW5lcihiKTt0aGlzLnN0YXJ0T2Zmc2V0PWM7dGhpcy5lbmRDb250YWluZXJ8fCh0aGlzLl9zZXRFbmRDb250YWluZXIoYiksdGhpcy5lbmRPZmZzZXQ9Yyk7YSh0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKGIsYyl7Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkNLRURJVE9SLmR0ZC4kZW1wdHlbYi5nZXROYW1lKCldJiYoYz1iLmdldEluZGV4KCkrMSxiPWIuZ2V0UGFyZW50KCkpO3RoaXMuX3NldEVuZENvbnRhaW5lcihiKTt0aGlzLmVuZE9mZnNldD1jO3RoaXMuc3RhcnRDb250YWluZXJ8fFxuKHRoaXMuX3NldFN0YXJ0Q29udGFpbmVyKGIpLHRoaXMuc3RhcnRPZmZzZXQ9Yyk7YSh0aGlzKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRTdGFydEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldFN0YXJ0KGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkrMSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXt0aGlzLnNldEVuZChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldFN0YXJ0QXQ6ZnVuY3Rpb24oYixjKXtzd2l0Y2goYyl7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldFN0YXJ0KGIsMCk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0U3RhcnQoYixcbmIuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0U3RhcnQoYixiLmdldENoaWxkQ291bnQoKSk7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6dGhpcy5zZXRTdGFydEJlZm9yZShiKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDp0aGlzLnNldFN0YXJ0QWZ0ZXIoYil9YSh0aGlzKX0sc2V0RW5kQXQ6ZnVuY3Rpb24oYixjKXtzd2l0Y2goYyl7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDp0aGlzLnNldEVuZChiLDApO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD90aGlzLnNldEVuZChiLGIuZ2V0TGVuZ3RoKCkpOnRoaXMuc2V0RW5kKGIsYi5nZXRDaGlsZENvdW50KCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOnRoaXMuc2V0RW5kQmVmb3JlKGIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0RW5kQWZ0ZXIoYil9YSh0aGlzKX0sXG5maXhCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuY3JlYXRlQm9va21hcmsoKSxkPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChiKTt0aGlzLmNvbGxhcHNlKGEpO3RoaXMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTt0aGlzLmV4dHJhY3RDb250ZW50cygpLmFwcGVuZFRvKGQpO2QudHJpbSgpO3RoaXMuaW5zZXJ0Tm9kZShkKTt2YXIgZT1kLmdldEJvZ3VzKCk7ZSYmZS5yZW1vdmUoKTtkLmFwcGVuZEJvZ3VzKCk7dGhpcy5tb3ZlVG9Cb29rbWFyayhjKTtyZXR1cm4gZH0sc3BsaXRCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLGQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcix0aGlzLnJvb3QpLGU9Yy5ibG9jayxnPWQuYmxvY2ssbT1udWxsO2lmKCFjLmJsb2NrTGltaXQuZXF1YWxzKGQuYmxvY2tMaW1pdCkpcmV0dXJuIG51bGw7XG5cImJyXCIhPWEmJihlfHwoZT10aGlzLmZpeEJsb2NrKCEwLGEpLGc9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KSkuYmxvY2spLGd8fChnPXRoaXMuZml4QmxvY2soITEsYSkpKTtjPWUmJnRoaXMuY2hlY2tTdGFydE9mQmxvY2soKTtkPWcmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCk7dGhpcy5kZWxldGVDb250ZW50cygpO2UmJmUuZXF1YWxzKGcpJiYoZD8obT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSx0aGlzLm1vdmVUb1Bvc2l0aW9uKGcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxnPW51bGwpOmM/KG09bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksdGhpcy5tb3ZlVG9Qb3NpdGlvbihlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZT1udWxsKTooZz10aGlzLnNwbGl0RWxlbWVudChlLFxuYnx8ITEpLGUuaXMoXCJ1bFwiLFwib2xcIil8fGUuYXBwZW5kQm9ndXMoKSkpO3JldHVybntwcmV2aW91c0Jsb2NrOmUsbmV4dEJsb2NrOmcsd2FzU3RhcnRPZkJsb2NrOmMsd2FzRW5kT2ZCbG9jazpkLGVsZW1lbnRQYXRoOm19fSxzcGxpdEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5jb2xsYXBzZWQpcmV0dXJuIG51bGw7dGhpcy5zZXRFbmRBdChhLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3ZhciBjPXRoaXMuZXh0cmFjdENvbnRlbnRzKCExLGJ8fCExKSxkPWEuY2xvbmUoITEsYnx8ITEpO2MuYXBwZW5kVG8oZCk7ZC5pbnNlcnRBZnRlcihhKTt0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtyZXR1cm4gZH0scmVtb3ZlRW1wdHlCbG9ja3NBdEVuZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoZCl7cmV0dXJuIGZ1bmN0aW9uKGEpe3JldHVybiBiKGEpfHxjKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpfHxcbmQuaXMoXCJ0YWJsZVwiKSYmYS5pcyhcImNhcHRpb25cIik/ITE6ITB9fXZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEpO3JldHVybiBmdW5jdGlvbihiKXtmb3IodmFyIGM9dGhpcy5jcmVhdGVCb29rbWFyaygpLGQ9dGhpc1tiP1wiZW5kUGF0aFwiOlwic3RhcnRQYXRoXCJdKCksZT1kLmJsb2NrfHxkLmJsb2NrTGltaXQsZztlJiYhZS5lcXVhbHMoZC5yb290KSYmIWUuZ2V0Rmlyc3QoYShlKSk7KWc9ZS5nZXRQYXJlbnQoKSx0aGlzW2I/XCJzZXRFbmRBdFwiOlwic2V0U3RhcnRBdFwiXShlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZS5yZW1vdmUoMSksZT1nO3RoaXMubW92ZVRvQm9va21hcmsoYyl9fSgpLHN0YXJ0UGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KX0sZW5kUGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLFxudGhpcy5yb290KX0sY2hlY2tCb3VuZGFyeU9mRWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBkPWI9PUNLRURJVE9SLlNUQVJULGU9dGhpcy5jbG9uZSgpO2UuY29sbGFwc2UoZCk7ZVtkP1wic2V0U3RhcnRBdFwiOlwic2V0RW5kQXRcIl0oYSxkP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZS5ldmFsdWF0b3I9YyhkKTtyZXR1cm4gZVtkP1wiY2hlY2tCYWNrd2FyZFwiOlwiY2hlY2tGb3J3YXJkXCJdKCl9LGNoZWNrU3RhcnRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuc3RhcnRPZmZzZXQ7Q0tFRElUT1IuZW52LmllJiZjJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9Q0tFRElUT1IudG9vbHMubHRyaW0oYS5zdWJzdHJpbmcoMCxjKSksay50ZXN0KGEpJiZ0aGlzLnRyaW0oMCwxKSk7dGhpcy50cmltKCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsXG50aGlzLnJvb3QpO2M9dGhpcy5jbG9uZSgpO2MuY29sbGFwc2UoITApO2Muc2V0U3RhcnRBdChhLmJsb2NrfHxhLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyk7YS5ldmFsdWF0b3I9YigpO3JldHVybiBhLmNoZWNrQmFja3dhcmQoKX0sY2hlY2tFbmRPZkJsb2NrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbmRDb250YWluZXIsYz10aGlzLmVuZE9mZnNldDtDS0VESVRPUi5lbnYuaWUmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1DS0VESVRPUi50b29scy5ydHJpbShhLnN1YnN0cmluZyhjKSksay50ZXN0KGEpJiZ0aGlzLnRyaW0oMSwwKSk7dGhpcy50cmltKCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZSghMSk7Yy5zZXRFbmRBdChhLmJsb2NrfHxhLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7XG5hPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpO2EuZXZhbHVhdG9yPWIoKTtyZXR1cm4gYS5jaGVja0ZvcndhcmQoKX0sZ2V0UHJldmlvdXNOb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNsb25lKCk7ZC5jb2xsYXBzZSgxKTtkLnNldFN0YXJ0QXQoY3x8dGhpcy5yb290LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO2MuZXZhbHVhdG9yPWE7Yy5ndWFyZD1iO3JldHVybiBjLnByZXZpb3VzKCl9LGdldE5leHROb2RlOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmNsb25lKCk7ZC5jb2xsYXBzZSgpO2Quc2V0RW5kQXQoY3x8dGhpcy5yb290LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2M9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCk7Yy5ldmFsdWF0b3I9YTtjLmd1YXJkPWI7cmV0dXJuIGMubmV4dCgpfSxjaGVja1JlYWRPbmx5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe2Zvcig7Yjspe2lmKGIudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwiZmFsc2VcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJiFiLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuIDA7aWYoYi5pcyhcImh0bWxcIil8fFwidHJ1ZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmKGIuY29udGFpbnMoYyl8fGIuZXF1YWxzKGMpKSlicmVha31iPWIuZ2V0UGFyZW50KCl9cmV0dXJuIDF9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zdGFydENvbnRhaW5lcixjPXRoaXMuZW5kQ29udGFpbmVyO3JldHVybiEoYShiLGMpJiZhKGMsYikpfX0oKSxtb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbjpmdW5jdGlvbihhLGIpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhYS5pc0VkaXRhYmxlKCExKSlyZXR1cm4gdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksXG4hMDtmb3IodmFyIGM9MDthOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2ImJnRoaXMuZW5kQ29udGFpbmVyJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpJiZrLnRlc3QoYS5nZXRUZXh0KCkpP3RoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOnRoaXMubW92ZVRvUG9zaXRpb24oYSxiP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2M9MTticmVha31pZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihhLmlzRWRpdGFibGUoKSl0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxjPTE7ZWxzZSBpZihiJiZhLmlzKFwiYnJcIikmJnRoaXMuZW5kQ29udGFpbmVyJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO1xuZWxzZSBpZihcImZhbHNlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKXJldHVybiB0aGlzLnNldFN0YXJ0QmVmb3JlKGEpLHRoaXMuc2V0RW5kQWZ0ZXIoYSksITA7dmFyIGQ9YSxlPWMsZz12b2lkIDA7ZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNFZGl0YWJsZSghMSkmJihnPWRbYj9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKHEpKTtlfHxnfHwoZz1kW2I/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShxKSk7YT1nfXJldHVybiEhY30sbW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPTAsZSxnLG09W0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlRdO2E/KGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpLGMubW92ZVRvUG9zaXRpb24oYSxtW2I/MDoxXSkpOmM9dGhpcy5jbG9uZSgpO2lmKGEmJlxuIWEuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykpZD0xO2Vsc2UgaWYoZT1jW2I/XCJnZXROZXh0RWRpdGFibGVOb2RlXCI6XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiXSgpKWQ9MSwoZz1lLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmUuaXMoQ0tFRElUT1IuZHRkLiRibG9jaykmJlwiZmFsc2VcIj09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/KGMuc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYy5zZXRFbmRBdChlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpOiFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmZyYmZS5pcyhDS0VESVRPUi5kb20ud2Fsa2VyLnZhbGlkRW1wdHlCbG9ja0NvbnRhaW5lcnMpPyhjLnNldEVuZChlLDApLGMuY29sbGFwc2UoKSk6Yy5tb3ZlVG9Qb3NpdGlvbihlLG1bYj8xOjBdKTtkJiZ0aGlzLm1vdmVUb1JhbmdlKGMpO3JldHVybiEhZH0sbW92ZVRvRWxlbWVudEVkaXRTdGFydDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhKX0sXG5tb3ZlVG9FbGVtZW50RWRpdEVuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhLCEwKX0sZ2V0RW5jbG9zZWROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jbG9uZSgpO2Eub3B0aW1pemUoKTtpZihhLnN0YXJ0Q29udGFpbmVyLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8YS5lbmRDb250YWluZXIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBudWxsO3ZhciBhPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGEpLGI9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMSwhMCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTthLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYyhhKSYmYihhKX07dmFyIGQ9YS5uZXh0KCk7YS5yZXNldCgpO3JldHVybiBkJiZkLmVxdWFscyhhLnByZXZpb3VzKCkpP2Q6bnVsbH0sZ2V0VG91Y2hlZFN0YXJ0Tm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXI7XG5yZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLnN0YXJ0T2Zmc2V0KXx8YX0sZ2V0VG91Y2hlZEVuZE5vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4gdGhpcy5jb2xsYXBzZWR8fGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2E6YS5nZXRDaGlsZCh0aGlzLmVuZE9mZnNldC0xKXx8YX0sZ2V0TmV4dEVkaXRhYmxlTm9kZTplKCksZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGU6ZSgxKSxfZ2V0VGFibGVFbGVtZW50OmZ1bmN0aW9uKGEpe2E9YXx8e3RkOjEsdGg6MSx0cjoxLHRib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxLHRhYmxlOjF9O3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLmVuZENvbnRhaW5lcixkPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksZT1jLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApO3JldHVybiBDS0VESVRPUi5lbnYuc2FmYXJpJiZkJiZjLmVxdWFscyh0aGlzLnJvb3QpP1xuYi5nZXRBc2NlbmRhbnQoYSwhMCk6dGhpcy5nZXRFbmNsb3NlZE5vZGUoKT90aGlzLmdldEVuY2xvc2VkTm9kZSgpLmdldEFzY2VuZGFudChhLCEwKTpkJiZlJiYoZC5lcXVhbHMoZSl8fGQuY29udGFpbnMoZSl8fGUuY29udGFpbnMoZCkpP2IuZ2V0QXNjZW5kYW50KGEsITApOm51bGx9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFwiXFx4M2NzcGFuXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXCIsdGhpcy5kb2N1bWVudCksYixjLGQsZT10aGlzLmNsb25lKCk7ZS5vcHRpbWl6ZSgpOyhkPWUuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKT8oYz1lLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKSxiPWUuc3RhcnRDb250YWluZXIuc3BsaXQoZS5zdGFydE9mZnNldCksYS5pbnNlcnRBZnRlcihlLnN0YXJ0Q29udGFpbmVyKSk6ZS5pbnNlcnROb2RlKGEpO2Euc2Nyb2xsSW50b1ZpZXcoKTtcbmQmJihlLnN0YXJ0Q29udGFpbmVyLnNldFRleHQoYyksYi5yZW1vdmUoKSk7YS5yZW1vdmUoKX0sX3NldFN0YXJ0Q29udGFpbmVyOmZ1bmN0aW9uKGEpe3RoaXMuc3RhcnRDb250YWluZXI9YX0sX3NldEVuZENvbnRhaW5lcjpmdW5jdGlvbihhKXt0aGlzLmVuZENvbnRhaW5lcj1hfSxfZmluZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxkPXRoaXMuZ2V0Qm91bmRhcnlOb2RlcygpLGU9W10sZyxtLGssaDtpZihjJiZjLmZpbmQpZm9yKG09Yy5maW5kKGEpLGc9MDtnPG0uY291bnQoKTtnKyspaWYoYz1tLmdldEl0ZW0oZyksYnx8IWMuaXNSZWFkT25seSgpKWs9Yy5nZXRQb3NpdGlvbihkLnN0YXJ0Tm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfHxkLnN0YXJ0Tm9kZS5lcXVhbHMoYyksaD1jLmdldFBvc2l0aW9uKGQuZW5kTm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRHx8XG5kLmVuZE5vZGUuZXF1YWxzKGMpLGsmJmgmJmUucHVzaChjKTtyZXR1cm4gZX19O0NLRURJVE9SLmRvbS5yYW5nZS5tZXJnZVJhbmdlcz1mdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuYXJyYXkucmVkdWNlKGEsZnVuY3Rpb24oYSxiKXt2YXIgYz1hW2EubGVuZ3RoLTFdLGQ9ITE7Yj1iLmNsb25lKCk7Yi5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7aWYoYyl7dmFyIGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiLnJvb3QpLGQ9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSksZj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCk7ZS5zZXRTdGFydChjLmVuZENvbnRhaW5lcixjLmVuZE9mZnNldCk7ZS5zZXRFbmQoYi5zdGFydENvbnRhaW5lcixiLnN0YXJ0T2Zmc2V0KTtmb3IoZT1kLm5leHQoKTtmKGUpfHxiLmVuZENvbnRhaW5lci5lcXVhbHMoZSk7KWU9ZC5uZXh0KCk7ZD0hZX1kP2Muc2V0RW5kKGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KTpcbmEucHVzaChiKTtyZXR1cm4gYX0sW10pfX0pKCk7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MTtDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTI7Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTM7Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQ7Q0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPTE7Q0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUz0yO0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTPTM7Q0tFRElUT1IuRU5MQVJHRV9JTkxJTkU9NDtDS0VESVRPUi5TVEFSVD0xO0NLRURJVE9SLkVORD0yO0NLRURJVE9SLlNIUklOS19FTEVNRU5UPTE7Q0tFRElUT1IuU0hSSU5LX1RFWFQ9MjtcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7MT5hcmd1bWVudHMubGVuZ3RofHwodGhpcy5yYW5nZT1hLHRoaXMuZm9yY2VCckJyZWFrPTAsdGhpcy5lbmxhcmdlQnI9MSx0aGlzLmVuZm9yY2VSZWFsQmxvY2tzPTAsdGhpcy5ffHwodGhpcy5fPXt9KSl9ZnVuY3Rpb24gZChhKXt2YXIgYj1bXTthLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVybiBiLnB1c2goYSksITF9LENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZSxnKXthOntudWxsPT1nJiYoZz1kKGUpKTtmb3IodmFyIGs7az1nLnNoaWZ0KCk7KWlmKGsuZ2V0RHRkKCkucCl7Zz17ZWxlbWVudDprLHJlbWFpbmluZzpnfTticmVhayBhfWc9bnVsbH1pZighZylyZXR1cm4gMDtpZigoaz1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW2cuZWxlbWVudC5kYXRhKFwiY2tlLWZpbHRlclwiKV0pJiYhay5jaGVjayhjKSlyZXR1cm4gYihhLFxuYyxlLGcucmVtYWluaW5nKTtjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoZy5lbGVtZW50KTtjLnNlbGVjdE5vZGVDb250ZW50cyhnLmVsZW1lbnQpO2M9Yy5jcmVhdGVJdGVyYXRvcigpO2MuZW5sYXJnZUJyPWEuZW5sYXJnZUJyO2MuZW5mb3JjZVJlYWxCbG9ja3M9YS5lbmZvcmNlUmVhbEJsb2NrcztjLmFjdGl2ZUZpbHRlcj1jLmZpbHRlcj1rO2EuXy5uZXN0ZWRFZGl0YWJsZT17ZWxlbWVudDpnLmVsZW1lbnQsY29udGFpbmVyOmUscmVtYWluaW5nOmcucmVtYWluaW5nLGl0ZXJhdG9yOmN9O3JldHVybiAxfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKCFiKXJldHVybiExO2E9YS5jbG9uZSgpO2EuY29sbGFwc2UoIWMpO3JldHVybiBhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCl9dmFyIGU9L15bXFxyXFxuXFx0IF0rJC8sZz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSxoPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApLFxuaz1mdW5jdGlvbihhKXtyZXR1cm4gZyhhKSYmaChhKX0sbj17ZGQ6MSxkdDoxLGxpOjF9O2EucHJvdG90eXBlPXtnZXROZXh0UGFyYWdyYXBoOmZ1bmN0aW9uKGEpe3ZhciBkLGgsdyxBLEc7YT1hfHxcInBcIjtpZih0aGlzLl8ubmVzdGVkRWRpdGFibGUpe2lmKGQ9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoYSkpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsZDt0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLmZpbHRlcjtpZihiKHRoaXMsYSx0aGlzLl8ubmVzdGVkRWRpdGFibGUuY29udGFpbmVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5yZW1haW5pbmcpKXJldHVybiB0aGlzLmFjdGl2ZUZpbHRlcj10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuYWN0aXZlRmlsdGVyLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5nZXROZXh0UGFyYWdyYXBoKGEpO3RoaXMuXy5uZXN0ZWRFZGl0YWJsZT1cbm51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVthXSlyZXR1cm4gbnVsbDtpZighdGhpcy5fLnN0YXJ0ZWQpe3ZhciB4PXRoaXMucmFuZ2UuY2xvbmUoKTtoPXguc3RhcnRQYXRoKCk7dmFyIG09eC5lbmRQYXRoKCksSz0heC5jb2xsYXBzZWQmJmMoeCxoLmJsb2NrKSx6PSF4LmNvbGxhcHNlZCYmYyh4LG0uYmxvY2ssMSk7eC5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApO0smJnguc2V0U3RhcnRBdChoLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3omJnguc2V0RW5kQXQobS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7aD14LmVuZENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCl8fHguc3RhcnRDb250YWluZXIuaGFzQXNjZW5kYW50KFwicHJlXCIsITApO3guZW5sYXJnZSh0aGlzLmZvcmNlQnJCcmVhayYmIWh8fCF0aGlzLmVubGFyZ2VCcj9DS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUzpDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKTtcbnguY29sbGFwc2VkfHwoaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih4LmNsb25lKCkpLG09Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCwhMCksaC5ldmFsdWF0b3I9bSx0aGlzLl8ubmV4dE5vZGU9aC5uZXh0KCksaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih4LmNsb25lKCkpLGguZXZhbHVhdG9yPW0saD1oLnByZXZpb3VzKCksdGhpcy5fLmxhc3ROb2RlPWguZ2V0TmV4dFNvdXJjZU5vZGUoITAsbnVsbCx4LnJvb3QpLHRoaXMuXy5sYXN0Tm9kZSYmdGhpcy5fLmxhc3ROb2RlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmIUNLRURJVE9SLnRvb2xzLnRyaW0odGhpcy5fLmxhc3ROb2RlLmdldFRleHQoKSkmJnRoaXMuXy5sYXN0Tm9kZS5nZXRQYXJlbnQoKS5pc0Jsb2NrQm91bmRhcnkoKSYmKG09dGhpcy5yYW5nZS5jbG9uZSgpLG0ubW92ZVRvUG9zaXRpb24odGhpcy5fLmxhc3ROb2RlLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksbS5jaGVja0VuZE9mQmxvY2soKSYmXG4obT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKG0uZW5kQ29udGFpbmVyLG0ucm9vdCksdGhpcy5fLmxhc3ROb2RlPShtLmJsb2NrfHxtLmJsb2NrTGltaXQpLmdldE5leHRTb3VyY2VOb2RlKCEwKSkpLHRoaXMuXy5sYXN0Tm9kZSYmeC5yb290LmNvbnRhaW5zKHRoaXMuXy5sYXN0Tm9kZSl8fCh0aGlzLl8ubGFzdE5vZGU9dGhpcy5fLmRvY0VuZE1hcmtlcj14LmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksdGhpcy5fLmxhc3ROb2RlLmluc2VydEFmdGVyKGgpKSx4PW51bGwpO3RoaXMuXy5zdGFydGVkPTE7aD14fW09dGhpcy5fLm5leHROb2RlO3g9dGhpcy5fLmxhc3ROb2RlO2Zvcih0aGlzLl8ubmV4dE5vZGU9bnVsbDttOyl7dmFyIEs9MCx6PW0uaGFzQXNjZW5kYW50KFwicHJlXCIpLEk9bS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQsbD0wO2lmKEkpbS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmUudGVzdChtLmdldFRleHQoKSkmJihJPTApO2Vsc2V7dmFyIHI9bS5nZXROYW1lKCk7XG5pZihDS0VESVRPUi5kdGQuJGJsb2NrW3JdJiZcImZhbHNlXCI9PW0uZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtkPW07Yih0aGlzLGEsZCk7YnJlYWt9ZWxzZSBpZihtLmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXomJnticjoxfSkpe2lmKFwiYnJcIj09cilJPTE7ZWxzZSBpZighaCYmIW0uZ2V0Q2hpbGRDb3VudCgpJiZcImhyXCIhPXIpe2Q9bTt3PW0uZXF1YWxzKHgpO2JyZWFrfWgmJihoLnNldEVuZEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxcImJyXCIhPXImJih0aGlzLl8ubmV4dE5vZGU9bSkpO0s9MX1lbHNle2lmKG0uZ2V0Rmlyc3QoKSl7aHx8KGg9dGhpcy5yYW5nZS5jbG9uZSgpLGguc2V0U3RhcnRBdChtLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO209bS5nZXRGaXJzdCgpO2NvbnRpbnVlfUk9MX19SSYmIWgmJihoPXRoaXMucmFuZ2UuY2xvbmUoKSxoLnNldFN0YXJ0QXQobSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTtcbnc9KCFLfHxJKSYmbS5lcXVhbHMoeCk7aWYoaCYmIUspZm9yKDshbS5nZXROZXh0KGspJiYhdzspe3I9bS5nZXRQYXJlbnQoKTtpZihyLmlzQmxvY2tCb3VuZGFyeSh0aGlzLmZvcmNlQnJCcmVhayYmIXomJnticjoxfSkpe0s9MTtJPTA7d3x8ci5lcXVhbHMoeCk7aC5zZXRFbmRBdChyLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2JyZWFrfW09cjtJPTE7dz1tLmVxdWFscyh4KTtsPTF9SSYmaC5zZXRFbmRBdChtLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7bT10aGlzLl9nZXROZXh0U291cmNlTm9kZShtLGwseCk7aWYoKHc9IW0pfHxLJiZoKWJyZWFrfWlmKCFkKXtpZighaClyZXR1cm4gdGhpcy5fLmRvY0VuZE1hcmtlciYmdGhpcy5fLmRvY0VuZE1hcmtlci5yZW1vdmUoKSx0aGlzLl8ubmV4dE5vZGU9bnVsbDtkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoaC5zdGFydENvbnRhaW5lcixoLnJvb3QpO209ZC5ibG9ja0xpbWl0O0s9e2RpdjoxLHRoOjEsdGQ6MX07XG5kPWQuYmxvY2s7IWQmJm0mJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZLW20uZ2V0TmFtZSgpXSYmaC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZoLmNoZWNrRW5kT2ZCbG9jaygpJiYhbS5lcXVhbHMoaC5yb290KT9kPW06IWR8fHRoaXMuZW5mb3JjZVJlYWxCbG9ja3MmJmQuaXMobik/KGQ9dGhpcy5yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEpLGguZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCksZC50cmltKCksaC5pbnNlcnROb2RlKGQpLEE9Rz0hMCk6XCJsaVwiIT1kLmdldE5hbWUoKT9oLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmguY2hlY2tFbmRPZkJsb2NrKCl8fChkPWQuY2xvbmUoITEpLGguZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8oZCksZC50cmltKCksRz1oLnNwbGl0QmxvY2soKSxBPSFHLndhc1N0YXJ0T2ZCbG9jayxHPSFHLndhc0VuZE9mQmxvY2ssaC5pbnNlcnROb2RlKGQpKTp3fHwodGhpcy5fLm5leHROb2RlPWQuZXF1YWxzKHgpP251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoaC5nZXRCb3VuZGFyeU5vZGVzKCkuZW5kTm9kZSxcbjEseCkpfUEmJihBPWQuZ2V0UHJldmlvdXMoKSkmJkEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1BLmdldE5hbWUoKT9BLnJlbW92ZSgpOkEuZ2V0TGFzdCgpJiZcImJyXCI9PUEuZ2V0TGFzdCgpLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmQS5nZXRMYXN0KCkucmVtb3ZlKCkpO0cmJihBPWQuZ2V0TGFzdCgpKSYmQS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09QS5nZXROYW1lKCkmJighQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fEEuZ2V0UHJldmlvdXMoZyl8fEEuZ2V0TmV4dChnKSkmJkEucmVtb3ZlKCk7dGhpcy5fLm5leHROb2RlfHwodGhpcy5fLm5leHROb2RlPXd8fGQuZXF1YWxzKHgpfHwheD9udWxsOnRoaXMuX2dldE5leHRTb3VyY2VOb2RlKGQsMSx4KSk7cmV0dXJuIGR9LF9nZXROZXh0U291cmNlTm9kZTpmdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4hKGEuZXF1YWxzKGMpfHxhLmVxdWFscyhlKSl9dmFyIGU9XG50aGlzLnJhbmdlLnJvb3Q7Zm9yKGE9YS5nZXROZXh0U291cmNlTm9kZShiLG51bGwsZCk7IWcoYSk7KWE9YS5nZXROZXh0U291cmNlTm9kZShiLG51bGwsZCk7cmV0dXJuIGF9fTtDS0VESVRPUi5kb20ucmFuZ2UucHJvdG90eXBlLmNyZWF0ZUl0ZXJhdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBhKHRoaXMpfX0pKCk7XG5DS0VESVRPUi5jb21tYW5kPWZ1bmN0aW9uKGEsZCl7dGhpcy51aUl0ZW1zPVtdO3RoaXMuZXhlYz1mdW5jdGlvbihiKXtpZih0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRHx8IXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5lZGl0b3JGb2N1cyYmYS5mb2N1cygpO3JldHVybiExPT09dGhpcy5maXJlKFwiZXhlY1wiKT8hMDohMSE9PWQuZXhlYy5jYWxsKHRoaXMsYSxiKX07dGhpcy5yZWZyZXNoPWZ1bmN0aW9uKGEsYil7aWYoIXRoaXMucmVhZE9ubHkmJmEucmVhZE9ubHkpcmV0dXJuITA7aWYodGhpcy5jb250ZXh0JiYhYi5pc0NvbnRleHRGb3IodGhpcy5jb250ZXh0KXx8IXRoaXMuY2hlY2tBbGxvd2VkKCEwKSlyZXR1cm4gdGhpcy5kaXNhYmxlKCksITA7dGhpcy5zdGFydERpc2FibGVkfHx0aGlzLmVuYWJsZSgpO3RoaXMubW9kZXMmJiF0aGlzLm1vZGVzW2EubW9kZV0mJnRoaXMuZGlzYWJsZSgpO3JldHVybiExPT09dGhpcy5maXJlKFwicmVmcmVzaFwiLFxue2VkaXRvcjphLHBhdGg6Yn0pPyEwOmQucmVmcmVzaCYmITEhPT1kLnJlZnJlc2guYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgYjt0aGlzLmNoZWNrQWxsb3dlZD1mdW5jdGlvbihjKXtyZXR1cm4gY3x8XCJib29sZWFuXCIhPXR5cGVvZiBiP2I9YS5hY3RpdmVGaWx0ZXIuY2hlY2tGZWF0dXJlKHRoaXMpOmJ9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGQse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjEsY29udGV4dFNlbnNpdGl2ZTohIWQuY29udGV4dCxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRH0pO0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyl9O1xuQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9e2VuYWJsZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZ0aGlzLmNoZWNrQWxsb3dlZCgpJiZ0aGlzLnNldFN0YXRlKHRoaXMucHJlc2VydmVTdGF0ZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHRoaXMucHJldmlvdXNTdGF0ZT90aGlzLnByZXZpb3VzU3RhdGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlPT1hfHxhIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmIXRoaXMuY2hlY2tBbGxvd2VkKCkpcmV0dXJuITE7dGhpcy5wcmV2aW91c1N0YXRlPXRoaXMuc3RhdGU7dGhpcy5zdGF0ZT1hO3RoaXMuZmlyZShcInN0YXRlXCIpO3JldHVybiEwfSx0b2dnbGVTdGF0ZTpmdW5jdGlvbigpe3RoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9cbnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pOnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi5jb21tYW5kLnByb3RvdHlwZSk7Q0tFRElUT1IuRU5URVJfUD0xO0NLRURJVE9SLkVOVEVSX0JSPTI7Q0tFRElUT1IuRU5URVJfRElWPTM7XG5DS0VESVRPUi5jb25maWc9e2N1c3RvbUNvbmZpZzpcImNvbmZpZy5qc1wiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOlwiXCIsZGVmYXVsdExhbmd1YWdlOlwiZW5cIixjb250ZW50c0xhbmdEaXJlY3Rpb246XCJcIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOlwiXFx4M2MhRE9DVFlQRSBodG1sXFx4M2VcIixib2R5SWQ6XCJcIixib2R5Q2xhc3M6XCJcIixmdWxsUGFnZTohMSxoZWlnaHQ6MjAwLGNvbnRlbnRzQ3NzOkNLRURJVE9SLmdldFVybChcImNvbnRlbnRzLmNzc1wiKSxleHRyYVBsdWdpbnM6XCJcIixyZW1vdmVQbHVnaW5zOlwiXCIscHJvdGVjdGVkU291cmNlOltdLHRhYkluZGV4OjAsd2lkdGg6XCJcIixiYXNlRmxvYXRaSW5kZXg6MUU0LGJsb2NrZWRLZXlzdHJva2VzOltDS0VESVRPUi5DVFJMKzY2LENLRURJVE9SLkNUUkwrNzMsQ0tFRElUT1IuQ1RSTCs4NV19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyxkLGUpe3ZhciBmLGw7YT1bXTtmb3IoZiBpbiBiKXtsPWJbZl07bD1cImJvb2xlYW5cIj09dHlwZW9mIGw/e306XCJmdW5jdGlvblwiPT10eXBlb2YgbD97bWF0Y2g6bH06dihsKTtcIiRcIiE9Zi5jaGFyQXQoMCkmJihsLmVsZW1lbnRzPWYpO2MmJihsLmZlYXR1cmVOYW1lPWMudG9Mb3dlckNhc2UoKSk7dmFyIHQ9bDt0LmVsZW1lbnRzPWgodC5lbGVtZW50cywvXFxzKy8pfHxudWxsO3QucHJvcGVydGllc09ubHk9dC5wcm9wZXJ0aWVzT25seXx8ITA9PT10LmVsZW1lbnRzO3ZhciB1PS9cXHMqLFxccyovLGc9dm9pZCAwO2ZvcihnIGluIFYpe3RbZ109aCh0W2ddLHUpfHxudWxsO3ZhciBwPXQscj1PW2ddLG09aCh0W09bZ11dLHUpLEY9dFtnXSx5PVtdLEI9ITAsQz12b2lkIDA7bT9CPSExOm09e307Zm9yKEMgaW4gRilcIiFcIj09Qy5jaGFyQXQoMCkmJihDPUMuc2xpY2UoMSkseS5wdXNoKEMpLG1bQ109ITAsQj0hMSk7Zm9yKDtDPXkucG9wKCk7KUZbQ109XG5GW1wiIVwiK0NdLGRlbGV0ZSBGW1wiIVwiK0NdO3Bbcl09KEI/ITE6bSl8fG51bGx9dC5tYXRjaD10Lm1hdGNofHxudWxsO2QucHVzaChsKTthLnB1c2gobCl9Yj1lLmVsZW1lbnRzO2U9ZS5nZW5lcmljO3ZhciBrO2M9MDtmb3IoZD1hLmxlbmd0aDtjPGQ7KytjKXtmPXYoYVtjXSk7bD0hMD09PWYuY2xhc3Nlc3x8ITA9PT1mLnN0eWxlc3x8ITA9PT1mLmF0dHJpYnV0ZXM7dD1mO2c9cj11PXZvaWQgMDtmb3IodSBpbiBWKXRbdV09Syh0W3VdKTtwPSEwO2ZvcihnIGluIE8pe3U9T1tnXTtyPXRbdV07bT1bXTtGPXZvaWQgMDtmb3IoRiBpbiByKS0xPEYuaW5kZXhPZihcIipcIik/bS5wdXNoKG5ldyBSZWdFeHAoXCJeXCIrRi5yZXBsYWNlKC9cXCovZyxcIi4qXCIpK1wiJFwiKSk6bS5wdXNoKEYpO3I9bTtyLmxlbmd0aCYmKHRbdV09cixwPSExKX10Lm5vdGhpbmdSZXF1aXJlZD1wO3Qubm9Qcm9wZXJ0aWVzPSEodC5hdHRyaWJ1dGVzfHx0LmNsYXNzZXN8fHQuc3R5bGVzKTtpZighMD09PWYuZWxlbWVudHN8fFxubnVsbD09PWYuZWxlbWVudHMpZVtsP1widW5zaGlmdFwiOlwicHVzaFwiXShmKTtlbHNlIGZvcihrIGluIHQ9Zi5lbGVtZW50cyxkZWxldGUgZi5lbGVtZW50cyx0KWlmKGJba10pYltrXVtsP1widW5zaGlmdFwiOlwicHVzaFwiXShmKTtlbHNlIGJba109W2ZdfX1mdW5jdGlvbiBkKGEsYyxkLGUpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGMpKWlmKGV8fGsoYSxjKSlpZihhLnByb3BlcnRpZXNPbmx5fHwoZC52YWxpZD0hMCksZC5hbGxBdHRyaWJ1dGVzfHwoZC5hbGxBdHRyaWJ1dGVzPWIoYS5hdHRyaWJ1dGVzLGMuYXR0cmlidXRlcyxkLnZhbGlkQXR0cmlidXRlcykpLGQuYWxsU3R5bGVzfHwoZC5hbGxTdHlsZXM9YihhLnN0eWxlcyxjLnN0eWxlcyxkLnZhbGlkU3R5bGVzKSksIWQuYWxsQ2xhc3Nlcyl7YT1hLmNsYXNzZXM7Yz1jLmNsYXNzZXM7ZT1kLnZhbGlkQ2xhc3NlcztpZihhKWlmKCEwPT09YSlhPSEwO2Vsc2V7Zm9yKHZhciBmPTAsbD1jLmxlbmd0aCx0O2Y8bDsrK2YpdD1jW2ZdLGVbdF18fFxuKGVbdF09YSh0KSk7YT0hMX1lbHNlIGE9ITE7ZC5hbGxDbGFzc2VzPWF9fWZ1bmN0aW9uIGIoYSxiLGMpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDtmb3IodmFyIGQgaW4gYiljW2RdfHwoY1tkXT1hKGQpKTtyZXR1cm4hMX1mdW5jdGlvbiBjKGEsYixjKXtpZighYS5tYXRjaHx8YS5tYXRjaChiKSl7aWYoYS5ub1Byb3BlcnRpZXMpcmV0dXJuITE7Yy5oYWRJbnZhbGlkQXR0cmlidXRlPWUoYS5hdHRyaWJ1dGVzLGIuYXR0cmlidXRlcyl8fGMuaGFkSW52YWxpZEF0dHJpYnV0ZTtjLmhhZEludmFsaWRTdHlsZT1lKGEuc3R5bGVzLGIuc3R5bGVzKXx8Yy5oYWRJbnZhbGlkU3R5bGU7YT1hLmNsYXNzZXM7Yj1iLmNsYXNzZXM7aWYoYSl7Zm9yKHZhciBkPSExLGY9ITA9PT1hLHQ9Yi5sZW5ndGg7dC0tOylpZihmfHxhKGJbdF0pKWIuc3BsaWNlKHQsMSksZD0hMDthPWR9ZWxzZSBhPSExO2MuaGFkSW52YWxpZENsYXNzPWF8fGMuaGFkSW52YWxpZENsYXNzfX1mdW5jdGlvbiBlKGEsXG5iKXtpZighYSlyZXR1cm4hMTt2YXIgYz0hMSxkPSEwPT09YSxlO2ZvcihlIGluIGIpaWYoZHx8YShlKSlkZWxldGUgYltlXSxjPSEwO3JldHVybiBjfWZ1bmN0aW9uIGcoYSxiLGMpe2lmKGEuZGlzYWJsZWR8fGEuY3VzdG9tQ29uZmlnJiYhY3x8IWIpcmV0dXJuITE7YS5fLmNhY2hlZENoZWNrcz17fTtyZXR1cm4hMH1mdW5jdGlvbiBoKGEsYil7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiBhO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXJldHVybiBhPUIoYSksXCIqXCI9PWE/ITA6Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYS5zcGxpdChiKSk7aWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShhKSlyZXR1cm4gYS5sZW5ndGg/Q0tFRElUT1IudG9vbHMuY29udmVydEFycmF5VG9PYmplY3QoYSk6ITE7dmFyIGM9e30sZD0wLGU7Zm9yKGUgaW4gYSljW2VdPWFbZV0sZCsrO3JldHVybiBkP2M6ITF9ZnVuY3Rpb24gayhhLGIpe2lmKGEubm90aGluZ1JlcXVpcmVkKXJldHVybiEwO1xudmFyIGMsZCxlLGY7aWYoZT1hLnJlcXVpcmVkQ2xhc3Nlcylmb3IoZj1iLmNsYXNzZXMsYz0wO2M8ZS5sZW5ndGg7KytjKWlmKGQ9ZVtjXSxcInN0cmluZ1wiPT10eXBlb2YgZCl7aWYoLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZixkKSlyZXR1cm4hMX1lbHNlIGlmKCFDS0VESVRPUi50b29scy5jaGVja0lmQW55QXJyYXlJdGVtTWF0Y2hlcyhmLGQpKXJldHVybiExO3JldHVybiBuKGIuc3R5bGVzLGEucmVxdWlyZWRTdHlsZXMpJiZuKGIuYXR0cmlidXRlcyxhLnJlcXVpcmVkQXR0cmlidXRlcyl9ZnVuY3Rpb24gbihhLGIpe2lmKCFiKXJldHVybiEwO2Zvcih2YXIgYz0wLGQ7YzxiLmxlbmd0aDsrK2MpaWYoZD1iW2NdLFwic3RyaW5nXCI9PXR5cGVvZiBkKXtpZighKGQgaW4gYSkpcmV0dXJuITF9ZWxzZSBpZighQ0tFRElUT1IudG9vbHMuY2hlY2tJZkFueU9iamVjdFByb3BlcnR5TWF0Y2hlcyhhLGQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHEoYSl7aWYoIWEpcmV0dXJue307XG5hPWEuc3BsaXQoL1xccyosXFxzKi8pLnNvcnQoKTtmb3IodmFyIGI9e307YS5sZW5ndGg7KWJbYS5zaGlmdCgpXT1cImNrZS10ZXN0XCI7cmV0dXJuIGJ9ZnVuY3Rpb24gZihhKXt2YXIgYixjLGQsZSxmPXt9LHQ9MTtmb3IoYT1CKGEpO2I9YS5tYXRjaChwKTspKGM9YlsyXSk/KGQ9RChjLFwic3R5bGVzXCIpLGU9RChjLFwiYXR0cnNcIiksYz1EKGMsXCJjbGFzc2VzXCIpKTpkPWU9Yz1udWxsLGZbXCIkXCIrdCsrXT17ZWxlbWVudHM6YlsxXSxjbGFzc2VzOmMsc3R5bGVzOmQsYXR0cmlidXRlczplfSxhPWEuc2xpY2UoYlswXS5sZW5ndGgpO3JldHVybiBmfWZ1bmN0aW9uIEQoYSxiKXt2YXIgYz1hLm1hdGNoKENbYl0pO3JldHVybiBjP0IoY1sxXSk6bnVsbH1mdW5jdGlvbiB3KGEpe3ZhciBiPWEuc3R5bGVCYWNrdXA9YS5hdHRyaWJ1dGVzLnN0eWxlLGM9YS5jbGFzc0JhY2t1cD1hLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTthLnN0eWxlc3x8KGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChifHxcblwiXCIsMSkpO2EuY2xhc3Nlc3x8KGEuY2xhc3Nlcz1jP2Muc3BsaXQoL1xccysvKTpbXSl9ZnVuY3Rpb24gQShhLGIsZSxmKXt2YXIgbD0wLHU7Zi50b0h0bWwmJihiLm5hbWU9Yi5uYW1lLnJlcGxhY2UodCxcIiQxXCIpKTtpZihmLmRvQ2FsbGJhY2tzJiZhLmVsZW1lbnRDYWxsYmFja3Mpe2E6e3U9YS5lbGVtZW50Q2FsbGJhY2tzO2Zvcih2YXIgdj0wLGc9dS5sZW5ndGgscDt2PGc7Kyt2KWlmKHA9dVt2XShiKSl7dT1wO2JyZWFrIGF9dT12b2lkIDB9aWYodSlyZXR1cm4gdX1pZihmLmRvVHJhbnNmb3JtJiYodT1hLl8udHJhbnNmb3JtYXRpb25zW2IubmFtZV0pKXt3KGIpO2Zvcih2PTA7djx1Lmxlbmd0aDsrK3YpcihhLGIsdVt2XSk7eChiKX1pZihmLmRvRmlsdGVyKXthOnt2PWIubmFtZTtnPWEuXzthPWcuYWxsb3dlZFJ1bGVzLmVsZW1lbnRzW3ZdO3U9Zy5hbGxvd2VkUnVsZXMuZ2VuZXJpYzt2PWcuZGlzYWxsb3dlZFJ1bGVzLmVsZW1lbnRzW3ZdO2c9Zy5kaXNhbGxvd2VkUnVsZXMuZ2VuZXJpYztcbnA9Zi5za2lwUmVxdWlyZWQ7dmFyIHk9e3ZhbGlkOiExLHZhbGlkQXR0cmlidXRlczp7fSx2YWxpZENsYXNzZXM6e30sdmFsaWRTdHlsZXM6e30sYWxsQXR0cmlidXRlczohMSxhbGxDbGFzc2VzOiExLGFsbFN0eWxlczohMSxoYWRJbnZhbGlkQXR0cmlidXRlOiExLGhhZEludmFsaWRDbGFzczohMSxoYWRJbnZhbGlkU3R5bGU6ITF9LEIsQztpZihhfHx1KXt3KGIpO2lmKHYpZm9yKEI9MCxDPXYubGVuZ3RoO0I8QzsrK0IpaWYoITE9PT1jKHZbQl0sYix5KSl7YT1udWxsO2JyZWFrIGF9aWYoZylmb3IoQj0wLEM9Zy5sZW5ndGg7QjxDOysrQiljKGdbQl0sYix5KTtpZihhKWZvcihCPTAsQz1hLmxlbmd0aDtCPEM7KytCKWQoYVtCXSxiLHkscCk7aWYodSlmb3IoQj0wLEM9dS5sZW5ndGg7QjxDOysrQilkKHVbQl0sYix5LHApO2E9eX1lbHNlIGE9bnVsbH1pZighYXx8IWEudmFsaWQpcmV0dXJuIGUucHVzaChiKSwxO0M9YS52YWxpZEF0dHJpYnV0ZXM7dmFyIGg9YS52YWxpZFN0eWxlcztcbnU9YS52YWxpZENsYXNzZXM7dmFyIHY9Yi5hdHRyaWJ1dGVzLGs9Yi5zdHlsZXMsZz1iLmNsYXNzZXM7cD1iLmNsYXNzQmFja3VwO3ZhciBKPWIuc3R5bGVCYWNrdXAsSCxOLEU9W10seT1bXSxPPS9eZGF0YS1ja2UtLztCPSExO2RlbGV0ZSB2LnN0eWxlO2RlbGV0ZSB2W1wiY2xhc3NcIl07ZGVsZXRlIGIuY2xhc3NCYWNrdXA7ZGVsZXRlIGIuc3R5bGVCYWNrdXA7aWYoIWEuYWxsQXR0cmlidXRlcylmb3IoSCBpbiB2KUNbSF18fChPLnRlc3QoSCk/SD09KE49SC5yZXBsYWNlKC9eZGF0YS1ja2Utc2F2ZWQtLyxcIlwiKSl8fENbTl18fChkZWxldGUgdltIXSxCPSEwKTooZGVsZXRlIHZbSF0sQj0hMCkpO2lmKCFhLmFsbFN0eWxlc3x8YS5oYWRJbnZhbGlkU3R5bGUpe2ZvcihIIGluIGspYS5hbGxTdHlsZXN8fGhbSF0/RS5wdXNoKEgrXCI6XCIra1tIXSk6Qj0hMDtFLmxlbmd0aCYmKHYuc3R5bGU9RS5zb3J0KCkuam9pbihcIjsgXCIpKX1lbHNlIEomJih2LnN0eWxlPUopO2lmKCFhLmFsbENsYXNzZXN8fFxuYS5oYWRJbnZhbGlkQ2xhc3Mpe2ZvcihIPTA7SDxnLmxlbmd0aDsrK0gpKGEuYWxsQ2xhc3Nlc3x8dVtnW0hdXSkmJnkucHVzaChnW0hdKTt5Lmxlbmd0aCYmKHZbXCJjbGFzc1wiXT15LnNvcnQoKS5qb2luKFwiIFwiKSk7cCYmeS5sZW5ndGg8cC5zcGxpdCgvXFxzKy8pLmxlbmd0aCYmKEI9ITApfWVsc2UgcCYmKHZbXCJjbGFzc1wiXT1wKTtCJiYobD0xKTtpZighZi5za2lwRmluYWxWYWxpZGF0aW9uJiYhbShiKSlyZXR1cm4gZS5wdXNoKGIpLDF9Zi50b0h0bWwmJihiLm5hbWU9Yi5uYW1lLnJlcGxhY2UoRixcImNrZTokMVwiKSk7cmV0dXJuIGx9ZnVuY3Rpb24gRyhhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEpLTE8Yy5pbmRleE9mKFwiKlwiKSYmYi5wdXNoKGMucmVwbGFjZSgvXFwqL2csXCIuKlwiKSk7cmV0dXJuIGIubGVuZ3RoP25ldyBSZWdFeHAoXCJeKD86XCIrYi5qb2luKFwifFwiKStcIikkXCIpOm51bGx9ZnVuY3Rpb24geChhKXt2YXIgYj1hLmF0dHJpYnV0ZXMsYztkZWxldGUgYi5zdHlsZTtkZWxldGUgYltcImNsYXNzXCJdO1xuaWYoYz1DS0VESVRPUi50b29scy53cml0ZUNzc1RleHQoYS5zdHlsZXMsITApKWIuc3R5bGU9YzthLmNsYXNzZXMubGVuZ3RoJiYoYltcImNsYXNzXCJdPWEuY2xhc3Nlcy5zb3J0KCkuam9pbihcIiBcIikpfWZ1bmN0aW9uIG0oYSl7c3dpdGNoKGEubmFtZSl7Y2FzZSBcImFcIjppZighKGEuY2hpbGRyZW4ubGVuZ3RofHxhLmF0dHJpYnV0ZXMubmFtZXx8YS5hdHRyaWJ1dGVzLmlkKSlyZXR1cm4hMTticmVhaztjYXNlIFwiaW1nXCI6aWYoIWEuYXR0cmlidXRlcy5zcmMpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSyhhKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuITA7dmFyIGI9RyhhKTtyZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGMgaW4gYXx8YiYmYy5tYXRjaChiKX19ZnVuY3Rpb24geigpe3JldHVybiBuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIil9ZnVuY3Rpb24gSShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcImJyXCI9PVxuYS5uYW1lfHx5LiRibG9ja1thLm5hbWVdKX1mdW5jdGlvbiBsKGEsYixjKXt2YXIgZD1hLm5hbWU7aWYoeS4kZW1wdHlbZF18fCFhLmNoaWxkcmVuLmxlbmd0aClcImhyXCI9PWQmJlwiYnJcIj09Yj9hLnJlcGxhY2VXaXRoKHooKSk6KGEucGFyZW50JiZjLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVtb3ZlKCkpO2Vsc2UgaWYoeS4kYmxvY2tbZF18fFwidHJcIj09ZClpZihcImJyXCI9PWIpYS5wcmV2aW91cyYmIUkoYS5wcmV2aW91cykmJihiPXooKSxiLmluc2VydEJlZm9yZShhKSksYS5uZXh0JiYhSShhLm5leHQpJiYoYj16KCksYi5pbnNlcnRBZnRlcihhKSksYS5yZXBsYWNlV2l0aENoaWxkcmVuKCk7ZWxzZXt2YXIgZD1hLmNoaWxkcmVuLGU7Yjp7ZT15W2JdO2Zvcih2YXIgZj0wLHQ9ZC5sZW5ndGgsbDtmPHQ7KytmKWlmKGw9ZFtmXSxsLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWVbbC5uYW1lXSl7ZT0hMTticmVhayBifWU9ITB9aWYoZSlhLm5hbWU9YixhLmF0dHJpYnV0ZXM9XG57fSxjLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDphfSk7ZWxzZXtlPWEucGFyZW50O2Zvcih2YXIgZj1lLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fFwiYm9keVwiPT1lLm5hbWUsdix1LHQ9ZC5sZW5ndGg7MDx0OylsPWRbLS10XSxmJiYobC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ5LiRpbmxpbmVbbC5uYW1lXSk/KHZ8fCh2PW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoYiksdi5pbnNlcnRBZnRlcihhKSxjLnB1c2goe2NoZWNrOlwicGFyZW50LWRvd25cIixlbDp2fSkpLHYuYWRkKGwsMCkpOih2PW51bGwsdT15W2UubmFtZV18fHkuc3BhbixsLmluc2VydEFmdGVyKGEpLGUudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8bC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fHVbbC5uYW1lXXx8Yy5wdXNoKHtjaGVjazpcImVsLXVwXCIsZWw6bH0pKTthLnJlbW92ZSgpfX1lbHNlIGQgaW5cbntzdHlsZToxLHNjcmlwdDoxfT9hLnJlbW92ZSgpOihhLnBhcmVudCYmYy5wdXNoKHtjaGVjazpcIml0XCIsZWw6YS5wYXJlbnR9KSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSl9ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQsZTtmb3IoZD0wO2Q8Yy5sZW5ndGg7KytkKWlmKGU9Y1tkXSwhKGUuY2hlY2smJiFhLmNoZWNrKGUuY2hlY2ssITEpfHxlLmxlZnQmJiFlLmxlZnQoYikpKXtlLnJpZ2h0KGIsTik7YnJlYWt9fWZ1bmN0aW9uIEooYSxiKXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuYXR0cmlidXRlcyxlPWMuc3R5bGVzLGYsbCx0LHY7aWYoYS5uYW1lIT1jLmVsZW1lbnQpcmV0dXJuITE7Zm9yKGYgaW4gZClpZihcImNsYXNzXCI9PWYpZm9yKGM9ZFtmXS5zcGxpdCgvXFxzKy8pLHQ9YS5jbGFzc2VzLmpvaW4oXCJ8XCIpO3Y9Yy5wb3AoKTspe2lmKC0xPT10LmluZGV4T2YodikpcmV0dXJuITF9ZWxzZSBpZihhLmF0dHJpYnV0ZXNbZl0hPWRbZl0pcmV0dXJuITE7Zm9yKGwgaW4gZSlpZihhLnN0eWxlc1tsXSE9XG5lW2xdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEgoYSxiKXt2YXIgYyxkO1wic3RyaW5nXCI9PXR5cGVvZiBhP2M9YTphIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGU/ZD1hOihjPWFbMF0sZD1hWzFdKTtyZXR1cm5be2VsZW1lbnQ6YyxsZWZ0OmQscmlnaHQ6ZnVuY3Rpb24oYSxjKXtjLnRyYW5zZm9ybShhLGIpfX1dfWZ1bmN0aW9uIEUoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBKKGIsYSl9fWZ1bmN0aW9uIHUoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7Y1thXShiKX19dmFyIHk9Q0tFRElUT1IuZHRkLHY9Q0tFRElUT1IudG9vbHMuY29weSxCPUNLRURJVE9SLnRvb2xzLnRyaW0sTD1bXCJcIixcInBcIixcImJyXCIsXCJkaXZcIl07Q0tFRElUT1IuRklMVEVSX1NLSVBfVFJFRT0yO0NLRURJVE9SLmZpbHRlcj1mdW5jdGlvbihhKXt0aGlzLmFsbG93ZWRDb250ZW50PVtdO3RoaXMuZGlzYWxsb3dlZENvbnRlbnQ9W107dGhpcy5lbGVtZW50Q2FsbGJhY2tzPW51bGw7dGhpcy5kaXNhYmxlZD1cbiExO3RoaXMuZWRpdG9yPW51bGw7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5fPXthbGxvd2VkUnVsZXM6e2VsZW1lbnRzOnt9LGdlbmVyaWM6W119LGRpc2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sdHJhbnNmb3JtYXRpb25zOnt9LGNhY2hlZFRlc3RzOnt9LGNhY2hlZENoZWNrczp7fX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXT10aGlzO2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3Ipe2E9dGhpcy5lZGl0b3I9YTt0aGlzLmN1c3RvbUNvbmZpZz0hMDt2YXIgYj1hLmNvbmZpZy5hbGxvd2VkQ29udGVudDshMD09PWI/dGhpcy5kaXNhYmxlZD0hMDooYnx8KHRoaXMuY3VzdG9tQ29uZmlnPSExKSx0aGlzLmFsbG93KGIsXCJjb25maWdcIiwxKSx0aGlzLmFsbG93KGEuY29uZmlnLmV4dHJhQWxsb3dlZENvbnRlbnQsXCJleHRyYVwiLDEpLHRoaXMuYWxsb3coTFthLmVudGVyTW9kZV0rXCIgXCIrTFthLnNoaWZ0RW50ZXJNb2RlXSxcblwiZGVmYXVsdFwiLDEpLHRoaXMuZGlzYWxsb3coYS5jb25maWcuZGlzYWxsb3dlZENvbnRlbnQpKX1lbHNlIHRoaXMuY3VzdG9tQ29uZmlnPSExLHRoaXMuYWxsb3coYSxcImRlZmF1bHRcIiwxKX07Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlcz17fTtDS0VESVRPUi5maWx0ZXIucHJvdG90eXBlPXthbGxvdzpmdW5jdGlvbihiLGMsZCl7aWYoIWcodGhpcyxiLGQpKXJldHVybiExO3ZhciBlLGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYj1mKGIpO2Vsc2UgaWYoYiBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlKXtpZihiLnRvQWxsb3dlZENvbnRlbnRSdWxlcylyZXR1cm4gdGhpcy5hbGxvdyhiLnRvQWxsb3dlZENvbnRlbnRSdWxlcyh0aGlzLmVkaXRvciksYyxkKTtlPWIuZ2V0RGVmaW5pdGlvbigpO2I9e307ZD1lLmF0dHJpYnV0ZXM7YltlLmVsZW1lbnRdPWU9e3N0eWxlczplLnN0eWxlcyxyZXF1aXJlZFN0eWxlczplLnN0eWxlcyYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhlLnN0eWxlcyl9O1xuZCYmKGQ9dihkKSxlLmNsYXNzZXM9ZFtcImNsYXNzXCJdP2RbXCJjbGFzc1wiXS5zcGxpdCgvXFxzKy8pOm51bGwsZS5yZXF1aXJlZENsYXNzZXM9ZS5jbGFzc2VzLGRlbGV0ZSBkW1wiY2xhc3NcIl0sZS5hdHRyaWJ1dGVzPWQsZS5yZXF1aXJlZEF0dHJpYnV0ZXM9ZCYmQ0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhkKSl9ZWxzZSBpZihDS0VESVRPUi50b29scy5pc0FycmF5KGIpKXtmb3IoZT0wO2U8Yi5sZW5ndGg7KytlKWw9dGhpcy5hbGxvdyhiW2VdLGMsZCk7cmV0dXJuIGx9YSh0aGlzLGIsYyx0aGlzLmFsbG93ZWRDb250ZW50LHRoaXMuXy5hbGxvd2VkUnVsZXMpO3JldHVybiEwfSxhcHBseVRvOmZ1bmN0aW9uKGEsYixjLGQpe2lmKHRoaXMuZGlzYWJsZWQpcmV0dXJuITE7dmFyIGU9dGhpcyxmPVtdLHQ9dGhpcy5lZGl0b3ImJnRoaXMuZWRpdG9yLmNvbmZpZy5wcm90ZWN0ZWRTb3VyY2Usdix1PSExLGc9e2RvRmlsdGVyOiFjLGRvVHJhbnNmb3JtOiEwLGRvQ2FsbGJhY2tzOiEwLHRvSHRtbDpifTtcbmEuZm9yRWFjaChmdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoXCJvZmZcIj09YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtZmlsdGVyXCJdKXJldHVybiExO2lmKCFifHxcInNwYW5cIiE9YS5uYW1lfHwhfkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoYS5hdHRyaWJ1dGVzKS5qb2luKFwifFwiKS5pbmRleE9mKFwiZGF0YS1ja2UtXCIpKWlmKHY9QShlLGEsZixnKSx2JjEpdT0hMDtlbHNlIGlmKHYmMilyZXR1cm4hMX1lbHNlIGlmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UJiZhLnZhbHVlLm1hdGNoKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfSg/IVxce0NcXH0pLykpe3ZhciBjO2E6e3ZhciBkPWRlY29kZVVSSUNvbXBvbmVudChhLnZhbHVlLnJlcGxhY2UoL15cXHtja2VfcHJvdGVjdGVkXFx9LyxcIlwiKSk7Yz1bXTt2YXIgbCxwLHI7aWYodClmb3IocD0wO3A8dC5sZW5ndGg7KytwKWlmKChyPWQubWF0Y2godFtwXSkpJiZyWzBdLmxlbmd0aD09ZC5sZW5ndGgpe2M9ITA7XG5icmVhayBhfWQ9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChkKTsxPT1kLmNoaWxkcmVuLmxlbmd0aCYmKGw9ZC5jaGlsZHJlblswXSkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZBKGUsbCxjLGcpO2M9IWMubGVuZ3RofWN8fGYucHVzaChhKX19LG51bGwsITApO2YubGVuZ3RoJiYodT0hMCk7dmFyIHA7YT1bXTtkPUxbZHx8KHRoaXMuZWRpdG9yP3RoaXMuZWRpdG9yLmVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9QKV07Zm9yKHZhciByO2M9Zi5wb3AoKTspYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/bChjLGQsYSk6Yy5yZW1vdmUoKTtmb3IoO3A9YS5wb3AoKTspaWYoYz1wLmVsLGMucGFyZW50KXN3aXRjaChyPXlbYy5wYXJlbnQubmFtZV18fHkuc3BhbixwLmNoZWNrKXtjYXNlIFwiaXRcIjp5LiRyZW1vdmVFbXB0eVtjLm5hbWVdJiYhYy5jaGlsZHJlbi5sZW5ndGg/bChjLGQsYSk6bShjKXx8bChjLGQsYSk7YnJlYWs7Y2FzZSBcImVsLXVwXCI6Yy5wYXJlbnQudHlwZT09XG5DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxyW2MubmFtZV18fGwoYyxkLGEpO2JyZWFrO2Nhc2UgXCJwYXJlbnQtZG93blwiOmMucGFyZW50LnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlR8fHJbYy5uYW1lXXx8bChjLnBhcmVudCxkLGEpfXJldHVybiB1fSxjaGVja0ZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7cmV0dXJuIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ITB9LGRpc2FsbG93OmZ1bmN0aW9uKGIpe2lmKCFnKHRoaXMsYiwhMCkpcmV0dXJuITE7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPWYoYikpO2EodGhpcyxiLG51bGwsdGhpcy5kaXNhbGxvd2VkQ29udGVudCx0aGlzLl8uZGlzYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sXG5hZGRDb250ZW50Rm9ybXM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBiLGMsZD1bXSxlO2ZvcihiPTA7YjxhLmxlbmd0aCYmIWU7KytiKWM9YVtiXSwoXCJzdHJpbmdcIj09dHlwZW9mIGN8fGMgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSkmJnRoaXMuY2hlY2soYykmJihlPWMpO2lmKGUpe2ZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZC5wdXNoKEgoYVtiXSxlKSk7dGhpcy5hZGRUcmFuc2Zvcm1hdGlvbnMoZCl9fX0sYWRkRWxlbWVudENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudENhbGxiYWNrc3x8KHRoaXMuZWxlbWVudENhbGxiYWNrcz1bXSk7dGhpcy5lbGVtZW50Q2FsbGJhY2tzLnB1c2goYSl9LGFkZEZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZHx8IWEpcmV0dXJuITA7YS50b0ZlYXR1cmUmJihhPWEudG9GZWF0dXJlKHRoaXMuZWRpdG9yKSk7dGhpcy5hbGxvdyhhLmFsbG93ZWRDb250ZW50LGEubmFtZSk7dGhpcy5hZGRUcmFuc2Zvcm1hdGlvbnMoYS5jb250ZW50VHJhbnNmb3JtYXRpb25zKTtcbnRoaXMuYWRkQ29udGVudEZvcm1zKGEuY29udGVudEZvcm1zKTtyZXR1cm4gYS5yZXF1aXJlZENvbnRlbnQmJih0aGlzLmN1c3RvbUNvbmZpZ3x8dGhpcy5kaXNhbGxvd2VkQ29udGVudC5sZW5ndGgpP3RoaXMuY2hlY2soYS5yZXF1aXJlZENvbnRlbnQpOiEwfSxhZGRUcmFuc2Zvcm1hdGlvbnM6ZnVuY3Rpb24oYSl7dmFyIGIsYztpZighdGhpcy5kaXNhYmxlZCYmYSl7dmFyIGQ9dGhpcy5fLnRyYW5zZm9ybWF0aW9ucyxlO2ZvcihlPTA7ZTxhLmxlbmd0aDsrK2Upe2I9YVtlXTt2YXIgZj12b2lkIDAsbD12b2lkIDAsdD12b2lkIDAsdj12b2lkIDAsZz12b2lkIDAscD12b2lkIDA7Yz1bXTtmb3IobD0wO2w8Yi5sZW5ndGg7KytsKXQ9YltsXSxcInN0cmluZ1wiPT10eXBlb2YgdD8odD10LnNwbGl0KC9cXHMqOlxccyovKSx2PXRbMF0sZz1udWxsLHA9dFsxXSk6KHY9dC5jaGVjayxnPXQubGVmdCxwPXQucmlnaHQpLGZ8fChmPXQsZj1mLmVsZW1lbnQ/Zi5lbGVtZW50OnY/di5tYXRjaCgvXihbYS16MC05XSspL2kpWzBdOlxuZi5sZWZ0LmdldERlZmluaXRpb24oKS5lbGVtZW50KSxnIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUmJihnPUUoZykpLGMucHVzaCh7Y2hlY2s6dj09Zj9udWxsOnYsbGVmdDpnLHJpZ2h0Olwic3RyaW5nXCI9PXR5cGVvZiBwP3UocCk6cH0pO2I9ZjtkW2JdfHwoZFtiXT1bXSk7ZFtiXS5wdXNoKGMpfX19LGNoZWNrOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiEwO2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpe2Zvcih2YXIgZD1hLmxlbmd0aDtkLS07KWlmKHRoaXMuY2hlY2soYVtkXSxiLGMpKXJldHVybiEwO3JldHVybiExfXZhciBlLGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpe2w9YStcIlxceDNjXCIrKCExPT09Yj9cIjBcIjpcIjFcIikrKGM/XCIxXCI6XCIwXCIpK1wiXFx4M2VcIjtpZihsIGluIHRoaXMuXy5jYWNoZWRDaGVja3MpcmV0dXJuIHRoaXMuXy5jYWNoZWRDaGVja3NbbF07ZD1mKGEpLiQxO2U9ZC5zdHlsZXM7dmFyIHQ9ZC5jbGFzc2VzO2QubmFtZT1kLmVsZW1lbnRzO1xuZC5jbGFzc2VzPXQ9dD90LnNwbGl0KC9cXHMqLFxccyovKTpbXTtkLnN0eWxlcz1xKGUpO2QuYXR0cmlidXRlcz1xKGQuYXR0cmlidXRlcyk7ZC5jaGlsZHJlbj1bXTt0Lmxlbmd0aCYmKGQuYXR0cmlidXRlc1tcImNsYXNzXCJdPXQuam9pbihcIiBcIikpO2UmJihkLmF0dHJpYnV0ZXMuc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGQuc3R5bGVzKSk7ZT1kfWVsc2UgZD1hLmdldERlZmluaXRpb24oKSxlPWQuc3R5bGVzLHQ9ZC5hdHRyaWJ1dGVzfHx7fSxlJiYhQ0tFRElUT1IudG9vbHMuaXNFbXB0eShlKT8oZT12KGUpLHQuc3R5bGU9Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KGUsITApKTplPXt9LGU9e25hbWU6ZC5lbGVtZW50LGF0dHJpYnV0ZXM6dCxjbGFzc2VzOnRbXCJjbGFzc1wiXT90W1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpbXSxzdHlsZXM6ZSxjaGlsZHJlbjpbXX07dmFyIHQ9Q0tFRElUT1IudG9vbHMuY2xvbmUoZSksdT1bXSxnO2lmKCExIT09YiYmKGc9dGhpcy5fLnRyYW5zZm9ybWF0aW9uc1tlLm5hbWVdKSl7Zm9yKGQ9XG4wO2Q8Zy5sZW5ndGg7KytkKXIodGhpcyxlLGdbZF0pO3goZSl9QSh0aGlzLHQsdSx7ZG9GaWx0ZXI6ITAsZG9UcmFuc2Zvcm06ITEhPT1iLHNraXBSZXF1aXJlZDohYyxza2lwRmluYWxWYWxpZGF0aW9uOiFjfSk7Yj0wPHUubGVuZ3RoPyExOkNLRURJVE9SLnRvb2xzLm9iamVjdENvbXBhcmUoZS5hdHRyaWJ1dGVzLHQuYXR0cmlidXRlcywhMCk/ITA6ITE7XCJzdHJpbmdcIj09dHlwZW9mIGEmJih0aGlzLl8uY2FjaGVkQ2hlY2tzW2xdPWIpO3JldHVybiBifSxnZXRBbGxvd2VkRW50ZXJNb2RlOmZ1bmN0aW9uKCl7dmFyIGE9W1wicFwiLFwiZGl2XCIsXCJiclwiXSxiPXtwOkNLRURJVE9SLkVOVEVSX1AsZGl2OkNLRURJVE9SLkVOVEVSX0RJVixicjpDS0VESVRPUi5FTlRFUl9CUn07cmV0dXJuIGZ1bmN0aW9uKGMsZCl7dmFyIGU9YS5zbGljZSgpLGY7aWYodGhpcy5jaGVjayhMW2NdKSlyZXR1cm4gYztmb3IoZHx8KGU9ZS5yZXZlcnNlKCkpO2Y9ZS5wb3AoKTspaWYodGhpcy5jaGVjayhmKSlyZXR1cm4gYltmXTtcbnJldHVybiBDS0VESVRPUi5FTlRFUl9CUn19KCksY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuZmlsdGVyLGI9Q0tFRElUT1IudG9vbHMuY2xvbmU7YS5hbGxvd2VkQ29udGVudD1iKHRoaXMuYWxsb3dlZENvbnRlbnQpO2EuXy5hbGxvd2VkUnVsZXM9Yih0aGlzLl8uYWxsb3dlZFJ1bGVzKTthLmRpc2FsbG93ZWRDb250ZW50PWIodGhpcy5kaXNhbGxvd2VkQ29udGVudCk7YS5fLmRpc2FsbG93ZWRSdWxlcz1iKHRoaXMuXy5kaXNhbGxvd2VkUnVsZXMpO2EuXy50cmFuc2Zvcm1hdGlvbnM9Yih0aGlzLl8udHJhbnNmb3JtYXRpb25zKTthLmRpc2FibGVkPXRoaXMuZGlzYWJsZWQ7YS5lZGl0b3I9dGhpcy5lZGl0b3I7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtkZWxldGUgdGhpcy5fO2RlbGV0ZSB0aGlzLmFsbG93ZWRDb250ZW50O2RlbGV0ZSB0aGlzLmRpc2FsbG93ZWRDb250ZW50fX07XG52YXIgVj17c3R5bGVzOjEsYXR0cmlidXRlczoxLGNsYXNzZXM6MX0sTz17c3R5bGVzOlwicmVxdWlyZWRTdHlsZXNcIixhdHRyaWJ1dGVzOlwicmVxdWlyZWRBdHRyaWJ1dGVzXCIsY2xhc3NlczpcInJlcXVpcmVkQ2xhc3Nlc1wifSxwPS9eKFthLXowLTlcXC0qXFxzXSspKCg/OlxccypcXHtbIVxcd1xcLSxcXHNcXCpdK1xcfVxccyp8XFxzKlxcW1shXFx3XFwtLFxcc1xcKl0rXFxdXFxzKnxcXHMqXFwoWyFcXHdcXC0sXFxzXFwqXStcXClcXHMqKXswLDN9KSg/OjtcXHMqfCQpL2ksQz17c3R5bGVzOi97KFtefV0rKX0vLGF0dHJzOi9cXFsoW15cXF1dKylcXF0vLGNsYXNzZXM6L1xcKChbXlxcKV0rKVxcKS99LHQ9L15ja2U6KG9iamVjdHxlbWJlZHxwYXJhbSkkLyxGPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxOO049Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcIndpZHRoXCIpO3RoaXMubGVuZ3RoVG9TdHlsZShhLFwiaGVpZ2h0XCIpfSxzaXplVG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFxuXCJ3aWR0aFwiKTt0aGlzLmxlbmd0aFRvQXR0cmlidXRlKGEsXCJoZWlnaHRcIil9LGxlbmd0aFRvU3R5bGU6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8YjtpZighKGMgaW4gYS5zdHlsZXMpKXt2YXIgZD1hLmF0dHJpYnV0ZXNbYl07ZCYmKC9eXFxkKyQvLnRlc3QoZCkmJihkKz1cInB4XCIpLGEuc3R5bGVzW2NdPWQpfWRlbGV0ZSBhLmF0dHJpYnV0ZXNbYl19LGxlbmd0aFRvQXR0cmlidXRlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuYXR0cmlidXRlcykpe3ZhciBkPWEuc3R5bGVzW2JdLGU9ZCYmZC5tYXRjaCgvXihcXGQrKSg/OlxcLlxcZCopP3B4JC8pO2U/YS5hdHRyaWJ1dGVzW2NdPWVbMV06XCJja2UtdGVzdFwiPT1kJiYoYS5hdHRyaWJ1dGVzW2NdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW4gYS5zdHlsZXMpKXt2YXIgYj1hLmF0dHJpYnV0ZXMuYWxpZ247aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09XG5iKWEuc3R5bGVzW1wiZmxvYXRcIl09Yn1kZWxldGUgYS5hdHRyaWJ1dGVzLmFsaWdufSxhbGlnbm1lbnRUb0F0dHJpYnV0ZTpmdW5jdGlvbihhKXtpZighKFwiYWxpZ25cImluIGEuYXR0cmlidXRlcykpe3ZhciBiPWEuc3R5bGVzW1wiZmxvYXRcIl07aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilhLmF0dHJpYnV0ZXMuYWxpZ249Yn1kZWxldGUgYS5zdHlsZXNbXCJmbG9hdFwiXX0sc3BsaXRCb3JkZXJTaG9ydGhhbmQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihkKXthLnN0eWxlc1tcImJvcmRlci10b3Atd2lkdGhcIl09Y1tkWzBdXTthLnN0eWxlc1tcImJvcmRlci1yaWdodC13aWR0aFwiXT1jW2RbMV1dO2Euc3R5bGVzW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXT1jW2RbMl1dO2Euc3R5bGVzW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl09Y1tkWzNdXX1pZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBjPWEuc3R5bGVzLmJvcmRlci5tYXRjaCgvKFtcXC5cXGRdK1xcdyspL2cpfHxbXCIwcHhcIl07c3dpdGNoKGMubGVuZ3RoKXtjYXNlIDE6YS5zdHlsZXNbXCJib3JkZXItd2lkdGhcIl09XG5jWzBdO2JyZWFrO2Nhc2UgMjpiKFswLDEsMCwxXSk7YnJlYWs7Y2FzZSAzOmIoWzAsMSwyLDFdKTticmVhaztjYXNlIDQ6YihbMCwxLDIsM10pfWEuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdPWEuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdfHwoYS5zdHlsZXMuYm9yZGVyLm1hdGNoKC8obm9uZXxoaWRkZW58ZG90dGVkfGRhc2hlZHxzb2xpZHxkb3VibGV8Z3Jvb3ZlfHJpZGdlfGluc2V0fG91dHNldHxpbml0aWFsfGluaGVyaXQpLyl8fFtdKVswXTthLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXXx8ZGVsZXRlIGEuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdO2RlbGV0ZSBhLnN0eWxlcy5ib3JkZXJ9fSxsaXN0VHlwZVRvU3R5bGU6ZnVuY3Rpb24oYSl7aWYoYS5hdHRyaWJ1dGVzLnR5cGUpc3dpdGNoKGEuYXR0cmlidXRlcy50eXBlKXtjYXNlIFwiYVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItYWxwaGFcIjticmVhaztjYXNlIFwiQVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVxuXCJ1cHBlci1hbHBoYVwiO2JyZWFrO2Nhc2UgXCJpXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJsb3dlci1yb21hblwiO2JyZWFrO2Nhc2UgXCJJXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJ1cHBlci1yb21hblwiO2JyZWFrO2Nhc2UgXCIxXCI6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09XCJkZWNpbWFsXCI7YnJlYWs7ZGVmYXVsdDphLnN0eWxlc1tcImxpc3Qtc3R5bGUtdHlwZVwiXT1hLmF0dHJpYnV0ZXMudHlwZX19LHNwbGl0TWFyZ2luU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7YS5zdHlsZXNbXCJtYXJnaW4tdG9wXCJdPWNbZFswXV07YS5zdHlsZXNbXCJtYXJnaW4tcmlnaHRcIl09Y1tkWzFdXTthLnN0eWxlc1tcIm1hcmdpbi1ib3R0b21cIl09Y1tkWzJdXTthLnN0eWxlc1tcIm1hcmdpbi1sZWZ0XCJdPWNbZFszXV19aWYoYS5zdHlsZXMubWFyZ2luKXt2YXIgYz1hLnN0eWxlcy5tYXJnaW4ubWF0Y2goLyhcXC0/W1xcLlxcZF0rXFx3KykvZyl8fFtcIjBweFwiXTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTpiKFswLFxuMCwwLDBdKTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1kZWxldGUgYS5zdHlsZXMubWFyZ2lufX0sbWF0Y2hlc1N0eWxlOkosdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYS5uYW1lPWI7ZWxzZXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuc3R5bGVzLGU9Yy5hdHRyaWJ1dGVzLGYsdCxsLHY7YS5uYW1lPWMuZWxlbWVudDtmb3IoZiBpbiBlKWlmKFwiY2xhc3NcIj09Zilmb3IoYz1hLmNsYXNzZXMuam9pbihcInxcIiksbD1lW2ZdLnNwbGl0KC9cXHMrLyk7dj1sLnBvcCgpOyktMT09Yy5pbmRleE9mKHYpJiZhLmNsYXNzZXMucHVzaCh2KTtlbHNlIGEuYXR0cmlidXRlc1tmXT1lW2ZdO2Zvcih0IGluIGQpYS5zdHlsZXNbdF09ZFt0XX19fX0pKCk7XG4oZnVuY3Rpb24oKXtDS0VESVRPUi5mb2N1c01hbmFnZXI9ZnVuY3Rpb24oYSl7aWYoYS5mb2N1c01hbmFnZXIpcmV0dXJuIGEuZm9jdXNNYW5hZ2VyO3RoaXMuaGFzRm9jdXM9ITE7dGhpcy5jdXJyZW50QWN0aXZlPW51bGw7dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9O0NLRURJVE9SLmZvY3VzTWFuYWdlci5fPXtibHVyRGVsYXk6MjAwfTtDS0VESVRPUi5mb2N1c01hbmFnZXIucHJvdG90eXBlPXtmb2N1czpmdW5jdGlvbihhKXt0aGlzLl8udGltZXImJmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO2EmJih0aGlzLmN1cnJlbnRBY3RpdmU9YSk7dGhpcy5oYXNGb2N1c3x8dGhpcy5fLmxvY2tlZHx8KChhPUNLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSkmJmEuZm9jdXNNYW5hZ2VyLmJsdXIoMSksdGhpcy5oYXNGb2N1cz0hMCwoYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcikmJmEuYWRkQ2xhc3MoXCJja2VfZm9jdXNcIiksdGhpcy5fLmVkaXRvci5maXJlKFwiZm9jdXNcIikpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5fLmxvY2tlZD1cbjF9LHVubG9jazpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8ubG9ja2VkfSxibHVyOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoKXtpZih0aGlzLmhhc0ZvY3VzKXt0aGlzLmhhc0ZvY3VzPSExO3ZhciBhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyO2EmJmEucmVtb3ZlQ2xhc3MoXCJja2VfZm9jdXNcIik7dGhpcy5fLmVkaXRvci5maXJlKFwiYmx1clwiKX19aWYoIXRoaXMuXy5sb2NrZWQpe3RoaXMuXy50aW1lciYmY2xlYXJUaW1lb3V0KHRoaXMuXy50aW1lcik7dmFyIGI9Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLl8uYmx1ckRlbGF5O2F8fCFiP2QuY2FsbCh0aGlzKTp0aGlzLl8udGltZXI9Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLl8udGltZXI7ZC5jYWxsKHRoaXMpfSxiLHRoaXMpfX0sYWRkOmZ1bmN0aW9uKGEsZCl7dmFyIGI9YS5nZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO2lmKCFifHxiIT10aGlzKXtiJiZiLnJlbW92ZShhKTt2YXIgYj1cblwiZm9jdXNcIixjPVwiYmx1clwiO2QmJihDS0VESVRPUi5lbnYuaWU/KGI9XCJmb2N1c2luXCIsYz1cImZvY3Vzb3V0XCIpOkNLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MSk7dmFyIGU9e2JsdXI6ZnVuY3Rpb24oKXthLmVxdWFscyh0aGlzLmN1cnJlbnRBY3RpdmUpJiZ0aGlzLmJsdXIoKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKGEpfX07YS5vbihiLGUuZm9jdXMsdGhpcyk7YS5vbihjLGUuYmx1cix0aGlzKTtkJiYoQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0wKTthLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIix0aGlzKTthLnNldEN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJfaGFuZGxlcnNcIixlKX19LHJlbW92ZTpmdW5jdGlvbihhKXthLnJlbW92ZUN1c3RvbURhdGEoXCJmb2N1c21hbmFnZXJcIik7dmFyIGQ9YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIpO2EucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsZC5ibHVyKTthLnJlbW92ZUxpc3RlbmVyKFwiZm9jdXNcIixcbmQuZm9jdXMpfX19KSgpO0NLRURJVE9SLmtleXN0cm9rZUhhbmRsZXI9ZnVuY3Rpb24oYSl7aWYoYS5rZXlzdHJva2VIYW5kbGVyKXJldHVybiBhLmtleXN0cm9rZUhhbmRsZXI7dGhpcy5rZXlzdHJva2VzPXt9O3RoaXMuYmxvY2tlZEtleXN0cm9rZXM9e307dGhpcy5fPXtlZGl0b3I6YX07cmV0dXJuIHRoaXN9O1xuKGZ1bmN0aW9uKCl7dmFyIGEsZD1mdW5jdGlvbihiKXtiPWIuZGF0YTt2YXIgZD1iLmdldEtleXN0cm9rZSgpLGc9dGhpcy5rZXlzdHJva2VzW2RdLGg9dGhpcy5fLmVkaXRvcjthPSExPT09aC5maXJlKFwia2V5XCIse2tleUNvZGU6ZCxkb21FdmVudDpifSk7YXx8KGcmJihhPSExIT09aC5leGVjQ29tbWFuZChnLHtmcm9tOlwia2V5c3Ryb2tlSGFuZGxlclwifSkpLGF8fChhPSEhdGhpcy5ibG9ja2VkS2V5c3Ryb2tlc1tkXSkpO2EmJmIucHJldmVudERlZmF1bHQoITApO3JldHVybiFhfSxiPWZ1bmN0aW9uKGIpe2EmJihhPSExLGIuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCkpfTtDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyLnByb3RvdHlwZT17YXR0YWNoOmZ1bmN0aW9uKGEpe2Eub24oXCJrZXlkb3duXCIsZCx0aGlzKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMpYS5vbihcImtleXByZXNzXCIsYix0aGlzKX19fSkoKTtcbihmdW5jdGlvbigpe0NLRURJVE9SLmxhbmc9e2xhbmd1YWdlczp7YWY6MSxhcjoxLGF6OjEsYmc6MSxibjoxLGJzOjEsY2E6MSxjczoxLGN5OjEsZGE6MSxkZToxLFwiZGUtY2hcIjoxLGVsOjEsXCJlbi1hdVwiOjEsXCJlbi1jYVwiOjEsXCJlbi1nYlwiOjEsZW46MSxlbzoxLGVzOjEsXCJlcy1teFwiOjEsZXQ6MSxldToxLGZhOjEsZmk6MSxmbzoxLFwiZnItY2FcIjoxLGZyOjEsZ2w6MSxndToxLGhlOjEsaGk6MSxocjoxLGh1OjEsaWQ6MSxpczoxLGl0OjEsamE6MSxrYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxtazoxLG1uOjEsbXM6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEsXCJwdC1iclwiOjEscHQ6MSxybzoxLHJ1OjEsc2k6MSxzazoxLHNsOjEsc3E6MSxcInNyLWxhdG5cIjoxLHNyOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSxcInpoLWNuXCI6MSx6aDoxfSxydGw6e2FyOjEsZmE6MSxoZToxLGt1OjEsdWc6MX0sbG9hZDpmdW5jdGlvbihhLGQsYil7YSYmQ0tFRElUT1IubGFuZy5sYW5ndWFnZXNbYV18fFxuKGE9dGhpcy5kZXRlY3QoZCxhKSk7dmFyIGM9dGhpcztkPWZ1bmN0aW9uKCl7Y1thXS5kaXI9Yy5ydGxbYV0/XCJydGxcIjpcImx0clwiO2IoYSxjW2FdKX07dGhpc1thXT9kKCk6Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKFwibGFuZy9cIithK1wiLmpzXCIpLGQsdGhpcyl9LGRldGVjdDpmdW5jdGlvbihhLGQpe3ZhciBiPXRoaXMubGFuZ3VhZ2VzO2Q9ZHx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLmxhbmd1YWdlfHxhO3ZhciBjPWQudG9Mb3dlckNhc2UoKS5tYXRjaCgvKFthLXpdKykoPzotKFthLXpdKykpPy8pLGU9Y1sxXSxjPWNbMl07YltlK1wiLVwiK2NdP2U9ZStcIi1cIitjOmJbZV18fChlPW51bGwpO0NLRURJVE9SLmxhbmcuZGV0ZWN0PWU/ZnVuY3Rpb24oKXtyZXR1cm4gZX06ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O3JldHVybiBlfHxhfX19KSgpO1xuQ0tFRElUT1Iuc2NyaXB0TG9hZGVyPWZ1bmN0aW9uKCl7dmFyIGE9e30sZD17fTtyZXR1cm57bG9hZDpmdW5jdGlvbihiLGMsZSxnKXt2YXIgaD1cInN0cmluZ1wiPT10eXBlb2YgYjtoJiYoYj1bYl0pO2V8fChlPUNLRURJVE9SKTt2YXIgaz1iLmxlbmd0aCxuPVtdLHE9W10sZj1mdW5jdGlvbihhKXtjJiYoaD9jLmNhbGwoZSxhKTpjLmNhbGwoZSxuLHEpKX07aWYoMD09PWspZighMCk7ZWxzZXt2YXIgRD1mdW5jdGlvbihhLGIpeyhiP246cSkucHVzaChhKTswPj0tLWsmJihnJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZShcImN1cnNvclwiKSxmKGIpKX0sdz1mdW5jdGlvbihiLGMpe2FbYl09MTt2YXIgZT1kW2JdO2RlbGV0ZSBkW2JdO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0oYixjKX0sQT1mdW5jdGlvbihiKXtpZihhW2JdKUQoYiwhMCk7ZWxzZXt2YXIgZT1kW2JdfHwoZFtiXT1bXSk7ZS5wdXNoKEQpO2lmKCEoMTxlLmxlbmd0aCkpe3ZhciBmPVxubmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic2NyaXB0XCIpO2Yuc2V0QXR0cmlidXRlcyh7dHlwZTpcInRleHQvamF2YXNjcmlwdFwiLHNyYzpifSk7YyYmKENLRURJVE9SLmVudi5pZSYmKDg+PUNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYuaWU5Q29tcGF0KT9mLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoXCJsb2FkZWRcIj09Zi4kLnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09Zi4kLnJlYWR5U3RhdGUpZi4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHcoYiwhMCl9OihmLiQub25sb2FkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3coYiwhMCl9LDApfSxmLiQub25lcnJvcj1mdW5jdGlvbigpe3coYiwhMSl9KSk7Zi5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpfX19O2cmJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwiY3Vyc29yXCIsXCJ3YWl0XCIpO2Zvcih2YXIgRz0wO0c8aztHKyspQShiW0ddKX19LFxucXVldWU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI7KGI9Y1swXSkmJnRoaXMubG9hZChiLnNjcmlwdFVybCxiLmNhbGxiYWNrLENLRURJVE9SLDApfXZhciBjPVtdO3JldHVybiBmdW5jdGlvbihkLGcpe3ZhciBoPXRoaXM7Yy5wdXNoKHtzY3JpcHRVcmw6ZCxjYWxsYmFjazpmdW5jdGlvbigpe2cmJmcuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Muc2hpZnQoKTthLmNhbGwoaCl9fSk7MT09Yy5sZW5ndGgmJmEuY2FsbCh0aGlzKX19KCl9fSgpO0NLRURJVE9SLnJlc291cmNlTWFuYWdlcj1mdW5jdGlvbihhLGQpe3RoaXMuYmFzZVBhdGg9YTt0aGlzLmZpbGVOYW1lPWQ7dGhpcy5yZWdpc3RlcmVkPXt9O3RoaXMubG9hZGVkPXt9O3RoaXMuZXh0ZXJuYWxzPXt9O3RoaXMuXz17d2FpdGluZ0xpc3Q6e319fTtcbkNLRURJVE9SLnJlc291cmNlTWFuYWdlci5wcm90b3R5cGU9e2FkZDpmdW5jdGlvbihhLGQpe2lmKHRoaXMucmVnaXN0ZXJlZFthXSl0aHJvdyBFcnJvcignW0NLRURJVE9SLnJlc291cmNlTWFuYWdlci5hZGRdIFRoZSByZXNvdXJjZSBuYW1lIFwiJythKydcIiBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQuJyk7dmFyIGI9dGhpcy5yZWdpc3RlcmVkW2FdPWR8fHt9O2IubmFtZT1hO2IucGF0aD10aGlzLmdldFBhdGgoYSk7Q0tFRElUT1IuZmlyZShhK0NLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXCJSZWFkeVwiLGIpO3JldHVybiB0aGlzLmdldChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2lzdGVyZWRbYV18fG51bGx9LGdldFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybChkJiZkLmRpcnx8dGhpcy5iYXNlUGF0aCthK1wiL1wiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5leHRlcm5hbHNbYV07XG5yZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKHRoaXMuZ2V0UGF0aChhKSsoZD9kLmZpbGU6dGhpcy5maWxlTmFtZStcIi5qc1wiKSl9LGFkZEV4dGVybmFsOmZ1bmN0aW9uKGEsZCxiKXthPWEuc3BsaXQoXCIsXCIpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdO2J8fChkPWQucmVwbGFjZSgvW15cXC9dKyQvLGZ1bmN0aW9uKGEpe2I9YTtyZXR1cm5cIlwifSkpO3RoaXMuZXh0ZXJuYWxzW2VdPXtkaXI6ZCxmaWxlOmJ8fHRoaXMuZmlsZU5hbWUrXCIuanNcIn19fSxsb2FkOmZ1bmN0aW9uKGEsZCxiKXtDS0VESVRPUi50b29scy5pc0FycmF5KGEpfHwoYT1hP1thXTpbXSk7Zm9yKHZhciBjPXRoaXMubG9hZGVkLGU9dGhpcy5yZWdpc3RlcmVkLGc9W10saD17fSxrPXt9LG49MDtuPGEubGVuZ3RoO24rKyl7dmFyIHE9YVtuXTtpZihxKWlmKGNbcV18fGVbcV0pa1txXT10aGlzLmdldChxKTtlbHNle3ZhciBmPXRoaXMuZ2V0RmlsZVBhdGgocSk7Zy5wdXNoKGYpO2YgaW4gaHx8KGhbZl09XG5bXSk7aFtmXS5wdXNoKHEpfX1DS0VESVRPUi5zY3JpcHRMb2FkZXIubG9hZChnLGZ1bmN0aW9uKGEsZSl7aWYoZS5sZW5ndGgpdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIubG9hZF0gUmVzb3VyY2UgbmFtZSBcIicraFtlWzBdXS5qb2luKFwiLFwiKSsnXCIgd2FzIG5vdCBmb3VuZCBhdCBcIicrZVswXSsnXCIuJyk7Zm9yKHZhciBmPTA7ZjxhLmxlbmd0aDtmKyspZm9yKHZhciBnPWhbYVtmXV0sbj0wO248Zy5sZW5ndGg7bisrKXt2YXIgbT1nW25dO2tbbV09dGhpcy5nZXQobSk7Y1ttXT0xfWQuY2FsbChiLGspfSx0aGlzKX19O0NLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcInBsdWdpbnMvXCIsXCJwbHVnaW5cIik7XG5DS0VESVRPUi5wbHVnaW5zLmxvYWQ9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoQ0tFRElUT1IucGx1Z2lucy5sb2FkLGZ1bmN0aW9uKGEpe3ZhciBkPXt9O3JldHVybiBmdW5jdGlvbihiLGMsZSl7dmFyIGc9e30saD1mdW5jdGlvbihiKXthLmNhbGwodGhpcyxiLGZ1bmN0aW9uKGEpe0NLRURJVE9SLnRvb2xzLmV4dGVuZChnLGEpO3ZhciBiPVtdLGY7Zm9yKGYgaW4gYSl7dmFyIGs9YVtmXSx3PWsmJmsucmVxdWlyZXM7aWYoIWRbZl0pe2lmKGsuaWNvbnMpZm9yKHZhciBBPWsuaWNvbnMuc3BsaXQoXCIsXCIpLEc9QS5sZW5ndGg7Ry0tOylDS0VESVRPUi5za2luLmFkZEljb24oQVtHXSxrLnBhdGgrXCJpY29ucy9cIisoQ0tFRElUT1IuZW52LmhpZHBpJiZrLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrQVtHXStcIi5wbmdcIik7ZFtmXT0xfWlmKHcpZm9yKHcuc3BsaXQmJih3PXcuc3BsaXQoXCIsXCIpKSxrPTA7azx3Lmxlbmd0aDtrKyspZ1t3W2tdXXx8Yi5wdXNoKHdba10pfWlmKGIubGVuZ3RoKWguY2FsbCh0aGlzLFxuYik7ZWxzZXtmb3IoZiBpbiBnKWs9Z1tmXSxrLm9uTG9hZCYmIWsub25Mb2FkLl9jYWxsZWQmJighMT09PWsub25Mb2FkKCkmJmRlbGV0ZSBnW2ZdLGsub25Mb2FkLl9jYWxsZWQ9MSk7YyYmYy5jYWxsKGV8fHdpbmRvdyxnKX19LHRoaXMpfTtoLmNhbGwodGhpcyxiKX19KTtDS0VESVRPUi5wbHVnaW5zLnNldExhbmc9ZnVuY3Rpb24oYSxkLGIpe3ZhciBjPXRoaXMuZ2V0KGEpO2E9Yy5sYW5nRW50cmllc3x8KGMubGFuZ0VudHJpZXM9e30pO2M9Yy5sYW5nfHwoYy5sYW5nPVtdKTtjLnNwbGl0JiYoYz1jLnNwbGl0KFwiLFwiKSk7LTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxkKSYmYy5wdXNoKGQpO2FbZF09Yn07Q0tFRElUT1IudWk9ZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuZWRpdG9yPWE7dGhpcy5fPXtoYW5kbGVyczp7fX07cmV0dXJuIHRoaXN9O1xuQ0tFRElUT1IudWkucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxkLGIpe2IubmFtZT1hLnRvTG93ZXJDYXNlKCk7dmFyIGM9dGhpcy5pdGVtc1thXT17dHlwZTpkLGNvbW1hbmQ6Yi5jb21tYW5kfHxudWxsLGFyZ3M6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpfTtDS0VESVRPUi50b29scy5leHRlbmQoYyxiKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmluc3RhbmNlc1thXX0sY3JlYXRlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuaXRlbXNbYV0sYj1kJiZ0aGlzLl8uaGFuZGxlcnNbZC50eXBlXSxjPWQmJmQuY29tbWFuZCYmdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChkLmNvbW1hbmQpLGI9YiYmYi5jcmVhdGUuYXBwbHkodGhpcyxkLmFyZ3MpO3RoaXMuaW5zdGFuY2VzW2FdPWI7YyYmYy51aUl0ZW1zLnB1c2goYik7YiYmIWIudHlwZSYmKGIudHlwZT1kLnR5cGUpO3JldHVybiBifSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsZCl7dGhpcy5fLmhhbmRsZXJzW2FdPVxuZH0sc3BhY2U6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5zcGFjZUlkKGEpKX0sc3BhY2VJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lZGl0b3IuaWQrXCJfXCIrYX19O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLnVpKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlLGYpe0NLRURJVE9SLmV2ZW50LmNhbGwodGhpcyk7YT1hJiZDS0VESVRPUi50b29scy5jbG9uZShhKTtpZih2b2lkIDAhPT1lKXtpZighKGUgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudCkpdGhyb3cgRXJyb3IoXCJFeHBlY3QgZWxlbWVudCBvZiB0eXBlIENLRURJVE9SLmRvbS5lbGVtZW50LlwiKTtpZighZil0aHJvdyBFcnJvcihcIk9uZSBvZiB0aGUgZWxlbWVudCBtb2RlcyBtdXN0IGJlIHNwZWNpZmllZC5cIik7aWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZmPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXRocm93IEVycm9yKFwiSW5saW5lIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIHF1aXJrcy5cIik7aWYoIWIoZSxmKSl0aHJvdyBFcnJvcignVGhlIHNwZWNpZmllZCBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50OiBcIicrZS5nZXROYW1lKCkrJ1wiLicpO1xudGhpcy5lbGVtZW50PWU7dGhpcy5lbGVtZW50TW9kZT1mO3RoaXMubmFtZT10aGlzLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8mJihlLmdldElkKCl8fGUuZ2V0TmFtZUF0dCgpKX1lbHNlIHRoaXMuZWxlbWVudE1vZGU9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX05PTkU7dGhpcy5fPXt9O3RoaXMuY29tbWFuZHM9e307dGhpcy50ZW1wbGF0ZXM9e307dGhpcy5uYW1lPXRoaXMubmFtZXx8ZCgpO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5zdGF0dXM9XCJ1bmxvYWRlZFwiO3RoaXMuY29uZmlnPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLmNvbmZpZyk7dGhpcy51aT1uZXcgQ0tFRElUT1IudWkodGhpcyk7dGhpcy5mb2N1c01hbmFnZXI9bmV3IENLRURJVE9SLmZvY3VzTWFuYWdlcih0aGlzKTt0aGlzLmtleXN0cm9rZUhhbmRsZXI9bmV3IENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIodGhpcyk7dGhpcy5vbihcInJlYWRPbmx5XCIsXG5jKTt0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYSl7Zyh0aGlzLGEuZGF0YS5wYXRoKX0pO3RoaXMub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixmdW5jdGlvbigpe2codGhpcyx0aGlzLmVsZW1lbnRQYXRoKCksITApfSk7dGhpcy5vbihcIm1vZGVcIixjKTt0aGlzLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKCl7dGhpcy5jb25maWcuc3RhcnR1cEZvY3VzJiZ0aGlzLmZvY3VzKCl9KTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VDcmVhdGVkXCIsbnVsbCx0aGlzKTtDS0VESVRPUi5hZGQodGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe1wiZGVzdHJveWVkXCIhPT10aGlzLnN0YXR1cz9rKHRoaXMsYSk6Q0tFRElUT1Iud2FybihcImVkaXRvci1pbmNvcnJlY3QtZGVzdHJveVwiKX0sMCx0aGlzKX1mdW5jdGlvbiBkKCl7ZG8gdmFyIGE9XCJlZGl0b3JcIisgKytHO3doaWxlKENLRURJVE9SLmluc3RhbmNlc1thXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYihhLFxuYil7cmV0dXJuIGI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKXx8YS5pcyhcInRleHRhcmVhXCIpOmI9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPyFhLmlzKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnQpOjF9ZnVuY3Rpb24gYygpe3ZhciBhPXRoaXMuY29tbWFuZHMsYjtmb3IoYiBpbiBhKWUodGhpcyxhW2JdKX1mdW5jdGlvbiBlKGEsYil7YltiLnN0YXJ0RGlzYWJsZWQ/XCJkaXNhYmxlXCI6YS5yZWFkT25seSYmIWIucmVhZE9ubHk/XCJkaXNhYmxlXCI6Yi5tb2Rlc1thLm1vZGVdP1wiZW5hYmxlXCI6XCJkaXNhYmxlXCJdKCl9ZnVuY3Rpb24gZyhhLGIsYyl7aWYoYil7dmFyIGQsZSxmPWEuY29tbWFuZHM7Zm9yKGUgaW4gZilkPWZbZV0sKGN8fGQuY29udGV4dFNlbnNpdGl2ZSkmJmQucmVmcmVzaChhLGIpfX1mdW5jdGlvbiBoKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4hMTt2YXIgYj1cbkNLRURJVE9SLmdldFVybChiKSxjPXhbYl18fCh4W2JdPXt9KTtjLmZuPyhjLmZuLmNhbGwoYSxhLmNvbmZpZyksQ0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLmN1c3RvbUNvbmZpZykhPWImJmgoYSl8fGEuZmlyZU9uY2UoXCJjdXN0b21Db25maWdMb2FkZWRcIikpOkNLRURJVE9SLnNjcmlwdExvYWRlci5xdWV1ZShiLGZ1bmN0aW9uKCl7Yy5mbj1DS0VESVRPUi5lZGl0b3JDb25maWc/Q0tFRElUT1IuZWRpdG9yQ29uZmlnOmZ1bmN0aW9uKCl7fTtoKGEpfSk7cmV0dXJuITB9ZnVuY3Rpb24gayhhLGIpe2Eub24oXCJjdXN0b21Db25maWdMb2FkZWRcIixmdW5jdGlvbigpe2lmKGIpe2lmKGIub24pZm9yKHZhciBjIGluIGIub24pYS5vbihjLGIub25bY10pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNvbmZpZyxiLCEwKTtkZWxldGUgYS5jb25maWcub259Yz1hLmNvbmZpZzthLnJlYWRPbmx5PWMucmVhZE9ubHk/ITA6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9cbmEuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOmEuZWxlbWVudC5pc1JlYWRPbmx5KCk6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImRpc2FibGVkXCIpfHxhLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwicmVhZG9ubHlcIik6ITE7YS5ibG9ja2xlc3M9YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT8hKGEuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpfHxDS0VESVRPUi5kdGRbYS5lbGVtZW50LmdldE5hbWUoKV0ucCk6ITE7YS50YWJJbmRleD1jLnRhYkluZGV4fHxhLmVsZW1lbnQmJmEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8MDthLmFjdGl2ZUVudGVyTW9kZT1hLmVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLmVudGVyTW9kZTtcbmEuYWN0aXZlU2hpZnRFbnRlck1vZGU9YS5zaGlmdEVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLnNoaWZ0RW50ZXJNb2RlO2Muc2tpbiYmKENLRURJVE9SLnNraW5OYW1lPWMuc2tpbik7YS5maXJlT25jZShcImNvbmZpZ0xvYWRlZFwiKTthLmRhdGFQcm9jZXNzb3I9bmV3IENLRURJVE9SLmh0bWxEYXRhUHJvY2Vzc29yKGEpO2EuZmlsdGVyPWEuYWN0aXZlRmlsdGVyPW5ldyBDS0VESVRPUi5maWx0ZXIoYSk7bihhKX0pO2ImJm51bGwhPWIuY3VzdG9tQ29uZmlnJiYoYS5jb25maWcuY3VzdG9tQ29uZmlnPWIuY3VzdG9tQ29uZmlnKTtoKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpfWZ1bmN0aW9uIG4oYSl7Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImVkaXRvclwiLGZ1bmN0aW9uKCl7cShhKX0pfWZ1bmN0aW9uIHEoYSl7Q0tFRElUT1IubGFuZy5sb2FkKGEuY29uZmlnLmxhbmd1YWdlLGEuY29uZmlnLmRlZmF1bHRMYW5ndWFnZSxmdW5jdGlvbihiLFxuYyl7dmFyIGQ9YS5jb25maWcudGl0bGU7YS5sYW5nQ29kZT1iO2EubGFuZz1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShjKTthLnRpdGxlPVwic3RyaW5nXCI9PXR5cGVvZiBkfHwhMT09PWQ/ZDpbYS5sYW5nLmVkaXRvcixhLm5hbWVdLmpvaW4oXCIsIFwiKTthLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb258fChhLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb249YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpOmEubGFuZy5kaXIpO2EuZmlyZShcImxhbmdMb2FkZWRcIik7ZihhKX0pfWZ1bmN0aW9uIGYoYSl7YS5nZXRTdHlsZXNTZXQoZnVuY3Rpb24oYil7YS5vbmNlKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJzdHlsZXNTZXRcIix7c3R5bGVzOmJ9KX0sbnVsbCxudWxsLDEpO0QoYSl9KX1mdW5jdGlvbiBEKGEpe3ZhciBiPWEuY29uZmlnLGM9Yi5wbHVnaW5zLGQ9Yi5leHRyYVBsdWdpbnMsZT1cbmIucmVtb3ZlUGx1Z2lucztpZihkKXZhciBmPW5ldyBSZWdFeHAoXCIoPzpefCwpKD86XCIrZC5yZXBsYWNlKC9cXHMqLFxccyovZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksYz1jLnJlcGxhY2UoZixcIlwiKSxjPWMrKFwiLFwiK2QpO2lmKGUpdmFyIGc9bmV3IFJlZ0V4cChcIig/Ol58LCkoPzpcIitlLnJlcGxhY2UoL1xccyosXFxzKi9nLFwifFwiKStcIikoP1xceDNkLHwkKVwiLFwiZ1wiKSxjPWMucmVwbGFjZShnLFwiXCIpO0NLRURJVE9SLmVudi5haXImJihjKz1cIixhZG9iZWFpclwiKTtDS0VESVRPUi5wbHVnaW5zLmxvYWQoYy5zcGxpdChcIixcIiksZnVuY3Rpb24oYyl7dmFyIGQ9W10sZT1bXSxmPVtdO2EucGx1Z2lucz1jO2Zvcih2YXIgbCBpbiBjKXt2YXIgcj1jW2xdLGs9ci5sYW5nLGg9bnVsbCxPPXIucmVxdWlyZXMscDtDS0VESVRPUi50b29scy5pc0FycmF5KE8pJiYoTz1PLmpvaW4oXCIsXCIpKTtpZihPJiYocD1PLm1hdGNoKGcpKSlmb3IoO089cC5wb3AoKTspQ0tFRElUT1IuZXJyb3IoXCJlZGl0b3ItcGx1Z2luLXJlcXVpcmVkXCIsXG57cGx1Z2luOk8ucmVwbGFjZShcIixcIixcIlwiKSxyZXF1aXJlZEJ5Omx9KTtrJiYhYS5sYW5nW2xdJiYoay5zcGxpdCYmKGs9ay5zcGxpdChcIixcIikpLDA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YoayxhLmxhbmdDb2RlKT9oPWEubGFuZ0NvZGU6KGg9YS5sYW5nQ29kZS5yZXBsYWNlKC8tLiovLFwiXCIpLGg9aCE9YS5sYW5nQ29kZSYmMDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihrLGgpP2g6MDw9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihrLFwiZW5cIik/XCJlblwiOmtbMF0pLHIubGFuZ0VudHJpZXMmJnIubGFuZ0VudHJpZXNbaF0/KGEubGFuZ1tsXT1yLmxhbmdFbnRyaWVzW2hdLGg9bnVsbCk6Zi5wdXNoKENLRURJVE9SLmdldFVybChyLnBhdGgrXCJsYW5nL1wiK2grXCIuanNcIikpKTtlLnB1c2goaCk7ZC5wdXNoKHIpfUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGYsZnVuY3Rpb24oKXtmb3IodmFyIGM9W1wiYmVmb3JlSW5pdFwiLFwiaW5pdFwiLFwiYWZ0ZXJJbml0XCJdLGY9MDtmPGMubGVuZ3RoO2YrKylmb3IodmFyIGw9XG4wO2w8ZC5sZW5ndGg7bCsrKXt2YXIgdj1kW2xdOzA9PT1mJiZlW2xdJiZ2LmxhbmcmJnYubGFuZ0VudHJpZXMmJihhLmxhbmdbdi5uYW1lXT12LmxhbmdFbnRyaWVzW2VbbF1dKTtpZih2W2NbZl1dKXZbY1tmXV0oYSl9YS5maXJlT25jZShcInBsdWdpbnNMb2FkZWRcIik7Yi5rZXlzdHJva2VzJiZhLnNldEtleXN0cm9rZShhLmNvbmZpZy5rZXlzdHJva2VzKTtmb3IobD0wO2w8YS5jb25maWcuYmxvY2tlZEtleXN0cm9rZXMubGVuZ3RoO2wrKylhLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbYS5jb25maWcuYmxvY2tlZEtleXN0cm9rZXNbbF1dPTE7YS5zdGF0dXM9XCJsb2FkZWRcIjthLmZpcmVPbmNlKFwibG9hZGVkXCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUxvYWRlZFwiLG51bGwsYSl9KX0pfWZ1bmN0aW9uIHcoKXt2YXIgYT10aGlzLmVsZW1lbnQ7aWYoYSYmdGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKXt2YXIgYj10aGlzLmdldERhdGEoKTtcbnRoaXMuY29uZmlnLmh0bWxFbmNvZGVPdXRwdXQmJihiPUNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYikpO2EuaXMoXCJ0ZXh0YXJlYVwiKT9hLnNldFZhbHVlKGIpOmEuc2V0SHRtbChiKTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBBKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLnN0YXJ0Q29udGFpbmVyLGQ9YS5lbmRDb250YWluZXI7cmV0dXJuIGIuaXMmJihiLmlzKFwidHJcIil8fGIuaXMoXCJ0ZFwiKSYmYi5lcXVhbHMoZCkmJmEuZW5kT2Zmc2V0PT09Yi5nZXRDaGlsZENvdW50KCkpPyEwOiExfWZ1bmN0aW9uIGQoYSl7dmFyIGI9YS5zdGFydENvbnRhaW5lcjtyZXR1cm4gYi5pcyhcInRyXCIpP2EuY2xvbmVDb250ZW50cygpOmIuY2xvbmUoITApfWZvcih2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZixnLGssaD0wO2g8YS5sZW5ndGg7aCsrKXt2YXIgdT1hW2hdLHk9dS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoXCJ0clwiLCEwKTtjKHUpPyhmfHxcbihmPXkuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuY2xvbmUoKSxmLmFwcGVuZCh5LmdldEFzY2VuZGFudCh7dGhlYWQ6MSx0Ym9keToxLHRmb290OjF9KS5jbG9uZSgpKSxlLmFwcGVuZChmKSxmPWYuZmluZE9uZShcInRoZWFkLCB0Ym9keSwgdGZvb3RcIikpLGcmJmcuZXF1YWxzKHkpfHwoZz15LGs9eS5jbG9uZSgpLGYuYXBwZW5kKGspKSxrLmFwcGVuZChkKHUpKSk6ZS5hcHBlbmQodS5jbG9uZUNvbnRlbnRzKCkpfXJldHVybiBmP2U6Yi5nZXRIdG1sRnJvbVJhbmdlKGFbMF0pfWEucHJvdG90eXBlPUNLRURJVE9SLmVkaXRvci5wcm90b3R5cGU7Q0tFRElUT1IuZWRpdG9yPWE7dmFyIEc9MCx4PXt9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthZGRDb21tYW5kOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPWEudG9Mb3dlckNhc2UoKTt2YXIgYz1uZXcgQ0tFRElUT1IuY29tbWFuZCh0aGlzLGIpO3RoaXMubW9kZSYmZSh0aGlzLGMpO3JldHVybiB0aGlzLmNvbW1hbmRzW2FdPVxuY30sX2F0dGFjaFRvRm9ybTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yy51cGRhdGVFbGVtZW50KCk7Yy5fLnJlcXVpcmVkJiYhZC5nZXRWYWx1ZSgpJiYhMT09PWMuZmlyZShcInJlcXVpcmVkXCIpJiZiLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBiKGEpe3JldHVybiEhKGEmJmEuY2FsbCYmYS5hcHBseSl9dmFyIGM9dGhpcyxkPWMuZWxlbWVudCxlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkLiQuZm9ybSk7ZC5pcyhcInRleHRhcmVhXCIpJiZlJiYoZS5vbihcInN1Ym1pdFwiLGEpLGIoZS4kLnN1Ym1pdCkmJihlLiQuc3VibWl0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGUuJC5zdWJtaXQsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7YSgpO2IuYXBwbHk/Yi5hcHBseSh0aGlzKTpiKCl9fSkpLGMub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtlLnJlbW92ZUxpc3RlbmVyKFwic3VibWl0XCIsYSl9KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiYmVmb3JlRGVzdHJveVwiKTtcbiFhJiZ3LmNhbGwodGhpcyk7dGhpcy5lZGl0YWJsZShudWxsKTt0aGlzLmZpbHRlciYmKHRoaXMuZmlsdGVyLmRlc3Ryb3koKSxkZWxldGUgdGhpcy5maWx0ZXIpO2RlbGV0ZSB0aGlzLmFjdGl2ZUZpbHRlcjt0aGlzLnN0YXR1cz1cImRlc3Ryb3llZFwiO3RoaXMuZmlyZShcImRlc3Ryb3lcIik7dGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtDS0VESVRPUi5yZW1vdmUodGhpcyk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlRGVzdHJveWVkXCIsbnVsbCx0aGlzKX0sZWxlbWVudFBhdGg6ZnVuY3Rpb24oYSl7aWYoIWEpe2E9dGhpcy5nZXRTZWxlY3Rpb24oKTtpZighYSlyZXR1cm4gbnVsbDthPWEuZ2V0U3RhcnRFbGVtZW50KCl9cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLHRoaXMuZWRpdGFibGUoKSk6bnVsbH0sY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRhYmxlKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTpudWxsfSxleGVjQ29tbWFuZDpmdW5jdGlvbihhLFxuYil7dmFyIGM9dGhpcy5nZXRDb21tYW5kKGEpLGQ9e25hbWU6YSxjb21tYW5kRGF0YTpifHx7fSxjb21tYW5kOmN9O3JldHVybiBjJiZjLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmITEhPT10aGlzLmZpcmUoXCJiZWZvcmVDb21tYW5kRXhlY1wiLGQpJiYoZC5yZXR1cm5WYWx1ZT1jLmV4ZWMoZC5jb21tYW5kRGF0YSksIWMuYXN5bmMmJiExIT09dGhpcy5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLGQpKT9kLnJldHVyblZhbHVlOiExfSxnZXRDb21tYW5kOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNvbW1hbmRzW2FdfSxnZXREYXRhOmZ1bmN0aW9uKGEpeyFhJiZ0aGlzLmZpcmUoXCJiZWZvcmVHZXREYXRhXCIpO3ZhciBiPXRoaXMuXy5kYXRhO1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYj0oYj10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9iLmlzKFwidGV4dGFyZWFcIik/Yi5nZXRWYWx1ZSgpOmIuZ2V0SHRtbCgpOlxuXCJcIik7Yj17ZGF0YVZhbHVlOmJ9OyFhJiZ0aGlzLmZpcmUoXCJnZXREYXRhXCIsYik7cmV0dXJuIGIuZGF0YVZhbHVlfSxnZXRTbmFwc2hvdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmlyZShcImdldFNuYXBzaG90XCIpO1wic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT0oYT10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9hLmlzKFwidGV4dGFyZWFcIik/YS5nZXRWYWx1ZSgpOmEuZ2V0SHRtbCgpOlwiXCIpO3JldHVybiBhfSxsb2FkU25hcHNob3Q6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwibG9hZFNuYXBzaG90XCIsYSl9LHNldERhdGE6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSEwLGU9YjtiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9Yi5pbnRlcm5hbCxlPWIuY2FsbGJhY2ssZD0hYi5ub1NuYXBzaG90KTshYyYmZCYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2lmKGV8fCFjKXRoaXMub25jZShcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKGEpeyFjJiZcbmQmJnRoaXMuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtlJiZlLmNhbGwoYS5lZGl0b3IpfSk7YT17ZGF0YVZhbHVlOmF9OyFjJiZ0aGlzLmZpcmUoXCJzZXREYXRhXCIsYSk7dGhpcy5fLmRhdGE9YS5kYXRhVmFsdWU7IWMmJnRoaXMuZmlyZShcImFmdGVyU2V0RGF0YVwiLGEpfSxzZXRSZWFkT25seTpmdW5jdGlvbihhKXthPW51bGw9PWF8fGE7dGhpcy5yZWFkT25seSE9YSYmKHRoaXMucmVhZE9ubHk9YSx0aGlzLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EsdGhpcy5lZGl0YWJsZSgpLnNldFJlYWRPbmx5KGEpLHRoaXMuZmlyZShcInJlYWRPbmx5XCIpKX0saW5zZXJ0SHRtbDpmdW5jdGlvbihhLGIsYyl7dGhpcy5maXJlKFwiaW5zZXJ0SHRtbFwiLHtkYXRhVmFsdWU6YSxtb2RlOmIscmFuZ2U6Y30pfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydFRleHRcIixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRFbGVtZW50XCIsXG5hKX0sZ2V0U2VsZWN0ZWRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdGFibGUoKSxjPXRoaXMuZ2V0U2VsZWN0aW9uKCksYz1jJiZjLmdldFJhbmdlcygpO2lmKCFifHwhY3x8MD09PWMubGVuZ3RoKXJldHVybiBudWxsO2I9QShjLGIpO3JldHVybiBhP2IuZ2V0SHRtbCgpOmJ9LGV4dHJhY3RTZWxlY3RlZEh0bWw6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRhYmxlKCksZD10aGlzLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLGU9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LGY7aWYoIWN8fDA9PT1kLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IoZj0wO2Y8ZC5sZW5ndGg7ZisrKWUuYXBwZW5kKGMuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoZFtmXSxiKSk7Ynx8dGhpcy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RbMF1dKTtyZXR1cm4gYT9lLmdldEh0bWwoKTplfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZmlyZShcImJlZm9yZUZvY3VzXCIpfSxjaGVja0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuXCJyZWFkeVwiPT1cbnRoaXMuc3RhdHVzJiZ0aGlzLl8ucHJldmlvdXNWYWx1ZSE9PXRoaXMuZ2V0U25hcHNob3QoKX0scmVzZXREaXJ0eTpmdW5jdGlvbigpe3RoaXMuXy5wcmV2aW91c1ZhbHVlPXRoaXMuZ2V0U25hcHNob3QoKX0sdXBkYXRlRWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB3LmNhbGwodGhpcyl9LHNldEtleXN0cm9rZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcyxiPUNLRURJVE9SLnRvb2xzLmlzQXJyYXkoYXJndW1lbnRzWzBdKT9hcmd1bWVudHNbMF06W1tdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApXSxjLGQsZT1iLmxlbmd0aDtlLS07KWM9YltlXSxkPTAsQ0tFRElUT1IudG9vbHMuaXNBcnJheShjKSYmKGQ9Y1sxXSxjPWNbMF0pLGQ/YVtjXT1kOmRlbGV0ZSBhW2NdfSxnZXRDb21tYW5kS2V5c3Ryb2tlOmZ1bmN0aW9uKGEpe2lmKGE9XCJzdHJpbmdcIj09PXR5cGVvZiBhP3RoaXMuZ2V0Q29tbWFuZChhKTphKXt2YXIgYj1DS0VESVRPUi50b29scy5vYmplY3QuZmluZEtleSh0aGlzLmNvbW1hbmRzLFxuYSksYz10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcyxkO2lmKGEuZmFrZUtleXN0cm9rZSlyZXR1cm4gYS5mYWtlS2V5c3Ryb2tlO2ZvcihkIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShkKSYmY1tkXT09YilyZXR1cm4gZH1yZXR1cm4gbnVsbH0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXIuYWRkRmVhdHVyZShhKX0sc2V0QWN0aXZlRmlsdGVyOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMuZmlsdGVyKTt0aGlzLmFjdGl2ZUZpbHRlciE9PWEmJih0aGlzLmFjdGl2ZUZpbHRlcj1hLHRoaXMuZmlyZShcImFjdGl2ZUZpbHRlckNoYW5nZVwiKSxhPT09dGhpcy5maWx0ZXI/dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUobnVsbCxudWxsKTp0aGlzLnNldEFjdGl2ZUVudGVyTW9kZShhLmdldEFsbG93ZWRFbnRlck1vZGUodGhpcy5lbnRlck1vZGUpLGEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLnNoaWZ0RW50ZXJNb2RlLCEwKSkpfSxzZXRBY3RpdmVFbnRlck1vZGU6ZnVuY3Rpb24oYSxcbmIpe2E9YT90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjphOnRoaXMuZW50ZXJNb2RlO2I9Yj90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpiOnRoaXMuc2hpZnRFbnRlck1vZGU7aWYodGhpcy5hY3RpdmVFbnRlck1vZGUhPWF8fHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGUhPWIpdGhpcy5hY3RpdmVFbnRlck1vZGU9YSx0aGlzLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWIsdGhpcy5maXJlKFwiYWN0aXZlRW50ZXJNb2RlQ2hhbmdlXCIpfSxzaG93Tm90aWZpY2F0aW9uOmZ1bmN0aW9uKGEpe2FsZXJ0KGEpfX0pfSkoKTtDS0VESVRPUi5FTEVNRU5UX01PREVfTk9ORT0wO0NLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFPTE7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPPTI7Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT0zO0NLRURJVE9SLmh0bWxQYXJzZXI9ZnVuY3Rpb24oKXt0aGlzLl89e2h0bWxQYXJ0c1JlZ2V4Oi88KD86KD86XFwvKFtePl0rKT4pfCg/OiEtLShbXFxTfFxcc10qPyktLVxceDNlKXwoPzooW15cXC9cXHM+XSspKCg/OlxccytbXFx3XFwtOi5dKyg/Olxccyo9XFxzKj8oPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXxbXlxcc1wiJ1xcLz5dKykpPykqKVtcXFNcXHNdKj8oXFwvPyk+KSkvZ319O1xuKGZ1bmN0aW9uKCl7dmFyIGE9LyhbXFx3XFwtOi5dKykoPzooPzpcXHMqPVxccyooPzooPzpcIihbXlwiXSopXCIpfCg/OicoW14nXSopJyl8KFteXFxzPl0rKSkpfCg/PVxcc3wkKSkvZyxkPXtjaGVja2VkOjEsY29tcGFjdDoxLGRlY2xhcmU6MSxkZWZlcjoxLGRpc2FibGVkOjEsaXNtYXA6MSxtdWx0aXBsZToxLG5vaHJlZjoxLG5vcmVzaXplOjEsbm9zaGFkZToxLG5vd3JhcDoxLHJlYWRvbmx5OjEsc2VsZWN0ZWQ6MX07Q0tFRElUT1IuaHRtbFBhcnNlci5wcm90b3R5cGU9e29uVGFnT3BlbjpmdW5jdGlvbigpe30sb25UYWdDbG9zZTpmdW5jdGlvbigpe30sb25UZXh0OmZ1bmN0aW9uKCl7fSxvbkNEQVRBOmZ1bmN0aW9uKCl7fSxvbkNvbW1lbnQ6ZnVuY3Rpb24oKXt9LHBhcnNlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxlLGc9MCxoO2M9dGhpcy5fLmh0bWxQYXJ0c1JlZ2V4LmV4ZWMoYik7KXtlPWMuaW5kZXg7aWYoZT5nKWlmKGc9Yi5zdWJzdHJpbmcoZyxlKSxoKWgucHVzaChnKTtlbHNlIHRoaXMub25UZXh0KGcpO1xuZz10aGlzLl8uaHRtbFBhcnRzUmVnZXgubGFzdEluZGV4O2lmKGU9Y1sxXSlpZihlPWUudG9Mb3dlckNhc2UoKSxoJiZDS0VESVRPUi5kdGQuJGNkYXRhW2VdJiYodGhpcy5vbkNEQVRBKGguam9pbihcIlwiKSksaD1udWxsKSwhaCl7dGhpcy5vblRhZ0Nsb3NlKGUpO2NvbnRpbnVlfWlmKGgpaC5wdXNoKGNbMF0pO2Vsc2UgaWYoZT1jWzNdKXtpZihlPWUudG9Mb3dlckNhc2UoKSwhLz1cIi8udGVzdChlKSl7dmFyIGs9e30sbixxPWNbNF07Yz0hIWNbNV07aWYocSlmb3IoO249YS5leGVjKHEpOyl7dmFyIGY9blsxXS50b0xvd2VyQ2FzZSgpO249blsyXXx8blszXXx8bls0XXx8XCJcIjtrW2ZdPSFuJiZkW2ZdP2Y6Q0tFRElUT1IudG9vbHMuaHRtbERlY29kZUF0dHIobil9dGhpcy5vblRhZ09wZW4oZSxrLGMpOyFoJiZDS0VESVRPUi5kdGQuJGNkYXRhW2VdJiYoaD1bXSl9fWVsc2UgaWYoZT1jWzJdKXRoaXMub25Db21tZW50KGUpfWlmKGIubGVuZ3RoPmcpdGhpcy5vblRleHQoYi5zdWJzdHJpbmcoZyxcbmIubGVuZ3RoKSl9fX0pKCk7XG5DS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5fPXtvdXRwdXQ6W119fSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzY1wiLGEpfSxvcGVuVGFnQ2xvc2U6ZnVuY3Rpb24oYSxkKXtkP3RoaXMuXy5vdXRwdXQucHVzaChcIiAvXFx4M2VcIik6dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2VcIil9LGF0dHJpYnV0ZTpmdW5jdGlvbihhLGQpe1wic3RyaW5nXCI9PXR5cGVvZiBkJiYoZD1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihkKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiIFwiLGEsJ1xceDNkXCInLGQsJ1wiJyl9LGNsb3NlVGFnOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjL1wiLGEsXCJcXHgzZVwiKX0sdGV4dDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LGNvbW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MhLS1cIixhLFxuXCItLVxceDNlXCIpfSx3cml0ZTpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fLm91dHB1dD1bXTt0aGlzLl8uaW5kZW50PSExfSxnZXRIdG1sOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMuXy5vdXRwdXQuam9pbihcIlwiKTthJiZ0aGlzLnJlc2V0KCk7cmV0dXJuIGR9fX0pO1widXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCl7Q0tFRElUT1IuaHRtbFBhcnNlci5ub2RlPWZ1bmN0aW9uKCl7fTtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUucHJvdG90eXBlPXtyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudC5jaGlsZHJlbixkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYSx0aGlzKSxiPXRoaXMucHJldmlvdXMsYz10aGlzLm5leHQ7YiYmKGIubmV4dD1jKTtjJiYoYy5wcmV2aW91cz1iKTthLnNwbGljZShkLDEpO3RoaXMucGFyZW50PW51bGx9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMucGFyZW50LmNoaWxkcmVuLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihkLHRoaXMpLGM9YS5wcmV2aW91cz10aGlzLnByZXZpb3VzLGU9YS5uZXh0PXRoaXMubmV4dDtjJiYoYy5uZXh0PWEpO2UmJihlLnByZXZpb3VzPWEpO2RbYl09YTthLnBhcmVudD10aGlzLnBhcmVudDt0aGlzLnBhcmVudD1udWxsfSxpbnNlcnRBZnRlcjpmdW5jdGlvbihhKXt2YXIgZD1hLnBhcmVudC5jaGlsZHJlbixcbmI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihkLGEpLGM9YS5uZXh0O2Quc3BsaWNlKGIrMSwwLHRoaXMpO3RoaXMubmV4dD1hLm5leHQ7dGhpcy5wcmV2aW91cz1hO2EubmV4dD10aGlzO2MmJihjLnByZXZpb3VzPXRoaXMpO3RoaXMucGFyZW50PWEucGFyZW50fSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dmFyIGQ9YS5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGQsYSk7ZC5zcGxpY2UoYiwwLHRoaXMpO3RoaXMubmV4dD1hOyh0aGlzLnByZXZpb3VzPWEucHJldmlvdXMpJiYoYS5wcmV2aW91cy5uZXh0PXRoaXMpO2EucHJldmlvdXM9dGhpczt0aGlzLnBhcmVudD1hLnBhcmVudH0sZ2V0QXNjZW5kYW50OmZ1bmN0aW9uKGEpe3ZhciBkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YTpcInN0cmluZ1wiPT10eXBlb2YgYT9mdW5jdGlvbihiKXtyZXR1cm4gYi5uYW1lPT1hfTpmdW5jdGlvbihiKXtyZXR1cm4gYi5uYW1lIGluIGF9LGI9dGhpcy5wYXJlbnQ7Zm9yKDtiJiZcbmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyl7aWYoZChiKSlyZXR1cm4gYjtiPWIucGFyZW50fXJldHVybiBudWxsfSx3cmFwV2l0aDpmdW5jdGlvbihhKXt0aGlzLnJlcGxhY2VXaXRoKGEpO2EuYWRkKHRoaXMpO3JldHVybiBhfSxnZXRJbmRleDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMucGFyZW50LmNoaWxkcmVuLHRoaXMpfSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhfHx7fX19fSkoKTtcInVzZSBzdHJpY3RcIjtDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuXz17aXNCbG9ja0xpa2U6ITF9fTtcbkNLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9DT01NRU5ULGZpbHRlcjpmdW5jdGlvbihhLGQpe3ZhciBiPXRoaXMudmFsdWU7aWYoIShiPWEub25Db21tZW50KGQsYix0aGlzKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGIpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgoYiksITE7dGhpcy52YWx1ZT1iO3JldHVybiEwfSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxkKXtkJiZ0aGlzLmZpbHRlcihkKTthLmNvbW1lbnQodGhpcy52YWx1ZSl9fSk7XCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24oKXtDS0VESVRPUi5odG1sUGFyc2VyLnRleHQ9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuXz17aXNCbG9ja0xpa2U6ITF9fTtDS0VESVRPUi5odG1sUGFyc2VyLnRleHQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfVEVYVCxmaWx0ZXI6ZnVuY3Rpb24oYSxkKXtpZighKHRoaXMudmFsdWU9YS5vblRleHQoZCx0aGlzLnZhbHVlLHRoaXMpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsZCl7ZCYmdGhpcy5maWx0ZXIoZCk7YS50ZXh0KHRoaXMudmFsdWUpfX0pfSkoKTtcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGE9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hfTtDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKCl7fSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSl7YS53cml0ZSh0aGlzLnZhbHVlKX19KX0pKCk7XCJ1c2Ugc3RyaWN0XCI7Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudD1mdW5jdGlvbigpe3RoaXMuY2hpbGRyZW49W107dGhpcy5wYXJlbnQ9bnVsbDt0aGlzLl89e2lzQmxvY2tMaWtlOiEwLGhhc0lubGluZVN0YXJ0ZWQ6ITF9fTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXN1cnZpdmVcIl0/ITE6XCJhXCI9PWEubmFtZSYmYS5hdHRyaWJ1dGVzLmhyZWZ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbYS5uYW1lXX12YXIgZD1DS0VESVRPUi50b29scy5leHRlbmQoe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjF9LENLRURJVE9SLmR0ZC50YWJsZSxDS0VESVRPUi5kdGQudWwsQ0tFRElUT1IuZHRkLm9sLENLRURJVE9SLmR0ZC5kbCksYj17b2w6MSx1bDoxfSxjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx7aHRtbDoxfSxDS0VESVRPUi5kdGQuaHRtbCxDS0VESVRPUi5kdGQuYm9keSxDS0VESVRPUi5kdGQuaGVhZCx7c3R5bGU6MSxzY3JpcHQ6MX0pLGU9e3VsOlwibGlcIixvbDpcImxpXCIsZGw6XCJkZFwiLHRhYmxlOlwidGJvZHlcIix0Ym9keTpcInRyXCIsdGhlYWQ6XCJ0clwiLHRmb290OlwidHJcIix0cjpcInRkXCJ9O0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWw9XG5mdW5jdGlvbihnLGgsayl7ZnVuY3Rpb24gbihhKXt2YXIgYjtpZigwPG0ubGVuZ3RoKWZvcih2YXIgYz0wO2M8bS5sZW5ndGg7YysrKXt2YXIgZD1tW2NdLGU9ZC5uYW1lLGY9Q0tFRElUT1IuZHRkW2VdLGw9ei5uYW1lJiZDS0VESVRPUi5kdGRbei5uYW1lXTtsJiYhbFtlXXx8YSYmZiYmIWZbYV0mJkNLRURJVE9SLmR0ZFthXT9lPT16Lm5hbWUmJihEKHosei5wYXJlbnQsMSksYy0tKTooYnx8KHEoKSxiPTEpLGQ9ZC5jbG9uZSgpLGQucGFyZW50PXosej1kLG0uc3BsaWNlKGMsMSksYy0tKX19ZnVuY3Rpb24gcSgpe2Zvcig7Sy5sZW5ndGg7KUQoSy5zaGlmdCgpLHopfWZ1bmN0aW9uIGYoYSl7aWYoYS5fLmlzQmxvY2tMaWtlJiZcInByZVwiIT1hLm5hbWUmJlwidGV4dGFyZWFcIiE9YS5uYW1lKXt2YXIgYj1hLmNoaWxkcmVuLmxlbmd0aCxjPWEuY2hpbGRyZW5bYi0xXSxkO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoKGQ9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSkpP1xuYy52YWx1ZT1kOmEuY2hpbGRyZW4ubGVuZ3RoPWItMSl9fWZ1bmN0aW9uIEQoYixjLGQpe2M9Y3x8enx8eDt2YXIgZT16O3ZvaWQgMD09PWIucHJldmlvdXMmJih3KGMsYikmJih6PWMsRy5vblRhZ09wZW4oayx7fSksYi5yZXR1cm5Qb2ludD1jPXopLGYoYiksYShiKSYmIWIuY2hpbGRyZW4ubGVuZ3RofHxjLmFkZChiKSxcInByZVwiPT1iLm5hbWUmJihsPSExKSxcInRleHRhcmVhXCI9PWIubmFtZSYmKEk9ITEpKTtiLnJldHVyblBvaW50Pyh6PWIucmV0dXJuUG9pbnQsZGVsZXRlIGIucmV0dXJuUG9pbnQpOno9ZD9jOmV9ZnVuY3Rpb24gdyhhLGIpe2lmKChhPT14fHxcImJvZHlcIj09YS5uYW1lKSYmayYmKCFhLm5hbWV8fENLRURJVE9SLmR0ZFthLm5hbWVdW2tdKSl7dmFyIGMsZDtyZXR1cm4oYz1iLmF0dHJpYnV0ZXMmJihkPWIuYXR0cmlidXRlc1tcImRhdGEtY2tlLXJlYWwtZWxlbWVudC10eXBlXCJdKT9kOmIubmFtZSkmJmMgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYyBpbiBDS0VESVRPUi5kdGQuaGVhZCkmJlxuIWIuaXNPcnBoYW58fGIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfX1mdW5jdGlvbiBBKGEsYil7cmV0dXJuIGEgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbXx8YSBpbiBDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudD9hPT1ifHxcImR0XCI9PWEmJlwiZGRcIj09Ynx8XCJkZFwiPT1hJiZcImR0XCI9PWI6ITF9dmFyIEc9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIseD1oIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50P2g6XCJzdHJpbmdcIj09dHlwZW9mIGg/bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChoKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudCxtPVtdLEs9W10sej14LEk9XCJ0ZXh0YXJlYVwiPT14Lm5hbWUsbD1cInByZVwiPT14Lm5hbWU7Ry5vblRhZ09wZW49ZnVuY3Rpb24oZSxmLGcsayl7Zj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KGUsZik7Zi5pc1Vua25vd24mJmcmJihmLmlzRW1wdHk9ITApO2YuaXNPcHRpb25hbENsb3NlPWs7XG5pZihhKGYpKW0ucHVzaChmKTtlbHNle2lmKFwicHJlXCI9PWUpbD0hMDtlbHNle2lmKFwiYnJcIj09ZSYmbCl7ei5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChcIlxcblwiKSk7cmV0dXJufVwidGV4dGFyZWFcIj09ZSYmKEk9ITApfWlmKFwiYnJcIj09ZSlLLnB1c2goZik7ZWxzZXtmb3IoOyEoaz0oZz16Lm5hbWUpP0NLRURJVE9SLmR0ZFtnXXx8KHouXy5pc0Jsb2NrTGlrZT9DS0VESVRPUi5kdGQuZGl2OkNLRURJVE9SLmR0ZC5zcGFuKTpjLGYuaXNVbmtub3dufHx6LmlzVW5rbm93bnx8a1tlXSk7KWlmKHouaXNPcHRpb25hbENsb3NlKUcub25UYWdDbG9zZShnKTtlbHNlIGlmKGUgaW4gYiYmZyBpbiBiKWc9ei5jaGlsZHJlbiwoZz1nW2cubGVuZ3RoLTFdKSYmXCJsaVwiPT1nLm5hbWV8fEQoZz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwibGlcIikseiksIWYucmV0dXJuUG9pbnQmJihmLnJldHVyblBvaW50PXopLHo9ZztlbHNlIGlmKGUgaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSYmXG4hQShlLGcpKUcub25UYWdPcGVuKFwibGlcIj09ZT9cInVsXCI6XCJkbFwiLHt9LDAsMSk7ZWxzZSBpZihnIGluIGQmJiFBKGUsZykpIWYucmV0dXJuUG9pbnQmJihmLnJldHVyblBvaW50PXopLHo9ei5wYXJlbnQ7ZWxzZSBpZihnIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiZtLnVuc2hpZnQoeiksei5wYXJlbnQpRCh6LHoucGFyZW50LDEpO2Vsc2V7Zi5pc09ycGhhbj0xO2JyZWFrfW4oZSk7cSgpO2YucGFyZW50PXo7Zi5pc0VtcHR5P0QoZik6ej1mfX19O0cub25UYWdDbG9zZT1mdW5jdGlvbihhKXtmb3IodmFyIGI9bS5sZW5ndGgtMTswPD1iO2ItLSlpZihhPT1tW2JdLm5hbWUpe20uc3BsaWNlKGIsMSk7cmV0dXJufWZvcih2YXIgYz1bXSxkPVtdLGU9ejtlIT14JiZlLm5hbWUhPWE7KWUuXy5pc0Jsb2NrTGlrZXx8ZC51bnNoaWZ0KGUpLGMucHVzaChlKSxlPWUucmV0dXJuUG9pbnR8fGUucGFyZW50O2lmKGUhPXgpe2ZvcihiPTA7YjxjLmxlbmd0aDtiKyspe3ZhciBmPWNbYl07RChmLGYucGFyZW50KX16PVxuZTtlLl8uaXNCbG9ja0xpa2UmJnEoKTtEKGUsZS5wYXJlbnQpO2U9PXomJih6PXoucGFyZW50KTttPW0uY29uY2F0KGQpfVwiYm9keVwiPT1hJiYoaz0hMSl9O0cub25UZXh0PWZ1bmN0aW9uKGEpe2lmKCEoei5fLmhhc0lubGluZVN0YXJ0ZWQmJiFLLmxlbmd0aHx8bHx8SSkmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEpLDA9PT1hLmxlbmd0aCkpcmV0dXJuO3ZhciBiPXoubmFtZSxmPWI/Q0tFRElUT1IuZHRkW2JdfHwoei5fLmlzQmxvY2tMaWtlP0NLRURJVE9SLmR0ZC5kaXY6Q0tFRElUT1IuZHRkLnNwYW4pOmM7aWYoIUkmJiFmW1wiI1wiXSYmYiBpbiBkKUcub25UYWdPcGVuKGVbYl18fFwiXCIpLEcub25UZXh0KGEpO2Vsc2V7cSgpO24oKTtsfHxJfHwoYT1hLnJlcGxhY2UoL1tcXHRcXHJcXG4gXXsyLH18W1xcdFxcclxcbl0vZyxcIiBcIikpO2E9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhKTtpZih3KHosYSkpdGhpcy5vblRhZ09wZW4oayx7fSwwLDEpO3ouYWRkKGEpfX07Ry5vbkNEQVRBPVxuZnVuY3Rpb24oYSl7ei5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGEoYSkpfTtHLm9uQ29tbWVudD1mdW5jdGlvbihhKXtxKCk7bigpO3ouYWRkKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQoYSkpfTtHLnBhcnNlKGcpO2ZvcihxKCk7eiE9eDspRCh6LHoucGFyZW50LDEpO2YoeCk7cmV0dXJuIHh9O0NLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQucHJvdG90eXBlPXt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQsYWRkOmZ1bmN0aW9uKGEsYil7aXNOYU4oYikmJihiPXRoaXMuY2hpbGRyZW4ubGVuZ3RoKTt2YXIgYz0wPGI/dGhpcy5jaGlsZHJlbltiLTFdOm51bGw7aWYoYyl7aWYoYS5fLmlzQmxvY2tMaWtlJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGMudmFsdWU9Q0tFRElUT1IudG9vbHMucnRyaW0oYy52YWx1ZSksMD09PWMudmFsdWUubGVuZ3RoKSl7dGhpcy5jaGlsZHJlbi5wb3AoKTt0aGlzLmFkZChhKTtyZXR1cm59Yy5uZXh0PVxuYX1hLnByZXZpb3VzPWM7YS5wYXJlbnQ9dGhpczt0aGlzLmNoaWxkcmVuLnNwbGljZShiLDAsYSk7dGhpcy5fLmhhc0lubGluZVN0YXJ0ZWR8fCh0aGlzLl8uaGFzSW5saW5lU3RhcnRlZD1hLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLl8uaXNCbG9ja0xpa2UpfSxmaWx0ZXI6ZnVuY3Rpb24oYSxiKXtiPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChiKTthLm9uUm9vdChiLHRoaXMpO3RoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxiKX0sZmlsdGVyQ2hpbGRyZW46ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hpbGRyZW5GaWx0ZXJlZEJ5IT1hLmlkKXtjPXRoaXMuZ2V0RmlsdGVyQ29udGV4dChjKTtpZihiJiYhdGhpcy5wYXJlbnQpYS5vblJvb3QoYyx0aGlzKTt0aGlzLmNoaWxkcmVuRmlsdGVyZWRCeT1hLmlkO2ZvcihiPTA7Yjx0aGlzLmNoaWxkcmVuLmxlbmd0aDtiKyspITE9PT10aGlzLmNoaWxkcmVuW2JdLmZpbHRlcihhLFxuYykmJmItLX19LHdyaXRlSHRtbDpmdW5jdGlvbihhLGIpe2ImJnRoaXMuZmlsdGVyKGIpO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSl9LHdyaXRlQ2hpbGRyZW5IdG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmdldEZpbHRlckNvbnRleHQoKTtpZihjJiYhdGhpcy5wYXJlbnQmJmIpYi5vblJvb3QoZCx0aGlzKTtiJiZ0aGlzLmZpbHRlckNoaWxkcmVuKGIsITEsZCk7Yj0wO2M9dGhpcy5jaGlsZHJlbjtmb3IoZD1jLmxlbmd0aDtiPGQ7YisrKWNbYl0ud3JpdGVIdG1sKGEpfSxmb3JFYWNoOmZ1bmN0aW9uKGEsYixjKXtpZighKGN8fGImJnRoaXMudHlwZSE9YikpdmFyIGQ9YSh0aGlzKTtpZighMSE9PWQpe2M9dGhpcy5jaGlsZHJlbjtmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylkPWNbZV0sZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/ZC5mb3JFYWNoKGEsYik6YiYmZC50eXBlIT1ifHxhKGQpfX0sZ2V0RmlsdGVyQ29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYXx8XG57fX19fSkoKTtcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt0aGlzLnJ1bGVzPVtdfWZ1bmN0aW9uIGQoYixjLGQsZyl7dmFyIGgsaztmb3IoaCBpbiBjKShrPWJbaF0pfHwoaz1iW2hdPW5ldyBhKSxrLmFkZChjW2hdLGQsZyl9Q0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYil7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5lbGVtZW50TmFtZVJ1bGVzPW5ldyBhO3RoaXMuYXR0cmlidXRlTmFtZVJ1bGVzPW5ldyBhO3RoaXMuZWxlbWVudHNSdWxlcz17fTt0aGlzLmF0dHJpYnV0ZXNSdWxlcz17fTt0aGlzLnRleHRSdWxlcz1uZXcgYTt0aGlzLmNvbW1lbnRSdWxlcz1uZXcgYTt0aGlzLnJvb3RSdWxlcz1uZXcgYTtiJiZ0aGlzLmFkZFJ1bGVzKGIsMTApfSxwcm90bzp7YWRkUnVsZXM6ZnVuY3Rpb24oYSxjKXt2YXIgZTtcIm51bWJlclwiPT10eXBlb2YgYz9lPWM6YyYmXCJwcmlvcml0eVwiaW4gYyYmKGU9XG5jLnByaW9yaXR5KTtcIm51bWJlclwiIT10eXBlb2YgZSYmKGU9MTApO1wib2JqZWN0XCIhPXR5cGVvZiBjJiYoYz17fSk7YS5lbGVtZW50TmFtZXMmJnRoaXMuZWxlbWVudE5hbWVSdWxlcy5hZGRNYW55KGEuZWxlbWVudE5hbWVzLGUsYyk7YS5hdHRyaWJ1dGVOYW1lcyYmdGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuYWRkTWFueShhLmF0dHJpYnV0ZU5hbWVzLGUsYyk7YS5lbGVtZW50cyYmZCh0aGlzLmVsZW1lbnRzUnVsZXMsYS5lbGVtZW50cyxlLGMpO2EuYXR0cmlidXRlcyYmZCh0aGlzLmF0dHJpYnV0ZXNSdWxlcyxhLmF0dHJpYnV0ZXMsZSxjKTthLnRleHQmJnRoaXMudGV4dFJ1bGVzLmFkZChhLnRleHQsZSxjKTthLmNvbW1lbnQmJnRoaXMuY29tbWVudFJ1bGVzLmFkZChhLmNvbW1lbnQsZSxjKTthLnJvb3QmJnRoaXMucm9vdFJ1bGVzLmFkZChhLnJvb3QsZSxjKX0sYXBwbHlUbzpmdW5jdGlvbihhKXthLmZpbHRlcih0aGlzKX0sb25FbGVtZW50TmFtZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLmVsZW1lbnROYW1lUnVsZXMuZXhlY09uTmFtZShhLFxuYyl9LG9uQXR0cmlidXRlTmFtZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLmF0dHJpYnV0ZU5hbWVSdWxlcy5leGVjT25OYW1lKGEsYyl9LG9uVGV4dDpmdW5jdGlvbihhLGMsZCl7cmV0dXJuIHRoaXMudGV4dFJ1bGVzLmV4ZWMoYSxjLGQpfSxvbkNvbW1lbnQ6ZnVuY3Rpb24oYSxjLGQpe3JldHVybiB0aGlzLmNvbW1lbnRSdWxlcy5leGVjKGEsYyxkKX0sb25Sb290OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMucm9vdFJ1bGVzLmV4ZWMoYSxjKX0sb25FbGVtZW50OmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBkPVt0aGlzLmVsZW1lbnRzUnVsZXNbXCJeXCJdLHRoaXMuZWxlbWVudHNSdWxlc1tjLm5hbWVdLHRoaXMuZWxlbWVudHNSdWxlcy4kXSxnLGg9MDszPmg7aCsrKWlmKGc9ZFtoXSl7Zz1nLmV4ZWMoYSxjLHRoaXMpO2lmKCExPT09ZylyZXR1cm4gbnVsbDtpZihnJiZnIT1jKXJldHVybiB0aGlzLm9uTm9kZShhLGcpO2lmKGMucGFyZW50JiYhYy5uYW1lKWJyZWFrfXJldHVybiBjfSxcbm9uTm9kZTpmdW5jdGlvbihhLGMpe3ZhciBkPWMudHlwZTtyZXR1cm4gZD09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3RoaXMub25FbGVtZW50KGEsYyk6ZD09Q0tFRElUT1IuTk9ERV9URVhUP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQodGhpcy5vblRleHQoYSxjLnZhbHVlKSk6ZD09Q0tFRElUT1IuTk9ERV9DT01NRU5UP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQodGhpcy5vbkNvbW1lbnQoYSxjLnZhbHVlKSk6bnVsbH0sb25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSxjLGQsZyl7cmV0dXJuKGQ9dGhpcy5hdHRyaWJ1dGVzUnVsZXNbZF0pP2QuZXhlYyhhLGcsYyx0aGlzKTpnfX19KTtDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlclJ1bGVzR3JvdXA9YTthLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsYyxkKXt0aGlzLnJ1bGVzLnNwbGljZSh0aGlzLmZpbmRJbmRleChjKSwwLHt2YWx1ZTphLHByaW9yaXR5OmMsb3B0aW9uczpkfSl9LGFkZE1hbnk6ZnVuY3Rpb24oYSxcbmMsZCl7Zm9yKHZhciBnPVt0aGlzLmZpbmRJbmRleChjKSwwXSxoPTAsaz1hLmxlbmd0aDtoPGs7aCsrKWcucHVzaCh7dmFsdWU6YVtoXSxwcmlvcml0eTpjLG9wdGlvbnM6ZH0pO3RoaXMucnVsZXMuc3BsaWNlLmFwcGx5KHRoaXMucnVsZXMsZyl9LGZpbmRJbmRleDpmdW5jdGlvbihhKXtmb3IodmFyIGM9dGhpcy5ydWxlcyxkPWMubGVuZ3RoLTE7MDw9ZCYmYTxjW2RdLnByaW9yaXR5OylkLS07cmV0dXJuIGQrMX0sZXhlYzpmdW5jdGlvbihhLGMpe3ZhciBkPWMgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGV8fGMgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGg9dGhpcy5ydWxlcyxrPWgubGVuZ3RoLG4scSxmLEQ7Zm9yKEQ9MDtEPGs7RCsrKWlmKGQmJihuPWMudHlwZSxxPWMubmFtZSksZj1oW0RdLCEoYS5ub25FZGl0YWJsZSYmIWYub3B0aW9ucy5hcHBseVRvQWxsfHxcbmEubmVzdGVkRWRpdGFibGUmJmYub3B0aW9ucy5leGNsdWRlTmVzdGVkRWRpdGFibGUpKXtmPWYudmFsdWUuYXBwbHkobnVsbCxnKTtpZighMT09PWZ8fGQmJmYmJihmLm5hbWUhPXF8fGYudHlwZSE9bikpcmV0dXJuIGY7bnVsbCE9ZiYmKGdbMF09Yz1mKX1yZXR1cm4gY30sZXhlY09uTmFtZTpmdW5jdGlvbihhLGMpe2Zvcih2YXIgZD0wLGc9dGhpcy5ydWxlcyxoPWcubGVuZ3RoLGs7YyYmZDxoO2QrKylrPWdbZF0sYS5ub25FZGl0YWJsZSYmIWsub3B0aW9ucy5hcHBseVRvQWxsfHxhLm5lc3RlZEVkaXRhYmxlJiZrLm9wdGlvbnMuZXhjbHVkZU5lc3RlZEVkaXRhYmxlfHwoYz1jLnJlcGxhY2Uoay52YWx1ZVswXSxrLnZhbHVlWzFdKSk7cmV0dXJuIGN9fX0pKCk7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gYXx8Q0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlcj9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiwqBcIik6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImJyXCIse1wiZGF0YS1ja2UtYm9ndXNcIjoxfSl9ZnVuY3Rpb24gdihhLGQpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciB0PVtdLGw9YihlKSx2LHA7aWYobClmb3IodShsLDEpJiZ0LnB1c2gobCk7bDspZyhsKSYmKHY9YyhsKSkmJnUodikmJigocD1jKHYpKSYmIWcocCk/dC5wdXNoKHYpOihmKHkpLmluc2VydEFmdGVyKHYpLHYucmVtb3ZlKCkpKSxsPWwucHJldmlvdXM7Zm9yKGw9MDtsPHQubGVuZ3RoO2wrKyl0W2xdLnJlbW92ZSgpO2lmKHQ9IWF8fCExIT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGQ/ZChlKTpkKSl5fHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8XG5lLnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQ/eXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fCEoNzxkb2N1bWVudC5kb2N1bWVudE1vZGV8fGUubmFtZSBpbiBDS0VESVRPUi5kdGQudHJ8fGUubmFtZSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKT8odD1iKGUpLHQ9IXR8fFwiZm9ybVwiPT1lLm5hbWUmJlwiaW5wdXRcIj09dC5uYW1lKTp0PSExOnQ9ITE7dCYmZS5hZGQoZihhKSl9fX1mdW5jdGlvbiB1KGEsYil7aWYoKCF5fHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcikmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImJyXCI9PWEubmFtZSYmIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWVvbFwiXSlyZXR1cm4hMDt2YXIgYztyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWEudmFsdWUubWF0Y2gobSkpJiYoYy5pbmRleCYmKChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KGEudmFsdWUuc3Vic3RyaW5nKDAsYy5pbmRleCkpKS5pbnNlcnRCZWZvcmUoYSksXG5hLnZhbHVlPWNbMF0pLCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmeSYmKCFifHxhLnBhcmVudC5uYW1lIGluIEIpfHwheSYmKChjPWEucHJldmlvdXMpJiZcImJyXCI9PWMubmFtZXx8IWN8fGcoYykpKT8hMDohMX12YXIgcD17ZWxlbWVudHM6e319LHk9XCJodG1sXCI9PWQsQj1DS0VESVRPUi50b29scy5leHRlbmQoe30sbCksQztmb3IoQyBpbiBCKVwiI1wiaW4geltDXXx8ZGVsZXRlIEJbQ107Zm9yKEMgaW4gQilwLmVsZW1lbnRzW0NdPXYoeSxhLmNvbmZpZy5maWxsRW1wdHlCbG9ja3MpO3Aucm9vdD12KHksITEpO3AuZWxlbWVudHMuYnI9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2lmKGIucGFyZW50LnR5cGUhPUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe3ZhciBkPWIuYXR0cmlidXRlcztpZihcImRhdGEtY2tlLWJvZ3VzXCJpbiBkfHxcImRhdGEtY2tlLWVvbFwiaW4gZClkZWxldGUgZFtcImRhdGEtY2tlLWJvZ3VzXCJdO2Vsc2V7Zm9yKGQ9Yi5uZXh0O2QmJmUoZCk7KWQ9XG5kLm5leHQ7dmFyIHQ9YyhiKTshZCYmZyhiLnBhcmVudCk/aChiLnBhcmVudCxmKGEpKTpnKGQpJiZ0JiYhZyh0KSYmZihhKS5pbnNlcnRCZWZvcmUoZCl9fX19KHkpO3JldHVybiBwfWZ1bmN0aW9uIGQoYSxiKXtyZXR1cm4gYSE9Q0tFRElUT1IuRU5URVJfQlImJiExIT09Yj9hPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIjohMX1mdW5jdGlvbiBiKGEpe2ZvcihhPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YSYmZShhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGMoYSl7Zm9yKGE9YS5wcmV2aW91czthJiZlKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFDS0VESVRPUi50b29scy50cmltKGEudmFsdWUpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtYm9va21hcmtcIl19ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYSYmXG4oYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEubmFtZSBpbiBsfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpfWZ1bmN0aW9uIGgoYSxiKXt2YXIgYz1hLmNoaWxkcmVuW2EuY2hpbGRyZW4ubGVuZ3RoLTFdO2EuY2hpbGRyZW4ucHVzaChiKTtiLnBhcmVudD1hO2MmJihjLm5leHQ9YixiLnByZXZpb3VzPWMpfWZ1bmN0aW9uIGsoYSl7YT1hLmF0dHJpYnV0ZXM7XCJmYWxzZVwiIT1hLmNvbnRlbnRlZGl0YWJsZSYmKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXT1hLmNvbnRlbnRlZGl0YWJsZT9cInRydWVcIjoxKTthLmNvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCJ9ZnVuY3Rpb24gbihhKXthPWEuYXR0cmlidXRlcztzd2l0Y2goYVtcImRhdGEtY2tlLWVkaXRhYmxlXCJdKXtjYXNlIFwidHJ1ZVwiOmEuY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiO2JyZWFrO2Nhc2UgXCIxXCI6ZGVsZXRlIGEuY29udGVudGVkaXRhYmxlfX1mdW5jdGlvbiBxKGEpe3JldHVybiBhLnJlcGxhY2UodSxcbmZ1bmN0aW9uKGEsYixjKXtyZXR1cm5cIlxceDNjXCIrYitjLnJlcGxhY2UoeSxmdW5jdGlvbihhLGIpe3JldHVybiB2LnRlc3QoYikmJi0xPT1jLmluZGV4T2YoXCJkYXRhLWNrZS1zYXZlZC1cIitiKT9cIiBkYXRhLWNrZS1zYXZlZC1cIithK1wiIGRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi1cIithOmF9KStcIlxceDNlXCJ9KX1mdW5jdGlvbiBmKGEsYil7cmV0dXJuIGEucmVwbGFjZShiLGZ1bmN0aW9uKGEsYixjKXswPT09YS5pbmRleE9mKFwiXFx4M2N0ZXh0YXJlYVwiKSYmKGE9YitBKGMpLnJlcGxhY2UoLzwvZyxcIlxceDI2bHQ7XCIpLnJlcGxhY2UoLz4vZyxcIlxceDI2Z3Q7XCIpK1wiXFx4M2MvdGV4dGFyZWFcXHgzZVwiKTtyZXR1cm5cIlxceDNjY2tlOmVuY29kZWRcXHgzZVwiK2VuY29kZVVSSUNvbXBvbmVudChhKStcIlxceDNjL2NrZTplbmNvZGVkXFx4M2VcIn0pfWZ1bmN0aW9uIEQoYSl7cmV0dXJuIGEucmVwbGFjZShWLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pfWZ1bmN0aW9uIHcoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS0oPyF7Y2tlX3Byb3RlY3RlZH0pW1xcc1xcU10rPy0tXFx4M2UvZyxcbmZ1bmN0aW9uKGEpe3JldHVyblwiXFx4M2MhLS1cIitLK1wie0N9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KX1mdW5jdGlvbiBBKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfVxce0NcXH0oW1xcc1xcU10rPyktLVxceDNlL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGIpfSl9ZnVuY3Rpb24gRyhhLGIpe3ZhciBjPWIuXy5kYXRhU3RvcmU7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtcXHNcXFNdKz8pLS1cXHgzZS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChiKX0pLnJlcGxhY2UoL1xce2NrZV9wcm90ZWN0ZWRfKFxcZCspXFx9L2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYyYmY1tiXXx8XCJcIn0pfWZ1bmN0aW9uIHgoYSxiKXt2YXIgYz1bXSxkPWIuY29uZmlnLnByb3RlY3RlZFNvdXJjZSxlPWIuXy5kYXRhU3RvcmV8fChiLl8uZGF0YVN0b3JlPVxue2lkOjF9KSxmPS88XFwhLS1cXHtja2VfdGVtcChjb21tZW50KT9cXH0oXFxkKj8pLS1cXHgzZS9nLGQ9Wy88c2NyaXB0W1xcc1xcU10qPyg8XFwvc2NyaXB0PnwkKS9naSwvPG5vc2NyaXB0W1xcc1xcU10qPzxcXC9ub3NjcmlwdD4vZ2ksLzxtZXRhW1xcc1xcU10qP1xcLz8+L2dpXS5jb25jYXQoZCk7YT1hLnJlcGxhY2UoL1xceDNjIS0tW1xcc1xcU10qPy0tXFx4M2UvZyxmdW5jdGlvbihhKXtyZXR1cm5cIlxceDNjIS0te2NrZV90ZW1wY29tbWVudH1cIisoYy5wdXNoKGEpLTEpK1wiLS1cXHgzZVwifSk7Zm9yKHZhciBsPTA7bDxkLmxlbmd0aDtsKyspYT1hLnJlcGxhY2UoZFtsXSxmdW5jdGlvbihhKXthPWEucmVwbGFjZShmLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gY1tkXX0pO3JldHVybi9ja2VfdGVtcChjb21tZW50KT8vLnRlc3QoYSk/YTpcIlxceDNjIS0te2NrZV90ZW1wfVwiKyhjLnB1c2goYSktMSkrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZShmLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm5cIlxceDNjIS0tXCIrSysoYj9cIntDfVwiOlxuXCJcIikrZW5jb2RlVVJJQ29tcG9uZW50KGNbZF0pLnJlcGxhY2UoLy0tL2csXCIlMkQlMkRcIikrXCItLVxceDNlXCJ9KTthPWEucmVwbGFjZSgvPFxcdysoPzpcXHMrKD86KD86W15cXHM9Pl0rXFxzKj1cXHMqKD86W14nXCJcXHM+XSt8J1teJ10qJ3xcIlteXCJdKlwiKSl8W15cXHM9XFwvPl0rKSkrXFxzKlxcLz8+L2csZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9KFtePl0qKS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe2VbZS5pZF09ZGVjb2RlVVJJQ29tcG9uZW50KGIpO3JldHVyblwie2NrZV9wcm90ZWN0ZWRfXCIrZS5pZCsrICtcIn1cIn0pfSk7cmV0dXJuIGE9YS5yZXBsYWNlKC88KHRpdGxlfGlmcmFtZXx0ZXh0YXJlYSkoW14+XSopPihbXFxzXFxTXSo/KTxcXC9cXDE+L2csZnVuY3Rpb24oYSxjLGQsZSl7cmV0dXJuXCJcXHgzY1wiK2MrZCtcIlxceDNlXCIrRyhBKGUpLGIpK1wiXFx4M2MvXCIrYytcIlxceDNlXCJ9KX1DS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvcj1mdW5jdGlvbihiKXt2YXIgYyxcbmUsbD10aGlzO3RoaXMuZWRpdG9yPWI7dGhpcy5kYXRhRmlsdGVyPWM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMuaHRtbEZpbHRlcj1lPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlcjt0aGlzLndyaXRlcj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFkZFJ1bGVzKHIpO2MuYWRkUnVsZXMoSix7YXBwbHlUb0FsbDohMH0pO2MuYWRkUnVsZXMoYShiLFwiZGF0YVwiKSx7YXBwbHlUb0FsbDohMH0pO2UuYWRkUnVsZXMoSCk7ZS5hZGRSdWxlcyhFLHthcHBseVRvQWxsOiEwfSk7ZS5hZGRSdWxlcyhhKGIsXCJodG1sXCIpLHthcHBseVRvQWxsOiEwfSk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBjPWEuZGF0YVZhbHVlLGUsYz14KGMsYiksYz1mKGMsTCksYz1xKGMpLGM9ZihjLEIpLGM9Yy5yZXBsYWNlKE8sXCIkMWNrZTokMlwiKSxjPWMucmVwbGFjZShDLFwiXFx4M2Nja2U6JDEkMlxceDNlXFx4M2MvY2tlOiQxXFx4M2VcIiksXG5jPWMucmVwbGFjZSgvKDxwcmVcXGJbXj5dKj4pKFxcclxcbnxcXG4pL2csXCIkMSQyJDJcIiksYz1jLnJlcGxhY2UoLyhbXmEtejAtOTxcXC1dKShvblxcd3szLH0pKD8hPikvZ2ksXCIkMWRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi0kMlwiKTtlPWEuY29udGV4dHx8Yi5lZGl0YWJsZSgpLmdldE5hbWUoKTt2YXIgbDtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlwicHJlXCI9PWUmJihlPVwiZGl2XCIsYz1cIlxceDNjcHJlXFx4M2VcIitjK1wiXFx4M2MvcHJlXFx4M2VcIixsPTEpO2U9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGUpO2Uuc2V0SHRtbChcImFcIitjKTtjPWUuZ2V0SHRtbCgpLnN1YnN0cigxKTtjPWMucmVwbGFjZShuZXcgUmVnRXhwKFwiZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiLFwiaWdcIiksXCJcIik7bCYmKGM9Yy5yZXBsYWNlKC9ePHByZT58PFxcL3ByZT4kL2dpLFwiXCIpKTtjPWMucmVwbGFjZShwLFwiJDEkMlwiKTtjPUQoYyk7Yz1BKGMpO2U9ITE9PT1hLmZpeEZvckJvZHk/ITE6XG5kKGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpO2M9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLGEuY29udGV4dCxlKTtlJiYobD1jLCFsLmNoaWxkcmVuLmxlbmd0aCYmQ0tFRElUT1IuZHRkW2wubmFtZV1bZV0mJihlPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoZSksbC5hZGQoZSkpKTthLmRhdGFWYWx1ZT1jfSxudWxsLG51bGwsNSk7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLCEwLGEuZGF0YS5kb250RmlsdGVyLGEuZGF0YS5lbnRlck1vZGUpJiZiLmZpcmUoXCJkYXRhRmlsdGVyZWRcIil9LG51bGwsbnVsbCw2KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZS5maWx0ZXJDaGlsZHJlbihsLmRhdGFGaWx0ZXIsITApfSxudWxsLG51bGwsMTApO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYj1hLmRhdGFWYWx1ZSxcbmM9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yi53cml0ZUNoaWxkcmVuSHRtbChjKTtiPWMuZ2V0SHRtbCghMCk7YS5kYXRhVmFsdWU9dyhiKX0sbnVsbCxudWxsLDE1KTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmRhdGFWYWx1ZTthLmRhdGEuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGM9Yy5yZXBsYWNlKC9ePGJyICpcXC8/Pi9pLFwiXCIpKTthLmRhdGEuZGF0YVZhbHVlPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYyxhLmRhdGEuY29udGV4dCxkKGEuZGF0YS5lbnRlck1vZGUsYi5jb25maWcuYXV0b1BhcmFncmFwaCkpfSxudWxsLG51bGwsNSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4obC5odG1sRmlsdGVyLCEwKX0sbnVsbCxudWxsLDEwKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmZpbHRlci5hcHBseVRvKGEuZGF0YS5kYXRhVmFsdWUsXG4hMSwhMCl9LG51bGwsbnVsbCwxMSk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe3ZhciBjPWEuZGF0YS5kYXRhVmFsdWUsZD1sLndyaXRlcjtkLnJlc2V0KCk7Yy53cml0ZUNoaWxkcmVuSHRtbChkKTtjPWQuZ2V0SHRtbCghMCk7Yz1BKGMpO2M9RyhjLGIpO2EuZGF0YS5kYXRhVmFsdWU9Y30sbnVsbCxudWxsLDE1KX07Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3IucHJvdG90eXBlPXt0b0h0bWw6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9dGhpcy5lZGl0b3IsZixsLHYsZztiJiZcIm9iamVjdFwiPT10eXBlb2YgYj8oZj1iLmNvbnRleHQsYz1iLmZpeEZvckJvZHksZD1iLmRvbnRGaWx0ZXIsbD1iLmZpbHRlcix2PWIuZW50ZXJNb2RlLGc9Yi5wcm90ZWN0ZWRXaGl0ZXNwYWNlcyk6Zj1iO2Z8fG51bGw9PT1mfHwoZj1lLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gZS5maXJlKFwidG9IdG1sXCIse2RhdGFWYWx1ZTphLGNvbnRleHQ6ZixmaXhGb3JCb2R5OmMsZG9udEZpbHRlcjpkLFxuZmlsdGVyOmx8fGUuZmlsdGVyLGVudGVyTW9kZTp2fHxlLmVudGVyTW9kZSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczpnfSkuZGF0YVZhbHVlfSx0b0RhdGFGb3JtYXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7YiYmKGM9Yi5jb250ZXh0LGQ9Yi5maWx0ZXIsZT1iLmVudGVyTW9kZSk7Y3x8bnVsbD09PWN8fChjPXRoaXMuZWRpdG9yLmVkaXRhYmxlKCkuZ2V0TmFtZSgpKTtyZXR1cm4gdGhpcy5lZGl0b3IuZmlyZShcInRvRGF0YUZvcm1hdFwiLHtkYXRhVmFsdWU6YSxmaWx0ZXI6ZHx8dGhpcy5lZGl0b3IuZmlsdGVyLGNvbnRleHQ6YyxlbnRlck1vZGU6ZXx8dGhpcy5lZGl0b3IuZW50ZXJNb2RlfSkuZGF0YVZhbHVlfX07dmFyIG09Lyg/OiZuYnNwO3xcXHhhMCkkLyxLPVwie2NrZV9wcm90ZWN0ZWR9XCIsej1DS0VESVRPUi5kdGQsST1cImNhcHRpb24gY29sZ3JvdXAgY29sIHRoZWFkIHRmb290IHRib2R5XCIuc3BsaXQoXCIgXCIpLGw9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHouJGJsb2NrTGltaXQsXG56LiRibG9jaykscj17ZWxlbWVudHM6e2lucHV0OmssdGV4dGFyZWE6a319LEo9e2F0dHJpYnV0ZU5hbWVzOltbL15vbi8sXCJkYXRhLWNrZS1wYS1vblwiXSxbL15zcmNkb2MvLFwiZGF0YS1ja2UtcGEtc3JjZG9jXCJdLFsvXmRhdGEtY2tlLWV4cGFuZG8kLyxcIlwiXV0sZWxlbWVudHM6e2lmcmFtZTpmdW5jdGlvbihhKXtpZihhLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5zcmMpe3ZhciBiPWEuYXR0cmlidXRlcy5zcmMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEtel0vZ2ksXCJcIik7aWYoMD09PWIuaW5kZXhPZihcImphdmFzY3JpcHRcIil8fDA9PT1iLmluZGV4T2YoXCJkYXRhXCIpKWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXBhLXNyY1wiXT1hLmF0dHJpYnV0ZXMuc3JjLGRlbGV0ZSBhLmF0dHJpYnV0ZXMuc3JjfX19fSxIPXtlbGVtZW50czp7ZW1iZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnQ7aWYoYiYmXCJvYmplY3RcIj09Yi5uYW1lKXt2YXIgYz1iLmF0dHJpYnV0ZXMud2lkdGgsYj1iLmF0dHJpYnV0ZXMuaGVpZ2h0O1xuYyYmKGEuYXR0cmlidXRlcy53aWR0aD1jKTtiJiYoYS5hdHRyaWJ1dGVzLmhlaWdodD1iKX19LGE6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGIubmFtZXx8Yi5pZHx8YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSkpcmV0dXJuITF9fX0sRT17ZWxlbWVudE5hbWVzOltbL15ja2U6LyxcIlwiXSxbL15cXD94bWw6bmFtZXNwYWNlJC8sXCJcIl1dLGF0dHJpYnV0ZU5hbWVzOltbL15kYXRhLWNrZS0oc2F2ZWR8cGEpLS8sXCJcIl0sWy9eZGF0YS1ja2UtLiovLFwiXCJdLFtcImhpZGVmb2N1c1wiLFwiXCJdXSxlbGVtZW50czp7JDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoYil7aWYoYltcImRhdGEtY2tlLXRlbXBcIl0pcmV0dXJuITE7Zm9yKHZhciBjPVtcIm5hbWVcIixcImhyZWZcIixcInNyY1wiXSxkLGU9MDtlPGMubGVuZ3RoO2UrKylkPVwiZGF0YS1ja2Utc2F2ZWQtXCIrY1tlXSxkIGluIGImJmRlbGV0ZSBiW2NbZV1dfXJldHVybiBhfSxcbnRhYmxlOmZ1bmN0aW9uKGEpe2EuY2hpbGRyZW4uc2xpY2UoMCkuc29ydChmdW5jdGlvbihhLGIpe3ZhciBjLGQ7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIudHlwZT09YS50eXBlJiYoYz1DS0VESVRPUi50b29scy5pbmRleE9mKEksYS5uYW1lKSxkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoSSxiLm5hbWUpKTstMTxjJiYtMTxkJiZjIT1kfHwoYz1hLnBhcmVudD9hLmdldEluZGV4KCk6LTEsZD1iLnBhcmVudD9iLmdldEluZGV4KCk6LTEpO3JldHVybiBjPmQ/MTotMX0pfSxwYXJhbTpmdW5jdGlvbihhKXthLmNoaWxkcmVuPVtdO2EuaXNFbXB0eT0hMDtyZXR1cm4gYX0sc3BhbjpmdW5jdGlvbihhKXtcIkFwcGxlLXN0eWxlLXNwYW5cIj09YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl0mJmRlbGV0ZSBhLm5hbWV9LGh0bWw6ZnVuY3Rpb24oYSl7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU7ZGVsZXRlIGEuYXR0cmlidXRlc1tcImNsYXNzXCJdfSxib2R5OmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuc3BlbGxjaGVjaztcbmRlbGV0ZSBhLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlfSxzdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdO2ImJmIudmFsdWUmJihiLnZhbHVlPUNLRURJVE9SLnRvb2xzLnRyaW0oYi52YWx1ZSkpO2EuYXR0cmlidXRlcy50eXBlfHwoYS5hdHRyaWJ1dGVzLnR5cGU9XCJ0ZXh0L2Nzc1wiKX0sdGl0bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5jaGlsZHJlblswXTshYiYmaChhLGI9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dCk7Yi52YWx1ZT1hLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS10aXRsZVwiXXx8XCJcIn0saW5wdXQ6bix0ZXh0YXJlYTpufSxhdHRyaWJ1dGVzOntcImNsYXNzXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmx0cmltKGEucmVwbGFjZSgvKD86XnxcXHMrKWNrZV9bXlxcc10qL2csXCJcIikpfHwhMX19fTtDS0VESVRPUi5lbnYuaWUmJihFLmF0dHJpYnV0ZXMuc3R5bGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKF58OykoW15cXDpdKykvZyxcbmZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KX0pO3ZhciB1PS88KGF8YXJlYXxpbWd8aW5wdXR8c291cmNlKVxcYihbXj5dKik+L2dpLHk9LyhbXFx3LTpdKylcXHMqPVxccyooPzooPzpcIlteXCJdKlwiKXwoPzonW14nXSonKXwoPzpbXiBcIic+XSspKS9naSx2PS9eKGhyZWZ8c3JjfG5hbWUpJC9pLEI9Lyg/OjxzdHlsZSg/PVsgPl0pW14+XSo+W1xcc1xcU10qPzxcXC9zdHlsZT4pfCg/OjwoOj9saW5rfG1ldGF8YmFzZSlbXj5dKj4pL2dpLEw9Lyg8dGV4dGFyZWEoPz1bID5dKVtePl0qPikoW1xcc1xcU10qPykoPzo8XFwvdGV4dGFyZWE+KS9naSxWPS88Y2tlOmVuY29kZWQ+KFtePF0qKTxcXC9ja2U6ZW5jb2RlZD4vZ2ksTz0vKDxcXC8/KSgoPzpvYmplY3R8ZW1iZWR8cGFyYW18aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxwPS8oPFxcLz8pY2tlOigoPzpodG1sfGJvZHl8aGVhZHx0aXRsZSlbXj5dKj4pL2dpLEM9Lzxja2U6KHBhcmFtfGVtYmVkKShbXj5dKj8pXFwvPz4oPyFcXHMqPFxcL2NrZTpcXDEpL2dpfSkoKTtcblwidXNlIHN0cmljdFwiO0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD1mdW5jdGlvbihhLGQpe3RoaXMubmFtZT1hO3RoaXMuYXR0cmlidXRlcz1kfHx7fTt0aGlzLmNoaWxkcmVuPVtdO3ZhciBiPWF8fFwiXCIsYz1iLm1hdGNoKC9eY2tlOiguKikvKTtjJiYoYj1jWzFdKTtiPSEhKENLRURJVE9SLmR0ZC4kbm9uQm9keUNvbnRlbnRbYl18fENLRURJVE9SLmR0ZC4kYmxvY2tbYl18fENLRURJVE9SLmR0ZC4kbGlzdEl0ZW1bYl18fENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50W2JdfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxcImJyXCI9PWIpO3RoaXMuaXNFbXB0eT0hIUNLRURJVE9SLmR0ZC4kZW1wdHlbYV07dGhpcy5pc1Vua25vd249IUNLRURJVE9SLmR0ZFthXTt0aGlzLl89e2lzQmxvY2tMaWtlOmIsaGFzSW5saW5lU3RhcnRlZDp0aGlzLmlzRW1wdHl8fCFifX07XG5DS0VESVRPUi5odG1sUGFyc2VyLmNzc1N0eWxlPWZ1bmN0aW9uKGEpe3ZhciBkPXt9OygoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9hLmF0dHJpYnV0ZXMuc3R5bGU6YSl8fFwiXCIpLnJlcGxhY2UoLyZxdW90Oy9nLCdcIicpLnJlcGxhY2UoL1xccyooW14gOjtdKylcXHMqOlxccyooW147XSspXFxzKig/PTt8JCkvZyxmdW5jdGlvbihhLGMsZSl7XCJmb250LWZhbWlseVwiPT1jJiYoZT1lLnJlcGxhY2UoL1tcIiddL2csXCJcIikpO2RbYy50b0xvd2VyQ2FzZSgpXT1lfSk7cmV0dXJue3J1bGVzOmQscG9wdWxhdGU6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy50b1N0cmluZygpO2MmJihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlPWM6YS5zdHlsZT1jKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXSxjO1xuZm9yKGMgaW4gZClkW2NdJiZhLnB1c2goYyxcIjpcIixkW2NdLFwiO1wiKTtyZXR1cm4gYS5qb2luKFwiXCIpfX19O1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJzdHJpbmdcIj09dHlwZW9mIGE/Yi5uYW1lPT1hOmIubmFtZSBpbiBhKX19dmFyIGQ9ZnVuY3Rpb24oYSxiKXthPWFbMF07Yj1iWzBdO3JldHVybiBhPGI/LTE6YT5iPzE6MH0sYj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZTtDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGQ6Yi5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxoLGs7Yj1kLmdldEZpbHRlckNvbnRleHQoYik7aWYoYi5vZmYpcmV0dXJuITA7XG5pZighZC5wYXJlbnQpYS5vblJvb3QoYixkKTtmb3IoOzspe2g9ZC5uYW1lO2lmKCEoaz1hLm9uRWxlbWVudE5hbWUoYixoKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksITE7ZC5uYW1lPWs7aWYoIShkPWEub25FbGVtZW50KGIsZCkpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2lmKGQhPT10aGlzKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoKGQpLCExO2lmKGQubmFtZT09aClicmVhaztpZihkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChkKSwhMTtpZighZC5uYW1lKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSwhMX1oPWQuYXR0cmlidXRlczt2YXIgbixxO2ZvcihuIGluIGgpe2ZvcihrPWhbbl07OylpZihxPWEub25BdHRyaWJ1dGVOYW1lKGIsbikpaWYocSE9bilkZWxldGUgaFtuXSxuPXE7ZWxzZSBicmVhaztlbHNle2RlbGV0ZSBoW25dO2JyZWFrfXEmJighMT09PShrPWEub25BdHRyaWJ1dGUoYixkLHEsaykpP2RlbGV0ZSBoW3FdOlxuaFtxXT1rKX1kLmlzRW1wdHl8fHRoaXMuZmlsdGVyQ2hpbGRyZW4oYSwhMSxiKTtyZXR1cm4hMH0sZmlsdGVyQ2hpbGRyZW46Yi5maWx0ZXJDaGlsZHJlbix3cml0ZUh0bWw6ZnVuY3Rpb24oYSxiKXtiJiZ0aGlzLmZpbHRlcihiKTt2YXIgZz10aGlzLm5hbWUsaD1bXSxrPXRoaXMuYXR0cmlidXRlcyxuLHE7YS5vcGVuVGFnKGcsayk7Zm9yKG4gaW4gayloLnB1c2goW24sa1tuXV0pO2Euc29ydEF0dHJpYnV0ZXMmJmguc29ydChkKTtuPTA7Zm9yKHE9aC5sZW5ndGg7bjxxO24rKylrPWhbbl0sYS5hdHRyaWJ1dGUoa1swXSxrWzFdKTthLm9wZW5UYWdDbG9zZShnLHRoaXMuaXNFbXB0eSk7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTt0aGlzLmlzRW1wdHl8fGEuY2xvc2VUYWcoZyl9LHdyaXRlQ2hpbGRyZW5IdG1sOmIud3JpdGVDaGlsZHJlbkh0bWwscmVwbGFjZVdpdGhDaGlsZHJlbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuLGI9YS5sZW5ndGg7YjspYVstLWJdLmluc2VydEFmdGVyKHRoaXMpO1xudGhpcy5yZW1vdmUoKX0sZm9yRWFjaDpiLmZvckVhY2gsZ2V0Rmlyc3Q6ZnVuY3Rpb24oYil7aWYoIWIpcmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoP3RoaXMuY2hpbGRyZW5bMF06bnVsbDtcImZ1bmN0aW9uXCIhPXR5cGVvZiBiJiYoYj1hKGIpKTtmb3IodmFyIGQ9MCxnPXRoaXMuY2hpbGRyZW4ubGVuZ3RoO2Q8ZzsrK2QpaWYoYih0aGlzLmNoaWxkcmVuW2RdKSlyZXR1cm4gdGhpcy5jaGlsZHJlbltkXTtyZXR1cm4gbnVsbH0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzZXRIdG1sOmZ1bmN0aW9uKGEpe2E9dGhpcy5jaGlsZHJlbj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpLmNoaWxkcmVuO2Zvcih2YXIgYj0wLGQ9YS5sZW5ndGg7YjxkOysrYilhW2JdLnBhcmVudD10aGlzfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1cbm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVIdG1sKGEpO3JldHVybiBhLmdldEh0bWwoKX0sc3BsaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXRoaXMuY2hpbGRyZW4uc3BsaWNlKGEsdGhpcy5jaGlsZHJlbi5sZW5ndGgtYSksZD10aGlzLmNsb25lKCksaD0wO2g8Yi5sZW5ndGg7KytoKWJbaF0ucGFyZW50PWQ7ZC5jaGlsZHJlbj1iO2JbMF0mJihiWzBdLnByZXZpb3VzPW51bGwpOzA8YSYmKHRoaXMuY2hpbGRyZW5bYS0xXS5uZXh0PW51bGwpO3RoaXMucGFyZW50LmFkZChkLHRoaXMuZ2V0SW5kZXgoKSsxKTtyZXR1cm4gZH0sZmluZDpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPSExKTt2YXIgZD1bXSxoO2ZvcihoPTA7aDx0aGlzLmNoaWxkcmVuLmxlbmd0aDtoKyspe3ZhciBrPXRoaXMuY2hpbGRyZW5baF07XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYShrKT9kLnB1c2goayk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJmsubmFtZT09PWEmJmQucHVzaChrKTtcbmImJmsuZmluZCYmKGQ9ZC5jb25jYXQoay5maW5kKGEsYikpKX1yZXR1cm4gZH0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaGFzQ2xhc3MoYSkpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdfHxcIlwiO3RoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdPWIrKGI/XCIgXCI6XCJcIikrYX19LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO2ImJigoYj1DS0VESVRPUi50b29scy50cmltKGIucmVwbGFjZShuZXcgUmVnRXhwKFwiKD86XFxcXHMrfF4pXCIrYStcIig/OlxcXFxzK3wkKVwiKSxcIiBcIikpKT90aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iOmRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO3JldHVybiBiPyhuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithK1wiKD9cXHgzZFxcXFxzfCQpXCIpKS50ZXN0KGIpOiExfSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPVxuW107YXx8KGE9e29mZjohMSxub25FZGl0YWJsZTohMSxuZXN0ZWRFZGl0YWJsZTohMX0pO2Eub2ZmfHxcIm9mZlwiIT10aGlzLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1wcm9jZXNzb3JcIl18fGIucHVzaChcIm9mZlwiLCEwKTthLm5vbkVkaXRhYmxlfHxcImZhbHNlXCIhPXRoaXMuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGU/YS5ub25FZGl0YWJsZSYmIWEubmVzdGVkRWRpdGFibGUmJlwidHJ1ZVwiPT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlJiZiLnB1c2goXCJuZXN0ZWRFZGl0YWJsZVwiLCEwKTpiLnB1c2goXCJub25FZGl0YWJsZVwiLCEwKTtpZihiLmxlbmd0aCl7YT1DS0VESVRPUi50b29scy5jb3B5KGEpO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCs9MilhW2JbZF1dPWJbZCsxXX1yZXR1cm4gYX19LCEwKX0pKCk7XG4oZnVuY3Rpb24oKXt2YXIgYT0veyhbXn1dKyl9L2c7Q0tFRElUT1IudGVtcGxhdGU9ZnVuY3Rpb24oYSl7dGhpcy5zb3VyY2U9U3RyaW5nKGEpfTtDS0VESVRPUi50ZW1wbGF0ZS5wcm90b3R5cGUub3V0cHV0PWZ1bmN0aW9uKGQsYil7dmFyIGM9dGhpcy5zb3VyY2UucmVwbGFjZShhLGZ1bmN0aW9uKGEsYil7cmV0dXJuIHZvaWQgMCE9PWRbYl0/ZFtiXTphfSk7cmV0dXJuIGI/Yi5wdXNoKGMpOmN9fSkoKTtkZWxldGUgQ0tFRElUT1IubG9hZEZ1bGxDb3JlO0NLRURJVE9SLmluc3RhbmNlcz17fTtDS0VESVRPUi5kb2N1bWVudD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50KGRvY3VtZW50KTtcbkNLRURJVE9SLmFkZD1mdW5jdGlvbihhKXtDS0VESVRPUi5pbnN0YW5jZXNbYS5uYW1lXT1hO2Eub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlIT1hJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPWEsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTthLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IuY3VycmVudEluc3RhbmNlPT1hJiYoQ0tFRElUT1IuY3VycmVudEluc3RhbmNlPW51bGwsQ0tFRElUT1IuZmlyZShcImN1cnJlbnRJbnN0YW5jZVwiKSl9KTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VcIixudWxsLGEpfTtDS0VESVRPUi5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIENLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdfTtcbihmdW5jdGlvbigpe3ZhciBhPXt9O0NLRURJVE9SLmFkZFRlbXBsYXRlPWZ1bmN0aW9uKGQsYil7dmFyIGM9YVtkXTtpZihjKXJldHVybiBjO2M9e25hbWU6ZCxzb3VyY2U6Yn07Q0tFRElUT1IuZmlyZShcInRlbXBsYXRlXCIsYyk7cmV0dXJuIGFbZF09bmV3IENLRURJVE9SLnRlbXBsYXRlKGMuc291cmNlKX07Q0tFRElUT1IuZ2V0VGVtcGxhdGU9ZnVuY3Rpb24oZCl7cmV0dXJuIGFbZF19fSkoKTsoZnVuY3Rpb24oKXt2YXIgYT1bXTtDS0VESVRPUi5hZGRDc3M9ZnVuY3Rpb24oZCl7YS5wdXNoKGQpfTtDS0VESVRPUi5nZXRDc3M9ZnVuY3Rpb24oKXtyZXR1cm4gYS5qb2luKFwiXFxuXCIpfX0pKCk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuaXNFbXB0eSh0aGlzLmluc3RhbmNlcykmJkNLRURJVE9SLmZpcmUoXCJyZXNldFwiKX0pO0NLRURJVE9SLlRSSVNUQVRFX09OPTE7Q0tFRElUT1IuVFJJU1RBVEVfT0ZGPTI7XG5DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD0wO1xuKGZ1bmN0aW9uKCl7Q0tFRElUT1IuaW5saW5lPWZ1bmN0aW9uKGEsZCl7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpcmV0dXJuIG51bGw7YT1DS0VESVRPUi5kb20uZWxlbWVudC5nZXQoYSk7aWYoYS5nZXRFZGl0b3IoKSl0aHJvdydUaGUgZWRpdG9yIGluc3RhbmNlIFwiJythLmdldEVkaXRvcigpLm5hbWUrJ1wiIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgYj1uZXcgQ0tFRElUT1IuZWRpdG9yKGQsYSxDS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKSxjPWEuaXMoXCJ0ZXh0YXJlYVwiKT9hOm51bGw7Yz8oYi5zZXREYXRhKGMuZ2V0VmFsdWUoKSxudWxsLCEwKSxhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjb250ZW50ZWRpdGFibGVcXHgzZFwiJyshIWIucmVhZE9ubHkrJ1wiIGNsYXNzXFx4M2RcImNrZV90ZXh0YXJlYV9pbmxpbmVcIlxceDNlJytjLmdldFZhbHVlKCkrXCJcXHgzYy9kaXZcXHgzZVwiLENLRURJVE9SLmRvY3VtZW50KSxcbmEuaW5zZXJ0QWZ0ZXIoYyksYy5oaWRlKCksYy4kLmZvcm0mJmIuX2F0dGFjaFRvRm9ybSgpKTpiLnNldERhdGEoYS5nZXRIdG1sKCksbnVsbCwhMCk7Yi5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7Yi5maXJlKFwidWlSZWFkeVwiKTtiLmVkaXRhYmxlKGEpO2IuY29udGFpbmVyPWE7Yi51aS5jb250ZW50c0VsZW1lbnQ9YTtiLnNldERhdGEoYi5nZXREYXRhKDEpKTtiLnJlc2V0RGlydHkoKTtiLmZpcmUoXCJjb250ZW50RG9tXCIpO2IubW9kZT1cInd5c2l3eWdcIjtiLmZpcmUoXCJtb2RlXCIpO2Iuc3RhdHVzPVwicmVhZHlcIjtiLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VSZWFkeVwiLG51bGwsYil9LG51bGwsbnVsbCwxRTQpO2Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjJiYoYi5jb250YWluZXIuY2xlYXJDdXN0b21EYXRhKCksYi5jb250YWluZXIucmVtb3ZlKCksYy5zaG93KCkpO2IuZWxlbWVudC5jbGVhckN1c3RvbURhdGEoKTtkZWxldGUgYi5lbGVtZW50fSk7XG5yZXR1cm4gYn07Q0tFRElUT1IuaW5saW5lQWxsPWZ1bmN0aW9uKCl7dmFyIGEsZCxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kZWRpdGFibGUpZm9yKHZhciBjPUNLRURJVE9SLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWcoYiksZT0wLGc9Yy5jb3VudCgpO2U8ZztlKyspYT1jLmdldEl0ZW0oZSksXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZD17ZWxlbWVudDphLGNvbmZpZzp7fX0sITEhPT1DS0VESVRPUi5maXJlKFwiaW5saW5lXCIsZCkmJkNLRURJVE9SLmlubGluZShhLGQuY29uZmlnKSl9O0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7IUNLRURJVE9SLmRpc2FibGVBdXRvSW5saW5lJiZDS0VESVRPUi5pbmxpbmVBbGwoKX0pfSkoKTtDS0VESVRPUi5yZXBsYWNlQ2xhc3M9XCJja2VkaXRvclwiO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGUsZyxoKXtpZighQ0tFRElUT1IuZW52LmlzQ29tcGF0aWJsZSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLmRvbS5lbGVtZW50LmdldChhKTtpZihhLmdldEVkaXRvcigpKXRocm93J1RoZSBlZGl0b3IgaW5zdGFuY2UgXCInK2EuZ2V0RWRpdG9yKCkubmFtZSsnXCIgaXMgYWxyZWFkeSBhdHRhY2hlZCB0byB0aGUgcHJvdmlkZWQgZWxlbWVudC4nO3ZhciBrPW5ldyBDS0VESVRPUi5lZGl0b3IoZSxhLGgpO2g9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYS5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKSxrLl8ucmVxdWlyZWQ9YS5oYXNBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSxhLnJlbW92ZUF0dHJpYnV0ZShcInJlcXVpcmVkXCIpKTtnJiZrLnNldERhdGEoZyxudWxsLCEwKTtrLm9uKFwibG9hZGVkXCIsZnVuY3Rpb24oKXtiKGspO2g9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiZrLmNvbmZpZy5hdXRvVXBkYXRlRWxlbWVudCYmXG5hLiQuZm9ybSYmay5fYXR0YWNoVG9Gb3JtKCk7ay5zZXRNb2RlKGsuY29uZmlnLnN0YXJ0dXBNb2RlLGZ1bmN0aW9uKCl7ay5yZXNldERpcnR5KCk7ay5zdGF0dXM9XCJyZWFkeVwiO2suZmlyZU9uY2UoXCJpbnN0YW5jZVJlYWR5XCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZVJlYWR5XCIsbnVsbCxrKX0pfSk7ay5vbihcImRlc3Ryb3lcIixkKTtyZXR1cm4ga31mdW5jdGlvbiBkKCl7dmFyIGE9dGhpcy5jb250YWluZXIsYj10aGlzLmVsZW1lbnQ7YSYmKGEuY2xlYXJDdXN0b21EYXRhKCksYS5yZW1vdmUoKSk7YiYmKGIuY2xlYXJDdXN0b21EYXRhKCksdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UmJihiLnNob3coKSx0aGlzLl8ucmVxdWlyZWQmJmIuc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIixcInJlcXVpcmVkXCIpKSxkZWxldGUgdGhpcy5lbGVtZW50KX1mdW5jdGlvbiBiKGEpe3ZhciBiPWEubmFtZSxkPWEuZWxlbWVudCxoPWEuZWxlbWVudE1vZGUsaz1cbmEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLG49YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcImJvdHRvbVwiLGh0bWw6XCJcIn0pLmh0bWwscT1uZXcgQ0tFRElUT1IudGVtcGxhdGUoJ1xceDNje291dGVyRWx9IGlkXFx4M2RcImNrZV97bmFtZX1cIiBjbGFzc1xceDNkXCJ7aWR9IGNrZSBja2VfcmVzZXQgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2Vfe2xhbmdEaXJ9ICcrQ0tFRElUT1IuZW52LmNzc0NsYXNzKydcIiAgZGlyXFx4M2RcIntsYW5nRGlyfVwiIGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIHJvbGVcXHgzZFwiYXBwbGljYXRpb25cIicrKGEudGl0bGU/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCInOlwiXCIpK1wiXFx4M2VcIisoYS50aXRsZT8nXFx4M2NzcGFuIGlkXFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2V7dm9pY2VMYWJlbH1cXHgzYy9zcGFuXFx4M2UnOlwiXCIpKydcXHgzY3tvdXRlckVsfSBjbGFzc1xceDNkXCJja2VfaW5uZXIgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle3RvcEh0bWx9XFx4M2N7b3V0ZXJFbH0gaWRcXHgzZFwie2NvbnRlbnRJZH1cIiBjbGFzc1xceDNkXCJja2VfY29udGVudHMgY2tlX3Jlc2V0XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2Mve291dGVyRWx9XFx4M2V7Ym90dG9tSHRtbH1cXHgzYy97b3V0ZXJFbH1cXHgzZVxceDNjL3tvdXRlckVsfVxceDNlJyksXG5iPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKHEub3V0cHV0KHtpZDphLmlkLG5hbWU6YixsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSx2b2ljZUxhYmVsOmEudGl0bGUsdG9wSHRtbDprPydcXHgzY3NwYW4gaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJ0b3BcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b3AgY2tlX3Jlc2V0X2FsbFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgc3R5bGVcXHgzZFwiaGVpZ2h0OmF1dG9cIlxceDNlJytrK1wiXFx4M2Mvc3BhblxceDNlXCI6XCJcIixjb250ZW50SWQ6YS51aS5zcGFjZUlkKFwiY29udGVudHNcIiksYm90dG9tSHRtbDpuPydcXHgzY3NwYW4gaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJib3R0b21cIikrJ1wiIGNsYXNzXFx4M2RcImNrZV9ib3R0b20gY2tlX3Jlc2V0X2FsbFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScrbitcIlxceDNjL3NwYW5cXHgzZVwiOlwiXCIsb3V0ZXJFbDpDS0VESVRPUi5lbnYuaWU/XCJzcGFuXCI6XCJkaXZcIn0pKTtoPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9cbihkLmhpZGUoKSxiLmluc2VydEFmdGVyKGQpKTpkLmFwcGVuZChiKTthLmNvbnRhaW5lcj1iO2EudWkuY29udGVudHNFbGVtZW50PWEudWkuc3BhY2UoXCJjb250ZW50c1wiKTtrJiZhLnVpLnNwYWNlKFwidG9wXCIpLnVuc2VsZWN0YWJsZSgpO24mJmEudWkuc3BhY2UoXCJib3R0b21cIikudW5zZWxlY3RhYmxlKCk7ZD1hLmNvbmZpZy53aWR0aDtoPWEuY29uZmlnLmhlaWdodDtkJiZiLnNldFN0eWxlKFwid2lkdGhcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoZCkpO2gmJmEudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRTdHlsZShcImhlaWdodFwiLENLRURJVE9SLnRvb2xzLmNzc0xlbmd0aChoKSk7Yi5kaXNhYmxlQ29udGV4dE1lbnUoKTtDS0VESVRPUi5lbnYud2Via2l0JiZiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuZm9jdXMoKX0pO2EuZmlyZU9uY2UoXCJ1aVJlYWR5XCIpfUNLRURJVE9SLnJlcGxhY2U9ZnVuY3Rpb24oYixkKXtyZXR1cm4gYShiLGQsbnVsbCxDS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSl9O1xuQ0tFRElUT1IuYXBwZW5kVG89ZnVuY3Rpb24oYixkLGcpe3JldHVybiBhKGIsZCxnLENLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTyl9O0NLRURJVE9SLnJlcGxhY2VBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIGE9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0ZXh0YXJlYVwiKSxiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBkPW51bGwsaD1hW2JdO2lmKGgubmFtZXx8aC5pZCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGFyZ3VtZW50c1swXSl7aWYoIShuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithcmd1bWVudHNbMF0rXCIoPzokfFxcXFxzKVwiKSkudGVzdChoLmNsYXNzTmFtZSkpY29udGludWV9ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0mJihkPXt9LCExPT09YXJndW1lbnRzWzBdKGgsZCkpKWNvbnRpbnVlO3RoaXMucmVwbGFjZShoLGQpfX19O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuYWRkTW9kZT1mdW5jdGlvbihhLGIpeyh0aGlzLl8ubW9kZXN8fCh0aGlzLl8ubW9kZXM9XG57fSkpW2FdPWJ9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2V0TW9kZT1mdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsaD10aGlzLl8ubW9kZXM7aWYoYSE9ZC5tb2RlJiZoJiZoW2FdKXtkLmZpcmUoXCJiZWZvcmVTZXRNb2RlXCIsYSk7aWYoZC5tb2RlKXt2YXIgaz1kLmNoZWNrRGlydHkoKSxoPWQuXy5wcmV2aW91c01vZGVEYXRhLG4scT0wO2QuZmlyZShcImJlZm9yZU1vZGVVbmxvYWRcIik7ZC5lZGl0YWJsZSgwKTtkLl8ucHJldmlvdXNNb2RlPWQubW9kZTtkLl8ucHJldmlvdXNNb2RlRGF0YT1uPWQuZ2V0RGF0YSgxKTtcInNvdXJjZVwiPT1kLm1vZGUmJmg9PW4mJihkLmZpcmUoXCJsb2NrU25hcHNob3RcIix7Zm9yY2VVcGRhdGU6ITB9KSxxPTEpO2QudWkuc3BhY2UoXCJjb250ZW50c1wiKS5zZXRIdG1sKFwiXCIpO2QubW9kZT1cIlwifWVsc2UgZC5fLnByZXZpb3VzTW9kZURhdGE9ZC5nZXREYXRhKDEpO3RoaXMuXy5tb2Rlc1thXShmdW5jdGlvbigpe2QubW9kZT1hO3ZvaWQgMCE9PWsmJiFrJiZcbmQucmVzZXREaXJ0eSgpO3E/ZC5maXJlKFwidW5sb2NrU25hcHNob3RcIik6XCJ3eXNpd3lnXCI9PWEmJmQuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZC5maXJlKFwibW9kZVwiKTtiJiZiLmNhbGwoZCl9LDApfSl9fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbihhLGIsZCxoKXt2YXIgaz10aGlzLmNvbnRhaW5lcixuPXRoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKSxxPUNLRURJVE9SLmVudi53ZWJraXQmJnRoaXMuZG9jdW1lbnQmJnRoaXMuZG9jdW1lbnQuZ2V0V2luZG93KCkuJC5mcmFtZUVsZW1lbnQ7aD1oP3RoaXMuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pOms7aC5zZXRTaXplKFwid2lkdGhcIixhLCEwKTtxJiYocS5zdHlsZS53aWR0aD1cIjElXCIpO3ZhciBmPShoLiQub2Zmc2V0SGVpZ2h0fHwwKS0obi4kLmNsaWVudEhlaWdodHx8XG4wKSxrPU1hdGgubWF4KGItKGQ/MDpmKSwwKTtiPWQ/YitmOmI7bi5zZXRTdHlsZShcImhlaWdodFwiLGsrXCJweFwiKTtxJiYocS5zdHlsZS53aWR0aD1cIjEwMCVcIik7dGhpcy5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmIsY29udGVudHNIZWlnaHQ6ayxvdXRlcldpZHRoOmF8fGguZ2V0U2l6ZShcIndpZHRoXCIpfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZ2V0UmVzaXphYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMudWkuc3BhY2UoXCJjb250ZW50c1wiKTp0aGlzLmNvbnRhaW5lcn07Q0tFRElUT1IuZG9tUmVhZHkoZnVuY3Rpb24oKXtDS0VESVRPUi5yZXBsYWNlQ2xhc3MmJkNLRURJVE9SLnJlcGxhY2VBbGwoQ0tFRElUT1IucmVwbGFjZUNsYXNzKX0pfSkoKTtDS0VESVRPUi5jb25maWcuc3RhcnR1cE1vZGU9XCJ3eXNpd3lnXCI7XG4oZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBiPWEuZWRpdG9yLGU9YS5kYXRhLnBhdGgsZj1lLmJsb2NrTGltaXQsZz1hLmRhdGEuc2VsZWN0aW9uLHU9Zy5nZXRSYW5nZXMoKVswXSx5O2lmKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcilpZihnPWQoZyxlKSlnLmFwcGVuZEJvZ3VzKCkseT1DS0VESVRPUi5lbnYuaWU7aChiLGUuYmxvY2ssZikmJnUuY29sbGFwc2VkJiYhdS5nZXRDb21tb25BbmNlc3RvcigpLmlzUmVhZE9ubHkoKSYmKGU9dS5jbG9uZSgpLGUuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0JMT0NLX0NPTlRFTlRTKSxmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpLGYuZ3VhcmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIWMoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UfHxhLmlzUmVhZE9ubHkoKX0sIWYuY2hlY2tGb3J3YXJkKCl8fGUuY2hlY2tTdGFydE9mQmxvY2soKSYmZS5jaGVja0VuZE9mQmxvY2soKSkmJlxuKGI9dS5maXhCbG9jayghMCxiLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCIpLENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHwoYj1iLmdldEZpcnN0KGMpKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpLm1hdGNoKC9eKD86Jm5ic3A7fFxceGEwKSQvKSYmYi5yZW1vdmUoKSx5PTEsYS5jYW5jZWwoKSk7eSYmdS5zZWxlY3QoKX1mdW5jdGlvbiBkKGEsYil7aWYoYS5pc0Zha2UpcmV0dXJuIDA7dmFyIGQ9Yi5ibG9ja3x8Yi5ibG9ja0xpbWl0LGU9ZCYmZC5nZXRMYXN0KGMpO2lmKCEoIWR8fCFkLmlzQmxvY2tCb3VuZGFyeSgpfHxlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5pc0Jsb2NrQm91bmRhcnkoKXx8ZC5pcyhcInByZVwiKXx8ZC5nZXRCb2d1cygpKSlyZXR1cm4gZH1mdW5jdGlvbiBiKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiLmlzKFwiaW5wdXRcIikmJlxuKGI9Yi5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLFwic3VibWl0XCIhPWImJlwicmVzZXRcIiE9Ynx8YS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGYoYSkmJkQoYSl9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEuJC50b0VsZW1lbnR8fGMuZGF0YS4kLmZyb21FbGVtZW50fHxjLmRhdGEuJC5yZWxhdGVkVGFyZ2V0OyhkPWQmJmQubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZCk6bnVsbCkmJihiLmVxdWFscyhkKXx8Yi5jb250YWlucyhkKSl8fGEuY2FsbCh0aGlzLGMpfX1mdW5jdGlvbiBnKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXMoZikmJihkPWIpO2lmKCEoZXx8IWMoYil8fGEmJkEoYikpKXJldHVybiExfX12YXIgZCxlPWEuZ2V0UmFuZ2VzKClbMF07YT1hLnJvb3Q7XG52YXIgZj17dGFibGU6MSx1bDoxLG9sOjEsZGw6MX07aWYoZS5zdGFydFBhdGgoKS5jb250YWlucyhmKSl7dmFyIHU9ZS5jbG9uZSgpO3UuY29sbGFwc2UoMSk7dS5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodSk7YS5ndWFyZD1iKCk7YS5jaGVja0JhY2t3YXJkKCk7aWYoZClyZXR1cm4gdT1lLmNsb25lKCksdS5jb2xsYXBzZSgpLHUuc2V0RW5kQXQoZCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGE9bmV3IENLRURJVE9SLmRvbS53YWxrZXIodSksYS5ndWFyZD1iKCEwKSxkPSExLGEuY2hlY2tGb3J3YXJkKCksZH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBoKGEsYixjKXtyZXR1cm4hMSE9PWEuY29uZmlnLmF1dG9QYXJhZ3JhcGgmJmEuYWN0aXZlRW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKGEuZWRpdGFibGUoKS5lcXVhbHMoYykmJiFifHxiJiZcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfVxuZnVuY3Rpb24gayhhKXtyZXR1cm4gYS5hY3RpdmVFbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYhMSE9PWEuY29uZmlnLmF1dG9QYXJhZ3JhcGg/YS5hY3RpdmVFbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOiExfWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5lZGl0b3I7Yi5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDApfWZ1bmN0aW9uIHEoYSxiLGMpe3ZhciBkPWEuZ2V0Q29tbW9uQW5jZXN0b3IoYik7Zm9yKGI9YT1jP2I6YTsoYT1hLmdldFBhcmVudCgpKSYmIWQuZXF1YWxzKGEpJiYxPT1hLmdldENoaWxkQ291bnQoKTspYj1hO2IucmVtb3ZlKCl9dmFyIGYsRCx3LEEsRyx4LG0sSyx6LEk7Q0tFRElUT1IuZWRpdGFibGU9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IuZG9tLmVsZW1lbnQsJDpmdW5jdGlvbihhLGIpe3RoaXMuYmFzZShiLiR8fFxuYik7dGhpcy5lZGl0b3I9YTt0aGlzLnN0YXR1cz1cInVubG9hZGVkXCI7dGhpcy5oYXNGb2N1cz0hMTt0aGlzLnNldHVwKCl9LHByb3RvOntmb2N1czpmdW5jdGlvbigpe3ZhciBhO2lmKENLRURJVE9SLmVudi53ZWJraXQmJiF0aGlzLmhhc0ZvY3VzJiYoYT10aGlzLmVkaXRvci5fLnByZXZpb3VzQWN0aXZlfHx0aGlzLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCksdGhpcy5jb250YWlucyhhKSkpe2EuZm9jdXMoKTtyZXR1cm59Q0tFRElUT1IuZW52LmVkZ2UmJjE0PENLRURJVE9SLmVudi52ZXJzaW9uJiYhdGhpcy5oYXNGb2N1cyYmdGhpcy5nZXREb2N1bWVudCgpLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudCkmJih0aGlzLmVkaXRvci5fLnByZXZpb3VzU2Nyb2xsVG9wPXRoaXMuJC5zY3JvbGxUb3ApO3RyeXtpZighQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb258fCF0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSlpZihDS0VESVRPUi5lbnYuY2hyb21lKXt2YXIgYj1cbnRoaXMuJC5zY3JvbGxUb3A7dGhpcy4kLmZvY3VzKCk7dGhpcy4kLnNjcm9sbFRvcD1ifWVsc2UgdGhpcy4kLmZvY3VzKCk7ZWxzZSB0aGlzLiQuc2V0QWN0aXZlKCl9Y2F0Y2goYyl7aWYoIUNLRURJVE9SLmVudi5pZSl0aHJvdyBjO31DS0VESVRPUi5lbnYuc2FmYXJpJiYhdGhpcy5pc0lubGluZSgpJiYoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSxhLmVxdWFscyh0aGlzLmdldFdpbmRvdygpLmdldEZyYW1lKCkpfHx0aGlzLmdldFdpbmRvdygpLmZvY3VzKCkpfSxvbjpmdW5jdGlvbihhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTtDS0VESVRPUi5lbnYuaWUmJi9eZm9jdXN8Ymx1ciQvLmV4ZWMoYSkmJihhPVwiZm9jdXNcIj09YT9cImZvY3VzaW5cIjpcImZvY3Vzb3V0XCIsYj1lKGIsdGhpcyksY1swXT1hLGNbMV09Yik7cmV0dXJuIENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5vbi5hcHBseSh0aGlzLGMpfSxhdHRhY2hMaXN0ZW5lcjpmdW5jdGlvbihhKXshdGhpcy5fLmxpc3RlbmVycyYmXG4odGhpcy5fLmxpc3RlbmVycz1bXSk7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGI9YS5vbi5hcHBseShhLGIpO3RoaXMuXy5saXN0ZW5lcnMucHVzaChiKTtyZXR1cm4gYn0sY2xlYXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8ubGlzdGVuZXJzO3RyeXtmb3IoO2EubGVuZ3RoOylhLnBvcCgpLnJlbW92ZUxpc3RlbmVyKCl9Y2F0Y2goYil7fX0scmVzdG9yZUF0dHJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmF0dHJDaGFuZ2VzLGIsYztmb3IoYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJihiPWFbY10sbnVsbCE9PWI/dGhpcy5zZXRBdHRyaWJ1dGUoYyxiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShjKSl9LGF0dGFjaENsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImNsYXNzZXNcIik7dGhpcy5oYXNDbGFzcyhhKXx8KCFiJiYoYj1bXSksYi5wdXNoKGEpLHRoaXMuc2V0Q3VzdG9tRGF0YShcImNsYXNzZXNcIixcbmIpLHRoaXMuYWRkQ2xhc3MoYSkpfSxjaGFuZ2VBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7YiE9PWMmJighdGhpcy5fLmF0dHJDaGFuZ2VzJiYodGhpcy5fLmF0dHJDaGFuZ2VzPXt9KSxhIGluIHRoaXMuXy5hdHRyQ2hhbmdlc3x8KHRoaXMuXy5hdHRyQ2hhbmdlc1thXT1jKSx0aGlzLnNldEF0dHJpYnV0ZShhLGIpKX0saW5zZXJ0VGV4dDpmdW5jdGlvbihhKXt0aGlzLmVkaXRvci5mb2N1cygpO3RoaXMuaW5zZXJ0SHRtbCh0aGlzLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChhKSxcInRleHRcIil9LHRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKS5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk/Q0tFRElUT1IuRU5URVJfQlI6dGhpcy5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlO3JldHVybiBDS0VESVRPUi50b29scy50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoYSxcbmIpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmVkaXRvcjtkLmZvY3VzKCk7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2N8fChjPWQuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0pO3godGhpcyxifHxcImh0bWxcIixhLGMpO2Muc2VsZWN0KCk7bih0aGlzKTt0aGlzLmVkaXRvci5maXJlKFwiYWZ0ZXJJbnNlcnRIdG1sXCIse30pfSxpbnNlcnRIdG1sSW50b1JhbmdlOmZ1bmN0aW9uKGEsYixjKXt4KHRoaXMsY3x8XCJodG1sXCIsYSxiKTt0aGlzLmVkaXRvci5maXJlKFwiYWZ0ZXJJbnNlcnRIdG1sXCIse2ludG9SYW5nZTpifSl9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLmVkaXRvcjtkLmZvY3VzKCk7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3ZhciBlPWQuYWN0aXZlRW50ZXJNb2RlLGQ9ZC5nZXRTZWxlY3Rpb24oKSxmPWEuZ2V0TmFtZSgpLGY9Q0tFRElUT1IuZHRkLiRibG9ja1tmXTtifHwoYj1kLmdldFJhbmdlcygpWzBdKTt0aGlzLmluc2VydEVsZW1lbnRJbnRvUmFuZ2UoYSxcbmIpJiYoYi5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZiYmKChmPWEuZ2V0TmV4dChmdW5jdGlvbihhKXtyZXR1cm4gYyhhKSYmIUEoYSl9KSkmJmYudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZmLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spP2YuZ2V0RHRkKClbXCIjXCJdP2IubW92ZVRvRWxlbWVudEVkaXRTdGFydChmKTpiLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGEpOmZ8fGU9PUNLRURJVE9SLkVOVEVSX0JSfHwoZj1iLmZpeEJsb2NrKCEwLGU9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiKSxiLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZikpKSk7ZC5zZWxlY3RSYW5nZXMoW2JdKTtuKHRoaXMpfSxpbnNlcnRFbGVtZW50SW50b1NlbGVjdGlvbjpmdW5jdGlvbihhKXt0aGlzLmluc2VydEVsZW1lbnQoYSl9LGluc2VydEVsZW1lbnRJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmVkaXRvcixkPWMuY29uZmlnLmVudGVyTW9kZSxcbmU9YS5nZXROYW1lKCksZj1DS0VESVRPUi5kdGQuJGJsb2NrW2VdO2lmKGIuY2hlY2tSZWFkT25seSgpKXJldHVybiExO2IuZGVsZXRlQ29udGVudHMoMSk7Yi5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLnN0YXJ0Q29udGFpbmVyLmlzKHt0cjoxLHRhYmxlOjEsdGJvZHk6MSx0aGVhZDoxLHRmb290OjF9KT9tKGIpOmIuc3RhcnRDb250YWluZXIuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KSYmSyhiKSk7dmFyIGcsdjtpZihmKWZvcig7KGc9Yi5nZXRDb21tb25BbmNlc3RvcigwLDEpKSYmKHY9Q0tFRElUT1IuZHRkW2cuZ2V0TmFtZSgpXSkmJighdnx8IXZbZV0pOylnLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC5zcGFuP2Iuc3BsaXRFbGVtZW50KGcpOmIuY2hlY2tTdGFydE9mQmxvY2soKSYmYi5jaGVja0VuZE9mQmxvY2soKT8oYi5zZXRTdGFydEJlZm9yZShnKSxiLmNvbGxhcHNlKCEwKSxnLnJlbW92ZSgpKTpiLnNwbGl0QmxvY2soZD09Q0tFRElUT1IuRU5URVJfRElWP1xuXCJkaXZcIjpcInBcIixjLmVkaXRhYmxlKCkpO2IuaW5zZXJ0Tm9kZShhKTtyZXR1cm4hMH0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe2J8fChhPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEpKTt0aGlzLnNldEh0bWwoYSk7dGhpcy5maXhJbml0aWFsU2VsZWN0aW9uKCk7XCJ1bmxvYWRlZFwiPT10aGlzLnN0YXR1cyYmKHRoaXMuc3RhdHVzPVwicmVhZHlcIik7dGhpcy5lZGl0b3IuZmlyZShcImRhdGFSZWFkeVwiKX0sZ2V0RGF0YTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldEh0bWwoKTthfHwoYj10aGlzLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChiKSk7cmV0dXJuIGJ9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe3RoaXMuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsIWEpfSxkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUNsYXNzKFwiY2tlX2VkaXRhYmxlXCIpO3RoaXMuc3RhdHVzPVwiZGV0YWNoZWRcIjt2YXIgYT10aGlzLmVkaXRvcjt0aGlzLl8uZGV0YWNoKCk7XG5kZWxldGUgYS5kb2N1bWVudDtkZWxldGUgYS53aW5kb3d9LGlzSW5saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpfSxmaXhJbml0aWFsU2VsZWN0aW9uOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBiPWMuZ2V0RG9jdW1lbnQoKS4kLGQ9Yi5nZXRTZWxlY3Rpb24oKSxlO2E6aWYoZC5hbmNob3JOb2RlJiZkLmFuY2hvck5vZGU9PWMuJCllPSEwO2Vsc2V7aWYoQ0tFRElUT1IuZW52LndlYmtpdCYmKGU9Yy5nZXREb2N1bWVudCgpLmdldEFjdGl2ZSgpKSYmZS5lcXVhbHMoYykmJiFkLmFuY2hvck5vZGUpe2U9ITA7YnJlYWsgYX1lPXZvaWQgMH1lJiYoZT1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGMpLGUubW92ZVRvRWxlbWVudEVkaXRTdGFydChjKSxiPWIuY3JlYXRlUmFuZ2UoKSxiLnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIuJCxlLnN0YXJ0T2Zmc2V0KSxiLmNvbGxhcHNlKCEwKSxkLnJlbW92ZUFsbFJhbmdlcygpLFxuZC5hZGRSYW5nZShiKSl9ZnVuY3Rpb24gYigpe3ZhciBhPWMuZ2V0RG9jdW1lbnQoKS4kLGQ9YS5zZWxlY3Rpb24sZT1jLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCk7XCJOb25lXCI9PWQudHlwZSYmZS5lcXVhbHMoYykmJihkPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyksYT1hLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksZC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpLGQ9ZC5zdGFydENvbnRhaW5lcixkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQ9ZC5nZXRQYXJlbnQoKSksYS5tb3ZlVG9FbGVtZW50VGV4dChkLiQpLGEuY29sbGFwc2UoITApLGEuc2VsZWN0KCkpfXZhciBjPXRoaXM7aWYoQ0tFRElUT1IuZW52LmllJiYoOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8Q0tFRElUT1IuZW52LnF1aXJrcykpdGhpcy5oYXNGb2N1cyYmKHRoaXMuZm9jdXMoKSxiKCkpO2Vsc2UgaWYodGhpcy5oYXNGb2N1cyl0aGlzLmZvY3VzKCksYSgpO2Vsc2UgdGhpcy5vbmNlKFwiZm9jdXNcIixcbmZ1bmN0aW9uKCl7YSgpfSxudWxsLG51bGwsLTk5OSl9LGdldEh0bWxGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7aWYoYS5jb2xsYXBzZWQpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTthPXtkb2M6dGhpcy5nZXREb2N1bWVudCgpLHJhbmdlOmEuY2xvbmUoKX07ei5lb2wuZGV0ZWN0KGEsdGhpcyk7ei5ib2d1cy5leGNsdWRlKGEpO3ouY2VsbC5zaHJpbmsoYSk7YS5mcmFnbWVudD1hLnJhbmdlLmNsb25lQ29udGVudHMoKTt6LnRyZWUucmVidWlsZChhLHRoaXMpO3ouZW9sLmZpeChhLHRoaXMpO3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5mcmFnbWVudC4kKX0sZXh0cmFjdEh0bWxGcm9tUmFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1JLGQ9e3JhbmdlOmEsZG9jOmEuZG9jdW1lbnR9LGU9dGhpcy5nZXRIdG1sRnJvbVJhbmdlKGEpO2lmKGEuY29sbGFwc2VkKXJldHVybiBhLm9wdGltaXplKCksZTthLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsXG4xKTtjLnRhYmxlLmRldGVjdFB1cmdlKGQpO2QuYm9va21hcms9YS5jcmVhdGVCb29rbWFyaygpO2RlbGV0ZSBkLnJhbmdlO3ZhciBmPXRoaXMuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7Zi5tb3ZlVG9Qb3NpdGlvbihkLmJvb2ttYXJrLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2QudGFyZ2V0Qm9va21hcms9Zi5jcmVhdGVCb29rbWFyaygpO2MubGlzdC5kZXRlY3RNZXJnZShkLHRoaXMpO2MudGFibGUuZGV0ZWN0UmFuZ2VzKGQsdGhpcyk7Yy5ibG9jay5kZXRlY3RNZXJnZShkLHRoaXMpO2QudGFibGVDb250ZW50c1Jhbmdlcz8oYy50YWJsZS5kZWxldGVSYW5nZXMoZCksYS5tb3ZlVG9Cb29rbWFyayhkLmJvb2ttYXJrKSxkLnJhbmdlPWEpOihhLm1vdmVUb0Jvb2ttYXJrKGQuYm9va21hcmspLGQucmFuZ2U9YSxhLmV4dHJhY3RDb250ZW50cyhjLmRldGVjdEV4dHJhY3RNZXJnZShkKSkpO2EubW92ZVRvQm9va21hcmsoZC50YXJnZXRCb29rbWFyayk7YS5vcHRpbWl6ZSgpO1xuYy5maXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbihhKTtjLmxpc3QubWVyZ2UoZCx0aGlzKTtjLnRhYmxlLnB1cmdlKGQsdGhpcyk7Yy5ibG9jay5tZXJnZShkLHRoaXMpO2lmKGIpe2M9YS5zdGFydFBhdGgoKTtpZihkPWEuY2hlY2tTdGFydE9mQmxvY2soKSYmYS5jaGVja0VuZE9mQmxvY2soKSYmYy5ibG9jayYmIWEucm9vdC5lcXVhbHMoYy5ibG9jaykpe2E6e3ZhciBkPWMuYmxvY2suZ2V0RWxlbWVudHNCeVRhZyhcInNwYW5cIiksZj0wLGc7aWYoZClmb3IoO2c9ZC5nZXRJdGVtKGYrKyk7KWlmKCFEKGcpKXtkPSEwO2JyZWFrIGF9ZD0hMX1kPSFkfWQmJihhLm1vdmVUb1Bvc2l0aW9uKGMuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxjLmJsb2NrLnJlbW92ZSgpKX1lbHNlIGMuYXV0b1BhcmFncmFwaCh0aGlzLmVkaXRvcixhKSx3KGEuc3RhcnRDb250YWluZXIpJiZhLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS5zdGFydENvbnRhaW5lci5tZXJnZVNpYmxpbmdzKCk7XG5yZXR1cm4gZX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcjt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVHZXREYXRhXCIsZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldERhdGEoKTt0aGlzLmlzKFwidGV4dGFyZWFcIil8fCExIT09YS5jb25maWcuaWdub3JlRW1wdHlQYXJhZ3JhcGgmJihiPWIucmVwbGFjZShHLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGJ9KSk7YS5zZXREYXRhKGIsbnVsbCwxKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiZ2V0U25hcHNob3RcIixmdW5jdGlvbihhKXthLmRhdGE9dGhpcy5nZXREYXRhKDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJhZnRlclNldERhdGFcIixmdW5jdGlvbigpe3RoaXMuc2V0RGF0YShhLmdldERhdGEoMSkpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJsb2FkU25hcHNob3RcIixmdW5jdGlvbihhKXt0aGlzLnNldERhdGEoYS5kYXRhLDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXG5cImJlZm9yZUZvY3VzXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpOyhiPWImJmIuZ2V0TmF0aXZlKCkpJiZcIkNvbnRyb2xcIj09Yi50eXBlfHx0aGlzLmZvY3VzKCl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydEh0bWxcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydEh0bWwoYS5kYXRhLmRhdGFWYWx1ZSxhLmRhdGEubW9kZSxhLmRhdGEucmFuZ2UpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oYSl7dGhpcy5pbnNlcnRFbGVtZW50KGEuZGF0YSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydFRleHRcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydFRleHQoYS5kYXRhKX0sdGhpcyk7dGhpcy5zZXRSZWFkT25seShhLnJlYWRPbmx5KTt0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpO2EuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/dGhpcy5hdHRhY2hDbGFzcyhcImNrZV9lZGl0YWJsZV9pbmxpbmVcIik6XG5hLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHx0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlX3RoZW1lZFwiKTt0aGlzLmF0dGFjaENsYXNzKFwiY2tlX2NvbnRlbnRzX1wiK2EuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbik7YS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzWzhdPSthLnJlYWRPbmx5O2Eua2V5c3Ryb2tlSGFuZGxlci5hdHRhY2godGhpcyk7dGhpcy5vbihcImJsdXJcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9ITF9LG51bGwsbnVsbCwtMSk7dGhpcy5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmhhc0ZvY3VzPSEwfSxudWxsLG51bGwsLTEpO2lmKENLRURJVE9SLmVudi53ZWJraXQpdGhpcy5vbihcInNjcm9sbFwiLGZ1bmN0aW9uKCl7YS5fLnByZXZpb3VzU2Nyb2xsVG9wPWEuZWRpdGFibGUoKS4kLnNjcm9sbFRvcH0sbnVsbCxcbm51bGwsLTEpO2lmKENLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbil7dmFyIGQ9ZnVuY3Rpb24oKXt2YXIgYj1hLmVkaXRhYmxlKCk7bnVsbCE9YS5fLnByZXZpb3VzU2Nyb2xsVG9wJiZiLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSYmKGIuJC5zY3JvbGxUb3A9YS5fLnByZXZpb3VzU2Nyb2xsVG9wLGEuXy5wcmV2aW91c1Njcm9sbFRvcD1udWxsLHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixkKSl9O3RoaXMub24oXCJzY3JvbGxcIixkKX1hLmZvY3VzTWFuYWdlci5hZGQodGhpcyk7dGhpcy5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpJiYodGhpcy5oYXNGb2N1cz0hMCxhLm9uY2UoXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXthLmZvY3VzTWFuYWdlci5mb2N1cyh0aGlzKX0sdGhpcykpO3RoaXMuaXNJbmxpbmUoKSYmdGhpcy5jaGFuZ2VBdHRyKFwidGFiaW5kZXhcIixhLnRhYkluZGV4KTtpZighdGhpcy5pcyhcInRleHRhcmVhXCIpKXthLmRvY3VtZW50PVxudGhpcy5nZXREb2N1bWVudCgpO2Eud2luZG93PXRoaXMuZ2V0V2luZG93KCk7dmFyIGU9YS5kb2N1bWVudDt0aGlzLmNoYW5nZUF0dHIoXCJzcGVsbGNoZWNrXCIsIWEuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXIpO3ZhciBrPWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbjt0aGlzLmdldERpcmVjdGlvbigxKSE9ayYmdGhpcy5jaGFuZ2VBdHRyKFwiZGlyXCIsayk7dmFyIGg9Q0tFRElUT1IuZ2V0Q3NzKCk7aWYoaCl7dmFyIGs9ZS5nZXRIZWFkKCksdT1rLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIpO3U/aCE9dS5nZXRUZXh0KCkmJihDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/dS4kLnN0eWxlU2hlZXQuY3NzVGV4dD1oOnUuc2V0VGV4dChoKSk6KGg9ZS5hcHBlbmRTdHlsZVRleHQoaCksaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoaC5vd25lck5vZGV8fGgub3duaW5nRWxlbWVudCksay5zZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiLFxuaCksaC5kYXRhKFwiY2tlLXRlbXBcIiwxKSl9az1lLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiKXx8MDtlLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiLGsrMSk7dGhpcy5zZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiLCFhLmNvbmZpZy5kaXNhYmxlUmVhZG9ubHlTdHlsaW5nKTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO3ZhciBiPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0VGFyZ2V0KCksdGhpcykpLmNvbnRhaW5zKFwiYVwiKTtiJiYyIT1hLiQuYnV0dG9uJiZiLmlzUmVhZE9ubHkoKSYmYS5wcmV2ZW50RGVmYXVsdCgpfSk7dmFyIHk9ezg6MSw0NjoxfTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJrZXlcIixmdW5jdGlvbihiKXtpZihhLnJlYWRPbmx5KXJldHVybiEwO3ZhciBjPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKSxkO2I9YS5nZXRTZWxlY3Rpb24oKTtpZigwIT09Yi5nZXRSYW5nZXMoKS5sZW5ndGgpe2lmKGMgaW5cbnkpe3ZhciBlLHU9Yi5nZXRSYW5nZXMoKVswXSxwPXUuc3RhcnRQYXRoKCksQyx0LGssYz04PT1jO0NLRURJVE9SLmVudi5pZSYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24mJihlPWIuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpfHwoZT1nKGIpKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLHUubW92ZVRvUG9zaXRpb24oZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGUucmVtb3ZlKCksdS5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZD0xKTp1LmNvbGxhcHNlZCYmKChDPXAuYmxvY2spJiYoaz1DW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShmKSkmJmsudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmlzKFwidGFibGVcIikmJnVbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLHVbYz9cImNoZWNrRW5kT2ZCbG9ja1wiOlwiY2hlY2tTdGFydE9mQmxvY2tcIl0oKSYmQy5yZW1vdmUoKSx1W1wibW92ZVRvRWxlbWVudEVkaXRcIitcbihjP1wiRW5kXCI6XCJTdGFydFwiKV0oayksdS5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZD0xKTpwLmJsb2NrTGltaXQmJnAuYmxvY2tMaW1pdC5pcyhcInRkXCIpJiYodD1wLmJsb2NrTGltaXQuZ2V0QXNjZW5kYW50KFwidGFibGVcIikpJiZ1LmNoZWNrQm91bmRhcnlPZkVsZW1lbnQodCxjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCkmJihrPXRbYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGYpKT8oYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLHVbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhjP1wiRW5kXCI6XCJTdGFydFwiKV0oayksdS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZ1LmNoZWNrRW5kT2ZCbG9jaygpP2sucmVtb3ZlKCk6dS5zZWxlY3QoKSxhLmZpcmUoXCJzYXZlU25hcHNob3RcIiksZD0xKToodD1wLmNvbnRhaW5zKFtcInRkXCIsXCJ0aFwiLFwiY2FwdGlvblwiXSkpJiZ1LmNoZWNrQm91bmRhcnlPZkVsZW1lbnQodCxjP0NLRURJVE9SLlNUQVJUOkNLRURJVE9SLkVORCkmJihkPTEpKX1yZXR1cm4hZH19KTtcbmEuYmxvY2tsZXNzJiZDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZ0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJrZXl1cFwiLGZ1bmN0aW9uKGIpe2IuZGF0YS5nZXRLZXlzdHJva2UoKWluIHkmJiF0aGlzLmdldEZpcnN0KGMpJiYodGhpcy5hcHBlbmRCb2d1cygpLGI9YS5jcmVhdGVSYW5nZSgpLGIubW92ZVRvUG9zaXRpb24odGhpcyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYi5zZWxlY3QoKSl9KTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJkYmxjbGlja1wiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITE7Yj17ZWxlbWVudDpiLmRhdGEuZ2V0VGFyZ2V0KCl9O2EuZmlyZShcImRvdWJsZWNsaWNrXCIsYil9KTtDS0VESVRPUi5lbnYuaWUmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsYik7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2V8fHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNlZG93blwiLFxuZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmdldFRhcmdldCgpO2MuaXMoXCJpbWdcIixcImhyXCIsXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmIWMuaXNSZWFkT25seSgpJiYoYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGMpLGMuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSk7Q0tFRElUT1IuZW52LmVkZ2UmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXsoYj1iLmRhdGEuZ2V0VGFyZ2V0KCkpJiZiLmlzKFwiaW1nXCIpJiZhLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYil9KTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXtpZigyPT1iLmRhdGEuJC5idXR0b24mJihiPWIuZGF0YS5nZXRUYXJnZXQoKSwhYi5nZXRPdXRlckh0bWwoKS5yZXBsYWNlKEcsXCJcIikpKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7XG5jLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYik7Yy5zZWxlY3QoITApfX0pO0NLRURJVE9SLmVudi53ZWJraXQmJih0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KSk7Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDt2YXIgYz1iLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCk7aWYoYyBpbiB5JiYoYj1hLmdldFNlbGVjdGlvbigpLDAhPT1iLmdldFJhbmdlcygpLmxlbmd0aCkpe3ZhciBjPTg9PWMsZD1iLmdldFJhbmdlcygpWzBdO2I9ZC5zdGFydFBhdGgoKTtcbmlmKGQuY29sbGFwc2VkKWE6e3ZhciBlPWIuYmxvY2s7aWYoZSYmZFtjP1wiY2hlY2tTdGFydE9mQmxvY2tcIjpcImNoZWNrRW5kT2ZCbG9ja1wiXSgpJiZkLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGUsIWMpJiZkLmNvbGxhcHNlZCl7aWYoZC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBmPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldC0oYz8xOjApKTtpZihmJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5pcyhcImhyXCIpKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Zi5yZW1vdmUoKTtiPSEwO2JyZWFrIGF9fWQ9ZC5zdGFydFBhdGgoKS5ibG9jaztpZighZHx8ZCYmZC5jb250YWlucyhlKSliPXZvaWQgMDtlbHNle2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgcDsocD0oYz9kOmUpLmdldEJvZ3VzKCkpJiZwLnJlbW92ZSgpO3A9YS5nZXRTZWxlY3Rpb24oKTtmPXAuY3JlYXRlQm9va21hcmtzKCk7XG4oYz9lOmQpLm1vdmVDaGlsZHJlbihjP2Q6ZSwhMSk7Yi5sYXN0RWxlbWVudC5tZXJnZVNpYmxpbmdzKCk7cShlLGQsIWMpO3Auc2VsZWN0Qm9va21hcmtzKGYpO2I9ITB9fWVsc2UgYj0hMX1lbHNlIGM9ZCxwPWIuYmxvY2ssZD1jLmVuZFBhdGgoKS5ibG9jayxwJiZkJiYhcC5lcXVhbHMoZCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSwoZT1wLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpLGMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSksYy5kZWxldGVDb250ZW50cygpLGQuZ2V0UGFyZW50KCkmJihkLm1vdmVDaGlsZHJlbihwLCExKSxiLmxhc3RFbGVtZW50Lm1lcmdlU2libGluZ3MoKSxxKHAsZCwhMCkpLGM9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxjLmNvbGxhcHNlKDEpLGMub3B0aW1pemUoKSxcIlwiPT09Yy5zdGFydENvbnRhaW5lci5nZXRIdG1sKCkmJmMuc3RhcnRDb250YWluZXIuYXBwZW5kQm9ndXMoKSxjLnNlbGVjdCgpLGI9ITApOmI9ITE7aWYoIWIpcmV0dXJuO1xuYS5nZXRTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtyZXR1cm4hMX19LHRoaXMsbnVsbCwxMDApfX19LF86e2RldGFjaDpmdW5jdGlvbigpe3RoaXMuZWRpdG9yLnNldERhdGEodGhpcy5lZGl0b3IuZ2V0RGF0YSgpLDAsMSk7dGhpcy5jbGVhckxpc3RlbmVycygpO3RoaXMucmVzdG9yZUF0dHJzKCk7dmFyIGE7aWYoYT10aGlzLnJlbW92ZUN1c3RvbURhdGEoXCJjbGFzc2VzXCIpKWZvcig7YS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YT10aGlzLmdldERvY3VtZW50KCk7dmFyIGI9YS5nZXRIZWFkKCk7aWYoYi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKSl7dmFyIGM9YS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIik7LS1jP2Euc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsYyk6KGEucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpLGIucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikucmVtb3ZlKCkpfX10aGlzLmVkaXRvci5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTtcbmRlbGV0ZSB0aGlzLmVkaXRvcn19fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5lZGl0YWJsZT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZWRpdGFibGU7aWYoYiYmYSlyZXR1cm4gMDthcmd1bWVudHMubGVuZ3RoJiYoYj10aGlzLl8uZWRpdGFibGU9YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/YTpuZXcgQ0tFRElUT1IuZWRpdGFibGUodGhpcyxhKTooYiYmYi5kZXRhY2goKSxudWxsKSk7cmV0dXJuIGJ9O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihiKXt2YXIgYz1iLmVkaXRvcjtjLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5pcyhcImlucHV0XCIpfHxhLmlzKFwidGV4dGFyZWFcIikpJiYoXCJmYWxzZVwiIT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIsYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XG5cInRydWVcIjpcIjFcIiksYS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIiwhMSkpfSk7Yy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe2lmKCFjLnJlYWRPbmx5KXt2YXIgZD1jLmdldFNlbGVjdGlvbigpO2QmJiFkLmlzTG9ja2VkJiYoZD1jLmNoZWNrRGlydHkoKSxjLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYShiKSxjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSwhZCYmYy5yZXNldERpcnR5KCkpfX0pfSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKGEmJmEuaXNJbmxpbmUoKSl7dmFyIGM9Yi50aXRsZTthLmNoYW5nZUF0dHIoXCJyb2xlXCIsXCJ0ZXh0Ym94XCIpO2EuY2hhbmdlQXR0cihcImFyaWEtbGFiZWxcIixjKTtjJiZhLmNoYW5nZUF0dHIoXCJ0aXRsZVwiLGMpO3ZhciBkPWIuZmlyZShcImFyaWFFZGl0b3JIZWxwTGFiZWxcIix7fSkubGFiZWw7XG5pZihkJiYoYz10aGlzLnVpLnNwYWNlKHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/XCJ0b3BcIjpcImNvbnRlbnRzXCIpKSl7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZSsnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrZCtcIlxceDNjL3NwYW5cXHgzZVwiKTtjLmFwcGVuZChkKTthLmNoYW5nZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZSl9fX0pfSk7Q0tFRElUT1IuYWRkQ3NzKFwiLmNrZV9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX2VkaXRhYmxlIGltZywuY2tlX2VkaXRhYmxlIGlucHV0LC5ja2VfZWRpdGFibGUgdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO2Y9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7RD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKTt3PUNLRURJVE9SLmRvbS53YWxrZXIuZW1wdHkoKTtcbkE9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO0c9LyhefDxib2R5XFxiW14+XSo+KVxccyo8KHB8ZGl2fGFkZHJlc3N8aFxcZHxjZW50ZXJ8cHJlKVtePl0qPlxccyooPzo8YnJbXj5dKj58Jm5ic3A7fFxcdTAwQTB8JiMxNjA7KT9cXHMqKDo/PFxcL1xcMj4pP1xccyooPz0kfDxcXC9ib2R5PikvZ2k7eD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfWZ1bmN0aW9uIGIoYyxkKXt2YXIgZSxmLHUsZyx5PVtdLGs9ZC5yYW5nZS5zdGFydENvbnRhaW5lcjtlPWQucmFuZ2Uuc3RhcnRQYXRoKCk7Zm9yKHZhciBrPXZbay5nZXROYW1lKCldLGg9MCxCPWMuZ2V0Q2hpbGRyZW4oKSxuPUIuY291bnQoKSxMPS0xLHE9LTEsRT0wLEg9ZS5jb250YWlucyh2LiRsaXN0KTtoPG47KytoKWU9Qi5nZXRJdGVtKGgpLGEoZSk/KHU9ZS5nZXROYW1lKCksSCYmdSBpbiBDS0VESVRPUi5kdGQuJGxpc3Q/eT15LmNvbmNhdChiKGUsZCkpOihnPSEha1t1XSxcblwiYnJcIiE9dXx8IWUuZGF0YShcImNrZS1lb2xcIil8fGgmJmghPW4tMXx8KEU9KGY9aD95W2gtMV0ubm9kZTpCLmdldEl0ZW0oaCsxKSkmJighYShmKXx8IWYuaXMoXCJiclwiKSksZj1mJiZhKGYpJiZ2LiRibG9ja1tmLmdldE5hbWUoKV0pLC0xIT1MfHxnfHwoTD1oKSxnfHwocT1oKSx5LnB1c2goe2lzRWxlbWVudDoxLGlzTGluZUJyZWFrOkUsaXNCbG9jazplLmlzQmxvY2tCb3VuZGFyeSgpLGhhc0Jsb2NrU2libGluZzpmLG5vZGU6ZSxuYW1lOnUsYWxsb3dlZDpnfSksZj1FPTApKTp5LnB1c2goe2lzRWxlbWVudDowLG5vZGU6ZSxhbGxvd2VkOjF9KTstMTxMJiYoeVtMXS5maXJzdE5vdEFsbG93ZWQ9MSk7LTE8cSYmKHlbcV0ubGFzdE5vdEFsbG93ZWQ9MSk7cmV0dXJuIHl9ZnVuY3Rpb24gZChiLGMpe3ZhciBlPVtdLGY9Yi5nZXRDaGlsZHJlbigpLHU9Zi5jb3VudCgpLGcseT0wLGs9dltjXSxoPSFiLmlzKHYuJGlubGluZSl8fGIuaXMoXCJiclwiKTtmb3IoaCYmZS5wdXNoKFwiIFwiKTt5PHU7eSsrKWc9XG5mLmdldEl0ZW0oeSksYShnKSYmIWcuaXMoayk/ZT1lLmNvbmNhdChkKGcsYykpOmUucHVzaChnKTtoJiZlLnB1c2goXCIgXCIpO3JldHVybiBlfWZ1bmN0aW9uIGUoYil7cmV0dXJuIGEoYi5zdGFydENvbnRhaW5lcikmJmIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldC0xKX1mdW5jdGlvbiBmKGIpe3JldHVybiBiJiZhKGIpJiYoYi5pcyh2LiRyZW1vdmVFbXB0eSl8fGIuaXMoXCJhXCIpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKSl9ZnVuY3Rpb24gdShiLGMsZCxlKXt2YXIgZj1iLmNsb25lKCksZyx2O2Yuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTsoZz0obmV3IENLRURJVE9SLmRvbS53YWxrZXIoZikpLm5leHQoKSkmJmEoZykmJkJbZy5nZXROYW1lKCldJiYodj1nLmdldFByZXZpb3VzKCkpJiZhKHYpJiYhdi5nZXRQYXJlbnQoKS5lcXVhbHMoYi5zdGFydENvbnRhaW5lcikmJmQuY29udGFpbnModikmJmUuY29udGFpbnMoZykmJmcuaXNJZGVudGljYWwodikmJlxuKGcubW92ZUNoaWxkcmVuKHYpLGcucmVtb3ZlKCksdShiLGMsZCxlKSl9ZnVuY3Rpb24gZyhiLGMpe2Z1bmN0aW9uIGQoYixjKXtpZihjLmlzQmxvY2smJmMuaXNFbGVtZW50JiYhYy5ub2RlLmlzKFwiYnJcIikmJmEoYikmJmIuaXMoXCJiclwiKSlyZXR1cm4gYi5yZW1vdmUoKSwxfXZhciBlPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0KSxmPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0LTEpO2UmJmQoZSxiW2IubGVuZ3RoLTFdKTtmJiZkKGYsYlswXSkmJihjLnNldEVuZChjLmVuZENvbnRhaW5lcixjLmVuZE9mZnNldC0xKSxjLmNvbGxhcHNlKCkpfXZhciB2PUNLRURJVE9SLmR0ZCxCPXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsdWw6MSxvbDoxLGxpOjEscHJlOjEsZGw6MSxibG9ja3F1b3RlOjF9LEw9e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sbj1DS0VESVRPUi50b29scy5leHRlbmQoe30sXG52LiRpbmxpbmUpO2RlbGV0ZSBuLmJyO3JldHVybiBmdW5jdGlvbihCLHAsQyx0KXt2YXIgRj1CLmVkaXRvcixOPSExO1widW5maWx0ZXJlZF9odG1sXCI9PXAmJihwPVwiaHRtbFwiLE49ITApO2lmKCF0LmNoZWNrUmVhZE9ubHkoKSl7dmFyIHE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodC5zdGFydENvbnRhaW5lcix0LnJvb3QpKS5ibG9ja0xpbWl0fHx0LnJvb3Q7Qj17dHlwZTpwLGRvbnRGaWx0ZXI6TixlZGl0YWJsZTpCLGVkaXRvcjpGLHJhbmdlOnQsYmxvY2tMaW1pdDpxLG1lcmdlQ2FuZGlkYXRlczpbXSx6b21iaWVzOltdfTtwPUIucmFuZ2U7dD1CLm1lcmdlQ2FuZGlkYXRlczt2YXIgbSx3O1widGV4dFwiPT1CLnR5cGUmJnAuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwLCExKSYmKG09Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIixwLmRvY3VtZW50KSxwLmluc2VydE5vZGUobSksXG5wLnNldFN0YXJ0QWZ0ZXIobSkpO049bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChwLnN0YXJ0Q29udGFpbmVyKTtCLmVuZFBhdGg9cT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHAuZW5kQ29udGFpbmVyKTtpZighcC5jb2xsYXBzZWQpe3ZhciBGPXEuYmxvY2t8fHEuYmxvY2tMaW1pdCx4PXAuZ2V0Q29tbW9uQW5jZXN0b3IoKTtGJiYhRi5lcXVhbHMoeCkmJiFGLmNvbnRhaW5zKHgpJiZwLmNoZWNrRW5kT2ZCbG9jaygpJiZCLnpvbWJpZXMucHVzaChGKTtwLmRlbGV0ZUNvbnRlbnRzKCl9Zm9yKDsodz1lKHApKSYmYSh3KSYmdy5pc0Jsb2NrQm91bmRhcnkoKSYmTi5jb250YWlucyh3KTspcC5tb3ZlVG9Qb3NpdGlvbih3LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO3UocCxCLmJsb2NrTGltaXQsTixxKTttJiYocC5zZXRFbmRCZWZvcmUobSkscC5jb2xsYXBzZSgpLG0ucmVtb3ZlKCkpO209cC5zdGFydFBhdGgoKTtpZihGPW0uY29udGFpbnMoZiwhMSwxKSlwLnNwbGl0RWxlbWVudChGKSxcbkIuaW5saW5lU3R5bGVzUm9vdD1GLEIuaW5saW5lU3R5bGVzUGVhaz1tLmxhc3RFbGVtZW50O209cC5jcmVhdGVCb29rbWFyaygpOyhGPW0uc3RhcnROb2RlLmdldFByZXZpb3VzKGMpKSYmYShGKSYmZihGKSYmdC5wdXNoKEYpOyhGPW0uc3RhcnROb2RlLmdldE5leHQoYykpJiZhKEYpJiZmKEYpJiZ0LnB1c2goRik7Zm9yKEY9bS5zdGFydE5vZGU7KEY9Ri5nZXRQYXJlbnQoKSkmJmYoRik7KXQucHVzaChGKTtwLm1vdmVUb0Jvb2ttYXJrKG0pO2lmKG09Qyl7bT1CLnJhbmdlO2lmKFwidGV4dFwiPT1CLnR5cGUmJkIuaW5saW5lU3R5bGVzUm9vdCl7dz1CLmlubGluZVN0eWxlc1BlYWs7cD13LmdldERvY3VtZW50KCkuY3JlYXRlVGV4dChcIntja2UtcGVha31cIik7Zm9yKHQ9Qi5pbmxpbmVTdHlsZXNSb290LmdldFBhcmVudCgpOyF3LmVxdWFscyh0KTspcD1wLmFwcGVuZFRvKHcuY2xvbmUoKSksdz13LmdldFBhcmVudCgpO0M9cC5nZXRPdXRlckh0bWwoKS5zcGxpdChcIntja2UtcGVha31cIikuam9pbihDKX13PVxuQi5ibG9ja0xpbWl0LmdldE5hbWUoKTtpZigvXlxccyt8XFxzKyQvLnRlc3QoQykmJlwic3BhblwiaW4gQ0tFRElUT1IuZHRkW3ddKXt2YXIgRD0nXFx4M2NzcGFuIGRhdGEtY2tlLW1hcmtlclxceDNkXCIxXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnO0M9RCtDK0R9Qz1CLmVkaXRvci5kYXRhUHJvY2Vzc29yLnRvSHRtbChDLHtjb250ZXh0Om51bGwsZml4Rm9yQm9keTohMSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczohIUQsZG9udEZpbHRlcjpCLmRvbnRGaWx0ZXIsZmlsdGVyOkIuZWRpdG9yLmFjdGl2ZUZpbHRlcixlbnRlck1vZGU6Qi5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlfSk7dz1tLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO3cuc2V0SHRtbChDKTtEJiYody5nZXRGaXJzdCgpLnJlbW92ZSgpLHcuZ2V0TGFzdCgpLnJlbW92ZSgpKTtpZigoRD1tLnN0YXJ0UGF0aCgpLmJsb2NrKSYmKDEhPUQuZ2V0Q2hpbGRDb3VudCgpfHwhRC5nZXRCb2d1cygpKSlhOnt2YXIgQTtpZigxPT1cbncuZ2V0Q2hpbGRDb3VudCgpJiZhKEE9dy5nZXRGaXJzdCgpKSYmQS5pcyhMKSYmIUEuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtEPUEuZ2V0RWxlbWVudHNCeVRhZyhcIipcIik7bT0wO2Zvcih0PUQuY291bnQoKTttPHQ7bSsrKWlmKHA9RC5nZXRJdGVtKG0pLCFwLmlzKG4pKWJyZWFrIGE7QS5tb3ZlQ2hpbGRyZW4oQS5nZXRQYXJlbnQoMSkpO0EucmVtb3ZlKCl9fUIuZGF0YVdyYXBwZXI9dzttPUN9aWYobSl7QT1CLnJhbmdlO209QS5kb2N1bWVudDt2YXIgTTt3PUIuYmxvY2tMaW1pdDt0PTA7dmFyIHosRD1bXSxHLFM7Qz1GPTA7dmFyIEksSztwPUEuc3RhcnRDb250YWluZXI7dmFyIE49Qi5lbmRQYXRoLmVsZW1lbnRzWzBdLFcscT1OLmdldFBvc2l0aW9uKHApLHg9ISFOLmdldENvbW1vbkFuY2VzdG9yKHApJiZxIT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUwmJiEocSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQpO1xucD1iKEIuZGF0YVdyYXBwZXIsQik7Zm9yKGcocCxBKTt0PHAubGVuZ3RoO3QrKyl7cT1wW3RdO2lmKE09cS5pc0xpbmVCcmVhayl7TT1BO0k9dzt2YXIgUj12b2lkIDAsWj12b2lkIDA7cS5oYXNCbG9ja1NpYmxpbmc/TT0xOihSPU0uc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KHYuJGJsb2NrLDEpKSYmUi5pcyh7ZGl2OjEscDoxfSk/KFo9Ui5nZXRQb3NpdGlvbihJKSxaPT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8fFo9PUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TP009MDooST1NLnNwbGl0RWxlbWVudChSKSxNLm1vdmVUb1Bvc2l0aW9uKEksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLE09MSkpOk09MH1pZihNKUM9MDx0O2Vsc2V7TT1BLnN0YXJ0UGF0aCgpOyFxLmlzQmxvY2smJmgoQi5lZGl0b3IsTS5ibG9jayxNLmJsb2NrTGltaXQpJiYoUz1rKEIuZWRpdG9yKSkmJihTPW0uY3JlYXRlRWxlbWVudChTKSxTLmFwcGVuZEJvZ3VzKCksQS5pbnNlcnROb2RlKFMpLFxuQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJih6PVMuZ2V0Qm9ndXMoKSkmJnoucmVtb3ZlKCksQS5tb3ZlVG9Qb3NpdGlvbihTLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKTtpZigoTT1BLnN0YXJ0UGF0aCgpLmJsb2NrKSYmIU0uZXF1YWxzKEcpKXtpZih6PU0uZ2V0Qm9ndXMoKSl6LnJlbW92ZSgpLEQucHVzaChNKTtHPU19cS5maXJzdE5vdEFsbG93ZWQmJihGPTEpO2lmKEYmJnEuaXNFbGVtZW50KXtNPUEuc3RhcnRDb250YWluZXI7Zm9yKEk9bnVsbDtNJiYhdltNLmdldE5hbWUoKV1bcS5uYW1lXTspe2lmKE0uZXF1YWxzKHcpKXtNPW51bGw7YnJlYWt9ST1NO009TS5nZXRQYXJlbnQoKX1pZihNKUkmJihLPUEuc3BsaXRFbGVtZW50KEkpLEIuem9tYmllcy5wdXNoKEspLEIuem9tYmllcy5wdXNoKEkpKTtlbHNle0k9dy5nZXROYW1lKCk7Vz0hdDtNPXQ9PXAubGVuZ3RoLTE7ST1kKHEubm9kZSxJKTtmb3IodmFyIFI9W10sWj1JLmxlbmd0aCxhYT0wLGNhPXZvaWQgMCxcbmRhPTAsVD0tMTthYTxaO2FhKyspY2E9SVthYV0sXCIgXCI9PWNhPyhkYXx8VyYmIWFhfHwoUi5wdXNoKG5ldyBDS0VESVRPUi5kb20udGV4dChcIiBcIikpLFQ9Ui5sZW5ndGgpLGRhPTEpOihSLnB1c2goY2EpLGRhPTApO00mJlQ9PVIubGVuZ3RoJiZSLnBvcCgpO1c9Un19aWYoVyl7Zm9yKDtNPVcucG9wKCk7KUEuaW5zZXJ0Tm9kZShNKTtXPTB9ZWxzZSBBLmluc2VydE5vZGUocS5ub2RlKTtxLmxhc3ROb3RBbGxvd2VkJiZ0PHAubGVuZ3RoLTEmJigoSz14P046SykmJkEuc2V0RW5kQXQoSyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksRj0wKTtBLmNvbGxhcHNlKCl9fTEhPXAubGVuZ3RoP3o9ITE6KHo9cFswXSx6PXouaXNFbGVtZW50JiZcImZhbHNlXCI9PXoubm9kZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpO3omJihDPSEwLE09cFswXS5ub2RlLEEuc2V0U3RhcnRBdChNLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksQS5zZXRFbmRBdChNLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO1xuQi5kb250TW92ZUNhcmV0PUM7Qi5ib2d1c05lZWRlZEJsb2Nrcz1EfXo9Qi5yYW5nZTt2YXIgUTtLPUIuYm9ndXNOZWVkZWRCbG9ja3M7Zm9yKFc9ei5jcmVhdGVCb29rbWFyaygpO0c9Qi56b21iaWVzLnBvcCgpOylHLmdldFBhcmVudCgpJiYoUz16LmNsb25lKCksUy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KEcpLFMucmVtb3ZlRW1wdHlCbG9ja3NBdEVuZCgpKTtpZihLKWZvcig7Rz1LLnBvcCgpOylDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9HLmFwcGVuZEJvZ3VzKCk6Ry5hcHBlbmQoei5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpO2Zvcig7Rz1CLm1lcmdlQ2FuZGlkYXRlcy5wb3AoKTspRy5tZXJnZVNpYmxpbmdzKCk7ei5tb3ZlVG9Cb29rbWFyayhXKTtpZighQi5kb250TW92ZUNhcmV0KXtmb3IoRz1lKHopO0cmJmEoRykmJiFHLmlzKHYuJGVtcHR5KTspe2lmKEcuaXNCbG9ja0JvdW5kYXJ5KCkpei5tb3ZlVG9Qb3NpdGlvbihHLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO1xuZWxzZXtpZihmKEcpJiZHLmdldEh0bWwoKS5tYXRjaCgvKFxcc3wmbmJzcDspJC9nKSl7UT1udWxsO2JyZWFrfVE9ei5jbG9uZSgpO1EubW92ZVRvUG9zaXRpb24oRyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKX1HPUcuZ2V0TGFzdChjKX1RJiZ6Lm1vdmVUb1JhbmdlKFEpfX19fSgpO209ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2I9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYik7Yi5ndWFyZD1mdW5jdGlvbihhLGIpe2lmKGIpcmV0dXJuITE7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGEuaXMoQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQpfTtiLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR9O3JldHVybiBifWZ1bmN0aW9uIGIoYSxjLGQpe2M9YS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoYyk7YS5hcHBlbmQoYyxkKTtyZXR1cm4gY31mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY291bnQoKSxcbmQ7Zm9yKGI7MDxiLS07KWQ9YS5nZXRJdGVtKGIpLENLRURJVE9SLnRvb2xzLnRyaW0oZC5nZXRIdG1sKCkpfHwoZC5hcHBlbmRCb2d1cygpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmZC5nZXRDaGlsZENvdW50KCkmJmQuZ2V0Rmlyc3QoKS5yZW1vdmUoKSl9cmV0dXJuIGZ1bmN0aW9uKGQpe3ZhciBlPWQuc3RhcnRDb250YWluZXIsZj1lLmdldEFzY2VuZGFudChcInRhYmxlXCIsMSksZz0hMTtjKGYuZ2V0RWxlbWVudHNCeVRhZyhcInRkXCIpKTtjKGYuZ2V0RWxlbWVudHNCeVRhZyhcInRoXCIpKTtmPWQuY2xvbmUoKTtmLnNldFN0YXJ0KGUsMCk7Zj1hKGYpLmxhc3RCYWNrd2FyZCgpO2Z8fChmPWQuY2xvbmUoKSxmLnNldEVuZEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZj1hKGYpLmxhc3RGb3J3YXJkKCksZz0hMCk7Znx8KGY9ZSk7Zi5pcyhcInRhYmxlXCIpPyhkLnNldFN0YXJ0QXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFxuZC5jb2xsYXBzZSghMCksZi5yZW1vdmUoKSk6KGYuaXMoe3Rib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJihmPWIoZixcInRyXCIsZykpLGYuaXMoXCJ0clwiKSYmKGY9YihmLGYuZ2V0UGFyZW50KCkuaXMoXCJ0aGVhZFwiKT9cInRoXCI6XCJ0ZFwiLGcpKSwoZT1mLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpLGQubW92ZVRvUG9zaXRpb24oZixnP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKX19KCk7Sz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKTtiLmd1YXJkPWZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4hMTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJGxpc3QpfHxhLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pfTtiLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuYS5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKX07cmV0dXJuIGJ9cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuc3RhcnRDb250YWluZXIsZD0hMSxlO2U9Yi5jbG9uZSgpO2Uuc2V0U3RhcnQoYywwKTtlPWEoZSkubGFzdEJhY2t3YXJkKCk7ZXx8KGU9Yi5jbG9uZSgpLGUuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxlPWEoZSkubGFzdEZvcndhcmQoKSxkPSEwKTtlfHwoZT1jKTtlLmlzKENLRURJVE9SLmR0ZC4kbGlzdCk/KGIuc2V0U3RhcnRBdChlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksYi5jb2xsYXBzZSghMCksZS5yZW1vdmUoKSk6KChjPWUuZ2V0Qm9ndXMoKSkmJmMucmVtb3ZlKCksYi5tb3ZlVG9Qb3NpdGlvbihlLGQ/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksYi5zZWxlY3QoKSl9fSgpO3o9e2VvbDp7ZGV0ZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5yYW5nZSxcbmQ9Yy5jbG9uZSgpLGU9Yy5jbG9uZSgpLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLnN0YXJ0Q29udGFpbmVyLGIpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmVuZENvbnRhaW5lcixiKTtkLmNvbGxhcHNlKDEpO2UuY29sbGFwc2UoKTtmLmJsb2NrJiZkLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZi5ibG9jayxDS0VESVRPUi5FTkQpJiYoYy5zZXRTdGFydEFmdGVyKGYuYmxvY2spLGEucHJlcGVuZEVvbEJyPTEpO2cuYmxvY2smJmUuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChnLmJsb2NrLENLRURJVE9SLlNUQVJUKSYmKGMuc2V0RW5kQmVmb3JlKGcuYmxvY2spLGEuYXBwZW5kRW9sQnI9MSl9LGZpeDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0RG9jdW1lbnQoKSxkO2EuYXBwZW5kRW9sQnImJihkPXRoaXMuY3JlYXRlRW9sQnIoYyksYS5mcmFnbWVudC5hcHBlbmQoZCkpOyFhLnByZXBlbmRFb2xCcnx8ZCYmIWQuZ2V0UHJldmlvdXMoKXx8YS5mcmFnbWVudC5hcHBlbmQodGhpcy5jcmVhdGVFb2xCcihjKSxcbjEpfSxjcmVhdGVFb2xCcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5jcmVhdGVFbGVtZW50KFwiYnJcIix7YXR0cmlidXRlczp7XCJkYXRhLWNrZS1lb2xcIjoxfX0pfX0sYm9ndXM6e2V4Y2x1ZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZS5nZXRCb3VuZGFyeU5vZGVzKCksYz1iLnN0YXJ0Tm9kZSxiPWIuZW5kTm9kZTshYnx8IUEoYil8fGMmJmMuZXF1YWxzKGIpfHxhLnJhbmdlLnNldEVuZEJlZm9yZShiKX19LHRyZWU6e3JlYnVpbGQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJhbmdlLGQ9Yy5nZXRDb21tb25BbmNlc3RvcigpLGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGIpLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLnN0YXJ0Q29udGFpbmVyLGIpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmVuZENvbnRhaW5lcixiKSxnO2QudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZD1kLmdldFBhcmVudCgpKTtpZihlLmJsb2NrTGltaXQuaXMoe3RyOjEsXG50YWJsZToxfSkpe3ZhciB2PWUuY29udGFpbnMoXCJ0YWJsZVwiKS5nZXRQYXJlbnQoKTtnPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyh2KX19ZWxzZSBpZihlLmJsb2NrJiZlLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiYoZj1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksYz1jLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksIWYuZXF1YWxzKGMpKSl7dmFyIGs9ZS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLmdldFBhcmVudCgpO2c9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZXF1YWxzKGspfX1nfHwoZz1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoZS5ibG9jaykmJiFhLmVxdWFscyhlLmJsb2NrTGltaXQpfSk7dGhpcy5yZWJ1aWxkRnJhZ21lbnQoYSxiLGQsZyl9LHJlYnVpbGRGcmFnbWVudDpmdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU7YyYmIWMuZXF1YWxzKGIpJiZkKGMpOyllPWMuY2xvbmUoMCwxKSxhLmZyYWdtZW50LmFwcGVuZFRvKGUpLFxuYS5mcmFnbWVudD1lLGM9Yy5nZXRQYXJlbnQoKX19LGNlbGw6e3NocmluazpmdW5jdGlvbihhKXthPWEucmFuZ2U7dmFyIGI9YS5zdGFydENvbnRhaW5lcixjPWEuZW5kQ29udGFpbmVyLGQ9YS5zdGFydE9mZnNldCxlPWEuZW5kT2Zmc2V0O2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmVxdWFscyhjKSYmYi5pcyhcInRyXCIpJiYrK2Q9PWUmJmEuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKX19fTtJPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3ZhciBkPWIuZ2V0UGFyZW50KCk7aWYoZC5pcyhDS0VESVRPUi5kdGQuJGlubGluZSkpYltjP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShkKX1mdW5jdGlvbiBiKGMsZCxlKXthKGQpO2EoZSwxKTtmb3IodmFyIGY7Zj1lLmdldE5leHQoKTspZi5pbnNlcnRBZnRlcihkKSxkPWY7dyhjKSYmYy5yZW1vdmUoKX1mdW5jdGlvbiBjKGEsYil7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTtkLnNldFN0YXJ0QWZ0ZXIoYi5zdGFydE5vZGUpO1xuZC5zZXRFbmRCZWZvcmUoYi5lbmROb2RlKTtyZXR1cm4gZH1yZXR1cm57bGlzdDp7ZGV0ZWN0TWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jKGIsYS5ib29rbWFyayksZT1kLnN0YXJ0UGF0aCgpLGY9ZC5lbmRQYXRoKCksZz1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksaz1mLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCk7YS5tZXJnZUxpc3Q9ZyYmayYmZy5nZXRQYXJlbnQoKS5lcXVhbHMoay5nZXRQYXJlbnQoKSkmJiFnLmVxdWFscyhrKTthLm1lcmdlTGlzdEl0ZW1zPWUuYmxvY2smJmYuYmxvY2smJmUuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJmYuYmxvY2suaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSk7aWYoYS5tZXJnZUxpc3R8fGEubWVyZ2VMaXN0SXRlbXMpZD1kLmNsb25lKCksZC5zZXRTdGFydEJlZm9yZShhLmJvb2ttYXJrLnN0YXJ0Tm9kZSksZC5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpLGEubWVyZ2VMaXN0Qm9va21hcms9XG5kLmNyZWF0ZUJvb2ttYXJrKCl9LG1lcmdlOmZ1bmN0aW9uKGEsYyl7aWYoYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGQ9YS5tZXJnZUxpc3RCb29rbWFyay5zdGFydE5vZGUsZT1hLm1lcmdlTGlzdEJvb2ttYXJrLmVuZE5vZGUsZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYyksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUsYyk7aWYoYS5tZXJnZUxpc3Qpe3ZhciBrPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSxoPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTtrLmVxdWFscyhoKXx8KGgubW92ZUNoaWxkcmVuKGspLGgucmVtb3ZlKCkpfWEubWVyZ2VMaXN0SXRlbXMmJihmPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZz1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pLGYuZXF1YWxzKGcpfHxiKGcsZCxlKSk7ZC5yZW1vdmUoKTtlLnJlbW92ZSgpfX19LGJsb2NrOntkZXRlY3RNZXJnZTpmdW5jdGlvbihhLFxuYil7aWYoIWEudGFibGVDb250ZW50c1JhbmdlcyYmIWEubWVyZ2VMaXN0Qm9va21hcmspe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYik7Yy5zZXRTdGFydEJlZm9yZShhLmJvb2ttYXJrLnN0YXJ0Tm9kZSk7Yy5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpO2EubWVyZ2VCbG9ja0Jvb2ttYXJrPWMuY3JlYXRlQm9va21hcmsoKX19LG1lcmdlOmZ1bmN0aW9uKGEsYyl7aWYoYS5tZXJnZUJsb2NrQm9va21hcmsmJiFhLnB1cmdlVGFibGVCb29rbWFyayl7dmFyIGQ9YS5tZXJnZUJsb2NrQm9va21hcmsuc3RhcnROb2RlLGU9YS5tZXJnZUJsb2NrQm9va21hcmsuZW5kTm9kZSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZCxjKSxnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZSxjKSxmPWYuYmxvY2ssZz1nLmJsb2NrO2YmJmcmJiFmLmVxdWFscyhnKSYmYihnLGQsZSk7ZC5yZW1vdmUoKTtlLnJlbW92ZSgpfX19LHRhYmxlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXt2YXIgZT1cbltdLGYsZz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxrPWMuc3RhcnRQYXRoKCkuY29udGFpbnMoZCksaD1jLmVuZFBhdGgoKS5jb250YWlucyhkKSxwPXt9O2cuZ3VhcmQ9ZnVuY3Rpb24oYSxnKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIEY9XCJ2aXNpdGVkX1wiKyhnP1wib3V0XCI6XCJpblwiKTtpZihhLmdldEN1c3RvbURhdGEoRikpcmV0dXJuO0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihwLGEsRiwxKX1pZihnJiZrJiZhLmVxdWFscyhrKSlmPWMuY2xvbmUoKSxmLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksZS5wdXNoKGYpO2Vsc2UgaWYoIWcmJmgmJmEuZXF1YWxzKGgpKWY9Yy5jbG9uZSgpLGYuc2V0U3RhcnRBdChoLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxlLnB1c2goZik7ZWxzZXtpZihGPSFnKUY9YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZCkmJigha3x8YihhLGspKSYmKCFofHxcbmIoYSxoKSk7RiYmKGY9Yy5jbG9uZSgpLGYuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGUucHVzaChmKSl9fTtnLmxhc3RGb3J3YXJkKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKHApO3JldHVybiBlfWZ1bmN0aW9uIGIoYSxjKXt2YXIgZD1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsZT1hLmdldFBvc2l0aW9uKGMpO3JldHVybiBlPT09Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMPyExOjA9PT0oZSZkKX12YXIgZD17dGQ6MSx0aDoxLGNhcHRpb246MX07cmV0dXJue2RldGVjdFB1cmdlOmZ1bmN0aW9uKGEpe3ZhciBiPWEucmFuZ2UsYz1iLmNsb25lKCk7Yy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7dmFyIGM9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksZT0wO2MuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKGQpJiYrK2V9O1xuYy5jaGVja0ZvcndhcmQoKTtpZigxPGUpe3ZhciBjPWIuc3RhcnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKSxmPWIuZW5kUGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIik7YyYmZiYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsQ0tFRElUT1IuU1RBUlQpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZixDS0VESVRPUi5FTkQpJiYoYj1hLnJhbmdlLmNsb25lKCksYi5zZXRTdGFydEJlZm9yZShjKSxiLnNldEVuZEFmdGVyKGYpLGEucHVyZ2VUYWJsZUJvb2ttYXJrPWIuY3JlYXRlQm9va21hcmsoKSl9fSxkZXRlY3RSYW5nZXM6ZnVuY3Rpb24oZSxmKXt2YXIgZz1jKGYsZS5ib29rbWFyayksaz1nLmNsb25lKCksaCxsLHA9Zy5nZXRDb21tb25BbmNlc3RvcigpO3AuaXMoQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQpJiYhcC5pcyhkKSYmKHA9cC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSk7bD1wO3A9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChnLnN0YXJ0Q29udGFpbmVyLFxubCk7bD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGcuZW5kQ29udGFpbmVyLGwpO3A9cC5jb250YWlucyhcInRhYmxlXCIpO2w9bC5jb250YWlucyhcInRhYmxlXCIpO2lmKHB8fGwpcCYmbCYmYihwLGwpPyhlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1rLGsuc2V0U3RhcnRBdChwLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksay5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksaz1nLmNsb25lKCksay5zZXRFbmRBdChwLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksaD1nLmNsb25lKCksaC5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxoPWEoaykuY29uY2F0KGEoaCkpKTpwP2x8fChlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1rLGsuc2V0U3RhcnRBdChwLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZy5zZXRFbmRBdChwLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpOihlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1cbmssay5zZXRFbmRBdChsLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZy5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKSxlLnRhYmxlQ29udGVudHNSYW5nZXM9aD9oOmEoZyl9LGRlbGV0ZVJhbmdlczpmdW5jdGlvbihhKXtmb3IodmFyIGI7Yj1hLnRhYmxlQ29udGVudHNSYW5nZXMucG9wKCk7KWIuZXh0cmFjdENvbnRlbnRzKCksdyhiLnN0YXJ0Q29udGFpbmVyKSYmYi5zdGFydENvbnRhaW5lci5hcHBlbmRCb2d1cygpO2EudGFibGVTdXJyb3VuZGluZ1JhbmdlJiZhLnRhYmxlU3Vycm91bmRpbmdSYW5nZS5leHRyYWN0Q29udGVudHMoKX0scHVyZ2U6ZnVuY3Rpb24oYSl7aWYoYS5wdXJnZVRhYmxlQm9va21hcmspe3ZhciBiPWEuZG9jLGM9YS5yYW5nZS5jbG9uZSgpLGI9Yi5jcmVhdGVFbGVtZW50KFwicFwiKTtiLmluc2VydEJlZm9yZShhLnB1cmdlVGFibGVCb29rbWFyay5zdGFydE5vZGUpO2MubW92ZVRvQm9va21hcmsoYS5wdXJnZVRhYmxlQm9va21hcmspO1xuYy5kZWxldGVDb250ZW50cygpO2EucmFuZ2UubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCl9fX19KCksZGV0ZWN0RXh0cmFjdE1lcmdlOmZ1bmN0aW9uKGEpe3JldHVybiEoYS5yYW5nZS5zdGFydFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYS5yYW5nZS5lbmRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpfSxmaXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbjpmdW5jdGlvbihhKXthLnN0YXJ0Q29udGFpbmVyLmdldER0ZCgpW1wiI1wiXXx8YS5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihudWxsLCEwKX0sYXV0b1BhcmFncmFwaDpmdW5jdGlvbihhLGIpe3ZhciBjPWIuc3RhcnRQYXRoKCksZDtoKGEsYy5ibG9jayxjLmJsb2NrTGltaXQpJiYoZD1rKGEpKSYmKGQ9Yi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGQpLGQuYXBwZW5kQm9ndXMoKSxiLmluc2VydE5vZGUoZCksYi5tb3ZlVG9Qb3NpdGlvbihkLFxuQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKX19fSgpfSkoKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtpZigwPT09YS5sZW5ndGgpcmV0dXJuITE7dmFyIGMsZDtpZigoYz0hYiYmMT09PWEubGVuZ3RoKSYmIShjPWFbMF0uY29sbGFwc2VkKSl7dmFyIGU9YVswXTtjPWUuc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKTt2YXIgZj1lLmVuZENvbnRhaW5lci5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO2Q9Q0tFRElUT1IudG9vbHMudHJpbTtjJiZjLmVxdWFscyhmKSYmIWMuZmluZE9uZShcInRkLCB0aCwgdHIsIHRib2R5LCB0YWJsZVwiKT8oZT1lLmNsb25lQ29udGVudHMoKSxjPWUuZ2V0Rmlyc3QoKT9kKGUuZ2V0Rmlyc3QoKS5nZXRUZXh0KCkpIT09ZChjLmdldFRleHQoKSk6ITApOmM9ITF9aWYoYylyZXR1cm4hMTtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWlmKGM9YVtkXS5fZ2V0VGFibGVFbGVtZW50KCksIWMpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gZChhKXtmdW5jdGlvbiBiKGEpe2E9YS5maW5kKFwidGQsIHRoXCIpO1xudmFyIGM9W10sZDtmb3IoZD0wO2Q8YS5jb3VudCgpO2QrKyljLnB1c2goYS5nZXRJdGVtKGQpKTtyZXR1cm4gY312YXIgYz1bXSxkLGU7Zm9yKGU9MDtlPGEubGVuZ3RoO2UrKylkPWFbZV0uX2dldFRhYmxlRWxlbWVudCgpLGQuaXMmJmQuaXMoe3RkOjEsdGg6MX0pP2MucHVzaChkKTpjPWMuY29uY2F0KGIoZCkpO3JldHVybiBjfWZ1bmN0aW9uIGIoYSl7YT1kKGEpO3ZhciBiPVwiXCIsYz1bXSxlLGY7Zm9yKGY9MDtmPGEubGVuZ3RoO2YrKyllJiYhZS5lcXVhbHMoYVtmXS5nZXRBc2NlbmRhbnQoXCJ0clwiKSk/KGIrPWMuam9pbihcIlxcdFwiKStcIlxcblwiLGU9YVtmXS5nZXRBc2NlbmRhbnQoXCJ0clwiKSxjPVtdKTowPT09ZiYmKGU9YVtmXS5nZXRBc2NlbmRhbnQoXCJ0clwiKSksYy5wdXNoKGFbZl0uZ2V0VGV4dCgpKTtyZXR1cm4gYis9Yy5qb2luKFwiXFx0XCIpfWZ1bmN0aW9uIGMoYSl7dmFyIGM9dGhpcy5yb290LmVkaXRvcixkPWMuZ2V0U2VsZWN0aW9uKDEpO3RoaXMucmVzZXQoKTtJPSEwO2Qucm9vdC5vbmNlKFwic2VsZWN0aW9uY2hhbmdlXCIsXG5mdW5jdGlvbihhKXthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7ZC5zZWxlY3RSYW5nZXMoW2FbMF1dKTtkPXRoaXMuXy5jYWNoZTtkLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChhKTtkLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ7ZC5zZWxlY3RlZEVsZW1lbnQ9YVswXS5fZ2V0VGFibGVFbGVtZW50KCk7ZC5zZWxlY3RlZFRleHQ9YihhKTtkLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNGYWtlPTE7dGhpcy5yZXY9bSsrO2MuXy5mYWtlU2VsZWN0aW9uPXRoaXM7ST0hMTt0aGlzLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKX1mdW5jdGlvbiBlKCl7dmFyIGI9dGhpcy5fLmZha2VTZWxlY3Rpb24sYztpZihiKXtjPXRoaXMuZ2V0U2VsZWN0aW9uKDEpO3ZhciBkO2lmKCEoZD0hYykmJihkPSFjLmlzSGlkZGVuKCkpKXtkPWI7dmFyIGU9Yy5nZXRSYW5nZXMoKSxmPWQuZ2V0UmFuZ2VzKCksZz1lLmxlbmd0aCYmZVswXS5fZ2V0VGFibGVFbGVtZW50KCkmJmVbMF0uX2dldFRhYmxlRWxlbWVudCgpLmdldEFzY2VuZGFudChcInRhYmxlXCIsXG4hMCksaz1mLmxlbmd0aCYmZlswXS5fZ2V0VGFibGVFbGVtZW50KCkmJmZbMF0uX2dldFRhYmxlRWxlbWVudCgpLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApLHA9MT09PWUubGVuZ3RoJiZlWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZVswXS5fZ2V0VGFibGVFbGVtZW50KCkuaXMoXCJ0YWJsZVwiKSxoPTE9PT1mLmxlbmd0aCYmZlswXS5fZ2V0VGFibGVFbGVtZW50KCkmJmZbMF0uX2dldFRhYmxlRWxlbWVudCgpLmlzKFwidGFibGVcIiksdD0xPT09ZS5sZW5ndGgmJmVbMF0uY29sbGFwc2VkLGY9YShlLCEhQ0tFRElUT1IuZW52LndlYmtpdCkmJmEoZik7Zz1nJiZrP2cuZXF1YWxzKGspfHxrLmNvbnRhaW5zKGcpOiExO2cmJih0fHxmKT8ocCYmIWgmJmQuc2VsZWN0UmFuZ2VzKGUpLGQ9ITApOmQ9ITE7ZD0hZH1kJiYoYi5yZXNldCgpLGI9MCl9aWYoIWImJihiPWN8fHRoaXMuZ2V0U2VsZWN0aW9uKDEpLCFifHxiLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpKXJldHVybjtcbnRoaXMuZmlyZShcInNlbGVjdGlvbkNoZWNrXCIsYik7Yz10aGlzLmVsZW1lbnRQYXRoKCk7Yy5jb21wYXJlKHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgpfHwoZD10aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoJiZ0aGlzLl8uc2VsZWN0aW9uUHJldmlvdXNQYXRoLmJsb2NrTGltaXQuZXF1YWxzKGMuYmxvY2tMaW1pdCksQ0tFRElUT1IuZW52LndlYmtpdCYmIWQmJih0aGlzLl8ucHJldmlvdXNBY3RpdmU9dGhpcy5kb2N1bWVudC5nZXRBY3RpdmUoKSksdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aD1jLHRoaXMuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLHtzZWxlY3Rpb246YixwYXRoOmN9KSl9ZnVuY3Rpb24gZygpe3I9ITA7bHx8KGguY2FsbCh0aGlzKSxsPUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoaCwyMDAsdGhpcykpfWZ1bmN0aW9uIGgoKXtsPW51bGw7ciYmKENLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZSwwLHRoaXMpLHI9ITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIEooYSl8fFxuYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFhLmlzKENLRURJVE9SLmR0ZC4kZW1wdHkpPyEwOiExfWZ1bmN0aW9uIG4oYSl7ZnVuY3Rpb24gYihjLGQpe3JldHVybiBjJiZjLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVD9hLmNsb25lKClbXCJtb3ZlVG9FbGVtZW50RWRpdFwiKyhkP1wiRW5kXCI6XCJTdGFydFwiKV0oYyk6ITF9aWYoIShhLnJvb3QgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0YWJsZSkpcmV0dXJuITE7dmFyIGM9YS5zdGFydENvbnRhaW5lcixkPWEuZ2V0UHJldmlvdXNOb2RlKGssbnVsbCxjKSxlPWEuZ2V0TmV4dE5vZGUoayxudWxsLGMpO3JldHVybiBiKGQpfHxiKGUsMSl8fCEoZHx8ZXx8Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuaXNCbG9ja0JvdW5kYXJ5KCkmJmMuZ2V0Qm9ndXMoKSk/ITA6ITF9ZnVuY3Rpb24gcShhKXtmKGEsITEpO3ZhciBiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVUZXh0KEspO2Euc2V0Q3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiLFxuYik7cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIpe3ZhciBjPWEmJmEucmVtb3ZlQ3VzdG9tRGF0YShcImNrZS1maWxsaW5nQ2hhclwiKTtpZihjKXtpZighMSE9PWIpe3ZhciBkPWEuZ2V0RG9jdW1lbnQoKS5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSxlPWQmJlwiTm9uZVwiIT1kLnR5cGUmJmQuZ2V0UmFuZ2VBdCgwKSxmPUsubGVuZ3RoO2lmKGMuZ2V0TGVuZ3RoKCk+ZiYmZSYmZS5pbnRlcnNlY3RzTm9kZShjLiQpKXt2YXIgZz1be25vZGU6ZC5hbmNob3JOb2RlLG9mZnNldDpkLmFuY2hvck9mZnNldH0se25vZGU6ZC5mb2N1c05vZGUsb2Zmc2V0OmQuZm9jdXNPZmZzZXR9XTtkLmFuY2hvck5vZGU9PWMuJCYmZC5hbmNob3JPZmZzZXQ+ZiYmKGdbMF0ub2Zmc2V0LT1mKTtkLmZvY3VzTm9kZT09Yy4kJiZkLmZvY3VzT2Zmc2V0PmYmJihnWzFdLm9mZnNldC09Zil9fWMuc2V0VGV4dChEKGMuZ2V0VGV4dCgpLDEpKTtnJiYoYz1hLmdldERvY3VtZW50KCkuJCxkPWMuZ2V0U2VsZWN0aW9uKCksXG5jPWMuY3JlYXRlUmFuZ2UoKSxjLnNldFN0YXJ0KGdbMF0ubm9kZSxnWzBdLm9mZnNldCksYy5jb2xsYXBzZSghMCksZC5yZW1vdmVBbGxSYW5nZXMoKSxkLmFkZFJhbmdlKGMpLGQuZXh0ZW5kKGdbMV0ubm9kZSxnWzFdLm9mZnNldCkpfX1mdW5jdGlvbiBEKGEsYil7cmV0dXJuIGI/YS5yZXBsYWNlKHosZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj9cIsKgXCI6XCJcIn0pOmEucmVwbGFjZShLLFwiXCIpfWZ1bmN0aW9uIHcoYSxiKXt2YXIgYz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NkaXYgZGF0YS1ja2UtaGlkZGVuLXNlbFxceDNkXCIxXCIgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCIgc3R5bGVcXHgzZFwiJysoQ0tFRElUT1IuZW52LmllJiYxND5DS0VESVRPUi5lbnYudmVyc2lvbj9cImRpc3BsYXk6bm9uZVwiOlwicG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDotMTAwMHB4XCIpKydcIlxceDNlJysoYnx8XCJcXHgyNm5ic3A7XCIpK1wiXFx4M2MvZGl2XFx4M2VcIixhLmRvY3VtZW50KTthLmZpcmUoXCJsb2NrU25hcHNob3RcIik7XG5hLmVkaXRhYmxlKCkuYXBwZW5kKGMpO3ZhciBkPWEuZ2V0U2VsZWN0aW9uKDEpLGU9YS5jcmVhdGVSYW5nZSgpLGY9ZC5yb290Lm9uKFwic2VsZWN0aW9uY2hhbmdlXCIsZnVuY3Rpb24oYSl7YS5jYW5jZWwoKX0sbnVsbCxudWxsLDApO2Uuc2V0U3RhcnRBdChjLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtlLnNldEVuZEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZC5zZWxlY3RSYW5nZXMoW2VdKTtmLnJlbW92ZUxpc3RlbmVyKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YS5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcj1jfWZ1bmN0aW9uIEEoYSl7dmFyIGI9ezM3OjEsMzk6MSw4OjEsNDY6MX07cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS5nZXRLZXlzdHJva2UoKTtpZihiW2RdKXt2YXIgZT1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpLGY9ZVswXTsxPT1lLmxlbmd0aCYmZi5jb2xsYXBzZWQmJihkPWZbMzg+ZD9cImdldFByZXZpb3VzRWRpdGFibGVOb2RlXCI6XG5cImdldE5leHRFZGl0YWJsZU5vZGVcIl0oKSkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoYS5nZXRTZWxlY3Rpb24oKS5mYWtlKGQpLGMuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLGMuY2FuY2VsKCkpfX19ZnVuY3Rpb24gRyhhKXtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtjLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpJiZhLnNwbGljZShiLDEpO2lmKCFjLmNvbGxhcHNlZCl7aWYoYy5zdGFydENvbnRhaW5lci5pc1JlYWRPbmx5KCkpZm9yKHZhciBkPWMuc3RhcnRDb250YWluZXIsZTtkJiYhKChlPWQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKSYmZC5pcyhcImJvZHlcIil8fCFkLmlzUmVhZE9ubHkoKSk7KWUmJlwiZmFsc2VcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJmMuc2V0U3RhcnRBZnRlcihkKSxkPWQuZ2V0UGFyZW50KCk7XG5kPWMuc3RhcnRDb250YWluZXI7ZT1jLmVuZENvbnRhaW5lcjt2YXIgZj1jLnN0YXJ0T2Zmc2V0LGc9Yy5lbmRPZmZzZXQscD1jLmNsb25lKCk7ZCYmZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmPj1kLmdldExlbmd0aCgpP3Auc2V0U3RhcnRBZnRlcihkKTpwLnNldFN0YXJ0QmVmb3JlKGQpKTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGc/cC5zZXRFbmRBZnRlcihlKTpwLnNldEVuZEJlZm9yZShlKSk7ZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihwKTtkLmV2YWx1YXRvcj1mdW5jdGlvbihkKXtpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc1JlYWRPbmx5KCkpe3ZhciBlPWMuY2xvbmUoKTtjLnNldEVuZEJlZm9yZShkKTtjLmNvbGxhcHNlZCYmYS5zcGxpY2UoYi0tLDEpO2QuZ2V0UG9zaXRpb24ocC5lbmRDb250YWluZXIpJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TfHwoZS5zZXRTdGFydEFmdGVyKGQpLGUuY29sbGFwc2VkfHxhLnNwbGljZShiK1xuMSwwLGUpKTtyZXR1cm4hMH1yZXR1cm4hMX07ZC5uZXh0KCl9fXJldHVybiBhfXZhciB4PVwiZnVuY3Rpb25cIiE9dHlwZW9mIHdpbmRvdy5nZXRTZWxlY3Rpb24sbT0xLEs9Q0tFRElUT1IudG9vbHMucmVwZWF0KFwi4oCLXCIsNyksej1uZXcgUmVnRXhwKEsrXCIoICk/XCIsXCJnXCIpLEksbCxyLEo9Q0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSksSD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBjPWEuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihhLnNlbGVjdGVkLGIpJiZhLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKTtyZXR1cm4hMX19ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9Yi5lZGl0b3IsZD1jLmNyZWF0ZVJhbmdlKCksZTsoZT1kLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGIuc2VsZWN0ZWQsYSkpfHwoZT1kLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKGIuc2VsZWN0ZWQsXG4hYSkpO2UmJmMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtkXSk7Yy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Iuc2VsZWN0ZWQucmVtb3ZlKCk7ZXx8KGQubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYy5lZGl0YWJsZSgpKSxjLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhbZF0pKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fXZhciBjPWEoKSxkPWEoMSk7cmV0dXJuezM3OmMsMzg6YywzOTpkLDQwOmQsODpiKCksNDY6YigxKX19KCk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9Yy5nZXRTZWxlY3Rpb24oKTthJiZhLnJlbW92ZUFsbFJhbmdlcygpfXZhciBjPWEuZWRpdG9yO2Mub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7cT1uZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbihjLmdldFNlbGVjdGlvbigpKTtxLmxvY2soKX1mdW5jdGlvbiBiKCl7cC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixcbmIpO3UucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYik7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuJC5zZWxlY3Rpb24sYz1hLmNyZWF0ZVJhbmdlKCk7XCJOb25lXCIhPWEudHlwZSYmYy5wYXJlbnRFbGVtZW50KCkmJmMucGFyZW50RWxlbWVudCgpLm93bmVyRG9jdW1lbnQ9PWsuJCYmYy5zZWxlY3QoKX1mdW5jdGlvbiBkKGEpe2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGI9KGE9YS5nZXRSYW5nZXMoKVswXSk/YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8XCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX0sITApOm51bGw7cmV0dXJuIGEmJlwiZmFsc2VcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmJ9fXZhciBrPWMuZG9jdW1lbnQscD1DS0VESVRPUi5kb2N1bWVudCxcbmg9Yy5lZGl0YWJsZSgpLHQ9ay5nZXRCb2R5KCksdT1rLmdldERvY3VtZW50RWxlbWVudCgpLGw9aC5pc0lubGluZSgpLHkscTtDS0VESVRPUi5lbnYuZ2Vja28mJmguYXR0YWNoTGlzdGVuZXIoaCxcImZvY3VzXCIsZnVuY3Rpb24oYSl7YS5yZW1vdmVMaXN0ZW5lcigpOzAhPT15JiYoYT1jLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpKSYmYS5pc0NvbGxhcHNlZCYmYS5hbmNob3JOb2RlPT1oLiQmJihhPWMuY3JlYXRlUmFuZ2UoKSxhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoaCksYS5zZWxlY3QoKSl9LG51bGwsbnVsbCwtMik7aC5hdHRhY2hMaXN0ZW5lcihoLENLRURJVE9SLmVudi53ZWJraXQ/XCJET01Gb2N1c0luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7eSYmQ0tFRElUT1IuZW52LndlYmtpdCYmKHk9Yy5fLnByZXZpb3VzQWN0aXZlJiZjLl8ucHJldmlvdXNBY3RpdmUuZXF1YWxzKGsuZ2V0QWN0aXZlKCkpKSYmbnVsbCE9Yy5fLnByZXZpb3VzU2Nyb2xsVG9wJiZjLl8ucHJldmlvdXNTY3JvbGxUb3AhPVxuaC4kLnNjcm9sbFRvcCYmKGguJC5zY3JvbGxUb3A9Yy5fLnByZXZpb3VzU2Nyb2xsVG9wKTtjLnVubG9ja1NlbGVjdGlvbih5KTt5PTB9LG51bGwsbnVsbCwtMSk7aC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt5PTB9KTtpZihDS0VESVRPUi5lbnYuaWV8fGwpeD9oLmF0dGFjaExpc3RlbmVyKGgsXCJiZWZvcmVkZWFjdGl2YXRlXCIsYSxudWxsLG51bGwsLTEpOmguYXR0YWNoTGlzdGVuZXIoYyxcInNlbGVjdGlvbkNoZWNrXCIsYSxudWxsLG51bGwsLTEpLGguYXR0YWNoTGlzdGVuZXIoaCxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNPdXRcIjpcImJsdXJcIixmdW5jdGlvbigpe2MubG9ja1NlbGVjdGlvbihxKTt5PTF9LG51bGwsbnVsbCwtMSksaC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt5PTB9KTtpZihDS0VESVRPUi5lbnYuaWUmJiFsKXt2YXIgbjtoLmF0dGFjaExpc3RlbmVyKGgsXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXsyPT1cbmEuZGF0YS4kLmJ1dHRvbiYmKChhPWMuZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKCkpJiZhLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fChuPWMud2luZG93LmdldFNjcm9sbFBvc2l0aW9uKCkpKX0pO2guYXR0YWNoTGlzdGVuZXIoaCxcIm1vdXNldXBcIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJm4mJihjLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9bi54LGMuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPW4ueSk7bj1udWxsfSk7aWYoXCJCYWNrQ29tcGF0XCIhPWsuJC5jb21wYXRNb2RlKXtpZihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgbSx3O3Uub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYobSl7dmFyIGM9dC4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtjLm1vdmVUb1BvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfWNhdGNoKGQpe31tLnNldEVuZFBvaW50KDA+XG53LmNvbXBhcmVFbmRQb2ludHMoXCJTdGFydFRvU3RhcnRcIixjKT9cIkVuZFRvRW5kXCI6XCJTdGFydFRvU3RhcnRcIixjKTttLnNlbGVjdCgpfX1mdW5jdGlvbiBjKCl7dS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO3AucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYyk7dS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTttLnNlbGVjdCgpfWE9YS5kYXRhO2lmKGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZhLiQueTx1LiQuY2xpZW50SGVpZ2h0JiZhLiQueDx1LiQuY2xpZW50V2lkdGgpe209dC4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXttLm1vdmVUb1BvaW50KGEuJC5jbGllbnRYLGEuJC5jbGllbnRZKX1jYXRjaChkKXt9dz1tLmR1cGxpY2F0ZSgpO3Uub24oXCJtb3VzZW1vdmVcIixiKTtwLm9uKFwibW91c2V1cFwiLGMpO3Uub24oXCJtb3VzZXVwXCIsYyl9fSl9aWYoNzxDS0VESVRPUi5lbnYudmVyc2lvbiYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pdS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJlxuKHAub24oXCJtb3VzZXVwXCIsYiksdS5vbihcIm1vdXNldXBcIixiKSl9KX19aC5hdHRhY2hMaXN0ZW5lcihoLFwic2VsZWN0aW9uY2hhbmdlXCIsZSxjKTtoLmF0dGFjaExpc3RlbmVyKGgsXCJrZXl1cFwiLGcsYyk7aC5hdHRhY2hMaXN0ZW5lcihoLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0aW9uKDEpO2QoYikmJihiLnNlbGVjdEVsZW1lbnQoZChiKSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSxjKTtoLmF0dGFjaExpc3RlbmVyKGgsQ0tFRElUT1IuZW52LndlYmtpdD9cIkRPTUZvY3VzSW5cIjpcImZvY3VzXCIsZnVuY3Rpb24oKXtjLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7Yy5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtpZihsJiYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvKSl7dmFyIHI7aC5hdHRhY2hMaXN0ZW5lcihoLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXtyPTF9KTtoLmF0dGFjaExpc3RlbmVyKGsuZ2V0RG9jdW1lbnRFbGVtZW50KCksXG5cIm1vdXNldXBcIixmdW5jdGlvbigpe3ImJmcuY2FsbChjKTtyPTB9KX1lbHNlIGguYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP2g6ay5nZXREb2N1bWVudEVsZW1lbnQoKSxcIm1vdXNldXBcIixnLGMpO0NLRURJVE9SLmVudi53ZWJraXQmJmguYXR0YWNoTGlzdGVuZXIoayxcImtleWRvd25cIixmdW5jdGlvbihhKXtzd2l0Y2goYS5kYXRhLmdldEtleSgpKXtjYXNlIDEzOmNhc2UgMzM6Y2FzZSAzNDpjYXNlIDM1OmNhc2UgMzY6Y2FzZSAzNzpjYXNlIDM5OmNhc2UgODpjYXNlIDQ1OmNhc2UgNDY6aC5oYXNGb2N1cyYmZihoKX19LG51bGwsbnVsbCwtMSk7aC5hdHRhY2hMaXN0ZW5lcihoLFwia2V5ZG93blwiLEEoYyksbnVsbCxudWxsLC0xKX0pO2Mub24oXCJzZXREYXRhXCIsZnVuY3Rpb24oKXtjLnVubG9ja1NlbGVjdGlvbigpO0NLRURJVE9SLmVudi53ZWJraXQmJmIoKX0pO2Mub24oXCJjb250ZW50RG9tVW5sb2FkXCIsZnVuY3Rpb24oKXtjLnVubG9ja1NlbGVjdGlvbigpfSk7aWYoQ0tFRElUT1IuZW52LmllOUNvbXBhdCljLm9uKFwiYmVmb3JlRGVzdHJveVwiLFxuYixudWxsLG51bGwsOSk7Yy5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7ZGVsZXRlIGMuXy5mYWtlU2VsZWN0aW9uO2RlbGV0ZSBjLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2Muc2VsZWN0aW9uQ2hhbmdlKDEpfSk7Yy5vbihcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpLGI9Yy5lZGl0YWJsZSgpLmdldExhc3QoYSk7YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCIpJiYoYi5yZW1vdmUoKSxDS0VESVRPUi5lbnYuZ2Vja28mJihhPWMuZWRpdGFibGUoKS5nZXRGaXJzdChhKSkmJmEuaXMoXCJiclwiKSYmYS5nZXRBdHRyaWJ1dGUoXCJfbW96X2VkaXRvcl9ib2d1c19ub2RlXCIpJiZhLnJlbW92ZSgpKX0sbnVsbCxudWxsLDEwMCk7Yy5vbihcImtleVwiLGZ1bmN0aW9uKGEpe2lmKFwid3lzaXd5Z1wiPT1jLm1vZGUpe3ZhciBiPWMuZ2V0U2VsZWN0aW9uKCk7aWYoYi5pc0Zha2Upe3ZhciBkPVxuSFthLmRhdGEua2V5Q29kZV07aWYoZClyZXR1cm4gZCh7ZWRpdG9yOmMsc2VsZWN0ZWQ6Yi5nZXRTZWxlY3RlZEVsZW1lbnQoKSxzZWxlY3Rpb246YixrZXlFdmVudDphfSl9fX0pfSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCksYz1hLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIik7YyYmKGMuZ2V0Q3VzdG9tRGF0YShcInJlYWR5XCIpPyhmKGEpLGEuZWRpdG9yLmZpcmUoXCJzZWxlY3Rpb25DaGVja1wiKSk6Yy5zZXRDdXN0b21EYXRhKFwicmVhZHlcIiwxKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImJlZm9yZVNldE1vZGVcIixmdW5jdGlvbigpe2YoYi5lZGl0YWJsZSgpKX0sbnVsbCxudWxsLC0xKTtiLm9uKFwiZ2V0U25hcHNob3RcIixmdW5jdGlvbihhKXthLmRhdGEmJihhLmRhdGE9RChhLmRhdGEpKX0sXG5iLG51bGwsMjApO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlPUQoYS5kYXRhLmRhdGFWYWx1ZSl9LG51bGwsbnVsbCwwKX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuc2VsZWN0aW9uQ2hhbmdlPWZ1bmN0aW9uKGEpeyhhP2U6ZykuY2FsbCh0aGlzKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuXy5zYXZlZFNlbGVjdGlvbiYmIXRoaXMuXy5mYWtlU2VsZWN0aW9ufHxhPyhhPXRoaXMuZWRpdGFibGUoKSkmJlwid3lzaXd5Z1wiPT10aGlzLm1vZGU/bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYSk6bnVsbDp0aGlzLl8uc2F2ZWRTZWxlY3Rpb258fHRoaXMuXy5mYWtlU2VsZWN0aW9ufTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdldFNlbGVjdGlvbigxKTtyZXR1cm4gYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FP1xuKCFhLmlzTG9ja2VkJiZhLmxvY2soKSx0aGlzLl8uc2F2ZWRTZWxlY3Rpb249YSwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUudW5sb2NrU2VsZWN0aW9uPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zYXZlZFNlbGVjdGlvbjtyZXR1cm4gYj8oYi51bmxvY2soYSksZGVsZXRlIHRoaXMuXy5zYXZlZFNlbGVjdGlvbiwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2s9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aH07Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24odGhpcyl9O0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yb290IGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/dGhpcy5yb290LmVkaXRvci5nZXRTZWxlY3Rpb24oKTpcbm5ldyBDS0VESVRPUi5kb20uc2VsZWN0aW9uKHRoaXMucm9vdCk7YS5zZWxlY3RSYW5nZXMoW3RoaXNdKTtyZXR1cm4gYX07Q0tFRElUT1IuU0VMRUNUSU9OX05PTkU9MTtDS0VESVRPUi5TRUxFQ1RJT05fVEVYVD0yO0NLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UPTM7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGI9YTthPWEucm9vdH12YXIgYz1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ7dGhpcy5yZXY9Yj9iLnJldjptKys7dGhpcy5kb2N1bWVudD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50P2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1jP2E6dGhpcy5kb2N1bWVudC5nZXRCb2R5KCk7dGhpcy5pc0xvY2tlZD0wO3RoaXMuXz17Y2FjaGU6e319O2lmKGIpcmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLl8uY2FjaGUsYi5fLmNhY2hlKSxcbnRoaXMuaXNGYWtlPWIuaXNGYWtlLHRoaXMuaXNMb2NrZWQ9Yi5pc0xvY2tlZCx0aGlzO2E9dGhpcy5nZXROYXRpdmUoKTt2YXIgZCxlO2lmKGEpaWYoYS5nZXRSYW5nZUF0KWQ9KGU9YS5yYW5nZUNvdW50JiZhLmdldFJhbmdlQXQoMCkpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcik7ZWxzZXt0cnl7ZT1hLmNyZWF0ZVJhbmdlKCl9Y2F0Y2goZil7fWQ9ZSYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGUuaXRlbSYmZS5pdGVtKDApfHxlLnBhcmVudEVsZW1lbnQoKSl9aWYoIWR8fGQudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8IXRoaXMucm9vdC5lcXVhbHMoZCkmJiF0aGlzLnJvb3QuY29udGFpbnMoZCkpdGhpcy5fLmNhY2hlLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUsdGhpcy5fLmNhY2hlLnN0YXJ0RWxlbWVudD1udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZEVsZW1lbnQ9XG5udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZFRleHQ9XCJcIix0aGlzLl8uY2FjaGUucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0O3JldHVybiB0aGlzfTt2YXIgRT17aW1nOjEsaHI6MSxsaToxLHRhYmxlOjEsdHI6MSx0ZDoxLHRoOjEsZW1iZWQ6MSxvYmplY3Q6MSxvbDoxLHVsOjEsYToxLGlucHV0OjEsZm9ybToxLHNlbGVjdDoxLHRleHRhcmVhOjEsYnV0dG9uOjEsZmllbGRzZXQ6MSx0aGVhZDoxLHRmb290OjF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uc2VsZWN0aW9uLHtfcmVtb3ZlRmlsbGluZ0NoYXJTZXF1ZW5jZVN0cmluZzpELF9jcmVhdGVGaWxsaW5nQ2hhclNlcXVlbmNlTm9kZTpxLEZJTExJTkdfQ0hBUl9TRVFVRU5DRTpLfSk7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGU9e2dldE5hdGl2ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl8uY2FjaGUubmF0aXZlU2VsP3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw6dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD1cbng/dGhpcy5kb2N1bWVudC4kLnNlbGVjdGlvbjp0aGlzLmRvY3VtZW50LmdldFdpbmRvdygpLiQuZ2V0U2VsZWN0aW9uKCl9LGdldFR5cGU6eD9mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZihhLnR5cGUpcmV0dXJuIGEudHlwZTt2YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTt0cnl7dmFyIGM9dGhpcy5nZXROYXRpdmUoKSxkPWMudHlwZTtcIlRleHRcIj09ZCYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpO1wiQ29udHJvbFwiPT1kJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCk7Yy5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKSYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpfWNhdGNoKGUpe31yZXR1cm4gYS50eXBlPWJ9OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPUNLRURJVE9SLlNFTEVDVElPTl9URVhULGM9dGhpcy5nZXROYXRpdmUoKTtpZighY3x8IWMucmFuZ2VDb3VudCliPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO1xuZWxzZSBpZigxPT1jLnJhbmdlQ291bnQpe3ZhciBjPWMuZ2V0UmFuZ2VBdCgwKSxkPWMuc3RhcnRDb250YWluZXI7ZD09Yy5lbmRDb250YWluZXImJjE9PWQubm9kZVR5cGUmJjE9PWMuZW5kT2Zmc2V0LWMuc3RhcnRPZmZzZXQmJkVbZC5jaGlsZE5vZGVzW2Muc3RhcnRPZmZzZXRdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl9cmV0dXJuIGEudHlwZT1ifSxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT14P2Z1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4obmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKS5nZXRJbmRleCgpfXZhciBiPWZ1bmN0aW9uKGIsYyl7Yj1iLmR1cGxpY2F0ZSgpO2IuY29sbGFwc2UoYyk7dmFyIGQ9Yi5wYXJlbnRFbGVtZW50KCk7aWYoIWQuaGFzQ2hpbGROb2RlcygpKXJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6MH07Zm9yKHZhciBlPWQuY2hpbGRyZW4sZixnLGg9Yi5kdXBsaWNhdGUoKSxrPTAsXG5sPWUubGVuZ3RoLTEsdT0tMSxxLG47azw9bDspaWYodT1NYXRoLmZsb29yKChrK2wpLzIpLGY9ZVt1XSxoLm1vdmVUb0VsZW1lbnRUZXh0KGYpLHE9aC5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYiksMDxxKWw9dS0xO2Vsc2UgaWYoMD5xKWs9dSsxO2Vsc2UgcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDphKGYpfTtpZigtMT09dXx8dT09ZS5sZW5ndGgtMSYmMD5xKXtoLm1vdmVUb0VsZW1lbnRUZXh0KGQpO2guc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIixiKTtoPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7ZT1kLmNoaWxkTm9kZXM7aWYoIWgpcmV0dXJuIGY9ZVtlLmxlbmd0aC0xXSxmLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX1RFWFQ/e2NvbnRhaW5lcjpkLG9mZnNldDplLmxlbmd0aH06e2NvbnRhaW5lcjpmLG9mZnNldDpmLm5vZGVWYWx1ZS5sZW5ndGh9O2ZvcihkPWUubGVuZ3RoOzA8aCYmMDxkOylnPWVbLS1kXSxnLm5vZGVUeXBlPT1cbkNLRURJVE9SLk5PREVfVEVYVCYmKG49ZyxoLT1nLm5vZGVWYWx1ZS5sZW5ndGgpO3JldHVybntjb250YWluZXI6bixvZmZzZXQ6LWh9fWguY29sbGFwc2UoMDxxPyEwOiExKTtoLnNldEVuZFBvaW50KDA8cT9cIlN0YXJ0VG9TdGFydFwiOlwiRW5kVG9TdGFydFwiLGIpO2g9aC50ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLmxlbmd0aDtpZighaClyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZikrKDA8cT8wOjEpfTtmb3IoOzA8aDspdHJ5e2c9ZlswPHE/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdLGcubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGgtPWcubm9kZVZhbHVlLmxlbmd0aCxuPWcpLGY9Z31jYXRjaChtKXtyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZil9fXJldHVybntjb250YWluZXI6bixvZmZzZXQ6MDxxPy1oOm4ubm9kZVZhbHVlLmxlbmd0aCtofX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKSxjPWEmJlxuYS5jcmVhdGVSYW5nZSgpLGQ9dGhpcy5nZXRUeXBlKCk7aWYoIWEpcmV0dXJuW107aWYoZD09Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpcmV0dXJuIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpLGQ9YihjLCEwKSxhLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpLGQ9YihjKSxhLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZC5jb250YWluZXIpLGQub2Zmc2V0KSxhLmVuZENvbnRhaW5lci5nZXRQb3NpdGlvbihhLnN0YXJ0Q29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZW5kT2Zmc2V0PD1hLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkmJmEuY29sbGFwc2UoKSxbYV07aWYoZD09Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpe2Zvcih2YXIgZD1bXSxlPTA7ZTxjLmxlbmd0aDtlKyspe2Zvcih2YXIgZj1jLml0ZW0oZSksZz1mLnBhcmVudE5vZGUsaD0wLGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2g8XG5nLmNoaWxkTm9kZXMubGVuZ3RoJiZnLmNoaWxkTm9kZXNbaF0hPWY7aCsrKTthLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShnKSxoKTthLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZyksaCsxKTtkLnB1c2goYSl9cmV0dXJuIGR9cmV0dXJuW119fSgpOmZ1bmN0aW9uKCl7dmFyIGE9W10sYixjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWMpcmV0dXJuIGE7Zm9yKHZhciBkPTA7ZDxjLnJhbmdlQ291bnQ7ZCsrKXt2YXIgZT1jLmdldFJhbmdlQXQoZCk7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5zdGFydENvbnRhaW5lciksZS5zdGFydE9mZnNldCk7Yi5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGUuZW5kQ29udGFpbmVyKSxlLmVuZE9mZnNldCk7YS5wdXNoKGIpfXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fLmNhY2hlLGQ9Yy5yYW5nZXM7ZHx8KGMucmFuZ2VzPVxuZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChhLmNhbGwodGhpcykpKTtyZXR1cm4gYj9HKG5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGQuc2xpY2UoKSkpOmR9fSgpLGdldFN0YXJ0RWxlbWVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnN0YXJ0RWxlbWVudClyZXR1cm4gYS5zdGFydEVsZW1lbnQ7dmFyIGI7c3dpdGNoKHRoaXMuZ2V0VHlwZSgpKXtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UOnJldHVybiB0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ6dmFyIGM9dGhpcy5nZXRSYW5nZXMoKVswXTtpZihjKXtpZihjLmNvbGxhcHNlZCliPWMuc3RhcnRDb250YWluZXIsYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2Vsc2V7Zm9yKGMub3B0aW1pemUoKTtiPWMuc3RhcnRDb250YWluZXIsYy5zdGFydE9mZnNldD09KGIuZ2V0Q2hpbGRDb3VudD9cbmIuZ2V0Q2hpbGRDb3VudCgpOmIuZ2V0TGVuZ3RoKCkpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKTspYy5zZXRTdGFydEFmdGVyKGIpO2I9Yy5zdGFydENvbnRhaW5lcjtpZihiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYi5nZXRQYXJlbnQoKTtpZigoYj1iLmdldENoaWxkKGMuc3RhcnRPZmZzZXQpKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpZm9yKGM9Yi5nZXRGaXJzdCgpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyliPWMsYz1jLmdldEZpcnN0KCk7ZWxzZSBiPWMuc3RhcnRDb250YWluZXJ9Yj1iLiR9fXJldHVybiBhLnN0YXJ0RWxlbWVudD1iP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiKTpudWxsfSxnZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zZWxlY3RlZEVsZW1lbnQpcmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50O3ZhciBiPXRoaXMsYz1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3JldHVybiBiLmdldE5hdGl2ZSgpLmNyZWF0ZVJhbmdlKCkuaXRlbSgwKX0sXG5mdW5jdGlvbigpe2Zvcih2YXIgYT1iLmdldFJhbmdlcygpWzBdLmNsb25lKCksYyxkLGU9MjtlJiYhKChjPWEuZ2V0RW5jbG9zZWROb2RlKCkpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmRVtjLmdldE5hbWUoKV0mJihkPWMpKTtlLS0pYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQpO3JldHVybiBkJiZkLiR9KTtyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ9Yz9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyk6bnVsbH0sZ2V0U2VsZWN0ZWRUZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRUZXh0KXJldHVybiBhLnNlbGVjdGVkVGV4dDt2YXIgYj10aGlzLmdldE5hdGl2ZSgpLGI9eD9cIkNvbnRyb2xcIj09Yi50eXBlP1wiXCI6Yi5jcmVhdGVSYW5nZSgpLnRleHQ6Yi50b1N0cmluZygpO3JldHVybiBhLnNlbGVjdGVkVGV4dD1ifSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5nZXRSYW5nZXMoKTt0aGlzLmdldFN0YXJ0RWxlbWVudCgpO1xudGhpcy5nZXRTZWxlY3RlZEVsZW1lbnQoKTt0aGlzLmdldFNlbGVjdGVkVGV4dCgpO3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzTG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbihiKXtpZih0aGlzLmlzTG9ja2VkKXtpZihiKXZhciBkPXRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCksZT10aGlzLmdldFJhbmdlcygpLGY9dGhpcy5pc0Zha2U7dGhpcy5pc0xvY2tlZD0wO3RoaXMucmVzZXQoKTtiJiYoYj1kfHxlWzBdJiZlWzBdLmdldENvbW1vbkFuY2VzdG9yKCkpJiZiLmdldEFzY2VuZGFudChcImJvZHlcIiwxKSYmKGEoZSk/Yy5jYWxsKHRoaXMsZSk6Zj90aGlzLmZha2UoZCk6ZD90aGlzLnNlbGVjdEVsZW1lbnQoZCk6dGhpcy5zZWxlY3RSYW5nZXMoZSkpfX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2FjaGU9e307dGhpcy5pc0Zha2U9MDt2YXIgYT10aGlzLnJvb3QuZWRpdG9yO2lmKGEmJmEuXy5mYWtlU2VsZWN0aW9uKWlmKHRoaXMucmV2PT1hLl8uZmFrZVNlbGVjdGlvbi5yZXYpe2RlbGV0ZSBhLl8uZmFrZVNlbGVjdGlvbjtcbnZhciBiPWEuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI7aWYoYil7dmFyIGM9YS5jaGVja0RpcnR5KCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2IucmVtb3ZlKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7IWMmJmEucmVzZXREaXJ0eSgpfWRlbGV0ZSBhLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyfWVsc2UgQ0tFRElUT1Iud2FybihcInNlbGVjdGlvbi1mYWtlLXJlc2V0XCIpO3RoaXMucmV2PW0rK30sc2VsZWN0RWxlbWVudDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydEJlZm9yZShhKTtiLnNldEVuZEFmdGVyKGEpO3RoaXMuc2VsZWN0UmFuZ2VzKFtiXSl9LHNlbGVjdFJhbmdlczpmdW5jdGlvbihiKXt2YXIgZD10aGlzLnJvb3QuZWRpdG9yLGU9ZCYmZC5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjt0aGlzLnJlc2V0KCk7aWYoZSlmb3IodmFyIGU9dGhpcy5yb290LGcsaD0wO2g8Yi5sZW5ndGg7KytoKWc9XG5iW2hdLGcuZW5kQ29udGFpbmVyLmVxdWFscyhlKSYmKGcuZW5kT2Zmc2V0PU1hdGgubWluKGcuZW5kT2Zmc2V0LGUuZ2V0Q2hpbGRDb3VudCgpKSk7aWYoYi5sZW5ndGgpaWYodGhpcy5pc0xvY2tlZCl7dmFyIGs9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7dGhpcy51bmxvY2soKTt0aGlzLnNlbGVjdFJhbmdlcyhiKTt0aGlzLmxvY2soKTtrJiYhay5lcXVhbHModGhpcy5yb290KSYmay5mb2N1cygpfWVsc2V7dmFyIGw7YTp7dmFyIHAsQztpZigxPT1iLmxlbmd0aCYmIShDPWJbMF0pLmNvbGxhcHNlZCYmKGw9Qy5nZXRFbmNsb3NlZE5vZGUoKSkmJmwudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoQz1DLmNsb25lKCksQy5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApLChwPUMuZ2V0RW5jbG9zZWROb2RlKCkpJiZwLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGw9cCksXCJmYWxzZVwiPT1sLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkpYnJlYWsgYTtcbmw9dm9pZCAwfWlmKGwpdGhpcy5mYWtlKGwpO2Vsc2UgaWYoZCYmZC5wbHVnaW5zLnRhYmxlc2VsZWN0aW9uJiZDS0VESVRPUi5wbHVnaW5zLnRhYmxlc2VsZWN0aW9uLmlzU3VwcG9ydGVkRW52aXJvbm1lbnQmJmEoYikmJiFJKWMuY2FsbCh0aGlzLGIpO2Vsc2V7aWYoeCl7cD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtsPS9cXHVmZWZmfFxcdTAwYTAvO0M9e3RhYmxlOjEsdGJvZHk6MSx0cjoxfTsxPGIubGVuZ3RoJiYoZD1iW2IubGVuZ3RoLTFdLGJbMF0uc2V0RW5kKGQuZW5kQ29udGFpbmVyLGQuZW5kT2Zmc2V0KSk7ZD1iWzBdO2I9ZC5jb2xsYXBzZWQ7dmFyIHQsRixtO2lmKChlPWQuZ2V0RW5jbG9zZWROb2RlKCkpJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5nZXROYW1lKClpbiBFJiYoIWUuaXMoXCJhXCIpfHwhZS5nZXRUZXh0KCkpKXRyeXttPWUuJC5jcmVhdGVDb250cm9sUmFuZ2UoKTttLmFkZEVsZW1lbnQoZS4kKTttLnNlbGVjdCgpO3JldHVybn1jYXRjaCh3KXt9aWYoZC5zdGFydENvbnRhaW5lci50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5zdGFydENvbnRhaW5lci5nZXROYW1lKClpbiBDfHxkLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIEMpZC5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKSxiPWQuY29sbGFwc2VkO209ZC5jcmVhdGVCb29rbWFyaygpO0M9bS5zdGFydE5vZGU7Ynx8KGs9bS5lbmROb2RlKTttPWQuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO20ubW92ZVRvRWxlbWVudFRleHQoQy4kKTttLm1vdmVTdGFydChcImNoYXJhY3RlclwiLDEpO2s/KGw9ZC5kb2N1bWVudC4kLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCksbC5tb3ZlVG9FbGVtZW50VGV4dChrLiQpLG0uc2V0RW5kUG9pbnQoXCJFbmRUb0VuZFwiLGwpLG0ubW92ZUVuZChcImNoYXJhY3RlclwiLC0xKSk6KHQ9Qy5nZXROZXh0KHApLEY9Qy5oYXNBc2NlbmRhbnQoXCJwcmVcIiksdD0hKHQmJnQuZ2V0VGV4dCYmdC5nZXRUZXh0KCkubWF0Y2gobCkpJiZcbihGfHwhQy5oYXNQcmV2aW91cygpfHxDLmdldFByZXZpb3VzKCkuaXMmJkMuZ2V0UHJldmlvdXMoKS5pcyhcImJyXCIpKSxGPWQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIiksRi5zZXRIdG1sKFwiXFx4MjYjNjUyNzk7XCIpLEYuaW5zZXJ0QmVmb3JlKEMpLHQmJmQuZG9jdW1lbnQuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRCZWZvcmUoQykpO2Quc2V0U3RhcnRCZWZvcmUoQyk7Qy5yZW1vdmUoKTtiPyh0PyhtLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC0xKSxtLnNlbGVjdCgpLGQuZG9jdW1lbnQuJC5zZWxlY3Rpb24uY2xlYXIoKSk6bS5zZWxlY3QoKSxkLm1vdmVUb1Bvc2l0aW9uKEYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxGLnJlbW92ZSgpKTooZC5zZXRFbmRCZWZvcmUoayksay5yZW1vdmUoKSxtLnNlbGVjdCgpKX1lbHNle2s9dGhpcy5nZXROYXRpdmUoKTtpZighaylyZXR1cm47dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtmb3IobT0wO208Yi5sZW5ndGg7bSsrKXtpZihtPFxuYi5sZW5ndGgtMSYmKHQ9YlttXSxGPWJbbSsxXSxsPXQuY2xvbmUoKSxsLnNldFN0YXJ0KHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0KSxsLnNldEVuZChGLnN0YXJ0Q29udGFpbmVyLEYuc3RhcnRPZmZzZXQpLCFsLmNvbGxhcHNlZCYmKGwuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCksZD1sLmdldENvbW1vbkFuY2VzdG9yKCksbD1sLmdldEVuY2xvc2VkTm9kZSgpLGQuaXNSZWFkT25seSgpfHxsJiZsLmlzUmVhZE9ubHkoKSkpKXtGLnNldFN0YXJ0KHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCk7Yi5zcGxpY2UobS0tLDEpO2NvbnRpbnVlfWQ9YlttXTtGPXRoaXMuZG9jdW1lbnQuJC5jcmVhdGVSYW5nZSgpO2QuY29sbGFwc2VkJiZDS0VESVRPUi5lbnYud2Via2l0JiZuKGQpJiYobD1xKHRoaXMucm9vdCksZC5pbnNlcnROb2RlKGwpLCh0PWwuZ2V0TmV4dCgpKSYmIWwuZ2V0UHJldmlvdXMoKSYmdC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09XG50LmdldE5hbWUoKT8oZih0aGlzLnJvb3QpLGQubW92ZVRvUG9zaXRpb24odCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTpkLm1vdmVUb1Bvc2l0aW9uKGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7Ri5zZXRTdGFydChkLnN0YXJ0Q29udGFpbmVyLiQsZC5zdGFydE9mZnNldCk7dHJ5e0Yuc2V0RW5kKGQuZW5kQ29udGFpbmVyLiQsZC5lbmRPZmZzZXQpfWNhdGNoKHIpe2lmKDA8PXIudG9TdHJpbmcoKS5pbmRleE9mKFwiTlNfRVJST1JfSUxMRUdBTF9WQUxVRVwiKSlkLmNvbGxhcHNlKDEpLEYuc2V0RW5kKGQuZW5kQ29udGFpbmVyLiQsZC5lbmRPZmZzZXQpO2Vsc2UgdGhyb3cgcjt9ay5hZGRSYW5nZShGKX19dGhpcy5yZXNldCgpO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfX19LGZha2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJvb3QuZWRpdG9yO3ZvaWQgMD09PWImJmEuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSYmKGI9YS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKTtcbnRoaXMucmVzZXQoKTt3KGMsYik7dmFyIGQ9dGhpcy5fLmNhY2hlLGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Uuc2V0U3RhcnRCZWZvcmUoYSk7ZS5zZXRFbmRBZnRlcihhKTtkLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChlKTtkLnNlbGVjdGVkRWxlbWVudD1kLnN0YXJ0RWxlbWVudD1hO2QudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDtkLnNlbGVjdGVkVGV4dD1kLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNGYWtlPTE7dGhpcy5yZXY9bSsrO2MuXy5mYWtlU2VsZWN0aW9uPXRoaXM7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4hKCFhfHwhYS5kYXRhKFwiY2tlLWhpZGRlbi1zZWxcIikpfSxpc0luVGFibGU6ZnVuY3Rpb24oYil7cmV0dXJuIGEodGhpcy5nZXRSYW5nZXMoKSxcbmIpfSxpc0NvbGxhcHNlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIDE9PT1hLmxlbmd0aCYmYVswXS5jb2xsYXBzZWR9LGNyZWF0ZUJvb2ttYXJrczpmdW5jdGlvbihhKXthPXRoaXMuZ2V0UmFuZ2VzKCkuY3JlYXRlQm9va21hcmtzKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LGNyZWF0ZUJvb2ttYXJrczI6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrczIoYSk7dGhpcy5pc0Zha2UmJihhLmlzRmFrZT0xKTtyZXR1cm4gYX0sc2VsZWN0Qm9va21hcmtzOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxkLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2YubW92ZVRvQm9va21hcmsoYltlXSk7Yy5wdXNoKGYpfWIuaXNGYWtlJiYoZD1hKGMpP2NbMF0uX2dldFRhYmxlRWxlbWVudCgpOmNbMF0uZ2V0RW5jbG9zZWROb2RlKCksZCYmZC50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVHx8KENLRURJVE9SLndhcm4oXCJzZWxlY3Rpb24tbm90LWZha2VcIiksYi5pc0Zha2U9MCkpO2IuaXNGYWtlJiYhYShjKT90aGlzLmZha2UoZCk6dGhpcy5zZWxlY3RSYW5nZXMoYyk7cmV0dXJuIHRoaXN9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRSYW5nZXMoKTtyZXR1cm4gYS5sZW5ndGg/YVswXS5zdGFydENvbnRhaW5lci5nZXRDb21tb25BbmNlc3RvcihhW2EubGVuZ3RoLTFdLmVuZENvbnRhaW5lcik6bnVsbH0sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oKXt0aGlzLnR5cGUhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FJiZ0aGlzLmdldFJhbmdlcygpWzBdLnNjcm9sbEludG9WaWV3KCl9LHJlbW92ZUFsbFJhbmdlczpmdW5jdGlvbigpe2lmKHRoaXMuZ2V0VHlwZSgpIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKTt0cnl7YSYmYVt4P1wiZW1wdHlcIjpcInJlbW92ZUFsbFJhbmdlc1wiXSgpfWNhdGNoKGIpe310aGlzLnJlc2V0KCl9fX19KSgpO1xuXCJ1c2Ugc3RyaWN0XCI7Q0tFRElUT1IuU1RZTEVfQkxPQ0s9MTtDS0VESVRPUi5TVFlMRV9JTkxJTkU9MjtDS0VESVRPUi5TVFlMRV9PQkpFQ1Q9MztcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGMsZDsoYT1hLmdldFBhcmVudCgpKSYmIWEuZXF1YWxzKGIpOylpZihhLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKSljPWE7ZWxzZSBpZighZCl7dmFyIGU9YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik7XCJmYWxzZVwiPT1lP2M9YTpcInRydWVcIj09ZSYmKGQ9MSl9cmV0dXJuIGN9ZnVuY3Rpb24gZChhLGIsYyxkKXtyZXR1cm4oYS5nZXRQb3NpdGlvbihiKXxkKT09ZCYmKCFjLmNoaWxkUnVsZXx8Yy5jaGlsZFJ1bGUoYSkpfWZ1bmN0aW9uIGIoYyl7dmFyIGY9Yy5kb2N1bWVudDtpZihjLmNvbGxhcHNlZClmPUsodGhpcyxmKSxjLmluc2VydE5vZGUoZiksYy5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7dmFyIGc9dGhpcy5lbGVtZW50LGg9dGhpcy5fLmRlZmluaXRpb24sayxsPWguaWdub3JlUmVhZG9ubHksbT1sfHxoLmluY2x1ZGVSZWFkb25seTtudWxsPT1cbm0mJihtPWMucm9vdC5nZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiKSk7dmFyIHE9Q0tFRElUT1IuZHRkW2ddO3F8fChrPSEwLHE9Q0tFRElUT1IuZHRkLnNwYW4pO2MuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTtjLnRyaW0oKTt2YXIgbj1jLmNyZWF0ZUJvb2ttYXJrKCksdz1uLnN0YXJ0Tm9kZSx1PW4uZW5kTm9kZSxyPXcsdjtpZighbCl7dmFyIHg9Yy5nZXRDb21tb25BbmNlc3RvcigpLGw9YSh3LHgpLHg9YSh1LHgpO2wmJihyPWwuZ2V0TmV4dFNvdXJjZU5vZGUoITApKTt4JiYodT14KX1mb3Ioci5nZXRQb3NpdGlvbih1KT09Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYocj0wKTtyOyl7bD0hMTtpZihyLmVxdWFscyh1KSlyPW51bGwsbD0hMDtlbHNle3ZhciBBPXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3IuZ2V0TmFtZSgpOm51bGwseD1BJiZcImZhbHNlXCI9PXIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpLEQ9QSYmXG5yLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKTtpZihBJiZyLmRhdGEoXCJja2UtYm9va21hcmtcIikpe3I9ci5nZXROZXh0U291cmNlTm9kZSghMCk7Y29udGludWV9aWYoeCYmbSYmQ0tFRElUT1IuZHRkLiRibG9ja1tBXSlmb3IodmFyIHo9cix5PWUoeiksRT12b2lkIDAsSD15Lmxlbmd0aCxJPTAsej1IJiZuZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHouZ2V0RG9jdW1lbnQoKSk7STxIOysrSSl7dmFyIEU9eVtJXSxKPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbRS5kYXRhKFwiY2tlLWZpbHRlclwiKV07aWYoSj9KLmNoZWNrKHRoaXMpOjEpei5zZWxlY3ROb2RlQ29udGVudHMoRSksYi5jYWxsKHRoaXMseil9eT1BPyFxW0FdfHxEPzA6eCYmIW0/MDpkKHIsdSxoLFYpOjE7aWYoeSlpZihFPXIuZ2V0UGFyZW50KCkseT1oLEg9ZyxJPWssIUV8fCEoRS5nZXREdGQoKXx8Q0tFRElUT1IuZHRkLnNwYW4pW0hdJiYhSXx8eS5wYXJlbnRSdWxlJiYheS5wYXJlbnRSdWxlKEUpKWw9ITA7ZWxzZXtpZih2fHxcbkEmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbQV0mJihyLmdldFBvc2l0aW9uKHUpfFYpIT1WfHwodj1jLmNsb25lKCksdi5zZXRTdGFydEJlZm9yZShyKSksQT1yLnR5cGUsQT09Q0tFRElUT1IuTk9ERV9URVhUfHx4fHxBPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFyLmdldENoaWxkQ291bnQoKSl7Zm9yKHZhciBBPXIsTDsobD0hQS5nZXROZXh0KEIpKSYmKEw9QS5nZXRQYXJlbnQoKSxxW0wuZ2V0TmFtZSgpXSkmJmQoTCx3LGgsTyk7KUE9TDt2LnNldEVuZEFmdGVyKEEpfX1lbHNlIGw9ITA7cj1yLmdldE5leHRTb3VyY2VOb2RlKER8fHgpfWlmKGwmJnYmJiF2LmNvbGxhcHNlZCl7Zm9yKHZhciBsPUsodGhpcyxmKSx4PWwuaGFzQXR0cmlidXRlcygpLEQ9di5nZXRDb21tb25BbmNlc3RvcigpLEE9e30seT17fSxFPXt9LEg9e30sVCxRLGJhO2wmJkQ7KXtpZihELmdldE5hbWUoKT09Zyl7Zm9yKFQgaW4gaC5hdHRyaWJ1dGVzKSFIW1RdJiYoYmE9RC5nZXRBdHRyaWJ1dGUoUSkpJiZcbihsLmdldEF0dHJpYnV0ZShUKT09YmE/eVtUXT0xOkhbVF09MSk7Zm9yKFEgaW4gaC5zdHlsZXMpIUVbUV0mJihiYT1ELmdldFN0eWxlKFEpKSYmKGwuZ2V0U3R5bGUoUSk9PWJhP0FbUV09MTpFW1FdPTEpfUQ9RC5nZXRQYXJlbnQoKX1mb3IoVCBpbiB5KWwucmVtb3ZlQXR0cmlidXRlKFQpO2ZvcihRIGluIEEpbC5yZW1vdmVTdHlsZShRKTt4JiYhbC5oYXNBdHRyaWJ1dGVzKCkmJihsPW51bGwpO2w/KHYuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8obCksdi5pbnNlcnROb2RlKGwpLEcuY2FsbCh0aGlzLGwpLGwubWVyZ2VTaWJsaW5ncygpLENLRURJVE9SLmVudi5pZXx8bC4kLm5vcm1hbGl6ZSgpKToobD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpLHYuZXh0cmFjdENvbnRlbnRzKCkuYXBwZW5kVG8obCksdi5pbnNlcnROb2RlKGwpLEcuY2FsbCh0aGlzLGwpLGwucmVtb3ZlKCEwKSk7dj1udWxsfX1jLm1vdmVUb0Jvb2ttYXJrKG4pO2Muc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKTtcbmMuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9fWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYigpe2Zvcih2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZ2V0UGFyZW50KCkpLGM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChxLmdldFBhcmVudCgpKSxlPW51bGwsZj1udWxsLGc9MDtnPGEuZWxlbWVudHMubGVuZ3RoO2crKyl7dmFyIGg9YS5lbGVtZW50c1tnXTtpZihoPT1hLmJsb2NrfHxoPT1hLmJsb2NrTGltaXQpYnJlYWs7bi5jaGVja0VsZW1lbnRSZW1vdmFibGUoaCwhMCkmJihlPWgpfWZvcihnPTA7ZzxjLmVsZW1lbnRzLmxlbmd0aDtnKyspe2g9Yy5lbGVtZW50c1tnXTtpZihoPT1jLmJsb2NrfHxoPT1jLmJsb2NrTGltaXQpYnJlYWs7bi5jaGVja0VsZW1lbnRSZW1vdmFibGUoaCwhMCkmJihmPWgpfWYmJnEuYnJlYWtQYXJlbnQoZik7ZSYmZC5icmVha1BhcmVudChlKX1hLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkUsMSk7dmFyIGM9XG5hLmNyZWF0ZUJvb2ttYXJrKCksZD1jLnN0YXJ0Tm9kZSxlPXRoaXMuXy5kZWZpbml0aW9uLmFsd2F5c1JlbW92ZUVsZW1lbnQ7aWYoYS5jb2xsYXBzZWQpe2Zvcih2YXIgZj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQuZ2V0UGFyZW50KCksYS5yb290KSxnLGg9MCxrO2g8Zi5lbGVtZW50cy5sZW5ndGgmJihrPWYuZWxlbWVudHNbaF0pJiZrIT1mLmJsb2NrJiZrIT1mLmJsb2NrTGltaXQ7aCsrKWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGspKXt2YXIgbTshZSYmYS5jb2xsYXBzZWQmJihhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoayxDS0VESVRPUi5FTkQpfHwobT1hLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoayxDS0VESVRPUi5TVEFSVCkpKT8oZz1rLGcubWF0Y2g9bT9cInN0YXJ0XCI6XCJlbmRcIik6KGsubWVyZ2VTaWJsaW5ncygpLGsuaXModGhpcy5lbGVtZW50KT9BLmNhbGwodGhpcyxrKTp4KGssbCh0aGlzKVtrLmdldE5hbWUoKV0pKX1pZihnKXtlPWQ7Zm9yKGg9XG4wOztoKyspe2s9Zi5lbGVtZW50c1toXTtpZihrLmVxdWFscyhnKSlicmVhaztlbHNlIGlmKGsubWF0Y2gpY29udGludWU7ZWxzZSBrPWsuY2xvbmUoKTtrLmFwcGVuZChlKTtlPWt9ZVtcInN0YXJ0XCI9PWcubWF0Y2g/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGcpfX1lbHNle3ZhciBxPWMuZW5kTm9kZSxuPXRoaXM7YigpO2ZvcihmPWQ7IWYuZXF1YWxzKHEpOylnPWYuZ2V0TmV4dFNvdXJjZU5vZGUoKSxmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoZikmJihmLmdldE5hbWUoKT09dGhpcy5lbGVtZW50P0EuY2FsbCh0aGlzLGYpOngoZixsKHRoaXMpW2YuZ2V0TmFtZSgpXSksZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuY29udGFpbnMoZCkmJihiKCksZz1kLmdldE5leHQoKSkpLGY9Z31hLm1vdmVUb0Jvb2ttYXJrKGMpO2Euc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1cbltdO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGIucHVzaChhKSwhMX0sQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKTtyZXR1cm4gYn1mdW5jdGlvbiBnKGEpe3ZhciBiPWEuZ2V0RW5jbG9zZWROb2RlKCl8fGEuZ2V0Q29tbW9uQW5jZXN0b3IoITEsITApOyhhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIsYS5yb290KSkuY29udGFpbnModGhpcy5lbGVtZW50LDEpKSYmIWEuaXNSZWFkT25seSgpJiZ6KGEsdGhpcyl9ZnVuY3Rpb24gaChhKXt2YXIgYj1hLmdldENvbW1vbkFuY2VzdG9yKCEwLCEwKTtpZihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGIsYS5yb290KSkuY29udGFpbnModGhpcy5lbGVtZW50LDEpKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPWIuYXR0cmlidXRlcztpZihjKWZvcih2YXIgZCBpbiBjKWEucmVtb3ZlQXR0cmlidXRlKGQsY1tkXSk7aWYoYi5zdHlsZXMpZm9yKHZhciBlIGluIGIuc3R5bGVzKWIuc3R5bGVzLmhhc093blByb3BlcnR5KGUpJiZcbmEucmVtb3ZlU3R5bGUoZSl9fWZ1bmN0aW9uIGsoYSl7dmFyIGI9YS5jcmVhdGVCb29rbWFyayghMCksYz1hLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmZvcmNlUmVhbEJsb2Nrcz0hMDt0aGlzLl8uZW50ZXJNb2RlJiYoYy5lbmxhcmdlQnI9dGhpcy5fLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlIpO2Zvcih2YXIgZCxlPWEuZG9jdW1lbnQsZjtkPWMuZ2V0TmV4dFBhcmFncmFwaCgpOykhZC5pc1JlYWRPbmx5KCkmJihjLmFjdGl2ZUZpbHRlcj9jLmFjdGl2ZUZpbHRlci5jaGVjayh0aGlzKToxKSYmKGY9Syh0aGlzLGUsZCkscShkLGYpKTthLm1vdmVUb0Jvb2ttYXJrKGIpfWZ1bmN0aW9uIG4oYSl7dmFyIGI9YS5jcmVhdGVCb29rbWFyaygxKSxjPWEuY3JlYXRlSXRlcmF0b3IoKTtjLmVuZm9yY2VSZWFsQmxvY2tzPSEwO2MuZW5sYXJnZUJyPXRoaXMuXy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2Zvcih2YXIgZCxlO2Q9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KXRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGQpJiZcbihkLmlzKFwicHJlXCIpPygoZT10aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9udWxsOmEuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpKSYmZC5jb3B5QXR0cmlidXRlcyhlKSxxKGQsZSkpOkEuY2FsbCh0aGlzLGQpKTthLm1vdmVUb0Jvb2ttYXJrKGIpfWZ1bmN0aW9uIHEoYSxiKXt2YXIgYz0hYjtjJiYoYj1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImRpdlwiKSxhLmNvcHlBdHRyaWJ1dGVzKGIpKTt2YXIgZD1iJiZiLmlzKFwicHJlXCIpLGU9YS5pcyhcInByZVwiKSxnPSFkJiZlO2lmKGQmJiFlKXtlPWI7KGc9YS5nZXRCb2d1cygpKSYmZy5yZW1vdmUoKTtnPWEuZ2V0SHRtbCgpO2c9RChnLC8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2csXCJcIik7Zz1nLnJlcGxhY2UoL1sgXFx0XFxyXFxuXSooPGJyW14+XSo+KVsgXFx0XFxyXFxuXSovZ2ksXCIkMVwiKTtnPWcucmVwbGFjZSgvKFsgXFx0XFxuXFxyXSt8Jm5ic3A7KS9nLFxuXCIgXCIpO2c9Zy5yZXBsYWNlKC88YnJcXGJbXj5dKj4vZ2ksXCJcXG5cIik7aWYoQ0tFRElUT1IuZW52LmllKXt2YXIgaD1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLmFwcGVuZChlKTtlLiQub3V0ZXJIVE1MPVwiXFx4M2NwcmVcXHgzZVwiK2crXCJcXHgzYy9wcmVcXHgzZVwiO2UuY29weUF0dHJpYnV0ZXMoaC5nZXRGaXJzdCgpKTtlPWguZ2V0Rmlyc3QoKS5yZW1vdmUoKX1lbHNlIGUuc2V0SHRtbChnKTtiPWV9ZWxzZSBnP2I9dyhjP1thLmdldEh0bWwoKV06ZihhKSxiKTphLm1vdmVDaGlsZHJlbihiKTtiLnJlcGxhY2UoYSk7aWYoZCl7dmFyIGM9YixrOyhrPWMuZ2V0UHJldmlvdXMoTCkpJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5pcyhcInByZVwiKSYmKGQ9RChrLmdldEh0bWwoKSwvXFxuJC8sXCJcIikrXCJcXG5cXG5cIitEKGMuZ2V0SHRtbCgpLC9eXFxuLyxcIlwiKSxDS0VESVRPUi5lbnYuaWU/Yy4kLm91dGVySFRNTD1cIlxceDNjcHJlXFx4M2VcIitkK1wiXFx4M2MvcHJlXFx4M2VcIjpcbmMuc2V0SHRtbChkKSxrLnJlbW92ZSgpKX1lbHNlIGMmJm0oYil9ZnVuY3Rpb24gZihhKXt2YXIgYj1bXTtEKGEuZ2V0T3V0ZXJIdG1sKCksLyhcXFNcXHMqKVxcbig/Olxcc3woPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4pKSpcXG4oPyEkKS9naSxmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGIrXCJcXHgzYy9wcmVcXHgzZVwiK2MrXCJcXHgzY3ByZVxceDNlXCJ9KS5yZXBsYWNlKC88cHJlXFxiLio/PihbXFxzXFxTXSo/KTxcXC9wcmU+L2dpLGZ1bmN0aW9uKGEsYyl7Yi5wdXNoKGMpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gRChhLGIsYyl7dmFyIGQ9XCJcIixlPVwiXCI7YT1hLnJlcGxhY2UoLyhePHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrLio/XFwvc3Bhbj4pfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPiQpL2dpLGZ1bmN0aW9uKGEsYixjKXtiJiYoZD1iKTtjJiYoZT1jKTtyZXR1cm5cIlwifSk7cmV0dXJuIGQrYS5yZXBsYWNlKGIsYykrZX1mdW5jdGlvbiB3KGEsYil7dmFyIGM7XG4xPGEubGVuZ3RoJiYoYz1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYi5nZXREb2N1bWVudCgpKSk7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF0sZT1lLnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLGU9RChlLC9eWyBcXHRdKlxcbi8sXCJcIiksZT1EKGUsL1xcbiQvLFwiXCIpLGU9RChlLC9eWyBcXHRdK3xbIFxcdF0rJC9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIDE9PWEubGVuZ3RoP1wiXFx4MjZuYnNwO1wiOmI/XCIgXCIrQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpOkNLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixhLmxlbmd0aC0xKStcIiBcIn0pLGU9ZS5yZXBsYWNlKC9cXG4vZyxcIlxceDNjYnJcXHgzZVwiKSxlPWUucmVwbGFjZSgvWyBcXHRdezIsfS9nLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSkrXCIgXCJ9KTtpZihjKXt2YXIgZj1iLmNsb25lKCk7Zi5zZXRIdG1sKGUpO1xuYy5hcHBlbmQoZil9ZWxzZSBiLnNldEh0bWwoZSl9cmV0dXJuIGN8fGJ9ZnVuY3Rpb24gQShhLGIpe3ZhciBjPXRoaXMuXy5kZWZpbml0aW9uLGQ9Yy5hdHRyaWJ1dGVzLGM9Yy5zdHlsZXMsZT1sKHRoaXMpW2EuZ2V0TmFtZSgpXSxmPUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoZCkmJkNLRURJVE9SLnRvb2xzLmlzRW1wdHkoYyksZztmb3IoZyBpbiBkKWlmKFwiY2xhc3NcIiE9ZyYmIXRoaXMuXy5kZWZpbml0aW9uLmZ1bGxNYXRjaHx8YS5nZXRBdHRyaWJ1dGUoZyk9PXIoZyxkW2ddKSliJiZcImRhdGEtXCI9PWcuc2xpY2UoMCw1KXx8KGY9YS5oYXNBdHRyaWJ1dGUoZyksYS5yZW1vdmVBdHRyaWJ1dGUoZykpO2Zvcih2YXIgaCBpbiBjKXRoaXMuXy5kZWZpbml0aW9uLmZ1bGxNYXRjaCYmYS5nZXRTdHlsZShoKSE9cihoLGNbaF0sITApfHwoZj1mfHwhIWEuZ2V0U3R5bGUoaCksYS5yZW1vdmVTdHlsZShoKSk7eChhLGUsRVthLmdldE5hbWUoKV0pO2YmJih0aGlzLl8uZGVmaW5pdGlvbi5hbHdheXNSZW1vdmVFbGVtZW50P1xubShhLDEpOiFDS0VESVRPUi5kdGQuJGJsb2NrW2EuZ2V0TmFtZSgpXXx8dGhpcy5fLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlImJiFhLmhhc0F0dHJpYnV0ZXMoKT9tKGEpOmEucmVuYW1lTm9kZSh0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpKX1mdW5jdGlvbiBHKGEpe2Zvcih2YXIgYj1sKHRoaXMpLGM9YS5nZXRFbGVtZW50c0J5VGFnKHRoaXMuZWxlbWVudCksZCxlPWMuY291bnQoKTswPD0tLWU7KWQ9Yy5nZXRJdGVtKGUpLGQuaXNSZWFkT25seSgpfHxBLmNhbGwodGhpcyxkLCEwKTtmb3IodmFyIGYgaW4gYilpZihmIT10aGlzLmVsZW1lbnQpZm9yKGM9YS5nZXRFbGVtZW50c0J5VGFnKGYpLGU9Yy5jb3VudCgpLTE7MDw9ZTtlLS0pZD1jLmdldEl0ZW0oZSksZC5pc1JlYWRPbmx5KCl8fHgoZCxiW2ZdKX1mdW5jdGlvbiB4KGEsYixjKXtpZihiPWImJmIuYXR0cmlidXRlcylmb3IodmFyIGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXVswXSxcbmY7aWYoZj1hLmdldEF0dHJpYnV0ZShlKSl7dmFyIGc9YltkXVsxXTsobnVsbD09PWd8fGcudGVzdCYmZy50ZXN0KGYpfHxcInN0cmluZ1wiPT10eXBlb2YgZyYmZj09ZykmJmEucmVtb3ZlQXR0cmlidXRlKGUpfX1jfHxtKGEpfWZ1bmN0aW9uIG0oYSxiKXtpZighYS5oYXNBdHRyaWJ1dGVzKCl8fGIpaWYoQ0tFRElUT1IuZHRkLiRibG9ja1thLmdldE5hbWUoKV0pe3ZhciBjPWEuZ2V0UHJldmlvdXMoTCksZD1hLmdldE5leHQoTCk7IWN8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUJiZjLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pfHxhLmFwcGVuZChcImJyXCIsMSk7IWR8fGQudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUJiZkLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pfHxhLmFwcGVuZChcImJyXCIpO2EucmVtb3ZlKCEwKX1lbHNlIGM9YS5nZXRGaXJzdCgpLGQ9YS5nZXRMYXN0KCksYS5yZW1vdmUoITApLGMmJihjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5tZXJnZVNpYmxpbmdzKCksXG5kJiYhYy5lcXVhbHMoZCkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLm1lcmdlU2libGluZ3MoKSl9ZnVuY3Rpb24gSyhhLGIsYyl7dmFyIGQ7ZD1hLmVsZW1lbnQ7XCIqXCI9PWQmJihkPVwic3BhblwiKTtkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkLGIpO2MmJmMuY29weUF0dHJpYnV0ZXMoZCk7ZD16KGQsYSk7Yi5nZXRDdXN0b21EYXRhKFwiZG9jX3Byb2Nlc3Npbmdfc3R5bGVcIikmJmQuaGFzQXR0cmlidXRlKFwiaWRcIik/ZC5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTpiLnNldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiLDEpO3JldHVybiBkfWZ1bmN0aW9uIHooYSxiKXt2YXIgYz1iLl8uZGVmaW5pdGlvbixkPWMuYXR0cmlidXRlcyxjPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjKTtpZihkKWZvcih2YXIgZSBpbiBkKWEuc2V0QXR0cmlidXRlKGUsZFtlXSk7YyYmYS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpO3JldHVybiBhfWZ1bmN0aW9uIEkoYSxcbmIpe2Zvcih2YXIgYyBpbiBhKWFbY109YVtjXS5yZXBsYWNlKHYsZnVuY3Rpb24oYSxjKXtyZXR1cm4gYltjXX0pfWZ1bmN0aW9uIGwoYSl7aWYoYS5fLm92ZXJyaWRlcylyZXR1cm4gYS5fLm92ZXJyaWRlczt2YXIgYj1hLl8ub3ZlcnJpZGVzPXt9LGM9YS5fLmRlZmluaXRpb24ub3ZlcnJpZGVzO2lmKGMpe0NLRURJVE9SLnRvb2xzLmlzQXJyYXkoYyl8fChjPVtjXSk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBlPWNbZF0sZixnO1wic3RyaW5nXCI9PXR5cGVvZiBlP2Y9ZS50b0xvd2VyQ2FzZSgpOihmPWUuZWxlbWVudD9lLmVsZW1lbnQudG9Mb3dlckNhc2UoKTphLmVsZW1lbnQsZz1lLmF0dHJpYnV0ZXMpO2U9YltmXXx8KGJbZl09e30pO2lmKGcpe3ZhciBlPWUuYXR0cmlidXRlcz1lLmF0dHJpYnV0ZXN8fFtdLGg7Zm9yKGggaW4gZyllLnB1c2goW2gudG9Mb3dlckNhc2UoKSxnW2hdXSl9fX1yZXR1cm4gYn1mdW5jdGlvbiByKGEsYixjKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO1xuZFtjP1wic2V0U3R5bGVcIjpcInNldEF0dHJpYnV0ZVwiXShhLGIpO3JldHVybiBkW2M/XCJnZXRTdHlsZVwiOlwiZ2V0QXR0cmlidXRlXCJdKGEpfWZ1bmN0aW9uIEooYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuXCJmb250LWZhbWlseVwiPT1iLnRvTG93ZXJDYXNlKCk/YS5yZXBsYWNlKC9bXCInXS9nLFwiXCIpOmF9XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChhKSk7XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPUNLRURJVE9SLnRvb2xzLnBhcnNlQ3NzVGV4dChiLCEwKSk7Zm9yKHZhciBkIGluIGEpaWYoIShkIGluIGIpfHxjKGJbZF0sZCkhPWMoYVtkXSxkKSYmXCJpbmhlcml0XCIhPWFbZF0mJlwiaW5oZXJpdFwiIT1iW2RdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEgoYSxiLGMpe3ZhciBkPWEuZG9jdW1lbnQsZT1hLmdldFJhbmdlcygpO2I9Yj90aGlzLnJlbW92ZUZyb21SYW5nZTp0aGlzLmFwcGx5VG9SYW5nZTt2YXIgZixnO2lmKGEuaXNGYWtlJiZhLmlzSW5UYWJsZSgpKWZvcihmPVxuW10sZz0wO2c8ZS5sZW5ndGg7ZysrKWYucHVzaChlW2ddLmNsb25lKCkpO2Zvcih2YXIgaD1lLmNyZWF0ZUl0ZXJhdG9yKCk7Zz1oLmdldE5leHRSYW5nZSgpOyliLmNhbGwodGhpcyxnLGMpO2Euc2VsZWN0UmFuZ2VzKGZ8fGUpO2QucmVtb3ZlQ3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIpfXZhciBFPXthZGRyZXNzOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEscDoxLHByZToxLHNlY3Rpb246MSxoZWFkZXI6MSxmb290ZXI6MSxuYXY6MSxhcnRpY2xlOjEsYXNpZGU6MSxmaWd1cmU6MSxkaWFsb2c6MSxoZ3JvdXA6MSx0aW1lOjEsbWV0ZXI6MSxtZW51OjEsY29tbWFuZDoxLGtleWdlbjoxLG91dHB1dDoxLHByb2dyZXNzOjEsZGV0YWlsczoxLGRhdGFncmlkOjEsZGF0YWxpc3Q6MX0sdT17YToxLGJsb2NrcXVvdGU6MSxlbWJlZDoxLGhyOjEsaW1nOjEsbGk6MSxvYmplY3Q6MSxvbDoxLHRhYmxlOjEsdGQ6MSx0cjoxLHRoOjEsdWw6MSxkbDoxLGR0OjEsXG5kZDoxLGZvcm06MSxhdWRpbzoxLHZpZGVvOjF9LHk9L1xccyooPzo7XFxzKnwkKS8sdj0vI1xcKCguKz8pXFwpL2csQj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKDAsMSksTD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKDEpO0NLRURJVE9SLnN0eWxlPWZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEudHlwZSlyZXR1cm4gbmV3IENLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzW2EudHlwZV0oYSk7dmFyIGM9YS5hdHRyaWJ1dGVzO2MmJmMuc3R5bGUmJihhLnN0eWxlcz1DS0VESVRPUi50b29scy5leHRlbmQoe30sYS5zdHlsZXMsQ0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGMuc3R5bGUpKSxkZWxldGUgYy5zdHlsZSk7YiYmKGE9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSksSShhLmF0dHJpYnV0ZXMsYiksSShhLnN0eWxlcyxiKSk7Yz10aGlzLmVsZW1lbnQ9YS5lbGVtZW50P1wic3RyaW5nXCI9PXR5cGVvZiBhLmVsZW1lbnQ/YS5lbGVtZW50LnRvTG93ZXJDYXNlKCk6XG5hLmVsZW1lbnQ6XCIqXCI7dGhpcy50eXBlPWEudHlwZXx8KEVbY10/Q0tFRElUT1IuU1RZTEVfQkxPQ0s6dVtjXT9DS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Q0tFRElUT1IuU1RZTEVfSU5MSU5FKTtcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5lbGVtZW50JiYodGhpcy50eXBlPUNLRURJVE9SLlNUWUxFX09CSkVDVCk7dGhpcy5fPXtkZWZpbml0aW9uOmF9fTtDS0VESVRPUi5zdHlsZS5wcm90b3R5cGU9e2FwcGx5OmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQpcmV0dXJuIEguY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCkpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSl7dmFyIGI9dGhpcy5fLmVudGVyTW9kZTtifHwodGhpcy5fLmVudGVyTW9kZT1hLmFjdGl2ZUVudGVyTW9kZSk7SC5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwwLGEpO3RoaXMuXy5lbnRlck1vZGU9Yn19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2ZcbkNLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4gSC5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxKTtpZih0aGlzLmNoZWNrQXBwbGljYWJsZShhLmVsZW1lbnRQYXRoKCksYSkpe3ZhciBiPXRoaXMuXy5lbnRlck1vZGU7Ynx8KHRoaXMuXy5lbnRlck1vZGU9YS5hY3RpdmVFbnRlck1vZGUpO0guY2FsbCh0aGlzLGEuZ2V0U2VsZWN0aW9uKCksMSxhKTt0aGlzLl8uZW50ZXJNb2RlPWJ9fSxhcHBseVRvUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5hcHBseVRvUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yjp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP2s6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/ZzpudWxsO3JldHVybiB0aGlzLmFwcGx5VG9SYW5nZShhKX0scmVtb3ZlRnJvbVJhbmdlOmZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlRnJvbVJhbmdlPXRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfSU5MSU5FP2M6dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9CTE9DSz9cbm46dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9PQkpFQ1Q/aDpudWxsO3JldHVybiB0aGlzLnJlbW92ZUZyb21SYW5nZShhKX0sYXBwbHlUb09iamVjdDpmdW5jdGlvbihhKXt6KGEsdGhpcyl9LGNoZWNrQWN0aXZlOmZ1bmN0aW9uKGEsYil7c3dpdGNoKHRoaXMudHlwZSl7Y2FzZSBDS0VESVRPUi5TVFlMRV9CTE9DSzpyZXR1cm4gdGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LCEwLGIpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOmNhc2UgQ0tFRElUT1IuU1RZTEVfSU5MSU5FOmZvcih2YXIgYz1hLmVsZW1lbnRzLGQ9MCxlO2Q8Yy5sZW5ndGg7ZCsrKWlmKGU9Y1tkXSx0aGlzLnR5cGUhPUNLRURJVE9SLlNUWUxFX0lOTElORXx8ZSE9YS5ibG9jayYmZSE9YS5ibG9ja0xpbWl0KXtpZih0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVCl7dmFyIGY9ZS5nZXROYW1lKCk7aWYoIShcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5lbGVtZW50P1xuZj09dGhpcy5lbGVtZW50OmYgaW4gdGhpcy5lbGVtZW50KSljb250aW51ZX1pZih0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShlLCEwLGIpKXJldHVybiEwfX1yZXR1cm4hMX0sY2hlY2tBcHBsaWNhYmxlOmZ1bmN0aW9uKGEsYixjKXtiJiZiIGluc3RhbmNlb2YgQ0tFRElUT1IuZmlsdGVyJiYoYz1iKTtpZihjJiYhYy5jaGVjayh0aGlzKSlyZXR1cm4hMTtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX09CSkVDVDpyZXR1cm4hIWEuY29udGFpbnModGhpcy5lbGVtZW50KTtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiEhYS5ibG9ja0xpbWl0LmdldER0ZCgpW3RoaXMuZWxlbWVudF19cmV0dXJuITB9LGNoZWNrRWxlbWVudE1hdGNoOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb247aWYoIWF8fCFjLmlnbm9yZVJlYWRvbmx5JiZhLmlzUmVhZE9ubHkoKSlyZXR1cm4hMTt2YXIgZD1hLmdldE5hbWUoKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5lbGVtZW50P1xuZD09dGhpcy5lbGVtZW50OmQgaW4gdGhpcy5lbGVtZW50KXtpZighYiYmIWEuaGFzQXR0cmlidXRlcygpKXJldHVybiEwO2lmKGQ9Yy5fQUMpYz1kO2Vsc2V7dmFyIGQ9e30sZT0wLGY9Yy5hdHRyaWJ1dGVzO2lmKGYpZm9yKHZhciBnIGluIGYpZSsrLGRbZ109ZltnXTtpZihnPUNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dChjKSlkLnN0eWxlfHxlKyssZC5zdHlsZT1nO2QuX2xlbmd0aD1lO2M9Yy5fQUM9ZH1pZihjLl9sZW5ndGgpe2Zvcih2YXIgaCBpbiBjKWlmKFwiX2xlbmd0aFwiIT1oKWlmKGQ9YS5nZXRBdHRyaWJ1dGUoaCl8fFwiXCIsXCJzdHlsZVwiPT1oP0ooY1toXSxkKTpjW2hdPT1kKXtpZighYilyZXR1cm4hMH1lbHNlIGlmKGIpcmV0dXJuITE7aWYoYilyZXR1cm4hMH1lbHNlIHJldHVybiEwfXJldHVybiExfSxjaGVja0VsZW1lbnRSZW1vdmFibGU6ZnVuY3Rpb24oYSxiLGMpe2lmKHRoaXMuY2hlY2tFbGVtZW50TWF0Y2goYSxiLGMpKXJldHVybiEwO2lmKGI9bCh0aGlzKVthLmdldE5hbWUoKV0pe3ZhciBkO1xuaWYoIShiPWIuYXR0cmlidXRlcykpcmV0dXJuITA7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKylpZihkPWJbY11bMF0sZD1hLmdldEF0dHJpYnV0ZShkKSl7dmFyIGU9YltjXVsxXTtpZihudWxsPT09ZSlyZXR1cm4hMDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7aWYoZD09ZSlyZXR1cm4hMH1lbHNlIGlmKGUudGVzdChkKSlyZXR1cm4hMH19cmV0dXJuITF9LGJ1aWxkUHJldmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uZGVmaW5pdGlvbixjPVtdLGQ9Yi5lbGVtZW50O1wiYmRvXCI9PWQmJihkPVwic3BhblwiKTt2YXIgYz1bXCJcXHgzY1wiLGRdLGU9Yi5hdHRyaWJ1dGVzO2lmKGUpZm9yKHZhciBmIGluIGUpYy5wdXNoKFwiIFwiLGYsJ1xceDNkXCInLGVbZl0sJ1wiJyk7KGU9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGIpKSYmYy5wdXNoKCcgc3R5bGVcXHgzZFwiJyxlLCdcIicpO2MucHVzaChcIlxceDNlXCIsYXx8Yi5uYW1lLFwiXFx4M2MvXCIsZCxcIlxceDNlXCIpO3JldHVybiBjLmpvaW4oXCJcIil9LGdldERlZmluaXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRlZmluaXRpb259fTtcbkNLRURJVE9SLnN0eWxlLmdldFN0eWxlVGV4dD1mdW5jdGlvbihhKXt2YXIgYj1hLl9TVDtpZihiKXJldHVybiBiO3ZhciBiPWEuc3R5bGVzLGM9YS5hdHRyaWJ1dGVzJiZhLmF0dHJpYnV0ZXMuc3R5bGV8fFwiXCIsZD1cIlwiO2MubGVuZ3RoJiYoYz1jLnJlcGxhY2UoeSxcIjtcIikpO2Zvcih2YXIgZSBpbiBiKXt2YXIgZj1iW2VdLGc9KGUrXCI6XCIrZikucmVwbGFjZSh5LFwiO1wiKTtcImluaGVyaXRcIj09Zj9kKz1nOmMrPWd9Yy5sZW5ndGgmJihjPUNLRURJVE9SLnRvb2xzLm5vcm1hbGl6ZUNzc1RleHQoYywhMCkpO3JldHVybiBhLl9TVD1jK2R9O0NLRURJVE9SLnN0eWxlLmN1c3RvbUhhbmRsZXJzPXt9O0NLRURJVE9SLnN0eWxlLmFkZEN1c3RvbUhhbmRsZXI9ZnVuY3Rpb24oYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy5fPXtkZWZpbml0aW9uOmF9O3RoaXMuc2V0dXAmJnRoaXMuc2V0dXAoYSl9O2IucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5zdHlsZS5wcm90b3R5cGUpLFxue2Fzc2lnbmVkVG86Q0tFRElUT1IuU1RZTEVfT0JKRUNUfSxhLCEwKTtyZXR1cm4gdGhpcy5jdXN0b21IYW5kbGVyc1thLnR5cGVdPWJ9O3ZhciBWPUNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElOR3xDS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUx8Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVELE89Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUR9KSgpO0NLRURJVE9SLnN0eWxlQ29tbWFuZD1mdW5jdGlvbihhLGQpe3RoaXMucmVxdWlyZWRDb250ZW50PXRoaXMuYWxsb3dlZENvbnRlbnQ9dGhpcy5zdHlsZT1hO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGQsITApfTtcbkNLRURJVE9SLnN0eWxlQ29tbWFuZC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbihhKXthLmZvY3VzKCk7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP2EuYXBwbHlTdHlsZSh0aGlzLnN0eWxlKTp0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmYS5yZW1vdmVTdHlsZSh0aGlzLnN0eWxlKX07Q0tFRElUT1Iuc3R5bGVzU2V0PW5ldyBDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIoXCJcIixcInN0eWxlc1NldFwiKTtDS0VESVRPUi5hZGRTdHlsZXNTZXQ9Q0tFRElUT1IudG9vbHMuYmluZChDS0VESVRPUi5zdHlsZXNTZXQuYWRkLENLRURJVE9SLnN0eWxlc1NldCk7Q0tFRElUT1IubG9hZFN0eWxlc1NldD1mdW5jdGlvbihhLGQsYil7Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGEsZCxcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChhLGIpfTtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthdHRhY2hTdHlsZVN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGEsZCl7dmFyIGI9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M7Ynx8KGI9dGhpcy5fLnN0eWxlU3RhdGVDaGFuZ2VDYWxsYmFja3M9W10sdGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZz1iW2RdLGg9Zy5zdHlsZS5jaGVja0FjdGl2ZShhLmRhdGEucGF0aCx0aGlzKT9DS0VESVRPUi5UUklTVEFURV9PTjpDS0VESVRPUi5UUklTVEFURV9PRkY7Zy5mbi5jYWxsKHRoaXMsaCl9fSkpO2IucHVzaCh7c3R5bGU6YSxmbjpkfSl9LGFwcGx5U3R5bGU6ZnVuY3Rpb24oYSl7YS5hcHBseSh0aGlzKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7YS5yZW1vdmUodGhpcyl9LGdldFN0eWxlc1NldDpmdW5jdGlvbihhKXtpZih0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpYSh0aGlzLl8uc3R5bGVzRGVmaW5pdGlvbnMpO1xuZWxzZXt2YXIgZD10aGlzLGI9ZC5jb25maWcuc3R5bGVzQ29tYm9fc3R5bGVzU2V0fHxkLmNvbmZpZy5zdHlsZXNTZXQ7aWYoITE9PT1iKWEobnVsbCk7ZWxzZSBpZihiIGluc3RhbmNlb2YgQXJyYXkpZC5fLnN0eWxlc0RlZmluaXRpb25zPWIsYShiKTtlbHNle2J8fChiPVwiZGVmYXVsdFwiKTt2YXIgYj1iLnNwbGl0KFwiOlwiKSxjPWJbMF07Q0tFRElUT1Iuc3R5bGVzU2V0LmFkZEV4dGVybmFsKGMsYlsxXT9iLnNsaWNlKDEpLmpvaW4oXCI6XCIpOkNLRURJVE9SLmdldFVybChcInN0eWxlcy5qc1wiKSxcIlwiKTtDS0VESVRPUi5zdHlsZXNTZXQubG9hZChjLGZ1bmN0aW9uKGIpe2QuXy5zdHlsZXNEZWZpbml0aW9ucz1iW2NdO2EoZC5fLnN0eWxlc0RlZmluaXRpb25zKX0pfX19fSk7XG5DS0VESVRPUi5kb20uY29tbWVudD1mdW5jdGlvbihhLGQpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZD9kLiQ6ZG9jdW1lbnQpLmNyZWF0ZUNvbW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfTtDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlO0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uY29tbWVudC5wcm90b3R5cGUse3R5cGU6Q0tFRElUT1IuTk9ERV9DT01NRU5ULGdldE91dGVySHRtbDpmdW5jdGlvbigpe3JldHVyblwiXFx4M2MhLS1cIit0aGlzLiQubm9kZVZhbHVlK1wiLS1cXHgzZVwifX0pO1widXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCl7dmFyIGE9e30sZD17fSxiO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdCliIGluIENLRURJVE9SLmR0ZC4kbGlzdHx8KGFbYl09MSk7Zm9yKGIgaW4gQ0tFRElUT1IuZHRkLiRibG9jayliIGluIENLRURJVE9SLmR0ZC4kYmxvY2tMaW1pdHx8YiBpbiBDS0VESVRPUi5kdGQuJGVtcHR5fHwoZFtiXT0xKTtDS0VESVRPUi5kb20uZWxlbWVudFBhdGg9ZnVuY3Rpb24oYixlKXt2YXIgZz1udWxsLGg9bnVsbCxrPVtdLG49YixxO2U9ZXx8Yi5nZXREb2N1bWVudCgpLmdldEJvZHkoKTtufHwobj1lKTtkbyBpZihuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7ay5wdXNoKG4pO2lmKCF0aGlzLmxhc3RFbGVtZW50JiYodGhpcy5sYXN0RWxlbWVudD1uLG4uaXMoQ0tFRElUT1IuZHRkLiRvYmplY3QpfHxcImZhbHNlXCI9PW4uZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSljb250aW51ZTtpZihuLmVxdWFscyhlKSlicmVhaztpZighaCYmKHE9bi5nZXROYW1lKCksXG5cInRydWVcIj09bi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/aD1uOiFnJiZkW3FdJiYoZz1uKSxhW3FdKSl7aWYocT0hZyYmXCJkaXZcIj09cSl7YTp7cT1uLmdldENoaWxkcmVuKCk7Zm9yKHZhciBmPTAsRD1xLmNvdW50KCk7ZjxEO2YrKyl7dmFyIHc9cS5nZXRJdGVtKGYpO2lmKHcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGJsb2NrW3cuZ2V0TmFtZSgpXSl7cT0hMDticmVhayBhfX1xPSExfXE9IXF9cT9nPW46aD1ufX13aGlsZShuPW4uZ2V0UGFyZW50KCkpO2h8fChoPWUpO3RoaXMuYmxvY2s9Zzt0aGlzLmJsb2NrTGltaXQ9aDt0aGlzLnJvb3Q9ZTt0aGlzLmVsZW1lbnRzPWt9fSkoKTtcbkNLRURJVE9SLmRvbS5lbGVtZW50UGF0aC5wcm90b3R5cGU9e2NvbXBhcmU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcy5lbGVtZW50czthPWEmJmEuZWxlbWVudHM7aWYoIWF8fGQubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGI9MDtiPGQubGVuZ3RoO2IrKylpZighZFtiXS5lcXVhbHMoYVtiXSkpcmV0dXJuITE7cmV0dXJuITB9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsZCxiKXt2YXIgYz0wLGU7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihlPWZ1bmN0aW9uKGIpe3JldHVybiBiLmdldE5hbWUoKT09YX0pO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZWxlbWVudD9lPWZ1bmN0aW9uKGIpe3JldHVybiBiLmVxdWFscyhhKX06Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKT9lPWZ1bmN0aW9uKGIpe3JldHVybi0xPENLRURJVE9SLnRvb2xzLmluZGV4T2YoYSxiLmdldE5hbWUoKSl9OlwiZnVuY3Rpb25cIj09dHlwZW9mIGE/ZT1hOlwib2JqZWN0XCI9PXR5cGVvZiBhJiYoZT1mdW5jdGlvbihiKXtyZXR1cm4gYi5nZXROYW1lKClpblxuYX0pO3ZhciBnPXRoaXMuZWxlbWVudHMsaD1nLmxlbmd0aDtkJiYoYj9jKz0xOi0taCk7YiYmKGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZywwKSxnLnJldmVyc2UoKSk7Zm9yKDtjPGg7YysrKWlmKGUoZ1tjXSkpcmV0dXJuIGdbY107cmV0dXJuIG51bGx9LGlzQ29udGV4dEZvcjpmdW5jdGlvbihhKXt2YXIgZDtyZXR1cm4gYSBpbiBDS0VESVRPUi5kdGQuJGJsb2NrPyhkPXRoaXMuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRpbnRlcm1lZGlhdGUpfHx0aGlzLnJvb3QuZXF1YWxzKHRoaXMuYmxvY2spJiZ0aGlzLmJsb2NrfHx0aGlzLmJsb2NrTGltaXQsISFkLmdldER0ZCgpW2FdKTohMH0sZGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdHx8dGhpcy5yb290KS5nZXREaXJlY3Rpb24oMSl9fTtcbkNLRURJVE9SLmRvbS50ZXh0PWZ1bmN0aW9uKGEsZCl7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShkP2QuJDpkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoYSkpO3RoaXMuJD1hfTtDS0VESVRPUi5kb20udGV4dC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlO1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS50ZXh0LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWUubGVuZ3RofSxnZXRUZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ub2RlVmFsdWV9LHNldFRleHQ6ZnVuY3Rpb24oYSl7dGhpcy4kLm5vZGVWYWx1ZT1hfSxzcGxpdDpmdW5jdGlvbihhKXt2YXIgZD10aGlzLiQucGFyZW50Tm9kZSxiPWQuY2hpbGROb2Rlcy5sZW5ndGgsYz10aGlzLmdldExlbmd0aCgpLGU9dGhpcy5nZXREb2N1bWVudCgpLGc9bmV3IENLRURJVE9SLmRvbS50ZXh0KHRoaXMuJC5zcGxpdFRleHQoYSksZSk7ZC5jaGlsZE5vZGVzLmxlbmd0aD09YiYmKGE+PWM/KGc9ZS5jcmVhdGVUZXh0KFwiXCIpLGcuaW5zZXJ0QWZ0ZXIodGhpcykpOihhPWUuY3JlYXRlVGV4dChcIlwiKSxhLmluc2VydEFmdGVyKGcpLGEucmVtb3ZlKCkpKTtyZXR1cm4gZ30sc3Vic3RyaW5nOmZ1bmN0aW9uKGEsXG5kKXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgZD90aGlzLiQubm9kZVZhbHVlLnN1YnN0cihhKTp0aGlzLiQubm9kZVZhbHVlLnN1YnN0cmluZyhhLGQpfX0pO1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMsZCl7dmFyIGc9YS5zZXJpYWxpemFibGUsaD1jW2Q/XCJlbmRDb250YWluZXJcIjpcInN0YXJ0Q29udGFpbmVyXCJdLGs9ZD9cImVuZE9mZnNldFwiOlwic3RhcnRPZmZzZXRcIixuPWc/Yy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZTthPWc/Yy5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlO2guZXF1YWxzKG4uZ2V0UHJldmlvdXMoKSk/KGMuc3RhcnRPZmZzZXQ9Yy5zdGFydE9mZnNldC1oLmdldExlbmd0aCgpLWEuZ2V0UHJldmlvdXMoKS5nZXRMZW5ndGgoKSxoPWEuZ2V0TmV4dCgpKTpoLmVxdWFscyhhLmdldFByZXZpb3VzKCkpJiYoYy5zdGFydE9mZnNldC09aC5nZXRMZW5ndGgoKSxoPWEuZ2V0TmV4dCgpKTtoLmVxdWFscyhuLmdldFBhcmVudCgpKSYmY1trXSsrO2guZXF1YWxzKGEuZ2V0UGFyZW50KCkpJiZjW2tdKys7Y1tkP1wiZW5kQ29udGFpbmVyXCI6XCJzdGFydENvbnRhaW5lclwiXT1oO3JldHVybiBjfVxuQ0tFRElUT1IuZG9tLnJhbmdlTGlzdD1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdClyZXR1cm4gYTthP2EgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20ucmFuZ2UmJihhPVthXSk6YT1bXTtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGEsZCl9O3ZhciBkPXtjcmVhdGVJdGVyYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZD1bXSxnO3JldHVybntnZXROZXh0UmFuZ2U6ZnVuY3Rpb24oaCl7Zz12b2lkIDA9PT1nPzA6ZysxO3ZhciBrPWFbZ107aWYoayYmMTxhLmxlbmd0aCl7aWYoIWcpZm9yKHZhciBuPWEubGVuZ3RoLTE7MDw9bjtuLS0pZC51bnNoaWZ0KGFbbl0uY3JlYXRlQm9va21hcmsoITApKTtpZihoKWZvcih2YXIgcT0wO2FbZytxKzFdOyl7dmFyIGY9ay5kb2N1bWVudDtoPTA7bj1mLmdldEJ5SWQoZFtxXS5lbmROb2RlKTtmb3IoZj1mLmdldEJ5SWQoZFtxKzFdLnN0YXJ0Tm9kZSk7Oyl7bj1cbm4uZ2V0TmV4dFNvdXJjZU5vZGUoITEpO2lmKGYuZXF1YWxzKG4pKWg9MTtlbHNlIGlmKGMobil8fG4udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZuLmlzQmxvY2tCb3VuZGFyeSgpKWNvbnRpbnVlO2JyZWFrfWlmKCFoKWJyZWFrO3ErK31mb3Ioay5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpO3EtLTspbj1hWysrZ10sbi5tb3ZlVG9Cb29rbWFyayhkLnNoaWZ0KCkpLGsuc2V0RW5kKG4uZW5kQ29udGFpbmVyLG4uZW5kT2Zmc2V0KX1yZXR1cm4ga319fSxjcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYil7Zm9yKHZhciBjPVtdLGQsZz0wO2c8dGhpcy5sZW5ndGg7ZysrKXtjLnB1c2goZD10aGlzW2ddLmNyZWF0ZUJvb2ttYXJrKGIsITApKTtmb3IodmFyIGg9ZysxO2g8dGhpcy5sZW5ndGg7aCsrKXRoaXNbaF09YShkLHRoaXNbaF0pLHRoaXNbaF09YShkLHRoaXNbaF0sITApfXJldHVybiBjfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz1bXSxkPTA7ZDxcbnRoaXMubGVuZ3RoO2QrKyljLnB1c2godGhpc1tkXS5jcmVhdGVCb29rbWFyazIoYSkpO3JldHVybiBjfSxtb3ZlVG9Cb29rbWFya3M6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPTA7Yzx0aGlzLmxlbmd0aDtjKyspdGhpc1tjXS5tb3ZlVG9Cb29rbWFyayhhW2NdKX19fSkoKTtcbihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKENLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVsxXXx8XCJza2lucy9cIitDS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0rXCIvXCIpfWZ1bmN0aW9uIGQoYil7dmFyIGM9Q0tFRElUT1Iuc2tpbltcInVhX1wiK2JdLGQ9Q0tFRElUT1IuZW52O2lmKGMpZm9yKHZhciBjPWMuc3BsaXQoXCIsXCIpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iPy0xOjF9KSxlPTAsZztlPGMubGVuZ3RoO2UrKylpZihnPWNbZV0sZC5pZSYmKGcucmVwbGFjZSgvXmllLyxcIlwiKT09ZC52ZXJzaW9ufHxkLnF1aXJrcyYmXCJpZXF1aXJrc1wiPT1nKSYmKGc9XCJpZVwiKSxkW2ddKXtiKz1cIl9cIitjW2VdO2JyZWFrfXJldHVybiBDS0VESVRPUi5nZXRVcmwoYSgpK2IrXCIuY3NzXCIpfWZ1bmN0aW9uIGIoYSxiKXtnW2FdfHwoQ0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldChkKGEpKSxnW2FdPTEpO2ImJmIoKX1mdW5jdGlvbiBjKGEpe3ZhciBiPVxuYS5nZXRCeUlkKGgpO2J8fChiPWEuZ2V0SGVhZCgpLmFwcGVuZChcInN0eWxlXCIpLGIuc2V0QXR0cmlidXRlKFwiaWRcIixoKSxiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpKTtyZXR1cm4gYn1mdW5jdGlvbiBlKGEsYixjKXt2YXIgZCxlLGc7aWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoYj1iLnNwbGl0KFwifVwiKS5zbGljZSgwLC0xKSxlPTA7ZTxiLmxlbmd0aDtlKyspYltlXT1iW2VdLnNwbGl0KFwie1wiKTtmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKylpZihDS0VESVRPUi5lbnYud2Via2l0KWZvcihlPTA7ZTxiLmxlbmd0aDtlKyspe2c9YltlXVsxXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWc9Zy5yZXBsYWNlKGNbZF1bMF0sY1tkXVsxXSk7YVtoXS4kLnNoZWV0LmFkZFJ1bGUoYltlXVswXSxnKX1lbHNle2c9Yjtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKWc9Zy5yZXBsYWNlKGNbZF1bMF0sY1tkXVsxXSk7Q0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbj9cbmFbaF0uJC5zdHlsZVNoZWV0LmNzc1RleHQrPWc6YVtoXS4kLmlubmVySFRNTCs9Z319dmFyIGc9e307Q0tFRElUT1Iuc2tpbj17cGF0aDphLGxvYWRQYXJ0OmZ1bmN0aW9uKGMsZCl7Q0tFRElUT1Iuc2tpbi5uYW1lIT1DS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0/Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGEoKStcInNraW4uanNcIiksZnVuY3Rpb24oKXtiKGMsZCl9KTpiKGMsZCl9LGdldFBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmdldFVybChkKGEpKX0saWNvbnM6e30sYWRkSWNvbjpmdW5jdGlvbihhLGIsYyxkKXthPWEudG9Mb3dlckNhc2UoKTt0aGlzLmljb25zW2FdfHwodGhpcy5pY29uc1thXT17cGF0aDpiLG9mZnNldDpjfHwwLGJnc2l6ZTpkfHxcIjE2cHhcIn0pfSxnZXRJY29uU3R5bGU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZzthJiYoYT1hLnRvTG93ZXJDYXNlKCksYiYmKGc9dGhpcy5pY29uc1thK1wiLXJ0bFwiXSksXG5nfHwoZz10aGlzLmljb25zW2FdKSk7YT1jfHxnJiZnLnBhdGh8fFwiXCI7ZD1kfHxnJiZnLm9mZnNldDtlPWV8fGcmJmcuYmdzaXplfHxcIjE2cHhcIjthJiYoYT1hLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpKTtyZXR1cm4gYSYmXCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIrQ0tFRElUT1IuZ2V0VXJsKGEpK1wiJyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIFwiK2QrXCJweDtiYWNrZ3JvdW5kLXNpemU6XCIrZStcIjtcIn19O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtnZXRVaUNvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlDb2xvcn0sc2V0VWlDb2xvcjpmdW5jdGlvbihhKXt2YXIgYj1jKENLRURJVE9SLmRvY3VtZW50KTtyZXR1cm4odGhpcy5zZXRVaUNvbG9yPWZ1bmN0aW9uKGEpe3RoaXMudWlDb2xvcj1hO3ZhciBjPUNLRURJVE9SLnNraW4uY2hhbWVsZW9uLGQ9XCJcIixnPVwiXCI7XCJmdW5jdGlvblwiPT10eXBlb2YgYyYmKGQ9Yyh0aGlzLFwiZWRpdG9yXCIpLGc9XG5jKHRoaXMsXCJwYW5lbFwiKSk7YT1bW24sYV1dO2UoW2JdLGQsYSk7ZShrLGcsYSl9KS5jYWxsKHRoaXMsYSl9fSk7dmFyIGg9XCJja2VfdWlfY29sb3JcIixrPVtdLG49L1xcJGNvbG9yL2c7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUxvYWRlZFwiLGZ1bmN0aW9uKGEpe2lmKCFDS0VESVRPUi5lbnYuaWV8fCFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYj1hLmVkaXRvcjthPWZ1bmN0aW9uKGEpe2E9KGEuZGF0YVswXXx8YS5kYXRhKS5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJpZnJhbWVcIikuZ2V0SXRlbSgwKS5nZXRGcmFtZURvY3VtZW50KCk7aWYoIWEuZ2V0QnlJZChcImNrZV91aV9jb2xvclwiKSl7YT1jKGEpO2sucHVzaChhKTt2YXIgZD1iLmdldFVpQ29sb3IoKTtkJiZlKFthXSxDS0VESVRPUi5za2luLmNoYW1lbGVvbihiLFwicGFuZWxcIiksW1tuLGRdXSl9fTtiLm9uKFwicGFuZWxTaG93XCIsYSk7Yi5vbihcIm1lbnVTaG93XCIsYSk7Yi5jb25maWcudWlDb2xvciYmYi5zZXRVaUNvbG9yKGIuY29uZmlnLnVpQ29sb3IpfX0pfSkoKTtcbihmdW5jdGlvbigpe2lmKENLRURJVE9SLmVudi53ZWJraXQpQ0tFRElUT1IuZW52LmhjPSExO2Vsc2V7dmFyIGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcIndpZHRoOjA7aGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTAwMDBweDtib3JkZXI6MXB4IHNvbGlkO2JvcmRlci1jb2xvcjpyZWQgYmx1ZVwiXFx4M2VcXHgzYy9kaXZcXHgzZScsQ0tFRElUT1IuZG9jdW1lbnQpO2EuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0SGVhZCgpKTt0cnl7dmFyIGQ9YS5nZXRDb21wdXRlZFN0eWxlKFwiYm9yZGVyLXRvcC1jb2xvclwiKSxiPWEuZ2V0Q29tcHV0ZWRTdHlsZShcImJvcmRlci1yaWdodC1jb2xvclwiKTtDS0VESVRPUi5lbnYuaGM9ISghZHx8ZCE9Yil9Y2F0Y2goYyl7Q0tFRElUT1IuZW52LmhjPSExfWEucmVtb3ZlKCl9Q0tFRElUT1IuZW52LmhjJiYoQ0tFRElUT1IuZW52LmNzc0NsYXNzKz1cIiBja2VfaGNcIik7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVUZXh0KFwiLmNrZXt2aXNpYmlsaXR5OmhpZGRlbjt9XCIpO1xuQ0tFRElUT1Iuc3RhdHVzPVwibG9hZGVkXCI7Q0tFRElUT1IuZmlyZU9uY2UoXCJsb2FkZWRcIik7aWYoYT1DS0VESVRPUi5fLnBlbmRpbmcpZm9yKGRlbGV0ZSBDS0VESVRPUi5fLnBlbmRpbmcsZD0wO2Q8YS5sZW5ndGg7ZCsrKUNLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkoYVtkXVswXSxhW2RdWzFdKSxDS0VESVRPUi5hZGQoYVtkXVswXSl9KSgpOy8qXG4gQ29weXJpZ2h0IChjKSAyMDAzLTIwMTcsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4qL1xuQ0tFRElUT1Iuc2tpbi5uYW1lPVwibW9vbm9cIjtDS0VESVRPUi5za2luLnVhX2VkaXRvcj1cImllLGllcXVpcmtzLGllNyxpZTgsZ2Vja29cIjtDS0VESVRPUi5za2luLnVhX2RpYWxvZz1cImllLGllcXVpcmtzLGllNyxpZThcIjtcbkNLRURJVE9SLnNraW4uY2hhbWVsZW9uPWZ1bmN0aW9uKCl7dmFyIGI9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYixlKXtmb3IodmFyIGE9Yi5tYXRjaCgvW14jXS4vZyksYz0wOzM+YztjKyspe3ZhciBmPWMsZDtkPXBhcnNlSW50KGFbY10sMTYpO2Q9KFwiMFwiKygwPmU/MHxkKigxK2UpOjB8ZCsoMjU1LWQpKmUpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpO2FbZl09ZH1yZXR1cm5cIiNcIithLmpvaW4oXCJcIil9fSgpLGM9ZnVuY3Rpb24oKXt2YXIgYj1uZXcgQ0tFRElUT1IudGVtcGxhdGUoXCJiYWNrZ3JvdW5kOiN7dG99O2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSx7ZnJvbX0se3RvfSk7ZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChncmFkaWVudFR5cGVcXHgzZDAsc3RhcnRDb2xvcnN0clxceDNkJ3tmcm9tfScsZW5kQ29sb3JzdHJcXHgzZCd7dG99Jyk7XCIpO3JldHVybiBmdW5jdGlvbihjLGEpe3JldHVybiBiLm91dHB1dCh7ZnJvbTpjLFxudG86YX0pfX0oKSxmPXtlZGl0b3I6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwie2lkfS5ja2VfY2hyb21lIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3RvcCBbIHtkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfYm90dG9tIFt7ZGVmYXVsdEdyYWRpZW50fWJvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Jlc2l6ZXIgW2JvcmRlci1yaWdodC1jb2xvcjp7Y2tlUmVzaXplcn1dIHtpZH0gLmNrZV9kaWFsb2dfdGl0bGUgW3tkZWZhdWx0R3JhZGllbnR9Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2Zvb3RlciBbe2RlZmF1bHRHcmFkaWVudH1vdXRsaW5lLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiIFt7bGlnaHRHcmFkaWVudH1ib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWI6aG92ZXIgW3ttZWRpdW1HcmFkaWVudH1dIHtpZH0gLmNrZV9kaWFsb2dfY29udGVudHMgW2JvcmRlci10b3AtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQsIHtpZH0gLmNrZV9kaWFsb2dfdGFiX3NlbGVjdGVkOmhvdmVyIFtiYWNrZ3JvdW5kOntkaWFsb2dUYWJTZWxlY3RlZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ19ib2R5IFtiYWNrZ3JvdW5kOntkaWFsb2dCb2R5fTtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3Rvb2xncm91cCBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gYS5ja2VfYnV0dG9uX29mZjpob3Zlciwge2lkfSBhLmNrZV9idXR0b25fb2ZmOmZvY3VzLCB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6YWN0aXZlIFt7bWVkaXVtR3JhZGllbnR9XSB7aWR9IC5ja2VfYnV0dG9uX29uIFt7Y2tlQnV0dG9uT259XSB7aWR9IC5ja2VfdG9vbGJhcl9zZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6IHtja2VUb29sYmFyU2VwYXJhdG9yfTtdIHtpZH0gLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07e2xpZ2h0R3JhZGllbnR9XSB7aWR9IGEuY2tlX2NvbWJvX2J1dHRvbjpob3Zlciwge2lkfSBhLmNrZV9jb21ib19idXR0b246Zm9jdXMsIHtpZH0gLmNrZV9jb21ib19vbiBhLmNrZV9jb21ib19idXR0b24gW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07e21lZGl1bUdyYWRpZW50fV0ge2lkfSAuY2tlX3BhdGhfaXRlbSBbY29sb3I6e2VsZW1lbnRzUGF0aENvbG9yfTtdIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmhvdmVyLCB7aWR9IGEuY2tlX3BhdGhfaXRlbTpmb2N1cywge2lkfSBhLmNrZV9wYXRoX2l0ZW06YWN0aXZlIFtiYWNrZ3JvdW5kLWNvbG9yOntlbGVtZW50c1BhdGhCZ307XSB7aWR9LmNrZV9wYW5lbCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIFwiKSxcbnBhbmVsOm5ldyBDS0VESVRPUi50ZW1wbGF0ZShcIi5ja2VfcGFuZWxfZ3JvdXB0aXRsZSBbe2xpZ2h0R3JhZGllbnR9Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSAuY2tlX21lbnVidXR0b246aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjpmb2N1cyAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb25Ib3Zlcn07XSAuY2tlX21lbnVzZXBhcmF0b3IgW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIGE6aG92ZXIuY2tlX2NvbG9yYm94LCBhOmZvY3VzLmNrZV9jb2xvcmJveCwgYTphY3RpdmUuY2tlX2NvbG9yYm94IFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10gYTpob3Zlci5ja2VfY29sb3JhdXRvLCBhOmhvdmVyLmNrZV9jb2xvcm1vcmUsIGE6Zm9jdXMuY2tlX2NvbG9yYXV0bywgYTpmb2N1cy5ja2VfY29sb3Jtb3JlLCBhOmFjdGl2ZS5ja2VfY29sb3JhdXRvLCBhOmFjdGl2ZS5ja2VfY29sb3Jtb3JlIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VDb2xvcmF1dG99O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIil9O1xucmV0dXJuIGZ1bmN0aW9uKGcsZSl7dmFyIGE9Zy51aUNvbG9yLGE9e2lkOlwiLlwiK2cuaWQsZGVmYXVsdEJvcmRlcjpiKGEsLS4xKSxkZWZhdWx0R3JhZGllbnQ6YyhiKGEsLjkpLGEpLGxpZ2h0R3JhZGllbnQ6YyhiKGEsMSksYihhLC43KSksbWVkaXVtR3JhZGllbnQ6YyhiKGEsLjgpLGIoYSwuNSkpLGNrZUJ1dHRvbk9uOmMoYihhLC42KSxiKGEsLjcpKSxja2VSZXNpemVyOmIoYSwtLjQpLGNrZVRvb2xiYXJTZXBhcmF0b3I6YihhLC41KSxja2VDb2xvcmF1dG86YihhLC44KSxkaWFsb2dCb2R5OmIoYSwuNyksZGlhbG9nVGFiU2VsZWN0ZWQ6YyhcIiNGRkZGRkZcIixcIiNGRkZGRkZcIiksZGlhbG9nVGFiU2VsZWN0ZWRCb3JkZXI6XCIjRkZGXCIsZWxlbWVudHNQYXRoQ29sb3I6YihhLC0uNiksZWxlbWVudHNQYXRoQmc6YSxtZW51YnV0dG9uSWNvbjpiKGEsLjUpLG1lbnVidXR0b25JY29uSG92ZXI6YihhLC4zKX07cmV0dXJuIGZbZV0ub3V0cHV0KGEpLnJlcGxhY2UoL1xcWy9nLFwie1wiKS5yZXBsYWNlKC9cXF0vZyxcblwifVwiKX19KCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJiYXNpY3N0eWxlc1wiLHtpbml0OmZ1bmN0aW9uKGMpe3ZhciBlPTAsZD1mdW5jdGlvbihnLGQsYixhKXtpZihhKXthPW5ldyBDS0VESVRPUi5zdHlsZShhKTt2YXIgZj1oW2JdO2YudW5zaGlmdChhKTtjLmF0dGFjaFN0eWxlU3RhdGVDaGFuZ2UoYSxmdW5jdGlvbihhKXshYy5yZWFkT25seSYmYy5nZXRDb21tYW5kKGIpLnNldFN0YXRlKGEpfSk7Yy5hZGRDb21tYW5kKGIsbmV3IENLRURJVE9SLnN0eWxlQ29tbWFuZChhLHtjb250ZW50Rm9ybXM6Zn0pKTtjLnVpLmFkZEJ1dHRvbiYmYy51aS5hZGRCdXR0b24oZyx7bGFiZWw6ZCxjb21tYW5kOmIsdG9vbGJhcjpcImJhc2ljc3R5bGVzLFwiKyhlKz0xMCl9KX19LGg9e2JvbGQ6W1wic3Ryb25nXCIsXCJiXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe2E9YS5zdHlsZXNbXCJmb250LXdlaWdodFwiXTtyZXR1cm5cImJvbGRcIj09YXx8NzAwPD0rYX1dXSxpdGFsaWM6W1wiZW1cIixcImlcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJpdGFsaWNcIj09XG5hLnN0eWxlc1tcImZvbnQtc3R5bGVcIl19XV0sdW5kZXJsaW5lOltcInVcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlcmxpbmVcIj09YS5zdHlsZXNbXCJ0ZXh0LWRlY29yYXRpb25cIl19XV0sc3RyaWtlOltcInNcIixcInN0cmlrZVwiLFtcInNwYW5cIixmdW5jdGlvbihhKXtyZXR1cm5cImxpbmUtdGhyb3VnaFwiPT1hLnN0eWxlc1tcInRleHQtZGVjb3JhdGlvblwiXX1dXSxzdWJzY3JpcHQ6W1wic3ViXCJdLHN1cGVyc2NyaXB0OltcInN1cFwiXX0sYj1jLmNvbmZpZyxhPWMubGFuZy5iYXNpY3N0eWxlcztkKFwiQm9sZFwiLGEuYm9sZCxcImJvbGRcIixiLmNvcmVTdHlsZXNfYm9sZCk7ZChcIkl0YWxpY1wiLGEuaXRhbGljLFwiaXRhbGljXCIsYi5jb3JlU3R5bGVzX2l0YWxpYyk7ZChcIlVuZGVybGluZVwiLGEudW5kZXJsaW5lLFwidW5kZXJsaW5lXCIsYi5jb3JlU3R5bGVzX3VuZGVybGluZSk7ZChcIlN0cmlrZVwiLGEuc3RyaWtlLFwic3RyaWtlXCIsYi5jb3JlU3R5bGVzX3N0cmlrZSk7ZChcIlN1YnNjcmlwdFwiLGEuc3Vic2NyaXB0LFxuXCJzdWJzY3JpcHRcIixiLmNvcmVTdHlsZXNfc3Vic2NyaXB0KTtkKFwiU3VwZXJzY3JpcHRcIixhLnN1cGVyc2NyaXB0LFwic3VwZXJzY3JpcHRcIixiLmNvcmVTdHlsZXNfc3VwZXJzY3JpcHQpO2Muc2V0S2V5c3Ryb2tlKFtbQ0tFRElUT1IuQ1RSTCs2NixcImJvbGRcIl0sW0NLRURJVE9SLkNUUkwrNzMsXCJpdGFsaWNcIl0sW0NLRURJVE9SLkNUUkwrODUsXCJ1bmRlcmxpbmVcIl1dKX19KTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19ib2xkPXtlbGVtZW50Olwic3Ryb25nXCIsb3ZlcnJpZGVzOlwiYlwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19pdGFsaWM9e2VsZW1lbnQ6XCJlbVwiLG92ZXJyaWRlczpcImlcIn07Q0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfdW5kZXJsaW5lPXtlbGVtZW50OlwidVwifTtDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdHJpa2U9e2VsZW1lbnQ6XCJzXCIsb3ZlcnJpZGVzOlwic3RyaWtlXCJ9O0NLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1YnNjcmlwdD17ZWxlbWVudDpcInN1YlwifTtcbkNLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0PXtlbGVtZW50Olwic3VwXCJ9OyhmdW5jdGlvbigpe3ZhciBtPXtleGVjOmZ1bmN0aW9uKGcpe3ZhciBhPWcuZ2V0Q29tbWFuZChcImJsb2NrcXVvdGVcIikuc3RhdGUsaz1nLmdldFNlbGVjdGlvbigpLGM9ayYmay5nZXRSYW5nZXMoKVswXTtpZihjKXt2YXIgaD1rLmNyZWF0ZUJvb2ttYXJrcygpO2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGU9aFswXS5zdGFydE5vZGUsYj1oWzBdLmVuZE5vZGUsZDtpZihlJiZcImJsb2NrcXVvdGVcIj09ZS5nZXRQYXJlbnQoKS5nZXROYW1lKCkpZm9yKGQ9ZTtkPWQuZ2V0TmV4dCgpOylpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0Jsb2NrQm91bmRhcnkoKSl7ZS5tb3ZlKGQsITApO2JyZWFrfWlmKGImJlwiYmxvY2txdW90ZVwiPT1iLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoZD1iO2Q9ZC5nZXRQcmV2aW91cygpOylpZihkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pc0Jsb2NrQm91bmRhcnkoKSl7Yi5tb3ZlKGQpO2JyZWFrfX12YXIgZj1jLmNyZWF0ZUl0ZXJhdG9yKCk7XG5mLmVubGFyZ2VCcj1nLmNvbmZpZy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2lmKGE9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7Zm9yKGU9W107YT1mLmdldE5leHRQYXJhZ3JhcGgoKTspZS5wdXNoKGEpOzE+ZS5sZW5ndGgmJihhPWcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChnLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIiksYj1oLnNoaWZ0KCksYy5pbnNlcnROb2RlKGEpLGEuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChcIu+7v1wiLGcuZG9jdW1lbnQpKSxjLm1vdmVUb0Jvb2ttYXJrKGIpLGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuY29sbGFwc2UoITApLGI9Yy5jcmVhdGVCb29rbWFyaygpLGUucHVzaChhKSxoLnVuc2hpZnQoYikpO2Q9ZVswXS5nZXRQYXJlbnQoKTtjPVtdO2ZvcihiPTA7YjxlLmxlbmd0aDtiKyspYT1lW2JdLGQ9ZC5nZXRDb21tb25BbmNlc3RvcihhLmdldFBhcmVudCgpKTtmb3IoYT17dGFibGU6MSx0Ym9keToxLFxudHI6MSxvbDoxLHVsOjF9O2FbZC5nZXROYW1lKCldOylkPWQuZ2V0UGFyZW50KCk7Zm9yKGI9bnVsbDswPGUubGVuZ3RoOyl7Zm9yKGE9ZS5zaGlmdCgpOyFhLmdldFBhcmVudCgpLmVxdWFscyhkKTspYT1hLmdldFBhcmVudCgpO2EuZXF1YWxzKGIpfHxjLnB1c2goYSk7Yj1hfWZvcig7MDxjLmxlbmd0aDspaWYoYT1jLnNoaWZ0KCksXCJibG9ja3F1b3RlXCI9PWEuZ2V0TmFtZSgpKXtmb3IoYj1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoZy5kb2N1bWVudCk7YS5nZXRGaXJzdCgpOyliLmFwcGVuZChhLmdldEZpcnN0KCkucmVtb3ZlKCkpLGUucHVzaChiLmdldExhc3QoKSk7Yi5yZXBsYWNlKGEpfWVsc2UgZS5wdXNoKGEpO2M9Zy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYmxvY2txdW90ZVwiKTtmb3IoYy5pbnNlcnRCZWZvcmUoZVswXSk7MDxlLmxlbmd0aDspYT1lLnNoaWZ0KCksYy5hcHBlbmQoYSl9ZWxzZSBpZihhPT1DS0VESVRPUi5UUklTVEFURV9PTil7Yj1bXTtcbmZvcihkPXt9O2E9Zi5nZXROZXh0UGFyYWdyYXBoKCk7KXtmb3IoZT1jPW51bGw7YS5nZXRQYXJlbnQoKTspe2lmKFwiYmxvY2txdW90ZVwiPT1hLmdldFBhcmVudCgpLmdldE5hbWUoKSl7Yz1hLmdldFBhcmVudCgpO2U9YTticmVha31hPWEuZ2V0UGFyZW50KCl9YyYmZSYmIWUuZ2V0Q3VzdG9tRGF0YShcImJsb2NrcXVvdGVfbW92ZW91dFwiKSYmKGIucHVzaChlKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZCxlLFwiYmxvY2txdW90ZV9tb3Zlb3V0XCIsITApKX1DS0VESVRPUi5kb20uZWxlbWVudC5jbGVhckFsbE1hcmtlcnMoZCk7YT1bXTtlPVtdO2ZvcihkPXt9OzA8Yi5sZW5ndGg7KWY9Yi5zaGlmdCgpLGM9Zi5nZXRQYXJlbnQoKSxmLmdldFByZXZpb3VzKCk/Zi5nZXROZXh0KCk/KGYuYnJlYWtQYXJlbnQoZi5nZXRQYXJlbnQoKSksZS5wdXNoKGYuZ2V0TmV4dCgpKSk6Zi5yZW1vdmUoKS5pbnNlcnRBZnRlcihjKTpmLnJlbW92ZSgpLmluc2VydEJlZm9yZShjKSxjLmdldEN1c3RvbURhdGEoXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiKXx8XG4oZS5wdXNoKGMpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihkLGMsXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiLCEwKSksYS5wdXNoKGYpO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhkKTtmb3IoYj1lLmxlbmd0aC0xOzA8PWI7Yi0tKXtjPWVbYl07YTp7ZD1jO2Zvcih2YXIgZj0wLG09ZC5nZXRDaGlsZENvdW50KCksbD12b2lkIDA7ZjxtJiYobD1kLmdldENoaWxkKGYpKTtmKyspaWYobC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuaXNCbG9ja0JvdW5kYXJ5KCkpe2Q9ITE7YnJlYWsgYX1kPSEwfWQmJmMucmVtb3ZlKCl9aWYoZy5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUilmb3IoYz0hMDthLmxlbmd0aDspaWYoZj1hLnNoaWZ0KCksXCJkaXZcIj09Zi5nZXROYW1lKCkpe2I9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGcuZG9jdW1lbnQpOyFjfHwhZi5nZXRQcmV2aW91cygpfHxmLmdldFByZXZpb3VzKCkudHlwZT09XG5DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmYuZ2V0UHJldmlvdXMoKS5pc0Jsb2NrQm91bmRhcnkoKXx8Yi5hcHBlbmQoZy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO2ZvcihjPWYuZ2V0TmV4dCgpJiYhKGYuZ2V0TmV4dCgpLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5nZXROZXh0KCkuaXNCbG9ja0JvdW5kYXJ5KCkpO2YuZ2V0Rmlyc3QoKTspZi5nZXRGaXJzdCgpLnJlbW92ZSgpLmFwcGVuZFRvKGIpO2MmJmIuYXBwZW5kKGcuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJyXCIpKTtiLnJlcGxhY2UoZik7Yz0hMX19ay5zZWxlY3RCb29rbWFya3MoaCk7Zy5mb2N1cygpfX0scmVmcmVzaDpmdW5jdGlvbihnLGEpe3RoaXMuc2V0U3RhdGUoZy5lbGVtZW50UGF0aChhLmJsb2NrfHxhLmJsb2NrTGltaXQpLmNvbnRhaW5zKFwiYmxvY2txdW90ZVwiLDEpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRil9LGNvbnRleHQ6XCJibG9ja3F1b3RlXCIsYWxsb3dlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCIsXG5yZXF1aXJlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmxvY2txdW90ZVwiLHtpbml0OmZ1bmN0aW9uKGcpe2cuYmxvY2tsZXNzfHwoZy5hZGRDb21tYW5kKFwiYmxvY2txdW90ZVwiLG0pLGcudWkuYWRkQnV0dG9uJiZnLnVpLmFkZEJ1dHRvbihcIkJsb2NrcXVvdGVcIix7bGFiZWw6Zy5sYW5nLmJsb2NrcXVvdGUudG9vbGJhcixjb21tYW5kOlwiYmxvY2txdW90ZVwiLHRvb2xiYXI6XCJibG9ja3MsMTBcIn0pKX19KX0pKCk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJub3RpZmljYXRpb25cIix7aW5pdDpmdW5jdGlvbihiKXtmdW5jdGlvbiBhKGIpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTthLnNldFN0eWxlcyh7cG9zaXRpb246XCJmaXhlZFwiLFwibWFyZ2luLWxlZnRcIjpcIi05OTk5cHhcIn0pO2Euc2V0QXR0cmlidXRlcyh7XCJhcmlhLWxpdmVcIjpcImFzc2VydGl2ZVwiLFwiYXJpYS1hdG9taWNcIjpcInRydWVcIn0pO2Euc2V0VGV4dChiKTtDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnJlbW92ZSgpfSwxMDApfWIuXy5ub3RpZmljYXRpb25BcmVhPW5ldyBBcmVhKGIpO2Iuc2hvd05vdGlmaWNhdGlvbj1mdW5jdGlvbihhLGQsZSl7dmFyIGYsbDtcInByb2dyZXNzXCI9PWQ/Zj1lOmw9ZTthPW5ldyBDS0VESVRPUi5wbHVnaW5zLm5vdGlmaWNhdGlvbihiLHttZXNzYWdlOmEsdHlwZTpkLHByb2dyZXNzOmYsZHVyYXRpb246bH0pO2Euc2hvdygpO1xucmV0dXJuIGF9O2Iub24oXCJrZXlcIixmdW5jdGlvbihjKXtpZigyNz09Yy5kYXRhLmtleUNvZGUpe3ZhciBkPWIuXy5ub3RpZmljYXRpb25BcmVhLm5vdGlmaWNhdGlvbnM7ZC5sZW5ndGgmJihhKGIubGFuZy5ub3RpZmljYXRpb24uY2xvc2VkKSxkW2QubGVuZ3RoLTFdLmhpZGUoKSxjLmNhbmNlbCgpKX19KX19KTtmdW5jdGlvbiBOb3RpZmljYXRpb24oYixhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHtlZGl0b3I6YixpZDpcImNrZS1cIitDS0VESVRPUi50b29scy5nZXRVbmlxdWVJZCgpLGFyZWE6Yi5fLm5vdGlmaWNhdGlvbkFyZWF9KTthLnR5cGV8fCh0aGlzLnR5cGU9XCJpbmZvXCIpO3RoaXMuZWxlbWVudD10aGlzLl9jcmVhdGVFbGVtZW50KCk7Yi5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KHRoaXMuZWxlbWVudCl9XG5Ob3RpZmljYXRpb24ucHJvdG90eXBlPXtzaG93OmZ1bmN0aW9uKCl7ITEhPT10aGlzLmVkaXRvci5maXJlKFwibm90aWZpY2F0aW9uU2hvd1wiLHtub3RpZmljYXRpb246dGhpc30pJiYodGhpcy5hcmVhLmFkZCh0aGlzKSx0aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCkpfSx1cGRhdGU6ZnVuY3Rpb24oYil7dmFyIGE9ITA7ITE9PT10aGlzLmVkaXRvci5maXJlKFwibm90aWZpY2F0aW9uVXBkYXRlXCIse25vdGlmaWNhdGlvbjp0aGlzLG9wdGlvbnM6Yn0pJiYoYT0hMSk7dmFyIGM9dGhpcy5lbGVtZW50LGQ9Yy5maW5kT25lKFwiLmNrZV9ub3RpZmljYXRpb25fbWVzc2FnZVwiKSxlPWMuZmluZE9uZShcIi5ja2Vfbm90aWZpY2F0aW9uX3Byb2dyZXNzXCIpLGY9Yi50eXBlO2MucmVtb3ZlQXR0cmlidXRlKFwicm9sZVwiKTtiLnByb2dyZXNzJiZcInByb2dyZXNzXCIhPXRoaXMudHlwZSYmKGY9XCJwcm9ncmVzc1wiKTtmJiYoYy5yZW1vdmVDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxjLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiksXG50aGlzLnR5cGU9ZixjLmFkZENsYXNzKHRoaXMuX2dldENsYXNzKCkpLGMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMudHlwZSksXCJwcm9ncmVzc1wiIT10aGlzLnR5cGV8fGU/XCJwcm9ncmVzc1wiIT10aGlzLnR5cGUmJmUmJmUucmVtb3ZlKCk6KGU9dGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCksZS5pbnNlcnRCZWZvcmUoZCkpKTt2b2lkIDAhPT1iLm1lc3NhZ2UmJih0aGlzLm1lc3NhZ2U9Yi5tZXNzYWdlLGQuc2V0SHRtbCh0aGlzLm1lc3NhZ2UpKTt2b2lkIDAhPT1iLnByb2dyZXNzJiYodGhpcy5wcm9ncmVzcz1iLnByb2dyZXNzLGUmJmUuc2V0U3R5bGUoXCJ3aWR0aFwiLHRoaXMuX2dldFBlcmNlbnRhZ2VQcm9ncmVzcygpKSk7YSYmYi5pbXBvcnRhbnQmJihjLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLHRoaXMuaXNWaXNpYmxlKCl8fHRoaXMuYXJlYS5hZGQodGhpcykpO3RoaXMuZHVyYXRpb249Yi5kdXJhdGlvbjt0aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCl9LFxuaGlkZTpmdW5jdGlvbigpeyExIT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvbkhpZGVcIix7bm90aWZpY2F0aW9uOnRoaXN9KSYmdGhpcy5hcmVhLnJlbW92ZSh0aGlzKX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIDA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5hcmVhLm5vdGlmaWNhdGlvbnMsdGhpcyl9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhLGMsZD10aGlzLmVkaXRvci5sYW5nLmNvbW1vbi5jbG9zZTthPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTthLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvblwiKTthLmFkZENsYXNzKHRoaXMuX2dldENsYXNzKCkpO2Euc2V0QXR0cmlidXRlcyh7aWQ6dGhpcy5pZCxyb2xlOlwiYWxlcnRcIixcImFyaWEtbGFiZWxcIjp0aGlzLnR5cGV9KTtcInByb2dyZXNzXCI9PXRoaXMudHlwZSYmYS5hcHBlbmQodGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCkpO2M9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwicFwiKTtcbmMuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uX21lc3NhZ2VcIik7Yy5zZXRIdG1sKHRoaXMubWVzc2FnZSk7YS5hcHBlbmQoYyk7Yz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NhIGNsYXNzXFx4M2RcImNrZV9ub3RpZmljYXRpb25fY2xvc2VcIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiIHRpdGxlXFx4M2RcIicrZCsnXCIgcm9sZVxceDNkXCJidXR0b25cIiB0YWJpbmRleFxceDNkXCItMVwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2xhYmVsXCJcXHgzZVhcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2UnKTthLmFwcGVuZChjKTtjLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2IuZWRpdG9yLmZvY3VzKCk7Yi5oaWRlKCl9KTtyZXR1cm4gYX0sX2dldENsYXNzOmZ1bmN0aW9uKCl7cmV0dXJuXCJwcm9ncmVzc1wiPT10aGlzLnR5cGU/XCJja2Vfbm90aWZpY2F0aW9uX2luZm9cIjpcImNrZV9ub3RpZmljYXRpb25fXCIrdGhpcy50eXBlfSxfY3JlYXRlUHJvZ3Jlc3NFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpO2IuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uX3Byb2dyZXNzXCIpO2Iuc2V0U3R5bGUoXCJ3aWR0aFwiLHRoaXMuX2dldFBlcmNlbnRhZ2VQcm9ncmVzcygpKTtyZXR1cm4gYn0sX2dldFBlcmNlbnRhZ2VQcm9ncmVzczpmdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKDEwMCoodGhpcy5wcm9ncmVzc3x8MCkpK1wiJVwifSxfaGlkZUFmdGVyVGltZW91dDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTt0aGlzLl9oaWRlVGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXRJZCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZHVyYXRpb24pYT10aGlzLmR1cmF0aW9uO2Vsc2UgaWYoXCJpbmZvXCI9PXRoaXMudHlwZXx8XCJzdWNjZXNzXCI9PXRoaXMudHlwZSlhPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmVkaXRvci5jb25maWcubm90aWZpY2F0aW9uX2R1cmF0aW9uP3RoaXMuZWRpdG9yLmNvbmZpZy5ub3RpZmljYXRpb25fZHVyYXRpb246XG41RTM7YSYmKGIuX2hpZGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IuaGlkZSgpfSxhKSl9fTtmdW5jdGlvbiBBcmVhKGIpe3ZhciBhPXRoaXM7dGhpcy5lZGl0b3I9Yjt0aGlzLm5vdGlmaWNhdGlvbnM9W107dGhpcy5lbGVtZW50PXRoaXMuX2NyZWF0ZUVsZW1lbnQoKTt0aGlzLl91aUJ1ZmZlcj1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoMTAsdGhpcy5fbGF5b3V0LHRoaXMpO3RoaXMuX2NoYW5nZUJ1ZmZlcj1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAwLHRoaXMuX2xheW91dCx0aGlzKTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7YS5fcmVtb3ZlTGlzdGVuZXJzKCk7YS5lbGVtZW50LnJlbW92ZSgpfSl9XG5BcmVhLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGIpe3RoaXMubm90aWZpY2F0aW9ucy5wdXNoKGIpO3RoaXMuZWxlbWVudC5hcHBlbmQoYi5lbGVtZW50KTsxPT10aGlzLmVsZW1lbnQuZ2V0Q2hpbGRDb3VudCgpJiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZCh0aGlzLmVsZW1lbnQpLHRoaXMuX2F0dGFjaExpc3RlbmVycygpKTt0aGlzLl9sYXlvdXQoKX0scmVtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5ub3RpZmljYXRpb25zLGIpOzA+YXx8KHRoaXMubm90aWZpY2F0aW9ucy5zcGxpY2UoYSwxKSxiLmVsZW1lbnQucmVtb3ZlKCksdGhpcy5lbGVtZW50LmdldENoaWxkQ291bnQoKXx8KHRoaXMuX3JlbW92ZUxpc3RlbmVycygpLHRoaXMuZWxlbWVudC5yZW1vdmUoKSkpfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWRpdG9yLGE9Yi5jb25maWcsYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7XG5jLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbnNfYXJlYVwiKTtjLnNldEF0dHJpYnV0ZShcImlkXCIsXCJja2Vfbm90aWZpY2F0aW9uc19hcmVhX1wiK2IubmFtZSk7Yy5zZXRTdHlsZShcInotaW5kZXhcIixhLmJhc2VGbG9hdFpJbmRleC0yKTtyZXR1cm4gY30sX2F0dGFjaExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGE9dGhpcy5lZGl0b3I7Yi5vbihcInNjcm9sbFwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtiLm9uKFwicmVzaXplXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO2Eub24oXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VCdWZmZXIuaW5wdXQpO2Eub24oXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIsdGhpcy5fbGF5b3V0LHRoaXMsbnVsbCwyMCk7YS5vbihcImJsdXJcIix0aGlzLl9sYXlvdXQsdGhpcyxudWxsLDIwKX0sX3JlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGE9dGhpcy5lZGl0b3I7XG5iLnJlbW92ZUxpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5fdWlCdWZmZXIuaW5wdXQpO2IucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7YS5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVwiLHRoaXMuX2NoYW5nZUJ1ZmZlci5pbnB1dCk7YS5yZW1vdmVMaXN0ZW5lcihcImZsb2F0aW5nU3BhY2VMYXlvdXRcIix0aGlzLl9sYXlvdXQpO2EucmVtb3ZlTGlzdGVuZXIoXCJibHVyXCIsdGhpcy5fbGF5b3V0KX0sX2xheW91dDpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoKXthLnNldFN0eWxlKFwibGVmdFwiLGsobitkLndpZHRoLWctaCkpfXZhciBhPXRoaXMuZWxlbWVudCxjPXRoaXMuZWRpdG9yLGQ9Yy51aS5jb250ZW50c0VsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpLGU9Yy51aS5jb250ZW50c0VsZW1lbnQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGYsbCxyPWEuZ2V0Q2xpZW50UmVjdCgpLG0sZz10aGlzLl9ub3RpZmljYXRpb25XaWR0aCxoPXRoaXMuX25vdGlmaWNhdGlvbk1hcmdpbjtcbm09Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCk7dmFyIHA9bS5nZXRTY3JvbGxQb3NpdGlvbigpLHE9bS5nZXRWaWV3UGFuZVNpemUoKSx0PUNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSx1PXQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLGs9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoO2cmJmh8fChtPXRoaXMuZWxlbWVudC5nZXRDaGlsZCgwKSxnPXRoaXMuX25vdGlmaWNhdGlvbldpZHRoPW0uZ2V0Q2xpZW50UmVjdCgpLndpZHRoLGg9dGhpcy5fbm90aWZpY2F0aW9uTWFyZ2luPXBhcnNlSW50KG0uZ2V0Q29tcHV0ZWRTdHlsZShcIm1hcmdpbi1sZWZ0XCIpLDEwKStwYXJzZUludChtLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tcmlnaHRcIiksMTApKTtjLnRvb2xiYXImJihmPWMudWkuc3BhY2UoXCJ0b3BcIiksbD1mLmdldENsaWVudFJlY3QoKSk7ZiYmZi5pc1Zpc2libGUoKSYmbC5ib3R0b20+ZC50b3AmJmwuYm90dG9tPGQuYm90dG9tLXIuaGVpZ2h0P2Euc2V0U3R5bGVzKHtwb3NpdGlvbjpcImZpeGVkXCIsXG50b3A6ayhsLmJvdHRvbSl9KTowPGQudG9wP2Euc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmsoZS55KX0pOmUueStkLmhlaWdodC1yLmhlaWdodD5wLnk/YS5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MH0pOmEuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmsoZS55K2QuaGVpZ2h0LXIuaGVpZ2h0KX0pO3ZhciBuPVwiZml4ZWRcIj09YS5nZXRTdHlsZShcInBvc2l0aW9uXCIpP2QubGVmdDpcInN0YXRpY1wiIT10LmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKT9lLngtdS54OmUueDtkLndpZHRoPGcraD9lLngrZytoPnAueCtxLndpZHRoP2IoKTphLnNldFN0eWxlKFwibGVmdFwiLGsobikpOmUueCtnK2g+cC54K3Eud2lkdGg/YS5zZXRTdHlsZShcImxlZnRcIixrKG4pKTplLngrZC53aWR0aC8yK2cvMitoPnAueCtxLndpZHRoP2Euc2V0U3R5bGUoXCJsZWZ0XCIsayhuLWUueCtwLngrcS53aWR0aC1nLWgpKTowPmQubGVmdCtkLndpZHRoLWctaD9iKCk6XG4wPmQubGVmdCtkLndpZHRoLzItZy8yP2Euc2V0U3R5bGUoXCJsZWZ0XCIsayhuLWUueCtwLngpKTphLnNldFN0eWxlKFwibGVmdFwiLGsobitkLndpZHRoLzItZy8yLWgvMikpfX07Q0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb249Tm90aWZpY2F0aW9uOyhmdW5jdGlvbigpe3ZhciBjPSdcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9idXR0b24gY2tlX2J1dHRvbl9fe25hbWV9IGNrZV9idXR0b25fe3N0YXRlfSB7Y2xzfVwiJysoQ0tFRElUT1IuZW52LmdlY2tvJiYhQ0tFRElUT1IuZW52LmhjP1wiXCI6XCIgaHJlZlxceDNkXFxcImphdmFzY3JpcHQ6dm9pZCgne3RpdGxlSnN9JylcXFwiXCIpKycgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCIgaGlkZWZvY3VzXFx4M2RcInRydWVcIiByb2xlXFx4M2RcImJ1dHRvblwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJ7aWR9X2xhYmVsXCIgYXJpYS1kZXNjcmliZWRieVxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJ7aGFzQXJyb3d9XCIgYXJpYS1kaXNhYmxlZFxceDNkXCJ7YXJpYURpc2FibGVkfVwiJztDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihjKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYys9XG4nIG9uYmx1clxceDNkXCJ0aGlzLnN0eWxlLmNzc1RleHQgXFx4M2QgdGhpcy5zdHlsZS5jc3NUZXh0O1wiJyk7dmFyIGM9YysoJyBvbmtleWRvd25cXHgzZFwicmV0dXJuIENLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7a2V5ZG93bkZufSxldmVudCk7XCIgb25mb2N1c1xceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgJysoQ0tFRElUT1IuZW52LmllPydvbmNsaWNrXFx4M2RcInJldHVybiBmYWxzZTtcIiBvbm1vdXNldXAnOlwib25jbGlja1wiKSsnXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0sdGhpcyk7cmV0dXJuIGZhbHNlO1wiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9pY29uIGNrZV9idXR0b25fX3tpY29uTmFtZX1faWNvblwiIHN0eWxlXFx4M2RcIntzdHlsZX1cIicpLGM9YysnXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fbGFiZWxcIiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2xhYmVsIGNrZV9idXR0b25fX3tuYW1lfV9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGNsYXNzXFx4M2RcImNrZV9idXR0b25fbGFiZWxcIiBhcmlhLWhpZGRlblxceDNkXCJmYWxzZVwiXFx4M2V7YXJpYVNob3J0Y3V0fVxceDNjL3NwYW5cXHgzZXthcnJvd0h0bWx9XFx4M2MvYVxceDNlJyxcbnQ9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25BcnJvd1wiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9hcnJvd1wiXFx4M2UnKyhDS0VESVRPUi5lbnYuaGM/XCJcXHgyNiM5NjYwO1wiOlwiXCIpK1wiXFx4M2Mvc3BhblxceDNlXCIpLHU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJidXR0b25cIixjKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImJ1dHRvblwiLHtiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9CVVRUT04sQ0tFRElUT1IudWkuYnV0dG9uLmhhbmRsZXIpfX0pO0NLRURJVE9SLlVJX0JVVFRPTj1cImJ1dHRvblwiO0NLRURJVE9SLnVpLmJ1dHRvbj1mdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxhLHt0aXRsZTphLmxhYmVsLGNsaWNrOmEuY2xpY2t8fGZ1bmN0aW9uKGIpe2IuZXhlY0NvbW1hbmQoYS5jb21tYW5kKX19KTt0aGlzLl89e319O0NLRURJVE9SLnVpLmJ1dHRvbi5oYW5kbGVyPXtjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5idXR0b24oYSl9fTtcbkNLRURJVE9SLnVpLmJ1dHRvbi5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgZj1hLm1vZGU7ZiYmKGY9dGhpcy5tb2Rlc1tmXT92b2lkIDAhPT1tW2ZdP21bZl06Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGY9YS5yZWFkT25seSYmIXRoaXMucmVhZE9ubHk/Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ6Zix0aGlzLnNldFN0YXRlKGYpLHRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCkpfXZhciBuPUNLRURJVE9SLmVudixwPXRoaXMuXy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxnPVwiXCIsZD10aGlzLmNvbW1hbmQscSxrLGg7dGhpcy5fLmVkaXRvcj1hO3ZhciBlPXtpZDpwLGJ1dHRvbjp0aGlzLGVkaXRvcjphLGZvY3VzOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChwKS5mb2N1cygpfSxleGVjdXRlOmZ1bmN0aW9uKCl7dGhpcy5idXR0b24uY2xpY2soYSl9LGF0dGFjaDpmdW5jdGlvbihhKXt0aGlzLmJ1dHRvbi5hdHRhY2goYSl9fSxcbnY9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7aWYoZS5vbmtleSlyZXR1cm4gYT1uZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGEpLCExIT09ZS5vbmtleShlLGEuZ2V0S2V5c3Ryb2tlKCkpfSksdz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXt2YXIgYjtlLm9uZm9jdXMmJihiPSExIT09ZS5vbmZvY3VzKGUsbmV3IENLRURJVE9SLmRvbS5ldmVudChhKSkpO3JldHVybiBifSkscj0wO2UuY2xpY2tGbj1xPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7ciYmKGEudW5sb2NrU2VsZWN0aW9uKDEpLHI9MCk7ZS5leGVjdXRlKCk7bi5pT1MmJmEuZm9jdXMoKX0pO2lmKHRoaXMubW9kZXMpe3ZhciBtPXt9O2Eub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXthLm1vZGUmJnRoaXMuXy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJihtW2EubW9kZV09dGhpcy5fLnN0YXRlKX0sdGhpcyk7YS5vbihcImFjdGl2ZUZpbHRlckNoYW5nZVwiLFxuYyx0aGlzKTthLm9uKFwibW9kZVwiLGMsdGhpcyk7IXRoaXMucmVhZE9ubHkmJmEub24oXCJyZWFkT25seVwiLGMsdGhpcyl9ZWxzZSBkJiYoZD1hLmdldENvbW1hbmQoZCkpJiYoZC5vbihcInN0YXRlXCIsZnVuY3Rpb24oKXt0aGlzLnNldFN0YXRlKGQuc3RhdGUpfSx0aGlzKSxnKz1kLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj9cIm9uXCI6ZC5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/XCJkaXNhYmxlZFwiOlwib2ZmXCIpO2lmKHRoaXMuZGlyZWN0aW9uYWwpYS5vbihcImNvbnRlbnREaXJDaGFuZ2VkXCIsZnVuY3Rpb24oYil7dmFyIGM9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQpLGQ9Yy5nZXRGaXJzdCgpO2I9Yi5kYXRhO2IhPWEubGFuZy5kaXI/Yy5hZGRDbGFzcyhcImNrZV9cIitiKTpjLnJlbW92ZUNsYXNzKFwiY2tlX2x0clwiKS5yZW1vdmVDbGFzcyhcImNrZV9ydGxcIik7ZC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLENLRURJVE9SLnNraW4uZ2V0SWNvblN0eWxlKGwsXG5cInJ0bFwiPT1iLHRoaXMuaWNvbix0aGlzLmljb25PZmZzZXQpKX0sdGhpcyk7ZD8oaz1hLmdldENvbW1hbmRLZXlzdHJva2UoZCkpJiYoaD1DS0VESVRPUi50b29scy5rZXlzdHJva2VUb1N0cmluZyhhLmxhbmcuY29tbW9uLmtleWJvYXJkLGspKTpnKz1cIm9mZlwiO3ZhciBsPWs9dGhpcy5uYW1lfHx0aGlzLmNvbW1hbmQ7dGhpcy5pY29uJiYhL1xcLi8udGVzdCh0aGlzLmljb24pJiYobD10aGlzLmljb24sdGhpcy5pY29uPW51bGwpO2c9e2lkOnAsbmFtZTprLGljb25OYW1lOmwsbGFiZWw6dGhpcy5sYWJlbCxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsc3RhdGU6ZyxhcmlhRGlzYWJsZWQ6XCJkaXNhYmxlZFwiPT1nP1widHJ1ZVwiOlwiZmFsc2VcIix0aXRsZTp0aGlzLnRpdGxlKyhoP1wiIChcIitoLmRpc3BsYXkrXCIpXCI6XCJcIiksYXJpYVNob3J0Y3V0Omg/YS5sYW5nLmNvbW1vbi5rZXlib2FyZFNob3J0Y3V0K1wiIFwiK2guYXJpYTpcIlwiLHRpdGxlSnM6bi5nZWNrbyYmIW4uaGM/XCJcIjoodGhpcy50aXRsZXx8XG5cIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGhhc0Fycm93OnRoaXMuaGFzQXJyb3c/XCJ0cnVlXCI6XCJmYWxzZVwiLGtleWRvd25Gbjp2LGZvY3VzRm46dyxjbGlja0ZuOnEsc3R5bGU6Q0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUobCxcInJ0bFwiPT1hLmxhbmcuZGlyLHRoaXMuaWNvbix0aGlzLmljb25PZmZzZXQpLGFycm93SHRtbDp0aGlzLmhhc0Fycm93P3Qub3V0cHV0KCk6XCJcIn07dS5vdXRwdXQoZyxiKTtpZih0aGlzLm9uUmVuZGVyKXRoaXMub25SZW5kZXIoKTtyZXR1cm4gZX0sc2V0U3RhdGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLnN0YXRlPT1hKXJldHVybiExO3RoaXMuXy5zdGF0ZT1hO3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKTtyZXR1cm4gYj8oYi5zZXRTdGF0ZShhLFwiY2tlX2J1dHRvblwiKSxhPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9iLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yi5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpLFxudGhpcy5oYXNBcnJvdz8oYT1hPT1DS0VESVRPUi5UUklTVEFURV9PTj90aGlzLl8uZWRpdG9yLmxhbmcuYnV0dG9uLnNlbGVjdGVkTGFiZWwucmVwbGFjZSgvJTEvZyx0aGlzLmxhYmVsKTp0aGlzLmxhYmVsLENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkK1wiX2xhYmVsXCIpLnNldFRleHQoYSkpOmE9PUNLRURJVE9SLlRSSVNUQVRFX09OP2Iuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsITApOmIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIpLCEwKTohMX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLnN0YXRlfSx0b0ZlYXR1cmU6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLmZlYXR1cmUpcmV0dXJuIHRoaXMuXy5mZWF0dXJlO3ZhciBiPXRoaXM7dGhpcy5hbGxvd2VkQ29udGVudHx8dGhpcy5yZXF1aXJlZENvbnRlbnR8fCF0aGlzLmNvbW1hbmR8fChiPWEuZ2V0Q29tbWFuZCh0aGlzLmNvbW1hbmQpfHxiKTtyZXR1cm4gdGhpcy5fLmZlYXR1cmU9XG5ifX07Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZEJ1dHRvbj1mdW5jdGlvbihhLGIpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfQlVUVE9OLGIpfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gRChhKXtmdW5jdGlvbiBkKCl7Zm9yKHZhciBiPWYoKSxlPUNLRURJVE9SLnRvb2xzLmNsb25lKGEuY29uZmlnLnRvb2xiYXJHcm91cHMpfHx2KGEpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGc9ZVtuXTtpZihcIi9cIiE9Zyl7XCJzdHJpbmdcIj09dHlwZW9mIGcmJihnPWVbbl09e25hbWU6Z30pO3ZhciBsLGQ9Zy5ncm91cHM7aWYoZClmb3IodmFyIGg9MDtoPGQubGVuZ3RoO2grKylsPWRbaF0sKGw9YltsXSkmJmMoZyxsKTsobD1iW2cubmFtZV0pJiZjKGcsbCl9fXJldHVybiBlfWZ1bmN0aW9uIGYoKXt2YXIgYj17fSxjLGUsZztmb3IoYyBpbiBhLnVpLml0ZW1zKWU9YS51aS5pdGVtc1tjXSxnPWUudG9vbGJhcnx8XCJvdGhlcnNcIixnPWcuc3BsaXQoXCIsXCIpLGU9Z1swXSxnPXBhcnNlSW50KGdbMV18fC0xLDEwKSxiW2VdfHwoYltlXT1bXSksYltlXS5wdXNoKHtuYW1lOmMsb3JkZXI6Z30pO2ZvcihlIGluIGIpYltlXT1iW2VdLnNvcnQoZnVuY3Rpb24oYixcbmEpe3JldHVybiBiLm9yZGVyPT1hLm9yZGVyPzA6MD5hLm9yZGVyPy0xOjA+Yi5vcmRlcj8xOmIub3JkZXI8YS5vcmRlcj8tMToxfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gYyhjLGUpe2lmKGUubGVuZ3RoKXtjLml0ZW1zP2MuaXRlbXMucHVzaChhLnVpLmNyZWF0ZShcIi1cIikpOmMuaXRlbXM9W107Zm9yKHZhciBkO2Q9ZS5zaGlmdCgpOylkPVwic3RyaW5nXCI9PXR5cGVvZiBkP2Q6ZC5uYW1lLGImJi0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKGIsZCl8fChkPWEudWkuY3JlYXRlKGQpKSYmYS5hZGRGZWF0dXJlKGQpJiZjLml0ZW1zLnB1c2goZCl9fWZ1bmN0aW9uIGgoYil7dmFyIGE9W10sZSxkLGg7Zm9yKGU9MDtlPGIubGVuZ3RoOysrZSlkPWJbZV0saD17fSxcIi9cIj09ZD9hLnB1c2goZCk6Q0tFRElUT1IudG9vbHMuaXNBcnJheShkKT8oYyhoLENLRURJVE9SLnRvb2xzLmNsb25lKGQpKSxhLnB1c2goaCkpOmQuaXRlbXMmJihjKGgsQ0tFRElUT1IudG9vbHMuY2xvbmUoZC5pdGVtcykpLFxuaC5uYW1lPWQubmFtZSxhLnB1c2goaCkpO3JldHVybiBhfXZhciBiPWEuY29uZmlnLnJlbW92ZUJ1dHRvbnMsYj1iJiZiLnNwbGl0KFwiLFwiKSxlPWEuY29uZmlnLnRvb2xiYXI7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPWEuY29uZmlnW1widG9vbGJhcl9cIitlXSk7cmV0dXJuIGEudG9vbGJhcj1lP2goZSk6ZCgpfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEuXy50b29sYmFyR3JvdXBzfHwoYS5fLnRvb2xiYXJHcm91cHM9W3tuYW1lOlwiZG9jdW1lbnRcIixncm91cHM6W1wibW9kZVwiLFwiZG9jdW1lbnRcIixcImRvY3Rvb2xzXCJdfSx7bmFtZTpcImNsaXBib2FyZFwiLGdyb3VwczpbXCJjbGlwYm9hcmRcIixcInVuZG9cIl19LHtuYW1lOlwiZWRpdGluZ1wiLGdyb3VwczpbXCJmaW5kXCIsXCJzZWxlY3Rpb25cIixcInNwZWxsY2hlY2tlclwiXX0se25hbWU6XCJmb3Jtc1wifSxcIi9cIix7bmFtZTpcImJhc2ljc3R5bGVzXCIsZ3JvdXBzOltcImJhc2ljc3R5bGVzXCIsXCJjbGVhbnVwXCJdfSx7bmFtZTpcInBhcmFncmFwaFwiLGdyb3VwczpbXCJsaXN0XCIsXG5cImluZGVudFwiLFwiYmxvY2tzXCIsXCJhbGlnblwiLFwiYmlkaVwiXX0se25hbWU6XCJsaW5rc1wifSx7bmFtZTpcImluc2VydFwifSxcIi9cIix7bmFtZTpcInN0eWxlc1wifSx7bmFtZTpcImNvbG9yc1wifSx7bmFtZTpcInRvb2xzXCJ9LHtuYW1lOlwib3RoZXJzXCJ9LHtuYW1lOlwiYWJvdXRcIn1dKX12YXIgej1mdW5jdGlvbigpe3RoaXMudG9vbGJhcnM9W107dGhpcy5mb2N1c0NvbW1hbmRFeGVjdXRlZD0hMX07ei5wcm90b3R5cGUuZm9jdXM9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxkO2Q9dGhpcy50b29sYmFyc1thKytdOylmb3IodmFyIGY9MCxjO2M9ZC5pdGVtc1tmKytdOylpZihjLmZvY3VzKXtjLmZvY3VzKCk7cmV0dXJufX07dmFyIEU9e21vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXthLnRvb2xib3gmJihhLnRvb2xib3guZm9jdXNDb21tYW5kRXhlY3V0ZWQ9ITAsQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuYWlyP3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLnRvb2xib3guZm9jdXMoKX0sXG4xMDApOmEudG9vbGJveC5mb2N1cygpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidG9vbGJhclwiLHtyZXF1aXJlczpcImJ1dHRvblwiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGQsZj1mdW5jdGlvbihjLGgpe3ZhciBiLGU9XCJydGxcIj09YS5sYW5nLmRpcixrPWEuY29uZmlnLnRvb2xiYXJHcm91cEN5Y2xpbmcscT1lPzM3OjM5LGU9ZT8zOTozNyxrPXZvaWQgMD09PWt8fGs7c3dpdGNoKGgpe2Nhc2UgOTpjYXNlIENLRURJVE9SLlNISUZUKzk6Zm9yKDshYnx8IWIuaXRlbXMubGVuZ3RoOylpZihiPTk9PWg/KGI/Yi5uZXh0OmMudG9vbGJhci5uZXh0KXx8YS50b29sYm94LnRvb2xiYXJzWzBdOihiP2IucHJldmlvdXM6Yy50b29sYmFyLnByZXZpb3VzKXx8YS50b29sYm94LnRvb2xiYXJzW2EudG9vbGJveC50b29sYmFycy5sZW5ndGgtMV0sYi5pdGVtcy5sZW5ndGgpZm9yKGM9Yi5pdGVtc1tkP2IuaXRlbXMubGVuZ3RoLTE6MF07YyYmIWMuZm9jdXM7KShjPWQ/Yy5wcmV2aW91czpjLm5leHQpfHxcbihiPTApO2MmJmMuZm9jdXMoKTtyZXR1cm4hMTtjYXNlIHE6Yj1jO2RvIGI9Yi5uZXh0LCFiJiZrJiYoYj1jLnRvb2xiYXIuaXRlbXNbMF0pO3doaWxlKGImJiFiLmZvY3VzKTtiP2IuZm9jdXMoKTpmKGMsOSk7cmV0dXJuITE7Y2FzZSA0MDpyZXR1cm4gYy5idXR0b24mJmMuYnV0dG9uLmhhc0Fycm93P2MuZXhlY3V0ZSgpOmYoYyw0MD09aD9xOmUpLCExO2Nhc2UgZTpjYXNlIDM4OmI9YztkbyBiPWIucHJldmlvdXMsIWImJmsmJihiPWMudG9vbGJhci5pdGVtc1tjLnRvb2xiYXIuaXRlbXMubGVuZ3RoLTFdKTt3aGlsZShiJiYhYi5mb2N1cyk7Yj9iLmZvY3VzKCk6KGQ9MSxmKGMsQ0tFRElUT1IuU0hJRlQrOSksZD0wKTtyZXR1cm4hMTtjYXNlIDI3OnJldHVybiBhLmZvY3VzKCksITE7Y2FzZSAxMzpjYXNlIDMyOnJldHVybiBjLmV4ZWN1dGUoKSwhMX1yZXR1cm4hMH07YS5vbihcInVpU3BhY2VcIixmdW5jdGlvbihjKXtpZihjLmRhdGEuc3BhY2U9PWEuY29uZmlnLnRvb2xiYXJMb2NhdGlvbil7Yy5yZW1vdmVMaXN0ZW5lcigpO1xuYS50b29sYm94PW5ldyB6O3ZhciBkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGI9WydcXHgzY3NwYW4gaWRcXHgzZFwiJyxkLCdcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJyxhLmxhbmcudG9vbGJhci50b29sYmFycyxcIlxceDNjL3NwYW5cXHgzZVwiLCdcXHgzY3NwYW4gaWRcXHgzZFwiJythLnVpLnNwYWNlSWQoXCJ0b29sYm94XCIpKydcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJveFwiIHJvbGVcXHgzZFwiZ3JvdXBcIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiJyxkLCdcIiBvbm1vdXNlZG93blxceDNkXCJyZXR1cm4gZmFsc2U7XCJcXHgzZSddLGQ9ITEhPT1hLmNvbmZpZy50b29sYmFyU3RhcnR1cEV4cGFuZGVkLGUsazthLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJmIucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYm94X21haW5cIicrKGQ/XCJcXHgzZVwiOicgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZScpKTtcbmZvcih2YXIgcT1hLnRvb2xib3gudG9vbGJhcnMsbj1EKGEpLGc9bi5sZW5ndGgsbD0wO2w8ZztsKyspe3ZhciByLG09MCx3LHA9bltsXSx2PVwiL1wiIT09cCYmKFwiL1wiPT09bltsKzFdfHxsPT1nLTEpLHg7aWYocClpZihlJiYoYi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLGs9ZT0wKSxcIi9cIj09PXApYi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfYnJlYWtcIlxceDNlXFx4M2Mvc3BhblxceDNlJyk7ZWxzZXt4PXAuaXRlbXN8fHA7Zm9yKHZhciB5PTA7eTx4Lmxlbmd0aDt5Kyspe3ZhciB0PXhbeV0sQTtpZih0KXt2YXIgQj1mdW5jdGlvbihjKXtjPWMucmVuZGVyKGEsYik7dT1tLml0ZW1zLnB1c2goYyktMTswPHUmJihjLnByZXZpb3VzPW0uaXRlbXNbdS0xXSxjLnByZXZpb3VzLm5leHQ9Yyk7Yy50b29sYmFyPW07Yy5vbmtleT1mO2Mub25mb2N1cz1mdW5jdGlvbigpe2EudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZHx8YS5mb2N1cygpfX07aWYodC50eXBlPT1DS0VESVRPUi5VSV9TRVBBUkFUT1Ipaz1cbmUmJnQ7ZWxzZXtBPSExIT09dC5jYW5Hcm91cDtpZighbSl7cj1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTttPXtpZDpyLGl0ZW1zOltdfTt3PXAubmFtZSYmKGEubGFuZy50b29sYmFyLnRvb2xiYXJHcm91cHNbcC5uYW1lXXx8cC5uYW1lKTtiLnB1c2goJ1xceDNjc3BhbiBpZFxceDNkXCInLHIsJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYmFyJysodj8nIGNrZV90b29sYmFyX2xhc3RcIic6J1wiJyksdz8nIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK3IrJ19sYWJlbFwiJzpcIlwiLCcgcm9sZVxceDNkXCJ0b29sYmFyXCJcXHgzZScpO3cmJmIucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsciwnX2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScsdyxcIlxceDNjL3NwYW5cXHgzZVwiKTtiLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zdGFydFwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTt2YXIgdT1xLnB1c2gobSktMTswPHUmJihtLnByZXZpb3VzPXFbdS0xXSxtLnByZXZpb3VzLm5leHQ9XG5tKX1BP2V8fChiLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGdyb3VwXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyksZT0xKTplJiYoYi5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLGU9MCk7ayYmKEIoayksaz0wKTtCKHQpfX19ZSYmKGIucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKSxrPWU9MCk7bSYmYi5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfZW5kXCJcXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZScpfX1hLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmIucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtpZihhLmNvbmZpZy50b29sYmFyQ2FuQ29sbGFwc2UmJmEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBDPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7YS5leGVjQ29tbWFuZChcInRvb2xiYXJDb2xsYXBzZVwiKX0pO2Eub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihDKX0pO1xuYS5hZGRDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIse3JlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihiKXt2YXIgYT1iLnVpLnNwYWNlKFwidG9vbGJhcl9jb2xsYXBzZXJcIiksYz1hLmdldFByZXZpb3VzKCksZD1iLnVpLnNwYWNlKFwiY29udGVudHNcIiksZT1jLmdldFBhcmVudCgpLGg9cGFyc2VJbnQoZC4kLnN0eWxlLmhlaWdodCwxMCksZz1lLiQub2Zmc2V0SGVpZ2h0LGY9YS5oYXNDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7Zj8oYy5zaG93KCksYS5yZW1vdmVDbGFzcyhcImNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIiksYS5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGIubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZSkpOihjLmhpZGUoKSxhLmFkZENsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxhLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYi5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkpO2EuZ2V0Rmlyc3QoKS5zZXRUZXh0KGY/XCLilrJcIjpcIuKXgFwiKTtkLnNldFN0eWxlKFwiaGVpZ2h0XCIsXG5oLShlLiQub2Zmc2V0SGVpZ2h0LWcpK1wicHhcIik7Yi5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmIuY29udGFpbmVyLiQub2Zmc2V0SGVpZ2h0LGNvbnRlbnRzSGVpZ2h0OmQuJC5vZmZzZXRIZWlnaHQsb3V0ZXJXaWR0aDpiLmNvbnRhaW5lci4kLm9mZnNldFdpZHRofSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9fSk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKyhDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi53ZWJraXQ/MTg5OjEwOSksXCJ0b29sYmFyQ29sbGFwc2VcIik7Yi5wdXNoKCdcXHgzY2EgdGl0bGVcXHgzZFwiJysoZD9hLmxhbmcudG9vbGJhci50b29sYmFyQ29sbGFwc2U6YS5sYW5nLnRvb2xiYXIudG9vbGJhckV4cGFuZCkrJ1wiIGlkXFx4M2RcIicrYS51aS5zcGFjZUlkKFwidG9vbGJhcl9jb2xsYXBzZXJcIikrJ1wiIHRhYkluZGV4XFx4M2RcIi0xXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyJyk7ZHx8Yi5wdXNoKFwiIGNrZV90b29sYm94X2NvbGxhcHNlcl9taW5cIik7XG5iLnB1c2goJ1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrQysnKVwiXFx4M2UnLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2Fycm93XCJcXHgzZVxceDI2Izk2NTA7XFx4M2Mvc3BhblxceDNlJyxcIlxceDNjL2FcXHgzZVwiKX1iLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIik7Yy5kYXRhLmh0bWwrPWIuam9pbihcIlwiKX19KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7aWYodGhpcy50b29sYm94KXt2YXIgYSxkPTAsYixlLGY7Zm9yKGE9dGhpcy50b29sYm94LnRvb2xiYXJzO2Q8YS5sZW5ndGg7ZCsrKWZvcihlPWFbZF0uaXRlbXMsYj0wO2I8ZS5sZW5ndGg7YisrKWY9ZVtiXSxmLmNsaWNrRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYuY2xpY2tGbiksZi5rZXlEb3duRm4mJkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGYua2V5RG93bkZuKX19KTthLm9uKFwidWlSZWFkeVwiLGZ1bmN0aW9uKCl7dmFyIGM9YS51aS5zcGFjZShcInRvb2xib3hcIik7YyYmYS5mb2N1c01hbmFnZXIuYWRkKGMsXG4xKX0pO2EuYWRkQ29tbWFuZChcInRvb2xiYXJGb2N1c1wiLEUpO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsxMjEsXCJ0b29sYmFyRm9jdXNcIik7YS51aS5hZGQoXCItXCIsQ0tFRElUT1IuVUlfU0VQQVJBVE9SLHt9KTthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfU0VQQVJBVE9SLHtjcmVhdGU6ZnVuY3Rpb24oKXtyZXR1cm57cmVuZGVyOmZ1bmN0aW9uKGEsZCl7ZC5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXJfc2VwYXJhdG9yXCIgcm9sZVxceDNkXCJzZXBhcmF0b3JcIlxceDNlXFx4M2Mvc3BhblxceDNlJyk7cmV0dXJue319fX19KX19KTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkVG9vbGJhckdyb3VwPWZ1bmN0aW9uKGEsZCxmKXt2YXIgYz12KHRoaXMuZWRpdG9yKSxoPTA9PT1kLGI9e25hbWU6YX07aWYoZil7aWYoZj1DS0VESVRPUi50b29scy5zZWFyY2goYyxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1mfSkpeyFmLmdyb3VwcyYmKGYuZ3JvdXBzPVtdKTtpZihkJiZcbihkPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZi5ncm91cHMsZCksMDw9ZCkpe2YuZ3JvdXBzLnNwbGljZShkKzEsMCxhKTtyZXR1cm59aD9mLmdyb3Vwcy5zcGxpY2UoMCwwLGEpOmYuZ3JvdXBzLnB1c2goYSk7cmV0dXJufWQ9bnVsbH1kJiYoZD1DS0VESVRPUi50b29scy5pbmRleE9mKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZT09ZH0pKTtoP2Muc3BsaWNlKDAsMCxhKTpcIm51bWJlclwiPT10eXBlb2YgZD9jLnNwbGljZShkKzEsMCxiKTpjLnB1c2goYSl9fSkoKTtDS0VESVRPUi5VSV9TRVBBUkFUT1I9XCJzZXBhcmF0b3JcIjtDS0VESVRPUi5jb25maWcudG9vbGJhckxvY2F0aW9uPVwidG9wXCI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcShiLGEsYyl7YS50eXBlfHwoYS50eXBlPVwiYXV0b1wiKTtpZihjJiYhMT09PWIuZmlyZShcImJlZm9yZVBhc3RlXCIsYSl8fCFhLmRhdGFWYWx1ZSYmYS5kYXRhVHJhbnNmZXIuaXNFbXB0eSgpKXJldHVybiExO2EuZGF0YVZhbHVlfHwoYS5kYXRhVmFsdWU9XCJcIik7aWYoQ0tFRElUT1IuZW52LmdlY2tvJiZcImRyb3BcIj09YS5tZXRob2QmJmIudG9vbGJveCliLm9uY2UoXCJhZnRlclBhc3RlXCIsZnVuY3Rpb24oKXtiLnRvb2xib3guZm9jdXMoKX0pO3JldHVybiBiLmZpcmUoXCJwYXN0ZVwiLGEpfWZ1bmN0aW9uIHkoYil7ZnVuY3Rpb24gYSgpe3ZhciBhPWIuZWRpdGFibGUoKTtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQpe3ZhciBjPWZ1bmN0aW9uKGEpe2IucmVhZE9ubHkmJlwiY3V0XCI9PWEubmFtZXx8bS5pbml0UGFzdGVEYXRhVHJhbnNmZXIoYSxiKTthLmRhdGEucHJldmVudERlZmF1bHQoKX07YS5vbihcImNvcHlcIixcbmMpO2Eub24oXCJjdXRcIixjKTthLm9uKFwiY3V0XCIsZnVuY3Rpb24oKXtiLnJlYWRPbmx5fHxiLmV4dHJhY3RTZWxlY3RlZEh0bWwoKX0sbnVsbCxudWxsLDk5OSl9YS5vbihtLm1haW5QYXN0ZUV2ZW50LGZ1bmN0aW9uKGIpe1wiYmVmb3JlcGFzdGVcIj09bS5tYWluUGFzdGVFdmVudCYmbnx8dChiKX0pO1wiYmVmb3JlcGFzdGVcIj09bS5tYWluUGFzdGVFdmVudCYmKGEub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGIpe3V8fChmKCksYi5kYXRhLnByZXZlbnREZWZhdWx0KCksdChiKSxlKFwicGFzdGVcIikpfSksYS5vbihcImNvbnRleHRtZW51XCIsZyxudWxsLG51bGwsMCksYS5vbihcImJlZm9yZXBhc3RlXCIsZnVuY3Rpb24oYil7IWIuZGF0YXx8Yi5kYXRhLiQuY3RybEtleXx8Yi5kYXRhLiQuc2hpZnRLZXl8fGcoKX0sbnVsbCxudWxsLDApKTthLm9uKFwiYmVmb3JlY3V0XCIsZnVuY3Rpb24oKXshbiYmaChiKX0pO3ZhciBkO2EuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZW52LmllP2E6Yi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKSxcblwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cigpfSwwKX0pO2Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoZCl9KTthLm9uKFwia2V5dXBcIixyKX1mdW5jdGlvbiBjKGEpe3JldHVybnt0eXBlOmEsY2FuVW5kbzpcImN1dFwiPT1hLHN0YXJ0RGlzYWJsZWQ6ITAsZmFrZUtleXN0cm9rZTpcImN1dFwiPT1hP0NLRURJVE9SLkNUUkwrODg6Q0tFRElUT1IuQ1RSTCs2NyxleGVjOmZ1bmN0aW9uKCl7XCJjdXRcIj09dGhpcy50eXBlJiZoKCk7dmFyIGE7dmFyIGM9dGhpcy50eXBlO2lmKENLRURJVE9SLmVudi5pZSlhPWUoYyk7ZWxzZSB0cnl7YT1iLmRvY3VtZW50LiQuZXhlY0NvbW1hbmQoYywhMSxudWxsKX1jYXRjaChkKXthPSExfWF8fGIuc2hvd05vdGlmaWNhdGlvbihiLmxhbmcuY2xpcGJvYXJkW3RoaXMudHlwZStcIkVycm9yXCJdKTtyZXR1cm4gYX19fWZ1bmN0aW9uIGQoKXtyZXR1cm57Y2FuVW5kbzohMSxhc3luYzohMCxmYWtlS2V5c3Ryb2tlOkNLRURJVE9SLkNUUkwrXG44NixleGVjOmZ1bmN0aW9uKGIsYSl7ZnVuY3Rpb24gYyhhLGcpe2c9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBnP2c6ITA7YT8oYS5tZXRob2Q9XCJwYXN0ZVwiLGEuZGF0YVRyYW5zZmVyfHwoYS5kYXRhVHJhbnNmZXI9bS5pbml0UGFzdGVEYXRhVHJhbnNmZXIoKSkscShiLGEsZykpOmQmJmIuc2hvd05vdGlmaWNhdGlvbihsLFwiaW5mb1wiLGIuY29uZmlnLmNsaXBib2FyZF9ub3RpZmljYXRpb25EdXJhdGlvbik7Yi5maXJlKFwiYWZ0ZXJDb21tYW5kRXhlY1wiLHtuYW1lOlwicGFzdGVcIixjb21tYW5kOmUscmV0dXJuVmFsdWU6ISFhfSl9YT1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGEmJm51bGwhPT1hP2E6e307dmFyIGU9dGhpcyxkPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgYS5ub3RpZmljYXRpb24/YS5ub3RpZmljYXRpb246ITAsZz1hLnR5cGUsaD1DS0VESVRPUi50b29scy5rZXlzdHJva2VUb1N0cmluZyhiLmxhbmcuY29tbW9uLmtleWJvYXJkLGIuZ2V0Q29tbWFuZEtleXN0cm9rZSh0aGlzKSksbD1cblwic3RyaW5nXCI9PT10eXBlb2YgZD9kOmIubGFuZy5jbGlwYm9hcmQucGFzdGVOb3RpZmljYXRpb24ucmVwbGFjZSgvJTEvLCdcXHgzY2tiZCBhcmlhLWxhYmVsXFx4M2RcIicraC5hcmlhKydcIlxceDNlJytoLmRpc3BsYXkrXCJcXHgzYy9rYmRcXHgzZVwiKSxoPVwic3RyaW5nXCI9PT10eXBlb2YgYT9hOmEuZGF0YVZhbHVlO2c/Yi5fLm5leHRQYXN0ZVR5cGU9ZzpkZWxldGUgYi5fLm5leHRQYXN0ZVR5cGU7XCJzdHJpbmdcIj09PXR5cGVvZiBoP2Moe2RhdGFWYWx1ZTpofSk6Yi5nZXRDbGlwYm9hcmREYXRhKGMpfX19ZnVuY3Rpb24gZigpe3U9MTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dT0wfSwxMDApfWZ1bmN0aW9uIGcoKXtuPTE7c2V0VGltZW91dChmdW5jdGlvbigpe249MH0sMTApfWZ1bmN0aW9uIGUoYSl7dmFyIGM9Yi5kb2N1bWVudCxkPWMuZ2V0Qm9keSgpLGU9ITEsZz1mdW5jdGlvbigpe2U9ITB9O2Qub24oYSxnKTs3PENLRURJVE9SLmVudi52ZXJzaW9uP2MuJC5leGVjQ29tbWFuZChhKTpjLiQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZXhlY0NvbW1hbmQoYSk7XG5kLnJlbW92ZUxpc3RlbmVyKGEsZyk7cmV0dXJuIGV9ZnVuY3Rpb24gaCgpe2lmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5xdWlya3Mpe3ZhciBhPWIuZ2V0U2VsZWN0aW9uKCksYyxkLGU7YS5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UJiYoYz1hLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmKGQ9YS5nZXRSYW5nZXMoKVswXSxlPWIuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSxlLmluc2VydEJlZm9yZShjKSxkLnNldFN0YXJ0QmVmb3JlKGUpLGQuc2V0RW5kQWZ0ZXIoYyksYS5zZWxlY3RSYW5nZXMoW2RdKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5nZXRQYXJlbnQoKSYmKGUucmVtb3ZlKCksYS5zZWxlY3RFbGVtZW50KGMpKX0sMCkpfX1mdW5jdGlvbiBrKGEsYyl7dmFyIGQ9Yi5kb2N1bWVudCxlPWIuZWRpdGFibGUoKSxnPWZ1bmN0aW9uKGIpe2IuY2FuY2VsKCl9LGg7aWYoIWQuZ2V0QnlJZChcImNrZV9wYXN0ZWJpblwiKSl7dmFyIGw9Yi5nZXRTZWxlY3Rpb24oKSxcbnQ9bC5jcmVhdGVCb29rbWFya3MoKTtDS0VESVRPUi5lbnYuaWUmJmwucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpO3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCghQ0tFRElUT1IuZW52LndlYmtpdCYmIWUuaXMoXCJib2R5XCIpfHxDS0VESVRPUi5lbnYuaWU/XCJkaXZcIjpcImJvZHlcIixkKTtmLnNldEF0dHJpYnV0ZXMoe2lkOlwiY2tlX3Bhc3RlYmluXCIsXCJkYXRhLWNrZS10ZW1wXCI6XCIxXCJ9KTt2YXIgaz0wLGQ9ZC5nZXRXaW5kb3coKTtDS0VESVRPUi5lbnYud2Via2l0PyhlLmFwcGVuZChmKSxmLmFkZENsYXNzKFwiY2tlX2VkaXRhYmxlXCIpLGUuaXMoXCJib2R5XCIpfHwoaz1cInN0YXRpY1wiIT1lLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKT9lOkNLRURJVE9SLmRvbS5lbGVtZW50LmdldChlLiQub2Zmc2V0UGFyZW50KSxrPWsuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLnkpKTplLmdldEFzY2VuZGFudChDS0VESVRPUi5lbnYuaWU/XCJib2R5XCI6XCJodG1sXCIsMSkuYXBwZW5kKGYpO1xuZi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6ZC5nZXRTY3JvbGxQb3NpdGlvbigpLnktaysxMCtcInB4XCIsd2lkdGg6XCIxcHhcIixoZWlnaHQ6TWF0aC5tYXgoMSxkLmdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodC0yMCkrXCJweFwiLG92ZXJmbG93OlwiaGlkZGVuXCIsbWFyZ2luOjAscGFkZGluZzowfSk7Q0tFRElUT1IuZW52LnNhZmFyaSYmZi5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidXNlci1zZWxlY3RcIixcInRleHRcIikpOyhrPWYuZ2V0UGFyZW50KCkuaXNSZWFkT25seSgpKT8oZi5zZXRPcGFjaXR5KDApLGYuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsITApKTpmLnNldFN0eWxlKFwibHRyXCI9PWIuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cImxlZnRcIjpcInJpZ2h0XCIsXCItMTAwMDBweFwiKTtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZyxudWxsLG51bGwsMCk7aWYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvKWg9XG5lLm9uY2UoXCJibHVyXCIsZyxudWxsLG51bGwsLTEwMCk7ayYmZi5mb2N1cygpO2s9bmV3IENLRURJVE9SLmRvbS5yYW5nZShmKTtrLnNlbGVjdE5vZGVDb250ZW50cyhmKTt2YXIgcj1rLnNlbGVjdCgpO0NLRURJVE9SLmVudi5pZSYmKGg9ZS5vbmNlKFwiYmx1clwiLGZ1bmN0aW9uKCl7Yi5sb2NrU2VsZWN0aW9uKHIpfSkpO3ZhciBwPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFNjcm9sbFBvc2l0aW9uKCkueTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Q0tFRElUT1IuZW52LndlYmtpdCYmKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS4kLnNjcm9sbFRvcD1wKTtoJiZoLnJlbW92ZUxpc3RlbmVyKCk7Q0tFRElUT1IuZW52LmllJiZlLmZvY3VzKCk7bC5zZWxlY3RCb29rbWFya3ModCk7Zi5yZW1vdmUoKTt2YXIgYTtDS0VESVRPUi5lbnYud2Via2l0JiYoYT1mLmdldEZpcnN0KCkpJiZhLmlzJiZhLmhhc0NsYXNzKFwiQXBwbGUtc3R5bGUtc3BhblwiKSYmKGY9YSk7Yi5yZW1vdmVMaXN0ZW5lcihcInNlbGVjdGlvbkNoYW5nZVwiLFxuZyk7YyhmLmdldEh0bWwoKSl9LDApfX1mdW5jdGlvbiB2KCl7aWYoXCJwYXN0ZVwiPT1tLm1haW5QYXN0ZUV2ZW50KXJldHVybiBiLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLHt0eXBlOlwiYXV0b1wiLG1ldGhvZDpcInBhc3RlXCJ9KSwhMTtiLmZvY3VzKCk7ZigpO3ZhciBhPWIuZm9jdXNNYW5hZ2VyO2EubG9jaygpO2lmKGIuZWRpdGFibGUoKS5maXJlKG0ubWFpblBhc3RlRXZlbnQpJiYhZShcInBhc3RlXCIpKXJldHVybiBhLnVubG9jaygpLCExO2EudW5sb2NrKCk7cmV0dXJuITB9ZnVuY3Rpb24gbChhKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlKXN3aXRjaChhLmRhdGEua2V5Q29kZSl7Y2FzZSBDS0VESVRPUi5DVFJMKzg2OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDU6YT1iLmVkaXRhYmxlKCk7ZigpO1wicGFzdGVcIj09bS5tYWluUGFzdGVFdmVudCYmYS5maXJlKFwiYmVmb3JlcGFzdGVcIik7YnJlYWs7Y2FzZSBDS0VESVRPUi5DVFJMKzg4OmNhc2UgQ0tFRElUT1IuU0hJRlQrNDY6Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpLFxuc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sNTApfX1mdW5jdGlvbiB0KGEpe3ZhciBjPXt0eXBlOlwiYXV0b1wiLG1ldGhvZDpcInBhc3RlXCIsZGF0YVRyYW5zZmVyOm0uaW5pdFBhc3RlRGF0YVRyYW5zZmVyKGEpfTtjLmRhdGFUcmFuc2Zlci5jYWNoZURhdGEoKTt2YXIgZT0hMSE9PWIuZmlyZShcImJlZm9yZVBhc3RlXCIsYyk7ZSYmbS5jYW5DbGlwYm9hcmRBcGlCZVRydXN0ZWQoYy5kYXRhVHJhbnNmZXIsYik/KGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtxKGIsYyl9LDApKTprKGEsZnVuY3Rpb24oYSl7Yy5kYXRhVmFsdWU9YS5yZXBsYWNlKC88c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmtbXjxdKj88XFwvc3Bhbj4vaWcsXCJcIik7ZSYmcShiLGMpfSl9ZnVuY3Rpb24gcigpe2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpe3ZhciBhPXAoXCJwYXN0ZVwiKTtiLmdldENvbW1hbmQoXCJjdXRcIikuc2V0U3RhdGUocChcImN1dFwiKSk7Yi5nZXRDb21tYW5kKFwiY29weVwiKS5zZXRTdGF0ZShwKFwiY29weVwiKSk7XG5iLmdldENvbW1hbmQoXCJwYXN0ZVwiKS5zZXRTdGF0ZShhKTtiLmZpcmUoXCJwYXN0ZVN0YXRlXCIsYSl9fWZ1bmN0aW9uIHAoYSl7aWYodyYmYSBpbntwYXN0ZToxLGN1dDoxfSlyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7aWYoXCJwYXN0ZVwiPT1hKXJldHVybiBDS0VESVRPUi5UUklTVEFURV9PRkY7YT1iLmdldFNlbGVjdGlvbigpO3ZhciBjPWEuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORXx8MT09Yy5sZW5ndGgmJmNbMF0uY29sbGFwc2VkP0NLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOkNLRURJVE9SLlRSSVNUQVRFX09GRn12YXIgbT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxuPTAsdT0wLHc9MDsoZnVuY3Rpb24oKXtiLm9uKFwia2V5XCIsbCk7Yi5vbihcImNvbnRlbnREb21cIixhKTtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oYil7dz1iLmRhdGEuc2VsZWN0aW9uLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtcbnIoKX0pO2IuY29udGV4dE1lbnUmJmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYixhKXt3PWEuZ2V0UmFuZ2VzKClbMF0uY2hlY2tSZWFkT25seSgpO3JldHVybntjdXQ6cChcImN1dFwiKSxjb3B5OnAoXCJjb3B5XCIpLHBhc3RlOnAoXCJwYXN0ZVwiKX19KX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjLGUsZCxnLGgpe3ZhciBsPWIubGFuZy5jbGlwYm9hcmRbZV07Yi5hZGRDb21tYW5kKGUsZCk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKGMse2xhYmVsOmwsY29tbWFuZDplLHRvb2xiYXI6XCJjbGlwYm9hcmQsXCIrZ30pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtKGUse2xhYmVsOmwsY29tbWFuZDplLGdyb3VwOlwiY2xpcGJvYXJkXCIsb3JkZXI6aH0pfWEoXCJDdXRcIixcImN1dFwiLGMoXCJjdXRcIiksMTAsMSk7YShcIkNvcHlcIixcImNvcHlcIixjKFwiY29weVwiKSwyMCw0KTthKFwiUGFzdGVcIixcInBhc3RlXCIsZCgpLDMwLDgpfSkoKTtiLmdldENsaXBib2FyZERhdGE9XG5mdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGUoYil7Yi5yZW1vdmVMaXN0ZW5lcigpO2IuY2FuY2VsKCk7YyhiLmRhdGEpfWN8fChjPWEsYT1udWxsKTtiLm9uKFwicGFzdGVcIixlLG51bGwsbnVsbCwwKTshMT09PXYoKSYmKGIucmVtb3ZlTGlzdGVuZXIoXCJwYXN0ZVwiLGUpLGMobnVsbCkpfX1mdW5jdGlvbiB6KGIpe2lmKENLRURJVE9SLmVudi53ZWJraXQpe2lmKCFiLm1hdGNoKC9eW148XSokL2cpJiYhYi5tYXRjaCgvXig8ZGl2PjxiciggP1xcLyk/PjxcXC9kaXY+fDxkaXY+W148XSo8XFwvZGl2PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSBpZihDS0VESVRPUi5lbnYuaWUpe2lmKCFiLm1hdGNoKC9eKFtePF18PGJyKCA/XFwvKT8+KSokL2dpKSYmIWIubWF0Y2goL14oPHA+KFtePF18PGJyKCA/XFwvKT8+KSo8XFwvcD58KFxcclxcbikpKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmdlY2tvKXtpZighYi5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkpcmV0dXJuXCJodG1sXCJ9ZWxzZSByZXR1cm5cImh0bWxcIjtcbnJldHVyblwiaHRtbGlmaWVkdGV4dFwifWZ1bmN0aW9uIEEoYixhKXtmdW5jdGlvbiBjKGIpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgzYy9wXFx4M2VcXHgzY3BcXHgzZVwiLH5+KGIvMikpKygxPT1iJTI/XCJcXHgzY2JyXFx4M2VcIjpcIlwiKX1hPWEucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS5yZXBsYWNlKC8+ICs8L2csXCJcXHgzZVxceDNjXCIpLnJlcGxhY2UoLzxiciA/XFwvPi9naSxcIlxceDNjYnJcXHgzZVwiKTthPWEucmVwbGFjZSgvPFxcLz9bQS1aXSs+L2csZnVuY3Rpb24oYil7cmV0dXJuIGIudG9Mb3dlckNhc2UoKX0pO2lmKGEubWF0Y2goL15bXjxdJC8pKXJldHVybiBhO0NLRURJVE9SLmVudi53ZWJraXQmJi0xPGEuaW5kZXhPZihcIlxceDNjZGl2XFx4M2VcIikmJihhPWEucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2PikoPyEkfCg8ZGl2Pig8YnI+fCk8XFwvZGl2PikpL2csXCJcXHgzY2JyXFx4M2VcIikucmVwbGFjZSgvXig8ZGl2Pig8YnI+fCk8XFwvZGl2Pil7Mn0oPyEkKS9nLFwiXFx4M2NkaXZcXHgzZVxceDNjL2RpdlxceDNlXCIpLFxuYS5tYXRjaCgvPGRpdj4oPGJyPnwpPFxcL2Rpdj4vKSYmKGE9XCJcXHgzY3BcXHgzZVwiK2EucmVwbGFjZSgvKDxkaXY+KDxicj58KTxcXC9kaXY+KSsvZyxmdW5jdGlvbihiKXtyZXR1cm4gYyhiLnNwbGl0KFwiXFx4M2MvZGl2XFx4M2VcXHgzY2RpdlxceDNlXCIpLmxlbmd0aCsxKX0pK1wiXFx4M2MvcFxceDNlXCIpLGE9YS5yZXBsYWNlKC88XFwvZGl2PjxkaXY+L2csXCJcXHgzY2JyXFx4M2VcIiksYT1hLnJlcGxhY2UoLzxcXC8/ZGl2Pi9nLFwiXCIpKTtDS0VESVRPUi5lbnYuZ2Vja28mJmIuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUiYmKENLRURJVE9SLmVudi5nZWNrbyYmKGE9YS5yZXBsYWNlKC9ePGJyPjxicj4kLyxcIlxceDNjYnJcXHgzZVwiKSksLTE8YS5pbmRleE9mKFwiXFx4M2NiclxceDNlXFx4M2NiclxceDNlXCIpJiYoYT1cIlxceDNjcFxceDNlXCIrYS5yZXBsYWNlKC8oPGJyPil7Mix9L2csZnVuY3Rpb24oYil7cmV0dXJuIGMoYi5sZW5ndGgvNCl9KStcIlxceDNjL3BcXHgzZVwiKSk7cmV0dXJuIEIoYixhKX1mdW5jdGlvbiBDKCl7ZnVuY3Rpb24gYigpe3ZhciBiPVxue30sYTtmb3IoYSBpbiBDS0VESVRPUi5kdGQpXCIkXCIhPWEuY2hhckF0KDApJiZcImRpdlwiIT1hJiZcInNwYW5cIiE9YSYmKGJbYV09MSk7cmV0dXJuIGJ9dmFyIGE9e307cmV0dXJue2dldDpmdW5jdGlvbihjKXtyZXR1cm5cInBsYWluLXRleHRcIj09Yz9hLnBsYWluVGV4dHx8KGEucGxhaW5UZXh0PW5ldyBDS0VESVRPUi5maWx0ZXIoXCJiclwiKSk6XCJzZW1hbnRpYy1jb250ZW50XCI9PWM/KChjPWEuc2VtYW50aWNDb250ZW50KXx8KGM9bmV3IENLRURJVE9SLmZpbHRlcixjLmFsbG93KHskMTp7ZWxlbWVudHM6YigpLGF0dHJpYnV0ZXM6ITAsc3R5bGVzOiExLGNsYXNzZXM6ITF9fSksYz1hLnNlbWFudGljQ29udGVudD1jKSxjKTpjP25ldyBDS0VESVRPUi5maWx0ZXIoYyk6bnVsbH19fWZ1bmN0aW9uIHgoYixhLGMpe2E9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChhKTt2YXIgZD1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtjLmFwcGx5VG8oYSwhMCwhMSxcbmIuYWN0aXZlRW50ZXJNb2RlKTthLndyaXRlSHRtbChkKTtyZXR1cm4gZC5nZXRIdG1sKCl9ZnVuY3Rpb24gQihiLGEpe2IuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUj9hPWEucmVwbGFjZSgvKDxcXC9wPjxwPikrL2csZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDNjYnJcXHgzZVwiLGIubGVuZ3RoLzcqMil9KS5yZXBsYWNlKC88XFwvP3A+L2csXCJcIik6Yi5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0RJViYmKGE9YS5yZXBsYWNlKC88KFxcLyk/cD4vZyxcIlxceDNjJDFkaXZcXHgzZVwiKSk7cmV0dXJuIGF9ZnVuY3Rpb24gRChiKXtiLmRhdGEucHJldmVudERlZmF1bHQoKTtiLmRhdGEuJC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdD1cIm5vbmVcIn1mdW5jdGlvbiBFKGIpe3ZhciBhPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkO2Iub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYyxlKXtjLnNlbGVjdCgpO3EoYix7ZGF0YVRyYW5zZmVyOmUsXG5tZXRob2Q6XCJkcm9wXCJ9LDEpO2Uuc291cmNlRWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZS5zb3VyY2VFZGl0b3IuZWRpdGFibGUoKS5leHRyYWN0SHRtbEZyb21SYW5nZShhKTtlLnNvdXJjZUVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2FdKTtlLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGQoYyxlKXtjLnNlbGVjdCgpO3EoYix7ZGF0YVRyYW5zZmVyOmUsbWV0aG9kOlwiZHJvcFwifSwxKTthLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcigpfWZ1bmN0aW9uIGYoYSxjLGUpe3ZhciBnPXskOmEuZGF0YS4kLHRhcmdldDphLmRhdGEuZ2V0VGFyZ2V0KCl9O2MmJihnLmRyYWdSYW5nZT1jKTtlJiYoZy5kcm9wUmFuZ2U9ZSk7ITE9PT1iLmZpcmUoYS5uYW1lLGcpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBnKGIpe2IudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYj1iLmdldFBhcmVudCgpKTtyZXR1cm4gYi5nZXRDaGlsZENvdW50KCl9XG52YXIgZT1iLmVkaXRhYmxlKCksaD1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5nZXREcm9wVGFyZ2V0KGIpLGs9Yi51aS5zcGFjZShcInRvcFwiKSx2PWIudWkuc3BhY2UoXCJib3R0b21cIik7YS5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQoayk7YS5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQodik7ZS5hdHRhY2hMaXN0ZW5lcihoLFwiZHJhZ3N0YXJ0XCIsZik7ZS5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ3N0YXJ0XCIsYS5yZXNldERyYWdEYXRhVHJhbnNmZXIsYSxudWxsLDEpO2UuYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGMpe2EuaW5pdERyYWdEYXRhVHJhbnNmZXIoYyxiKX0sbnVsbCxudWxsLDIpO2UuYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGZ1bmN0aW9uKCl7dmFyIGM9YS5kcmFnUmFuZ2U9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoYS5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50PVxuYz9nKGMuc3RhcnRDb250YWluZXIpOm51bGwsYS5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudD1jP2coYy5lbmRDb250YWluZXIpOm51bGwpfSxudWxsLG51bGwsMTAwKTtlLmF0dGFjaExpc3RlbmVyKGgsXCJkcmFnZW5kXCIsZik7ZS5hdHRhY2hMaXN0ZW5lcihiLFwiZHJhZ2VuZFwiLGEuaW5pdERyYWdEYXRhVHJhbnNmZXIsYSxudWxsLDEpO2UuYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixhLnJlc2V0RHJhZ0RhdGFUcmFuc2ZlcixhLG51bGwsMTAwKTtlLmF0dGFjaExpc3RlbmVyKGgsXCJkcmFnb3ZlclwiLGZ1bmN0aW9uKGIpe2lmKENLRURJVE9SLmVudi5lZGdlKWIuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2V7dmFyIGE9Yi5kYXRhLmdldFRhcmdldCgpO2EmJmEuaXMmJmEuaXMoXCJodG1sXCIpP2IuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOkNLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNGaWxlQXBpU3VwcG9ydGVkJiZiLmRhdGEuJC5kYXRhVHJhbnNmZXIudHlwZXMuY29udGFpbnMoXCJGaWxlc1wiKSYmXG5iLmRhdGEucHJldmVudERlZmF1bHQoKX19KTtlLmF0dGFjaExpc3RlbmVyKGgsXCJkcm9wXCIsZnVuY3Rpb24oYyl7aWYoIWMuZGF0YS4kLmRlZmF1bHRQcmV2ZW50ZWQpe2MuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO3ZhciBlPWMuZGF0YS5nZXRUYXJnZXQoKTtpZighZS5pc1JlYWRPbmx5KCl8fGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzKFwiaHRtbFwiKSl7dmFyIGU9YS5nZXRSYW5nZUF0RHJvcFBvc2l0aW9uKGMsYiksZz1hLmRyYWdSYW5nZTtlJiZmKGMsZyxlKX19fSxudWxsLG51bGwsOTk5OSk7ZS5hdHRhY2hMaXN0ZW5lcihiLFwiZHJvcFwiLGEuaW5pdERyYWdEYXRhVHJhbnNmZXIsYSxudWxsLDEpO2UuYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixmdW5jdGlvbihlKXtpZihlPWUuZGF0YSl7dmFyIGc9ZS5kcm9wUmFuZ2UsaD1lLmRyYWdSYW5nZSxmPWUuZGF0YVRyYW5zZmVyO2YuZ2V0VHJhbnNmZXJUeXBlKGIpPT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMP1xuc2V0VGltZW91dChmdW5jdGlvbigpe2EuaW50ZXJuYWxEcm9wKGgsZyxmLGIpfSwwKTpmLmdldFRyYW5zZmVyVHlwZShiKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2MoaCxnLGYpOmQoZyxmKX19LG51bGwsbnVsbCw5OTk5KX0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiY2xpcGJvYXJkXCIse3JlcXVpcmVzOlwibm90aWZpY2F0aW9uLHRvb2xiYXJcIixpbml0OmZ1bmN0aW9uKGIpe3ZhciBhLGM9QygpO2IuY29uZmlnLmZvcmNlUGFzdGVBc1BsYWluVGV4dD9hPVwicGxhaW4tdGV4dFwiOmIuY29uZmlnLnBhc3RlRmlsdGVyP2E9Yi5jb25maWcucGFzdGVGaWx0ZXI6IUNLRURJVE9SLmVudi53ZWJraXR8fFwicGFzdGVGaWx0ZXJcImluIGIuY29uZmlnfHwoYT1cInNlbWFudGljLWNvbnRlbnRcIik7Yi5wYXN0ZUZpbHRlcj1jLmdldChhKTt5KGIpO0UoYik7aWYoQ0tFRElUT1IuZW52LmdlY2tvKXt2YXIgZD1bXCJpbWFnZS9wbmdcIixcImltYWdlL2pwZWdcIixcImltYWdlL2dpZlwiXSxcbmY7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLGg9Yy5kYXRhVHJhbnNmZXI7aWYoIWMuZGF0YVZhbHVlJiZcInBhc3RlXCI9PWMubWV0aG9kJiZoJiYxPT1oLmdldEZpbGVzQ291bnQoKSYmZiE9aC5pZCYmKGg9aC5nZXRGaWxlKDApLC0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKGQsaC50eXBlKSkpe3ZhciBrPW5ldyBGaWxlUmVhZGVyO2suYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe2EuZGF0YS5kYXRhVmFsdWU9J1xceDNjaW1nIHNyY1xceDNkXCInK2sucmVzdWx0KydcIiAvXFx4M2UnO2IuZmlyZShcInBhc3RlXCIsYS5kYXRhKX0sITEpO2suYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsZnVuY3Rpb24oKXtiLmZpcmUoXCJwYXN0ZVwiLGEuZGF0YSl9LCExKTtrLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGZ1bmN0aW9uKCl7Yi5maXJlKFwicGFzdGVcIixhLmRhdGEpfSwhMSk7ay5yZWFkQXNEYXRhVVJMKGgpO2Y9Yy5kYXRhVHJhbnNmZXIuaWQ7YS5zdG9wKCl9fSxcbm51bGwsbnVsbCwxKX1iLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVRyYW5zZmVyfHwoYS5kYXRhLmRhdGFUcmFuc2Zlcj1uZXcgQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyKTtpZighYS5kYXRhLmRhdGFWYWx1ZSl7dmFyIGM9YS5kYXRhLmRhdGFUcmFuc2ZlcixkPWMuZ2V0RGF0YShcInRleHQvaHRtbFwiKTtpZihkKWEuZGF0YS5kYXRhVmFsdWU9ZCxhLmRhdGEudHlwZT1cImh0bWxcIjtlbHNlIGlmKGQ9Yy5nZXREYXRhKFwidGV4dC9wbGFpblwiKSlhLmRhdGEuZGF0YVZhbHVlPWIuZWRpdGFibGUoKS50cmFuc2Zvcm1QbGFpblRleHRUb0h0bWwoZCksYS5kYXRhLnR5cGU9XCJ0ZXh0XCJ9fSxudWxsLG51bGwsMSk7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oYil7dmFyIGE9Yi5kYXRhLmRhdGFWYWx1ZSxjPUNLRURJVE9SLmR0ZC4kYmxvY2s7LTE8YS5pbmRleE9mKFwiQXBwbGUtXCIpJiYoYT1hLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtY29udmVydGVkLXNwYWNlXCI+Jm5ic3A7PFxcL3NwYW4+L2dpLFxuXCIgXCIpLFwiaHRtbFwiIT1iLmRhdGEudHlwZSYmKGE9YS5yZXBsYWNlKC88c3BhbiBjbGFzcz1cIkFwcGxlLXRhYi1zcGFuXCJbXj5dKj4oW148XSopPFxcL3NwYW4+L2dpLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIucmVwbGFjZSgvXFx0L2csXCJcXHgyNm5ic3A7XFx4MjZuYnNwOyBcXHgyNm5ic3A7XCIpfSkpLC0xPGEuaW5kZXhPZignXFx4M2NiciBjbGFzc1xceDNkXCJBcHBsZS1pbnRlcmNoYW5nZS1uZXdsaW5lXCJcXHgzZScpJiYoYi5kYXRhLnN0YXJ0c1dpdGhFT0w9MSxiLmRhdGEucHJlU25pZmZpbmc9XCJodG1sXCIsYT1hLnJlcGxhY2UoLzxiciBjbGFzcz1cIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIj4vLFwiXCIpKSxhPWEucmVwbGFjZSgvKDxbXj5dKykgY2xhc3M9XCJBcHBsZS1bXlwiXSpcIi9naSxcIiQxXCIpKTtpZihhLm1hdGNoKC9ePFtePF0rY2tlXyhlZGl0YWJsZXxjb250ZW50cykvaSkpe3ZhciBkLGYsbD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7Zm9yKGwuc2V0SHRtbChhKTsxPT1sLmdldENoaWxkQ291bnQoKSYmXG4oZD1sLmdldEZpcnN0KCkpJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGQuaGFzQ2xhc3MoXCJja2VfZWRpdGFibGVcIil8fGQuaGFzQ2xhc3MoXCJja2VfY29udGVudHNcIikpOylsPWY9ZDtmJiYoYT1mLmdldEh0bWwoKS5yZXBsYWNlKC88YnI+JC9pLFwiXCIpKX1DS0VESVRPUi5lbnYuaWU/YT1hLnJlcGxhY2UoL14mbmJzcDsoPzogfFxcclxcbik/PChcXHcrKS9nLGZ1bmN0aW9uKGEsZSl7cmV0dXJuIGUudG9Mb3dlckNhc2UoKWluIGM/KGIuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixcIlxceDNjXCIrZSk6YX0pOkNLRURJVE9SLmVudi53ZWJraXQ/YT1hLnJlcGxhY2UoLzxcXC8oXFx3Kyk+PGRpdj48YnI+PFxcL2Rpdj4kLyxmdW5jdGlvbihhLGUpe3JldHVybiBlIGluIGM/KGIuZGF0YS5lbmRzV2l0aEVPTD0xLFwiXFx4M2MvXCIrZStcIlxceDNlXCIpOmF9KTpDS0VESVRPUi5lbnYuZ2Vja28mJihhPWEucmVwbGFjZSgvKFxccyk8YnI+JC8sXCIkMVwiKSk7Yi5kYXRhLmRhdGFWYWx1ZT1hfSxudWxsLFxubnVsbCwzKTtiLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgZT1iLl8ubmV4dFBhc3RlVHlwZXx8YS50eXBlLGQ9YS5kYXRhVmFsdWUsZixuPWIuY29uZmlnLmNsaXBib2FyZF9kZWZhdWx0Q29udGVudFR5cGV8fFwiaHRtbFwiLGw9YS5kYXRhVHJhbnNmZXIuZ2V0VHJhbnNmZXJUeXBlKGIpO2Y9XCJodG1sXCI9PWV8fFwiaHRtbFwiPT1hLnByZVNuaWZmaW5nP1wiaHRtbFwiOnooZCk7ZGVsZXRlIGIuXy5uZXh0UGFzdGVUeXBlO1wiaHRtbGlmaWVkdGV4dFwiPT1mJiYoZD1BKGIuY29uZmlnLGQpKTtcInRleHRcIj09ZSYmXCJodG1sXCI9PWY/ZD14KGIsZCxjLmdldChcInBsYWluLXRleHRcIikpOmw9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUwmJmIucGFzdGVGaWx0ZXImJiFhLmRvbnRGaWx0ZXImJihkPXgoYixkLGIucGFzdGVGaWx0ZXIpKTthLnN0YXJ0c1dpdGhFT0wmJihkPSdcXHgzY2JyIGRhdGEtY2tlLWVvbFxceDNkXCIxXCJcXHgzZScrZCk7YS5lbmRzV2l0aEVPTCYmKGQrPSdcXHgzY2JyIGRhdGEtY2tlLWVvbFxceDNkXCIxXCJcXHgzZScpO1xuXCJhdXRvXCI9PWUmJihlPVwiaHRtbFwiPT1mfHxcImh0bWxcIj09bj9cImh0bWxcIjpcInRleHRcIik7YS50eXBlPWU7YS5kYXRhVmFsdWU9ZDtkZWxldGUgYS5wcmVTbmlmZmluZztkZWxldGUgYS5zdGFydHNXaXRoRU9MO2RlbGV0ZSBhLmVuZHNXaXRoRU9MfSxudWxsLG51bGwsNik7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS5kYXRhVmFsdWUmJihiLmluc2VydEh0bWwoYS5kYXRhVmFsdWUsYS50eXBlLGEucmFuZ2UpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJhZnRlclBhc3RlXCIpfSwwKSl9LG51bGwsbnVsbCwxRTMpfX0pO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkPXtpc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5pT1MsaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZSxpc0ZpbGVBcGlTdXBwb3J0ZWQ6IUNLRURJVE9SLmVudi5pZXx8OTxDS0VESVRPUi5lbnYudmVyc2lvbixcbm1haW5QYXN0ZUV2ZW50OkNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlP1wiYmVmb3JlcGFzdGVcIjpcInBhc3RlXCIsY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIGIuZ2V0VHJhbnNmZXJUeXBlKGEpIT1DS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMfHxDS0VESVRPUi5lbnYuY2hyb21lJiYhYi5pc0VtcHR5KCl8fENLRURJVE9SLmVudi5nZWNrbyYmKGIuZ2V0RGF0YShcInRleHQvaHRtbFwiKXx8Yi5nZXRGaWxlc0NvdW50KCkpfHxDS0VESVRPUi5lbnYuc2FmYXJpJiY2MDM8PUNLRURJVE9SLmVudi52ZXJzaW9uJiYhQ0tFRElUT1IuZW52LmlPUz8hMDohMX0sZ2V0RHJvcFRhcmdldDpmdW5jdGlvbihiKXt2YXIgYT1iLmVkaXRhYmxlKCk7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbnx8YS5pc0lubGluZSgpP2E6Yi5kb2N1bWVudH0sZml4U3BsaXROb2Rlc0FmdGVyRHJvcDpmdW5jdGlvbihiLFxuYSxjLGQpe2Z1bmN0aW9uIGYoYixjLGQpe3ZhciBmPWI7Zi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmPWIuZ2V0UGFyZW50KCkpO2lmKGYuZXF1YWxzKGMpJiZkIT1jLmdldENoaWxkQ291bnQoKSlyZXR1cm4gYj1hLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGEuc3RhcnRPZmZzZXQtMSksYz1hLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGEuc3RhcnRPZmZzZXQpLGImJmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGQ9Yi5nZXRMZW5ndGgoKSxiLnNldFRleHQoYi5nZXRUZXh0KCkrYy5nZXRUZXh0KCkpLGMucmVtb3ZlKCksYS5zZXRTdGFydChiLGQpLGEuY29sbGFwc2UoITApKSwhMH12YXIgZz1hLnN0YXJ0Q29udGFpbmVyO1wibnVtYmVyXCI9PXR5cGVvZiBkJiZcIm51bWJlclwiPT10eXBlb2YgYyYmZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihmKGIuc3RhcnRDb250YWluZXIsZyxjKXx8ZihiLmVuZENvbnRhaW5lcixcbmcsZCkpfSxpc0Ryb3BSYW5nZUFmZmVjdGVkQnlEcmFnUmFuZ2U6ZnVuY3Rpb24oYixhKXt2YXIgYz1hLnN0YXJ0Q29udGFpbmVyLGQ9YS5lbmRPZmZzZXQ7cmV0dXJuIGIuZW5kQ29udGFpbmVyLmVxdWFscyhjKSYmYi5lbmRPZmZzZXQ8PWR8fGIuc3RhcnRDb250YWluZXIuZ2V0UGFyZW50KCkuZXF1YWxzKGMpJiZiLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCk8ZHx8Yi5lbmRDb250YWluZXIuZ2V0UGFyZW50KCkuZXF1YWxzKGMpJiZiLmVuZENvbnRhaW5lci5nZXRJbmRleCgpPGQ/ITA6ITF9LGludGVybmFsRHJvcDpmdW5jdGlvbihiLGEsYyxkKXt2YXIgZj1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZCxnPWQuZWRpdGFibGUoKSxlLGg7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2QuZmlyZShcImxvY2tTbmFwc2hvdFwiLHtkb250VXBkYXRlOjF9KTtDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiZ0aGlzLmZpeFNwbGl0Tm9kZXNBZnRlckRyb3AoYixhLGYuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudCxcbmYuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQpOyhoPXRoaXMuaXNEcm9wUmFuZ2VBZmZlY3RlZEJ5RHJhZ1JhbmdlKGIsYSkpfHwoZT1iLmNyZWF0ZUJvb2ttYXJrKCExKSk7Zj1hLmNsb25lKCkuY3JlYXRlQm9va21hcmsoITEpO2gmJihlPWIuY3JlYXRlQm9va21hcmsoITEpKTtiPWUuc3RhcnROb2RlO2E9ZS5lbmROb2RlO2g9Zi5zdGFydE5vZGU7YSYmYi5nZXRQb3NpdGlvbihoKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZ2V0UG9zaXRpb24oaCkmQ0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiZoLmluc2VydEJlZm9yZShiKTtiPWQuY3JlYXRlUmFuZ2UoKTtiLm1vdmVUb0Jvb2ttYXJrKGUpO2cuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYiwxKTthPWQuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb0Jvb2ttYXJrKGYpO3EoZCx7ZGF0YVRyYW5zZmVyOmMsbWV0aG9kOlwiZHJvcFwiLHJhbmdlOmF9LDEpO2QuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfSxnZXRSYW5nZUF0RHJvcFBvc2l0aW9uOmZ1bmN0aW9uKGIsXG5hKXt2YXIgYz1iLmRhdGEuJCxkPWMuY2xpZW50WCxmPWMuY2xpZW50WSxnPWEuZ2V0U2VsZWN0aW9uKCEwKS5nZXRSYW5nZXMoKVswXSxlPWEuY3JlYXRlUmFuZ2UoKTtpZihiLmRhdGEudGVzdFJhbmdlKXJldHVybiBiLmRhdGEudGVzdFJhbmdlO2lmKGRvY3VtZW50LmNhcmV0UmFuZ2VGcm9tUG9pbnQmJmEuZG9jdW1lbnQuJC5jYXJldFJhbmdlRnJvbVBvaW50KGQsZikpYz1hLmRvY3VtZW50LiQuY2FyZXRSYW5nZUZyb21Qb2ludChkLGYpLGUuc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5zdGFydENvbnRhaW5lciksYy5zdGFydE9mZnNldCksZS5jb2xsYXBzZSghMCk7ZWxzZSBpZihjLnJhbmdlUGFyZW50KWUuc2V0U3RhcnQoQ0tFRElUT1IuZG9tLm5vZGUoYy5yYW5nZVBhcmVudCksYy5yYW5nZU9mZnNldCksZS5jb2xsYXBzZSghMCk7ZWxzZXtpZihDS0VESVRPUi5lbnYuaWUmJjg8Q0tFRElUT1IuZW52LnZlcnNpb24mJmcmJmEuZWRpdGFibGUoKS5oYXNGb2N1cylyZXR1cm4gZztcbmlmKGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKXthLmZvY3VzKCk7Yz1hLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtmb3IodmFyIGg9ITEsaz0wOzIwPmsmJiFoO2srKyl7aWYoIWgpdHJ5e2MubW92ZVRvUG9pbnQoZCxmLWspLGg9ITB9Y2F0Y2gobil7fWlmKCFoKXRyeXtjLm1vdmVUb1BvaW50KGQsZitrKSxoPSEwfWNhdGNoKGwpe319aWYoaCl7dmFyIHQ9XCJja2UtdGVtcC1cIisobmV3IERhdGUpLmdldFRpbWUoKTtjLnBhc3RlSFRNTCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrdCsnXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO3ZhciByPWEuZG9jdW1lbnQuZ2V0QnlJZCh0KTtlLm1vdmVUb1Bvc2l0aW9uKHIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtyLnJlbW92ZSgpfWVsc2V7dmFyIHA9YS5kb2N1bWVudC4kLmVsZW1lbnRGcm9tUG9pbnQoZCxmKSxtPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChwKSxxO2lmKG0uZXF1YWxzKGEuZWRpdGFibGUoKSl8fFxuXCJodG1sXCI9PW0uZ2V0TmFtZSgpKXJldHVybiBnJiZnLnN0YXJ0Q29udGFpbmVyJiYhZy5zdGFydENvbnRhaW5lci5lcXVhbHMoYS5lZGl0YWJsZSgpKT9nOm51bGw7cT1tLmdldENsaWVudFJlY3QoKTtkPHEubGVmdD9lLnNldFN0YXJ0QXQobSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk6ZS5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7ZS5jb2xsYXBzZSghMCl9fWNhdGNoKHUpe3JldHVybiBudWxsfX1lbHNlIHJldHVybiBudWxsfXJldHVybiBlfSxpbml0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbihiLGEpe3ZhciBjPWIuZGF0YS4kP2IuZGF0YS4kLmRhdGFUcmFuc2ZlcjpudWxsLGQ9bmV3IHRoaXMuZGF0YVRyYW5zZmVyKGMsYSk7Yz90aGlzLmRyYWdEYXRhJiZkLmlkPT10aGlzLmRyYWdEYXRhLmlkP2Q9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPWQ6dGhpcy5kcmFnRGF0YT9kPXRoaXMuZHJhZ0RhdGE6dGhpcy5kcmFnRGF0YT1cbmQ7Yi5kYXRhLmRhdGFUcmFuc2Zlcj1kfSxyZXNldERyYWdEYXRhVHJhbnNmZXI6ZnVuY3Rpb24oKXt0aGlzLmRyYWdEYXRhPW51bGx9LGluaXRQYXN0ZURhdGFUcmFuc2ZlcjpmdW5jdGlvbihiLGEpe2lmKHRoaXMuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkKXtpZihiJiZiLmRhdGEmJmIuZGF0YS4kKXt2YXIgYz1uZXcgdGhpcy5kYXRhVHJhbnNmZXIoYi5kYXRhLiQuY2xpcGJvYXJkRGF0YSxhKTt0aGlzLmNvcHlDdXREYXRhJiZjLmlkPT10aGlzLmNvcHlDdXREYXRhLmlkPyhjPXRoaXMuY29weUN1dERhdGEsYy4kPWIuZGF0YS4kLmNsaXBib2FyZERhdGEpOnRoaXMuY29weUN1dERhdGE9YztyZXR1cm4gY31yZXR1cm4gbmV3IHRoaXMuZGF0YVRyYW5zZmVyKG51bGwsYSl9cmV0dXJuIG5ldyB0aGlzLmRhdGFUcmFuc2ZlcihDS0VESVRPUi5lbnYuZWRnZSYmYiYmYi5kYXRhLiQmJmIuZGF0YS4kLmNsaXBib2FyZERhdGF8fG51bGwsYSl9LHByZXZlbnREZWZhdWx0RHJvcE9uRWxlbWVudDpmdW5jdGlvbihiKXtiJiZcbmIub24oXCJkcmFnb3ZlclwiLEQpfX07dmFyIG49Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ/XCJja2UvaWRcIjpcIlRleHRcIjtDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXI9ZnVuY3Rpb24oYixhKXtiJiYodGhpcy4kPWIpO3RoaXMuXz17bWV0YVJlZ0V4cDovXjxtZXRhLio/Pi9pLGJvZHlSZWdFeHA6Lzxib2R5KD86W1xcc1xcU10qPyk+KFtcXHNcXFNdKik8XFwvYm9keT4vaSxmcmFnbWVudFJlZ0V4cDovXFx4M2MhLS0oPzpTdGFydHxFbmQpRnJhZ21lbnQtLVxceDNlL2csZGF0YTp7fSxmaWxlczpbXSxub3JtYWxpemVUeXBlOmZ1bmN0aW9uKGEpe2E9YS50b0xvd2VyQ2FzZSgpO3JldHVyblwidGV4dFwiPT1hfHxcInRleHQvcGxhaW5cIj09YT9cIlRleHRcIjpcInVybFwiPT1hP1wiVVJMXCI6YX19O3RoaXMuaWQ9dGhpcy5nZXREYXRhKG4pO3RoaXMuaWR8fCh0aGlzLmlkPVwiVGV4dFwiPT1uP1wiXCI6XCJja2UtXCIrQ0tFRElUT1IudG9vbHMuZ2V0VW5pcXVlSWQoKSk7XG5pZihcIlRleHRcIiE9bil0cnl7dGhpcy4kLnNldERhdGEobix0aGlzLmlkKX1jYXRjaChjKXt9YSYmKHRoaXMuc291cmNlRWRpdG9yPWEsdGhpcy5zZXREYXRhKFwidGV4dC9odG1sXCIsYS5nZXRTZWxlY3RlZEh0bWwoMSkpLFwiVGV4dFwiPT1ufHx0aGlzLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpfHx0aGlzLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsYS5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZFRleHQoKSkpfTtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0lOVEVSTkFMPTE7Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTPTI7Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTD0zO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRhdGFUcmFuc2Zlci5wcm90b3R5cGU9e2dldERhdGE6ZnVuY3Rpb24oYixhKXtiPXRoaXMuXy5ub3JtYWxpemVUeXBlKGIpO3ZhciBjPXRoaXMuXy5kYXRhW2JdLGQ7aWYodm9pZCAwPT09Y3x8bnVsbD09PWN8fFwiXCI9PT1jKXRyeXtjPXRoaXMuJC5nZXREYXRhKGIpfWNhdGNoKGYpe31pZih2b2lkIDA9PT1cbmN8fG51bGw9PT1jfHxcIlwiPT09YyljPVwiXCI7XCJ0ZXh0L2h0bWxcIiE9Ynx8YT9cIlRleHRcIj09YiYmQ0tFRElUT1IuZW52LmdlY2tvJiZ0aGlzLmdldEZpbGVzQ291bnQoKSYmXCJmaWxlOi8vXCI9PWMuc3Vic3RyaW5nKDAsNykmJihjPVwiXCIpOihjPWMucmVwbGFjZSh0aGlzLl8ubWV0YVJlZ0V4cCxcIlwiKSwoZD10aGlzLl8uYm9keVJlZ0V4cC5leGVjKGMpKSYmZC5sZW5ndGgmJihjPWRbMV0sYz1jLnJlcGxhY2UodGhpcy5fLmZyYWdtZW50UmVnRXhwLFwiXCIpKSk7XCJzdHJpbmdcIj09PXR5cGVvZiBjJiYoZD1jLmluZGV4T2YoXCJcXHgzYy9odG1sXFx4M2VcIiksYz0tMSE9PWQ/Yy5zdWJzdHJpbmcoMCxkKzcpOmMpO3JldHVybiBjfSxzZXREYXRhOmZ1bmN0aW9uKGIsYSl7Yj10aGlzLl8ubm9ybWFsaXplVHlwZShiKTt0aGlzLl8uZGF0YVtiXT1hO2lmKENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzQ3VzdG9tRGF0YVR5cGVzU3VwcG9ydGVkfHxcIlVSTFwiPT1ifHxcIlRleHRcIj09Yil7XCJUZXh0XCI9PW4mJlxuXCJUZXh0XCI9PWImJih0aGlzLmlkPWEpO3RyeXt0aGlzLiQuc2V0RGF0YShiLGEpfWNhdGNoKGMpe319fSxnZXRUcmFuc2ZlclR5cGU6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuc291cmNlRWRpdG9yP3RoaXMuc291cmNlRWRpdG9yPT1iP0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTOkNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx9LGNhY2hlRGF0YTpmdW5jdGlvbigpe2Z1bmN0aW9uIGIoYil7Yj1hLl8ubm9ybWFsaXplVHlwZShiKTt2YXIgYz1hLmdldERhdGEoYiwhMCk7YyYmKGEuXy5kYXRhW2JdPWMpfWlmKHRoaXMuJCl7dmFyIGE9dGhpcyxjLGQ7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQpe2lmKHRoaXMuJC50eXBlcylmb3IoYz0wO2M8dGhpcy4kLnR5cGVzLmxlbmd0aDtjKyspYih0aGlzLiQudHlwZXNbY10pfWVsc2UgYihcIlRleHRcIiksXG5iKFwiVVJMXCIpO2Q9dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk7aWYodGhpcy4kJiZ0aGlzLiQuZmlsZXN8fGQpe3RoaXMuXy5maWxlcz1bXTtpZih0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGgpZm9yKGM9MDtjPHRoaXMuJC5maWxlcy5sZW5ndGg7YysrKXRoaXMuXy5maWxlcy5wdXNoKHRoaXMuJC5maWxlc1tjXSk7MD09PXRoaXMuXy5maWxlcy5sZW5ndGgmJmQmJnRoaXMuXy5maWxlcy5wdXNoKGQpfX19LGdldEZpbGVzQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmZpbGVzLmxlbmd0aD90aGlzLl8uZmlsZXMubGVuZ3RoOnRoaXMuJCYmdGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoP3RoaXMuJC5maWxlcy5sZW5ndGg6dGhpcy5fZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkKCk/MTowfSxnZXRGaWxlOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoP3RoaXMuXy5maWxlc1tiXTp0aGlzLiQmJnRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aD9cbnRoaXMuJC5maWxlc1tiXTowPT09Yj90aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKTp2b2lkIDB9LGlzRW1wdHk6ZnVuY3Rpb24oKXt2YXIgYj17fSxhO2lmKHRoaXMuZ2V0RmlsZXNDb3VudCgpKXJldHVybiExO2ZvcihhIGluIHRoaXMuXy5kYXRhKWJbYV09MTtpZih0aGlzLiQpaWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQpe2lmKHRoaXMuJC50eXBlcylmb3IodmFyIGM9MDtjPHRoaXMuJC50eXBlcy5sZW5ndGg7YysrKWJbdGhpcy4kLnR5cGVzW2NdXT0xfWVsc2UgYi5UZXh0PTEsYi5VUkw9MTtcIlRleHRcIiE9biYmKGJbbl09MCk7Zm9yKGEgaW4gYilpZihiW2FdJiZcIlwiIT09dGhpcy5nZXREYXRhKGEpKXJldHVybiExO3JldHVybiEwfSxfZ2V0SW1hZ2VGcm9tQ2xpcGJvYXJkOmZ1bmN0aW9uKCl7dmFyIGI7aWYodGhpcy4kJiZ0aGlzLiQuaXRlbXMmJnRoaXMuJC5pdGVtc1swXSl0cnl7aWYoKGI9dGhpcy4kLml0ZW1zWzBdLmdldEFzRmlsZSgpKSYmXG5iLnR5cGUpcmV0dXJuIGJ9Y2F0Y2goYSl7fX19fSkoKTtDS0VESVRPUi5jb25maWcuY2xpcGJvYXJkX25vdGlmaWNhdGlvbkR1cmF0aW9uPTFFNDsoZnVuY3Rpb24oKXtmdW5jdGlvbiBxKGIsZCxhKXthPWIuY29uZmlnLmZvcmNlRW50ZXJNb2RlfHxhO2lmKFwid3lzaXd5Z1wiPT1iLm1vZGUpe2R8fChkPWIuYWN0aXZlRW50ZXJNb2RlKTt2YXIgaD1iLmVsZW1lbnRQYXRoKCk7aCYmIWguaXNDb250ZXh0Rm9yKFwicFwiKSYmKGQ9Q0tFRElUT1IuRU5URVJfQlIsYT0xKTtiLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZD09Q0tFRElUT1IuRU5URVJfQlI/dChiLGQsbnVsbCxhKTp1KGIsZCxudWxsLGEpO2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX19ZnVuY3Rpb24gdihiKXtiPWIuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCEwKTtmb3IodmFyIGQ9Yi5sZW5ndGgtMTswPGQ7ZC0tKWJbZF0uZGVsZXRlQ29udGVudHMoKTtyZXR1cm4gYlswXX1mdW5jdGlvbiB5KGIpe3ZhciBkPWIuc3RhcnRDb250YWluZXIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfSxcbiEwKTtpZihiLnJvb3QuZXF1YWxzKGQpKXJldHVybiBiO2Q9bmV3IENLRURJVE9SLmRvbS5yYW5nZShkKTtkLm1vdmVUb1JhbmdlKGIpO3JldHVybiBkfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZW50ZXJrZXlcIix7aW5pdDpmdW5jdGlvbihiKXtiLmFkZENvbW1hbmQoXCJlbnRlclwiLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czohMSxleGVjOmZ1bmN0aW9uKGIpe3EoYil9fSk7Yi5hZGRDb21tYW5kKFwic2hpZnRFbnRlclwiLHttb2Rlczp7d3lzaXd5ZzoxfSxlZGl0b3JGb2N1czohMSxleGVjOmZ1bmN0aW9uKGIpe3EoYixiLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlLDEpfX0pO2Iuc2V0S2V5c3Ryb2tlKFtbMTMsXCJlbnRlclwiXSxbQ0tFRElUT1IuU0hJRlQrMTMsXCJzaGlmdEVudGVyXCJdXSl9fSk7dmFyIHo9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLEE9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO0NLRURJVE9SLnBsdWdpbnMuZW50ZXJrZXk9e2VudGVyQmxvY2s6ZnVuY3Rpb24oYixcbmQsYSxoKXtpZihhPWF8fHYoYikpe2E9eShhKTt2YXIgZj1hLmRvY3VtZW50LGs9YS5jaGVja1N0YXJ0T2ZCbG9jaygpLG09YS5jaGVja0VuZE9mQmxvY2soKSxsPWIuZWxlbWVudFBhdGgoYS5zdGFydENvbnRhaW5lciksYz1sLmJsb2NrLG49ZD09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCIsZTtpZihrJiZtKXtpZihjJiYoYy5pcyhcImxpXCIpfHxjLmdldFBhcmVudCgpLmlzKFwibGlcIikpKXtjLmlzKFwibGlcIil8fChjPWMuZ2V0UGFyZW50KCkpO2E9Yy5nZXRQYXJlbnQoKTtlPWEuZ2V0UGFyZW50KCk7aD0hYy5oYXNQcmV2aW91cygpO3ZhciBwPSFjLmhhc05leHQoKSxuPWIuZ2V0U2VsZWN0aW9uKCksZz1uLmNyZWF0ZUJvb2ttYXJrcygpLGs9Yy5nZXREaXJlY3Rpb24oMSksbT1jLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpLHI9Yy5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKSxxPWUuZ2V0RGlyZWN0aW9uKDEpIT1rO2I9Yi5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSfHxxfHxyfHxtO1xuaWYoZS5pcyhcImxpXCIpKWh8fHA/KGgmJnAmJmEucmVtb3ZlKCksY1twP1wiaW5zZXJ0QWZ0ZXJcIjpcImluc2VydEJlZm9yZVwiXShlKSk6Yy5icmVha1BhcmVudChlKTtlbHNle2lmKGIpaWYobC5ibG9jay5pcyhcImxpXCIpPyhlPWYuY3JlYXRlRWxlbWVudChkPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpLHEmJmUuc2V0QXR0cmlidXRlKFwiZGlyXCIsayksciYmZS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLHIpLG0mJmUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixtKSxjLm1vdmVDaGlsZHJlbihlKSk6ZT1sLmJsb2NrLGh8fHApZVtoP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShhKTtlbHNlIGMuYnJlYWtQYXJlbnQoYSksZS5pbnNlcnRBZnRlcihhKTtlbHNlIGlmKGMuYXBwZW5kQm9ndXMoITApLGh8fHApZm9yKDtmPWNbaD9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCk7KWZbaD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oYSk7ZWxzZSBmb3IoYy5icmVha1BhcmVudChhKTtmPWMuZ2V0TGFzdCgpOylmLmluc2VydEFmdGVyKGEpO1xuYy5yZW1vdmUoKX1uLnNlbGVjdEJvb2ttYXJrcyhnKTtyZXR1cm59aWYoYyYmYy5nZXRQYXJlbnQoKS5pcyhcImJsb2NrcXVvdGVcIikpe2MuYnJlYWtQYXJlbnQoYy5nZXRQYXJlbnQoKSk7Yy5nZXRQcmV2aW91cygpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8Yy5nZXRQcmV2aW91cygpLnJlbW92ZSgpO2MuZ2V0TmV4dCgpLmdldEZpcnN0KENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKDEpKXx8Yy5nZXROZXh0KCkucmVtb3ZlKCk7YS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpO2Euc2VsZWN0KCk7cmV0dXJufX1lbHNlIGlmKGMmJmMuaXMoXCJwcmVcIikmJiFtKXt0KGIsZCxhLGgpO3JldHVybn1pZihrPWEuc3BsaXRCbG9jayhuKSl7ZD1rLnByZXZpb3VzQmxvY2s7Yz1rLm5leHRCbG9jaztsPWsud2FzU3RhcnRPZkJsb2NrO2I9ay53YXNFbmRPZkJsb2NrO2M/KGc9Yy5nZXRQYXJlbnQoKSxnLmlzKFwibGlcIikmJihjLmJyZWFrUGFyZW50KGcpLFxuYy5tb3ZlKGMuZ2V0TmV4dCgpLDEpKSk6ZCYmKGc9ZC5nZXRQYXJlbnQoKSkmJmcuaXMoXCJsaVwiKSYmKGQuYnJlYWtQYXJlbnQoZyksZz1kLmdldE5leHQoKSxhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZyksZC5tb3ZlKGQuZ2V0UHJldmlvdXMoKSkpO2lmKGx8fGIpe2lmKGQpe2lmKGQuaXMoXCJsaVwiKXx8IXcudGVzdChkLmdldE5hbWUoKSkmJiFkLmlzKFwicHJlXCIpKWU9ZC5jbG9uZSgpfWVsc2UgYyYmKGU9Yy5jbG9uZSgpKTtlP2gmJiFlLmlzKFwibGlcIikmJmUucmVuYW1lTm9kZShuKTpnJiZnLmlzKFwibGlcIik/ZT1nOihlPWYuY3JlYXRlRWxlbWVudChuKSxkJiYocD1kLmdldERpcmVjdGlvbigpKSYmZS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixwKSk7aWYoZj1rLmVsZW1lbnRQYXRoKWZvcihoPTAsbj1mLmVsZW1lbnRzLmxlbmd0aDtoPG47aCsrKXtnPWYuZWxlbWVudHNbaF07aWYoZy5lcXVhbHMoZi5ibG9jayl8fGcuZXF1YWxzKGYuYmxvY2tMaW1pdCkpYnJlYWs7Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtnLmdldE5hbWUoKV0mJlxuKGc9Zy5jbG9uZSgpLGUubW92ZUNoaWxkcmVuKGcpLGUuYXBwZW5kKGcpKX1lLmFwcGVuZEJvZ3VzKCk7ZS5nZXRQYXJlbnQoKXx8YS5pbnNlcnROb2RlKGUpO2UuaXMoXCJsaVwiKSYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTshQ0tFRElUT1IuZW52LmllfHwhbHx8YiYmZC5nZXRDaGlsZENvdW50KCl8fChhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYj9kOmUpLGEuc2VsZWN0KCkpO2EubW92ZVRvRWxlbWVudEVkaXRTdGFydChsJiYhYj9jOmUpfWVsc2UgYy5pcyhcImxpXCIpJiYoZT1hLmNsb25lKCksZS5zZWxlY3ROb2RlQ29udGVudHMoYyksZT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihlKSxlLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4hKEEoYSl8fHooYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kaW5saW5lJiYhKGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRlbXB0eSkpfSwoZz1lLm5leHQoKSkmJlxuZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXMoXCJ1bFwiLFwib2xcIikmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9mLmNyZWF0ZUVsZW1lbnQoXCJiclwiKTpmLmNyZWF0ZVRleHQoXCLCoFwiKSkuaW5zZXJ0QmVmb3JlKGcpKSxjJiZhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyk7YS5zZWxlY3QoKTthLnNjcm9sbEludG9WaWV3KCl9fX0sZW50ZXJCcjpmdW5jdGlvbihiLGQsYSxoKXtpZihhPWF8fHYoYikpe3ZhciBmPWEuZG9jdW1lbnQsaz1hLmNoZWNrRW5kT2ZCbG9jaygpLG09bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpKSxsPW0uYmxvY2ssYz1sJiZtLmJsb2NrLmdldE5hbWUoKTtofHxcImxpXCIhPWM/KCFoJiZrJiZ3LnRlc3QoYyk/KGs9bC5nZXREaXJlY3Rpb24oKSk/KGY9Zi5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGYuc2V0QXR0cmlidXRlKFwiZGlyXCIsayksZi5pbnNlcnRBZnRlcihsKSxhLnNldFN0YXJ0KGYsXG4wKSk6KGYuY3JlYXRlRWxlbWVudChcImJyXCIpLmluc2VydEFmdGVyKGwpLENLRURJVE9SLmVudi5nZWNrbyYmZi5jcmVhdGVUZXh0KFwiXCIpLmluc2VydEFmdGVyKGwpLGEuc2V0U3RhcnRBdChsLmdldE5leHQoKSxDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6KGI9XCJwcmVcIj09YyYmQ0tFRElUT1IuZW52LmllJiY4PkNLRURJVE9SLmVudi52ZXJzaW9uP2YuY3JlYXRlVGV4dChcIlxcclwiKTpmLmNyZWF0ZUVsZW1lbnQoXCJiclwiKSxhLmRlbGV0ZUNvbnRlbnRzKCksYS5pbnNlcnROb2RlKGIpLENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyPyhmLmNyZWF0ZVRleHQoXCLvu79cIikuaW5zZXJ0QWZ0ZXIoYiksayYmKGx8fG0uYmxvY2tMaW1pdCkuYXBwZW5kQm9ndXMoKSxiLmdldE5leHQoKS4kLm5vZGVWYWx1ZT1cIlwiLGEuc2V0U3RhcnRBdChiLmdldE5leHQoKSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpOlxuYS5zZXRTdGFydEF0KGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksYS5jb2xsYXBzZSghMCksYS5zZWxlY3QoKSxhLnNjcm9sbEludG9WaWV3KCkpOnUoYixkLGEsaCl9fX07dmFyIHg9Q0tFRElUT1IucGx1Z2lucy5lbnRlcmtleSx0PXguZW50ZXJCcix1PXguZW50ZXJCbG9jayx3PS9eaFsxLTZdJC99KSgpOyhmdW5jdGlvbigpe3ZhciBiPXtjYW5VbmRvOiExLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHJcIik7YS5pbnNlcnRFbGVtZW50KGIpfSxhbGxvd2VkQ29udGVudDpcImhyXCIscmVxdWlyZWRDb250ZW50OlwiaHJcIn07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJob3Jpem9udGFscnVsZVwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYmxvY2tsZXNzfHwoYS5hZGRDb21tYW5kKFwiaG9yaXpvbnRhbHJ1bGVcIixiKSxhLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJIb3Jpem9udGFsUnVsZVwiLHtsYWJlbDphLmxhbmcuaG9yaXpvbnRhbHJ1bGUudG9vbGJhcixjb21tYW5kOlwiaG9yaXpvbnRhbHJ1bGVcIix0b29sYmFyOlwiaW5zZXJ0LDQwXCJ9KSl9fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIG0oYSxiKXt2YXIgZSxmO2Iub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24oYSl7dmFyIGI9W2tdLGM7Zm9yKGMgaW4gYS5kYXRhLnN0YXRlcyliLnB1c2goYS5kYXRhLnN0YXRlc1tjXSk7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi50b29scy5zZWFyY2goYixwKT9wOmspfSxiLG51bGwsMTAwKTtiLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGIpe2U9YS5nZXRTZWxlY3Rpb24oKTtmPWUuY3JlYXRlQm9va21hcmtzKDEpO2IuZGF0YXx8KGIuZGF0YT17fSk7Yi5kYXRhLmRvbmU9ITF9LGIsbnVsbCwwKTtiLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKCl7YS5mb3JjZU5leHRTZWxlY3Rpb25DaGVjaygpO2Uuc2VsZWN0Qm9va21hcmtzKGYpfSxiLG51bGwsMTAwKX12YXIgaz1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxwPUNLRURJVE9SLlRSSVNUQVRFX09GRjtDS0VESVRPUi5wbHVnaW5zLmFkZChcImluZGVudFwiLHtpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uO1xubShhLGEuYWRkQ29tbWFuZChcImluZGVudFwiLG5ldyBiKCEwKSkpO20oYSxhLmFkZENvbW1hbmQoXCJvdXRkZW50XCIsbmV3IGIpKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiSW5kZW50XCIse2xhYmVsOmEubGFuZy5pbmRlbnQuaW5kZW50LGNvbW1hbmQ6XCJpbmRlbnRcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDIwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIk91dGRlbnRcIix7bGFiZWw6YS5sYW5nLmluZGVudC5vdXRkZW50LGNvbW1hbmQ6XCJvdXRkZW50XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImluZGVudCwxMFwifSkpO2Eub24oXCJkaXJDaGFuZ2VkXCIsZnVuY3Rpb24oYil7dmFyIGY9YS5jcmVhdGVSYW5nZSgpLGw9Yi5kYXRhLm5vZGU7Zi5zZXRTdGFydEJlZm9yZShsKTtmLnNldEVuZEFmdGVyKGwpO2Zvcih2YXIgbj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKSxjO2M9bi5uZXh0KCk7KWlmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKCFjLmVxdWFscyhsKSYmXG5jLmdldERpcmVjdGlvbigpKWYuc2V0U3RhcnRBZnRlcihjKSxuPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpO2Vsc2V7dmFyIGQ9YS5jb25maWcuaW5kZW50Q2xhc3NlcztpZihkKWZvcih2YXIgZz1cImx0clwiPT1iLmRhdGEuZGlyP1tcIl9ydGxcIixcIlwiXTpbXCJcIixcIl9ydGxcIl0saD0wO2g8ZC5sZW5ndGg7aCsrKWMuaGFzQ2xhc3MoZFtoXStnWzBdKSYmKGMucmVtb3ZlQ2xhc3MoZFtoXStnWzBdKSxjLmFkZENsYXNzKGRbaF0rZ1sxXSkpO2Q9Yy5nZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiKTtnPWMuZ2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtkP2Muc2V0U3R5bGUoXCJtYXJnaW4tbGVmdFwiLGQpOmMucmVtb3ZlU3R5bGUoXCJtYXJnaW4tbGVmdFwiKTtnP2Muc2V0U3R5bGUoXCJtYXJnaW4tcmlnaHRcIixnKTpjLnJlbW92ZVN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpfX0pfX0pO0NLRURJVE9SLnBsdWdpbnMuaW5kZW50PXtnZW5lcmljRGVmaW5pdGlvbjpmdW5jdGlvbihhKXt0aGlzLmlzSW5kZW50PSEhYTtcbnRoaXMuc3RhcnREaXNhYmxlZD0hdGhpcy5pc0luZGVudH0sc3BlY2lmaWNEZWZpbml0aW9uOmZ1bmN0aW9uKGEsYixlKXt0aGlzLm5hbWU9Yjt0aGlzLmVkaXRvcj1hO3RoaXMuam9icz17fTt0aGlzLmVudGVyQnI9YS5jb25maWcuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUjt0aGlzLmlzSW5kZW50PSEhZTt0aGlzLnJlbGF0ZWRHbG9iYWw9ZT9cImluZGVudFwiOlwib3V0ZGVudFwiO3RoaXMuaW5kZW50S2V5PWU/OTpDS0VESVRPUi5TSElGVCs5O3RoaXMuZGF0YWJhc2U9e319LHJlZ2lzdGVyQ29tbWFuZHM6ZnVuY3Rpb24oYSxiKXthLm9uKFwicGx1Z2luc0xvYWRlZFwiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGIpKGZ1bmN0aW9uKGEsYil7dmFyIGU9YS5nZXRDb21tYW5kKGIucmVsYXRlZEdsb2JhbCksYztmb3IoYyBpbiBiLmpvYnMpZS5vbihcImV4ZWNcIixmdW5jdGlvbihkKXtkLmRhdGEuZG9uZXx8KGEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxiLmV4ZWNKb2IoYSxjKSYmKGQuZGF0YS5kb25lPVxuITApLGEuZmlyZShcInVubG9ja1NuYXBzaG90XCIpLENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhiLmRhdGFiYXNlKSl9LHRoaXMsbnVsbCxjKSxlLm9uKFwicmVmcmVzaFwiLGZ1bmN0aW9uKGQpe2QuZGF0YS5zdGF0ZXN8fChkLmRhdGEuc3RhdGVzPXt9KTtkLmRhdGEuc3RhdGVzW2IubmFtZStcIkBcIitjXT1iLnJlZnJlc2hKb2IoYSxjLGQuZGF0YS5wYXRoKX0sdGhpcyxudWxsLGMpO2EuYWRkRmVhdHVyZShiKX0pKHRoaXMsYlthXSl9KX19O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50LmdlbmVyaWNEZWZpbml0aW9uLnByb3RvdHlwZT17Y29udGV4dDpcInBcIixleGVjOmZ1bmN0aW9uKCl7fX07Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZT17ZXhlY0pvYjpmdW5jdGlvbihhLGIpe3ZhciBlPXRoaXMuam9ic1tiXTtpZihlLnN0YXRlIT1rKXJldHVybiBlLmV4ZWMuY2FsbCh0aGlzLGEpfSxyZWZyZXNoSm9iOmZ1bmN0aW9uKGEsXG5iLGUpe2I9dGhpcy5qb2JzW2JdO2EuYWN0aXZlRmlsdGVyLmNoZWNrRmVhdHVyZSh0aGlzKT9iLnN0YXRlPWIucmVmcmVzaC5jYWxsKHRoaXMsYSxlKTpiLnN0YXRlPWs7cmV0dXJuIGIuc3RhdGV9LGdldENvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY29udGFpbnModGhpcy5jb250ZXh0KX19fSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGIsYyxhKXtpZighYi5nZXRDdXN0b21EYXRhKFwiaW5kZW50X3Byb2Nlc3NlZFwiKSl7dmFyIGQ9dGhpcy5lZGl0b3IsbD10aGlzLmlzSW5kZW50O2lmKGMpe2Q9Yi4kLmNsYXNzTmFtZS5tYXRjaCh0aGlzLmNsYXNzTmFtZVJlZ2V4KTthPTA7ZCYmKGQ9ZFsxXSxhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYyxkKSsxKTtpZigwPihhKz1sPzE6LTEpKXJldHVybjthPU1hdGgubWluKGEsYy5sZW5ndGgpO2E9TWF0aC5tYXgoYSwwKTtiLiQuY2xhc3NOYW1lPUNLRURJVE9SLnRvb2xzLmx0cmltKGIuJC5jbGFzc05hbWUucmVwbGFjZSh0aGlzLmNsYXNzTmFtZVJlZ2V4LFwiXCIpKTswPGEmJmIuYWRkQ2xhc3MoY1thLTFdKX1lbHNle2M9bShiLGEpO2E9cGFyc2VJbnQoYi5nZXRTdHlsZShjKSwxMCk7dmFyIGc9ZC5jb25maWcuaW5kZW50T2Zmc2V0fHw0MDtpc05hTihhKSYmKGE9MCk7YSs9KGw/MTotMSkqZztpZigwPmEpcmV0dXJuO2E9TWF0aC5tYXgoYSxcbjApO2E9TWF0aC5jZWlsKGEvZykqZztiLnNldFN0eWxlKGMsYT9hKyhkLmNvbmZpZy5pbmRlbnRVbml0fHxcInB4XCIpOlwiXCIpO1wiXCI9PT1iLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpJiZiLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpfUNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcih0aGlzLmRhdGFiYXNlLGIsXCJpbmRlbnRfcHJvY2Vzc2VkXCIsMSl9fWZ1bmN0aW9uIG0oYixjKXtyZXR1cm5cImx0clwiPT0oY3x8Yi5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpKT9cIm1hcmdpbi1sZWZ0XCI6XCJtYXJnaW4tcmlnaHRcIn12YXIgaD1DS0VESVRPUi5kdGQuJGxpc3RJdGVtLHA9Q0tFRElUT1IuZHRkLiRsaXN0LGs9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsbj1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRibG9ja1wiLHtyZXF1aXJlczpcImluZGVudFwiLGluaXQ6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYygpe2Euc3BlY2lmaWNEZWZpbml0aW9uLmFwcGx5KHRoaXMsXG5hcmd1bWVudHMpO3RoaXMuYWxsb3dlZENvbnRlbnQ9e1wiZGl2IGgxIGgyIGgzIGg0IGg1IGg2IG9sIHAgcHJlIHVsXCI6e3Byb3BlcnRpZXNPbmx5OiEwLHN0eWxlczpkP251bGw6XCJtYXJnaW4tbGVmdCxtYXJnaW4tcmlnaHRcIixjbGFzc2VzOmR8fG51bGx9fTt0aGlzLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM9W1tcImRpdjogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wiaDE6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcImgyOiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJoMzogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wiaDQ6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcImg1OiBzcGxpdE1hcmdpblNob3J0aGFuZFwiXSxbXCJoNjogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1wib2w6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcInA6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdLFtcInByZTogc3BsaXRNYXJnaW5TaG9ydGhhbmRcIl0sW1widWw6IHNwbGl0TWFyZ2luU2hvcnRoYW5kXCJdXTt0aGlzLmVudGVyQnImJlxuKHRoaXMuYWxsb3dlZENvbnRlbnQuZGl2PSEwKTt0aGlzLnJlcXVpcmVkQ29udGVudD0odGhpcy5lbnRlckJyP1wiZGl2XCI6XCJwXCIpKyhkP1wiKFwiK2Quam9pbihcIixcIikrXCIpXCI6XCJ7bWFyZ2luLWxlZnR9XCIpO3RoaXMuam9icz17MjA6e3JlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgZT1iLmJsb2NrfHxiLmJsb2NrTGltaXQ7aWYoIWUuaXMoaCkpdmFyIGM9ZS5nZXRBc2NlbmRhbnQoaCksZT1jJiZiLmNvbnRhaW5zKGMpfHxlO2UuaXMoaCkmJihlPWUuZ2V0UGFyZW50KCkpO2lmKHRoaXMuZW50ZXJCcnx8dGhpcy5nZXRDb250ZXh0KGIpKXtpZihkKXt2YXIgYz1kLGU9ZS4kLmNsYXNzTmFtZS5tYXRjaCh0aGlzLmNsYXNzTmFtZVJlZ2V4KSxmPXRoaXMuaXNJbmRlbnQsYz1lP2Y/ZVsxXSE9Yy5zbGljZSgtMSk6ITA6ZjtyZXR1cm4gYz9uOmt9cmV0dXJuIHRoaXMuaXNJbmRlbnQ/bjplP0NLRURJVE9SWzA+PShwYXJzZUludChlLmdldFN0eWxlKG0oZSkpLDEwKXx8MCk/XCJUUklTVEFURV9ESVNBQkxFRFwiOlxuXCJUUklTVEFURV9PRkZcIl06a31yZXR1cm4ga30sZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpLGI9YiYmYi5nZXRSYW5nZXMoKVswXSxjO2lmKGM9YS5lbGVtZW50UGF0aCgpLmNvbnRhaW5zKHApKWYuY2FsbCh0aGlzLGMsZCk7ZWxzZSBmb3IoYj1iLmNyZWF0ZUl0ZXJhdG9yKCksYT1hLmNvbmZpZy5lbnRlck1vZGUsYi5lbmZvcmNlUmVhbEJsb2Nrcz0hMCxiLmVubGFyZ2VCcj1hIT1DS0VESVRPUi5FTlRFUl9CUjtjPWIuZ2V0TmV4dFBhcmFncmFwaChhPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpOyljLmlzUmVhZE9ubHkoKXx8Zi5jYWxsKHRoaXMsYyxkKTtyZXR1cm4hMH19fX12YXIgYT1DS0VESVRPUi5wbHVnaW5zLmluZGVudCxkPWIuY29uZmlnLmluZGVudENsYXNzZXM7YS5yZWdpc3RlckNvbW1hbmRzKGIse2luZGVudGJsb2NrOm5ldyBjKGIsXCJpbmRlbnRibG9ja1wiLCEwKSxvdXRkZW50YmxvY2s6bmV3IGMoYixcIm91dGRlbnRibG9ja1wiKX0pO1xuQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGMucHJvdG90eXBlLGEuc3BlY2lmaWNEZWZpbml0aW9uLnByb3RvdHlwZSx7Y29udGV4dDp7ZGl2OjEsZGw6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSx1bDoxLG9sOjEscDoxLHByZToxLHRhYmxlOjF9LGNsYXNzTmFtZVJlZ2V4OmQ/bmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKShcIitkLmpvaW4oXCJ8XCIpK1wiKSg/XFx4M2QkfFxcXFxzKVwiKTpudWxsfSl9fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIHcoZCl7ZnVuY3Rpb24gZihiKXtmb3IodmFyIGU9Yy5zdGFydENvbnRhaW5lcixhPWMuZW5kQ29udGFpbmVyO2UmJiFlLmdldFBhcmVudCgpLmVxdWFscyhiKTspZT1lLmdldFBhcmVudCgpO2Zvcig7YSYmIWEuZ2V0UGFyZW50KCkuZXF1YWxzKGIpOylhPWEuZ2V0UGFyZW50KCk7aWYoIWV8fCFhKXJldHVybiExO2Zvcih2YXIgZz1lLGU9W10saz0hMTshazspZy5lcXVhbHMoYSkmJihrPSEwKSxlLnB1c2goZyksZz1nLmdldE5leHQoKTtpZigxPmUubGVuZ3RoKXJldHVybiExO2c9Yi5nZXRQYXJlbnRzKCEwKTtmb3IoYT0wO2E8Zy5sZW5ndGg7YSsrKWlmKGdbYV0uZ2V0TmFtZSYmcFtnW2FdLmdldE5hbWUoKV0pe2I9Z1thXTticmVha31mb3IodmFyIGc9bC5pc0luZGVudD8xOi0xLGE9ZVswXSxlPWVbZS5sZW5ndGgtMV0saz1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoYixxKSxoPWtbZS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpXS5pbmRlbnQsXG5hPWEuZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKTthPD1lLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIik7YSsrKWlmKGtbYV0uaW5kZW50Kz1nLDA8Zyl7dmFyIG49a1thXS5wYXJlbnQ7a1thXS5wYXJlbnQ9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG4uZ2V0TmFtZSgpLG4uZ2V0RG9jdW1lbnQoKSl9Zm9yKGE9ZS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpKzE7YTxrLmxlbmd0aCYma1thXS5pbmRlbnQ+aDthKyspa1thXS5pbmRlbnQrPWc7ZT1DS0VESVRPUi5wbHVnaW5zLmxpc3QuYXJyYXlUb0xpc3QoayxxLG51bGwsZC5jb25maWcuZW50ZXJNb2RlLGIuZ2V0RGlyZWN0aW9uKCkpO2lmKCFsLmlzSW5kZW50KXt2YXIgZjtpZigoZj1iLmdldFBhcmVudCgpKSYmZi5pcyhcImxpXCIpKWZvcih2YXIgZz1lLmxpc3ROb2RlLmdldENoaWxkcmVuKCkscj1bXSxtLGE9Zy5jb3VudCgpLTE7MDw9YTthLS0pKG09Zy5nZXRJdGVtKGEpKSYmbS5pcyYmbS5pcyhcImxpXCIpJiZcbnIucHVzaChtKX1lJiZlLmxpc3ROb2RlLnJlcGxhY2UoYik7aWYociYmci5sZW5ndGgpZm9yKGE9MDthPHIubGVuZ3RoO2ErKyl7Zm9yKG09Yj1yW2FdOyhtPW0uZ2V0TmV4dCgpKSYmbS5pcyYmbS5nZXROYW1lKClpbiBwOylDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyJiYhYi5nZXRGaXJzdCh4KSYmYi5hcHBlbmQoYy5kb2N1bWVudC5jcmVhdGVUZXh0KFwiwqBcIikpLGIuYXBwZW5kKG0pO2IuaW5zZXJ0QWZ0ZXIoZil9ZSYmZC5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpO3JldHVybiEwfWZvcih2YXIgbD10aGlzLHE9dGhpcy5kYXRhYmFzZSxwPXRoaXMuY29udGV4dCxjLG49ZC5nZXRTZWxlY3Rpb24oKSxuPShuJiZuLmdldFJhbmdlcygpKS5jcmVhdGVJdGVyYXRvcigpO2M9bi5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgYj1jLmdldENvbW1vbkFuY2VzdG9yKCk7YiYmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhcFtiLmdldE5hbWUoKV0pOyl7aWYoZC5lZGl0YWJsZSgpLmVxdWFscyhiKSl7Yj1cbiExO2JyZWFrfWI9Yi5nZXRQYXJlbnQoKX1ifHwoYj1jLnN0YXJ0UGF0aCgpLmNvbnRhaW5zKHApKSYmYy5zZXRFbmRBdChiLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2lmKCFiKXt2YXIgaD1jLmdldEVuY2xvc2VkTm9kZSgpO2gmJmgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmdldE5hbWUoKWluIHAmJihjLnNldFN0YXJ0QXQoaCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYy5zZXRFbmRBdChoLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGI9aCl9YiYmYy5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuc3RhcnRDb250YWluZXIuZ2V0TmFtZSgpaW4gcCYmKGg9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksaC5ldmFsdWF0b3I9dCxjLnN0YXJ0Q29udGFpbmVyPWgubmV4dCgpKTtiJiZjLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluXG5wJiYoaD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxoLmV2YWx1YXRvcj10LGMuZW5kQ29udGFpbmVyPWgucHJldmlvdXMoKSk7aWYoYilyZXR1cm4gZihiKX1yZXR1cm4gMH1mdW5jdGlvbiB0KGQpe3JldHVybiBkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhcImxpXCIpfWZ1bmN0aW9uIHgoZCl7cmV0dXJuIHkoZCkmJnooZCl9dmFyIHk9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCksej1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKSx1PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHY9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaW5kZW50bGlzdFwiLHtyZXF1aXJlczpcImluZGVudFwiLGluaXQ6ZnVuY3Rpb24oZCl7ZnVuY3Rpb24gZihkKXtsLnNwZWNpZmljRGVmaW5pdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5yZXF1aXJlZENvbnRlbnQ9W1widWxcIixcIm9sXCJdO2Qub24oXCJrZXlcIixcbmZ1bmN0aW9uKGYpe3ZhciBjPWQuZWxlbWVudFBhdGgoKTtpZihcInd5c2l3eWdcIj09ZC5tb2RlJiZmLmRhdGEua2V5Q29kZT09dGhpcy5pbmRlbnRLZXkmJmMpe3ZhciBuPXRoaXMuZ2V0Q29udGV4dChjKTshbnx8dGhpcy5pc0luZGVudCYmQ0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aCh0aGlzLmNvbnRleHQsYyxuKXx8KGQuZXhlY0NvbW1hbmQodGhpcy5yZWxhdGVkR2xvYmFsKSxmLmNhbmNlbCgpKX19LHRoaXMpO3RoaXMuam9ic1t0aGlzLmlzSW5kZW50PzEwOjMwXT17cmVmcmVzaDp0aGlzLmlzSW5kZW50P2Z1bmN0aW9uKGQsYyl7dmFyIGY9dGhpcy5nZXRDb250ZXh0KGMpLGI9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aCh0aGlzLmNvbnRleHQsYyxmKTtyZXR1cm4gZiYmdGhpcy5pc0luZGVudCYmIWI/djp1fTpmdW5jdGlvbihkLGMpe3JldHVybiF0aGlzLmdldENvbnRleHQoYyl8fHRoaXMuaXNJbmRlbnQ/dTp2fSxcbmV4ZWM6Q0tFRElUT1IudG9vbHMuYmluZCh3LHRoaXMpfX12YXIgbD1DS0VESVRPUi5wbHVnaW5zLmluZGVudDtsLnJlZ2lzdGVyQ29tbWFuZHMoZCx7aW5kZW50bGlzdDpuZXcgZihkLFwiaW5kZW50bGlzdFwiLCEwKSxvdXRkZW50bGlzdDpuZXcgZihkLFwib3V0ZGVudGxpc3RcIil9KTtDS0VESVRPUi50b29scy5leHRlbmQoZi5wcm90b3R5cGUsbC5zcGVjaWZpY0RlZmluaXRpb24ucHJvdG90eXBlLHtjb250ZXh0OntvbDoxLHVsOjF9fSl9fSk7Q0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0PXt9O0NLRURJVE9SLnBsdWdpbnMuaW5kZW50TGlzdC5maXJzdEl0ZW1JblBhdGg9ZnVuY3Rpb24oZCxmLGwpe3ZhciBxPWYuY29udGFpbnModCk7bHx8KGw9Zi5jb250YWlucyhkKSk7cmV0dXJuIGwmJnEmJnEuZXF1YWxzKGwuZ2V0Rmlyc3QodCkpfX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcShhLGMpe2M9dm9pZCAwPT09Y3x8Yzt2YXIgYjtpZihjKWI9YS5nZXRDb21wdXRlZFN0eWxlKFwidGV4dC1hbGlnblwiKTtlbHNle2Zvcig7IWEuaGFzQXR0cmlidXRlfHwhYS5oYXNBdHRyaWJ1dGUoXCJhbGlnblwiKSYmIWEuZ2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIpOyl7Yj1hLmdldFBhcmVudCgpO2lmKCFiKWJyZWFrO2E9Yn1iPWEuZ2V0U3R5bGUoXCJ0ZXh0LWFsaWduXCIpfHxhLmdldEF0dHJpYnV0ZShcImFsaWduXCIpfHxcIlwifWImJihiPWIucmVwbGFjZSgvKD86LSg/Om1venx3ZWJraXQpLSk/KD86c3RhcnR8YXV0bykvaSxcIlwiKSk7IWImJmMmJihiPVwicnRsXCI9PWEuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKT9cInJpZ2h0XCI6XCJsZWZ0XCIpO3JldHVybiBifWZ1bmN0aW9uIGgoYSxjLGIpe3RoaXMuZWRpdG9yPWE7dGhpcy5uYW1lPWM7dGhpcy52YWx1ZT1iO3RoaXMuY29udGV4dD1cInBcIjtjPWEuY29uZmlnLmp1c3RpZnlDbGFzc2VzO3ZhciBmPWEuY29uZmlnLmVudGVyTW9kZT09XG5DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7aWYoYyl7c3dpdGNoKGIpe2Nhc2UgXCJsZWZ0XCI6dGhpcy5jc3NDbGFzc05hbWU9Y1swXTticmVhaztjYXNlIFwiY2VudGVyXCI6dGhpcy5jc3NDbGFzc05hbWU9Y1sxXTticmVhaztjYXNlIFwicmlnaHRcIjp0aGlzLmNzc0NsYXNzTmFtZT1jWzJdO2JyZWFrO2Nhc2UgXCJqdXN0aWZ5XCI6dGhpcy5jc3NDbGFzc05hbWU9Y1szXX10aGlzLmNzc0NsYXNzUmVnZXg9bmV3IFJlZ0V4cChcIig/Ol58XFxcXHMrKSg/OlwiK2Muam9pbihcInxcIikrXCIpKD9cXHgzZCR8XFxcXHMpXCIpO3RoaXMucmVxdWlyZWRDb250ZW50PWYrXCIoXCIrdGhpcy5jc3NDbGFzc05hbWUrXCIpXCJ9ZWxzZSB0aGlzLnJlcXVpcmVkQ29udGVudD1mK1wie3RleHQtYWxpZ259XCI7dGhpcy5hbGxvd2VkQ29udGVudD17XCJjYXB0aW9uIGRpdiBoMSBoMiBoMyBoNCBoNSBoNiBwIHByZSB0ZCB0aCBsaVwiOntwcm9wZXJ0aWVzT25seTohMCxzdHlsZXM6dGhpcy5jc3NDbGFzc05hbWU/bnVsbDpcInRleHQtYWxpZ25cIixcbmNsYXNzZXM6dGhpcy5jc3NDbGFzc05hbWV8fG51bGx9fTthLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSJiYodGhpcy5hbGxvd2VkQ29udGVudC5kaXY9ITApfWZ1bmN0aW9uIG0oYSl7dmFyIGM9YS5lZGl0b3IsYj1jLmNyZWF0ZVJhbmdlKCk7Yi5zZXRTdGFydEJlZm9yZShhLmRhdGEubm9kZSk7Yi5zZXRFbmRBZnRlcihhLmRhdGEubm9kZSk7Zm9yKHZhciBmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpLGQ7ZD1mLm5leHQoKTspaWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoIWQuZXF1YWxzKGEuZGF0YS5ub2RlKSYmZC5nZXREaXJlY3Rpb24oKSliLnNldFN0YXJ0QWZ0ZXIoZCksZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKTtlbHNle3ZhciBlPWMuY29uZmlnLmp1c3RpZnlDbGFzc2VzO2UmJihkLmhhc0NsYXNzKGVbMF0pPyhkLnJlbW92ZUNsYXNzKGVbMF0pLGQuYWRkQ2xhc3MoZVsyXSkpOmQuaGFzQ2xhc3MoZVsyXSkmJihkLnJlbW92ZUNsYXNzKGVbMl0pLFxuZC5hZGRDbGFzcyhlWzBdKSkpO2U9ZC5nZXRTdHlsZShcInRleHQtYWxpZ25cIik7XCJsZWZ0XCI9PWU/ZC5zZXRTdHlsZShcInRleHQtYWxpZ25cIixcInJpZ2h0XCIpOlwicmlnaHRcIj09ZSYmZC5zZXRTdHlsZShcInRleHQtYWxpZ25cIixcImxlZnRcIil9fWgucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuZ2V0U2VsZWN0aW9uKCksYj1hLmNvbmZpZy5lbnRlck1vZGU7aWYoYyl7Zm9yKHZhciBmPWMuY3JlYXRlQm9va21hcmtzKCksZD1jLmdldFJhbmdlcygpLGU9dGhpcy5jc3NDbGFzc05hbWUsaCxnLGs9YS5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZSxrPXZvaWQgMD09PWt8fGssbj1kLmxlbmd0aC0xOzA8PW47bi0tKWZvcihoPWRbbl0uY3JlYXRlSXRlcmF0b3IoKSxoLmVubGFyZ2VCcj1iIT1DS0VESVRPUi5FTlRFUl9CUjtnPWguZ2V0TmV4dFBhcmFncmFwaChiPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCIpOylpZighZy5pc1JlYWRPbmx5KCkpe3ZhciBsPWcuZ2V0TmFtZSgpLFxucDtwPWEuYWN0aXZlRmlsdGVyLmNoZWNrKGwrXCJ7dGV4dC1hbGlnbn1cIik7aWYoKGw9YS5hY3RpdmVGaWx0ZXIuY2hlY2sobCtcIihcIitlK1wiKVwiKSl8fHApe2cucmVtb3ZlQXR0cmlidXRlKFwiYWxpZ25cIik7Zy5yZW1vdmVTdHlsZShcInRleHQtYWxpZ25cIik7dmFyIG09ZSYmKGcuJC5jbGFzc05hbWU9Q0tFRElUT1IudG9vbHMubHRyaW0oZy4kLmNsYXNzTmFtZS5yZXBsYWNlKHRoaXMuY3NzQ2xhc3NSZWdleCxcIlwiKSkpLHI9dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGJiYoIWt8fHEoZywhMCkhPXRoaXMudmFsdWUpO2UmJmw/cj9nLmFkZENsYXNzKGUpOm18fGcucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik6ciYmcCYmZy5zZXRTdHlsZShcInRleHQtYWxpZ25cIix0aGlzLnZhbHVlKX19YS5mb2N1cygpO2EuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKTtjLnNlbGVjdEJvb2ttYXJrcyhmKX19LHJlZnJlc2g6ZnVuY3Rpb24oYSxjKXt2YXIgYj1jLmJsb2NrfHxjLmJsb2NrTGltaXQsXG5mPWIuZ2V0TmFtZSgpLGQ9Yi5lcXVhbHMoYS5lZGl0YWJsZSgpKSxmPXRoaXMuY3NzQ2xhc3NOYW1lP2EuYWN0aXZlRmlsdGVyLmNoZWNrKGYrXCIoXCIrdGhpcy5jc3NDbGFzc05hbWUrXCIpXCIpOmEuYWN0aXZlRmlsdGVyLmNoZWNrKGYrXCJ7dGV4dC1hbGlnbn1cIik7ZCYmMT09PWMuZWxlbWVudHMubGVuZ3RoP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTohZCYmZj90aGlzLnNldFN0YXRlKHEoYix0aGlzLmVkaXRvci5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZSk9PXRoaXMudmFsdWU/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwianVzdGlmeVwiLHtpbml0OmZ1bmN0aW9uKGEpe2lmKCFhLmJsb2NrbGVzcyl7dmFyIGM9bmV3IGgoYSxcImp1c3RpZnlsZWZ0XCIsXCJsZWZ0XCIpLGI9bmV3IGgoYSxcImp1c3RpZnljZW50ZXJcIixcImNlbnRlclwiKSxcbmY9bmV3IGgoYSxcImp1c3RpZnlyaWdodFwiLFwicmlnaHRcIiksZD1uZXcgaChhLFwianVzdGlmeWJsb2NrXCIsXCJqdXN0aWZ5XCIpO2EuYWRkQ29tbWFuZChcImp1c3RpZnlsZWZ0XCIsYyk7YS5hZGRDb21tYW5kKFwianVzdGlmeWNlbnRlclwiLGIpO2EuYWRkQ29tbWFuZChcImp1c3RpZnlyaWdodFwiLGYpO2EuYWRkQ29tbWFuZChcImp1c3RpZnlibG9ja1wiLGQpO2EudWkuYWRkQnV0dG9uJiYoYS51aS5hZGRCdXR0b24oXCJKdXN0aWZ5TGVmdFwiLHtsYWJlbDphLmxhbmcuanVzdGlmeS5sZWZ0LGNvbW1hbmQ6XCJqdXN0aWZ5bGVmdFwiLHRvb2xiYXI6XCJhbGlnbiwxMFwifSksYS51aS5hZGRCdXR0b24oXCJKdXN0aWZ5Q2VudGVyXCIse2xhYmVsOmEubGFuZy5qdXN0aWZ5LmNlbnRlcixjb21tYW5kOlwianVzdGlmeWNlbnRlclwiLHRvb2xiYXI6XCJhbGlnbiwyMFwifSksYS51aS5hZGRCdXR0b24oXCJKdXN0aWZ5UmlnaHRcIix7bGFiZWw6YS5sYW5nLmp1c3RpZnkucmlnaHQsY29tbWFuZDpcImp1c3RpZnlyaWdodFwiLHRvb2xiYXI6XCJhbGlnbiwzMFwifSksXG5hLnVpLmFkZEJ1dHRvbihcIkp1c3RpZnlCbG9ja1wiLHtsYWJlbDphLmxhbmcuanVzdGlmeS5ibG9jayxjb21tYW5kOlwianVzdGlmeWJsb2NrXCIsdG9vbGJhcjpcImFsaWduLDQwXCJ9KSk7YS5vbihcImRpckNoYW5nZWRcIixtKX19fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIEkoYixtLGUpe2Z1bmN0aW9uIGMoYyl7aWYoISghKGE9ZFtjP1wiZ2V0Rmlyc3RcIjpcImdldExhc3RcIl0oKSl8fGEuaXMmJmEuaXNCbG9ja0JvdW5kYXJ5KCl8fCEocD1tLnJvb3RbYz9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKENLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlKCEwKSkpfHxwLmlzJiZwLmlzQmxvY2tCb3VuZGFyeSh7YnI6MX0pKSliLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJiclwiKVtjP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShhKX1mb3IodmFyIGY9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KG0ucm9vdCxlKSxnPVtdLGs9MDtrPG0uY29udGVudHMubGVuZ3RoO2srKyl7dmFyIGg9bS5jb250ZW50c1trXTsoaD1oLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIWguZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikmJihnLnB1c2goaCksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGUsXG5oLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLCEwKSl9aD1udWxsO2ZvcihrPTA7azxnLmxlbmd0aDtrKyspaD1nW2tdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksZltoXS5pbmRlbnQ9LTE7Zm9yKGs9aCsxO2s8Zi5sZW5ndGg7aysrKWlmKGZba10uaW5kZW50PmZbay0xXS5pbmRlbnQrMSl7Zz1mW2stMV0uaW5kZW50KzEtZltrXS5pbmRlbnQ7Zm9yKGg9ZltrXS5pbmRlbnQ7ZltrXSYmZltrXS5pbmRlbnQ+PWg7KWZba10uaW5kZW50Kz1nLGsrKztrLS19dmFyIGQ9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGYsZSxudWxsLGIuY29uZmlnLmVudGVyTW9kZSxtLnJvb3QuZ2V0QXR0cmlidXRlKFwiZGlyXCIpKS5saXN0Tm9kZSxhLHA7YyghMCk7YygpO2QucmVwbGFjZShtLnJvb3QpO2IuZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKX1mdW5jdGlvbiBCKGIsbSl7dGhpcy5uYW1lPWI7dGhpcy5jb250ZXh0PXRoaXMudHlwZT1tO3RoaXMuYWxsb3dlZENvbnRlbnQ9XG5tK1wiIGxpXCI7dGhpcy5yZXF1aXJlZENvbnRlbnQ9bX1mdW5jdGlvbiBFKGIsbSxlLGMpe2Zvcih2YXIgZixnO2Y9YltjP1wiZ2V0TGFzdFwiOlwiZ2V0Rmlyc3RcIl0oSik7KShnPWYuZ2V0RGlyZWN0aW9uKDEpKSE9PW0uZ2V0RGlyZWN0aW9uKDEpJiZmLnNldEF0dHJpYnV0ZShcImRpclwiLGcpLGYucmVtb3ZlKCksZT9mW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGUpOm0uYXBwZW5kKGYsYyl9ZnVuY3Rpb24gRihiKXtmdW5jdGlvbiBtKGUpe3ZhciBjPWJbZT9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKHUpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmlzKGIuZ2V0TmFtZSgpKSYmKEUoYixjLG51bGwsIWUpLGIucmVtb3ZlKCksYj1jKX1tKCk7bSgxKX1mdW5jdGlvbiBHKGIpe3JldHVybiBiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRibG9ja3x8Yi5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmXG5DS0VESVRPUi5kdGRbYi5nZXROYW1lKCldW1wiI1wiXX1mdW5jdGlvbiBDKGIsbSxlKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTKTt2YXIgYz1lLmV4dHJhY3RDb250ZW50cygpO20udHJpbSghMSwhMCk7dmFyIGY9bS5jcmVhdGVCb29rbWFyaygpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChtLnN0YXJ0Q29udGFpbmVyKSxrPWcuYmxvY2ssZz1nLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImxpXCIsMSl8fGssaD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGUuc3RhcnRDb250YWluZXIpLGQ9aC5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxoPWguY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTtrPyhrPWsuZ2V0Qm9ndXMoKSkmJmsucmVtb3ZlKCk6aCYmKGs9aC5nZXRQcmV2aW91cyh1KSkmJnooaykmJmsucmVtb3ZlKCk7KGs9Yy5nZXRMYXN0KCkpJiZrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXG5rLmlzKFwiYnJcIikmJmsucmVtb3ZlKCk7KGs9bS5zdGFydENvbnRhaW5lci5nZXRDaGlsZChtLnN0YXJ0T2Zmc2V0KSk/Yy5pbnNlcnRCZWZvcmUoayk6bS5zdGFydENvbnRhaW5lci5hcHBlbmQoYyk7ZCYmKGM9QShkKSkmJihnLmNvbnRhaW5zKGQpPyhFKGMsZC5nZXRQYXJlbnQoKSxkKSxjLnJlbW92ZSgpKTpnLmFwcGVuZChjKSk7Zm9yKDtlLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmUuY2hlY2tFbmRPZkJsb2NrKCk7KXtoPWUuc3RhcnRQYXRoKCk7Yz1oLmJsb2NrO2lmKCFjKWJyZWFrO2MuaXMoXCJsaVwiKSYmKGc9Yy5nZXRQYXJlbnQoKSxjLmVxdWFscyhnLmdldExhc3QodSkpJiZjLmVxdWFscyhnLmdldEZpcnN0KHUpKSYmKGM9ZykpO2UubW92ZVRvUG9zaXRpb24oYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2MucmVtb3ZlKCl9ZT1lLmNsb25lKCk7Yz1iLmVkaXRhYmxlKCk7ZS5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2U9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7XG5lLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gdShhKSYmIXooYSl9OyhlPWUubmV4dCgpKSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmUuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0JiZGKGUpO20ubW92ZVRvQm9va21hcmsoZik7bS5zZWxlY3QoKTtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gQShiKXtyZXR1cm4oYj1iLmdldExhc3QodSkpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5nZXROYW1lKClpbiB2P2I6bnVsbH12YXIgdj17b2w6MSx1bDoxfSxLPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxIPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSx1PWZ1bmN0aW9uKGIpe3JldHVybiEoSyhiKXx8SChiKSl9LHo9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO0NLRURJVE9SLnBsdWdpbnMubGlzdD17bGlzdFRvQXJyYXk6ZnVuY3Rpb24oYixtLGUsYyxmKXtpZighdltiLmdldE5hbWUoKV0pcmV0dXJuW107XG5jfHwoYz0wKTtlfHwoZT1bXSk7Zm9yKHZhciBnPTAsaz1iLmdldENoaWxkQ291bnQoKTtnPGs7ZysrKXt2YXIgaD1iLmdldENoaWxkKGcpO2gudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmQ0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGgsbSxlLGMrMSk7aWYoXCJsaVwiPT1oLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGQ9e3BhcmVudDpiLGluZGVudDpjLGVsZW1lbnQ6aCxjb250ZW50czpbXX07Zj9kLmdyYW5kcGFyZW50PWY6KGQuZ3JhbmRwYXJlbnQ9Yi5nZXRQYXJlbnQoKSxkLmdyYW5kcGFyZW50JiZcImxpXCI9PWQuZ3JhbmRwYXJlbnQuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYoZC5ncmFuZHBhcmVudD1kLmdyYW5kcGFyZW50LmdldFBhcmVudCgpKSk7bSYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKG0saCxcImxpc3RhcnJheV9pbmRleFwiLGUubGVuZ3RoKTtlLnB1c2goZCk7XG5mb3IodmFyIGE9MCxwPWguZ2V0Q2hpbGRDb3VudCgpLGw7YTxwO2ErKylsPWguZ2V0Q2hpbGQoYSksbC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnZbbC5nZXROYW1lKCldP0NLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShsLG0sZSxjKzEsZC5ncmFuZHBhcmVudCk6ZC5jb250ZW50cy5wdXNoKGwpfX1yZXR1cm4gZX0sYXJyYXlUb0xpc3Q6ZnVuY3Rpb24oYixtLGUsYyxmKXtlfHwoZT0wKTtpZighYnx8Yi5sZW5ndGg8ZSsxKXJldHVybiBudWxsO2Zvcih2YXIgZyxrPWJbZV0ucGFyZW50LmdldERvY3VtZW50KCksaD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoayksZD1udWxsLGE9ZSxwPU1hdGgubWF4KGJbZV0uaW5kZW50LDApLGw9bnVsbCxxLG4sdD1jPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7Oyl7dmFyIHI9YlthXTtnPXIuZ3JhbmRwYXJlbnQ7cT1yLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpO2lmKHIuaW5kZW50PT1wKXtkJiZiW2FdLnBhcmVudC5nZXROYW1lKCk9PVxuZC5nZXROYW1lKCl8fChkPWJbYV0ucGFyZW50LmNsb25lKCExLDEpLGYmJmQuc2V0QXR0cmlidXRlKFwiZGlyXCIsZiksaC5hcHBlbmQoZCkpO2w9ZC5hcHBlbmQoci5lbGVtZW50LmNsb25lKDAsMSkpO3EhPWQuZ2V0RGlyZWN0aW9uKDEpJiZsLnNldEF0dHJpYnV0ZShcImRpclwiLHEpO2ZvcihnPTA7ZzxyLmNvbnRlbnRzLmxlbmd0aDtnKyspbC5hcHBlbmQoci5jb250ZW50c1tnXS5jbG9uZSgxLDEpKTthKyt9ZWxzZSBpZihyLmluZGVudD09TWF0aC5tYXgocCwwKSsxKXI9YlthLTFdLmVsZW1lbnQuZ2V0RGlyZWN0aW9uKDEpLGE9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KGIsbnVsbCxhLGMsciE9cT9xOm51bGwpLCFsLmdldENoaWxkQ291bnQoKSYmQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmNz49ay4kLmRvY3VtZW50TW9kZSYmbC5hcHBlbmQoay5jcmVhdGVUZXh0KFwiwqBcIikpLGwuYXBwZW5kKGEubGlzdE5vZGUpLGE9YS5uZXh0SW5kZXg7ZWxzZSBpZigtMT09XG5yLmluZGVudCYmIWUmJmcpe3ZbZy5nZXROYW1lKCldPyhsPXIuZWxlbWVudC5jbG9uZSghMSwhMCkscSE9Zy5nZXREaXJlY3Rpb24oMSkmJmwuc2V0QXR0cmlidXRlKFwiZGlyXCIscSkpOmw9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGspO3ZhciBkPWcuZ2V0RGlyZWN0aW9uKDEpIT1xLHk9ci5lbGVtZW50LEQ9eS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSx6PXkuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksQT1sLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQmJihjIT1DS0VESVRPUi5FTlRFUl9CUnx8ZHx8enx8RCksdyxCPXIuY29udGVudHMubGVuZ3RoLHg7Zm9yKGc9MDtnPEI7ZysrKWlmKHc9ci5jb250ZW50c1tnXSxIKHcpJiYxPEIpQT94PXcuY2xvbmUoMSwxKTpsLmFwcGVuZCh3LmNsb25lKDEsMSkpO2Vsc2UgaWYody50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJncuaXNCbG9ja0JvdW5kYXJ5KCkpe2QmJiF3LmdldERpcmVjdGlvbigpJiZcbncuc2V0QXR0cmlidXRlKFwiZGlyXCIscSk7bj13O3ZhciBDPXkuZ2V0QXR0cmlidXRlKFwic3R5bGVcIik7QyYmbi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLEMucmVwbGFjZSgvKFteO10pJC8sXCIkMTtcIikrKG4uZ2V0QXR0cmlidXRlKFwic3R5bGVcIil8fFwiXCIpKTtEJiZ3LmFkZENsYXNzKEQpO249bnVsbDt4JiYobC5hcHBlbmQoeCkseD1udWxsKTtsLmFwcGVuZCh3LmNsb25lKDEsMSkpfWVsc2UgQT8obnx8KG49ay5jcmVhdGVFbGVtZW50KHQpLGwuYXBwZW5kKG4pLGQmJm4uc2V0QXR0cmlidXRlKFwiZGlyXCIscSkpLHomJm4uc2V0QXR0cmlidXRlKFwic3R5bGVcIix6KSxEJiZuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsRCkseCYmKG4uYXBwZW5kKHgpLHg9bnVsbCksbi5hcHBlbmQody5jbG9uZSgxLDEpKSk6bC5hcHBlbmQody5jbG9uZSgxLDEpKTt4JiYoKG58fGwpLmFwcGVuZCh4KSx4PW51bGwpO2wudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCYmYSE9Yi5sZW5ndGgtMSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZcbihxPWwuZ2V0TGFzdCgpKSYmcS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnEuaXMoXCJiclwiKSYmcS5yZW1vdmUoKSwocT1sLmdldExhc3QodSkpJiZxLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKXx8bC5hcHBlbmQoay5jcmVhdGVFbGVtZW50KFwiYnJcIikpKTtxPWwuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1wiZGl2XCIhPXEmJlwicFwiIT1xfHxsLmFwcGVuZEJvZ3VzKCk7aC5hcHBlbmQobCk7ZD1udWxsO2ErK31lbHNlIHJldHVybiBudWxsO249bnVsbDtpZihiLmxlbmd0aDw9YXx8TWF0aC5tYXgoYlthXS5pbmRlbnQsMCk8cClicmVha31pZihtKWZvcihiPWguZ2V0Rmlyc3QoKTtiOyl7aWYoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihDS0VESVRPUi5kb20uZWxlbWVudC5jbGVhck1hcmtlcnMobSxiKSxiLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJihlPWIsaz1mPWM9dm9pZCAwLGM9ZS5nZXREaXJlY3Rpb24oKSkpKXtmb3IoZj1cbmUuZ2V0UGFyZW50KCk7ZiYmIShrPWYuZ2V0RGlyZWN0aW9uKCkpOylmPWYuZ2V0UGFyZW50KCk7Yz09ayYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIil9Yj1iLmdldE5leHRTb3VyY2VOb2RlKCl9cmV0dXJue2xpc3ROb2RlOmgsbmV4dEluZGV4OmF9fX07dmFyIEw9L15oWzEtNl0kLyxKPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtCLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihiKXt0aGlzLnJlZnJlc2goYixiLmVsZW1lbnRQYXRoKCkpO3ZhciBtPWIuY29uZmlnLGU9Yi5nZXRTZWxlY3Rpb24oKSxjPWUmJmUuZ2V0UmFuZ2VzKCk7aWYodGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKXt2YXIgZj1iLmVkaXRhYmxlKCk7aWYoZi5nZXRGaXJzdCh1KSl7dmFyIGc9MT09Yy5sZW5ndGgmJmNbMF07KG09ZyYmZy5nZXRFbmNsb3NlZE5vZGUoKSkmJm0uaXMmJnRoaXMudHlwZT09bS5nZXROYW1lKCkmJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pfWVsc2UgbS5lbnRlck1vZGU9PVxuQ0tFRElUT1IuRU5URVJfQlI/Zi5hcHBlbmRCb2d1cygpOmNbMF0uZml4QmxvY2soMSxtLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxlLnNlbGVjdFJhbmdlcyhjKX1mb3IodmFyIG09ZS5jcmVhdGVCb29rbWFya3MoITApLGY9W10saz17fSxjPWMuY3JlYXRlSXRlcmF0b3IoKSxoPTA7KGc9Yy5nZXROZXh0UmFuZ2UoKSkmJisraDspe3ZhciBkPWcuZ2V0Qm91bmRhcnlOb2RlcygpLGE9ZC5zdGFydE5vZGUscD1kLmVuZE5vZGU7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09YS5nZXROYW1lKCkmJmcuc2V0U3RhcnRBdChkLnN0YXJ0Tm9kZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7cC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwidGRcIj09cC5nZXROYW1lKCkmJmcuc2V0RW5kQXQoZC5lbmROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2c9Zy5jcmVhdGVJdGVyYXRvcigpO2ZvcihnLmZvcmNlQnJCcmVhaz1cbnRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRjtkPWcuZ2V0TmV4dFBhcmFncmFwaCgpOylpZighZC5nZXRDdXN0b21EYXRhKFwibGlzdF9ibG9ja1wiKSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGssZCxcImxpc3RfYmxvY2tcIiwxKTtmb3IodmFyIGw9Yi5lbGVtZW50UGF0aChkKSxhPWwuZWxlbWVudHMscD0wLGw9bC5ibG9ja0xpbWl0LHEsbj1hLmxlbmd0aC0xOzA8PW4mJihxPWFbbl0pO24tLSlpZih2W3EuZ2V0TmFtZSgpXSYmbC5jb250YWlucyhxKSl7bC5yZW1vdmVDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIraCk7KGE9cS5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RcIikpP2EuY29udGVudHMucHVzaChkKTooYT17cm9vdDpxLGNvbnRlbnRzOltkXX0sZi5wdXNoKGEpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihrLHEsXCJsaXN0X2dyb3VwX29iamVjdFwiLGEpKTtwPTE7YnJlYWt9cHx8KHA9bCxwLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIitcbmgpP3AuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK2gpLmNvbnRlbnRzLnB1c2goZCk6KGE9e3Jvb3Q6cCxjb250ZW50czpbZF19LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihrLHAsXCJsaXN0X2dyb3VwX29iamVjdF9cIitoLGEpLGYucHVzaChhKSkpfX1mb3IocT1bXTswPGYubGVuZ3RoOylpZihhPWYuc2hpZnQoKSx0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkYpaWYodlthLnJvb3QuZ2V0TmFtZSgpXSl7Yz1iO2g9YTthPWs7Zz1xO3A9Q0tFRElUT1IucGx1Z2lucy5saXN0Lmxpc3RUb0FycmF5KGgucm9vdCxhKTtsPVtdO2ZvcihkPTA7ZDxoLmNvbnRlbnRzLmxlbmd0aDtkKyspbj1oLmNvbnRlbnRzW2RdLChuPW4uZ2V0QXNjZW5kYW50KFwibGlcIiwhMCkpJiYhbi5nZXRDdXN0b21EYXRhKFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiKSYmKGwucHVzaChuKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoYSxuLFwibGlzdF9pdGVtX3Byb2Nlc3NlZFwiLFxuITApKTtmb3IodmFyIG49aC5yb290LmdldERvY3VtZW50KCksdD12b2lkIDAscj12b2lkIDAsZD0wO2Q8bC5sZW5ndGg7ZCsrKXt2YXIgeT1sW2RdLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIiksdD1wW3ldLnBhcmVudDt0LmlzKHRoaXMudHlwZSl8fChyPW4uY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpLHQuY29weUF0dHJpYnV0ZXMocix7c3RhcnQ6MSx0eXBlOjF9KSxyLnJlbW92ZVN0eWxlKFwibGlzdC1zdHlsZS10eXBlXCIpLHBbeV0ucGFyZW50PXIpfWE9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KHAsYSxudWxsLGMuY29uZmlnLmVudGVyTW9kZSk7cD12b2lkIDA7bD1hLmxpc3ROb2RlLmdldENoaWxkQ291bnQoKTtmb3IoZD0wO2Q8bCYmKHA9YS5saXN0Tm9kZS5nZXRDaGlsZChkKSk7ZCsrKXAuZ2V0TmFtZSgpPT10aGlzLnR5cGUmJmcucHVzaChwKTthLmxpc3ROb2RlLnJlcGxhY2UoaC5yb290KTtjLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZWxzZXtwPVxuYjtnPWE7ZD1xO2w9Zy5jb250ZW50cztjPWcucm9vdC5nZXREb2N1bWVudCgpO2g9W107MT09bC5sZW5ndGgmJmxbMF0uZXF1YWxzKGcucm9vdCkmJihhPWMuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsWzBdLm1vdmVDaGlsZHJlbiYmbFswXS5tb3ZlQ2hpbGRyZW4oYSksbFswXS5hcHBlbmQoYSksbFswXT1hKTtnPWcuY29udGVudHNbMF0uZ2V0UGFyZW50KCk7Zm9yKG49MDtuPGwubGVuZ3RoO24rKylnPWcuZ2V0Q29tbW9uQW5jZXN0b3IobFtuXS5nZXRQYXJlbnQoKSk7dD1wLmNvbmZpZy51c2VDb21wdXRlZFN0YXRlO3A9YT12b2lkIDA7dD12b2lkIDA9PT10fHx0O2ZvcihuPTA7bjxsLmxlbmd0aDtuKyspZm9yKHI9bFtuXTt5PXIuZ2V0UGFyZW50KCk7KXtpZih5LmVxdWFscyhnKSl7aC5wdXNoKHIpOyFwJiZyLmdldERpcmVjdGlvbigpJiYocD0xKTtyPXIuZ2V0RGlyZWN0aW9uKHQpO251bGwhPT1hJiYoYT1hJiZhIT1yP251bGw6cik7YnJlYWt9cj15fWlmKCEoMT5oLmxlbmd0aCkpe2w9XG5oW2gubGVuZ3RoLTFdLmdldE5leHQoKTtuPWMuY3JlYXRlRWxlbWVudCh0aGlzLnR5cGUpO2QucHVzaChuKTtmb3IodD1kPXZvaWQgMDtoLmxlbmd0aDspZD1oLnNoaWZ0KCksdD1jLmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxyPWQsci5pcyhcInByZVwiKXx8TC50ZXN0KHIuZ2V0TmFtZSgpKXx8XCJmYWxzZVwiPT1yLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKT9kLmFwcGVuZFRvKHQpOihkLmNvcHlBdHRyaWJ1dGVzKHQpLGEmJmQuZ2V0RGlyZWN0aW9uKCkmJih0LnJlbW92ZVN0eWxlKFwiZGlyZWN0aW9uXCIpLHQucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpKSxkLm1vdmVDaGlsZHJlbih0KSxkLnJlbW92ZSgpKSx0LmFwcGVuZFRvKG4pO2EmJnAmJm4uc2V0QXR0cmlidXRlKFwiZGlyXCIsYSk7bD9uLmluc2VydEJlZm9yZShsKTpuLmFwcGVuZFRvKGcpfX1lbHNlIHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09OJiZ2W2Eucm9vdC5nZXROYW1lKCldJiZJLmNhbGwodGhpcyxiLGEsayk7XG5mb3Iobj0wO248cS5sZW5ndGg7bisrKUYocVtuXSk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGspO2Uuc2VsZWN0Qm9va21hcmtzKG0pO2IuZm9jdXMoKX0scmVmcmVzaDpmdW5jdGlvbihiLG0pe3ZhciBlPW0uY29udGFpbnModiwxKSxjPW0uYmxvY2tMaW1pdHx8bS5yb290O2UmJmMuY29udGFpbnMoZSk/dGhpcy5zZXRTdGF0ZShlLmlzKHRoaXMudHlwZSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09GRil9fTtDS0VESVRPUi5wbHVnaW5zLmFkZChcImxpc3RcIix7cmVxdWlyZXM6XCJpbmRlbnRsaXN0XCIsaW5pdDpmdW5jdGlvbihiKXtiLmJsb2NrbGVzc3x8KGIuYWRkQ29tbWFuZChcIm51bWJlcmVkbGlzdFwiLG5ldyBCKFwibnVtYmVyZWRsaXN0XCIsXCJvbFwiKSksYi5hZGRDb21tYW5kKFwiYnVsbGV0ZWRsaXN0XCIsbmV3IEIoXCJidWxsZXRlZGxpc3RcIixcInVsXCIpKSxiLnVpLmFkZEJ1dHRvbiYmXG4oYi51aS5hZGRCdXR0b24oXCJOdW1iZXJlZExpc3RcIix7bGFiZWw6Yi5sYW5nLmxpc3QubnVtYmVyZWRsaXN0LGNvbW1hbmQ6XCJudW1iZXJlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwxMFwifSksYi51aS5hZGRCdXR0b24oXCJCdWxsZXRlZExpc3RcIix7bGFiZWw6Yi5sYW5nLmxpc3QuYnVsbGV0ZWRsaXN0LGNvbW1hbmQ6XCJidWxsZXRlZGxpc3RcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwibGlzdCwyMFwifSkpLGIub24oXCJrZXlcIixmdW5jdGlvbihtKXt2YXIgZT1tLmRhdGEuZG9tRXZlbnQuZ2V0S2V5KCksYztpZihcInd5c2l3eWdcIj09Yi5tb2RlJiZlIGluezg6MSw0NjoxfSl7dmFyIGY9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxnPWYmJmYuc3RhcnRQYXRoKCk7aWYoZiYmZi5jb2xsYXBzZWQpe3ZhciBrPTg9PWUsaD1iLmVkaXRhYmxlKCksZD1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmLmNsb25lKCkpO2QuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpJiZcbiF6KGEpfTtkLmd1YXJkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIShiJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhcInRhYmxlXCIpKX07ZT1mLmNsb25lKCk7aWYoayl7dmFyIGE7KGE9Zy5jb250YWlucyh2KSkmJmYuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChhLENLRURJVE9SLlNUQVJUKSYmKGE9YS5nZXRQYXJlbnQoKSkmJmEuaXMoXCJsaVwiKSYmKGE9QShhKSk/KGM9YSxhPWEuZ2V0UHJldmlvdXModSksZS5tb3ZlVG9Qb3NpdGlvbihhJiZ6KGEpP2E6YyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTooZC5yYW5nZS5zZXRTdGFydEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGQucmFuZ2Uuc2V0RW5kKGYuc3RhcnRDb250YWluZXIsZi5zdGFydE9mZnNldCksKGE9ZC5wcmV2aW91cygpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmdldE5hbWUoKWluIHZ8fGEuaXMoXCJsaVwiKSkmJihhLmlzKFwibGlcIil8fChkLnJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhhKSxcbmQucmVzZXQoKSxkLmV2YWx1YXRvcj1HLGE9ZC5wcmV2aW91cygpKSxjPWEsZS5tb3ZlVG9FbGVtZW50RWRpdEVuZChjKSxlLm1vdmVUb1Bvc2l0aW9uKGUuZW5kUGF0aCgpLmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpKSk7aWYoYylDKGIsZSxmKSxtLmNhbmNlbCgpO2Vsc2V7dmFyIHA9Zy5jb250YWlucyh2KTtwJiZmLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQocCxDS0VESVRPUi5TVEFSVCkmJihjPXAuZ2V0Rmlyc3QodSksZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsQ0tFRElUT1IuU1RBUlQpJiYoYT1wLmdldFByZXZpb3VzKHUpLEEoYyk/YSYmKGYubW92ZVRvRWxlbWVudEVkaXRFbmQoYSksZi5zZWxlY3QoKSk6Yi5leGVjQ29tbWFuZChcIm91dGRlbnRcIiksbS5jYW5jZWwoKSkpfX1lbHNlIGlmKGM9Zy5jb250YWlucyhcImxpXCIpKXtpZihkLnJhbmdlLnNldEVuZEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksaz0oaD1jLmdldExhc3QodSkpJiZcbkcoaCk/aDpjLGc9MCwoYT1kLm5leHQoKSkmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmdldE5hbWUoKWluIHYmJmEuZXF1YWxzKGgpPyhnPTEsYT1kLm5leHQoKSk6Zi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssQ0tFRElUT1IuRU5EKSYmKGc9MiksZyYmYSl7Zj1mLmNsb25lKCk7Zi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpO2lmKDE9PWcmJihlLm9wdGltaXplKCksIWUuc3RhcnRDb250YWluZXIuZXF1YWxzKGMpKSl7Zm9yKGM9ZS5zdGFydENvbnRhaW5lcjtjLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKTspcD1jLGM9Yy5nZXRQYXJlbnQoKTtwJiZlLm1vdmVUb1Bvc2l0aW9uKHAsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKX0yPT1nJiYoZS5tb3ZlVG9Qb3NpdGlvbihlLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxmLmVuZFBhdGgoKS5ibG9jayYmZi5tb3ZlVG9Qb3NpdGlvbihmLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkpO1xuQyhiLGUsZik7bS5jYW5jZWwoKX19ZWxzZSBkLnJhbmdlLnNldEVuZEF0KGgsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksKGE9ZC5uZXh0KCkpJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyh2KSYmKGE9YS5nZXRGaXJzdCh1KSxnLmJsb2NrJiZmLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCk/KGcuYmxvY2sucmVtb3ZlKCksZi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpLGYuc2VsZWN0KCkpOkEoYSk/KGYubW92ZVRvRWxlbWVudEVkaXRTdGFydChhKSxmLnNlbGVjdCgpKTooZj1mLmNsb25lKCksZi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGEpLEMoYixlLGYpKSxtLmNhbmNlbCgpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5zZWxlY3Rpb25DaGFuZ2UoMSl9KX19fSkpfX0pfSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBsKGEsYyxmKXt2YXIgZD1DS0VESVRPUi5jbGVhbldvcmQ7ZD9mKCk6KGE9Q0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZXx8YytcImZpbHRlci9kZWZhdWx0LmpzXCIpLENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGEsZixudWxsLCEwKSk7cmV0dXJuIWR9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb213b3JkXCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgYz0wLGY9dGhpcy5wYXRoO2EuYWRkQ29tbWFuZChcInBhc3RlZnJvbXdvcmRcIix7Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGEsYil7Yz0xO2EuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLG5vdGlmaWNhdGlvbjpiJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIubm90aWZpY2F0aW9uP2Iubm90aWZpY2F0aW9uOiEwfSl9fSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiUGFzdGVGcm9tV29yZFwiLFxue2xhYmVsOmEubGFuZy5wYXN0ZWZyb213b3JkLnRvb2xiYXIsY29tbWFuZDpcInBhc3RlZnJvbXdvcmRcIix0b29sYmFyOlwiY2xpcGJvYXJkLDUwXCJ9KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihkKXt2YXIgYj1kLmRhdGEsZz0oQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ/Yi5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvaHRtbFwiLCEwKTpudWxsKXx8Yi5kYXRhVmFsdWUsZT17ZGF0YVZhbHVlOmd9LGg9LyhjbGFzcz1cXFwiP01zb3xzdHlsZT0oPzpcXFwifFxcJylbXlxcXCJdKj9cXGJtc29cXC18dzpXb3JkRG9jdW1lbnR8PG86XFx3Kz58PFxcL2ZvbnQ+KS8saD0vPG1ldGFcXHMqbmFtZT0oPzpcXFwifFxcJyk/Z2VuZXJhdG9yKD86XFxcInxcXCcpP1xccypjb250ZW50PSg/OlxcXCJ8XFwnKT9taWNyb3NvZnQvZ2kudGVzdChnKXx8aC50ZXN0KGcpO2lmKGcmJihjfHxoKSYmKCExIT09YS5maXJlKFwicGFzdGVGcm9tV29yZFwiLGUpfHxjKSl7Yi5kb250RmlsdGVyPSEwO3ZhciBrPVxubChhLGYsZnVuY3Rpb24oKXtpZihrKWEuZmlyZShcInBhc3RlXCIsYik7ZWxzZSBpZighYS5jb25maWcucGFzdGVGcm9tV29yZFByb21wdENsZWFudXB8fGN8fGNvbmZpcm0oYS5sYW5nLnBhc3RlZnJvbXdvcmQuY29uZmlybUNsZWFudXApKWUuZGF0YVZhbHVlPUNLRURJVE9SLmNsZWFuV29yZChlLmRhdGFWYWx1ZSxhKSxhLmZpcmUoXCJhZnRlclBhc3RlRnJvbVdvcmRcIixlKSxiLmRhdGFWYWx1ZT1lLmRhdGFWYWx1ZTtjPTB9KTtrJiZkLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpfX0pfSkoKTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlbW92ZWZvcm1hdFwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcInJlbW92ZUZvcm1hdFwiLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmNvbW1hbmRzLnJlbW92ZWZvcm1hdCk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiUmVtb3ZlRm9ybWF0XCIse2xhYmVsOmEubGFuZy5yZW1vdmVmb3JtYXQudG9vbGJhcixjb21tYW5kOlwicmVtb3ZlRm9ybWF0XCIsdG9vbGJhcjpcImNsZWFudXAsMTBcIn0pfX0pO1xuQ0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQ9e2NvbW1hbmRzOntyZW1vdmVmb3JtYXQ6e2V4ZWM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBoPWEuXy5yZW1vdmVGb3JtYXRSZWdleHx8KGEuXy5yZW1vdmVGb3JtYXRSZWdleD1uZXcgUmVnRXhwKFwiXig/OlwiK2EuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3MucmVwbGFjZSgvLC9nLFwifFwiKStcIikkXCIsXCJpXCIpKSxlPWEuXy5yZW1vdmVBdHRyaWJ1dGVzfHwoYS5fLnJlbW92ZUF0dHJpYnV0ZXM9YS5jb25maWcucmVtb3ZlRm9ybWF0QXR0cmlidXRlcy5zcGxpdChcIixcIikpLGY9Q0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuZmlsdGVyLG09YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxuPW0uY3JlYXRlSXRlcmF0b3IoKSxwPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH0sYztjPW4uZ2V0TmV4dFJhbmdlKCk7KXtjLmNvbGxhcHNlZHx8Yy5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7XG52YXIgbD1jLmNyZWF0ZUJvb2ttYXJrKCksYj1sLnN0YXJ0Tm9kZSxkPWwuZW5kTm9kZSxrPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1hLmVsZW1lbnRQYXRoKGIpLGU9Yy5lbGVtZW50cyxkPTEsZzsoZz1lW2RdKSYmIWcuZXF1YWxzKGMuYmxvY2spJiYhZy5lcXVhbHMoYy5ibG9ja0xpbWl0KTtkKyspaC50ZXN0KGcuZ2V0TmFtZSgpKSYmZihhLGcpJiZiLmJyZWFrUGFyZW50KGcpfTtrKGIpO2lmKGQpZm9yKGsoZCksYj1iLmdldE5leHRTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCk7YiYmIWIuZXF1YWxzKGQpOylpZihiLmlzUmVhZE9ubHkoKSl7aWYoYi5nZXRQb3NpdGlvbihkKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUylicmVhaztiPWIuZ2V0TmV4dChwKX1lbHNlIGs9Yi5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpLFwiaW1nXCI9PWIuZ2V0TmFtZSgpJiZiLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIil8fCFmKGEsYil8fChoLnRlc3QoYi5nZXROYW1lKCkpP1xuYi5yZW1vdmUoMSk6KGIucmVtb3ZlQXR0cmlidXRlcyhlKSxhLmZpcmUoXCJyZW1vdmVGb3JtYXRDbGVhbnVwXCIsYikpKSxiPWs7Yy5tb3ZlVG9Cb29rbWFyayhsKX1hLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMobSl9fX0sZmlsdGVyOmZ1bmN0aW9uKGEsaCl7Zm9yKHZhciBlPWEuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHxbXSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoITE9PT1lW2ZdKGgpKXJldHVybiExO3JldHVybiEwfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnN8fCh0aGlzLl8ucmVtb3ZlRm9ybWF0RmlsdGVycz1bXSk7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnMucHVzaChhKX07Q0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3M9XCJiLGJpZyxjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW5zLGtiZCxxLHMsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0dCx1LHZhclwiO1xuQ0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM9XCJjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduXCI7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gayhjKXtyZXR1cm57ZWRpdG9yRm9jdXM6ITEsY2FuVW5kbzohMSxtb2Rlczp7d3lzaXd5ZzoxfSxleGVjOmZ1bmN0aW9uKGQpe2lmKGQuZWRpdGFibGUoKS5oYXNGb2N1cyl7dmFyIGU9ZC5nZXRTZWxlY3Rpb24oKSxiO2lmKGI9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZS5nZXRDb21tb25BbmNlc3RvcigpLGUucm9vdCkpLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpKXt2YXIgZT1kLmNyZWF0ZVJhbmdlKCksYT1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3ZhciBhPWIuZ2V0UGFyZW50KCkuJC5jZWxsc1tiLiQuY2VsbEluZGV4KyhjPy0xOjEpXTthLnBhcmVudE5vZGUucGFyZW50Tm9kZTtyZXR1cm4gYX0sZnVuY3Rpb24oKXt2YXIgYT1iLmdldFBhcmVudCgpLGE9YS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS4kLnJvd3NbYS4kLnJvd0luZGV4KyhjPy0xOjEpXTtyZXR1cm4gYS5jZWxsc1tjP2EuY2VsbHMubGVuZ3RoLTE6XG4wXX0pO2lmKGF8fGMpaWYoYSlhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKSxlLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYSksZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpfHxlLnNlbGVjdE5vZGVDb250ZW50cyhhKTtlbHNlIHJldHVybiEwO2Vsc2V7Zm9yKHZhciBmPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJCxhPWIuZ2V0UGFyZW50KCkuJC5jZWxscyxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLmluc2VydFJvdygtMSksZC5kb2N1bWVudCksZz0wLGg9YS5sZW5ndGg7ZzxoO2crKylmLmFwcGVuZCgobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGFbZ10sZC5kb2N1bWVudCkpLmNsb25lKCExLCExKSkuYXBwZW5kQm9ndXMoKTtlLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZil9ZS5zZWxlY3QoITApO3JldHVybiEwfX1yZXR1cm4hMX19fXZhciBoPXtlZGl0b3JGb2N1czohMSxtb2Rlczp7d3lzaXd5ZzoxLHNvdXJjZToxfX0sZz17ZXhlYzpmdW5jdGlvbihjKXtjLmNvbnRhaW5lci5mb2N1c05leHQoITAsXG5jLnRhYkluZGV4KX19LGY9e2V4ZWM6ZnVuY3Rpb24oYyl7Yy5jb250YWluZXIuZm9jdXNQcmV2aW91cyghMCxjLnRhYkluZGV4KX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFiXCIse2luaXQ6ZnVuY3Rpb24oYyl7Zm9yKHZhciBkPSExIT09Yy5jb25maWcuZW5hYmxlVGFiS2V5VG9vbHMsZT1jLmNvbmZpZy50YWJTcGFjZXN8fDAsYj1cIlwiO2UtLTspYis9XCLCoFwiO2lmKGIpYy5vbihcImtleVwiLGZ1bmN0aW9uKGEpezk9PWEuZGF0YS5rZXlDb2RlJiYoYy5pbnNlcnRUZXh0KGIpLGEuY2FuY2VsKCkpfSk7aWYoZCljLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7KDk9PWEuZGF0YS5rZXlDb2RlJiZjLmV4ZWNDb21tYW5kKFwic2VsZWN0TmV4dENlbGxcIil8fGEuZGF0YS5rZXlDb2RlPT1DS0VESVRPUi5TSElGVCs5JiZjLmV4ZWNDb21tYW5kKFwic2VsZWN0UHJldmlvdXNDZWxsXCIpKSYmYS5jYW5jZWwoKX0pO2MuYWRkQ29tbWFuZChcImJsdXJcIixDS0VESVRPUi50b29scy5leHRlbmQoZyxoKSk7Yy5hZGRDb21tYW5kKFwiYmx1ckJhY2tcIixcbkNLRURJVE9SLnRvb2xzLmV4dGVuZChmLGgpKTtjLmFkZENvbW1hbmQoXCJzZWxlY3ROZXh0Q2VsbFwiLGsoKSk7Yy5hZGRDb21tYW5kKFwic2VsZWN0UHJldmlvdXNDZWxsXCIsayghMCkpfX0pfSkoKTtcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c05leHQ9ZnVuY3Rpb24oayxoKXt2YXIgZz12b2lkIDA9PT1oP3RoaXMuZ2V0VGFiSW5kZXgoKTpoLGYsYyxkLGUsYixhO2lmKDA+PWcpZm9yKGI9dGhpcy5nZXROZXh0U291cmNlTm9kZShrLENLRURJVE9SLk5PREVfRUxFTUVOVCk7Yjspe2lmKGIuaXNWaXNpYmxlKCkmJjA9PT1iLmdldFRhYkluZGV4KCkpe2Q9YjticmVha31iPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKX1lbHNlIGZvcihiPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0Rmlyc3QoKTtiPWIuZ2V0TmV4dFNvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTspe2lmKCFmKWlmKCFjJiZiLmVxdWFscyh0aGlzKSl7aWYoYz0hMCxrKXtpZighKGI9Yi5nZXROZXh0U291cmNlTm9kZSghMCxDS0VESVRPUi5OT0RFX0VMRU1FTlQpKSlicmVhaztmPTF9fWVsc2UgYyYmIXRoaXMuY29udGFpbnMoYikmJlxuKGY9MSk7aWYoYi5pc1Zpc2libGUoKSYmISgwPihhPWIuZ2V0VGFiSW5kZXgoKSkpKXtpZihmJiZhPT1nKXtkPWI7YnJlYWt9YT5nJiYoIWR8fCFlfHxhPGUpPyhkPWIsZT1hKTpkfHwwIT09YXx8KGQ9YixlPWEpfX1kJiZkLmZvY3VzKCl9O1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzUHJldmlvdXM9ZnVuY3Rpb24oayxoKXtmb3IodmFyIGc9dm9pZCAwPT09aD90aGlzLmdldFRhYkluZGV4KCk6aCxmLGMsZCxlPTAsYixhPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0TGFzdCgpO2E9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTspe2lmKCFmKWlmKCFjJiZhLmVxdWFscyh0aGlzKSl7aWYoYz0hMCxrKXtpZighKGE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Zj0xfX1lbHNlIGMmJiF0aGlzLmNvbnRhaW5zKGEpJiYoZj0xKTtpZihhLmlzVmlzaWJsZSgpJiYhKDA+KGI9YS5nZXRUYWJJbmRleCgpKSkpaWYoMD49Zyl7aWYoZiYmMD09PWIpe2Q9YTticmVha31iPmUmJihkPWEsZT1iKX1lbHNle2lmKGYmJmI9PWcpe2Q9YTticmVha31iPGcmJighZHx8Yj5lKSYmKGQ9YSxlPWIpfX1kJiZkLmZvY3VzKCl9OyhmdW5jdGlvbigpe3ZhciBnPVtDS0VESVRPUi5DVFJMKzkwLENLRURJVE9SLkNUUkwrODksQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sbj17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7ZC5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmQuc2F2ZSgpfWZ1bmN0aW9uIGMoKXtkLmVuYWJsZWQ9YS5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09YS5tb2RlO2Qub25DaGFuZ2UoKX12YXIgZD1hLnVuZG9NYW5hZ2VyPW5ldyBlKGEpLGw9ZC5lZGl0aW5nSGFuZGxlcj1uZXcgayhkKSxmPWEuYWRkQ29tbWFuZChcInVuZG9cIix7ZXhlYzpmdW5jdGlvbigpe2QudW5kbygpJiYoYS5zZWxlY3Rpb25DaGFuZ2UoKSx0aGlzLmZpcmUoXCJhZnRlclVuZG9cIikpfSxzdGFydERpc2FibGVkOiEwLGNhblVuZG86ITF9KSxoPWEuYWRkQ29tbWFuZChcInJlZG9cIix7ZXhlYzpmdW5jdGlvbigpe2QucmVkbygpJiZcbihhLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyUmVkb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pO2Euc2V0S2V5c3Ryb2tlKFtbZ1swXSxcInVuZG9cIl0sW2dbMV0sXCJyZWRvXCJdLFtnWzJdLFwicmVkb1wiXV0pO2Qub25DaGFuZ2U9ZnVuY3Rpb24oKXtmLnNldFN0YXRlKGQudW5kb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2guc2V0U3RhdGUoZC5yZWRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9O2Eub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLGIpO2Eub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsYik7YS5vbihcInNhdmVTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2Quc2F2ZShhLmRhdGEmJmEuZGF0YS5jb250ZW50T25seSl9KTthLm9uKFwiY29udGVudERvbVwiLGwuYXR0YWNoTGlzdGVuZXJzLGwpO2Eub24oXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9KTtcbmEub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09YS5tb2RlJiZkLnNhdmUoITApfSk7YS5vbihcIm1vZGVcIixjKTthLm9uKFwicmVhZE9ubHlcIixjKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiVW5kb1wiLHtsYWJlbDphLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6XCJ1bmRvXCIsdG9vbGJhcjpcInVuZG8sMTBcIn0pLGEudWkuYWRkQnV0dG9uKFwiUmVkb1wiLHtsYWJlbDphLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6XCJyZWRvXCIsdG9vbGJhcjpcInVuZG8sMjBcIn0pKTthLnJlc2V0VW5kbz1mdW5jdGlvbigpe2QucmVzZXQoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIil9O2Eub24oXCJ1cGRhdGVTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7ZC5jdXJyZW50SW1hZ2UmJmQudXBkYXRlKCl9KTthLm9uKFwibG9ja1NuYXBzaG90XCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7ZC5sb2NrKGEmJmEuZG9udFVwZGF0ZSxhJiZhLmZvcmNlVXBkYXRlKX0pO2Eub24oXCJ1bmxvY2tTbmFwc2hvdFwiLFxuZC51bmxvY2ssZCl9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPXt9O3ZhciBlPUNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMTt0aGlzLmxpbWl0PWEuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuc3Ryb2tlc0xpbWl0PTI1O3RoaXMuZWRpdG9yPWE7dGhpcy5yZXNldCgpfTtlLnByb3RvdHlwZT17dHlwZTpmdW5jdGlvbihhLGIpe3ZhciBjPWUuZ2V0S2V5R3JvdXAoYSksZD10aGlzLnN0cm9rZXNSZWNvcmRlZFtjXSsxO2I9Ynx8ZD49dGhpcy5zdHJva2VzTGltaXQ7dGhpcy50eXBpbmd8fCh0aGlzLmhhc1VuZG89dGhpcy50eXBpbmc9ITAsdGhpcy5oYXNSZWRvPSExLHRoaXMub25DaGFuZ2UoKSk7Yj8oZD0wLHRoaXMuZWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIikpOnRoaXMuZWRpdG9yLmZpcmUoXCJjaGFuZ2VcIik7dGhpcy5zdHJva2VzUmVjb3JkZWRbY109XG5kO3RoaXMucHJldmlvdXNLZXlHcm91cD1jfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGUuZ2V0S2V5R3JvdXAoYSkhPXRoaXMucHJldmlvdXNLZXlHcm91cH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90cz1bXTt0aGlzLmluZGV4PS0xO3RoaXMuY3VycmVudEltYWdlPW51bGw7dGhpcy5oYXNSZWRvPXRoaXMuaGFzVW5kbz0hMTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucmVzZXRUeXBlKCl9LHJlc2V0VHlwZTpmdW5jdGlvbigpe3RoaXMuc3Ryb2tlc1JlY29yZGVkPVswLDBdO3RoaXMudHlwaW5nPSExO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMX0scmVmcmVzaFN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5oYXNVbmRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITApO3RoaXMuaGFzUmVkbz0hIXRoaXMuZ2V0TmV4dEltYWdlKCExKTt0aGlzLnJlc2V0VHlwZSgpO3RoaXMub25DaGFuZ2UoKX0sc2F2ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5lZGl0b3I7aWYodGhpcy5sb2NrZWR8fFxuXCJyZWFkeVwiIT1kLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWQubW9kZSlyZXR1cm4hMTt2YXIgZT1kLmVkaXRhYmxlKCk7aWYoIWV8fFwicmVhZHlcIiE9ZS5zdGF0dXMpcmV0dXJuITE7ZT10aGlzLnNuYXBzaG90cztifHwoYj1uZXcgZihkKSk7aWYoITE9PT1iLmNvbnRlbnRzKXJldHVybiExO2lmKHRoaXMuY3VycmVudEltYWdlKWlmKGIuZXF1YWxzQ29udGVudCh0aGlzLmN1cnJlbnRJbWFnZSkpe2lmKGF8fGIuZXF1YWxzU2VsZWN0aW9uKHRoaXMuY3VycmVudEltYWdlKSlyZXR1cm4hMX1lbHNlITEhPT1jJiZkLmZpcmUoXCJjaGFuZ2VcIik7ZS5zcGxpY2UodGhpcy5pbmRleCsxLGUubGVuZ3RoLXRoaXMuaW5kZXgtMSk7ZS5sZW5ndGg9PXRoaXMubGltaXQmJmUuc2hpZnQoKTt0aGlzLmluZGV4PWUucHVzaChiKS0xO3RoaXMuY3VycmVudEltYWdlPWI7ITEhPT1jJiZ0aGlzLnJlZnJlc2hTdGF0ZSgpO3JldHVybiEwfSxyZXN0b3JlSW1hZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5lZGl0b3IsXG5jO2EuYm9va21hcmtzJiYoYi5mb2N1cygpLGM9Yi5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGEuY29udGVudHMpO2EuYm9va21hcmtzP2Muc2VsZWN0Qm9va21hcmtzKGEuYm9va21hcmtzKTpDS0VESVRPUi5lbnYuaWUmJihjPXRoaXMuZWRpdG9yLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpLGMuY29sbGFwc2UoITApLGMuc2VsZWN0KCkpO3RoaXMubG9ja2VkPW51bGw7dGhpcy5pbmRleD1hLmluZGV4O3RoaXMuY3VycmVudEltYWdlPXRoaXMuc25hcHNob3RzW3RoaXMuaW5kZXhdO3RoaXMudXBkYXRlKCk7dGhpcy5yZWZyZXNoU3RhdGUoKTtiLmZpcmUoXCJjaGFuZ2VcIil9LGdldE5leHRJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnNuYXBzaG90cyxjPXRoaXMuY3VycmVudEltYWdlLGQ7aWYoYylpZihhKWZvcihkPXRoaXMuaW5kZXgtMTswPD1kO2QtLSl7aWYoYT1iW2RdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9XG5kLGF9ZWxzZSBmb3IoZD10aGlzLmluZGV4KzE7ZDxiLmxlbmd0aDtkKyspaWYoYT1iW2RdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9ZCxhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LHVuZG86ZnVuY3Rpb24oKXtpZih0aGlzLnVuZG9hYmxlKCkpe3RoaXMuc2F2ZSghMCk7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITApO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLCEwfXJldHVybiExfSxyZWRvOmZ1bmN0aW9uKCl7aWYodGhpcy5yZWRvYWJsZSgpJiYodGhpcy5zYXZlKCEwKSx0aGlzLnJlZG9hYmxlKCkpKXt2YXIgYT10aGlzLmdldE5leHRJbWFnZSghMSk7aWYoYSlyZXR1cm4gdGhpcy5yZXN0b3JlSW1hZ2UoYSksITB9cmV0dXJuITF9LHVwZGF0ZTpmdW5jdGlvbihhKXtpZighdGhpcy5sb2NrZWQpe2F8fFxuKGE9bmV3IGYodGhpcy5lZGl0b3IpKTtmb3IodmFyIGI9dGhpcy5pbmRleCxjPXRoaXMuc25hcHNob3RzOzA8YiYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChjW2ItMV0pOyktLWI7Yy5zcGxpY2UoYix0aGlzLmluZGV4LWIrMSxhKTt0aGlzLmluZGV4PWI7dGhpcy5jdXJyZW50SW1hZ2U9YX19LHVwZGF0ZVNlbGVjdGlvbjpmdW5jdGlvbihhKXtpZighdGhpcy5zbmFwc2hvdHMubGVuZ3RoKXJldHVybiExO3ZhciBiPXRoaXMuc25hcHNob3RzLGM9YltiLmxlbmd0aC0xXTtyZXR1cm4gYy5lcXVhbHNDb250ZW50KGEpJiYhYy5lcXVhbHNTZWxlY3Rpb24oYSk/KHRoaXMuY3VycmVudEltYWdlPWJbYi5sZW5ndGgtMV09YSwhMCk6ITF9LGxvY2s6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmxvY2tlZCl0aGlzLmxvY2tlZC5sZXZlbCsrO2Vsc2UgaWYoYSl0aGlzLmxvY2tlZD17bGV2ZWw6MX07ZWxzZXt2YXIgYz1udWxsO2lmKGIpYz0hMDtlbHNle3ZhciBkPW5ldyBmKHRoaXMuZWRpdG9yLFxuITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGQpJiYoYz1kKX10aGlzLmxvY2tlZD17dXBkYXRlOmMsbGV2ZWw6MX19fSx1bmxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2tlZCYmIS0tdGhpcy5sb2NrZWQubGV2ZWwpe3ZhciBhPXRoaXMubG9ja2VkLnVwZGF0ZTt0aGlzLmxvY2tlZD1udWxsO2lmKCEwPT09YSl0aGlzLnVwZGF0ZSgpO2Vsc2UgaWYoYSl7dmFyIGI9bmV3IGYodGhpcy5lZGl0b3IsITApO2EuZXF1YWxzQ29udGVudChiKXx8dGhpcy51cGRhdGUoKX19fX07ZS5uYXZpZ2F0aW9uS2V5Q29kZXM9ezM3OjEsMzg6MSwzOToxLDQwOjEsMzY6MSwzNToxLDMzOjEsMzQ6MX07ZS5rZXlHcm91cHM9e1BSSU5UQUJMRTowLEZVTkNUSU9OQUw6MX07ZS5pc05hdmlnYXRpb25LZXk9ZnVuY3Rpb24oYSl7cmV0dXJuISFlLm5hdmlnYXRpb25LZXlDb2Rlc1thXX07ZS5nZXRLZXlHcm91cD1mdW5jdGlvbihhKXt2YXIgYj1lLmtleUdyb3VwcztcbnJldHVybiBuW2FdP2IuRlVOQ1RJT05BTDpiLlBSSU5UQUJMRX07ZS5nZXRPcHBvc2l0ZUtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBiPWUua2V5R3JvdXBzO3JldHVybiBhPT1iLkZVTkNUSU9OQUw/Yi5QUklOVEFCTEU6Yi5GVU5DVElPTkFMfTtlLmllRnVuY3Rpb25hbEtleXNCdWc9ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmZS5nZXRLZXlHcm91cChhKT09ZS5rZXlHcm91cHMuRlVOQ1RJT05BTH07dmFyIGY9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlPWZ1bmN0aW9uKGEsYil7dGhpcy5lZGl0b3I9YTthLmZpcmUoXCJiZWZvcmVVbmRvSW1hZ2VcIik7dmFyIGM9YS5nZXRTbmFwc2hvdCgpO0NLRURJVE9SLmVudi5pZSYmYyYmKGM9Yy5yZXBsYWNlKC9cXHMrZGF0YS1ja2UtZXhwYW5kbz1cIi4qP1wiL2csXCJcIikpO3RoaXMuY29udGVudHM9YztifHwodGhpcy5ib29rbWFya3M9KGM9YyYmYS5nZXRTZWxlY3Rpb24oKSkmJmMuY3JlYXRlQm9va21hcmtzMighMCkpO2EuZmlyZShcImFmdGVyVW5kb0ltYWdlXCIpfSxcbmg9L1xcYig/OmhyZWZ8c3JjfG5hbWUpPVwiW15cIl0qP1wiL2dpO2YucHJvdG90eXBlPXtlcXVhbHNDb250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGVudHM7YT1hLmNvbnRlbnRzO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpJiYoYj1iLnJlcGxhY2UoaCxcIlwiKSxhPWEucmVwbGFjZShoLFwiXCIpKTtyZXR1cm4gYiE9YT8hMTohMH0sZXF1YWxzU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYm9va21hcmtzO2E9YS5ib29rbWFya3M7aWYoYnx8YSl7aWYoIWJ8fCFhfHxiLmxlbmd0aCE9YS5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY10sZT1hW2NdO2lmKGQuc3RhcnRPZmZzZXQhPWUuc3RhcnRPZmZzZXR8fGQuZW5kT2Zmc2V0IT1lLmVuZE9mZnNldHx8IUNLRURJVE9SLnRvb2xzLmFycmF5Q29tcGFyZShkLnN0YXJ0LGUuc3RhcnQpfHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGQuZW5kLFxuZS5lbmQpKXJldHVybiExfX1yZXR1cm4hMH19O3ZhciBrPUNLRURJVE9SLnBsdWdpbnMudW5kby5OYXRpdmVFZGl0aW5nSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLnVuZG9NYW5hZ2VyPWE7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO3RoaXMua2V5RXZlbnRzU3RhY2s9bmV3IG07dGhpcy5sYXN0S2V5ZG93bkltYWdlPW51bGx9O2sucHJvdG90eXBlPXtvbktleWRvd246ZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldEtleSgpO2lmKDIyOSE9PWIpaWYoLTE8Q0tFRElUT1IudG9vbHMuaW5kZXhPZihnLGEuZGF0YS5nZXRLZXlzdHJva2UoKSkpYS5kYXRhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBpZih0aGlzLmtleUV2ZW50c1N0YWNrLmNsZWFuVXAoYSksYT10aGlzLnVuZG9NYW5hZ2VyLHRoaXMua2V5RXZlbnRzU3RhY2suZ2V0TGFzdChiKXx8dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKGIpLHRoaXMubGFzdEtleWRvd25JbWFnZT1uZXcgZihhLmVkaXRvciksZS5pc05hdmlnYXRpb25LZXkoYil8fFxudGhpcy51bmRvTWFuYWdlci5rZXlHcm91cENoYW5nZWQoYikpaWYoYS5zdHJva2VzUmVjb3JkZWRbMF18fGEuc3Ryb2tlc1JlY29yZGVkWzFdKWEuc2F2ZSghMSx0aGlzLmxhc3RLZXlkb3duSW1hZ2UsITEpLGEucmVzZXRUeXBlKCl9LG9uSW5wdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZUlucHV0RXZlbnQpdGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO2Vsc2V7dmFyIGE9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KCk7YXx8KGE9dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKDApKTt0aGlzLmtleUV2ZW50c1N0YWNrLmluY3JlbWVudChhLmtleUNvZGUpO3RoaXMua2V5RXZlbnRzU3RhY2suZ2V0VG90YWxJbnB1dHMoKT49dGhpcy51bmRvTWFuYWdlci5zdHJva2VzTGltaXQmJih0aGlzLnVuZG9NYW5hZ2VyLnR5cGUoYS5rZXlDb2RlLCEwKSx0aGlzLmtleUV2ZW50c1N0YWNrLnJlc2V0SW5wdXRzKCkpfX0sb25LZXl1cDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnVuZG9NYW5hZ2VyO1xuYT1hLmRhdGEuZ2V0S2V5KCk7dmFyIGM9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpO3RoaXMua2V5RXZlbnRzU3RhY2sucmVtb3ZlKGEpO2lmKCEoZS5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEpJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UmJnRoaXMubGFzdEtleWRvd25JbWFnZS5lcXVhbHNDb250ZW50KG5ldyBmKGIuZWRpdG9yLCEwKSkpKWlmKDA8YyliLnR5cGUoYSk7ZWxzZSBpZihlLmlzTmF2aWdhdGlvbktleShhKSl0aGlzLm9uTmF2aWdhdGlvbktleSghMCl9LG9uTmF2aWdhdGlvbktleTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnVuZG9NYW5hZ2VyOyFhJiZiLnNhdmUoITAsbnVsbCwhMSl8fGIudXBkYXRlU2VsZWN0aW9uKG5ldyBmKGIuZWRpdG9yKSk7Yi5yZXNldFR5cGUoKX0saWdub3JlSW5wdXRFdmVudExpc3RlbmVyOmZ1bmN0aW9uKCl7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSEwfSxhY3RpdmF0ZUlucHV0RXZlbnRMaXN0ZW5lcjpmdW5jdGlvbigpe3RoaXMuaWdub3JlSW5wdXRFdmVudD1cbiExfSxhdHRhY2hMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixiPWEuZWRpdGFibGUoKSxjPXRoaXM7Yi5hdHRhY2hMaXN0ZW5lcihiLFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe2Mub25LZXlkb3duKGEpO2lmKGUuaWVGdW5jdGlvbmFsS2V5c0J1ZyhhLmRhdGEuZ2V0S2V5KCkpKWMub25JbnB1dCgpfSxudWxsLG51bGwsOTk5KTtiLmF0dGFjaExpc3RlbmVyKGIsQ0tFRElUT1IuZW52LmllP1wia2V5cHJlc3NcIjpcImlucHV0XCIsYy5vbklucHV0LGMsbnVsbCw5OTkpO2IuYXR0YWNoTGlzdGVuZXIoYixcImtleXVwXCIsYy5vbktleXVwLGMsbnVsbCw5OTkpO2IuYXR0YWNoTGlzdGVuZXIoYixcInBhc3RlXCIsYy5pZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXIsYyxudWxsLDk5OSk7Yi5hdHRhY2hMaXN0ZW5lcihiLFwiZHJvcFwiLGMuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGMsbnVsbCw5OTkpO2Eub24oXCJhZnRlclBhc3RlXCIsYy5hY3RpdmF0ZUlucHV0RXZlbnRMaXN0ZW5lcixcbmMsbnVsbCw5OTkpO2IuYXR0YWNoTGlzdGVuZXIoYi5pc0lubGluZSgpP2I6YS5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKSxcImNsaWNrXCIsZnVuY3Rpb24oKXtjLm9uTmF2aWdhdGlvbktleSgpfSxudWxsLG51bGwsOTk5KTtiLmF0dGFjaExpc3RlbmVyKHRoaXMudW5kb01hbmFnZXIuZWRpdG9yLFwiYmx1clwiLGZ1bmN0aW9uKCl7Yy5rZXlFdmVudHNTdGFjay5yZW1vdmUoOSl9LG51bGwsbnVsbCw5OTkpfX07dmFyIG09Q0tFRElUT1IucGx1Z2lucy51bmRvLktleUV2ZW50c1N0YWNrPWZ1bmN0aW9uKCl7dGhpcy5zdGFjaz1bXX07bS5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oYSl7YT10aGlzLnN0YWNrLnB1c2goe2tleUNvZGU6YSxpbnB1dHM6MH0pO3JldHVybiB0aGlzLnN0YWNrW2EtMV19LGdldExhc3RJbmRleDpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMTtmb3IodmFyIGI9dGhpcy5zdGFjay5sZW5ndGg7Yi0tOylpZih0aGlzLnN0YWNrW2JdLmtleUNvZGU9PVxuYSlyZXR1cm4gYjtyZXR1cm4tMX0sZ2V0TGFzdDpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TGFzdEluZGV4KGEpO3JldHVybi0xIT1hP3RoaXMuc3RhY2tbYV06bnVsbH0saW5jcmVtZW50OmZ1bmN0aW9uKGEpe3RoaXMuZ2V0TGFzdChhKS5pbnB1dHMrK30scmVtb3ZlOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRMYXN0SW5kZXgoYSk7LTEhPWEmJnRoaXMuc3RhY2suc3BsaWNlKGEsMSl9LHJlc2V0SW5wdXRzOmZ1bmN0aW9uKGEpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhKXRoaXMuZ2V0TGFzdChhKS5pbnB1dHM9MDtlbHNlIGZvcihhPXRoaXMuc3RhY2subGVuZ3RoO2EtLTspdGhpcy5zdGFja1thXS5pbnB1dHM9MH0sZ2V0VG90YWxJbnB1dHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5zdGFjay5sZW5ndGgsYj0wO2EtLTspYis9dGhpcy5zdGFja1thXS5pbnB1dHM7cmV0dXJuIGJ9LGNsZWFuVXA6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDthLmN0cmxLZXl8fGEubWV0YUtleXx8dGhpcy5yZW1vdmUoMTcpO1xuYS5zaGlmdEtleXx8dGhpcy5yZW1vdmUoMTYpO2EuYWx0S2V5fHx0aGlzLnJlbW92ZSgxOCl9fX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShhLGQpe0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtlZGl0b3I6YSxlZGl0YWJsZTphLmVkaXRhYmxlKCksZG9jOmEuZG9jdW1lbnQsd2luOmEud2luZG93fSxkLCEwKTt0aGlzLmlubGluZT10aGlzLmVkaXRhYmxlLmlzSW5saW5lKCk7dGhpcy5pbmxpbmV8fCh0aGlzLmZyYW1lPXRoaXMud2luLmdldEZyYW1lKCkpO3RoaXMudGFyZ2V0PXRoaXNbdGhpcy5pbmxpbmU/XCJlZGl0YWJsZVwiOlwiZG9jXCJdfWZ1bmN0aW9uIG4oYSxkKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxkLHtlZGl0b3I6YX0sITApfWZ1bmN0aW9uIHAoYSxkKXt2YXIgYj1hLmVkaXRhYmxlKCk7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMse2VkaXRvcjphLGVkaXRhYmxlOmIsaW5saW5lOmIuaXNJbmxpbmUoKSxkb2M6YS5kb2N1bWVudCx3aW46YS53aW5kb3csY29udGFpbmVyOkNLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSx3aW5Ub3A6Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCl9LFxuZCwhMCk7dGhpcy5oaWRkZW49e307dGhpcy52aXNpYmxlPXt9O3RoaXMuaW5saW5lfHwodGhpcy5mcmFtZT10aGlzLndpbi5nZXRGcmFtZSgpKTt0aGlzLnF1ZXJ5Vmlld3BvcnQoKTt2YXIgYz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMucXVlcnlWaWV3cG9ydCx0aGlzKSxlPUNLRURJVE9SLnRvb2xzLmJpbmQodGhpcy5oaWRlVmlzaWJsZSx0aGlzKSxnPUNLRURJVE9SLnRvb2xzLmJpbmQodGhpcy5yZW1vdmVBbGwsdGhpcyk7Yi5hdHRhY2hMaXN0ZW5lcih0aGlzLndpblRvcCxcInJlc2l6ZVwiLGMpO2IuYXR0YWNoTGlzdGVuZXIodGhpcy53aW5Ub3AsXCJzY3JvbGxcIixjKTtiLmF0dGFjaExpc3RlbmVyKHRoaXMud2luVG9wLFwicmVzaXplXCIsZSk7Yi5hdHRhY2hMaXN0ZW5lcih0aGlzLndpbixcInNjcm9sbFwiLGUpO2IuYXR0YWNoTGlzdGVuZXIodGhpcy5pbmxpbmU/Yjp0aGlzLmZyYW1lLFwibW91c2VvdXRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jbGllbnRYO2E9YS5kYXRhLiQuY2xpZW50WTtcbnRoaXMucXVlcnlWaWV3cG9ydCgpOyhiPD10aGlzLnJlY3QubGVmdHx8Yj49dGhpcy5yZWN0LnJpZ2h0fHxhPD10aGlzLnJlY3QudG9wfHxhPj10aGlzLnJlY3QuYm90dG9tKSYmdGhpcy5oaWRlVmlzaWJsZSgpOygwPj1ifHxiPj10aGlzLndpblRvcFBhbmUud2lkdGh8fDA+PWF8fGE+PXRoaXMud2luVG9wUGFuZS5oZWlnaHQpJiZ0aGlzLmhpZGVWaXNpYmxlKCl9LHRoaXMpO2IuYXR0YWNoTGlzdGVuZXIoYSxcInJlc2l6ZVwiLGMpO2IuYXR0YWNoTGlzdGVuZXIoYSxcIm1vZGVcIixnKTthLm9uKFwiZGVzdHJveVwiLGcpO3RoaXMubGluZVRwbD0obmV3IENLRURJVE9SLnRlbXBsYXRlKCdcXHgzY2RpdiBkYXRhLWNrZS1saW5ldXRpbHMtbGluZVxceDNkXCIxXCIgY2xhc3NcXHgzZFwiY2tlX3Jlc2V0X2FsbFwiIHN0eWxlXFx4M2RcIntsaW5lU3R5bGV9XCJcXHgzZVxceDNjc3BhbiBzdHlsZVxceDNkXCJ7dGlwTGVmdFN0eWxlfVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIHN0eWxlXFx4M2RcInt0aXBSaWdodFN0eWxlfVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlXFx4M2MvZGl2XFx4M2UnKSkub3V0cHV0KHtsaW5lU3R5bGU6Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxcbnQsdGhpcy5saW5lU3R5bGUsITApKSx0aXBMZWZ0U3R5bGU6Q0tFRElUT1IudG9vbHMud3JpdGVDc3NUZXh0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxxLHtsZWZ0OlwiMHB4XCIsXCJib3JkZXItbGVmdC1jb2xvclwiOlwicmVkXCIsXCJib3JkZXItd2lkdGhcIjpcIjZweCAwIDZweCA2cHhcIn0sdGhpcy50aXBDc3MsdGhpcy50aXBMZWZ0U3R5bGUsITApKSx0aXBSaWdodFN0eWxlOkNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChDS0VESVRPUi50b29scy5leHRlbmQoe30scSx7cmlnaHQ6XCIwcHhcIixcImJvcmRlci1yaWdodC1jb2xvclwiOlwicmVkXCIsXCJib3JkZXItd2lkdGhcIjpcIjZweCA2cHggNnB4IDBcIn0sdGhpcy50aXBDc3MsdGhpcy50aXBSaWdodFN0eWxlLCEwKSl9KX1mdW5jdGlvbiBsKGEpe3ZhciBkO2lmKGQ9YSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpZD0hKHJbYS5nZXRDb21wdXRlZFN0eWxlKFwiZmxvYXRcIildfHxyW2EuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKTtyZXR1cm4gZCYmXG4hdVthLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKV19Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaW5ldXRpbHNcIik7Q0tFRElUT1IuTElORVVUSUxTX0JFRk9SRT0xO0NLRURJVE9SLkxJTkVVVElMU19BRlRFUj0yO0NLRURJVE9SLkxJTkVVVElMU19JTlNJREU9NDttLnByb3RvdHlwZT17c3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcyxiPXRoaXMuZWRpdG9yLGM9dGhpcy5kb2MsZSxnLGYsaCxrPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MCxmdW5jdGlvbigpe2IucmVhZE9ubHl8fFwid3lzaXd5Z1wiIT1iLm1vZGV8fChkLnJlbGF0aW9ucz17fSwoZz1jLiQuZWxlbWVudEZyb21Qb2ludChmLGgpKSYmZy5ub2RlVHlwZSYmKGU9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGcpLGQudHJhdmVyc2VTZWFyY2goZSksaXNOYU4oZitoKXx8ZC5waXhlbFNlYXJjaChlLGYsaCksYSYmYShkLnJlbGF0aW9ucyxmLGgpKSl9KTt0aGlzLmxpc3RlbmVyPXRoaXMuZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIodGhpcy50YXJnZXQsXG5cIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGEpe2Y9YS5kYXRhLiQuY2xpZW50WDtoPWEuZGF0YS4kLmNsaWVudFk7ay5pbnB1dCgpfSk7dGhpcy5lZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcih0aGlzLmlubGluZT90aGlzLmVkaXRhYmxlOnRoaXMuZnJhbWUsXCJtb3VzZW91dFwiLGZ1bmN0aW9uKCl7ay5yZXNldCgpfSl9LHN0b3A6ZnVuY3Rpb24oKXt0aGlzLmxpc3RlbmVyJiZ0aGlzLmxpc3RlbmVyLnJlbW92ZUxpc3RlbmVyKCl9LGdldFJhbmdlOmZ1bmN0aW9uKCl7dmFyIGE9e307YVtDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFXT1DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ7YVtDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJdPUNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORDthW0NLRURJVE9SLkxJTkVVVElMU19JTlNJREVdPUNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUO3JldHVybiBmdW5jdGlvbihkKXt2YXIgYj10aGlzLmVkaXRvci5jcmVhdGVSYW5nZSgpO2IubW92ZVRvUG9zaXRpb24odGhpcy5yZWxhdGlvbnNbZC51aWRdLmVsZW1lbnQsXG5hW2QudHlwZV0pO3JldHVybiBifX0oKSxzdG9yZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3ZhciBlPWEuZ2V0VW5pcXVlSWQoKTtlIGluIGM/Y1tlXS50eXBlfD1iOmNbZV09e2VsZW1lbnQ6YSx0eXBlOmJ9fXJldHVybiBmdW5jdGlvbihkLGIpe3ZhciBjO2ImQ0tFRElUT1IuTElORVVUSUxTX0FGVEVSJiZsKGM9ZC5nZXROZXh0KCkpJiZjLmlzVmlzaWJsZSgpJiYoYShjLENLRURJVE9SLkxJTkVVVElMU19CRUZPUkUsdGhpcy5yZWxhdGlvbnMpLGJePUNLRURJVE9SLkxJTkVVVElMU19BRlRFUik7YiZDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFJiZsKGM9ZC5nZXRGaXJzdCgpKSYmYy5pc1Zpc2libGUoKSYmKGEoYyxDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFLHRoaXMucmVsYXRpb25zKSxiXj1DS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFKTthKGQsYix0aGlzLnJlbGF0aW9ucyl9fSgpLHRyYXZlcnNlU2VhcmNoOmZ1bmN0aW9uKGEpe3ZhciBkLGIsYztkbyBpZihjPWEuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl0sXG4hKGMmJmMgaW4gdGhpcy5yZWxhdGlvbnMpKXtpZihhLmVxdWFscyh0aGlzLmVkaXRhYmxlKSlicmVhaztpZihsKGEpKWZvcihkIGluIHRoaXMubG9va3VwcykoYj10aGlzLmxvb2t1cHNbZF0oYSkpJiZ0aGlzLnN0b3JlKGEsYil9d2hpbGUoKCFhfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XCJ0cnVlXCIhPWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKSYmKGE9YS5nZXRQYXJlbnQoKSkpfSxwaXhlbFNlYXJjaDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjLGUsZyxmKXtmb3IodmFyIGg9MCxrO2YoZSk7KXtlKz1nO2lmKDI1PT0rK2gpYnJlYWs7aWYoaz10aGlzLmRvYy4kLmVsZW1lbnRGcm9tUG9pbnQoYyxlKSlpZihrPT1hKWg9MDtlbHNlIGlmKGQoYSxrKSYmKGg9MCxsKGs9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGspKSkpcmV0dXJuIGt9fXZhciBkPUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD9mdW5jdGlvbihhLGMpe3JldHVybiBhLmNvbnRhaW5zKGMpfTpcbmZ1bmN0aW9uKGEsYyl7cmV0dXJuISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihjKSYxNil9O3JldHVybiBmdW5jdGlvbihiLGMsZCl7dmFyIGc9dGhpcy53aW4uZ2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LGY9YS5jYWxsKHRoaXMsYi4kLGMsZCwtMSxmdW5jdGlvbihhKXtyZXR1cm4gMDxhfSk7Yz1hLmNhbGwodGhpcyxiLiQsYyxkLDEsZnVuY3Rpb24oYSl7cmV0dXJuIGE8Z30pO2lmKGYpZm9yKHRoaXMudHJhdmVyc2VTZWFyY2goZik7IWYuZ2V0UGFyZW50KCkuZXF1YWxzKGIpOylmPWYuZ2V0UGFyZW50KCk7aWYoYylmb3IodGhpcy50cmF2ZXJzZVNlYXJjaChjKTshYy5nZXRQYXJlbnQoKS5lcXVhbHMoYik7KWM9Yy5nZXRQYXJlbnQoKTtmb3IoO2Z8fGM7KXtmJiYoZj1mLmdldE5leHQobCkpO2lmKCFmfHxmLmVxdWFscyhjKSlicmVhazt0aGlzLnRyYXZlcnNlU2VhcmNoKGYpO2MmJihjPWMuZ2V0UHJldmlvdXMobCkpO2lmKCFjfHxjLmVxdWFscyhmKSlicmVhazt0aGlzLnRyYXZlcnNlU2VhcmNoKGMpfX19KCksXG5ncmVlZHlTZWFyY2g6ZnVuY3Rpb24oKXt0aGlzLnJlbGF0aW9ucz17fTtmb3IodmFyIGE9dGhpcy5lZGl0YWJsZS5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKSxkPTAsYixjLGU7Yj1hLmdldEl0ZW0oZCsrKTspaWYoIWIuZXF1YWxzKHRoaXMuZWRpdGFibGUpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhYi5pc1JlYWRPbmx5KCkpJiZsKGIpJiZiLmlzVmlzaWJsZSgpKWZvcihlIGluIHRoaXMubG9va3VwcykoYz10aGlzLmxvb2t1cHNbZV0oYikpJiZ0aGlzLnN0b3JlKGIsYyk7cmV0dXJuIHRoaXMucmVsYXRpb25zfX07bi5wcm90b3R5cGU9e2xvY2F0ZTpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz1hLmVsZW1lbnRbYj09PUNLRURJVE9SLkxJTkVVVElMU19CRUZPUkU/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXSgpO3JldHVybiBjJiZsKGMpPyhhLnNpYmxpbmdSZWN0PWMuZ2V0Q2xpZW50UmVjdCgpLFxuYj09Q0tFRElUT1IuTElORVVUSUxTX0JFRk9SRT8oYS5zaWJsaW5nUmVjdC5ib3R0b20rYS5lbGVtZW50UmVjdC50b3ApLzI6KGEuZWxlbWVudFJlY3QuYm90dG9tK2Euc2libGluZ1JlY3QudG9wKS8yKTpiPT1DS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFP2EuZWxlbWVudFJlY3QudG9wOmEuZWxlbWVudFJlY3QuYm90dG9tfXJldHVybiBmdW5jdGlvbihkKXt2YXIgYjt0aGlzLmxvY2F0aW9ucz17fTtmb3IodmFyIGMgaW4gZCliPWRbY10sYi5lbGVtZW50UmVjdD1iLmVsZW1lbnQuZ2V0Q2xpZW50UmVjdCgpLGIudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfQkVGT1JFJiZ0aGlzLnN0b3JlKGMsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSxhKGIsQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRSkpLGIudHlwZSZDS0VESVRPUi5MSU5FVVRJTFNfQUZURVImJnRoaXMuc3RvcmUoYyxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVIsYShiLENLRURJVE9SLkxJTkVVVElMU19BRlRFUikpLGIudHlwZSZcbkNLRURJVE9SLkxJTkVVVElMU19JTlNJREUmJnRoaXMuc3RvcmUoYyxDS0VESVRPUi5MSU5FVVRJTFNfSU5TSURFLChiLmVsZW1lbnRSZWN0LnRvcCtiLmVsZW1lbnRSZWN0LmJvdHRvbSkvMik7cmV0dXJuIHRoaXMubG9jYXRpb25zfX0oKSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGEsZCxiLGM7cmV0dXJuIGZ1bmN0aW9uKGUsZyl7YT10aGlzLmxvY2F0aW9ucztkPVtdO2Zvcih2YXIgZiBpbiBhKWZvcih2YXIgaCBpbiBhW2ZdKWlmKGI9TWF0aC5hYnMoZS1hW2ZdW2hdKSxkLmxlbmd0aCl7Zm9yKGM9MDtjPGQubGVuZ3RoO2MrKylpZihiPGRbY10uZGlzdCl7ZC5zcGxpY2UoYywwLHt1aWQ6K2YsdHlwZTpoLGRpc3Q6Yn0pO2JyZWFrfWM9PWQubGVuZ3RoJiZkLnB1c2goe3VpZDorZix0eXBlOmgsZGlzdDpifSl9ZWxzZSBkLnB1c2goe3VpZDorZix0eXBlOmgsZGlzdDpifSk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGc/ZC5zbGljZSgwLGcpOmR9fSgpLHN0b3JlOmZ1bmN0aW9uKGEsXG5kLGIpe3RoaXMubG9jYXRpb25zW2FdfHwodGhpcy5sb2NhdGlvbnNbYV09e30pO3RoaXMubG9jYXRpb25zW2FdW2RdPWJ9fTt2YXIgcT17ZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6XCIwcHhcIixoZWlnaHQ6XCIwcHhcIixcImJvcmRlci1jb2xvclwiOlwidHJhbnNwYXJlbnRcIixcImJvcmRlci1zdHlsZVwiOlwic29saWRcIixwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOlwiLTZweFwifSx0PXtoZWlnaHQ6XCIwcHhcIixcImJvcmRlci10b3BcIjpcIjFweCBkYXNoZWQgcmVkXCIscG9zaXRpb246XCJhYnNvbHV0ZVwiLFwiei1pbmRleFwiOjk5OTl9O3AucHJvdG90eXBlPXtyZW1vdmVBbGw6ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5oaWRkZW4pdGhpcy5oaWRkZW5bYV0ucmVtb3ZlKCksZGVsZXRlIHRoaXMuaGlkZGVuW2FdO2ZvcihhIGluIHRoaXMudmlzaWJsZSl0aGlzLnZpc2libGVbYV0ucmVtb3ZlKCksZGVsZXRlIHRoaXMudmlzaWJsZVthXX0saGlkZUxpbmU6ZnVuY3Rpb24oYSl7dmFyIGQ9YS5nZXRVbmlxdWVJZCgpO1xuYS5oaWRlKCk7dGhpcy5oaWRkZW5bZF09YTtkZWxldGUgdGhpcy52aXNpYmxlW2RdfSxzaG93TGluZTpmdW5jdGlvbihhKXt2YXIgZD1hLmdldFVuaXF1ZUlkKCk7YS5zaG93KCk7dGhpcy52aXNpYmxlW2RdPWE7ZGVsZXRlIHRoaXMuaGlkZGVuW2RdfSxoaWRlVmlzaWJsZTpmdW5jdGlvbigpe2Zvcih2YXIgYSBpbiB0aGlzLnZpc2libGUpdGhpcy5oaWRlTGluZSh0aGlzLnZpc2libGVbYV0pfSxwbGFjZUxpbmU6ZnVuY3Rpb24oYSxkKXt2YXIgYixjLGU7aWYoYj10aGlzLmdldFN0eWxlKGEudWlkLGEudHlwZSkpe2ZvcihlIGluIHRoaXMudmlzaWJsZSlpZih0aGlzLnZpc2libGVbZV0uZ2V0Q3VzdG9tRGF0YShcImhhc2hcIikhPT10aGlzLmhhc2gpe2M9dGhpcy52aXNpYmxlW2VdO2JyZWFrfWlmKCFjKWZvcihlIGluIHRoaXMuaGlkZGVuKWlmKHRoaXMuaGlkZGVuW2VdLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoKXt0aGlzLnNob3dMaW5lKGM9dGhpcy5oaWRkZW5bZV0pO1xuYnJlYWt9Y3x8dGhpcy5zaG93TGluZShjPXRoaXMuYWRkTGluZSgpKTtjLnNldEN1c3RvbURhdGEoXCJoYXNoXCIsdGhpcy5oYXNoKTt0aGlzLnZpc2libGVbYy5nZXRVbmlxdWVJZCgpXT1jO2Muc2V0U3R5bGVzKGIpO2QmJmQoYyl9fSxnZXRTdHlsZTpmdW5jdGlvbihhLGQpe3ZhciBiPXRoaXMucmVsYXRpb25zW2FdLGM9dGhpcy5sb2NhdGlvbnNbYV1bZF0sZT17fTtlLndpZHRoPWIuc2libGluZ1JlY3Q/TWF0aC5tYXgoYi5zaWJsaW5nUmVjdC53aWR0aCxiLmVsZW1lbnRSZWN0LndpZHRoKTpiLmVsZW1lbnRSZWN0LndpZHRoO2UudG9wPXRoaXMuaW5saW5lP2MrdGhpcy53aW5Ub3BTY3JvbGwueS10aGlzLnJlY3QucmVsYXRpdmVZOnRoaXMucmVjdC50b3ArdGhpcy53aW5Ub3BTY3JvbGwueStjO2lmKGUudG9wLXRoaXMud2luVG9wU2Nyb2xsLnk8dGhpcy5yZWN0LnRvcHx8ZS50b3AtdGhpcy53aW5Ub3BTY3JvbGwueT50aGlzLnJlY3QuYm90dG9tKXJldHVybiExO3RoaXMuaW5saW5lP1xuZS5sZWZ0PWIuZWxlbWVudFJlY3QubGVmdC10aGlzLnJlY3QucmVsYXRpdmVYOigwPGIuZWxlbWVudFJlY3QubGVmdD9lLmxlZnQ9dGhpcy5yZWN0LmxlZnQrYi5lbGVtZW50UmVjdC5sZWZ0OihlLndpZHRoKz1iLmVsZW1lbnRSZWN0LmxlZnQsZS5sZWZ0PXRoaXMucmVjdC5sZWZ0KSwwPChiPWUubGVmdCtlLndpZHRoLSh0aGlzLnJlY3QubGVmdCt0aGlzLndpblBhbmUud2lkdGgpKSYmKGUud2lkdGgtPWIpKTtlLmxlZnQrPXRoaXMud2luVG9wU2Nyb2xsLng7Zm9yKHZhciBnIGluIGUpZVtnXT1DS0VESVRPUi50b29scy5jc3NMZW5ndGgoZVtnXSk7cmV0dXJuIGV9LGFkZExpbmU6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCh0aGlzLmxpbmVUcGwpO2EuYXBwZW5kVG8odGhpcy5jb250YWluZXIpO3JldHVybiBhfSxwcmVwYXJlOmZ1bmN0aW9uKGEsZCl7dGhpcy5yZWxhdGlvbnM9YTt0aGlzLmxvY2F0aW9ucz1kO3RoaXMuaGFzaD1NYXRoLnJhbmRvbSgpfSxcbmNsZWFudXA6ZnVuY3Rpb24oKXt2YXIgYSxkO2ZvcihkIGluIHRoaXMudmlzaWJsZSlhPXRoaXMudmlzaWJsZVtkXSxhLmdldEN1c3RvbURhdGEoXCJoYXNoXCIpIT09dGhpcy5oYXNoJiZ0aGlzLmhpZGVMaW5lKGEpfSxxdWVyeVZpZXdwb3J0OmZ1bmN0aW9uKCl7dGhpcy53aW5QYW5lPXRoaXMud2luLmdldFZpZXdQYW5lU2l6ZSgpO3RoaXMud2luVG9wU2Nyb2xsPXRoaXMud2luVG9wLmdldFNjcm9sbFBvc2l0aW9uKCk7dGhpcy53aW5Ub3BQYW5lPXRoaXMud2luVG9wLmdldFZpZXdQYW5lU2l6ZSgpO3RoaXMucmVjdD10aGlzLmdldENsaWVudFJlY3QodGhpcy5pbmxpbmU/dGhpcy5lZGl0YWJsZTp0aGlzLmZyYW1lKX0sZ2V0Q2xpZW50UmVjdDpmdW5jdGlvbihhKXthPWEuZ2V0Q2xpZW50UmVjdCgpO3ZhciBkPXRoaXMuY29udGFpbmVyLmdldERvY3VtZW50UG9zaXRpb24oKSxiPXRoaXMuY29udGFpbmVyLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTthLnJlbGF0aXZlWD1hLnJlbGF0aXZlWT1cbjA7XCJzdGF0aWNcIiE9YiYmKGEucmVsYXRpdmVZPWQueSxhLnJlbGF0aXZlWD1kLngsYS50b3AtPWEucmVsYXRpdmVZLGEuYm90dG9tLT1hLnJlbGF0aXZlWSxhLmxlZnQtPWEucmVsYXRpdmVYLGEucmlnaHQtPWEucmVsYXRpdmVYKTtyZXR1cm4gYX19O3ZhciByPXtsZWZ0OjEscmlnaHQ6MSxjZW50ZXI6MX0sdT17YWJzb2x1dGU6MSxmaXhlZDoxfTtDS0VESVRPUi5wbHVnaW5zLmxpbmV1dGlscz17ZmluZGVyOm0sbG9jYXRvcjpuLGxpbmVyOnB9fSkoKTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGEpe3JldHVybiBhLmdldE5hbWUmJiFhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIil9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3aWRnZXRzZWxlY3Rpb25cIix7aW5pdDpmdW5jdGlvbihhKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYj1DS0VESVRPUi5wbHVnaW5zLndpZGdldHNlbGVjdGlvbjthLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKGEpe2E9YS5lZGl0b3I7dmFyIGQ9YS5kb2N1bWVudCxlPWEuZWRpdGFibGUoKTtlLmF0dGFjaExpc3RlbmVyKGQsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLiQ7NjU9PWEuZGF0YS5nZXRLZXkoKSYmKENLRURJVE9SLmVudi5tYWMmJmMubWV0YUtleXx8IUNLRURJVE9SLmVudi5tYWMmJmMuY3RybEtleSkmJkNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmFkZEZpbGxlcnMoZSl8fGIucmVtb3ZlRmlsbGVycyhlKX0sMCl9LG51bGwsbnVsbCwtMSk7YS5vbihcInNlbGVjdGlvbkNoZWNrXCIsXG5mdW5jdGlvbihhKXtiLnJlbW92ZUZpbGxlcnMoYS5lZGl0b3IuZWRpdGFibGUoKSl9KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlPWIuY2xlYW5QYXN0ZURhdGEoYS5kYXRhLmRhdGFWYWx1ZSl9KTtcInNlbGVjdGFsbFwiaW4gYS5wbHVnaW5zJiZiLmFkZFNlbGVjdEFsbEludGVncmF0aW9uKGEpfSl9fX0pO0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0c2VsZWN0aW9uPXtzdGFydEZpbGxlcjpudWxsLGVuZEZpbGxlcjpudWxsLGZpbGxlckF0dHJpYnV0ZTpcImRhdGEtY2tlLWZpbGxlci13ZWJraXRcIixmaWxsZXJDb250ZW50OlwiXFx4MjZuYnNwO1wiLGZpbGxlclRhZ05hbWU6XCJkaXZcIixhZGRGaWxsZXJzOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdG9yO2lmKCF0aGlzLmlzV2hvbGVDb250ZW50U2VsZWN0ZWQoYSkmJjA8YS5nZXRDaGlsZENvdW50KCkpe3ZhciBjPWEuZ2V0Rmlyc3QoZiksZD1hLmdldExhc3QoZik7YyYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuIWMuaXNFZGl0YWJsZSgpJiYodGhpcy5zdGFydEZpbGxlcj10aGlzLmNyZWF0ZUZpbGxlcigpLGEuYXBwZW5kKHRoaXMuc3RhcnRGaWxsZXIsMSkpO2QmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhZC5pc0VkaXRhYmxlKCkmJih0aGlzLmVuZEZpbGxlcj10aGlzLmNyZWF0ZUZpbGxlcighMCksYS5hcHBlbmQodGhpcy5lbmRGaWxsZXIsMCkpO2lmKHRoaXMuaGFzRmlsbGVyKGEpKXJldHVybiBiPWIuY3JlYXRlUmFuZ2UoKSxiLnNlbGVjdE5vZGVDb250ZW50cyhhKSxiLnNlbGVjdCgpLCEwfXJldHVybiExfSxyZW1vdmVGaWxsZXJzOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaGFzRmlsbGVyKGEpJiYhdGhpcy5pc1dob2xlQ29udGVudFNlbGVjdGVkKGEpKXt2YXIgYj1hLmZpbmRPbmUodGhpcy5maWxsZXJUYWdOYW1lK1wiW1wiK3RoaXMuZmlsbGVyQXR0cmlidXRlK1wiXFx4M2RzdGFydF1cIiksYz1hLmZpbmRPbmUodGhpcy5maWxsZXJUYWdOYW1lK1wiW1wiK3RoaXMuZmlsbGVyQXR0cmlidXRlK1xuXCJcXHgzZGVuZF1cIik7dGhpcy5zdGFydEZpbGxlciYmYiYmdGhpcy5zdGFydEZpbGxlci5lcXVhbHMoYik/dGhpcy5yZW1vdmVGaWxsZXIodGhpcy5zdGFydEZpbGxlcixhKTp0aGlzLnN0YXJ0RmlsbGVyPWI7dGhpcy5lbmRGaWxsZXImJmMmJnRoaXMuZW5kRmlsbGVyLmVxdWFscyhjKT90aGlzLnJlbW92ZUZpbGxlcih0aGlzLmVuZEZpbGxlcixhKTp0aGlzLmVuZEZpbGxlcj1jfX0sY2xlYW5QYXN0ZURhdGE6ZnVuY3Rpb24oYSl7YSYmYS5sZW5ndGgmJihhPWEucmVwbGFjZSh0aGlzLmNyZWF0ZUZpbGxlclJlZ2V4KCksXCJcIikucmVwbGFjZSh0aGlzLmNyZWF0ZUZpbGxlclJlZ2V4KCEwKSxcIlwiKSk7cmV0dXJuIGF9LGlzV2hvbGVDb250ZW50U2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07cmV0dXJuIWJ8fGImJmIuY29sbGFwc2VkPyExOihiPWIuY2xvbmUoKSxiLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKSxcbiEhKGImJmEmJmIuc3RhcnRDb250YWluZXImJmIuZW5kQ29udGFpbmVyJiYwPT09Yi5zdGFydE9mZnNldCYmYi5lbmRPZmZzZXQ9PT1hLmdldENoaWxkQ291bnQoKSYmYi5zdGFydENvbnRhaW5lci5lcXVhbHMoYSkmJmIuZW5kQ29udGFpbmVyLmVxdWFscyhhKSkpfSxoYXNGaWxsZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIDA8YS5maW5kKHRoaXMuZmlsbGVyVGFnTmFtZStcIltcIit0aGlzLmZpbGxlckF0dHJpYnV0ZStcIl1cIikuY291bnQoKX0sY3JlYXRlRmlsbGVyOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh0aGlzLmZpbGxlclRhZ05hbWUpO2Iuc2V0SHRtbCh0aGlzLmZpbGxlckNvbnRlbnQpO2Iuc2V0QXR0cmlidXRlKHRoaXMuZmlsbGVyQXR0cmlidXRlLGE/XCJlbmRcIjpcInN0YXJ0XCIpO2Iuc2V0QXR0cmlidXRlKFwiZGF0YS1ja2UtdGVtcFwiLDEpO2Iuc2V0U3R5bGVzKHtkaXNwbGF5OlwiYmxvY2tcIix3aWR0aDowLGhlaWdodDowLHBhZGRpbmc6MCxib3JkZXI6MCxcbm1hcmdpbjowLHBvc2l0aW9uOlwiYWJzb2x1dGVcIix0b3A6MCxsZWZ0OlwiLTk5OTlweFwiLG9wYWNpdHk6MCxvdmVyZmxvdzpcImhpZGRlblwifSk7cmV0dXJuIGJ9LHJlbW92ZUZpbGxlcjpmdW5jdGlvbihhLGIpe2lmKGEpe3ZhciBjPWIuZWRpdG9yLGQ9Yi5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0uc3RhcnRQYXRoKCksZT1jLmNyZWF0ZVJhbmdlKCksZyxmO2QuY29udGFpbnMoYSkmJihnPWEuZ2V0SHRtbCgpLGY9ITApO2Q9XCJzdGFydFwiPT1hLmdldEF0dHJpYnV0ZSh0aGlzLmZpbGxlckF0dHJpYnV0ZSk7YS5yZW1vdmUoKTtnJiYwPGcubGVuZ3RoJiZnIT10aGlzLmZpbGxlckNvbnRlbnQ/KGIuaW5zZXJ0SHRtbEludG9SYW5nZShnLGMuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0pLGUuc2V0U3RhcnRBdChiLmdldENoaWxkKGIuZ2V0Q2hpbGRDb3VudCgpLTEpLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtlXSkpOlxuZiYmKGQ/ZS5zZXRTdGFydEF0KGIuZ2V0Rmlyc3QoKS5nZXROZXh0KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpOmUuc2V0RW5kQXQoYi5nZXRMYXN0KCkuZ2V0UHJldmlvdXMoKSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxiLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2VdKSl9fSxjcmVhdGVGaWxsZXJSZWdleDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmNyZWF0ZUZpbGxlcihhKS5nZXRPdXRlckh0bWwoKS5yZXBsYWNlKC9zdHlsZT1cIlteXCJdKlwiL2dpLCdzdHlsZVxceDNkXCJbXlwiXSpcIicpLnJlcGxhY2UoLz5bXjxdKjwvZ2ksXCJcXHgzZVteXFx4M2NdKlxceDNjXCIpO3JldHVybiBuZXcgUmVnRXhwKChhP1wiXCI6XCJeXCIpK2IrKGE/XCIkXCI6XCJcIikpfSxhZGRTZWxlY3RBbGxJbnRlZ3JhdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2EuZWRpdGFibGUoKS5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihjKXt2YXIgZD1cbmEuZWRpdGFibGUoKTtcInNlbGVjdEFsbFwiPT1jLmRhdGEubmFtZSYmZCYmYi5hZGRGaWxsZXJzKGQpfSxudWxsLG51bGwsOTk5OSl9fX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcChhKXt0aGlzLmVkaXRvcj1hO3RoaXMucmVnaXN0ZXJlZD17fTt0aGlzLmluc3RhbmNlcz17fTt0aGlzLnNlbGVjdGVkPVtdO3RoaXMud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT10aGlzLmZvY3VzZWQ9bnVsbDt0aGlzLl89e25leHRJZDowLHVwY2FzdHM6W10sdXBjYXN0Q2FsbGJhY2tzOltdLGZpbHRlcnM6e319O0YodGhpcyk7Ryh0aGlzKTt0aGlzLm9uKFwiY2hlY2tXaWRnZXRzXCIsSCk7dGhpcy5lZGl0b3Iub24oXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIix0aGlzLmNoZWNrV2lkZ2V0cyx0aGlzKTtJKHRoaXMpO0oodGhpcyk7Syh0aGlzKTtMKHRoaXMpO00odGhpcyl9ZnVuY3Rpb24gZyhhLGIsYyxkLGUpe3ZhciBmPWEuZWRpdG9yO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGQse2VkaXRvcjpmLGlkOmIsaW5saW5lOlwic3BhblwiPT1jLmdldFBhcmVudCgpLmdldE5hbWUoKSxlbGVtZW50OmMsZGF0YTpDS0VESVRPUi50b29scy5leHRlbmQoe30sXG5cImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmRlZmF1bHRzP2QuZGVmYXVsdHMoKTpkLmRlZmF1bHRzKSxkYXRhUmVhZHk6ITEsaW5pdGVkOiExLHJlYWR5OiExLGVkaXQ6Zy5wcm90b3R5cGUuZWRpdCxmb2N1c2VkRWRpdGFibGU6bnVsbCxkZWZpbml0aW9uOmQscmVwb3NpdG9yeTphLGRyYWdnYWJsZTohMSE9PWQuZHJhZ2dhYmxlLF86e2Rvd25jYXN0Rm46ZC5kb3duY2FzdCYmXCJzdHJpbmdcIj09dHlwZW9mIGQuZG93bmNhc3Q/ZC5kb3duY2FzdHNbZC5kb3duY2FzdF06ZC5kb3duY2FzdH19LCEwKTthLmZpcmUoXCJpbnN0YW5jZUNyZWF0ZWRcIix0aGlzKTtOKHRoaXMsZCk7dGhpcy5pbml0JiZ0aGlzLmluaXQoKTt0aGlzLmluaXRlZD0hMDsoYT10aGlzLmVsZW1lbnQuZGF0YShcImNrZS13aWRnZXQtZGF0YVwiKSkmJnRoaXMuc2V0RGF0YShKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChhKSkpO2UmJnRoaXMuc2V0RGF0YShlKTt0aGlzLmRhdGEuY2xhc3Nlc3x8dGhpcy5zZXREYXRhKFwiY2xhc3Nlc1wiLFxudGhpcy5nZXRDbGFzc2VzKCkpO3RoaXMuZGF0YVJlYWR5PSEwO3IodGhpcyk7dGhpcy5maXJlKFwiZGF0YVwiLHRoaXMuZGF0YSk7dGhpcy5pc0luaXRlZCgpJiZmLmVkaXRhYmxlKCkuY29udGFpbnModGhpcy53cmFwcGVyKSYmKHRoaXMucmVhZHk9ITAsdGhpcy5maXJlKFwicmVhZHlcIikpfWZ1bmN0aW9uIHEoYSxiLGMpe0NLRURJVE9SLmRvbS5lbGVtZW50LmNhbGwodGhpcyxiLiQpO3RoaXMuZWRpdG9yPWE7dGhpcy5fPXt9O2I9dGhpcy5maWx0ZXI9Yy5maWx0ZXI7Q0tFRElUT1IuZHRkW3RoaXMuZ2V0TmFtZSgpXS5wPyh0aGlzLmVudGVyTW9kZT1iP2IuZ2V0QWxsb3dlZEVudGVyTW9kZShhLmVudGVyTW9kZSk6YS5lbnRlck1vZGUsdGhpcy5zaGlmdEVudGVyTW9kZT1iP2IuZ2V0QWxsb3dlZEVudGVyTW9kZShhLnNoaWZ0RW50ZXJNb2RlLCEwKTphLnNoaWZ0RW50ZXJNb2RlKTp0aGlzLmVudGVyTW9kZT10aGlzLnNoaWZ0RW50ZXJNb2RlPUNLRURJVE9SLkVOVEVSX0JSfWZ1bmN0aW9uIE8oYSxcbmIpe2EuYWRkQ29tbWFuZChiLm5hbWUse2V4ZWM6ZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBlKCl7YS53aWRnZXRzLmZpbmFsaXplQ3JlYXRpb24oayl9dmFyIGY9YS53aWRnZXRzLmZvY3VzZWQ7aWYoZiYmZi5uYW1lPT1iLm5hbWUpZi5lZGl0KCk7ZWxzZSBpZihiLmluc2VydCliLmluc2VydCgpO2Vsc2UgaWYoYi50ZW1wbGF0ZSl7dmFyIGY9XCJmdW5jdGlvblwiPT10eXBlb2YgYi5kZWZhdWx0cz9iLmRlZmF1bHRzKCk6Yi5kZWZhdWx0cyxmPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGIudGVtcGxhdGUub3V0cHV0KGYpKSxoLGw9YS53aWRnZXRzLndyYXBFbGVtZW50KGYsYi5uYW1lKSxrPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChsLmdldERvY3VtZW50KCkpO2suYXBwZW5kKGwpOyhoPWEud2lkZ2V0cy5pbml0T24oZixiLGQmJmQuc3RhcnR1cERhdGEpKT8oZj1oLm9uY2UoXCJlZGl0XCIsZnVuY3Rpb24oYil7aWYoYi5kYXRhLmRpYWxvZyloLm9uY2UoXCJkaWFsb2dcIixcbmZ1bmN0aW9uKGIpe2I9Yi5kYXRhO3ZhciBkLGY7ZD1iLm9uY2UoXCJva1wiLGUsbnVsbCxudWxsLDIwKTtmPWIub25jZShcImNhbmNlbFwiLGZ1bmN0aW9uKGIpe2IuZGF0YSYmITE9PT1iLmRhdGEuaGlkZXx8YS53aWRnZXRzLmRlc3Ryb3koaCwhMCl9KTtiLm9uY2UoXCJoaWRlXCIsZnVuY3Rpb24oKXtkLnJlbW92ZUxpc3RlbmVyKCk7Zi5yZW1vdmVMaXN0ZW5lcigpfSl9KTtlbHNlIGUoKX0sbnVsbCxudWxsLDk5OSksaC5lZGl0KCksZi5yZW1vdmVMaXN0ZW5lcigpKTplKCl9fSxhbGxvd2VkQ29udGVudDpiLmFsbG93ZWRDb250ZW50LHJlcXVpcmVkQ29udGVudDpiLnJlcXVpcmVkQ29udGVudCxjb250ZW50Rm9ybXM6Yi5jb250ZW50Rm9ybXMsY29udGVudFRyYW5zZm9ybWF0aW9uczpiLmNvbnRlbnRUcmFuc2Zvcm1hdGlvbnN9KX1mdW5jdGlvbiBQKGEsYil7ZnVuY3Rpb24gYyhiLGQsYyl7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0SW5kZXgoYS5fLnVwY2FzdHMsZnVuY3Rpb24oYSl7cmV0dXJuIGFbMl0+XG5jfSk7MD5lJiYoZT1hLl8udXBjYXN0cy5sZW5ndGgpO2EuXy51cGNhc3RzLnNwbGljZShlLDAsW2IsZCxjXSl9dmFyIGQ9Yi51cGNhc3QsZT1iLnVwY2FzdFByaW9yaXR5fHwxMDtpZihkKWlmKFwic3RyaW5nXCI9PXR5cGVvZiBkKWZvcihkPWQuc3BsaXQoXCIsXCIpO2QubGVuZ3RoOyljKGIudXBjYXN0c1tkLnBvcCgpXSxiLm5hbWUsZSk7ZWxzZSBjKGQsYi5uYW1lLGUpfWZ1bmN0aW9uIHQoYSxiKXthLmZvY3VzZWQ9bnVsbDtpZihiLmlzSW5pdGVkKCkpe3ZhciBjPWIuZWRpdG9yLmNoZWNrRGlydHkoKTthLmZpcmUoXCJ3aWRnZXRCbHVycmVkXCIse3dpZGdldDpifSk7Yi5zZXRGb2N1c2VkKCExKTshYyYmYi5lZGl0b3IucmVzZXREaXJ0eSgpfX1mdW5jdGlvbiBIKGEpe2E9YS5kYXRhO2lmKFwid3lzaXd5Z1wiPT10aGlzLmVkaXRvci5tb2RlKXt2YXIgYj10aGlzLmVkaXRvci5lZGl0YWJsZSgpLGM9dGhpcy5pbnN0YW5jZXMsZCxlLGYsaDtpZihiKXtmb3IoZCBpbiBjKWNbZF0uaXNSZWFkeSgpJiZcbiFiLmNvbnRhaW5zKGNbZF0ud3JhcHBlcikmJnRoaXMuZGVzdHJveShjW2RdLCEwKTtpZihhJiZhLmluaXRPbmx5TmV3KWM9dGhpcy5pbml0T25BbGwoKTtlbHNle3ZhciBsPWIuZmluZChcIi5ja2Vfd2lkZ2V0X3dyYXBwZXJcIiksYz1bXTtkPTA7Zm9yKGU9bC5jb3VudCgpO2Q8ZTtkKyspe2Y9bC5nZXRJdGVtKGQpO2lmKGg9IXRoaXMuZ2V0QnlFbGVtZW50KGYsITApKXthOntoPVE7Zm9yKHZhciBrPWY7az1rLmdldFBhcmVudCgpOylpZihoKGspKXtoPSEwO2JyZWFrIGF9aD0hMX1oPSFofWgmJmIuY29udGFpbnMoZikmJihmLmFkZENsYXNzKFwiY2tlX3dpZGdldF9uZXdcIiksYy5wdXNoKHRoaXMuaW5pdE9uKGYuZ2V0Rmlyc3QoZy5pc0RvbVdpZGdldEVsZW1lbnQpKSkpfX1hJiZhLmZvY3VzSW5pdGVkJiYxPT1jLmxlbmd0aCYmY1swXS5mb2N1cygpfX19ZnVuY3Rpb24gdShhLGIsYyl7aWYoIWMuYWxsb3dlZENvbnRlbnQmJiFjLmRpc2FsbG93ZWRDb250ZW50KXJldHVybiBudWxsO3ZhciBkPVxudGhpcy5fLmZpbHRlcnNbYV07ZHx8KHRoaXMuXy5maWx0ZXJzW2FdPWQ9e30pO2E9ZFtiXTthfHwoYT1jLmFsbG93ZWRDb250ZW50P25ldyBDS0VESVRPUi5maWx0ZXIoYy5hbGxvd2VkQ29udGVudCk6dGhpcy5lZGl0b3IuZmlsdGVyLmNsb25lKCksZFtiXT1hLGMuZGlzYWxsb3dlZENvbnRlbnQmJmEuZGlzYWxsb3coYy5kaXNhbGxvd2VkQ29udGVudCkpO3JldHVybiBhfWZ1bmN0aW9uIFIoYSl7dmFyIGI9W10sYz1hLl8udXBjYXN0cyxkPWEuXy51cGNhc3RDYWxsYmFja3M7cmV0dXJue3RvQmVXcmFwcGVkOmIsaXRlcmF0b3I6ZnVuY3Rpb24oYSl7dmFyIGYsaCxsLGssbTtpZihcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJpbiBhLmF0dHJpYnV0ZXMpcmV0dXJuKGE9YS5nZXRGaXJzdChnLmlzUGFyc2VyV2lkZ2V0RWxlbWVudCkpJiZiLnB1c2goW2FdKSwhMTtpZihcImRhdGEtd2lkZ2V0XCJpbiBhLmF0dHJpYnV0ZXMpcmV0dXJuIGIucHVzaChbYV0pLCExO2lmKG09Yy5sZW5ndGgpe2lmKGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC11cGNhc3RlZFwiXSlyZXR1cm4hMTtcbms9MDtmb3IoZj1kLmxlbmd0aDtrPGY7KytrKWlmKCExPT09ZFtrXShhKSlyZXR1cm47Zm9yKGs9MDtrPG07KytrKWlmKGY9Y1trXSxsPXt9LGg9ZlswXShhLGwpKXJldHVybiBoIGluc3RhbmNlb2YgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50JiYoYT1oKSxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtZGF0YVwiXT1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobCkpLGEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC11cGNhc3RlZFwiXT0xLGIucHVzaChbYSxmWzFdXSksITF9fX19ZnVuY3Rpb24gdihhLGIpe3JldHVybnt0YWJpbmRleDotMSxjb250ZW50ZWRpdGFibGU6XCJmYWxzZVwiLFwiZGF0YS1ja2Utd2lkZ2V0LXdyYXBwZXJcIjoxLFwiZGF0YS1ja2UtZmlsdGVyXCI6XCJvZmZcIixcImNsYXNzXCI6XCJja2Vfd2lkZ2V0X3dyYXBwZXIgY2tlX3dpZGdldF9uZXcgY2tlX3dpZGdldF9cIisoYT9cImlubGluZVwiOlwiYmxvY2tcIikrKGI/XCIgY2tlX3dpZGdldF9cIitiOlwiXCIpfX1cbmZ1bmN0aW9uIHcoYSxiLGMpe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXt2YXIgZD1DS0VESVRPUi5kdGRbYS5uYW1lXTtpZihkJiYhZFtjLm5hbWVdKXt2YXIgZD1hLnNwbGl0KGIpLGU9YS5wYXJlbnQ7Yj1kLmdldEluZGV4KCk7YS5jaGlsZHJlbi5sZW5ndGh8fCgtLWIsYS5yZW1vdmUoKSk7ZC5jaGlsZHJlbi5sZW5ndGh8fGQucmVtb3ZlKCk7cmV0dXJuIHcoZSxiLGMpfX1hLmFkZChjLGIpfWZ1bmN0aW9uIHgoYSxiKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGEuaW5saW5lP2EuaW5saW5lOiEhQ0tFRElUT1IuZHRkLiRpbmxpbmVbYl19ZnVuY3Rpb24gUShhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpfWZ1bmN0aW9uIG4oYSxiLGMsZCl7dmFyIGU9YS5lZGl0b3I7ZS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2M/KGQ9Yy5kYXRhKFwiY2tlLXdpZGdldC1lZGl0YWJsZVwiKSxkPWIuZWRpdGFibGVzW2RdLGEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT1cbmIsYi5mb2N1c2VkRWRpdGFibGU9ZCxjLmFkZENsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGQuZmlsdGVyJiZlLnNldEFjdGl2ZUZpbHRlcihkLmZpbHRlciksZS5zZXRBY3RpdmVFbnRlck1vZGUoZC5lbnRlck1vZGUsZC5zaGlmdEVudGVyTW9kZSkpOihkfHxiLmZvY3VzZWRFZGl0YWJsZS5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWRpdGFibGVfZm9jdXNlZFwiKSxiLmZvY3VzZWRFZGl0YWJsZT1udWxsLGEud2lkZ2V0SG9sZGluZ0ZvY3VzZWRFZGl0YWJsZT1udWxsLGUuc2V0QWN0aXZlRmlsdGVyKG51bGwpLGUuc2V0QWN0aXZlRW50ZXJNb2RlKG51bGwsbnVsbCkpO2UuZmlyZShcInVubG9ja1NuYXBzaG90XCIpfWZ1bmN0aW9uIFMoYSl7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiKXtpZihiPWEud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYiwhMCkpcmV0dXJuIGIuZmlyZShcImNvbnRleHRNZW51XCIse30pfSl9ZnVuY3Rpb24gVChhLFxuYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLnRyaW0oYil9ZnVuY3Rpb24gTChhKXt2YXIgYj1hLmVkaXRvcixjPUNLRURJVE9SLnBsdWdpbnMubGluZXV0aWxzO2Iub24oXCJkcmFnc3RhcnRcIixmdW5jdGlvbihkKXt2YXIgYz1kLmRhdGEudGFyZ2V0O2cuaXNEb21EcmFnSGFuZGxlcihjKSYmKGM9YS5nZXRCeUVsZW1lbnQoYyksZC5kYXRhLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiY2tlL3dpZGdldC1pZFwiLGMuaWQpLGIuZm9jdXMoKSxjLmZvY3VzKCkpfSk7Yi5vbihcImRyb3BcIixmdW5jdGlvbihjKXt2YXIgZT1jLmRhdGEuZGF0YVRyYW5zZmVyLGY9ZS5nZXREYXRhKFwiY2tlL3dpZGdldC1pZFwiKSxoPWUuZ2V0VHJhbnNmZXJUeXBlKGIpLGU9Yi5jcmVhdGVSYW5nZSgpO1wiXCIhPT1mJiZoPT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9DUk9TU19FRElUT1JTP2MuY2FuY2VsKCk6XCJcIiE9PWYmJmg9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUwmJihmPWEuaW5zdGFuY2VzW2ZdKSYmXG4oZS5zZXRTdGFydEJlZm9yZShmLndyYXBwZXIpLGUuc2V0RW5kQWZ0ZXIoZi53cmFwcGVyKSxjLmRhdGEuZHJhZ1JhbmdlPWUsZGVsZXRlIENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRyYWdTdGFydENvbnRhaW5lckNoaWxkQ291bnQsZGVsZXRlIENLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRyYWdFbmRDb250YWluZXJDaGlsZENvdW50LGMuZGF0YS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvaHRtbFwiLGIuZWRpdGFibGUoKS5nZXRIdG1sRnJvbVJhbmdlKGUpLmdldEh0bWwoKSksYi53aWRnZXRzLmRlc3Ryb3koZiwhMCkpfSk7Yi5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBkPWIuZWRpdGFibGUoKTtDS0VESVRPUi50b29scy5leHRlbmQoYSx7ZmluZGVyOm5ldyBjLmZpbmRlcihiLHtsb29rdXBzOntcImRlZmF1bHRcIjpmdW5jdGlvbihiKXtpZighYi5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYi5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSYmIWcuaXNEb21OZXN0ZWRFZGl0YWJsZShiKSYmXG4hYS5fLmRyYWdnZWRXaWRnZXQud3JhcHBlci5jb250YWlucyhiKSl7dmFyIGM9Zy5nZXROZXN0ZWRFZGl0YWJsZShkLGIpO2lmKGMpe2I9YS5fLmRyYWdnZWRXaWRnZXQ7aWYoYS5nZXRCeUVsZW1lbnQoYyk9PWIpcmV0dXJuO2M9Q0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1tjLmRhdGEoXCJja2UtZmlsdGVyXCIpXTtiPWIucmVxdWlyZWRDb250ZW50O2lmKGMmJmImJiFjLmNoZWNrKGIpKXJldHVybn1yZXR1cm4gQ0tFRElUT1IuTElORVVUSUxTX0JFRk9SRXxDS0VESVRPUi5MSU5FVVRJTFNfQUZURVJ9fX19KSxsb2NhdG9yOm5ldyBjLmxvY2F0b3IoYiksbGluZXI6bmV3IGMubGluZXIoYix7bGluZVN0eWxlOntjdXJzb3I6XCJtb3ZlICFpbXBvcnRhbnRcIixcImJvcmRlci10b3AtY29sb3JcIjpcIiM2NjZcIn0sdGlwTGVmdFN0eWxlOntcImJvcmRlci1sZWZ0LWNvbG9yXCI6XCIjNjY2XCJ9LHRpcFJpZ2h0U3R5bGU6e1wiYm9yZGVyLXJpZ2h0LWNvbG9yXCI6XCIjNjY2XCJ9fSl9LCEwKX0pfWZ1bmN0aW9uIEooYSl7dmFyIGI9XG5hLmVkaXRvcjtiLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7dmFyIGM9Yi5lZGl0YWJsZSgpLGQ9Yy5pc0lubGluZSgpP2M6Yi5kb2N1bWVudCxlLGY7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oYyl7dmFyIGQ9Yy5kYXRhLmdldFRhcmdldCgpO2U9ZCBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2EuZ2V0QnlFbGVtZW50KGQpOm51bGw7Zj0wO2UmJihlLmlubGluZSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWRyYWctaGFuZGxlclwiKT8oZj0xLGEuZm9jdXNlZCE9ZSYmYi5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKSk6Zy5nZXROZXN0ZWRFZGl0YWJsZShlLndyYXBwZXIsZCk/ZT1udWxsOihjLmRhdGEucHJldmVudERlZmF1bHQoKSxDS0VESVRPUi5lbnYuaWV8fGUuZm9jdXMoKSkpfSk7Yy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7ZiYmXG5lJiZlLndyYXBwZXImJihmPTAsZS5mb2N1cygpKX0pO0NLRURJVE9SLmVudi5pZSYmYy5hdHRhY2hMaXN0ZW5lcihkLFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UmJmUud3JhcHBlciYmYy5jb250YWlucyhlLndyYXBwZXIpJiYoZS5mb2N1cygpLGU9bnVsbCl9KX0pfSk7Yi5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7dmFyIGQ9YS5nZXRCeUVsZW1lbnQoYi5kYXRhLmVsZW1lbnQpO2lmKGQmJiFnLmdldE5lc3RlZEVkaXRhYmxlKGQud3JhcHBlcixiLmRhdGEuZWxlbWVudCkpcmV0dXJuIGQuZmlyZShcImRvdWJsZWNsaWNrXCIse2VsZW1lbnQ6Yi5kYXRhLmVsZW1lbnR9KX0sbnVsbCxudWxsLDEpfWZ1bmN0aW9uIEsoYSl7YS5lZGl0b3Iub24oXCJrZXlcIixmdW5jdGlvbihiKXt2YXIgYz1hLmZvY3VzZWQsZD1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGUsZTtjP2U9Yy5maXJlKFwia2V5XCIse2tleUNvZGU6Yi5kYXRhLmtleUNvZGV9KTpkJiZcbihjPWIuZGF0YS5rZXlDb2RlLGI9ZC5mb2N1c2VkRWRpdGFibGUsYz09Q0tFRElUT1IuQ1RSTCs2NT8oYz1iLmdldEJvZ3VzKCksZD1kLmVkaXRvci5jcmVhdGVSYW5nZSgpLGQuc2VsZWN0Tm9kZUNvbnRlbnRzKGIpLGMmJmQuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGQuc2VsZWN0KCksZT0hMSk6OD09Y3x8NDY9PWM/KGU9ZC5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKCksZD1lWzBdLGU9ISgxPT1lLmxlbmd0aCYmZC5jb2xsYXBzZWQmJmQuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLENLRURJVE9SWzg9PWM/XCJTVEFSVFwiOlwiRU5EXCJdKSkpOmU9dm9pZCAwKTtyZXR1cm4gZX0sbnVsbCxudWxsLDEpfWZ1bmN0aW9uIE0oYSl7ZnVuY3Rpb24gYihiKXthLmZvY3VzZWQmJnkoYS5mb2N1c2VkLFwiY3V0XCI9PWIubmFtZSl9dmFyIGM9YS5lZGl0b3I7Yy5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBhPWMuZWRpdGFibGUoKTthLmF0dGFjaExpc3RlbmVyKGEsXG5cImNvcHlcIixiKTthLmF0dGFjaExpc3RlbmVyKGEsXCJjdXRcIixiKX0pfWZ1bmN0aW9uIEkoYSl7dmFyIGI9YS5lZGl0b3I7Yi5vbihcInNlbGVjdGlvbkNoZWNrXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJjaGVja1NlbGVjdGlvblwiKX0pO2Eub24oXCJjaGVja1NlbGVjdGlvblwiLGEuY2hlY2tTZWxlY3Rpb24sYSk7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGMpe3ZhciBkPShjPWcuZ2V0TmVzdGVkRWRpdGFibGUoYi5lZGl0YWJsZSgpLGMuZGF0YS5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkpKSYmYS5nZXRCeUVsZW1lbnQoYyksZT1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGU7ZT9lPT09ZCYmZS5mb2N1c2VkRWRpdGFibGUuZXF1YWxzKGMpfHwobihhLGUsbnVsbCksZCYmYyYmbihhLGQsYykpOmQmJmMmJm4oYSxkLGMpfSk7Yi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7eihhKS5jb21taXQoKX0pO2Iub24oXCJibHVyXCIsZnVuY3Rpb24oKXt2YXIgYjsoYj1hLmZvY3VzZWQpJiZcbnQoYSxiKTsoYj1hLndpZGdldEhvbGRpbmdGb2N1c2VkRWRpdGFibGUpJiZuKGEsYixudWxsKX0pfWZ1bmN0aW9uIEcoYSl7dmFyIGI9YS5lZGl0b3IsYz17fTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYil7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGY9W107Yi5kYXRhLmRvd25jYXN0aW5nU2Vzc2lvbklkPWU7Y1tlXT1mO2IuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChmdW5jdGlvbihiKXt2YXIgYz1iLmF0dHJpYnV0ZXMsZDtpZihcImRhdGEtY2tlLXdpZGdldC1pZFwiaW4gYyl7aWYoYz1hLmluc3RhbmNlc1tjW1wiZGF0YS1ja2Utd2lkZ2V0LWlkXCJdXSlkPWIuZ2V0Rmlyc3QoZy5pc1BhcnNlcldpZGdldEVsZW1lbnQpLGYucHVzaCh7d3JhcHBlcjpiLGVsZW1lbnQ6ZCx3aWRnZXQ6YyxlZGl0YWJsZXM6e319KSxcIjFcIiE9ZC5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiXSYmZGVsZXRlIGQuYXR0cmlidXRlc1tcImRhdGEtd2lkZ2V0XCJdfWVsc2UgaWYoXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcImluXG5jKXJldHVybiBmW2YubGVuZ3RoLTFdLmVkaXRhYmxlc1tjW1wiZGF0YS1ja2Utd2lkZ2V0LWVkaXRhYmxlXCJdXT1iLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApfSxudWxsLG51bGwsOCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2lmKGEuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZCl7YT1jW2EuZGF0YS5kb3duY2FzdGluZ1Nlc3Npb25JZF07Zm9yKHZhciBiLGYsaCxsLGcsbTtiPWEuc2hpZnQoKTspe2Y9Yi53aWRnZXQ7aD1iLmVsZW1lbnQ7bD1mLl8uZG93bmNhc3RGbiYmZi5fLmRvd25jYXN0Rm4uY2FsbChmLGgpO2ZvcihtIGluIGIuZWRpdGFibGVzKWc9Yi5lZGl0YWJsZXNbbV0sZGVsZXRlIGcuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGUsZy5zZXRIdG1sKGYuZWRpdGFibGVzW21dLmdldERhdGEoKSk7bHx8KGw9aCk7Yi53cmFwcGVyLnJlcGxhY2VXaXRoKGwpfX19LG51bGwsbnVsbCwxMyk7Yi5vbihcImNvbnRlbnREb21VbmxvYWRcIixmdW5jdGlvbigpe2EuZGVzdHJveUFsbCghMCl9KX1cbmZ1bmN0aW9uIEYoYSl7dmFyIGI9YS5lZGl0b3IsYyxkO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihiKXt2YXIgZD1SKGEpLGg7Zm9yKGIuZGF0YS5kYXRhVmFsdWUuZm9yRWFjaChkLml0ZXJhdG9yLENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCk7aD1kLnRvQmVXcmFwcGVkLnBvcCgpOyl7dmFyIGw9aFswXSxrPWwucGFyZW50O2sudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZrLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS13aWRnZXQtd3JhcHBlclwiXSYmay5yZXBsYWNlV2l0aChsKTthLndyYXBFbGVtZW50KGhbMF0saFsxXSl9Yz1iLmRhdGEucHJvdGVjdGVkV2hpdGVzcGFjZXM/Mz09Yi5kYXRhLmRhdGFWYWx1ZS5jaGlsZHJlbi5sZW5ndGgmJmcuaXNQYXJzZXJXaWRnZXRXcmFwcGVyKGIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW5bMV0pOjE9PWIuZGF0YS5kYXRhVmFsdWUuY2hpbGRyZW4ubGVuZ3RoJiZnLmlzUGFyc2VyV2lkZ2V0V3JhcHBlcihiLmRhdGEuZGF0YVZhbHVlLmNoaWxkcmVuWzBdKX0sXG5udWxsLG51bGwsOCk7Yi5vbihcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKCl7aWYoZClmb3IodmFyIGM9Yi5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3dpZGdldF93cmFwcGVyXCIpLGYsaCxsPTAsaz1jLmNvdW50KCk7bDxrOysrbClmPWMuZ2V0SXRlbShsKSxoPWYuZ2V0Rmlyc3QoZy5pc0RvbVdpZGdldEVsZW1lbnQpLGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmRhdGEoXCJ3aWRnZXRcIik/KGgucmVwbGFjZShmKSxhLndyYXBFbGVtZW50KGgpKTpmLnJlbW92ZSgpO2Q9MDthLmRlc3Ryb3lBbGwoITApO2EuaW5pdE9uQWxsKCl9KTtiLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oYil7L2RhdGEtY2tlLXdpZGdldC8udGVzdChiLmRhdGEpJiYoZD0xKTthLmRlc3Ryb3lBbGwoITApfSxudWxsLG51bGwsOSk7Yi5vbihcInBhc3RlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS5kYXRhVmFsdWU9YS5kYXRhVmFsdWUucmVwbGFjZShVLFQpO2EucmFuZ2UmJihhPWcuZ2V0TmVzdGVkRWRpdGFibGUoYi5lZGl0YWJsZSgpLFxuYS5yYW5nZS5zdGFydENvbnRhaW5lcikpJiYoYT1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW2EuZGF0YShcImNrZS1maWx0ZXJcIildKSYmYi5zZXRBY3RpdmVGaWx0ZXIoYSl9KTtiLm9uKFwiYWZ0ZXJJbnNlcnRIdG1sXCIsZnVuY3Rpb24oZCl7ZC5kYXRhLmludG9SYW5nZT9hLmNoZWNrV2lkZ2V0cyh7aW5pdE9ubHlOZXc6ITB9KTooYi5maXJlKFwibG9ja1NuYXBzaG90XCIpLGEuY2hlY2tXaWRnZXRzKHtpbml0T25seU5ldzohMCxmb2N1c0luaXRlZDpjfSksYi5maXJlKFwidW5sb2NrU25hcHNob3RcIikpfSl9ZnVuY3Rpb24geihhKXt2YXIgYj1hLnNlbGVjdGVkLGM9W10sZD1iLnNsaWNlKDApLGU9bnVsbDtyZXR1cm57c2VsZWN0OmZ1bmN0aW9uKGEpezA+Q0tFRElUT1IudG9vbHMuaW5kZXhPZihiLGEpJiZjLnB1c2goYSk7YT1DS0VESVRPUi50b29scy5pbmRleE9mKGQsYSk7MDw9YSYmZC5zcGxpY2UoYSwxKTtyZXR1cm4gdGhpc30sZm9jdXM6ZnVuY3Rpb24oYSl7ZT1hO3JldHVybiB0aGlzfSxcbmNvbW1pdDpmdW5jdGlvbigpe3ZhciBmPWEuZm9jdXNlZCE9PWUsaCxnO2EuZWRpdG9yLmZpcmUoXCJsb2NrU25hcHNob3RcIik7Zm9yKGYmJihoPWEuZm9jdXNlZCkmJnQoYSxoKTtoPWQucG9wKCk7KWIuc3BsaWNlKENLRURJVE9SLnRvb2xzLmluZGV4T2YoYixoKSwxKSxoLmlzSW5pdGVkKCkmJihnPWguZWRpdG9yLmNoZWNrRGlydHkoKSxoLnNldFNlbGVjdGVkKCExKSwhZyYmaC5lZGl0b3IucmVzZXREaXJ0eSgpKTtmJiZlJiYoZz1hLmVkaXRvci5jaGVja0RpcnR5KCksYS5mb2N1c2VkPWUsYS5maXJlKFwid2lkZ2V0Rm9jdXNlZFwiLHt3aWRnZXQ6ZX0pLGUuc2V0Rm9jdXNlZCghMCksIWcmJmEuZWRpdG9yLnJlc2V0RGlydHkoKSk7Zm9yKDtoPWMucG9wKCk7KWIucHVzaChoKSxoLnNldFNlbGVjdGVkKCEwKTthLmVkaXRvci5maXJlKFwidW5sb2NrU25hcHNob3RcIil9fX1mdW5jdGlvbiBBKGEsYixjKXt2YXIgZD0wO2I9QihiKTt2YXIgZT1hLmRhdGEuY2xhc3Nlc3x8e30sZjtpZihiKXtmb3IoZT1cbkNLRURJVE9SLnRvb2xzLmNsb25lKGUpO2Y9Yi5wb3AoKTspYz9lW2ZdfHwoZD1lW2ZdPTEpOmVbZl0mJihkZWxldGUgZVtmXSxkPTEpO2QmJmEuc2V0RGF0YShcImNsYXNzZXNcIixlKX19ZnVuY3Rpb24gQyhhKXthLmNhbmNlbCgpfWZ1bmN0aW9uIHkoYSxiKXt2YXIgYz1hLmVkaXRvcixkPWMuZG9jdW1lbnQ7aWYoIWQuZ2V0QnlJZChcImNrZV9jb3B5YmluXCIpKXt2YXIgZT1jLmJsb2NrbGVzc3x8Q0tFRElUT1IuZW52LmllP1wic3BhblwiOlwiZGl2XCIsZj1kLmNyZWF0ZUVsZW1lbnQoZSksaD1kLmNyZWF0ZUVsZW1lbnQoZSksZT1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb247aC5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9jb3B5YmluXCIsXCJkYXRhLWNrZS10ZW1wXCI6XCIxXCJ9KTtmLnNldFN0eWxlcyh7cG9zaXRpb246XCJhYnNvbHV0ZVwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0OlwiMXB4XCIsb3ZlcmZsb3c6XCJoaWRkZW5cIn0pO2Yuc2V0U3R5bGUoXCJsdHJcIj09Yy5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uP1xuXCJsZWZ0XCI6XCJyaWdodFwiLFwiLTUwMDBweFwiKTt2YXIgZz1jLmNyZWF0ZVJhbmdlKCk7Zy5zZXRTdGFydEJlZm9yZShhLndyYXBwZXIpO2cuc2V0RW5kQWZ0ZXIoYS53cmFwcGVyKTtmLnNldEh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLXN0YXJ0XFx4M2RcIjFcIlxceDNl4oCLXFx4M2Mvc3BhblxceDNlJytjLmVkaXRhYmxlKCkuZ2V0SHRtbEZyb21SYW5nZShnKS5nZXRIdG1sKCkrJ1xceDNjc3BhbiBkYXRhLWNrZS1jb3B5YmluLWVuZFxceDNkXCIxXCJcXHgzZeKAi1xceDNjL3NwYW5cXHgzZScpO2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtjLmZpcmUoXCJsb2NrU25hcHNob3RcIik7aC5hcHBlbmQoZik7Yy5lZGl0YWJsZSgpLmFwcGVuZChoKTt2YXIgaz1jLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsQyxudWxsLG51bGwsMCksbT1hLnJlcG9zaXRvcnkub24oXCJjaGVja1NlbGVjdGlvblwiLEMsbnVsbCxudWxsLDApO2lmKGUpdmFyIG49ZC5nZXREb2N1bWVudEVsZW1lbnQoKS4kLHA9bi5zY3JvbGxUb3A7Zz1jLmNyZWF0ZVJhbmdlKCk7XG5nLnNlbGVjdE5vZGVDb250ZW50cyhmKTtnLnNlbGVjdCgpO2UmJihuLnNjcm9sbFRvcD1wKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Ynx8YS5mb2N1cygpO2gucmVtb3ZlKCk7ay5yZW1vdmVMaXN0ZW5lcigpO20ucmVtb3ZlTGlzdGVuZXIoKTtjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTtiJiYoYS5yZXBvc2l0b3J5LmRlbChhKSxjLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfSwxMDApfX1mdW5jdGlvbiBCKGEpe3JldHVybihhPShhPWEuZ2V0RGVmaW5pdGlvbigpLmF0dHJpYnV0ZXMpJiZhW1wiY2xhc3NcIl0pP2Euc3BsaXQoL1xccysvKTpudWxsfWZ1bmN0aW9uIEQoKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSxiPXRoaXMuZWRpdG9yLGM9Yi5lZGl0YWJsZSgpOyhjLmlzSW5saW5lKCk/YzpiLmRvY3VtZW50LmdldFdpbmRvdygpLmdldEZyYW1lKCkpLmVxdWFscyhhKSYmYi5mb2N1c01hbmFnZXIuZm9jdXMoYyl9ZnVuY3Rpb24gRSgpe0NLRURJVE9SLmVudi5nZWNrbyYmXG50aGlzLmVkaXRvci51bmxvY2tTZWxlY3Rpb24oKTtDS0VESVRPUi5lbnYud2Via2l0fHwodGhpcy5lZGl0b3IuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2soKSx0aGlzLmVkaXRvci5zZWxlY3Rpb25DaGFuZ2UoMSkpfWZ1bmN0aW9uIFYoYSl7dmFyIGI9bnVsbDthLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kYXRhLmNsYXNzZXMsZDtpZihiIT1hKXtmb3IoZCBpbiBiKWEmJmFbZF18fHRoaXMucmVtb3ZlQ2xhc3MoZCk7Zm9yKGQgaW4gYSl0aGlzLmFkZENsYXNzKGQpO2I9YX19KX1mdW5jdGlvbiBXKGEpe2Eub24oXCJkYXRhXCIsZnVuY3Rpb24oKXtpZihhLndyYXBwZXIpe3ZhciBiPXRoaXMuZ2V0TGFiZWw/dGhpcy5nZXRMYWJlbCgpOnRoaXMuZWRpdG9yLmxhbmcud2lkZ2V0LmxhYmVsLnJlcGxhY2UoLyUxLyx0aGlzLnBhdGhOYW1lfHx0aGlzLmVsZW1lbnQuZ2V0TmFtZSgpKTthLndyYXBwZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpO2Eud3JhcHBlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXG5iKX19LG51bGwsbnVsbCw5OTk5KX1mdW5jdGlvbiBYKGEpe2lmKGEuZHJhZ2dhYmxlKXt2YXIgYj1hLmVkaXRvcixjPWEud3JhcHBlci5nZXRMYXN0KGcuaXNEb21EcmFnSGFuZGxlckNvbnRhaW5lciksZDtjP2Q9Yy5maW5kT25lKFwiaW1nXCIpOihjPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIixiLmRvY3VtZW50KSxjLnNldEF0dHJpYnV0ZXMoe1wiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlcl9jb250YWluZXJcIixzdHlsZTpcImJhY2tncm91bmQ6cmdiYSgyMjAsMjIwLDIyMCwwLjUpO2JhY2tncm91bmQtaW1hZ2U6dXJsKFwiK2IucGx1Z2lucy53aWRnZXQucGF0aCtcImltYWdlcy9oYW5kbGUucG5nKVwifSksZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJpbWdcIixiLmRvY3VtZW50KSxkLnNldEF0dHJpYnV0ZXMoe1wiY2xhc3NcIjpcImNrZV9yZXNldCBja2Vfd2lkZ2V0X2RyYWdfaGFuZGxlclwiLFwiZGF0YS1ja2Utd2lkZ2V0LWRyYWctaGFuZGxlclwiOlwiMVwiLFxuc3JjOkNLRURJVE9SLnRvb2xzLnRyYW5zcGFyZW50SW1hZ2VEYXRhLHdpZHRoOjE1LHRpdGxlOmIubGFuZy53aWRnZXQubW92ZSxoZWlnaHQ6MTUscm9sZTpcInByZXNlbnRhdGlvblwifSksYS5pbmxpbmUmJmQuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsXCJ0cnVlXCIpLGMuYXBwZW5kKGQpLGEud3JhcHBlci5hcHBlbmQoYykpO2Eud3JhcHBlci5vbihcImRyYWdvdmVyXCIsZnVuY3Rpb24oYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KTthLndyYXBwZXIub24oXCJtb3VzZWVudGVyXCIsYS51cGRhdGVEcmFnSGFuZGxlclBvc2l0aW9uLGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLm9uKFwiZGF0YVwiLGEudXBkYXRlRHJhZ0hhbmRsZXJQb3NpdGlvbixhKX0sNTApO2lmKCFhLmlubGluZSYmKGQub24oXCJtb3VzZWRvd25cIixZLGEpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbikpZC5vbihcImRyYWdzdGFydFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCl9KTtcbmEuZHJhZ0hhbmRsZXJDb250YWluZXI9Y319ZnVuY3Rpb24gWShhKXtmdW5jdGlvbiBiKCl7dmFyIGI7Zm9yKHEucmVzZXQoKTtiPWcucG9wKCk7KWIucmVtb3ZlTGlzdGVuZXIoKTt2YXIgYz1rO2I9YS5zZW5kZXI7dmFyIGQ9dGhpcy5yZXBvc2l0b3J5LmZpbmRlcixlPXRoaXMucmVwb3NpdG9yeS5saW5lcixmPXRoaXMuZWRpdG9yLGg9dGhpcy5lZGl0b3IuZWRpdGFibGUoKTtDS0VESVRPUi50b29scy5pc0VtcHR5KGUudmlzaWJsZSl8fChjPWQuZ2V0UmFuZ2UoY1swXSksdGhpcy5mb2N1cygpLGYuZmlyZShcImRyb3BcIix7ZHJvcFJhbmdlOmMsdGFyZ2V0OmMuc3RhcnRDb250YWluZXJ9KSk7aC5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZHJhZ2dpbmdcIik7ZS5oaWRlVmlzaWJsZSgpO2YuZmlyZShcImRyYWdlbmRcIix7dGFyZ2V0OmJ9KX12YXIgYz10aGlzLnJlcG9zaXRvcnkuZmluZGVyLGQ9dGhpcy5yZXBvc2l0b3J5LmxvY2F0b3IsZT10aGlzLnJlcG9zaXRvcnkubGluZXIsZj10aGlzLmVkaXRvcixcbmg9Zi5lZGl0YWJsZSgpLGc9W10saz1bXSxtLG47dGhpcy5yZXBvc2l0b3J5Ll8uZHJhZ2dlZFdpZGdldD10aGlzO3ZhciBwPWMuZ3JlZWR5U2VhcmNoKCkscT1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoNTAsZnVuY3Rpb24oKXttPWQubG9jYXRlKHApO2s9ZC5zb3J0KG4sMSk7ay5sZW5ndGgmJihlLnByZXBhcmUocCxtKSxlLnBsYWNlTGluZShrWzBdKSxlLmNsZWFudXAoKSl9KTtoLmFkZENsYXNzKFwiY2tlX3dpZGdldF9kcmFnZ2luZ1wiKTtnLnB1c2goaC5vbihcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGEpe249YS5kYXRhLiQuY2xpZW50WTtxLmlucHV0KCl9KSk7Zi5maXJlKFwiZHJhZ3N0YXJ0XCIse3RhcmdldDphLnNlbmRlcn0pO2cucHVzaChmLmRvY3VtZW50Lm9uY2UoXCJtb3VzZXVwXCIsYix0aGlzKSk7aC5pc0lubGluZSgpfHxnLnB1c2goQ0tFRElUT1IuZG9jdW1lbnQub25jZShcIm1vdXNldXBcIixiLHRoaXMpKX1mdW5jdGlvbiBaKGEpe3ZhciBiLGMsZD1hLmVkaXRhYmxlcztcbmEuZWRpdGFibGVzPXt9O2lmKGEuZWRpdGFibGVzKWZvcihiIGluIGQpYz1kW2JdLGEuaW5pdEVkaXRhYmxlKGIsXCJzdHJpbmdcIj09dHlwZW9mIGM/e3NlbGVjdG9yOmN9OmMpfWZ1bmN0aW9uIGFhKGEpe2lmKGEubWFzayl7dmFyIGI9YS53cmFwcGVyLmZpbmRPbmUoXCIuY2tlX3dpZGdldF9tYXNrXCIpO2J8fChiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImltZ1wiLGEuZWRpdG9yLmRvY3VtZW50KSxiLnNldEF0dHJpYnV0ZXMoe3NyYzpDS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSxcImNsYXNzXCI6XCJja2VfcmVzZXQgY2tlX3dpZGdldF9tYXNrXCJ9KSxhLndyYXBwZXIuYXBwZW5kKGIpKTthLm1hc2s9Yn19ZnVuY3Rpb24gYmEoYSl7aWYoYS5wYXJ0cyl7dmFyIGI9e30sYyxkO2ZvcihkIGluIGEucGFydHMpYz1hLndyYXBwZXIuZmluZE9uZShhLnBhcnRzW2RdKSxiW2RdPWM7YS5wYXJ0cz1ifX1mdW5jdGlvbiBOKGEsYil7Y2EoYSk7YmEoYSk7WihhKTthYShhKTtYKGEpO1xuVihhKTtXKGEpO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbilhLndyYXBwZXIub24oXCJkcmFnc3RhcnRcIixmdW5jdGlvbihiKXt2YXIgZD1iLmRhdGEuZ2V0VGFyZ2V0KCk7Zy5nZXROZXN0ZWRFZGl0YWJsZShhLGQpfHxhLmlubGluZSYmZy5pc0RvbURyYWdIYW5kbGVyKGQpfHxiLmRhdGEucHJldmVudERlZmF1bHQoKX0pO2Eud3JhcHBlci5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfbmV3XCIpO2EuZWxlbWVudC5hZGRDbGFzcyhcImNrZV93aWRnZXRfZWxlbWVudFwiKTthLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEua2V5Q29kZTtpZigxMz09YilhLmVkaXQoKTtlbHNle2lmKGI9PUNLRURJVE9SLkNUUkwrNjd8fGI9PUNLRURJVE9SLkNUUkwrODgpe3koYSxiPT1DS0VESVRPUi5DVFJMKzg4KTtyZXR1cm59aWYoYiBpbiBkYXx8Q0tFRElUT1IuQ1RSTCZifHxDS0VESVRPUi5BTFQmYilyZXR1cm59cmV0dXJuITF9LG51bGwsbnVsbCw5OTkpO2Eub24oXCJkb3VibGVjbGlja1wiLFxuZnVuY3Rpb24oYil7YS5lZGl0KCkmJmIuY2FuY2VsKCl9KTtpZihiLmRhdGEpYS5vbihcImRhdGFcIixiLmRhdGEpO2lmKGIuZWRpdClhLm9uKFwiZWRpdFwiLGIuZWRpdCl9ZnVuY3Rpb24gY2EoYSl7KGEud3JhcHBlcj1hLmVsZW1lbnQuZ2V0UGFyZW50KCkpLnNldEF0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1pZFwiLGEuaWQpfWZ1bmN0aW9uIHIoYSl7YS5lbGVtZW50LmRhdGEoXCJja2Utd2lkZ2V0LWRhdGFcIixlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoYS5kYXRhKSkpfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwid2lkZ2V0XCIse3JlcXVpcmVzOlwibGluZXV0aWxzLGNsaXBib2FyZCx3aWRnZXRzZWxlY3Rpb25cIixvbkxvYWQ6ZnVuY3Rpb24oKXtDS0VESVRPUi5hZGRDc3MoXCIuY2tlX3dpZGdldF93cmFwcGVye3Bvc2l0aW9uOnJlbGF0aXZlO291dGxpbmU6bm9uZX0uY2tlX3dpZGdldF9pbmxpbmV7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZWxlbWVudHtvdXRsaW5lOjJweCBzb2xpZCB5ZWxsb3c7Y3Vyc29yOmRlZmF1bHR9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlciAuY2tlX3dpZGdldF9lZGl0YWJsZXtvdXRsaW5lOjJweCBzb2xpZCB5ZWxsb3d9LmNrZV93aWRnZXRfd3JhcHBlci5ja2Vfd2lkZ2V0X2ZvY3VzZWRcXHgzZS5ja2Vfd2lkZ2V0X2VsZW1lbnQsLmNrZV93aWRnZXRfd3JhcHBlciAuY2tlX3dpZGdldF9lZGl0YWJsZS5ja2Vfd2lkZ2V0X2VkaXRhYmxlX2ZvY3VzZWR7b3V0bGluZToycHggc29saWQgI2FjZX0uY2tlX3dpZGdldF9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX3dpZGdldF9kcmFnX2hhbmRsZXJfY29udGFpbmVye3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjE1cHg7aGVpZ2h0OjA7ZGlzcGxheTpub25lO29wYWNpdHk6MC43NTt0cmFuc2l0aW9uOmhlaWdodCAwcyAwLjJzO2xpbmUtaGVpZ2h0OjB9LmNrZV93aWRnZXRfd3JhcHBlcjpob3ZlclxceDNlLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcntoZWlnaHQ6MTVweDt0cmFuc2l0aW9uOm5vbmV9LmNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lcjpob3ZlcntvcGFjaXR5OjF9aW1nLmNrZV93aWRnZXRfZHJhZ19oYW5kbGVye2N1cnNvcjptb3ZlO3dpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrZV93aWRnZXRfbWFza3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtkaXNwbGF5OmJsb2NrfS5ja2VfZWRpdGFibGUuY2tlX3dpZGdldF9kcmFnZ2luZywgLmNrZV9lZGl0YWJsZS5ja2Vfd2lkZ2V0X2RyYWdnaW5nICp7Y3Vyc29yOm1vdmUgIWltcG9ydGFudH1cIil9LFxuYmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLndpZGdldHM9bmV3IHAoYSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXt2YXIgYj1hLndpZGdldHMucmVnaXN0ZXJlZCxjLGQsZTtmb3IoZCBpbiBiKWM9YltkXSwoZT1jLmJ1dHRvbikmJmEudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGMubmFtZSwhMCkse2xhYmVsOmUsY29tbWFuZDpjLm5hbWUsdG9vbGJhcjpcImluc2VydCwxMFwifSk7UyhhKX19KTtwLnByb3RvdHlwZT17TUlOX1NFTEVDVElPTl9DSEVDS19JTlRFUlZBTDo1MDAsYWRkOmZ1bmN0aW9uKGEsYil7Yj1DS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShiKTtiLm5hbWU9YTtiLl89Yi5ffHx7fTt0aGlzLmVkaXRvci5maXJlKFwid2lkZ2V0RGVmaW5pdGlvblwiLGIpO2IudGVtcGxhdGUmJihiLnRlbXBsYXRlPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShiLnRlbXBsYXRlKSk7Tyh0aGlzLmVkaXRvcixiKTtQKHRoaXMsYik7cmV0dXJuIHRoaXMucmVnaXN0ZXJlZFthXT1cbmJ9LGFkZFVwY2FzdENhbGxiYWNrOmZ1bmN0aW9uKGEpe3RoaXMuXy51cGNhc3RDYWxsYmFja3MucHVzaChhKX0sY2hlY2tTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSxiPWEuZ2V0U2VsZWN0ZWRFbGVtZW50KCksYz16KHRoaXMpLGQ7aWYoYiYmKGQ9dGhpcy5nZXRCeUVsZW1lbnQoYiwhMCkpKXJldHVybiBjLmZvY3VzKGQpLnNlbGVjdChkKS5jb21taXQoKTthPWEuZ2V0UmFuZ2VzKClbMF07aWYoIWF8fGEuY29sbGFwc2VkKXJldHVybiBjLmNvbW1pdCgpO2E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYSk7Zm9yKGEuZXZhbHVhdG9yPWcuaXNEb21XaWRnZXRXcmFwcGVyO2I9YS5uZXh0KCk7KWMuc2VsZWN0KHRoaXMuZ2V0QnlFbGVtZW50KGIpKTtjLmNvbW1pdCgpfSxjaGVja1dpZGdldHM6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiY2hlY2tXaWRnZXRzXCIsQ0tFRElUT1IudG9vbHMuY29weShhfHx7fSkpfSxkZWw6ZnVuY3Rpb24oYSl7aWYodGhpcy5mb2N1c2VkPT09XG5hKXt2YXIgYj1hLmVkaXRvcixjPWIuY3JlYXRlUmFuZ2UoKSxkOyhkPWMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS53cmFwcGVyLCEwKSl8fChkPWMubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS53cmFwcGVyLCExKSk7ZCYmYi5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2NdKX1hLndyYXBwZXIucmVtb3ZlKCk7dGhpcy5kZXN0cm95KGEsITApfSxkZXN0cm95OmZ1bmN0aW9uKGEsYil7dGhpcy53aWRnZXRIb2xkaW5nRm9jdXNlZEVkaXRhYmxlPT09YSYmbih0aGlzLGEsbnVsbCxiKTthLmRlc3Ryb3koYik7ZGVsZXRlIHRoaXMuaW5zdGFuY2VzW2EuaWRdO3RoaXMuZmlyZShcImluc3RhbmNlRGVzdHJveWVkXCIsYSl9LGRlc3Ryb3lBbGw6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9dGhpcy5pbnN0YW5jZXM7aWYoYiYmIWEpe2Q9Yi5maW5kKFwiLmNrZV93aWRnZXRfd3JhcHBlclwiKTtmb3IodmFyIGU9ZC5jb3VudCgpLGY9MDtmPGU7KytmKShjPXRoaXMuZ2V0QnlFbGVtZW50KGQuZ2V0SXRlbShmKSxcbiEwKSkmJnRoaXMuZGVzdHJveShjKX1lbHNlIGZvcihkIGluIGUpYz1lW2RdLHRoaXMuZGVzdHJveShjLGEpfSxmaW5hbGl6ZUNyZWF0aW9uOmZ1bmN0aW9uKGEpeyhhPWEuZ2V0Rmlyc3QoKSkmJmcuaXNEb21XaWRnZXRXcmFwcGVyKGEpJiYodGhpcy5lZGl0b3IuaW5zZXJ0RWxlbWVudChhKSxhPXRoaXMuZ2V0QnlFbGVtZW50KGEpLGEucmVhZHk9ITAsYS5maXJlKFwicmVhZHlcIiksYS5mb2N1cygpKX0sZ2V0QnlFbGVtZW50OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5pcyhiKSYmYS5kYXRhKFwiY2tlLXdpZGdldC1pZFwiKX12YXIgYj17ZGl2OjEsc3BhbjoxfTtyZXR1cm4gZnVuY3Rpb24oYixkKXtpZighYilyZXR1cm4gbnVsbDt2YXIgZT1hKGIpO2lmKCFkJiYhZSl7dmFyIGY9dGhpcy5lZGl0b3IuZWRpdGFibGUoKTtkbyBiPWIuZ2V0UGFyZW50KCk7d2hpbGUoYiYmIWIuZXF1YWxzKGYpJiYhKGU9YShiKSkpfXJldHVybiB0aGlzLmluc3RhbmNlc1tlXXx8bnVsbH19KCksXG5pbml0T246ZnVuY3Rpb24oYSxiLGMpe2I/XCJzdHJpbmdcIj09dHlwZW9mIGImJihiPXRoaXMucmVnaXN0ZXJlZFtiXSk6Yj10aGlzLnJlZ2lzdGVyZWRbYS5kYXRhKFwid2lkZ2V0XCIpXTtpZighYilyZXR1cm4gbnVsbDt2YXIgZD10aGlzLndyYXBFbGVtZW50KGEsYi5uYW1lKTtyZXR1cm4gZD9kLmhhc0NsYXNzKFwiY2tlX3dpZGdldF9uZXdcIik/KGE9bmV3IGcodGhpcyx0aGlzLl8ubmV4dElkKyssYSxiLGMpLGEuaXNJbml0ZWQoKT90aGlzLmluc3RhbmNlc1thLmlkXT1hOm51bGwpOnRoaXMuZ2V0QnlFbGVtZW50KGEpOm51bGx9LGluaXRPbkFsbDpmdW5jdGlvbihhKXthPShhfHx0aGlzLmVkaXRvci5lZGl0YWJsZSgpKS5maW5kKFwiLmNrZV93aWRnZXRfbmV3XCIpO2Zvcih2YXIgYj1bXSxjLGQ9YS5jb3VudCgpO2QtLTspKGM9dGhpcy5pbml0T24oYS5nZXRJdGVtKGQpLmdldEZpcnN0KGcuaXNEb21XaWRnZXRFbGVtZW50KSkpJiZiLnB1c2goYyk7cmV0dXJuIGJ9LG9uV2lkZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPVxuQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtiLnNoaWZ0KCk7Zm9yKHZhciBjIGluIHRoaXMuaW5zdGFuY2VzKXt2YXIgZD10aGlzLmluc3RhbmNlc1tjXTtkLm5hbWU9PWEmJmQub24uYXBwbHkoZCxiKX10aGlzLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oZCl7ZD1kLmRhdGE7ZC5uYW1lPT1hJiZkLm9uLmFwcGx5KGQsYil9KX0scGFyc2VFbGVtZW50Q2xhc3NlczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm4gbnVsbDthPUNLRURJVE9SLnRvb2xzLnRyaW0oYSkuc3BsaXQoL1xccysvKTtmb3IodmFyIGIsYz17fSxkPTA7Yj1hLnBvcCgpOyktMT09Yi5pbmRleE9mKFwiY2tlX1wiKSYmKGNbYl09ZD0xKTtyZXR1cm4gZD9jOm51bGx9LHdyYXBFbGVtZW50OmZ1bmN0aW9uKGEsYil7dmFyIGM9bnVsbCxkLGU7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50KXtiPWJ8fGEuZGF0YShcIndpZGdldFwiKTtkPXRoaXMucmVnaXN0ZXJlZFtiXTtpZighZClyZXR1cm4gbnVsbDtcbmlmKChjPWEuZ2V0UGFyZW50KCkpJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYy5kYXRhKFwiY2tlLXdpZGdldC13cmFwcGVyXCIpKXJldHVybiBjO2EuaGFzQXR0cmlidXRlKFwiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiKXx8YS5kYXRhKFwiY2tlLXdpZGdldC1rZWVwLWF0dHJcIixhLmRhdGEoXCJ3aWRnZXRcIik/MTowKTthLmRhdGEoXCJ3aWRnZXRcIixiKTtlPXgoZCxhLmdldE5hbWUoKSk7Yz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZT9cInNwYW5cIjpcImRpdlwiKTtjLnNldEF0dHJpYnV0ZXModihlLGIpKTtjLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIsZC5wYXRoTmFtZT9kLnBhdGhOYW1lOmEuZ2V0TmFtZSgpKTthLmdldFBhcmVudCghMCkmJmMucmVwbGFjZShhKTthLmFwcGVuZFRvKGMpfWVsc2UgaWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCl7Yj1ifHxhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXTtkPXRoaXMucmVnaXN0ZXJlZFtiXTtcbmlmKCFkKXJldHVybiBudWxsO2lmKChjPWEucGFyZW50KSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmMuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdKXJldHVybiBjO1wiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiaW4gYS5hdHRyaWJ1dGVzfHwoYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utd2lkZ2V0LWtlZXAtYXR0clwiXT1hLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXT8xOjApO2ImJihhLmF0dHJpYnV0ZXNbXCJkYXRhLXdpZGdldFwiXT1iKTtlPXgoZCxhLm5hbWUpO2M9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChlP1wic3BhblwiOlwiZGl2XCIsdihlLGIpKTtjLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1kaXNwbGF5LW5hbWVcIl09ZC5wYXRoTmFtZT9kLnBhdGhOYW1lOmEubmFtZTtkPWEucGFyZW50O3ZhciBmO2QmJihmPWEuZ2V0SW5kZXgoKSxhLnJlbW92ZSgpKTtjLmFkZChhKTtkJiZ3KGQsZixjKX1yZXR1cm4gY30sX3Rlc3RzX2NyZWF0ZUVkaXRhYmxlRmlsdGVyOnV9O1xuQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24ocC5wcm90b3R5cGUpO2cucHJvdG90eXBlPXthZGRDbGFzczpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoYSk7dGhpcy53cmFwcGVyLmFkZENsYXNzKGcuV1JBUFBFUl9DTEFTU19QUkVGSVgrYSl9LGFwcGx5U3R5bGU6ZnVuY3Rpb24oYSl7QSh0aGlzLGEsMSl9LGNoZWNrU3R5bGVBY3RpdmU6ZnVuY3Rpb24oYSl7YT1CKGEpO3ZhciBiO2lmKCFhKXJldHVybiExO2Zvcig7Yj1hLnBvcCgpOylpZighdGhpcy5oYXNDbGFzcyhiKSlyZXR1cm4hMTtyZXR1cm4hMH0sZGVzdHJveTpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJkZXN0cm95XCIpO2lmKHRoaXMuZWRpdGFibGVzKWZvcih2YXIgYiBpbiB0aGlzLmVkaXRhYmxlcyl0aGlzLmRlc3Ryb3lFZGl0YWJsZShiLGEpO2F8fChcIjBcIj09dGhpcy5lbGVtZW50LmRhdGEoXCJja2Utd2lkZ2V0LWtlZXAtYXR0clwiKSYmdGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtd2lkZ2V0XCIpLFxudGhpcy5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZXMoW1wiZGF0YS1ja2Utd2lkZ2V0LWRhdGFcIixcImRhdGEtY2tlLXdpZGdldC1rZWVwLWF0dHJcIl0pLHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcyhcImNrZV93aWRnZXRfZWxlbWVudFwiKSx0aGlzLmVsZW1lbnQucmVwbGFjZSh0aGlzLndyYXBwZXIpKTt0aGlzLndyYXBwZXI9bnVsbH0sZGVzdHJveUVkaXRhYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0YWJsZXNbYV07Yy5yZW1vdmVMaXN0ZW5lcihcImZvY3VzXCIsRSk7Yy5yZW1vdmVMaXN0ZW5lcihcImJsdXJcIixEKTt0aGlzLmVkaXRvci5mb2N1c01hbmFnZXIucmVtb3ZlKGMpO2J8fCh0aGlzLnJlcG9zaXRvcnkuZGVzdHJveUFsbCghMSxjKSxjLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZVwiKSxjLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGMucmVtb3ZlQXR0cmlidXRlcyhbXCJjb250ZW50ZWRpdGFibGVcIixcImRhdGEtY2tlLXdpZGdldC1lZGl0YWJsZVwiLFxuXCJkYXRhLWNrZS1lbnRlci1tb2RlXCJdKSk7ZGVsZXRlIHRoaXMuZWRpdGFibGVzW2FdfSxlZGl0OmZ1bmN0aW9uKCl7dmFyIGE9e2RpYWxvZzp0aGlzLmRpYWxvZ30sYj10aGlzO2lmKCExPT09dGhpcy5maXJlKFwiZWRpdFwiLGEpfHwhYS5kaWFsb2cpcmV0dXJuITE7dGhpcy5lZGl0b3Iub3BlbkRpYWxvZyhhLmRpYWxvZyxmdW5jdGlvbihhKXt2YXIgZCxlOyExIT09Yi5maXJlKFwiZGlhbG9nXCIsYSkmJihkPWEub24oXCJzaG93XCIsZnVuY3Rpb24oKXthLnNldHVwQ29udGVudChiKX0pLGU9YS5vbihcIm9rXCIsZnVuY3Rpb24oKXt2YXIgZCxlPWIub24oXCJkYXRhXCIsZnVuY3Rpb24oYSl7ZD0xO2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtiLmVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2EuY29tbWl0Q29udGVudChiKTtlLnJlbW92ZUxpc3RlbmVyKCk7ZCYmKGIuZmlyZShcImRhdGFcIixiLmRhdGEpLGIuZWRpdG9yLmZpcmUoXCJzYXZlU25hcHNob3RcIikpfSksYS5vbmNlKFwiaGlkZVwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVMaXN0ZW5lcigpO1xuZS5yZW1vdmVMaXN0ZW5lcigpfSkpfSk7cmV0dXJuITB9LGdldENsYXNzZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZXBvc2l0b3J5LnBhcnNlRWxlbWVudENsYXNzZXModGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpKX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWxlbWVudC5oYXNDbGFzcyhhKX0saW5pdEVkaXRhYmxlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5fZmluZE9uZU5vdE5lc3RlZChiLnNlbGVjdG9yKTtyZXR1cm4gYyYmYy5pcyhDS0VESVRPUi5kdGQuJGVkaXRhYmxlKT8oYz1uZXcgcSh0aGlzLmVkaXRvcixjLHtmaWx0ZXI6dS5jYWxsKHRoaXMucmVwb3NpdG9yeSx0aGlzLm5hbWUsYSxiKX0pLHRoaXMuZWRpdGFibGVzW2FdPWMsYy5zZXRBdHRyaWJ1dGVzKHtjb250ZW50ZWRpdGFibGU6XCJ0cnVlXCIsXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcIjphLFwiZGF0YS1ja2UtZW50ZXItbW9kZVwiOmMuZW50ZXJNb2RlfSksYy5maWx0ZXImJlxuYy5kYXRhKFwiY2tlLWZpbHRlclwiLGMuZmlsdGVyLmlkKSxjLmFkZENsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZVwiKSxjLnJlbW92ZUNsYXNzKFwiY2tlX3dpZGdldF9lZGl0YWJsZV9mb2N1c2VkXCIpLGIucGF0aE5hbWUmJmMuZGF0YShcImNrZS1kaXNwbGF5LW5hbWVcIixiLnBhdGhOYW1lKSx0aGlzLmVkaXRvci5mb2N1c01hbmFnZXIuYWRkKGMpLGMub24oXCJmb2N1c1wiLEUsdGhpcyksQ0tFRElUT1IuZW52LmllJiZjLm9uKFwiYmx1clwiLEQsdGhpcyksYy5fLmluaXRpYWxTZXREYXRhPSEwLGMuc2V0RGF0YShjLmdldEh0bWwoKSksITApOiExfSxfZmluZE9uZU5vdE5lc3RlZDpmdW5jdGlvbihhKXthPXRoaXMud3JhcHBlci5maW5kKGEpO2Zvcih2YXIgYixjLGQ9MDtkPGEuY291bnQoKTtkKyspaWYoYj1hLmdldEl0ZW0oZCksYz1iLmdldEFzY2VuZGFudChnLmlzRG9tV2lkZ2V0V3JhcHBlciksdGhpcy53cmFwcGVyLmVxdWFscyhjKSlyZXR1cm4gYjtyZXR1cm4gbnVsbH0saXNJbml0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hKCF0aGlzLndyYXBwZXJ8fFxuIXRoaXMuaW5pdGVkKX0saXNSZWFkeTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzSW5pdGVkKCkmJnRoaXMucmVhZHl9LGZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lZGl0b3IuZ2V0U2VsZWN0aW9uKCk7aWYoYSl7dmFyIGI9dGhpcy5lZGl0b3IuY2hlY2tEaXJ0eSgpO2EuZmFrZSh0aGlzLndyYXBwZXIpOyFiJiZ0aGlzLmVkaXRvci5yZXNldERpcnR5KCl9dGhpcy5lZGl0b3IuZm9jdXMoKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKGEpO3RoaXMud3JhcHBlci5yZW1vdmVDbGFzcyhnLldSQVBQRVJfQ0xBU1NfUFJFRklYK2EpfSxyZW1vdmVTdHlsZTpmdW5jdGlvbihhKXtBKHRoaXMsYSwwKX0sc2V0RGF0YTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZGF0YSxkPTA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpY1thXSE9PWImJihjW2FdPWIsZD0xKTtlbHNle3ZhciBlPWE7Zm9yKGEgaW4gZSljW2FdIT09ZVthXSYmKGQ9MSxjW2FdPVxuZVthXSl9ZCYmdGhpcy5kYXRhUmVhZHkmJihyKHRoaXMpLHRoaXMuZmlyZShcImRhdGFcIixjKSk7cmV0dXJuIHRoaXN9LHNldEZvY3VzZWQ6ZnVuY3Rpb24oYSl7dGhpcy53cmFwcGVyW2E/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJja2Vfd2lkZ2V0X2ZvY3VzZWRcIik7dGhpcy5maXJlKGE/XCJmb2N1c1wiOlwiYmx1clwiKTtyZXR1cm4gdGhpc30sc2V0U2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7dGhpcy53cmFwcGVyW2E/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oXCJja2Vfd2lkZ2V0X3NlbGVjdGVkXCIpO3RoaXMuZmlyZShhP1wic2VsZWN0XCI6XCJkZXNlbGVjdFwiKTtyZXR1cm4gdGhpc30sdXBkYXRlRHJhZ0hhbmRsZXJQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWRpdG9yLGI9dGhpcy5lbGVtZW50LiQsYz10aGlzLl8uZHJhZ0hhbmRsZXJPZmZzZXQsYj17eDpiLm9mZnNldExlZnQseTpiLm9mZnNldFRvcC0xNX07YyYmYi54PT1jLngmJmIueT09Yy55fHwoYz1hLmNoZWNrRGlydHkoKSxcbmEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSx0aGlzLmRyYWdIYW5kbGVyQ29udGFpbmVyLnNldFN0eWxlcyh7dG9wOmIueStcInB4XCIsbGVmdDpiLngrXCJweFwiLGRpc3BsYXk6XCJibG9ja1wifSksYS5maXJlKFwidW5sb2NrU25hcHNob3RcIiksIWMmJmEucmVzZXREaXJ0eSgpLHRoaXMuXy5kcmFnSGFuZGxlck9mZnNldD1iKX19O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGcucHJvdG90eXBlKTtnLmdldE5lc3RlZEVkaXRhYmxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWJ8fGIuZXF1YWxzKGEpP251bGw6Zy5pc0RvbU5lc3RlZEVkaXRhYmxlKGIpP2I6Zy5nZXROZXN0ZWRFZGl0YWJsZShhLGIuZ2V0UGFyZW50KCkpfTtnLmlzRG9tRHJhZ0hhbmRsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC1kcmFnLWhhbmRsZXJcIil9O2cuaXNEb21EcmFnSGFuZGxlckNvbnRhaW5lcj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1cbkNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV93aWRnZXRfZHJhZ19oYW5kbGVyX2NvbnRhaW5lclwiKX07Zy5pc0RvbU5lc3RlZEVkaXRhYmxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS13aWRnZXQtZWRpdGFibGVcIil9O2cuaXNEb21XaWRnZXRFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXdpZGdldFwiKX07Zy5pc0RvbVdpZGdldFdyYXBwZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCIpfTtnLmlzUGFyc2VyV2lkZ2V0RWxlbWVudD1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiEhYS5hdHRyaWJ1dGVzW1wiZGF0YS13aWRnZXRcIl19O1xuZy5pc1BhcnNlcldpZGdldFdyYXBwZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhIWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCJdfTtnLldSQVBQRVJfQ0xBU1NfUFJFRklYPVwiY2tlX3dpZGdldF93cmFwcGVyX1wiO3EucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi50b29scy5wcm90b3R5cGVkQ29weShDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUpLHtzZXREYXRhOmZ1bmN0aW9uKGEpe3RoaXMuXy5pbml0aWFsU2V0RGF0YXx8dGhpcy5lZGl0b3Iud2lkZ2V0cy5kZXN0cm95QWxsKCExLHRoaXMpO3RoaXMuXy5pbml0aWFsU2V0RGF0YT0hMTthPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9IdG1sKGEse2NvbnRleHQ6dGhpcy5nZXROYW1lKCksZmlsdGVyOnRoaXMuZmlsdGVyLGVudGVyTW9kZTp0aGlzLmVudGVyTW9kZX0pO3RoaXMuc2V0SHRtbChhKTt0aGlzLmVkaXRvci53aWRnZXRzLmluaXRPbkFsbCh0aGlzKX0sXG5nZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KHRoaXMuZ2V0SHRtbCgpLHtjb250ZXh0OnRoaXMuZ2V0TmFtZSgpLGZpbHRlcjp0aGlzLmZpbHRlcixlbnRlck1vZGU6dGhpcy5lbnRlck1vZGV9KX19KTt2YXIgVT0vXig/OjwoPzpkaXZ8c3BhbikoPzogZGF0YS1ja2UtdGVtcD1cIjFcIik/KD86IGlkPVwiY2tlX2NvcHliaW5cIik/KD86IGRhdGEtY2tlLXRlbXA9XCIxXCIpPz4pPyg/OjwoPzpkaXZ8c3BhbikoPzogc3R5bGU9XCJbXlwiXStcIik/Pik/PHNwYW4gW14+XSpkYXRhLWNrZS1jb3B5YmluLXN0YXJ0PVwiMVwiW14+XSo+Lj88XFwvc3Bhbj4oW1xcc1xcU10rKTxzcGFuIFtePl0qZGF0YS1ja2UtY29weWJpbi1lbmQ9XCIxXCJbXj5dKj4uPzxcXC9zcGFuPig/OjxcXC8oPzpkaXZ8c3Bhbik+KT8oPzo8XFwvKD86ZGl2fHNwYW4pPik/JC9pLGRhPXszNzoxLDM4OjEsMzk6MSw0MDoxLDg6MSw0NjoxfTsoZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7fVxuZnVuY3Rpb24gYihhLGIsYyl7cmV0dXJuIGMmJnRoaXMuY2hlY2tFbGVtZW50KGEpPyhhPWMud2lkZ2V0cy5nZXRCeUVsZW1lbnQoYSwhMCkpJiZhLmNoZWNrU3R5bGVBY3RpdmUodGhpcyk6ITF9dmFyIGM9e307Q0tFRElUT1Iuc3R5bGUuYWRkQ3VzdG9tSGFuZGxlcih7dHlwZTpcIndpZGdldFwiLHNldHVwOmZ1bmN0aW9uKGEpe3RoaXMud2lkZ2V0PWEud2lkZ2V0O2lmKHRoaXMuZ3JvdXA9XCJzdHJpbmdcIj09dHlwZW9mIGEuZ3JvdXA/W2EuZ3JvdXBdOmEuZ3JvdXApe2E9dGhpcy53aWRnZXQ7dmFyIGI7Y1thXXx8KGNbYV09e30pO2Zvcih2YXIgZj0wLGg9dGhpcy5ncm91cC5sZW5ndGg7ZjxoO2YrKyliPXRoaXMuZ3JvdXBbZl0sY1thXVtiXXx8KGNbYV1bYl09W10pLGNbYV1bYl0ucHVzaCh0aGlzKX19LGFwcGx5OmZ1bmN0aW9uKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3ImJnRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSYmKGI9YS53aWRnZXRzLmZvY3VzZWQsXG50aGlzLmdyb3VwJiZ0aGlzLnJlbW92ZVN0eWxlc0Zyb21TYW1lR3JvdXAoYSksYi5hcHBseVN0eWxlKHRoaXMpKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBDS0VESVRPUi5lZGl0b3ImJnRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSYmYS53aWRnZXRzLmZvY3VzZWQucmVtb3ZlU3R5bGUodGhpcyl9LHJlbW92ZVN0eWxlc0Zyb21TYW1lR3JvdXA6ZnVuY3Rpb24oYSl7dmFyIGIsZixoPSExO2lmKCEoYSBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRvcikpcmV0dXJuITE7Zj1hLmVsZW1lbnRQYXRoKCk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoZixhKSlmb3IodmFyIGc9MCxrPXRoaXMuZ3JvdXAubGVuZ3RoO2c8aztnKyspe2I9Y1t0aGlzLndpZGdldF1bdGhpcy5ncm91cFtnXV07Zm9yKHZhciBtPTA7bTxiLmxlbmd0aDttKyspYlttXSE9PXRoaXMmJmJbbV0uY2hlY2tBY3RpdmUoZixhKSYmKGEud2lkZ2V0cy5mb2N1c2VkLnJlbW92ZVN0eWxlKGJbbV0pLFxuaD0hMCl9cmV0dXJuIGh9LGNoZWNrQWN0aXZlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2hlY2tFbGVtZW50TWF0Y2goYS5sYXN0RWxlbWVudCwwLGIpfSxjaGVja0FwcGxpY2FibGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbnN0YW5jZW9mIENLRURJVE9SLmVkaXRvcj90aGlzLmNoZWNrRWxlbWVudChhLmxhc3RFbGVtZW50KTohMX0sY2hlY2tFbGVtZW50TWF0Y2g6YixjaGVja0VsZW1lbnRSZW1vdmFibGU6YixjaGVja0VsZW1lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGcuaXNEb21XaWRnZXRXcmFwcGVyKGEpPyhhPWEuZ2V0Rmlyc3QoZy5pc0RvbVdpZGdldEVsZW1lbnQpKSYmYS5kYXRhKFwid2lkZ2V0XCIpPT10aGlzLndpZGdldDohMX0sYnVpbGRQcmV2aWV3OmZ1bmN0aW9uKGEpe3JldHVybiBhfHx0aGlzLl8uZGVmaW5pdGlvbi5uYW1lfSx0b0FsbG93ZWRDb250ZW50UnVsZXM6ZnVuY3Rpb24oYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1hLndpZGdldHMucmVnaXN0ZXJlZFt0aGlzLndpZGdldF07XG52YXIgYixjPXt9O2lmKCFhKXJldHVybiBudWxsO2lmKGEuc3R5bGVhYmxlRWxlbWVudHMpe2I9dGhpcy5nZXRDbGFzc2VzQXJyYXkoKTtpZighYilyZXR1cm4gbnVsbDtjW2Euc3R5bGVhYmxlRWxlbWVudHNdPXtjbGFzc2VzOmIscHJvcGVydGllc09ubHk6ITB9O3JldHVybiBjfXJldHVybiBhLnN0eWxlVG9BbGxvd2VkQ29udGVudFJ1bGVzP2Euc3R5bGVUb0FsbG93ZWRDb250ZW50UnVsZXModGhpcyk6bnVsbH0sZ2V0Q2xhc3Nlc0FycmF5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmRlZmluaXRpb24uYXR0cmlidXRlcyYmdGhpcy5fLmRlZmluaXRpb24uYXR0cmlidXRlc1tcImNsYXNzXCJdO3JldHVybiBhP0NLRURJVE9SLnRvb2xzLnRyaW0oYSkuc3BsaXQoL1xccysvKTpudWxsfSxhcHBseVRvUmFuZ2U6YSxyZW1vdmVGcm9tUmFuZ2U6YSxhcHBseVRvT2JqZWN0OmF9KX0pKCk7Q0tFRElUT1IucGx1Z2lucy53aWRnZXQ9ZztnLnJlcG9zaXRvcnk9cDtnLm5lc3RlZEVkaXRhYmxlPXF9KSgpO0NLRURJVE9SLmNvbmZpZy5wbHVnaW5zPSdiYXNpY3N0eWxlcyxibG9ja3F1b3RlLG5vdGlmaWNhdGlvbixidXR0b24sdG9vbGJhcixjbGlwYm9hcmQsZW50ZXJrZXksaG9yaXpvbnRhbHJ1bGUsaW5kZW50LGluZGVudGJsb2NrLGluZGVudGxpc3QsanVzdGlmeSxsaXN0LHBhc3RlZnJvbXdvcmQscmVtb3ZlZm9ybWF0LHRhYix1bmRvLGxpbmV1dGlscyx3aWRnZXRzZWxlY3Rpb24sd2lkZ2V0JztDS0VESVRPUi5jb25maWcuc2tpbj0nbW9vbm8nOyhmdW5jdGlvbigpIHt2YXIgc2V0SWNvbnMgPSBmdW5jdGlvbihpY29ucywgc3RyaXApIHt2YXIgcGF0aCA9IENLRURJVE9SLmdldFVybCggJ3BsdWdpbnMvJyArIHN0cmlwICk7aWNvbnMgPSBpY29ucy5zcGxpdCggJywnICk7Zm9yICggdmFyIGkgPSAwOyBpIDwgaWNvbnMubGVuZ3RoOyBpKysgKUNLRURJVE9SLnNraW4uaWNvbnNbIGljb25zWyBpIF0gXSA9IHsgcGF0aDogcGF0aCwgb2Zmc2V0OiAtaWNvbnNbICsraSBdLCBiZ3NpemUgOiBpY29uc1sgKytpIF0gfTt9O2lmIChDS0VESVRPUi5lbnYuaGlkcGkpIHNldEljb25zKCdib2xkLDAsLGl0YWxpYywyNCwsc3RyaWtlLDQ4LCxzdWJzY3JpcHQsNzIsLHN1cGVyc2NyaXB0LDk2LCx1bmRlcmxpbmUsMTIwLCxibG9ja3F1b3RlLDE0NCwsY29weS1ydGwsMTY4LCxjb3B5LDE5MiwsY3V0LXJ0bCwyMTYsLGN1dCwyNDAsLHBhc3RlLXJ0bCwyNjQsLHBhc3RlLDI4OCwsaG9yaXpvbnRhbHJ1bGUsMzEyLCxpbmRlbnQtcnRsLDMzNiwsaW5kZW50LDM2MCwsb3V0ZGVudC1ydGwsMzg0LCxvdXRkZW50LDQwOCwsanVzdGlmeWJsb2NrLDQzMiwsanVzdGlmeWNlbnRlciw0NTYsLGp1c3RpZnlsZWZ0LDQ4MCwsanVzdGlmeXJpZ2h0LDUwNCwsYnVsbGV0ZWRsaXN0LXJ0bCw1MjgsLGJ1bGxldGVkbGlzdCw1NTIsLG51bWJlcmVkbGlzdC1ydGwsNTc2LCxudW1iZXJlZGxpc3QsNjAwLCxwYXN0ZWZyb213b3JkLXJ0bCw2MjQsLHBhc3RlZnJvbXdvcmQsNjQ4LCxyZW1vdmVmb3JtYXQsNjcyLCxyZWRvLXJ0bCw2OTYsLHJlZG8sNzIwLCx1bmRvLXJ0bCw3NDQsLHVuZG8sNzY4LCcsJ2ljb25zX2hpZHBpLnBuZycpO2Vsc2Ugc2V0SWNvbnMoJ2JvbGQsMCxhdXRvLGl0YWxpYywyNCxhdXRvLHN0cmlrZSw0OCxhdXRvLHN1YnNjcmlwdCw3MixhdXRvLHN1cGVyc2NyaXB0LDk2LGF1dG8sdW5kZXJsaW5lLDEyMCxhdXRvLGJsb2NrcXVvdGUsMTQ0LGF1dG8sY29weS1ydGwsMTY4LGF1dG8sY29weSwxOTIsYXV0byxjdXQtcnRsLDIxNixhdXRvLGN1dCwyNDAsYXV0byxwYXN0ZS1ydGwsMjY0LGF1dG8scGFzdGUsMjg4LGF1dG8saG9yaXpvbnRhbHJ1bGUsMzEyLGF1dG8saW5kZW50LXJ0bCwzMzYsYXV0byxpbmRlbnQsMzYwLGF1dG8sb3V0ZGVudC1ydGwsMzg0LGF1dG8sb3V0ZGVudCw0MDgsYXV0byxqdXN0aWZ5YmxvY2ssNDMyLGF1dG8sanVzdGlmeWNlbnRlciw0NTYsYXV0byxqdXN0aWZ5bGVmdCw0ODAsYXV0byxqdXN0aWZ5cmlnaHQsNTA0LGF1dG8sYnVsbGV0ZWRsaXN0LXJ0bCw1MjgsYXV0byxidWxsZXRlZGxpc3QsNTUyLGF1dG8sbnVtYmVyZWRsaXN0LXJ0bCw1NzYsYXV0byxudW1iZXJlZGxpc3QsNjAwLGF1dG8scGFzdGVmcm9td29yZC1ydGwsNjI0LGF1dG8scGFzdGVmcm9td29yZCw2NDgsYXV0byxyZW1vdmVmb3JtYXQsNjcyLGF1dG8scmVkby1ydGwsNjk2LGF1dG8scmVkbyw3MjAsYXV0byx1bmRvLXJ0bCw3NDQsYXV0byx1bmRvLDc2OCxhdXRvJywnaWNvbnMucG5nJyk7fSkoKTtDS0VESVRPUi5sYW5nLmxhbmd1YWdlcz17XCJhZlwiOjEsXCJzcVwiOjEsXCJhclwiOjEsXCJhelwiOjEsXCJldVwiOjEsXCJiblwiOjEsXCJic1wiOjEsXCJiZ1wiOjEsXCJjYVwiOjEsXCJ6aC1jblwiOjEsXCJ6aFwiOjEsXCJoclwiOjEsXCJjc1wiOjEsXCJkYVwiOjEsXCJubFwiOjEsXCJlblwiOjEsXCJlbi1hdVwiOjEsXCJlbi1jYVwiOjEsXCJlbi1nYlwiOjEsXCJlb1wiOjEsXCJldFwiOjEsXCJmb1wiOjEsXCJmaVwiOjEsXCJmclwiOjEsXCJmci1jYVwiOjEsXCJnbFwiOjEsXCJrYVwiOjEsXCJkZVwiOjEsXCJkZS1jaFwiOjEsXCJlbFwiOjEsXCJndVwiOjEsXCJoZVwiOjEsXCJoaVwiOjEsXCJodVwiOjEsXCJpc1wiOjEsXCJpZFwiOjEsXCJpdFwiOjEsXCJqYVwiOjEsXCJrbVwiOjEsXCJrb1wiOjEsXCJrdVwiOjEsXCJsdlwiOjEsXCJsdFwiOjEsXCJta1wiOjEsXCJtc1wiOjEsXCJtblwiOjEsXCJub1wiOjEsXCJuYlwiOjEsXCJvY1wiOjEsXCJmYVwiOjEsXCJwbFwiOjEsXCJwdC1iclwiOjEsXCJwdFwiOjEsXCJyb1wiOjEsXCJydVwiOjEsXCJzclwiOjEsXCJzci1sYXRuXCI6MSxcInNpXCI6MSxcInNrXCI6MSxcInNsXCI6MSxcImVzXCI6MSxcInN2XCI6MSxcInR0XCI6MSxcInRoXCI6MSxcInRyXCI6MSxcInVnXCI6MSxcInVrXCI6MSxcInZpXCI6MSxcImN5XCI6MX07fSgpKTsiLCJpbXBvcnQgJy4uLy4uL2xpYi9ja2VkaXRvci9ja2VkaXRvci5qcyc7XG5cbmltcG9ydCAqIGFzIEFsbG95RWRpdG9yIGZyb20gJy4uLy4uL3NyYy9hZGFwdGVyL21haW4uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB3aW5kb3cuQ0tFRElUT1IuZGlzYWJsZUF1dG9JbmxpbmUgPSB0cnVlO1xuICAgIHdpbmRvdy5BbGxveUVkaXRvciA9IEFsbG95RWRpdG9yO1xufVxuXG5leHBvcnQgeyBBbGxveUVkaXRvciB9O1xuZXhwb3J0IGRlZmF1bHQgQWxsb3lFZGl0b3I7XG4iLCJpbXBvcnQgJy4uL2NvcmUnO1xuaW1wb3J0ICcuLi9wbHVnaW5zJztcblxuaW1wb3J0ICcuLi9jb21wb25lbnRzL3VpYnJpZGdlL3VpYnJpZGdlLmpzJztcblxuaW1wb3J0IGV4dGVuZCBmcm9tICcuLi9vb3Avb29wJztcbmltcG9ydCBMYW5nIGZyb20gJy4uL29vcC9sYW5nJztcbmltcG9ydCBCYXNlIGZyb20gJy4uL29vcC9iYXNlJztcbmltcG9ydCBTZWxlY3Rpb25zIGZyb20gJy4uL3NlbGVjdGlvbnMvc2VsZWN0aW9ucyc7XG5pbXBvcnQgVUkgZnJvbSAnLi4vY29tcG9uZW50cy9tYWluLmpzeCc7XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLyoqXG4gKiBBbGxveUVkaXRvciBtYWluIGNsYXNzLiBDcmVhdGVzIGluc3RhbmNlIG9mIHRoZSBlZGl0b3IgYW5kIHByb3ZpZGVzIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb25cbiAqIHRvIHRoZSBVSS5cbiAqXG4gKiBAY2xhc3MgQ29yZVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIENvcmUoY29uZmlnKSB7XG4gICAgQ29yZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgY29uZmlnKTtcbn1cblxuZXh0ZW5kKENvcmUsIEJhc2UsIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplciBsaWZlY3ljbGUgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBBbGxveUVkaXRvciBjbGFzcy4gQ3JlYXRlcyBhIENLRWRpdG9yXG4gICAgICogaW5zdGFuY2UsIHBhc3NpbmcgaXQgdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24gYXR0cmlidXRlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgaW5pdGlhbGl6ZXJcbiAgICAgKiBAcGFyYW0gY29uZmlnIHtPYmplY3R9IENvbmZpZ3VyYXRpb24gb2JqZWN0IGxpdGVyYWwgZm9yIHRoZSBlZGl0b3IuXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZXI6IGZ1bmN0aW9uKGNvbmZpZykge1xuICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0KCdzcmNOb2RlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0KCdlbmFibGVDb250ZW50RWRpdGFibGUnKSkge1xuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsICd0cnVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZWRpdG9yID0gQ0tFRElUT1IuaW5saW5lKG5vZGUpO1xuXG4gICAgICAgIGVkaXRvci5jb25maWcuYWxsb3dlZENvbnRlbnQgPSB0aGlzLmdldCgnYWxsb3dlZENvbnRlbnQnKTtcblxuICAgICAgICBlZGl0b3IuY29uZmlnLnRvb2xiYXJzID0gdGhpcy5nZXQoJ3Rvb2xiYXJzJyk7XG5cbiAgICAgICAgZWRpdG9yLmNvbmZpZy5yZW1vdmVQbHVnaW5zID0gdGhpcy5nZXQoJ3JlbW92ZVBsdWdpbnMnKTtcbiAgICAgICAgZWRpdG9yLmNvbmZpZy5leHRyYVBsdWdpbnMgPSB0aGlzLmdldCgnZXh0cmFQbHVnaW5zJyk7XG4gICAgICAgIGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyA9IHRoaXMuZ2V0KCdwbGFjZWhvbGRlckNsYXNzJyk7XG5cbiAgICAgICAgZWRpdG9yLmNvbmZpZy5wYXN0ZUZyb21Xb3JkUmVtb3ZlU3R5bGVzID0gZmFsc2U7XG4gICAgICAgIGVkaXRvci5jb25maWcucGFzdGVGcm9tV29yZFJlbW92ZUZvbnRTdHlsZXMgPSBmYWxzZTtcblxuICAgICAgICBlZGl0b3IuY29uZmlnLnNlbGVjdGlvbktleXN0cm9rZXMgPSB0aGlzLmdldCgnc2VsZWN0aW9uS2V5c3Ryb2tlcycpO1xuXG4gICAgICAgIExhbmcubWl4KGVkaXRvci5jb25maWcsIGNvbmZpZyk7XG5cbiAgICAgICAgaWYgKENLRURJVE9SLmVudi5pZSAmJiAhQ0tFRElUT1IuZW52LmVkZ2UpIHtcbiAgICAgICAgICAgIGVkaXRvci5jb25maWcuZXh0cmFQbHVnaW5zID0gZWRpdG9yLmNvbmZpZy5leHRyYVBsdWdpbnMucmVwbGFjZSgnYWVfZHJhZ3Jlc2l6ZScsICdhZV9kcmFncmVzaXplX2llJyk7XG4gICAgICAgICAgICBlZGl0b3IuY29uZmlnLnJlbW92ZVBsdWdpbnMgPSBlZGl0b3IuY29uZmlnLnJlbW92ZVBsdWdpbnMucmVwbGFjZSgnYWVfZHJhZ3Jlc2l6ZScsICdhZV9kcmFncmVzaXplX2llJyk7XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB0aGlzLl9hZGRSZWFkT25seUxpbmtDbGlja0xpc3RlbmVyKGVkaXRvcik7XG5cbiAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICBlZGl0YWJsZS5hZGRDbGFzcygnYWUtZWRpdGFibGUnKTtcblxuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMuX2VkaXRvciA9IGVkaXRvcjtcblxuICAgICAgICBBbGxveUVkaXRvci5sb2FkTGFuZ3VhZ2VSZXNvdXJjZXModGhpcy5fcmVuZGVyVUkuYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlc3RydWN0b3IgbGlmZWN5Y2xlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgQWxsb3lFZHRvciBjbGFzcy4gRGVzdHJveXMgdGhlIENLRWRpdG9yXG4gICAgICogaW5zdGFuY2UgYW5kIGRlc3Ryb3lzIGFsbCBjcmVhdGVkIHRvb2xiYXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBkZXN0cnVjdG9yXG4gICAgICovXG4gICAgZGVzdHJ1Y3RvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2VkaXRvclVJRWxlbWVudCkge1xuICAgICAgICAgICAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSh0aGlzLl9lZGl0b3JVSUVsZW1lbnQpO1xuICAgICAgICAgICAgdGhpcy5fZWRpdG9yVUlFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fZWRpdG9yVUlFbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgaWYgKG5hdGl2ZUVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gbmF0aXZlRWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIGVkaXRhYmxlLnJlbW92ZUNsYXNzKCdhZS1lZGl0YWJsZScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0KCdlbmFibGVDb250ZW50RWRpdGFibGUnKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldCgnc3JjTm9kZScpLnNldEF0dHJpYnV0ZSgnY29udGVudGVkaXRhYmxlJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9jbGVhclNlbGVjdGlvbnMoKTtcblxuICAgICAgICAgICAgbmF0aXZlRWRpdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHNlbGVjdGlvbnMgZnJvbSB3aW5kb3cgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9jbGVhclNlbGVjdGlvbnNcbiAgICAgKi9cbiAgICBfY2xlYXJTZWxlY3Rpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUVkaXRvciA9IHRoaXMuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIGlzTVNTZWxlY3Rpb24gPSB0eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbiAhPSAnZnVuY3Rpb24nO1xuXG4gICAgICAgIGlmIChpc01TU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBuYXRpdmVFZGl0b3IuZG9jdW1lbnQuJC5zZWxlY3Rpb24uZW1wdHkoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5hdGl2ZUVkaXRvci5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBzZXQgZGVmYXVsdCBsaW5rIGJlaGF2aW9yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9hZGRSZWFkT25seUxpbmtDbGlja0xpc3RlbmVyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvclxuICAgICAqL1xuICAgIF9hZGRSZWFkT25seUxpbmtDbGlja0xpc3RlbmVyOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgZWRpdG9yLmVkaXRhYmxlKCkub24oJ2NsaWNrJywgdGhpcy5fZGVmYXVsdFJlYWRPbmx5Q2xpY2tGbiwgdGhpcywge1xuICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3JcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBvbiBgY2xpY2tgIGV2ZW50IHdoZW4gdGhlIGVkaXRvciBpcyBpbiByZWFkIG9ubHkgbW9kZS4gTmF2aWdhdGVzIHRvIGxpbmsncyBVUkwgb3Igb3BlbnNcbiAgICAgKiB0aGUgbGluayBpbiBhIG5ldyB3aW5kb3cuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBldmVudCByZWFkT25seUNsaWNrXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX2RlZmF1bHRSZWFkT25seUNsaWNrRm5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIGZpcmVkIGBjbGlja2AgZXZlbnQgcGF5bG9hZFxuICAgICAqL1xuICAgIF9kZWZhdWx0UmVhZE9ubHlDbGlja0ZuOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgbW91c2VFdmVudCA9IGV2ZW50LmRhdGEuJDtcbiAgICAgICAgdmFyIGhhc0N0cmxLZXkgPSBtb3VzZUV2ZW50LmN0cmxLZXkgfHwgbW91c2VFdmVudC5tZXRhS2V5O1xuICAgICAgICB2YXIgc2hvdWxkT3BlbiA9IHRoaXMuX2VkaXRvci5jb25maWcucmVhZE9ubHkgfHwgaGFzQ3RybEtleTtcblxuICAgICAgICBtb3VzZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFzaG91bGRPcGVuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvci5lZGl0YWJsZSgpLmVkaXRvci5maXJlKCdyZWFkT25seUNsaWNrJywgZXZlbnQuZGF0YSkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgY2tFbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChldmVudC5kYXRhLmdldFRhcmdldCgpLCB0aGlzKTtcbiAgICAgICAgICAgIHZhciBsaW5rID0gY2tFbGVtZW50Lmxhc3RFbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgIHZhciBocmVmID0gbGluay4kLmF0dHJpYnV0ZXMuaHJlZiA/IGxpbmsuJC5hdHRyaWJ1dGVzLmhyZWYudmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBoYXNDdHJsS2V5ID8gJ19ibGFuaycgOiBsaW5rLiQuYXR0cmlidXRlcy50YXJnZXQgPyBsaW5rLiQuYXR0cmlidXRlcy50YXJnZXQudmFsdWUgOiBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlZGlyZWN0TGluayhocmVmLCB0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgbmF0aXZlIENLRWRpdG9yIGluc3RhbmNlLiBIYXZpbmcgdGhpcywgdGhlIGRldmVsb3BlciBtYXkgdXNlIHRoZSBBUEkgb2YgQ0tFZGl0b3IgT09UQi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX2dldE5hdGl2ZUVkaXRvclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgQ0tFZGl0b3IuXG4gICAgICovXG4gICAgX2dldE5hdGl2ZUVkaXRvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3I7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlZGlyZWN0cyB0aGUgYnJvd3NlciB0byBhIGdpdmVuIGxpbmtcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX3JlZGlyZWN0TGlua1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBocmVmIFRoZSBocmVmIHRvIHRha2UgdGhlIGJyb3dzZXIgdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHRhcmdldCBTcGVjaWZpZXMgd2hlcmUgdG8gZGlzcGxheSB0aGUgbGlua1xuICAgICAqL1xuICAgIF9yZWRpcmVjdExpbms6IGZ1bmN0aW9uKGhyZWYsIHRhcmdldCkge1xuICAgICAgICBpZiAodGFyZ2V0ICYmIGhyZWYpIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKGhyZWYsIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaHJlZikge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBocmVmO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHNwZWNpZmllZCBmcm9tIHRoZSB1c2VyIHRvb2xiYXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfcmVuZGVyVUlcbiAgICAgKi9cbiAgICBfcmVuZGVyVUk6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgdmFyIGVkaXRvclVJRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZWRpdG9yVUlFbGVtZW50LmNsYXNzTmFtZSA9ICdhZS11aSc7XG5cbiAgICAgICAgICAgIHZhciB1aU5vZGUgPSB0aGlzLmdldCgndWlOb2RlJykgfHwgZG9jdW1lbnQuYm9keTtcblxuICAgICAgICAgICAgdWlOb2RlLmFwcGVuZENoaWxkKGVkaXRvclVJRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX21haW5VSSA9IFJlYWN0RE9NLnJlbmRlcig8VUlcbiAgICAgICAgICAgICAgICBlZGl0b3I9e3RoaXN9XG4gICAgICAgICAgICAgICAgZXZlbnRzRGVsYXk9e3RoaXMuZ2V0KCdldmVudHNEZWxheScpfVxuICAgICAgICAgICAgICAgIHRvb2xiYXJzPXt0aGlzLmdldCgndG9vbGJhcnMnKX0gLz4sIGVkaXRvclVJRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuX2VkaXRvclVJRWxlbWVudCA9IGVkaXRvclVJRWxlbWVudDtcblxuICAgICAgICAgICAgdGhpcy5nZXQoJ25hdGl2ZUVkaXRvcicpLmZpcmUoJ3VpUmVhZHknKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZnVuY3Rpb24gcmV0dXJucyBhbiBIVE1MIGVsZW1lbnQgZnJvbSB0aGUgcGFzc2VkIHZhbHVlLiBJZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGEgc3RyaW5nLCBpdCBzaG91bGQgYmVcbiAgICAgKiB0aGUgSWQgb2YgdGhlIGVsZW1lbnQgd2hpY2ggaGF2ZSB0byBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAqIElmIGFuIEhUTUwgRWxlbWVudCBpcyBwYXNzZWQsIHRoZSBlbGVtZW50IGl0c2VsZiB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWV0aG9kIF90b0VsZW1lbnRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHshKFN0cmluZ3xIVE1MRWxlbWVudCl9IHZhbHVlIFN0cmluZywgd2hpY2ggaGF2ZSB0byBjb3JyZXNwb25kIHRvIGFuIEhUTUwgZWxlbWVudCBmcm9tIHRoZSBET00sXG4gICAgICogb3IgdGhlIEhUTUwgZWxlbWVudCBpdHNlbGYuIElmIElkIGlzIHBhc3NlZCwgdGhlIEhUTUwgZWxlbWVudCB3aWxsIGJlIHJldHJpZXZlZCBmcm9tIHRoZSBET00uXG4gICAgICogQHJldHVybiB7SFRNTEVsZW1lbnR9IEFuIEhUTUwgZWxlbWVudC5cbiAgICAgKi9cbiAgICBfdG9FbGVtZW50OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAoTGFuZy5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgdGhlIGFsbG93ZWQgY29udGVudCBhdHRyaWJ1dGUuIExvb2tcbiAgICAgKiBbaGVyZV0oaHR0cDovL2RvY3MuY2tlZGl0b3IuY29tLyMhL2FwaS9DS0VESVRPUi5jb25maWctY2ZnLWFsbG93ZWRDb250ZW50KSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGVcbiAgICAgKiBzdXBwb3J0ZWQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfdmFsaWRhdGVBbGxvd2VkQ29udGVudFxuICAgICAqIEBwYXJhbSB7QW55fSBUaGUgdmFsdWUgdG8gYmUgY2hlY2tlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGN1cnJlbnQgdmFsdWUgaXMgdmFsaWQgY29uZmlndXJhdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgX3ZhbGlkYXRlQWxsb3dlZENvbnRlbnQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBMYW5nLmlzU3RyaW5nKHZhbHVlKSB8fCBMYW5nLmlzT2JqZWN0KHZhbHVlKSB8fCBMYW5nLmlzQm9vbGVhbih2YWx1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0aGUgdmFsdWUgb2YgdG9vbGJhcnMgYXR0cmlidXRlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF92YWxpZGF0ZVRvb2xiYXJzXG4gICAgICogQHBhcmFtIHtBbnl9IFRoZSB2YWx1ZSB0byBiZSBjaGVja2VkXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgY3VycmVudCB2YWx1ZSBpcyB2YWxpZCB0b29sYmFycyBjb25maWd1cmF0aW9uLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBfdmFsaWRhdGVUb29sYmFyczogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIExhbmcuaXNPYmplY3QodmFsdWUpIHx8IExhbmcuaXNOdWxsKHZhbHVlKTtcbiAgICB9XG59LCB7XG4gICAgQVRUUlM6IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyZXMgdGhlIGFsbG93ZWQgY29udGVudCBmb3IgdGhlIGN1cnJlbnQgaW5zdGFuY2Ugb2YgQWxsb3lFZGl0b3IuXG4gICAgICAgICAqIExvb2sgb24gdGhlIFtvZmZpY2lhbCBDS0VkaXRvciBBUEldKGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1IuY29uZmlnLWNmZy1hbGxvd2VkQ29udGVudClcbiAgICAgICAgICogZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHZhbGlkIHZhbHVlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBhbGxvd2VkQ29udGVudFxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW4sIFN0cmluZywgT2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgYWxsb3dlZENvbnRlbnQ6IHtcbiAgICAgICAgICAgIHZhbGlkYXRvcjogJ192YWxpZGF0ZUFsbG93ZWRDb250ZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB3aGV0aGVyIEFsbG95RWRpdG9yIHNldCB0aGUgY29udGVudGVkaXRhYmxlIGF0dHJpYnV0ZVxuICAgICAgICAgKiB0byBcInRydWVcIiBvbiBpdHMgc3JjTm9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBlbmFibGVDb250ZW50RWRpdGFibGVcbiAgICAgICAgICogQHR5cGUgQm9vbGVhblxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICovXG4gICAgICAgIGVuYWJsZUNvbnRlbnRFZGl0YWJsZToge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBMYW5nLmlzQm9vbGVhbixcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWxheSAodGltZW91dCksIGluIG1zLCBhZnRlciB3aGljaCBldmVudHMgc3VjaCBsaWtlIGtleSBvciBtb3VzZSBldmVudHMgd2lsbCBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgZXZlbnRzRGVsYXlcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGV2ZW50c0RlbGF5OiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IExhbmcuaXNOdW1iZXIsXG4gICAgICAgICAgICB2YWx1ZTogMTAwXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNwZWNpZmllcyB0aGUgZXh0cmEgcGx1Z2lucyB3aGljaCBoYXZlIHRvIGJlIGxvYWRlZCB0byB0aGUgY3VycmVudCBDS0VkaXRvciBpbnN0YW5jZSBpbiBvcmRlciB0b1xuICAgICAgICAgKiBtYWtlIEFsbG95RWRpdG9yIHRvIHdvcmsgcHJvcGVybHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgZXh0cmFQbHVnaW5zXG4gICAgICAgICAqIEBkZWZhdWx0ICd1aWNvcmUsc2VsZWN0aW9ucmVnaW9uLGRyYWdyZXNpemUsYWRkaW1hZ2VzLHBsYWNlaG9sZGVyLHRhYmxldG9vbHMsdGFibGVyZXNpemUsYXV0b2xpbmsnXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICogQHR5cGUge1N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIGV4dHJhUGx1Z2luczoge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuICAgICAgICAgICAgdmFsdWU6ICdhZV91aWNvcmUsYWVfc2VsZWN0aW9ucmVnaW9uLGFlX3NlbGVjdGlvbmtleXN0cm9rZXMsYWVfaW1hZ2VhbGlnbm1lbnQsYWVfYWRkaW1hZ2VzLGFlX3BsYWNlaG9sZGVyLCcgK1xuICAgICAgICAgICAgICAgICdhZV90YWJsZXRvb2xzLGFlX3RhYmxlcmVzaXplLGFlX2F1dG9saW5rLGFlX2VtYmVkLGFlX2F1dG9saXN0LGFlX2RyYWdyZXNpemUsJyArXG4gICAgICAgICAgICAgICAgJ2FlX3VpYnJpZGdlJyxcbiAgICAgICAgICAgICAgICAvLydhZV91aWJyaWRnZSxhZV9yaWNoY29tYm9icmlkZ2UsYWVfcGFuZWxtZW51YnV0dG9uYnJpZGdlLGFlX21lbnVicmlkZ2UsYWVfbWVudWJ1dHRvbmJyaWRnZSxhZV9idXR0b25icmlkZ2UnLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgbmF0aXZlIENLRWRpdG9yIGluc3RhbmNlLiBIYXZpbmcgdGhpcywgdGhlIGRldmVsb3BlciBtYXkgdXNlIHRoZSBmdWxsIEFQSSBvZiBDS0VkaXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBuYXRpdmVFZGl0b3JcbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBuYXRpdmVFZGl0b3I6IHtcbiAgICAgICAgICAgIGdldHRlcjogJ19nZXROYXRpdmVFZGl0b3InLFxuICAgICAgICAgICAgcmVhZE9ubHk6IHRydWVcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoZSBjbGFzcywgd2hpY2ggc2hvdWxkIGJlIGFkZGVkIGJ5IFBsYWNlaG9sZGVyIHBsdWdpblxuICAgICAgICAgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3BsYWNlaG9sZGVyfX17ey9jcm9zc0xpbmt9fVxuICAgICAgICAgKiB3aGVuIGVkaXRvciBpcyBub3QgZm9jdXNlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSBwbGFjZWhvbGRlckNsYXNzXG4gICAgICAgICAqIEBkZWZhdWx0ICdhZS1wbGFjZWhvbGRlcidcbiAgICAgICAgICogQHdyaXRlT25jZVxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgcGxhY2Vob2xkZXJDbGFzczoge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuICAgICAgICAgICAgdmFsdWU6ICdhZS1wbGFjZWhvbGRlcicsXG4gICAgICAgICAgICB3cml0ZU9uY2U6IHRydWVcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3BlY2lmaWVzIHRoZSBwbHVnaW5zLCB3aGljaCBjb21lIGJ5IGRlZmF1bHQgd2l0aCBDS0VkaXRvciwgYnV0IHdoaWNoIGFyZSBub3QgbmVlZGVkIGJ5IEFsbG95RWRpdG9yLlxuICAgICAgICAgKiBUaGVzZSBwbHVnaW5zIGFkZCB0aGUgZGVmYXVsdCBVSSBmb3IgQ0tlZGl0b3IsIHdoaWNoIGlzIG5vIG1vcmUgbmVlZGVkLiBQbGVhc2Ugbm90ZSB0aGF0IEFsbG95RWR0b3JcbiAgICAgICAgICogY29tZXMgd2l0aCBpdHMgb3duIGhpZ2hseSBvcHRpbWl6ZWQgY29weSBvZiBDS0VkaXRvciAoanVzdCBjdXN0b21pemVkIHZpYSB0aGVpciBvZmZpY2lhbCBkb3dubG9hZCBwYWdlKS5cbiAgICAgICAgICogVGhpcyB2ZXJzaW9uIGRvZXMgbm90IGNvbWUgd2l0aCB0aGUgdW5uZWVkZWQgcGx1Z2lucywgc28gdGhlIHZhbHVlIG9mIHRoaXMgcHJvcGVydHkgd29uJ3QgYmUgbmVlZGVkLlxuICAgICAgICAgKiBIb3dldmVyLCBpZiB5b3UgZGVjaWRlIHRvIGdvIHdpdGggdGhlIE9PVEIgdmVyc2lvbiBvZiBDS0VkaXRvciwgeW91IHdpbGwgaGF2ZSB0byByZW1vdmUgc29tZSBvZiB0aGVcbiAgICAgICAgICogcGx1Z2lucyBpZiB5b3UgZGVjaWRlIHRvIHVzZSBBbGxveUVkaXRvci4gS2VlcCBpbiBtaW5kIHRoYXQgcmVtb3ZpbmcgdGhlc2UgcGx1Z2lucyBkb2Vzbid0IHJlbW92ZSB0aGVtXG4gICAgICAgICAqIGVudGlyZWx5IGZyb20gQ0tFZGl0b3IuIEl0IGp1c3QgcmVtb3ZlcyB0aGVtIGZyb20gaXRzIGN1cnJlbnQgaW5zdGFuY2UsIGluIHdoaWNoIHlvdSB3aWxsIHVzZSBkaWZmZXJlbnRcbiAgICAgICAgICogVUkgLSB0aG9zZSBvZiBBbGxveUVkaXRvci4gWW91IHdpbGwgYmUgZnVsbHkgYWJsZSB0byB1c2UgYm90aCBPT1RCIENLRWRpdG9yIGFuZCBBbGxveUVkaXRvciBvbiB0aGUgc2FtZVxuICAgICAgICAgKiBwYWdlIVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHByb3BlcnR5IHJlbW92ZVBsdWdpbnNcbiAgICAgICAgICogQGRlZmF1bHQgJ2NvbnRleHRtZW51LHRvb2xiYXIsZWxlbWVudHNwYXRoLHJlc2l6ZSxsaXN0c3R5bGUsbGluaydcbiAgICAgICAgICogQHdyaXRlT25jZVxuICAgICAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlUGx1Z2luczoge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiBMYW5nLmlzU3RyaW5nLFxuICAgICAgICAgICAgdmFsdWU6ICdjb250ZXh0bWVudSx0b29sYmFyLGVsZW1lbnRzcGF0aCxyZXNpemUsbGlzdHN0eWxlLGxpbmsnLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFycmF5IG9mIG1hbnVhbCBzZWxlY3Rpb24gdHJpZ2dlcnMuIFRoZXkgY2FuIGJlIGNvbmZpZ3VyZWQgdG8gbWFudWFsbHkgc2hvdyBhIHNwZWNpZmljIHNlbGVjdGlvbiB0b29sYmFyXG4gICAgICAgICAqIGJ5IGZvcmNpbmcgdGhlIHNlbGVjdGlvbiB0eXBlLiBBIHNlbGVjdGlvbktleXN0cm9rZSBpdGVtIGNvbnNpc3RzIG9mIGEga2V5cyBwcm9wZXJ0eSB3aXRoIGEgW0NLRWRpdG9yIGtleXN0cm9rZVxuICAgICAgICAgKiBkZWZpbml0aW9uXShodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvYXBpL0NLRURJVE9SLmNvbmZpZy1jZmcta2V5c3Ryb2tlcykgYW5kIGEgc2VsZWN0aW9uIHByb3BlcnR5IHdpdGhcbiAgICAgICAgICogdGhlIHNlbGVjdGlvbiBuYW1lIHRvIHRyaWdnZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgc2VsZWN0aW9uS2V5c3Ryb2tlc1xuICAgICAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3Rpb25LZXlzdHJva2VzOiB7XG4gICAgICAgICAgICB2YWxpZGF0b3I6IExhbmcuaXNBcnJheSxcbiAgICAgICAgICAgIHZhbHVlOiBbe1xuICAgICAgICAgICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA3NiAvKkwqLyxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246ICdsaW5rJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyBDS0VESVRPUi5TSElGVCArIDc2IC8qTCovLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogJ2VtYmVkJ1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIE5vZGUgSUQgb3IgSFRNbCBub2RlLCB3aGljaCBBbGxveUVkaXRvciBzaG91bGQgdXNlIGFzIGFuIGVkaXRhYmxlIGFyZWEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXJvZiBDb3JlXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAcHJvcGVydHkgc3JjTm9kZVxuICAgICAgICAgKiBAdHlwZSBTdHJpbmcgfCBOb2RlXG4gICAgICAgICAqIEB3cml0ZU9uY2VcbiAgICAgICAgICovXG4gICAgICAgIHNyY05vZGU6IHtcbiAgICAgICAgICAgIHNldHRlcjogJ190b0VsZW1lbnQnLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0b29sYmFycyBjb25maWd1cmF0aW9uIGZvciB0aGlzIGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgQ29yZVxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQHByb3BlcnR5IHtPYmplY3R9IHRvb2xiYXJzXG4gICAgICAgICAqL1xuICAgICAgICB0b29sYmFyczoge1xuICAgICAgICAgICAgdmFsaWRhdG9yOiAnX3ZhbGlkYXRlVG9vbGJhcnMnLFxuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICBhZGQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uczogWydpbWFnZScsICdlbWJlZCcsICdjYW1lcmEnLCAnaGxpbmUnLCAndGFibGUnXSxcbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg6IDJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0eWxlczoge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25zOiBTZWxlY3Rpb25zLFxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIE5vZGUgSUQgb3IgSFRNbCBub2RlLCB3aGVyZSBBbGxveUVkaXRvcidzIFVJIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIENvcmVcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBwcm9wZXJ0eSB1aU5vZGVcbiAgICAgICAgICogQHR5cGUgU3RyaW5nIHwgTm9kZVxuICAgICAgICAgKiBAd3JpdGVPbmNlXG4gICAgICAgICAqL1xuICAgICAgICB1aU5vZGU6IHtcbiAgICAgICAgICAgIHNldHRlcjogJ190b0VsZW1lbnQnLFxuICAgICAgICAgICAgd3JpdGVPbmNlOiB0cnVlXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ29yZSk7XG5cbmV4cG9ydCBkZWZhdWx0IENvcmU7XG4iLCJpbXBvcnQgQ29yZSBmcm9tICcuL2NvcmUuanMnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi4vb29wL2xhbmcuanMnO1xuXG5pbXBvcnQgQnV0dG9ucyBmcm9tICcuLi9jb21wb25lbnRzL2J1dHRvbnMnO1xuaW1wb3J0IFRvb2xiYXJzIGZyb20gJy4uL2NvbXBvbmVudHMvdG9vbGJhcnMnO1xuXG5pbXBvcnQgU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzIGZyb20gJy4uL3NlbGVjdGlvbnMvc2VsZWN0aW9uLWFycm93Ym94JztcbmltcG9ydCBTZWxlY3Rpb25zIGZyb20gJy4uL3NlbGVjdGlvbnMvc2VsZWN0aW9ucyc7XG5pbXBvcnQgU2VsZWN0aW9uU2V0UG9zaXRpb24gZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb24tcG9zaXRpb24nO1xuaW1wb3J0IFNlbGVjdGlvblRlc3QgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb24tdGVzdCc7XG5cbmltcG9ydCBBdHRyaWJ1dGUgZnJvbSAnLi4vb29wL2F0dHJpYnV0ZSc7XG5pbXBvcnQgZXh0ZW5kIGZyb20gJy4uL29vcC9vb3AnO1xuXG4vLyBBbiBvYmplY3QgY29udGFpbmluZyBhbGwgY3VycmVudGx5IHJlZ2lzdGVyZWQgcGx1Z2lucyBpbiBBbGxveUVkaXRvci5cbnZhciBCUklER0VfQlVUVE9OUyA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgQWxsb3lFZGl0b3IuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGVkaXRhYmxlXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge1N0cmluZ3xOb2RlfSBub2RlIFRoZSBOb2RlIElEIG9yIEhUTWwgbm9kZSwgd2hpY2ggQWxsb3lFZGl0b3Igc2hvdWxkIHVzZSBhcyBhbiBlZGl0YWJsZSBhcmVhLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBDb25maWd1cmF0aW9uIGF0dHJpYnV0ZXMgZm9yIHRoZSBjdXJyZW50IGluc3RhbmNlIG9mIEFsbG95RWRpdG9yLlxuICogQHJldHVybiB7T2JqZWN0fSBBbiBpbnN0YW5jZSBvZiB7eyNjcm9zc0xpbmsgXCJDb3JlXCJ9fXt7L2Nyb3NzTGlua319XG4gKi9cbmNvbnN0IGVkaXRhYmxlID0gZnVuY3Rpb24obm9kZSwgY29uZmlnKSB7XG4gICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgIGNvbmZpZy5zcmNOb2RlID0gbm9kZTtcblxuICAgIEFsbG95RWRpdG9yLmltcGxlbWVudEV2ZW50VGFyZ2V0KCk7XG5cbiAgICByZXR1cm4gbmV3IENvcmUoY29uZmlnKTtcbn07XG5cbi8qKlxuICogVGhlIGZ1bGwgVVJMIGZvciB0aGUgQWxsb3lFZGl0b3IgaW5zdGFsbGF0aW9uIGRpcmVjdG9yeS5cbiAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hbnVhbGx5IHByb3ZpZGUgdGhlIGJhc2UgcGF0aCBieSBzZXR0aW5nIGFcbiAqIGdsb2JhbCB2YXJpYWJsZSBuYW1lZCBgQUxMT1lFRElUT1JfQkFTRVBBVEhgLiBUaGlzIGdsb2JhbCB2YXJpYWJsZVxuICogbXVzdCBiZSBzZXQgKipiZWZvcmUqKiB0aGUgZWRpdG9yIHNjcmlwdCBsb2FkaW5nLlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQG1ldGhvZCBnZXRCYXNlUGF0aFxuICogQHN0YXRpY1xuICogQHJldHVybiB7U3RyaW5nfSBUaGUgZm91bmQgYmFzZSBwYXRoXG4gKi9cbmNvbnN0IGdldEJhc2VQYXRoID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gRmluZCBvdXQgdGhlIGVkaXRvciBkaXJlY3RvcnkgcGF0aCwgYmFzZWQgb24gaXRzIDxzY3JpcHQ+IHRhZy5cbiAgICB2YXIgcGF0aCA9IHdpbmRvdy5BTExPWUVESVRPUl9CQVNFUEFUSCB8fCAnJztcblxuICAgIGlmICghcGF0aCkge1xuICAgICAgICB2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IHNjcmlwdHNbIGkgXS5zcmMubWF0Y2goQWxsb3lFZGl0b3IucmVnZXhCYXNlUGF0aCk7XG5cblxuICAgICAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IG1hdGNoWzFdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW4gSUUgKG9ubHkpIHRoZSBzY3JpcHQuc3JjIHN0cmluZyBpcyB0aGUgcmF3IHZhbHVlIGVudGVyZWQgaW4gdGhlXG4gICAgLy8gSFRNTCBzb3VyY2UuIE90aGVyIGJyb3dzZXJzIHJldHVybiB0aGUgZnVsbCByZXNvbHZlZCBVUkwgaW5zdGVhZC5cbiAgICBpZiAocGF0aC5pbmRleE9mKCc6LycpID09PSAtMSAmJiBwYXRoLnNsaWNlKDAsIDIpICE9PSAnLy8nICkge1xuICAgICAgICAvLyBBYnNvbHV0ZSBwYXRoLlxuICAgICAgICBpZiAocGF0aC5pbmRleE9mKCcvJykgPT09IDApIHtcbiAgICAgICAgICAgIHBhdGggPSBsb2NhdGlvbi5ocmVmLm1hdGNoKC9eLio/OlxcL1xcL1teXFwvXSovKVswXSArIHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVsYXRpdmUgcGF0aC5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gbG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0gKyBwYXRoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFwYXRoKXtcbiAgICAgICAgdGhyb3cgJ1RoZSBBbGxveUVkaXRvciBpbnN0YWxsYXRpb24gcGF0aCBjb3VsZCBub3QgYmUgYXV0b21hdGljYWxseSBkZXRlY3RlZC4gUGxlYXNlIHNldCB0aGUgZ2xvYmFsIHZhcmlhYmxlIFwiQUxMT1lFRElUT1JfQkFTRVBBVEhcIiBiZWZvcmUgY3JlYXRpbmcgZWRpdG9yIGluc3RhbmNlcy4nO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufTtcblxuLyoqXG4gKiBEZXRlY3RzIGFuZCBsb2FkIHRoZSBjb3JyZXNwb25kaW5nIGxhbmd1YWdlIGZpbGUgaWYgQWxsb3lFZGl0b3IgbGFuZ3VhZ2Ugc3RyaW5ncyBhcmUgbm90IGFscmVhZHkgcHJlc2VudC5cbiAqIFRoZSBmdW5jdGlvbiBmaXJlcyBhIHt7I2Nyb3NzTGluayBcIkFsbG95RWRpdG9yL2xhbmd1YWdlUmVzb3VyY2VzTG9hZGVkOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50XG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGxvYWRMYW5ndWFnZVJlc291cmNlc1xuICogQHN0YXRpY1xuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgT3B0aW9uYWwgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdoZW4gQWxsb3lFZGl0b3IgbG9hZHMgdGhlIGxhbmd1YWdlIHJlc291cmNlLlxuICovXG5jb25zdCBsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIEFsbG95RWRpdG9yLmltcGxlbWVudEV2ZW50VGFyZ2V0KCk7XG5cbiAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgICBpZiAoQWxsb3lFZGl0b3IuU3RyaW5ncykge1xuICAgICAgICAgICAgc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBbGxveUVkaXRvci5vbmNlKCdsYW5ndWFnZVJlc291cmNlc0xvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIUFsbG95RWRpdG9yLl9sYW5nUmVzb3VyY2VSZXF1ZXN0ZWQpIHtcbiAgICAgICAgQWxsb3lFZGl0b3IuX2xhbmdSZXNvdXJjZVJlcXVlc3RlZCA9IHRydWU7XG5cbiAgICAgICAgdmFyIGxhbmd1YWdlcyA9IFsnYWYnLCAnYXInLCAnYmcnLCAnYm4nLCAnYnMnLCAnY2EnLCAnY3MnLCAnY3knLCAnZGEnLCAnZGUnLCAnZWwnLCAnZW4tYXUnLCAnZW4tY2EnLCAnZW4tZ2InLCAnZW4nLCAnZW8nLCAnZXMnLCAnZXQnLCAnZXUnLCAnZmEnLCAnZmknLCAnZm8nLCAnZnItY2EnLCAnZnInLCAnZ2wnLCAnZ3UnLCAnaGUnLCAnaGknLCAnaHInLCAnaHUnLCAnaWQnLCAnaXMnLCAnaXQnLCAnamEnLCAna2EnLCAna20nLCAna28nLCAna3UnLCAnbHQnLCAnbHYnLCAnbWsnLCAnbW4nLCAnbXMnLCAnbmInLCAnbmwnLCAnbm8nLCAncGwnLCAncHQtYnInLCAncHQnLCAncm8nLCAncnUnLCAnc2knLCAnc2snLCAnc2wnLCAnc3EnLCAnc3ItbGF0bicsICdzcicsICdzdicsICd0aCcsICd0cicsICd0dCcsICd1ZycsICd1aycsICd2aScsICd6aC1jbicsICd6aCddO1xuXG4gICAgICAgIHZhciB1c2VyTGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3VhZ2UgfHwgbmF2aWdhdG9yLnVzZXJMYW5ndWFnZSB8fCAnZW4nO1xuXG4gICAgICAgIHZhciBwYXJ0cyA9IHVzZXJMYW5ndWFnZS50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oW2Etel0rKSg/Oi0oW2Etel0rKSk/Lyk7XG4gICAgICAgIHZhciBsYW5nID0gcGFydHNbMV07XG4gICAgICAgIHZhciBsb2NhbGUgPSBwYXJ0c1syXTtcblxuICAgICAgICBpZiAobGFuZ3VhZ2VzLmluZGV4T2YobGFuZyArICctJyArIGxvY2FsZSkgPj0gMCkge1xuICAgICAgICAgICAgbGFuZyA9IGxhbmcgKyAnLScgKyBsb2NhbGU7XG4gICAgICAgIH0gZWxzZSBpZiAobGFuZ3VhZ2VzLmluZGV4T2YobGFuZykgPT09IC0xKSB7XG4gICAgICAgICAgICBsYW5nID0gJ2VuJztcbiAgICAgICAgfVxuXG4gICAgICAgIENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKEFsbG95RWRpdG9yLmdldFVybCgnbGFuZy9hbGxveS1lZGl0b3IvJyArIGxhbmcgKyAnLmpzJyksIGZ1bmN0aW9uKGxvYWRlZCkge1xuICAgICAgICAgICAgaWYgKGxvYWRlZCkge1xuICAgICAgICAgICAgICAgIEFsbG95RWRpdG9yLmZpcmUoJ2xhbmd1YWdlUmVzb3VyY2VzTG9hZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn07XG5cbi8qKlxuICogR2V0cyB0aGUgZnVsbCBVUkwgZm9yIEFsbG95RWRpdG9yIHJlc291cmNlcy4gQnkgZGVmYXVsdCwgVVJMc1xuICogcmV0dXJuZWQgYnkgdGhpcyBmdW5jdGlvbiBjb250YWluIGEgcXVlcnlzdHJpbmcgcGFyYW1ldGVyIChcInRcIilcbiAqIHNldCB0byB0aGUge0BsaW5rIENLRURJVE9SI3RpbWVzdGFtcH0gdmFsdWUuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGdldFVybFxuICogQHN0YXRpY1xuICogQHBhcmFtIHtTdHJpbmd9IHJlc291cmNlIFRoZSByZXNvdXJjZSB3aG9zZSBmdWxsIFVSTCB3ZSB3YW50IHRvIGdldC5cbiAqIEl0IG1heSBiZSBhIGZ1bGwsIGFic29sdXRlLCBvciByZWxhdGl2ZSBVUkwuXG4gKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBmdWxsIFVSTC5cbiAqL1xuY29uc3QgZ2V0VXJsID0gZnVuY3Rpb24ocmVzb3VyY2UpIHtcbiAgICB2YXIgYmFzZVBhdGggPSBBbGxveUVkaXRvci5nZXRCYXNlUGF0aCgpO1xuXG4gICAgLy8gSWYgdGhpcyBpcyBub3QgYSBmdWxsIG9yIGFic29sdXRlIHBhdGguXG4gICAgaWYgKHJlc291cmNlLmluZGV4T2YoJzovJykgPT09IC0xICYmIHJlc291cmNlLmluZGV4T2YoJy8nKSAhPT0gMCkge1xuICAgICAgICByZXNvdXJjZSA9IGJhc2VQYXRoICsgcmVzb3VyY2U7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSB0aW1lc3RhbXAsIGV4Y2VwdCBmb3IgZGlyZWN0b3JpZXMuXG4gICAgaWYgKENLRURJVE9SLnRpbWVzdGFtcCAmJiByZXNvdXJjZS5jaGFyQXQoIHJlc291cmNlLmxlbmd0aCAtIDEgKSAhPT0gJy8nICYmICEoL1smP110PS8pLnRlc3QocmVzb3VyY2UpKSB7XG4gICAgICAgIHJlc291cmNlICs9IChyZXNvdXJjZS5pbmRleE9mKCc/JykgPj0gMCA/ICcmJyA6ICc/JykgKyAndD0nICsgQ0tFRElUT1IudGltZXN0YW1wO1xuICAgIH1cblxuICAgIHJldHVybiByZXNvdXJjZTtcbn07XG5cbi8qKlxuICogSW1wbGVtZW50cyBldmVudCBmaXJpbmcgYW5kIHN1YnNjcmliaW5nIHZpYSBDS0VESVRPUi5ldmVudC5cbiAqXG4gKiBAbWVtYmVyb2YgQWxsb3lFZGl0b3JcbiAqIEBtZXRob2QgaW1wbGVtZW50RXZlbnRUYXJnZXRcbiAqIEBzdGF0aWNcbiAqL1xuY29uc3QgaW1wbGVtZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoIUFsbG95RWRpdG9yLmZpcmUgJiYgIUFsbG95RWRpdG9yLm9uKSB7XG4gICAgICAgIENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKEFsbG95RWRpdG9yKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB3aGljaCBzaG91bGQgbWF0Y2ggdGhlIHNjcmlwdCB3aGljaCBoYXZlIGJlZW4gdXNlZCB0byBsb2FkIEFsbG95RWRpdG9yLlxuICpcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICogQHByb3BlcnR5IHJlZ2V4QmFzZVBhdGhcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IHJlZ2V4QmFzZVBhdGggPSAvKF58LipbXFxcXFxcL10pKD86YWxsb3ktZWRpdG9yW14vXSt8YWxsb3ktZWRpdG9yKVxcLmpzKD86XFw/Lip8Oy4qKT8kL2k7XG5cbi8qKlxuICogRmlyZWQgd2hlbiBBbGxveUVkaXRvciBkZXRlY3RzIHRoZSBicm93c2VyIGxhbmd1YWdlIGFuZCBsb2FkcyB0aGUgY29ycmVzcG9uZGluZyBsYW5ndWFnZSBmaWxlLiBPbmNlIHRoaXMgZXZlbnRcbiAqIGlzIGZpcmVkLCBBbGxveUVkaXRvci5TdHJpbmdzIHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggZGF0YS5cbiAqXG4gKiBAZXZlbnQgbGFuZ3VhZ2VSZXNvdXJjZXNMb2FkZWRcbiAqL1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlcXVpcmVkIHBsdWdpbiBuYW1lcyBuZWVkZWQgZm9yIGEgZ2l2ZW4gcGx1Z2luXG4gKiBpZiBpdCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQgb3IgYW4gZW1wdHkgYXJyYXkuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIGdldEJ1dHRvbnNcbiAqIEBwYXJhbSB7QXJyYXl9IGJ1dHRvbnMgQW4gYXJyYXkgb2YgYnV0dG9ucyBvciBwbHVnaW4gbmFtZXMuXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiB0aGF0IGNhbiBiZSBpbnZva2VkIHRvIHJlc29sdmUgdGhlIHJlcXVlc3RlZCBidXR0b24gbmFtZXMuXG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IGdldEJ1dHRvbnMgPSBmdW5jdGlvbihidXR0b25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gYnV0dG9ucy5yZWR1Y2UoZnVuY3Rpb24oYWNjLCB2YWwpIHtcbiAgICAgICAgICAgIHZhbCA9IEJSSURHRV9CVVRUT05TW3ZhbF0gfHwgW3ZhbF07XG4gICAgICAgICAgICByZXR1cm4gYWNjLmNvbmNhdCh2YWwpO1xuICAgICAgICB9LCBbXSk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXIgYSBidXR0b24gYW5kIHRyeSB0byBnZXQgaXRzIHJlcXVpcmVkIHBsdWdpbnMuXG4gKlxuICogQG1lbWJlcm9mIEFsbG95RWRpdG9yXG4gKiBAbWV0aG9kIHJlZ2lzdGVyQnJpZGdlQnV0dG9uXG4gKiBAcGFyYW0ge1N0cmluZ30gYnV0dG9uTmFtZSBUaGUgbmFtZSBvZiB0aGUgYnV0dG9uLlxuICogQHBhcmFtIHtTdHJpbmd9IHBsdWdpbk5hbWUgVGhlIG5hbWUgb2YgdGhlIHBsdWdpbiB0aGF0IHJlZ2lzdGVycyB0aGUgYnV0dG9uLlxuICogQHN0YXRpY1xuICovXG5jb25zdCByZWdpc3RlckJyaWRnZUJ1dHRvbiA9IGZ1bmN0aW9uKGJ1dHRvbk5hbWUsIHBsdWdpbk5hbWUpIHtcbiAgICBpZiAoIUJSSURHRV9CVVRUT05TW3BsdWdpbk5hbWVdKSB7XG4gICAgICAgIEJSSURHRV9CVVRUT05TW3BsdWdpbk5hbWVdID0gW107XG4gICAgfVxuXG4gICAgQlJJREdFX0JVVFRPTlNbcGx1Z2luTmFtZV0ucHVzaChidXR0b25OYW1lKTtcbn07XG5cbi8qKlxuICogQG1ldGhvZCBPT1BcbiAqIEBtZW1iZXJvZiBBbGxveUVkaXRvclxuICovXG5jb25zdCBPT1AgPSB7XG4gICAgZXh0ZW5kXG59O1xuXG5leHBvcnQge1xuICAgIEF0dHJpYnV0ZSxcbiAgICBCdXR0b25zLFxuICAgIENvcmUsXG4gICAgZWRpdGFibGUsXG4gICAgZ2V0QmFzZVBhdGgsXG4gICAgZ2V0QnV0dG9ucyxcbiAgICBnZXRVcmwsXG4gICAgaW1wbGVtZW50RXZlbnRUYXJnZXQsXG4gICAgTGFuZyxcbiAgICBsb2FkTGFuZ3VhZ2VSZXNvdXJjZXMsXG4gICAgT09QLFxuICAgIHJlZ2lzdGVyQnJpZGdlQnV0dG9uLFxuICAgIFNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyxcbiAgICBTZWxlY3Rpb25zLFxuICAgIFNlbGVjdGlvblNldFBvc2l0aW9uLFxuICAgIFNlbGVjdGlvblRlc3QsXG4gICAgVG9vbGJhcnNcbn07XG4iLCJpbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5cbi8qKlxuICogQnV0dG9uQWN0aW9uU3R5bGUgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGFwcGx5aW5nIHN0eWxlIGltcGxlbWVudGF0aW9uIGZvciBhXG4gKiBidXR0b24gYmFzZWQgb24gdGhlIGBhcHBseVN0eWxlYCBhbmQgYHJlbW92ZVN0eWxlYCBBUEkgb2YgQ0tFRElUT1IuXG4gKlxuICogVG8gZXhlY3V0ZSBwcm9wZXJseSwgdGhlIGNvbXBvbmVudCBoYXMgdG8gZXhwb3NlIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyB3aGljaCBjYW4gYmUgb2J0YWluZWRcbiAqIG91dCBvZiB0aGUgYm94IHVzaW5nIHRoZSB7eyNjcm9zc0xpbmsgXCJCdXR0b25TdHlsZVwifX17ey9jcm9zc0xpbmt9fSBtaXhpbjpcbiAqIC0gYEZ1bmN0aW9uYCB7eyNjcm9zc0xpbmsgXCJCdXR0b25TdHlsZS9pc0FjdGl2ZVwifX17ey9jcm9zc0xpbmt9fSB0byBjaGVjayB0aGUgYWN0aXZlIHN0YXRlXG4gKiAtIGBGdW5jdGlvbmAge3sjY3Jvc3NMaW5rIFwiQnV0dG9uU3R5bGUvZ2V0U3R5bGVcIn19e3svY3Jvc3NMaW5rfX0gdG8gcmV0dXJuIHRoZSBzdHlsZSB0aGF0IHNob3VsZCBiZSBhcHBsaWVkXG4gKlxuICogQGNsYXNzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9yIGFwcGxpZXMgdGhlIGNvbXBvbmVudCBzdHlsZSB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQWN0aW9uU3R5bGVcbiAgICAgKiBAbWV0aG9kIGFwcGx5U3R5bGVcbiAgICAgKi9cbiAgICBhcHBseVN0eWxlKCkge1xuICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKHRoaXMuaXNBY3RpdmUpICYmIExhbmcuaXNGdW5jdGlvbih0aGlzLmdldFN0eWxlKSkge1xuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgIGVkaXRvci5nZXRTZWxlY3Rpb24oKS5sb2NrKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IucmVtb3ZlU3R5bGUodGhpcy5nZXRTdHlsZSgpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmFwcGx5U3R5bGUodGhpcy5nZXRTdHlsZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRpdG9yLmdldFNlbGVjdGlvbigpLnVubG9jaygpO1xuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59OyIsIi8qKlxuICogQnV0dG9uQ29tbWFuZEFjdGl2ZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYW4gYGlzQWN0aXZlYCBtZXRob2QgdG8gZGV0ZXJtaW5lIGlmXG4gKiBhIGNvbnRleHQtYXdhcmUgY29tbWFuZCBpcyBjdXJyZW50bHkgaW4gYW4gYWN0aXZlIHN0YXRlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kQWN0aXZlXG4gICAgICogQG1ldGhvZCBpc0FjdGl2ZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIGNvbW1hbmQgaXMgYWN0aXZlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIHZhciBjb21tYW5kID0gZWRpdG9yLmdldENvbW1hbmQodGhpcy5wcm9wcy5jb21tYW5kKTtcblxuICAgICAgICByZXR1cm4gY29tbWFuZCA/IGNvbW1hbmQuc3RhdGUgPT09IENLRURJVE9SLlRSSVNUQVRFX09OIDogZmFsc2U7XG4gICAgfVxufTsiLCIvKipcbiAqIEJ1dHRvbkNvbW1hbmQgaXMgYSBtaXhpbiB0aGF0IGV4ZWN1dGVzIGEgY29tbWFuZCB2aWEgQ0tFRElUT1IncyBBUEkuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIGEgQ0tFZGl0b3IgY29tbWFuZCBhbmQgZmlyZXMgYGFjdGlvblBlcmZvcm1lZGAgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZGF0YSBPcHRpb25hbCBkYXRhIHRvIGJlIHBhc3NlZCB0byBDS0VESVRPUidzIGBleGVjQ29tbWFuZGAgbWV0aG9kLlxuICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmRcbiAgICAgKi9cbiAgICBleGVjQ29tbWFuZChkYXRhKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCh0aGlzLnByb3BzLmNvbW1hbmQsIGRhdGEpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLm1vZGlmaWVzU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uQ2hhbmdlKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcuanMnO1xuXG4vKipcbiAqIEJ1dHRvbktleXN0cm9rZSBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMgYSBga2V5c3Ryb2tlYCBwcm9wIHRoYXQgYWxsb3dzIGNvbmZpZ3VyaW5nXG4gKiBhIGZ1bmN0aW9uIG9mIHRoZSBpbnN0YW5jZSB0byBiZSBpbnZva2VkIHVwb24gdGhlIGtleXN0cm9rZSBhY3RpdmF0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25LZXlzdHJva2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBib3RoIG9uIHRoZSBjbGllbnQgYW5kIHNlcnZlciwgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uS2V5c3Ryb2tlXG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KSkge1xuICAgICAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmF0aXZlRWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIGtleXN0cm9rZSA9IHRoaXMucHJvcHMua2V5c3Ryb2tlO1xuXG4gICAgICAgIHZhciBjb21tYW5kTmFtZSA9IGtleXN0cm9rZS5uYW1lIHx8ICgoTWF0aC5yYW5kb20oKSAqIDFlOSkgPj4+IDApLnRvU3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbW1hbmQgPSBuYXRpdmVFZGl0b3IuZ2V0Q29tbWFuZChjb21tYW5kTmFtZSk7XG5cbiAgICAgICAgaWYgKCFjb21tYW5kKSB7XG4gICAgICAgICAgICBjb21tYW5kID0gbmV3IENLRURJVE9SLmNvbW1hbmQobmF0aXZlRWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5c3Ryb2tlRm4gPSBrZXlzdHJva2UuZm47XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChMYW5nLmlzU3RyaW5nKGtleXN0cm9rZUZuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNba2V5c3Ryb2tlRm5dLmNhbGwodGhpcywgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTGFuZy5pc0Z1bmN0aW9uKGtleXN0cm9rZUZuKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXN0cm9rZUZuLmNhbGwodGhpcywgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgbmF0aXZlRWRpdG9yLmFkZENvbW1hbmQoY29tbWFuZE5hbWUsIGNvbW1hbmQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZGVmYXVsdEtleXN0cm9rZUNvbW1hbmQgPSBuYXRpdmVFZGl0b3Iua2V5c3Ryb2tlSGFuZGxlci5rZXlzdHJva2VzW2tleXN0cm9rZS5rZXlzXTtcblxuICAgICAgICBuYXRpdmVFZGl0b3Iuc2V0S2V5c3Ryb2tlKGtleXN0cm9rZS5rZXlzLCBjb21tYW5kTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGJlZm9yZSBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQgZnJvbSB0aGUgRE9NLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbktleXN0cm9rZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnRXaWxsVW5tb3VudCkpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLnNldEtleXN0cm9rZSh0aGlzLnByb3BzLmtleXN0cm9rZS5rZXlzLCB0aGlzLl9kZWZhdWx0S2V5c3Ryb2tlQ29tbWFuZCk7XG4gICAgfVxufTsiLCIvKipcbiAqIEJ1dHRvbkNmZ1Byb3BzIGlzIGEgbWl4aW4gdGhhdCBwcm92aWRlcyBhIHN0eWxlIHByb3AgYW5kIHNvbWUgbWV0aG9kcyB0byBhcHBseSB0aGUgcmVzdWx0aW5nXG4gKiBzdHlsZSBhbmQgY2hlY2tpbmcgaWYgaXQgaXMgcHJlc2VudCBpbiBhIGdpdmVuIHBhdGggb3Igc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25DZmdQcm9wc1xuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBwcm9wZXJ0aWVzLCBwYXNzZWQgdG8gdGhlIGN1cnJlbnQgY29tcG9uZW50IHdpdGggdXNlcidzIGNvbmZpZ3VyYXRpb25cbiAgICAgKiB2aWEgYGJ1dHRvbkNmZ2AgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ2ZnUHJvcHNcbiAgICAgKiBAbWV0aG9kIG1lcmdlQnV0dG9uQ2ZnUHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcHMgVGhlIHByb3BlcnRpZXMgdG8gYmUgbWVyZ2VkIHdpdGggdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXNcbiAgICAgKiBidXR0b24uIElmIG5vdCBwYXNzZWQsIHRoZSB1c2VyIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBtZXJnZWQgd2l0aCBgdGhpcy5wcm9wc2BcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtZXJnZWQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIG1lcmdlQnV0dG9uQ2ZnUHJvcHMocHJvcHMpIHtcbiAgICAgICAgcHJvcHMgPSBwcm9wcyB8fCB0aGlzLnByb3BzO1xuXG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgYnV0dG9uQ2ZnID0gbmF0aXZlRWRpdG9yLmNvbmZpZy5idXR0b25DZmcgfHwge307XG4gICAgICAgIHZhciByZXN1bHQgPSBDS0VESVRPUi50b29scy5tZXJnZShwcm9wcywgYnV0dG9uQ2ZnWydsaW5rRWRpdCddKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcnO1xuXG4vKipcbiAqIEJ1dHRvblN0YXRlQ2xhc3NlcyBpcyBhIG1peGluIHRoYXQgZGVjb3JhdGVzIHRoZSBkb21FbGVtZW50IG9mIGEgY29tcG9uZW50XG4gKiB3aXRoIGRpZmZlcmVudCBDU1MgY2xhc3NlcyBiYXNlZCBvbiB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZWxlbWVudC5cbiAqXG4gKiBUbyBjaGVjayBmb3Igc3RhdGUsIHRoZSBjb21wb25lbnQgY2FuIGV4cG9zZSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKiAtIGBGdW5jdGlvbmAgKippc0FjdGl2ZSoqIHRvIGNoZWNrIHRoZSBhY3RpdmUgc3RhdGVcbiAqIC0gYEZ1bmN0aW9uYCAqKmlzRGlzYWJsZWQqKiB0byBjaGVjayB0aGUgZGlzYWJsZWQgc3RhdGVcbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHN0YXRlIGNsYXNzZXMgYXNzb2NpYXRlZCB0byB0aGUgY3VycmVudCBlbGVtZW50J3Mgc3RhdGUsIGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSByZXN1bHRzIG9mIHRoZSBpc0FjdGl2ZSBhbmQgaXNEaXNhYmxlZCBtZXRob2RzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICAgICAqIEBtZXRob2QgZ2V0U3RhdGVDbGFzc2VzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyB3aXRoIHRoZSBzdGF0ZSBDU1MgY2xhc3Nlcy5cbiAgICAgKi9cbiAgICBnZXRTdGF0ZUNsYXNzZXMoKSB7XG4gICAgICAgIHZhciBzdGF0ZUNsYXNzZXMgPSAnJztcblxuICAgICAgICAvLyBDaGVjayBmb3IgYWN0aXZlIHN0YXRlXG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24odGhpcy5pc0FjdGl2ZSkgJiYgdGhpcy5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICBzdGF0ZUNsYXNzZXMgKz0gJ2FlLWJ1dHRvbi1wcmVzc2VkJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGZvciBkaXNhYmxlZCBzdGF0ZVxuICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKHRoaXMuaXNEaXNhYmxlZCkgJiYgdGhpcy5pc0Rpc2FibGVkKCkpIHtcbiAgICAgICAgICAgIHN0YXRlQ2xhc3NlcyArPSAnIGFlLWJ1dHRvbi1kaXNhYmxlZCc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhdGVDbGFzc2VzO1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcuanMnXG5cbi8qKlxuICogQnV0dG9uU3R5bGUgaXMgYSBtaXhpbiB0aGF0IHByb3ZpZGVzIGEgc3R5bGUgcHJvcCBhbmQgc29tZSBtZXRob2RzIHRvIGFwcGx5IHRoZSByZXN1bHRpbmdcbiAqIHN0eWxlIGFuZCBjaGVja2luZyBpZiBpdCBpcyBwcmVzZW50IGluIGEgZ2l2ZW4gcGF0aCBvciBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0eWxlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IFdyYXBwZWRDb21wb25lbnQgPT4gY2xhc3MgZXh0ZW5kcyBXcmFwcGVkQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgYm90aCBvbiB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIsIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlXG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsTW91bnQoKSB7XG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KSkge1xuICAgICAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbE1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLnByb3BzLnN0eWxlO1xuXG4gICAgICAgIGlmIChMYW5nLmlzU3RyaW5nKHN0eWxlKSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gc3R5bGUuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50TWVtYmVyID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKS5jb25maWc7XG4gICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBwYXJ0cy5zaGlmdCgpO1xuXG4gICAgICAgICAgICB3aGlsZSAocHJvcGVydHkgJiYgTGFuZy5pc09iamVjdChjdXJyZW50TWVtYmVyKSAmJiBMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXJbcHJvcGVydHldKSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRNZW1iZXIgPSBjdXJyZW50TWVtYmVyW3Byb3BlcnR5XTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhcnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgc3R5bGUgPSBjdXJyZW50TWVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnRXaWxsVW5tb3VudCkpIHtcbiAgICAgICAgICAgIHN1cGVyLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdHlsZSA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbnN0YW5jZSBvZiBDS0VESVRPUi5zdHlsZSB3aGljaCByZXByZXNlbnRzIHRoZSBjdXJyZW50IGJ1dHRvbiBzdHlsZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuICAgICAqIEBtZXRob2QgZ2V0U3R5bGVcbiAgICAgKiBAcmV0dXJuIHtDS0VESVRPUi5zdHlsZX0gVGhlIGN1cnJlbnQgc3R5bGUgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgZ2V0U3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgc3R5bGUgaXMgYWN0aXZlIGluIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZVxuICAgICAqIEBtZXRob2QgaXNBY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHN0eWxlIGlzIGFjdGl2ZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIHZhciBlbGVtZW50UGF0aCA9IGVkaXRvci5lbGVtZW50UGF0aCgpO1xuXG4gICAgICAgIHJlc3VsdCA9IHRoaXMuZ2V0U3R5bGUoKS5jaGVja0FjdGl2ZShlbGVtZW50UGF0aCwgZWRpdG9yKTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07IiwiaW1wb3J0IExhbmcgZnJvbSAnLi4vLi4vb29wL2xhbmcuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUb29sYmFyQnV0dG9ucyBpcyBhIG1peGluIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBidXR0b25zIHdoaWNoIGhhdmUgdG8gYmVcbiAqIGRpc3BsYXllZCBvbiB0aGUgY3VycmVudCB0b29sYmFyIGRlcGVuZGluZyBvbiB1c2VyIHByZWZlcmVuY2VzIGFuZCBnaXZlbiBzdGF0ZS5cbiAqXG4gKiBAY2xhc3MgVG9vbGJhckJ1dHRvbnNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIEFuYWx5emVzIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBhbmQgdGhlIGJ1dHRvbnMgZXhjbHVzaXZlIG1vZGUgdmFsdWUgdG8gZmlndXJlIG91dCB3aGljaFxuICAgICAqIGJ1dHRvbnMgc2hvdWxkIGJlIHByZXNlbnQgaW4gYSBnaXZlbiBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyQnV0dG9uc1xuICAgICAqIEBtZXRob2QgZ2V0VG9vbGJhckJ1dHRvbnNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBidXR0b25zIFRoZSBidXR0b25zIGNvdWxkIGJlIHNob3duLCBwcmlvciB0byB0aGUgc3RhdGUgZmlsdGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhZGRpdGlvbmFsUHJvcHMgQWRkaXRpb25hbCBwcm9wcyB0aGF0IHNob3VsZCBiZSBwYXNzZWQgZG93biB0byB0aGUgYnV0dG9ucy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gQW4gQXJyYXkgd2hpY2ggY29udGFpbnMgdGhlIGJ1dHRvbnMgdGhhdCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgZ2V0VG9vbGJhckJ1dHRvbnMoYnV0dG9ucywgYWRkaXRpb25hbFByb3BzKSB7XG4gICAgICAgIHZhciBidXR0b25Qcm9wcyA9IHt9O1xuXG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgYnV0dG9uQ2ZnID0gbmF0aXZlRWRpdG9yLmNvbmZpZy5idXR0b25DZmcgfHwge307XG5cbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihidXR0b25zKSkge1xuICAgICAgICAgICAgYnV0dG9ucyA9IGJ1dHRvbnMuY2FsbCh0aGlzKSB8fCBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0b29sYmFyQnV0dG9ucyA9IHRoaXMuZmlsdGVyRXhjbHVzaXZlKFxuICAgICAgICAgICAgICAgIGJ1dHRvbnMuZmlsdGVyKGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uICYmIChBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbl0gfHwgQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV0pO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbihidXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKExhbmcuaXNTdHJpbmcoYnV0dG9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uUHJvcHNbYnV0dG9uXSA9IGJ1dHRvbkNmZ1tidXR0b25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b25dO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKExhbmcuaXNTdHJpbmcoYnV0dG9uLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25Qcm9wc1tBbGxveUVkaXRvci5CdXR0b25zW2J1dHRvbi5uYW1lXS5rZXldID0gQ0tFRElUT1IudG9vbHMubWVyZ2UoYnV0dG9uQ2ZnW2J1dHRvbl0sIGJ1dHRvbi5jZmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uID0gQWxsb3lFZGl0b3IuQnV0dG9uc1tidXR0b24ubmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnV0dG9uO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMubWVyZ2VFeGNsdXNpdmVQcm9wcyh7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5wcm9wcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgIGtleTogYnV0dG9uLmtleSxcbiAgICAgICAgICAgICAgICAgICAgdGFiS2V5OiBidXR0b24ua2V5LFxuICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogKHRoaXMucHJvcHMudHJpZ2dlciAmJiB0aGlzLnByb3BzLnRyaWdnZXIucHJvcHMudGFiS2V5ID09PSBidXR0b24ua2V5KSA/IDAgOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcjogdGhpcy5wcm9wcy50cmlnZ2VyXG4gICAgICAgICAgICAgICAgfSwgYnV0dG9uLmtleSk7XG5cbiAgICAgICAgICAgICAgICBwcm9wcyA9IHRoaXMubWVyZ2VEcm9wZG93blByb3BzKHByb3BzLCBidXR0b24ua2V5KTtcblxuICAgICAgICAgICAgICAgIGlmIChhZGRpdGlvbmFsUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMgPSBDS0VESVRPUi50b29scy5tZXJnZShwcm9wcywgYWRkaXRpb25hbFByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwcm9wcyA9IENLRURJVE9SLnRvb2xzLm1lcmdlKHByb3BzLCBidXR0b25Qcm9wc1tidXR0b24ua2V5XSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChidXR0b24sIHByb3BzKTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuXG4gICAgICAgIHJldHVybiB0b29sYmFyQnV0dG9ucztcbiAgICB9XG59OyIsImltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBkaXNwbGF5aW5nIFdpZGdldCBBcnJvdyBib3ggb24gdG9wIG9yIG9uIGJvdHRvbSBvZiB0aGUgd2lkZ2V0XG4gKiBkZXBlbmRpbmcgb24gdGhlIHBvaW50IG9mIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBXaWRnZXRBcnJvd0JveFxuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiBhcnJvdyBib3ggY2xhc3NlcyBhc3NvY2lhdGVkIHRvIHRoZSBjdXJyZW50IGVsZW1lbnQncyBzdGF0ZS4gSXQgcmVsaWVzXG4gICAgICogb24gdGhlIGdldEludGVyYWN0aW9uUG9pbnQgbWV0aG9kIHRvIGNhbGN1bGF0ZSB0aGUgc2VsZWN0aW9uIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRBcnJvd0JveFxuICAgICAqIEBtZXRob2QgZ2V0QXJyb3dCb3hDbGFzc2VzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBBIHN0cmluZyB3aXRoIHRoZSBhcnJvdyBib3ggQ1NTIGNsYXNzZXMuXG4gICAgICovXG4gICAgZ2V0QXJyb3dCb3hDbGFzc2VzKCkge1xuICAgICAgICB2YXIgYXJyb3dCb3hDbGFzc2VzID0gJ2FlLWFycm93LWJveCc7XG5cbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbih0aGlzLmdldEludGVyYWN0aW9uUG9pbnQpICYmIHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5nZXRJbnRlcmFjdGlvblBvaW50KCkuZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSkge1xuICAgICAgICAgICAgICAgIGFycm93Qm94Q2xhc3NlcyArPSAnIGFlLWFycm93LWJveC10b3AnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnJvd0JveENsYXNzZXMgKz0gJyBhZS1hcnJvdy1ib3gtYm90dG9tJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhcnJvd0JveENsYXNzZXM7XG4gICAgfVxufTsiLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBtYW5hZ2luZyBkaWZmZXJlbnQgZHJvcGRvd25zIGluc2lkZSBhIHdpZGdldC5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0RHJvcGRvd25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcbiAgICAgICAgICAgIGl0ZW1Ecm9wZG93bjogbnVsbFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0RHJvcGRvd25cbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoTGFuZy5pc0Z1bmN0aW9uKHN1cGVyLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpKSB7XG4gICAgICAgICAgICBzdXBlci5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGRyb3Bkb3duVHJpZ2dlcjogbnVsbCxcbiAgICAgICAgICAgIGl0ZW1Ecm9wZG93bjogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIHByb3ZpZGVkIG9iamVjdCB3aXRoIHR3byBtb3JlIHByb3BlcnRpZXM6XG4gICAgICogLSBleHBhbmRlZCAtIGJvb2xlYW4gZmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgYW4gd2lkZ2V0IHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cbiAgICAgKiAtIHRvZ2dsZURyb3Bkb3duIC0gZnVuY3Rpb24sIHdoaWNoIGNhbiBiZSB1c2VkIGJ5IGFuIHdpZGdldCBpbiBvcmRlciB0byBvYnRhaW4gZXhjbHVzaXZlIHN0YXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldERyb3Bkb3duXG4gICAgICogQG1ldGhvZCBtZXJnZURyb3Bkb3duUHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBwcm9wZXJ0aWVzIGNvbnRhaW5lciB3aGljaCBzaG91bGQgYmUgbWVyZ2VkIHdpdGggdGhlIHByb3BlcnRpZXMsIHJlbGF0ZWRcbiAgICAgKiAgICB0byBkcm9wZG93biBzdGF0ZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbUtleSBUaGV5IGtleSBvZiBhbiBSZWFjdCBXaWRnZXQgd2hpY2ggY29udGFpbnMgdGhlIGRyb3Bkb3duLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIG1lcmdlZCBvYmplY3QuXG4gICAgICovXG4gICAgbWVyZ2VEcm9wZG93blByb3BzKG9iaiwgaXRlbUtleSkge1xuICAgICAgICByZXR1cm4gQ0tFRElUT1IudG9vbHMubWVyZ2Uob2JqLCB7XG4gICAgICAgICAgICBleHBhbmRlZDogdGhpcy5zdGF0ZS5pdGVtRHJvcGRvd24gPT09IGl0ZW1LZXkgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICB0YWJJbmRleDogdGhpcy5zdGF0ZS5kcm9wZG93blRyaWdnZXIgPT09IGl0ZW1LZXkgPyAwIDogLTEsXG4gICAgICAgICAgICB0b2dnbGVEcm9wZG93bjogdGhpcy50b2dnbGVEcm9wZG93bi5iaW5kKHRoaXMsIGl0ZW1LZXkpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBkcm9wZG93biBvZiB0aGUgd2lkZ2V0IG9yIGRpc2NhcmRzIHRoZSB0b2dnbGVkIGl0ZW0gZnJvbSB0aGUgc3RhdGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0RHJvcGRvd25cbiAgICAgKiBAbWV0aG9kIHRvZ2dsZURyb3Bkb3duXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1Ecm9wZG93biBUaGUgd2lkZ2V0IHdoaWNoIHJlcXVlc3RzIHRvIHRvZ2dsZSBpdHMgZHJvcGRvd24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvZ2dsZURpcmVjdGlvbiBVc2VyIG1vdmVtZW50IGRpcmVjdGlvbiB3aGVuIHRvZ2dsZWQgdmlhIGtleWJvYXJkLlxuICAgICAqL1xuICAgIHRvZ2dsZURyb3Bkb3duKGl0ZW1Ecm9wZG93biwgdG9nZ2xlRGlyZWN0aW9uKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZHJvcGRvd25UcmlnZ2VyOiBpdGVtRHJvcGRvd24sXG4gICAgICAgICAgICBpdGVtRHJvcGRvd246IGl0ZW1Ecm9wZG93biAhPT0gdGhpcy5zdGF0ZS5pdGVtRHJvcGRvd24gPyBpdGVtRHJvcGRvd24gOiBudWxsXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLml0ZW1Ecm9wZG93bikge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vdmVGb2N1cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVGb2N1cyh0b2dnbGVEaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59OyIsImltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcblxuLyoqXG4gKiBQcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBtYW5hZ2luZyBleGNsdXNpdmUgc3RhdGUgb2YgYW4gd2lkZ2V0LlxuICogVGhlIGV4Y2x1c2l2ZSBzdGF0ZSBtZWFucyB0aGF0IGEgYnV0dG9uIG1heSByZXF1ZXN0IHRvIGJlIHRoZSBvbmx5IHJlbmRlcmVkXG4gKiB3aWRnZXQgaW4gaXRzIHBhcmVudCBjb250YWluZXIuIFdpZGdldEV4Y2x1c2l2ZSB3aWxsIG1hbmFnZSB0aGlzIHN0YXRlIGJ5XG4gKiBmaWx0ZXJpbmcgYW5kIHN1cHByZXNzaW5nIHRoZSBvdGhlciBzaWJsaW5nIHdpZGdldHMgZnJvbSBkaXNwbGF5aW5nLlxuICpcbiAqIEBjbGFzcyBXaWRnZXRFeGNsdXNpdmVcbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIGV4Y2x1c2l2ZSBzdGF0ZSBvZiBhbiB3aWRnZXQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0RXhjbHVzaXZlXG4gICAgICogQG1ldGhvZCBjYW5jZWxFeGNsdXNpdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbUV4Y2x1c2l2ZSBUaGUgd2lkZ2V0IHdoaWNoIGV4Y2x1c2l2ZSBzdGF0ZSBzaG91bGQgYmUgY2FuY2VsZWQuXG4gICAgICovXG4gICAgY2FuY2VsRXhjbHVzaXZlKGl0ZW1FeGNsdXNpdmUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSA9PT0gaXRlbUV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgaXRlbUV4Y2x1c2l2ZTogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgd2hlbiBhIGNvbXBvbmVudCBpcyByZWNlaXZpbmcgbmV3IHByb3BzLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cbiAgICAgKiBDYWxsaW5nIHRoaXMuc2V0U3RhdGUoKSB3aXRoaW4gdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCB0cmlnZ2VyIGFuIGFkZGl0aW9uYWwgcmVuZGVyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBuZXh0UHJvcHMgT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgc2V0IG9mIHByb3BlcnRpZXMuXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSkge1xuICAgICAgICAgICAgc3VwZXIuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVjZWl2aW5nIHByb3BlcnRpZXMgbWVhbnMgdGhhdCB0aGUgY29tcG9uZW50IGlzIGJlaW5nIHJlLXJlbmRlcmVkLlxuICAgICAgICAvLyBSZS1yZW5kZXJpbmcgaXMgdHJpZ2dlcmVkIGJ5IGVkaXRvckludGVyYWN0aW9uLCBzbyB3ZSBoYXZlIHRvXG4gICAgICAgIC8vIHJlc2V0IHRoZSBleGNsdXNpdmUgc3RhdGUgYW5kIHJlbmRlciB0aGUgVUkgYWNjb3JkaW5nIHRvIHRoZSBuZXcgc2VsZWN0aW9uLlxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGl0ZW1FeGNsdXNpdmU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsdGVycyB0aGUgaXRlbXMgYW5kIHJldHVybnMgb25seSB0aG9zZSB3aXRoIGV4Y2x1c2l2ZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcbiAgICAgKiBAbWV0aG9kIGZpbHRlckV4Y2x1c2l2ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zIFRoZSB3aWRnZXRzIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEByZXR1cm4ge0FycmF5fE9iamVjdH0gVGhlIGl0ZW0gd2l0aCBleGVjdXRpdmUgc3RhdGUuXG4gICAgICovXG4gICAgZmlsdGVyRXhjbHVzaXZlKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLml0ZW1FeGNsdXNpdmUgPT09IGl0ZW0ua2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWVyZ2VzIHRoZSBwcm92aWRlZCBvYmplY3Qgd2l0aCB0aHJlZSBtb3JlIHByb3BlcnRpZXM6XG4gICAgICogLSBjYW5jZWxFeGNsdXNpdmUgLSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYSB3aWRnZXQgaW4gb3JkZXIgdG8gY2FuY2VsIGV4ZWN1dGl2ZSBzdGF0ZS5cbiAgICAgKiAtIHJlbmRlckV4Y2x1c2l2ZSAtIGJvb2xlYW4gZmxhZyB3aGljaCBpbmRpY2F0ZXMgaWYgYW4gd2lkZ2V0IHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cbiAgICAgKiAtIHJlcXVlc3RFeGNsdXNpdmUgLSBmdW5jdGlvbiwgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYSB3aWRnZXQgaW4gb3JkZXIgdG8gb2J0YWluIGV4Y2x1c2l2ZSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRFeGNsdXNpdmVcbiAgICAgKiBAbWV0aG9kIG1lcmdlRXhjbHVzaXZlUHJvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqIFRoZSBwcm9wZXJ0aWVzIGNvbnRhaW5lciB3aGljaCBzaG91bGQgYmUgbWVyZ2VkIHdpdGggdGhlIHByb3BlcnRpZXMsIHJlbGF0ZWRcbiAgICAgKiAgICB0byBleGNsdXNpdmUgc3RhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGl0ZW1LZXkgVGhleSBrZXkgb2YgYW4gUmVhY3QgV2lkZ2V0IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZCBleGNsdXNpdmVseS5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBtZXJnZWQgb2JqZWN0LlxuICAgICAqL1xuICAgIG1lcmdlRXhjbHVzaXZlUHJvcHMob2JqLCBpdGVtS2V5KSB7XG4gICAgICAgIHJldHVybiBDS0VESVRPUi50b29scy5tZXJnZShvYmosIHtcbiAgICAgICAgICAgIGNhbmNlbEV4Y2x1c2l2ZTogdGhpcy5jYW5jZWxFeGNsdXNpdmUuYmluZCh0aGlzLCBpdGVtS2V5KSxcbiAgICAgICAgICAgIHJlbmRlckV4Y2x1c2l2ZTogKHRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSA9PT0gaXRlbUtleSksXG4gICAgICAgICAgICByZXF1ZXN0RXhjbHVzaXZlOiB0aGlzLnJlcXVlc3RFeGNsdXNpdmUuYmluZCh0aGlzLCBpdGVtS2V5KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBhbmQgc2V0cyBleGNsdXNpdmUgc3RhdGUgb2YgYW4gd2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEV4Y2x1c2l2ZVxuICAgICAqIEBtZXRob2QgcmVxdWVzdEV4Y2x1c2l2ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpdGVtRXhjbHVzaXZlIFRoZSB3aWRnZXQgd2hpY2ggcmVxdWVzdHMgZXhjbHVzaXZlIHN0YXRlLlxuICAgICAqL1xuICAgIHJlcXVlc3RFeGNsdXNpdmUoaXRlbUV4Y2x1c2l2ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGl0ZW1FeGNsdXNpdmU6IGl0ZW1FeGNsdXNpdmVcbiAgICAgICAgfSk7XG4gICAgfVxufTsiLCJpbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIERJUkVDVElPTl9OT05FID0gMDtcbnZhciBESVJFQ1RJT05fTkVYVCA9IDE7XG52YXIgRElSRUNUSU9OX1BSRVYgPSAtMTtcblxudmFyIEFDVElPTl9OT05FID0gMDtcbnZhciBBQ1RJT05fTU9WRV9GT0NVUyA9IDE7XG52YXIgQUNUSU9OX0RJU01JU1NfRk9DVVMgPSAyO1xuXG4vKipcbiAqIFdpZGdldEZvY3VzTWFuYWdlciBpcyBhIG1peGluIHRoYXQgcHJvdmlkZXMga2V5Ym9hcmQgbmF2aWdhdGlvbiBpbnNpZGUgYSB3aWRnZXQuIFRvIGRvIHRoaXMsXG4gKiBpdCBleHBvc2VzIHRoZSBmb2xsb3dpbmcgcHJvcHMgYW5kIG1ldGhvZHM6XG4gKlxuICogQGNsYXNzIFdpZGdldEZvY3VzTWFuYWdlclxuICovXG5leHBvcnQgZGVmYXVsdCBXcmFwcGVkQ29tcG9uZW50ID0+IGNsYXNzIGV4dGVuZHMgV3JhcHBlZENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc3VwZXIuY29tcG9uZW50RGlkTW91bnQpKSB7XG4gICAgICAgICAgICBzdXBlci5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50J3MgdXBkYXRlcyBhcmUgZmx1c2hlZCB0byB0aGUgRE9NLlxuICAgICAqIFJlZnJlc2hlcyB0aGUgZGVzY2VuZGFudHMgbGlzdC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZFVwZGF0ZVxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihzdXBlci5jb21wb25lbnREaWRVcGRhdGUpKSB7XG4gICAgICAgICAgICBzdXBlci5jb21wb25lbnREaWRVcGRhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2N1c2VzIHRoZSBjdXJyZW50IGFjdGl2ZSBkZXNjZW5kYW50LlxuICAgICAqXG4gICAgICogU2V2ZXJhbCBXaWRnZXRzIGNhbiBiZSBuZXN0ZWQgaW4gYSBjb21wb25lbnQgaGllcmFyY2h5IGJ5IGF0dGFjaGluZyB0aGlzIGZvY3VzIG1ldGhvZCB0b1xuICAgICAqIHRoZSB3aWRnZXQgRE9NIG5vZGUsIHRyYW5zZmVycmluZyB0aGUgRE9NIGZvY3VzIGNvbnRyb2wgdG8gdGhlIGlubmVyIEZvY3VzTWFuYWdlci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIGZvY3VzXG4gICAgICovXG4gICAgZm9jdXMoZXZlbnQpIHtcbiAgICAgICAgaWYgKCFldmVudCB8fCB0aGlzLl9pc1ZhbGlkVGFyZ2V0KGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kZXNjZW5kYW50cyAmJiB0aGlzLl9kZXNjZW5kYW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWN0aXZlRGVzY2VuZGFudEVsID0gdGhpcy5fZGVzY2VuZGFudHNbdGhpcy5fYWN0aXZlRGVzY2VuZGFudF07XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB1c2VyIGNsaWNrcyB3aXRoIHRoZSBtb3VzZSwgdGhlIGFjdGl2ZUVsZW1lbnQgaXMgYWxyZWFkeSBzZXQgYW5kIHRoZXJlXG4gICAgICAgICAgICAgICAgLy8gaXMgbm8gbmVlZCB0byBmb2N1cyBpdC4gRm9jdXNpbmcgb2YgdGhlIGFjdGl2ZSBkZXNjZW5kYW50ICh1c3VhbGx5IHNvbWUgYnV0dG9uKSBpcyByZXF1aXJlZFxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugb2Yga2V5Ym9hcmQgbmF2aWdhdGlvbiwgYmVjYXVzZSB0aGUgZm9jdXNlZCBlbGVtZW50IG1pZ2h0IGJlIG5vdCB0aGUgZmlyc3QgYnV0dG9uLFxuICAgICAgICAgICAgICAgIC8vIGJ1dCB0aGUgZGl2IGVsZW1lbnQsIHdoaWNoIGNvbnRhaW5zIHRoZSBidXR0b24uXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGFjdGl2ZURlc2NlbmRhbnRFbCAmJiAhdGhpcy5wcm9wcy5mb2N1c0ZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Rlc2NlbmRhbnRzLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVEZXNjZW5kYW50RWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHRoZSBrZXkgZXZlbnRzIG9uIGEgRE9NIG5vZGUgdG8gZXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgbmF2aWdhdGlvbiB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50IHRoYXQgd2FzIGRldGVjdGVkIG9uIHRoZSB3aWRnZXQgRE9NIG5vZGUuXG4gICAgICogQG1ldGhvZCBoYW5kbGVLZXlcbiAgICAgKi9cbiAgICBoYW5kbGVLZXkoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRUYXJnZXQoZXZlbnQudGFyZ2V0KSAmJiB0aGlzLl9kZXNjZW5kYW50cykge1xuICAgICAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMuX2dldEZvY3VzQWN0aW9uKGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGFjdGlvbi50eXBlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQUNUSU9OX01PVkVfRk9DVVMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbW92ZUZvY3VzKGFjdGlvbi5kaXJlY3Rpb24pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhY3Rpb24udHlwZSA9PT0gQUNUSU9OX0RJU01JU1NfRk9DVVMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5vbkRpc21pc3MoYWN0aW9uLmRpcmVjdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIGZvY3VzIGFtb25nIGRlc2NlbmRhbnRzIGluIHRoZSBlc3BlY2lmaWVkIGRpcmVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIG1vdmVGb2N1c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiAoMSBvciAtMSkgb2YgdGhlIGZvY3VzIG1vdmVtZW50IGFtb25nIGRlc2NlbmRhbnRzLlxuICAgICAqL1xuICAgIG1vdmVGb2N1cyhkaXJlY3Rpb24pIHtcbiAgICAgICAgZGlyZWN0aW9uID0gTGFuZy5pc051bWJlcihkaXJlY3Rpb24pID8gZGlyZWN0aW9uIDogMDtcblxuICAgICAgICB0aGlzLl9tb3ZlRm9jdXMoZGlyZWN0aW9uKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBhY3Rpb24sIGlmIGFueSwgdGhhdCBhIGtleWJvYXJkIGV2ZW50IGluIHRoZSBjdXJyZW50IGZvY3VzIG1hbmFnZXIgc3RhdGVcbiAgICAgKiBzaG91bGQgcHJvZHVjZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIF9nZXRGb2N1c0FjdGlvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBUaGUgS2V5Ym9hcmQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gYWN0aW9uIG9iamVjdCB3aXRoIHR5cGUgYW5kIGRpcmVjdGlvbiBwcm9wZXJ0aWVzLlxuICAgICAqL1xuICAgIF9nZXRGb2N1c0FjdGlvbihldmVudCkge1xuICAgICAgICB2YXIgYWN0aW9uID0ge1xuICAgICAgICAgICAgdHlwZTogQUNUSU9OX05PTkVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5rZXlzKSB7XG4gICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gdGhpcy5fZ2V0Rm9jdXNNb3ZlRGlyZWN0aW9uKGV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGFjdGlvbi5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSBBQ1RJT05fTU9WRV9GT0NVUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRpc21pc3NBY3Rpb24gPSB0aGlzLl9nZXRGb2N1c0Rpc21pc3NBY3Rpb24oZXZlbnQsIGRpcmVjdGlvbik7XG5cbiAgICAgICAgICAgIGlmIChkaXNtaXNzQWN0aW9uLmRpc21pc3MpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24uZGlyZWN0aW9uID0gZGlzbWlzc0FjdGlvbi5kaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgYWN0aW9uLnR5cGUgPSBBQ1RJT05fRElTTUlTU19GT0NVUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGlzbWlzcyBhY3Rpb24sIGlmIGFueSwgdGhlIGZvY3VzIG1hbmFnZXIgc2hvdWxkIGV4ZWN1dGUgdG8geWllbGQgdGhlIGZvY3VzLiBUaGlzXG4gICAgICogd2lsbCBoYXBwZW4gaW4gYW55IG9mIHRoZXNlIHNjZW5hcmlvcyBpZiBhIGRpc21pc3MgY2FsbGJhY2sgaGFzIGJlZW4gc3BlY2lmaWVkOlxuICAgICAqIC0gQSBkaXNtaXNzIGtleSBoYXMgYmVlbiBwcmVzc2VkXG4gICAgICogLSBJbiBhIG5vbi1jaXJjdWxhciBmb2N1cyBtYW5hZ2VyLCB3aGVuOlxuICAgICAqICAgICAtIFRoZSBhY3RpdmUgZGVzY2VuZGFudCBpcyB0aGUgZmlyc3Qgb25lIGFuZCBhIHByZXYga2V5IGhhcyBiZWVuIHByZXNzZWQuXG4gICAgICogICAgIC0gVGhlIGFjdGl2ZSBkZXNjZW5kYW50IGlzIHRoZSBsYXN0IG9uZSBhbmQgYSBuZXh0IGtleSBoYXMgYmVlbiBwcmVzc2VkLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEZvY3VzTWFuYWdlclxuICAgICAqIEBtZXRob2QgX2dldEZvY3VzRGlzbWlzc0FjdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmb2N1c01vdmVEaXJlY3Rpb24gVGhlIGZvY3VzIG1vdmVtZW50IGRpcmVjdGlvbiAoaWYgYW55KS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEEgZGlzbWlzcyBhY3Rpb24gd2l0aCBkaXNtaXNzIGFuZCBkaXJlY3Rpb24gcHJvcGVydGllcy5cbiAgICAgKi9cbiAgICBfZ2V0Rm9jdXNEaXNtaXNzQWN0aW9uKGV2ZW50LCBmb2N1c01vdmVEaXJlY3Rpb24pIHtcbiAgICAgICAgdmFyIGRpc21pc3NBY3Rpb24gPSB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IGZvY3VzTW92ZURpcmVjdGlvbixcbiAgICAgICAgICAgIGRpc21pc3M6IGZhbHNlXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMub25EaXNtaXNzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faXNWYWxpZEtleShldmVudC5rZXlDb2RlLCB0aGlzLnByb3BzLmtleXMuZGlzbWlzcykpIHtcbiAgICAgICAgICAgICAgICBkaXNtaXNzQWN0aW9uLmRpc21pc3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLmRpc21pc3NOZXh0KSkge1xuICAgICAgICAgICAgICAgIGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGlzbWlzc0FjdGlvbi5kaXJlY3Rpb24gPSBESVJFQ1RJT05fTkVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5kaXNtaXNzUHJldikpIHtcbiAgICAgICAgICAgICAgICBkaXNtaXNzQWN0aW9uLmRpc21pc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRpc21pc3NBY3Rpb24uZGlyZWN0aW9uID0gRElSRUNUSU9OX1BSRVY7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZGlzbWlzc0FjdGlvbi5kaXNtaXNzICYmICF0aGlzLnByb3BzLmNpcmN1bGFyICYmIGZvY3VzTW92ZURpcmVjdGlvbikge1xuICAgICAgICAgICAgICAgIGRpc21pc3NBY3Rpb24uZGlzbWlzcyA9IChcbiAgICAgICAgICAgICAgICAgICAgZm9jdXNNb3ZlRGlyZWN0aW9uID09PSBESVJFQ1RJT05fUFJFViAmJiB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgIGZvY3VzTW92ZURpcmVjdGlvbiA9PT0gRElSRUNUSU9OX05FWFQgJiYgdGhpcy5fYWN0aXZlRGVzY2VuZGFudCA9PT0gdGhpcy5fZGVzY2VuZGFudHMubGVuZ3RoIC0gMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlzbWlzc0FjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkaXJlY3Rpb24sIGlmIGFueSwgaW4gd2hpY2ggdGhlIGZvY3VzIHNob3VsZCBiZSBtb3ZlZC4gSW4gcHJlc2VuY2Ugb2YgdGhlXG4gICAgICogc2hpZnQga2V5IG1vZGlmaWVyLCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBtb3ZlbWVudCBpcyBpbnZlcnRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIF9nZXRGb2N1c01vdmVEaXJlY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgVGhlIEtleWJvYXJkIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjb21wdXRlZCBkaXJlY3Rpb24gb2YgdGhlIGV4cGVjdGVkIGZvY3VzIG1vdmVtZW50LlxuICAgICAqL1xuICAgIF9nZXRGb2N1c01vdmVEaXJlY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IERJUkVDVElPTl9OT05FO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkS2V5KGV2ZW50LmtleUNvZGUsIHRoaXMucHJvcHMua2V5cy5uZXh0KSkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gRElSRUNUSU9OX05FWFQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWRLZXkoZXZlbnQua2V5Q29kZSwgdGhpcy5wcm9wcy5rZXlzLnByZXYpKSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBESVJFQ1RJT05fUFJFVjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5zaGlmS2V5KSB7XG4gICAgICAgICAgICBkaXJlY3Rpb24gKj0gLTE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiBhIGdpdmVuIGtleUNvZGUgaXMgdmFsaWQgZm9yIHRoZSBnaXZlbiBzZXQgb2Yga2V5cy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRGb2N1c01hbmFnZXJcbiAgICAgKiBAbWV0aG9kIF9pc1ZhbGlkS2V5XG4gICAgICogQHBhcmFtIHtBcnJheXxOdW1iZXJ9IGtleXMgQSBrZXkgc2V0LiBDYW4gYmUgYSBudW1iZXIgYW4gYXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgdGhlIGFsbG93ZWQga2V5Q29kZXMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGtleUNvZGUgQW4gZXZlbnQga2V5Q29kZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gQSBib29sZWFuIHZhbHVlIGluZGljYXRpbmcgaWYgdGhlIGtleSBpcyB2YWxpZC5cbiAgICAgKi9cbiAgICBfaXNWYWxpZEtleShrZXlDb2RlLCBrZXlzKSB7XG4gICAgICAgIHJldHVybiBMYW5nLmlzQXJyYXkoa2V5cykgPyAoa2V5cy5pbmRleE9mKGtleUNvZGUpICE9PSAtMSkgOiAoa2V5Q29kZSA9PT0ga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIGEgZ2l2ZW4gZWxlbWVudCBpcyB2YWxpZCBmb3IgZm9jdXMgbWFuYWdlbWVudC4gVXNlciBpbnB1dCBlbGVtZW50cyBzdWNoIGFzXG4gICAgICogaW5wdXQsIHNlbGVjdCBvciB0ZXh0YXJlYSBhcmUgZXhjbHVkZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gICAgICogQG1ldGhvZCBfaXNWYWxpZEtleVxuICAgICAqIEBwYXJhbSB7RE9NTm9kZX0gZWxlbWVudCBBIERPTSBlbGVtZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBBIGJvb2xlYW4gdmFsdWUgaW5kaWNhdGluZyBpZiB0aGUgZWxlbWVudCBpcyB2YWxpZC5cbiAgICAgKi9cbiAgICBfaXNWYWxpZFRhcmdldChlbGVtZW50KSB7XG4gICAgICAgIHZhciB0YWdOYW1lID0gZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgcmV0dXJuICh0YWdOYW1lICE9PSAnaW5wdXQnICYmIHRhZ05hbWUgIT09ICdzZWxlY3QnICYmIHRhZ05hbWUgIT09ICd0ZXh0YXJlYScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBmb2N1cyBhbW9uZyBkZXNjZW5kYW50cyBpbiB0aGUgZXNwZWNpZmllZCBkaXJlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gICAgICogQG1ldGhvZCBfbW92ZUZvY3VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uICgxIG9yIC0xKSBvZiB0aGUgZm9jdXMgbW92ZW1lbnQgYW1vbmcgZGVzY2VuZGFudHMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9tb3ZlRm9jdXMoZGlyZWN0aW9uKSB7XG4gICAgICAgIHZhciBudW1EZXNjZW5kYW50cyA9IHRoaXMuX2Rlc2NlbmRhbnRzLmxlbmd0aDtcblxuICAgICAgICB2YXIgZGVzY2VuZGFudCA9IHRoaXMuX2Rlc2NlbmRhbnRzW3RoaXMuX2FjdGl2ZURlc2NlbmRhbnRdO1xuXG4gICAgICAgIGRlc2NlbmRhbnQuc2V0QXR0cmlidXRlKCd0YWJJbmRleCcsIC0xKTtcblxuICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICs9IGRpcmVjdGlvbjtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5jaXJjdWxhcikge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHByb3BlciBtb2R1bG8gcmVzdWx0IHNpbmNlIHJlbWFpbmRlciBvcGVyYXRvciBkb2Vzbid0IGJlaGF2ZSBpbiB0aGVcbiAgICAgICAgICAgIC8vIHNhbWUgd2F5IGZvciBuZWdhdGl2ZSBudW1iZXJzXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gKCh0aGlzLl9hY3RpdmVEZXNjZW5kYW50ICUgbnVtRGVzY2VuZGFudHMpICsgbnVtRGVzY2VuZGFudHMpICUgbnVtRGVzY2VuZGFudHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5fYWN0aXZlRGVzY2VuZGFudCwgbnVtRGVzY2VuZGFudHMgLSAxKSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBkZXNjZW5kYW50ID0gdGhpcy5fZGVzY2VuZGFudHNbdGhpcy5fYWN0aXZlRGVzY2VuZGFudF07XG5cbiAgICAgICAgZGVzY2VuZGFudC5zZXRBdHRyaWJ1dGUoJ3RhYkluZGV4JywgMCk7XG4gICAgICAgIGRlc2NlbmRhbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGRlc2NlbmRhbnRzIGxpc3QgYnkgZXhlY3V0aW5nIHRoZSBDU1Mgc2VsZWN0b3IgYWdhaW4gYW5kIHJlc2V0cyB0aGUgZGVzY2VuZGFudHMgdGFiSW5kZXguXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gICAgICogQG1ldGhvZCBfcmVmcmVzaFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVmcmVzaCgpIHtcbiAgICAgICAgdmFyIGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuICAgICAgICBpZiAoZG9tTm9kZSkge1xuICAgICAgICAgICAgdmFyIGRlc2NlbmRhbnRzID0gZG9tTm9kZS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMucHJvcHMuZGVzY2VuZGFudHMpO1xuXG4gICAgICAgICAgICB2YXIgcHJpb3JpdHlEZXNjZW5kYW50cyA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLl9kZXNjZW5kYW50cyA9IFtdO1xuXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkZXNjZW5kYW50cykuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGFUYWJJbmRleCA9IGl0ZW0uZ2V0QXR0cmlidXRlKCdkYXRhLXRhYmluZGV4Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YVRhYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5RGVzY2VuZGFudHMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXNjZW5kYW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHByaW9yaXR5RGVzY2VuZGFudHMgPSBwcmlvcml0eURlc2NlbmRhbnRzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoTGFuZy50b0ludChhLmdldEF0dHJpYnV0ZSgnZGF0YS10YWJpbmRleCcpKSA+IExhbmcudG9JbnQoYi5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGFiaW5kZXgnKSkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2Rlc2NlbmRhbnRzID0gcHJpb3JpdHlEZXNjZW5kYW50cy5jb25jYXQodGhpcy5fZGVzY2VuZGFudHMpO1xuXG4gICAgICAgICAgICB0aGlzLl9hY3RpdmVEZXNjZW5kYW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5fZGVzY2VuZGFudHMuc29tZShmdW5jdGlvbihpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLmdldEF0dHJpYnV0ZSgndGFiaW5kZXgnKSA9PT0gJzAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FjdGl2ZURlc2NlbmRhbnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG59OyIsImltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uIHdoZXJlIGFuIFdpZGdldCBzaG91bGQgYmUgZGlzcGxheWVkIGJhc2VkIG9uIHRoZSBwb2ludFxuICogd2hlcmUgdXNlciBpbnRlcmFjdGVkIHdpdGggdGhlIGVkaXRvci5cbiAqXG4gKiBAY2xhc3MgV2lkZ2V0UG9zaXRpb25cbiAqL1xuZXhwb3J0IGRlZmF1bHQgV3JhcHBlZENvbXBvbmVudCA9PiBjbGFzcyBleHRlbmRzIFdyYXBwZWRDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAgICAgKi9cbiAgICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgICAgICAuLi5XcmFwcGVkQ29tcG9uZW50LmRlZmF1bHRQcm9wcyxcbiAgICAgICAgZ3V0dGVyOiB7XG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiAxMFxuICAgICAgICB9LFxuICAgICAgICBjb25zdHJhaW5Ub1ZpZXdwb3J0OiB0cnVlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbiBzY2hlZHVsZWQgYW5pbWF0aW9uIGZyYW1lLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBjYW5jZWxBbmltYXRpb25cbiAgICAgKi9cbiAgICBjYW5jZWxBbmltYXRpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9hbmltYXRpb25GcmFtZUlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCBpbiBwYWdlIGNvb3JkaW5hdGVzLFxuICAgICAqIHJlc3RyaWN0ZWQgdG8gZml0IHRvIGdpdmVuIHZpZXdwb3J0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBnZXRDb25zdHJhaW5lZFBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGF0dHJzIFRoZSBmb2xsb3dpbmcgcHJvcGVydGllcywgcHJvdmlkZWQgYXMgbnVtYmVyczpcbiAgICAgKiAtIGhlaWdodFxuICAgICAqIC0gbGVmdFxuICAgICAqIC0gdG9wXG4gICAgICogLSB3aWR0aFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3UGFuZVNpemUgT3B0aW9uYWwuIElmIG5vdCBwcm92aWRlZCwgdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lsbCBiZSB1c2VkLiBTaG91bGQgY29udGFpbiBhdCBsZWFzdCB0aGVzZSBwcm9wZXJ0aWVzOlxuICAgICAqIC0gd2lkdGhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGB4YCBhbmQgYHlgIHByb3BlcnRpZXMsIHdoaWNoIHJlcHJlc2VudCB0aGUgY29uc3RyYWluZWQgcG9zaXRpb24gb2YgdGhlXG4gICAgICogZWxlbWVudC5cbiAgICAgKi9cbiAgICBnZXRDb25zdHJhaW5lZFBvc2l0aW9uKGF0dHJzLCB2aWV3UGFuZVNpemUpIHtcbiAgICAgICAgdmlld1BhbmVTaXplID0gdmlld1BhbmVTaXplIHx8IG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0Vmlld1BhbmVTaXplKCk7XG5cbiAgICAgICAgdmFyIHggPSBhdHRycy5sZWZ0O1xuICAgICAgICB2YXIgeSA9IGF0dHJzLnRvcDtcblxuICAgICAgICBpZiAoYXR0cnMubGVmdCArIGF0dHJzLndpZHRoID4gdmlld1BhbmVTaXplLndpZHRoKSB7XG4gICAgICAgICAgICB4IC09IChhdHRycy5sZWZ0ICsgYXR0cnMud2lkdGggLSB2aWV3UGFuZVNpemUud2lkdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvc2l0aW9uLCBpbiBwYWdlIGNvb3JkaW5hdGVzLCBhY2NvcmRpbmcgdG8gd2hpY2ggYSB3aWRnZXQgc2hvdWxkIGFwcGVhci5cbiAgICAgKiBEZXBlbmRpbmcgb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLCB0aGUgd2RpZ2V0IG1heSBhcHBlYXIgYWJvdmUgb2Ygb3Igb24gYm90dG9tIG9mIHRoZSBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBJdCBkZXBlbmRzIG9uIHRoZSBwcm9wcyBlZGl0b3JFdmVudCB0byBhbmFseXplIHRoZSBmb2xsb3dpbmcgdXNlci1pbnRlcmFjdGlvbiBwYXJhbWV0ZXJzOlxuICAgICAqIC0ge09iamVjdH0gc2VsZWN0aW9uRGF0YSBUaGUgZGF0YSBhYm91dCB0aGUgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgYXMgcmV0dXJuZWQgZnJvbVxuICAgICAqIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfc2VsZWN0aW9ucmVnaW9uL2dldFNlbGVjdGlvbkRhdGE6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319XG4gICAgICogLSB7TnVtYmVyfSBwb3MgQ29udGFpbnMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBwb3NpdGlvbiwgY29uc2lkZXJlZCBhcyBtb3N0IGFwcHJvcHJpYXRlLlxuICAgICAqIFRoaXMgbWF5IGJlIHRoZSBwb2ludCB3aGVyZSB0aGUgdXNlciByZWxlYXNlZCB0aGUgbW91c2UsIG9yIGp1c3QgdGhlIGJlZ2lubmluZyBvciB0aGUgZW5kIG9mXG4gICAgICogdGhlIHNlbGVjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRJbnRlcmFjdGlvblBvaW50XG4gICAgICogQG1ldGhvZCBnZXRJbnRlcmFjdGlvblBvaW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBBbiBPYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqIGRpcmVjdGlvbiwgeCwgeSwgd2hlcmUgeCBhbmQgeSBhcmUgaW4gcGFnZSBjb29yZGluYXRlcyBhbmQgZGlyZWN0aW9uIGNhbiBiZSBvbmUgb2YgdGhlc2U6XG4gICAgICogQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1Agb3IgQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT01cbiAgICAgKi9cbiAgICBnZXRJbnRlcmFjdGlvblBvaW50KCkge1xuICAgICAgICB2YXIgZXZlbnRQYXlsb2FkID0gdGhpcy5wcm9wcy5lZGl0b3JFdmVudCA/IHRoaXMucHJvcHMuZWRpdG9yRXZlbnQuZGF0YSA6IG51bGw7XG5cbiAgICAgICAgaWYgKCFldmVudFBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzZWxlY3Rpb25EYXRhID0gZXZlbnRQYXlsb2FkLnNlbGVjdGlvbkRhdGE7XG5cbiAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnRQYXlsb2FkLm5hdGl2ZUV2ZW50O1xuXG4gICAgICAgIHZhciBwb3MgPSB7XG4gICAgICAgICAgICB4OiBldmVudFBheWxvYWQubmF0aXZlRXZlbnQucGFnZVgsXG4gICAgICAgICAgICB5OiBzZWxlY3Rpb25EYXRhLnJlZ2lvbi50b3BcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZGlyZWN0aW9uID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uZGlyZWN0aW9uO1xuXG4gICAgICAgIHZhciBlbmRSZWN0ID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uZW5kUmVjdDtcblxuICAgICAgICB2YXIgc3RhcnRSZWN0ID0gc2VsZWN0aW9uRGF0YS5yZWdpb24uc3RhcnRSZWN0O1xuXG4gICAgICAgIGlmIChlbmRSZWN0ICYmIHN0YXJ0UmVjdCAmJiBzdGFydFJlY3QudG9wID09PSBlbmRSZWN0LnRvcCkge1xuICAgICAgICAgICAgZGlyZWN0aW9uID0gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1A7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeDtcbiAgICAgICAgdmFyIHk7XG5cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSB0aGUgcG9pbnQgd2hlcmUgdXNlciByZWxlYXNlZCB0aGUgbW91c2UsIHNob3cgVG9vbGJhciBhdCB0aGlzIHBvaW50XG4gICAgICAgIC8vIG90aGVyd2lzZSBzaG93IGl0IG9uIHRoZSBtaWRkbGUgb2YgdGhlIHNlbGVjdGlvbi5cblxuICAgICAgICBpZiAocG9zLnggJiYgcG9zLnkpIHtcbiAgICAgICAgICAgIHggPSB0aGlzLl9nZXRYUG9pbnQoc2VsZWN0aW9uRGF0YSwgcG9zLngpO1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCkge1xuICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1pbihwb3MueSwgc2VsZWN0aW9uRGF0YS5yZWdpb24udG9wKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IE1hdGgubWF4KHBvcy55LCB0aGlzLl9nZXRZUG9pbnQoc2VsZWN0aW9uRGF0YSwgbmF0aXZlRXZlbnQpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHggPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5sZWZ0ICsgc2VsZWN0aW9uRGF0YS5yZWdpb24ud2lkdGggLyAyO1xuXG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSkge1xuXG4gICAgICAgICAgICAgICAgeSA9IHRoaXMuX2dldFlQb2ludChzZWxlY3Rpb25EYXRhLCBuYXRpdmVFdmVudCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgeSA9IHNlbGVjdGlvbkRhdGEucmVnaW9uLnRvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcG9zaXRpb24gb2YgdGhlIFdpZGdldC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRJbnRlcmFjdGlvblBvaW50XG4gICAgICogQG1ldGhvZCBfZ2V0WFBvaW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50WCBUaGUgWCBjb29yZGluYXRlIHJlY2VpdmVkIGZyb20gdGhlIG5hdGl2ZSBldmVudCAobW91c2V1cCkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNlbGVjdGlvbkRhdGEgVGhlIGRhdGEgYWJvdXQgdGhlIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yIGFzIHJldHVybmVkIGZyb20ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25yZWdpb24vZ2V0U2VsZWN0aW9uRGF0YTptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgY2FsY3VsYXRlZCBYIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgX2dldFhQb2ludChzZWxlY3Rpb25EYXRhLCBldmVudFgpIHtcbiAgICAgICAgdmFyIHJlZ2lvbiA9IHNlbGVjdGlvbkRhdGEucmVnaW9uO1xuXG4gICAgICAgIHZhciBsZWZ0ID0gcmVnaW9uLnN0YXJ0UmVjdCA/IHJlZ2lvbi5zdGFydFJlY3QubGVmdCA6IHJlZ2lvbi5sZWZ0O1xuICAgICAgICB2YXIgcmlnaHQgPSByZWdpb24uZW5kUmVjdCA/IHJlZ2lvbi5lbmRSZWN0LnJpZ2h0IDogcmVnaW9uLnJpZ2h0O1xuXG4gICAgICAgIHZhciB4O1xuXG4gICAgICAgIGlmIChsZWZ0IDwgZXZlbnRYICYmIHJpZ2h0ID4gZXZlbnRYKSB7XG4gICAgICAgICAgICB4ID0gZXZlbnRYO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGxlZnREaXN0ID0gTWF0aC5hYnMobGVmdCAtIGV2ZW50WCk7XG4gICAgICAgICAgICB2YXIgcmlnaHREaXN0ID0gTWF0aC5hYnMocmlnaHQgLSBldmVudFgpO1xuXG4gICAgICAgICAgICBpZiAobGVmdERpc3QgPCByaWdodERpc3QpIHsgLy8gdXNlciByYWlzZWQgdGhlIG1vdXNlIG9uIGxlZnQgb24gdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIHggPSBsZWZ0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB4ID0gcmlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgV2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldEludGVyYWN0aW9uUG9pbnRcbiAgICAgKiBAbWV0aG9kIF9nZXRZUG9pbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbmF0aXZlRXZlbnQgVGhlIGRhdGEgYWJvdXQgZXZlbnQgaXMgZmlyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2VsZWN0aW9uRGF0YSBUaGUgZGF0YSBhYm91dCB0aGUgc2VsZWN0aW9uIGluIHRoZSBlZGl0b3IgYXMgcmV0dXJuZWQgZnJvbSB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRTZWxlY3Rpb25EYXRhOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFRoZSBjYWxjdWxhdGVkIFkgcG9pbnQgaW4gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgKi9cbiAgICBfZ2V0WVBvaW50KHNlbGVjdGlvbkRhdGEsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICAgIHZhciB5ID0gMDtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uRGF0YSAmJiBuYXRpdmVFdmVudCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnRUYXJnZXQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobmF0aXZlRXZlbnQudGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnRUYXJnZXQuJCAmJiBlbGVtZW50VGFyZ2V0LmdldFN0eWxlKCdvdmVyZmxvdycpID09PSAnYXV0bycpIHtcbiAgICAgICAgICAgICAgICB5ID0gbmF0aXZlRXZlbnQudGFyZ2V0Lm9mZnNldFRvcCArIG5hdGl2ZUV2ZW50LnRhcmdldC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHkgPSBzZWxlY3Rpb25EYXRhLnJlZ2lvbi5ib3R0b207XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb3NpdGlvbiBvZiB0aGUgV2lkZ2V0IHRha2luZyBpbiBjb25zaWRlcmF0aW9uIHRoZVxuICAgICAqIHt7I2Nyb3NzTGluayBcIldpZGdldFBvc2l0aW9uL2d1dHRlcjphdHRyaWJ1dGVcIn19e3svY3Jvc3NMaW5rfX0gYXR0cmlidXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgIGdldFdpZGdldFhZUG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdCBUaGUgbGVmdCBvZmZzZXQgaW4gcGFnZSBjb29yZGluYXRlcyB3aGVyZSBUb29sYmFyIHNob3VsZCBiZSBzaG93bi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdG9wIFRoZSB0b3Agb2Zmc2V0IGluIHBhZ2UgY29vcmRpbmF0ZXMgd2hlcmUgVG9vbGJhciBzaG91bGQgYmUgc2hvd24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIG9mIHRoZSBzZWxlY3Rpb24uIE1heSBiZSBvbmUgb2YgdGhlIGZvbGxvd2luZzpcbiAgICAgKiBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUCBvciBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBBbiBBcnJheSB3aXRoIGxlZnQgYW5kIHRvcCBvZmZzZXRzIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICovXG4gICAgZ2V0V2lkZ2V0WFlQb2ludChsZWZ0LCB0b3AsIGRpcmVjdGlvbikge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIHZhciBndXR0ZXIgPSB0aGlzLnByb3BzLmd1dHRlcjtcblxuICAgICAgICBpZiAoZGlyZWN0aW9uID09PSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSB8fCBkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QKSB7XG4gICAgICAgICAgICBsZWZ0ID0gbGVmdCAtIGd1dHRlci5sZWZ0IC0gKGRvbU5vZGUub2Zmc2V0V2lkdGggLyAyKTtcblxuICAgICAgICAgICAgdG9wID0gKGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX1RPUF9UT19CT1RUT00pID8gKHRvcCArIGd1dHRlci50b3ApIDpcbiAgICAgICAgICAgICAgICAodG9wIC0gZG9tTm9kZS5vZmZzZXRIZWlnaHQgLSBndXR0ZXIudG9wKTtcblxuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX0xFRlRfVE9fUklHSFQgfHxcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX1JJR0hUX1RPX0xFRlQpIHtcblxuICAgICAgICAgICAgbGVmdCA9IChkaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9MRUZUX1RPX1JJR0hUKSA/XG4gICAgICAgICAgICAgICAgKGxlZnQgKyBndXR0ZXIubGVmdCArIGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMikgOlxuICAgICAgICAgICAgICAgIChsZWZ0IC0gMyAqIGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMiAtIGd1dHRlci5sZWZ0KTtcblxuICAgICAgICAgICAgdG9wID0gdG9wIC0gZ3V0dGVyLnRvcCAtIChkb21Ob2RlLm9mZnNldEhlaWdodCAvIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0b3AgPCAwKSB7XG4gICAgICAgICAgICB0b3AgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtsZWZ0LCB0b3BdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgd2lkZ2V0IGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBpc1Zpc2libGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSB3aWRnZXQgaXMgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNWaXNpYmxlKCkge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIGlmIChkb21Ob2RlKSB7XG4gICAgICAgICAgICB2YXIgZG9tRWxlbWVudCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkb21Ob2RlKTtcblxuICAgICAgICAgICAgcmV0dXJuIGRvbUVsZW1lbnQuaGFzQ2xhc3MoJ2FsbG95LWVkaXRvci12aXNpYmxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSB3aWRnZXQgZnJvbSBhIHN0YXJ0aW5nIHBvaW50IHRvIGEgZGVzdGluYXRpb24gcG9pbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cbiAgICAgKiBAbWV0aG9kIG1vdmVUb1BvaW50XG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBzdGFydFBvaW50IFRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIG1vdmVtZW50LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gZW5kUG9pbnQgVGhlIGRlc3RpbmF0aW9uIHBvaW50IGZvciB0aGUgbW92ZW1lbnQuXG4gICAgICovXG4gICAgbW92ZVRvUG9pbnQoc3RhcnRQb2ludCwgZW5kUG9pbnQpIHtcbiAgICAgICAgdmFyIGRvbUVsZW1lbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpO1xuXG4gICAgICAgIGRvbUVsZW1lbnQuc2V0U3R5bGVzKHtcbiAgICAgICAgICAgIGxlZnQ6IHN0YXJ0UG9pbnRbMF0gKyAncHgnLFxuICAgICAgICAgICAgdG9wOiBzdGFydFBvaW50WzFdICsgJ3B4JyxcbiAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVDbGFzcygnYWxsb3ktZWRpdG9yLWludmlzaWJsZScpO1xuXG4gICAgICAgIHRoaXMuX2FuaW1hdGUoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LmFkZENsYXNzKCdhZS10b29sYmFyLXRyYW5zaXRpb24nKTtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQuYWRkQ2xhc3MoJ2FsbG95LWVkaXRvci12aXNpYmxlJyk7XG4gICAgICAgICAgICBkb21FbGVtZW50LnNldFN0eWxlcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogZW5kUG9pbnRbMF0gKyAncHgnLFxuICAgICAgICAgICAgICAgIHRvcDogZW5kUG9pbnRbMV0gKyAncHgnLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgd2lkZ2V0IHdpdGggdGhlIGRlZmF1bHQgYW5pbWF0aW9uIHRyYW5zaXRpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgV2lkZ2V0UG9zaXRpb25cbiAgICAgKiBAbWV0aG9kIHNob3dcbiAgICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIGlmICghdGhpcy5pc1Zpc2libGUoKSAmJiBkb21Ob2RlKSB7XG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25Qb2ludCA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25Qb2ludCgpO1xuXG4gICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25Qb2ludCkge1xuICAgICAgICAgICAgICAgIHZhciBkb21FbGVtZW50ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGRvbU5vZGUpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpbmFsWCxcbiAgICAgICAgICAgICAgICAgICAgZmluYWxZLFxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsWCxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFk7XG5cbiAgICAgICAgICAgICAgICBmaW5hbFggPSBpbml0aWFsWCA9IHBhcnNlRmxvYXQoZG9tRWxlbWVudC5nZXRTdHlsZSgnbGVmdCcpKTtcbiAgICAgICAgICAgICAgICBmaW5hbFkgPSBpbml0aWFsWSA9IHBhcnNlRmxvYXQoZG9tRWxlbWVudC5nZXRTdHlsZSgndG9wJykpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuY29uc3RyYWluVG9WaWV3cG9ydCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5nZXRDb25zdHJhaW5lZFBvc2l0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcGFyc2VGbG9hdChkb21Ob2RlLm9mZnNldEhlaWdodCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBmaW5hbFgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGZpbmFsWSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwYXJzZUZsb2F0KGRvbU5vZGUub2Zmc2V0V2lkdGgpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsWCA9IHJlcy54O1xuICAgICAgICAgICAgICAgICAgICBmaW5hbFkgPSByZXMueTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25Qb2ludC5kaXJlY3Rpb24gPT09IENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxZID0gdGhpcy5wcm9wcy5zZWxlY3Rpb25EYXRhLnJlZ2lvbi5ib3R0b207XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFkgPSB0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEucmVnaW9uLnRvcDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVUb1BvaW50KFtpbml0aWFsWCwgaW5pdGlhbFldLCBbZmluYWxYLCBmaW5hbFldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHdpZGdldCBwb3NpdGlvbiBiYXNlZCBvbiB0aGUgY3VycmVudCBpbnRlcmFjdGlvbiBwb2ludC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBXaWRnZXRQb3NpdGlvblxuICAgICAqIEBtZXRob2QgdXBkYXRlUG9zaXRpb25cbiAgICAgKi9cbiAgICB1cGRhdGVQb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uUG9pbnQgPSB0aGlzLmdldEludGVyYWN0aW9uUG9pbnQoKTtcblxuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIGlmIChpbnRlcmFjdGlvblBvaW50ICYmIGRvbU5vZGUpIHtcbiAgICAgICAgICAgIHZhciB4eSA9IHRoaXMuZ2V0V2lkZ2V0WFlQb2ludChpbnRlcmFjdGlvblBvaW50LngsIGludGVyYWN0aW9uUG9pbnQueSwgaW50ZXJhY3Rpb25Qb2ludC5kaXJlY3Rpb24pO1xuXG4gICAgICAgICAgICBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZG9tTm9kZSkuc2V0U3R5bGVzKHtcbiAgICAgICAgICAgICAgICBsZWZ0OiB4eVswXSArICdweCcsXG4gICAgICAgICAgICAgICAgdG9wOiB4eVsxXSArICdweCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgYW4gYW5pbWF0aW9uIGZyYW1lLCBpZiBwb3NzaWJsZSwgdG8gc2ltdWxhdGUgYW4gYW5pbWF0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFdpZGdldFBvc2l0aW9uXG4gICAgICogQG1ldGhvZCBfYW5pbWF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZCBvbiB0aGUgc2NoZWR1bGVkIGZyYW1lLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfYW5pbWF0ZShjYWxsYmFjaykge1xuICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uRnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbktleXN0cm9rZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1rZXlzdHJva2UuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Cb2xkIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHN0eWxpbmcgYW4gc2VsZWN0aW9uIHdpdGggc3Ryb25nIChib2xkKSBzdHlsZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQm9sZFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uS2V5c3Ryb2tlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkJvbGQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Cb2xkXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5ib2xkfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1ib2xkXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYm9sZH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1ib2xkXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJvbGRcbiAqIEBtZW1iZXJvZiBCdXR0b25Cb2xkXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkJvbGQua2V5ID0gJ2JvbGQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkJvbGRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkJvbGQuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdib2xkJyxcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdleGVjQ29tbWFuZCcsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA2NiAvKkIqL1xuICAgIH0sXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX2JvbGQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbktleXN0cm9rZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbkJvbGRcbikpKSk7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkNhbWVyYUltYWdlIGNsYXNzIHRha2VzIHBob3RvIGZyb20gY2FtZXJhIGFuZCBpbnNlcnRzIGl0IHRvIHRoZSBjb250ZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25DYW1lcmFJbWFnZVxuICovXG5jbGFzcyBCdXR0b25DYW1lcmFJbWFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEZvY3VzZXMgdGhlIHRha2UgcGhvdG8gYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnMuYnV0dG9uVGFrZVBob3RvKS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0cmVhbS5zdG9wKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyZWFtLnN0b3AoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RyZWFtLmdldFZpZGVvVHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbih0cmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zdHJlYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBnZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8XG4gICAgICAgICAgICBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWE7XG5cbiAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCB7XG4gICAgICAgICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgICAgICAgIGF1ZGlvOiBmYWxzZVxuICAgICAgICB9LCB0aGlzLl9oYW5kbGVTdHJlYW1TdWNjZXNzLmJpbmQodGhpcyksIHRoaXMuX2hhbmRsZVN0cmVhbUVycm9yLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNhbWVyYVwiPlxuICAgICAgICAgICAgICAgIDx2aWRlbyByZWY9XCJ2aWRlb0NvbnRhaW5lclwiPlZpZGVvIHN0cmVhbSBub3QgYXZhaWxhYmxlLjwvdmlkZW8+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJhZS1jYW1lcmEtc2hvb3RcIiBvbkNsaWNrPXt0aGlzLnRha2VQaG90by5iaW5kKHRoaXMpfSByZWY9XCJidXR0b25UYWtlUGhvdG9cIj5UYWtlIHBob3RvPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGNhbnZhcyBjbGFzc05hbWU9XCJhZS1jYW1lcmEtY2FudmFzXCIgcmVmPVwiY2FudmFzQ29udGFpbmVyXCI+PC9jYW52YXM+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUYWtlcyBwaG90byBmcm9tIHRoZSB2aWRlbyBzdHJlYW0gYW5kIGluc2VydHMgaW4gaW50byBlZGl0b3IncyBjb250ZW50LlxuICAgICAqXG4gICAgICogQGZpcmVzIEJ1dHRvbkNhbWVyYUltYWdlI2ltYWdlQ2FtZXJhQWRkXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCB0YWtlUGhvdG9cbiAgICAgKi9cbiAgICB0YWtlUGhvdG8oKSB7XG4gICAgICAgIHZhciB2aWRlb0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnZpZGVvQ29udGFpbmVyKTtcbiAgICAgICAgdmFyIGNhbnZhc0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmNhbnZhc0NvbnRhaW5lcik7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSBjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl92aWRlb0hlaWdodDtcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5wcm9wcy52aWRlb1dpZHRoO1xuXG4gICAgICAgIGlmICh3aWR0aCAmJiBoZWlnaHQpIHtcbiAgICAgICAgICAgIGNhbnZhc0VsLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBjYW52YXNFbC5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHZpZGVvRWwsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgICAgICB2YXIgaW1nVVJMID0gY2FudmFzRWwudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcblxuICAgICAgICAgICAgdmFyIGVsID0gQ0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJzxpbWcgc3JjPVwiJyArIGltZ1VSTCArICdcIj4nKTtcblxuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblxuICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnaW1hZ2VDYW1lcmFBZGQnLCBlbCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNwbGF5cyBlcnJvciBtZXNzYWdlIGluIGNhc2Ugb2YgdmlkZW8gc3RyZWFtIGNhcHR1cmluZyBmYWlsdXJlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQG1ldGhvZCBfaGFuZGxlU3RyZWFtRXJyb3JcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlcnJvciBUaGUgZmlyZWQgZXZlbnQgaW4gY2FzZSBvZiBlcnJvci5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhbmRsZVN0cmVhbUVycm9yKGVycm9yKSB7XG4gICAgICAgIHdpbmRvdy5hbGVydCgnQW4gZXJyb3Igb2NjdXJyZWQhICcgKyBlcnJvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHN0cmVhbWluZyB2aWRlbyBpbiB0aGUgdmlkZW8gZWxlbWVudCBhbmQgc2V0cyB3aWR0aC9oZWlnaHQgdG8gdGhlIHZpZGVvXG4gICAgICogYW5kIGNhbnZhcyBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuICAgICAqIEBtZXRob2QgX2hhbmRsZVN0cmVhbVN1Y2Nlc3NcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RyZWFtIFRoZSB2aWRlbyBzdHJlYW1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhbmRsZVN0cmVhbVN1Y2Nlc3Moc3RyZWFtKSB7XG4gICAgICAgIHZhciB2aWRlb0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLnZpZGVvQ29udGFpbmVyKTtcbiAgICAgICAgdmFyIGNhbnZhc0VsID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmNhbnZhc0NvbnRhaW5lcik7XG5cbiAgICAgICAgdmlkZW9FbC5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB2aWRlb0VsLnZpZGVvSGVpZ2h0IC8gKHZpZGVvRWwudmlkZW9XaWR0aC90aGlzLnByb3BzLnZpZGVvV2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoaXNOYU4oaGVpZ2h0KSkge1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IHRoaXMucHJvcHMudmlkZW9XaWR0aCAvICg0LzMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2aWRlb0VsLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCB0aGlzLnByb3BzLnZpZGVvV2lkdGgpO1xuICAgICAgICAgICAgdmlkZW9FbC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGhlaWdodCk7XG4gICAgICAgICAgICBjYW52YXNFbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgdGhpcy5wcm9wcy52aWRlb1dpZHRoKTtcbiAgICAgICAgICAgIGNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhpcy5fdmlkZW9IZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIH0uYmluZCh0aGlzKSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcblxuICAgICAgICBpZiAobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkge1xuICAgICAgICAgICAgdmlkZW9FbC5tb3pTcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2aWRlb0VsLnNyYyA9ICh3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwpLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlkZW9FbC5wbGF5KCk7XG5cbiAgICAgICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcy5yZWZzLmJ1dHRvblRha2VQaG90bykuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFuIGltYWdlIGlzIGJlaW5nIHRha2VuIGZyb20gdGhlIGNhbWVyYSBhbmQgYWRkZWQgYXMgYW4gZWxlbWVudCB0byB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGV2ZW50IEJ1dHRvbkNhbWVyYUltYWdlI2ltYWdlQ2FtZXJhQWRkXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYUltYWdlXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZWwgVGhlIGNyZWF0ZWQgaW1nIGVsZW1lbnQgaW4gZWRpdG9yLlxuICAgICAqL1xufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGNhbWVyYUltYWdlXG4gKiBAbWVtYmVyb2YgQnV0dG9uQ2FtZXJhSW1hZ2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uQ2FtZXJhSW1hZ2Uua2V5ID0gJ2NhbWVyYUltYWdlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFJbWFnZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqL1xuQnV0dG9uQ2FtZXJhSW1hZ2UuZGVmYXVsdFByb3BzID0ge1xuICAgIHZpZGVvV2lkdGg6IDMyMFxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ2FtZXJhSW1hZ2U7XG4iLCJpbXBvcnQgQnV0dG9uQ2FtZXJhSW1hZ2UgZnJvbSAnLi9idXR0b24tY2FtZXJhLWltYWdlLmpzeCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25DYW1lcmEgY2xhc3MgcmVuZGVycyBpbiB0d28gZGlmZmVyZW50IHdheXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGUuXG4gKiAtIEV4Y2x1c2l2ZTogUmVuZGVycyBCdXR0b25DYW1lcmFJbWFnZSBpbiBvcmRlciB0byB0YWtlIHBob3RvIGZyb20gdGhlIGNhbWVyYS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ2FtZXJhXG4gKi9cbmNsYXNzIEJ1dHRvbkNhbWVyYSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNhbWVyYVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvbkNhbWVyYUltYWdlIHsuLi50aGlzLnByb3BzfSAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9ICEobmF2aWdhdG9yLmdldFVzZXJNZWRpYSB8fFxuICAgICAgICAgICAgICAgIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhICYmIGxvY2F0aW9uLnByb3RvY29sID09PSAnaHR0cHMnKSB8fFxuICAgICAgICAgICAgICAgIG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEgfHxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0b3IubXNHZXRVc2VyTWVkaWEpO1xuXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNhYmxlZCA/IEFsbG95RWRpdG9yLlN0cmluZ3MuY2FtZXJhRGlzYWJsZWQgOiBBbGxveUVkaXRvci5TdHJpbmdzLmNhbWVyYTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e2xhYmVsfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBkYXRhLXR5cGU9XCJidXR0b24taW1hZ2UtY2FtZXJhXCIgZGlzYWJsZWQ9e2Rpc2FibGVkfSBvbkNsaWNrPXt0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUuYmluZChCdXR0b25DYW1lcmEua2V5KX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtsYWJlbH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tY2FtZXJhXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBjYW1lcmFcbiAqIEBtZW1iZXJvZiBCdXR0b25DYW1lcmFcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uQ2FtZXJhLmtleSA9ICdjYW1lcmEnO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25DYW1lcmE7XG4iLCJpbXBvcnQgQnV0dG9uQWN0aW9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tYWN0aW9uLXN0eWxlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uQ29kZSBjbGFzcyBwcm92aWRlcyB3cmFwcyBhIHNlbGVjdGlvbiBpbiBgcHJlYCBlbGVtZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db2RlXG4gKiBAdXNlcyBCdXR0b25BY3Rpb25TdHlsZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25Db2RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29kZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29kZX0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tY29kZVwiIG9uQ2xpY2s9e3RoaXMuYXBwbHlTdHlsZS5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29kZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1jb2RlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGNvZGVcbiAqIEBtZW1iZXJvZiBCdXR0b25Db2RlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkNvZGUua2V5ID0gJ2NvZGUnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkNvZGVcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkNvZGUuZGVmYXVsdFByb3BzID0ge1xuICAgIHN0eWxlOiB7XG4gICAgICAgIGVsZW1lbnQ6ICdwcmUnXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQWN0aW9uU3R5bGUoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgIEJ1dHRvblN0eWxlKFxuICAgICAgICBCdXR0b25Db2RlXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25Db21tYW5kTGlzdEl0ZW0gY2xhc3MgaXMgYSBVSSBjbGFzcyB0aGF0IHJlbmRlcnMgYSBCdXR0b25Db21tYW5kIHRoYXQgY2FuIGJlIHVzZWQgaW5zaWRlXG4gKiBhIGxpc3QgYXMgYW4gaXRlbSwgd2l0aCBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBpdHMgYmVoYXZpb3VyLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Db21tYW5kTGlzdEl0ZW1cbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqL1xuY2xhc3MgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e3RoaXMucHJvcHMuZGVzY3JpcHRpb259IGNsYXNzTmFtZT17dGhpcy5fZ2V0Q2xhc3NOYW1lKCl9IG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9Pnt0aGlzLnByb3BzLmRlc2NyaXB0aW9ufTwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNsYXNzIG5hbWUgb2YgV2lkZ2V0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbVxuICAgICAqIEBtZXRob2QgX2dldENsYXNzTmFtZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBXaWRnZXQuXG4gICAgICovXG4gICAgX2dldENsYXNzTmFtZSgpIHtcbiAgICAgICAgdmFyIGNsYXNzTmFtZSA9ICdhZS10b29sYmFyLWVsZW1lbnQnO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmljb24pIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIGFlLWljb24tJyArIHRoaXMucHJvcHMuaWNvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjbGFzc05hbWU7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJ1dHRvbkNvbW1hbmRMaXN0SXRlbVxuICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRMaXN0SXRlbVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25Db21tYW5kTGlzdEl0ZW0ua2V5ID0gJ2J1dHRvbkNvbW1hbmRMaXN0SXRlbSc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZExpc3RJdGVtXG4pOyIsImltcG9ydCBCdXR0b25Db21tYW5kTGlzdEl0ZW0gZnJvbSAnLi9idXR0b24tY29tbWFuZC1saXN0LWl0ZW0uanN4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBXaWRnZXRGb2N1c01hbmFnZXIgZnJvbSAnLi4vYmFzZS93aWRnZXQtZm9jdXMtbWFuYWdlci5qcyc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkNvbW1hbmRzTGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzaG93aW5nIGEgbGlzdCBvZiBjb21tYW5kcyB0aGF0IGNhbiBiZVxuICogZXhlY3V0ZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uQ29tbWFuZHNMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uQ29tbWFuZHNMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50LCBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogRm9jdXNlcyBvbiB0aGUgbGlzdCBub2RlIHRvIGFsbG93IGtleWJvYXJkIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRzTGlzdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcykuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBsaXN0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRzTGlzdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1kcm9wZG93biBhZS1hcnJvdy1ib3ggYWUtYXJyb3ctYm94LXRvcC1sZWZ0XCIgb25Gb2N1cz17dGhpcy5mb2N1cy5iaW5kKHRoaXMpfSBvbktleURvd249e3RoaXMuaGFuZGxlS2V5LmJpbmQodGhpcyl9IHRhYkluZGV4PVwiMFwiPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJhZS1saXN0Ym94XCIgaWQ9e3RoaXMucHJvcHMubGlzdElkfSByb2xlPVwibGlzdGJveFwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyQWN0aW9ucyh0aGlzLnByb3BzLmNvbW1hbmRzKX1cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBpbnN0YW5jZXMgb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtIHdpdGggdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSByb3cgYWN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Db21tYW5kc0xpc3RcbiAgICAgKiBAbWV0aG9kIF9yZW5kZXJBY3Rpb25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBSZW5kZXJlZCBpbnN0YW5jZXMgb2YgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGNsYXNzXG4gICAgICovXG4gICAgX3JlbmRlckFjdGlvbnMoY29tbWFuZHMpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yO1xuICAgICAgICB2YXIgaXRlbXM7XG5cbiAgICAgICAgaWYgKGNvbW1hbmRzICYmIGNvbW1hbmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlbXMgPSBjb21tYW5kcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxsaSBrZXk9e2l0ZW0uY29tbWFuZH0gcm9sZT1cIm9wdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSBjb21tYW5kPXtpdGVtLmNvbW1hbmR9IGRlc2NyaXB0aW9uPXt0eXBlb2YgaXRlbS5sYWJlbCA9PT0gJ3N0cmluZycgPyBpdGVtLmxhYmVsIDogaXRlbS5sYWJlbCgpfSBlZGl0b3I9e2VkaXRvcn0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJ1dHRvbkNvbW1hbmRzTGlzdFxuICogQG1lbWJlcm9mIEJ1dHRvbkNvbW1hbmRzTGlzdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25Db21tYW5kc0xpc3Qua2V5ID0gJ2J1dHRvbkNvbW1hbmRzTGlzdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uQ29tbWFuZHNMaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25Db21tYW5kc0xpc3QuZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiBmYWxzZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvbkNvbW1hbmRzTGlzdFxuKTsiLCJpbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uRHJvcGRvd24gY2xhc3MgcHJvdmlkZXMgbWFya3VwIGFuZCBrZXlib2FyZCBuYXZpZ2F0aW9uIGJlaGF2aW91ciB0byBhIGRyb3Bkb3duXG4gKiBvcGVuZWQgZnJvbSBhIGJ1dHRvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uRHJvcGRvd25cbiAqL1xuY2xhc3MgQnV0dG9uRHJvcGRvd24gZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Ecm9wZG93blxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1kcm9wZG93biBhZS1hcnJvdy1ib3ggYWUtYXJyb3ctYm94LXRvcC1sZWZ0XCIgb25Gb2N1cz17dGhpcy5mb2N1cy5iaW5kKHRoaXMpfSBvbktleURvd249e3RoaXMuaGFuZGxlS2V5LmJpbmQodGhpcyl9IHRhYkluZGV4PVwiMFwiPlxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJhZS1saXN0Ym94XCIgcm9sZT1cImxpc3Rib3hcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGRyb3Bkb3duIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGRyb3Bkb3duXG4gKiBAbWVtYmVyb2YgQnV0dG9uRHJvcGRvd25cbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uRHJvcGRvd24ua2V5ID0gJ2Ryb3Bkb3duJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25Ecm9wZG93blxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqL1xuQnV0dG9uRHJvcGRvd24uZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiBmYWxzZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvbkRyb3Bkb3duXG4pOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxudmFyIEtFWV9FTlRFUiA9IDEzO1xudmFyIEtFWV9FU0MgPSAyNztcblxuLyoqXG4gKiBUaGUgQnV0dG9uRW1iZWRFZGl0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGFuIGVtYmVkIGxpbmsgaW4gYSBkb2N1bWVudC5cbiAqIFByb3ZpZGVzIFVJIGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhbiBlbWJlZCBsaW5rLlxuICpcbiAqIEBjbGFzcyBCdXR0b25FbWJlZEVkaXRcbiAqL1xuY2xhc3MgQnV0dG9uRW1iZWRFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5saW5rSW5wdXQgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZ2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEZvY3VzZXMgb24gdGhlIGxpbmsgaW5wdXQgdG8gaW1tZWRpYXRlbHkgYWxsb3cgZWRpdGluZy4gVGhpcyBzaG91bGQgb25seSBoYXBwZW4gaWYgdGhlIGNvbXBvbmVudFxuICAgICAqIGlzIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIHByZXZlbnQgYWdncmVzc2l2ZSBmb2N1cyBzdGVhbGluZy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSB8fCB0aGlzLnByb3BzLm1hbnVhbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCByZW5kZXJpbmcgY3ljbGUgYmVmb3JlIGZvY3VzaW5nIHRvIGF2b2lkIHVuZGVzaXJlZFxuICAgICAgICAgICAgLy8gc2Nyb2xscyBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX2ZvY3VzTGlua0lucHV0LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuX2ZvY3VzTGlua0lucHV0LmJpbmQodGhpcyksIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmdldEluaXRpYWxTdGF0ZSgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgICAqIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkIGFzIHRoZSBpbml0aWFsIHZhbHVlIG9mIHRoaXMuc3RhdGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBnZXRJbml0aWFsU3RhdGVcbiAgICAgKi9cbiAgICBnZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgZW1iZWQ7XG5cbiAgICAgICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50ID0gc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZW1iZWQgPSBzZWxlY3RlZEVsZW1lbnQuZmluZE9uZSgnW2RhdGEtd2lkZ2V0PVwiYWVfZW1iZWRcIl0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBocmVmID0gZW1iZWQgPyBlbWJlZC5nZXRBdHRyaWJ1dGUoJ2RhdGEtYWUtZW1iZWQtdXJsJykgOiAnJztcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZWxlbWVudDogZW1iZWQsXG4gICAgICAgICAgICBpbml0aWFsTGluazoge1xuICAgICAgICAgICAgICAgIGhyZWY6IGhyZWZcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5rSHJlZjogaHJlZlxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNsZWFyTGlua1N0eWxlID0ge1xuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5saW5rSHJlZiA/IDEgOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGlua1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVFbWJlZH0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLWVtYmVkLXJlbW92ZVwiIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5lbGVtZW50fSBvbkNsaWNrPXt0aGlzLl9yZW1vdmVFbWJlZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuZGVsZXRlRW1iZWR9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWJpblwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lci1pbnB1dCB4eGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImFlLWlucHV0XCIgb25DaGFuZ2U9e3RoaXMuX2hhbmRsZUxpbmtIcmVmQ2hhbmdlLmJpbmQodGhpcyl9IG9uS2V5RG93bj17dGhpcy5faGFuZGxlS2V5RG93bi5iaW5kKHRoaXMpfSBwbGFjZWhvbGRlcj17QWxsb3lFZGl0b3IuU3RyaW5ncy5lZGl0TGlua30gcmVmPXt0aGlzLmxpbmtJbnB1dH0gdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5saW5rSHJlZn0+PC9pbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFySW5wdXR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvbiBhZS1pY29uLXJlbW92ZVwiIG9uQ2xpY2s9e3RoaXMuX2NsZWFyTGluay5iaW5kKHRoaXMpfSBzdHlsZT17Y2xlYXJMaW5rU3R5bGV9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFyfT48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29uZmlybX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGlzYWJsZWQ9eyF0aGlzLl9pc1ZhbGlkU3RhdGUoKX0gb25DbGljaz17dGhpcy5fZW1iZWRMaW5rLmJpbmQodGhpcyl9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLW9rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBsaW5rIGlucHV0LiBUaGlzIG9ubHkgY2hhbmdlcyB0aGUgY29tcG9uZW50IGludGVybmFsIHN0YXRlLCBidXQgZG9lcyBub3RcbiAgICAgKiBhZmZlY3QgdGhlIGxpbmsgZWxlbWVudCBvZiB0aGUgZWRpdG9yLiBPbmx5IHRoZSBfcmVtb3ZlTGluayBhbmQgX3VwZGF0ZUxpbmsgbWV0aG9kc1xuICAgICAqIGFyZSB0cmFuc2xhdGVkIHRvIHRoZSBlZGl0b3IgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIF9jbGVhckxpbmtcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NsZWFyTGluaygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rSHJlZjogJydcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgdGhlIGVtYmVkVXJsIGNvbW1hbmQgdG8gdHJhbnNmb3JtIHRoZSBsaW5rIGludG8gYW4gZW1iZWQgbWVkaWEgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBfZW1iZWRMaW5rXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9lbWJlZExpbmsoKSB7XG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIG5hdGl2ZUVkaXRvci5leGVjQ29tbWFuZCgnZW1iZWRVcmwnLCB7XG4gICAgICAgICAgICB1cmw6IHRoaXMuc3RhdGUubGlua0hyZWZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjYW5jZWxFeGNsdXNpdmUgd2l0aCB0aGUgYm91bmQgcGFyYW1ldGVycyBpbiBjYXNlIHRoZSBidXR0b24gaXMgdXNlZFxuICAgICAgICAvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG4gICAgICAgIHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9jdXNlcyB0aGUgdXNlciBjdXJzb3Igb24gdGhlIHdpZGdldCdzIGlucHV0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuICAgICAqIEBtZXRob2QgX2ZvY3VzTGlua0lucHV0XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9mb2N1c0xpbmtJbnB1dCgpIHtcbiAgICAgICAgdGhpcy5saW5rSW5wdXQuY3VycmVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JzIGtleSBpbnRlcmFjdGlvbiBpbnNpZGUgdGhlIGlucHV0IGVsZW1lbnQgdG8gcmVzcG9uZCB0byB0aGUga2V5czpcbiAgICAgKiAtIEVudGVyOiBDcmVhdGVzL3VwZGF0ZXMgdGhlIGxpbmsuXG4gICAgICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuICAgICAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIgfHwgZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIpIHtcbiAgICAgICAgICAgIHRoaXMuX2VtYmVkTGluaygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEtFWV9FU0MpIHtcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGNhbmNlbEV4Y2x1c2l2ZSB3aXRoIHRoZSBib3VuZCBwYXJhbWV0ZXJzIGluIGNhc2UgdGhlIGJ1dHRvbiBpcyB1c2VkXG4gICAgICAgICAgICAvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG4gICAgICAgICAgICB0aGlzLnByb3BzLmNhbmNlbEV4Y2x1c2l2ZSgpO1xuXG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjb21wb25lbnQgc3RhdGUgd2hlbiB0aGUgbGluayBpbnB1dCBjaGFuZ2VzIG9uIHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gICAgICogQG1ldGhvZCBfaGFuZGxlTGlua0hyZWZDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFuZGxlTGlua0hyZWZDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rSHJlZjogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgdGhlIGN1cnJlbnQgbGluayBzdGF0ZSBpcyB2YWxpZCBzbyB0aGUgdXNlciBjYW4gc2F2ZSB0aGUgbGluay4gQSB2YWxpZCBzdGF0ZVxuICAgICAqIG1lYW5zIHRoYXQgd2UgaGF2ZSBhIG5vbi1lbXB0eSBocmVmIHRoYXQncyBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgb25lLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkRWRpdFxuICAgICAqIEBtZXRob2QgX2lzVmFsaWRTdGF0ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzdGF0ZSBpcyB2YWxpZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgX2lzVmFsaWRTdGF0ZSgpIHtcbiAgICAgICAgdmFyIHZhbGlkU3RhdGUgPVxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5rSHJlZiAmJiAoXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5saW5rSHJlZiAhPT0gdGhpcy5zdGF0ZS5pbml0aWFsTGluay5ocmVmXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB2YWxpZFN0YXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGVtYmVkIGluIHRoZSBlZGl0b3IgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZEVkaXRcbiAgICAgKiBAbWV0aG9kIF9yZW1vdmVFbWJlZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlRW1iZWQoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIHZhciBlbWJlZFdyYXBwZXIgPSB0aGlzLnN0YXRlLmVsZW1lbnQuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lmhhc0NsYXNzKCdja2Vfd2lkZ2V0X3dyYXBwZXInKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZW1iZWRXcmFwcGVyLnJlbW92ZSgpO1xuXG4gICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgZW1iZWRFZGl0XG4gKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRFZGl0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkVtYmVkRWRpdC5rZXkgPSAnZW1iZWRFZGl0JztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uRW1iZWRFZGl0O1xuIiwiaW1wb3J0IEJ1dHRvbkVtYmVkRWRpdCBmcm9tICcuL2J1dHRvbi1lbWJlZC1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uS2V5c3Ryb2tlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWtleXN0cm9rZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25FbWJlZCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhbiBlbWJlZCBsaW5rIGluIGEgZG9jdW1lbnQuXG4gKiBCdXR0b25FbWJlZCByZW5kZXJzIGluIHR3byBkaWZmZXJlbnQgbW9kZXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGVcbiAqIC0gRXhjbHVzaXZlOiBUaGUgQnV0dG9uRW1iZWRFZGl0IFVJIHdpdGggYWxsIHRoZSBsaW5rIGVkaXRpb24gY29udHJvbHMuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkVtYmVkXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqL1xuY2xhc3MgQnV0dG9uRW1iZWQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25FbWJlZFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvbkVtYmVkRWRpdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBkYXRhLXR5cGU9XCJidXR0b24tZW1iZWRcIiBvbkNsaWNrPXt0aGlzLl9yZXF1ZXN0RXhjbHVzaXZlLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1hZGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdHMgdGhlIGxpbmsgYnV0dG9uIHRvIGJlIHJlbmRlcmVkIGluIGV4Y2x1c2l2ZSBtb2RlIHRvIGFsbG93IHRoZSBlbWJlZGRpbmcgb2YgYSBsaW5rLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkVtYmVkXG4gICAgICogQG1ldGhvZCBfcmVxdWVzdEV4Y2x1c2l2ZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVxdWVzdEV4Y2x1c2l2ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlKEJ1dHRvbkVtYmVkLmtleSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGVtYmVkXG4gKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uRW1iZWQgLmtleSA9ICdlbWJlZCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uRW1iZWRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkVtYmVkLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdfcmVxdWVzdEV4Y2x1c2l2ZScsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyBDS0VESVRPUi5TSElGVCArIDc2IC8qTCovXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uS2V5c3Ryb2tlKFxuICAgIEJ1dHRvbkVtYmVkXG4pOyIsImltcG9ydCBCdXR0b25BY3Rpb25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1hY3Rpb24tc3R5bGUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25IMSBjbGFzcyBwcm92aWRlcyB3cmFwcyBhIHNlbGVjdGlvbiBpbiBgaDFgIGVsZW1lbnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkgxXG4gKiBAdXNlcyBCdXR0b25BY3Rpb25TdHlsZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25IMSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkgxXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5oMX0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24taDFcIiBvbkNsaWNrPXt0aGlzLmFwcGx5U3R5bGUuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmgxfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWgxXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGgxXG4gKiBAbWVtYmVyb2YgQnV0dG9uSDFcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSDEua2V5ID0gJ2gxJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25IMVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSDEuZGVmYXVsdFByb3BzID0ge1xuICAgIHN0eWxlOiB7XG4gICAgICAgIGVsZW1lbnQ6ICdoMSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25BY3Rpb25TdHlsZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbkgxXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkFjdGlvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWFjdGlvbi1zdHlsZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkgyIGNsYXNzIHByb3ZpZGVzIHdyYXBzIGEgc2VsZWN0aW9uIGluIGBoMmAgZWxlbWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSDJcbiAqIEB1c2VzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkgyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSDJcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmgyfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1oMlwiIG9uQ2xpY2s9e3RoaXMuYXBwbHlTdHlsZS5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaDJ9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24taDJcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaDJcbiAqIEBtZW1iZXJvZiBCdXR0b25IMlxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25IMi5rZXkgPSAnaDInO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkgyXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25IMi5kZWZhdWx0UHJvcHMgPSB7XG4gICAgc3R5bGU6IHtcbiAgICAgICAgZWxlbWVudDogJ2gyJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkFjdGlvblN0eWxlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uSDJcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25IbGluZSBjbGFzcyBwcm92aWRlcyBpbnNlcnRzIGhvcml6b250YWwgbGluZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSGxpbmVcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbkhsaW5lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSGxpbmVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5ob3Jpem9udGFscnVsZX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLWhsaW5lXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaG9yaXpvbnRhbHJ1bGV9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tc2VwYXJhdG9yXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGhsaW5lXG4gKiBAbWVtYmVyb2YgQnV0dG9uSGxpbmVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSGxpbmUua2V5ID0gJ2hsaW5lJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25IbGluZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSGxpbmUuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdob3Jpem9udGFscnVsZScsXG4gICAgc3R5bGU6IHtcbiAgICAgICAgZWxlbWVudDogJ2hyJ1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbkhsaW5lXG4pKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGFuIGltYWdlIGluIHRoZSBjZW50ZXIuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkNlbnRlclxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLWltYWdlLWFsaWduLWNlbnRlclwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduQ2VudGVyfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLWNlbnRlclwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBpbWFnZUNlbnRlclxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSW1hZ2VBbGlnbkNlbnRlci5rZXkgPSAnaW1hZ2VDZW50ZXInO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25DZW50ZXJcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkltYWdlQWxpZ25DZW50ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdqdXN0aWZ5Y2VudGVyJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25Db21tYW5kQWN0aXZlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICAgICAgQnV0dG9uSW1hZ2VBbGlnbkNlbnRlclxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkltYWdlQWxpZ25MZWZ0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGFsaWduaW5nIGFuIGltYWdlIG9uIGxlZnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkltYWdlQWxpZ25MZWZ0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uSW1hZ2VBbGlnbkxlZnQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZUFsaWduTGVmdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1pbWFnZS1hbGlnbi1sZWZ0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLWxlZnRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW1hZ2VMZWZ0XG4gKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkxlZnRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSW1hZ2VBbGlnbkxlZnQua2V5ID0gJ2ltYWdlTGVmdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnbkxlZnRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbkltYWdlQWxpZ25MZWZ0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnanVzdGlmeWxlZnQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbkNvbW1hbmRBY3RpdmUoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgICAgICBCdXR0b25JbWFnZUFsaWduTGVmdFxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkltYWdlQWxpZ25SaWdodCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhbGlnbmluZyBhbiBpbWFnZSBvbiByaWdodC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1pbWFnZS1hbGlnbi1yaWdodFwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduUmlnaHR9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tYWxpZ24tcmlnaHRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW1hZ2VSaWdodFxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25SaWdodFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25JbWFnZUFsaWduUmlnaHQua2V5ID0gJ2ltYWdlUmlnaHQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkltYWdlQWxpZ25SaWdodFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSW1hZ2VBbGlnblJpZ2h0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnanVzdGlmeXJpZ2h0J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25Db21tYW5kQWN0aXZlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICAgICAgQnV0dG9uSW1hZ2VBbGlnblJpZ2h0XG4pKSk7IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbWFnZSBjbGFzcyBpbnNlcnRzIGFuIGltYWdlIHRvIHRoZSBjb250ZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25JbWFnZVxuICovXG5jbGFzcyBCdXR0b25JbWFnZSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLmZpbGVJbnB1dCA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgaW5wdXRTeWxlID0ge2Rpc3BsYXk6ICdub25lJ307XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmltYWdlfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBkYXRhLXR5cGU9XCJidXR0b24taW1hZ2VcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbWFnZX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24taW1hZ2VcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICAgICAgICA8aW5wdXQgYWNjZXB0PVwiaW1hZ2UvKlwiIG9uQ2hhbmdlPXt0aGlzLl9vbklucHV0Q2hhbmdlLmJpbmQodGhpcyl9IHJlZj17dGhpcy5maWxlSW5wdXR9IHN0eWxlPXtpbnB1dFN5bGV9IHR5cGU9XCJmaWxlXCIvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2ltdWxhdGVzIGNsaWNrIG9uIHRoZSBpbnB1dCBlbGVtZW50LiBUaGlzIHdpbGwgb3BlbiBicm93c2VyJ3MgbmF0aXZlIGZpbGUgb3BlbiBkaWFsb2cuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VcbiAgICAgKiBAbWV0aG9kIGhhbmRsZUNsaWNrXG4gICAgICogQHBhcmFtIHtTeW50aGV0aWNFdmVudH0gZXZlbnQgVGhlIHJlY2VpdmVkIGNsaWNrIGV2ZW50IG9uIHRoZSBidXR0b24uXG4gICAgICovXG4gICAgaGFuZGxlQ2xpY2soKSB7XG4gICAgICAgIHRoaXMuZmlsZUlucHV0LmN1cnJlbnQuY2xpY2soKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbiBpbnB1dCBjaGFuZ2UsIHJlYWRzIHRoZSBjaG9zZW4gZmlsZSBhbmQgZmlyZXMgYW4gZXZlbnQgYGJlZm9yZUltYWdlQWRkYCB3aXRoIHRoZSBpbWFnZSB3aGljaCB3aWxsIGJlIGFkZGVkXG4gICAgICogdG8gdGhlIGNvbnRlbnQuIFRoZSBpbWFnZSBmaWxlIHdpbGwgYmUgcGFzc2VkIGluIHRoZSBgaW1hZ2VGaWxlc2AgcHJvcGVydHkuXG4gICAgICogSWYgYW55IG9mIHRoZSBsaXN0ZW5lcnMgcmV0dXJucyBgZmFsc2VgIG9yIGNhbmNlbHMgdGhlIGV2ZW50LCB0aGUgaW1hZ2Ugd29uJ3QgYmUgYWRkZWQgdG8gdGhlIGNvbnRlbnQuXG4gICAgICogT3RoZXJ3aXNlLCBhbiBldmVudCBgaW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgaW5zZXJ0ZWQgZWxlbWVudCBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLlxuICAgICAqIFRoZSBwYXNzZWQgcGFyYW1zIHdpbGwgYmU6XG4gICAgICogLSBgZWxgIC0gdGhlIGNyZWF0ZWQgaW1nIGVsZW1lbnRcbiAgICAgKiAtIGBmaWxlYCAtIHRoZSBvcmlnaW5hbCBpbWFnZSBmaWxlIGZyb20gdGhlIGlucHV0IGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBmaXJlcyBCdXR0b25JbWFnZSNiZWZvcmVJbWFnZUFkZFxuICAgICAqIEBmaXJlcyBCdXR0b25JbWFnZSNpbWFnZUFkZFxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JbWFnZVxuICAgICAqIEBtZXRob2QgX29uSW5wdXRDaGFuZ2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX29uSW5wdXRDaGFuZ2UoKSB7XG4gICAgICAgIHZhciBpbnB1dEVsID0gdGhpcy5maWxlSW5wdXQuY3VycmVudDtcblxuICAgICAgICAvLyBPbiBJRTExIHRoZSBmdW5jdGlvbiBtaWdodCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSBhcnJheSBvZlxuICAgICAgICAvLyBmaWxlcy4gSW4gc3VjaCBhIGNhc2UsIG5vIGFjdGlvbnMgd2lsbCBiZSB0YWtlbi5cbiAgICAgICAgaWYgKCFpbnB1dEVsLmZpbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHZhciBmaWxlID0gaW5wdXRFbC5maWxlc1swXTtcblxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gZWRpdG9yLmZpcmUoJ2JlZm9yZUltYWdlQWRkJywge1xuICAgICAgICAgICAgICAgIGltYWdlRmlsZXM6IGZpbGVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoISFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGltZyBzcmM9XCInICsgZXZlbnQudGFyZ2V0LnJlc3VsdCArICdcIj4nKTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgIHZhciBpbWFnZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZVxuICAgICAgICAgICAgICAgIH07XG5cblxuICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdpbWFnZUFkZCcsIGltYWdlRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcblxuICAgICAgICBpbnB1dEVsLnZhbHVlID0gJyc7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGltYWdlXG4gKiBAbWVtYmVyb2YgQnV0dG9uSW1hZ2VcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSW1hZ2Uua2V5ID0gJ2ltYWdlJztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uSW1hZ2U7XG4iLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25JbmRlbnRCbG9jayBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBpbmRlbnRpbmcgdGhlIHNlbGVjdGVkIGJsb2Nrcy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uSW5kZW50QmxvY2tcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25JbmRlbnRCbG9jayBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkluZGVudEJsb2NrXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5pbmRlbnR9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLWluZGVudC1ibG9ja1wiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmluZGVudH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1pbmRlbnQtYmxvY2tcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW5kZW50QmxvY2tcbiAqIEBtZW1iZXJvZiBCdXR0b25JbmRlbnRCbG9ja1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25JbmRlbnRCbG9jay5rZXkgPSAnaW5kZW50QmxvY2snO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkluZGVudEJsb2NrXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25JbmRlbnRCbG9jay5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ2luZGVudCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvbkluZGVudEJsb2NrXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uS2V5c3Ryb2tlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWtleXN0cm9rZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkl0YWxpYyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzdHlsaW5nIGFuIHNlbGVjdGlvbiB3aXRoIGl0YWxpYyAoZW0pIHN0eWxlLlxuICpcbiAqIEBjbGFzcyBCdXR0b25JdGFsaWNcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbktleXN0cm9rZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25JdGFsaWMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25JdGFsaWNcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLml0YWxpY30gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24taXRhbGljXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaXRhbGljfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWl0YWxpY1wiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBpdGFsaWNcbiAqIEBtZW1iZXJvZiBCdXR0b25JdGFsaWNcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uSXRhbGljLmtleSA9ICdpdGFsaWMnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkl0YWxpY1xuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uSXRhbGljLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnaXRhbGljJyxcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdleGVjQ29tbWFuZCcsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA3MyAvKkkqL1xuICAgIH0sXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX2l0YWxpYydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uS2V5c3Ryb2tlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uSXRhbGljXG4pKSkpOyIsImltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHNob3dpbmcgYSBsaXN0IG9mXG4gKiBpdGVtcyB0aGF0IGNhbiBiZSBzZWxlY3RlZCBmb3IgdGhlIGxpbmsuXG4gKlxuICogQGNsYXNzIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIHdoZW4gYSBjb21wb25lbnQgaXMgcmVjZWl2aW5nIG5ldyBwcm9wcy5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBub3QgY2FsbGVkIGZvciB0aGUgaW5pdGlhbCByZW5kZXIuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICBpZiAoIW5leHRQcm9wcy50ZXJtIHx8IG5leHRQcm9wcy50ZXJtICE9PSB0aGlzLnByb3BzLnRlcm0pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcblxuICAgICAgICAgICAgaWYgKG5leHRQcm9wcy50ZXJtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5fdXBkYXRlSXRlbXMsIHRoaXMucHJvcHMuZGVsYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV4dFByb3BzLmF1dG9jb21wbGV0ZVNlbGVjdGVkKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMuZm9jdXMsIDApO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRBdXRvY29tcGxldGVTdGF0ZSh7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLnByb3BzLmV4cGFuZGVkIHx8ICF0aGlzLnN0YXRlLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPEJ1dHRvbkRyb3Bkb3duPlxuICAgICAgICAgICAgICAgIHt0aGlzLl9yZW5kZXJBdXRvY29tcGxldGVJdGVtcyh0aGlzLnN0YXRlLml0ZW1zKX1cbiAgICAgICAgICAgIDwvQnV0dG9uRHJvcGRvd24+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGJlZm9yZSByZW5kZXJpbmcgd2hlbiBuZXcgcHJvcHMgb3Igc3RhdGUgYXJlIGJlaW5nIHJlY2VpdmVkLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlciBvciB3aGVuIGZvcmNlVXBkYXRlIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAgICAgKiBAbWV0aG9kICBzaG91bGRDb21wb25lbnRVcGRhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIHRyYW5zaXRpb24gdG8gdGhlIG5ldyBwcm9wcyBhbmQgc3RhdGUgd2lsbCBub3RcbiAgICAgKiByZXF1aXJlIGEgY29tcG9uZW50IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIG5leHRQcm9wcy5leHBhbmRlZCAhPT0gdGhpcy5wcm9wcy5leHBhbmRlZCB8fCBuZXh0UHJvcHMudGVybSAhPT0gdGhpcy5wcm9wcy50ZXJtIHx8IG5leHRTdGF0ZS5pdGVtcyAhPT0gdGhpcy5zdGF0ZS5pdGVtcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgc2V0IG9mIGxpc3QgaXRlbXMgZm9yIHRoZSBwcm92aWRlZCBpdGVtc1xuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gICAgICogQG1ldGhvZCBfcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpdGVtcyBMaXN0IG9mIGF1dG9jb21wbGV0ZSBpdGVtcyB0byByZW5kZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFJlbmRlcmVkIGxpc3QgaXRlbSBpbnN0YW5jZXNcbiAgICAgKi9cbiAgICBfcmVuZGVyQXV0b2NvbXBsZXRlSXRlbXMoaXRlbXMpIHtcbiAgICAgICAgaXRlbXMgPSBpdGVtcyB8fCBbXTtcblxuICAgICAgICB2YXIgaGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrID0gdGhpcy5wcm9wcy5oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2s7XG5cbiAgICAgICAgcmV0dXJuIGl0ZW1zLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5wcm9wcy50ZXJtID09PSBpdGVtLnVybCA/ICdhZS10b29sYmFyLWVsZW1lbnQgYWN0aXZlJyA6ICdhZS10b29sYmFyLWVsZW1lbnQnO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e2l0ZW0udXJsfSByb2xlPVwib3B0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtjbGFzc05hbWV9IG9uQ2xpY2s9e2hhbmRsZUxpbmtBdXRvY29tcGxldGVDbGlja30gZGF0YS12YWx1ZT17aXRlbS51cmx9PntpdGVtLnRpdGxlfTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZGF0YSBhY2NvcmRpbmcgdG8ge3RoaXMucHJvcHMudGVybX0gYW5kIGNhbGxzIHNldFN0YXRlKCkgd2l0aCB0aGUgcmV0dXJuZWQgZGF0YVxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gICAgICogQG1ldGhvZCBfdXBkYXRlSXRlbXNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3VwZGF0ZUl0ZW1zKCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgIGlmICghdGhpcy5wcm9wcy50ZXJtKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSh0aGlzLnByb3BzLmRhdGEodGhpcy5wcm9wcy50ZXJtKSk7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGl0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgIWluc3RhbmNlLnByb3BzLmV4cGFuZGVkICYmIGluc3RhbmNlLnByb3BzLnRvZ2dsZURyb3Bkb3duKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGluc3RhbmNlLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpdGVtczogaXRlbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgYnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3RcbiAqIEBtZW1iZXJvZiBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdC5rZXkgPSAnYnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3QnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2lyY3VsYXI6IGZhbHNlLFxuICAgIGRhdGE6IFtdLFxuICAgIGRlbGF5OiAxMDAsXG4gICAgZGVzY2VuZGFudHM6ICcuYWUtdG9vbGJhci1lbGVtZW50JyxcbiAgICBrZXlzOiB7XG4gICAgICAgIGRpc21pc3M6IFsyN10sXG4gICAgICAgIGRpc21pc3NOZXh0OiBbMzldLFxuICAgICAgICBkaXNtaXNzUHJldjogWzM3XSxcbiAgICAgICAgbmV4dDogWzQwXSxcbiAgICAgICAgcHJldjogWzM4XVxuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEZvY3VzTWFuYWdlcihcbiAgICBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdFxuKTsiLCJpbXBvcnQgQnV0dG9uQ2ZnUHJvcHMgZnJvbSAnLi4vYmFzZS9idXR0b24tcHJvcHMuanMnO1xuaW1wb3J0IEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0IGZyb20gJy4vYnV0dG9uLWxpbmstYXV0b2NvbXBsZXRlLWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25MaW5rVGFyZ2V0RWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLXRhcmdldC1lZGl0LmpzeCc7XG5pbXBvcnQgTGFuZyBmcm9tICcuLi8uLi9vb3AvbGFuZy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgV2lkZ2V0RHJvcGRvd24gZnJvbSAnLi4vYmFzZS93aWRnZXQtZHJvcGRvd24uanMnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uTGlua0VkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSBsaW5rIGluIGEgZG9jdW1lbnQuXG4gKiBQcm92aWRlcyBVSSBmb3IgY3JlYXRpbmcsIGVkaXRpbmcgYW5kIHJlbW92aW5nIGEgbGluay5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua0VkaXRcbiAqIEB1c2VzIEJ1dHRvbkNmZ1Byb3BzXG4gKiBAdXNlcyBXaWRnZXREcm9wZG93blxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvbkxpbmtFZGl0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5saW5rSW5wdXQgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuX2dldEluaXRpYWxTdGF0ZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBGb2N1c2VzIG9uIHRoZSBsaW5rIGlucHV0IHRvIGltbWVkaWF0ZWx5IGFsbG93IGVkaXRpbmcuIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZSBjb21wb25lbnRcbiAgICAgKiBpcyByZW5kZXJlZCBpbiBleGNsdXNpdmUgbW9kZSB0byBwcmV2ZW50IGFnZ3Jlc3NpdmUgZm9jdXMgc3RlYWxpbmcuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSB8fCB0aGlzLnByb3BzLm1hbnVhbFNlbGVjdGlvbikge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byB3YWl0IGZvciB0aGUgbmV4dCByZW5kZXJpbmcgY3ljbGUgYmVmb3JlIGZvY3VzaW5nIHRvIGF2b2lkIHVuZGVzaXJlZFxuICAgICAgICAgICAgLy8gc2Nyb2xscyBvbiB0aGUgcGFnZVxuICAgICAgICAgICAgdGhpcy5fZm9jdXNMaW5rSW5wdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCB3aGVuIGEgY29tcG9uZW50IGlzIHJlY2VpdmluZyBuZXcgcHJvcHMuXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh0aGlzLl9nZXRJbml0aWFsU3RhdGUoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciB0YXJnZXRTZWxlY3RvciA9IHtcbiAgICAgICAgICAgIGFsbG93ZWRUYXJnZXRzOiB0aGlzLnByb3BzLmFsbG93ZWRUYXJnZXRzLFxuICAgICAgICAgICAgZWRpdG9yOiB0aGlzLnByb3BzLmVkaXRvcixcbiAgICAgICAgICAgIGhhbmRsZUxpbmtUYXJnZXRDaGFuZ2U6IHRoaXMuX2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2UuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGVjdGVkVGFyZ2V0OiB0aGlzLnN0YXRlLmxpbmtUYXJnZXQgfHwgQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0RGVmYXVsdFxuICAgICAgICB9O1xuXG4gICAgICAgIHRhcmdldFNlbGVjdG9yID0gdGhpcy5tZXJnZURyb3Bkb3duUHJvcHModGFyZ2V0U2VsZWN0b3IsIEJ1dHRvbkxpbmtUYXJnZXRFZGl0LmtleSk7XG5cbiAgICAgICAgdmFyIGF1dG9jb21wbGV0ZURyb3Bkb3duO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmRhdGEpIHtcbiAgICAgICAgICAgIHZhciBkYXRhRm4gPSB0aGlzLnByb3BzLmRhdGE7XG5cbiAgICAgICAgICAgIGlmICghTGFuZy5pc0Z1bmN0aW9uKGRhdGFGbikpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbXMgPSB0aGlzLnByb3BzLmRhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhRm4gPSAoKSA9PiBpdGVtcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGF1dG9jb21wbGV0ZURyb3Bkb3duUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlU2VsZWN0ZWQ6IHRoaXMuc3RhdGUuYXV0b2NvbXBsZXRlU2VsZWN0ZWQsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YUZuLFxuICAgICAgICAgICAgICAgIGVkaXRvcjogdGhpcy5wcm9wcy5lZGl0b3IsXG4gICAgICAgICAgICAgICAgaGFuZGxlTGlua0F1dG9jb21wbGV0ZUNsaWNrOiB0aGlzLl9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2ssXG4gICAgICAgICAgICAgICAgb25EaXNtaXNzOiB0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLFxuICAgICAgICAgICAgICAgIHNldEF1dG9jb21wbGV0ZVN0YXRlOiB0aGlzLl9zZXRBdXRvY29tcGxldGVTdGF0ZSxcbiAgICAgICAgICAgICAgICB0ZXJtOiB0aGlzLnN0YXRlLmxpbmtIcmVmXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBhdXRvY29tcGxldGVEcm9wZG93blByb3BzID0gdGhpcy5tZXJnZURyb3Bkb3duUHJvcHMoYXV0b2NvbXBsZXRlRHJvcGRvd25Qcm9wcywgQnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Qua2V5KTtcblxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlRHJvcGRvd24gPSA8QnV0dG9uTGlua0F1dG9jb21wbGV0ZUxpc3Qgey4uLmF1dG9jb21wbGV0ZURyb3Bkb3duUHJvcHN9IC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1dHRvbkNsZWFyTGluaztcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5saW5rSHJlZikge1xuICAgICAgICAgICAgYnV0dG9uQ2xlYXJMaW5rID0gPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNsZWFySW5wdXR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvbiBhZS1pY29uLXJlbW92ZVwiIG9uQ2xpY2s9e3RoaXMuX2NsZWFyTGluay5iaW5kKHRoaXMpfSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5jbGVhcn0+PC9idXR0b24+O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHBsYWNlaG9sZGVyUHJvcCA9IHt9O1xuXG4gICAgICAgIGlmICghQ0tFRElUT1IuZW52LmllICYmIEFsbG95RWRpdG9yLlN0cmluZ3MpIHtcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyUHJvcC5wbGFjZWhvbGRlciA9IEFsbG95RWRpdG9yLlN0cmluZ3MuZWRpdExpbms7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZWRpdC1saW5rXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnJlbW92ZUxpbmt9IGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIGRpc2FibGVkPXshdGhpcy5zdGF0ZS5lbGVtZW50fSBvbkNsaWNrPXt0aGlzLl9yZW1vdmVMaW5rLmJpbmQodGhpcyl9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnJlbW92ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tdW5saW5rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHh4bFwiPlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5zaG93VGFyZ2V0U2VsZWN0b3IgJiYgPEJ1dHRvbkxpbmtUYXJnZXRFZGl0IHsuLi50YXJnZXRTZWxlY3Rvcn0gLz59XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiYWUtaW5wdXRcIiBvbkNoYW5nZT17dGhpcy5faGFuZGxlTGlua0hyZWZDaGFuZ2UuYmluZCh0aGlzKX0gb25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3duLmJpbmQodGhpcyl9IHsgLi4ucGxhY2Vob2xkZXJQcm9wIH0gcmVmPXt0aGlzLmxpbmtJbnB1dH0gdHlwZT1cInRleHRcIiB2YWx1ZT17dGhpcy5zdGF0ZS5saW5rSHJlZn0+PC9pbnB1dD5cbiAgICAgICAgICAgICAgICAgICAgICAgIHthdXRvY29tcGxldGVEcm9wZG93bn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtidXR0b25DbGVhckxpbmt9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmNvbmZpcm19IGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIGRpc2FibGVkPXshdGhpcy5faXNWYWxpZFN0YXRlKCl9IG9uQ2xpY2s9e3RoaXMuX3VwZGF0ZUxpbmsuYmluZCh0aGlzKX0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29uZmlybX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tb2tcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiB0aGlzLnN0YXRlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfZ2V0SW5pdGlhbFN0YXRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICBfZ2V0SW5pdGlhbFN0YXRlKCkge1xuICAgICAgICBjb25zdCB7ZWRpdG9yLCBkZWZhdWx0TGlua1RhcmdldH0gPSB0aGlzLnByb3BzO1xuXG4gICAgICAgIGNvbnN0IGxpbmsgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKSkuZ2V0RnJvbVNlbGVjdGlvbigpO1xuICAgICAgICBjb25zdCBocmVmID0gbGluayA/IGxpbmsuZ2V0QXR0cmlidXRlKCdocmVmJykgOiAnJztcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gbGluayA/IGxpbmsuZ2V0QXR0cmlidXRlKCd0YXJnZXQnKSA6IGRlZmF1bHRMaW5rVGFyZ2V0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdXRvY29tcGxldGVTZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICBlbGVtZW50OiBsaW5rLFxuICAgICAgICAgICAgaW5pdGlhbExpbms6IHtcbiAgICAgICAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGlua0hyZWY6IGhyZWYsXG4gICAgICAgICAgICBsaW5rVGFyZ2V0OiB0YXJnZXRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGxpbmsgaW5wdXQuIFRoaXMgb25seSBjaGFuZ2VzIHRoZSBjb21wb25lbnQgaW50ZXJuYWwgc3RhdGUsIGJ1dCBkb2VzIG5vdFxuICAgICAqIGFmZmVjdCB0aGUgbGluayBlbGVtZW50IG9mIHRoZSBlZGl0b3IuIE9ubHkgdGhlIF9yZW1vdmVMaW5rIGFuZCBfdXBkYXRlTGluayBtZXRob2RzXG4gICAgICogYXJlIHRyYW5zbGF0ZWQgdG8gdGhlIGVkaXRvciBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfY2xlYXJMaW5rXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9jbGVhckxpbmsoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbGlua0hyZWY6ICcnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRm9jdXNlcyB0aGUgdXNlciBjdXJzb3Igb24gdGhlIHdpZGdldCdzIGlucHV0LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfZm9jdXNMaW5rSW5wdXRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2ZvY3VzTGlua0lucHV0KCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmb2N1c0xpbmtFbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5zdGFuY2UubGlua0lucHV0LmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmb2N1c0xpbmtFbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZvY3VzTGlua0VsLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vbml0b3JzIGtleSBpbnRlcmFjdGlvbiBpbnNpZGUgdGhlIGlucHV0IGVsZW1lbnQgdG8gcmVzcG9uZCB0byB0aGUga2V5czpcbiAgICAgKiAtIEVudGVyOiBDcmVhdGVzL3VwZGF0ZXMgdGhlIGxpbmsuXG4gICAgICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfaGFuZGxlS2V5RG93blxuICAgICAqIEBwYXJhbSB7U3ludGhldGljRXZlbnR9IGV2ZW50IFRoZSBrZXlib2FyZCBldmVudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2hhbmRsZUtleURvd24oZXZlbnQpIHtcbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzIHx8IGV2ZW50LmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XG4gICAgICAgICAgICB0aGlzLl91cGRhdGVMaW5rKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNDApIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZVNlbGVjdGVkOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgICAgIG5ldyBDS0VESVRPUi5MaW5rKGVkaXRvcikuYWR2YW5jZVNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gdGhlIGxpbmsgaW5wdXQgY2hhbmdlcyBvbiB1c2VyIGludGVyYWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfaGFuZGxlTGlua0hyZWZDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2hhbmdlIGV2ZW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfaGFuZGxlTGlua0hyZWZDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBsaW5rSHJlZjogZXZlbnQudGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gdGhlIGxpbmsgdGFyZ2V0IGNoYW5nZXMgb24gdXNlciBpbnRlcmFjdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuICAgICAqIEBtZXRob2QgX2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVMaW5rVGFyZ2V0Q2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXRlbURyb3Bkb3duOiBudWxsLFxuICAgICAgICAgICAgbGlua1RhcmdldDogZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY29tcG9uZW50IHN0YXRlIHdoZW4gYW4gYXV0b2NvbXBsZXRlIGxpbmsgcmVzdWx0IGlzIHNlbGVjdGVkIGJ5IHVzZXIgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAgICAgKiBAbWV0aG9kIF9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2tcbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVMaW5rQXV0b2NvbXBsZXRlQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpdGVtRHJvcGRvd246IG51bGwsXG4gICAgICAgICAgICBsaW5rSHJlZjogZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS12YWx1ZScpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2ZvY3VzTGlua0lucHV0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCB0aGUgY3VycmVudCBsaW5rIHN0YXRlIGlzIHZhbGlkIHNvIHRoZSB1c2VyIGNhbiBzYXZlIHRoZSBsaW5rLiBBIHZhbGlkIHN0YXRlXG4gICAgICogbWVhbnMgdGhhdCB3ZSBoYXZlIGEgbm9uLWVtcHR5IGhyZWYgYW5kIHRoYXQgZWl0aGVyIHRoYXQgb3IgdGhlIGxpbmsgdGFyZ2V0IGFyZSBkaWZmZXJlbnRcbiAgICAgKiBmcm9tIHRoZSBvcmlnaW5hbCBsaW5rLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfaXNWYWxpZFN0YXRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFtkZXNjcmlwdGlvbl1cbiAgICAgKi9cbiAgICBfaXNWYWxpZFN0YXRlKCkge1xuICAgICAgICB2YXIgdmFsaWRTdGF0ZSA9XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmtIcmVmICYmIChcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmtIcmVmICE9PSB0aGlzLnN0YXRlLmluaXRpYWxMaW5rLmhyZWYgfHxcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmxpbmtUYXJnZXQgIT09IHRoaXMuc3RhdGUuaW5pdGlhbExpbmsudGFyZ2V0XG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB2YWxpZFN0YXRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxpbmsgaW4gdGhlIGVkaXRvciBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtFZGl0XG4gICAgICogQG1ldGhvZCBfcmVtb3ZlTGlua1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlTGluaygpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG4gICAgICAgIHZhciBsaW5rVXRpbHMgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IpO1xuICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICB2YXIgYm9va21hcmtzID0gc2VsZWN0aW9uLmNyZWF0ZUJvb2ttYXJrcygpO1xuXG4gICAgICAgIGxpbmtVdGlscy5yZW1vdmUodGhpcy5zdGF0ZS5lbGVtZW50LCB7IGFkdmFuY2U6IHRydWUgfSk7XG5cbiAgICAgICAgc2VsZWN0aW9uLnNlbGVjdEJvb2ttYXJrcyhib29rbWFya3MpO1xuXG4gICAgICAgIC8vIFdlIG5lZWQgdG8gY2FuY2VsRXhjbHVzaXZlIHdpdGggdGhlIGJvdW5kIHBhcmFtZXRlcnMgaW4gY2FzZSB0aGUgYnV0dG9uIGlzIHVzZWRcbiAgICAgICAgLy8gaW5zaWRlIGFub3RoZXIgaW4gZXhjbHVzaXZlIG1vZGUgKHN1Y2ggaXMgdGhlIGNhc2Ugb2YgdGhlIGxpbmsgYnV0dG9uKVxuICAgICAgICB0aGlzLnByb3BzLmNhbmNlbEV4Y2x1c2l2ZSgpO1xuXG4gICAgICAgIGVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYXV0b2NvbXBsZXRlU2VsZWN0ZWQgc3RhdGUgdG8gZm9jdXMgYW5kIHNlbGVjdCBhdXRvY29tcGxldGXCtHMgZHJvcGRvd25cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuICAgICAqIEBtZXRob2QgX3NldEF1dG9jb21wbGV0ZVN0YXRlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9zZXRBdXRvY29tcGxldGVTdGF0ZShzdGF0ZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZVNlbGVjdGVkOiBzdGF0ZS5zZWxlY3RlZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBsaW5rIGluIHRoZSBlZGl0b3IgZWxlbWVudC4gSWYgdGhlIGVsZW1lbnQgZGlkbid0IGV4aXN0IHByZXZpb3VzbHksIGl0IHdpbGxcbiAgICAgKiBjcmVhdGUgYSBuZXcgPGE+IGVsZW1lbnQgd2l0aCB0aGUgaHJlZiBzcGVjaWZpZWQgaW4gdGhlIGxpbmsgaW5wdXQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAgICAgKiBAbWV0aG9kIF91cGRhdGVMaW5rXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF91cGRhdGVMaW5rKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIGxpbmtVdGlscyA9IG5ldyBDS0VESVRPUi5MaW5rKGVkaXRvciwge2FwcGVuZFByb3RvY29sOiB0aGlzLnByb3BzLmFwcGVuZFByb3RvY29sfSk7XG4gICAgICAgIHZhciBsaW5rQXR0cnMgPSB7XG4gICAgICAgICAgICB0YXJnZXQ6IHRoaXMuc3RhdGUubGlua1RhcmdldFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbW9kaWZ5U2VsZWN0aW9uID0geyBhZHZhbmNlOiB0cnVlIH07XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUubGlua0hyZWYpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBsaW5rQXR0cnMuaHJlZiA9IHRoaXMuc3RhdGUubGlua0hyZWY7XG5cbiAgICAgICAgICAgICAgICBsaW5rVXRpbHMudXBkYXRlKGxpbmtBdHRycywgdGhpcy5zdGF0ZS5lbGVtZW50LCBtb2RpZnlTZWxlY3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsaW5rVXRpbHMuY3JlYXRlKHRoaXMuc3RhdGUubGlua0hyZWYsIGxpbmtBdHRycywgbW9kaWZ5U2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2UgbmVlZCB0byBjYW5jZWxFeGNsdXNpdmUgd2l0aCB0aGUgYm91bmQgcGFyYW1ldGVycyBpbiBjYXNlIHRoZSBidXR0b24gaXMgdXNlZFxuICAgICAgICAvLyBpbnNpZGUgYW5vdGhlciBpbiBleGNsdXNpdmUgbW9kZSAoc3VjaCBpcyB0aGUgY2FzZSBvZiB0aGUgbGluayBidXR0b24pXG4gICAgICAgIHRoaXMucHJvcHMuY2FuY2VsRXhjbHVzaXZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGxpbmtFZGl0XG4gKiBAbWVtYmVyb2YgQnV0dG9uTGlua0VkaXRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uTGlua0VkaXQua2V5ID0gJ2xpbmtFZGl0JztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25MaW5rRWRpdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uTGlua0VkaXQuZGVmYXVsdFByb3BzID0ge1xuICAgIGFwcGVuZFByb3RvY29sOiB0cnVlLFxuICAgIGF1dG9jb21wbGV0ZVVybDogJycsXG4gICAgY2lyY3VsYXI6IHRydWUsXG4gICAgY3VzdG9tSW5kZXhTdGFydDogdHJ1ZSxcbiAgICBkZWZhdWx0TGlua1RhcmdldDogJycsXG4gICAgZGVzY2VuZGFudHM6ICcuYWUtdG9vbGJhci1lbGVtZW50JyxcbiAgICBrZXlzOiB7XG4gICAgICAgIGRpc21pc3M6IFsyN10sXG4gICAgICAgIGRpc21pc3NOZXh0OiBbMzldLFxuICAgICAgICBkaXNtaXNzUHJldjogWzM3XSxcbiAgICAgICAgbmV4dDogWzQwXSxcbiAgICAgICAgcHJldjogWzM4XVxuICAgIH0sXG4gICAgc2hvd1RhcmdldFNlbGVjdG9yOiB0cnVlXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25DZmdQcm9wcyhcbiAgICBXaWRnZXREcm9wZG93bihcbiAgICBXaWRnZXRGb2N1c01hbmFnZXIoXG4gICAgICAgIEJ1dHRvbkxpbmtFZGl0XG4pKSk7XG4iLCJpbXBvcnQgQnV0dG9uVGFyZ2V0TGlzdCBmcm9tICcuL2J1dHRvbi10YXJnZXQtbGlzdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uTGlua1RhcmdldEVkaXQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2hhbmdpbmcgdGhlIHRhcmdldCBvZiBhIGxpbmtcbiAqIGluIHRoZSBkb2N1bWVudC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua1RhcmdldEVkaXRcbiAqL1xuY2xhc3MgQnV0dG9uTGlua1RhcmdldEVkaXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25MaW5rVGFyZ2V0RWRpdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgaGFuZGxlTGlua1RhcmdldENoYW5nZSA9IHRoaXMucHJvcHMuaGFuZGxlTGlua1RhcmdldENoYW5nZTtcbiAgICAgICAgdmFyIGFsbG93ZWRMaW5rVGFyZ2V0cyA9IHRoaXMucHJvcHMuYWxsb3dlZFRhcmdldHM7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtbGluay10YXJnZXQgYWUtY29udGFpbmVyLWRyb3Bkb3duIGFlLWNvbnRhaW5lci1kcm9wZG93bi1tZWRpdW0gYWUtaGFzLWRyb3Bkb3duXCIgdGFiSW5kZXg9XCIwXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfSBhcmlhLWxhYmVsPXt0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0fSBjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcyl9IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17dGhpcy5wcm9wcy5zZWxlY3RlZFRhcmdldH0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPnt0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tYXJyb3dcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmV4cGFuZGVkICYmIChcbiAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblRhcmdldExpc3QgZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSBhbGxvd2VkTGlua1RhcmdldHM9e2FsbG93ZWRMaW5rVGFyZ2V0c30gaGFuZGxlTGlua1RhcmdldENoYW5nZT17aGFuZGxlTGlua1RhcmdldENoYW5nZX0gc2VsZWN0ZWRUYXJnZXQ9e3RoaXMucHJvcHMuc2VsZWN0ZWRUYXJnZXR9Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGJlZm9yZSByZW5kZXJpbmcgd2hlbiBuZXcgcHJvcHMgb3Igc3RhdGUgYXJlIGJlaW5nIHJlY2VpdmVkLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlciBvciB3aGVuIGZvcmNlVXBkYXRlIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1RhcmdldEVkaXRcbiAgICAgKiBAbWV0aG9kICBzaG91bGRDb21wb25lbnRVcGRhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIGZhbHNlIHdoZW4gdGhlIHRyYW5zaXRpb24gdG8gdGhlIG5ldyBwcm9wcyBhbmQgc3RhdGUgd2lsbCBub3RcbiAgICAgKiByZXF1aXJlIGEgY29tcG9uZW50IHVwZGF0ZS5cbiAgICAgKi9cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzKSB7XG4gICAgICAgIHJldHVybiBuZXh0UHJvcHMuZXhwYW5kZWQgIT09IHRoaXMucHJvcHMuZXhwYW5kZWQgfHwgbmV4dFByb3BzLnNlbGVjdGVkVGFyZ2V0ICE9PSB0aGlzLnByb3BzLnNlbGVjdGVkVGFyZ2V0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBsaW5rVGFyZ2V0RWRpdFxuICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtUYXJnZXRFZGl0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbkxpbmtUYXJnZXRFZGl0LmtleSA9ICdsaW5rVGFyZ2V0RWRpdCc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkxpbmtUYXJnZXRFZGl0O1xuIiwiaW1wb3J0IEJ1dHRvbkNmZ1Byb3BzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXByb3BzLmpzJztcbmltcG9ydCBCdXR0b25MaW5rRWRpdCBmcm9tICcuL2J1dHRvbi1saW5rLWVkaXQuanN4JztcbmltcG9ydCBCdXR0b25LZXlzdHJva2UgZnJvbSAnLi4vYmFzZS9idXR0b24ta2V5c3Ryb2tlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25MaW5rIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIGNyZWF0aW5nIGFuZCBlZGl0aW5nIGEgbGluayBpbiBhIGRvY3VtZW50LiBCdXR0b25MaW5rXG4gKiByZW5kZXJzIGluIHR3byBkaWZmZXJlbnQgbW9kZXM6XG4gKlxuICogLSBOb3JtYWw6IEp1c3QgYSBidXR0b24gdGhhdCBhbGxvd3MgdG8gc3dpdGNoIHRvIHRoZSBlZGl0aW9uIG1vZGVcbiAqIC0gRXhjbHVzaXZlOiBUaGUgQnV0dG9uTGlua0VkaXQgVUkgd2l0aCBhbGwgdGhlIGxpbmsgZWRpdGlvbiBjb250cm9scy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uTGlua1xuICogQHVzZXMgQnV0dG9uQ2ZnUHJvcHNcbiAqIEB1c2VzIEJ1dHRvbktleXN0cm9rZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvbkxpbmsgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgY29udGFpbmVkIHdpdGhpbiBhIGxpbmsuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuICAgICAqIEBtZXRob2QgaXNBY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzZWxlY3Rpb24gaXMgaW5zaWRlIGEgbGluaywgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIGlzQWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gKG5ldyBDS0VESVRPUi5MaW5rKHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJykpLmdldEZyb21TZWxlY3Rpb24oKSAhPT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMubWVyZ2VCdXR0b25DZmdQcm9wcygpO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxCdXR0b25MaW5rRWRpdCB7Li4ucHJvcHN9IC8+XG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MubGlua30gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLWxpbmtcIiBvbkNsaWNrPXt0aGlzLl9yZXF1ZXN0RXhjbHVzaXZlLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1saW5rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3RzIHRoZSBsaW5rIGJ1dHRvbiB0byBiZSByZW5kZXJlZCBpbiBleGNsdXNpdmUgbW9kZSB0byBhbGxvdyB0aGUgY3JlYXRpb24gb2YgYSBsaW5rLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvbkxpbmtcbiAgICAgKiBAbWV0aG9kIF9yZXF1ZXN0RXhjbHVzaXZlXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9yZXF1ZXN0RXhjbHVzaXZlKCkge1xuICAgICAgICB0aGlzLnByb3BzLnJlcXVlc3RFeGNsdXNpdmUoQnV0dG9uTGluay5rZXkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBsaW5rXG4gKiBAbWVtYmVyb2YgQnV0dG9uTGlua1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25MaW5rLmtleSA9ICdsaW5rJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25MaW5rXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25MaW5rLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdfcmVxdWVzdEV4Y2x1c2l2ZScsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA3NiAvKkwqL1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNmZ1Byb3BzKFxuICAgIEJ1dHRvbktleXN0cm9rZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvbkxpbmtcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uT3JkZXJlZExpc3QgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgb3JkZXJlZCBsaXN0cyBpbiBhbiBlZGl0b3IuXG4gKlxuICogQGNsYXNzIEJ1dHRvbk9yZGVyZWRMaXN0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvbk9yZGVyZWRMaXN0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uT3JkZXJlZExpc3RcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLm51bWJlcmVkbGlzdH0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tb2xcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5udW1iZXJlZGxpc3R9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tbnVtYmVyZWQtbGlzdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBvbFxuICogQG1lbWJlcm9mIEJ1dHRvbk9yZGVyZWRMaXN0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvbk9yZGVyZWRMaXN0LmtleSA9ICdvbCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uT3JkZXJlZExpc3RcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvbk9yZGVyZWRMaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnbnVtYmVyZWRsaXN0JyxcbiAgICBzdHlsZToge1xuICAgICAgICBlbGVtZW50OiAnb2wnXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvbk9yZGVyZWRMaXN0XG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uT3V0ZGVudEJsb2NrIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIG91dGRlbnRpbmcgYmxvY2tzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25PdXRkZW50QmxvY2tcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25PdXRkZW50QmxvY2sgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25PdXRkZW50QmxvY2tcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLm91dGRlbnR9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLW91dGRlbnQtYmxvY2tcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5vdXRkZW50fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLW91dGRlbnQtYmxvY2tcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgaW5kZW50QmxvY2tcbiAqIEBtZW1iZXJvZiBCdXR0b25PdXRkZW50QmxvY2tcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uT3V0ZGVudEJsb2NrLmtleSA9ICdvdXRkZW50QmxvY2snO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvbk91dGRlbnRCbG9ja1xuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uT3V0ZGVudEJsb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnb3V0ZGVudCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvbk91dGRlbnRCbG9ja1xuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvbkNvbW1hbmRBY3RpdmUgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC1hY3RpdmUuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG4vKipcbiAqIFRoZSBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYWxpZ25pbmcgYSBwYXJhZ3JhcGggb24gbGVmdC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kQWN0aXZlXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqL1xuY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnbkxlZnR9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1sZWZ0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25MZWZ0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLWxlZnRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgcGFyYWdyYXBoTGVmdFxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQua2V5ID0gJ3BhcmFncmFwaExlZnQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEFsaWduTGVmdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUGFyYWdyYXBoQWxpZ25MZWZ0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnanVzdGlmeWxlZnQnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvbkNvbW1hbmRBY3RpdmUoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgICAgICBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnRcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuLyoqXG4gKiBUaGUgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhbGlnbmluZyBhIHBhcmFncmFwaCBvbiByaWdodC5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZEFjdGl2ZVxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtYWxpZ24tcmlnaHRcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5hbGlnblJpZ2h0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFsaWduLXJpZ2h0XCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHBhcmFncmFwaFJpZ2h0XG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0LmtleSA9ICdwYXJhZ3JhcGhSaWdodCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodC5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ2p1c3RpZnlyaWdodCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvblBhcmFncmFwaEFsaWduUmlnaHRcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25Db21tYW5kQWN0aXZlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQtYWN0aXZlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25QYXJhZ3JhcGhDZW50ZXIgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY2VudGVyaW5nIGEgcGFyYWdyYXBoLlxuICpcbiAqIEBjbGFzcyBCdXR0b25QYXJhZ3JhcGhDZW50ZXJcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25QYXJhZ3JhcGhDZW50ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25QYXJhZ3JhcGhDZW50ZXJcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduQ2VudGVyfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtY2VudGVyXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25DZW50ZXJ9PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tYWxpZ24tY2VudGVyXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHBhcmFncmFwaENlbnRlclxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaENlbnRlclxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25QYXJhZ3JhcGhDZW50ZXIua2V5ID0gJ3BhcmFncmFwaENlbnRlcic7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25QYXJhZ3JhcGhDZW50ZXIuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdqdXN0aWZ5Y2VudGVyJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25Db21tYW5kQWN0aXZlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICAgICAgQnV0dG9uUGFyYWdyYXBoQ2VudGVyXG4pKSk7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZEFjdGl2ZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLWFjdGl2ZS5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBqdXN0ZnlpbmcgYSBwYXJhZ3JhcGguXG4gKlxuICogQGNsYXNzIEJ1dHRvblBhcmFncmFwaEp1c3RpZnlcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRcbiAqIEB1c2VzIEJ1dHRvbkNvbW1hbmRBY3RpdmVcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICovXG5jbGFzcyBCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuYWxpZ25KdXN0aWZ5fSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1wYXJhZ3JhcGgtanVzdGlmeVwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLmFsaWduSnVzdGlmeX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1hbGlnbi1qdXN0aWZpZWRcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgcGFyYWdyYXBoSnVzdGlmeVxuICogQG1lbWJlcm9mIEJ1dHRvblBhcmFncmFwaEp1c3RpZnlcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uUGFyYWdyYXBoSnVzdGlmeS5rZXkgPSAncGFyYWdyYXBoSnVzdGlmeSc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUGFyYWdyYXBoSnVzdGlmeS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ2p1c3RpZnlibG9jaydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uQ29tbWFuZEFjdGl2ZShcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgICAgIEJ1dHRvblBhcmFncmFwaEp1c3RpZnlcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uUXVvdGUgY2xhc3Mgd3JhcHMgYSBzZWxlY3Rpb24gaW4gYGJsb2NrcXVvdGVgIGVsZW1lbnQuXG4gKlxuICogQGNsYXNzIEJ1dHRvblF1b3RlXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvblF1b3RlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uUXVvdGVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnF1b3RlfSBhcmlhLXByZXNzZWQ9e2Nzc0NsYXNzLmluZGV4T2YoJ3ByZXNzZWQnKSAhPT0gLTF9IGNsYXNzTmFtZT17Y3NzQ2xhc3N9IGRhdGEtdHlwZT1cImJ1dHRvbi1xdW90ZVwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnF1b3RlfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXF1b3RlXCI+PC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHF1b3RlXG4gKiBAbWVtYmVyb2YgQnV0dG9uUXVvdGVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uUXVvdGUua2V5ID0gJ3F1b3RlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25RdW90ZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUXVvdGUuZGVmYXVsdFByb3BzID0ge1xuICAgIGNvbW1hbmQ6ICdibG9ja3F1b3RlJyxcbiAgICBzdHlsZToge1xuICAgICAgICBlbGVtZW50OiAnYmxvY2txdW90ZSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25Db21tYW5kKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uUXVvdGVcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblJlbW92ZUZvcm1hdCBjbGFzcyByZW1vdmVzIHN0eWxlIGZvcm1hdHRpbmcuXG4gKlxuICogQGNsYXNzIEJ1dHRvblJlbW92ZUZvcm1hdFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICovXG5jbGFzcyBCdXR0b25SZW1vdmVGb3JtYXQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25SZW1vdmVGb3JtYXRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5yZW1vdmVmb3JtYXR9IGNsYXNzTmFtZT0nYWUtYnV0dG9uJyBkYXRhLXR5cGU9XCJidXR0b24tcmVtb3ZlZm9ybWF0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MucmVtb3ZlZm9ybWF0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXJlbW92ZWZvcm1hdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCByZW1vdmVGb3JtYXRcbiAqIEBtZW1iZXJvZiBCdXR0b25SZW1vdmVGb3JtYXRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uUmVtb3ZlRm9ybWF0LmtleSA9ICdyZW1vdmVGb3JtYXQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblJlbW92ZUZvcm1hdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uUmVtb3ZlRm9ybWF0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAncmVtb3ZlRm9ybWF0J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25SZW1vdmVGb3JtYXRcbik7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmQgZnJvbSAnLi4vYmFzZS9idXR0b24tY29tbWFuZC5qcyc7XG5pbXBvcnQgQnV0dG9uU3RhdGVDbGFzc2VzIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0YXRlLWNsYXNzZXMuanMnO1xuaW1wb3J0IEJ1dHRvblN0eWxlIGZyb20gJy4uL2Jhc2UvYnV0dG9uLXN0eWxlLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblN0cmlrZSBjbGFzcyBzdHlsZXMgYSBzZWxlY3Rpb24gd2l0aCBzdHJpa2Ugc3R5bGUuXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0cmlrZVxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdHJpa2UgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uU3RyaWtlXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdHJpa2V9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLXN0cmlrZVwiIG9uQ2xpY2s9e3RoaXMuZXhlY0NvbW1hbmQuYmluZCh0aGlzKX0gdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0cmlrZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1zdHJpa2VcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgc3RyaWtlXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3RyaWtlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblN0cmlrZS5rZXkgPSAnc3RyaWtlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25TdHJpa2VcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvblN0cmlrZS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY29tbWFuZDogJ3N0cmlrZScsXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX3N0cmlrZSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgIEJ1dHRvblN0eWxlKFxuICAgICAgICBCdXR0b25TdHJpa2VcbikpKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25zU3R5bGVzTGlzdEhlYWRlciBjbGFzcyBwcm92aWRlcyB0aGUgaGVhZGVyIG9mIGFuIGxpc3Qgb2Ygc3R5bGUgaXRlbXMuXG4gKlxuICogQGNsYXNzIEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyXG4gKi9cbmNsYXNzIEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uc1N0eWxlc0xpc3RIZWFkZXJcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvcHMuc3R5bGVzICYmIHRoaXMucHJvcHMuc3R5bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1saXN0LWhlYWRlclwiPnt0aGlzLnByb3BzLm5hbWV9PC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25zU3R5bGVzTGlzdEhlYWRlcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBwcmV2aWV3aW5nIGEgc3R5bGUgZGVmaW5pdGlvblxuICogaW5zaWRlIGEgbGlzdCBhbmQgYXBwbHlpbmcgaXQgdG8gdGhlIGN1cnJlbnQgZWRpdG9yIHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmVcbiAqL1xuY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpIHJvbGU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiIG9uQ2xpY2s9e3RoaXMuX3JlbW92ZVN0eWxlcy5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0+e0FsbG95RWRpdG9yLlN0cmluZ3Mubm9ybWFsfTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbmxpbmUgc3R5bGVzIGFuZCBjb25maWd1cmVkIGJsb2NrIGVsZW1lbnRzIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG4gICAgICogQG1ldGhvZCBfcmVtb3ZlU3R5bGVzXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9yZW1vdmVTdHlsZXMoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgncmVtb3ZlRm9ybWF0Jyk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5yZW1vdmVCbG9ja3MuZm9yRWFjaChmdW5jdGlvbihibG9ja0l0ZW0pIHtcbiAgICAgICAgICAgIHZhciBibG9ja1N0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKHtlbGVtZW50OiBibG9ja0l0ZW19KTtcblxuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZVN0eWxlKGJsb2NrU3R5bGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGJ1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUua2V5ID0gJ2J1dHRvblN0eWxlc0xpc3RJdGVtUmVtb3ZlJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmUuZGVmYXVsdFByb3BzID0ge1xuICAgIHJlbW92ZUJsb2NrczogWydoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdwcmUnXVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3R5bGVzTGlzdEl0ZW1SZW1vdmU7XG4iLCJpbXBvcnQgQnV0dG9uQWN0aW9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tYWN0aW9uLXN0eWxlLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdHlsZXNMaXN0SXRlbSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBwcmV2aWV3aW5nIGEgc3R5bGUgZGVmaW5pdGlvblxuICogaW5zaWRlIGEgbGlzdCBhbmQgYXBwbHlpbmcgaXQgdG8gdGhlIGN1cnJlbnQgZWRpdG9yIHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdEl0ZW1cbiAqIEB1c2VzIEJ1dHRvbkFjdGlvblN0eWxlXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdHlsZXNMaXN0SXRlbSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIGJvdGggb24gdGhlIGNsaWVudCBhbmQgc2VydmVyLCBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgICAgICAvLyBTdHlsZXMgd2l0aCB3aWxkY2FyZCBlbGVtZW50ICgqKSBnZW5lcmF0ZSBhbiBlbXB0eSB0YWcgaW4gdGhlaXIgcHJldmlldyA8IGNsYXNzPVwiY3VzdG9tLWNsYXNzXCIgLz4uXG4gICAgICAgIC8vIFdlIGRlZmF1bHQgdG8gZWxlbWVudCBzcGFuIGFuZCByZW1vdmUgdGhlIG1hcmdpbnMgdG8gb2J0YWluIGEgbW9yZSBjb25zaXN0ZW50IHNldCBvZiBwcmV2aWV3cy5cbiAgICAgICAgdmFyIHN0eWxlQ2ZnID0ge1xuICAgICAgICAgICAgZWxlbWVudDogJ3NwYW4nLFxuICAgICAgICAgICAgc3R5bGVzOiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgc3R5bGVDZmcgPSBDS0VESVRPUi50b29scy5tZXJnZShzdHlsZUNmZywgdGhpcy5wcm9wcy5zdHlsZSk7XG5cbiAgICAgICAgdGhpcy5fcHJldmlldyA9IG5ldyBDS0VESVRPUi5zdHlsZShzdHlsZUNmZykuYnVpbGRQcmV2aWV3KHRoaXMucHJvcHMubmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gdXNlIGRhbmdlcm91c2VseVNldElubnRlckhUTUwgc2luY2Ugd2UncmUgbm90IGluIGNvbnRyb2wgb2YgdGhlIHN0eWxlXG4gICAgICAgIC8vIHByZXZpZXcgdGhhdCBpcyBnZW5lcmF0ZWQgYnkgQ0tFZGl0b3IuXG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLnByb3BzLm5hbWUgPT09IHRoaXMucHJvcHMuYWN0aXZlU3R5bGUgPyAnYWUtdG9vbGJhci1lbGVtZW50IGFjdGl2ZScgOiAnYWUtdG9vbGJhci1lbGVtZW50JztcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzTmFtZX0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3tfX2h0bWw6IHRoaXMuX3ByZXZpZXd9fSBvbkNsaWNrPXt0aGlzLl9vbkNsaWNrLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fT48L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBpdGVtIHN0eWxlIHRvIHRoZSBlZGl0b3Igc2VsZWN0aW9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtXG4gICAgICogQG1ldGhvZCBfb25DbGlja1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfb25DbGljaygpIHtcbiAgICAgICAgLy8gVHlwaWNhbGx5LCB3ZSB3YW50IHRoZSBzdHlsZSB0byBiZSB0aGUgb25seSBvbmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzZWxlY3Rpb24sIHNvXG4gICAgICAgIC8vIHdlIGV4ZWN1dGUgdGhlICdyZW1vdmVGb3JtYXQnIGNvbW1hbmQgZmlyc3QuIE5vdGUgdGhhdCBibG9jayBzdHlsZXMgd29uJ3QgYmUgY2xlYW5lZC5cbiAgICAgICAgLy8gSG93ZXZlciwgdGhpcyBpcyBjb25zaXN0ZW50IHdpdGggb3RoZXIgZWRpdG9ycyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBmZWF0dXJlLlxuICAgICAgICB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpLmV4ZWNDb21tYW5kKCdyZW1vdmVGb3JtYXQnKTtcblxuICAgICAgICB0aGlzLmFwcGx5U3R5bGUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgYnV0dG9uU3R5bGVzTGlzdEl0ZW1cbiAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0SXRlbVxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25TdHlsZXNMaXN0SXRlbS5rZXkgPSAnYnV0dG9uU3R5bGVzTGlzdEl0ZW0nO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25BY3Rpb25TdHlsZShcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uU3R5bGVzTGlzdEl0ZW1cbikpOyIsImltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3RJdGVtIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWl0ZW0uanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWhlYWRlci5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uU3R5bGVzTGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzaG93aW5nIGEgbGlzdCBvZiBzdHlsZXMgdGhhdCBjYW4gYmVcbiAqIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgc2VsZWN0aW9uLi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uU3R5bGVzTGlzdFxuICogQHVzZXMgV2lkZ2V0Rm9jdXNNYW5hZ2VyXG4gKi9cbmNsYXNzIEJ1dHRvblN0eWxlc0xpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQsIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbml0aWFsIHJlbmRlcmluZyBvY2N1cnMuXG4gICAgICpcbiAgICAgKiBGb2N1c2VzIG9uIHRoZSBsaXN0IG5vZGUgdG8gYWxsb3cga2V5Ym9hcmQgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgUmVhY3RET00uZmluZERPTU5vZGUodGhpcykuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgYm90aCBvbiB0aGUgY2xpZW50IGFuZCBzZXJ2ZXIsIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudFdpbGxNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudFdpbGxNb3VudCgpIHtcbiAgICAgICAgdmFyIGJsb2NrU3R5bGVzID0gW107XG4gICAgICAgIHZhciBpbmxpbmVTdHlsZXMgPSBbXTtcbiAgICAgICAgdmFyIG9iamVjdFN0eWxlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMucHJvcHMuc3R5bGVzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gbmV3IENLRURJVE9SLnN0eWxlKGl0ZW0uc3R5bGUpO1xuXG4gICAgICAgICAgICBpZiAoc3R5bGUudHlwZSA9PT0gQ0tFRElUT1IuU1RZTEVfQkxPQ0spIHtcbiAgICAgICAgICAgICAgICBibG9ja1N0eWxlcy5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHlsZS50eXBlID09PSBDS0VESVRPUi5TVFlMRV9JTkxJTkUpIHtcbiAgICAgICAgICAgICAgICBpbmxpbmVTdHlsZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3R5bGUudHlwZSA9PT0gQ0tFRElUT1IuU1RZTEVfT0JKRUNUKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0U3R5bGVzLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuX2Jsb2NrU3R5bGVzID0gYmxvY2tTdHlsZXM7XG4gICAgICAgIHRoaXMuX2lubGluZVN0eWxlcyA9IGlubGluZVN0eWxlcztcbiAgICAgICAgdGhpcy5fb2JqZWN0U3R5bGVzID0gb2JqZWN0U3R5bGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGxpc3QuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzTGlzdFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgcmVtb3ZlU3R5bGVzSXRlbTtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zaG93UmVtb3ZlU3R5bGVzSXRlbSkge1xuICAgICAgICAgICAgcmVtb3ZlU3R5bGVzSXRlbSA9IDxCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfSBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxCdXR0b25Ecm9wZG93biB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgICAgICAgICAge3JlbW92ZVN0eWxlc0l0ZW19XG5cbiAgICAgICAgICAgICAgICA8QnV0dG9uc1N0eWxlc0xpc3RIZWFkZXIgbmFtZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5ibG9ja1N0eWxlc30gc3R5bGVzPXt0aGlzLl9ibG9ja1N0eWxlc30gLz5cbiAgICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyU3R5bGVzSXRlbXModGhpcy5fYmxvY2tTdHlsZXMpfVxuXG4gICAgICAgICAgICAgICAgPEJ1dHRvbnNTdHlsZXNMaXN0SGVhZGVyIG5hbWU9e0FsbG95RWRpdG9yLlN0cmluZ3MuaW5saW5lU3R5bGVzfSBzdHlsZXM9e3RoaXMuX2lubGluZVN0eWxlc30gLz5cbiAgICAgICAgICAgICAgICB7dGhpcy5fcmVuZGVyU3R5bGVzSXRlbXModGhpcy5faW5saW5lU3R5bGVzKX1cblxuICAgICAgICAgICAgICAgIDxCdXR0b25zU3R5bGVzTGlzdEhlYWRlciBuYW1lPXtBbGxveUVkaXRvci5TdHJpbmdzLm9iamVjdFN0eWxlc30gc3R5bGVzPXt0aGlzLl9vYmplY3RTdHlsZXN9IC8+XG4gICAgICAgICAgICAgICAge3RoaXMuX3JlbmRlclN0eWxlc0l0ZW1zKHRoaXMuX29iamVjdFN0eWxlcyl9XG4gICAgICAgICAgICA8L0J1dHRvbkRyb3Bkb3duPlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgaW5zdGFuY2VzIG9mIEJ1dHRvblN0eWxlc0xpc3RJdGVtIHdpdGggdGhlIHByZXZpZXcgb2YgdGhlIGNvcnJlc3BvbmRlbnQgYmxvY2ssIGlubGluZSBvciBvYmplY3Qgc3R5bGVzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RcbiAgICAgKiBAbWV0aG9kIF9yZW5kZXJTdHlsZXNJdGVtc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IHN0eWxlcyBMaXN0IG9mIHN0eWxlcyBmb3Igd2hpY2ggcHJldmlldyBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBSZW5kZXJlZCBpbnN0YW5jZXMgb2YgQnV0dG9uU3R5bGVzTGlzdEl0ZW0gY2xhc3NcbiAgICAgKi9cbiAgICBfcmVuZGVyU3R5bGVzSXRlbXMoc3R5bGVzKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvcjtcbiAgICAgICAgdmFyIGl0ZW1zO1xuXG4gICAgICAgIGlmIChzdHlsZXMgJiYgc3R5bGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaXRlbXMgPSBzdHlsZXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8bGkga2V5PXtpdGVtLm5hbWV9IHJvbGU9XCJvcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25TdHlsZXNMaXN0SXRlbSBhY3RpdmVTdHlsZT17dGhpcy5wcm9wcy5hY3RpdmVTdHlsZX0gZWRpdG9yPXtlZGl0b3J9IG5hbWU9e2l0ZW0ubmFtZX0gc3R5bGU9e2l0ZW0uc3R5bGV9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNMaXN0XG4gKiBAc3RhdGljXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAZGVmYXVsdCBidXR0b25TdHlsZXNMaXN0XG4gKi9cbkJ1dHRvblN0eWxlc0xpc3Qua2V5ID0gJ2J1dHRvblN0eWxlc0xpc3QnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc0xpc3RcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvblN0eWxlc0xpc3QuZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiBmYWxzZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfSxcbiAgICBzaG93UmVtb3ZlU3R5bGVzSXRlbTogdHJ1ZVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvblN0eWxlc0xpc3Rcbik7IiwiaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3QgZnJvbSAnLi9idXR0b24tc3R5bGVzLWxpc3QuanN4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblN0eWxlcyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBzdHlsaW5nIGEgc2VsZWN0aW9uIHdpdGggYSBsaXN0IG9mXG4gKiBjb25maWd1cmFibGUgYW5kIGN1c3RvbWl6YWJsZSBzdHlsZXMuIFRoZSBhbGxvd2VkIHN0eWxlcyBmb2xsb3cgQ0tFRElUT1IuU3R5bGUgY29uZmlndXJhdGlvblxuICogKGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1Iuc3R5bGUpXG4gKlxuICogQGNsYXNzIEJ1dHRvblN0eWxlc1xuICovXG5jbGFzcyBCdXR0b25TdHlsZXMgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdHlsZXNcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGFjdGl2ZVN0eWxlID0gQWxsb3lFZGl0b3IuU3RyaW5ncy5ub3JtYWw7XG5cbiAgICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuX2dldFN0eWxlcygpO1xuXG4gICAgICAgIHN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jaGVja0FjdGl2ZShpdGVtLnN0eWxlKSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZVN0eWxlID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgIHZhciBidXR0b25TdHlsZXNMaXN0O1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLmV4cGFuZGVkKSB7XG4gICAgICAgICAgICBidXR0b25TdHlsZXNMaXN0ID0gPEJ1dHRvblN0eWxlc0xpc3QgYWN0aXZlU3R5bGU9e2FjdGl2ZVN0eWxlfSBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfSBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IHNob3dSZW1vdmVTdHlsZXNJdGVtPXt0aGlzLnByb3BzLnNob3dSZW1vdmVTdHlsZXNJdGVtfSBzdHlsZXM9e3N0eWxlc30gLz47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24gYWUtaGFzLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWV4cGFuZGVkPXt0aGlzLnByb3BzLmV4cGFuZGVkfSBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0eWxlcyArICcgJyArIGFjdGl2ZVN0eWxlfSBjbGFzc05hbWU9XCJhZS10b29sYmFyLWVsZW1lbnRcIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcyl9IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdHlsZXMgKyAnICcgKyBhY3RpdmVTdHlsZX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPnthY3RpdmVTdHlsZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFycm93XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uU3R5bGVzTGlzdH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZ2l2ZW4gc3R5bGUgZGVmaW5pdGlvbiBpcyBhcHBsaWVkIHRvIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc1xuICAgICAqIEBtZXRob2QgX2NoZWNrQWN0aXZlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlQ29uZmlnIFN0eWxlIGRlZmluaXRpb24gYXMgcGVyIGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1Iuc3R5bGUuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgc3R5bGUgaXMgYXBwbGllZCB0byB0aGUgc2VsZWN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgX2NoZWNrQWN0aXZlKHN0eWxlQ29uZmlnKSB7XG4gICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIC8vIFN0eWxlcyB3aXRoIHdpbGRjYXJkIGVsZW1lbnQgKCopIHdvbid0IGJlIGNvbnNpZGVyZWQgYWN0aXZlIGJ5IENLRWRpdG9yLiBEZWZhdWx0aW5nXG4gICAgICAgIC8vIHRvIGEgJ3NwYW4nIGVsZW1lbnQgd29ya3MgZm9yIG1vc3Qgb2YgdGhvc2UgY2FzZXMgd2l0aCBubyBkZWZpbmVkIGVsZW1lbnQuXG4gICAgICAgIHN0eWxlQ29uZmlnID0gQ0tFRElUT1IudG9vbHMubWVyZ2Uoe2VsZW1lbnQ6ICdzcGFuJ30sIHN0eWxlQ29uZmlnKTtcblxuICAgICAgICB2YXIgc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoc3R5bGVDb25maWcpO1xuXG4gICAgICAgIHJldHVybiBzdHlsZS5jaGVja0FjdGl2ZShuYXRpdmVFZGl0b3IuZWxlbWVudFBhdGgoKSwgbmF0aXZlRWRpdG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHN0eWxlcy4gRWFjaCBzdHlsZSBjb25zaXN0cyBmcm9tIHR3byBwcm9wZXJ0aWVzOlxuICAgICAqIC0gbmFtZSAtIHRoZSBzdHlsZSBuYW1lLCBmb3IgZXhhbXBsZSBcImgxXCJcbiAgICAgKiAtIHN0eWxlIC0gYW4gb2JqZWN0IHdpdGggb25lIHByb3BlcnR5LCBjYWxsZWQgYGVsZW1lbnRgIHdoaWNoIHZhbHVlXG4gICAgICogcmVwcmVzZW50cyB0aGUgc3R5bGUgd2hpY2ggaGF2ZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN0eWxlc1xuICAgICAqIEBtZXRob2QgX2dldFN0eWxlc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtBcnJheTxvYmplY3Q+fSBBbiBhcnJheSBvZiBvYmplY3RzIGNvbnRhaW5pbmcgdGhlIHN0eWxlcy5cbiAgICAgKi9cbiAgICBfZ2V0U3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5zdHlsZXMgfHwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IEFsbG95RWRpdG9yLlN0cmluZ3MuaDEsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogJ2gxJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5oMixcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnaDInXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBBbGxveUVkaXRvci5TdHJpbmdzLmZvcm1hdHRlZCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAncHJlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5jaXRlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdjaXRlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2RlLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdjb2RlJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgc3R5bGVzXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3R5bGVzXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblN0eWxlcy5rZXkgPSAnc3R5bGVzJztcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU3R5bGVzOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdWJzY3JpcHQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYXBwbHlpbmcgc3Vic2NyaXB0IHN0eWxlIHRvIGEgdGV4dCBzZWxlY3Rpb24uXG4gKlxuICogQGNsYXNzIEJ1dHRvblN1YnNjcmlwdFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdWJzY3JpcHQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25TdWJzY3JpcHRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN1YnNjcmlwdH0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tc3Vic2NyaXB0XCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3Muc3Vic2NyaXB0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXN1YnNjcmlwdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBzdWJzY3JpcHRcbiAqIEBtZW1iZXJvZiBCdXR0b25TdWJzY3JpcHRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uU3Vic2NyaXB0LmtleSA9ICdzdWJzY3JpcHQnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblN1YnNjcmlwdFxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uU3Vic2NyaXB0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnc3Vic2NyaXB0JyxcbiAgICBzdHlsZTogJ2NvcmVTdHlsZXNfc3Vic2NyaXB0J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvblN1YnNjcmlwdFxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kIGZyb20gJy4uL2Jhc2UvYnV0dG9uLWNvbW1hbmQuanMnO1xuaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBCdXR0b25TdHlsZSBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdHlsZS5qcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25TdXBlcnNjcmlwdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBhcHBseWluZyBzdXBlcnNjcmlwdCBzdHlsZSB0byBhIHRleHQgc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBCdXR0b25TdXBlcnNjcmlwdFxuICogQHVzZXMgQnV0dG9uQ29tbWFuZFxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKiBAdXNlcyBCdXR0b25TdHlsZVxuICovXG5jbGFzcyBCdXR0b25TdXBlcnNjcmlwdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblN1cGVyc2NyaXB0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdXBlcnNjcmlwdH0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tc3VwZXJzY3JpcHRcIiBvbkNsaWNrPXt0aGlzLmV4ZWNDb21tYW5kLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5zdXBlcnNjcmlwdH0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1zdXBlcnNjcmlwdFwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBzdXBlcnNjcmlwdFxuICogQG1lbWJlcm9mIEJ1dHRvblN1cGVyc2NyaXB0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblN1cGVyc2NyaXB0LmtleSA9ICdzdXBlcnNjcmlwdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uU3VwZXJzY3JpcHRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cbkJ1dHRvblN1cGVyc2NyaXB0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnc3VwZXJzY3JpcHQnLFxuICAgIHN0eWxlOiAnY29yZVN0eWxlc19zdXBlcnNjcmlwdCdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uU3RhdGVDbGFzc2VzKFxuICAgIEJ1dHRvblN0eWxlKFxuICAgICAgICBCdXR0b25TdXBlcnNjcmlwdFxuKSkpOyIsImltcG9ydCBCdXR0b25Db21tYW5kc0xpc3QgZnJvbSAnLi9idXR0b24tY29tbWFuZHMtbGlzdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGVDZWxsIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgdG8gd29yayB3aXRoIHRhYmxlIGNlbGxzLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUNlbGxcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVDZWxsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVDZWxsXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3Q7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0SWQgPSBCdXR0b25UYWJsZUNlbGwua2V5ICsgJ0xpc3QnO1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0ID0gPEJ1dHRvbkNvbW1hbmRzTGlzdCBjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX0gZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gbGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9IGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2VsbH0gYXJpYS1vd25zPXtidXR0b25Db21tYW5kc0xpc3RJZH0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgb25DbGljaz17dGhpcy5wcm9wcy50b2dnbGVEcm9wZG93bi5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY2VsbH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFlLWljb24tY2VsbFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uQ29tbWFuZHNMaXN0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG4gICAgICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVDZWxsXG4gICAgICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cbiAgICAgKi9cbiAgICBfZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY2VsbEluc2VydEJlZm9yZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbEluc2VydEJlZm9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY2VsbEluc2VydEFmdGVyJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsSW5zZXJ0QWZ0ZXJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxEZWxldGUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNlbGxEZWxldGVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxNZXJnZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbE1lcmdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdjZWxsTWVyZ2VEb3duJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsTWVyZ2VEb3duXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdjZWxsTWVyZ2VSaWdodCcsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuY2VsbE1lcmdlUmlnaHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxIb3Jpem9udGFsU3BsaXQnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmNlbGxTcGxpdEhvcml6b250YWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NlbGxWZXJ0aWNhbFNwbGl0JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jZWxsU3BsaXRWZXJ0aWNhbFxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZUNlbGxcbiAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUNlbGxcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uVGFibGVDZWxsLmtleSA9ICd0YWJsZUNlbGwnO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUNlbGw7IiwiaW1wb3J0IEJ1dHRvbkNvbW1hbmRzTGlzdCBmcm9tICcuL2J1dHRvbi1jb21tYW5kcy1saXN0LmpzeCc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZUNvbHVtbiBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHdvcmsgd2l0aCB0YWJsZSBjb2x1bW5zLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUNvbHVtblxuICovXG5jbGFzcyBCdXR0b25UYWJsZUNvbHVtbiBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBVSSBvZiB0aGUgYnV0dG9uLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ29sdW1uXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3QsXG4gICAgICAgICAgICBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0SWQgPSBCdXR0b25UYWJsZUNvbHVtbi5rZXkgKyAnTGlzdCc7XG4gICAgICAgICAgICBidXR0b25Db21tYW5kc0xpc3QgPSA8QnV0dG9uQ29tbWFuZHNMaXN0IGNvbW1hbmRzPXt0aGlzLl9nZXRDb21tYW5kcygpfSBlZGl0b3I9e3RoaXMucHJvcHMuZWRpdG9yfSBsaXN0SWQ9e2J1dHRvbkNvbW1hbmRzTGlzdElkfSBvbkRpc21pc3M9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd259IC8+O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyIGFlLWhhcy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH0gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW59IGFyaWEtb3ducz17YnV0dG9uQ29tbWFuZHNMaXN0SWR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd24uYmluZCh0aGlzKX0gcm9sZT1cImxpc3Rib3hcIiB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuY29sdW1ufT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1jb2x1bW5cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAge2J1dHRvbkNvbW1hbmRzTGlzdH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGNvbW1hbmRzLiBJZiBhIGxpc3Qgb2YgY29tbWFuZHMgd2FzIHBhc3NlZFxuICAgICAqIGFzIHByb3BlcnR5IGBjb21tYW5kc2AsIGl0IHdpbGwgdGFrZSBhIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBvbmVzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlQ29sdW1uXG4gICAgICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cbiAgICAgKi9cbiAgICBfZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY29sdW1uSW5zZXJ0QmVmb3JlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5JbnNlcnRCZWZvcmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ2NvbHVtbkluc2VydEFmdGVyJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5JbnNlcnRBZnRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAnY29sdW1uRGVsZXRlJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5jb2x1bW5EZWxldGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgdGFibGVDb2x1bW5cbiAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUNvbHVtblxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYWJsZUNvbHVtbi5rZXkgPSAndGFibGVDb2x1bW4nO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUNvbHVtbjsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbnZhciBLRVlfRU5URVIgPSAxMztcbnZhciBLRVlfRVNDID0gMjc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhYmxlRWRpdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyBhbmQgZWRpdGluZyBhIHRhYmxlIGluIGEgZG9jdW1lbnQuXG4gKiBQcm92aWRlcyBVSSBmb3IgY3JlYXRpbmcgYSB0YWJsZS5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVFZGl0XG4gKi9cbmNsYXNzIEJ1dHRvblRhYmxlRWRpdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcbiAgICAgKiBAbWV0aG9kIGdldEluaXRpYWxTdGF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnJvd3NSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICAgICAgdGhpcy5jb2xzUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjb2xzOiAzLFxuICAgICAgICAgICAgcm93czogM1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQgKG5vdCBvbiB0aGUgc2VydmVyKSxcbiAgICAgKiBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogRm9jdXNlcyBvbiB0aGUgbGluayBpbnB1dCB0byBpbW1lZGlhdGVseSBhbGxvdyBlZGl0aW5nLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5yb3dzUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGFibGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG4gICAgICogQG1ldGhvZCBfY3JlYXRlVGFibGVcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2NyZWF0ZVRhYmxlKCkge1xuICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIHRhYmxlVXRpbHMgPSBuZXcgQ0tFRElUT1IuVGFibGUoZWRpdG9yKTtcblxuICAgICAgICB0YWJsZVV0aWxzLmNyZWF0ZSh7XG4gICAgICAgICAgICBhdHRyczogdGhpcy5wcm9wcy50YWJsZUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICBjb2xzOiB0aGlzLnN0YXRlLmNvbHMsXG4gICAgICAgICAgICByb3dzOiB0aGlzLnN0YXRlLnJvd3NcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcblxuICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBhIGNoYW5nZSBpbiBpbnB1dCB2YWx1ZS4gU2V0cyB0aGUgcHJvdmlkZWQgdmFsdWUgZnJvbSB0aGUgdXNlciBiYWNrIHRvIHRoZSBpbnB1dC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcbiAgICAgKiBAbWV0aG9kIF9oYW5kbGVDaGFuZ2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXROYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnB1dCB3aGljaCB2YWx1ZSBzaG91bGQgYmUgdXBkYXRlZC5cbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUgcHJvdmlkZWQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVDaGFuZ2UoaW5wdXROYW1lLCBldmVudCkge1xuICAgICAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICAgICAgc3RhdGVbaW5wdXROYW1lXSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb25pdG9ycyBrZXkgaW50ZXJhY3Rpb24gaW5zaWRlIHRoZSBpbnB1dCBlbGVtZW50IHRvIHJlc3BvbmQgdG8gdGhlIGtleXM6XG4gICAgICogLSBFbnRlcjogQ3JlYXRlcyB0aGUgdGFibGUuXG4gICAgICogLSBFc2NhcGU6IERpc2NhcmRzIHRoZSBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuICAgICAqIEBtZXRob2QgX2hhbmRsZUtleURvd25cbiAgICAgKiBAcGFyYW0ge1N5bnRoZXRpY0V2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIF9oYW5kbGVLZXlEb3duKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIgfHwgZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5rZXlDb2RlID09PSBLRVlfRU5URVIpIHtcbiAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVRhYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gS0VZX0VTQykge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jYW5jZWxFeGNsdXNpdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZUVkaXRcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgcm93c0lkID0gdGltZSArICdyb3dzJztcbiAgICAgICAgdmFyIGNvbHNJZCA9IHRpbWUgKyAnY29scyc7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWVkaXQtdGFibGVcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj17cm93c0lkfT57QWxsb3lFZGl0b3IuU3RyaW5ncy5yb3dzfTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItaW5wdXQgc21hbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImFlLWlucHV0XCIgaWQ9e3Jvd3NJZH0gb25DaGFuZ2U9e3RoaXMuX2hhbmRsZUNoYW5nZS5iaW5kKHRoaXMsICdyb3dzJyl9IG1pbj1cIjFcIiBvbktleURvd249e3RoaXMuX2hhbmRsZUtleURvd24uYmluZCh0aGlzKX0gcGxhY2Vob2xkZXI9XCJSb3dzXCIgcmVmPXt0aGlzLnJvd3NSZWZ9IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17dGhpcy5zdGF0ZS5yb3dzfT48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9e2NvbHNJZH0+e0FsbG95RWRpdG9yLlN0cmluZ3MuY29sdW1uc308L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWlucHV0IHNtYWxsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJhZS1pbnB1dFwiIGlkPXtjb2xzSWR9IG9uQ2hhbmdlPXt0aGlzLl9oYW5kbGVDaGFuZ2UuYmluZCh0aGlzLCAnY29scycpfSBtaW49XCIxXCIgb25LZXlEb3duPXt0aGlzLl9oYW5kbGVLZXlEb3duLmJpbmQodGhpcyl9IHBsYWNlaG9sZGVyPVwiQ29sdW1zXCIgcmVmPXt0aGlzLmNvbHNSZWZ9IHR5cGU9XCJudW1iZXJcIiB2YWx1ZT17dGhpcy5zdGF0ZS5jb2xzfT48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPVwiQ29uZmlybVwiIGNsYXNzTmFtZT1cImFlLWJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuX2NyZWF0ZVRhYmxlLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLW9rXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHRhYmxlRWRpdFxuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlRWRpdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYWJsZUVkaXQua2V5ID0gJ3RhYmxlRWRpdCc7XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVFZGl0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICovXG5CdXR0b25UYWJsZUVkaXQuZGVmYXVsdFByb3BzID0ge1xuICAgIHRhYmxlQXR0cmlidXRlczoge1xuICAgICAgICBib3JkZXI6IDEsXG4gICAgICAgIGNlbGxQYWRkaW5nOiAwLFxuICAgICAgICBjZWxsU3BhY2luZzogMCxcbiAgICAgICAgc3R5bGU6ICd3aWR0aDogMTAwJSdcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25UYWJsZUVkaXQ7XG4iLCJpbXBvcnQgQnV0dG9uQ29tbWFuZHNMaXN0IGZyb20gJy4vYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblRhYmxlSGVhZGluZyBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHdvcmsgd2l0aCB0YWJsZSBoZWFkaW5nLlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYWJsZUhlYWRpbmdcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVIZWFkaW5nIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3Q7XG4gICAgICAgIHZhciBidXR0b25Db21tYW5kc0xpc3RJZDtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5leHBhbmRlZCkge1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0SWQgPSBCdXR0b25UYWJsZUhlYWRpbmcua2V5ICsgJ0xpc3QnO1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0ID0gPEJ1dHRvbkNvbW1hbmRzTGlzdCBjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX0gZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gbGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBhY3RpdmVIZWFkaW5nID0gbmV3IENLRURJVE9SLlRhYmxlKHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJykpLmdldEhlYWRpbmcoKTtcbiAgICAgICAgdmFyIGFjdGl2ZUhlYWRpbmdJbnRybyA9IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVycyArICc6JztcbiAgICAgICAgdmFyIGFjdGl2ZUhlYWRpbmdMYWJlbCA9IEFsbG95RWRpdG9yLlN0cmluZ3NbJ2hlYWRlcnMnICsgYWN0aXZlSGVhZGluZ107XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyLWRyb3Bkb3duLXhsIGFlLWhhcy1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1leHBhbmRlZD17dGhpcy5wcm9wcy5leHBhbmRlZH0gYXJpYS1sYWJlbD1cIlwiIGNsYXNzTmFtZT1cImFlLXRvb2xiYXItZWxlbWVudFwiIG9uQ2xpY2s9e3RoaXMucHJvcHMudG9nZ2xlRHJvcGRvd24uYmluZCh0aGlzKX0gcm9sZT1cImNvbWJvYm94XCIgdGFiSW5kZXg9e3RoaXMucHJvcHMudGFiSW5kZXh9IHRpdGxlPVwiXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1jb250YWluZXItZHJvcGRvd24tc2VsZWN0ZWQtaXRlbVwiPnthY3RpdmVIZWFkaW5nSW50cm99IDxzdHJvbmc+e2FjdGl2ZUhlYWRpbmdMYWJlbH08L3N0cm9uZz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWFycm93XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uQ29tbWFuZHNMaXN0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG4gICAgICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVIZWFkaW5nXG4gICAgICogQG1ldGhvZCBfZ2V0Q29tbWFuZHNcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QXJyYXl9IFRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjb21tYW5kcy5cbiAgICAgKi9cbiAgICBfZ2V0Q29tbWFuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndGFibGVIZWFkaW5nTm9uZScsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVyc05vbmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29tbWFuZDogJ3RhYmxlSGVhZGluZ1JvdycsXG4gICAgICAgICAgICAgICAgbGFiZWw6IEFsbG95RWRpdG9yLlN0cmluZ3MuaGVhZGVyc1Jvd1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAndGFibGVIZWFkaW5nQ29sdW1uJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzQ29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICd0YWJsZUhlYWRpbmdCb3RoJyxcbiAgICAgICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5oZWFkZXJzQm90aFxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVJvd1xuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlSGVhZGluZ1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYWJsZUhlYWRpbmcua2V5ID0gJ3RhYmxlSGVhZGluZyc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlSGVhZGluZzsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG4vKipcbiAqIFRoZSBCdXR0b25UYWJsZVJlbW92ZSBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciByZW1vdmluZyBhIHRhYmxlXG4gKlxuICogQGNsYXNzIEJ1dHRvblRhYmxlUmVtb3ZlXG4gKi9cbmNsYXNzIEJ1dHRvblRhYmxlUmVtb3ZlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVSZW1vdmVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVUYWJsZX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLXRhYmxlLXJlbW92ZVwiIG9uQ2xpY2s9e3RoaXMuX3JlbW92ZVRhYmxlLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5kZWxldGVUYWJsZX0+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1iaW5cIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSB0YWJsZSBpbiB0aGUgZWRpdG9yIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVSZW1vdmVcbiAgICAgKiBAbWV0aG9kIF9yZW1vdmVUYWJsZVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfcmVtb3ZlVGFibGUoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuICAgICAgICB2YXIgdGFibGVVdGlscyA9IG5ldyBDS0VESVRPUi5UYWJsZShlZGl0b3IpO1xuXG4gICAgICAgIHRhYmxlVXRpbHMucmVtb3ZlKCk7XG5cbiAgICAgICAgZWRpdG9yLmZpcmUoJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVJlbW92ZVxuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUmVtb3ZlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblRhYmxlUmVtb3ZlLmtleSA9ICd0YWJsZVJlbW92ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlUmVtb3ZlOyIsImltcG9ydCBCdXR0b25Db21tYW5kc0xpc3QgZnJvbSAnLi9idXR0b24tY29tbWFuZHMtbGlzdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGVSb3cgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB3b3JrIHdpdGggdGFibGUgcm93cy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVSb3dcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGVSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVJvd1xuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgYnV0dG9uQ29tbWFuZHNMaXN0O1xuICAgICAgICB2YXIgYnV0dG9uQ29tbWFuZHNMaXN0SWQ7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMuZXhwYW5kZWQpIHtcbiAgICAgICAgICAgIGJ1dHRvbkNvbW1hbmRzTGlzdElkID0gQnV0dG9uVGFibGVSb3cua2V5ICsgJ0xpc3QnO1xuICAgICAgICAgICAgYnV0dG9uQ29tbWFuZHNMaXN0ID0gPEJ1dHRvbkNvbW1hbmRzTGlzdCBjb21tYW5kcz17dGhpcy5fZ2V0Q29tbWFuZHMoKX0gZWRpdG9yPXt0aGlzLnByb3BzLmVkaXRvcn0gbGlzdElkPXtidXR0b25Db21tYW5kc0xpc3RJZH0gb25EaXNtaXNzPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3dufSAvPjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFlLWNvbnRhaW5lciBhZS1oYXMtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGFyaWEtZXhwYW5kZWQ9e3RoaXMucHJvcHMuZXhwYW5kZWR9IGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3Mucm93fSBhcmlhLW93bnM9e2J1dHRvbkNvbW1hbmRzTGlzdElkfSBjbGFzc05hbWU9XCJhZS1idXR0b25cIiBvbkNsaWNrPXt0aGlzLnByb3BzLnRvZ2dsZURyb3Bkb3duLmJpbmQodGhpcyl9IHJvbGU9XCJjb21ib2JveFwiIHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5yb3d9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXJvd1wiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICB7YnV0dG9uQ29tbWFuZHNMaXN0fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgY29tbWFuZHMuIElmIGEgbGlzdCBvZiBjb21tYW5kcyB3YXMgcGFzc2VkXG4gICAgICogYXMgcHJvcGVydHkgYGNvbW1hbmRzYCwgaXQgd2lsbCB0YWtlIGEgcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IG9uZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVGFibGVSb3dcbiAgICAgKiBAbWV0aG9kIF9nZXRDb21tYW5kc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGNvbW1hbmRzLlxuICAgICAqL1xuICAgIF9nZXRDb21tYW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY29tbWFuZHMgfHwgW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdyb3dJbnNlcnRCZWZvcmUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0luc2VydEJlZm9yZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb21tYW5kOiAncm93SW5zZXJ0QWZ0ZXInLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0luc2VydEFmdGVyXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdyb3dEZWxldGUnLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLnJvd0RlbGV0ZVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVJvd1xuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlUm93XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblRhYmxlUm93LmtleSA9ICd0YWJsZVJvdyc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlUm93OyIsImltcG9ydCBCdXR0b25UYWJsZUVkaXQgZnJvbSAnLi9idXR0b24tdGFibGUtZWRpdC5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFibGUgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYW5kIGVkaXRpbmcgYSB0YWJsZSBpbiBhIGRvY3VtZW50LiBCdXR0b25UYWJsZVxuICogcmVuZGVycyBpbiB0d28gZGlmZmVyZW50IG1vZGVzOlxuICpcbiAqIC0gTm9ybWFsOiBKdXN0IGEgYnV0dG9uIHRoYXQgYWxsb3dzIHRvIHN3aXRjaCB0byB0aGUgZWRpdGlvbiBtb2RlXG4gKiAtIEV4Y2x1c2l2ZTogVGhlIEJ1dHRvblRhYmxlRWRpdCBVSSB3aXRoIGFsbCB0aGUgdGFibGUgZWRpdGlvbiBjb250cm9scy5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVGFibGVcbiAqL1xuY2xhc3MgQnV0dG9uVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYWJsZVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPEJ1dHRvblRhYmxlRWRpdCB7Li4udGhpcy5wcm9wc30gLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy50YWJsZX0gY2xhc3NOYW1lPVwiYWUtYnV0dG9uXCIgZGF0YS10eXBlPVwiYnV0dG9uLXRhYmxlXCIgb25DbGljaz17dGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudGFibGV9PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXRhYmxlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB0YWJsZVxuICogQG1lbWJlcm9mIEJ1dHRvblRhYmxlXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblRhYmxlLmtleSA9ICd0YWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvblRhYmxlOyIsImltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVGFyZ2V0TGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjaGFuZ2luZyB0aGUgdGFyZ2V0IG9mIGEgbGlua1xuICogaW4gdGhlIGRvY3VtZW50LlxuICpcbiAqIEBjbGFzcyBCdXR0b25UYXJnZXRMaXN0XG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqL1xuY2xhc3MgQnV0dG9uVGFyZ2V0TGlzdCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKS5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBsaXN0VGFyZ2V0cyA9IHRoaXMuX3JlbmRlckxpc3RUYXJnZXRzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxCdXR0b25Ecm9wZG93biB7Li4udGhpcy5wcm9wc30+XG4gICAgICAgICAgICAgICAge2xpc3RUYXJnZXRzfVxuICAgICAgICAgICAgPC9CdXR0b25Ecm9wZG93bj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aGUgYWxsb3dlZCBsaW5rIHRhcmdldCBpdGVtcy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gICAgICogQG1ldGhvZCBfZ2V0QWxsb3dlZFRhcmdldEl0ZW1zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgYWxsb3dlZCB0YXJnZXQgaXRlbXMuXG4gICAgICovXG4gICAgX2dldEFsbG93ZWRUYXJnZXRJdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuYWxsb3dlZExpbmtUYXJnZXRzIHx8IFt7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0RGVmYXVsdCxcbiAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0U2VsZixcbiAgICAgICAgICAgIHZhbHVlOiAnX3NlbGYnXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGxhYmVsOiBBbGxveUVkaXRvci5TdHJpbmdzLmxpbmtUYXJnZXRCbGFuayxcbiAgICAgICAgICAgIHZhbHVlOiAnX2JsYW5rJ1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0UGFyZW50LFxuICAgICAgICAgICAgdmFsdWU6ICdfcGFyZW50J1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBsYWJlbDogQWxsb3lFZGl0b3IuU3RyaW5ncy5saW5rVGFyZ2V0VG9wLFxuICAgICAgICAgICAgdmFsdWU6ICdfdG9wJ1xuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBhbGxvd2VkIGxpbmsgdGFyZ2V0IGl0ZW1zLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblRhcmdldExpc3RcbiAgICAgKiBAbWV0aG9kIF9yZW5kZXJMaXN0VGFyZ2V0c1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgdGhlIHJlbmRlcmVkIGxpbmsgaXRlbXNcbiAgICAgKi9cbiAgICBfcmVuZGVyTGlzdFRhcmdldHMoKSB7XG4gICAgICAgIHZhciB0YXJnZXRzID0gdGhpcy5fZ2V0QWxsb3dlZFRhcmdldEl0ZW1zKCk7XG5cbiAgICAgICAgdmFyIGhhbmRsZUxpbmtUYXJnZXRDaGFuZ2UgPSB0aGlzLnByb3BzLmhhbmRsZUxpbmtUYXJnZXRDaGFuZ2U7XG5cbiAgICAgICAgdGFyZ2V0cyA9IHRhcmdldHMubWFwKGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IHRoaXMucHJvcHMuc2VsZWN0ZWRUYXJnZXQgPT09IHRhcmdldC52YWx1ZSA/ICdhZS10b29sYmFyLWVsZW1lbnQgYWN0aXZlJyA6ICdhZS10b29sYmFyLWVsZW1lbnQnO1xuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBrZXk9e3RhcmdldC52YWx1ZX0gcm9sZT1cIm9wdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBkYXRhLXZhbHVlPXt0YXJnZXQudmFsdWV9IG9uQ2xpY2s9e2hhbmRsZUxpbmtUYXJnZXRDaGFuZ2V9Pnt0YXJnZXQubGFiZWx9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldHM7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IGxpbmtUYXJnZXRFZGl0XG4gKiBAbWVtYmVyb2YgQnV0dG9uVGFyZ2V0TGlzdFxuICogQHByb3BlcnR5IHtTdHJpbmd9IGtleVxuICogQHN0YXRpY1xuICovXG5CdXR0b25UYXJnZXRMaXN0LmtleSA9ICd0YXJnZXRMaXN0JztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25UYXJnZXRMaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICovXG5CdXR0b25UYXJnZXRMaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjaXJjdWxhcjogdHJ1ZSxcbiAgICBkZXNjZW5kYW50czogJy5hZS10b29sYmFyLWVsZW1lbnQnLFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgZGlzbWlzc05leHQ6IFszOV0sXG4gICAgICAgIGRpc21pc3NQcmV2OiBbMzddLFxuICAgICAgICBuZXh0OiBbNDBdLFxuICAgICAgICBwcmV2OiBbMzhdXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0Rm9jdXNNYW5hZ2VyKFxuICAgIEJ1dHRvblRhcmdldExpc3Rcbik7IiwiaW1wb3J0IEJ1dHRvblN0YXRlQ2xhc3NlcyBmcm9tICcuLi9iYXNlL2J1dHRvbi1zdGF0ZS1jbGFzc2VzLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbi8qKlxuICogVGhlIEJ1dHRvblR3aXR0ZXIgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgY3JlYXRpbmcgYSBsaW5rIHdoaWNoXG4gKiBhbGxvd3MgcGVvcGxlIHRvIHR3ZWV0IHBhcnQgb2YgdGhlIGNvbnRlbnQgaW4gdGhlIGVkaXRvci5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVHdpdHRlclxuICogQHVzZXMgQnV0dG9uU3RhdGVDbGFzc2VzXG4gKi9cbmNsYXNzIEJ1dHRvblR3aXR0ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb3IgcmVtb3ZlcyB0aGUgdHdpdHRlciBsaW5rIG9uIHRoZSBzZWxlY3Rpb24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuICAgICAqIEBtZXRob2QgaGFuZGxlQ2xpY2tcbiAgICAgKi9cbiAgICBoYW5kbGVDbGljaygpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgdmFyIGxpbmtVdGlscyA9IG5ldyBDS0VESVRPUi5MaW5rKGVkaXRvcik7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgbGlua1V0aWxzLnJlbW92ZShsaW5rVXRpbHMuZ2V0RnJvbVNlbGVjdGlvbigpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxpbmtVdGlscy5jcmVhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5fZ2V0SHJlZigpLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogJ2FlLXR3aXR0ZXItbGluaycsXG4gICAgICAgICAgICAgICAgICAgICd0YXJnZXQnOiAnX2JsYW5rJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBlZGl0b3IuZmlyZSgnYWN0aW9uUGVyZm9ybWVkJywgdGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHNlbGVjdGlvbiBpcyBjb250YWluZWQgd2l0aGluIGEgbGluayB0aGF0IHBvaW50cyB0byB0d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuICAgICAqIEBtZXRob2QgaXNBY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIHRoZSBzZWxlY3Rpb24gaXMgaW5zaWRlIGEgdHdpdHRlciBsaW5rLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHZhciBsaW5rID0gbmV3IENLRURJVE9SLkxpbmsodGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKSkuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG4gICAgICAgIHJldHVybiAobGluayAmJiAobGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnKS5pbmRleE9mKCd0d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQnKSAhPT0gLTEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIFJlbmRlcnMgdGhlIFVJIG9mIHRoZSBidXR0b24uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQnV0dG9uVHdpdHRlclxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgY3NzQ2xhc3MgPSAnYWUtYnV0dG9uICcgKyB0aGlzLmdldFN0YXRlQ2xhc3NlcygpO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8YnV0dG9uIGFyaWEtbGFiZWw9e0FsbG95RWRpdG9yLlN0cmluZ3MudHdpdHRlcn0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLXR3aXR0ZXJcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcyl9IHRhYkluZGV4PXt0aGlzLnByb3BzLnRhYkluZGV4fSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy50d2l0dGVyfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXR3aXR0ZXJcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIGFwcHJvcHJpYXRlIHR3aXR0ZXIgdXJsIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCB0ZXh0IGFuZCB0aGUgY29uZmlndXJhdGlvblxuICAgICAqIG9wdGlvbnMgcmVjZWl2ZWQgdmlhIHByb3BzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIEJ1dHRvblR3aXR0ZXJcbiAgICAgKiBAbWV0aG9kIF9nZXRIcmVmXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gQSB2YWxpZCB0d2l0dGVyIHVybCB3aXRoIHRoZSBzZWxlY3RlZCB0ZXh0IGFuZCBnaXZlbiBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIF9nZXRIcmVmKCkge1xuICAgICAgICB2YXIgbmF0aXZlRWRpdG9yID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICAgICAgdmFyIHNlbGVjdGVkVGV4dCA9IG5hdGl2ZUVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZFRleHQoKTtcbiAgICAgICAgdmFyIHVybCA9IHRoaXMucHJvcHMudXJsO1xuICAgICAgICB2YXIgdmlhID0gdGhpcy5wcm9wcy52aWE7XG4gICAgICAgIHZhciB0d2l0dGVySHJlZiA9ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PScgKyBzZWxlY3RlZFRleHQ7XG5cbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgdHdpdHRlckhyZWYgKz0gJyZ1cmw9JyArIHVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aWEpIHtcbiAgICAgICAgICAgIHR3aXR0ZXJIcmVmICs9ICcmdmlhPScgKyB2aWE7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHdpdHRlckhyZWY7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBuYW1lIHdoaWNoIHdpbGwgYmUgdXNlZCBhcyBhbiBhbGlhcyBvZiB0aGUgYnV0dG9uIGluIHRoZSBjb25maWd1cmF0aW9uLlxuICpcbiAqIEBkZWZhdWx0IHR3aXR0ZXJcbiAqIEBtZW1iZXJvZiBCdXR0b25Ud2l0dGVyXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblR3aXR0ZXIua2V5ID0gJ3R3aXR0ZXInO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uVHdpdHRlclxuKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVW5vcmRlcmVkbGlzdCBjbGFzcyBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IGZvciBjcmVhdGluZyB1bm9yZGVyZWQgbGlzdHMgaW4gYW4gZWRpdG9yLlxuICpcbiAqIEBjbGFzcyBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25TdGF0ZUNsYXNzZXNcbiAqIEB1c2VzIEJ1dHRvblN0eWxlXG4gKi9cbmNsYXNzIEJ1dHRvblVub3JkZXJlZGxpc3QgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gICAgICogQG1ldGhvZCByZW5kZXJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjc3NDbGFzcyA9ICdhZS1idXR0b24gJyArIHRoaXMuZ2V0U3RhdGVDbGFzc2VzKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5idWxsZXRlZGxpc3R9IGFyaWEtcHJlc3NlZD17Y3NzQ2xhc3MuaW5kZXhPZigncHJlc3NlZCcpICE9PSAtMX0gY2xhc3NOYW1lPXtjc3NDbGFzc30gZGF0YS10eXBlPVwiYnV0dG9uLXVsXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MuYnVsbGV0ZWRsaXN0fT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLWJ1bGxldGVkLWxpc3RcIj48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIG5hbWUgd2hpY2ggd2lsbCBiZSB1c2VkIGFzIGFuIGFsaWFzIG9mIHRoZSBidXR0b24gaW4gdGhlIGNvbmZpZ3VyYXRpb24uXG4gKlxuICogQGRlZmF1bHQgdWxcbiAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cbkJ1dHRvblVub3JkZXJlZGxpc3Qua2V5ID0gJ3VsJztcblxuLyoqXG4gKiBMaWZlY3ljbGUuIFJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHVzZWQgaW4gdGhlIHdpZGdldC5cbiAqXG4gKiBAaW5zdGFuY2VcbiAqIEBtZW1iZXJvZiBCdXR0b25Vbm9yZGVyZWRsaXN0XG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5CdXR0b25Vbm9yZGVyZWRsaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAnYnVsbGV0ZWRsaXN0JyxcbiAgICBzdHlsZToge1xuICAgICAgICBlbGVtZW50OiAndWwnXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uQ29tbWFuZChcbiAgICBCdXR0b25TdGF0ZUNsYXNzZXMoXG4gICAgQnV0dG9uU3R5bGUoXG4gICAgICAgIEJ1dHRvblVub3JkZXJlZGxpc3RcbikpKTsiLCJpbXBvcnQgQnV0dG9uQ29tbWFuZCBmcm9tICcuLi9iYXNlL2J1dHRvbi1jb21tYW5kLmpzJztcbmltcG9ydCBCdXR0b25LZXlzdHJva2UgZnJvbSAnLi4vYmFzZS9idXR0b24ta2V5c3Ryb2tlLmpzJztcbmltcG9ydCBCdXR0b25TdGF0ZUNsYXNzZXMgZnJvbSAnLi4vYmFzZS9idXR0b24tc3RhdGUtY2xhc3Nlcy5qcyc7XG5pbXBvcnQgQnV0dG9uU3R5bGUgZnJvbSAnLi4vYmFzZS9idXR0b24tc3R5bGUuanMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuLyoqXG4gKiBUaGUgQnV0dG9uVW5kZXJsaW5lIGNsYXNzIHByb3ZpZGVzIGZ1bmN0aW9uYWxpdHkgZm9yIHVuZGVybHlpbmcgYSB0ZXh0IHNlbGVjdGlvbi5cbiAqXG4gKiBAY2xhc3MgQnV0dG9uVW5kZXJsaW5lXG4gKiBAdXNlcyBCdXR0b25Db21tYW5kXG4gKiBAdXNlcyBCdXR0b25LZXlzdHJva2VcbiAqIEB1c2VzIEJ1dHRvblN0YXRlQ2xhc3Nlc1xuICogQHVzZXMgQnV0dG9uU3R5bGVcbiAqL1xuY2xhc3MgQnV0dG9uVW5kZXJsaW5lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50e1xuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCdXR0b25VbmRlcmxpbmVcbiAgICAgKiBAbWV0aG9kIHJlbmRlclxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNvbnRlbnQgd2hpY2ggc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqL1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLWJ1dHRvbiAnICsgdGhpcy5nZXRTdGF0ZUNsYXNzZXMoKTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnVuZGVybGluZX0gYXJpYS1wcmVzc2VkPXtjc3NDbGFzcy5pbmRleE9mKCdwcmVzc2VkJykgIT09IC0xfSBjbGFzc05hbWU9e2Nzc0NsYXNzfSBkYXRhLXR5cGU9XCJidXR0b24tdW5kZXJsaW5lXCIgb25DbGljaz17dGhpcy5leGVjQ29tbWFuZC5iaW5kKHRoaXMpfSB0YWJJbmRleD17dGhpcy5wcm9wcy50YWJJbmRleH0gdGl0bGU9e0FsbG95RWRpdG9yLlN0cmluZ3MudW5kZXJsaW5lfT5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJhZS1pY29uLXVuZGVybGluZVwiPjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCB1bmRlcmxpbmVcbiAqIEBtZW1iZXJvZiBCdXR0b25VbmRlcmxpbmVcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiAqIEBzdGF0aWNcbiAqL1xuQnV0dG9uVW5kZXJsaW5lLmtleSA9ICd1bmRlcmxpbmUnO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIEJ1dHRvblVuZGVybGluZVxuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuQnV0dG9uVW5kZXJsaW5lLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBjb21tYW5kOiAndW5kZXJsaW5lJyxcbiAgICBrZXlzdHJva2U6IHtcbiAgICAgICAgZm46ICdleGVjQ29tbWFuZCcsXG4gICAgICAgIGtleXM6IENLRURJVE9SLkNUUkwgKyA4NSAvKlUqL1xuICAgIH0sXG4gICAgc3R5bGU6ICdjb3JlU3R5bGVzX3VuZGVybGluZSdcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJ1dHRvbkNvbW1hbmQoXG4gICAgQnV0dG9uS2V5c3Ryb2tlKFxuICAgIEJ1dHRvblN0YXRlQ2xhc3NlcyhcbiAgICBCdXR0b25TdHlsZShcbiAgICAgICAgQnV0dG9uVW5kZXJsaW5lXG4pKSkpOyIsImltcG9ydCBCdXR0b25Cb2xkIGZyb20gJy4vYnV0dG9uLWJvbGQuanN4JztcbmltcG9ydCBCdXR0b25DYW1lcmFJbWFnZSBmcm9tICcuL2J1dHRvbi1jYW1lcmEtaW1hZ2UuanN4JztcbmltcG9ydCBCdXR0b25DYW1lcmEgZnJvbSAnLi9idXR0b24tY2FtZXJhLmpzeCc7XG5pbXBvcnQgQnV0dG9uQ29kZSBmcm9tICcuL2J1dHRvbi1jb2RlLmpzeCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZExpc3RJdGVtIGZyb20gJy4vYnV0dG9uLWNvbW1hbmQtbGlzdC1pdGVtLmpzeCc7XG5pbXBvcnQgQnV0dG9uQ29tbWFuZHNMaXN0IGZyb20gJy4vYnV0dG9uLWNvbW1hbmRzLWxpc3QuanN4JztcbmltcG9ydCBCdXR0b25Ecm9wZG93biBmcm9tICcuL2J1dHRvbi1kcm9wZG93bi5qc3gnO1xuaW1wb3J0IEJ1dHRvbkVtYmVkRWRpdCBmcm9tICcuL2J1dHRvbi1lbWJlZC1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uRW1iZWQgZnJvbSAnLi9idXR0b24tZW1iZWQuanN4JztcbmltcG9ydCBCdXR0b25IMSBmcm9tICcuL2J1dHRvbi1oMS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkgyIGZyb20gJy4vYnV0dG9uLWgyLmpzeCc7XG5pbXBvcnQgQnV0dG9uSGxpbmUgZnJvbSAnLi9idXR0b24taGxpbmUuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZUFsaWduQ2VudGVyIGZyb20gJy4vYnV0dG9uLWltYWdlLWFsaWduLWNlbnRlci5qc3gnO1xuaW1wb3J0IEJ1dHRvbkltYWdlQWxpZ25MZWZ0IGZyb20gJy4vYnV0dG9uLWltYWdlLWFsaWduLWxlZnQuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZUFsaWduUmlnaHQgZnJvbSAnLi9idXR0b24taW1hZ2UtYWxpZ24tcmlnaHQuanN4JztcbmltcG9ydCBCdXR0b25JbWFnZSBmcm9tICcuL2J1dHRvbi1pbWFnZS5qc3gnO1xuaW1wb3J0IEJ1dHRvbkluZGVudEJsb2NrIGZyb20gJy4vYnV0dG9uLWluZGVudC1ibG9jay5qc3gnO1xuaW1wb3J0IEJ1dHRvbkl0YWxpYyBmcm9tICcuL2J1dHRvbi1pdGFsaWMuanN4JztcbmltcG9ydCBCdXR0b25MaW5rQXV0b2NvbXBsZXRlTGlzdCBmcm9tICcuL2J1dHRvbi1saW5rLWF1dG9jb21wbGV0ZS1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua0VkaXQgZnJvbSAnLi9idXR0b24tbGluay1lZGl0LmpzeCc7XG5pbXBvcnQgQnV0dG9uTGlua1RhcmdldEVkaXQgZnJvbSAnLi9idXR0b24tbGluay10YXJnZXQtZWRpdC5qc3gnO1xuaW1wb3J0IEJ1dHRvbkxpbmsgZnJvbSAnLi9idXR0b24tbGluay5qc3gnO1xuaW1wb3J0IEJ1dHRvbk9sIGZyb20gJy4vYnV0dG9uLW9sLmpzeCc7XG5pbXBvcnQgQnV0dG9uT3V0ZGVudEJsb2NrIGZyb20gJy4vYnV0dG9uLW91dGRlbnQtYmxvY2suanN4JztcbmltcG9ydCBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQgZnJvbSAnLi9idXR0b24tcGFyYWdyYXBoLWFsaWduLWxlZnQuanN4JztcbmltcG9ydCBCdXR0b25QYXJhZ3JhcGhBbGlnblJpZ2h0IGZyb20gJy4vYnV0dG9uLXBhcmFncmFwaC1hbGlnbi1yaWdodC5qc3gnO1xuaW1wb3J0IEJ1dHRvblBhcmFncmFwaENlbnRlciBmcm9tICcuL2J1dHRvbi1wYXJhZ3JhcGgtY2VudGVyLmpzeCc7XG5pbXBvcnQgQnV0dG9uUGFyYWdyYXBoSnVzdGlmeSBmcm9tICcuL2J1dHRvbi1wYXJhZ3JhcGgtanVzdGlmeS5qc3gnO1xuaW1wb3J0IEJ1dHRvblF1b3RlIGZyb20gJy4vYnV0dG9uLXF1b3RlLmpzeCc7XG5pbXBvcnQgQnV0dG9uUmVtb3ZlRm9ybWF0IGZyb20gJy4vYnV0dG9uLXJlbW92ZS1mb3JtYXQuanN4JztcbmltcG9ydCBCdXR0b25TdHJpa2UgZnJvbSAnLi9idXR0b24tc3RyaWtlLmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzTGlzdEhlYWRlciBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1oZWFkZXIuanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSBmcm9tICcuL2J1dHRvbi1zdHlsZXMtbGlzdC1pdGVtLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblN0eWxlc0xpc3RJdGVtIGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LWl0ZW0uanN4JztcbmltcG9ydCBCdXR0b25TdHlsZXNMaXN0IGZyb20gJy4vYnV0dG9uLXN0eWxlcy1saXN0LmpzeCc7XG5pbXBvcnQgQnV0dG9uU3R5bGVzIGZyb20gJy4vYnV0dG9uLXN0eWxlcy5qc3gnO1xuaW1wb3J0IEJ1dHRvblN1YnNjcmlwdCBmcm9tICcuL2J1dHRvbi1zdWJzY3JpcHQuanN4JztcbmltcG9ydCBCdXR0b25TdXBlcnNjcmlwdCBmcm9tICcuL2J1dHRvbi1zdXBlcnNjcmlwdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlQ2VsbCBmcm9tICcuL2J1dHRvbi10YWJsZS1jZWxsLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFibGVDb2x1bW4gZnJvbSAnLi9idXR0b24tdGFibGUtY29sdW1uLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFibGVFZGl0IGZyb20gJy4vYnV0dG9uLXRhYmxlLWVkaXQuanN4JztcbmltcG9ydCBCdXR0b25UYWJsZUhlYWRpbmcgZnJvbSAnLi9idXR0b24tdGFibGUtaGVhZGluZy5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlUmVtb3ZlIGZyb20gJy4vYnV0dG9uLXRhYmxlLXJlbW92ZS5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlUm93IGZyb20gJy4vYnV0dG9uLXRhYmxlLXJvdy5qc3gnO1xuaW1wb3J0IEJ1dHRvblRhYmxlIGZyb20gJy4vYnV0dG9uLXRhYmxlLmpzeCc7XG5pbXBvcnQgQnV0dG9uVGFyZ2V0TGlzdCBmcm9tICcuL2J1dHRvbi10YXJnZXQtbGlzdC5qc3gnO1xuaW1wb3J0IEJ1dHRvblR3aXR0ZXIgZnJvbSAnLi9idXR0b24tdHdpdHRlci5qc3gnO1xuaW1wb3J0IEJ1dHRvblVsIGZyb20gJy4vYnV0dG9uLXVsLmpzeCc7XG5pbXBvcnQgQnV0dG9uVW5kZXJsaW5lIGZyb20gJy4vYnV0dG9uLXVuZGVybGluZS5qc3gnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgW0J1dHRvbkJvbGQua2V5XTogQnV0dG9uQm9sZCxcbiAgICBbQnV0dG9uQ2FtZXJhSW1hZ2Uua2V5XTogQnV0dG9uQ2FtZXJhSW1hZ2UsXG4gICAgW0J1dHRvbkNhbWVyYS5rZXldOiBCdXR0b25DYW1lcmEsXG4gICAgW0J1dHRvbkNvZGUua2V5XTogQnV0dG9uQ29kZSxcbiAgICBbQnV0dG9uQ29tbWFuZExpc3RJdGVtLmtleV06IEJ1dHRvbkNvbW1hbmRMaXN0SXRlbSxcbiAgICBbQnV0dG9uQ29tbWFuZHNMaXN0LmtleV06IEJ1dHRvbkNvbW1hbmRzTGlzdCxcbiAgICBbQnV0dG9uRHJvcGRvd24ua2V5XTogQnV0dG9uRHJvcGRvd24sXG4gICAgW0J1dHRvbkVtYmVkRWRpdC5rZXldOiBCdXR0b25FbWJlZEVkaXQsXG4gICAgW0J1dHRvbkVtYmVkLmtleV06IEJ1dHRvbkVtYmVkLFxuICAgIFtCdXR0b25IMS5rZXldOiBCdXR0b25IMSxcbiAgICBbQnV0dG9uSDIua2V5XTogQnV0dG9uSDIsXG4gICAgW0J1dHRvbkhsaW5lLmtleV06IEJ1dHRvbkhsaW5lLFxuICAgIFtCdXR0b25JbWFnZUFsaWduQ2VudGVyLmtleV06IEJ1dHRvbkltYWdlQWxpZ25DZW50ZXIsXG4gICAgW0J1dHRvbkltYWdlQWxpZ25MZWZ0LmtleV06IEJ1dHRvbkltYWdlQWxpZ25MZWZ0LFxuICAgIFtCdXR0b25JbWFnZUFsaWduUmlnaHQua2V5XTogQnV0dG9uSW1hZ2VBbGlnblJpZ2h0LFxuICAgIFtCdXR0b25JbWFnZS5rZXldOiBCdXR0b25JbWFnZSxcbiAgICBbQnV0dG9uSW5kZW50QmxvY2sua2V5XTogQnV0dG9uSW5kZW50QmxvY2ssXG4gICAgW0J1dHRvbkl0YWxpYy5rZXldOiBCdXR0b25JdGFsaWMsXG4gICAgW0J1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0LmtleV06IEJ1dHRvbkxpbmtBdXRvY29tcGxldGVMaXN0LFxuICAgIFtCdXR0b25MaW5rRWRpdC5rZXldOiBCdXR0b25MaW5rRWRpdCxcbiAgICBbQnV0dG9uTGlua1RhcmdldEVkaXQua2V5XTogQnV0dG9uTGlua1RhcmdldEVkaXQsXG4gICAgW0J1dHRvbkxpbmsua2V5XTogQnV0dG9uTGluayxcbiAgICBbQnV0dG9uT2wua2V5XTogQnV0dG9uT2wsXG4gICAgW0J1dHRvbk91dGRlbnRCbG9jay5rZXldOiBCdXR0b25PdXRkZW50QmxvY2ssXG4gICAgW0J1dHRvblBhcmFncmFwaEFsaWduTGVmdC5rZXldOiBCdXR0b25QYXJhZ3JhcGhBbGlnbkxlZnQsXG4gICAgW0J1dHRvblBhcmFncmFwaEFsaWduUmlnaHQua2V5XTogQnV0dG9uUGFyYWdyYXBoQWxpZ25SaWdodCxcbiAgICBbQnV0dG9uUGFyYWdyYXBoQ2VudGVyLmtleV06IEJ1dHRvblBhcmFncmFwaENlbnRlcixcbiAgICBbQnV0dG9uUGFyYWdyYXBoSnVzdGlmeS5rZXldOiBCdXR0b25QYXJhZ3JhcGhKdXN0aWZ5LFxuICAgIFtCdXR0b25RdW90ZS5rZXldOiBCdXR0b25RdW90ZSxcbiAgICBbQnV0dG9uUmVtb3ZlRm9ybWF0LmtleV06IEJ1dHRvblJlbW92ZUZvcm1hdCxcbiAgICBbQnV0dG9uU3RyaWtlLmtleV06IEJ1dHRvblN0cmlrZSxcbiAgICBbQnV0dG9uU3R5bGVzTGlzdEhlYWRlci5rZXldOiBCdXR0b25TdHlsZXNMaXN0SGVhZGVyLFxuICAgIFtCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZS5rZXldOiBCdXR0b25TdHlsZXNMaXN0SXRlbVJlbW92ZSxcbiAgICBbQnV0dG9uU3R5bGVzTGlzdEl0ZW0ua2V5XTogQnV0dG9uU3R5bGVzTGlzdEl0ZW0sXG4gICAgW0J1dHRvblN0eWxlc0xpc3Qua2V5XTogQnV0dG9uU3R5bGVzTGlzdCxcbiAgICBbQnV0dG9uU3R5bGVzLmtleV06IEJ1dHRvblN0eWxlcyxcbiAgICBbQnV0dG9uU3Vic2NyaXB0LmtleV06IEJ1dHRvblN1YnNjcmlwdCxcbiAgICBbQnV0dG9uU3VwZXJzY3JpcHQua2V5XTogQnV0dG9uU3VwZXJzY3JpcHQsXG4gICAgW0J1dHRvblRhYmxlQ2VsbC5rZXldOiBCdXR0b25UYWJsZUNlbGwsXG4gICAgW0J1dHRvblRhYmxlQ29sdW1uLmtleV06IEJ1dHRvblRhYmxlQ29sdW1uLFxuICAgIFtCdXR0b25UYWJsZUVkaXQua2V5XTogQnV0dG9uVGFibGVFZGl0LFxuICAgIFtCdXR0b25UYWJsZUhlYWRpbmcua2V5XTogQnV0dG9uVGFibGVIZWFkaW5nLFxuICAgIFtCdXR0b25UYWJsZVJlbW92ZS5rZXldOiBCdXR0b25UYWJsZVJlbW92ZSxcbiAgICBbQnV0dG9uVGFibGVSb3cua2V5XTogQnV0dG9uVGFibGVSb3csXG4gICAgW0J1dHRvblRhYmxlLmtleV06IEJ1dHRvblRhYmxlLFxuICAgIFtCdXR0b25UYXJnZXRMaXN0LmtleV06IEJ1dHRvblRhcmdldExpc3QsXG4gICAgW0J1dHRvblR3aXR0ZXIua2V5XTogQnV0dG9uVHdpdHRlcixcbiAgICBbQnV0dG9uVWwua2V5XTogQnV0dG9uVWwsXG4gICAgW0J1dHRvblVuZGVybGluZS5rZXldOiBCdXR0b25VbmRlcmxpbmVcbn07XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgV2lkZ2V0RXhjbHVzaXZlIGZyb20gJy4vYmFzZS93aWRnZXQtZXhjbHVzaXZlLmpzJztcbmltcG9ydCBXaWRnZXRGb2N1c01hbmFnZXIgZnJvbSAnLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcblxuLyoqXG4gKiBUaGUgbWFpbiBlZGl0b3IgVUkgY2xhc3MgbWFuYWdlcyBhIGhpZXJhcmNoeSBvZiB3aWRnZXRzICh0b29sYmFycyBhbmQgYnV0dG9ucykuXG4gKlxuICogQGNsYXNzIFVJXG4gKiBAdXNlcyBXaWRnZXRFeGNsdXNpdmVcbiAqIEB1c2VzIFdpZGdldEZvY3VzTWFuYWdlclxuICovXG5jbGFzcyBVSSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIG9uY2UsIG9ubHkgb24gdGhlIGNsaWVudCwgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkTW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMucHJvcHMuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICAgICAgZWRpdG9yLm9uKCdlZGl0b3JJbnRlcmFjdGlvbicsIHRoaXMuX29uRWRpdG9ySW50ZXJhY3Rpb24sIHRoaXMpO1xuICAgICAgICBlZGl0b3Iub24oJ2FjdGlvblBlcmZvcm1lZCcsIHRoaXMuX29uQWN0aW9uUGVyZm9ybWVkLCB0aGlzKTtcbiAgICAgICAgZWRpdG9yLm9uKCdrZXknLCB0aGlzLl9vbkVkaXRvcktleSwgdGhpcyk7XG5cbiAgICAgICAgLy8gU2V0IHVwIGV2ZW50cyBmb3IgaGlkaW5nIHRoZSBVSSB3aGVuIHVzZXIgc3RvcHMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgZWRpdG9yLlxuICAgICAgICAvLyBUaGlzIG1heSBoYXBwZW4gd2hlbiBoZSBqdXN0IGNsaWNrcyBvdXRzaWRlIG9mIHRoZSBlZGl0b3IuIEhvd2V2ZXIsXG4gICAgICAgIC8vIHRoaXMgZG9lcyBub3QgaW5jbHVkZSBhIHNpdHVhdGlvbiB3aGVuIGhlIGNsaWNrcyBvbiBzb21lIGJ1dHRvbiwgcGFydCBvZlxuICAgICAgICAvLyBlZGl0b3IncyBVSS5cblxuICAgICAgICAvLyBJdCBpcyBub3QgZWFzeSB0byBkZWJvdW5jZSBfc2V0VUlIaWRkZW4gb24gbW91c2Vkb3duLCBiZWNhdXNlIGlmIHdlXG4gICAgICAgIC8vIGRlYm91bmNlIGl0LCB3aGVuIHRoZSBoYW5kbGVyIGlzIGJlaW5nIGludm9rZWQsIHRoZSB0YXJnZXQgbWlnaHQgYmUgbm8gbW9yZSBwYXJ0XG4gICAgICAgIC8vIG9mIHRoZSBlZGl0b3IncyBVSSAtIG9uQWN0aW9uUGVyZm9ybWVkIGNhdXNlcyByZS1yZW5kZXIuXG4gICAgICAgIHRoaXMuX21vdXNlZG93bkxpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9zZXRVSUhpZGRlbihldmVudC50YXJnZXQpO1xuICAgICAgICB9LmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5fa2V5RG93bkxpc3RlbmVyID0gQ0tFRElUT1IudG9vbHMuZGVib3VuY2UoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFVJSGlkZGVuKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9LCB0aGlzLnByb3BzLmV2ZW50c0RlbGF5LCB0aGlzKTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9tb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9rZXlEb3duTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50J3MgdXBkYXRlcyBhcmUgZmx1c2hlZCB0byB0aGUgRE9NLlxuICAgICAqIEZpcmVzIGBhcmlhVXBkYXRlYCBldmVudCBwYXNzaW5nIEFSSUEgcmVsYXRlZCBtZXNzYWdlcy5cbiAgICAgKiBGaXJlcyBgZWRpdG9yVXBkYXRlYCBldmVudCBwYXNzaW5nIHRoZSBwcmV2aW91cyBhbmQgY3VycmVudCBwcm9wZXJ0aWVzIGFuZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50RGlkVXBkYXRlXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkVXBkYXRlIChwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICB2YXIgZG9tTm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuXG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGlmIChkb21Ob2RlKSB7XG4gICAgICAgICAgICBlZGl0b3IuZmlyZSgnYXJpYVVwZGF0ZScsIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLl9nZXRBdmFpbGFibGVUb29sYmFyc01lc3NhZ2UoZG9tTm9kZSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZWRpdG9yLmZpcmUoJ2VkaXRvclVwZGF0ZScsIHtcbiAgICAgICAgICAgIHByZXZQcm9wczogcHJldlByb3BzLFxuICAgICAgICAgICAgcHJldlN0YXRlOiBwcmV2U3RhdGUsXG4gICAgICAgICAgICBwcm9wczogdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9nZXRBcmlhVXBkYXRlVGVtcGxhdGUoYXJpYVVwZGF0ZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FyaWFVcGRhdGVUZW1wbGF0ZXMgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5fYXJpYVVwZGF0ZVRlbXBsYXRlc1thcmlhVXBkYXRlXSkge1xuICAgICAgICAgICAgdGhpcy5fYXJpYVVwZGF0ZVRlbXBsYXRlc1thcmlhVXBkYXRlXSA9IG5ldyBDS0VESVRPUi50ZW1wbGF0ZSh0aGlzLl9nZXRBcmlhVXBkYXRlcygpW2FyaWFVcGRhdGVdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9hcmlhVXBkYXRlVGVtcGxhdGVzW2FyaWFVcGRhdGVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRlbXBsYXRlcyBmb3IgQVJJQSBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9nZXRBcmlhVXBkYXRlc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gQVJJQSByZWxhdGVzIG1lc3NhZ2VzLiBEZWZhdWx0OlxuICAgICAqIHtcbiAgICAgKiAgICAgIG5vVG9vbGJhcjogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlTm9Ub29sYmFyLFxuICAgICAqICAgICAgb25lVG9vbGJhcjogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlT25lVG9vbGJhcixcbiAgICAgKiAgICAgIG1hbnlUb29sYmFyczogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlTWFueVRvb2xiYXJzXG4gICAgICogIH1cbiAgICAgKi9cbiAgICBfZ2V0QXJpYVVwZGF0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmFyaWFVcGRhdGVzIHx8IHtcbiAgICAgICAgICAgIG5vVG9vbGJhcjogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlTm9Ub29sYmFyLFxuICAgICAgICAgICAgb25lVG9vbGJhcjogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlT25lVG9vbGJhcixcbiAgICAgICAgICAgIG1hbnlUb29sYmFyczogQWxsb3lFZGl0b3IuU3RyaW5ncy5hcmlhVXBkYXRlTWFueVRvb2xiYXJzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBBUklBIG1lc3NhZ2Ugd2hpY2ggcmVwcmVzZW50cyB0aGUgbnVtYmVyIG9mIGN1cnJlbnRseSBhdmFpbGFibGUgdG9vbGJhcnMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAbWV0aG9kIF9nZXRBdmFpbGFibGVUb29sYmFyc01lc3NhZ2VcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZG9tTm9kZSBUaGUgRE9NIG5vZGUgZnJvbSB3aGljaCB0aGUgYXZhaWxhYmxlIHRvb2xiYXJzIHdpbGwgYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIEFSSUEgbWVzc2FnZSBmb3IgdGhlIG51bWJlciBvZiBhdmFpbGFibGUgdG9vbGJhcnNcbiAgICAgKi9cbiAgICBfZ2V0QXZhaWxhYmxlVG9vbGJhcnNNZXNzYWdlKGRvbU5vZGUpIHtcbiAgICAgICAgdmFyIHRvb2xiYXJzTm9kZUxpc3QgPSBkb21Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tyb2xlPVwidG9vbGJhclwiXScpO1xuXG4gICAgICAgIGlmICghdG9vbGJhcnNOb2RlTGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRBcmlhVXBkYXRlcygpLm5vVG9vbGJhcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0b29sYmFyTmFtZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0b29sYmFyc05vZGVMaXN0KS5tYXAoZnVuY3Rpb24odG9vbGJhcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sYmFyLmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHZhciBhcmlhVXBkYXRlID0gdG9vbGJhck5hbWVzLmxlbmd0aCA9PT0gMSA/ICdvbmVUb29sYmFyJyA6ICdtYW55VG9vbGJhcnMnO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZ2V0QXJpYVVwZGF0ZVRlbXBsYXRlKGFyaWFVcGRhdGUpLm91dHB1dCh7XG4gICAgICAgICAgICAgICAgdG9vbGJhcnM6IHRvb2xiYXJOYW1lcy5qb2luKCcsJykucmVwbGFjZSgvLChbXixdKikkLywgJyBhbmQgJyArICckMScpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkIGZyb20gdGhlIERPTS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBtZXRob2QgY29tcG9uZW50V2lsbFVubW91bnRcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdXNlZG93bkxpc3RlbmVyKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLl9tb3VzZWRvd25MaXN0ZW5lcik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fa2V5RG93bkxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9rZXlEb3duTGlzdGVuZXIuZGV0YWNoKCk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fa2V5RG93bkxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gUmVuZGVycyB0aGUgVUkgb2YgdGhlIGVkaXRvci4gVGhpcyBtYXkgaW5jbHVkZSBzZXZlcmFsIHRvb2xiYXJzIGFuZCBidXR0b25zLlxuICAgICAqIFRoZSBlZGl0b3IncyBVSSBhbHNvIHRha2VzIGNhcmUgb2YgcmVuZGVyaW5nIHRoZSBpdGVtcyBpbiBleGNsdXNpdmUgbW9kZS5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgY29udGVudCB3aGljaCBzaG91bGQgYmUgcmVuZGVyZWQuXG4gICAgICovXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZS5oaWRkZW4pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvb2xiYXJzID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy50b29sYmFycykubWFwKGZ1bmN0aW9uKHRvb2xiYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBBbGxveUVkaXRvci5Ub29sYmFyc1t0b29sYmFyXSB8fCB3aW5kb3dbdG9vbGJhcl07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRvb2xiYXJzID0gdGhpcy5maWx0ZXJFeGNsdXNpdmUodG9vbGJhcnMpLm1hcChmdW5jdGlvbih0b29sYmFyKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLm1lcmdlRXhjbHVzaXZlUHJvcHMoe1xuICAgICAgICAgICAgICAgIGNvbmZpZzogdGhpcy5wcm9wcy50b29sYmFyc1t0b29sYmFyLmtleV0sXG4gICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLnByb3BzLmVkaXRvcixcbiAgICAgICAgICAgICAgICBlZGl0b3JFdmVudDogdGhpcy5zdGF0ZS5lZGl0b3JFdmVudCxcbiAgICAgICAgICAgICAgICBrZXk6IHRvb2xiYXIua2V5LFxuICAgICAgICAgICAgICAgIG9uRGlzbWlzczogdGhpcy5fb25EaXNtaXNzVG9vbGJhckZvY3VzLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRhdGE6IHRoaXMuc3RhdGUuc2VsZWN0aW9uRGF0YVxuICAgICAgICAgICAgfSwgdG9vbGJhci5rZXkpO1xuXG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCh0b29sYmFyLCBwcm9wcyk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtdG9vbGJhcnNcIiBvbktleURvd249e3RoaXMuaGFuZGxlS2V5LmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgIHt0b29sYmFyc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3RlbmVyIHRvIHRoZSBlZGl0b3IncyBgYWN0aW9uUGVyZm9ybWVkYCBldmVudC4gU2V0cyBzdGF0ZSBhbmQgcmVkcmF3cyB0aGUgVUkgb2YgdGhlIGVkaXRvci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBVSVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAbWV0aG9kIF9vbkFjdGlvblBlcmZvcm1lZFxuICAgICAqIEBwYXJhbSB7U3ludGV0aWNFdmVudH0gZXZlbnQgVGhlIHByb3ZpZGVkIGV2ZW50XG4gICAgICovXG4gICAgX29uQWN0aW9uUGVyZm9ybWVkKGV2ZW50KSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGVkaXRvci5mb2N1cygpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXRlbUV4Y2x1c2l2ZTogbnVsbCxcbiAgICAgICAgICAgIHNlbGVjdGlvbkRhdGE6IGVkaXRvci5nZXRTZWxlY3Rpb25EYXRhKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZWQgd2hlbiBhIGRpc21pc3Mga2V5IGlzIHByZXNzZWQgb3ZlciBhIHRvb2xiYXIgdG8gcmV0dXJuIHRoZSBmb2N1cyB0byB0aGUgZWRpdG9yLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFVJXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBtZXRob2QgX29uRGlzbWlzc1Rvb2xiYXJGb2N1c1xuICAgICAqL1xuICAgIF9vbkRpc21pc3NUb29sYmFyRm9jdXMoKSB7XG4gICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpc3RlbmVyIHRvIHRoZSBlZGl0b3IncyBgdXNlckludGVyYWN0aW9uYCBldmVudC4gUmV0cmlldmVzIHRoZSBkYXRhIGFib3V0IHRoZSB1c2VyIHNlbGVjdGlvbiBhbmRcbiAgICAgKiBwcm92aWRlcyBpdCB2aWEgY29tcG9uZW50J3Mgc3RhdGUgcHJvcGVydHkuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfb25FZGl0b3JJbnRlcmFjdGlvblxuICAgICAqIEBwYXJhbSB7U3ludGV0aWNFdmVudH0gZXZlbnQgVGhlIHByb3ZpZGVkIGV2ZW50XG4gICAgICovXG4gICAgX29uRWRpdG9ySW50ZXJhY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBlZGl0b3JFdmVudDogZXZlbnQsXG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICAgICAgaXRlbUV4Y2x1c2l2ZTogbnVsbCxcbiAgICAgICAgICAgIHNlbGVjdGlvbkRhdGE6IGV2ZW50LmRhdGEuc2VsZWN0aW9uRGF0YVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb2N1c2VzIG9uIHRoZSBhY3RpdmUgdG9vbGJhciB3aGVuIHRoZSBjb21iaW5hdGlvbiBBTFQrRjEwIGlzIHByZXNzZWQgaW5zaWRlIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfb25FZGl0b3JLZXlcbiAgICAgKi9cbiAgICBfb25FZGl0b3JLZXkoZXZlbnQpIHtcbiAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQuZGF0YS5kb21FdmVudC4kO1xuXG4gICAgICAgIGlmIChuYXRpdmVFdmVudC5hbHRLZXkgJiYgbmF0aXZlRXZlbnQua2V5Q29kZSA9PT0gMTIxKSB7XG4gICAgICAgICAgICB0aGlzLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHRhcmdldCB3aXRoIHdoaWNoIHRoZSB1c2VyIGludGVyYWN0ZWQgaXMgcGFydCBvZiBlZGl0b3IncyBVSSBvciBpdCBpc1xuICAgICAqIHRoZSBlZGl0YWJsZSBhcmVhLiBJZiBub25lIG9mIHRoZXNlLCBzZXRzIHRoZSBzdGF0ZSBvZiBlZGl0b3IncyBVSSB0byBiZSBoaWRkZW4uXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVUlcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQG1ldGhvZCBfc2V0VUlIaWRkZW5cbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHRhcmdldCBUaGUgRE9NIGVsZW1lbnQgd2l0aCB3aGljaCB1c2VyIGludGVyYWN0ZWQgbGFzdGx5LlxuICAgICAqL1xuICAgIF9zZXRVSUhpZGRlbih0YXJnZXQpIHtcbiAgICAgICAgdmFyIGRvbU5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcblxuICAgICAgICBpZiAoZG9tTm9kZSkge1xuICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gdGhpcy5wcm9wcy5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKS5lZGl0YWJsZSgpO1xuICAgICAgICAgICAgdmFyIHRhcmdldE5vZGUgPSBuZXcgQ0tFRElUT1IuZG9tLm5vZGUodGFyZ2V0KTtcblxuICAgICAgICAgICAgaWYgKCFlZGl0YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IChlZGl0YWJsZS4kID09PSB0YXJnZXQpIHx8IGVkaXRhYmxlLmNvbnRhaW5zKHRhcmdldE5vZGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZG9tTm9kZSkpLmNvbnRhaW5zKHRhcmdldE5vZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIFVJXG4gKiBAbWV0aG9kIGdldERlZmF1bHRQcm9wc1xuICogQHJldHVybiB7T2JqZWN0fSBUaGUgZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICovXG5VSS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2lyY3VsYXI6IHRydWUsXG4gICAgZGVzY2VuZGFudHM6ICdbY2xhc3NePWFlLXRvb2xiYXItXScsXG4gICAgZXZlbnRzRGVsYXk6IDAsXG4gICAga2V5czoge1xuICAgICAgICBuZXh0OiA5XG4gICAgfVxufTtcblxuLyoqXG4gKiBGaXJlZCB3aGVuIGNvbXBvbmVudCB1cGRhdGVzIGFuZCB3aGVuIGl0IGlzIHJlbmRlcmVkIGluIHRoZSBET00uXG4gKiBUaGUgcGF5bG9hZCBjb25zaXN0cyBmcm9tIGEgYG1lc3NhZ2VgIHByb3BlcnR5IGNvbnRhaW5pbmcgdGhlIEFSSUEgbWVzc2FnZS5cbiAqXG4gKiBAZXZlbnQgYXJpYVVwZGF0ZVxuICovXG5cbi8qKlxuICogRmlyZWQgd2hlbiBjb21wb25lbnQgdXBkYXRlcy4gVGhlIHBheWxvYWQgY29uc2lzdHMgZnJvbSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nXG4gKiBwcm9wZXJ0aWVzOlxuICogLSBwcmV2UHJvcHMgLSBUaGUgcHJldmlvdXMgcHJvcGVydGllcyBvZiB0aGUgY29tcG9uZW50XG4gKiAtIHByZXZTdGF0ZSAtIFRoZSBwcmV2aW91cyBzdGF0ZSBvZiB0aGUgY29tcG9uZW50XG4gKiAtIHByb3BzIC0gVGhlIGN1cnJlbnQgcHJvcGVydGllcyBvZiB0aGUgY29tcG9uZW50XG4gKiAtIHN0YXRlIC0gVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbXBvbmVudFxuICpcbiAqIEBldmVudCBhcmlhVXBkYXRlXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0RXhjbHVzaXZlKFxuICAgIFdpZGdldEZvY3VzTWFuYWdlcihcbiAgICAgICAgVUlcbikpOyIsImltcG9ydCBUb29sYmFyQWRkIGZyb20gJy4vdG9vbGJhci1hZGQuanN4JztcbmltcG9ydCBUb29sYmFyU3R5bGVzIGZyb20gJy4vdG9vbGJhci1zdHlsZXMuanN4JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIFtUb29sYmFyQWRkLmtleV06IFRvb2xiYXJBZGQsXG4gICAgW1Rvb2xiYXJTdHlsZXMua2V5XTogVG9vbGJhclN0eWxlc1xufTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgVG9vbGJhckJ1dHRvbnMgZnJvbSAnLi4vYmFzZS90b29sYmFyLWJ1dHRvbnMuanMnO1xuaW1wb3J0IFdpZGdldEFycm93Qm94IGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWFycm93LWJveC5qcyc7XG5pbXBvcnQgV2lkZ2V0RHJvcGRvd24gZnJvbSAnLi4vYmFzZS93aWRnZXQtZHJvcGRvd24uanMnO1xuaW1wb3J0IFdpZGdldEV4Y2x1c2l2ZSBmcm9tICcuLi9iYXNlL3dpZGdldC1leGNsdXNpdmUuanMnO1xuaW1wb3J0IFdpZGdldEZvY3VzTWFuYWdlciBmcm9tICcuLi9iYXNlL3dpZGdldC1mb2N1cy1tYW5hZ2VyLmpzJztcbmltcG9ydCBXaWRnZXRQb3NpdGlvbiBmcm9tICcuLi9iYXNlL3dpZGdldC1wb3NpdGlvbi5qcyc7XG5cbnZhciBQT1NJVElPTl9MRUZUID0gMTtcbnZhciBQT1NJVElPTl9SSUdIVCA9IDI7XG5cbi8qKlxuICogVGhlIFRvb2xiYXJBZGQgY2xhc3MgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSBmb3IgYWRkaW5nIGNvbnRlbnQgdG8gdGhlIGVkaXRvci5cbiAqXG4gKiBAY2xhc3MgVG9vbGJhckFkZFxuICogQHVzZXMgVG9vbGJhckJ1dHRvbnNcbiAqIEB1c2VzIFdpZGdldEFycm93Qm94XG4gKiBAdXNlcyBXaWRnZXREcm9wZG93blxuICogQHVzZXMgV2lkZ2V0RXhjbHVzaXZlXG4gKiBAdXNlcyBXaWRnZXRGb2N1c01hbmFnZXJcbiAqIEB1c2VzIFdpZGdldFBvc2l0aW9uXG4gKi9cbmNsYXNzIFRvb2xiYXJBZGQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnR7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMaWZlY3ljbGUuIEludm9rZWQgb25jZSwgb25seSBvbiB0aGUgY2xpZW50IChub3Qgb24gdGhlIHNlcnZlciksXG4gICAgICogaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGluaXRpYWwgcmVuZGVyaW5nIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRNb3VudFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBpbW1lZGlhdGVseSBhZnRlciB0aGUgY29tcG9uZW50J3MgdXBkYXRlcyBhcmUgZmx1c2hlZCB0byB0aGUgRE9NLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIG5vdCBjYWxsZWQgZm9yIHRoZSBpbml0aWFsIHJlbmRlci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gICAgICogQG1ldGhvZCBjb21wb25lbnREaWRVcGRhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJldlByb3BzIFRoZSBwcmV2aW91cyBzdGF0ZSBvZiB0aGUgY29tcG9uZW50J3MgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJldlN0YXRlIENvbXBvbmVudCdzIHByZXZpb3VzIHN0YXRlLlxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgICB0aGlzLl91cGRhdGVQb3NpdGlvbigpO1xuXG4gICAgICAgIC8vIEluIGNhc2Ugb2YgZXhjbHVzaXZlIHJlbmRlcmluZywgZm9jdXMgdGhlIGZpcnN0IGRlc2NlbmRhbnQgKGJ1dHRvbilcbiAgICAgICAgLy8gc28gdGhlIHVzZXIgd2lsbCBiZSBhYmxlIHRvIHN0YXJ0IGludGVyYWN0aW5nIHdpdGggdGhlIGJ1dHRvbnMgaW1tZWRpYXRlbHkuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgdGhpcy5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBidXR0b25zIGZvciBhZGRpbmcgY29udGVudCBvciBoaWRlcyB0aGUgdG9vbGJhclxuICAgICAqIGlmIHVzZXIgaW50ZXJhY3RlZCB3aXRoIGEgbm9uLWVkaXRhYmxlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhckFkZFxuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fG51bGx9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIC8vIFNvbWUgb3BlcmF0aW9ucyBzdWNoIGFzIGByZXF1ZXN0RXhjbHVzaXZlYCBtYXkgZm9yY2UgZWRpdG9yIHRvIGJsdXIgd2hpY2ggd2lsbFxuICAgICAgICAvLyBpbnZhbGlkYXRlIHRoZSBgcHJvcHMuZWRpdG9yRXZlbnRgIHN0b3JlZCB2YWx1ZSwgd2l0aG91dCBjYXVzaW5nIGEgYHByb3BzYCBjaGFuZ2UuXG4gICAgICAgIC8vIEZvciBleGFtcGxlLCBpZiB0aGUgZWRpdG9yIGlzIGVtcHR5LCBgYWVfcGxhY2Vob2xkZXJgIHBsdWdpbiB3aWxsIHJlbW92ZVxuICAgICAgICAvLyB0aGUgdGFyZ2V0IGZyb20gdGhlIERPTSBhbmQgd2lsbCBwcmV2ZW50IGBhZGRgIHRvb2xiYXIgZnJvbSByZW5kZXJpbmcuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSBzYWZlIHRvIGFzc3VtZSB0aGF0IGlmIHlvdSBoYXZlIGJlZW4gYWJsZSB0byByZW5kZXIgdGhlIHRvb2xiYXJcbiAgICAgICAgLy8gYW5kIHJlcXVlc3QgdGhlIGV4Y2x1c2l2ZSBtb2RlLCB0aGVuIHJlbmRlcmluZyBtaWdodCBiZSBrZXB0IHVudGlsIHRoZSBleGNsdXNpdmUgbW9kZSBpcyBsZWZ0LlxuICAgICAgICBpZiAoIXRoaXMuc3RhdGUuaXRlbUV4Y2x1c2l2ZSAmJlxuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuZWRpdG9yRXZlbnQgJiZcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmVkaXRvckV2ZW50LmRhdGEubmF0aXZlRXZlbnQudGFyZ2V0ICYmXG4gICAgICAgICAgICAgICAgIXRoaXMucHJvcHMuZWRpdG9yRXZlbnQuZGF0YS5uYXRpdmVFdmVudC50YXJnZXQuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1dHRvbnMgPSB0aGlzLl9nZXRCdXR0b25zKCk7XG4gICAgICAgIHZhciBjbGFzc05hbWUgPSB0aGlzLl9nZXRUb29sYmFyQ2xhc3NOYW1lKCk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hZGR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lfSBkYXRhLXRhYmluZGV4PXt0aGlzLnByb3BzLmNvbmZpZy50YWJJbmRleCB8fCAwfSBvbkZvY3VzPXt0aGlzLmZvY3VzLmJpbmQodGhpcyl9IG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXkuYmluZCh0aGlzKX0gcm9sZT1cInRvb2xiYXJcIiB0YWJJbmRleD1cIi0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAge2J1dHRvbnN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBidXR0b25zIHRoYXQgd2lsbCBldmVudHVhbGx5IHJlbmRlciB0byBIVE1MLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAgICAgKiBAbWV0aG9kIF9nZXRCdXR0b25zXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGJ1dHRvbnMgd2hpY2ggaGF2ZSB0byBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICBfZ2V0QnV0dG9ucygpIHtcbiAgICAgICAgdmFyIGJ1dHRvbnM7XG5cbiAgICAgICAgaWYgKHRoaXMucHJvcHMucmVuZGVyRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICBidXR0b25zID0gdGhpcy5nZXRUb29sYmFyQnV0dG9ucyh0aGlzLnByb3BzLmNvbmZpZy5idXR0b25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLnNlbGVjdGlvbkRhdGEgJiYgdGhpcy5wcm9wcy5zZWxlY3Rpb25EYXRhLnJlZ2lvbikge1xuICAgICAgICAgICAgICAgIGJ1dHRvbnMgPSAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gYXJpYS1sYWJlbD17QWxsb3lFZGl0b3IuU3RyaW5ncy5hZGR9IGNsYXNzTmFtZT1cImFlLWJ1dHRvbiBhZS1idXR0b24tYWRkXCIgb25DbGljaz17dGhpcy5wcm9wcy5yZXF1ZXN0RXhjbHVzaXZlLmJpbmQodGhpcywgVG9vbGJhckFkZC5rZXkpfSB0aXRsZT17QWxsb3lFZGl0b3IuU3RyaW5ncy5hZGR9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYWUtaWNvbi1hZGRcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnV0dG9ucztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjbGFzcyBuYW1lIG9mIHRoZSB0b29sYmFyIGluIGNhc2Ugb2YgYm90aCBleGNsdXNpdmUgYW5kIG5vcm1hbCBtb2RlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAgICAgKiBAbWV0aG9kIF9nZXRUb29sYmFyQ2xhc3NOYW1lXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGNsYXNzIG5hbWUgd2hpY2ggaGF2ZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBET00gZWxlbWVudC5cbiAgICAgKi9cbiAgICBfZ2V0VG9vbGJhckNsYXNzTmFtZSgpIHtcbiAgICAgICAgdmFyIGNzc0NsYXNzID0gJ2FlLXRvb2xiYXItYWRkJztcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5yZW5kZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIGNzc0NsYXNzID0gJ2FlLXRvb2xiYXIgJyArIHRoaXMuZ2V0QXJyb3dCb3hDbGFzc2VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY3NzQ2xhc3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhbmQgc2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIHRvb2xiYXIgaW4gZXhjbHVzaXZlIG9yIG5vcm1hbCBtb2RlLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAgICAgKiBAbWV0aG9kIF91cGRhdGVQb3NpdGlvblxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHZhciByZWdpb247XG5cbiAgICAgICAgLy8gSWYgY29tcG9uZW50IGlzIG5vdCBtb3VudGVkLCB0aGVyZSBpcyBub3RoaW5nIHRvIGRvXG4gICAgICAgIGlmICghUmVhY3RET00uZmluZERPTU5vZGUodGhpcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnByb3BzLnJlbmRlckV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3Rpb25EYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVnaW9uID0gdGhpcy5wcm9wcy5zZWxlY3Rpb25EYXRhLnJlZ2lvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlZ2lvbikge1xuICAgICAgICAgICAgICAgIHZhciBkb21Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUodGhpcyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZG9tRWxlbWVudCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChkb21Ob2RlKTtcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydFJlY3QgPSByZWdpb24uc3RhcnRSZWN0IHx8IHJlZ2lvbjtcblxuICAgICAgICAgICAgICAgIHZhciBuYXRpdmVFZGl0b3IgPSB0aGlzLnByb3BzLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudFJlY3QgPSBuYXRpdmVFZGl0b3IuZWRpdGFibGUoKS5nZXRDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0TGVmdDtcblxuICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRoaXMucHJvcHMuY29uZmlnLnBvc2l0aW9uIHx8IHRoaXMucHJvcHMucG9zaXRpb247XG5cbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IFBPU0lUSU9OX0xFRlQpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0TGVmdCA9IGNsaWVudFJlY3QubGVmdCAtIGRvbU5vZGUub2Zmc2V0V2lkdGggLSB0aGlzLnByb3BzLmd1dHRlckV4Y2x1c2l2ZS5sZWZ0ICsgJ3B4JztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXRMZWZ0ID0gY2xpZW50UmVjdC5yaWdodCArIHRoaXMucHJvcHMuZ3V0dGVyRXhjbHVzaXZlLmxlZnQgKyAncHgnO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRvbU5vZGUuc3R5bGUubGVmdCA9IG9mZnNldExlZnQ7XG5cbiAgICAgICAgICAgICAgICBkb21Ob2RlLnN0eWxlLnRvcCA9IE1hdGguZmxvb3IoKHJlZ2lvbi5ib3R0b20gKyByZWdpb24udG9wKSAvIDIpICsgJ3B4JztcblxuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVFZGl0b3IuZWxlbWVudC5nZXRTdHlsZSgnb3ZlcmZsb3cnKSAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbU5vZGUuc3R5bGUudG9wID0gTWF0aC5mbG9vcihyZWdpb24udG9wIC0gZG9tTm9kZS5vZmZzZXRIZWlnaHQvMiArIHN0YXJ0UmVjdC5oZWlnaHQvMikgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbU5vZGUuc3R5bGUudG9wID0gTWF0aC5mbG9vciggbmF0aXZlRWRpdG9yLmVsZW1lbnQuJC5vZmZzZXRUb3AgKyAoc3RhcnRSZWN0LmhlaWdodCAvIDIpIC0gKGRvbU5vZGUub2Zmc2V0SGVpZ2h0IC8gMikgKSArICdweCc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZG9tTm9kZS5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2FlLWFycm93LWJveCcpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxBbmltYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAZGVmYXVsdCBhZGRcbiAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gKiBAcHJvcGVydHkge1N0cmluZ30ga2V5XG4gKiBAc3RhdGljXG4gKi9cblRvb2xiYXJBZGQua2V5ID0gJ2FkZCc7XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgY29uc3RhbnQgZm9yIHBvc2l0aW9uaW5nIHRoZSBUb29sYmFyIG9uIGxlZnQgb2YgdGhlIGVkaXRhYmxlIGFyZWEuXG4gKlxuICogQGRlZmF1bHQgMVxuICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAqIEBwcm9wZXJ0eSB7U3RyaW5nfSBsZWZ0XG4gKiBAc3RhdGljXG4gKi9cblRvb2xiYXJBZGQubGVmdCA9IFBPU0lUSU9OX0xFRlQ7XG5cbi8qKlxuICogRGVmaW5lcyB0aGUgY29uc3RhbnQgZm9yIHBvc2l0aW9uaW5nIHRoZSBUb29sYmFyIG9uIHJpZ2h0IG9mIHRoZSBlZGl0YWJsZSBhcmVhLlxuICpcbiAqIEBkZWZhdWx0IDJcbiAqIEBtZW1iZXJvZiBUb29sYmFyQWRkXG4gKiBAcHJvcGVydHkge1N0cmluZ30gcmlnaHRcbiAqIEBzdGF0aWNcbiAqL1xuVG9vbGJhckFkZC5yaWdodCA9IFBPU0lUSU9OX1JJR0hUO1xuXG4vKipcbiAqIExpZmVjeWNsZS4gUmV0dXJucyB0aGUgZGVmYXVsdCB2YWx1ZXMgb2YgdGhlIHByb3BlcnRpZXMgdXNlZCBpbiB0aGUgd2lkZ2V0LlxuICpcbiAqIEBpbnN0YW5jZVxuICogQG1lbWJlcm9mIFRvb2xiYXJBZGRcbiAqIEBtZXRob2QgZ2V0RGVmYXVsdFByb3BzXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBkZWZhdWx0IHByb3BlcnRpZXMuXG4gKi9cblRvb2xiYXJBZGQuZGVmYXVsdFByb3BzID0ge1xuICAgIGNpcmN1bGFyOiB0cnVlLFxuICAgIGRlc2NlbmRhbnRzOiAnLmFlLWJ1dHRvbicsXG4gICAgZ3V0dGVyRXhjbHVzaXZlOiB7XG4gICAgICAgIGxlZnQ6IDEwLFxuICAgICAgICB0b3A6IDBcbiAgICB9LFxuICAgIGtleXM6IHtcbiAgICAgICAgZGlzbWlzczogWzI3XSxcbiAgICAgICAgbmV4dDogWzM5LCA0MF0sXG4gICAgICAgIHByZXY6IFszNywgMzhdXG4gICAgfSxcbiAgICBwb3NpdGlvbjogUE9TSVRJT05fTEVGVFxufTtcblxuZXhwb3J0IGRlZmF1bHQgV2lkZ2V0QXJyb3dCb3goXG4gICAgV2lkZ2V0RHJvcGRvd24oXG4gICAgV2lkZ2V0RXhjbHVzaXZlKFxuICAgIFdpZGdldEZvY3VzTWFuYWdlcihcbiAgICBXaWRnZXRQb3NpdGlvbihcbiAgICBUb29sYmFyQnV0dG9ucyhcbiAgICAgICAgVG9vbGJhckFkZFxuKSkpKSkpOyIsImltcG9ydCBMYW5nIGZyb20gJy4uLy4uL29vcC9sYW5nLmpzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBUb29sYmFyQnV0dG9ucyBmcm9tICcuLi9iYXNlL3Rvb2xiYXItYnV0dG9ucy5qcyc7XG5pbXBvcnQgV2lkZ2V0QXJyb3dCb3ggZnJvbSAnLi4vYmFzZS93aWRnZXQtYXJyb3ctYm94LmpzJztcbmltcG9ydCBXaWRnZXREcm9wZG93biBmcm9tICcuLi9iYXNlL3dpZGdldC1kcm9wZG93bi5qcyc7XG5pbXBvcnQgV2lkZ2V0RXhjbHVzaXZlIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWV4Y2x1c2l2ZS5qcyc7XG5pbXBvcnQgV2lkZ2V0Rm9jdXNNYW5hZ2VyIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LWZvY3VzLW1hbmFnZXIuanMnO1xuaW1wb3J0IFdpZGdldFBvc2l0aW9uIGZyb20gJy4uL2Jhc2Uvd2lkZ2V0LXBvc2l0aW9uLmpzJztcblxuLyoqXG4gKiBUaGUgVG9vbGJhclN0eWxlcyBjbGFzcyBob3N0cyB0aGUgYnV0dG9ucyBmb3Igc3R5bGluZyBhIHRleHQgc2VsZWN0aW9uLlxuICpcbiAqIEBjbGFzcyBUb29sYmFyU3R5bGVzXG4gKiBAdXNlcyBUb29sYmFyQnV0dG9uc1xuICogQHVzZXMgV2lkZ2V0QXJyb3dCb3hcbiAqIEB1c2VzIFdpZGdldERyb3Bkb3duXG4gKiBAdXNlcyBXaWRnZXRFeGNsdXNpdmVcbiAqIEB1c2VzIFdpZGdldEZvY3VzTWFuYWdlclxuICogQHVzZXMgV2lkZ2V0UG9zaXRpb25cbiAqL1xuY2xhc3MgVG9vbGJhclN0eWxlcyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpZmVjeWNsZS4gSW52b2tlZCBvbmNlLCBvbmx5IG9uIHRoZSBjbGllbnQgKG5vdCBvbiB0aGUgc2VydmVyKSxcbiAgICAgKiBpbW1lZGlhdGVseSBhZnRlciB0aGUgaW5pdGlhbCByZW5kZXJpbmcgb2NjdXJzLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZE1vdW50XG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBJbnZva2VkIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBjb21wb25lbnQncyB1cGRhdGVzIGFyZSBmbHVzaGVkIHRvIHRoZSBET00uXG4gICAgICogVGhpcyBtZXRob2QgaXMgbm90IGNhbGxlZCBmb3IgdGhlIGluaXRpYWwgcmVuZGVyLlxuICAgICAqXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIFRvb2xiYXJTdHlsZXNcbiAgICAgKiBAbWV0aG9kIGNvbXBvbmVudERpZFVwZGF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2UHJvcHMgVGhlIHByZXZpb3VzIHN0YXRlIG9mIHRoZSBjb21wb25lbnQncyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2U3RhdGUgQ29tcG9uZW50J3MgcHJldmlvdXMgc3RhdGUuXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVBvc2l0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlmZWN5Y2xlLiBSZW5kZXJzIHRoZSBidXR0b25zIGZvciBhZGRpbmcgY29udGVudCBvciBoaWRlcyB0aGUgdG9vbGJhclxuICAgICAqIGlmIHVzZXIgaW50ZXJhY3RlZCB3aXRoIGEgbm9uLWVkaXRhYmxlIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhclN0eWxlc1xuICAgICAqIEBtZXRob2QgcmVuZGVyXG4gICAgICogQHJldHVybiB7T2JqZWN0fG51bGx9IFRoZSBjb250ZW50IHdoaWNoIHNob3VsZCBiZSByZW5kZXJlZC5cbiAgICAgKi9cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBjdXJyZW50U2VsZWN0aW9uID0gdGhpcy5fZ2V0Q3VycmVudFNlbGVjdGlvbigpO1xuXG4gICAgICAgIGlmIChjdXJyZW50U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZ2V0QXJyb3dCb3hDbGFzc2VzRm4gPSB0aGlzLl9nZXRTZWxlY3Rpb25GdW5jdGlvbihjdXJyZW50U2VsZWN0aW9uLmdldEFycm93Qm94Q2xhc3Nlcyk7XG4gICAgICAgICAgICB2YXIgYXJyb3dCb3hDbGFzc2VzO1xuXG4gICAgICAgICAgICBpZiAoZ2V0QXJyb3dCb3hDbGFzc2VzRm4pIHtcbiAgICAgICAgICAgICAgICBhcnJvd0JveENsYXNzZXMgPSBnZXRBcnJvd0JveENsYXNzZXNGbigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhcnJvd0JveENsYXNzZXMgPSB0aGlzLmdldEFycm93Qm94Q2xhc3NlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY3NzQ2xhc3NlcyA9ICdhZS10b29sYmFyLXN0eWxlcyAnICsgYXJyb3dCb3hDbGFzc2VzO1xuXG4gICAgICAgICAgICB2YXIgYnV0dG9ucyA9IHRoaXMuZ2V0VG9vbGJhckJ1dHRvbnMoXG4gICAgICAgICAgICAgICAgY3VycmVudFNlbGVjdGlvbi5idXR0b25zLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsU2VsZWN0aW9uOiB0aGlzLnByb3BzLmVkaXRvckV2ZW50ID8gdGhpcy5wcm9wcy5lZGl0b3JFdmVudC5kYXRhLm1hbnVhbFNlbGVjdGlvbiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvblR5cGU6IGN1cnJlbnRTZWxlY3Rpb24ubmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBhcmlhLWxhYmVsPXtBbGxveUVkaXRvci5TdHJpbmdzLnN0eWxlc30gY2xhc3NOYW1lPXtjc3NDbGFzc2VzfSBkYXRhLXRhYmluZGV4PXt0aGlzLnByb3BzLmNvbmZpZy50YWJJbmRleCB8fCAwfSBvbkZvY3VzPXt0aGlzLmZvY3VzLmJpbmQodGhpcyl9IG9uS2V5RG93bj17dGhpcy5oYW5kbGVLZXkuYmluZCh0aGlzKX0gcm9sZT1cInRvb2xiYXJcIiB0YWJJbmRleD1cIi0xXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7YnV0dG9uc31cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYSBmdW5jdGlvbiBmcm9tIFN0cmluZy4gSXQgY29udmVydHMgYSBmdWxseSBxdWFsaWZpZWQgc3RyaW5nIGludG8gdGhlIG1hcHBlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gICAgICogQG1ldGhvZCBfZ2V0U2VsZWN0aW9uRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufFN0cmluZ30gc2VsZWN0aW9uRm4gQSBmdW5jdGlvbiwgb3IgYSBmdWxseSBxdWFsaWZpZWQgc3RyaW5nIHBvaW50aW5nIHRvIHRoZSBkZXNpcmVkIG9uZSAoZS5nLiAnQWxsb3lFZGl0b3IuU2VsZWN0aW9uVGVzdC5pbWFnZScpLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIG1hcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBfZ2V0U2VsZWN0aW9uRnVuY3Rpb24oc2VsZWN0aW9uRm4pIHtcbiAgICAgICAgdmFyIHNlbGVjdGlvbkZ1bmN0aW9uO1xuXG4gICAgICAgIGlmIChMYW5nLmlzRnVuY3Rpb24oc2VsZWN0aW9uRm4pKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25GdW5jdGlvbiA9IHNlbGVjdGlvbkZuO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoTGFuZy5pc1N0cmluZyhzZWxlY3Rpb25GbikpIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IHNlbGVjdGlvbkZuLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICB2YXIgY3VycmVudE1lbWJlciA9IHdpbmRvdztcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IHBhcnRzLnNoaWZ0KCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChwcm9wZXJ0eSAmJiBMYW5nLmlzT2JqZWN0KGN1cnJlbnRNZW1iZXIpICYmIExhbmcuaXNPYmplY3QoY3VycmVudE1lbWJlcltwcm9wZXJ0eV0pKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudE1lbWJlciA9IGN1cnJlbnRNZW1iZXJbcHJvcGVydHldO1xuICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gcGFydHMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihjdXJyZW50TWVtYmVyKSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbkZ1bmN0aW9uID0gY3VycmVudE1lbWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3Rpb25GdW5jdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbmFseXplcyB0aGUgY3VycmVudCBlZGl0b3Igc2VsZWN0aW9uIGFuZCByZXR1cm5zIHRoZSBzZWxlY3Rpb24gY29uZmlndXJhdGlvbiB0aGF0IG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgVG9vbGJhclN0eWxlc1xuICAgICAqIEBtZXRob2QgX2dldEN1cnJlbnRTZWxlY3Rpb25cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgbWF0Y2hlZCBzZWxlY3Rpb24gY29uZmlndXJhdGlvbi5cbiAgICAgKi9cbiAgICBfZ2V0Q3VycmVudFNlbGVjdGlvbigpIHtcbiAgICAgICAgdmFyIGV2ZW50UGF5bG9hZCA9IHRoaXMucHJvcHMuZWRpdG9yRXZlbnQgPyB0aGlzLnByb3BzLmVkaXRvckV2ZW50LmRhdGEgOiBudWxsO1xuICAgICAgICB2YXIgc2VsZWN0aW9uO1xuXG4gICAgICAgIGlmIChldmVudFBheWxvYWQpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuY29uZmlnLnNlbGVjdGlvbnMuc29tZShmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRlc3RGbiA9IHRoaXMuX2dldFNlbGVjdGlvbkZ1bmN0aW9uKGl0ZW0udGVzdCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgICAgICAgICAgIGlmICh0ZXN0Rm4pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZXZlbnRQYXlsb2FkLm1hbnVhbFNlbGVjdGlvbiA9PT0gaXRlbS5uYW1lIHx8wqB0ZXN0Rm4oe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZXZlbnRQYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiB0aGlzLnByb3BzLmVkaXRvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbiA9IGl0ZW07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuZCBzZXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgdG9vbGJhci5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4gICAgICogQG1ldGhvZCBfdXBkYXRlUG9zaXRpb25cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX3VwZGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICAvLyBJZiBjb21wb25lbnQgaXMgbm90IG1vdW50ZWQsIHRoZXJlIGlzIG5vdGhpbmcgdG8gZG9cbiAgICAgICAgaWYgKCFSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLl9nZXRDdXJyZW50U2VsZWN0aW9uKCk7XG4gICAgICAgIHZhciByZXN1bHQ7XG5cbiAgICAgICAgLy8gSWYgY3VycmVudCBzZWxlY3Rpb24gaGFzIGEgZnVuY3Rpb24gY2FsbGVkIGBzZXRQb3NpdGlvbmAsIGNhbGwgaXRcbiAgICAgICAgLy8gYW5kIGNoZWNrIHRoZSByZXR1cm5lZCB2YWx1ZS4gSWYgZmFsc2UsIGZhbGxiYWNrIHRvIHRoZSBkZWZhdWx0IHBvc2l0aW9uaW5nIGxvZ2ljLlxuICAgICAgICBpZiAoY3VycmVudFNlbGVjdGlvbikge1xuICAgICAgICAgICAgdmFyIHNldFBvc2l0aW9uRm4gPSB0aGlzLl9nZXRTZWxlY3Rpb25GdW5jdGlvbihjdXJyZW50U2VsZWN0aW9uLnNldFBvc2l0aW9uKTtcblxuICAgICAgICAgICAgaWYgKHNldFBvc2l0aW9uRm4pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzZXRQb3NpdGlvbkZuLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IHRoaXMucHJvcHMuZWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICBlZGl0b3JFdmVudDogdGhpcy5wcm9wcy5lZGl0b3JFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogdGhpcy5wcm9wcy5zZWxlY3Rpb25EYXRhXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQb3NpdGlvbigpO1xuICAgICAgICAgICAgdGhpcy5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogTGlmZWN5Y2xlLiBSZXR1cm5zIHRoZSBkZWZhdWx0IHZhbHVlcyBvZiB0aGUgcHJvcGVydGllcyB1c2VkIGluIHRoZSB3aWRnZXQuXG4gKlxuICogQGluc3RhbmNlXG4gKiBAbWVtYmVyb2YgVG9vbGJhclN0eWxlc1xuICogQG1ldGhvZCBnZXREZWZhdWx0UHJvcHNcbiAqIEByZXR1cm4ge09iamVjdH0gVGhlIGRlZmF1bHQgcHJvcGVydGllcy5cbiAqL1xuVG9vbGJhclN0eWxlcy5kZWZhdWx0UHJvcHMgPSB7XG4gICAgY2lyY3VsYXI6IHRydWUsXG4gICAgZGVzY2VuZGFudHM6ICcuYWUtaW5wdXQsIC5hZS1idXR0b246bm90KFtkaXNhYmxlZF0pLCAuYWUtdG9vbGJhci1lbGVtZW50JyxcbiAgICBrZXlzOiB7XG4gICAgICAgIGRpc21pc3M6IFsyN10sXG4gICAgICAgIG5leHQ6IFszOSwgNDBdLFxuICAgICAgICBwcmV2OiBbMzcsIDM4XVxuICAgIH1cbn07XG5cbi8qKlxuKiBUaGUgbmFtZSB3aGljaCB3aWxsIGJlIHVzZWQgYXMgYW4gYWxpYXMgb2YgdGhlIGJ1dHRvbiBpbiB0aGUgY29uZmlndXJhdGlvbi5cbipcbiogQGRlZmF1bHQgc3R5bGVzXG4qIEBtZW1iZXJvZiBUb29sYmFyU3R5bGVzXG4qIEBwcm9wZXJ0eSB7U3RyaW5nfSBrZXlcbiogQHN0YXRpY1xuKi9cblRvb2xiYXJTdHlsZXMua2V5ID0gJ3N0eWxlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IFdpZGdldEFycm93Qm94KFxuICAgIFdpZGdldERyb3Bkb3duKFxuICAgIFdpZGdldEV4Y2x1c2l2ZShcbiAgICBXaWRnZXRGb2N1c01hbmFnZXIoXG4gICAgV2lkZ2V0UG9zaXRpb24oXG4gICAgVG9vbGJhckJ1dHRvbnMoXG4gICAgICAgIFRvb2xiYXJTdHlsZXNcbikpKSkpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV91aWJyaWRnZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gdGhhdCBleHRlbmRzIENLRURJVE9SLnVpLmFkZCBmdW5jdGlvbiBzbyBhbiBhZGQgaGFuZGxlciBjYW4gYmUgc3BlY2lmaWVkXG4gICAgICogb24gdG9wIG9mIHRoZSBvcmlnaW5hbCBvbmVzLiBJdCBicmlkZ2VzIHRoZSBjYWxscyB0byBhZGQgY29tcG9uZW50cyB2aWE6XG4gICAgICogLSBlZGl0b3IudWkuYWRkKG5hbWUsIHR5cGUsIGRlZmluaXRpb24pXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV91aWJyaWRnZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKCdhZV91aWJyaWRnZScsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1ldGhvZCBiZWZvcmVJbml0XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBiZWZvcmVJbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbFVJQWRkRm4gPSBlZGl0b3IudWkuYWRkO1xuXG4gICAgICAgICAgICBlZGl0b3IudWkuYWRkID0gZnVuY3Rpb24obmFtZSwgdHlwZSwgZGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsVUlBZGRGbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHR5cGVIYW5kbGVyID0gdGhpcy5fLmhhbmRsZXJzW3R5cGVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVIYW5kbGVyICYmIHR5cGVIYW5kbGVyLmFkZCkge1xuICAgICAgICAgICAgICAgICAgICB0eXBlSGFuZGxlci5hZGQobmFtZSwgZGVmaW5pdGlvbiwgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgQWxsb3lFZGl0b3IucmVnaXN0ZXJCcmlkZ2VCdXR0b24obmFtZSwgZWRpdG9yLl9fcHJvY2Vzc2luZ1BsdWdpbl9fLnBsdWdpbi5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBEZWJvdW5jZSB1dGlsIGZ1bmN0aW9uLiBJZiBhIGZ1bmN0aW9uIGV4ZWN1dGlvbiBpcyBleHBlbnNpdmUsIGl0IG1pZ2h0IGJlIGRlYm91bmNlZC4gVGhpcyBtZWFuc1xuICAgICAqIHRoYXQgaXQgd2lsbCBiZSBleGVjdXRlZCBhZnRlciBzb21lIGFtb3VudCBvZiB0aW1lIGFmdGVyIGl0cyBsYXN0IGNhbGwuIEZvciBleGFtcGxlLCBpZiB3ZSBhdHRhY2ggYVxuICAgICAqIGEgZnVuY3Rpb24gb24gc2Nyb2xsIGV2ZW50LCBpdCBtaWdodCBiZSBjYWxsZWQgaHVuZHJlZHMgdGltZXMgcGVyIHNlY29uZC4gSW4gdGhpcyBjYXNlIGl0IG1heSBiZVxuICAgICAqIGRlYm91bmNlZCB3aXRoLCBsZXQncyBzYXkgMTAwbXMuIFRoZSByZWFsIGV4ZWN1dGlvbiBvZiB0aGlzIGZ1bmN0aW9uIHdpbGwgaGFwcGVuIDEwMG1zIGFmdGVyIGxhc3RcbiAgICAgKiBzY3JvbGwgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IudG9vbHNcbiAgICAgKiBAbWV0aG9kIGRlYm91bmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBBbiBhcnJheSBvZiBhcmd1bWVudHMgd2hpY2ggdGhlIGNhbGxiYWNrIHdpbGwgcmVjZWl2ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgd2hpY2ggaGFzIHRvIGJlIGNhbGxlZCBhZnRlciBnaXZlbiB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lb3V0IFRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHdoaWNoIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY29udGV4dCBUaGUgY29udGV4dCBpbiB3aGljaCB0aGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQuIFRoaXMgYXJndW1lbnQgaXMgb3B0aW9uYWwuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIENLRURJVE9SLnRvb2xzLmRlYm91bmNlID0gQ0tFRElUT1IudG9vbHMuZGVib3VuY2UgfHwgZnVuY3Rpb24oY2FsbGJhY2ssIHRpbWVvdXQsIGNvbnRleHQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGRlYm91bmNlSGFuZGxlO1xuXG4gICAgICAgIHZhciBjYWxsRm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjYWxsQ29udGV4dCA9IGNvbnRleHQgfHwgdGhpcztcblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGRlYm91bmNlSGFuZGxlKTtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzdGFydEluZGV4ID0gMDsgc3RhcnRJbmRleCA8IGxlbjsgKytzdGFydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJndW1lbnRzW3N0YXJ0SW5kZXhdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNhbGxBcmdzID0gcmVzdWx0LmNvbmNhdChhcmdzIHx8IFtdKTtcblxuICAgICAgICAgICAgZGVib3VuY2VIYW5kbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KGNhbGxDb250ZXh0LCBjYWxsQXJncyk7XG4gICAgICAgICAgICB9LCB0aW1lb3V0KTtcbiAgICAgICAgfTtcblxuICAgICAgICBjYWxsRm4uZGV0YWNoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoZGVib3VuY2VIYW5kbGUpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBjYWxsRm47XG4gICAgfTtcbn0oKSk7IiwiaW1wb3J0IGRlYm91bmNlIGZyb20gJy4vZGVib3VuY2UnO1xuaW1wb3J0IGxpbmsgZnJvbSAnLi9saW5rJztcbmltcG9ydCBwbHVnaW5zIGZyb20gJy4vcGx1Z2lucyc7XG5pbXBvcnQgc2VsZWN0aW9uUmVnaW9uIGZyb20gJy4vc2VsZWN0aW9uLXJlZ2lvbic7XG5pbXBvcnQgdGFibGUgZnJvbSAnLi90YWJsZSc7XG5pbXBvcnQgdG9vbHMgZnJvbSAnLi90b29scyc7XG5pbXBvcnQgdWljb3JlIGZyb20gJy4vdWljb3JlJztcblxuZXhwb3J0IHtcbiAgICBkZWJvdW5jZSxcbiAgICBsaW5rLFxuICAgIHBsdWdpbnMsXG4gICAgc2VsZWN0aW9uUmVnaW9uLFxuICAgIHRhYmxlLFxuICAgIHRvb2xzLFxuICAgIHVpY29yZVxufTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFJFR0VYX0JPT0tNQVJLX1NDSEVNRSA9IC9eIy4qL2k7XG4gICAgdmFyIFJFR0VYX0VNQUlMX1NDSEVNRSA9IC9eW2EtejAtOVxcdTA0MzAtXFx1MDQ0RlxcLl8tXStAL2k7XG4gICAgdmFyIFJFR0VYX1VSSV9TQ0hFTUUgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSopXFw6fF5cXC8vaTtcblxuICAgIC8qKlxuICAgICAqIExpbmsgY2xhc3MgdXRpbGl0eS4gUHJvdmlkZXMgbWV0aG9kcyBmb3IgY3JlYXRlLCBkZWxldGUgYW5kIHVwZGF0ZSBsaW5rcy5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5MaW5rXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGluayhlZGl0b3IsIGNvbmZpZykge1xuICAgICAgICB0aGlzLl9lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMuYXBwZW5kUHJvdG9jb2wgPSBjb25maWcgJiYgY29uZmlnLmFwcGVuZFByb3RvY29sID09PSBmYWxzZSA/IGZhbHNlIDogdHJ1ZTtcbiAgICB9XG5cbiAgICBMaW5rLnByb3RvdHlwZSA9IHtcbiAgICAgICAgY29uc3RydWN0b3I6IExpbmssXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkdmFuY2VzIHRoZSBlZGl0b3Igc2VsZWN0aW9uIHRvIHRoZSBuZXh0IGF2YWlsYWJsZSBwb3NpdGlvbiBhZnRlciBhXG4gICAgICAgICAqIGdpdmVuIGxpbmsgb3IgdGhlIG9uZSBpbiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIGFkdmFuY2VTZWxlY3Rpb25cbiAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gbGluayBUaGUgbGluayBlbGVtZW50IHdoaWNoIGxpbmsgc3R5bGUgc2hvdWxkIGJlIHJlbW92ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBhZHZhbmNlU2VsZWN0aW9uOiBmdW5jdGlvbihsaW5rKSB7XG4gICAgICAgICAgICBsaW5rID0gbGluayB8fCB0aGlzLmdldEZyb21TZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO1xuXG4gICAgICAgICAgICBpZiAobGluaykge1xuICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0VsZW1lbnRFZGl0RW5kKGxpbmspO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5leHROb2RlID0gcmFuZ2UuZ2V0TmV4dEVkaXRhYmxlTm9kZSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5leHROb2RlICYmICF0aGlzLl9lZGl0b3IuZWxlbWVudC5lcXVhbHMobmV4dE5vZGUuZ2V0Q29tbW9uQW5jZXN0b3IobGluaykpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGl0ZXNwYWNlID0gL1xccy8uZXhlYyhuZXh0Tm9kZS5nZXRUZXh0KCkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSB3aGl0ZXNwYWNlID8gd2hpdGVzcGFjZS5pbmRleCArIDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5leHROb2RlLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobmV4dE5vZGUsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtyYW5nZV0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBsaW5rIHdpdGggZ2l2ZW4gVVJJIGFzIGhyZWYuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cnMgQSBjb25maWcgb2JqZWN0IHdpdGggbGluayBhdHRyaWJ1dGVzLiBUaGVzZSBtaWdodCBiZSBhcmJpdHJhcnkgRE9NIGF0dHJpYnV0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RpZnlTZWxlY3Rpb24gQSBjb25maWcgb2JqZWN0IHdpdGggYW4gYWR2YW5jZSBhdHRyaWJ1dGUgdG8gaW5kaWNhdGUgaWYgdGhlIHNlbGVjdGlvbiBzaG91bGQgYmUgbW92ZWQgYWZ0ZXIgdGhlIGxpbmsgY3JlYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBVUkkgVGhlIFVSSSBvZiB0aGUgbGluay5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24oVVJJLCBhdHRycywgbW9kaWZ5U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5fZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKClbMF07XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IG5ldyBDS0VESVRPUi5kb20udGV4dChVUkksIHRoaXMuX2VkaXRvci5kb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGV4dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFVSSSA9IHRoaXMuX2dldENvbXBsZXRlVVJJKFVSSSk7XG5cbiAgICAgICAgICAgIHZhciBsaW5rQXR0cnMgPSBDS0VESVRPUi50b29scy5tZXJnZSh7XG4gICAgICAgICAgICAgICAgJ2RhdGEtY2tlLXNhdmVkLWhyZWYnOiBVUkksXG4gICAgICAgICAgICAgICAgaHJlZjogVVJJXG4gICAgICAgICAgICB9LCBhdHRycyk7XG5cbiAgICAgICAgICAgIHZhciBzdHlsZSA9IG5ldyBDS0VESVRPUi5zdHlsZSh7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogbGlua0F0dHJzLFxuICAgICAgICAgICAgICAgIGVsZW1lbnQ6ICdhJ1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHN0eWxlLnR5cGUgPSBDS0VESVRPUi5TVFlMRV9JTkxJTkU7XG4gICAgICAgICAgICBzdHlsZS5hcHBseVRvUmFuZ2UocmFuZ2UsIHRoaXMuX2VkaXRvcik7XG5cbiAgICAgICAgICAgIGlmIChtb2RpZnlTZWxlY3Rpb24gJiYgbW9kaWZ5U2VsZWN0aW9uLmFkdmFuY2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyBhIGxpbmsgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuTGlua1xuICAgICAgICAgKiBAbWV0aG9kIGdldEZyb21TZWxlY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IFRoZSByZXRyaWV2ZWQgbGluayBvciBudWxsIGlmIG5vdCBmb3VuZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZyb21TZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuX2VkaXRvci5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkRWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudCAmJiBzZWxlY3RlZEVsZW1lbnQuaXMoJ2EnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlbGVjdGlvbi5nZXRSYW5nZXMoKVswXTtcblxuICAgICAgICAgICAgaWYgKHJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2hyaW5rKENLRURJVE9SLlNIUklOS19URVhUKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lZGl0b3IuZWxlbWVudFBhdGgocmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoKSkuY29udGFpbnMoJ2EnLCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgYSBsaW5rIGZyb20gdGhlIGVkaXRvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5MaW5rXG4gICAgICAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGxpbmsgVGhlIGxpbmsgZWxlbWVudCB3aGljaCBsaW5rIHN0eWxlIHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbW9kaWZ5U2VsZWN0aW9uIEEgY29uZmlnIG9iamVjdCB3aXRoIGFuIGFkdmFuY2UgYXR0cmlidXRlIHRvIGluZGljYXRlIGlmIHRoZSBzZWxlY3Rpb24gc2hvdWxkIGJlIG1vdmVkIGFmdGVyIHRoZSBsaW5rIGNyZWF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbihsaW5rLCBtb2RpZnlTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLl9lZGl0b3I7XG5cbiAgICAgICAgICAgIGlmIChsaW5rKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1vZGlmeVNlbGVjdGlvbiAmJiBtb2RpZnlTZWxlY3Rpb24uYWR2YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkdmFuY2VTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsaW5rLnJlbW92ZShlZGl0b3IpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGUgPSBuZXcgQ0tFRElUT1Iuc3R5bGUoe1xuICAgICAgICAgICAgICAgICAgICBhbHdheXNSZW1vdmVFbGVtZW50OiAxLFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiAnYScsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IENLRURJVE9SLlNUWUxFX0lOTElORVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gJ3JlbW92ZVN0eWxlKCknIHJlbW92ZXMgdGhlIHN0eWxlIGZyb20gdGhlIGVkaXRvcidzIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICAgICAgICAgIC8vICBXZSBuZWVkIHRvIGZvcmNlIHRoZSBzZWxlY3Rpb24gdG8gYmUgdGhlIHdob2xlIGxpbmsgZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vICB0byByZW1vdmUgaXQgcHJvcGVybHkuXG5cbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5zZWxlY3RFbGVtZW50KHNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnQoKSk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3IucmVtb3ZlU3R5bGUoc3R5bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGVzIHRoZSBocmVmIG9mIGFuIGFscmVhZHkgZXhpc3RpbmcgbGluay5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5MaW5rXG4gICAgICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGxpbmsgVGhlIGxpbmsgZWxlbWVudCB3aGljaCBocmVmIHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IGF0dHJzIFRoZSBhdHRyaWJ1dGVzIHRvIHVwZGF0ZSBvciByZW1vdmUuIEF0dHJpYnV0ZXMgd2l0aCBudWxsIHZhbHVlcyB3aWxsIGJlIHJlbW92ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtb2RpZnlTZWxlY3Rpb24gQSBjb25maWcgb2JqZWN0IHdpdGggYW4gYWR2YW5jZSBhdHRyaWJ1dGUgdG8gaW5kaWNhdGUgaWYgdGhlIHNlbGVjdGlvbiBzaG91bGQgYmUgbW92ZWQgYWZ0ZXIgdGhlIGxpbmsgY3JlYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKGF0dHJzLCBsaW5rLCBtb2RpZnlTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9ICB0aGlzO1xuXG4gICAgICAgICAgICBsaW5rID0gbGluayB8fCB0aGlzLmdldEZyb21TZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJpID0gaW5zdGFuY2UuX2dldENvbXBsZXRlVVJJKGF0dHJzKTtcblxuICAgICAgICAgICAgICAgIGxpbmsuc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdkYXRhLWNrZS1zYXZlZC1ocmVmJzogdXJpLFxuICAgICAgICAgICAgICAgICAgICBocmVmOiB1cmlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGF0dHJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhciByZW1vdmVBdHRycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNldEF0dHJzID0ge307XG5cbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzW2tleV0gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgPT09ICdocmVmJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJzLnB1c2goJ2RhdGEtY2tlLXNhdmVkLWhyZWYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQXR0cnMucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2hyZWYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVyaSA9IGluc3RhbmNlLl9nZXRDb21wbGV0ZVVSSShhdHRyc1trZXldKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEF0dHJzWydkYXRhLWNrZS1zYXZlZC1ocmVmJ10gPSB1cmk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXR0cnNba2V5XSA9IHVyaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QXR0cnNba2V5XSA9IGF0dHJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGxpbmsucmVtb3ZlQXR0cmlidXRlcyhyZW1vdmVBdHRycyk7XG4gICAgICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGVzKHNldEF0dHJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG1vZGlmeVNlbGVjdGlvbiAmJiBtb2RpZnlTZWxlY3Rpb24uYWR2YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWR2YW5jZVNlbGVjdGlvbihsaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2hlY2tzIGlmIHRoZSBVUkkgYmVnaW5zIHdpdGggYSAnIycgc3ltYm9sIHRvIGRldGVybWluZSBpZiBpdCdzIGFuIG9uIHBhZ2UgYm9va21hcmsuXG4gICAgICAgICAqIElmIGl0IGRvZXNuJ3QsIGl0IHRoZW4gY2hlY2tzIGlmIHRoZSBVUkkgaGFzIGFuICdAJyBzeW1ib2wuIElmIGl0IGRvZXMgYW5kIHRoZSBVUklcbiAgICAgICAgICogbG9va3MgbGlrZSBhbiBlbWFpbCBhbmQgZG9lc24ndCBoYXZlICdtYWlsdG86JywgJ21haWx0bzonIGlzIGFkZGVkIHRvIHRoZSBVUkkuXG4gICAgICAgICAqIElmIGl0IGRvZXNuJ3QgYW5kIHRoZSBVUkkgZG9lc24ndCBoYXZlIGEgc2NoZW1lLCB0aGUgZGVmYXVsdCAnaHR0cCcgc2NoZW1lIHdpdGhcbiAgICAgICAgICogaGllcmFyY2hpY2FsIHBhdGggJy8vJyBpcyBhZGRlZCB0byB0aGUgVVJJLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLkxpbmtcbiAgICAgICAgICogQG1ldGhvZCBfZ2V0Q29tcGxldGVVUklcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IFVSSSBUaGUgVVJJIG9mIHRoZSBsaW5rLlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIFVSSSB1cGRhdGVkIHdpdGggdGhlIHByb3RvY29sLlxuICAgICAgICAgKi9cbiAgICAgICAgX2dldENvbXBsZXRlVVJJOiBmdW5jdGlvbihVUkkpIHtcbiAgICAgICAgICAgIGlmIChSRUdFWF9CT09LTUFSS19TQ0hFTUUudGVzdChVUkkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVSSTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoUkVHRVhfRU1BSUxfU0NIRU1FLnRlc3QoVVJJKSkge1xuICAgICAgICAgICAgICAgIFVSSSA9ICdtYWlsdG86JyArIFVSSTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIVJFR0VYX1VSSV9TQ0hFTUUudGVzdChVUkkpKSB7XG4gICAgICAgICAgICAgICAgVVJJID0gdGhpcy5hcHBlbmRQcm90b2NvbCA/ICdodHRwOi8vJyArIFVSSSA6IFVSSTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFVSSTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBDS0VESVRPUi5MaW5rID0gQ0tFRElUT1IuTGluayB8fCBMaW5rO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLy8gV3JhcHMgZWFjaCBvZiB0aGUgcGx1Z2luIGxpZmVjeWNsZSBtZXRob2RzIGluIGEgY2xvc3VyZSB0aGF0IHdpbGxcbiAgICAvLyBzZXQgdXAgdGhlIGVkaXRvci5fX3Byb2Nlc3NpbmdQbHVnaW5fXyB2YXJpYWJsZSBzbyBpdCBjYW4gYmUgZ2xvYmFsbHlcbiAgICAvLyBhY2Nlc3NlZCBleHBvc2luZyB0aGUgcGx1Z2luIGJlaW5nIHByb2Nlc3NlZCBhbmQgdGhlIGxpZmVjeWNsZSBwaGFzZVxuICAgIC8vIGluIHdoaWNoIGl0IGlzIGhhcHBlbmluZ1xuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtPYmplY3R9IHBsdWdpbiBUaGUgcGx1Z2luIHRvIHdyYXAgbGlmZWN5Y2xlIG1ldGhvZHNcbiAgICB2YXIgd3JhcFBsdWdpbkxpZmVjeWNsZSA9IGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICB2YXIgbWV0aG9kcyA9IFsnYmVmb3JlSW5pdCcsICdpbml0JywgJ2FmdGVySW5pdCddO1xuXG4gICAgICAgIG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICAgICAgICBpZiAocGx1Z2luW21ldGhvZE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luW21ldGhvZE5hbWVdID0gQ0tFRElUT1IudG9vbHMub3ZlcnJpZGUocGx1Z2luW21ldGhvZE5hbWVdLCBmdW5jdGlvbihvcmlnaW5hbFBsdWdpbk1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBoYXNlOiBtZXRob2ROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luOiBwbHVnaW5cbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuX19wcm9jZXNzaW5nUGx1Z2luX18gPSBwYXlsb2FkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFBsdWdpbk1ldGhvZC5jYWxsKHRoaXMsIGVkaXRvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5fX3Byb2Nlc3NpbmdQbHVnaW5fXyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvLyBGaWx0ZXJzIHRoZSByZXF1aXJlcyBvYmplY3QgdG8gcmVtb3ZlIHVud2FudGVkIGRlcGVuZGVuY2llcy4gQXQgdGhpcyBwb2ludFxuICAgIC8vIG9ubHkgJ3Rvb2xiYXInIGhhcyBiZWVuIGlkZW50aWZpZWQsIGJ1dCBtb3JlIGNhbiBhcHBlYXIuIEFuIHVud2FudGVkIHBsdWdpblxuICAgIC8vIGRlcGVuZGVuY3kgaXMgb25lIHRoYXQgcHJldmVudHMgYSBuZWNlc3NhcnkgcGx1Z2luIGZyb20gYmVpbmcgcmVtb3ZlZFxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtzdHJpbmd8QXJyYXk8c3RyaW5nPn0gcmVxdWlyZXMgVGhlIHJlcXVpcmVzIG9iamVjdFxuICAgIC8vIEByZXR1cm4ge3N0cmluZ30gVGhlIGZpbHRlcmVkIHJlcXVpcmVzIG9iamVjdFxuICAgIHZhciBmaWx0ZXJVbndhbnRlZERlcGVuZGVuY2llcyA9IGZ1bmN0aW9uKHJlcXVpcmVzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVxdWlyZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXF1aXJlcyA9IHJlcXVpcmVzLnNwbGl0KCcsJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVxdWlyZXMuZmlsdGVyKGZ1bmN0aW9uKHJlcXVpcmUpIHtcbiAgICAgICAgICAgIHJldHVybiByZXF1aXJlICE9PSAndG9vbGJhcic7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDS0VESVRPUi5wbHVnaW5zIGNsYXNzIHV0aWxpdHkgd2hpY2ggYWRkcyBhZGRpdGlvbmFsIG1ldGhvZHMgdG8gdGhvc2Ugb2YgQ0tFZGl0b3IuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2luc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGVzIENLRURJVE9SLnBsdWdpbnMubG9hZCBtZXRob2Qgc28gd2UgY2FuIGV4dGVuZCB0aGUgbGlmZWN5Y2xlIG1ldGhvZHMgb2ZcbiAgICAgKiB0aGUgbG9hZGVkIHBsdWdpbnMgdG8gYWRkIHNvbWUgbWV0YWluZm9ybWF0aW9uIGFib3V0IHRoZSBwbHVnaW4gYmVpbmcgcHJvY2Vzc2VkXG4gICAgICpcblx0ICogQHBhcmFtIHtTdHJpbmcvQXJyYXl9IG5hbWVzIFRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSB0byBsb2FkLiBJdCBtYXkgYmUgYVxuXHQgKiBzdHJpbmcgd2l0aCBhIHNpbmdsZSByZXNvdXJjZSBuYW1lLCBvciBhbiBhcnJheSB3aXRoIHNldmVyYWwgbmFtZXMuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHdoZW4gYWxsIHJlc291cmNlc1xuXHQgKiBhcmUgbG9hZGVkLiBUaGUgY2FsbGJhY2sgd2lsbCByZWNlaXZlIGFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGxvYWRlZCBuYW1lcy5cblx0ICogQHBhcmFtIHtPYmplY3R9IFtzY29wZV0gVGhlIHNjb3BlIG9iamVjdCB0byBiZSB1c2VkIGZvciB0aGUgY2FsbGJhY2sgY2FsbC5cbiAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2luc1xuICAgICAqIEBtZXRob2QgbG9hZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmxvYWQgPSBDS0VESVRPUi50b29scy5vdmVycmlkZShDS0VESVRPUi5wbHVnaW5zLmxvYWQsIGZ1bmN0aW9uKHBsdWdpbnNMb2FkKXtcbiAgICAgICAgLy8gV3JhcCBvcmlnaW5hbCBsb2FkIGZ1bmN0aW9uIHNvIHdlIGNhbiB0cmFuc2Zvcm0gdGhlIHBsdWdpbiBpbnB1dCBwYXJhbWV0ZXJcbiAgICAgICAgLy8gYmVmb3JlIHBhc3NpbmcgaXQgZG93biB0byB0aGUgb3JpZ2luYWwgY2FsbGJhY2tcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG5hbWVzLCBjYWxsYmFjaywgc2NvcGUpIHtcbiAgICAgICAgICAgIHBsdWdpbnNMb2FkLmNhbGwodGhpcywgbmFtZXMsIGZ1bmN0aW9uKHBsdWdpbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGx1Z2lucykuZm9yRWFjaChmdW5jdGlvbihwbHVnaW5OYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGx1Z2luID0gcGx1Z2luc1twbHVnaW5OYW1lXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5yZXF1aXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsdWdpbi5yZXF1aXJlcyA9IGZpbHRlclVud2FudGVkRGVwZW5kZW5jaWVzKHBsdWdpbi5yZXF1aXJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBQbHVnaW5MaWZlY3ljbGUocGx1Z2luKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChzY29wZSwgcGx1Z2lucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX3NlbGVjdGlvbnJlZ2lvbicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTSA9IDA7XG4gICAgQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1AgPSAxO1xuICAgIENLRURJVE9SLlNFTEVDVElPTl9MRUZUX1RPX1JJR0hUID0gMjtcbiAgICBDS0VESVRPUi5TRUxFQ1RJT05fUklHSFRfVE9fTEVGVCA9IDM7XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3Rpb25SZWdpb24gdXRpbGl0eSBjbGFzcyB3aGljaCBwcm92aWRlcyBtZXRhZGF0YSBhYm91dCB0aGUgc2VsZWN0aW9uLiBUaGUgbWV0YWRhdGEgbWF5IGJlIHRoZSBzdGFydCBhbmQgZW5kXG4gICAgICogcmVjdGFuZ2xlcywgY2FyZXQgcmVnaW9uLCBldGMuICoqVGhpcyBjbGFzcyBpcyBub3QgaW50ZW5kZWQgdG8gYmUgdXNlZCBzdGFuZGFsb25lLiBJdHMgZnVuY3Rpb25zIHdpbGxcbiAgICAgKiBiZSBtZXJnZWQgaW50byBlYWNoIGVkaXRvciBpbnN0YW5jZSwgc28gdGhlIGRldmVsb3BlciBtYXkgdXNlIHRoZW0gZGlyZWN0bHkgdmlhIHRoZSBlZGl0b3IsIHdpdGhvdXQgbWFraW5nXG4gICAgICogYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyoqLlxuICAgICAqXG4gICAgICogQGNsYXNzIFNlbGVjdGlvblJlZ2lvblxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNlbGVjdGlvblJlZ2lvbigpIHt9XG5cbiAgICBTZWxlY3Rpb25SZWdpb24ucHJvdG90eXBlID0ge1xuICAgICAgICBjb25zdHJ1Y3RvcjogU2VsZWN0aW9uUmVnaW9uLFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIHNlbGVjdGlvbiBmcm9tIHR3byBwb2ludHMgaW4gcGFnZSBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cbiAgICAgICAgICogQG1ldGhvZCBjcmVhdGVTZWxlY3Rpb25Gcm9tUG9pbnRcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHggWCBwb2ludCBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geSBZIHBvaW50IGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVTZWxlY3Rpb25Gcm9tUG9pbnQ6IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VsZWN0aW9uRnJvbVJhbmdlKHgsIHksIHgsIHkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIHNlbGVjdGlvbiBmcm9tIHJhbmdlLiBBIHJhbmdlIGNvbnNpc3RzIGZyb20gdHdvIHBvaW50cyBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuICAgICAgICAgKiBAbWV0aG9kIGNyZWF0ZVNlbGVjdGlvbkZyb21SYW5nZVxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRYIFggY29vcmRpbmF0ZSBvZiB0aGUgZmlyc3QgcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFkgWSBjb29yZGluYXRlIG9mIHRoZSBmaXJzdCBwb2ludC5cbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGVuZFggWCBjb29yZGluYXRlIG9mIHRoZSBzZWNvbmQgcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmRZIFkgY29vcmRpbmF0ZSBvZiB0aGUgc2Vjb25kIHBvaW50LlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlU2VsZWN0aW9uRnJvbVJhbmdlOiBmdW5jdGlvbihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuICAgICAgICAgICAgdmFyIGVuZDtcbiAgICAgICAgICAgIHZhciBlbmRDb250YWluZXI7XG4gICAgICAgICAgICB2YXIgZW5kT2Zmc2V0O1xuICAgICAgICAgICAgdmFyIHJhbmdlO1xuICAgICAgICAgICAgdmFyIHN0YXJ0O1xuICAgICAgICAgICAgdmFyIHN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgdmFyIHN0YXJ0T2Zmc2V0O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGRvY3VtZW50LmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoZW5kWCwgZW5kWSk7XG5cbiAgICAgICAgICAgICAgICBzdGFydENvbnRhaW5lciA9IHN0YXJ0Lm9mZnNldE5vZGU7XG4gICAgICAgICAgICAgICAgZW5kQ29udGFpbmVyID0gZW5kLm9mZnNldE5vZGU7XG5cbiAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IHN0YXJ0Lm9mZnNldDtcbiAgICAgICAgICAgICAgICBlbmRPZmZzZXQgPSBlbmQub2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSBkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KHN0YXJ0WCwgc3RhcnRZKTtcbiAgICAgICAgICAgICAgICBlbmQgPSBkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KGVuZFgsIGVuZFkpO1xuXG4gICAgICAgICAgICAgICAgc3RhcnRDb250YWluZXIgPSBzdGFydC5zdGFydENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICBlbmRDb250YWluZXIgPSBlbmQuc3RhcnRDb250YWluZXI7XG5cbiAgICAgICAgICAgICAgICBzdGFydE9mZnNldCA9IHN0YXJ0LnN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgICAgIGVuZE9mZnNldCA9IGVuZC5zdGFydE9mZnNldDtcblxuICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmFuZ2UgJiYgZG9jdW1lbnQuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobmV3IENLRURJVE9SLmRvbS5ub2RlKHN0YXJ0Q29udGFpbmVyKSwgc3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZW5kQ29udGFpbmVyKSwgZW5kT2Zmc2V0KTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtyYW5nZV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi51bmxvY2soKTtcblxuICAgICAgICAgICAgICAgIHJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgICAgICByYW5nZS5tb3ZlVG9Qb2ludChzdGFydFgsIHN0YXJ0WSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZW5kUmFuZ2UgPSByYW5nZS5kdXBsaWNhdGUoKTtcbiAgICAgICAgICAgICAgICBlbmRSYW5nZS5tb3ZlVG9Qb2ludChlbmRYLCBlbmRZKTtcblxuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZFBvaW50KCdFbmRUb0VuZCcsIGVuZFJhbmdlKTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2VsZWN0aW9uKCkubG9jaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSByZWdpb24gb2YgdGhlIGN1cnJlbnQgcG9zaXRpb24gb2YgdGhlIGNhcmV0LiBUaGUgcG9pbnRzIGFyZSBpbiBwYWdlIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuICAgICAgICAgKiBAbWV0aG9kIGdldENhcmV0UmVnaW9uXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICAgICAqIC0gYm90dG9tXG4gICAgICAgICAqIC0gbGVmdFxuICAgICAgICAgKiAtIHJpZ2h0XG4gICAgICAgICAqIC0gdG9wXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDYXJldFJlZ2lvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgdmFyIHJlZ2lvbiA9IHtcbiAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IDBcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHZhciBib29rbWFya3MgPSBzZWxlY3Rpb24uY3JlYXRlQm9va21hcmtzKCk7XG5cbiAgICAgICAgICAgIGlmICghYm9va21hcmtzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWdpb247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBib29rbWFya05vZGVFbCA9IGJvb2ttYXJrc1swXS5zdGFydE5vZGUuJDtcblxuICAgICAgICAgICAgYm9va21hcmtOb2RlRWwuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuXG4gICAgICAgICAgICByZWdpb24gPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYm9va21hcmtOb2RlRWwpLmdldENsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgYm9va21hcmtOb2RlRWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChib29rbWFya05vZGVFbCk7XG5cbiAgICAgICAgICAgIHZhciBzY3JvbGxQb3MgPSBuZXcgQ0tFRElUT1IuZG9tLndpbmRvdyh3aW5kb3cpLmdldFNjcm9sbFBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgIHJlZ2lvbi5ib3R0b20gPSBzY3JvbGxQb3MueSArIHJlZ2lvbi5ib3R0b207XG4gICAgICAgICAgICByZWdpb24ubGVmdCA9IHNjcm9sbFBvcy54ICsgcmVnaW9uLmxlZnQ7XG4gICAgICAgICAgICByZWdpb24ucmlnaHQgPSBzY3JvbGxQb3MueCArIHJlZ2lvbi5yaWdodDtcbiAgICAgICAgICAgIHJlZ2lvbi50b3AgPSBzY3JvbGxQb3MueSArIHJlZ2lvbi50b3A7XG5cbiAgICAgICAgICAgIHJldHVybiByZWdpb247XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgZGF0YSBmb3IgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIFNlbGVjdGlvblJlZ2lvblxuICAgICAgICAgKiBAbWV0aG9kIGdldFNlbGVjdGlvbkRhdGFcbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fG51bGx9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBkYXRhOlxuICAgICAgICAgKiAtIGVsZW1lbnQgLSBUaGUgY3VycmVudGx5IHNlbGVjdGVkIGVsZW1lbnQsIGlmIGFueVxuICAgICAgICAgKiAtIHRleHQgLSBUaGUgc2VsZWN0ZWQgdGV4dFxuICAgICAgICAgKiAtIHJlZ2lvbiAtIFRoZSBkYXRhLCByZXR1cm5lZCBmcm9tIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfc2VsZWN0aW9ucmVnaW9uL2dldFNlbGVjdGlvblJlZ2lvbjptZXRob2RcIn19e3svY3Jvc3NMaW5rfX1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGlvbkRhdGE6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIGlmICghc2VsZWN0aW9uLmdldE5hdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudDogc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpLFxuICAgICAgICAgICAgICAgIHRleHQ6IHNlbGVjdGlvbi5nZXRTZWxlY3RlZFRleHQoKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVzdWx0LnJlZ2lvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uUmVnaW9uKHNlbGVjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHJlZ2lvbiBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG4gICAgICAgICAqIEBtZXRob2QgZ2V0U2VsZWN0aW9uUmVnaW9uXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gUmV0dXJucyBvYmplY3Qgd2hpY2ggaXMgYmVpbmcgcmV0dXJuZWQgZnJvbVxuICAgICAgICAgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX3NlbGVjdGlvbnJlZ2lvbi9nZXRDbGllbnRSZWN0c1JlZ2lvbjptZXRob2RcIn19e3svY3Jvc3NMaW5rfX0gd2l0aCB0aHJlZSBtb3JlIHByb3BlcnRpZXM6XG4gICAgICAgICAqIC0gZGlyZWN0aW9uIC0gdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLiBDYW4gYmUgb25lIG9mIHRoZXNlOlxuICAgICAgICAgKiAgIDEuIENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NXG4gICAgICAgICAqICAgMi4gQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1BcbiAgICAgICAgICogLSBoZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSBzZWxlY3Rpb24gcmVnaW9uXG4gICAgICAgICAqIC0gd2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHNlbGVjdGlvbiByZWdpb25cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGlvblJlZ2lvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmVnaW9uID0gdGhpcy5nZXRDbGllbnRSZWN0c1JlZ2lvbigpO1xuXG4gICAgICAgICAgICByZWdpb24uZGlyZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25EaXJlY3Rpb24oKTtcblxuICAgICAgICAgICAgcmVnaW9uLmhlaWdodCA9IHJlZ2lvbi5ib3R0b20gLSByZWdpb24udG9wO1xuICAgICAgICAgICAgcmVnaW9uLndpZHRoID0gcmVnaW9uLnJpZ2h0IC0gcmVnaW9uLmxlZnQ7XG5cbiAgICAgICAgICAgIHJldHVybiByZWdpb247XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgZW1wdHksIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cbiAgICAgICAgICogQG1ldGhvZCBpc1NlbGVjdGlvbkVtcHR5XG4gICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gaXMgZW1wdHksIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG4gICAgICAgIGlzU2VsZWN0aW9uRW1wdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlcztcblxuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgICAgICAgIHJldHVybiAoc2VsZWN0aW9uLmdldFR5cGUoKSA9PT0gQ0tFRElUT1IuU0VMRUNUSU9OX05PTkUpIHx8XG4gICAgICAgICAgICAgICAgKChyYW5nZXMgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKCkpICYmIHJhbmdlcy5sZW5ndGggPT09IDEgJiYgcmFuZ2VzWzBdLmNvbGxhcHNlZCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgb2JqZWN0IHdpdGggZGF0YSBhYm91dCB0aGUgW2NsaWVudCByZWN0YW5nbGVzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRWxlbWVudC5nZXRDbGllbnRSZWN0cykgb2YgdGhlIHNlbGVjdGlvbixcbiAgICAgICAgICogbm9ybWFsaXplZCBhY3Jvc3MgYnJvd3Nlcy4gQWxsIG9mZnNldHMgYmVsb3cgYXJlIGluIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgU2VsZWN0aW9uUmVnaW9uXG4gICAgICAgICAqIEBtZXRob2QgZ2V0Q2xpZW50UmVjdHNSZWdpb25cbiAgICAgICAgICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgZGF0YTpcbiAgICAgICAgICogLSBib3R0b20gLSBib3R0b20gb2Zmc2V0IG9mIGFsbCBjbGllbnQgcmVjdGFuZ2xlc1xuICAgICAgICAgKiAtIGxlZnQgLSBsZWZ0IG9mZnNldCBvZiBhbGwgY2xpZW50IHJlY3RhbmdsZXNcbiAgICAgICAgICogLSByaWdodCAtIHJpZ2h0IG9mZnNldCBvZiBhbGwgY2xpZW50IHJlY3RhbmdsZXNcbiAgICAgICAgICogLSB0b3AgLSB0b3Agb2Zmc2V0IG9mIGFsbCBjbGllbnQgcmVjdGFuZ2xlc1xuICAgICAgICAgKiAtIHN0YXJ0UmVjdCAtIEFuIE9iamVjdCwgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjpcbiAgICAgICAgICogICAgICsgYm90dG9tIC0gYm90dG9tIG9mZnNldFxuICAgICAgICAgKiAgICAgKyBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICogICAgICsgbGVmdCAtIGxlZnQgb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICogICAgICsgcmlnaHQgLSByaWdodCBvZmZzZXQgb2YgdGhlIHNlbGVjdGlvblxuICAgICAgICAgKiAgICAgKyB0b3AgLSB0b3Agb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICogICAgICsgd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZVxuICAgICAgICAgKiAtIGVuZFJlY3QgLSBBbiBPYmplY3QsIHdoaWNoIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb246XG4gICAgICAgICAqICAgICArIGJvdHRvbSAtIGJvdHRvbSBvZmZzZXRcbiAgICAgICAgICogICAgICsgaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICAgICAqICAgICArIGxlZnQgLSBsZWZ0IG9mZnNldCBvZiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAqICAgICArIHJpZ2h0IC0gcmlnaHQgb2Zmc2V0IG9mIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICogICAgICsgdG9wIC0gdG9wIG9mZnNldCBvZiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAqICAgICArIHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlcmUgaXMgbm8gbmF0aXZlIHNlbGVjdGlvbiwgdGhlIG9iamVjdHMgd2lsbCBiZSBmaWxsZWQgd2l0aCAwLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q2xpZW50UmVjdHNSZWdpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbiA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgbmF0aXZlU2VsZWN0aW9uID0gc2VsZWN0aW9uLmdldE5hdGl2ZSgpO1xuXG4gICAgICAgICAgICB2YXIgZGVmYXVsdFJlY3QgPSB7XG4gICAgICAgICAgICAgICAgYm90dG9tOiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIHJlZ2lvbiA9IHtcbiAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgZW5kUmVjdDogZGVmYXVsdFJlY3QsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgc3RhcnRSZWN0OiBkZWZhdWx0UmVjdFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKCFuYXRpdmVTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVnaW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYm90dG9tID0gMDtcbiAgICAgICAgICAgIHZhciBjbGllbnRSZWN0cztcbiAgICAgICAgICAgIHZhciBsZWZ0ID0gSW5maW5pdHk7XG4gICAgICAgICAgICB2YXIgcmFuZ2VDb3VudDtcbiAgICAgICAgICAgIHZhciByaWdodCA9IC1JbmZpbml0eTtcbiAgICAgICAgICAgIHZhciB0b3AgPSBJbmZpbml0eTtcblxuICAgICAgICAgICAgaWYgKG5hdGl2ZVNlbGVjdGlvbi5jcmVhdGVSYW5nZSkge1xuICAgICAgICAgICAgICAgIGNsaWVudFJlY3RzID0gbmF0aXZlU2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2VDb3VudCA9IG5hdGl2ZVNlbGVjdGlvbi5yYW5nZUNvdW50O1xuICAgICAgICAgICAgICAgIGNsaWVudFJlY3RzID0gKG5hdGl2ZVNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMCkgPyBuYXRpdmVTZWxlY3Rpb24uZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpIDogW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjbGllbnRSZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZWdpb24gPSB0aGlzLmdldENhcmV0UmVnaW9uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBjbGllbnRSZWN0cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGNsaWVudFJlY3RzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmxlZnQgPCBsZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gaXRlbS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucmlnaHQgPiByaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBpdGVtLnJpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9wIDwgdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgPSBpdGVtLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmJvdHRvbSA+IGJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0gaXRlbS5ib3R0b207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsUG9zID0gbmV3IENLRURJVE9SLmRvbS53aW5kb3cod2luZG93KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgcmVnaW9uLmJvdHRvbSA9IHNjcm9sbFBvcy55ICsgYm90dG9tO1xuICAgICAgICAgICAgICAgIHJlZ2lvbi5sZWZ0ID0gc2Nyb2xsUG9zLnggKyBsZWZ0O1xuICAgICAgICAgICAgICAgIHJlZ2lvbi5yaWdodCA9IHNjcm9sbFBvcy54ICsgcmlnaHQ7XG4gICAgICAgICAgICAgICAgcmVnaW9uLnRvcCA9IHNjcm9sbFBvcy55ICsgdG9wO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNsaWVudFJlY3RzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kUmVjdCA9IGNsaWVudFJlY3RzW2NsaWVudFJlY3RzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRSZWN0ID0gY2xpZW50UmVjdHNbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVnaW9uLmVuZFJlY3QgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IHNjcm9sbFBvcy55ICsgZW5kUmVjdC5ib3R0b20sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVuZFJlY3QuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogc2Nyb2xsUG9zLnggKyBlbmRSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogc2Nyb2xsUG9zLnggKyBlbmRSZWN0LnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBzY3JvbGxQb3MueSArIGVuZFJlY3QudG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVuZFJlY3Qud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZWdpb24uc3RhcnRSZWN0ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBzY3JvbGxQb3MueSArIHN0YXJ0UmVjdC5ib3R0b20sXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHN0YXJ0UmVjdC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBzY3JvbGxQb3MueCArIHN0YXJ0UmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IHNjcm9sbFBvcy54ICsgc3RhcnRSZWN0LnJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBzY3JvbGxQb3MueSArIHN0YXJ0UmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogc3RhcnRSZWN0LndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVnaW9uO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2VsZWN0aW9uLiBUaGUgZGlyZWN0aW9uIGlzIGZyb20gdG9wIHRvIGJvdHRvbSBvciBmcm9tIGJvdHRvbSB0byB0b3AuXG4gICAgICAgICAqIEZvciBJRSA8IDkgaXQgaXMgbm90IHBvc3NpYmxlLCBzbyB0aGUgZGlyZWN0aW9uIGZvciB0aGVzZSBicm93c2VycyB3aWxsIGJlIGFsd2F5cyBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBTZWxlY3Rpb25SZWdpb25cbiAgICAgICAgICogQG1ldGhvZCBnZXRTZWxlY3Rpb25EaXJlY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7TnVtYmVyfSBSZXR1cm5zIGEgbnVtYmVyIHdoaWNoIHJlcHJlc2VudHMgc2VsZWN0aW9uIGRpcmVjdGlvbi4gSXQgbWlnaHQgYmUgb25lIG9mIHRoZXNlOlxuICAgICAgICAgKiAtIENLRURJVE9SLlNFTEVDVElPTl9UT1BfVE9fQk9UVE9NO1xuICAgICAgICAgKiAtIENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QO1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2VsZWN0aW9uRGlyZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSBDS0VESVRPUi5TRUxFQ1RJT05fVE9QX1RPX0JPVFRPTTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIG5hdGl2ZVNlbGVjdGlvbiA9IHNlbGVjdGlvbi5nZXROYXRpdmUoKTtcblxuICAgICAgICAgICAgaWYgKCFuYXRpdmVTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyZWN0aW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYW5jaG9yTm9kZTtcblxuICAgICAgICAgICAgaWYgKChhbmNob3JOb2RlID0gbmF0aXZlU2VsZWN0aW9uLmFuY2hvck5vZGUpICYmIGFuY2hvck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBhbmNob3JOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKG5hdGl2ZVNlbGVjdGlvbi5mb2N1c05vZGUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvbiAmJiBuYXRpdmVTZWxlY3Rpb24uYW5jaG9yT2Zmc2V0ID4gbmF0aXZlU2VsZWN0aW9uLmZvY3VzT2Zmc2V0IHx8IHBvc2l0aW9uID09PSBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORykge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBDS0VESVRPUi5TRUxFQ1RJT05fQk9UVE9NX1RPX1RPUDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBkaXJlY3Rpb247XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoXG4gICAgICAgICdhZV9zZWxlY3Rpb25yZWdpb24nLCB7XG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0cixcbiAgICAgICAgICAgICAgICAgICAgaGFzT3duUHJvcGVydHk7XG5cbiAgICAgICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGF0dHIgaW4gU2VsZWN0aW9uUmVnaW9uLnByb3RvdHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChTZWxlY3Rpb25SZWdpb24ucHJvdG90eXBlLCBhdHRyKSAmJiB0eXBlb2YgZWRpdG9yW2F0dHJdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yW2F0dHJdID0gU2VsZWN0aW9uUmVnaW9uLnByb3RvdHlwZVthdHRyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgSUVfTk9OX0RJUkVDVExZX0VESVRBQkxFX0VMRU1FTlQgPSB7XG4gICAgICAgICd0YWJsZSc6IDEsXG4gICAgICAgICdjb2wnOiAxLFxuICAgICAgICAnY29sZ3JvdXAnOiAxLFxuICAgICAgICAndGJvZHknOiAxLFxuICAgICAgICAndGQnOiAxLFxuICAgICAgICAndGZvb3QnOiAxLFxuICAgICAgICAndGgnOiAxLFxuICAgICAgICAndGhlYWQnOiAxLFxuICAgICAgICAndHInOiAxXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRhYmxlIGNsYXNzIHV0aWxpdHkuIFByb3ZpZGVzIG1ldGhvZHMgZm9yIGNyZWF0ZSwgZGVsZXRlIGFuZCB1cGRhdGUgdGFibGVzLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLlRhYmxlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgQ0tFZGl0b3IgaW5zdGFuY2UuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBUYWJsZShlZGl0b3IpIHtcbiAgICAgICAgdGhpcy5fZWRpdG9yID0gZWRpdG9yO1xuICAgIH1cblxuICAgIFRhYmxlLkhFQURJTkdfQk9USCA9ICdCb3RoJztcbiAgICBUYWJsZS5IRUFESU5HX0NPTCA9ICdDb2x1bW4nO1xuICAgIFRhYmxlLkhFQURJTkdfTk9ORSA9ICdOb25lJztcbiAgICBUYWJsZS5IRUFESU5HX1JPVyA9ICdSb3cnO1xuXG4gICAgVGFibGUucHJvdG90eXBlID0ge1xuICAgICAgICBjb25zdHJ1Y3RvcjogVGFibGUsXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSB0YWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuICAgICAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRhYmxlIGNvbmZpZ3VyYXRpb24gb2JqZWN0XG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIGNyZWF0ZWQgdGFibGVcbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24oY29uZmlnKSB7XG4gICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5fZWRpdG9yO1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gdGhpcy5fY3JlYXRlRWxlbWVudCgndGFibGUnKTtcblxuICAgICAgICAgICAgY29uZmlnID0gY29uZmlnIHx8wqB7fTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgdGhlIHJvd3MgYW5kIGNvbHMuXG4gICAgICAgICAgICB2YXIgdGJvZHkgPSB0YWJsZS5hcHBlbmQodGhpcy5fY3JlYXRlRWxlbWVudCgndGJvZHknKSk7XG4gICAgICAgICAgICB2YXIgcm93cyA9IGNvbmZpZy5yb3dzIHx8IDE7XG4gICAgICAgICAgICB2YXIgY29scyA9IGNvbmZpZy5jb2xzIHx8IDE7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcm93czsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJvdyA9IHRib2R5LmFwcGVuZCh0aGlzLl9jcmVhdGVFbGVtZW50KCd0cicpKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbHM7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHJvdy5hcHBlbmQodGhpcy5fY3JlYXRlRWxlbWVudCgndGQnKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2VsbC5hcHBlbmRCb2d1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKHRhYmxlLCBjb25maWcuYXR0cnMpO1xuICAgICAgICAgICAgdGhpcy5zZXRIZWFkaW5nKHRhYmxlLCBjb25maWcuaGVhZGluZyk7XG5cbiAgICAgICAgICAgIC8vIEluc2VydCB0aGUgdGFibGUgZWxlbWVudCBpZiB3ZSdyZSBjcmVhdGluZyBvbmUuXG4gICAgICAgICAgICBlZGl0b3IuaW5zZXJ0RWxlbWVudCh0YWJsZSk7XG5cbiAgICAgICAgICAgIHZhciBmaXJzdENlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGFibGUuJC5yb3dzWzBdLmNlbGxzWzBdKTtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgcmFuZ2UubW92ZVRvUG9zaXRpb24oZmlyc3RDZWxsLCBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7XG4gICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRhYmxlO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgYSB0YWJsZSBmcm9tIHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuICAgICAgICAgKiBAbWV0aG9kIGdldEZyb21TZWxlY3Rpb25cbiAgICAgICAgICogQHJldHVybiB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IFRoZSByZXRyaWV2ZWQgdGFibGUgb3IgbnVsbCBpZiBub3QgZm91bmQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGcm9tU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0YWJsZTtcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLl9lZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZCAmJiBzZWxlY3RlZC5pcygndGFibGUnKSkge1xuICAgICAgICAgICAgICAgIHRhYmxlID0gc2VsZWN0ZWQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZXMgPSBzZWxlY3Rpb24uZ2V0UmFuZ2VzKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Via2l0IGNvdWxkIHJlcG9ydCB0aGUgZm9sbG93aW5nIHJhbmdlIG9uIGNlbGwgc2VsZWN0aW9uICgjNDk0OCk6XG4gICAgICAgICAgICAgICAgICAgIC8vIDx0YWJsZT48dHI+PHRkPlsmbmJzcDs8L3RkPjwvdHI+PC90YWJsZT5dXG5cbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKENLRURJVE9SLmVudi53ZWJraXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlc1swXS5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlID0gdGhpcy5fZWRpdG9yLmVsZW1lbnRQYXRoKHJhbmdlc1swXS5nZXRDb21tb25BbmNlc3Rvcih0cnVlKSkuY29udGFpbnMoJ3RhYmxlJywgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdGFibGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrcyBpZiBhIGdpdmVuIHRhYmxlIGNhbiBiZSBjb25zaWRlcmVkIGFzIGVkaXRhYmxlLiBUaGlzIG1ldGhvZFxuICAgICAgICAgKiB3b3JrYXJvdW5kcyBhIGxpbWl0YXRpb24gb2YgSUUgd2hlcmUgZm9yIHNvbWUgZWxlbWVudHMgKGxpa2UgdGFibGUpLFxuICAgICAgICAgKiBgaXNDb250ZW50RWRpdGFibGVgIHJldHVybnMgYWx3YXlzIGZhbHNlLiBUaGlzIGlzIGJlY2F1c2UgSUUgZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAgKiBgY29udGVudGVkaXRhYmxlYCBvbiBzdWNoIGVsZW1lbnRzLiBIb3dldmVyLCBkZXNwaXRlIHN1Y2ggZWxlbWVudHNcbiAgICAgICAgICogY2Fubm90IGJlIHNldCBhcyBjb250ZW50IGVkaXRhYmxlIGRpcmVjdGx5LCBhIGNvbnRlbnQgZWRpdGFibGUgU1BBTixcbiAgICAgICAgICogb3IgRElWIGVsZW1lbnQgY2FuIGJlIHBsYWNlZCBpbnNpZGUgdGhlIGluZGl2aWR1YWwgdGFibGUgY2VsbHMuXG4gICAgICAgICAqIFNlZSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM3ODM3JTI4dj1WUy44NSUyOS5hc3B4XG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQG1ldGhvZCBpc0VkaXRhYmxlXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVsIFRoZSB0YWJsZSBlbGVtZW50IHRvIHRlc3QgaWYgZWRpdGFibGVcbiAgICAgICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGlzRWRpdGFibGU6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgaWYgKCFDS0VESVRPUi5lbnYuaWUgfHwgIWVsLmlzKElFX05PTl9ESVJFQ1RMWV9FRElUQUJMRV9FTEVNRU5UKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhZWwuaXNSZWFkT25seSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZWwuaGFzQXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoZWwuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSAhPT0gJ2ZhbHNlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzRWRpdGFibGUoZWwuZ2V0UGFyZW50KCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHdoaWNoIGhlYWRpbmcgc3R5bGUgaXMgc2V0IGZvciB0aGUgZ2l2ZW4gdGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQG1ldGhvZCBnZXRIZWFkaW5nXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IHRhYmxlIFRoZSB0YWJsZSB0byBnYXRoZXIgdGhlIGhlYWRpbmcgZnJvbS4gSWYgbnVsbCwgaXQgd2lsbCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGhlYWRpbmcgb2YgdGhlIHRhYmxlLiBFeHBlY3RlZCB2YWx1ZXMgYXJlIGBDS0VESVRPUi5UYWJsZS5OT05FYCwgYENLRURJVE9SLlRhYmxlLlJPV2AsIGBDS0VESVRPUi5UYWJsZS5DT0xgIGFuZCBgQ0tFRElUT1IuVGFibGUuQk9USGAuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIZWFkaW5nOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgICAgICAgdGFibGUgPSB0YWJsZSB8fCB0aGlzLmdldEZyb21TZWxlY3Rpb24oKTtcblxuICAgICAgICAgICAgaWYgKCF0YWJsZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcm93SGVhZGluZ1NldHRpbmdzID0gdGFibGUuJC50SGVhZCAhPT0gbnVsbDtcblxuICAgICAgICAgICAgdmFyIGNvbEhlYWRpbmdTZXR0aW5ncyA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFsbCBvZiB0aGUgZmlyc3QgY2VsbHMgaW4gZXZlcnkgcm93IGFyZSBUSFxuICAgICAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgdGFibGUuJC5yb3dzLmxlbmd0aDsgcm93KyspIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBqdXN0IG9uZSBjZWxsIGlzbid0IGEgVEggdGhlbiBpdCBpc24ndCBhIGhlYWRlciBjb2x1bW5cbiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHRhYmxlLiQucm93c1tyb3ddLmNlbGxzWzBdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndGgnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbEhlYWRpbmdTZXR0aW5ncyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBoZWFkaW5nU2V0dGluZ3MgPSBUYWJsZS5IRUFESU5HX05PTkU7XG5cbiAgICAgICAgICAgIGlmIChyb3dIZWFkaW5nU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBoZWFkaW5nU2V0dGluZ3MgPSBUYWJsZS5IRUFESU5HX1JPVztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbEhlYWRpbmdTZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIGhlYWRpbmdTZXR0aW5ncyA9IChoZWFkaW5nU2V0dGluZ3MgPT09IFRhYmxlLkhFQURJTkdfUk9XID8gVGFibGUuSEVBRElOR19CT1RIIDogVGFibGUuSEVBRElOR19DT0wpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaGVhZGluZ1NldHRpbmdzO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGEgdGFibGUgZnJvbSB0aGUgZWRpdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLlRhYmxlXG4gICAgICAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IHRhYmxlIFRoZSB0YWJsZSBlbGVtZW50IHdoaWNoIHRhYmxlIHN0eWxlIHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbih0YWJsZSkge1xuICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuX2VkaXRvcjtcblxuICAgICAgICAgICAgaWYgKHRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRhYmxlID0gZWRpdG9yLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoJ3RhYmxlJywgMSk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHRhYmxlJ3MgcGFyZW50IGhhcyBvbmx5IG9uZSBjaGlsZCByZW1vdmUgaXQgYXMgd2VsbCAodW5sZXNzIGl0J3MgYSB0YWJsZSBjZWxsLCBvciB0aGUgZWRpdGFibGUgZWxlbWVudCkgKCM1NDE2LCAjNjI4OSwgIzEyMTEwKVxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGFibGUuZ2V0UGFyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuZ2V0Q2hpbGRDb3VudCgpID09PSAxICYmICFwYXJlbnQuaXMoJ3RkJywgJ3RoJykgJiYgIXBhcmVudC5lcXVhbHMoZWRpdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlVG9Qb3NpdGlvbih0YWJsZSwgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtcbiAgICAgICAgICAgICAgICAgICAgdGFibGUucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQXNzaWducyBwcm92aWRlZCBhdHRyaWJ1dGVzIHRvIGEgdGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IuVGFibGVcbiAgICAgICAgICogQG1ldGhvZCBzZXRBdHRyaWJ1dGVzXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YWJsZSBUaGUgdGFibGUgdG8gd2hpY2ggdGhlIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIGFzc2lnbmVkXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRycyBUaGUgYXR0cmlidXRlcyB3aGljaCBoYXZlIHRvIGJlIGFzc2lnbmVkIHRvIHRoZSB0YWJsZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0QXR0cmlidXRlczogZnVuY3Rpb24odGFibGUsIGF0dHJzKSB7XG4gICAgICAgICAgICBpZiAoYXR0cnMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbihhdHRyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyc1thdHRyXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGFwcHJvcHJpYXRlIHRhYmxlIGhlYWRpbmcgc3R5bGUgdG8gYSB0YWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuICAgICAgICAgKiBAbWV0aG9kIHNldEhlYWRpbmdcbiAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gdGFibGUgVGhlIHRhYmxlIGVsZW1lbnQgdG8gd2hpY2ggdGhlIGhlYWRpbmcgc2hvdWxkIGJlIHNldC4gSWYgbnVsbCwgaXQgd2lsbCBiZSByZXRyaWV2ZWQgZnJvbSB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBoZWFkaW5nIFRoZSB0YWJsZSBoZWFkaW5nIHRvIGJlIHNldC4gQWNjZXB0ZWQgdmFsdWVzIGFyZTogYENLRURJVE9SLlRhYmxlLk5PTkVgLCBgQ0tFRElUT1IuVGFibGUuUk9XYCwgYENLRURJVE9SLlRhYmxlLkNPTGAgYW5kIGBDS0VESVRPUi5UYWJsZS5CT1RIYC5cbiAgICAgICAgICovXG4gICAgICAgIHNldEhlYWRpbmc6IGZ1bmN0aW9uKHRhYmxlLCBoZWFkaW5nKSB7XG4gICAgICAgICAgICB0YWJsZSA9IHRhYmxlIHx8IHRoaXMuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICB2YXIgaSwgbmV3Q2VsbDtcbiAgICAgICAgICAgIHZhciB0YWJsZUhlYWQ7XG4gICAgICAgICAgICB2YXIgdGFibGVCb2R5ID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZygndGJvZHknKS5nZXRJdGVtKDApO1xuXG4gICAgICAgICAgICB2YXIgdGFibGVIZWFkaW5nID0gdGhpcy5nZXRIZWFkaW5nKHRhYmxlKTtcbiAgICAgICAgICAgIHZhciBoYWRDb2xIZWFkaW5nID0gKHRhYmxlSGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19DT0wgfHwgdGFibGVIZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0JPVEgpO1xuXG4gICAgICAgICAgICB2YXIgbmVlZENvbEhlYWRpbmcgPSBoZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0NPTCB8fCBoZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0JPVEg7XG4gICAgICAgICAgICB2YXIgbmVlZFJvd0hlYWRpbmcgPSBoZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX1JPVyB8fCBoZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0JPVEg7XG5cbiAgICAgICAgICAgIC8vIElmIHdlIG5lZWQgcm93IGhlYWRpbmcgYW5kIGRvbid0IGhhdmUgYSA8dGhlYWQ+IGVsZW1lbnQgeWV0LCBtb3ZlIHRoZVxuICAgICAgICAgICAgLy8gZmlyc3Qgcm93IG9mIHRoZSB0YWJsZSB0byB0aGUgaGVhZCBhbmQgY29udmVydCB0aGUgbm9kZXMgdG8gPHRoPiBvbmVzLlxuICAgICAgICAgICAgaWYgKCF0YWJsZS4kLnRIZWFkICYmIG5lZWRSb3dIZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlRmlyc3RSb3cgPSB0YWJsZUJvZHkuZ2V0RWxlbWVudHNCeVRhZygndHInKS5nZXRJdGVtKDApO1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZUZpcnN0Um93Q2hpbGRDb3VudCA9IHRhYmxlRmlyc3RSb3cuZ2V0Q2hpbGRDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIFREIHRvIFRIOlxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWJsZUZpcnN0Um93Q2hpbGRDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdGFibGVGaXJzdFJvdy5nZXRDaGlsZChpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJvb2ttYXJrIG5vZGVzLiAoIzYxNTUpXG4gICAgICAgICAgICAgICAgICAgIGlmIChjZWxsLnR5cGUgPT09IENLRURJVE9SLk5PREVfRUxFTUVOVCAmJiAhY2VsbC5kYXRhKCdja2UtYm9va21hcmsnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW5hbWVOb2RlKCd0aCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoJ3Njb3BlJywgJ2NvbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGFibGVIZWFkID0gdGhpcy5fY3JlYXRlRWxlbWVudCh0YWJsZS4kLmNyZWF0ZVRIZWFkKCkpO1xuICAgICAgICAgICAgICAgIHRhYmxlSGVhZC5hcHBlbmQodGFibGVGaXJzdFJvdy5yZW1vdmUoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IG5lZWQgcm93IGhlYWRpbmcgYW5kIHdlIGhhdmUgYSA8dGhlYWQ+IGVsZW1lbnQsIG1vdmUgdGhlXG4gICAgICAgICAgICAvLyByb3cgb3V0IG9mIHRoZXJlIGFuZCBpbnRvIHRoZSA8dGJvZHk+IGVsZW1lbnQuXG4gICAgICAgICAgICBpZiAodGFibGUuJC50SGVhZCAhPT0gbnVsbCAmJiAhbmVlZFJvd0hlYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBNb3ZlIHRoZSByb3cgb3V0IG9mIHRoZSBUSGVhZCBhbmQgcHV0IGl0IGluIHRoZSBUQm9keTpcbiAgICAgICAgICAgICAgICB0YWJsZUhlYWQgPSB0aGlzLl9jcmVhdGVFbGVtZW50KHRhYmxlLiQudEhlYWQpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzRmlyc3RSb3cgPSB0YWJsZUJvZHkuZ2V0Rmlyc3QoKTtcblxuICAgICAgICAgICAgICAgIHdoaWxlICh0YWJsZUhlYWQuZ2V0Q2hpbGRDb3VudCgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3Rmlyc3RSb3cgPSB0YWJsZUhlYWQuZ2V0Rmlyc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ZpcnN0Um93Q2hpbGRDb3VudCA9IG5ld0ZpcnN0Um93LmdldENoaWxkQ291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3Rmlyc3RSb3dDaGlsZENvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwgPSBuZXdGaXJzdFJvdy5nZXRDaGlsZChpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NlbGwudHlwZSA9PT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VsbC5yZW5hbWVOb2RlKCd0ZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwucmVtb3ZlQXR0cmlidXRlKCdzY29wZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3Rmlyc3RSb3cuaW5zZXJ0QmVmb3JlKHByZXZpb3VzRmlyc3RSb3cpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRhYmxlSGVhZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGFibGVIZWFkaW5nID0gdGhpcy5nZXRIZWFkaW5nKHRhYmxlKTtcbiAgICAgICAgICAgIHZhciBoYXNDb2xIZWFkaW5nID0gKHRhYmxlSGVhZGluZyA9PT0gVGFibGUuSEVBRElOR19DT0wgfHwgdGFibGVIZWFkaW5nID09PSBUYWJsZS5IRUFESU5HX0JPVEgpO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBuZWVkIGNvbHVtbiBoZWFkaW5nIGFuZCB0aGUgdGFibGUgZG9lc24ndCBoYXZlIGl0LCBjb252ZXJ0IGV2ZXJ5IGZpcnN0IGNlbGwgaW5cbiAgICAgICAgICAgIC8vIGV2ZXJ5IHJvdyBpbnRvIGEgYDx0aCBzY29wZT1cInJvd1wiPmAgZWxlbWVudC5cbiAgICAgICAgICAgIGlmICghaGFzQ29sSGVhZGluZyAmJiBuZWVkQ29sSGVhZGluZykge1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0YWJsZS4kLnJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlLiQucm93c1tpXS5jZWxsc1swXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAndGgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZWxsID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhYmxlLiQucm93c1tpXS5jZWxsc1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZWxsLnJlbmFtZU5vZGUoJ3RoJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDZWxsLnNldEF0dHJpYnV0ZSgnc2NvcGUnLCAncm93Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IG5lZWQgY29sdW1uIGhlYWRpbmcgYnV0IHRoZSB0YWJsZSBoYXMgaXQsIGNvbnZlcnQgZXZlcnkgZmlyc3QgY2VsbCBpbiBldmVyeVxuICAgICAgICAgICAgLy8gcm93IGJhY2sgaW50byBhIGA8dGQ+YCBlbGVtZW50LlxuICAgICAgICAgICAgaWYgKGhhZENvbEhlYWRpbmcgJiYgIW5lZWRDb2xIZWFkaW5nKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRhYmxlLiQucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhYmxlLiQucm93c1tpXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5nZXRQYXJlbnQoKS5nZXROYW1lKCkgPT09ICd0Ym9keScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQocm93LiQuY2VsbHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VsbC5yZW5hbWVOb2RlKCd0ZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2VsbC5yZW1vdmVBdHRyaWJ1dGUoJ3Njb3BlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQgdXNpbmcgdGhlIHBhc3NlZCB0YWcgbmFtZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5UYWJsZVxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBtZXRob2QgX2NyZWF0ZUVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgVGhlIHRhZyBuYW1lIGZyb20gd2hpY2ggYW4gZWxlbWVudCBzaG91bGQgYmUgY3JlYXRlZFxuICAgICAgICAgKiBAcmV0dXJuIHtDS0VESVRPUi5kb20uZWxlbWVudH0gSW5zdGFuY2Ugb2YgQ0tFRElUT1IgRE9NIGVsZW1lbnQgY2xhc3NcbiAgICAgICAgICovXG4gICAgICAgIF9jcmVhdGVFbGVtZW50OiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KG5hbWUsIHRoaXMuX2VkaXRvci5kb2N1bWVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQ0tFRElUT1Iub24oJ2luc3RhbmNlUmVhZHknLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgaGVhZGluZ0NvbW1hbmRzID0gW1RhYmxlLkhFQURJTkdfTk9ORSwgVGFibGUuSEVBRElOR19ST1csIFRhYmxlLkhFQURJTkdfQ09MLCBUYWJsZS5IRUFESU5HX0JPVEhdO1xuXG4gICAgICAgIHZhciB0YWJsZVV0aWxzID0gbmV3IFRhYmxlKGV2ZW50LmVkaXRvcik7XG5cbiAgICAgICAgaGVhZGluZ0NvbW1hbmRzLmZvckVhY2goZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICAgICAgZXZlbnQuZWRpdG9yLmFkZENvbW1hbmQoJ3RhYmxlSGVhZGluZycgKyBoZWFkaW5nLCB7XG4gICAgICAgICAgICAgICAgZXhlYzogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlVXRpbHMuc2V0SGVhZGluZyhudWxsLCBoZWFkaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBDS0VESVRPUi5UYWJsZSA9IENLRURJVE9SLlRhYmxlIHx8IFRhYmxlO1xufSgpKTtcbiIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKipcbiAgICAgKiBDS0VESVRPUi50b29scyBjbGFzcyB1dGlsaXR5IHdoaWNoIGFkZHMgYWRkaXRpb25hbCBtZXRob2RzIHRvIHRob3NlIG9mIENLRWRpdG9yLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnRvb2xzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgdXNpbmcgdGhlIEpTT05QIHRlY2huaXF1ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi50b29sc1xuICAgICAqIEBtZXRob2QganNvbnBcbiAgICAgKiBAcGFyYW0ge0NLRURJVE9SLnRlbXBsYXRlfSB1cmxUZW1wbGF0ZSBUaGUgdGVtcGxhdGUgb2YgdGhlIFVSTCB0byBiZSByZXF1ZXN0ZWQuIEFsbCBwcm9wZXJ0aWVzIHBhc3NlZCBpbiBgdXJsUGFyYW1zYCBjYW4gYmUgdXNlZCwgcGx1cyBhIGB7Y2FsbGJhY2t9YCwgd2hpY2ggcmVwcmVzZW50IGEgSlNPTlAgY2FsbGJhY2ssIG11c3QgYmUgZGVmaW5lZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpbiBjYXNlIG9mIHN1Y2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3JDYWxsYmFjayBBIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBpbiBjYXNlIG9mIGZhaWx1cmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVybFBhcmFtcyBQYXJhbWV0ZXJzIHRvIGJlIHBhc3NlZCB0byB0aGUgYHVybFRlbXBsYXRlYC5cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAgLSBpZDogdGhlIHRyYW5zYWN0aW9uIElEXG4gICAgICogIC0gYSBgY2FuY2VsKClgIG1ldGhvZFxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBDS0VESVRPUi50b29scy5qc29ucCA9IGZ1bmN0aW9uKHVybFRlbXBsYXRlLCB1cmxQYXJhbXMsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjYWxsYmFja0tleSA9IENLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTtcblxuICAgICAgICB1cmxQYXJhbXMgPSB1cmxQYXJhbXMgfHwge307XG4gICAgICAgIHVybFBhcmFtcy5jYWxsYmFjayA9ICdDS0VESVRPUi5fLmpzb25wQ2FsbGJhY2tzWycgKyBjYWxsYmFja0tleSArICddJztcblxuICAgICAgICBpZiAoIUNLRURJVE9SLl8uanNvbnBDYWxsYmFja3MpIHtcbiAgICAgICAgICAgIENLRURJVE9SLl8uanNvbnBDYWxsYmFja3MgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIENLRURJVE9SLl8uanNvbnBDYWxsYmFja3NbY2FsbGJhY2tLZXldID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY2xlYW5VcCgpO1xuXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNjcmlwdEVsZW1lbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICBzY3JpcHRFbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsVGVtcGxhdGUub3V0cHV0KHVybFBhcmFtcykpO1xuICAgICAgICBzY3JpcHRFbGVtZW50Lm9uKCdlcnJvcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2xlYW5VcCgpO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgICAgIGlmIChzY3JpcHRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgc2NyaXB0RWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgQ0tFRElUT1IuXy5qc29ucENhbGxiYWNrc1tjYWxsYmFja0tleV07XG4gICAgICAgICAgICAgICAgc2NyaXB0RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKHNjcmlwdEVsZW1lbnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW5jZWw6IGNsZWFuVXAsXG4gICAgICAgICAgICBpZDogY2FsbGJhY2tLZXlcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBvYmplY3QgY29udGFpbmluZyBhbGwgb2YgdGhlIHByb3BlcnRpZXMgb2YgYWxsIHRoZSBzdXBwbGllZFxuICAgICAqIG9iamVjdHMuIFRoZSBwcm9wZXJ0aWVzIGZyb20gbGF0ZXIgb2JqZWN0cyB3aWxsIG92ZXJ3cml0ZSB0aG9zZSBpbiBlYXJsaWVyXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIFBhc3NpbmcgaW4gYSBzaW5nbGUgb2JqZWN0IHdpbGwgY3JlYXRlIGEgc2hhbGxvdyBjb3B5IG9mIGl0LlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIENLRURJVE9SLnRvb2xzXG4gICAgICogQG1ldGhvZCBtZXJnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzKiBPbmUgb3IgbW9yZSBvYmplY3RzIHRvIG1lcmdlLlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQSBuZXcgbWVyZ2VkIG9iamVjdC5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgQ0tFRElUT1IudG9vbHMubWVyZ2UgPSBDS0VESVRPUi50b29scy5tZXJnZSB8fCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaW11bGF0ZXMgZXZlbnQgb24gYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi50b29sc1xuICAgICAqIEBtZXRob2Qgc2ltdWxhdGVcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgb24gd2hpY2ggdGhlIGV2ZW50IHNob3VkIGJlIHNpbXVhbHRlZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHdoaWNoIGhhdmUgdG8gYmUgc2ltdWxhdGVkLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBDS0VESVRPUi50b29scy5zaW11bGF0ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50KSB7XG4gICAgICAgIHZhciBldmVudEluc3RhbmNlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50cycpO1xuICAgICAgICBldmVudEluc3RhbmNlLmluaXRFdmVudChldmVudCwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRJbnN0YW5jZSk7XG4gICAgfTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfdWljb3JlJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVJQ29yZSBjbGFzcyB3aGljaCB3aWxsIGhhbmRsZSB1c2VyIGludGVyYWN0aW9ucyB3aXRoIHRoZSBlZGl0b3IuIFRoZXNlIGludGVyYWN0aW9uc1xuICAgICAqIG1pZ2h0IGJlIHRyaWdnZXJlZCB2aWEgbW91c2UsIGtleWJvYXJkIG9yIHRvdWNoIGRldmljZXMuIFRoZSBjbGFzcyBmaWxsIGZpcmUgYW4gZXZlbnQgdmlhXG4gICAgICogQ0tFZGl0b3IncyBldmVudCBzeXN0ZW0gLSBcImVkaXRvckludGVyYWN0aW9uXCIuIFRoZSBVSSBtYXkgbGlzdGVuIHRvIHRoaXMgZXZlbnQgYW5kXG4gICAgICogZXhlY3V0ZSBzb21lIGFjdGlvbnMgLSBmb3IgZXhhbXBsZSB0byBzaG93L2hpZGUgdG9vbGJhcnMuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0IGlmIHVzZXIgcHJlc3NlcyB0aGUgRXNjIGtleSwgJ2VkaXRvckludGVyYWN0aW9uJyBldmVudCB3b24ndCBiZSBmaXJlZC4gSG93ZXZlciwgdGhpcyBiZWhhdmlvdXIgY2FuIGJlIGNoYW5nZWRcbiAgICAgKiBieSBzZXR0aW5nIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfdWljb3JlL2FsbG93RXNjOmF0dHJpYnV0ZVwifX17ey9jcm9zc0xpbmt9fSBjb25maWcgcHJvcGVydHkgaW4gZWRpdG9yJ3MgY29uZmlndXJhdGlvbiB0byB0cnVlLlxuICAgICAqXG4gICAgICogQGNsYXNzIGFlX3VpY29yZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiB1c2VyIGludGVyYWN0cyBzb21laG93IHdpdGggdGhlIGJyb3dzZXIuIFRoaXMgbWF5IGJlIGNsaWNraW5nIHdpdGggdGhlIG1vdXNlLCBwcmVzc2luZyBrZXlib2FyZCBidXR0b24sXG4gICAgICogb3IgdG91Y2hpbmcgc2NyZWVuLiBUaGlzIGV2ZW4gd2lsbCBiZSBub3QgZmlyZWQgYWZ0ZXIgZWFjaCBpbnRlcmFjdGlvbi4gSXQgd2lsbCBiZSBkZWJvdW5jZWQuIEJ5IGRlZmF1bHQgdGhlIHRpbWVvdXRcbiAgICAgKiBpcyA1MG1zLiBUaGlzIHZhbHVlIGNhbiBiZSBvdmVyd3JpdHRlbiB2aWEge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV91aWNvcmUvdGltZW91dDphdHRyaWJ1dGVcIn19e3svY3Jvc3NMaW5rfX1cbiAgICAgKiBwcm9wZXJ0eSBvZiBlZGl0b3IncyBjb25maWd1cmF0aW9uLCBsaWtlOiBlZGl0b3IuY29uZmlnLnVpY29yZS50aW1lb3V0ID0gMTAwXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgYWVfdWljb3JlXG4gICAgICogQGV2ZW50IGFlX3VpY29yZSNlZGl0b3JJbnRlcmFjdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIEFuIG9iamVjdCB3aGljaCBjb250YWlucyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogLSBuYXRpdmVFdmVudCAtIFRoZSBldmVudCBhcyByZWNlaXZlZCBmcm9tIENLRWRpdG9yLlxuICAgICAqIC0gc2VsZWN0aW9uRGF0YSAtIFRoZSBkYXRhLCByZXR1cm5lZCBmcm9tIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfc2VsZWN0aW9ucmVnaW9uL2dldFNlbGVjdGlvbkRhdGE6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCBieSBVSSBlbGVtZW50cyBsaWtlIFRvb2xiYXJzIG9yIEJ1dHRvbnMgd2hlbiB0aGVpciBzdGF0ZSBjaGFuZ2VzLiBUaGUgbGlzdGVuZXIgdXBkYXRlcyB0aGUgbGl2ZSByZWdpb24gd2l0aCB0aGUgcHJvdmlkZWQgZGF0YS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBhZV91aWNvcmVcbiAgICAgKiBAZXZlbnQgYWVfdWljb3JlI2FyaWFVcGRhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgICAqIC0gbWVzc2FnZSAtIFRoZSBwcm92aWRlZCBtZXNzYWdlIGZyb20gdGhlIFVJIGVsZW1lbnQuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSwgdGhlIGVkaXRvciB3aWxsIHN0aWxsIGZpcmUge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV91aWNvcmUvZWRpdG9ySW50ZXJhY3Rpb246ZXZlbnRcIn19e3svY3Jvc3NMaW5rfX0gZXZlbnQsXG4gICAgICogaWYgdXNlciBwcmVzc2VzIEVzYyBrZXkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgYWVfdWljb3JlXG4gICAgICogQGF0dHJpYnV0ZSBhbGxvd0VzY1xuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBkZWZhdWx0IHRpbWVvdXQgYWZ0ZXIgd2hpY2ggdGhlIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfdWljb3JlL2VkaXRvckludGVyYWN0aW9uOmV2ZW50XCJ9fXt7L2Nyb3NzTGlua319IGV2ZW50XG4gICAgICogd2lsbCBiZSBmaXJlZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBhZV91aWNvcmVcbiAgICAgKiBAYXR0cmlidXRlIHRpbWVvdXRcbiAgICAgKiBAZGVmYXVsdCA1MCAobXMpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG5cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX3VpY29yZScsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5pdGlhbGl6ZXIgbGlmZWN5Y2xlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgVUlDb3JlIHBsdWdpbi5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgYWVfdWljb3JlXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgQ0tFZGl0b3IgaW5zdGFuY2UuXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBhcmlhU3RhdGUgPSBbXTtcblxuICAgICAgICAgICAgICAgIHZhciBhcmlhRWxlbWVudCA9IHRoaXMuX2NyZWF0ZUFyaWFFbGVtZW50KGVkaXRvci5pZCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdWlUYXNrc1RpbWVvdXQgPSBlZGl0b3IuY29uZmlnLnVpY29yZSA/IGVkaXRvci5jb25maWcudWljb3JlLnRpbWVvdXQgOiA1MDtcblxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVVSSA9IENLRURJVE9SLnRvb2xzLmRlYm91bmNlKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYVN0YXRlID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5uYW1lICE9PSAna2V5dXAnIHx8IGV2ZW50LmRhdGEuJC5rZXlDb2RlICE9PSAyNyB8fCBlZGl0b3IuY29uZmlnLmFsbG93RXNjKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkRhdGEgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uRGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2VkaXRvckludGVyYWN0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IGV2ZW50LmRhdGEuJCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRhdGE6IHNlbGVjdGlvbkRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1aVRhc2tzVGltZW91dFxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlQXJpYSA9IENLRURJVE9SLnRvb2xzLmRlYm91bmNlKFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJpYUVsZW1lbnQuaW5uZXJIVE1MID0gYXJpYVN0YXRlLmpvaW4oJy4gJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVpVGFza3NUaW1lb3V0XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVNb3VzZUxlYXZlID0gQ0tFRElUT1IudG9vbHMuZGVib3VuY2UoXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWVVSU5vZGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFlLXVpJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3VuZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhZVVJTm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWVVSU5vZGVzW2ldLmNvbnRhaW5zKGV2ZW50LmRhdGEuJC5yZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVVJKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdWlUYXNrc1RpbWVvdXRcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKCdhcmlhVXBkYXRlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlQXJpYSBpcyBkZWJvdW5jZWQgZnVuY3Rpb24sIHNvIGlmIGl0IGlzIGJlaW5nIGNhbGxlZCBtdWx0aXBsZSB0aW1lcywgaXQgd2lsbFxuICAgICAgICAgICAgICAgICAgICAvLyBiZSBjYW5jZWxlZCB1bnRpbCBzb21lIHRpbWUgcGFzc2VzLlxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhhdCByZWFzb24gaGVyZSB3ZSBleHBsaWNpdGx5IGFwcGVuZCB0aGUgY3VycmVudCBtZXNzYWdlIHRvIHRoZSBsaXN0IG9mIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBjYWxsIGhhbmRsZUFyaWEuIFNpbmNlIGl0IGlzIGRlYm91bmNlZCwgd2hlbiBzb21lIHRpbWVvdXQgcGFzc2VzLFxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgdGhlIG1lc3NhZ2VzIHdpbGwgYmUgYXBwbGllZCB0byB0aGUgbGl2ZSByZWdpb24gYW5kIG5vdCBvbmx5IHRoZSBsYXN0IG9uZS5cblxuICAgICAgICAgICAgICAgICAgICBhcmlhU3RhdGUucHVzaChldmVudC5kYXRhLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUFyaWEoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb2N1c0hhbmRsZXIgPSBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ2ZvY3VzJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2N1c0hhbmRsZXIucmVtb3ZlTGlzdGVuZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdrZXl1cCcsIGhhbmRsZVVJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAnbW91c2V1cCcsIGhhbmRsZVVJKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAnbW91c2VsZWF2ZScsIGhhbmRsZU1vdXNlTGVhdmUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVSShldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKCdkZXN0cm95JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJpYUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhcmlhRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVUkuZGV0YWNoKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZXMgYW5kIGFwcGxpZXMgYW4gSFRNTCBlbGVtZW50IHRvIHRoZSBib2R5IG9mIHRoZSBkb2N1bWVudCB3aGljaCB3aWxsIGNvbnRhaW4gQVJJQSBtZXNzYWdlcy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgYWVfdWljb3JlXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9jcmVhdGVBcmlhRWxlbWVudFxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIFRoZSBwcm92aWRlZCBpZCBvZiB0aGUgZWxlbWVudC4gSXQgd2lsbCBiZSB1c2VkIGFzIHByZWZpeCBmb3IgdGhlIGZpbmFsIGVsZW1lbnQgSWQuXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gVGhlIGNyZWF0ZWQgYW5kIGFwcGxpZWQgdG8gRE9NIGVsZW1lbnQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9jcmVhdGVBcmlhRWxlbWVudDogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdHVzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgc3RhdHVzRWxlbWVudC5jbGFzc05hbWUgPSAnYWUtc3Itb25seSc7XG5cbiAgICAgICAgICAgICAgICBzdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ3BvbGl0ZScpO1xuICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3N0YXR1cycpO1xuICAgICAgICAgICAgICAgIHN0YXR1c0VsZW1lbnQuc2V0QXR0cmlidXRlKCdpZCcsIGlkICsgJ0xpdmVSZWdpb24nKTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3RhdHVzRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG59KCkpOyIsImltcG9ydCBMYW5nIGZyb20gJy4vbGFuZy5qcyc7XG5cbi8qKlxuICogQXR0cmlidXRlIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEBjbGFzcyBBdHRyaWJ1dGVcbiAqIEBjb25zdHJ1Y3RvclxuKi9cbmZ1bmN0aW9uIEF0dHJpYnV0ZShjb25maWcpIHtcbiAgICB0aGlzLl9fY29uZmlnX18gPSBjb25maWcgfHwge307XG4gICAgdGhpcy5fX0FUVFJTX18gPSB7fTtcbn1cblxuQXR0cmlidXRlLnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQXR0cmlidXRlLFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0cmlidXRlXG4gICAgICogQG1ldGhvZCBnZXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHdoaWNoIHZhbHVlIHNob3VsZCBiZSByZXRyaWV2ZWQuXG4gICAgICogQHJldHVybiB7QW55fSBUaGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRBdHRyID0gdGhpcy5jb25zdHJ1Y3Rvci5BVFRSU1thdHRyXTtcblxuICAgICAgICBpZiAoIWN1cnJlbnRBdHRyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX2lzSW5pdGlhbGl6ZWQoYXR0cikpIHtcbiAgICAgICAgICAgIHRoaXMuX2luaXQoYXR0cik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3VyVmFsdWUgPSB0aGlzLl9fQVRUUlNfX1thdHRyXTtcblxuICAgICAgICBpZiAoY3VycmVudEF0dHIuZ2V0dGVyKSB7XG4gICAgICAgICAgICBjdXJWYWx1ZSA9IHRoaXMuX2NhbGxTdHJpbmdPckZ1bmN0aW9uKGN1cnJlbnRBdHRyLmdldHRlciwgY3VyVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1clZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0cmlidXRlXG4gICAgICogQG1ldGhvZCBzZXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBUaGUgYXR0cmlidXRlIHdoaWNoIHZhbHVlIHNob3VsZCBiZSBzZXQuXG4gICAgICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBzaG91bGQgYmUgc2V0IHRvIHRoZSBhdHRyaWJ1dGUuXG4gICAgICovXG4gICAgc2V0OiBmdW5jdGlvbihhdHRyLCB2YWx1ZSkge1xuICAgICAgICB2YXIgY3VycmVudEF0dHIgPSB0aGlzLmNvbnN0cnVjdG9yLkFUVFJTW2F0dHJdO1xuXG4gICAgICAgIGlmICghY3VycmVudEF0dHIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faXNJbml0aWFsaXplZChhdHRyKSkge1xuICAgICAgICAgICAgdGhpcy5faW5pdChhdHRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjdXJyZW50QXR0ci5yZWFkT25seSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLndyaXRlT25jZSAmJiB0aGlzLl9pc0luaXRpYWxpemVkKGF0dHIpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudEF0dHIudmFsaWRhdG9yICYmICF0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci52YWxpZGF0b3IsIHZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLnNldHRlcikge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci5zZXR0ZXIsIHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX19BVFRSU19fW2F0dHJdID0gdmFsdWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBwcm92aWRlZCBwYXJhbSBhcyBmdW5jdGlvbiB3aXRoIHRoZSBzdXBwbGllZCBhcmd1bWVudHMuXG4gICAgICogSWYgcGFyYW0gcHJvdmlkZWQgYXMgc3RyaW5nLCBhIGNvcnJlc3BvbmRpbmcgZnVuY3Rpb24gaW4gdGhpcyBvYmplY3Qgd2lsbFxuICAgICAqIGJlIGNhbGxlZC4gSWYgcHJvdmlkZWQgcGFyYW0gaXMgYSBmdW5jdGlvbiwgaXQgd2lsbCBiZSBkaXJlY3RseSBjYWxsZWQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0cmlidXRlXG4gICAgICogQG1ldGhvZCBfY2FsbFN0cmluZ09yRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gIHtBbnl8QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHByb3ZpZGVkIHRvIHRoZSBjYWxsZWQgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd8RnVuY3Rpb259IHN0cmluZ09yRnVuY3Rpb24gVGhlIGZ1bmN0aW9uIHdoaWNoIHNob3VsZCBiZSBjYWxsZWRcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHJldHVybiB7QW55fSBUaGUgcmV0dXJuZWQgdmFsdWUgZnJvbSB0aGUgY2FsbGVkIGZ1bmN0aW9uXG4gICAgICovXG4gICAgX2NhbGxTdHJpbmdPckZ1bmN0aW9uOiBmdW5jdGlvbihzdHJpbmdPckZ1bmN0aW9uLCBhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgIGlmICghTGFuZy5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICAgICAgICBhcmdzID0gW2FyZ3NdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKExhbmcuaXNTdHJpbmcoc3RyaW5nT3JGdW5jdGlvbikgJiYgTGFuZy5pc0Z1bmN0aW9uKHRoaXNbc3RyaW5nT3JGdW5jdGlvbl0pKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzW3N0cmluZ09yRnVuY3Rpb25dLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKExhbmcuaXNGdW5jdGlvbihzdHJpbmdPckZ1bmN0aW9uKSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gc3RyaW5nT3JGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGF0dHJpYnV0ZS4gU2V0cyBpdHMgZGVmYXVsdCB2YWx1ZSBkZXBlbmRpbmcgb24gdGhlIGZsYWdzIG9mIHRoZVxuICAgICAqIGF0dHJpYnV0ZSBhbmQgdGhlIHBhc3NlZCBjb25maWd1cmF0aW9uIG9iamVjdCB0byB0aGUgY29uc3RydWN0b3IuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0cmlidXRlXG4gICAgICogQG1ldGhvZCBfaW5pdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBuYW1lIG9mIHRoZSBhdHRyaWJ1dGUgd2hpY2ggaGF2ZSB0byBiZSBpbml0aWFsaXplZC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgX2luaXQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgdmFyIHZhbHVlO1xuXG4gICAgICAgIHZhciBjdXJyZW50QXR0ciA9IHRoaXMuY29uc3RydWN0b3IuQVRUUlNbYXR0cl07XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgZGVmYXVsdCB2YWx1ZSBvciBwYXNzZWQgb25lIHZpYSBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgICAgICB2YXIgaGFzRGVmYXVsdFZhbHVlID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGN1cnJlbnRBdHRyLCAndmFsdWUnKTtcbiAgICAgICAgdmFyIGhhc1Bhc3NlZFZhbHVlVmlhQ29uZmlnID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX19jb25maWdfXywgYXR0cik7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgdmFsdWVGbiwgc2V0IHRoZSB2YWx1ZSB0byBiZSB0aGUgcmVzdWx0IG9mIGludm9jYXRpb24gb2YgdGhpcyBmdW5jdGlvblxuICAgICAgICBpZiAoY3VycmVudEF0dHIudmFsdWVGbikge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9jYWxsU3RyaW5nT3JGdW5jdGlvbihjdXJyZW50QXR0ci52YWx1ZUZuLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX19BVFRSU19fW2F0dHJdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZWxzZSBpZiB0aGUgYXR0cmlidXRlIGhhcyByZWFkT25seSBmbGFnLCBzZXQgdGhlIGRlZmF1bHQgdmFsdWUgZnJvbSB0aGUgYXR0cmlidXRlLFxuICAgICAgICAvLyByZWdhcmRsZXNzIGlmIHRoZXJlIGlzIHZhbHVlIG9yIG5vdFxuICAgICAgICBlbHNlIGlmIChjdXJyZW50QXR0ci5yZWFkT25seSkge1xuICAgICAgICAgICAgdmFsdWUgPSBjdXJyZW50QXR0ci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlbHNlIGlmIHRoZSBhdHRyaWJ1dGUgaGFzIHdyaXRlT25jZSB2YWx1ZSwgc2V0IGl0IGZyb20gdGhlIHBhc3NlZCBjb25maWd1cmF0aW9uIG9yIGZyb20gdGhlXG4gICAgICAgIC8vIGRlZmF1bHQgdmFsdWUsIGluIHRoaXMgb3JkZXIuIE90aGVyd2lzZSwgcmV0dXJuIG1pc2VyYWJsZS5cbiAgICAgICAgZWxzZSBpZiAoY3VycmVudEF0dHIud3JpdGVPbmNlKSB7XG4gICAgICAgICAgICBpZiAoaGFzUGFzc2VkVmFsdWVWaWFDb25maWcpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX19jb25maWdfX1thdHRyXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBjdXJyZW50QXR0ci52YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXNlIHR3byBjYXNlcyBiZWxvdyBhcmUgZWFzeSAtIHNldCB0aGUgdmFsdWUgdG8gYmUgZnJvbSB0aGUgcGFzc2VkIGNvbmZpZyBvclxuICAgICAgICAvLyBmcm9tIHRoZSBkZWZhdWx0IHZhbHVlLCBpbiB0aGlzIG9yZGVyLlxuICAgICAgICBlbHNlIGlmIChoYXNQYXNzZWRWYWx1ZVZpYUNvbmZpZykge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLl9fY29uZmlnX19bYXR0cl07XG4gICAgICAgIH0gZWxzZSBpZiAoaGFzRGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRBdHRyLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgdmFsaWRhdG9yLCBhbmQgdXNlciBwYXNzZWQgY29uZmlnIG9iamVjdCAtIGNoZWNrIHRoZSByZXR1cm5lZCB2YWx1ZS5cbiAgICAgICAgLy8gSWYgaXQgaXMgZmFsc2UsIHRoZW4gc2V0IGFzIGluaXRpYWwgdmFsdWUgdGhlIGRlZmF1bHQgb25lLlxuICAgICAgICAvLyBIb3dldmVyLCBpZiB0aGVyZSBpcyBubyBkZWZhdWx0IHZhbHVlLCBqdXN0IHJldHVybi5cbiAgICAgICAgaWYgKGN1cnJlbnRBdHRyLnZhbGlkYXRvciAmJiBoYXNQYXNzZWRWYWx1ZVZpYUNvbmZpZyAmJiAhdGhpcy5fY2FsbFN0cmluZ09yRnVuY3Rpb24oY3VycmVudEF0dHIudmFsaWRhdG9yLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgIGlmIChoYXNEZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGN1cnJlbnRBdHRyLnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBzZXR0ZXIgYW5kIHVzZXIgcGFzc2VkIGNvbmZpZyBvYmplY3QgLSBwYXNzIHRoZSB2YWx1ZSB0aG91Z2h0IHRoZSBzZXR0ZXIuXG4gICAgICAgIC8vIFRoZSB2YWx1ZSBtaWdodCBiZSBvbmUgZnJvbSBkZWZhdWx0Rm4sIGRlZmF1bHQgdmFsdWUgb3IgcHJvdmlkZWQgZnJvbSB0aGUgY29uZmlnLlxuICAgICAgICBpZiAoY3VycmVudEF0dHIuc2V0dGVyICYmIGhhc1Bhc3NlZFZhbHVlVmlhQ29uZmlnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMuX2NhbGxTdHJpbmdPckZ1bmN0aW9uKGN1cnJlbnRBdHRyLnNldHRlciwgdmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRmluYWxseSwgc2V0IHRoZSB2YWx1ZSBhcyBpbml0aWFsIHZhbHVlIHRvIHRoZSBzdG9yYWdlIHdpdGggdmFsdWVzLlxuICAgICAgICB0aGlzLl9fQVRUUlNfX1thdHRyXSA9IHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYW4gYXR0cmlidXRlIGlzIGluaXRpYWxpemVkLiBBbiBhdHRyaWJ1dGUgaXMgY29uc2lkZXJlZCBhcyBpbml0aWFsaXplZFxuICAgICAqIHdoZW4gdGhlcmUgaXMgYW4gb3duIHByb3BlcnR5IHdpdGggdGhpcyBuYW1lIGluIHRoZSBsb2NhbCBjb2xsZWN0aW9uIG9mIGF0dHJpYnV0ZSB2YWx1ZXNcbiAgICAgKiBmb3IgdGhlIGN1cnJlbnQgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQXR0cmlidXRlXG4gICAgICogQG1ldGhvZCBfaXNJbml0aWFsaXplZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyIFRoZSBhdHRyaWJ1dGUgd2hpY2ggc2hvdWxkIGJlIGNoZWNrZWQgaWYgaXQgaXMgaW5pdGlhbGl6ZWQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiB0aGUgYXR0cmlidXRlIGhhcyBiZWVuIGluaXRpYWxpemVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgX2lzSW5pdGlhbGl6ZWQ6IGZ1bmN0aW9uKGF0dHIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9fQVRUUlNfXywgYXR0cik7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRlOyIsImltcG9ydCBBdHRyaWJ1dGUgZnJvbSAnLi9hdHRyaWJ1dGUuanMnO1xuaW1wb3J0IExhbmcgZnJvbSAnLi9sYW5nLmpzJztcbmltcG9ydCBleHRlbmQgZnJvbSAnLi9vb3AuanMnO1xuXG4vKipcbiAqIFF1aWNrIGFuZCBkaXJ0eSBpbXBsIG9mIEJhc2UgY2xhc3MuXG4gKlxuICogQGNsYXNzIEJhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBCYXNlKGNvbmZpZykge1xuICAgIEJhc2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIGNvbmZpZyk7XG5cbiAgICB0aGlzLmluaXQoY29uZmlnKTtcbn1cblxuZXh0ZW5kKEJhc2UsIEF0dHJpYnV0ZSwge1xuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBgaW5pdGlhbGl6ZXJgIG1ldGhvZCBvZiBlYWNoIGNsYXNzIHdoaWNoIGV4dGVuZHMgQmFzZSBzdGFydGluZyBmcm9tIHRoZSBwYXJlbnQgdG8gdGhlIGNoaWxkLlxuICAgICAqIFdpbGwgcGFzcyB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgdG8gZWFjaCBpbml0aWFsaXplciBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQmFzZVxuICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgQ29uZmlndXJhdGlvbiBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0OiBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgICAgdGhpcy5fY2FsbENoYWluKCdpbml0aWFsaXplcicsIGNvbmZpZyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBgZGVzdHJ1Y3RvcmAgbWV0aG9kIG9mIGVhY2ggY2xhc3Mgd2hpY2ggZXh0ZW5kcyBCYXNlIHN0YXJ0aW5nIGZyb20gdGhlIHBhcmVudCB0byB0aGUgY2hpbGQuXG4gICAgICpcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQmFzZVxuICAgICAqIEBtZXRob2QgZGVzdHJveVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9jYWxsQ2hhaW4oJ2Rlc3RydWN0b3InKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgYSBtZXRob2Qgb2YgZWFjaCBjbGFzcywgd2hpY2ggaXMgYmVpbmcgcHJlc2VudCBpbiB0aGUgaGllcmFyY2h5IHN0YXJ0aW5nIGZyb20gcGFyZW50IHRvIHRoZSBjaGlsZC5cbiAgICAgKlxuICAgICAqIEBpbnN0YW5jZVxuICAgICAqIEBtZW1iZXJvZiBCYXNlXG4gICAgICogQG1ldGhvZCBfY2FsbENoYWluXG4gICAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB3aXRoIHdoaWNoIHRoZSBtZXRob2Qgc2hvdWxkIGJlIGludm9rZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gd2F0ICBUaGUgbWV0aG9kLCB3aGljaCBzaG91bGQgYmUgaW52b2tlZFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBfY2FsbENoYWluOiBmdW5jdGlvbih3YXQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIGFyciA9IFtdO1xuXG4gICAgICAgIHZhciBjdG9yID0gdGhpcy5jb25zdHJ1Y3RvcjtcblxuICAgICAgICB3aGlsZSAoY3Rvcikge1xuICAgICAgICAgICAgaWYgKExhbmcuaXNGdW5jdGlvbihjdG9yLnByb3RvdHlwZVt3YXRdKSkge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGN0b3IucHJvdG90eXBlW3dhdF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjdG9yID0gY3Rvci5zdXBlcmNsYXNzID8gY3Rvci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGFyciA9IGFyci5yZXZlcnNlKCk7XG5cbiAgICAgICAgYXJncyA9IExhbmcuaXNBcnJheShhcmdzKSA/IGFyZ3MgOiBbYXJnc107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gYXJyW2ldO1xuXG4gICAgICAgICAgICBpdGVtLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEJhc2U7IiwiLyoqXG4gKiBQcm92aWRlcyBjb3JlIGxhbmd1YWdlIHV0aWxpdGllcy5cbiAqXG4gKiBAY2xhc3MgTGFuZ1xuICovXG5jb25zdCBMYW5nID0ge1xuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTGFuZ1xuICAgICAqIEBtZXRob2QgaXNBcnJheVxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhbiBhcnJheSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBpc0FycmF5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBib29sZWFuLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIGlzQm9vbGVhblxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBib29sZWFuLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIGlzQm9vbGVhbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTGFuZ1xuICAgICAqIEBtZXRob2QgaXNGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIGlzRnVuY3Rpb246IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YodmFsdWUpID09PSAnZnVuY3Rpb24nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIE5VTEwuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTGFuZ1xuICAgICAqIEBtZXRob2QgaXNOdWxsXG4gICAgICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIE5VTEwsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgaXNOdWxsOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgbnVtYmVyLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIGlzTnVtYmVyXG4gICAgICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIG51bWJlciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBpc051bWJlcjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGFuIG9iamVjdFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIGlzT2JqZWN0XG4gICAgICogQHBhcmFtIHtBbnl9IHZhbHVlIFRoZSB2YWx1ZSB3aGljaCBoYXZlIHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIGFuIG9iamVjdCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBpc09iamVjdDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbHVlVHlwZSA9IHR5cGVvZiB2YWx1ZTtcblxuICAgICAgICByZXR1cm4gKHZhbHVlICYmICh2YWx1ZVR5cGUgPT09ICdvYmplY3QnIHx8IExhbmcuaXNGdW5jdGlvbih2YWx1ZSkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMYW5nXG4gICAgICogQG1ldGhvZCBpc1N0cmluZ1xuICAgICAqIEBwYXJhbSB7QW55fSB2YWx1ZSBUaGUgdmFsdWUgd2hpY2ggaGF2ZSB0byBiZSBjaGVja2VkLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IFRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBhIHN0cmluZywgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKi9cbiAgICBpc1N0cmluZzogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYWxsIHByb3BlcnRpZXMgZnJvbSB0aGUgc3VwcGxpZXIgdG8gdGhlIHJlY2VpdmVyLlxuICAgICAqIFRoZSBmdW5jdGlvbiB3aWxsIGFkZCBhbGwgcHJvcGVydGllcywgbm90IG9ubHkgdGhlc2Ugb3duZWQgYnkgdGhlIHN1cHBsaWVyLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExhbmdcbiAgICAgKiBAbWV0aG9kIG1peFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZWNlaXZlciBUaGUgb2JqZWN0IHdoaWNoIHdpbGwgcmVjZWl2ZSBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdXBwbGllciBUaGUgb2JqZWN0IHdoaWNoIHByb3ZpZGVzIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgbW9kaWZpZWQgcmVjZWl2ZXIuXG4gICAgICogQHN0YXRpY1xuICAgICAqL1xuICAgIG1peDogZnVuY3Rpb24ocmVjZWl2ZXIsIHN1cHBsaWVyKSB7XG4gICAgICAgIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIHN1cHBsaWVyKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzdXBwbGllciwga2V5KSkge1xuICAgICAgICAgICAgICAgIHJlY2VpdmVyW2tleV0gPSBzdXBwbGllcltrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHZhbHVlIHRvIEludGVnZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTGFuZ1xuICAgICAqIEBtZXRob2QgdG9JbnRcbiAgICAgKiBAcGFyYW0ge0FueX0gdmFsdWUgVGhlIHZhbHVlIHdoaWNoIGhhdmUgdG8gYmUgY29udmVydGVkIHRvIEludGVnZXIuXG4gICAgICogQHJldHVybiB7SW50ZWdlcn0gVGhlIGNvbnZlcnRlZCB2YWx1ZS5cbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgdG9JbnQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IExhbmc7IiwiaW1wb3J0IExhbmcgZnJvbSAnLi9sYW5nJztcblxuLyoqXG4gKiBTZXRzIHRoZSBwcm90b3R5cGUsIGNvbnN0cnVjdG9yIGFuZCBzdXBlcmNsYXNzIHByb3BlcnRpZXMgdG8gc3VwcG9ydCBhbiBpbmhlcml0YW5jZSBzdHJhdGVneVxuICogdGhhdCBjYW4gY2hhaW4gY29uc3RydWN0b3JzIGFuZCBtZXRob2RzLiBTdGF0aWMgbWVtYmVycyB3aWxsIG5vdCBiZSBpbmhlcml0ZWQuXG4gKlxuICogQG1lbWJlcm9mIE9PUFxuICogQG1ldGhvZCBleHRlbmRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlY2VpdmVyIFRoZSBjbGFzcyB3aGljaCB3aWxsIGV4dGVuZCBhbm90aGVyIGNsYXNzLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gc3VwcGxpZXIgVGhlIGNsYXNzIHdoaWNoIHdpbGwgcHJvdmlkZSB0aGUgcHJvcGVydGllcyB0aGUgY2hpbGQgY2xhc3MuXG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG9Qcm9wcyBQcm90b3R5cGUgcHJvcGVydGllcyB0byBhZGQvb3ZlcnJpZGUuXG4gKiBAcGFyYW0ge09iamVjdH0gc3RhdGljUHJvcHMgU3RhdGljIHByb3BlcnRpZXMgdG8gYWRkL292ZXJ3cml0ZS5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufSBUaGUgZXh0ZW5kZWQgY2xhc3MuXG4gKiBAc3RhdGljXG4gKi9cbmNvbnN0IGV4dGVuZCA9IGZ1bmN0aW9uKHJlY2VpdmVyLCBzdXBwbGllciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHtcbiAgICBpZiAoIXN1cHBsaWVyIHx8ICFyZWNlaXZlcikge1xuICAgICAgICB0aHJvdyAnZXh0ZW5kIGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcyc7XG4gICAgfVxuXG4gICAgdmFyIHN1cHBsaWVyUHJvdG8gPSBzdXBwbGllci5wcm90b3R5cGUsIHJlY2VpdmVyUHJvdG8gPSBPYmplY3QuY3JlYXRlKHN1cHBsaWVyUHJvdG8pO1xuICAgIHJlY2VpdmVyLnByb3RvdHlwZSA9IHJlY2VpdmVyUHJvdG87XG5cbiAgICByZWNlaXZlclByb3RvLmNvbnN0cnVjdG9yID0gcmVjZWl2ZXI7XG4gICAgcmVjZWl2ZXIuc3VwZXJjbGFzcyA9IHN1cHBsaWVyUHJvdG87XG5cbiAgICAvLyBhc3NpZ24gY29uc3RydWN0b3IgcHJvcGVydHlcbiAgICBpZiAoc3VwcGxpZXIgIT09IE9iamVjdCAmJiBzdXBwbGllclByb3RvLmNvbnN0cnVjdG9yID09PSBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgIHN1cHBsaWVyUHJvdG8uY29uc3RydWN0b3IgPSBzdXBwbGllcjtcbiAgICB9XG5cbiAgICAvLyBhZGQgcHJvdG90eXBlIG92ZXJyaWRlc1xuICAgIGlmIChwcm90b1Byb3BzKSB7XG4gICAgICAgIExhbmcubWl4KHJlY2VpdmVyUHJvdG8sIHByb3RvUHJvcHMpO1xuICAgIH1cblxuICAgIC8vIGFkZCBvYmplY3Qgb3ZlcnJpZGVzXG4gICAgaWYgKHN0YXRpY1Byb3BzKSB7XG4gICAgICAgIExhbmcubWl4KHJlY2VpdmVyLCBzdGF0aWNQcm9wcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlY2VpdmVyO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZXh0ZW5kOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgaXNJRSA9IENLRURJVE9SLmVudi5pZTtcblxuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfYWRkaW1hZ2VzJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBhbGxvd3MgRHJhZyZEcm9wIG9mIGltYWdlcyBkaXJlY3RseSBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLiBUaGUgaW1hZ2Ugd2lsbCBiZSBlbmNvZGVkXG4gICAgICogYXMgRGF0YSBVUkkuIEFuIGV2ZW50IGBiZWZvcmVJbWFnZUFkZGAgd2lsbCBiZSBmaXJlZCB3aXRoIHRoZSBsaXN0IG9mIGRyb3BwZWQgaW1hZ2VzLiBJZiBhbnkgb2YgdGhlIGxpc3RlbmVyc1xuICAgICAqIHJldHVybnMgYGZhbHNlYCBvciBjYW5jZWxzIHRoZSBldmVudCwgdGhlIGltYWdlcyB3b24ndCBiZSBhZGRlZCB0byB0aGUgY29udGVudC4gT3RoZXJ3aXNlLFxuICAgICAqIGFuIGV2ZW50IGBpbWFnZUFkZGAgd2lsbCBiZSBmaXJlZCB3aXRoIHRoZSBpbnNlcnRlZCBlbGVtZW50IGludG8gdGhlIGVkaXRhYmxlIGFyZWEuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGJlZm9yZSBhZGRpbmcgaW1hZ2VzIHRvIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBAZXZlbnQgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMjYmVmb3JlSW1hZ2VBZGRcbiAgICAgKiBAaW5zdGFuY2VcbiAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbWFnZUZpbGVzIEFycmF5IG9mIGltYWdlIGZpbGVzXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIGFuIGltYWdlIGlzIGJlaW5nIGFkZGVkIHRvIHRoZSBlZGl0b3Igc3VjY2Vzc2Z1bGx5LlxuICAgICAqXG4gICAgICogQGV2ZW50IENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzI2ltYWdlQWRkXG4gICAgICogQGluc3RhbmNlXG4gICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gZWwgVGhlIGNyZWF0ZWQgaW1hZ2Ugd2l0aCBzcmMgYXMgRGF0YSBVUklcbiAgICAgKiBAcGFyYW0ge0ZpbGV9IGZpbGUgVGhlIGltYWdlIGZpbGVcbiAgICAgKi9cblxuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKFxuICAgICAgICAnYWVfYWRkaW1hZ2VzJywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG4gICAgICAgICAgICAgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ2RyYWdlbnRlcicsICdkcmFnb3ZlcicsICdkcm9wJyBhbmQgYHBhc3RlYCBldmVudHMgb24gdGhlIGVkaXRpbmcgYXJlYS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlc1xuICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ2RyYWdlbnRlcicsIHRoaXMuX29uRHJhZ0VudGVyLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvclxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ2RyYWdvdmVyJywgdGhpcy5fb25EcmFnT3ZlciwgdGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdkcm9wJywgdGhpcy5fb25EcmFnRHJvcCwgdGhpcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdwYXN0ZScsIHRoaXMuX29uUGFzdGUsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFjY2VwdHMgYW4gYXJyYXkgb2YgZHJvcHBlZCBmaWxlcyB0byB0aGUgZWRpdG9yLiBUaGVuLCBpdCBmaWx0ZXJzIHRoZSBpbWFnZXMgYW5kIHNlbmRzIHRoZW0gZm9yIGZ1cnRoZXJcbiAgICAgICAgICAgICAqIHByb2Nlc3NpbmcgdG8ge3sjY3Jvc3NMaW5rIFwiQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXMvX3Byb2Nlc3NGaWxlOm1ldGhvZFwifX17ey9jcm9zc0xpbmt9fVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBmaXJlcyBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcyNiZWZvcmVJbWFnZUFkZFxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgICAgICAgICAqIEBtZXRob2QgX2hhbmRsZUZpbGVzXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWxlcyBBcnJheSBvZiBkcm9wcGVkIGZpbGVzLiBPbmx5IHRoZSBpbWFnZXMgZnJvbSB0aGlzIGxpc3Qgd2lsbCBiZSBwcm9jZXNzZWQuXG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfaGFuZGxlRmlsZXM6IGZ1bmN0aW9uKGZpbGVzLCBlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZTtcbiAgICAgICAgICAgICAgICB2YXIgaTtcblxuICAgICAgICAgICAgICAgIHZhciBpbWFnZUZpbGVzID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGZpbGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VGaWxlcy5wdXNoKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGVkaXRvci5maXJlKCdiZWZvcmVJbWFnZUFkZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VGaWxlczogaW1hZ2VGaWxlc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKCEhcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBpbWFnZUZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gaW1hZ2VGaWxlc1tpXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZpbGUoZmlsZSwgZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGFuZGxlcyBkcmFnIGRyb3AgZXZlbnQuIFRoZSBmdW5jdGlvbiB3aWxsIGNyZWF0ZSBhIHNlbGVjdGlvbiBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgKiBwb2ludCBhbmQgd2lsbCBzZW5kIGEgbGlzdCBvZiBmaWxlcyB0byBiZSBwcm9jZXNzZWQgdG9cbiAgICAgICAgICAgICAqIHt7I2Nyb3NzTGluayBcIkNLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzL19oYW5kbGVGaWxlczptZXRob2RcIn19e3svY3Jvc3NMaW5rfX0gbWV0aG9kLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9vbkRyYWdEcm9wXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5ldmVudH0gZXZlbnQgZHJhZ2Ryb3AgZXZlbnQsIGFzIHJlY2VpdmVkIG5hdGl2ZWx5IGZyb20gQ0tFZGl0b3JcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX29uRHJhZ0Ryb3A6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQuZGF0YS4kO1xuXG4gICAgICAgICAgICAgICAgbmV3IENLRURJVE9SLmRvbS5ldmVudChuYXRpdmVFdmVudCkucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBlZGl0b3IgPSBldmVudC5saXN0ZW5lckRhdGEuZWRpdG9yO1xuXG4gICAgICAgICAgICAgICAgZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvci5jcmVhdGVTZWxlY3Rpb25Gcm9tUG9pbnQobmF0aXZlRXZlbnQuY2xpZW50WCwgbmF0aXZlRXZlbnQuY2xpZW50WSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVGaWxlcyhuYXRpdmVFdmVudC5kYXRhVHJhbnNmZXIuZmlsZXMsIGVkaXRvcik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhhbmRsZXMgZHJhZyBlbnRlciBldmVudC4gSW4gY2FzZSBvZiBJRSwgdGhpcyBmdW5jdGlvbiB3aWxsIHByZXZlbnQgdGhlIGV2ZW50LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9vbkRyYWdFbnRlclxuICAgICAgICAgICAgICogQHBhcmFtIHtET00gZXZlbnR9IGV2ZW50IGRyYWdlbnRlciBldmVudCwgYXMgcmVjZWl2ZWQgbmF0aXZlbHkgZnJvbSBDS0VkaXRvclxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfb25EcmFnRW50ZXI6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzSUUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJldmVudEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhhbmRsZXMgZHJhZyBvdmVyIGV2ZW50LiBJbiBjYXNlIG9mIElFLCB0aGlzIGZ1bmN0aW9uIHdpbGwgcHJldmVudCB0aGUgZXZlbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgICAgICAgICAqIEBtZXRob2QgX29uRHJhZ092ZXJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RE9NIGV2ZW50fSBldmVudCBkcmFnb3ZlciBldmVudCwgYXMgcmVjZWl2ZWQgbmF0aXZlbHkgZnJvbSBDS0VkaXRvclxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfb25EcmFnT3ZlcjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNJRSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcmV2ZW50RXZlbnQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGlmIHRoZSBwYXN0ZWQgZGF0YSBpcyBpbWFnZSBhbmQgcGFzc2VzIGl0IHRvXG4gICAgICAgICAgICAgKiB7eyNjcm9zc0xpbmsgXCJDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcy9fcHJvY2Vzc0ZpbGU6bWV0aG9kXCJ9fXt7L2Nyb3NzTGlua319IGZvciBwcm9jZXNzaW5nLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYWRkaW1hZ2VzXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9vblBhc3RlXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5ldmVudH0gZXZlbnQgQSBgcGFzdGVgIGV2ZW50LCBhcyByZWNlaXZlZCBuYXRpdmVseSBmcm9tIENLRWRpdG9yXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vblBhc3RlOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhICYmIGV2ZW50LmRhdGEuJCAmJiBldmVudC5kYXRhLiQuY2xpcGJvYXJkRGF0YSAmJiBldmVudC5kYXRhLiQuY2xpcGJvYXJkRGF0YS5pdGVtcyAmJiBldmVudC5kYXRhLiQuY2xpcGJvYXJkRGF0YS5pdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXN0ZWREYXRhID0gZXZlbnQuZGF0YS4kLmNsaXBib2FyZERhdGEuaXRlbXNbMF07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3RlZERhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VGaWxlID0gcGFzdGVkRGF0YS5nZXRBc0ZpbGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0ZpbGUoaW1hZ2VGaWxlLCBldmVudC5saXN0ZW5lckRhdGEuZWRpdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUHJldmVudHMgYSBuYXRpdmUgZXZlbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3ByZXZlbnRFdmVudFxuICAgICAgICAgICAgICogQHBhcmFtIHtET00gZXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9wcmV2ZW50RXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBuZXcgQ0tFRElUT1IuZG9tLmV2ZW50KGV2ZW50LmRhdGEuJCk7XG5cbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQcm9jZXNzZXMgYW4gaW1hZ2UgZmlsZS4gVGhlIGZ1bmN0aW9uIGNyZWF0ZXMgYW4gaW1nIGVsZW1lbnQgYW5kIHNldHMgYXMgc291cmNlXG4gICAgICAgICAgICAgKiBhIERhdGEgVVJJLCB0aGVuIGZpcmVzIGFuICdpbWFnZUFkZCcgZXZlbnQgdmlhIENLRWRpdG9yJ3MgZXZlbnQgc3lzdGVtLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBmaXJlcyBDS0VESVRPUi5wbHVnaW5zLmFlX2FkZGltYWdlcyNpbWFnZUFkZFxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hZGRpbWFnZXNcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3ByZXZlbnRFdmVudFxuICAgICAgICAgICAgICogQHBhcmFtIHtET00gZXZlbnR9IGV2ZW50IFRoZSBldmVudCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9wcm9jZXNzRmlsZTogZnVuY3Rpb24oZmlsZSwgZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmluID0gcmVhZGVyLnJlc3VsdDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGltZyBzcmM9XCInICsgYmluICsgJ1wiPicpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5pbnNlcnRFbGVtZW50KGVsKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWw6IGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZVxuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdpbWFnZUFkZCcsIGltYWdlRGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG59KCkpOyIsIihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2F1dG9saW5rJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERpc2FibGVzIHRoZSBhdXRvIFVSTCBkZXRlY3Rpb24gZmVhdHVyZSBpbiBJRSwgdGhlaXIgbGFja3MgZnVuY3Rpb25hbGl0eTpcbiAgICAvLyBUaGV5IGNvbnZlcnQgdGhlIGxpbmtzIG9ubHkgb24gc3BhY2UuIFdlIGRvIG9uIHNwYWNlLCBjb21tYSwgc2VtaWNvbG9uIGFuZCBFbnRlci5cbiAgICBpZiAoL01TSUUgKFteO10qKXxUcmlkZW50Lio7IHJ2OihbMC05Ll0rKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnQXV0b1VybERldGVjdCcsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFyIEtFWV9CQUNLID0gODtcblxuICAgIHZhciBLRVlfQ09NTUEgPSAxODg7XG5cbiAgICB2YXIgS0VZX0VOVEVSID0gMTM7XG5cbiAgICB2YXIgS0VZX1NFTUlDT0xPTiA9IDE4NjtcblxuICAgIHZhciBLRVlfU1BBQ0UgPSAzMjtcblxuICAgIHZhciBERUxJTUlURVJTID0gW0tFWV9DT01NQSwgS0VZX0VOVEVSLCBLRVlfU0VNSUNPTE9OLCBLRVlfU1BBQ0VdO1xuXG4gICAgdmFyIFJFR0VYX0xBU1RfV09SRCA9IC9bXlxcc10rL21nO1xuXG4gICAgdmFyIFJFR0VYX1VSTCA9IC8oaHR0cHM/XFw6XFwvXFwvfHd3d1xcLikoLVxcLik/KFteKFxccy8/XFwuIy0pXStcXC4/KSsoXFxiXFwvW15cXHNdKik/JC9pO1xuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgcGx1Z2luIHdoaWNoIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIGxpbmtzIHdoZW4gdXNlciB0eXBlcyB0ZXh0IHdoaWNoIGxvb2tzIGxpa2UgVVJMLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2F1dG9saW5rJywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiByZWdpc3RlcnMgdGhlIGBrZXl1cGAgZXZlbnQgb24gdGhlIGVkaXRpbmcgYXJlYS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbmNlKCdjb250ZW50RG9tJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlLmF0dGFjaExpc3RlbmVyKGVkaXRhYmxlLCAna2V5dXAnLCB0aGlzLl9vbktleVVwLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6IGVkaXRvclxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGxhc3Qgd29yZCBpbnRyb2R1Y2VkIGJ5IHRoZSB1c2VyLiBSZWFkcyBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgKiBjYXJldCBwb3NpdGlvbiBiYWNrd2FyZHMgdW50aWwgaXQgZmluZHMgdGhlIGZpcnN0IHdoaXRlIHNwYWNlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX2dldExhc3RXb3JkXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBsYXN0IHdvcmQgaW50cm9kdWNlZCBieSB1c2VyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9nZXRMYXN0V29yZDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO1xuXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IHJhbmdlLnN0YXJ0T2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzVGV4dCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgcHJlc3NlZCBFbnRlciwgc28gd2UgaGF2ZSB0byBsb29rIG9uIHRoZSBwcmV2aW91cyBub2RlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRLZXlDb2RlID09PSBLRVlfRU5URVIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzTm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLmdldFByZXZpb3VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RDaGlsZDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBwcmV2aW91cyBub2RlIGlzIGEgU1BBQ0UsIChpdCBkb2VzIG5vdCBoYXZlICdnZXRMYXN0JyBtZXRob2QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlIGl0IGFuZCBmaW5kIHRoZSBwcmV2aW91cyB0ZXh0IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghcHJldmlvdXNOb2RlLmdldExhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c05vZGUgPSBwcmV2aW91c05vZGUuZ2V0UHJldmlvdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoaWxkID0gcHJldmlvdXNOb2RlLmdldExhc3QoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVwZW5kaW5nIG9uIHRoZSBicm93c2VyLCB0aGUgbGFzdCBjaGlsZCBub2RlIG1heSBiZSBhIDxCUj5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICh3aGljaCBkb2VzIG5vdCBoYXZlICdnZXRUZXh0JyBtZXRob2QpLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gaWdub3JlIGl0IGFuZCBmaW5kIHRoZSBwcmV2aW91cyB0ZXh0IG5vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsYXN0Q2hpbGQgJiYgIWxhc3RDaGlsZC5nZXRUZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSBsYXN0Q2hpbGQuZ2V0UHJldmlvdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBsYXN0Q2hpbGQgaXMgYWxyZWFkeSBhIGxpbmtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobGFzdENoaWxkICYmIGxhc3RDaGlsZC4kLmhyZWYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydENvbnRhaW5lciA9IGxhc3RDaGlsZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzVGV4dCA9IGxhc3RDaGlsZCA/IGxhc3RDaGlsZC5nZXRUZXh0KCkgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IHByZXZpb3VzVGV4dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFydENvbnRhaW5lciA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIExhc3QgY2hhcmFjdGVyIGlzIHRoZSBkZWxpbWl0ZXIsIGlnbm9yZSBpdFxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1RleHQgPSB0aGlzLl9zdGFydENvbnRhaW5lci5nZXRUZXh0KCkuc3Vic3RyaW5nKDAsIG9mZnNldCAtIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29mZnNldCA9IG9mZnNldCAtIDE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RXb3JkID0gJyc7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBwcmV2aW91c1RleHQubWF0Y2goUkVHRVhfTEFTVF9XT1JEKTtcblxuICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0V29yZCA9IG1hdGNoLnBvcCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBsYXN0V29yZDtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBsaW5rIGlzIGEgdmFsaWQgVVJMLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgaXNWYWxpZFVSTFxuICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGxpbmsgVGhlIGxpbmsgd2Ugd2FudCB0byBrbm93IGlmIGl0IGlzIGEgdmFsaWQgVVJMXG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBSZXR1cm5zIHRydWUgaWYgdGhlIGxpbmsgaXMgYSB2YWxpZCBVUkwsIGZhbHNlIG90aGVyd2lzZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfaXNWYWxpZFVSTDogZnVuY3Rpb24obGluaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSRUdFWF9VUkwudGVzdChsaW5rKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGlzdGVucyB0byB0aGUgYGtleWRvd25gIGV2ZW50IGFuZCBpZiB0aGUga2V5Y29kZSBpcyBgQmFja3NwYWNlYCwgcmVtb3ZlcyB0aGUgcHJldmlvdXNseVxuICAgICAgICAgICAgICogY3JlYXRlZCBsaW5rLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX29uS2V5RG93blxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudEZhY2FkZX0gZXZlbnQgRXZlbnRGYWNhZGUgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbktleURvd246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQuZGF0YS4kO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IGV2ZW50Lmxpc3RlbmVyRGF0YS5lZGl0b3I7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgIGVkaXRhYmxlLnJlbW92ZUxpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duKTtcblxuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5rZXlDb2RlID09PSBLRVlfQkFDSykge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuZGF0YS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZUxpbmsoZWRpdG9yKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9ja0xpbmsgPSBudWxsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMaXN0ZW5zIHRvIHRoZSBgRW50ZXJgIGFuZCBgU3BhY2VgIGtleSBldmVudHMgaW4gb3JkZXIgdG8gY2hlY2sgaWYgdGhlIGxhc3Qgd29yZFxuICAgICAgICAgICAgICogaW50cm9kdWNlZCBieSB0aGUgdXNlciBzaG91bGQgYmUgcmVwbGFjZWQgYnkgYSBsaW5rIGVsZW1lbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlua1xuICAgICAgICAgICAgICogQG1ldGhvZCBfb25LZXlVcFxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudEZhY2FkZX0gZXZlbnQgRXZlbnRGYWNhZGUgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbktleVVwOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRLZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcblxuICAgICAgICAgICAgICAgIGlmIChERUxJTUlURVJTLmluZGV4T2YodGhpcy5fY3VycmVudEtleUNvZGUpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFdvcmQgPSB0aGlzLl9nZXRMYXN0V29yZChlZGl0b3IpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pc1ZhbGlkVVJMKGxhc3RXb3JkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVwbGFjZUNvbnRlbnRCeUxpbmsoZWRpdG9yLCBsYXN0V29yZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlcGxhY2VzIGNvbnRlbnQgYnkgYSBsaW5rIGVsZW1lbnQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGZpcmVzIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmsjYXV0b2xpbmtBZGRcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3JlcGxhY2VDb250ZW50QnlMaW5rXG4gICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudCBUaGUgdGV4dCB0aGF0IGhhcyB0byBiZSByZXBsYWNlZCBieSBhbiBsaW5rIGVsZW1lbnRcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3JlcGxhY2VDb250ZW50QnlMaW5rOiBmdW5jdGlvbihlZGl0b3IsIGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IENLRURJVE9SLmRvbS5lbGVtZW50LmdldCh0aGlzLl9zdGFydENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IHRoaXMuX29mZnNldDtcblxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgY29udGVudCwgc28gQ0tFRElUT1IuTGluayBjYW4gcHJvcGVybHkgcmVwbGFjZSBpdFxuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIG9mZnNldCAtIGNvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTtcblxuICAgICAgICAgICAgICAgIHZhciBja0xpbmsgPSBuZXcgQ0tFRElUT1IuTGluayhlZGl0b3IpO1xuICAgICAgICAgICAgICAgIGNrTGluay5jcmVhdGUoY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2tMaW5rID0gY2tMaW5rO1xuXG4gICAgICAgICAgICAgICAgdmFyIGxpbmtOb2RlID0gY2tMaW5rLmdldEZyb21TZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZSgnYXV0b2xpbmtBZGQnLCBsaW5rTm9kZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmVUb0tleUV2ZW50KGVkaXRvcik7XG5cbiAgICAgICAgICAgICAgICAvLyBOb3cgcmFuZ2UgaXMgb24gdGhlIGxpbmsgYW5kIGl0IGlzIHNlbGVjdGVkLiBXZSBoYXZlIHRvXG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIGZvY3VzIHRvIHRoZSBjYXJldCBwb3NpdGlvbi5cbiAgICAgICAgICAgICAgICByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgcHJlc3NlZCBgRW50ZXJgLCBnZXQgdGhlIG5leHQgZWRpdGFibGUgbm9kZSBhdCBwb3NpdGlvbiAwLFxuICAgICAgICAgICAgICAgIC8vIG90aGVyd2lzZSBzZXQgdGhlIGN1cnNvciBhdCB0aGUgbmV4dCBjaGFyYWN0ZXIgb2YgdGhlIGxpbmsgKHRoZSB3aGl0ZSBzcGFjZSlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY3VycmVudEtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEVkaXRhYmxlTm9kZSA9IHJhbmdlLmdldE5leHRFZGl0YWJsZU5vZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChuZXh0RWRpdGFibGVOb2RlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKG5leHRFZGl0YWJsZU5vZGUsIDApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Tm9kZSA9IHJhbmdlLmdldE5leHROb2RlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobmV4dE5vZGUsIDEpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobmV4dE5vZGUsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGaXJlZCB3aGVuIGEgVVJMIGlzIGRldGVjdGVkIGluIHRleHQgYW5kIGNvbnZlcnRlZCB0byBhIGxpbmsuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGV2ZW50IENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmsjYXV0b2xpbmtBZGRcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5lbGVtZW50fSBlbCBOb2RlIG9mIHRoZSBjcmVhdGVkIGxpbmsuXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW1vdmVzIHRoZSBjcmVhdGVkIGxpbmsgZWxlbWVudCwgYW5kIHJlcGxhY2VzIGl0IGJ5IGl0cyB0ZXh0LlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpbmtcbiAgICAgICAgICAgICAqIEBtZXRob2QgX3JlbW92ZUxpbmtcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3JlbW92ZUxpbms6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXTtcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRPZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldDtcblxuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCB0aGUgbGluaywgc28gQ0tFRElUT1IuTGluayBjYW4gcHJvcGVybHkgcmVtb3ZlIGl0XG4gICAgICAgICAgICAgICAgdmFyIGxpbmtOb2RlID0gdGhpcy5fc3RhcnRDb250YWluZXIuZ2V0TmV4dCgpIHx8IHRoaXMuX3N0YXJ0Q29udGFpbmVyO1xuXG4gICAgICAgICAgICAgICAgdmFyIG5ld1JhbmdlID0gZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgbmV3UmFuZ2Uuc2V0U3RhcnQobGlua05vZGUsIDApO1xuICAgICAgICAgICAgICAgIG5ld1JhbmdlLnNldEVuZEFmdGVyKGxpbmtOb2RlKTtcbiAgICAgICAgICAgICAgICBuZXdSYW5nZS5zZWxlY3QoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuX2NrTGluay5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIC8vIFJldHVybiBmb2N1cyB0byB0aGUgY2FyZXQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIGNhcmV0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChyYW5nZS5zdGFydENvbnRhaW5lciwgY2FyZXRPZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN1YnNjcmliZSB0byBhIGtleSBldmVudCBvZiB0aGUgZWRpdGFibGUgYXJpYS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saW5rXG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9zdWJzY3JpYmVUb0tleUV2ZW50XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9zdWJzY3JpYmVUb0tleUV2ZW50OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgcHJpb3JpdHkgb2Yga2V5ZG93biBsaXN0ZW5lciAtIDEgbWVhbnMgdGhlIGhpZ2hlc3QgcHJpb3JpdHkuXG4gICAgICAgICAgICAgICAgLy8gSW4gQ2hyb21lIG9uIHByZXNzaW5nIGBFbnRlcmAgdGhlIGxpc3RlbmVyIGlzIG5vdCBiZWluZyBpbnZva2VkLlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwOi8vZGV2LmNrZWRpdG9yLmNvbS90aWNrZXQvMTE4NjEgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdrZXlkb3duJywgdGhpcy5fb25LZXlEb3duLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTtcbiIsIihmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9hdXRvbGlzdCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgS0VZX0JBQ0sgPSA4O1xuXG4gICAgdmFyIEtFWV9TUEFDRSA9IDMyO1xuXG4gICAgdmFyIERFRkFVTFRfQ09ORklHID0gW1xuICAgICAgICB7XG4gICAgICAgICAgICByZWdleDogL15cXCokLyxcbiAgICAgICAgICAgIHR5cGU6ICdidWxsZXRlZGxpc3QnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlZ2V4OiAvXjFcXC4kLyxcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXJlZGxpc3QnXG4gICAgICAgIH1cbiAgICBdO1xuXG5cdC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlcyBvcmRlcmVkL3Vub3JkZXJlZCBsaXN0IHdoZW4gdXNlciB0eXBlcyB0ZXh0IHdoaWNoIGxvb2tzIGxpa2UgYSBsaXN0LlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3RcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX2F1dG9saXN0Jywge1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tlZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiByZWdpc3RlcnMgdGhlIGBrZXlkb3duYCBldmVudCBvbiB0aGUgY29udGVudCBlZGl0aW5nIGFyZWEuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWRpdGFibGUgPSBlZGl0b3IuZWRpdGFibGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZSwgJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2hlY2tzIGZvciBwcmVzc2luZyB0aGUgYEJhY2tzcGFjZWAga2V5IGluIG9yZGVyIHRvIHVuZG8gdGhlIGxpc3QgY3JlYXRpb24uXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuICAgICAgICAgICAgICogQG1ldGhvZCBfY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBFdmVudCBvYmplY3RcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2NoZWNrRm9yQmFja3NwYWNlQW5kVW5kbzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcjtcblxuICAgICAgICAgICAgICAgIHZhciBuYXRpdmVFdmVudCA9IGV2ZW50LmRhdGEuJDtcblxuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgZWRpdGFibGUucmVtb3ZlTGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jaGVja0ZvckJhY2tzcGFjZUFuZFVuZG8pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IEtFWV9CQUNLKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgndW5kbycpO1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0SHRtbChldmVudC5saXN0ZW5lckRhdGEuYnVsbGV0ICsgJyZuYnNwOycpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5kYXRhLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDaGVja3MgY3VycmVudCBsaW5lIHRvIGZpbmQgbWF0Y2ggd2l0aCBNQVRDSEVTIG9iamVjdCB0byBjcmVhdGUgT0wgb3IgVUwuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgQ0tFRElUT1IucGx1Z2lucy5hZV9hdXRvbGlzdFxuICAgICAgICAgICAgICogQG1ldGhvZCBfY2hlY2tMaW5lXG4gICAgICAgICAgICAgKiBAcGFyYW0ge2VkaXRvcn0gRWRpdG9yIG9iamVjdFxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICogQHJldHVybiB7T2JqZWN0fG51bGx9IFJldHVybnMgYW4gb2JqZWN0IHdoaWNoIGNvbnRhaW5zIHRoZSBkZXRlY3RlZCBsaXN0IGNvbmZpZyBpZiBhbnlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX2dldExpc3RDb25maWc6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBjb25maWdSZWdleCA9IGVkaXRvci5jb25maWcuYXV0b2xpc3QgfHwgREVGQVVMVF9DT05GSUc7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cbiAgICAgICAgICAgICAgICB2YXIgdGV4dENvbnRhaW5lciA9IHJhbmdlLmVuZENvbnRhaW5lci5nZXRUZXh0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYnVsbGV0ID0gdGV4dENvbnRhaW5lci5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnRPZmZzZXQpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSB0ZXh0Q29udGFpbmVyLnN1YnN0cmluZyhyYW5nZS5zdGFydE9mZnNldCwgdGV4dENvbnRhaW5lci5sZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcblxuICAgICAgICAgICAgICAgIHZhciByZWdleExlbiA9IGNvbmZpZ1JlZ2V4Lmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIHZhciBhdXRvbGlzdENmZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoIWF1dG9saXN0Q2ZnICYmIHJlZ2V4TGVuID4gaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4SXRlbSA9IGNvbmZpZ1JlZ2V4W2luZGV4XTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVnZXhJdGVtLnJlZ2V4LnRlc3QoYnVsbGV0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2xpc3RDZmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVsbGV0OiBidWxsZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOiBlZGl0b3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByZWdleEl0ZW0udHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBhdXRvbGlzdENmZztcbiAgICAgICAgICAgIH0sXG5cblx0XHRcdC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlIGxpc3Qgd2l0aCBkaWZmZXJlbnQgdHlwZXM6IEJ1bGxldGVkIG9yIE51bWJlcmVkIGxpc3RcbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBDS0VESVRPUi5wbHVnaW5zLmFlX2F1dG9saXN0XG4gICAgICAgICAgICAgKiBAbWV0aG9kIF9jcmVhdGVMaXN0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gbGlzdENvbmZpZyBPYmplY3QgdGhhdCBjb250YWlucyBidWxsZXQsIHRleHQgYW5kIHR5cGUgZm9yIGNyZWF0aW5nIHRoZSBsaXN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG5cdFx0XHQgKi9cbiAgICAgICAgICAgIF9jcmVhdGVMaXN0OiBmdW5jdGlvbihsaXN0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IGxpc3RDb25maWcuZWRpdG9yO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO1xuXG4gICAgICAgICAgICAgICAgcmFuZ2UuZW5kQ29udGFpbmVyLnNldFRleHQobGlzdENvbmZpZy50ZXh0KTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQobGlzdENvbmZpZy50eXBlKTtcblxuICAgICAgICAgICAgICAgIHZhciBlZGl0YWJsZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU3Vic2NyaWJlIHRvIGtleWRvd24gaW4gb3JkZXIgdG8gY2hlY2sgaWYgdGhlIG5leHQga2V5IHByZXNzIGlzIGBCYWNrc3BhY2VgLlxuICAgICAgICAgICAgICAgIC8vIElmIHNvLCB0aGUgY3JlYXRpb24gb2YgdGhlIGxpc3Qgd2lsbCBiZSBkaXNjYXJkZWQuXG4gICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdrZXlkb3duJywgdGhpcy5fY2hlY2tGb3JCYWNrc3BhY2VBbmRVbmRvLCB0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yLFxuICAgICAgICAgICAgICAgICAgICBidWxsZXQ6IGxpc3RDb25maWcuYnVsbGV0XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9LFxuXG5cdFx0XHQvKipcbiAgICAgICAgICAgICAqIExpc3RlbnMgdG8gdGhlIGBTcGFjZWAga2V5IGV2ZW50cyB0byBjaGVjayBpZiB0aGUgbGFzdCB3b3JkXG4gICAgICAgICAgICAgKiBpbnRyb2R1Y2VkIGJ5IHRoZSB1c2VyIHNob3VsZCBiZSByZXBsYWNlZCBieSBhIGxpc3QgKE9MIG9yIFVMKVxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIENLRURJVE9SLnBsdWdpbnMuYWVfYXV0b2xpc3RcbiAgICAgICAgICAgICAqIEBtZXRob2QgX29uS2V5RG93blxuICAgICAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgb2JqZWN0XG4gICAgICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9vbktleURvd246IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hdGl2ZUV2ZW50ID0gZXZlbnQuZGF0YS4kO1xuXG4gICAgICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IEtFWV9TUEFDRSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdENvbmZpZyA9IHRoaXMuX2dldExpc3RDb25maWcoZXZlbnQubGlzdGVuZXJEYXRhLmVkaXRvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3RDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmRhdGEucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZUxpc3QobGlzdENvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblx0KTtcbn0oKSk7IiwiLyoqXG4gKiBDS0VkaXRvciBwbHVnaW46IERyYWdhYmxlIGltYWdlIHJlc2l6aW5nXG4gKiBodHRwczovL2dpdGh1Yi5jb20vc3N0dXIvY2stZHJhZ3Jlc2l6ZVxuICogLSBTaG93cyBzZW1pLXRyYW5zcGFyZW50IG92ZXJsYXkgd2hpbGUgcmVzaXppbmdcbiAqIC0gRW5mb3JjZXMgQXNwZWN0IFJhdGlvICh1bmxlc3MgaG9sZGluZyBzaGlmdClcbiAqIC0gU25hcCB0byBzaXplIG9mIG90aGVyIGltYWdlcyBpbiBlZGl0b3JcbiAqIC0gRXNjYXBlIHdoaWxlIGRyYWdnaW5nIGNhbmNlbHMgcmVzaXplXG4gKi9cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2RyYWdyZXNpemUnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIElNQUdFX0hBTkRMRVMgPSB7XG4gICAgICAgIGJvdGg6IFsndGwnLCAndG0nLCAndHInLCAnbG0nLCAncm0nLCAnYmwnLCAnYm0nLCAnYnInXSxcbiAgICAgICAgaGVpZ2h0OiBbJ3RsJywgJ3RtJywgJ3RyJywgJ2JsJywgJ2JtJywgJ2JyJ10sXG4gICAgICAgIHNjYWxlOiBbJ3RsJywgJ3RyJywgJ2JsJywgJ2JyJ10sXG4gICAgICAgIHdpZHRoOiBbJ3RsJywgJ3RyJywgJ2xtJywgJ3JtJywgJ2JsJywgJ2JyJ10sXG4gICAgfTtcblxuICAgIHZhciBQT1NJVElPTl9FTEVNRU5UX0ZOID0ge1xuICAgICAgICBibDogZnVuY3Rpb24oaGFuZGxlLCBsZWZ0LCB0b3AsIGJveCkge1xuICAgICAgICAgICAgcG9zaXRpb25FbGVtZW50KGhhbmRsZSwgLTMgKyBsZWZ0LCBib3guaGVpZ2h0IC0gNCArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGJtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBNYXRoLnJvdW5kKGJveC53aWR0aCAvIDIpIC0gMyArIGxlZnQsIGJveC5oZWlnaHQgLSA0ICsgdG9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgYnI6IGZ1bmN0aW9uKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGJveC53aWR0aCAtIDQgKyBsZWZ0LCBib3guaGVpZ2h0IC0gNCArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGxtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCAtMyArIGxlZnQsIE1hdGgucm91bmQoYm94LmhlaWdodCAvIDIpIC0gMyArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIHRsOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBsZWZ0IC0gMywgdG9wIC0gMyk7XG4gICAgICAgIH0sXG4gICAgICAgIHRtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBNYXRoLnJvdW5kKGJveC53aWR0aCAvIDIpIC0gMyArIGxlZnQsIC0zICsgdG9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgdHI6IGZ1bmN0aW9uKGhhbmRsZSwgbGVmdCwgdG9wLCBib3gpIHtcbiAgICAgICAgICAgIHBvc2l0aW9uRWxlbWVudChoYW5kbGUsIGJveC53aWR0aCAtIDQgKyBsZWZ0LCAtMyArIHRvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJtOiBmdW5jdGlvbihoYW5kbGUsIGxlZnQsIHRvcCwgYm94KSB7XG4gICAgICAgICAgICBwb3NpdGlvbkVsZW1lbnQoaGFuZGxlLCBib3gud2lkdGggLSA0ICsgbGVmdCwgTWF0aC5yb3VuZChib3guaGVpZ2h0IC8gMikgLSAzICsgdG9wKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgSU1BR0VfU05BUF9UT19TSVpFID0gNztcblxuICAgIHZhciBpc0ZpcmVmb3ggPSAoJ01vekFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSk7XG5cbiAgICB2YXIgaXNXZWJLaXQgPSAoJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSk7XG5cbiAgICB2YXIgZW5hYmxlUGx1Z2luID0gaXNXZWJLaXQgfHwgaXNGaXJlZm94O1xuXG4gICAgaWYgKGVuYWJsZVBsdWdpbikge1xuICAgICAgICAvLyBDU1MgaXMgYWRkZWQgaW4gYSBjb21wcmVzc2VkIGZvcm1cbiAgICAgICAgQ0tFRElUT1IuYWRkQ3NzKCdpbWc6OnNlbGVjdGlvbntjb2xvcjpyZ2JhKDAsMCwwLDApfWltZy5ja2ltZ3JzentvdXRsaW5lOjFweCBkYXNoZWQgIzAwMH0jY2tpbWdyc3p7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MDtoZWlnaHQ6MDtjdXJzb3I6ZGVmYXVsdDt6LWluZGV4OjEwMDAxfSNja2ltZ3JzeiBzcGFue2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7d2lkdGg6MDtoZWlnaHQ6MDtiYWNrZ3JvdW5kLXNpemU6MTAwJSAxMDAlO29wYWNpdHk6LjY1O291dGxpbmU6MXB4IGRhc2hlZCAjMDAwfSNja2ltZ3JzeiBpe3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6YmxvY2s7d2lkdGg6NXB4O2hlaWdodDo1cHg7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgIzAwMH0jY2tpbWdyc3ogaS5hY3RpdmUsI2NraW1ncnN6IGk6aG92ZXJ7YmFja2dyb3VuZDojMDAwfSNja2ltZ3JzeiBpLmJyLCNja2ltZ3JzeiBpLnRse2N1cnNvcjpud3NlLXJlc2l6ZX0jY2tpbWdyc3ogaS5ibSwjY2tpbWdyc3ogaS50bXtjdXJzb3I6bnMtcmVzaXplfSNja2ltZ3JzeiBpLmJsLCNja2ltZ3JzeiBpLnRye2N1cnNvcjpuZXN3LXJlc2l6ZX0jY2tpbWdyc3ogaS5sbSwjY2tpbWdyc3ogaS5ybXtjdXJzb3I6ZXctcmVzaXplfWJvZHkuZHJhZ2dpbmctYnIsYm9keS5kcmFnZ2luZy1iciAqLGJvZHkuZHJhZ2dpbmctdGwsYm9keS5kcmFnZ2luZy10bCAqe2N1cnNvcjpud3NlLXJlc2l6ZSFpbXBvcnRhbnR9Ym9keS5kcmFnZ2luZy1ibSxib2R5LmRyYWdnaW5nLWJtICosYm9keS5kcmFnZ2luZy10bSxib2R5LmRyYWdnaW5nLXRtICp7Y3Vyc29yOm5zLXJlc2l6ZSFpbXBvcnRhbnR9Ym9keS5kcmFnZ2luZy1ibCxib2R5LmRyYWdnaW5nLWJsICosYm9keS5kcmFnZ2luZy10cixib2R5LmRyYWdnaW5nLXRyICp7Y3Vyc29yOm5lc3ctcmVzaXplIWltcG9ydGFudH1ib2R5LmRyYWdnaW5nLWxtLGJvZHkuZHJhZ2dpbmctbG0gKixib2R5LmRyYWdnaW5nLXJtLGJvZHkuZHJhZ2dpbmctcm0gKntjdXJzb3I6ZXctcmVzaXplIWltcG9ydGFudH0nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgcGx1Z2luXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX2RyYWdyZXNpemUnLCB7XG4gICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoIWVuYWJsZVBsdWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBpZiAoIWVuYWJsZVBsdWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICBpbml0KGVkaXRvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gaW5pdChlZGl0b3IpIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IGVkaXRvci53aW5kb3cuJCxcbiAgICAgICAgICAgIGRvY3VtZW50ID0gZWRpdG9yLmRvY3VtZW50LiQ7XG5cbiAgICAgICAgaWYgKGlzRmlyZWZveCkge1xuICAgICAgICAgICAgLy8gRGlzYWJsZSB0aGUgbmF0aXZlIGltYWdlIHJlc2l6aW5nXG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNuYXBUb1NpemUgPSAodHlwZW9mIElNQUdFX1NOQVBfVE9fU0laRSA9PT0gJ3VuZGVmaW5lZCcpID8gbnVsbCA6IElNQUdFX1NOQVBfVE9fU0laRTtcblxuICAgICAgICBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUgPSBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUgfHwgJ2JvdGgnO1xuXG4gICAgICAgIHZhciByZXNpemVyID0gbmV3IFJlc2l6ZXIoZWRpdG9yLCB7XG4gICAgICAgICAgICBpbWFnZVNjYWxlUmVzaXplOiBlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemUsXG4gICAgICAgICAgICBzbmFwVG9TaXplOiBzbmFwVG9TaXplXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBtb3VzZURvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChyZXNpemVyLmlzSGFuZGxlKGUudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaW5pdERyYWcoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2VEb3duTGlzdGVuZXIsIGZhbHNlKTtcblxuICAgICAgICBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2UoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICBpZiAoIXNlbGVjdGlvbikgcmV0dXJuO1xuICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBpcyBzZWxlY3RlZCBhbmQgdGhhdCBlbGVtZW50IGlzIGFuIElNR1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5nZXRUeXBlKCkgIT09IENLRURJVE9SLlNFTEVDVElPTl9OT05FICYmIHNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnQoKS5pcygnaW1nJykpIHtcbiAgICAgICAgICAgICAgICAvLyBBbmQgd2UncmUgbm90IHJpZ2h0IG9yIG1pZGRsZSBjbGlja2luZyBvbiB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5ldmVudCB8fCAhd2luZG93LmV2ZW50LmJ1dHRvbiB8fCB3aW5kb3cuZXZlbnQuYnV0dG9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIuc2hvdyhzZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50KCkuJCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNpemVyLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVkaXRvci5vbignc2VsZWN0aW9uQ2hhbmdlJywgc2VsZWN0aW9uQ2hhbmdlKTtcblxuICAgICAgICBlZGl0b3Iub24oJ2dldERhdGEnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgaHRtbCA9IGUuZGF0YS5kYXRhVmFsdWUgfHwgJyc7XG4gICAgICAgICAgICBodG1sID0gaHRtbC5yZXBsYWNlKC88ZGl2IGlkPVwiY2tpbWdyc3pcIihbXFxzXFxTXSo/KTxcXC9kaXY+L2ksICcnKTtcbiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoL1xcYihja2ltZ3JzeilcXGIvZywgJycpO1xuICAgICAgICAgICAgZS5kYXRhLmRhdGFWYWx1ZSA9IGh0bWw7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVkaXRvci5vbignYmVmb3JlVW5kb0ltYWdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGhhbmRsZXMgYmVmb3JlIHVuZG8gaW1hZ2VzIGFyZSBzYXZlZFxuICAgICAgICAgICAgcmVzaXplci5oaWRlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVkaXRvci5vbignYWZ0ZXJVbmRvSW1hZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgdGhlIGhhbmRsZXMgYWZ0ZXIgdW5kbyBpbWFnZXMgYXJlIHNhdmVkXG4gICAgICAgICAgICBzZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yLm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGhhbmRsZXMgd2hlbiBlZGl0b3IgbG9zZXMgZm9jdXNcbiAgICAgICAgICAgIHJlc2l6ZXIuaGlkZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlZGl0b3Iub24oJ2JlZm9yZU1vZGVVbmxvYWQnLCBmdW5jdGlvbiBzZWxmKCkge1xuICAgICAgICAgICAgZWRpdG9yLnJlbW92ZUxpc3RlbmVyKCdiZWZvcmVNb2RlVW5sb2FkJywgc2VsZik7XG4gICAgICAgICAgICByZXNpemVyLmhpZGUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yLm9uKCdkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcmVzaXplRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdja2ltZ3JzeicpO1xuXG4gICAgICAgICAgICBpZiAocmVzaXplRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZUVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0ZpcmVmb3gpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlRG93bkxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBzZWxlY3Rpb24gd2hlbiB0aGUgYnJvd3NlciB3aW5kb3cgaXMgcmVzaXplZFxuICAgICAgICB2YXIgcmVzaXplVGltZW91dDtcbiAgICAgICAgZWRpdG9yLndpbmRvdy5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBDYW5jZWwgYW55IHJlc2l6ZSB3YWl0aW5nIHRvIGhhcHBlblxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlc2l6ZVRpbWVvdXQpO1xuICAgICAgICAgICAgLy8gRGVsYXkgcmVzaXplIHRvIFwiZGVib3VuY2VcIlxuICAgICAgICAgICAgcmVzaXplVGltZW91dCA9IHNldFRpbWVvdXQoc2VsZWN0aW9uQ2hhbmdlLCA1MCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFJlc2l6ZXIoZWRpdG9yLCBjZmcpIHtcbiAgICAgICAgdGhpcy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgIHRoaXMud2luZG93ID0gZWRpdG9yLndpbmRvdy4kO1xuICAgICAgICB0aGlzLmRvY3VtZW50ID0gZWRpdG9yLmRvY3VtZW50LiQ7XG4gICAgICAgIHRoaXMuY2ZnID0gY2ZnIHx8IHt9O1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICB9XG5cbiAgICBSZXNpemVyLnByb3RvdHlwZSA9IHtcbiAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzO1xuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXIgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICBjb250YWluZXIuaWQgPSAnY2tpbWdyc3onO1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5wcmV2aWV3KTtcblxuICAgICAgICAgICAgdmFyIGhhbmRsZXMgPSB0aGlzLmhhbmRsZXMgPSB7fTtcblxuICAgICAgICAgICAgSU1BR0VfSEFORExFU1t0aGlzLmNmZy5pbWFnZVNjYWxlUmVzaXplXS5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVOYW1lLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXNbaGFuZGxlTmFtZV0gPSBpbnN0YW5jZS5oYW5kbGVzW2hhbmRsZU5hbWVdID0gaW5zdGFuY2UuY3JlYXRlSGFuZGxlKGhhbmRsZU5hbWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChoYW5kbGVzW25dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgY3JlYXRlSGFuZGxlOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQobmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGlzSGFuZGxlOiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXMgPSB0aGlzLmhhbmRsZXM7XG4gICAgICAgICAgICBmb3IgKHZhciBuIGluIGhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlc1tuXSA9PT0gZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBzaG93OiBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdGhpcy5lbCA9IGVsO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2ZnLnNuYXBUb1NpemUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm90aGVySW1hZ2VzID0gdG9BcnJheSh0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vdGhlckltYWdlcy5zcGxpY2UodGhpcy5vdGhlckltYWdlcy5pbmRleE9mKGVsKSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5ib3ggPSBnZXRCb3VuZGluZ0JveCh0aGlzLndpbmRvdywgZWwpO1xuICAgICAgICAgICAgcG9zaXRpb25FbGVtZW50KHRoaXMuY29udGFpbmVyLCBib3gubGVmdCwgYm94LnRvcCk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgdGhpcy5lbC5jbGFzc0xpc3QuYWRkKCdja2ltZ3JzeicpO1xuICAgICAgICAgICAgdGhpcy5zaG93SGFuZGxlcygpO1xuICAgICAgICB9LFxuICAgICAgICBoaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzcyBmcm9tIGFsbCBpbWcuY2tpbWdyc3pcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2tpbWdyc3onKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdja2ltZ3JzeicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5oaWRlSGFuZGxlcygpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5pdERyYWc6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vcmlnaHQtY2xpY2sgb3IgbWlkZGxlLWNsaWNrXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlc2l6ZXIgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIGRyYWcgPSBuZXcgRHJhZ0V2ZW50KHRoaXMud2luZG93LCB0aGlzLmRvY3VtZW50KTtcbiAgICAgICAgICAgIGRyYWcub25TdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuc2hvd1ByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXNpemVyLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuZWRpdG9yLmdldFNlbGVjdGlvbigpLmxvY2soKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkcmFnLm9uRHJhZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuY2FsY3VsYXRlU2l6ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICByZXNpemVyLnVwZGF0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB2YXIgYm94ID0gcmVzaXplci5wcmV2aWV3Qm94O1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIudXBkYXRlSGFuZGxlcyhib3gsIGJveC5sZWZ0LCBib3gudG9wKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkcmFnLm9uUmVsZWFzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXIuaGlkZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICByZXNpemVyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICByZXNpemVyLmVkaXRvci5nZXRTZWxlY3Rpb24oKS51bmxvY2soKTtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIGFuIHVuZG8gc25hcHNob3QgYmVmb3JlIHRoZSBpbWFnZSBpcyBwZXJtYW5lbnRseSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgcmVzaXplci5lZGl0b3IuZmlyZSgnc2F2ZVNuYXBzaG90Jyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZHJhZy5vbkNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmVzaXplci5yZXNpemVDb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIC8vIFNhdmUgYW5vdGhlciBzbmFwc2hvdCBhZnRlciB0aGUgaW1hZ2UgaXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgIHJlc2l6ZXIuZWRpdG9yLmZpcmUoJ3NhdmVTbmFwc2hvdCcpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRyYWcuc3RhcnQoZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUhhbmRsZXM6IGZ1bmN0aW9uKGJveCwgbGVmdCwgdG9wKSB7XG4gICAgICAgICAgICBsZWZ0ID0gbGVmdCB8fCAwO1xuICAgICAgICAgICAgdG9wID0gdG9wIHx8IDA7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcyA9IHRoaXMuaGFuZGxlcztcblxuICAgICAgICAgICAgZm9yICh2YXIgaGFuZGxlIGluIGhhbmRsZXMpIHtcbiAgICAgICAgICAgICAgICBQT1NJVElPTl9FTEVNRU5UX0ZOW2hhbmRsZV0oaGFuZGxlc1toYW5kbGVdLCBsZWZ0LCB0b3AsIGJveCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNob3dIYW5kbGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVzID0gdGhpcy5oYW5kbGVzO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVIYW5kbGVzKHRoaXMuYm94KTtcbiAgICAgICAgICAgIGZvciAodmFyIG4gaW4gaGFuZGxlcykge1xuICAgICAgICAgICAgICAgIGhhbmRsZXNbbl0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVIYW5kbGVzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBoYW5kbGVzID0gdGhpcy5oYW5kbGVzO1xuICAgICAgICAgICAgZm9yICh2YXIgbiBpbiBoYW5kbGVzKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlc1tuXS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzaG93UHJldmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnByZXZpZXcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcIicgKyB0aGlzLmVsLnNyYyArICdcIiknO1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVTaXplKCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgIHRoaXMucHJldmlldy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUHJldmlldzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5wcmV2aWV3Qm94O1xuICAgICAgICAgICAgcG9zaXRpb25FbGVtZW50KHRoaXMucHJldmlldywgYm94LmxlZnQsIGJveC50b3ApO1xuICAgICAgICAgICAgdGhpcy5wcmV2aWV3LnN0eWxlLndpZHRoID0gdGhpcy5wcmV2aWV3Qm94LndpZHRoICsgJ3B4JztcbiAgICAgICAgICAgIHRoaXMucHJldmlldy5zdHlsZS5oZWlnaHQgPSB0aGlzLnByZXZpZXdCb3guaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgfSxcbiAgICAgICAgaGlkZVByZXZpZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGJveCA9IGdldEJvdW5kaW5nQm94KHRoaXMud2luZG93LCB0aGlzLnByZXZpZXcpO1xuICAgICAgICAgICAgdGhpcy5yZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGJveC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGJveC5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnByZXZpZXcuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSxcbiAgICAgICAgY2FsY3VsYXRlU2l6ZTogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIGJveCA9IHRoaXMucHJldmlld0JveCA9IHtcbiAgICAgICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5ib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmJveC5oZWlnaHRcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghZGF0YSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgYXR0ciA9IGRhdGEudGFyZ2V0LmNsYXNzTmFtZTtcblxuICAgICAgICAgICAgaWYgKH5hdHRyLmluZGV4T2YoJ3InKSkge1xuICAgICAgICAgICAgICAgIGJveC53aWR0aCA9IE1hdGgubWF4KDMyLCB0aGlzLmJveC53aWR0aCArIGRhdGEuZGVsdGEueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAofmF0dHIuaW5kZXhPZignYicpKSB7XG4gICAgICAgICAgICAgICAgYm94LmhlaWdodCA9IE1hdGgubWF4KDMyLCB0aGlzLmJveC5oZWlnaHQgKyBkYXRhLmRlbHRhLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKH5hdHRyLmluZGV4T2YoJ2wnKSkge1xuICAgICAgICAgICAgICAgIGJveC53aWR0aCA9IE1hdGgubWF4KDMyLCB0aGlzLmJveC53aWR0aCAtIGRhdGEuZGVsdGEueCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAofmF0dHIuaW5kZXhPZigndCcpKSB7XG4gICAgICAgICAgICAgICAgYm94LmhlaWdodCA9IE1hdGgubWF4KDMyLCB0aGlzLmJveC5oZWlnaHQgLSBkYXRhLmRlbHRhLnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9pZiBkcmFnZ2luZyBjb3JuZXIsIGVuZm9yY2UgYXNwZWN0IHJhdGlvICh1bmxlc3Mgc2hpZnQga2V5IGlzIGJlaW5nIGhlbGQpXG4gICAgICAgICAgICBpZiAoYXR0ci5pbmRleE9mKCdtJykgPCAwICYmICFkYXRhLmtleXMuc2hpZnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmF0aW8gPSB0aGlzLmJveC53aWR0aCAvIHRoaXMuYm94LmhlaWdodDtcbiAgICAgICAgICAgICAgICBpZiAoYm94LndpZHRoIC8gYm94LmhlaWdodCA+IHJhdGlvKSB7XG4gICAgICAgICAgICAgICAgICAgIGJveC5oZWlnaHQgPSBNYXRoLnJvdW5kKGJveC53aWR0aCAvIHJhdGlvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBib3gud2lkdGggPSBNYXRoLnJvdW5kKGJveC5oZWlnaHQgKiByYXRpbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc25hcFRvU2l6ZSA9IHRoaXMuY2ZnLnNuYXBUb1NpemU7XG5cbiAgICAgICAgICAgIGlmIChzbmFwVG9TaXplKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVycyA9IHRoaXMub3RoZXJJbWFnZXM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdGhlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG90aGVyID0gZ2V0Qm91bmRpbmdCb3godGhpcy53aW5kb3csIG90aGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhib3gud2lkdGggLSBvdGhlci53aWR0aCkgPD0gc25hcFRvU2l6ZSAmJiBNYXRoLmFicyhib3guaGVpZ2h0IC0gb3RoZXIuaGVpZ2h0KSA8PSBzbmFwVG9TaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3gud2lkdGggPSBvdGhlci53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveC5oZWlnaHQgPSBvdGhlci5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9yZWNhbGN1bGF0ZSBsZWZ0IG9yIHRvcCBwb3NpdGlvblxuICAgICAgICAgICAgaWYgKH5hdHRyLmluZGV4T2YoJ2wnKSkge1xuICAgICAgICAgICAgICAgIGJveC5sZWZ0ID0gdGhpcy5ib3gud2lkdGggLSBib3gud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAofmF0dHIuaW5kZXhPZigndCcpKSB7XG4gICAgICAgICAgICAgICAgYm94LnRvcCA9IHRoaXMuYm94LmhlaWdodCAtIGJveC5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2l6ZUNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2l6ZUVsZW1lbnQuY2FsbCh0aGlzLCB0aGlzLmVsLCB0aGlzLnJlc3VsdC53aWR0aCwgdGhpcy5yZXN1bHQuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBEcmFnRXZlbnQod2luZG93LCBkb2N1bWVudCkge1xuICAgICAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICB0aGlzLmV2ZW50cyA9IHtcbiAgICAgICAgICAgIG1vdXNlbW92ZTogYmluZCh0aGlzLm1vdXNlbW92ZSwgdGhpcyksXG4gICAgICAgICAgICBrZXlkb3duOiBiaW5kKHRoaXMua2V5ZG93biwgdGhpcyksXG4gICAgICAgICAgICBtb3VzZXVwOiBiaW5kKHRoaXMubW91c2V1cCwgdGhpcylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBEcmFnRXZlbnQucHJvdG90eXBlID0ge1xuICAgICAgICBzdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmF0dHIgPSBlLnRhcmdldC5jbGFzc05hbWU7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zID0ge1xuICAgICAgICAgICAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB5OiBlLmNsaWVudFlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShlKTtcbiAgICAgICAgICAgIHZhciBldmVudHMgPSB0aGlzLmV2ZW50cztcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZXZlbnRzLm1vdXNlbW92ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnRzLmtleWRvd24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV2ZW50cy5tb3VzZXVwLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnZHJhZ2dpbmctJyArIHRoaXMuYXR0cik7XG4gICAgICAgICAgICB0aGlzLm9uU3RhcnQgJiYgdGhpcy5vblN0YXJ0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UG9zID0ge1xuICAgICAgICAgICAgICAgIHg6IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB5OiBlLmNsaWVudFlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmRlbHRhID0ge1xuICAgICAgICAgICAgICAgIHg6IGUuY2xpZW50WCAtIHRoaXMuc3RhcnRQb3MueCxcbiAgICAgICAgICAgICAgICB5OiBlLmNsaWVudFkgLSB0aGlzLnN0YXJ0UG9zLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmtleXMgPSB7XG4gICAgICAgICAgICAgICAgc2hpZnQ6IGUuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgY3RybDogZS5jdHJsS2V5LFxuICAgICAgICAgICAgICAgIGFsdDogZS5hbHRLZXlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlbW92ZTogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoZSk7XG4gICAgICAgICAgICB0aGlzLm9uRHJhZyAmJiB0aGlzLm9uRHJhZygpO1xuICAgICAgICAgICAgaWYgKGUud2hpY2ggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvL21vdXNlIGJ1dHRvbiByZWxlYXNlZCBvdXRzaWRlIHdpbmRvdzsgbW91c2V1cCB3YXNuJ3QgZmlyZWQgKENocm9tZSlcbiAgICAgICAgICAgICAgICB0aGlzLm1vdXNldXAoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGtleWRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vZXNjYXBlIGtleSBjYW5jZWxzIGRyYWdnaW5nXG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VzZXVwOiBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShlKTtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZSgpO1xuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlICYmIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICB9LFxuICAgICAgICByZWxlYXNlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZ2luZy0nICsgdGhpcy5hdHRyKTtcbiAgICAgICAgICAgIHZhciBldmVudHMgPSB0aGlzLmV2ZW50cztcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZXZlbnRzLm1vdXNlbW92ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnRzLmtleWRvd24sIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV2ZW50cy5tb3VzZXVwLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLm9uUmVsZWFzZSAmJiB0aGlzLm9uUmVsZWFzZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vaGVscGVyIGZ1bmN0aW9uc1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkob2JqKSB7XG4gICAgICAgIHZhciBsZW4gPSBvYmoubGVuZ3RoLFxuICAgICAgICAgICAgYXJyID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGFycltpXSA9IG9ialtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJpbmQoZm4sIGN0eCkge1xuICAgICAgICBpZiAoZm4uYmluZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmJpbmQoY3R4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBmbi5hcHBseShjdHgsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcG9zaXRpb25FbGVtZW50KGVsLCBsZWZ0LCB0b3ApIHtcbiAgICAgICAgZWwuc3R5bGUubGVmdCA9IFN0cmluZyhsZWZ0KSArICdweCc7XG4gICAgICAgIGVsLnN0eWxlLnRvcCA9IFN0cmluZyh0b3ApICsgJ3B4JztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVFbGVtZW50KGVsLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBpbWFnZVNjYWxlUmVzaXplID0gdGhpcy5lZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemU7XG4gICAgICAgIGlmIChpbWFnZVNjYWxlUmVzaXplID09PSAnYm90aCcpIHtcbiAgICAgICAgICAgIGVsLnN0eWxlLndpZHRoID0gU3RyaW5nKHdpZHRoKSArICdweCc7XG4gICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBTdHJpbmcoaGVpZ2h0KSArICdweCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ3dpZHRoJyB8fCBpbWFnZVNjYWxlUmVzaXplID09PSAnc2NhbGUnKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICBlbC5zdHlsZS53aWR0aCA9IFN0cmluZyh3aWR0aCkgKyAncHgnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGltYWdlU2NhbGVSZXNpemUgPT09ICdoZWlnaHQnKSB7XG4gICAgICAgICAgICBlbC5zdHlsZS5oZWlnaHQgPSBTdHJpbmcoaGVpZ2h0KSArICdweCc7XG4gICAgICAgICAgICBlbC5zdHlsZS53aWR0aCA9ICdhdXRvJztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEJvdW5kaW5nQm94KHdpbmRvdywgZWwpIHtcbiAgICAgICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgIHRvcDogcmVjdC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG59KCkpO1xuIiwiLyoqXG4gKiBDS0VkaXRvciBwbHVnaW46IEltYWdlMlxuICogLSBTaG93IGdyaXBwZXIgdG8gcmVzaXplIGltYWdlcyBvbiBJRVxuICovXG4oZnVuY3Rpb24gKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfZHJhZ3Jlc2l6ZV9pZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYWxpZ25tZW50c09iaiA9IHtcbiAgICAgICAgY2VudGVyOiAxLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICByaWdodDogMlxuICAgIH07XG5cbiAgICAvKlxuICAgICAqIFNldCBjdXJzb3IgY3NzIGRlcGVuZCBvbiBpbWFnZVNjYWxlUmVzaXplIGNvbmZpZ1xuICAgICAqKi9cblxuICAgIHZhciBjdXJzb3IgPSB7XG4gICAgICAgIGJvdGg6ICdud3NlLXJlc2l6ZScsXG4gICAgICAgIGhlaWdodDogJ25zLXJlc2l6ZScsXG4gICAgICAgIHNjYWxlOiAnbndzZS1yZXNpemUnLFxuICAgICAgICB3aWR0aDogJ2V3LXJlc2l6ZScsXG4gICAgfTtcblxuICAgIHZhciByZWdleFBlcmNlbnQgPSAvXlxccyooXFxkK1xcJSlcXHMqJC9pO1xuXG4gICAgdmFyIHRlbXBsYXRlID0gJzxpbWcgYWx0PVwiXCIgc3JjPVwiXCIgLz4nO1xuXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX2RyYWdyZXNpemVfaWUnLCB7XG4gICAgICAgIGhpZHBpOiB0cnVlLFxuXG4gICAgICAgIGljb25zOiAnaW1hZ2UnLFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChlZGl0b3IpIHtcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IHdpZGdldERlZihlZGl0b3IpO1xuXG4gICAgICAgICAgICAvLyBSZWdpc3RlciB0aGUgd2lkZ2V0LlxuICAgICAgICAgICAgZWRpdG9yLndpZGdldHMuYWRkKCdpbWFnZScsIGltYWdlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIENLRURJVE9SLmFkZENzcyhcbiAgICAgICAgICAgICAgICAnLmNrZV9pbWFnZV9yZXNpemVyX253c2UtcmVzaXpleycgK1xuICAgICAgICAgICAgICAgICdjdXJzb3I6IG53c2UtcmVzaXplOycgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2VfcmVzaXplcl9ucy1yZXNpemV7JyArXG4gICAgICAgICAgICAgICAgJ2N1cnNvcjogbnMtcmVzaXplOycgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2VfcmVzaXplcl9ud3NlLXJlc2l6ZXsnICtcbiAgICAgICAgICAgICAgICAnY3Vyc29yOiBud3NlLXJlc2l6ZTsnICtcbiAgICAgICAgICAgICAgICAnfScgK1xuICAgICAgICAgICAgICAgICcuY2tlX2ltYWdlX3Jlc2l6ZXJfZXctcmVzaXpleycgK1xuICAgICAgICAgICAgICAgICdjdXJzb3I6IGV3LXJlc2l6ZTsnICtcbiAgICAgICAgICAgICAgICAnfScgK1xuICAgICAgICAgICAgICAgICcuY2tlX2ltYWdlX25vY2FwdGlvbnsnICtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRvIHJlbW92ZSB1bndhbnRlZCBzcGFjZSBzbyByZXNpemVcbiAgICAgICAgICAgICAgICAvLyB3cmFwcGVyIGlzIGRpc3BsYXllZCBwcm9wZXJ0eS5cbiAgICAgICAgICAgICAgICAnbGluZS1oZWlnaHQ6MCcgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2VfaW1hZ2VfcmVzaXplcnsnICtcbiAgICAgICAgICAgICAgICAnZGlzcGxheTpub25lOycgK1xuICAgICAgICAgICAgICAgICdwb3NpdGlvbjphYnNvbHV0ZTsnICtcbiAgICAgICAgICAgICAgICAnd2lkdGg6MTBweDsnICtcbiAgICAgICAgICAgICAgICAnaGVpZ2h0OjEwcHg7JyArXG4gICAgICAgICAgICAgICAgJ2JvdHRvbTotNXB4OycgK1xuICAgICAgICAgICAgICAgICdyaWdodDotNXB4OycgK1xuICAgICAgICAgICAgICAgICdiYWNrZ3JvdW5kOiMwMDA7JyArXG4gICAgICAgICAgICAgICAgJ291dGxpbmU6MXB4IHNvbGlkICNmZmY7JyArXG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBkcmFnIGhhbmRsZXIgZnJvbSBiZWluZyBtaXNwbGFjZWQgKCMxMTIwNykuXG4gICAgICAgICAgICAgICAgJ2xpbmUtaGVpZ2h0OjA7JyArXG4gICAgICAgICAgICAgICAgJ2N1cnNvcjpud3NlLXJlc2l6ZTsnICtcbiAgICAgICAgICAgICAgICAnfScgK1xuICAgICAgICAgICAgICAgICcuY2tlX2ltYWdlX3Jlc2l6ZXJfd3JhcHBlcnsnICtcbiAgICAgICAgICAgICAgICAncG9zaXRpb246cmVsYXRpdmU7JyArXG4gICAgICAgICAgICAgICAgJ2Rpc3BsYXk6aW5saW5lLWJsb2NrOycgK1xuICAgICAgICAgICAgICAgICdsaW5lLWhlaWdodDowOycgK1xuICAgICAgICAgICAgICAgICd9JyArXG4gICAgICAgICAgICAgICAgJy5ja2Vfd2lkZ2V0X3dyYXBwZXI6aG92ZXIgLmNrZV9pbWFnZV9yZXNpemVyLCcgK1xuICAgICAgICAgICAgICAgICcuY2tlX2ltYWdlX3Jlc2l6ZXIuY2tlX2ltYWdlX3Jlc2l6aW5neycgK1xuICAgICAgICAgICAgICAgICdkaXNwbGF5OmJsb2NrJyArXG4gICAgICAgICAgICAgICAgJ30nXG4gICAgICAgICAgICApO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlcXVpcmVzOiAnd2lkZ2V0J1xuICAgIH0pO1xuXG4gICAgLy8gV2lnZXQgc3RhdGVzIChmb3JtcykgZGVwZW5kaW5nIG9uIGFsaWdubWVudCBhbmQgY29uZmlndXJhdGlvbi5cbiAgICAvL1xuICAgIC8vIE5vbi1jYXB0aW9uZWQgd2lkZ2V0IChpbmxpbmUgc3R5bGVzKVxuICAgIC8vIFx0XHTilIzilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgICAvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJub25lICDilII8d3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAg4pSCPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCbGVmdCAg4pSCPHdyYXBwZXIgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnT4gICDilII8aW1nIHN0eWxlPeKAnWZsb2F0OmxlZnTigJ0gLz4gICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilJzilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilLzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKRcbiAgICAvLyBcdFx04pSCY2VudGVy4pSCPHdyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAgIOKUgjxwIHN0eWxlPeKAnXRleHQtYWxpZ246Y2VudGVy4oCdPuKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPHAgc3R5bGU94oCddGV4dC1hbGlnbjpjZW50ZXLigJ0+IOKUgiAgPGltZyAvPiAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiAgIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICDilII8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPC9wPiAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJyaWdodCDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpyaWdodOKAnT4gIOKUgjxpbWcgc3R5bGU94oCdZmxvYXQ6cmlnaHTigJ0gLz4gIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAgIC8vXG4gICAgLy8gTm9uLWNhcHRpb25lZCB3aWRnZXQgKGNvbmZpZy5pbWFnZTJfYWxpZ25DbGFzc2VzIGRlZmluZWQpXG4gICAgLy8gXHRcdOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUrOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICAgIC8vIFx0XHTilIJBbGlnbiDilIJJbnRlcm5hbCBmb3JtICAgICAgICAgICAgICAgICAg4pSCRGF0YSAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgm5vbmUgIOKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICDilII8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBjbGFzcz3igJ1sZWZ04oCdPiAgICAgICAgIOKUgjxpbWcgY2xhc3M94oCdbGVmdOKAnSAvPiAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilIIgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJjZW50ZXLilII8d3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAg4pSCPHAgY2xhc3M94oCdY2VudGVy4oCdPiAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8cCBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICAg4pSCIDxpbWcgLz4gICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCICAgPGltZyAvPiAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgnJpZ2h0IOKUgjx3cmFwcGVyIGNsYXNzPeKAnXJpZ2h04oCdPiAgICAgICAg4pSCPGltZyBjbGFzcz3igJ1yaWdodOKAnSAvPiAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8aW1nIC8+ICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICAgIC8vIFx0XHTilIIgICAgICDilII8L3dyYXBwZXI+ICAgICAgICAgICAgICAgICAgICAg4pSCICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSU4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gICAgLy9cbiAgICAvLyBDYXB0aW9uZWQgd2lkZ2V0IChpbmxpbmUgc3R5bGVzKVxuICAgIC8vIFx0XHTilIzilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgICAvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgm5vbmUgIOKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilII8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBzdHlsZT3igJ1mbG9hdDpsZWZ04oCdPiAgICAgICAgICAgIOKUgjxmaWd1cmUgc3R5bGU94oCdZmxvYXQ6bGVmdOKAnSAvPiAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJjZW50ZXLilII8d3JhcHBlciBzdHlsZT3igJ10ZXh0LWFsaWduOmNlbnRlcuKAnT4gICAgIOKUgjxkaXYgc3R5bGU94oCddGV4dC1hbGlnbjpjZW50ZXLigJ0+ICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIHN0eWxlPeKAnWRpc3BsYXk6aW5saW5lLWJsb2Nr4oCdIC8+4pSCIDxmaWd1cmUgc3R5bGU94oCdZGlzcGxheTppbmxpbmUtYmxvY2vigJ0gLz7ilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgjwvcD4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgnJpZ2h0IOKUgjx3cmFwcGVyIHN0eWxlPeKAnWZsb2F0OnJpZ2h04oCdPiAgICAgICAgICAg4pSCPGZpZ3VyZSBzdHlsZT3igJ1mbG9hdDpyaWdodOKAnSAvPiAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCIDxmaWd1cmUgLz4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSCICAgICAg4pSCPC93cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSU4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gICAgLy9cbiAgICAvLyBDYXB0aW9uZWQgd2lkZ2V0IChjb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcyBkZWZpbmVkKVxuICAgIC8vIFx0XHTilIzilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJBcbiAgICAvLyBcdFx04pSCQWxpZ24g4pSCSW50ZXJuYWwgZm9ybSAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgkRhdGEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAgICAvLyBcdFx04pSc4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pS84pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSkXG4gICAgLy8gXHRcdOKUgm5vbmUgIOKUgjx3cmFwcGVyPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilII8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJsZWZ0ICDilII8d3JhcHBlciBjbGFzcz3igJ1sZWZ04oCdPiAgICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgY2xhc3M94oCdbGVmdOKAnSAvPiAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJjZW50ZXLilII8d3JhcHBlciBjbGFzcz3igJ1jZW50ZXLigJ0+ICAgICAgICAgICAgICAgIOKUgjxkaXYgY2xhc3M94oCdY2VudGVy4oCdPiAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgPGZpZ3VyZSAvPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilII8L3A+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUvOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpFxuICAgIC8vIFx0XHTilIJyaWdodCDilII8d3JhcHBlciBjbGFzcz3igJ1yaWdodOKAnT4gICAgICAgICAgICAgICAgIOKUgjxmaWd1cmUgY2xhc3M94oCdcmlnaHTigJ0gLz4gICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgiA8ZmlndXJlIC8+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUgiAgICAgIOKUgjwvd3JhcHBlcj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gICAgLy8gXHRcdOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUtOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9XG4gICAgLy8gQHJldHVybnMge09iamVjdH1cbiAgICBmdW5jdGlvbiB3aWRnZXREZWYoZWRpdG9yKSB7XG4gICAgICAgIGVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZSA9IGVkaXRvci5jb25maWcuaW1hZ2VTY2FsZVJlc2l6ZSB8fCAnYm90aCc7XG5cbiAgICAgICAgZWRpdG9yLm9uKCdpbWFnZUFkZCcsIGZ1bmN0aW9uIChpbWFnZURhdGEpIHtcbiAgICAgICAgICAgIGVkaXRvci53aWRnZXRzLmluaXRPbihpbWFnZURhdGEuZGF0YS5lbCwgJ2ltYWdlJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBhbGlnbkNsYXNzZXMgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXM7XG5cbiAgICAgICAgdmFyIGNhcHRpb25lZENsYXNzID0gZWRpdG9yLmNvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3M7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVscGVycyA9IENLRURJVE9SLnBsdWdpbnMuaW1hZ2UyO1xuXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlID0gdGhpcy5wYXJ0cy5pbWFnZTtcblxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBhbHQ6IGltYWdlLmdldEF0dHJpYnV0ZSgnYWx0JykgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGhhc0NhcHRpb246ICEhdGhpcy5wYXJ0cy5jYXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIC8vIExvY2sgcmF0aW8gaXMgb24gYnkgZGVmYXVsdCAoIzEwODMzKS5cbiAgICAgICAgICAgICAgICAgICAgbG9jazogdGhpcy5yZWFkeSA/IGhlbHBlcnMuY2hlY2tIYXNOYXR1cmFsUmF0aW8oaW1hZ2UpIDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc3JjOiBpbWFnZS5nZXRBdHRyaWJ1dGUoJ3NyYycpLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2UuZ2V0QXR0cmlidXRlKCd3aWR0aCcpIHx8ICcnXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHVzZWQgJ2EnIGluIHdpZGdldCNwYXJ0cyBkZWZpbml0aW9uLCBpdCBjb3VsZCBoYXBwZW4gdGhhdFxuICAgICAgICAgICAgICAgIC8vIHNlbGVjdGVkIGVsZW1lbnQgaXMgYSBjaGlsZCBvZiB3aWRnZXQucGFydHMjY2FwdGlvbi4gU2luY2UgdGhlcmUncyBubyBjbGV2ZXJcbiAgICAgICAgICAgICAgICAvLyB3YXkgdG8gc29sdmUgaXQgd2l0aCBDU1Mgc2VsZWN0b3JzLCBpdCdzIGRvbmUgbGlrZSB0aGF0LiAoIzExNzgzKS5cbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IGltYWdlLmdldEFzY2VuZGFudCgnYScpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGxpbmsgJiYgdGhpcy53cmFwcGVyLmNvbnRhaW5zKGxpbmspKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMubGluayA9IGxpbms7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gRGVwZW5kaW5nIG9uIGNvbmZpZ3VyYXRpb24sIHJlYWQgc3R5bGUvY2xhc3MgZnJvbSBlbGVtZW50IGFuZFxuICAgICAgICAgICAgICAgIC8vIHRoZW4gcmVtb3ZlIGl0LiBSZW1vdmVkIHN0eWxlL2NsYXNzIHdpbGwgYmUgc2V0IG9uIHdyYXBwZXIgaW4gI2RhdGEgbGlzdGVuZXIuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogQ2VudGVyIGFsaWdubWVudCBpcyBkZXRlY3RlZCBkdXJpbmcgdXBjYXN0LCBzbyBvbmx5IGxlZnQvcmlnaHQgY2FzZXNcbiAgICAgICAgICAgICAgICAvLyBhcmUgY2hlY2tlZCBiZWxvdy5cbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuYWxpZ24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsaWduRWxlbWVudCA9IGRhdGEuaGFzQ2FwdGlvbiA/IHRoaXMuZWxlbWVudCA6IGltYWdlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlYWQgdGhlIGluaXRpYWwgbGVmdC9yaWdodCBhbGlnbm1lbnQgZnJvbSB0aGUgY2xhc3Mgc2V0IG9uIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGlnbkNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbGlnbkVsZW1lbnQuaGFzQ2xhc3MoYWxpZ25DbGFzc2VzWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYWxpZ24gPSAnbGVmdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduRWxlbWVudC5oYXNDbGFzcyhhbGlnbkNsYXNzZXNbMl0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS5hbGlnbiA9ICdyaWdodCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmFsaWduKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25FbGVtZW50LnJlbW92ZUNsYXNzKGFsaWduQ2xhc3Nlc1thbGlnbm1lbnRzT2JqW2RhdGEuYWxpZ25dXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuYWxpZ24gPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBpbml0aWFsIGZsb2F0IHN0eWxlIGZyb20gZmlndXJlL2ltYWdlIGFuZCB0aGVuIHJlbW92ZSBpdC5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmFsaWduID0gYWxpZ25FbGVtZW50LmdldFN0eWxlKCdmbG9hdCcpIHx8ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduRWxlbWVudC5yZW1vdmVTdHlsZSgnZmxvYXQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEdldCByaWQgb2YgZXh0cmEgdmVydGljYWwgc3BhY2Ugd2hlbiB0aGVyZSdzIG5vIGNhcHRpb24uXG4gICAgICAgICAgICAgICAgLy8gSXQgd2lsbCBpbXByb3ZlIHRoZSBsb29rIG9mIHRoZSByZXNpemVyLlxuICAgICAgICAgICAgICAgIHRoaXMud3JhcHBlclsoZGF0YS5oYXNDYXB0aW9uID8gJ3JlbW92ZScgOiAnYWRkJykgKyAnQ2xhc3MnXSgnY2tlX2ltYWdlX25vY2FwdGlvbicpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvci5jb25maWcuaW1hZ2UyX2Rpc2FibGVSZXNpemVyICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHVwUmVzaXplcih0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZXMgZGVmYXVsdCBtZXRob2QgdG8gaGFuZGxlIGludGVybmFsIG11dGFiaWxpdHkgb2YgSW1hZ2UyLlxuICAgICAgICAgICAgLy8gQHNlZSBDS0VESVRPUi5wbHVnaW5zLndpZGdldCNhZGRDbGFzc1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIChjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICBnZXRTdHlsZWFibGVFbGVtZW50KHRoaXMpLmFkZENsYXNzKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhbGxvd2VkQ29udGVudDogZ2V0V2lkZ2V0QWxsb3dlZENvbnRlbnQoZWRpdG9yKSxcblxuICAgICAgICAgICAgLy8gVGhpcyB3aWRnZXQgY29udmVydHMgc3R5bGUtZHJpdmVuIGRpbWVuc2lvbnMgdG8gYXR0cmlidXRlcy5cbiAgICAgICAgICAgIGNvbnRlbnRUcmFuc2Zvcm1hdGlvbnM6IFtcbiAgICAgICAgICAgICAgICBbJ2ltZ1t3aWR0aF06IHNpemVUb0F0dHJpYnV0ZSddXG4gICAgICAgICAgICBdLFxuXG4gICAgICAgICAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZlYXR1cmVzID0gdGhpcy5mZWF0dXJlcztcblxuICAgICAgICAgICAgICAgIC8vIEltYWdlIGNhbid0IGJlIGNhcHRpb25lZCB3aGVuIGZpZ2NhcHRpb24gaXMgZGlzYWxsb3dlZCAoIzExMDA0KS5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kYXRhLmhhc0NhcHRpb24gJiYgIWVkaXRvci5maWx0ZXIuY2hlY2tGZWF0dXJlKGZlYXR1cmVzLmNhcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5oYXNDYXB0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gSW1hZ2UgY2FuJ3QgYmUgYWxpZ25lZCB3aGVuIGZsb2F0aW5nIGlzIGRpc2FsbG93ZWQgKCMxMTAwNCkuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGF0YS5hbGlnbiAhPSAnbm9uZScgJiYgIWVkaXRvci5maWx0ZXIuY2hlY2tGZWF0dXJlKGZlYXR1cmVzLmFsaWduKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEuYWxpZ24gPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHdpZGdldC5wYXJ0cy5saW5rIHNpbmNlIGl0IHdpbGwgbm90IGF1dG8tdXBkYXRlIHVubGVzcyB3aWRnZXRcbiAgICAgICAgICAgICAgICAvLyBpcyBkZXN0cm95ZWQgYW5kIHJlLWluaXRlZC5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGF0YS5saW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhcnRzLmxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnBhcnRzLmxpbms7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFydHMubGluaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5saW5rID0gdGhpcy5wYXJ0cy5pbWFnZS5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGFydHMuaW1hZ2Uuc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIGFsdDogdGhpcy5kYXRhLmFsdCxcblxuICAgICAgICAgICAgICAgICAgICBjb250ZW50ZWRpdGFibGU6IHRoaXMucGFydHMuaW1hZ2UuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSA/IHRoaXMucGFydHMuaW1hZ2UuZ2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnKSA6IHRydWUsXG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpbnRlcm5hbCBpcyByZXF1aXJlZCBieSB0aGUgZWRpdG9yLlxuICAgICAgICAgICAgICAgICAgICAnZGF0YS1ja2Utc2F2ZWQtc3JjJzogdGhpcy5kYXRhLnNyYyxcblxuICAgICAgICAgICAgICAgICAgICBzcmM6IHRoaXMuZGF0YS5zcmNcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHNoaWZ0aW5nIG5vbi1jYXB0aW9uZWQgLT4gY2FwdGlvbmVkLCByZW1vdmUgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIC8vIHJlbGF0ZWQgdG8gc3R5bGVzIGZyb20gPGltZy8+LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9sZERhdGEgJiYgIXRoaXMub2xkRGF0YS5oYXNDYXB0aW9uICYmIHRoaXMuZGF0YS5oYXNDYXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGMgaW4gdGhpcy5kYXRhLmNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMuaW1hZ2UucmVtb3ZlQ2xhc3MoYyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgZGltZW5zaW9ucyBvZiB0aGUgaW1hZ2UgYWNjb3JkaW5nIHRvIGdhdGhlcmVkIGRhdGEuXG4gICAgICAgICAgICAgICAgLy8gRG8gaXQgb25seSB3aGVuIHRoZSBhdHRyaWJ1dGVzIGFyZSBhbGxvd2VkICgjMTEwMDQpLlxuICAgICAgICAgICAgICAgIGlmIChlZGl0b3IuZmlsdGVyLmNoZWNrRmVhdHVyZShmZWF0dXJlcy5kaW1lbnNpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERpbWVuc2lvbnModGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2FjaGUgY3VycmVudCBkYXRhLlxuICAgICAgICAgICAgICAgIHRoaXMub2xkRGF0YSA9IENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSwgdGhpcy5kYXRhKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGRvd25jYXN0OiBkb3duY2FzdFdpZGdldEVsZW1lbnQoZWRpdG9yKSxcblxuICAgICAgICAgICAgZHJhZ2dhYmxlOiBmYWxzZSxcblxuICAgICAgICAgICAgLy8gVGhpcyB3aWRnZXQgaGFzIGFuIGVkaXRhYmxlIGNhcHRpb24uXG4gICAgICAgICAgICBlZGl0YWJsZXM6IHtcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiAnZmlnY2FwdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGFsbG93ZWRDb250ZW50OiAnYnIgZW0gc3Ryb25nIHN1YiBzdXAgdSBzOyBhWyFocmVmLHRhcmdldF0nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmVhdHVyZXM6IGdldFdpZGdldEZlYXR1cmVzKGVkaXRvciksXG5cbiAgICAgICAgICAgIC8vIE92ZXJyaWRlcyBkZWZhdWx0IG1ldGhvZCB0byBoYW5kbGUgaW50ZXJuYWwgbXV0YWJpbGl0eSBvZiBJbWFnZTIuXG4gICAgICAgICAgICAvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2dldENsYXNzZXNcbiAgICAgICAgICAgIGdldENsYXNzZXM6IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzUmVnZXggPSBuZXcgUmVnRXhwKCdeKCcgKyBbXS5jb25jYXQoY2FwdGlvbmVkQ2xhc3MsIGFsaWduQ2xhc3Nlcykuam9pbignfCcpICsgJykkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHRoaXMucmVwb3NpdG9yeS5wYXJzZUVsZW1lbnRDbGFzc2VzKGdldFN0eWxlYWJsZUVsZW1lbnQodGhpcykuZ2V0QXR0cmlidXRlKCdjbGFzcycpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBOZWl0aGVyIGNvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3Mgbm9yIGNvbmZpZy5pbWFnZTJfYWxpZ25DbGFzc2VzXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBiZWxvbmcgdG8gc3R5bGUgY2xhc3Nlcy5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyBpbiBjbGFzc2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NSZWdleC50ZXN0KGMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNsYXNzZXNbY107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NlcztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSkoKSxcblxuICAgICAgICAgICAgZ2V0TGFiZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSAodGhpcy5kYXRhLmFsdCB8fCAnJykgKyAnICcgKyB0aGlzLnBhdGhOYW1lO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhYmVsO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gT3ZlcnJpZGVzIGRlZmF1bHQgbWV0aG9kIHRvIGhhbmRsZSBpbnRlcm5hbCBtdXRhYmlsaXR5IG9mIEltYWdlMi5cbiAgICAgICAgICAgIC8vIEBzZWUgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQjaGFzQ2xhc3NcbiAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFN0eWxlYWJsZUVsZW1lbnQodGhpcykuaGFzQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHBhcnRzOiB7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogJ2ZpZ2NhcHRpb24nLFxuICAgICAgICAgICAgICAgIGltYWdlOiAnaW1nJ1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gT3ZlcnJpZGVzIGRlZmF1bHQgbWV0aG9kIHRvIGhhbmRsZSBpbnRlcm5hbCBtdXRhYmlsaXR5IG9mIEltYWdlMi5cbiAgICAgICAgICAgIC8vIEBzZWUgQ0tFRElUT1IucGx1Z2lucy53aWRnZXQjcmVtb3ZlQ2xhc3NcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgZ2V0U3R5bGVhYmxlRWxlbWVudCh0aGlzKS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVxdWlyZWRDb250ZW50OiAnaW1nW3NyYyxhbHRdJyxcblxuICAgICAgICAgICAgc3R5bGVhYmxlRWxlbWVudHM6ICdpbWcgZmlndXJlJyxcblxuICAgICAgICAgICAgLy8gVGVtcGxhdGUgb2YgdGhlIHdpZGdldDogcGxhaW4gaW1hZ2UuXG4gICAgICAgICAgICB0ZW1wbGF0ZTogdGVtcGxhdGUsXG5cbiAgICAgICAgICAgIHVwY2FzdDogdXBjYXN0V2lkZ2V0RWxlbWVudChlZGl0b3IpXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2YgRW5oYW5jZWQgSW1hZ2UgKGltYWdlMikgcGx1Z2luIGhlbHBlcnMuXG4gICAgICpcbiAgICAgKiBAY2xhc3NcbiAgICAgKiBAc2luZ2xldG9uXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5pbWFnZTIgPSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBpbWFnZSByYXRpbyBtYXRjaGVzIHRoZSBuYXR1cmFsIG9uZVxuICAgICAgICAgKiBieSBjb21wYXJpbmcgZGltZW5zaW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2VcbiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBjaGVja0hhc05hdHVyYWxSYXRpbzogZnVuY3Rpb24gKGltYWdlKSB7XG4gICAgICAgICAgICB2YXIgJCA9IGltYWdlLiQsXG4gICAgICAgICAgICAgICAgbmF0dXJhbCA9IHRoaXMuZ2V0TmF0dXJhbChpbWFnZSk7XG5cbiAgICAgICAgICAgIC8vIFRoZSByZWFzb24gZm9yIHR3byBhbHRlcm5hdGl2ZSBjb21wYXJpc29ucyBpcyB0aGF0IHRoZSByb3VuZGluZyBjYW4gY29tZSBmcm9tXG4gICAgICAgICAgICAvLyBib3RoIGRpbWVuc2lvbnMsIGUuZy4gdGhlcmUgYXJlIHR3byBjYXNlczpcbiAgICAgICAgICAgIC8vIFx0MS4gaGVpZ2h0IGlzIGNvbXB1dGVkIGFzIGEgcm91bmRlZCByZWxhdGlvbiBvZiB0aGUgcmVhbCBoZWlnaHQgYW5kIHRoZSB2YWx1ZSBvZiB3aWR0aCxcbiAgICAgICAgICAgIC8vXHQyLiB3aWR0aCBpcyBjb21wdXRlZCBhcyBhIHJvdW5kZWQgcmVsYXRpb24gb2YgdGhlIHJlYWwgd2lkdGggYW5kIHRoZSB2YWx1ZSBvZiBoZWlnaC5cbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKCQuY2xpZW50V2lkdGggLyBuYXR1cmFsLndpZHRoICogbmF0dXJhbC5oZWlnaHQpID09ICQuY2xpZW50SGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgTWF0aC5yb3VuZCgkLmNsaWVudEhlaWdodCAvIG5hdHVyYWwuaGVpZ2h0ICogbmF0dXJhbC53aWR0aCkgPT0gJC5jbGllbnRXaWR0aDtcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBuYXR1cmFsIGRpbWVuc2lvbnMgb2YgdGhlIGltYWdlLiBGb3IgbW9kZXJuIGJyb3dzZXJzXG4gICAgICAgICAqIGl0IHVzZXMgbmF0dXJhbChXaWR0aHxIZWlnaHQpLiBGb3Igb2xkIG9uZXMgKElFOCkgaXQgY3JlYXRlc1xuICAgICAgICAgKiBhIG5ldyBpbWFnZSBhbmQgcmVhZHMgdGhlIGRpbWVuc2lvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBnZXROYXR1cmFsOiBmdW5jdGlvbiAoaW1hZ2UpIHtcbiAgICAgICAgICAgIHZhciBkaW1lbnNpb25zO1xuXG4gICAgICAgICAgICBpZiAoaW1hZ2UuJC5uYXR1cmFsV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGltYWdlLiQubmF0dXJhbEhlaWdoLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1hZ2UuJC5uYXR1cmFsV2lkdGhcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgICAgICAgICBpbWcuc3JjID0gaW1hZ2UuZ2V0QXR0cmlidXRlKCdzcmMnKTtcblxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogaW1nLmhlaWdoLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogaW1nLndpZHRoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGRpbWVuc2lvbnM7XG4gICAgICAgIH0sXG4gICAgfTtcblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgd2lkZ2V0cyBmcm9tIGFsbCA8aW1nPiBhbmRcbiAgICAvLyA8ZmlndXJlIGNsYXNzPVwie2NvbmZpZy5pbWFnZTJfY2FwdGlvbmVkQ2xhc3N9XCI+IGVsZW1lbnRzLlxuICAgIC8vXG4gICAgLy8gQHBhcmFtIHtDS0VESVRPUi5lZGl0b3J9IGVkaXRvclxuICAgIC8vIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAgICBmdW5jdGlvbiB1cGNhc3RXaWRnZXRFbGVtZW50KGVkaXRvcikge1xuICAgICAgICB2YXIgaXNDZW50ZXJXcmFwcGVyID0gY2VudGVyV3JhcHBlckNoZWNrZXIoZWRpdG9yKTtcblxuICAgICAgICB2YXIgY2FwdGlvbmVkQ2xhc3MgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzcztcblxuICAgICAgICAvLyBAcGFyYW0ge0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudH0gZWxcbiAgICAgICAgLy8gQHBhcmFtIHtPYmplY3R9IGRhdGFcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGVsLm5hbWU7XG5cbiAgICAgICAgICAgIHZhciBpbWFnZTtcblxuICAgICAgICAgICAgLy8gIzExMTEwIERvbid0IGluaXRpYWxpemUgb24gcGFzdGVkIGZha2Ugb2JqZWN0cy5cbiAgICAgICAgICAgIGlmIChlbC5hdHRyaWJ1dGVzWydkYXRhLWNrZS1yZWFsZWxlbWVudCddKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBhIGNlbnRlciB3cmFwcGVyIGlzIGZvdW5kLCB0aGVyZSBhcmUgMyBwb3NzaWJsZSBjYXNlczpcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAxLiA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj48ZmlndXJlPi4uLjwvZmlndXJlPjwvZGl2Pi5cbiAgICAgICAgICAgIC8vICAgIEluIHRoaXMgY2FzZSBjZW50ZXJpbmcgaXMgZG9uZSB3aXRoIGEgY2xhc3Mgc2V0IG9uIHdpZGdldC53cmFwcGVyLlxuICAgICAgICAgICAgLy8gICAgU2ltcGx5IHJlcGxhY2UgY2VudGVyaW5nIHdyYXBwZXIgd2l0aCBmaWd1cmUgKGl0J3Mgbm8gbG9uZ2VyIG5lY2Vzc2FyeSkuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gMi4gPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcvPjwvcD4uXG4gICAgICAgICAgICAvLyAgICBOb3RoaW5nIHRvIGRvIGhlcmU6IDxwPiByZW1haW5zIGZvciBzdHlsaW5nIHB1cnBvc2VzLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIDMuIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcvPjwvZGl2Pi5cbiAgICAgICAgICAgIC8vICAgIE5vdGhpbmcgdG8gZG8gaGVyZSAoMi4pIGJ1dCB0aGF0IGNhc2UgaXMgb25seSBwb3NzaWJsZSBpbiBlbnRlck1vZGUgZGlmZmVyZW50XG4gICAgICAgICAgICAvLyAgICB0aGFuIEVOVEVSX1AuXG4gICAgICAgICAgICBpZiAoaXNDZW50ZXJXcmFwcGVyKGVsKSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09ICdkaXYnKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWd1cmUgPSBlbC5nZXRGaXJzdCgnZmlndXJlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzZSAjMS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZ3VyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVwbGFjZVdpdGgoZmlndXJlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gZmlndXJlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIENhc2VzICMyIGFuZCAjMyAoaGFuZGxlZCB0cmFuc3BhcmVudGx5KVxuXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhIGNlbnRlcmluZyB3cmFwcGVyLCBzYXZlIGl0IGluIGRhdGEuXG4gICAgICAgICAgICAgICAgZGF0YS5hbGlnbiA9ICdjZW50ZXInO1xuXG4gICAgICAgICAgICAgICAgLy8gSW1hZ2UgY2FuIGJlIHdyYXBwZWQgaW4gbGluayA8YT48aW1nLz48L2E+LlxuICAgICAgICAgICAgICAgIGltYWdlID0gZWwuZ2V0Rmlyc3QoJ2ltZycpIHx8IGVsLmdldEZpcnN0KCdhJykuZ2V0Rmlyc3QoJ2ltZycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBObyBjZW50ZXIgd3JhcHBlciBoYXMgYmVlbiBmb3VuZC5cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUgPT0gJ2ZpZ3VyZScgJiYgZWwuaGFzQ2xhc3MoY2FwdGlvbmVkQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBlbC5nZXRGaXJzdCgnaW1nJykgfHwgZWwuZ2V0Rmlyc3QoJ2EnKS5nZXRGaXJzdCgnaW1nJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGNhc3QgbGlua2VkIGltYWdlIGxpa2UgPGE+PGltZy8+PC9hPi5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNMaW5rZWRPclN0YW5kYWxvbmVJbWFnZShlbCkpIHtcbiAgICAgICAgICAgICAgICBpbWFnZSA9IGVsLm5hbWUgPT0gJ2EnID8gZWwuY2hpbGRyZW5bMF0gOiBlbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbiBpbWFnZSwgdGhlbiBjb29sLCB3ZSBnb3QgYSB3aWRnZXQuXG4gICAgICAgICAgICAvLyBOb3cganVzdCByZW1vdmUgZGltZW5zaW9uIGF0dHJpYnV0ZXMgZXhwcmVzc2VkIHdpdGggJS5cbiAgICAgICAgICAgIGZvciAodmFyIGQgaW4gZGltZW5zaW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBkaW1lbnNpb24gPSBpbWFnZS5hdHRyaWJ1dGVzW2RdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRpbWVuc2lvbiAmJiBkaW1lbnNpb24ubWF0Y2gocmVnZXhQZXJjZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaW1hZ2UuYXR0cmlidXRlc1tkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggdHJhbnNmb3JtcyB0aGUgd2lkZ2V0IHRvIHRoZSBleHRlcm5hbCBmb3JtYXRcbiAgICAvLyBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgY29uZmlndXJhdGlvbi5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuICAgIGZ1bmN0aW9uIGRvd25jYXN0V2lkZ2V0RWxlbWVudChlZGl0b3IpIHtcbiAgICAgICAgdmFyIGFsaWduQ2xhc3NlcyA9IGVkaXRvci5jb25maWcuaW1hZ2UyX2FsaWduQ2xhc3NlcztcblxuICAgICAgICAvLyBAcGFyYW0ge0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudH0gZWxcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSBvZiA8YT48aW1nLz48L2E+LCA8aW1nLz4gaXMgdGhlIGVsZW1lbnQgdG8gaG9sZFxuICAgICAgICAgICAgLy8gaW5saW5lIHN0eWxlcyBvciBjbGFzc2VzIChpbWFnZTJfYWxpZ25DbGFzc2VzKS5cbiAgICAgICAgICAgIHZhciBhdHRyc0hvbGRlciA9IGVsLm5hbWUgPT0gJ2EnID8gZWwuZ2V0Rmlyc3QoKSA6IGVsO1xuXG4gICAgICAgICAgICB2YXIgYXR0cnMgPSBhdHRyc0hvbGRlci5hdHRyaWJ1dGVzO1xuXG4gICAgICAgICAgICB2YXIgYWxpZ24gPSB0aGlzLmRhdGEuYWxpZ247XG5cbiAgICAgICAgICAgIC8vIERlLXdyYXAgdGhlIGltYWdlIGZyb20gcmVzaXplIGhhbmRsZSB3cmFwcGVyLlxuICAgICAgICAgICAgLy8gT25seSBibG9jayB3aWRnZXRzIGhhdmUgb25lLlxuICAgICAgICAgICAgaWYgKCF0aGlzLmlubGluZSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNpemVXcmFwcGVyID0gZWwuZ2V0Rmlyc3QoJ3NwYW4nKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNpemVXcmFwcGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZVdyYXBwZXIucmVwbGFjZVdpdGgocmVzaXplV3JhcHBlci5nZXRGaXJzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiAxXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbGlnbiAmJiBhbGlnbiAhPSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzID0gQ0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGF0dHJzLnN0eWxlIHx8ICcnKTtcblxuICAgICAgICAgICAgICAgIC8vIFdoZW4gdGhlIHdpZGdldCBpcyBjYXB0aW9uZWQgKDxmaWd1cmU+KSBhbmQgaW50ZXJuYWxseSBjZW50ZXJpbmcgaXMgZG9uZVxuICAgICAgICAgICAgICAgIC8vIHdpdGggd2lkZ2V0J3Mgd3JhcHBlciBzdHlsZS9jbGFzcywgaW4gdGhlIGV4dGVybmFsIGRhdGEgcmVwcmVzZW50YXRpb24sXG4gICAgICAgICAgICAgICAgLy8gPGZpZ3VyZT4gbXVzdCBiZSB3cmFwcGVkIHdpdGggYW4gZWxlbWVudCBob2xkaW5nIGFuIHN0eWxlL2NsYXNzOlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gXHQ8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAvLyBcdFx0PGZpZ3VyZSBjbGFzcz1cImltYWdlXCIgc3R5bGU9XCJkaXNwbGF5OmlubGluZS1ibG9ja1wiPi4uLjwvZmlndXJlPlxuICAgICAgICAgICAgICAgIC8vIFx0PC9kaXY+XG4gICAgICAgICAgICAgICAgLy8gb3JcbiAgICAgICAgICAgICAgICAvLyBcdDxkaXYgY2xhc3M9XCJzb21lLWNlbnRlci1jbGFzc1wiPlxuICAgICAgICAgICAgICAgIC8vIFx0XHQ8ZmlndXJlIGNsYXNzPVwiaW1hZ2VcIj4uLi48L2ZpZ3VyZT5cbiAgICAgICAgICAgICAgICAvLyBcdDwvZGl2PlxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYgKGFsaWduID09ICdjZW50ZXInICYmIGVsLm5hbWUgPT0gJ2ZpZ3VyZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwgPSBlbC53cmFwV2l0aChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KCdkaXYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25DbGFzc2VzID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjbGFzcyc6IGFsaWduQ2xhc3Nlc1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ3RleHQtYWxpZ246Y2VudGVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElmIGxlZnQvcmlnaHQsIGFkZCBmbG9hdCBzdHlsZSB0byB0aGUgZG93bmNhc3RlZCBlbGVtZW50LlxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFsaWduIGluIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMVxuICAgICAgICAgICAgICAgICAgICB9KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGlnbkNsYXNzZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzSG9sZGVyLmFkZENsYXNzKGFsaWduQ2xhc3Nlc1thbGlnbm1lbnRzT2JqW2FsaWduXV0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVzWydmbG9hdCddID0gYWxpZ247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgZWxlbWVudCBzdHlsZXMuXG4gICAgICAgICAgICAgICAgaWYgKCFhbGlnbkNsYXNzZXMgJiYgIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoc3R5bGVzKSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRycy5zdHlsZSA9IENLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChzdHlsZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhbiBlbGVtZW50IGlzIGEgY2VudGVyaW5nIHdyYXBwZXIuXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yXG4gICAgLy8gQHJldHVybnMge0Z1bmN0aW9ufVxuICAgIGZ1bmN0aW9uIGNlbnRlcldyYXBwZXJDaGVja2VyKGVkaXRvcikge1xuICAgICAgICB2YXIgY2FwdGlvbmVkQ2xhc3MgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzcztcblxuICAgICAgICB2YXIgYWxpZ25DbGFzc2VzID0gZWRpdG9yLmNvbmZpZy5pbWFnZTJfYWxpZ25DbGFzc2VzO1xuXG4gICAgICAgIHZhciB2YWxpZENoaWxkcmVuID0ge1xuICAgICAgICAgICAgYTogMSxcbiAgICAgICAgICAgIGZpZ3VyZTogMSxcbiAgICAgICAgICAgIGltZzogMVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIC8vIFdyYXBwZXIgbXVzdCBiZSBlaXRoZXIgPGRpdj4gb3IgPHA+LlxuICAgICAgICAgICAgaWYgKCEoZWwubmFtZSBpbiB7XG4gICAgICAgICAgICAgICAgICAgIGRpdjogMSxcbiAgICAgICAgICAgICAgICAgICAgcDogMVxuICAgICAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBlbC5jaGlsZHJlbjtcblxuICAgICAgICAgICAgLy8gQ2VudGVyaW5nIHdyYXBwZXIgY2FuIGhhdmUgb25seSBvbmUgY2hpbGQuXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlblswXTtcblxuICAgICAgICAgICAgLy8gT25seSA8ZmlndXJlPiBvciA8aW1nIC8+IGNhbiBiZSBmaXJzdCAob25seSkgY2hpbGQgb2YgY2VudGVyaW5nIHdyYXBwZXIsXG4gICAgICAgICAgICAvLyByZWdhcmRsZXNzIG9mIGl0cyB0eXBlLlxuICAgICAgICAgICAgaWYgKCEoY2hpbGQubmFtZSBpbiB2YWxpZENoaWxkcmVuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSWYgY2VudGVyaW5nIHdyYXBwZXIgaXMgPHA+LCBvbmx5IDxpbWcgLz4gY2FuIGJlIHRoZSBjaGlsZC5cbiAgICAgICAgICAgIC8vICAgPHAgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxpbWcgLz48L3A+XG4gICAgICAgICAgICBpZiAoZWwubmFtZSA9PSAncCcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTGlua2VkT3JTdGFuZGFsb25lSW1hZ2UoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDZW50ZXJpbmcgPGRpdj4gY2FuIGhvbGQgPGltZy8+IG9yIDxmaWd1cmU+LCBkZXBlbmRpbmcgb24gZW50ZXJNb2RlLlxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgYSA8ZmlndXJlPiBpcyB0aGUgZmlyc3QgKG9ubHkpIGNoaWxkLCBpdCBtdXN0IGhhdmUgYSBjbGFzcy5cbiAgICAgICAgICAgICAgICAvLyAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxmaWd1cmU+Li4uPC9maWd1cmU+PGRpdj5cbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQubmFtZSA9PSAnZmlndXJlJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLmhhc0NsYXNzKGNhcHRpb25lZENsYXNzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2VudGVyaW5nIDxkaXY+IGNhbiBob2xkIDxpbWcvPiBvciA8YT48aW1nLz48L2E+IG9ubHkgd2hlbiBlbnRlck1vZGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgRU5URVJfKEJSfERJVikuXG4gICAgICAgICAgICAgICAgICAgIC8vICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyXCI+PGltZyAvPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAvLyAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlclwiPjxhPjxpbWcgLz48L2E+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIGlmIChlZGl0b3IuZW50ZXJNb2RlID09IENLRURJVE9SLkVOVEVSX1ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlZ2FyZGxlc3Mgb2YgZW50ZXJNb2RlLCBhIGNoaWxkIHdoaWNoIGlzIG5vdCA8ZmlndXJlPiBtdXN0IGJlXG4gICAgICAgICAgICAgICAgICAgIC8vIGVpdGhlciA8aW1nLz4gb3IgPGE+PGltZy8+PC9hPi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0xpbmtlZE9yU3RhbmRhbG9uZUltYWdlKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDZW50ZXJpbmcgd3JhcHBlciBnb3QgdG8gYmUuLi4gY2VudGVyaW5nLiBJZiBpbWFnZTJfYWxpZ25DbGFzc2VzIGFyZSBkZWZpbmVkLFxuICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGNlbnRlcmluZyBjbGFzcy4gT3RoZXJ3aXNlLCBjaGVjayB0aGUgc3R5bGUuXG4gICAgICAgICAgICBpZiAoYWxpZ25DbGFzc2VzID8gZWwuaGFzQ2xhc3MoYWxpZ25DbGFzc2VzWzFdKSA6XG4gICAgICAgICAgICAgICAgQ0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGVsLmF0dHJpYnV0ZXMuc3R5bGUgfHwgJycsIHRydWUpWyd0ZXh0LWFsaWduJ10gPT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIENoZWNrcyB3aGV0aGVyIGVsZW1lbnQgaXMgPGltZy8+IG9yIDxhPjxpbWcvPjwvYT4uXG4gICAgLy9cbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudH1cbiAgICBmdW5jdGlvbiBpc0xpbmtlZE9yU3RhbmRhbG9uZUltYWdlKGVsKSB7XG4gICAgICAgIGlmIChlbC5uYW1lID09ICdpbWcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChlbC5uYW1lID09ICdhJykge1xuICAgICAgICAgICAgcmV0dXJuIGVsLmNoaWxkcmVuLmxlbmd0aCA9PSAxICYmIGVsLmdldEZpcnN0KCdpbWcnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBTZXRzIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHdpZGdldCBpbWFnZSBhY2NvcmRpbmcgdG8gY3VycmVudCB3aWRnZXQgZGF0YS5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IucGx1Z2lucy53aWRnZXR9IHdpZGdldFxuICAgIGZ1bmN0aW9uIHNldERpbWVuc2lvbnMod2lkZ2V0KSB7XG4gICAgICAgIHZhciBkYXRhID0gd2lkZ2V0LmRhdGE7XG5cbiAgICAgICAgdmFyIGRpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICBoZWlnaHQ6IGRhdGEuaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IGRhdGEud2lkdGhcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgaW1hZ2UgPSB3aWRnZXQucGFydHMuaW1hZ2U7XG5cbiAgICAgICAgZm9yICh2YXIgZCBpbiBkaW1lbnNpb25zKSB7XG4gICAgICAgICAgICBpZiAoZGltZW5zaW9uc1tkXSkge1xuICAgICAgICAgICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShkLCBkaW1lbnNpb25zW2RdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UucmVtb3ZlQXR0cmlidXRlKGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lcyBhbGwgZmVhdHVyZXMgcmVsYXRlZCB0byBkcmFnLWRyaXZlbiBpbWFnZSByZXNpemluZy5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IucGx1Z2lucy53aWRnZXR9IHdpZGdldFxuICAgIGZ1bmN0aW9uIHNldHVwUmVzaXplcih3aWRnZXQpIHtcbiAgICAgICAgdmFyIGVkaXRvciA9IHdpZGdldC5lZGl0b3I7XG5cbiAgICAgICAgdmFyIGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgdmFyIGRvYyA9IGVkaXRvci5kb2N1bWVudDtcblxuICAgICAgICAvLyBTdG9yZSB0aGUgcmVzaXplciBpbiBhIHdpZGdldCBmb3IgdGVzdGluZyAoIzExMDA0KS5cbiAgICAgICAgdmFyIHJlc2l6ZXIgPSB3aWRnZXQucmVzaXplciA9IGRvYy5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG5cbiAgICAgICAgcmVzaXplci5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXInKTtcbiAgICAgICAgcmVzaXplci5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfJyArIGN1cnNvcltlZGl0b3IuY29uZmlnLmltYWdlU2NhbGVSZXNpemVdKTtcbiAgICAgICAgcmVzaXplci5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KCdcXHUyMDBiJywgZG9jKSk7XG5cbiAgICAgICAgLy8gSW5saW5lIHdpZGdldHMgZG9uJ3QgbmVlZCBhIHJlc2l6ZXIgd3JhcHBlciBhcyBhbiBpbWFnZSBzcGFucyB0aGUgZW50aXJlIHdpZGdldC5cbiAgICAgICAgaWYgKCF3aWRnZXQuaW5saW5lKSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2VPckxpbmsgPSB3aWRnZXQucGFydHMubGluayB8fCB3aWRnZXQucGFydHMuaW1hZ2U7XG5cbiAgICAgICAgICAgIHZhciBvbGRSZXNpemVXcmFwcGVyID0gaW1hZ2VPckxpbmsuZ2V0UGFyZW50KCk7XG5cbiAgICAgICAgICAgIHZhciByZXNpemVXcmFwcGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgICAgICAgICAgcmVzaXplV3JhcHBlci5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6ZXJfd3JhcHBlcicpO1xuICAgICAgICAgICAgcmVzaXplV3JhcHBlci5hcHBlbmQoaW1hZ2VPckxpbmspO1xuICAgICAgICAgICAgcmVzaXplV3JhcHBlci5hcHBlbmQocmVzaXplcik7XG4gICAgICAgICAgICB3aWRnZXQuZWxlbWVudC5hcHBlbmQocmVzaXplV3JhcHBlciwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2xkIHdyYXBwZXIgd2hpY2ggY291bGQgY2FtZSBmcm9tIGUuZy4gcGFzdGVkIEhUTUxcbiAgICAgICAgICAgIC8vIGFuZCB3aGljaCBjb3VsZCBiZSBjb3JydXB0ZWQgKGUuZy4gcmVzaXplciBzcGFuIGhhcyBiZWVuIGxvc3QpLlxuICAgICAgICAgICAgaWYgKG9sZFJlc2l6ZVdyYXBwZXIuaXMoJ3NwYW4nKSkge1xuICAgICAgICAgICAgICAgIG9sZFJlc2l6ZVdyYXBwZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aWRnZXQud3JhcHBlci5hcHBlbmQocmVzaXplcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgdmFsdWVzIG9mIHNpemUgdmFyaWFibGVzIGFuZCBtb3VzZSBvZmZzZXRzLlxuICAgICAgICByZXNpemVyLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSB3aWRnZXQucGFydHMuaW1hZ2U7XG5cbiAgICAgICAgICAgIC8vIFwiZmFjdG9yXCIgY2FuIGJlIGVpdGhlciAxIG9yIC0xLiBJLmUuOiBGb3IgcmlnaHQtYWxpZ25lZCBpbWFnZXMsIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIHN1YnRyYWN0IHRoZSBkaWZmZXJlbmNlIHRvIGdldCBwcm9wZXIgd2lkdGgsIGV0Yy4gV2l0aG91dCBcImZhY3RvclwiLFxuICAgICAgICAgICAgLy8gcmVzaXplciBzdGFydHMgd29ya2luZyB0aGUgb3Bwb3NpdGUgd2F5LlxuICAgICAgICAgICAgdmFyIGZhY3RvciA9IHdpZGdldC5kYXRhLmFsaWduID09ICdyaWdodCcgPyAtMSA6IDE7XG5cbiAgICAgICAgICAgIC8vIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIG1vdXNlIHJlbGF0aXZlIHRvIHRoZSBzY3JlZW5cbiAgICAgICAgICAgIC8vIHdoZW4gYnV0dG9uIGdldHMgcHJlc3NlZC5cbiAgICAgICAgICAgIHZhciBzdGFydFggPSBldnQuZGF0YS4kLnNjcmVlblg7XG5cbiAgICAgICAgICAgIHZhciBzdGFydFkgPSBldnQuZGF0YS4kLnNjcmVlblk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBpbml0aWFsIGRpbWVuc2lvbnMgYW5kIGFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2UuXG4gICAgICAgICAgICB2YXIgc3RhcnRXaWR0aCA9IGltYWdlLiQuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgICAgIHZhciBzdGFydEhlaWdodCA9IGltYWdlLiQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gW107XG5cbiAgICAgICAgICAgIC8vIEEgY2xhc3MgYXBwbGllZCB0byBlZGl0YWJsZSBkdXJpbmcgcmVzaXppbmcuXG4gICAgICAgICAgICB2YXIgY3Vyc29yQ2xhc3MgPSAnY2tlX2ltYWdlX3MnICsgKCF+ZmFjdG9yID8gJ3cnIDogJ2UnKTtcblxuICAgICAgICAgICAgdmFyIG5hdGl2ZUV2dCwgbmV3V2lkdGgsIG5ld0hlaWdodCwgdXBkYXRlRGF0YTtcblxuICAgICAgICAgICAgdmFyIG1vdmVEaWZmWCwgbW92ZURpZmZZLCBtb3ZlUmF0aW87XG5cbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIHVuZG8gc25hcHNob3QgZmlyc3Q6IGJlZm9yZSByZXNpemluZy5cbiAgICAgICAgICAgIGVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcblxuICAgICAgICAgICAgLy8gTW91c2Vtb3ZlIGxpc3RlbmVycyBhcmUgcmVtb3ZlZCBvbiBtb3VzZXVwLlxuICAgICAgICAgICAgYXR0YWNoVG9Eb2N1bWVudHMoJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBsaXN0ZW5lcnMpO1xuXG4gICAgICAgICAgICAvLyBDbGVhbiB1cCB0aGUgbW91c2Vtb3ZlIGxpc3RlbmVyLiBVcGRhdGUgd2lkZ2V0IGRhdGEgaWYgdmFsaWQuXG4gICAgICAgICAgICBhdHRhY2hUb0RvY3VtZW50cygnbW91c2V1cCcsIG9uTW91c2VVcCwgbGlzdGVuZXJzKTtcblxuICAgICAgICAgICAgLy8gVGhlIGVudGlyZSBlZGl0YWJsZSB3aWxsIGhhdmUgdGhlIHNwZWNpYWwgY3Vyc29yIHdoaWxlIHJlc2l6aW5nIGdvZXMgb24uXG4gICAgICAgICAgICBlZGl0YWJsZS5hZGRDbGFzcyhjdXJzb3JDbGFzcyk7XG5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gYWx3YXlzIGtlZXAgdGhlIHJlc2l6ZXIgZWxlbWVudCB2aXNpYmxlIHdoaWxlIHJlc2l6aW5nLlxuICAgICAgICAgICAgcmVzaXplci5hZGRDbGFzcygnY2tlX2ltYWdlX3Jlc2l6aW5nJyk7XG5cbiAgICAgICAgICAgIC8vIEF0dGFjaGVzIGFuIGV2ZW50IHRvIGEgZ2xvYmFsIGRvY3VtZW50IGlmIGlubGluZSBlZGl0b3IuXG4gICAgICAgICAgICAvLyBBZGRpdGlvbmFsbHksIGlmIGNsYXNzaWMgKGBpZnJhbWVgLWJhc2VkKSBlZGl0b3IsIGFsc28gYXR0YWNoZXMgdGhlIHNhbWUgZXZlbnQgdG8gYGlmcmFtZWAncyBkb2N1bWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGF0dGFjaFRvRG9jdW1lbnRzKG5hbWUsIGNhbGxiYWNrLCBjb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdsb2JhbERvYyA9IENLRURJVE9SLmRvY3VtZW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFkb2MuZXF1YWxzKGdsb2JhbERvYykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goZ2xvYmFsRG9jLm9uKG5hbWUsIGNhbGxiYWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goZG9jLm9uKG5hbWUsIGNhbGxiYWNrKSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gbGlzdGVuZXJzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5wdXNoKGxpc3RlbmVycy5wb3AoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgaG93IHZhcmlhYmxlcyByZWZlciB0byB0aGUgZ2VvbWV0cnkuXG4gICAgICAgICAgICAvLyBOb3RlOiB4IGNvcnJlc3BvbmRzIHRvIG1vdmVPZmZzZXQsIHRoaXMgaXMgdGhlIHBvc2l0aW9uIG9mIG1vdXNlXG4gICAgICAgICAgICAvLyBOb3RlOiBvIGNvcnJlc3BvbmRzIHRvIFtzdGFydFgsIHN0YXJ0WV0uXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gXHQrLS0tLS0tLS0tLS0tLS0rLS0tLS0tLS0tLS0tLS0rXG4gICAgICAgICAgICAvLyBcdHwgICAgICAgICAgICAgIHwgICAgICAgICAgICAgIHxcbiAgICAgICAgICAgIC8vIFx0fCAgICAgIEkgICAgICAgfCAgICAgIElJICAgICAgfFxuICAgICAgICAgICAgLy8gXHR8ICAgICAgICAgICAgICB8ICAgICAgICAgICAgICB8XG4gICAgICAgICAgICAvLyBcdCstLS0tLS0tLS0tLS0tIG8gLS0tLS0tLS0tLS0tLSsgXyBfIF9cbiAgICAgICAgICAgIC8vIFx0fCAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfCAgICAgIF5cblxuICAgICAgICAgICAgLy8gXHR8ICAgICAgVkkgICAgICB8ICAgICBJSUkgICAgICB8ICAgICAgfCBtb3ZlRGlmZllcbiAgICAgICAgICAgIC8vIFx0fCAgICAgICAgICAgICAgfCAgICAgICAgIHggXyBfIF8gXyBfIHZcbiAgICAgICAgICAgIC8vIFx0Ky0tLS0tLS0tLS0tLS0tKy0tLS0tLS0tLXwtLS0tK1xuICAgICAgICAgICAgLy8gXHQgICAgICAgICAgICAgICB8ICAgICAgICAgfFxuICAgICAgICAgICAgLy8gXHQgICAgICAgICAgICAgICAgPC0tLS0tLS0+XG4gICAgICAgICAgICAvLyBcdCAgICAgICAgICAgICAgICBtb3ZlRGlmZlhcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKGV2dCkge1xuICAgICAgICAgICAgICAgIHZhciBpbWFnZVNjYWxlUmVzaXplID0gZWRpdG9yLmNvbmZpZy5pbWFnZVNjYWxlUmVzaXplO1xuXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZ0ID0gZXZ0LmRhdGEuJDtcblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgaG93IGZhciB0aGUgbW91c2UgaXMgZnJvbSB0aGUgcG9pbnQgdGhlIGJ1dHRvbiB3YXMgcHJlc3NlZC5cbiAgICAgICAgICAgICAgICBtb3ZlRGlmZlggPSBuYXRpdmVFdnQuc2NyZWVuWCAtIHN0YXJ0WDtcbiAgICAgICAgICAgICAgICBtb3ZlRGlmZlkgPSBzdGFydFkgLSBuYXRpdmVFdnQuc2NyZWVuWTtcblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgbW92ZSBkaWZmZXJlbmNlLlxuICAgICAgICAgICAgICAgIG1vdmVSYXRpbyA9IE1hdGguYWJzKG1vdmVEaWZmWCAvIG1vdmVEaWZmWSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ3dpZHRoJyB8fCBpbWFnZVNjYWxlUmVzaXplID09PSAnYm90aCcgfHwgaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ3NjYWxlJykge1xuICAgICAgICAgICAgICAgICAgICBuZXdXaWR0aCA9IHN0YXJ0V2lkdGggKyBmYWN0b3IgKiBtb3ZlRGlmZlg7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGltYWdlU2NhbGVSZXNpemUgPT09ICdoZWlnaHQnIHx8IGltYWdlU2NhbGVSZXNpemUgPT09ICdib3RoJykge1xuICAgICAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSBzdGFydEhlaWdodCAtIG1vdmVEaWZmWTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTY2FsZVJlc2l6ZSA9PT0gJ3NjYWxlJykge1xuICAgICAgICAgICAgICAgICAgICBuZXdIZWlnaHQgPSAnYXV0byc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbmV3V2lkdGggPSBuZXdXaWR0aCB8fCBzdGFydFdpZHRoO1xuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IG5ld0hlaWdodCB8fCBzdGFydEhlaWdodDtcblxuICAgICAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSBhdHRyaWJ1dGVzIGlmIGxlc3MgdGhhbiAxMC5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRvIHByZXZlbnQgaW1hZ2VzIHRvIHZpc3VhbGx5IGRpc2FwcGVhci5cbiAgICAgICAgICAgICAgICBpZiAobmV3V2lkdGggPj0gMTUgJiYgKG5ld0hlaWdodCA+PSAxNSB8fCBuZXdIZWlnaHQgPT09ICdhdXRvJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogbmV3V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5ld0hlaWdodFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gb25Nb3VzZVVwKCkge1xuICAgICAgICAgICAgICAgIHZhciBsO1xuXG4gICAgICAgICAgICAgICAgd2hpbGUgKChsID0gbGlzdGVuZXJzLnBvcCgpKSkge1xuICAgICAgICAgICAgICAgICAgICBsLnJlbW92ZUxpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gUmVzdG9yZSBkZWZhdWx0IGN1cnNvciBieSByZW1vdmluZyBzcGVjaWFsIGNsYXNzLlxuICAgICAgICAgICAgICAgIGVkaXRhYmxlLnJlbW92ZUNsYXNzKGN1cnNvckNsYXNzKTtcblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gYnJpbmcgYmFjayB0aGUgcmVndWxhciBiZWhhdmlvdXIgb2YgdGhlIHJlc2l6ZXIuXG4gICAgICAgICAgICAgICAgcmVzaXplci5yZW1vdmVDbGFzcygnY2tlX2ltYWdlX3Jlc2l6aW5nJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB3aWRnZXQuc2V0RGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IG5ld0hlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBuZXdXaWR0aFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGFub3RoZXIgdW5kbyBzbmFwc2hvdDogYWZ0ZXIgcmVzaXppbmcuXG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdzYXZlU25hcHNob3QnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEb24ndCB1cGRhdGUgZGF0YSB0d2ljZSBvciBtb3JlLlxuICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBwb3NpdGlvbiBvZiB0aGUgd2lkZ2V0IHJlc2l6ZXIgd2hlbiBkYXRhIGNoYW5nZXMuXG4gICAgICAgIHdpZGdldC5vbignZGF0YScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc2l6ZXJbd2lkZ2V0LmRhdGEuYWxpZ24gPT0gJ3JpZ2h0JyA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXSgnY2tlX2ltYWdlX3Jlc2l6ZXJfbGVmdCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICB3aWRnZXQucGFydHMuaW1hZ2Uub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBlZGl0b3IuXy5lZGl0YWJsZS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0RWxlbWVudCh0aGlzKTtcblxuICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkRhdGEgPSBlZGl0b3IuXy5lZGl0YWJsZS5lZGl0b3IuZ2V0U2VsZWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkRhdGEpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZSgnZWRpdG9ySW50ZXJhY3Rpb24nLCB7XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogc2VsZWN0aW9uRGF0YVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIC8vIFJldHVybnMgYSBzZXQgb2Ygd2lkZ2V0IGFsbG93ZWRDb250ZW50IHJ1bGVzLCBkZXBlbmRpbmdcbiAgICAvLyBvbiBjb25maWd1cmF0aW9ucyBsaWtlIGNvbmZpZyNpbWFnZTJfYWxpZ25DbGFzc2VzIG9yXG4gICAgLy8gY29uZmlnI2ltYWdlMl9jYXB0aW9uZWRDbGFzcy5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuICAgIC8vIEByZXR1cm5zIHtPYmplY3R9XG4gICAgZnVuY3Rpb24gZ2V0V2lkZ2V0QWxsb3dlZENvbnRlbnQoZWRpdG9yKSB7XG4gICAgICAgIHZhciBydWxlcyA9IHtcbiAgICAgICAgICAgIGZpZ2NhcHRpb246IHRydWUsXG4gICAgICAgICAgICBmaWd1cmU6IHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiAnIScgKyBlZGl0b3IuY29uZmlnLmltYWdlMl9jYXB0aW9uZWRDbGFzc1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGltZzoge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6ICchc3JjLGFsdCx3aWR0aCxoZWlnaHQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHJ1bGVzO1xuICAgIH1cblxuICAgIC8vIFJldHVybnMgYSBzZXQgb2Ygd2lkZ2V0IGZlYXR1cmUgcnVsZXMsIGRlcGVuZGluZ1xuICAgIC8vIG9uIGVkaXRvciBjb25maWd1cmF0aW9uLiBOb3RlIHRoYXQgdGhlIGZvbGxvd2luZyBtYXkgbm90IGNvdmVyXG4gICAgLy8gYWxsIHRoZSBwb3NzaWJsZSBjYXNlcyBzaW5jZSByZXF1aXJlZENvbnRlbnQgc3VwcG9ydHMgYSBzaW5nbGVcbiAgICAvLyB0YWcgb25seS5cbiAgICAvL1xuICAgIC8vIEBwYXJhbSB7Q0tFRElUT1IuZWRpdG9yfVxuICAgIC8vIEByZXR1cm5zIHtPYmplY3R9XG4gICAgZnVuY3Rpb24gZ2V0V2lkZ2V0RmVhdHVyZXMoZWRpdG9yKSB7XG4gICAgICAgIHZhciBhbGlnbkNsYXNzZXMgPSBlZGl0b3IuY29uZmlnLmltYWdlMl9hbGlnbkNsYXNzZXM7XG5cbiAgICAgICAgdmFyIGZlYXR1cmVzID0ge1xuICAgICAgICAgICAgYWxpZ246IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZENvbnRlbnQ6ICdpbWcnICtcbiAgICAgICAgICAgICAgICAgICAgKGFsaWduQ2xhc3NlcyA/ICcoJyArIGFsaWduQ2xhc3Nlc1swXSArICcpJyA6ICd7ZmxvYXR9JylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWRDb250ZW50OiAnZmlnY2FwdGlvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaW1lbnNpb246IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZENvbnRlbnQ6ICdpbWdbd2lkdGgsaGVpZ2h0XSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZmVhdHVyZXM7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBlbGVtZW50IHdoaWNoIGlzIHN0eWxlZCwgY29uc2lkZXJpbmcgY3VycmVudFxuICAgIC8vIHN0YXRlIG9mIHRoZSB3aWRnZXQuXG4gICAgLy9cbiAgICAvLyBAc2VlIENLRURJVE9SLnBsdWdpbnMud2lkZ2V0I2FwcGx5U3R5bGVcbiAgICAvLyBAcGFyYW0ge0NLRURJVE9SLnBsdWdpbnMud2lkZ2V0fSB3aWRnZXRcbiAgICAvLyBAcmV0dXJucyB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVhYmxlRWxlbWVudCh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIHdpZGdldC5kYXRhLmhhc0NhcHRpb24gPyB3aWRnZXQuZWxlbWVudCA6IHdpZGdldC5wYXJ0cy5pbWFnZTtcbiAgICB9XG59KSgpO1xuXG5DS0VESVRPUi5jb25maWcuaW1hZ2UyX2NhcHRpb25lZENsYXNzID0gJ2ltYWdlJzsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9lbWJlZCcpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgUkVHRVhfSFRUUCA9IC9eaHR0cHM/LztcblxuICAgIHZhciBSRUdFWF9ERUZBVUxUX0xJTksgPSAvPGEgaHJlZj0vO1xuXG4gICAgdmFyIFBST1ZJREVSUyA9IFsneW91dHViZScsICd0d2l0dGVyJ107XG5cbiAgICBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX1VSTF9UUEwgPSAnaHR0cDovL2FsbG95LmlmcmFtZS5seS9hcGkvb2VtYmVkP3VybD17dXJsfSZjYWxsYmFjaz17Y2FsbGJhY2t9JztcbiAgICBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX1dJREdFVF9UUEwgPSAnPGRpdiBkYXRhLWFlLWVtYmVkLXVybD1cInt1cmx9XCI+PC9kaXY+JztcbiAgICBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX0RFRkFVTFRfTElOS19UUEwgPSAnPGEgaHJlZj1cInt1cmx9XCI+e3VybH08L2E+JztcbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWRkcyB0aGUgaW5mcmFzdHJ1Y3R1cmUgdG8gZW1iZWQgdXJscyBhcyBtZWRpYSBvYmplY3RzIHVzaW5nIGFuIG9lbWJlZFxuICAgICAqIHNlcnZpY2UuIEJ5IGRlZmF1bHQsIGFuZCBmb3IgZGVtb2luZyBwdXJwb3NlcyBvbmx5LCB0aGUgb2VtYmVkIHNlcnZpY2UgaXMgaG9zdGVkIGluIGlmcmFtZS5seVxuICAgICAqIGF0IC8vYWxsb3kuaWZyYW1lLmx5L2FwaS9vZW1iZWQ/dXJsPXt1cmx9JmNhbGxiYWNrPXtjYWxsYmFja30uIE5vdGUgdGhpcyBzaG91bGQgYmUgY2hhbmdlZCB0b1xuICAgICAqIGEgc2VsZi1ob3N0ZWQgb3IgcGFpZCBzZXJ2aWNlIGluIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLiBBY2Nlc3MgdG8gdGhlIGFsbG95LmlmcmFtZS5seSBlbmRwb2ludFxuICAgICAqIG1heSBiZSByZXN0cmljdGVkIHBlciBkb21haW4gZHVlIHRvIHNpZ25pZmljYW50IHRyYWZmaWMuXG4gICAgICpcbiAgICAgKiBUaGlzIHBsdWdpbiBhZGRzIGFuIGBlbWJlZFVybGAgY29tbWFuZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGVhc2lseSBlbWJlZCBhIFVSTCBhbmQgdHJhbnNmb3JtIGl0XG4gICAgICogdG8gYW4gZW1iZWRkZWQgY29udGVudC5cbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX2VtYmVkXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoXG4gICAgICAgICdhZV9lbWJlZCcsIHtcbiAgICAgICAgICAgIHJlcXVpcmVzOiAnd2lkZ2V0JyxcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBBRV9FTUJFRF9VUkxfVFBMID0gbmV3IENLRURJVE9SLnRlbXBsYXRlKGVkaXRvci5jb25maWcuZW1iZWRVcmxUZW1wbGF0ZSB8fCBDS0VESVRPUi5ERUZBVUxUX0FFX0VNQkVEX1VSTF9UUEwpO1xuICAgICAgICAgICAgICAgIHZhciBBRV9FTUJFRF9XSURHRVRfVFBMID0gbmV3IENLRURJVE9SLnRlbXBsYXRlKGVkaXRvci5jb25maWcuZW1iZWRXaWRnZXRUcGwgfHwgQ0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9XSURHRVRfVFBMKTtcbiAgICAgICAgICAgICAgICB2YXIgQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTCA9IG5ldyBDS0VESVRPUi50ZW1wbGF0ZShlZGl0b3IuY29uZmlnLmVtYmVkTGlua0RlZmF1bHRUcGwgfHwgQ0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9ERUZBVUxUX0xJTktfVFBMKTtcblxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgZnVuY3Rpb24gdG8gdXBjYXN0IERPTSBlbGVtZW50cyB0byBlbWJlZCB3aWRnZXRzLlxuICAgICAgICAgICAgICAgIC8vIEl0IG1hdGNoZXMgQ0tFRElUT1IuREVGQVVMVF9BRV9FTUJFRF9XSURHRVRfVFBMXG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRFbWJlZFdpZGdldFVwY2FzdEZuID0gZnVuY3Rpb24oZWxlbWVudCwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5uYW1lID09PSAnZGl2JyAmJiBlbGVtZW50LmF0dHJpYnV0ZXNbJ2RhdGEtYWUtZW1iZWQtdXJsJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEudXJsID0gZWxlbWVudC5hdHRyaWJ1dGVzWydkYXRhLWFlLWVtYmVkLXVybCddO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBlbWJlZFVybCBjb21tYW5kIHRoYXQgY2FuIGJlIGludm9rZWQgdG8gZWFzaWx5IGVtYmVkIG1lZGlhIFVSTHNcbiAgICAgICAgICAgICAgICBlZGl0b3IuYWRkQ29tbWFuZCgnZW1iZWRVcmwnLCB7XG4gICAgICAgICAgICAgICAgICAgIGV4ZWM6IGZ1bmN0aW9uKGVkaXRvciwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmluc2VydEh0bWwoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQUVfRU1CRURfV0lER0VUX1RQTC5vdXRwdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGRhdGEudXJsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIHdpZGdldCB0byBwcm9wZXJseSBoYW5kbGUgZW1iZWQgb3BlcmF0aW9uc1xuICAgICAgICAgICAgICAgIGVkaXRvci53aWRnZXRzLmFkZCgnYWVfZW1iZWQnLCB7XG5cblxuICAgICAgICAgICAgICAgICAgICBtYXNrOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZENvbnRlbnQ6ICdkaXZbZGF0YS1hZS1lbWJlZC11cmxdJyxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogTGlzdGVuZXIgdG8gYmUgZXhlY3V0ZWQgZXZlcnkgdGltZSB0aGUgd2lkZ2V0J3MgZGF0YSBjaGFuZ2VzLiBJdCB0YWtlcyBjYXJlIG9mXG4gICAgICAgICAgICAgICAgICAgICAqIHJlcXVlc3RpbmcgdGhlIGVtYmVkIG9iamVjdCB0byB0aGUgY29uZmlndXJlZCBvZW1iZWQgc2VydmljZSBhbmQgcmVuZGVyIGl0IGluXG4gICAgICAgICAgICAgICAgICAgICAqIHRoZSBlZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgICAgICogQG1ldGhvZCBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7ZXZlbnR9IGV2ZW50IERhdGEgY2hhbmdlIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpZGdldCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBldmVudC5kYXRhLnVybDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENLRURJVE9SLnRvb2xzLmpzb25wKEFFX0VNQkVEX1VSTF9UUEwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBlbmNvZGVVUklDb21wb25lbnQodXJsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5odG1sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUkVHRVhfREVGQVVMVF9MSU5LLnRlc3QocmVzcG9uc2UuaHRtbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuY3JlYXRlQVRhZyh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuZWxlbWVudC5zZXRIdG1sKHJlc3BvbnNlLmh0bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkZ2V0LmNyZWF0ZUFUYWcodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKG1zZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWRnZXQuY3JlYXRlQVRhZyh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFUYWc6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuZXhlY0NvbW1hbmQoJ3VuZG8nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTZWxlY3Rpb24gPSB0aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFUYWdIdG1sID0gQUVfRU1CRURfREVGQVVMVF9MSU5LX1RQTC5vdXRwdXQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuaW5zZXJ0SHRtbChhVGFnSHRtbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5maXJlKCdhY3Rpb25QZXJmb3JtZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogRnVuY3Rpb24gdXNlZCB0byB1cGNhc3QgYW4gZWxlbWVudCB0byBhZV9lbWJlZCB3aWRnZXRzLlxuICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgKiBAbWV0aG9kIHVwY2FzdFxuICAgICAgICAgICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBiZSBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBvYmplY3QgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byB0aGUgd2lkZ2V0XG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB1cGNhc3Q6IGZ1bmN0aW9uKGVsZW1lbnQsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbWJlZFdpZGdldFVwY2FzdEZuID0gZWRpdG9yLmNvbmZpZy5lbWJlZFdpZGdldFVwY2FzdEZuIHx8IGRlZmF1bHRFbWJlZFdpZGdldFVwY2FzdEZuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1iZWRXaWRnZXRVcGNhc3RGbihlbGVtZW50LCBkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgbGlzdGVuZXIgdG8gaGFuZGxlIHBhc3RlIGV2ZW50cyBhbmQgdHVybiBsaW5rcyBpbnRvIGVtYmVkIG9iamVjdHNcbiAgICAgICAgICAgICAgICBlZGl0b3Iub25jZSgnY29udGVudERvbScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ3Bhc3RlJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaW5rID0gZXZlbnQuZGF0YS5kYXRhVmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSRUdFWF9IVFRQLnRlc3QobGluaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2VtYmVkVXJsJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGV2ZW50LmRhdGEuZGF0YVZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgbGlzdGVuZXIgdG8gaGFuZGxlIHNlbGVjdGlvbiBjaGFuZ2UgZXZlbnRzIGFuZCBwcm9wZXJseSBkZXRlY3QgZWRpdG9yXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJhY3Rpb25zIG9uIHRoZSB3aWRnZXRzIHdpdGhvdXQgbWVzc2luZyB3aXRoIHdpZGdldCBuYXRpdmUgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKCdzZWxlY3Rpb25DaGFuZ2UnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3Rpb24pe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBzZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpZGdldEVsZW1lbnQgPSBlbGVtZW50LmZpbmRPbmUoJ1tkYXRhLXdpZGdldD1cImFlX2VtYmVkXCJdJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaW9uID0gZWxlbWVudC5nZXRDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFBvc2l0aW9uID0gbmV3IENLRURJVE9SLmRvbS53aW5kb3cod2luZG93KS5nZXRTY3JvbGxQb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb24ubGVmdCAtPSBzY3JvbGxQb3NpdGlvbi54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdpb24udG9wICs9IHNjcm9sbFBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnaW9uLmRpcmVjdGlvbiA9IENLRURJVE9SLlNFTEVDVElPTl9CT1RUT01fVE9fVE9QO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdlZGl0b3JJbnRlcmFjdGlvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50OiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbkRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50OiB3aWRnZXRFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGEgZmlsdGVyIHRvIHNraXAgZmlsdGVyaW5nIHdpZGdldCBlbGVtZW50c1xuICAgICAgICAgICAgICAgIGVkaXRvci5maWx0ZXIuYWRkRWxlbWVudENhbGxiYWNrKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdkYXRhLWFlLWVtYmVkLXVybCcgaW4gZWxlbWVudC5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ0tFRElUT1IuRklMVEVSX1NLSVBfVFJFRTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcbn0oKSk7IiwiaW1wb3J0IFNlbGVjdGlvblRlc3QgZnJvbSAnLi4vc2VsZWN0aW9ucy9zZWxlY3Rpb24tdGVzdC5qcyc7XG5cbihmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBpZiAoQ0tFRElUT1IucGx1Z2lucy5nZXQoJ2FlX2ltYWdlYWxpZ25tZW50JykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudW0gZm9yIHN1cHBvcnRlZCBpbWFnZSBhbGlnbm1lbnRzXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB2YXIgSU1BR0VfQUxJR05NRU5UID0ge1xuICAgICAgICBDRU5URVI6ICdjZW50ZXInLFxuICAgICAgICBMRUZUOiAnbGVmdCcsXG4gICAgICAgIFJJR0hUOiAncmlnaHQnXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVudW0gdmFsdWVzIGZvciBzdXBwb3J0ZWQgaW1hZ2UgYWxpZ25tZW50c1xuICAgICAqIEB0eXBlIHtBcnJheX1cbiAgICAgKi9cbiAgICB2YXIgQUxJR05fVkFMVUVTID0gW1xuICAgICAgICBJTUFHRV9BTElHTk1FTlQuTEVGVCxcbiAgICAgICAgSU1BR0VfQUxJR05NRU5ULlJJR0hULFxuICAgICAgICBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSXG4gICAgXTtcblxuICAgIC8qKlxuICAgICAqIE5lY2Vzc2FyeSBzdHlsZXMgZm9yIHRoZSBjZW50ZXIgYWxpZ25tZW50XG4gICAgICogQHR5cGUge0FycmF5LjxPYmplY3Q+fVxuICAgICAqL1xuICAgIHZhciBDRU5URVJFRF9JTUFHRV9TVFlMRSA9IFt7XG4gICAgICAgIG5hbWU6ICdkaXNwbGF5JyxcbiAgICAgICAgdmFsdWU6ICdibG9jaydcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdtYXJnaW4tbGVmdCcsXG4gICAgICAgIHZhbHVlOiAnYXV0bydcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdtYXJnaW4tcmlnaHQnLFxuICAgICAgICB2YWx1ZTogJ2F1dG8nXG4gICAgfV07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGFsaWdubWVudCB2YWx1ZSBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlIFRoZSBpbWFnZSBlbGVtZW50XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgYWxpZ25tZW50IHZhbHVlXG4gICAgICovXG4gICAgdmFyIGdldEltYWdlQWxpZ25tZW50ID0gZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICAgICAgdmFyIGltYWdlQWxpZ25tZW50ID0gaW1hZ2UuZ2V0U3R5bGUoJ2Zsb2F0Jyk7XG5cbiAgICAgICAgaWYgKCFpbWFnZUFsaWdubWVudCB8fCBpbWFnZUFsaWdubWVudCA9PT0gJ2luaGVyaXQnIHx8IGltYWdlQWxpZ25tZW50ID09PSAnbm9uZScpIHtcbiAgICAgICAgICAgIGltYWdlQWxpZ25tZW50ID0gaW1hZ2UuZ2V0QXR0cmlidXRlKCdhbGlnbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpbWFnZUFsaWdubWVudCkge1xuICAgICAgICAgICAgdmFyIGNlbnRlcmVkSW1hZ2UgPSBDRU5URVJFRF9JTUFHRV9TVFlMRS5ldmVyeShmdW5jdGlvbihzdHlsZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZUNoZWNrID0gaW1hZ2UuZ2V0U3R5bGUoc3R5bGUubmFtZSkgPT09IHN0eWxlLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzdHlsZUNoZWNrICYmIHN0eWxlLnZlbmRvclByZWZpeGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlQ2hlY2sgPSBzdHlsZS52ZW5kb3JQcmVmaXhlcy5zb21lKGZ1bmN0aW9uKHZlbmRvclByZWZpeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGltYWdlLmdldFN0eWxlKHZlbmRvclByZWZpeCArIHN0eWxlLm5hbWUpID09PSBzdHlsZS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlQ2hlY2s7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaW1hZ2VBbGlnbm1lbnQgPSBjZW50ZXJlZEltYWdlID8gSU1BR0VfQUxJR05NRU5ULkNFTlRFUiA6IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW1hZ2VBbGlnbm1lbnQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGFsaWdubWVudCB2YWx1ZSBvZiBhbiBpbWFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZWxlbWVudH0gaW1hZ2UgVGhlIGltYWdlIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VBbGlnbm1lbnQgVGhlIGltYWdlIGFsaWdubWVudCB2YWx1ZSB0byBiZSByZW1vdmVkXG4gICAgICovXG4gICAgdmFyIHJlbW92ZUltYWdlQWxpZ25tZW50ID0gZnVuY3Rpb24oaW1hZ2UsIGltYWdlQWxpZ25tZW50KSB7XG4gICAgICAgIGlmIChpbWFnZUFsaWdubWVudCA9PT0gSU1BR0VfQUxJR05NRU5ULkxFRlQgfHwgaW1hZ2VBbGlnbm1lbnQgPT09IElNQUdFX0FMSUdOTUVOVC5SSUdIVCkge1xuICAgICAgICAgICAgaW1hZ2UucmVtb3ZlU3R5bGUoJ2Zsb2F0Jyk7XG5cbiAgICAgICAgICAgIGlmIChpbWFnZUFsaWdubWVudCA9PT0gZ2V0SW1hZ2VBbGlnbm1lbnQoaW1hZ2UpKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdhbGlnbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGltYWdlQWxpZ25tZW50ID09PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG4gICAgICAgICAgICBDRU5URVJFRF9JTUFHRV9TVFlMRS5mb3JFYWNoKGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2UucmVtb3ZlU3R5bGUoc3R5bGUubmFtZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3R5bGUudmVuZG9yUHJlZml4ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUudmVuZG9yUHJlZml4ZXMuZm9yRWFjaChmdW5jdGlvbih2ZW5kb3JQcmVmaXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlLnJlbW92ZVN0eWxlKHZlbmRvclByZWZpeCArIHN0eWxlLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbGlnbm1lbnQgdmFsdWUgb2YgYW4gaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGltYWdlIFRoZSBpbWFnZSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGltYWdlQWxpZ25tZW50IFRoZSBpbWFnZSBhbGlnbm1lbnQgdmFsdWUgdG8gYmUgc2V0XG4gICAgICovXG4gICAgdmFyIHNldEltYWdlQWxpZ25tZW50ID0gZnVuY3Rpb24oaW1hZ2UsIGltYWdlQWxpZ25tZW50KSB7XG4gICAgICAgIHJlbW92ZUltYWdlQWxpZ25tZW50KGltYWdlLCBnZXRJbWFnZUFsaWdubWVudChpbWFnZSkpO1xuXG4gICAgICAgIGlmIChpbWFnZUFsaWdubWVudCA9PT0gSU1BR0VfQUxJR05NRU5ULkxFRlQgfHwgaW1hZ2VBbGlnbm1lbnQgPT09IElNQUdFX0FMSUdOTUVOVC5SSUdIVCkge1xuICAgICAgICAgICAgaW1hZ2Uuc2V0U3R5bGUoJ2Zsb2F0JywgaW1hZ2VBbGlnbm1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGltYWdlQWxpZ25tZW50ID09PSBJTUFHRV9BTElHTk1FTlQuQ0VOVEVSKSB7XG4gICAgICAgICAgICBDRU5URVJFRF9JTUFHRV9TVFlMRS5mb3JFYWNoKGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0U3R5bGUoc3R5bGUubmFtZSwgc3R5bGUudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0eWxlLnZlbmRvclByZWZpeGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlLnZlbmRvclByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24odmVuZG9yUHJlZml4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZS5zZXRTdHlsZSh2ZW5kb3JQcmVmaXggKyBzdHlsZS5uYW1lLCBzdHlsZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB3aGljaCBtb2RpZmllcyB0aGUganVzdGlmeSBjb21tYW5kcyB0byBwcm9wZXJseSBhbGlnbiBpbWFnZXMuIFRoaXNcbiAgICAgKiBwbHVnaW4gaXMgYW4gZXhjZXJwdCBvZiBDS0VkaXRvcidzIG9yaWdpbmFsIGltYWdlIG9uZSB0aGF0IGNhbiBiZSBmb3VuZCBhdFxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ja2VkaXRvci9ja2VkaXRvci1kZXYvYmxvYi9tYXN0ZXIvcGx1Z2lucy9pbWFnZS9wbHVnaW4uanNcbiAgICAgKlxuICAgICAqIEBjbGFzcyBDS0VESVRPUi5wbHVnaW5zLmFlX2ltYWdlYWxpZ25tZW50XG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoXG4gICAgICAgICdhZV9pbWFnZWFsaWdubWVudCcsIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5pdGlhbGl6YXRpb24gb2YgdGhlIHBsdWdpbiwgcGFydCBvZiBDS0VkaXRvciBwbHVnaW4gbGlmZWN5Y2xlLlxuICAgICAgICAgICAgICogVGhlIGZ1bmN0aW9uIHJlZ2lzdGVycyBhICdwYXN0ZScgZXZlbnQgb24gdGhlIGVkaXRpbmcgYXJlYS5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGFmdGVySW5pdFxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgYWZ0ZXJJbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBBTElHTl9WQUxVRVMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWFuZCA9IGVkaXRvci5nZXRDb21tYW5kKCdqdXN0aWZ5JyArIHZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZC5vbignZXhlYycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvbkRhdGEgPSBlZGl0b3IuZ2V0U2VsZWN0aW9uRGF0YSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbkRhdGEgJiYgU2VsZWN0aW9uVGVzdC5pbWFnZSh7ZGF0YToge3NlbGVjdGlvbkRhdGE6IHNlbGVjdGlvbkRhdGF9fSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0gc2VsZWN0aW9uRGF0YS5lbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZUFsaWdubWVudCA9IGdldEltYWdlQWxpZ25tZW50KGltYWdlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VBbGlnbm1lbnQgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbWFnZUFsaWdubWVudChpbWFnZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VBbGlnbm1lbnQoaW1hZ2UsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucmVmcmVzaENvbW1hbmRzKGVkaXRvciwgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChpbWFnZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kLm9uKCdyZWZyZXNoJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0aW9uRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZXZlbnQuZGF0YS5wYXRoLmxhc3RFbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChTZWxlY3Rpb25UZXN0LmltYWdlKHtkYXRhOiB7c2VsZWN0aW9uRGF0YTogc2VsZWN0aW9uRGF0YX19KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VBbGlnbm1lbnQgPSBnZXRJbWFnZUFsaWdubWVudChzZWxlY3Rpb25EYXRhLmVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoaW1hZ2VBbGlnbm1lbnQgPT09IHZhbHVlID8gQ0tFRElUT1IuVFJJU1RBVEVfT04gOiBDS0VESVRPUi5UUklTVEFURV9PRkYpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvcmNlcyBhIHJlZnJlc2ggb2YgdGhlIG1vZGlmaWVkIGp1c3RpZnkgY29tbWFuZHMuIFRoaXMgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGFwcGxpZWQgY2hhbmdlc1xuICAgICAgICAgICAgICogZG8gbm90IG1vZGlmeSB0aGUgc2VsZWN0aW9uLCBzbyB0aGUgcmVmcmVzaCBpcyBuZXZlciB0cmlnZ2VyZWQgYW5kIHRoZSBVSSBkb2VzIG5vdCB1cGRhdGVcbiAgICAgICAgICAgICAqIHByb3Blcmx5IHVudGlsIHRoZSBuZXh0IHNlbGVjdGlvbkNoYW5nZSBldmVudC5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmVkaXRvcn0gZWRpdG9yIFRoZSBlZGl0b3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnRQYXRofSBlbGVtZW50UGF0aCBUaGUgcGF0aCBvZiB0aGUgc2VsZWN0ZWQgaW1hZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmVmcmVzaENvbW1hbmRzOiBmdW5jdGlvbihlZGl0b3IsIGVsZW1lbnRQYXRoKSB7XG4gICAgICAgICAgICAgICAgQUxJR05fVkFMVUVTLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBlZGl0b3IuZ2V0Q29tbWFuZCgnanVzdGlmeScgKyB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQucmVmcmVzaChlZGl0b3IsIGVsZW1lbnRQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcbn0oKSk7IiwiaW1wb3J0IGFkZGltYWdlcyBmcm9tICcuL2FkZGltYWdlcyc7XG5pbXBvcnQgYXV0b2xpbmsgZnJvbSAnLi9hdXRvbGluayc7XG5pbXBvcnQgYXV0b2xpc3QgZnJvbSAnLi9hdXRvbGlzdCc7XG5pbXBvcnQgZHJhZ3Jlc2l6ZSBmcm9tICcuL2RyYWdyZXNpemUnO1xuaW1wb3J0IGRyYWdyZXNpemVpZSBmcm9tICcuL2RyYWdyZXNpemVfaWUnO1xuaW1wb3J0IGVtYmVkIGZyb20gJy4vZW1iZWQnO1xuaW1wb3J0IGltYWdlYWxpZ25tZW50IGZyb20gJy4vaW1hZ2VhbGlnbm1lbnQnO1xuaW1wb3J0IHBhc3RlaW1hZ2VzIGZyb20gJy4vcGFzdGVpbWFnZXMnO1xuaW1wb3J0IHBsYWNlaG9sZGVyIGZyb20gJy4vcGxhY2Vob2xkZXInO1xuaW1wb3J0IHNlbGVjdGlvbmtleXN0cm9rZXMgZnJvbSAnLi9zZWxlY3Rpb25rZXlzdHJva2VzJztcbmltcG9ydCB0YWJsZXJlc2l6ZSBmcm9tICcuL3RhYmxlcmVzaXplJztcbmltcG9ydCB0YWJsZXRvb2xzIGZyb20gJy4vdGFibGV0b29scyc7XG5cbmV4cG9ydCB7XG4gICAgYWRkaW1hZ2VzLFxuICAgIGF1dG9saW5rLFxuICAgIGF1dG9saXN0LFxuICAgIGRyYWdyZXNpemUsXG4gICAgZHJhZ3Jlc2l6ZWllLFxuICAgIGVtYmVkLFxuICAgIGltYWdlYWxpZ25tZW50LFxuICAgIHBhc3RlaW1hZ2VzLFxuICAgIHBsYWNlaG9sZGVyLFxuICAgIHNlbGVjdGlvbmtleXN0cm9rZXMsXG4gICAgdGFibGVyZXNpemUsXG4gICAgdGFibGV0b29sc1xufTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9wYXN0ZWltYWdlcycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDS0VkaXRvciBwbHVnaW4gd2hpY2ggYWxsb3dzIHBhc3RpbmcgaW1hZ2VzIGRpcmVjdGx5IGludG8gdGhlIGVkaXRhYmxlIGFyZWEuIFRoZSBpbWFnZSB3aWxsIGJlIGVuY29kZWRcbiAgICAgKiBhcyBEYXRhIFVSSS4gQW4gZXZlbnQgYGJlZm9yZUltYWdlQWRkYCB3aWxsIGJlIGZpcmVkIHdpdGggdGhlIGxpc3Qgb2YgcGFzdGVkIGltYWdlcy4gSWYgYW55IG9mIHRoZSBsaXN0ZW5lcnNcbiAgICAgKiByZXR1cm5zIGBmYWxzZWAgb3IgY2FuY2VscyB0aGUgZXZlbnQsIHRoZSBpbWFnZXMgd29uJ3QgYmUgYWRkZWQgdG8gdGhlIGNvbnRlbnQuIE90aGVyd2lzZSxcbiAgICAgKiBhbiBldmVudCBgaW1hZ2VBZGRgIHdpbGwgYmUgZmlyZWQgd2l0aCB0aGUgaW5zZXJ0ZWQgZWxlbWVudCBpbnRvIHRoZSBlZGl0YWJsZSBhcmVhLlxuICAgICAqXG4gICAgICogQGNsYXNzIENLRURJVE9SLnBsdWdpbnMuYWVfcGFzdGVpbWFnZXNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEZpcmVkIGJlZm9yZSBhZGRpbmcgaW1hZ2VzIHRvIHRoZSBlZGl0b3IuXG4gICAgICogQGV2ZW50IGJlZm9yZUltYWdlQWRkXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW1hZ2VGaWxlcyBBcnJheSBvZiBpbWFnZSBmaWxlc1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhbiBpbWFnZSBpcyBiZWluZyBhZGRlZCB0byB0aGUgZWRpdG9yIHN1Y2Nlc3NmdWxseS5cbiAgICAgKlxuICAgICAqIEBldmVudCBpbWFnZUFkZFxuICAgICAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IGVsIFRoZSBjcmVhdGVkIGltYWdlIHdpdGggc3JjIGFzIERhdGEgVVJJXG4gICAgICogQHBhcmFtIHtGaWxlfSBmaWxlIFRoZSBpbWFnZSBmaWxlXG4gICAgICovXG5cbiAgICBDS0VESVRPUi5wbHVnaW5zLmFkZChcbiAgICAgICAgJ2FlX3Bhc3RlaW1hZ2VzJywge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJbml0aWFsaXphdGlvbiBvZiB0aGUgcGx1Z2luLCBwYXJ0IG9mIENLRWRpdG9yIHBsdWdpbiBsaWZlY3ljbGUuXG4gICAgICAgICAgICAgKiBUaGUgZnVuY3Rpb24gcmVnaXN0ZXJzIGEgJ3Bhc3RlJyBldmVudCBvbiB0aGUgZWRpdGluZyBhcmVhLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBtZXRob2QgaW5pdFxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGVkaXRvciBUaGUgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGUuYXR0YWNoTGlzdGVuZXIoZWRpdGFibGUsICdwYXN0ZScsIHRoaXMuX29uUGFzdGUsIHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjogZWRpdG9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiBjcmVhdGVzIGFuIGltZyBlbGVtZW50IHdpdGggc3JjIHRoZSBpbWFnZSBkYXRhIGFzIERhdGEgVVJJLlxuICAgICAgICAgICAgICogVGhlbiwgaXQgZmlyZXMgYW4gJ2ltYWdlQWRkJyBldmVudCB2aWEgQ0tFZGl0b3IncyBldmVudCBzeXN0ZW0uIFRoZSBwYXNzZWRcbiAgICAgICAgICAgICAqIHBhcmFtcyB3aWxsIGJlOlxuICAgICAgICAgICAgICogLSBgZWxgIC0gdGhlIGNyZWF0ZWQgaW1nIGVsZW1lbnRcbiAgICAgICAgICAgICAqIC0gYGZpbGVgIC0gdGhlIG9yaWdpbmFsIHBhc3RlZCBkYXRhXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1ldGhvZCBfb25QYXN0ZVxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICogQHBhcmFtIHtDS0VESVRPUi5kb20uZXZlbnR9IGV2ZW50IEEgYHBhc3RlYCBldmVudCwgYXMgcmVjZWl2ZWQgbmF0aXZlbHkgZnJvbSBDS0VkaXRvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfb25QYXN0ZTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS4kLmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhc3RlZERhdGEgPSBldmVudC5kYXRhLiQuY2xpcGJvYXJkRGF0YS5pdGVtc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVkaXRvciA9IGV2ZW50Lmxpc3RlbmVyRGF0YS5lZGl0b3I7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3RlZERhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZUZpbGUgPSBwYXN0ZWREYXRhLmdldEFzRmlsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gZWRpdG9yLmZpcmUoJ2JlZm9yZUltYWdlQWRkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUZpbGVzOiBpbWFnZUZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGltZyBzcmM9XCInICsgZXZlbnQudGFyZ2V0LnJlc3VsdCArICdcIj4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuaW5zZXJ0RWxlbWVudChlbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsOiBlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IGltYWdlRmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKCdpbWFnZUFkZCcsIGltYWdlRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgKTtcbn0oKSk7IiwiKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGlmIChDS0VESVRPUi5wbHVnaW5zLmdldCgnYWVfcGxhY2Vob2xkZXInKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ0tFRElUT1IgZW50ZXJNb2RlIGNvbmZpZyBzZXQgdGhlIGJlaGF2aW9yIG9mIHBhcmFncmFwaHNcbiAgICAgKiBXaGVuIHRoZSBjb250ZW50IGlzIGVtcHR5IENLRURJVE9SIGtlZXBzIHRoZSBlbnRlck1vZGUgc3RyaW5nXG4gICAgICogaW50byB0aGUgY29udGVudFxuICAgICAqIEBwcm9wZXJ0eVxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdmFyIGJyRmlsbGVyID0gQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIgPyAnPGJyPicgOiAnJztcblxuICAgIHZhciBlbnRlck1vZGVFbXB0eVZhbHVlID0ge1xuICAgICAgICAxOiBbJzxwPicgKyBickZpbGxlciArICc8L3A+J10sXG4gICAgICAgIDI6IFsnJywgJyAnLCBickZpbGxlcl0sXG4gICAgICAgIDM6IFsnPGRpdj4nICsgYnJGaWxsZXIgKyAnPC9kaXY+J11cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ0tFZGl0b3IgcGx1Z2luIHdoaWNoIGFsbG93cyBhZGRpbmcgYSBwbGFjZWhvbGRlciB0byB0aGUgZWRpdG9yLiBJbiB0aGlzIGNhc2UsIGlmIHRoZXJlXG4gICAgICogaXMgbm8gY29udGVudCB0byB0aGUgZWRpdG9yLCB0aGVyZSB3aWxsIGJlIGhpbnQgdG8gdGhlIHVzZXIuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9wbGFjZWhvbGRlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIHRoZSBwbGFjZWhvbGRlciBjbGFzcyB3aGljaCBoYXZlIHRvIGJlIGFkZWQgdG8gZWRpdG9yIHdoZW4gZWRpdG9yIGlzIG5vdCBmb2N1c2VkLlxuICAgICAqXG4gICAgICogQGF0dHJpYnV0ZSBwbGFjZWhvbGRlckNsYXNzXG4gICAgICogQGRlZmF1bHQgYWVfcGxhY2Vob2xkZXJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKi9cblxuICAgIENLRURJVE9SLnBsdWdpbnMuYWRkKFxuICAgICAgICAnYWVfcGxhY2Vob2xkZXInLCB7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSW5pdGlhbGl6YXRpb24gb2YgdGhlIHBsdWdpbiwgcGFydCBvZiBDS0VkaXRvciBwbHVnaW4gbGlmZWN5Y2xlLlxuICAgICAgICAgICAgICogVGhlIGZ1bmN0aW9uIHJlZ2lzdGVycyBhICdibHVyJyBhbmQgJ2NvbnRlbnREb20nIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAbWV0aG9kIGluaXRcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlZGl0b3IgVGhlIGN1cnJlbnQgZWRpdG9yIGluc3RhbmNlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5vbignYmx1cicsIHRoaXMuX2NoZWNrRW1wdHlEYXRhLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ2NoYW5nZScsIHRoaXMuX2NoZWNrRW1wdHlEYXRhLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ2ZvY3VzJywgdGhpcy5fcmVtb3ZlUGxhY2Vob2xkZXJDbGFzcywgdGhpcyk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uY2UoJ2NvbnRlbnREb20nLCB0aGlzLl9jaGVja0VtcHR5RGF0YSwgdGhpcyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbW92ZXMgYW55IGRhdGEgZnJvbSB0aGUgY29udGVudCBhbmQgYWRkcyBhIGNsYXNzLFxuICAgICAgICAgICAgICogc3BlY2lmaWVkIGJ5IHRoZSBcInBsYWNlaG9sZGVyQ2xhc3NcIiBjb25maWcgYXR0cmlidXRlLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICAgICAqIEBtZXRob2QgX2NoZWNrRW1wdHlEYXRhXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0NLRURJVE9SLmRvbS5ldmVudH0gZWRpdG9yIGV2ZW50LCBmaXJlZCBmcm9tIENLRWRpdG9yXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF9jaGVja0VtcHR5RGF0YTogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQuZWRpdG9yO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVkaXRhYmxlTm9kZSA9IGVkaXRvci5lZGl0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGlubmVySHRtbCA9IGVkaXRhYmxlTm9kZS4kLmlubmVySFRNTC50cmltKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaXNFbXB0eSA9IGVudGVyTW9kZUVtcHR5VmFsdWVbZWRpdG9yLmNvbmZpZy5lbnRlck1vZGVdLnNvbWUoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJIdG1sID09PSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGVOb2RlLmFkZENsYXNzKGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdGFibGVOb2RlLnJlbW92ZUNsYXNzKGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBSZW1vdmUgcGxhY2Vob2xkZXIgY2xhc3Mgd2hlbiBpbnB1dCBpcyBmb2N1c2VkXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgICAgICogQG1ldGhvZCBfcmVtb3ZlUGxhY2Vob2xkZXJDbGFzc1xuICAgICAgICAgICAgICsgQHBhcmFtIHtDS0VESVRPUi5kb20uZXZlbnR9IGVkaXRvciBldmVudCwgZmlyZWQgZnJvbSBDS0VkaXRvclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfcmVtb3ZlUGxhY2Vob2xkZXJDbGFzczogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZXZlbnQuZWRpdG9yO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVkaXRvck5vZGUgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZWRpdG9yLmVsZW1lbnQuJCk7XG5cbiAgICAgICAgICAgICAgICBlZGl0b3JOb2RlLnJlbW92ZUNsYXNzKGVkaXRvci5jb25maWcucGxhY2Vob2xkZXJDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICApO1xufSgpKTsiLCIoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV9zZWxlY3Rpb25rZXlzdHJva2VzJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENLRWRpdG9yIHBsdWdpbiB0aGF0IHNpbXVsYXRlcyBlZGl0b3IgaW50ZXJhY3Rpb24gZXZlbnRzIGJhc2VkIG9uIG1hbnVhbCBrZXlzdHJva2VzLiBUaGlzXG4gICAgICogY2FuIGJlIHVzZWQgdG8gdHJpZ2dlciBkaWZmZXJlbnQgcmVhY3Rpb25zIGluIHRoZSBlZGl0b3IuXG4gICAgICpcbiAgICAgKiBAY2xhc3MgQ0tFRElUT1IucGx1Z2lucy5hZV9zZWxlY3Rpb25rZXlzdHJva2VzXG4gICAgICovXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoXG4gICAgICAgICdhZV9zZWxlY3Rpb25rZXlzdHJva2VzJywge1xuICAgICAgICAgICAgcmVxdWlyZXM6ICdhZV9zZWxlY3Rpb25yZWdpb24nLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEluaXRpYWxpemF0aW9uIG9mIHRoZSBwbHVnaW4sIHBhcnQgb2YgQ0tFZGl0b3IgcGx1Z2luIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAqIFRoZSBmdW5jdGlvbiBhZGRzIGEgY29tbWFuZCB0byB0aGUgZWRpdG9yIGZvciBldmVyeSBkZWZpbmVkIHNlbGVjdGlvbktleXN0cm9rZVxuICAgICAgICAgICAgICogaW4gdGhlIGNvbmZpZ3VyYXRpb24gYW5kIG1hcHMgaXQgdG8gdGhlIHNwZWNpZmllZCBrZXlzdHJva2UuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogQG1ldGhvZCBpbml0XG4gICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZWRpdG9yIFRoZSBjdXJyZW50IGVkaXRvciBpbnN0YW5jZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLmNvbmZpZy5zZWxlY3Rpb25LZXlzdHJva2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb25maWcuc2VsZWN0aW9uS2V5c3Ryb2tlcy5mb3JFYWNoKGZ1bmN0aW9uKHNlbGVjdGlvbktleXN0cm9rZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmQgPSBuZXcgQ0tFRElUT1IuY29tbWFuZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjOiBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmUoJ2VkaXRvckludGVyYWN0aW9uJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWFsU2VsZWN0aW9uOiBzZWxlY3Rpb25LZXlzdHJva2Uuc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uRGF0YTogZWRpdG9yLmdldFNlbGVjdGlvbkRhdGEoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1hbmROYW1lID0gJ3NlbGVjdGlvbktleXN0cm9rZScgKyBzZWxlY3Rpb25LZXlzdHJva2Uuc2VsZWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYWRkQ29tbWFuZChjb21tYW5kTmFtZSwgY29tbWFuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0S2V5c3Ryb2tlKHNlbGVjdGlvbktleXN0cm9rZS5rZXlzLCBjb21tYW5kTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICk7XG59KCkpOyIsIi8qKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMTUsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2VcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV90YWJsZXJlc2l6ZScpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHhVbml0ID0gQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoO1xuXG4gICAgZnVuY3Rpb24gZ2V0V2lkdGgoZWwpIHtcbiAgICAgICAgcmV0dXJuIENLRURJVE9SLmVudi5pZSA/IGVsLiQuY2xpZW50V2lkdGggOiBwYXJzZUludChlbC5nZXRDb21wdXRlZFN0eWxlKCd3aWR0aCcpLCAxMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Qm9yZGVyV2lkdGgoZWxlbWVudCwgc2lkZSkge1xuICAgICAgICB2YXIgY29tcHV0ZWQgPSBlbGVtZW50LmdldENvbXB1dGVkU3R5bGUoJ2JvcmRlci0nICsgc2lkZSArICctd2lkdGgnKSxcbiAgICAgICAgICAgIGJvcmRlck1hcCA9IHtcbiAgICAgICAgICAgICAgICB0aGluOiAnMHB4JyxcbiAgICAgICAgICAgICAgICBtZWRpdW06ICcxcHgnLFxuICAgICAgICAgICAgICAgIHRoaWNrOiAnMnB4J1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29tcHV0ZWQuaW5kZXhPZigncHgnKSA8IDApIHtcbiAgICAgICAgICAgIC8vIGxvb2sgdXAga2V5d29yZHNcbiAgICAgICAgICAgIGlmIChjb21wdXRlZCBpbiBib3JkZXJNYXAgJiYgZWxlbWVudC5nZXRDb21wdXRlZFN0eWxlKCdib3JkZXItc3R5bGUnKSAhPSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICBjb21wdXRlZCA9IGJvcmRlck1hcFtjb21wdXRlZF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXB1dGVkID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXJzZUludChjb21wdXRlZCwgMTApO1xuICAgIH1cblxuICAgIC8vIEdldHMgdGhlIHRhYmxlIHJvdyB0aGF0IGNvbnRhaW5zIHRoZSBtb3N0IGNvbHVtbnMuXG4gICAgZnVuY3Rpb24gZ2V0TWFzdGVyUGlsbGFyUm93KHRhYmxlKSB7XG4gICAgICAgIHZhciAkcm93cyA9IHRhYmxlLiQucm93cyxcbiAgICAgICAgICAgIG1heENlbGxzID0gMCxcbiAgICAgICAgICAgIGNlbGxzQ291bnQsICRlbGVjdGVkLCAkdHI7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICRyb3dzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAkdHIgPSAkcm93c1tpXTtcbiAgICAgICAgICAgIGNlbGxzQ291bnQgPSAkdHIuY2VsbHMubGVuZ3RoO1xuXG4gICAgICAgICAgICBpZiAoY2VsbHNDb3VudCA+IG1heENlbGxzKSB7XG4gICAgICAgICAgICAgICAgbWF4Q2VsbHMgPSBjZWxsc0NvdW50O1xuICAgICAgICAgICAgICAgICRlbGVjdGVkID0gJHRyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICRlbGVjdGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGJ1aWxkVGFibGVDb2x1bW5QaWxsYXJzKHRhYmxlKSB7XG4gICAgICAgIHZhciBwaWxsYXJzID0gW10sXG4gICAgICAgICAgICBwaWxsYXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgcnRsID0gKHRhYmxlLmdldENvbXB1dGVkU3R5bGUoJ2RpcmVjdGlvbicpID09PSAncnRsJyk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSByYXcgcm93IGVsZW1lbnQgdGhhdCBjb2ludGFpbnMgdGhlIG1vc3QgY29sdW1ucy5cbiAgICAgICAgdmFyICR0ciA9IGdldE1hc3RlclBpbGxhclJvdyh0YWJsZSk7XG5cbiAgICAgICAgLy8gR2V0IHRoZSB0Ym9keSBlbGVtZW50IGFuZCBwb3NpdGlvbiwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIHNldCB0aGVcbiAgICAgICAgLy8gdG9wIGFuZCBib3R0b20gYm91bmRhcmllcy5cbiAgICAgICAgdmFyIHRib2R5ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRhYmxlLiQudEJvZGllc1swXSksXG4gICAgICAgICAgICB0Ym9keVBvc2l0aW9uID0gdGJvZHkuZ2V0RG9jdW1lbnRQb3NpdGlvbigpO1xuXG4gICAgICAgIC8vIExvb3AgdGhvcnVnaCBhbGwgY2VsbHMsIGJ1aWxkaW5nIHBpbGxhcnMgYWZ0ZXIgZWFjaCBvbmUgb2YgdGhlbS5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9ICR0ci5jZWxscy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgLy8gQm90aCB0aGUgY3VycmVudCBjZWxsIGFuZCB0aGUgc3VjY2Vzc2l2ZSBvbmUgd2lsbCBiZSB1c2VkIGluIHRoZVxuICAgICAgICAgICAgLy8gcGlsbGFyIHNpemUgY2FsY3VsYXRpb24uXG4gICAgICAgICAgICB2YXIgdGQgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoJHRyLmNlbGxzW2ldKSxcbiAgICAgICAgICAgICAgICBuZXh0VGQgPSAkdHIuY2VsbHNbaSArIDFdICYmIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCgkdHIuY2VsbHNbaSArIDFdKTtcblxuICAgICAgICAgICAgcGlsbGFySW5kZXggKz0gdGQuJC5jb2xTcGFuIHx8IDE7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgcGlsbGFyIGJvdW5kYXJ5IHBvc2l0aW9ucy5cbiAgICAgICAgICAgIHZhciBwaWxsYXJMZWZ0LCBwaWxsYXJSaWdodCwgcGlsbGFyV2lkdGg7XG5cbiAgICAgICAgICAgIHZhciB4ID0gdGQuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLng7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbnMgYmFzZWQgb24gdGhlIGN1cnJlbnQgY2VsbC5cbiAgICAgICAgICAgIHJ0bCA/IHBpbGxhclJpZ2h0ID0geCArIGdldEJvcmRlcldpZHRoKHRkLCAnbGVmdCcpIDogcGlsbGFyTGVmdCA9IHggKyB0ZC4kLm9mZnNldFdpZHRoIC0gZ2V0Qm9yZGVyV2lkdGgodGQsICdyaWdodCcpO1xuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgcG9zaXRpb25zIGJhc2VkIG9uIHRoZSBuZXh0IGNlbGwsIGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIGlmIChuZXh0VGQpIHtcbiAgICAgICAgICAgICAgICB4ID0gbmV4dFRkLmdldERvY3VtZW50UG9zaXRpb24oKS54O1xuXG4gICAgICAgICAgICAgICAgcnRsID8gcGlsbGFyTGVmdCA9IHggKyBuZXh0VGQuJC5vZmZzZXRXaWR0aCAtIGdldEJvcmRlcldpZHRoKG5leHRUZCwgJ3JpZ2h0JykgOiBwaWxsYXJSaWdodCA9IHggKyBnZXRCb3JkZXJXaWR0aChuZXh0VGQsICdsZWZ0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgY2FsY3VsYXRlIHBvc2l0aW9ucyBiYXNlZCBvbiB0aGUgdGFibGUgKGZvciBsYXN0IGNlbGwpLlxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeCA9IHRhYmxlLmdldERvY3VtZW50UG9zaXRpb24oKS54O1xuXG4gICAgICAgICAgICAgICAgcnRsID8gcGlsbGFyTGVmdCA9IHggOiBwaWxsYXJSaWdodCA9IHggKyB0YWJsZS4kLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwaWxsYXJXaWR0aCA9IE1hdGgubWF4KHBpbGxhclJpZ2h0IC0gcGlsbGFyTGVmdCwgNCk7XG5cbiAgICAgICAgICAgIC8vIFRoZSBwaWxsYXIgc2hvdWxkIHJlZmxlY3RzIGV4YWN0bHkgdGhlIHNoYXBlIG9mIHRoZSBob3ZlcmVkXG4gICAgICAgICAgICAvLyBjb2x1bW4gYm9yZGVyIGxpbmUuXG4gICAgICAgICAgICBwaWxsYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0YWJsZSxcbiAgICAgICAgICAgICAgICBpbmRleDogcGlsbGFySW5kZXgsXG4gICAgICAgICAgICAgICAgeDogcGlsbGFyTGVmdCxcbiAgICAgICAgICAgICAgICB5OiB0Ym9keVBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBpbGxhcldpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGJvZHkuJC5vZmZzZXRIZWlnaHQsXG4gICAgICAgICAgICAgICAgcnRsOiBydGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBpbGxhcnM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0UGlsbGFyQXRQb3NpdGlvbihwaWxsYXJzLCBwb3NpdGlvblgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBpbGxhcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwaWxsYXIgPSBwaWxsYXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAocG9zaXRpb25YID49IHBpbGxhci54ICYmIHBvc2l0aW9uWCA8PSAocGlsbGFyLnggKyBwaWxsYXIud2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBpbGxhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbmNlbChldnQpIHtcbiAgICAgICAgKGV2dC5kYXRhIHx8IGV2dCkucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb2x1bW5SZXNpemVyKGVkaXRvcikge1xuICAgICAgICB2YXIgcGlsbGFyLCBkb2N1bWVudCwgcmVzaXplciwgaXNSZXNpemluZywgc3RhcnRPZmZzZXQsIGN1cnJlbnRTaGlmdDtcblxuICAgICAgICB2YXIgbGVmdFNpZGVDZWxscywgcmlnaHRTaWRlQ2VsbHMsIGxlZnRTaGlmdEJvdW5kYXJ5LCByaWdodFNoaWZ0Qm91bmRhcnk7XG5cbiAgICAgICAgZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgICAgICAgcGlsbGFyID0gbnVsbDtcbiAgICAgICAgICAgIGN1cnJlbnRTaGlmdCA9IDA7XG4gICAgICAgICAgICBpc1Jlc2l6aW5nID0gMDtcblxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNlVXApO1xuICAgICAgICAgICAgcmVzaXplci5yZW1vdmVMaXN0ZW5lcignbW91c2Vkb3duJywgb25Nb3VzZURvd24pO1xuICAgICAgICAgICAgcmVzaXplci5yZW1vdmVMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRCb2R5KCkuc2V0U3R5bGUoJ2N1cnNvcicsICdhdXRvJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiByZXNpemVTdGFydCgpIHtcbiAgICAgICAgICAgIC8vIEJlZm9yZSBzdGFydGluZyB0byByZXNpemUsIGZpZ3VyZSBvdXQgd2hpY2ggY2VsbHMgdG8gY2hhbmdlXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGJvdW5kYXJpZXMgb2YgdGhpcyByZXNpemluZyBzaGlmdC5cblxuICAgICAgICAgICAgdmFyIGNvbHVtbkluZGV4ID0gcGlsbGFyLmluZGV4LFxuICAgICAgICAgICAgICAgIG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAocGlsbGFyLnRhYmxlKSxcbiAgICAgICAgICAgICAgICBsZWZ0Q29sdW1uQ2VsbHMgPSBbXSxcbiAgICAgICAgICAgICAgICByaWdodENvbHVtbkNlbGxzID0gW10sXG4gICAgICAgICAgICAgICAgbGVmdE1pblNpemUgPSBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICAgICAgICAgIHJpZ2h0TWluU2l6ZSA9IGxlZnRNaW5TaXplLFxuICAgICAgICAgICAgICAgIHJ0bCA9IHBpbGxhci5ydGw7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtYXAubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcm93ID0gbWFwW2ldLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2VsbCA9IHJvd1tjb2x1bW5JbmRleCArIChydGwgPyAxIDogMCldLFxuICAgICAgICAgICAgICAgICAgICByaWdodENlbGwgPSByb3dbY29sdW1uSW5kZXggKyAocnRsID8gMCA6IDEpXTtcblxuICAgICAgICAgICAgICAgIGxlZnRDZWxsID0gbGVmdENlbGwgJiYgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGxlZnRDZWxsKTtcbiAgICAgICAgICAgICAgICByaWdodENlbGwgPSByaWdodENlbGwgJiYgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHJpZ2h0Q2VsbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWxlZnRDZWxsIHx8ICFyaWdodENlbGwgfHwgIWxlZnRDZWxsLmVxdWFscyhyaWdodENlbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnRDZWxsICYmIChsZWZ0TWluU2l6ZSA9IE1hdGgubWluKGxlZnRNaW5TaXplLCBnZXRXaWR0aChsZWZ0Q2VsbCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDZWxsICYmIChyaWdodE1pblNpemUgPSBNYXRoLm1pbihyaWdodE1pblNpemUsIGdldFdpZHRoKHJpZ2h0Q2VsbCkpKTtcblxuICAgICAgICAgICAgICAgICAgICBsZWZ0Q29sdW1uQ2VsbHMucHVzaChsZWZ0Q2VsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0Q29sdW1uQ2VsbHMucHVzaChyaWdodENlbGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIGxpc3Qgb2YgY2VsbHMgdG8gYmUgcmVzaXplZC5cbiAgICAgICAgICAgIGxlZnRTaWRlQ2VsbHMgPSBsZWZ0Q29sdW1uQ2VsbHM7XG4gICAgICAgICAgICByaWdodFNpZGVDZWxscyA9IHJpZ2h0Q29sdW1uQ2VsbHM7XG5cbiAgICAgICAgICAgIC8vIENhY2hlIHRoZSByZXNpemUgbGltaXQgYm91bmRhcmllcy5cbiAgICAgICAgICAgIGxlZnRTaGlmdEJvdW5kYXJ5ID0gcGlsbGFyLnggLSBsZWZ0TWluU2l6ZTtcbiAgICAgICAgICAgIHJpZ2h0U2hpZnRCb3VuZGFyeSA9IHBpbGxhci54ICsgcmlnaHRNaW5TaXplO1xuXG4gICAgICAgICAgICByZXNpemVyLnNldE9wYWNpdHkoMC41KTtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gcGFyc2VJbnQocmVzaXplci5nZXRTdHlsZSgnbGVmdCcpLCAxMCk7XG4gICAgICAgICAgICBjdXJyZW50U2hpZnQgPSAwO1xuICAgICAgICAgICAgaXNSZXNpemluZyA9IDE7XG5cbiAgICAgICAgICAgIHJlc2l6ZXIub24oJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlKTtcblxuICAgICAgICAgICAgLy8gUHJldmVudCB0aGUgbmF0aXZlIGRyYWcgYmVoYXZpb3Igb3RoZXJ3aXNlICdtb3VzZW1vdmUnIHdvbid0IGZpcmUuXG4gICAgICAgICAgICBkb2N1bWVudC5vbignZHJhZ3N0YXJ0JywgY2FuY2VsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUVuZCgpIHtcbiAgICAgICAgICAgIGlzUmVzaXppbmcgPSAwO1xuXG4gICAgICAgICAgICByZXNpemVyLnNldE9wYWNpdHkoMCk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRTaGlmdCAmJiByZXNpemVDb2x1bW4oKTtcblxuICAgICAgICAgICAgdmFyIHRhYmxlID0gcGlsbGFyLnRhYmxlO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmVDdXN0b21EYXRhKCdfY2tlX3RhYmxlX3BpbGxhcnMnKTtcbiAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVMaXN0ZW5lcignZHJhZ3N0YXJ0JywgY2FuY2VsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2l6ZUNvbHVtbigpIHtcbiAgICAgICAgICAgIHZhciBydGwgPSBwaWxsYXIucnRsLFxuICAgICAgICAgICAgICAgIGNlbGxzQ291bnQgPSBydGwgPyByaWdodFNpZGVDZWxscy5sZW5ndGggOiBsZWZ0U2lkZUNlbGxzLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gUGVyZm9ybSB0aGUgYWN0dWFsIHJlc2l6ZSB0byB0YWJsZSBjZWxscywgb25seSBmb3IgdGhvc2UgYnkgc2lkZSBvZiB0aGUgcGlsbGFyLlxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjZWxsc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVmdENlbGwgPSBsZWZ0U2lkZUNlbGxzW2ldLFxuICAgICAgICAgICAgICAgICAgICByaWdodENlbGwgPSByaWdodFNpZGVDZWxsc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGUgPSBwaWxsYXIudGFibGU7XG5cbiAgICAgICAgICAgICAgICAvLyBEZWZlciB0aGUgcmVzaXppbmcgdG8gYXZvaWQgYW55IGludGVyZmVyZW5jZSBhbW9uZyBjZWxscy5cbiAgICAgICAgICAgICAgICBDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKGxlZnRDZWxsLCBsZWZ0T2xkV2lkdGgsIHJpZ2h0Q2VsbCwgcmlnaHRPbGRXaWR0aCwgdGFibGVXaWR0aCwgc2l6ZVNoaWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDFweCBpcyB0aGUgbWluaW11bSB2YWxpZCB3aWR0aCAoIzExNjI2KS5cbiAgICAgICAgICAgICAgICAgICAgbGVmdENlbGwgJiYgbGVmdENlbGwuc2V0U3R5bGUoJ3dpZHRoJywgcHhVbml0KE1hdGgubWF4KGxlZnRPbGRXaWR0aCArIHNpemVTaGlmdCwgMSkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHRDZWxsICYmIHJpZ2h0Q2VsbC5zZXRTdHlsZSgnd2lkdGgnLCBweFVuaXQoTWF0aC5tYXgocmlnaHRPbGRXaWR0aCAtIHNpemVTaGlmdCwgMSkpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGUgbGFzdCBjZWxsLCB3ZSBuZWVkIHRvIHJlc2l6ZSB0aGUgdGFibGUgYXMgd2VsbFxuICAgICAgICAgICAgICAgICAgICBpZiAodGFibGVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuc2V0U3R5bGUoJ3dpZHRoJywgcHhVbml0KHRhYmxlV2lkdGggKyBzaXplU2hpZnQgKiAocnRsID8gLTEgOiAxKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgMCwgdGhpcywgW1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2VsbCwgbGVmdENlbGwgJiYgZ2V0V2lkdGgobGVmdENlbGwpLFxuICAgICAgICAgICAgICAgICAgICByaWdodENlbGwsIHJpZ2h0Q2VsbCAmJiBnZXRXaWR0aChyaWdodENlbGwpLCAoIWxlZnRDZWxsIHx8ICFyaWdodENlbGwpICYmIChnZXRXaWR0aCh0YWJsZSkgKyBnZXRCb3JkZXJXaWR0aCh0YWJsZSwgJ2xlZnQnKSArIGdldEJvcmRlcldpZHRoKHRhYmxlLCAncmlnaHQnKSksXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTaGlmdFxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25Nb3VzZURvd24oZXZ0KSB7XG4gICAgICAgICAgICBjYW5jZWwoZXZ0KTtcblxuICAgICAgICAgICAgcmVzaXplU3RhcnQoKTtcblxuICAgICAgICAgICAgZG9jdW1lbnQub24oJ21vdXNldXAnLCBvbk1vdXNlVXAsIHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25Nb3VzZVVwKGV2dCkge1xuICAgICAgICAgICAgZXZ0LnJlbW92ZUxpc3RlbmVyKCk7XG5cbiAgICAgICAgICAgIHJlc2l6ZUVuZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gb25Nb3VzZU1vdmUoZXZ0KSB7XG4gICAgICAgICAgICBtb3ZlKGV2dC5kYXRhLmdldFBhZ2VPZmZzZXQoKS54KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50ID0gZWRpdG9yLmRvY3VtZW50O1xuXG4gICAgICAgIHJlc2l6ZXIgPSBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnPGRpdiBkYXRhLWNrZS10ZW1wPTEgY29udGVudGVkaXRhYmxlPWZhbHNlIHVuc2VsZWN0YWJsZT1vbiAnICtcbiAgICAgICAgICAgICdzdHlsZT1cInBvc2l0aW9uOmFic29sdXRlO2N1cnNvcjpjb2wtcmVzaXplO2ZpbHRlcjphbHBoYShvcGFjaXR5PTApO29wYWNpdHk6MDsnICtcbiAgICAgICAgICAgICdwYWRkaW5nOjA7YmFja2dyb3VuZC1jb2xvcjojMDA0O2JhY2tncm91bmQtaW1hZ2U6bm9uZTtib3JkZXI6MHB4IG5vbmU7ei1pbmRleDoxMFwiPjwvZGl2PicsIGRvY3VtZW50KTtcblxuICAgICAgICAvLyBDbGVhbiBET00gd2hlbiBlZGl0b3IgaXMgZGVzdHJveWVkLlxuICAgICAgICBlZGl0b3Iub24oJ2Rlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJlc2l6ZXIucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBsYWNlIHRoZSByZXNpemVyIGFmdGVyIGJvZHkgdG8gcHJldmVudCBpdFxuICAgICAgICAvLyBmcm9tIGJlaW5nIGVkaXRhYmxlLlxuICAgICAgICBkb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5hcHBlbmQocmVzaXplcik7XG5cbiAgICAgICAgdGhpcy5hdHRhY2hUbyA9IGZ1bmN0aW9uKHRhcmdldFBpbGxhcikge1xuICAgICAgICAgICAgLy8gQWNjZXB0IG9ubHkgb25lIHBpbGxhciBhdCBhIHRpbWUuXG4gICAgICAgICAgICBpZiAoaXNSZXNpemluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGlsbGFyID0gdGFyZ2V0UGlsbGFyO1xuXG4gICAgICAgICAgICByZXNpemVyLnNldFN0eWxlcyh7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHB4VW5pdCh0YXJnZXRQaWxsYXIud2lkdGgpLFxuICAgICAgICAgICAgICAgIGhlaWdodDogcHhVbml0KHRhcmdldFBpbGxhci5oZWlnaHQpLFxuICAgICAgICAgICAgICAgIGxlZnQ6IHB4VW5pdCh0YXJnZXRQaWxsYXIueCksXG4gICAgICAgICAgICAgICAgdG9wOiBweFVuaXQodGFyZ2V0UGlsbGFyLnkpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmVzaXplci5vbignbW91c2Vkb3duJywgb25Nb3VzZURvd24sIHRoaXMpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRCb2R5KCkuc2V0U3R5bGUoJ2N1cnNvcicsICdjb2wtcmVzaXplJyk7XG5cbiAgICAgICAgICAgIC8vIERpc3BsYXkgdGhlIHJlc2l6ZXIgdG8gcmVjZWl2ZSBldmVudHMgYnV0IGRvbid0IHNob3cgaXQsXG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIHRvIHJlc2l6YWJsZSBzaGFwZS5cbiAgICAgICAgICAgIHJlc2l6ZXIuc2hvdygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb3ZlID0gdGhpcy5tb3ZlID0gZnVuY3Rpb24ocG9zWCkge1xuICAgICAgICAgICAgaWYgKCFwaWxsYXIpe1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzUmVzaXppbmcgJiYgKHBvc1ggPCBwaWxsYXIueCB8fCBwb3NYID4gKHBpbGxhci54ICsgcGlsbGFyLndpZHRoKSkpIHtcbiAgICAgICAgICAgICAgICBkZXRhY2goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlc2l6ZXJOZXdQb3NpdGlvbiA9IHBvc1ggLSBNYXRoLnJvdW5kKHJlc2l6ZXIuJC5vZmZzZXRXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICBpZiAoaXNSZXNpemluZykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNpemVyTmV3UG9zaXRpb24gPT09IGxlZnRTaGlmdEJvdW5kYXJ5IHx8IHJlc2l6ZXJOZXdQb3NpdGlvbiA9PT0gcmlnaHRTaGlmdEJvdW5kYXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlc2l6ZXJOZXdQb3NpdGlvbiA9IE1hdGgubWF4KHJlc2l6ZXJOZXdQb3NpdGlvbiwgbGVmdFNoaWZ0Qm91bmRhcnkpO1xuICAgICAgICAgICAgICAgIHJlc2l6ZXJOZXdQb3NpdGlvbiA9IE1hdGgubWluKHJlc2l6ZXJOZXdQb3NpdGlvbiwgcmlnaHRTaGlmdEJvdW5kYXJ5KTtcblxuICAgICAgICAgICAgICAgIGN1cnJlbnRTaGlmdCA9IHJlc2l6ZXJOZXdQb3NpdGlvbiAtIHN0YXJ0T2Zmc2V0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXNpemVyLnNldFN0eWxlKCdsZWZ0JywgcHhVbml0KHJlc2l6ZXJOZXdQb3NpdGlvbikpO1xuXG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhclBpbGxhcnNDYWNoZShldnQpIHtcbiAgICAgICAgdmFyIHRhcmdldCA9IGV2dC5kYXRhLmdldFRhcmdldCgpO1xuXG4gICAgICAgIGlmIChldnQubmFtZSA9PT0gJ21vdXNlb3V0Jykge1xuICAgICAgICAgICAgLy8gQnlwYXNzIGludGVyYWwgbW91c2UgbW92ZS5cbiAgICAgICAgICAgIGlmICghdGFyZ2V0LmlzKCd0YWJsZScpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZGVzdCA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChldnQuZGF0YS4kLnJlbGF0ZWRUYXJnZXQgfHwgZXZ0LmRhdGEuJC50b0VsZW1lbnQpO1xuICAgICAgICAgICAgd2hpbGUgKGRlc3QgJiYgZGVzdC4kICYmICFkZXN0LmVxdWFscyh0YXJnZXQpICYmICFkZXN0LmlzKCdib2R5JykpIHtcbiAgICAgICAgICAgICAgICBkZXN0ID0gZGVzdC5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVzdCB8fCBkZXN0LmVxdWFscyh0YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGFyZ2V0LmdldEFzY2VuZGFudCgndGFibGUnLCAxKS5yZW1vdmVDdXN0b21EYXRhKCdfY2tlX3RhYmxlX3BpbGxhcnMnKTtcbiAgICAgICAgZXZ0LnJlbW92ZUxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgQ0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX3RhYmxlcmVzaXplJywge1xuICAgICAgICByZXF1aXJlczogJ2FlX3RhYmxldG9vbHMnLFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgZWRpdG9yLm9uKCdjb250ZW50RG9tJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc2l6ZXIsXG4gICAgICAgICAgICAgICAgICAgIGVkaXRhYmxlID0gZWRpdG9yLmVkaXRhYmxlKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBJbiBDbGFzc2ljIGVkaXRvciBpdCBpcyBiZXR0ZXIgdG8gdXNlIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBlZGl0YWJsZSBzbyBldmVudCB3aWxsIHdvcmsgYmVsb3cgYm9keS5cbiAgICAgICAgICAgICAgICBlZGl0YWJsZS5hdHRhY2hMaXN0ZW5lcihlZGl0YWJsZS5pc0lubGluZSgpID8gZWRpdGFibGUgOiBlZGl0b3IuZG9jdW1lbnQsICdtb3VzZW1vdmUnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZ0ID0gZXZ0LmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2dC5nZXRUYXJnZXQoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBGRiBtYXkgcmV0dXJuIGRvY3VtZW50IGFuZCBJRTggc29tZSBVRk8gKG9iamVjdCB3aXRoIG5vIG5vZGVUeXBlIHByb3BlcnR5Li4uKVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIG9mIGFuIGVsZW1lbnQgKCMxMTgyMykuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQudHlwZSAhPT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZVggPSBldnQuZ2V0UGFnZU9mZnNldCgpLng7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UncmUgYWxyZWFkeSBhdHRhY2hlZCB0byBhIHBpbGxhciwgc2ltcGx5IG1vdmUgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2l6ZXIuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNpemVyICYmIHJlc2l6ZXIubW92ZShwYWdlWCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbChldnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ29uc2lkZXJpbmcgdGFibGUsIHRyLCB0ZCwgdGJvZHkgYnV0IG5vdGhpbmcgZWxzZS5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlLCBwaWxsYXJzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmlzKCd0YWJsZScpICYmICF0YXJnZXQuZ2V0QXNjZW5kYW50KCd0Ym9keScsIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IHRhcmdldC5nZXRBc2NlbmRhbnQoJ3RhYmxlJywgMSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0YWJsZSB3ZSBmb3VuZCBpcyBpbnNpZGUgdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAvLyAoZWcuIHdlIHNob3VsZCBub3QgdXNlIHRhYmxlcyB0aGUgZWRpdG9yIGlzIGVtYmVkZGVkIHdpdGhpbilcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlZGl0b3IuZWRpdGFibGUoKS5jb250YWlucyh0YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHBpbGxhcnMgPSB0YWJsZS5nZXRDdXN0b21EYXRhKCdfY2tlX3RhYmxlX3BpbGxhcnMnKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRhYmxlIHBpbGxhcnMgY2FsY3VsYXRpb24gcmVzdWx0LlxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUuc2V0Q3VzdG9tRGF0YSgnX2NrZV90YWJsZV9waWxsYXJzJywgKHBpbGxhcnMgPSBidWlsZFRhYmxlQ29sdW1uUGlsbGFycyh0YWJsZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLm9uKCdtb3VzZW91dCcsIGNsZWFyUGlsbGFyc0NhY2hlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLm9uKCdtb3VzZWRvd24nLCBjbGVhclBpbGxhcnNDYWNoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgcGlsbGFyID0gZ2V0UGlsbGFyQXRQb3NpdGlvbihwaWxsYXJzLCBwYWdlWCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWxsYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICFyZXNpemVyICYmIChyZXNpemVyID0gbmV3IGNvbHVtblJlc2l6ZXIoZWRpdG9yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNpemVyLmF0dGFjaFRvKHBpbGxhcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbn0oKSk7XG4iLCIvKipcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE1LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbigpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG4gICAgaWYgKENLRURJVE9SLnBsdWdpbnMuZ2V0KCdhZV90YWJsZXRvb2xzJykpe1xuXHRcdHJldHVybjtcbiAgICB9XG5cblx0dmFyIGNlbGxOb2RlUmVnZXggPSAvXig/OnRkfHRoKSQvO1xuXG5cdGZ1bmN0aW9uIGdldFNlbGVjdGVkQ2VsbHMoIHNlbGVjdGlvbiApIHtcblx0XHR2YXIgcmFuZ2VzID0gc2VsZWN0aW9uLmdldFJhbmdlcygpO1xuXHRcdHZhciByZXR2YWwgPSBbXTtcblx0XHR2YXIgZGF0YWJhc2UgPSB7fTtcblxuXHRcdGZ1bmN0aW9uIG1vdmVPdXRPZkNlbGxHdWFyZCggbm9kZSApIHtcblx0XHRcdC8vIEFwcGx5IHRvIHRoZSBmaXJzdCBjZWxsIG9ubHkuXG5cdFx0XHRpZiAoIHJldHZhbC5sZW5ndGggPiAwIClcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHQvLyBJZiB3ZSBhcmUgZXhpdGluZyBmcm9tIHRoZSBmaXJzdCA8L3RkPiwgdGhlbiB0aGUgdGQgc2hvdWxkIGRlZmluaXRlbHkgYmVcblx0XHRcdC8vIGluY2x1ZGVkLlxuXHRcdFx0aWYgKCBub2RlLnR5cGUgPT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UICYmIGNlbGxOb2RlUmVnZXgudGVzdCggbm9kZS5nZXROYW1lKCkgKSAmJiAhbm9kZS5nZXRDdXN0b21EYXRhKCAnc2VsZWN0ZWRfY2VsbCcgKSApIHtcblx0XHRcdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKCBkYXRhYmFzZSwgbm9kZSwgJ3NlbGVjdGVkX2NlbGwnLCB0cnVlICk7XG5cdFx0XHRcdHJldHZhbC5wdXNoKCBub2RlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0dmFyIHJhbmdlID0gcmFuZ2VzWyBpIF07XG5cblx0XHRcdGlmICggcmFuZ2UuY29sbGFwc2VkICkge1xuXHRcdFx0XHQvLyBXYWxrZXIgZG9lcyBub3QgaGFuZGxlIGNvbGxhcHNlZCByYW5nZXMgeWV0IC0gZmFsbCBiYWNrIHRvIG9sZCBBUEkuXG5cdFx0XHRcdHZhciBzdGFydE5vZGUgPSByYW5nZS5nZXRDb21tb25BbmNlc3RvcigpO1xuXHRcdFx0XHR2YXIgbmVhcmVzdENlbGwgPSBzdGFydE5vZGUuZ2V0QXNjZW5kYW50KCAndGQnLCB0cnVlICkgfHwgc3RhcnROb2RlLmdldEFzY2VuZGFudCggJ3RoJywgdHJ1ZSApO1xuXHRcdFx0XHRpZiAoIG5lYXJlc3RDZWxsIClcblx0XHRcdFx0XHRyZXR2YWwucHVzaCggbmVhcmVzdENlbGwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciB3YWxrZXIgPSBuZXcgQ0tFRElUT1IuZG9tLndhbGtlciggcmFuZ2UgKTtcblx0XHRcdFx0dmFyIG5vZGU7XG5cdFx0XHRcdHdhbGtlci5ndWFyZCA9IG1vdmVPdXRPZkNlbGxHdWFyZDtcblxuXHRcdFx0XHR3aGlsZSAoICggbm9kZSA9IHdhbGtlci5uZXh0KCkgKSApIHtcblx0XHRcdFx0XHQvLyBJZiBtYXkgYmUgcG9zc2libGUgZm9yIHVzIHRvIGhhdmUgYSByYW5nZSBsaWtlIHRoaXM6XG5cdFx0XHRcdFx0Ly8gPHRkPl4xPC90ZD48dGQ+XjI8L3RkPlxuXHRcdFx0XHRcdC8vIFRoZSAybmQgdGQgc2hvdWxkbid0IGJlIGluY2x1ZGVkLlxuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Ly8gU28gd2UgaGF2ZSB0byB0YWtlIGNhcmUgdG8gaW5jbHVkZSBhIHRkIHdlJ3ZlIGVudGVyZWQgb25seSB3aGVuIHdlJ3ZlXG5cdFx0XHRcdFx0Ly8gd2Fsa2VkIGludG8gaXRzIGNoaWxkcmVuLlxuXG5cdFx0XHRcdFx0aWYgKCBub2RlLnR5cGUgIT0gQ0tFRElUT1IuTk9ERV9FTEVNRU5UIHx8ICFub2RlLmlzKCBDS0VESVRPUi5kdGQudGFibGUgKSApIHtcblx0XHRcdFx0XHRcdHZhciBwYXJlbnQgPSBub2RlLmdldEFzY2VuZGFudCggJ3RkJywgdHJ1ZSApIHx8IG5vZGUuZ2V0QXNjZW5kYW50KCAndGgnLCB0cnVlICk7XG5cdFx0XHRcdFx0XHRpZiAoIHBhcmVudCAmJiAhcGFyZW50LmdldEN1c3RvbURhdGEoICdzZWxlY3RlZF9jZWxsJyApICkge1xuXHRcdFx0XHRcdFx0XHRDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoIGRhdGFiYXNlLCBwYXJlbnQsICdzZWxlY3RlZF9jZWxsJywgdHJ1ZSApO1xuXHRcdFx0XHRcdFx0XHRyZXR2YWwucHVzaCggcGFyZW50ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKCBkYXRhYmFzZSApO1xuXG5cdFx0cmV0dXJuIHJldHZhbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldEZvY3VzRWxlbWVudEFmdGVyRGVsQ2VsbHMoIGNlbGxzVG9EZWxldGUgKSB7XG5cdFx0dmFyIGkgPSAwLFxuXHRcdFx0bGFzdCA9IGNlbGxzVG9EZWxldGUubGVuZ3RoIC0gMSxcblx0XHRcdGRhdGFiYXNlID0ge30sXG5cdFx0XHRjZWxsLCBmb2N1c2VkQ2VsbCwgdHI7XG5cblx0XHR3aGlsZSAoICggY2VsbCA9IGNlbGxzVG9EZWxldGVbIGkrKyBdICkgKVxuXHRcdFx0Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKCBkYXRhYmFzZSwgY2VsbCwgJ2RlbGV0ZV9jZWxsJywgdHJ1ZSApO1xuXG5cdFx0Ly8gMS5maXJzdCB3ZSBjaGVjayBsZWZ0IG9yIHJpZ2h0IHNpZGUgZm9jdXNhYmxlIGNlbGwgcm93IGJ5IHJvdztcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY2VsbCA9IGNlbGxzVG9EZWxldGVbIGkrKyBdICkgKSB7XG5cdFx0XHRpZiAoICggZm9jdXNlZENlbGwgPSBjZWxsLmdldFByZXZpb3VzKCkgKSAmJiAhZm9jdXNlZENlbGwuZ2V0Q3VzdG9tRGF0YSggJ2RlbGV0ZV9jZWxsJyApIHx8ICggZm9jdXNlZENlbGwgPSBjZWxsLmdldE5leHQoKSApICYmICFmb2N1c2VkQ2VsbC5nZXRDdXN0b21EYXRhKCAnZGVsZXRlX2NlbGwnICkgKSB7XG5cdFx0XHRcdENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyggZGF0YWJhc2UgKTtcblx0XHRcdFx0cmV0dXJuIGZvY3VzZWRDZWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyggZGF0YWJhc2UgKTtcblxuXHRcdC8vIDIuIHRoZW4gd2UgY2hlY2sgdGhlIHRvcHBlc3Qgcm93IChvdXRzaWRlIHRoZSBzZWxlY3Rpb24gYXJlYSBzcXVhcmUpIGZvY3VzYWJsZSBjZWxsXG5cdFx0dHIgPSBjZWxsc1RvRGVsZXRlWyAwIF0uZ2V0UGFyZW50KCk7XG5cdFx0aWYgKCAoIHRyID0gdHIuZ2V0UHJldmlvdXMoKSApIClcblx0XHRcdHJldHVybiB0ci5nZXRMYXN0KCk7XG5cblx0XHQvLyAzLiBsYXN0IHdlIGNoZWNrIHRoZSBsb3dlcmVzdCAgcm93IGZvY3VzYWJsZSBjZWxsXG5cdFx0dHIgPSBjZWxsc1RvRGVsZXRlWyBsYXN0IF0uZ2V0UGFyZW50KCk7XG5cdFx0aWYgKCAoIHRyID0gdHIuZ2V0TmV4dCgpICkgKVxuXHRcdFx0cmV0dXJuIHRyLmdldENoaWxkKCAwICk7XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGluc2VydFJvdyggc2VsZWN0aW9uLCBpbnNlcnRCZWZvcmUgKSB7XG5cdFx0dmFyIGNlbGxzID0gZ2V0U2VsZWN0ZWRDZWxscyggc2VsZWN0aW9uICksXG5cdFx0XHRmaXJzdENlbGwgPSBjZWxsc1sgMCBdLFxuXHRcdFx0dGFibGUgPSBmaXJzdENlbGwuZ2V0QXNjZW5kYW50KCAndGFibGUnICksXG5cdFx0XHRkb2MgPSBmaXJzdENlbGwuZ2V0RG9jdW1lbnQoKSxcblx0XHRcdHN0YXJ0Um93ID0gY2VsbHNbIDAgXS5nZXRQYXJlbnQoKSxcblx0XHRcdHN0YXJ0Um93SW5kZXggPSBzdGFydFJvdy4kLnJvd0luZGV4LFxuXHRcdFx0bGFzdENlbGwgPSBjZWxsc1sgY2VsbHMubGVuZ3RoIC0gMSBdLFxuXHRcdFx0ZW5kUm93SW5kZXggPSBsYXN0Q2VsbC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4ICsgbGFzdENlbGwuJC5yb3dTcGFuIC0gMSxcblx0XHRcdGVuZFJvdyA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggdGFibGUuJC5yb3dzWyBlbmRSb3dJbmRleCBdICksXG5cdFx0XHRyb3dJbmRleCA9IGluc2VydEJlZm9yZSA/IHN0YXJ0Um93SW5kZXggOiBlbmRSb3dJbmRleCxcblx0XHRcdHJvdyA9IGluc2VydEJlZm9yZSA/IHN0YXJ0Um93IDogZW5kUm93O1xuXG5cdFx0dmFyIG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoIHRhYmxlICksXG5cdFx0XHRjbG9uZVJvdyA9IG1hcFsgcm93SW5kZXggXSxcblx0XHRcdG5leHRSb3cgPSBpbnNlcnRCZWZvcmUgPyBtYXBbIHJvd0luZGV4IC0gMSBdIDogbWFwWyByb3dJbmRleCArIDEgXSxcblx0XHRcdHdpZHRoID0gbWFwWyAwIF0ubGVuZ3RoO1xuXG5cdFx0dmFyIG5ld1JvdyA9IGRvYy5jcmVhdGVFbGVtZW50KCAndHInICk7XG5cdFx0Zm9yICggdmFyIGkgPSAwOyBjbG9uZVJvd1sgaSBdICYmIGkgPCB3aWR0aDsgaSsrICkge1xuXHRcdFx0dmFyIGNlbGw7XG5cdFx0XHQvLyBDaGVjayB3aGV0aGVyIHRoZXJlJ3MgYSBzcGFubmluZyByb3cgaGVyZSwgZG8gbm90IGJyZWFrIGl0LlxuXHRcdFx0aWYgKCBjbG9uZVJvd1sgaSBdLnJvd1NwYW4gPiAxICYmIG5leHRSb3cgJiYgY2xvbmVSb3dbIGkgXSA9PSBuZXh0Um93WyBpIF0gKSB7XG5cdFx0XHRcdGNlbGwgPSBjbG9uZVJvd1sgaSBdO1xuXHRcdFx0XHRjZWxsLnJvd1NwYW4gKz0gMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIGNsb25lUm93WyBpIF0gKS5jbG9uZSgpO1xuXHRcdFx0XHRjZWxsLnJlbW92ZUF0dHJpYnV0ZSggJ3Jvd1NwYW4nICk7XG5cdFx0XHRcdGNlbGwuYXBwZW5kQm9ndXMoKTtcblx0XHRcdFx0bmV3Um93LmFwcGVuZCggY2VsbCApO1xuXHRcdFx0XHRjZWxsID0gY2VsbC4kO1xuXHRcdFx0fVxuXG5cdFx0XHRpICs9IGNlbGwuY29sU3BhbiAtIDE7XG5cdFx0fVxuXG5cdFx0aW5zZXJ0QmVmb3JlID8gbmV3Um93Lmluc2VydEJlZm9yZSggcm93ICkgOiBuZXdSb3cuaW5zZXJ0QWZ0ZXIoIHJvdyApO1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVsZXRlUm93cyggc2VsZWN0aW9uT3JSb3cgKSB7XG5cdFx0aWYgKCBzZWxlY3Rpb25PclJvdyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5zZWxlY3Rpb24gKSB7XG5cdFx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb25PclJvdyApLFxuXHRcdFx0XHRmaXJzdENlbGwgPSBjZWxsc1sgMCBdLFxuXHRcdFx0XHR0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoICd0YWJsZScgKSxcblx0XHRcdFx0bWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCggdGFibGUgKSxcblx0XHRcdFx0c3RhcnRSb3cgPSBjZWxsc1sgMCBdLmdldFBhcmVudCgpLFxuXHRcdFx0XHRzdGFydFJvd0luZGV4ID0gc3RhcnRSb3cuJC5yb3dJbmRleCxcblx0XHRcdFx0bGFzdENlbGwgPSBjZWxsc1sgY2VsbHMubGVuZ3RoIC0gMSBdLFxuXHRcdFx0XHRlbmRSb3dJbmRleCA9IGxhc3RDZWxsLmdldFBhcmVudCgpLiQucm93SW5kZXggKyBsYXN0Q2VsbC4kLnJvd1NwYW4gLSAxLFxuXHRcdFx0XHRyb3dzVG9EZWxldGUgPSBbXTtcblxuXHRcdFx0Ly8gRGVsZXRlIGNlbGwgb3IgcmVkdWNlIGNlbGwgc3BhbnMgYnkgY2hlY2tpbmcgdGhyb3VnaCB0aGUgdGFibGUgbWFwLlxuXHRcdFx0Zm9yICggdmFyIGkgPSBzdGFydFJvd0luZGV4OyBpIDw9IGVuZFJvd0luZGV4OyBpKysgKSB7XG5cdFx0XHRcdHZhciBtYXBSb3cgPSBtYXBbIGkgXSxcblx0XHRcdFx0XHRyb3cgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIHRhYmxlLiQucm93c1sgaSBdICk7XG5cblx0XHRcdFx0Zm9yICggdmFyIGogPSAwOyBqIDwgbWFwUm93Lmxlbmd0aDsgaisrICkge1xuXHRcdFx0XHRcdHZhciBjZWxsID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCBtYXBSb3dbIGogXSApLFxuXHRcdFx0XHRcdFx0Y2VsbFJvd0luZGV4ID0gY2VsbC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4O1xuXG5cdFx0XHRcdFx0aWYgKCBjZWxsLiQucm93U3BhbiA9PSAxIClcblx0XHRcdFx0XHRcdGNlbGwucmVtb3ZlKCk7XG5cdFx0XHRcdFx0Ly8gUm93IHNwYW5uZWQgY2VsbC5cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdC8vIFNwYW4gcm93IG9mIHRoZSBjZWxsLCByZWR1Y2Ugc3Bhbm5pbmcuXG5cdFx0XHRcdFx0XHRjZWxsLiQucm93U3BhbiAtPSAxO1xuXHRcdFx0XHRcdFx0Ly8gUm9vdCByb3cgb2YgdGhlIGNlbGwsIHJvb3QgY2VsbCB0byBuZXh0IHJvdy5cblx0XHRcdFx0XHRcdGlmICggY2VsbFJvd0luZGV4ID09IGkgKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBuZXh0TWFwUm93ID0gbWFwWyBpICsgMSBdO1xuXHRcdFx0XHRcdFx0XHRuZXh0TWFwUm93WyBqIC0gMSBdID8gY2VsbC5pbnNlcnRBZnRlciggbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCBuZXh0TWFwUm93WyBqIC0gMSBdICkgKSA6IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggdGFibGUuJC5yb3dzWyBpICsgMSBdICkuYXBwZW5kKCBjZWxsLCAxICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aiArPSBjZWxsLiQuY29sU3BhbiAtIDE7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyb3dzVG9EZWxldGUucHVzaCggcm93ICk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByb3dzID0gdGFibGUuJC5yb3dzO1xuXG5cdFx0XHQvLyBXaGVyZSB0byBwdXQgdGhlIGN1cnNvciBhZnRlciByb3dzIGJlZW4gZGVsZXRlZD9cblx0XHRcdC8vIDEuIEludG8gbmV4dCBzaWJsaW5nIHJvdyBpZiBhbnk7XG5cdFx0XHQvLyAyLiBJbnRvIHByZXZpb3VzIHNpYmxpbmcgcm93IGlmIGFueTtcblx0XHRcdC8vIDMuIEludG8gdGFibGUncyBwYXJlbnQgZWxlbWVudCBpZiBpdCdzIHRoZSB2ZXJ5IGxhc3Qgcm93LlxuXHRcdFx0dmFyIGN1cnNvclBvc2l0aW9uID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCByb3dzWyBlbmRSb3dJbmRleCArIDEgXSB8fCAoIHN0YXJ0Um93SW5kZXggPiAwID8gcm93c1sgc3RhcnRSb3dJbmRleCAtIDEgXSA6IG51bGwgKSB8fCB0YWJsZS4kLnBhcmVudE5vZGUgKTtcblxuXHRcdFx0Zm9yICggaSA9IHJvd3NUb0RlbGV0ZS5sZW5ndGg7IGkgPj0gMDsgaS0tIClcblx0XHRcdFx0ZGVsZXRlUm93cyggcm93c1RvRGVsZXRlWyBpIF0gKTtcblxuXHRcdFx0cmV0dXJuIGN1cnNvclBvc2l0aW9uO1xuXHRcdH0gZWxzZSBpZiAoIHNlbGVjdGlvbk9yUm93IGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQgKSB7XG5cdFx0XHR0YWJsZSA9IHNlbGVjdGlvbk9yUm93LmdldEFzY2VuZGFudCggJ3RhYmxlJyApO1xuXG5cdFx0XHRpZiAoIHRhYmxlLiQucm93cy5sZW5ndGggPT0gMSApXG5cdFx0XHRcdHRhYmxlLnJlbW92ZSgpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRzZWxlY3Rpb25PclJvdy5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldENlbGxDb2xJbmRleCggY2VsbCwgaXNTdGFydCApIHtcblx0XHR2YXIgcm93ID0gY2VsbC5nZXRQYXJlbnQoKSxcblx0XHRcdHJvd0NlbGxzID0gcm93LiQuY2VsbHM7XG5cblx0XHR2YXIgY29sSW5kZXggPSAwO1xuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHJvd0NlbGxzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0dmFyIG1hcENlbGwgPSByb3dDZWxsc1sgaSBdO1xuXHRcdFx0Y29sSW5kZXggKz0gaXNTdGFydCA/IDEgOiBtYXBDZWxsLmNvbFNwYW47XG5cdFx0XHRpZiAoIG1hcENlbGwgPT0gY2VsbC4kIClcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbEluZGV4IC0gMTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldENvbHVtbnNJbmRpY2VzKCBjZWxscywgaXNTdGFydCApIHtcblx0XHR2YXIgcmV0dmFsID0gaXNTdGFydCA/IEluZmluaXR5IDogMDtcblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBjZWxscy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdHZhciBjb2xJbmRleCA9IGdldENlbGxDb2xJbmRleCggY2VsbHNbIGkgXSwgaXNTdGFydCApO1xuXHRcdFx0aWYgKCBpc1N0YXJ0ID8gY29sSW5kZXggPCByZXR2YWwgOiBjb2xJbmRleCA+IHJldHZhbCApXG5cdFx0XHRcdHJldHZhbCA9IGNvbEluZGV4O1xuXHRcdH1cblx0XHRyZXR1cm4gcmV0dmFsO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5zZXJ0Q29sdW1uKCBzZWxlY3Rpb24sIGluc2VydEJlZm9yZSApIHtcblx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb24gKSxcblx0XHRcdGZpcnN0Q2VsbCA9IGNlbGxzWyAwIF0sXG5cdFx0XHR0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoICd0YWJsZScgKSxcblx0XHRcdHN0YXJ0Q29sID0gZ2V0Q29sdW1uc0luZGljZXMoIGNlbGxzLCAxICksXG5cdFx0XHRsYXN0Q29sID0gZ2V0Q29sdW1uc0luZGljZXMoIGNlbGxzICksXG5cdFx0XHRjb2xJbmRleCA9IGluc2VydEJlZm9yZSA/IHN0YXJ0Q29sIDogbGFzdENvbDtcblxuXHRcdHZhciBtYXAgPSBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKCB0YWJsZSApLFxuXHRcdFx0Y2xvbmVDb2wgPSBbXSxcblx0XHRcdG5leHRDb2wgPSBbXSxcblx0XHRcdGhlaWdodCA9IG1hcC5sZW5ndGg7XG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKyApIHtcblx0XHRcdGNsb25lQ29sLnB1c2goIG1hcFsgaSBdWyBjb2xJbmRleCBdICk7XG5cdFx0XHR2YXIgbmV4dENlbGwgPSBpbnNlcnRCZWZvcmUgPyBtYXBbIGkgXVsgY29sSW5kZXggLSAxIF0gOiBtYXBbIGkgXVsgY29sSW5kZXggKyAxIF07XG5cdFx0XHRuZXh0Q29sLnB1c2goIG5leHRDZWxsICk7XG5cdFx0fVxuXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKyApIHtcblx0XHRcdHZhciBjZWxsO1xuXG5cdFx0XHRpZiAoICFjbG9uZUNvbFsgaSBdIClcblx0XHRcdFx0Y29udGludWU7XG5cblx0XHRcdC8vIENoZWNrIHdoZXRoZXIgdGhlcmUncyBhIHNwYW5uaW5nIGNvbHVtbiBoZXJlLCBkbyBub3QgYnJlYWsgaXQuXG5cdFx0XHRpZiAoIGNsb25lQ29sWyBpIF0uY29sU3BhbiA+IDEgJiYgbmV4dENvbFsgaSBdID09IGNsb25lQ29sWyBpIF0gKSB7XG5cdFx0XHRcdGNlbGwgPSBjbG9uZUNvbFsgaSBdO1xuXHRcdFx0XHRjZWxsLmNvbFNwYW4gKz0gMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIGNsb25lQ29sWyBpIF0gKS5jbG9uZSgpO1xuXHRcdFx0XHRjZWxsLnJlbW92ZUF0dHJpYnV0ZSggJ2NvbFNwYW4nICk7XG5cdFx0XHRcdGNlbGwuYXBwZW5kQm9ndXMoKTtcblx0XHRcdFx0Y2VsbFsgaW5zZXJ0QmVmb3JlID8gJ2luc2VydEJlZm9yZScgOiAnaW5zZXJ0QWZ0ZXInIF0uY2FsbCggY2VsbCwgbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCBjbG9uZUNvbFsgaSBdICkgKTtcblx0XHRcdFx0Y2VsbCA9IGNlbGwuJDtcblx0XHRcdH1cblxuXHRcdFx0aSArPSBjZWxsLnJvd1NwYW4gLSAxO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGRlbGV0ZUNvbHVtbnMoIHNlbGVjdGlvbk9yQ2VsbCApIHtcblx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb25PckNlbGwgKSxcblx0XHRcdGZpcnN0Q2VsbCA9IGNlbGxzWyAwIF0sXG5cdFx0XHRsYXN0Q2VsbCA9IGNlbGxzWyBjZWxscy5sZW5ndGggLSAxIF0sXG5cdFx0XHR0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoICd0YWJsZScgKSxcblx0XHRcdG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoIHRhYmxlICksXG5cdFx0XHRzdGFydENvbEluZGV4LCBlbmRDb2xJbmRleCxcblx0XHRcdHJvd3NUb0RlbGV0ZSA9IFtdO1xuXG5cdFx0Ly8gRmlndXJlIG91dCBzZWxlY3RlZCBjZWxscycgY29sdW1uIGluZGljZXMuXG5cdFx0Zm9yICggdmFyIGkgPSAwLCByb3dzID0gbWFwLmxlbmd0aDsgaSA8IHJvd3M7IGkrKyApIHtcblx0XHRcdGZvciAoIHZhciBqID0gMCwgY29scyA9IG1hcFsgaSBdLmxlbmd0aDsgaiA8IGNvbHM7IGorKyApIHtcblx0XHRcdFx0aWYgKCBtYXBbIGkgXVsgaiBdID09IGZpcnN0Q2VsbC4kIClcblx0XHRcdFx0XHRzdGFydENvbEluZGV4ID0gajtcblx0XHRcdFx0aWYgKCBtYXBbIGkgXVsgaiBdID09IGxhc3RDZWxsLiQgKVxuXHRcdFx0XHRcdGVuZENvbEluZGV4ID0gajtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBEZWxldGUgY2VsbCBvciByZWR1Y2UgY2VsbCBzcGFucyBieSBjaGVja2luZyB0aHJvdWdoIHRoZSB0YWJsZSBtYXAuXG5cdFx0Zm9yICggaSA9IHN0YXJ0Q29sSW5kZXg7IGkgPD0gZW5kQ29sSW5kZXg7IGkrKyApIHtcblx0XHRcdGZvciAoIGogPSAwOyBqIDwgbWFwLmxlbmd0aDsgaisrICkge1xuXHRcdFx0XHR2YXIgbWFwUm93ID0gbWFwWyBqIF0sXG5cdFx0XHRcdFx0cm93ID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCB0YWJsZS4kLnJvd3NbIGogXSApLFxuXHRcdFx0XHRcdGNlbGwgPSBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIG1hcFJvd1sgaSBdICk7XG5cblx0XHRcdFx0aWYgKCBjZWxsLiQgKSB7XG5cdFx0XHRcdFx0aWYgKCBjZWxsLiQuY29sU3BhbiA9PSAxIClcblx0XHRcdFx0XHRcdGNlbGwucmVtb3ZlKCk7XG5cdFx0XHRcdFx0Ly8gUmVkdWNlIHRoZSBjb2wgc3BhbnMuXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0Y2VsbC4kLmNvbFNwYW4gLT0gMTtcblxuXHRcdFx0XHRcdGogKz0gY2VsbC4kLnJvd1NwYW4gLSAxO1xuXG5cdFx0XHRcdFx0aWYgKCAhcm93LiQuY2VsbHMubGVuZ3RoIClcblx0XHRcdFx0XHRcdHJvd3NUb0RlbGV0ZS5wdXNoKCByb3cgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHZhciBmaXJzdFJvd0NlbGxzID0gdGFibGUuJC5yb3dzWyAwIF0gJiYgdGFibGUuJC5yb3dzWyAwIF0uY2VsbHM7XG5cblx0XHQvLyBXaGVyZSB0byBwdXQgdGhlIGN1cnNvciBhZnRlciBjb2x1bW5zIGJlZW4gZGVsZXRlZD9cblx0XHQvLyAxLiBJbnRvIG5leHQgY2VsbCBvZiB0aGUgZmlyc3Qgcm93IGlmIGFueTtcblx0XHQvLyAyLiBJbnRvIHByZXZpb3VzIGNlbGwgb2YgdGhlIGZpcnN0IHJvdyBpZiBhbnk7XG5cdFx0Ly8gMy4gSW50byB0YWJsZSdzIHBhcmVudCBlbGVtZW50O1xuXHRcdHZhciBjdXJzb3JQb3NpdGlvbiA9IG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggZmlyc3RSb3dDZWxsc1sgc3RhcnRDb2xJbmRleCBdIHx8ICggc3RhcnRDb2xJbmRleCA/IGZpcnN0Um93Q2VsbHNbIHN0YXJ0Q29sSW5kZXggLSAxIF0gOiB0YWJsZS4kLnBhcmVudE5vZGUgKSApO1xuXG5cdFx0Ly8gRGVsZXRlIHRhYmxlIHJvd3Mgb25seSBpZiBhbGwgY29sdW1ucyBhcmUgZ29uZSAoZG8gbm90IHJlbW92ZSBlbXB0eSByb3cpLlxuXHRcdGlmICggcm93c1RvRGVsZXRlLmxlbmd0aCA9PSByb3dzIClcblx0XHRcdHRhYmxlLnJlbW92ZSgpO1xuXG5cdFx0cmV0dXJuIGN1cnNvclBvc2l0aW9uO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5zZXJ0Q2VsbCggc2VsZWN0aW9uLCBpbnNlcnRCZWZvcmUgKSB7XG5cdFx0dmFyIHN0YXJ0RWxlbWVudCA9IHNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnQoKTtcblx0XHR2YXIgY2VsbCA9IHN0YXJ0RWxlbWVudC5nZXRBc2NlbmRhbnQoICd0ZCcsIDEgKSB8fCBzdGFydEVsZW1lbnQuZ2V0QXNjZW5kYW50KCAndGgnLCAxICk7XG5cblx0XHRpZiAoICFjZWxsIClcblx0XHRcdHJldHVybjtcblxuXHRcdC8vIENyZWF0ZSB0aGUgbmV3IGNlbGwgZWxlbWVudCB0byBiZSBhZGRlZC5cblx0XHR2YXIgbmV3Q2VsbCA9IGNlbGwuY2xvbmUoKTtcblx0XHRuZXdDZWxsLmFwcGVuZEJvZ3VzKCk7XG5cblx0XHRpZiAoIGluc2VydEJlZm9yZSApXG5cdFx0XHRuZXdDZWxsLmluc2VydEJlZm9yZSggY2VsbCApO1xuXHRcdGVsc2Vcblx0XHRcdG5ld0NlbGwuaW5zZXJ0QWZ0ZXIoIGNlbGwgKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGRlbGV0ZUNlbGxzKCBzZWxlY3Rpb25PckNlbGwgKSB7XG5cdFx0aWYgKCBzZWxlY3Rpb25PckNlbGwgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uICkge1xuXHRcdFx0dmFyIGNlbGxzVG9EZWxldGUgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb25PckNlbGwgKTtcblx0XHRcdHZhciB0YWJsZSA9IGNlbGxzVG9EZWxldGVbIDAgXSAmJiBjZWxsc1RvRGVsZXRlWyAwIF0uZ2V0QXNjZW5kYW50KCAndGFibGUnICk7XG5cdFx0XHR2YXIgY2VsbFRvRm9jdXMgPSBnZXRGb2N1c0VsZW1lbnRBZnRlckRlbENlbGxzKCBjZWxsc1RvRGVsZXRlICk7XG5cblx0XHRcdGZvciAoIHZhciBpID0gY2VsbHNUb0RlbGV0ZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSApXG5cdFx0XHRcdGRlbGV0ZUNlbGxzKCBjZWxsc1RvRGVsZXRlWyBpIF0gKTtcblxuXHRcdFx0aWYgKCBjZWxsVG9Gb2N1cyApXG5cdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKCBjZWxsVG9Gb2N1cywgdHJ1ZSApO1xuXHRcdFx0ZWxzZSBpZiAoIHRhYmxlIClcblx0XHRcdFx0dGFibGUucmVtb3ZlKCk7XG5cdFx0fSBlbHNlIGlmICggc2VsZWN0aW9uT3JDZWxsIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQgKSB7XG5cdFx0XHR2YXIgdHIgPSBzZWxlY3Rpb25PckNlbGwuZ2V0UGFyZW50KCk7XG5cdFx0XHRpZiAoIHRyLmdldENoaWxkQ291bnQoKSA9PSAxIClcblx0XHRcdFx0dHIucmVtb3ZlKCk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHNlbGVjdGlvbk9yQ2VsbC5yZW1vdmUoKTtcblx0XHR9XG5cdH1cblxuXHQvLyBSZW1vdmUgZmlsbGVyIGF0IGVuZCBhbmQgZW1wdHkgc3BhY2VzIGFyb3VuZCB0aGUgY2VsbCBjb250ZW50LlxuXHRmdW5jdGlvbiB0cmltQ2VsbCggY2VsbCApIHtcblx0XHR2YXIgYm9ndXMgPSBjZWxsLmdldEJvZ3VzKCk7XG5cdFx0Ym9ndXMgJiYgYm9ndXMucmVtb3ZlKCk7XG5cdFx0Y2VsbC50cmltKCk7XG5cdH1cblxuXHRmdW5jdGlvbiBwbGFjZUN1cnNvckluQ2VsbCggY2VsbCwgcGxhY2VBdEVuZCApIHtcblx0XHR2YXIgZG9jSW5uZXIgPSBjZWxsLmdldERvY3VtZW50KCksXG5cdFx0XHRkb2NPdXRlciA9IENLRURJVE9SLmRvY3VtZW50O1xuXG5cdFx0Ly8gRml4aW5nIFwiVW5zcGVjaWZpZWQgZXJyb3JcIiB0aHJvd24gaW4gSUUxMCBieSByZXNldHRpbmdcblx0XHQvLyBzZWxlY3Rpb24gdGhlIGRpcnR5IGFuZCBzaGFtZWZ1bCB3YXkgKCMxMDMwOCkuXG5cdFx0Ly8gV2UgY2FuIG5vdCBhcHBseSB0aGlzIGhhY2sgdG8gSUU4IGJlY2F1c2Vcblx0XHQvLyBpdCBjYXVzZXMgZXJyb3IgKCMxMTA1OCkuXG5cdFx0aWYgKCBDS0VESVRPUi5lbnYuaWUgJiYgQ0tFRElUT1IuZW52LnZlcnNpb24gPT0gMTAgKSB7XG5cdFx0XHRkb2NPdXRlci5mb2N1cygpO1xuXHRcdFx0ZG9jSW5uZXIuZm9jdXMoKTtcblx0XHR9XG5cblx0XHR2YXIgcmFuZ2UgPSBuZXcgQ0tFRElUT1IuZG9tLnJhbmdlKCBkb2NJbm5lciApO1xuXHRcdGlmICggIXJhbmdlWyAnbW92ZVRvRWxlbWVudEVkaXQnICsgKCBwbGFjZUF0RW5kID8gJ0VuZCcgOiAnU3RhcnQnICkgXSggY2VsbCApICkge1xuXHRcdFx0cmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKCBjZWxsICk7XG5cdFx0XHRyYW5nZS5jb2xsYXBzZSggcGxhY2VBdEVuZCA/IGZhbHNlIDogdHJ1ZSApO1xuXHRcdH1cblx0XHRyYW5nZS5zZWxlY3QoIHRydWUgKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNlbGxJblJvdyggdGFibGVNYXAsIHJvd0luZGV4LCBjZWxsICkge1xuXHRcdHZhciBvUm93ID0gdGFibGVNYXBbIHJvd0luZGV4IF07XG5cdFx0aWYgKCB0eXBlb2YgY2VsbCA9PSAndW5kZWZpbmVkJyApXG5cdFx0XHRyZXR1cm4gb1JvdztcblxuXHRcdGZvciAoIHZhciBjID0gMDsgb1JvdyAmJiBjIDwgb1Jvdy5sZW5ndGg7IGMrKyApIHtcblx0XHRcdGlmICggY2VsbC5pcyAmJiBvUm93WyBjIF0gPT0gY2VsbC4kIClcblx0XHRcdFx0cmV0dXJuIGM7XG5cdFx0XHRlbHNlIGlmICggYyA9PSBjZWxsIClcblx0XHRcdFx0cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggb1Jvd1sgYyBdICk7XG5cdFx0fVxuXHRcdHJldHVybiBjZWxsLmlzID8gLTEgOiBudWxsO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2VsbEluQ29sKCB0YWJsZU1hcCwgY29sSW5kZXggKSB7XG5cdFx0dmFyIG9Db2wgPSBbXTtcblx0XHRmb3IgKCB2YXIgciA9IDA7IHIgPCB0YWJsZU1hcC5sZW5ndGg7IHIrKyApIHtcblx0XHRcdHZhciByb3cgPSB0YWJsZU1hcFsgciBdO1xuXHRcdFx0b0NvbC5wdXNoKCByb3dbIGNvbEluZGV4IF0gKTtcblxuXHRcdFx0Ly8gQXZvaWQgYWRkaW5nIGR1cGxpY2F0ZSBjZWxscy5cblx0XHRcdGlmICggcm93WyBjb2xJbmRleCBdLnJvd1NwYW4gPiAxIClcblx0XHRcdFx0ciArPSByb3dbIGNvbEluZGV4IF0ucm93U3BhbiAtIDE7XG5cdFx0fVxuXHRcdHJldHVybiBvQ29sO1xuXHR9XG5cblx0ZnVuY3Rpb24gbWVyZ2VDZWxscyggc2VsZWN0aW9uLCBtZXJnZURpcmVjdGlvbiwgaXNEZXRlY3QgKSB7XG5cdFx0dmFyIGNlbGxzID0gZ2V0U2VsZWN0ZWRDZWxscyggc2VsZWN0aW9uICk7XG5cblx0XHQvLyBJbnZhbGlkIG1lcmdlIHJlcXVlc3QgaWY6XG5cdFx0Ly8gMS4gSW4gYmF0Y2ggbW9kZSBkZXNwaXRlIHRoYXQgbGVzcyB0aGFuIHR3byBzZWxlY3RlZC5cblx0XHQvLyAyLiBJbiBzb2xvIG1vZGUgd2hpbGUgbm90IGV4YWN0bHkgb25seSBvbmUgc2VsZWN0ZWQuXG5cdFx0Ly8gMy4gQ2VsbHMgZGlzdHJpYnV0ZWQgaW4gZGlmZmVyZW50IHRhYmxlIGdyb3VwcyAoZS5nLiBmcm9tIGJvdGggdGhlYWQgYW5kIHRib2R5KS5cblx0XHR2YXIgY29tbW9uQW5jZXN0b3I7XG5cdFx0aWYgKCAoIG1lcmdlRGlyZWN0aW9uID8gY2VsbHMubGVuZ3RoICE9IDEgOiBjZWxscy5sZW5ndGggPCAyICkgfHwgKCBjb21tb25BbmNlc3RvciA9IHNlbGVjdGlvbi5nZXRDb21tb25BbmNlc3RvcigpICkgJiYgY29tbW9uQW5jZXN0b3IudHlwZSA9PSBDS0VESVRPUi5OT0RFX0VMRU1FTlQgJiYgY29tbW9uQW5jZXN0b3IuaXMoICd0YWJsZScgKSApXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHR2YXIgY2VsbCxcblx0XHRcdGZpcnN0Q2VsbCA9IGNlbGxzWyAwIF0sXG5cdFx0XHR0YWJsZSA9IGZpcnN0Q2VsbC5nZXRBc2NlbmRhbnQoICd0YWJsZScgKSxcblx0XHRcdG1hcCA9IENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoIHRhYmxlICksXG5cdFx0XHRtYXBIZWlnaHQgPSBtYXAubGVuZ3RoLFxuXHRcdFx0bWFwV2lkdGggPSBtYXBbIDAgXS5sZW5ndGgsXG5cdFx0XHRzdGFydFJvdyA9IGZpcnN0Q2VsbC5nZXRQYXJlbnQoKS4kLnJvd0luZGV4LFxuXHRcdFx0c3RhcnRDb2x1bW4gPSBjZWxsSW5Sb3coIG1hcCwgc3RhcnRSb3csIGZpcnN0Q2VsbCApO1xuXG5cdFx0aWYgKCBtZXJnZURpcmVjdGlvbiApIHtcblx0XHRcdHZhciB0YXJnZXRDZWxsO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHJvd3NwYW4gPSBwYXJzZUludCggZmlyc3RDZWxsLmdldEF0dHJpYnV0ZSggJ3Jvd3NwYW4nICksIDEwICkgfHwgMTtcblx0XHRcdFx0dmFyIGNvbHNwYW4gPSBwYXJzZUludCggZmlyc3RDZWxsLmdldEF0dHJpYnV0ZSggJ2NvbHNwYW4nICksIDEwICkgfHwgMTtcblxuXHRcdFx0XHR0YXJnZXRDZWxsID0gbWFwWyBtZXJnZURpcmVjdGlvbiA9PSAndXAnID8gKCBzdGFydFJvdyAtIHJvd3NwYW4gKSA6IG1lcmdlRGlyZWN0aW9uID09ICdkb3duJyA/ICggc3RhcnRSb3cgKyByb3dzcGFuICkgOiBzdGFydFJvdyBdW1xuXHRcdFx0XHRcdG1lcmdlRGlyZWN0aW9uID09ICdsZWZ0JyA/XG5cdFx0XHRcdFx0XHQoIHN0YXJ0Q29sdW1uIC0gY29sc3BhbiApIDpcblx0XHRcdFx0XHRtZXJnZURpcmVjdGlvbiA9PSAncmlnaHQnID8gKCBzdGFydENvbHVtbiArIGNvbHNwYW4gKSA6IHN0YXJ0Q29sdW1uIF07XG5cblx0XHRcdH0gY2F0Y2ggKCBlciApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAxLiBObyBjZWxsIGNvdWxkIGJlIG1lcmdlZC5cblx0XHRcdC8vIDIuIFNhbWUgY2VsbCBhY3R1YWxseS5cblx0XHRcdGlmICggIXRhcmdldENlbGwgfHwgZmlyc3RDZWxsLiQgPT0gdGFyZ2V0Q2VsbCApXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdFx0Ly8gU29ydCBpbiBtYXAgb3JkZXIgcmVnYXJkbGVzcyBvZiB0aGUgRE9NIHNlcXVlbmNlLlxuXHRcdFx0Y2VsbHNbICggbWVyZ2VEaXJlY3Rpb24gPT0gJ3VwJyB8fCBtZXJnZURpcmVjdGlvbiA9PSAnbGVmdCcgKSA/ICd1bnNoaWZ0JyA6ICdwdXNoJyBdKCBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIHRhcmdldENlbGwgKSApO1xuXHRcdH1cblxuXHRcdC8vIFN0YXJ0IGZyb20gaGVyZSBhcmUgbWVyZ2luZyB3YXkgaWdub3JhbmNlIChtZXJnZSB1cC9yaWdodCwgYmF0Y2ggbWVyZ2UpLlxuXHRcdHZhciBkb2MgPSBmaXJzdENlbGwuZ2V0RG9jdW1lbnQoKSxcblx0XHRcdGxhc3RSb3dJbmRleCA9IHN0YXJ0Um93LFxuXHRcdFx0dG90YWxSb3dTcGFuID0gMCxcblx0XHRcdHRvdGFsQ29sU3BhbiA9IDAsXG5cdFx0XHQvLyBVc2UgYSBkb2N1bWVudEZyYWdtZW50IGFzIGJ1ZmZlciB3aGVuIGFwcGVuZGluZyBjZWxsIGNvbnRlbnRzLlxuXHRcdFx0ZnJhZyA9ICFpc0RldGVjdCAmJiBuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoIGRvYyApLFxuXHRcdFx0ZGltZW5zaW9uID0gMDtcblxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGNlbGxzLmxlbmd0aDsgaSsrICkge1xuXHRcdFx0Y2VsbCA9IGNlbGxzWyBpIF07XG5cblx0XHRcdHZhciB0ciA9IGNlbGwuZ2V0UGFyZW50KCksXG5cdFx0XHRcdGNlbGxGaXJzdENoaWxkID0gY2VsbC5nZXRGaXJzdCgpLFxuXHRcdFx0XHRjb2xTcGFuID0gY2VsbC4kLmNvbFNwYW4sXG5cdFx0XHRcdHJvd1NwYW4gPSBjZWxsLiQucm93U3Bhbixcblx0XHRcdFx0cm93SW5kZXggPSB0ci4kLnJvd0luZGV4LFxuXHRcdFx0XHRjb2xJbmRleCA9IGNlbGxJblJvdyggbWFwLCByb3dJbmRleCwgY2VsbCApO1xuXG5cdFx0XHQvLyBBY2N1bXVsYXRlZCB0aGUgYWN0dWFsIHBsYWNlcyB0YWtlbiBieSBhbGwgc2VsZWN0ZWQgY2VsbHMuXG5cdFx0XHRkaW1lbnNpb24gKz0gY29sU3BhbiAqIHJvd1NwYW47XG5cdFx0XHQvLyBBY2N1bXVsYXRlZCB0aGUgbWF4aW11bSB2aXJ0dWFsIHNwYW5zIGZyb20gY29sdW1uIGFuZCByb3cuXG5cdFx0XHR0b3RhbENvbFNwYW4gPSBNYXRoLm1heCggdG90YWxDb2xTcGFuLCBjb2xJbmRleCAtIHN0YXJ0Q29sdW1uICsgY29sU3BhbiApO1xuXHRcdFx0dG90YWxSb3dTcGFuID0gTWF0aC5tYXgoIHRvdGFsUm93U3Bhbiwgcm93SW5kZXggLSBzdGFydFJvdyArIHJvd1NwYW4gKTtcblxuXHRcdFx0aWYgKCAhaXNEZXRlY3QgKSB7XG5cdFx0XHRcdC8vIFRyaW0gYWxsIGNlbGwgZmlsbGVycyBhbmQgY2hlY2sgdG8gcmVtb3ZlIGVtcHR5IGNlbGxzLlxuXHRcdFx0XHRpZiAoIHRyaW1DZWxsKCBjZWxsICksIGNlbGwuZ2V0Q2hpbGRyZW4oKS5jb3VudCgpICkge1xuXHRcdFx0XHRcdC8vIE1lcmdlIHZlcnRpY2FsbHkgY2VsbHMgYXMgdHdvIHNlcGFyYXRlZCBwYXJhZ3JhcGhzLlxuXHRcdFx0XHRcdGlmICggcm93SW5kZXggIT0gbGFzdFJvd0luZGV4ICYmIGNlbGxGaXJzdENoaWxkICYmICEoIGNlbGxGaXJzdENoaWxkLmlzQmxvY2tCb3VuZGFyeSAmJiBjZWxsRmlyc3RDaGlsZC5pc0Jsb2NrQm91bmRhcnkoIHsgYnI6IDEgfSApICkgKSB7XG5cdFx0XHRcdFx0XHR2YXIgbGFzdCA9IGZyYWcuZ2V0TGFzdCggQ0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyggdHJ1ZSApICk7XG5cdFx0XHRcdFx0XHRpZiAoIGxhc3QgJiYgISggbGFzdC5pcyAmJiBsYXN0LmlzKCAnYnInICkgKSApXG5cdFx0XHRcdFx0XHRcdGZyYWcuYXBwZW5kKCAnYnInICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Y2VsbC5tb3ZlQ2hpbGRyZW4oIGZyYWcgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpID8gY2VsbC5yZW1vdmUoKSA6IGNlbGwuc2V0SHRtbCggJycgKTtcblx0XHRcdH1cblx0XHRcdGxhc3RSb3dJbmRleCA9IHJvd0luZGV4O1xuXHRcdH1cblxuXHRcdGlmICggIWlzRGV0ZWN0ICkge1xuXHRcdFx0ZnJhZy5tb3ZlQ2hpbGRyZW4oIGZpcnN0Q2VsbCApO1xuXG5cdFx0XHRmaXJzdENlbGwuYXBwZW5kQm9ndXMoKTtcblxuXHRcdFx0aWYgKCB0b3RhbENvbFNwYW4gPj0gbWFwV2lkdGggKVxuXHRcdFx0XHRmaXJzdENlbGwucmVtb3ZlQXR0cmlidXRlKCAncm93U3BhbicgKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0Zmlyc3RDZWxsLiQucm93U3BhbiA9IHRvdGFsUm93U3BhbjtcblxuXHRcdFx0aWYgKCB0b3RhbFJvd1NwYW4gPj0gbWFwSGVpZ2h0IClcblx0XHRcdFx0Zmlyc3RDZWxsLnJlbW92ZUF0dHJpYnV0ZSggJ2NvbFNwYW4nICk7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZpcnN0Q2VsbC4kLmNvbFNwYW4gPSB0b3RhbENvbFNwYW47XG5cblx0XHRcdC8vIFN3aXAgZW1wdHkgPHRyPiBsZWZ0IGF0IHRoZSBlbmQgb2YgdGFibGUgZHVlIHRvIHRoZSBtZXJnaW5nLlxuXHRcdFx0dmFyIHRycyA9IG5ldyBDS0VESVRPUi5kb20ubm9kZUxpc3QoIHRhYmxlLiQucm93cyApLFxuXHRcdFx0XHRjb3VudCA9IHRycy5jb3VudCgpO1xuXG5cdFx0XHRmb3IgKCBpID0gY291bnQgLSAxOyBpID49IDA7IGktLSApIHtcblx0XHRcdFx0dmFyIHRhaWxUciA9IHRycy5nZXRJdGVtKCBpICk7XG5cdFx0XHRcdGlmICggIXRhaWxUci4kLmNlbGxzLmxlbmd0aCApIHtcblx0XHRcdFx0XHR0YWlsVHIucmVtb3ZlKCk7XG5cdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZmlyc3RDZWxsO1xuXHRcdH1cblx0XHQvLyBCZSBhYmxlIHRvIG1lcmdlIGNlbGxzIG9ubHkgaWYgYWN0dWFsIGRpbWVuc2lvbiBvZiBzZWxlY3RlZFxuXHRcdC8vIGNlbGxzIGVxdWFscyB0byB0aGUgY2FjdWxhdGVkIHJlY3RhbmdsZS5cblx0XHRlbHNlIHtcblx0XHRcdHJldHVybiAoIHRvdGFsUm93U3BhbiAqIHRvdGFsQ29sU3BhbiApID09IGRpbWVuc2lvbjtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB2ZXJ0aWNhbFNwbGl0Q2VsbCggc2VsZWN0aW9uLCBpc0RldGVjdCApIHtcblx0XHR2YXIgY2VsbHMgPSBnZXRTZWxlY3RlZENlbGxzKCBzZWxlY3Rpb24gKTtcblx0XHRpZiAoIGNlbGxzLmxlbmd0aCA+IDEgKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdGVsc2UgaWYgKCBpc0RldGVjdCApXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRcdHZhciBjZWxsID0gY2VsbHNbIDAgXSxcblx0XHRcdHRyID0gY2VsbC5nZXRQYXJlbnQoKSxcblx0XHRcdHRhYmxlID0gdHIuZ2V0QXNjZW5kYW50KCAndGFibGUnICksXG5cdFx0XHRtYXAgPSBDS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKCB0YWJsZSApLFxuXHRcdFx0cm93SW5kZXggPSB0ci4kLnJvd0luZGV4LFxuXHRcdFx0Y29sSW5kZXggPSBjZWxsSW5Sb3coIG1hcCwgcm93SW5kZXgsIGNlbGwgKSxcblx0XHRcdHJvd1NwYW4gPSBjZWxsLiQucm93U3Bhbixcblx0XHRcdG5ld0NlbGwsIG5ld1Jvd1NwYW4sIG5ld0NlbGxSb3dTcGFuLCBuZXdSb3dJbmRleDtcblxuXHRcdGlmICggcm93U3BhbiA+IDEgKSB7XG5cdFx0XHRuZXdSb3dTcGFuID0gTWF0aC5jZWlsKCByb3dTcGFuIC8gMiApO1xuXHRcdFx0bmV3Q2VsbFJvd1NwYW4gPSBNYXRoLmZsb29yKCByb3dTcGFuIC8gMiApO1xuXHRcdFx0bmV3Um93SW5kZXggPSByb3dJbmRleCArIG5ld1Jvd1NwYW47XG5cdFx0XHR2YXIgbmV3Q2VsbFRyID0gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KCB0YWJsZS4kLnJvd3NbIG5ld1Jvd0luZGV4IF0gKSxcblx0XHRcdFx0bmV3Q2VsbFJvdyA9IGNlbGxJblJvdyggbWFwLCBuZXdSb3dJbmRleCApLFxuXHRcdFx0XHRjYW5kaWRhdGVDZWxsO1xuXG5cdFx0XHRuZXdDZWxsID0gY2VsbC5jbG9uZSgpO1xuXG5cdFx0XHQvLyBGaWd1cmUgb3V0IHdoZXJlIHRvIGluc2VydCB0aGUgbmV3IGNlbGwgYnkgY2hlY2tpbmcgdGhlIHZpdHVhbCByb3cuXG5cdFx0XHRmb3IgKCB2YXIgYyA9IDA7IGMgPCBuZXdDZWxsUm93Lmxlbmd0aDsgYysrICkge1xuXHRcdFx0XHRjYW5kaWRhdGVDZWxsID0gbmV3Q2VsbFJvd1sgYyBdO1xuXHRcdFx0XHQvLyBDYXRjaCBmaXJzdCBjZWxsIGFjdHVhbGx5IGZvbGxvd2luZyB0aGUgY29sdW1uLlxuXHRcdFx0XHRpZiAoIGNhbmRpZGF0ZUNlbGwucGFyZW50Tm9kZSA9PSBuZXdDZWxsVHIuJCAmJiBjID4gY29sSW5kZXggKSB7XG5cdFx0XHRcdFx0bmV3Q2VsbC5pbnNlcnRCZWZvcmUoIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudCggY2FuZGlkYXRlQ2VsbCApICk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FuZGlkYXRlQ2VsbCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVGhlIGRlc3RpbmF0aW9uIHJvdyBpcyBlbXB0eSwgYXBwZW5kIGF0IHdpbGwuXG5cdFx0XHRpZiAoICFjYW5kaWRhdGVDZWxsIClcblx0XHRcdFx0bmV3Q2VsbFRyLmFwcGVuZCggbmV3Q2VsbCApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdDZWxsUm93U3BhbiA9IG5ld1Jvd1NwYW4gPSAxO1xuXG5cdFx0XHRuZXdDZWxsVHIgPSB0ci5jbG9uZSgpO1xuXHRcdFx0bmV3Q2VsbFRyLmluc2VydEFmdGVyKCB0ciApO1xuXHRcdFx0bmV3Q2VsbFRyLmFwcGVuZCggbmV3Q2VsbCA9IGNlbGwuY2xvbmUoKSApO1xuXG5cdFx0XHR2YXIgY2VsbHNJblNhbWVSb3cgPSBjZWxsSW5Sb3coIG1hcCwgcm93SW5kZXggKTtcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGNlbGxzSW5TYW1lUm93Lmxlbmd0aDsgaSsrIClcblx0XHRcdFx0Y2VsbHNJblNhbWVSb3dbIGkgXS5yb3dTcGFuKys7XG5cdFx0fVxuXG5cdFx0bmV3Q2VsbC5hcHBlbmRCb2d1cygpO1xuXG5cdFx0Y2VsbC4kLnJvd1NwYW4gPSBuZXdSb3dTcGFuO1xuXHRcdG5ld0NlbGwuJC5yb3dTcGFuID0gbmV3Q2VsbFJvd1NwYW47XG5cdFx0aWYgKCBuZXdSb3dTcGFuID09IDEgKVxuXHRcdFx0Y2VsbC5yZW1vdmVBdHRyaWJ1dGUoICdyb3dTcGFuJyApO1xuXHRcdGlmICggbmV3Q2VsbFJvd1NwYW4gPT0gMSApXG5cdFx0XHRuZXdDZWxsLnJlbW92ZUF0dHJpYnV0ZSggJ3Jvd1NwYW4nICk7XG5cblx0XHRyZXR1cm4gbmV3Q2VsbDtcblx0fVxuXG5cdGZ1bmN0aW9uIGhvcml6b250YWxTcGxpdENlbGwoIHNlbGVjdGlvbiwgaXNEZXRlY3QgKSB7XG5cdFx0dmFyIGNlbGxzID0gZ2V0U2VsZWN0ZWRDZWxscyggc2VsZWN0aW9uICk7XG5cdFx0aWYgKCBjZWxscy5sZW5ndGggPiAxIClcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRlbHNlIGlmICggaXNEZXRlY3QgKVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0XHR2YXIgY2VsbCA9IGNlbGxzWyAwIF0sXG5cdFx0XHR0ciA9IGNlbGwuZ2V0UGFyZW50KCksXG5cdFx0XHR0YWJsZSA9IHRyLmdldEFzY2VuZGFudCggJ3RhYmxlJyApLFxuXHRcdFx0bWFwID0gQ0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcCggdGFibGUgKSxcblx0XHRcdHJvd0luZGV4ID0gdHIuJC5yb3dJbmRleCxcblx0XHRcdGNvbEluZGV4ID0gY2VsbEluUm93KCBtYXAsIHJvd0luZGV4LCBjZWxsICksXG5cdFx0XHRjb2xTcGFuID0gY2VsbC4kLmNvbFNwYW4sXG5cdFx0XHRuZXdDZWxsLCBuZXdDb2xTcGFuLCBuZXdDZWxsQ29sU3BhbjtcblxuXHRcdGlmICggY29sU3BhbiA+IDEgKSB7XG5cdFx0XHRuZXdDb2xTcGFuID0gTWF0aC5jZWlsKCBjb2xTcGFuIC8gMiApO1xuXHRcdFx0bmV3Q2VsbENvbFNwYW4gPSBNYXRoLmZsb29yKCBjb2xTcGFuIC8gMiApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXdDZWxsQ29sU3BhbiA9IG5ld0NvbFNwYW4gPSAxO1xuXHRcdFx0dmFyIGNlbGxzSW5TYW1lQ29sID0gY2VsbEluQ29sKCBtYXAsIGNvbEluZGV4ICk7XG5cdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBjZWxsc0luU2FtZUNvbC5sZW5ndGg7IGkrKyApXG5cdFx0XHRcdGNlbGxzSW5TYW1lQ29sWyBpIF0uY29sU3BhbisrO1xuXHRcdH1cblx0XHRuZXdDZWxsID0gY2VsbC5jbG9uZSgpO1xuXHRcdG5ld0NlbGwuaW5zZXJ0QWZ0ZXIoIGNlbGwgKTtcblx0XHRuZXdDZWxsLmFwcGVuZEJvZ3VzKCk7XG5cblx0XHRjZWxsLiQuY29sU3BhbiA9IG5ld0NvbFNwYW47XG5cdFx0bmV3Q2VsbC4kLmNvbFNwYW4gPSBuZXdDZWxsQ29sU3Bhbjtcblx0XHRpZiAoIG5ld0NvbFNwYW4gPT0gMSApXG5cdFx0XHRjZWxsLnJlbW92ZUF0dHJpYnV0ZSggJ2NvbFNwYW4nICk7XG5cdFx0aWYgKCBuZXdDZWxsQ29sU3BhbiA9PSAxIClcblx0XHRcdG5ld0NlbGwucmVtb3ZlQXR0cmlidXRlKCAnY29sU3BhbicgKTtcblxuXHRcdHJldHVybiBuZXdDZWxsO1xuXHR9XG5cblx0Q0tFRElUT1IucGx1Z2lucy5hZGQoJ2FlX3RhYmxldG9vbHMnLCB7XG5cdFx0aW5pdDogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdHZhciBsYW5nID0gZWRpdG9yLmxhbmcudGFibGU7XG5cblx0XHRcdGZ1bmN0aW9uIGNyZWF0ZURlZiggZGVmICkge1xuXHRcdFx0XHRyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKCBkZWYgfHwge30sIHtcblx0XHRcdFx0XHRjb250ZXh0U2Vuc2l0aXZlOiAxLFxuXHRcdFx0XHRcdHJlZnJlc2g6IGZ1bmN0aW9uKCBlZGl0b3IsIHBhdGggKSB7XG5cdFx0XHRcdFx0XHR0aGlzLnNldFN0YXRlKCBwYXRoLmNvbnRhaW5zKCB7IHRkOiAxLCB0aDogMSB9LCAxICkgPyBDS0VESVRPUi5UUklTVEFURV9PRkYgOiBDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdFx0ZnVuY3Rpb24gYWRkQ21kKCBuYW1lLCBkZWYgKSB7XG5cdFx0XHRcdHZhciBjbWQgPSBlZGl0b3IuZ2V0Q29tbWFuZChuYW1lKTtcblxuXHRcdFx0XHRpZiAoY21kKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y21kID0gZWRpdG9yLmFkZENvbW1hbmQobmFtZSwgZGVmKTtcblx0XHRcdFx0ZWRpdG9yLmFkZEZlYXR1cmUoY21kKTtcblx0XHRcdH1cblxuXHRcdFx0YWRkQ21kKCAncm93RGVsZXRlJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKCBkZWxldGVSb3dzKCBzZWxlY3Rpb24gKSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAncm93SW5zZXJ0QmVmb3JlJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGluc2VydFJvdyggc2VsZWN0aW9uLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdyb3dJbnNlcnRBZnRlcicsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0YWJsZScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRpbnNlcnRSb3coIHNlbGVjdGlvbiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAnY29sdW1uRGVsZXRlJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdHZhciBlbGVtZW50ID0gZGVsZXRlQ29sdW1ucyggc2VsZWN0aW9uICk7XG5cdFx0XHRcdFx0ZWxlbWVudCAmJiBwbGFjZUN1cnNvckluQ2VsbCggZWxlbWVudCwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAnY29sdW1uSW5zZXJ0QmVmb3JlJywgY3JlYXRlRGVmKCB7XG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RhYmxlJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHR2YXIgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGluc2VydENvbHVtbiggc2VsZWN0aW9uLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjb2x1bW5JbnNlcnRBZnRlcicsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0YWJsZScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRpbnNlcnRDb2x1bW4oIHNlbGVjdGlvbiApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAnY2VsbERlbGV0ZScsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRyZXF1aXJlZENvbnRlbnQ6ICd0YWJsZScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0dmFyIHNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRkZWxldGVDZWxscyggc2VsZWN0aW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjZWxsTWVyZ2UnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0YWxsb3dlZENvbnRlbnQ6ICd0ZFtjb2xzcGFuLHJvd3NwYW5dJyxcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGRbY29sc3Bhbixyb3dzcGFuXScsXG5cdFx0XHRcdGV4ZWM6IGZ1bmN0aW9uKCBlZGl0b3IgKSB7XG5cdFx0XHRcdFx0cGxhY2VDdXJzb3JJbkNlbGwoIG1lcmdlQ2VsbHMoIGVkaXRvci5nZXRTZWxlY3Rpb24oKSApLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjZWxsTWVyZ2VSaWdodCcsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW2NvbHNwYW5dJyxcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGRbY29sc3Bhbl0nLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKCBtZXJnZUNlbGxzKCBlZGl0b3IuZ2V0U2VsZWN0aW9uKCksICdyaWdodCcgKSwgdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblxuXHRcdFx0YWRkQ21kKCAnY2VsbE1lcmdlRG93bicsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW3Jvd3NwYW5dJyxcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGRbcm93c3Bhbl0nLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKCBtZXJnZUNlbGxzKCBlZGl0b3IuZ2V0U2VsZWN0aW9uKCksICdkb3duJyApLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjZWxsVmVydGljYWxTcGxpdCcsIGNyZWF0ZURlZigge1xuXHRcdFx0XHRhbGxvd2VkQ29udGVudDogJ3RkW3Jvd3NwYW5dJyxcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGRbcm93c3Bhbl0nLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHBsYWNlQ3Vyc29ySW5DZWxsKCB2ZXJ0aWNhbFNwbGl0Q2VsbCggZWRpdG9yLmdldFNlbGVjdGlvbigpICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NlbGxIb3Jpem9udGFsU3BsaXQnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0YWxsb3dlZENvbnRlbnQ6ICd0ZFtjb2xzcGFuXScsXG5cdFx0XHRcdHJlcXVpcmVkQ29udGVudDogJ3RkW2NvbHNwYW5dJyxcblx0XHRcdFx0ZXhlYzogZnVuY3Rpb24oIGVkaXRvciApIHtcblx0XHRcdFx0XHRwbGFjZUN1cnNvckluQ2VsbCggaG9yaXpvbnRhbFNwbGl0Q2VsbCggZWRpdG9yLmdldFNlbGVjdGlvbigpICkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApICk7XG5cblx0XHRcdGFkZENtZCggJ2NlbGxJbnNlcnRCZWZvcmUnLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0aW5zZXJ0Q2VsbCggc2VsZWN0aW9uLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXG5cdFx0XHRhZGRDbWQoICdjZWxsSW5zZXJ0QWZ0ZXInLCBjcmVhdGVEZWYoIHtcblx0XHRcdFx0cmVxdWlyZWRDb250ZW50OiAndGFibGUnLFxuXHRcdFx0XHRleGVjOiBmdW5jdGlvbiggZWRpdG9yICkge1xuXHRcdFx0XHRcdHZhciBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG5cdFx0XHRcdFx0aW5zZXJ0Q2VsbCggc2VsZWN0aW9uICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKSApO1xuXHRcdH0sXG5cblx0XHRnZXRTZWxlY3RlZENlbGxzOiBnZXRTZWxlY3RlZENlbGxzXG5cblx0fSk7XG59ICkoKTtcblxuLyoqXG4gKiBDcmVhdGUgYSB0d28tZGltZW5zaW9uIGFycmF5IHRoYXQgcmVmbGVjdHMgdGhlIGFjdHVhbCBsYXlvdXQgb2YgdGFibGUgY2VsbHMsXG4gKiB3aXRoIGNlbGwgc3BhbnMsIHdpdGggbWFwcGluZ3MgdG8gdGhlIG9yaWdpbmFsIHRkIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Q0tFRElUT1IuZG9tLmVsZW1lbnR9IHRhYmxlXG4gKiBAbWVtYmVyIENLRURJVE9SLnRvb2xzXG4gKi9cbkNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAgPSBmdW5jdGlvbiggdGFibGUgKSB7XG5cdHZhciBhUm93cyA9IHRhYmxlLiQucm93cztcblxuXHQvLyBSb3cgYW5kIENvbHVtbiBjb3VudGVycy5cblx0dmFyIHIgPSAtMTtcblxuXHR2YXIgYU1hcCA9IFtdO1xuXG5cdGZvciAoIHZhciBpID0gMDsgaSA8IGFSb3dzLmxlbmd0aDsgaSsrICkge1xuXHRcdHIrKztcblx0XHQhYU1hcFsgciBdICYmICggYU1hcFsgciBdID0gW10gKTtcblxuXHRcdHZhciBjID0gLTE7XG5cblx0XHRmb3IgKCB2YXIgaiA9IDA7IGogPCBhUm93c1sgaSBdLmNlbGxzLmxlbmd0aDsgaisrICkge1xuXHRcdFx0dmFyIG9DZWxsID0gYVJvd3NbIGkgXS5jZWxsc1sgaiBdO1xuXG5cdFx0XHRjKys7XG5cdFx0XHR3aGlsZSAoIGFNYXBbIHIgXVsgYyBdIClcblx0XHRcdFx0YysrO1xuXG5cdFx0XHR2YXIgaUNvbFNwYW4gPSBpc05hTiggb0NlbGwuY29sU3BhbiApID8gMSA6IG9DZWxsLmNvbFNwYW47XG5cdFx0XHR2YXIgaVJvd1NwYW4gPSBpc05hTiggb0NlbGwucm93U3BhbiApID8gMSA6IG9DZWxsLnJvd1NwYW47XG5cblx0XHRcdGZvciAoIHZhciBycyA9IDA7IHJzIDwgaVJvd1NwYW47IHJzKysgKSB7XG5cdFx0XHRcdGlmICggIWFNYXBbIHIgKyBycyBdIClcblx0XHRcdFx0XHRhTWFwWyByICsgcnMgXSA9IFtdO1xuXG5cdFx0XHRcdGZvciAoIHZhciBjcyA9IDA7IGNzIDwgaUNvbFNwYW47IGNzKysgKSB7XG5cdFx0XHRcdFx0YU1hcFsgciArIHJzIF1bIGMgKyBjcyBdID0gYVJvd3NbIGkgXS5jZWxsc1sgaiBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGMgKz0gaUNvbFNwYW4gLSAxO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gYU1hcDtcbn07XG4iLCJ2YXIgdGFibGVTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2FlLWFycm93LWJveCBhZS1hcnJvdy1ib3gtYm90dG9tJztcbn07XG5cbmNvbnN0IFNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlcyA9IHtcbiAgICB0YWJsZTogdGFibGVTZWxlY3Rpb25HZXRBcnJvd0JveENsYXNzZXNcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdGlvbkdldEFycm93Qm94Q2xhc3NlczsiLCJpbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuLy8gRGVmYXVsdCBndXR0ZXIgdmFsdWUgZm9yIHRvb2xiYXIgcG9zaXRpb25pbmdcbnZhciBERUZBVUxUX0dVVFRFUiA9IHtcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMFxufTtcblxuLyoqXG4gKiBDZW50ZXJzIGEgVG9vbGJhciBhY2NvcmRpbmcgdG8gZ2l2ZW4gcmVjdGFuZ2xlXG4gKlxuICogQG1ldGhvZCBjZW50ZXJUb29sYmFyXG4gKiBAcGFyYW0ge09iamVjdH0gdG9vbGJhciBUaGUgdG9vbGJhciB0byBiZSBjZW50ZXJlZFxuICogQHBhcmFtIHtPYmplY3R9IHJlY3QgVGhlIHJlY3RhbmdsZSBhY2NvcmRpbmcgdG8gd2hpY2ggdGhlIFRvb2xiYXIgd2lsbCBiZSBjZW50ZXJlZFxuICovXG52YXIgY2VudGVyVG9vbGJhciA9IGZ1bmN0aW9uKHRvb2xiYXIsIHJlY3QpIHtcbiAgICB2YXIgdG9vbGJhck5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0b29sYmFyKTtcblxuICAgIHZhciBoYWxmTm9kZVdpZHRoID0gdG9vbGJhck5vZGUub2Zmc2V0V2lkdGggLyAyO1xuICAgIHZhciBzY3JvbGxQb3NpdGlvbiA9IG5ldyBDS0VESVRPUi5kb20ud2luZG93KHdpbmRvdykuZ2V0U2Nyb2xsUG9zaXRpb24oKTtcblxuICAgIHZhciBndXR0ZXIgPSB0b29sYmFyLnByb3BzLmd1dHRlciB8fCBERUZBVUxUX0dVVFRFUjtcblxuICAgIHZhciB3aWRnZXRYWSA9IHRvb2xiYXIuZ2V0V2lkZ2V0WFlQb2ludChyZWN0LmxlZnQgKyByZWN0LndpZHRoIC8gMiAtIHNjcm9sbFBvc2l0aW9uLngsIHJlY3QudG9wICsgc2Nyb2xsUG9zaXRpb24ueSwgQ0tFRElUT1IuU0VMRUNUSU9OX0JPVFRPTV9UT19UT1ApO1xuXG4gICAgdG9vbGJhci5tb3ZlVG9Qb2ludChbXG4gICAgICAgIHdpZGdldFhZWzBdLFxuICAgICAgICB3aWRnZXRYWVsxXVxuICAgIF0sIFtcbiAgICAgICAgcmVjdC5sZWZ0ICsgcmVjdC53aWR0aCAvIDIgLSBoYWxmTm9kZVdpZHRoIC0gc2Nyb2xsUG9zaXRpb24ueCxcbiAgICAgICAgcmVjdC50b3AgLSB0b29sYmFyTm9kZS5vZmZzZXRIZWlnaHQgKyBzY3JvbGxQb3NpdGlvbi55IC0gZ3V0dGVyLnRvcFxuICAgIF0pO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwb3NpdGlvbiBvZiBhIHRvb2xiYXIgYWNjb3JkaW5nIHRvIHRoZSBwb3NpdGlvbiBvZiB0aGUgc2VsZWN0ZWQgaW1hZ2VcbiAqXG4gKiBAbWV0aG9kIGltYWdlU2VsZWN0aW9uU2V0UG9zaXRpb25cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXlsb2FkIFBheWxvYWQsIHNob3VsZCBjb250YWluIHRoZSBzZWxlY3Rpb24gZGF0YSBmb3IgcmV0cmlldmluZyB0aGVcbiAqIGNsaWVudCByZWN0YW5nbGUgb2YgdGhlIHNlbGVjdGVkIGltYWdlXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlLCBpbiBhbGwgY2FzZXNcbiAqL1xudmFyIGltYWdlU2VsZWN0aW9uU2V0UG9zaXRpb24gPSBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgY2VudGVyVG9vbGJhcih0aGlzLCBwYXlsb2FkLnNlbGVjdGlvbkRhdGEuZWxlbWVudC5nZXRDbGllbnRSZWN0KCkpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIGEgdG9vbGJhciBhY2NvcmRpbmcgdG8gdGhlIHBvc2l0aW9uIG9mIHRoZSBzZWxlY3RlZCBpbWFnZVxuICpcbiAqIEBtZXRob2QgdGFibGVTZWxlY3Rpb25TZXRQb3NpdGlvblxuICogQHBhcmFtIHtPYmplY3R9IHBheWxvYWQgT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgc2VsZWN0aW9uIGRhdGEgZm9yIHJldHJpZXZpbmcgdGhlXG4gKiBjbGllbnQgcmVjdGFuZ2xlIG9mIHRoZSBzZWxlY3RlZCB0YWJsZVxuICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSwgaW4gYWxsIGNhc2VzXG4gKi9cbnZhciB0YWJsZVNlbGVjdGlvblNldFBvc2l0aW9uID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIHZhciBuYXRpdmVFZGl0b3IgPSBwYXlsb2FkLmVkaXRvci5nZXQoJ25hdGl2ZUVkaXRvcicpO1xuXG4gICAgdmFyIHRhYmxlID0gbmV3IENLRURJVE9SLlRhYmxlKG5hdGl2ZUVkaXRvcikuZ2V0RnJvbVNlbGVjdGlvbigpO1xuXG4gICAgY2VudGVyVG9vbGJhcih0aGlzLCB0YWJsZS5nZXRDbGllbnRSZWN0KCkpO1xuXG4gICAgcmV0dXJuIHRydWU7XG59O1xuXG5jb25zdCBTZWxlY3Rpb25TZXRQb3NpdGlvbiA9IHtcbiAgICBpbWFnZTogaW1hZ2VTZWxlY3Rpb25TZXRQb3NpdGlvbixcbiAgICB0YWJsZTogdGFibGVTZWxlY3Rpb25TZXRQb3NpdGlvblxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uU2V0UG9zaXRpb247IiwidmFyIF9pc1JhbmdlQXRFbGVtZW50RW5kID0gZnVuY3Rpb24ocmFuZ2UsIGVsZW1lbnQpIHtcbiAgICAvLyBGaW5kaW5nIGlmIGEgcmFuZ2UgaXMgYXQgdGhlIGVuZCBvZiBhbiBlbGVtZW50IGlzIHNvbWV3aGF0IHRyaWNreSBkdWUgdG8gaG93IENLRWRpdG9yIGhhbmRsZXNcbiAgICAvLyByYW5nZXMuIEl0IG1pZ2h0IGRlcGVuZCBvbiB3ZXRoZXIgYSBzb3VyY2Ugbm9kZSBpbnNpZGUgdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQgb3Igbm90LiBGb3Igbm93LFxuICAgIC8vIHdlIG5lZWQgdG8gY292ZXIgdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgICAvL1xuICAgIC8vIC0gVGhlIHRleHQgbGVuZ3RoIG9mIHRoZSBlbGVtZW50IGlzIHRoZSBzYW1lIGFzIHRoZSBlbmRPZmZzZXQgb2YgdGhlIHJhbmdlXG4gICAgLy8gLSBCb3RoIHN0YXJ0IGFuZCBlbmQgY29udGFpbmVycyBtYXRjaCB0aGUgZWxlbWVudCBhbmQgdGhlIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cyBhcmUgMVxuXG4gICAgcmV0dXJuIGVsZW1lbnQuZ2V0VGV4dCgpLmxlbmd0aCA9PT0gcmFuZ2UuZW5kT2Zmc2V0IHx8XG4gICAgICAgIChcbiAgICAgICAgICAgIGVsZW1lbnQuZXF1YWxzKHJhbmdlLnN0YXJ0Q29udGFpbmVyKSAmJlxuICAgICAgICAgICAgZWxlbWVudC5lcXVhbHMocmFuZ2UuZW5kQ29udGFpbmVyKSAmJlxuICAgICAgICAgICAgcmFuZ2Uuc3RhcnRPZmZzZXQgPT09IHJhbmdlLmVuZE9mZnNldCAmJlxuICAgICAgICAgICAgcmFuZ2UuZW5kT2Zmc2V0ID09PSAxXG4gICAgICAgICk7XG59O1xuXG52YXIgZW1iZWRTZWxlY3Rpb25UZXN0ID0gZnVuY3Rpb24ocGF5bG9hZCkge1xuICAgIHZhciBzZWxlY3Rpb25EYXRhID0gcGF5bG9hZC5kYXRhLnNlbGVjdGlvbkRhdGE7XG5cbiAgICByZXR1cm4gISEoXG4gICAgICAgIHNlbGVjdGlvbkRhdGEuZWxlbWVudCAmJlxuICAgICAgICBzZWxlY3Rpb25EYXRhLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXdpZGdldCcpID09PSAnYWVfZW1iZWQnXG4gICAgKTtcbn07XG5cbnZhciBsaW5rU2VsZWN0aW9uVGVzdCA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICB2YXIgbmF0aXZlRWRpdG9yID0gcGF5bG9hZC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcbiAgICB2YXIgcmFuZ2UgPSBuYXRpdmVFZGl0b3IuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07XG5cbiAgICB2YXIgZWxlbWVudDtcblxuICAgIHJldHVybiAhIShcbiAgICAgICAgbmF0aXZlRWRpdG9yLmlzU2VsZWN0aW9uRW1wdHkoKSAmJlxuICAgICAgICAoZWxlbWVudCA9IChuZXcgQ0tFRElUT1IuTGluayhuYXRpdmVFZGl0b3IpKS5nZXRGcm9tU2VsZWN0aW9uKCkpICYmXG4gICAgICAgIGVsZW1lbnQuZ2V0VGV4dCgpLmxlbmd0aCAhPT0gcmFuZ2UuZW5kT2Zmc2V0ICYmXG4gICAgICAgICFlbGVtZW50LmlzUmVhZE9ubHkoKSAmJlxuICAgICAgICAhX2lzUmFuZ2VBdEVsZW1lbnRFbmQocmFuZ2UsIGVsZW1lbnQpXG4gICAgKTtcbn07XG5cbnZhciBpbWFnZVNlbGVjdGlvblRlc3QgPSBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgdmFyIHNlbGVjdGlvbkRhdGEgPSBwYXlsb2FkLmRhdGEuc2VsZWN0aW9uRGF0YTtcblxuICAgIHJldHVybiAhIShcbiAgICAgICAgc2VsZWN0aW9uRGF0YS5lbGVtZW50ICYmXG4gICAgICAgIHNlbGVjdGlvbkRhdGEuZWxlbWVudC5nZXROYW1lKCkgPT09ICdpbWcnICYmXG4gICAgICAgICFzZWxlY3Rpb25EYXRhLmVsZW1lbnQuaXNSZWFkT25seSgpXG4gICAgKTtcbn07XG5cbnZhciB0ZXh0U2VsZWN0aW9uVGVzdCA9IGZ1bmN0aW9uKHBheWxvYWQpIHtcbiAgICB2YXIgbmF0aXZlRWRpdG9yID0gcGF5bG9hZC5lZGl0b3IuZ2V0KCduYXRpdmVFZGl0b3InKTtcblxuICAgIHZhciBzZWxlY3Rpb25FbXB0eSA9IG5hdGl2ZUVkaXRvci5pc1NlbGVjdGlvbkVtcHR5KCk7XG5cbiAgICB2YXIgc2VsZWN0aW9uRGF0YSA9IHBheWxvYWQuZGF0YS5zZWxlY3Rpb25EYXRhO1xuXG4gICAgcmV0dXJuICEhKFxuICAgICAgICAhc2VsZWN0aW9uRGF0YS5lbGVtZW50ICYmXG4gICAgICAgIHNlbGVjdGlvbkRhdGEucmVnaW9uICYmXG4gICAgICAgICFzZWxlY3Rpb25FbXB0eSAmJlxuICAgICAgICAhbmF0aXZlRWRpdG9yLmdldFNlbGVjdGlvbigpLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpXG4gICAgKTtcbn07XG5cbnZhciB0YWJsZVNlbGVjdGlvblRlc3QgPSBmdW5jdGlvbihwYXlsb2FkKSB7XG4gICAgdmFyIG5hdGl2ZUVkaXRvciA9IHBheWxvYWQuZWRpdG9yLmdldCgnbmF0aXZlRWRpdG9yJyk7XG5cbiAgICB2YXIgdGFibGUgPSBuZXcgQ0tFRElUT1IuVGFibGUobmF0aXZlRWRpdG9yKTtcbiAgICB2YXIgZWxlbWVudCA9IHRhYmxlLmdldEZyb21TZWxlY3Rpb24oKTtcblxuICAgIHJldHVybiAhIShlbGVtZW50ICYmIHRhYmxlLmlzRWRpdGFibGUoZWxlbWVudCkpO1xufTtcblxuY29uc3QgU2VsZWN0aW9uVGVzdCA9IHtcbiAgICBlbWJlZDogZW1iZWRTZWxlY3Rpb25UZXN0LFxuICAgIGltYWdlOiBpbWFnZVNlbGVjdGlvblRlc3QsXG4gICAgbGluazogbGlua1NlbGVjdGlvblRlc3QsXG4gICAgdGFibGU6IHRhYmxlU2VsZWN0aW9uVGVzdCxcbiAgICB0ZXh0OiB0ZXh0U2VsZWN0aW9uVGVzdFxufTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uVGVzdDsiLCJpbXBvcnQgU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzIGZyb20gJy4vc2VsZWN0aW9uLWFycm93Ym94LmpzJztcbmltcG9ydCBTZWxlY3Rpb25TZXRQb3NpdGlvbiBmcm9tICcuL3NlbGVjdGlvbi1wb3NpdGlvbi5qcyc7XG5pbXBvcnQgU2VsZWN0aW9uVGVzdCBmcm9tICcuL3NlbGVjdGlvbi10ZXN0LmpzJztcblxuY29uc3QgU2VsZWN0aW9ucyA9IFt7XG4gICAgbmFtZTogJ2VtYmVkJyxcbiAgICBidXR0b25zOiBbJ2VtYmVkUmVtb3ZlJywgJ2VtYmVkRWRpdCddLFxuICAgIHRlc3Q6IFNlbGVjdGlvblRlc3QuZW1iZWRcbn0sIHtcbiAgICBuYW1lOiAnbGluaycsXG4gICAgYnV0dG9uczogWydsaW5rRWRpdCddLFxuICAgIHRlc3Q6IFNlbGVjdGlvblRlc3QubGlua1xufSwge1xuICAgIG5hbWU6ICdpbWFnZScsXG4gICAgYnV0dG9uczogWydpbWFnZUxlZnQnLCAnaW1hZ2VDZW50ZXInLCAnaW1hZ2VSaWdodCddLFxuICAgIHNldFBvc2l0aW9uOiBTZWxlY3Rpb25TZXRQb3NpdGlvbi5pbWFnZSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0LmltYWdlXG59LCB7XG4gICAgbmFtZTogJ3RleHQnLFxuICAgIGJ1dHRvbnM6IFsnc3R5bGVzJywgJ2JvbGQnLCAnaXRhbGljJywgJ3VuZGVybGluZScsICdsaW5rJywgJ3R3aXR0ZXInXSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0LnRleHRcbn0sIHtcbiAgICBuYW1lOiAndGFibGUnLFxuICAgIGJ1dHRvbnM6IFsndGFibGVIZWFkaW5nJywgJ3RhYmxlUm93JywgJ3RhYmxlQ29sdW1uJywgJ3RhYmxlQ2VsbCcsICd0YWJsZVJlbW92ZSddLFxuICAgIGdldEFycm93Qm94Q2xhc3NlczogU2VsZWN0aW9uR2V0QXJyb3dCb3hDbGFzc2VzLnRhYmxlLFxuICAgIHNldFBvc2l0aW9uOiBTZWxlY3Rpb25TZXRQb3NpdGlvbi50YWJsZSxcbiAgICB0ZXN0OiBTZWxlY3Rpb25UZXN0LnRhYmxlXG59XTtcblxuZXhwb3J0IGRlZmF1bHQgU2VsZWN0aW9uczsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfXzsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfcmVhY3RfZG9tX187Il0sInNvdXJjZVJvb3QiOiIifQ==